var dA=Object.defineProperty;var pA=(t,e,n)=>e in t?dA(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Ye=(t,e,n)=>pA(t,typeof e!="symbol"?e+"":e,n);function gA(t,e){for(var n=0;n<e.length;n++){const i=e[n];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in t)){const s=Object.getOwnPropertyDescriptor(i,r);s&&Object.defineProperty(t,r,s.get?s:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();var o0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function mA(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function vA(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function i(){return this instanceof i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(i){var r=Object.getOwnPropertyDescriptor(t,i);Object.defineProperty(n,i,r.get?r:{enumerable:!0,get:function(){return t[i]}})}),n}var Fx={exports:{}},Rg={},jx={exports:{}},ft={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ff=Symbol.for("react.element"),yA=Symbol.for("react.portal"),_A=Symbol.for("react.fragment"),wA=Symbol.for("react.strict_mode"),bA=Symbol.for("react.profiler"),xA=Symbol.for("react.provider"),SA=Symbol.for("react.context"),NA=Symbol.for("react.forward_ref"),CA=Symbol.for("react.suspense"),kA=Symbol.for("react.memo"),AA=Symbol.for("react.lazy"),R5=Symbol.iterator;function EA(t){return t===null||typeof t!="object"?null:(t=R5&&t[R5]||t["@@iterator"],typeof t=="function"?t:null)}var Bx={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},zx=Object.assign,Ux={};function Fc(t,e,n){this.props=t,this.context=e,this.refs=Ux,this.updater=n||Bx}Fc.prototype.isReactComponent={};Fc.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Fc.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Hx(){}Hx.prototype=Fc.prototype;function Zv(t,e,n){this.props=t,this.context=e,this.refs=Ux,this.updater=n||Bx}var e2=Zv.prototype=new Hx;e2.constructor=Zv;zx(e2,Fc.prototype);e2.isPureReactComponent=!0;var O5=Array.isArray,Wx=Object.prototype.hasOwnProperty,t2={current:null},qx={key:!0,ref:!0,__self:!0,__source:!0};function Vx(t,e,n){var i,r={},s=null,o=null;if(e!=null)for(i in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)Wx.call(e,i)&&!qx.hasOwnProperty(i)&&(r[i]=e[i]);var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];r.children=l}if(t&&t.defaultProps)for(i in a=t.defaultProps,a)r[i]===void 0&&(r[i]=a[i]);return{$$typeof:ff,type:t,key:s,ref:o,props:r,_owner:t2.current}}function PA(t,e){return{$$typeof:ff,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function n2(t){return typeof t=="object"&&t!==null&&t.$$typeof===ff}function IA(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var M5=/\/+/g;function a0(t,e){return typeof t=="object"&&t!==null&&t.key!=null?IA(""+t.key):e.toString(36)}function op(t,e,n,i,r){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case ff:case yA:o=!0}}if(o)return o=t,r=r(o),t=i===""?"."+a0(o,0):i,O5(r)?(n="",t!=null&&(n=t.replace(M5,"$&/")+"/"),op(r,e,n,"",function(c){return c})):r!=null&&(n2(r)&&(r=PA(r,n+(!r.key||o&&o.key===r.key?"":(""+r.key).replace(M5,"$&/")+"/")+t)),e.push(r)),1;if(o=0,i=i===""?".":i+":",O5(t))for(var a=0;a<t.length;a++){s=t[a];var l=i+a0(s,a);o+=op(s,e,n,l,r)}else if(l=EA(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=i+a0(s,a++),o+=op(s,e,n,l,r);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function bd(t,e,n){if(t==null)return t;var i=[],r=0;return op(t,i,"","",function(s){return e.call(n,s,r++)}),i}function LA(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var mi={current:null},ap={transition:null},TA={ReactCurrentDispatcher:mi,ReactCurrentBatchConfig:ap,ReactCurrentOwner:t2};function $x(){throw Error("act(...) is not supported in production builds of React.")}ft.Children={map:bd,forEach:function(t,e,n){bd(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return bd(t,function(){e++}),e},toArray:function(t){return bd(t,function(e){return e})||[]},only:function(t){if(!n2(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ft.Component=Fc;ft.Fragment=_A;ft.Profiler=bA;ft.PureComponent=Zv;ft.StrictMode=wA;ft.Suspense=CA;ft.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=TA;ft.act=$x;ft.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var i=zx({},t.props),r=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=t2.current),e.key!==void 0&&(r=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)Wx.call(e,l)&&!qx.hasOwnProperty(l)&&(i[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];i.children=a}return{$$typeof:ff,type:t.type,key:r,ref:s,props:i,_owner:o}};ft.createContext=function(t){return t={$$typeof:SA,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:xA,_context:t},t.Consumer=t};ft.createElement=Vx;ft.createFactory=function(t){var e=Vx.bind(null,t);return e.type=t,e};ft.createRef=function(){return{current:null}};ft.forwardRef=function(t){return{$$typeof:NA,render:t}};ft.isValidElement=n2;ft.lazy=function(t){return{$$typeof:AA,_payload:{_status:-1,_result:t},_init:LA}};ft.memo=function(t,e){return{$$typeof:kA,type:t,compare:e===void 0?null:e}};ft.startTransition=function(t){var e=ap.transition;ap.transition={};try{t()}finally{ap.transition=e}};ft.unstable_act=$x;ft.useCallback=function(t,e){return mi.current.useCallback(t,e)};ft.useContext=function(t){return mi.current.useContext(t)};ft.useDebugValue=function(){};ft.useDeferredValue=function(t){return mi.current.useDeferredValue(t)};ft.useEffect=function(t,e){return mi.current.useEffect(t,e)};ft.useId=function(){return mi.current.useId()};ft.useImperativeHandle=function(t,e,n){return mi.current.useImperativeHandle(t,e,n)};ft.useInsertionEffect=function(t,e){return mi.current.useInsertionEffect(t,e)};ft.useLayoutEffect=function(t,e){return mi.current.useLayoutEffect(t,e)};ft.useMemo=function(t,e){return mi.current.useMemo(t,e)};ft.useReducer=function(t,e,n){return mi.current.useReducer(t,e,n)};ft.useRef=function(t){return mi.current.useRef(t)};ft.useState=function(t){return mi.current.useState(t)};ft.useSyncExternalStore=function(t,e,n){return mi.current.useSyncExternalStore(t,e,n)};ft.useTransition=function(){return mi.current.useTransition()};ft.version="18.3.1";jx.exports=ft;var we=jx.exports;const Og=mA(we),RA=gA({__proto__:null,default:Og},[we]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OA=we,MA=Symbol.for("react.element"),DA=Symbol.for("react.fragment"),FA=Object.prototype.hasOwnProperty,jA=OA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,BA={key:!0,ref:!0,__self:!0,__source:!0};function Gx(t,e,n){var i,r={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(i in e)FA.call(e,i)&&!BA.hasOwnProperty(i)&&(r[i]=e[i]);if(t&&t.defaultProps)for(i in e=t.defaultProps,e)r[i]===void 0&&(r[i]=e[i]);return{$$typeof:MA,type:t,key:s,ref:o,props:r,_owner:jA.current}}Rg.Fragment=DA;Rg.jsx=Gx;Rg.jsxs=Gx;Fx.exports=Rg;var ee=Fx.exports,m1={},Yx={exports:{}},$i={},Kx={exports:{}},Xx={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(B,G){var ie=B.length;B.push(G);e:for(;0<ie;){var ue=ie-1>>>1,L=B[ue];if(0<r(L,G))B[ue]=G,B[ie]=L,ie=ue;else break e}}function n(B){return B.length===0?null:B[0]}function i(B){if(B.length===0)return null;var G=B[0],ie=B.pop();if(ie!==G){B[0]=ie;e:for(var ue=0,L=B.length,q=L>>>1;ue<q;){var Y=2*(ue+1)-1,J=B[Y],j=Y+1,ne=B[j];if(0>r(J,ie))j<L&&0>r(ne,J)?(B[ue]=ne,B[j]=ie,ue=j):(B[ue]=J,B[Y]=ie,ue=Y);else if(j<L&&0>r(ne,ie))B[ue]=ne,B[j]=ie,ue=j;else break e}}return G}function r(B,G){var ie=B.sortIndex-G.sortIndex;return ie!==0?ie:B.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],h=1,f=null,d=3,p=!1,w=!1,y=!1,S=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(B){for(var G=n(c);G!==null;){if(G.callback===null)i(c);else if(G.startTime<=B)i(c),G.sortIndex=G.expirationTime,e(l,G);else break;G=n(c)}}function N(B){if(y=!1,x(B),!w)if(n(l)!==null)w=!0,H(k);else{var G=n(c);G!==null&&$(N,G.startTime-B)}}function k(B,G){w=!1,y&&(y=!1,m(A),A=-1),p=!0;var ie=d;try{for(x(G),f=n(l);f!==null&&(!(f.expirationTime>G)||B&&!E());){var ue=f.callback;if(typeof ue=="function"){f.callback=null,d=f.priorityLevel;var L=ue(f.expirationTime<=G);G=t.unstable_now(),typeof L=="function"?f.callback=L:f===n(l)&&i(l),x(G)}else i(l);f=n(l)}if(f!==null)var q=!0;else{var Y=n(c);Y!==null&&$(N,Y.startTime-G),q=!1}return q}finally{f=null,d=ie,p=!1}}var O=!1,I=null,A=-1,U=5,W=-1;function E(){return!(t.unstable_now()-W<U)}function P(){if(I!==null){var B=t.unstable_now();W=B;var G=!0;try{G=I(!0,B)}finally{G?K():(O=!1,I=null)}}else O=!1}var K;if(typeof _=="function")K=function(){_(P)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,Q=D.port2;D.port1.onmessage=P,K=function(){Q.postMessage(null)}}else K=function(){S(P,0)};function H(B){I=B,O||(O=!0,K())}function $(B,G){A=S(function(){B(t.unstable_now())},G)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(B){B.callback=null},t.unstable_continueExecution=function(){w||p||(w=!0,H(k))},t.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<B?Math.floor(1e3/B):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(B){switch(d){case 1:case 2:case 3:var G=3;break;default:G=d}var ie=d;d=G;try{return B()}finally{d=ie}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(B,G){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var ie=d;d=B;try{return G()}finally{d=ie}},t.unstable_scheduleCallback=function(B,G,ie){var ue=t.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?ue+ie:ue):ie=ue,B){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=ie+L,B={id:h++,callback:G,priorityLevel:B,startTime:ie,expirationTime:L,sortIndex:-1},ie>ue?(B.sortIndex=ie,e(c,B),n(l)===null&&B===n(c)&&(y?(m(A),A=-1):y=!0,$(N,ie-ue))):(B.sortIndex=L,e(l,B),w||p||(w=!0,H(k))),B},t.unstable_shouldYield=E,t.unstable_wrapCallback=function(B){var G=d;return function(){var ie=d;d=G;try{return B.apply(this,arguments)}finally{d=ie}}}})(Xx);Kx.exports=Xx;var zA=Kx.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UA=we,Vi=zA;function Ee(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Jx=new Set,Eh={};function ll(t,e){Nc(t,e),Nc(t+"Capture",e)}function Nc(t,e){for(Eh[t]=e,t=0;t<e.length;t++)Jx.add(e[t])}var Us=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),v1=Object.prototype.hasOwnProperty,HA=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,D5={},F5={};function WA(t){return v1.call(F5,t)?!0:v1.call(D5,t)?!1:HA.test(t)?F5[t]=!0:(D5[t]=!0,!1)}function qA(t,e,n,i){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function VA(t,e,n,i){if(e===null||typeof e>"u"||qA(t,e,n,i))return!0;if(i)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function vi(t,e,n,i,r,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var $n={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){$n[t]=new vi(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];$n[e]=new vi(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){$n[t]=new vi(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){$n[t]=new vi(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){$n[t]=new vi(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){$n[t]=new vi(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){$n[t]=new vi(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){$n[t]=new vi(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){$n[t]=new vi(t,5,!1,t.toLowerCase(),null,!1,!1)});var i2=/[\-:]([a-z])/g;function r2(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(i2,r2);$n[e]=new vi(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(i2,r2);$n[e]=new vi(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(i2,r2);$n[e]=new vi(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){$n[t]=new vi(t,1,!1,t.toLowerCase(),null,!1,!1)});$n.xlinkHref=new vi("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){$n[t]=new vi(t,1,!1,t.toLowerCase(),null,!0,!0)});function s2(t,e,n,i){var r=$n.hasOwnProperty(e)?$n[e]:null;(r!==null?r.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(VA(e,n,r,i)&&(n=null),i||r===null?WA(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):r.mustUseProperty?t[r.propertyName]=n===null?r.type===3?!1:"":n:(e=r.attributeName,i=r.attributeNamespace,n===null?t.removeAttribute(e):(r=r.type,n=r===3||r===4&&n===!0?"":""+n,i?t.setAttributeNS(i,e,n):t.setAttribute(e,n))))}var Xs=UA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,xd=Symbol.for("react.element"),Xl=Symbol.for("react.portal"),Jl=Symbol.for("react.fragment"),o2=Symbol.for("react.strict_mode"),y1=Symbol.for("react.profiler"),Qx=Symbol.for("react.provider"),Zx=Symbol.for("react.context"),a2=Symbol.for("react.forward_ref"),_1=Symbol.for("react.suspense"),w1=Symbol.for("react.suspense_list"),l2=Symbol.for("react.memo"),wo=Symbol.for("react.lazy"),eS=Symbol.for("react.offscreen"),j5=Symbol.iterator;function Au(t){return t===null||typeof t!="object"?null:(t=j5&&t[j5]||t["@@iterator"],typeof t=="function"?t:null)}var en=Object.assign,l0;function Xu(t){if(l0===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);l0=e&&e[1]||""}return`
`+l0+t}var c0=!1;function u0(t,e){if(!t||c0)return"";c0=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var i=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){i=c}t.call(e.prototype)}else{try{throw Error()}catch(c){i=c}t()}}catch(c){if(c&&i&&typeof c.stack=="string"){for(var r=c.stack.split(`
`),s=i.stack.split(`
`),o=r.length-1,a=s.length-1;1<=o&&0<=a&&r[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(r[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||r[o]!==s[a]){var l=`
`+r[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{c0=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Xu(t):""}function $A(t){switch(t.tag){case 5:return Xu(t.type);case 16:return Xu("Lazy");case 13:return Xu("Suspense");case 19:return Xu("SuspenseList");case 0:case 2:case 15:return t=u0(t.type,!1),t;case 11:return t=u0(t.type.render,!1),t;case 1:return t=u0(t.type,!0),t;default:return""}}function b1(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Jl:return"Fragment";case Xl:return"Portal";case y1:return"Profiler";case o2:return"StrictMode";case _1:return"Suspense";case w1:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Zx:return(t.displayName||"Context")+".Consumer";case Qx:return(t._context.displayName||"Context")+".Provider";case a2:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case l2:return e=t.displayName||null,e!==null?e:b1(t.type)||"Memo";case wo:e=t._payload,t=t._init;try{return b1(t(e))}catch{}}return null}function GA(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return b1(e);case 8:return e===o2?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Zo(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function tS(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function YA(t){var e=tS(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),i=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(o){i=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(o){i=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Sd(t){t._valueTracker||(t._valueTracker=YA(t))}function nS(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=tS(t)?t.checked?"true":"false":t.value),t=i,t!==n?(e.setValue(t),!0):!1}function Ep(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function x1(t,e){var n=e.checked;return en({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function B5(t,e){var n=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;n=Zo(e.value!=null?e.value:n),t._wrapperState={initialChecked:i,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function iS(t,e){e=e.checked,e!=null&&s2(t,"checked",e,!1)}function S1(t,e){iS(t,e);var n=Zo(e.value),i=e.type;if(n!=null)i==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(i==="submit"||i==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?N1(t,e.type,n):e.hasOwnProperty("defaultValue")&&N1(t,e.type,Zo(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function z5(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function N1(t,e,n){(e!=="number"||Ep(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Ju=Array.isArray;function uc(t,e,n,i){if(t=t.options,e){e={};for(var r=0;r<n.length;r++)e["$"+n[r]]=!0;for(n=0;n<t.length;n++)r=e.hasOwnProperty("$"+t[n].value),t[n].selected!==r&&(t[n].selected=r),r&&i&&(t[n].defaultSelected=!0)}else{for(n=""+Zo(n),e=null,r=0;r<t.length;r++){if(t[r].value===n){t[r].selected=!0,i&&(t[r].defaultSelected=!0);return}e!==null||t[r].disabled||(e=t[r])}e!==null&&(e.selected=!0)}}function C1(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Ee(91));return en({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function U5(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Ee(92));if(Ju(n)){if(1<n.length)throw Error(Ee(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Zo(n)}}function rS(t,e){var n=Zo(e.value),i=Zo(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),i!=null&&(t.defaultValue=""+i)}function H5(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function sS(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function k1(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?sS(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Nd,oS=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,i,r){MSApp.execUnsafeLocalFunction(function(){return t(e,n,i,r)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Nd=Nd||document.createElement("div"),Nd.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Nd.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ph(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var sh={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},KA=["Webkit","ms","Moz","O"];Object.keys(sh).forEach(function(t){KA.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),sh[e]=sh[t]})});function aS(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||sh.hasOwnProperty(t)&&sh[t]?(""+e).trim():e+"px"}function lS(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var i=n.indexOf("--")===0,r=aS(n,e[n],i);n==="float"&&(n="cssFloat"),i?t.setProperty(n,r):t[n]=r}}var XA=en({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function A1(t,e){if(e){if(XA[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Ee(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Ee(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Ee(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Ee(62))}}function E1(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var P1=null;function c2(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var I1=null,hc=null,fc=null;function W5(t){if(t=gf(t)){if(typeof I1!="function")throw Error(Ee(280));var e=t.stateNode;e&&(e=Bg(e),I1(t.stateNode,t.type,e))}}function cS(t){hc?fc?fc.push(t):fc=[t]:hc=t}function uS(){if(hc){var t=hc,e=fc;if(fc=hc=null,W5(t),e)for(t=0;t<e.length;t++)W5(e[t])}}function hS(t,e){return t(e)}function fS(){}var h0=!1;function dS(t,e,n){if(h0)return t(e,n);h0=!0;try{return hS(t,e,n)}finally{h0=!1,(hc!==null||fc!==null)&&(fS(),uS())}}function Ih(t,e){var n=t.stateNode;if(n===null)return null;var i=Bg(n);if(i===null)return null;n=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!i;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Ee(231,e,typeof n));return n}var L1=!1;if(Us)try{var Eu={};Object.defineProperty(Eu,"passive",{get:function(){L1=!0}}),window.addEventListener("test",Eu,Eu),window.removeEventListener("test",Eu,Eu)}catch{L1=!1}function JA(t,e,n,i,r,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(h){this.onError(h)}}var oh=!1,Pp=null,Ip=!1,T1=null,QA={onError:function(t){oh=!0,Pp=t}};function ZA(t,e,n,i,r,s,o,a,l){oh=!1,Pp=null,JA.apply(QA,arguments)}function eE(t,e,n,i,r,s,o,a,l){if(ZA.apply(this,arguments),oh){if(oh){var c=Pp;oh=!1,Pp=null}else throw Error(Ee(198));Ip||(Ip=!0,T1=c)}}function cl(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function pS(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function q5(t){if(cl(t)!==t)throw Error(Ee(188))}function tE(t){var e=t.alternate;if(!e){if(e=cl(t),e===null)throw Error(Ee(188));return e!==t?null:t}for(var n=t,i=e;;){var r=n.return;if(r===null)break;var s=r.alternate;if(s===null){if(i=r.return,i!==null){n=i;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===n)return q5(r),t;if(s===i)return q5(r),e;s=s.sibling}throw Error(Ee(188))}if(n.return!==i.return)n=r,i=s;else{for(var o=!1,a=r.child;a;){if(a===n){o=!0,n=r,i=s;break}if(a===i){o=!0,i=r,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,i=r;break}if(a===i){o=!0,i=s,n=r;break}a=a.sibling}if(!o)throw Error(Ee(189))}}if(n.alternate!==i)throw Error(Ee(190))}if(n.tag!==3)throw Error(Ee(188));return n.stateNode.current===n?t:e}function gS(t){return t=tE(t),t!==null?mS(t):null}function mS(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=mS(t);if(e!==null)return e;t=t.sibling}return null}var vS=Vi.unstable_scheduleCallback,V5=Vi.unstable_cancelCallback,nE=Vi.unstable_shouldYield,iE=Vi.unstable_requestPaint,fn=Vi.unstable_now,rE=Vi.unstable_getCurrentPriorityLevel,u2=Vi.unstable_ImmediatePriority,yS=Vi.unstable_UserBlockingPriority,Lp=Vi.unstable_NormalPriority,sE=Vi.unstable_LowPriority,_S=Vi.unstable_IdlePriority,Mg=null,os=null;function oE(t){if(os&&typeof os.onCommitFiberRoot=="function")try{os.onCommitFiberRoot(Mg,t,void 0,(t.current.flags&128)===128)}catch{}}var Mr=Math.clz32?Math.clz32:cE,aE=Math.log,lE=Math.LN2;function cE(t){return t>>>=0,t===0?32:31-(aE(t)/lE|0)|0}var Cd=64,kd=4194304;function Qu(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Tp(t,e){var n=t.pendingLanes;if(n===0)return 0;var i=0,r=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~r;a!==0?i=Qu(a):(s&=o,s!==0&&(i=Qu(s)))}else o=n&~r,o!==0?i=Qu(o):s!==0&&(i=Qu(s));if(i===0)return 0;if(e!==0&&e!==i&&!(e&r)&&(r=i&-i,s=e&-e,r>=s||r===16&&(s&4194240)!==0))return e;if(i&4&&(i|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=i;0<e;)n=31-Mr(e),r=1<<n,i|=t[n],e&=~r;return i}function uE(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function hE(t,e){for(var n=t.suspendedLanes,i=t.pingedLanes,r=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Mr(s),a=1<<o,l=r[o];l===-1?(!(a&n)||a&i)&&(r[o]=uE(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function R1(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function wS(){var t=Cd;return Cd<<=1,!(Cd&4194240)&&(Cd=64),t}function f0(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function df(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Mr(e),t[e]=n}function fE(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var i=t.eventTimes;for(t=t.expirationTimes;0<n;){var r=31-Mr(n),s=1<<r;e[r]=0,i[r]=-1,t[r]=-1,n&=~s}}function h2(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var i=31-Mr(n),r=1<<i;r&e|t[i]&e&&(t[i]|=e),n&=~r}}var It=0;function bS(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var xS,f2,SS,NS,CS,O1=!1,Ad=[],Mo=null,Do=null,Fo=null,Lh=new Map,Th=new Map,xo=[],dE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function $5(t,e){switch(t){case"focusin":case"focusout":Mo=null;break;case"dragenter":case"dragleave":Do=null;break;case"mouseover":case"mouseout":Fo=null;break;case"pointerover":case"pointerout":Lh.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Th.delete(e.pointerId)}}function Pu(t,e,n,i,r,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:i,nativeEvent:s,targetContainers:[r]},e!==null&&(e=gf(e),e!==null&&f2(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),t)}function pE(t,e,n,i,r){switch(e){case"focusin":return Mo=Pu(Mo,t,e,n,i,r),!0;case"dragenter":return Do=Pu(Do,t,e,n,i,r),!0;case"mouseover":return Fo=Pu(Fo,t,e,n,i,r),!0;case"pointerover":var s=r.pointerId;return Lh.set(s,Pu(Lh.get(s)||null,t,e,n,i,r)),!0;case"gotpointercapture":return s=r.pointerId,Th.set(s,Pu(Th.get(s)||null,t,e,n,i,r)),!0}return!1}function kS(t){var e=Ma(t.target);if(e!==null){var n=cl(e);if(n!==null){if(e=n.tag,e===13){if(e=pS(n),e!==null){t.blockedOn=e,CS(t.priority,function(){SS(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function lp(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=M1(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var i=new n.constructor(n.type,n);P1=i,n.target.dispatchEvent(i),P1=null}else return e=gf(n),e!==null&&f2(e),t.blockedOn=n,!1;e.shift()}return!0}function G5(t,e,n){lp(t)&&n.delete(e)}function gE(){O1=!1,Mo!==null&&lp(Mo)&&(Mo=null),Do!==null&&lp(Do)&&(Do=null),Fo!==null&&lp(Fo)&&(Fo=null),Lh.forEach(G5),Th.forEach(G5)}function Iu(t,e){t.blockedOn===e&&(t.blockedOn=null,O1||(O1=!0,Vi.unstable_scheduleCallback(Vi.unstable_NormalPriority,gE)))}function Rh(t){function e(r){return Iu(r,t)}if(0<Ad.length){Iu(Ad[0],t);for(var n=1;n<Ad.length;n++){var i=Ad[n];i.blockedOn===t&&(i.blockedOn=null)}}for(Mo!==null&&Iu(Mo,t),Do!==null&&Iu(Do,t),Fo!==null&&Iu(Fo,t),Lh.forEach(e),Th.forEach(e),n=0;n<xo.length;n++)i=xo[n],i.blockedOn===t&&(i.blockedOn=null);for(;0<xo.length&&(n=xo[0],n.blockedOn===null);)kS(n),n.blockedOn===null&&xo.shift()}var dc=Xs.ReactCurrentBatchConfig,Rp=!0;function mE(t,e,n,i){var r=It,s=dc.transition;dc.transition=null;try{It=1,d2(t,e,n,i)}finally{It=r,dc.transition=s}}function vE(t,e,n,i){var r=It,s=dc.transition;dc.transition=null;try{It=4,d2(t,e,n,i)}finally{It=r,dc.transition=s}}function d2(t,e,n,i){if(Rp){var r=M1(t,e,n,i);if(r===null)x0(t,e,i,Op,n),$5(t,i);else if(pE(r,t,e,n,i))i.stopPropagation();else if($5(t,i),e&4&&-1<dE.indexOf(t)){for(;r!==null;){var s=gf(r);if(s!==null&&xS(s),s=M1(t,e,n,i),s===null&&x0(t,e,i,Op,n),s===r)break;r=s}r!==null&&i.stopPropagation()}else x0(t,e,i,null,n)}}var Op=null;function M1(t,e,n,i){if(Op=null,t=c2(i),t=Ma(t),t!==null)if(e=cl(t),e===null)t=null;else if(n=e.tag,n===13){if(t=pS(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Op=t,null}function AS(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(rE()){case u2:return 1;case yS:return 4;case Lp:case sE:return 16;case _S:return 536870912;default:return 16}default:return 16}}var Po=null,p2=null,cp=null;function ES(){if(cp)return cp;var t,e=p2,n=e.length,i,r="value"in Po?Po.value:Po.textContent,s=r.length;for(t=0;t<n&&e[t]===r[t];t++);var o=n-t;for(i=1;i<=o&&e[n-i]===r[s-i];i++);return cp=r.slice(t,1<i?1-i:void 0)}function up(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ed(){return!0}function Y5(){return!1}function Gi(t){function e(n,i,r,s,o){this._reactName=n,this._targetInst=r,this.type=i,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Ed:Y5,this.isPropagationStopped=Y5,this}return en(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ed)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ed)},persist:function(){},isPersistent:Ed}),e}var jc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},g2=Gi(jc),pf=en({},jc,{view:0,detail:0}),yE=Gi(pf),d0,p0,Lu,Dg=en({},pf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:m2,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Lu&&(Lu&&t.type==="mousemove"?(d0=t.screenX-Lu.screenX,p0=t.screenY-Lu.screenY):p0=d0=0,Lu=t),d0)},movementY:function(t){return"movementY"in t?t.movementY:p0}}),K5=Gi(Dg),_E=en({},Dg,{dataTransfer:0}),wE=Gi(_E),bE=en({},pf,{relatedTarget:0}),g0=Gi(bE),xE=en({},jc,{animationName:0,elapsedTime:0,pseudoElement:0}),SE=Gi(xE),NE=en({},jc,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),CE=Gi(NE),kE=en({},jc,{data:0}),X5=Gi(kE),AE={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},EE={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},PE={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function IE(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=PE[t])?!!e[t]:!1}function m2(){return IE}var LE=en({},pf,{key:function(t){if(t.key){var e=AE[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=up(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?EE[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:m2,charCode:function(t){return t.type==="keypress"?up(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?up(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),TE=Gi(LE),RE=en({},Dg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),J5=Gi(RE),OE=en({},pf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:m2}),ME=Gi(OE),DE=en({},jc,{propertyName:0,elapsedTime:0,pseudoElement:0}),FE=Gi(DE),jE=en({},Dg,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),BE=Gi(jE),zE=[9,13,27,32],v2=Us&&"CompositionEvent"in window,ah=null;Us&&"documentMode"in document&&(ah=document.documentMode);var UE=Us&&"TextEvent"in window&&!ah,PS=Us&&(!v2||ah&&8<ah&&11>=ah),Q5=" ",Z5=!1;function IS(t,e){switch(t){case"keyup":return zE.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function LS(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ql=!1;function HE(t,e){switch(t){case"compositionend":return LS(e);case"keypress":return e.which!==32?null:(Z5=!0,Q5);case"textInput":return t=e.data,t===Q5&&Z5?null:t;default:return null}}function WE(t,e){if(Ql)return t==="compositionend"||!v2&&IS(t,e)?(t=ES(),cp=p2=Po=null,Ql=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return PS&&e.locale!=="ko"?null:e.data;default:return null}}var qE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function e_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!qE[t.type]:e==="textarea"}function TS(t,e,n,i){cS(i),e=Mp(e,"onChange"),0<e.length&&(n=new g2("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var lh=null,Oh=null;function VE(t){WS(t,0)}function Fg(t){var e=tc(t);if(nS(e))return t}function $E(t,e){if(t==="change")return e}var RS=!1;if(Us){var m0;if(Us){var v0="oninput"in document;if(!v0){var t_=document.createElement("div");t_.setAttribute("oninput","return;"),v0=typeof t_.oninput=="function"}m0=v0}else m0=!1;RS=m0&&(!document.documentMode||9<document.documentMode)}function n_(){lh&&(lh.detachEvent("onpropertychange",OS),Oh=lh=null)}function OS(t){if(t.propertyName==="value"&&Fg(Oh)){var e=[];TS(e,Oh,t,c2(t)),dS(VE,e)}}function GE(t,e,n){t==="focusin"?(n_(),lh=e,Oh=n,lh.attachEvent("onpropertychange",OS)):t==="focusout"&&n_()}function YE(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Fg(Oh)}function KE(t,e){if(t==="click")return Fg(e)}function XE(t,e){if(t==="input"||t==="change")return Fg(e)}function JE(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var jr=typeof Object.is=="function"?Object.is:JE;function Mh(t,e){if(jr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!v1.call(e,r)||!jr(t[r],e[r]))return!1}return!0}function i_(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function r_(t,e){var n=i_(t);t=0;for(var i;n;){if(n.nodeType===3){if(i=t+n.textContent.length,t<=e&&i>=e)return{node:n,offset:e-t};t=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=i_(n)}}function MS(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?MS(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function DS(){for(var t=window,e=Ep();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Ep(t.document)}return e}function y2(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function QE(t){var e=DS(),n=t.focusedElem,i=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&MS(n.ownerDocument.documentElement,n)){if(i!==null&&y2(n)){if(e=i.start,t=i.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var r=n.textContent.length,s=Math.min(i.start,r);i=i.end===void 0?s:Math.min(i.end,r),!t.extend&&s>i&&(r=i,i=s,s=r),r=r_(n,s);var o=r_(n,i);r&&o&&(t.rangeCount!==1||t.anchorNode!==r.node||t.anchorOffset!==r.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),t.removeAllRanges(),s>i?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var ZE=Us&&"documentMode"in document&&11>=document.documentMode,Zl=null,D1=null,ch=null,F1=!1;function s_(t,e,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;F1||Zl==null||Zl!==Ep(i)||(i=Zl,"selectionStart"in i&&y2(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),ch&&Mh(ch,i)||(ch=i,i=Mp(D1,"onSelect"),0<i.length&&(e=new g2("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=Zl)))}function Pd(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ec={animationend:Pd("Animation","AnimationEnd"),animationiteration:Pd("Animation","AnimationIteration"),animationstart:Pd("Animation","AnimationStart"),transitionend:Pd("Transition","TransitionEnd")},y0={},FS={};Us&&(FS=document.createElement("div").style,"AnimationEvent"in window||(delete ec.animationend.animation,delete ec.animationiteration.animation,delete ec.animationstart.animation),"TransitionEvent"in window||delete ec.transitionend.transition);function jg(t){if(y0[t])return y0[t];if(!ec[t])return t;var e=ec[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in FS)return y0[t]=e[n];return t}var jS=jg("animationend"),BS=jg("animationiteration"),zS=jg("animationstart"),US=jg("transitionend"),HS=new Map,o_="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function la(t,e){HS.set(t,e),ll(e,[t])}for(var _0=0;_0<o_.length;_0++){var w0=o_[_0],eP=w0.toLowerCase(),tP=w0[0].toUpperCase()+w0.slice(1);la(eP,"on"+tP)}la(jS,"onAnimationEnd");la(BS,"onAnimationIteration");la(zS,"onAnimationStart");la("dblclick","onDoubleClick");la("focusin","onFocus");la("focusout","onBlur");la(US,"onTransitionEnd");Nc("onMouseEnter",["mouseout","mouseover"]);Nc("onMouseLeave",["mouseout","mouseover"]);Nc("onPointerEnter",["pointerout","pointerover"]);Nc("onPointerLeave",["pointerout","pointerover"]);ll("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ll("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ll("onBeforeInput",["compositionend","keypress","textInput","paste"]);ll("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ll("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ll("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),nP=new Set("cancel close invalid load scroll toggle".split(" ").concat(Zu));function a_(t,e,n){var i=t.type||"unknown-event";t.currentTarget=n,eE(i,e,void 0,t),t.currentTarget=null}function WS(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var i=t[n],r=i.event;i=i.listeners;e:{var s=void 0;if(e)for(var o=i.length-1;0<=o;o--){var a=i[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&r.isPropagationStopped())break e;a_(r,a,c),s=l}else for(o=0;o<i.length;o++){if(a=i[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&r.isPropagationStopped())break e;a_(r,a,c),s=l}}}if(Ip)throw t=T1,Ip=!1,T1=null,t}function qt(t,e){var n=e[H1];n===void 0&&(n=e[H1]=new Set);var i=t+"__bubble";n.has(i)||(qS(e,t,2,!1),n.add(i))}function b0(t,e,n){var i=0;e&&(i|=4),qS(n,t,i,e)}var Id="_reactListening"+Math.random().toString(36).slice(2);function Dh(t){if(!t[Id]){t[Id]=!0,Jx.forEach(function(n){n!=="selectionchange"&&(nP.has(n)||b0(n,!1,t),b0(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Id]||(e[Id]=!0,b0("selectionchange",!1,e))}}function qS(t,e,n,i){switch(AS(e)){case 1:var r=mE;break;case 4:r=vE;break;default:r=d2}n=r.bind(null,e,n,t),r=void 0,!L1||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),i?r!==void 0?t.addEventListener(e,n,{capture:!0,passive:r}):t.addEventListener(e,n,!0):r!==void 0?t.addEventListener(e,n,{passive:r}):t.addEventListener(e,n,!1)}function x0(t,e,n,i,r){var s=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var o=i.tag;if(o===3||o===4){var a=i.stateNode.containerInfo;if(a===r||a.nodeType===8&&a.parentNode===r)break;if(o===4)for(o=i.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===r||l.nodeType===8&&l.parentNode===r))return;o=o.return}for(;a!==null;){if(o=Ma(a),o===null)return;if(l=o.tag,l===5||l===6){i=s=o;continue e}a=a.parentNode}}i=i.return}dS(function(){var c=s,h=c2(n),f=[];e:{var d=HS.get(t);if(d!==void 0){var p=g2,w=t;switch(t){case"keypress":if(up(n)===0)break e;case"keydown":case"keyup":p=TE;break;case"focusin":w="focus",p=g0;break;case"focusout":w="blur",p=g0;break;case"beforeblur":case"afterblur":p=g0;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=K5;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=wE;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=ME;break;case jS:case BS:case zS:p=SE;break;case US:p=FE;break;case"scroll":p=yE;break;case"wheel":p=BE;break;case"copy":case"cut":case"paste":p=CE;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=J5}var y=(e&4)!==0,S=!y&&t==="scroll",m=y?d!==null?d+"Capture":null:d;y=[];for(var _=c,x;_!==null;){x=_;var N=x.stateNode;if(x.tag===5&&N!==null&&(x=N,m!==null&&(N=Ih(_,m),N!=null&&y.push(Fh(_,N,x)))),S)break;_=_.return}0<y.length&&(d=new p(d,w,null,n,h),f.push({event:d,listeners:y}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",d&&n!==P1&&(w=n.relatedTarget||n.fromElement)&&(Ma(w)||w[Hs]))break e;if((p||d)&&(d=h.window===h?h:(d=h.ownerDocument)?d.defaultView||d.parentWindow:window,p?(w=n.relatedTarget||n.toElement,p=c,w=w?Ma(w):null,w!==null&&(S=cl(w),w!==S||w.tag!==5&&w.tag!==6)&&(w=null)):(p=null,w=c),p!==w)){if(y=K5,N="onMouseLeave",m="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(y=J5,N="onPointerLeave",m="onPointerEnter",_="pointer"),S=p==null?d:tc(p),x=w==null?d:tc(w),d=new y(N,_+"leave",p,n,h),d.target=S,d.relatedTarget=x,N=null,Ma(h)===c&&(y=new y(m,_+"enter",w,n,h),y.target=x,y.relatedTarget=S,N=y),S=N,p&&w)t:{for(y=p,m=w,_=0,x=y;x;x=Hl(x))_++;for(x=0,N=m;N;N=Hl(N))x++;for(;0<_-x;)y=Hl(y),_--;for(;0<x-_;)m=Hl(m),x--;for(;_--;){if(y===m||m!==null&&y===m.alternate)break t;y=Hl(y),m=Hl(m)}y=null}else y=null;p!==null&&l_(f,d,p,y,!1),w!==null&&S!==null&&l_(f,S,w,y,!0)}}e:{if(d=c?tc(c):window,p=d.nodeName&&d.nodeName.toLowerCase(),p==="select"||p==="input"&&d.type==="file")var k=$E;else if(e_(d))if(RS)k=XE;else{k=YE;var O=GE}else(p=d.nodeName)&&p.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(k=KE);if(k&&(k=k(t,c))){TS(f,k,n,h);break e}O&&O(t,d,c),t==="focusout"&&(O=d._wrapperState)&&O.controlled&&d.type==="number"&&N1(d,"number",d.value)}switch(O=c?tc(c):window,t){case"focusin":(e_(O)||O.contentEditable==="true")&&(Zl=O,D1=c,ch=null);break;case"focusout":ch=D1=Zl=null;break;case"mousedown":F1=!0;break;case"contextmenu":case"mouseup":case"dragend":F1=!1,s_(f,n,h);break;case"selectionchange":if(ZE)break;case"keydown":case"keyup":s_(f,n,h)}var I;if(v2)e:{switch(t){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else Ql?IS(t,n)&&(A="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(A="onCompositionStart");A&&(PS&&n.locale!=="ko"&&(Ql||A!=="onCompositionStart"?A==="onCompositionEnd"&&Ql&&(I=ES()):(Po=h,p2="value"in Po?Po.value:Po.textContent,Ql=!0)),O=Mp(c,A),0<O.length&&(A=new X5(A,t,null,n,h),f.push({event:A,listeners:O}),I?A.data=I:(I=LS(n),I!==null&&(A.data=I)))),(I=UE?HE(t,n):WE(t,n))&&(c=Mp(c,"onBeforeInput"),0<c.length&&(h=new X5("onBeforeInput","beforeinput",null,n,h),f.push({event:h,listeners:c}),h.data=I))}WS(f,e)})}function Fh(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Mp(t,e){for(var n=e+"Capture",i=[];t!==null;){var r=t,s=r.stateNode;r.tag===5&&s!==null&&(r=s,s=Ih(t,n),s!=null&&i.unshift(Fh(t,s,r)),s=Ih(t,e),s!=null&&i.push(Fh(t,s,r))),t=t.return}return i}function Hl(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function l_(t,e,n,i,r){for(var s=e._reactName,o=[];n!==null&&n!==i;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===i)break;a.tag===5&&c!==null&&(a=c,r?(l=Ih(n,s),l!=null&&o.unshift(Fh(n,l,a))):r||(l=Ih(n,s),l!=null&&o.push(Fh(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var iP=/\r\n?/g,rP=/\u0000|\uFFFD/g;function c_(t){return(typeof t=="string"?t:""+t).replace(iP,`
`).replace(rP,"")}function Ld(t,e,n){if(e=c_(e),c_(t)!==e&&n)throw Error(Ee(425))}function Dp(){}var j1=null,B1=null;function z1(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var U1=typeof setTimeout=="function"?setTimeout:void 0,sP=typeof clearTimeout=="function"?clearTimeout:void 0,u_=typeof Promise=="function"?Promise:void 0,oP=typeof queueMicrotask=="function"?queueMicrotask:typeof u_<"u"?function(t){return u_.resolve(null).then(t).catch(aP)}:U1;function aP(t){setTimeout(function(){throw t})}function S0(t,e){var n=e,i=0;do{var r=n.nextSibling;if(t.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(i===0){t.removeChild(r),Rh(e);return}i--}else n!=="$"&&n!=="$?"&&n!=="$!"||i++;n=r}while(n);Rh(e)}function jo(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function h_(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Bc=Math.random().toString(36).slice(2),rs="__reactFiber$"+Bc,jh="__reactProps$"+Bc,Hs="__reactContainer$"+Bc,H1="__reactEvents$"+Bc,lP="__reactListeners$"+Bc,cP="__reactHandles$"+Bc;function Ma(t){var e=t[rs];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Hs]||n[rs]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=h_(t);t!==null;){if(n=t[rs])return n;t=h_(t)}return e}t=n,n=t.parentNode}return null}function gf(t){return t=t[rs]||t[Hs],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function tc(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Ee(33))}function Bg(t){return t[jh]||null}var W1=[],nc=-1;function ca(t){return{current:t}}function Yt(t){0>nc||(t.current=W1[nc],W1[nc]=null,nc--)}function Wt(t,e){nc++,W1[nc]=t.current,t.current=e}var ea={},li=ca(ea),Ii=ca(!1),Xa=ea;function Cc(t,e){var n=t.type.contextTypes;if(!n)return ea;var i=t.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var r={},s;for(s in n)r[s]=e[s];return i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=r),r}function Li(t){return t=t.childContextTypes,t!=null}function Fp(){Yt(Ii),Yt(li)}function f_(t,e,n){if(li.current!==ea)throw Error(Ee(168));Wt(li,e),Wt(Ii,n)}function VS(t,e,n){var i=t.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return n;i=i.getChildContext();for(var r in i)if(!(r in e))throw Error(Ee(108,GA(t)||"Unknown",r));return en({},n,i)}function jp(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ea,Xa=li.current,Wt(li,t),Wt(Ii,Ii.current),!0}function d_(t,e,n){var i=t.stateNode;if(!i)throw Error(Ee(169));n?(t=VS(t,e,Xa),i.__reactInternalMemoizedMergedChildContext=t,Yt(Ii),Yt(li),Wt(li,t)):Yt(Ii),Wt(Ii,n)}var Ps=null,zg=!1,N0=!1;function $S(t){Ps===null?Ps=[t]:Ps.push(t)}function uP(t){zg=!0,$S(t)}function ua(){if(!N0&&Ps!==null){N0=!0;var t=0,e=It;try{var n=Ps;for(It=1;t<n.length;t++){var i=n[t];do i=i(!0);while(i!==null)}Ps=null,zg=!1}catch(r){throw Ps!==null&&(Ps=Ps.slice(t+1)),vS(u2,ua),r}finally{It=e,N0=!1}}return null}var ic=[],rc=0,Bp=null,zp=0,ir=[],rr=0,Ja=null,Ls=1,Ts="";function Pa(t,e){ic[rc++]=zp,ic[rc++]=Bp,Bp=t,zp=e}function GS(t,e,n){ir[rr++]=Ls,ir[rr++]=Ts,ir[rr++]=Ja,Ja=t;var i=Ls;t=Ts;var r=32-Mr(i)-1;i&=~(1<<r),n+=1;var s=32-Mr(e)+r;if(30<s){var o=r-r%5;s=(i&(1<<o)-1).toString(32),i>>=o,r-=o,Ls=1<<32-Mr(e)+r|n<<r|i,Ts=s+t}else Ls=1<<s|n<<r|i,Ts=t}function _2(t){t.return!==null&&(Pa(t,1),GS(t,1,0))}function w2(t){for(;t===Bp;)Bp=ic[--rc],ic[rc]=null,zp=ic[--rc],ic[rc]=null;for(;t===Ja;)Ja=ir[--rr],ir[rr]=null,Ts=ir[--rr],ir[rr]=null,Ls=ir[--rr],ir[rr]=null}var qi=null,Hi=null,Xt=!1,Ir=null;function YS(t,e){var n=sr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function p_(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,qi=t,Hi=jo(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,qi=t,Hi=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ja!==null?{id:Ls,overflow:Ts}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=sr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,qi=t,Hi=null,!0):!1;default:return!1}}function q1(t){return(t.mode&1)!==0&&(t.flags&128)===0}function V1(t){if(Xt){var e=Hi;if(e){var n=e;if(!p_(t,e)){if(q1(t))throw Error(Ee(418));e=jo(n.nextSibling);var i=qi;e&&p_(t,e)?YS(i,n):(t.flags=t.flags&-4097|2,Xt=!1,qi=t)}}else{if(q1(t))throw Error(Ee(418));t.flags=t.flags&-4097|2,Xt=!1,qi=t}}}function g_(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;qi=t}function Td(t){if(t!==qi)return!1;if(!Xt)return g_(t),Xt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!z1(t.type,t.memoizedProps)),e&&(e=Hi)){if(q1(t))throw KS(),Error(Ee(418));for(;e;)YS(t,e),e=jo(e.nextSibling)}if(g_(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Ee(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Hi=jo(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Hi=null}}else Hi=qi?jo(t.stateNode.nextSibling):null;return!0}function KS(){for(var t=Hi;t;)t=jo(t.nextSibling)}function kc(){Hi=qi=null,Xt=!1}function b2(t){Ir===null?Ir=[t]:Ir.push(t)}var hP=Xs.ReactCurrentBatchConfig;function Tu(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Ee(309));var i=n.stateNode}if(!i)throw Error(Ee(147,t));var r=i,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=r.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(Ee(284));if(!n._owner)throw Error(Ee(290,t))}return t}function Rd(t,e){throw t=Object.prototype.toString.call(e),Error(Ee(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function m_(t){var e=t._init;return e(t._payload)}function XS(t){function e(m,_){if(t){var x=m.deletions;x===null?(m.deletions=[_],m.flags|=16):x.push(_)}}function n(m,_){if(!t)return null;for(;_!==null;)e(m,_),_=_.sibling;return null}function i(m,_){for(m=new Map;_!==null;)_.key!==null?m.set(_.key,_):m.set(_.index,_),_=_.sibling;return m}function r(m,_){return m=Ho(m,_),m.index=0,m.sibling=null,m}function s(m,_,x){return m.index=x,t?(x=m.alternate,x!==null?(x=x.index,x<_?(m.flags|=2,_):x):(m.flags|=2,_)):(m.flags|=1048576,_)}function o(m){return t&&m.alternate===null&&(m.flags|=2),m}function a(m,_,x,N){return _===null||_.tag!==6?(_=L0(x,m.mode,N),_.return=m,_):(_=r(_,x),_.return=m,_)}function l(m,_,x,N){var k=x.type;return k===Jl?h(m,_,x.props.children,N,x.key):_!==null&&(_.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===wo&&m_(k)===_.type)?(N=r(_,x.props),N.ref=Tu(m,_,x),N.return=m,N):(N=vp(x.type,x.key,x.props,null,m.mode,N),N.ref=Tu(m,_,x),N.return=m,N)}function c(m,_,x,N){return _===null||_.tag!==4||_.stateNode.containerInfo!==x.containerInfo||_.stateNode.implementation!==x.implementation?(_=T0(x,m.mode,N),_.return=m,_):(_=r(_,x.children||[]),_.return=m,_)}function h(m,_,x,N,k){return _===null||_.tag!==7?(_=Wa(x,m.mode,N,k),_.return=m,_):(_=r(_,x),_.return=m,_)}function f(m,_,x){if(typeof _=="string"&&_!==""||typeof _=="number")return _=L0(""+_,m.mode,x),_.return=m,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case xd:return x=vp(_.type,_.key,_.props,null,m.mode,x),x.ref=Tu(m,null,_),x.return=m,x;case Xl:return _=T0(_,m.mode,x),_.return=m,_;case wo:var N=_._init;return f(m,N(_._payload),x)}if(Ju(_)||Au(_))return _=Wa(_,m.mode,x,null),_.return=m,_;Rd(m,_)}return null}function d(m,_,x,N){var k=_!==null?_.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return k!==null?null:a(m,_,""+x,N);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case xd:return x.key===k?l(m,_,x,N):null;case Xl:return x.key===k?c(m,_,x,N):null;case wo:return k=x._init,d(m,_,k(x._payload),N)}if(Ju(x)||Au(x))return k!==null?null:h(m,_,x,N,null);Rd(m,x)}return null}function p(m,_,x,N,k){if(typeof N=="string"&&N!==""||typeof N=="number")return m=m.get(x)||null,a(_,m,""+N,k);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case xd:return m=m.get(N.key===null?x:N.key)||null,l(_,m,N,k);case Xl:return m=m.get(N.key===null?x:N.key)||null,c(_,m,N,k);case wo:var O=N._init;return p(m,_,x,O(N._payload),k)}if(Ju(N)||Au(N))return m=m.get(x)||null,h(_,m,N,k,null);Rd(_,N)}return null}function w(m,_,x,N){for(var k=null,O=null,I=_,A=_=0,U=null;I!==null&&A<x.length;A++){I.index>A?(U=I,I=null):U=I.sibling;var W=d(m,I,x[A],N);if(W===null){I===null&&(I=U);break}t&&I&&W.alternate===null&&e(m,I),_=s(W,_,A),O===null?k=W:O.sibling=W,O=W,I=U}if(A===x.length)return n(m,I),Xt&&Pa(m,A),k;if(I===null){for(;A<x.length;A++)I=f(m,x[A],N),I!==null&&(_=s(I,_,A),O===null?k=I:O.sibling=I,O=I);return Xt&&Pa(m,A),k}for(I=i(m,I);A<x.length;A++)U=p(I,m,A,x[A],N),U!==null&&(t&&U.alternate!==null&&I.delete(U.key===null?A:U.key),_=s(U,_,A),O===null?k=U:O.sibling=U,O=U);return t&&I.forEach(function(E){return e(m,E)}),Xt&&Pa(m,A),k}function y(m,_,x,N){var k=Au(x);if(typeof k!="function")throw Error(Ee(150));if(x=k.call(x),x==null)throw Error(Ee(151));for(var O=k=null,I=_,A=_=0,U=null,W=x.next();I!==null&&!W.done;A++,W=x.next()){I.index>A?(U=I,I=null):U=I.sibling;var E=d(m,I,W.value,N);if(E===null){I===null&&(I=U);break}t&&I&&E.alternate===null&&e(m,I),_=s(E,_,A),O===null?k=E:O.sibling=E,O=E,I=U}if(W.done)return n(m,I),Xt&&Pa(m,A),k;if(I===null){for(;!W.done;A++,W=x.next())W=f(m,W.value,N),W!==null&&(_=s(W,_,A),O===null?k=W:O.sibling=W,O=W);return Xt&&Pa(m,A),k}for(I=i(m,I);!W.done;A++,W=x.next())W=p(I,m,A,W.value,N),W!==null&&(t&&W.alternate!==null&&I.delete(W.key===null?A:W.key),_=s(W,_,A),O===null?k=W:O.sibling=W,O=W);return t&&I.forEach(function(P){return e(m,P)}),Xt&&Pa(m,A),k}function S(m,_,x,N){if(typeof x=="object"&&x!==null&&x.type===Jl&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case xd:e:{for(var k=x.key,O=_;O!==null;){if(O.key===k){if(k=x.type,k===Jl){if(O.tag===7){n(m,O.sibling),_=r(O,x.props.children),_.return=m,m=_;break e}}else if(O.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===wo&&m_(k)===O.type){n(m,O.sibling),_=r(O,x.props),_.ref=Tu(m,O,x),_.return=m,m=_;break e}n(m,O);break}else e(m,O);O=O.sibling}x.type===Jl?(_=Wa(x.props.children,m.mode,N,x.key),_.return=m,m=_):(N=vp(x.type,x.key,x.props,null,m.mode,N),N.ref=Tu(m,_,x),N.return=m,m=N)}return o(m);case Xl:e:{for(O=x.key;_!==null;){if(_.key===O)if(_.tag===4&&_.stateNode.containerInfo===x.containerInfo&&_.stateNode.implementation===x.implementation){n(m,_.sibling),_=r(_,x.children||[]),_.return=m,m=_;break e}else{n(m,_);break}else e(m,_);_=_.sibling}_=T0(x,m.mode,N),_.return=m,m=_}return o(m);case wo:return O=x._init,S(m,_,O(x._payload),N)}if(Ju(x))return w(m,_,x,N);if(Au(x))return y(m,_,x,N);Rd(m,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,_!==null&&_.tag===6?(n(m,_.sibling),_=r(_,x),_.return=m,m=_):(n(m,_),_=L0(x,m.mode,N),_.return=m,m=_),o(m)):n(m,_)}return S}var Ac=XS(!0),JS=XS(!1),Up=ca(null),Hp=null,sc=null,x2=null;function S2(){x2=sc=Hp=null}function N2(t){var e=Up.current;Yt(Up),t._currentValue=e}function $1(t,e,n){for(;t!==null;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===n)break;t=t.return}}function pc(t,e){Hp=t,x2=sc=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ai=!0),t.firstContext=null)}function lr(t){var e=t._currentValue;if(x2!==t)if(t={context:t,memoizedValue:e,next:null},sc===null){if(Hp===null)throw Error(Ee(308));sc=t,Hp.dependencies={lanes:0,firstContext:t}}else sc=sc.next=t;return e}var Da=null;function C2(t){Da===null?Da=[t]:Da.push(t)}function QS(t,e,n,i){var r=e.interleaved;return r===null?(n.next=n,C2(e)):(n.next=r.next,r.next=n),e.interleaved=n,Ws(t,i)}function Ws(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var bo=!1;function k2(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ZS(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Bs(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Bo(t,e,n){var i=t.updateQueue;if(i===null)return null;if(i=i.shared,_t&2){var r=i.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),i.pending=e,Ws(t,n)}return r=i.interleaved,r===null?(e.next=e,C2(i)):(e.next=r.next,r.next=e),i.interleaved=e,Ws(t,n)}function hp(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,h2(t,n)}}function v_(t,e){var n=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var r=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?r=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?r=s=e:s=s.next=e}else r=s=e;n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:i.shared,effects:i.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Wp(t,e,n,i){var r=t.updateQueue;bo=!1;var s=r.firstBaseUpdate,o=r.lastBaseUpdate,a=r.shared.pending;if(a!==null){r.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var h=t.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=c:a.next=c,h.lastBaseUpdate=l))}if(s!==null){var f=r.baseState;o=0,h=c=l=null,a=s;do{var d=a.lane,p=a.eventTime;if((i&d)===d){h!==null&&(h=h.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var w=t,y=a;switch(d=e,p=n,y.tag){case 1:if(w=y.payload,typeof w=="function"){f=w.call(p,f,d);break e}f=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=y.payload,d=typeof w=="function"?w.call(p,f,d):w,d==null)break e;f=en({},f,d);break e;case 2:bo=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,d=r.effects,d===null?r.effects=[a]:d.push(a))}else p={eventTime:p,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(c=h=p,l=f):h=h.next=p,o|=d;if(a=a.next,a===null){if(a=r.shared.pending,a===null)break;d=a,a=d.next,d.next=null,r.lastBaseUpdate=d,r.shared.pending=null}}while(!0);if(h===null&&(l=f),r.baseState=l,r.firstBaseUpdate=c,r.lastBaseUpdate=h,e=r.shared.interleaved,e!==null){r=e;do o|=r.lane,r=r.next;while(r!==e)}else s===null&&(r.shared.lanes=0);Za|=o,t.lanes=o,t.memoizedState=f}}function y_(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var i=t[e],r=i.callback;if(r!==null){if(i.callback=null,i=n,typeof r!="function")throw Error(Ee(191,r));r.call(i)}}}var mf={},as=ca(mf),Bh=ca(mf),zh=ca(mf);function Fa(t){if(t===mf)throw Error(Ee(174));return t}function A2(t,e){switch(Wt(zh,e),Wt(Bh,t),Wt(as,mf),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:k1(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=k1(e,t)}Yt(as),Wt(as,e)}function Ec(){Yt(as),Yt(Bh),Yt(zh)}function e3(t){Fa(zh.current);var e=Fa(as.current),n=k1(e,t.type);e!==n&&(Wt(Bh,t),Wt(as,n))}function E2(t){Bh.current===t&&(Yt(as),Yt(Bh))}var Qt=ca(0);function qp(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var C0=[];function P2(){for(var t=0;t<C0.length;t++)C0[t]._workInProgressVersionPrimary=null;C0.length=0}var fp=Xs.ReactCurrentDispatcher,k0=Xs.ReactCurrentBatchConfig,Qa=0,Zt=null,kn=null,Fn=null,Vp=!1,uh=!1,Uh=0,fP=0;function Xn(){throw Error(Ee(321))}function I2(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!jr(t[n],e[n]))return!1;return!0}function L2(t,e,n,i,r,s){if(Qa=s,Zt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,fp.current=t===null||t.memoizedState===null?mP:vP,t=n(i,r),uh){s=0;do{if(uh=!1,Uh=0,25<=s)throw Error(Ee(301));s+=1,Fn=kn=null,e.updateQueue=null,fp.current=yP,t=n(i,r)}while(uh)}if(fp.current=$p,e=kn!==null&&kn.next!==null,Qa=0,Fn=kn=Zt=null,Vp=!1,e)throw Error(Ee(300));return t}function T2(){var t=Uh!==0;return Uh=0,t}function ts(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Fn===null?Zt.memoizedState=Fn=t:Fn=Fn.next=t,Fn}function cr(){if(kn===null){var t=Zt.alternate;t=t!==null?t.memoizedState:null}else t=kn.next;var e=Fn===null?Zt.memoizedState:Fn.next;if(e!==null)Fn=e,kn=t;else{if(t===null)throw Error(Ee(310));kn=t,t={memoizedState:kn.memoizedState,baseState:kn.baseState,baseQueue:kn.baseQueue,queue:kn.queue,next:null},Fn===null?Zt.memoizedState=Fn=t:Fn=Fn.next=t}return Fn}function Hh(t,e){return typeof e=="function"?e(t):e}function A0(t){var e=cr(),n=e.queue;if(n===null)throw Error(Ee(311));n.lastRenderedReducer=t;var i=kn,r=i.baseQueue,s=n.pending;if(s!==null){if(r!==null){var o=r.next;r.next=s.next,s.next=o}i.baseQueue=r=s,n.pending=null}if(r!==null){s=r.next,i=i.baseState;var a=o=null,l=null,c=s;do{var h=c.lane;if((Qa&h)===h)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),i=c.hasEagerState?c.eagerState:t(i,c.action);else{var f={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=f,o=i):l=l.next=f,Zt.lanes|=h,Za|=h}c=c.next}while(c!==null&&c!==s);l===null?o=i:l.next=a,jr(i,e.memoizedState)||(Ai=!0),e.memoizedState=i,e.baseState=o,e.baseQueue=l,n.lastRenderedState=i}if(t=n.interleaved,t!==null){r=t;do s=r.lane,Zt.lanes|=s,Za|=s,r=r.next;while(r!==t)}else r===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function E0(t){var e=cr(),n=e.queue;if(n===null)throw Error(Ee(311));n.lastRenderedReducer=t;var i=n.dispatch,r=n.pending,s=e.memoizedState;if(r!==null){n.pending=null;var o=r=r.next;do s=t(s,o.action),o=o.next;while(o!==r);jr(s,e.memoizedState)||(Ai=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,i]}function t3(){}function n3(t,e){var n=Zt,i=cr(),r=e(),s=!jr(i.memoizedState,r);if(s&&(i.memoizedState=r,Ai=!0),i=i.queue,R2(s3.bind(null,n,i,t),[t]),i.getSnapshot!==e||s||Fn!==null&&Fn.memoizedState.tag&1){if(n.flags|=2048,Wh(9,r3.bind(null,n,i,r,e),void 0,null),zn===null)throw Error(Ee(349));Qa&30||i3(n,e,r)}return r}function i3(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Zt.updateQueue,e===null?(e={lastEffect:null,stores:null},Zt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function r3(t,e,n,i){e.value=n,e.getSnapshot=i,o3(e)&&a3(t)}function s3(t,e,n){return n(function(){o3(e)&&a3(t)})}function o3(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!jr(t,n)}catch{return!0}}function a3(t){var e=Ws(t,1);e!==null&&Dr(e,t,1,-1)}function __(t){var e=ts();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Hh,lastRenderedState:t},e.queue=t,t=t.dispatch=gP.bind(null,Zt,t),[e.memoizedState,t]}function Wh(t,e,n,i){return t={tag:t,create:e,destroy:n,deps:i,next:null},e=Zt.updateQueue,e===null?(e={lastEffect:null,stores:null},Zt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t)),t}function l3(){return cr().memoizedState}function dp(t,e,n,i){var r=ts();Zt.flags|=t,r.memoizedState=Wh(1|e,n,void 0,i===void 0?null:i)}function Ug(t,e,n,i){var r=cr();i=i===void 0?null:i;var s=void 0;if(kn!==null){var o=kn.memoizedState;if(s=o.destroy,i!==null&&I2(i,o.deps)){r.memoizedState=Wh(e,n,s,i);return}}Zt.flags|=t,r.memoizedState=Wh(1|e,n,s,i)}function w_(t,e){return dp(8390656,8,t,e)}function R2(t,e){return Ug(2048,8,t,e)}function c3(t,e){return Ug(4,2,t,e)}function u3(t,e){return Ug(4,4,t,e)}function h3(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function f3(t,e,n){return n=n!=null?n.concat([t]):null,Ug(4,4,h3.bind(null,e,t),n)}function O2(){}function d3(t,e){var n=cr();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&I2(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function p3(t,e){var n=cr();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&I2(e,i[1])?i[0]:(t=t(),n.memoizedState=[t,e],t)}function g3(t,e,n){return Qa&21?(jr(n,e)||(n=wS(),Zt.lanes|=n,Za|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ai=!0),t.memoizedState=n)}function dP(t,e){var n=It;It=n!==0&&4>n?n:4,t(!0);var i=k0.transition;k0.transition={};try{t(!1),e()}finally{It=n,k0.transition=i}}function m3(){return cr().memoizedState}function pP(t,e,n){var i=Uo(t);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},v3(t))y3(e,n);else if(n=QS(t,e,n,i),n!==null){var r=pi();Dr(n,t,i,r),_3(n,e,i)}}function gP(t,e,n){var i=Uo(t),r={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(v3(t))y3(e,r);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(r.hasEagerState=!0,r.eagerState=a,jr(a,o)){var l=e.interleaved;l===null?(r.next=r,C2(e)):(r.next=l.next,l.next=r),e.interleaved=r;return}}catch{}finally{}n=QS(t,e,r,i),n!==null&&(r=pi(),Dr(n,t,i,r),_3(n,e,i))}}function v3(t){var e=t.alternate;return t===Zt||e!==null&&e===Zt}function y3(t,e){uh=Vp=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function _3(t,e,n){if(n&4194240){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,h2(t,n)}}var $p={readContext:lr,useCallback:Xn,useContext:Xn,useEffect:Xn,useImperativeHandle:Xn,useInsertionEffect:Xn,useLayoutEffect:Xn,useMemo:Xn,useReducer:Xn,useRef:Xn,useState:Xn,useDebugValue:Xn,useDeferredValue:Xn,useTransition:Xn,useMutableSource:Xn,useSyncExternalStore:Xn,useId:Xn,unstable_isNewReconciler:!1},mP={readContext:lr,useCallback:function(t,e){return ts().memoizedState=[t,e===void 0?null:e],t},useContext:lr,useEffect:w_,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,dp(4194308,4,h3.bind(null,e,t),n)},useLayoutEffect:function(t,e){return dp(4194308,4,t,e)},useInsertionEffect:function(t,e){return dp(4,2,t,e)},useMemo:function(t,e){var n=ts();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var i=ts();return e=n!==void 0?n(e):e,i.memoizedState=i.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},i.queue=t,t=t.dispatch=pP.bind(null,Zt,t),[i.memoizedState,t]},useRef:function(t){var e=ts();return t={current:t},e.memoizedState=t},useState:__,useDebugValue:O2,useDeferredValue:function(t){return ts().memoizedState=t},useTransition:function(){var t=__(!1),e=t[0];return t=dP.bind(null,t[1]),ts().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var i=Zt,r=ts();if(Xt){if(n===void 0)throw Error(Ee(407));n=n()}else{if(n=e(),zn===null)throw Error(Ee(349));Qa&30||i3(i,e,n)}r.memoizedState=n;var s={value:n,getSnapshot:e};return r.queue=s,w_(s3.bind(null,i,s,t),[t]),i.flags|=2048,Wh(9,r3.bind(null,i,s,n,e),void 0,null),n},useId:function(){var t=ts(),e=zn.identifierPrefix;if(Xt){var n=Ts,i=Ls;n=(i&~(1<<32-Mr(i)-1)).toString(32)+n,e=":"+e+"R"+n,n=Uh++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=fP++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},vP={readContext:lr,useCallback:d3,useContext:lr,useEffect:R2,useImperativeHandle:f3,useInsertionEffect:c3,useLayoutEffect:u3,useMemo:p3,useReducer:A0,useRef:l3,useState:function(){return A0(Hh)},useDebugValue:O2,useDeferredValue:function(t){var e=cr();return g3(e,kn.memoizedState,t)},useTransition:function(){var t=A0(Hh)[0],e=cr().memoizedState;return[t,e]},useMutableSource:t3,useSyncExternalStore:n3,useId:m3,unstable_isNewReconciler:!1},yP={readContext:lr,useCallback:d3,useContext:lr,useEffect:R2,useImperativeHandle:f3,useInsertionEffect:c3,useLayoutEffect:u3,useMemo:p3,useReducer:E0,useRef:l3,useState:function(){return E0(Hh)},useDebugValue:O2,useDeferredValue:function(t){var e=cr();return kn===null?e.memoizedState=t:g3(e,kn.memoizedState,t)},useTransition:function(){var t=E0(Hh)[0],e=cr().memoizedState;return[t,e]},useMutableSource:t3,useSyncExternalStore:n3,useId:m3,unstable_isNewReconciler:!1};function Ar(t,e){if(t&&t.defaultProps){e=en({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function G1(t,e,n,i){e=t.memoizedState,n=n(i,e),n=n==null?e:en({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Hg={isMounted:function(t){return(t=t._reactInternals)?cl(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var i=pi(),r=Uo(t),s=Bs(i,r);s.payload=e,n!=null&&(s.callback=n),e=Bo(t,s,r),e!==null&&(Dr(e,t,r,i),hp(e,t,r))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=pi(),r=Uo(t),s=Bs(i,r);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Bo(t,s,r),e!==null&&(Dr(e,t,r,i),hp(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=pi(),i=Uo(t),r=Bs(n,i);r.tag=2,e!=null&&(r.callback=e),e=Bo(t,r,i),e!==null&&(Dr(e,t,i,n),hp(e,t,i))}};function b_(t,e,n,i,r,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,s,o):e.prototype&&e.prototype.isPureReactComponent?!Mh(n,i)||!Mh(r,s):!0}function w3(t,e,n){var i=!1,r=ea,s=e.contextType;return typeof s=="object"&&s!==null?s=lr(s):(r=Li(e)?Xa:li.current,i=e.contextTypes,s=(i=i!=null)?Cc(t,r):ea),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Hg,t.stateNode=e,e._reactInternals=t,i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=s),e}function x_(t,e,n,i){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&Hg.enqueueReplaceState(e,e.state,null)}function Y1(t,e,n,i){var r=t.stateNode;r.props=n,r.state=t.memoizedState,r.refs={},k2(t);var s=e.contextType;typeof s=="object"&&s!==null?r.context=lr(s):(s=Li(e)?Xa:li.current,r.context=Cc(t,s)),r.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(G1(t,e,s,n),r.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&Hg.enqueueReplaceState(r,r.state,null),Wp(t,n,r,i),r.state=t.memoizedState),typeof r.componentDidMount=="function"&&(t.flags|=4194308)}function Pc(t,e){try{var n="",i=e;do n+=$A(i),i=i.return;while(i);var r=n}catch(s){r=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:r,digest:null}}function P0(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function K1(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var _P=typeof WeakMap=="function"?WeakMap:Map;function b3(t,e,n){n=Bs(-1,n),n.tag=3,n.payload={element:null};var i=e.value;return n.callback=function(){Yp||(Yp=!0,sv=i),K1(t,e)},n}function x3(t,e,n){n=Bs(-1,n),n.tag=3;var i=t.type.getDerivedStateFromError;if(typeof i=="function"){var r=e.value;n.payload=function(){return i(r)},n.callback=function(){K1(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){K1(t,e),typeof i!="function"&&(zo===null?zo=new Set([this]):zo.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function S_(t,e,n){var i=t.pingCache;if(i===null){i=t.pingCache=new _P;var r=new Set;i.set(e,r)}else r=i.get(e),r===void 0&&(r=new Set,i.set(e,r));r.has(n)||(r.add(n),t=RP.bind(null,t,e,n),e.then(t,t))}function N_(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function C_(t,e,n,i,r){return t.mode&1?(t.flags|=65536,t.lanes=r,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Bs(-1,1),e.tag=2,Bo(n,e,1))),n.lanes|=1),t)}var wP=Xs.ReactCurrentOwner,Ai=!1;function fi(t,e,n,i){e.child=t===null?JS(e,null,n,i):Ac(e,t.child,n,i)}function k_(t,e,n,i,r){n=n.render;var s=e.ref;return pc(e,r),i=L2(t,e,n,i,s,r),n=T2(),t!==null&&!Ai?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,qs(t,e,r)):(Xt&&n&&_2(e),e.flags|=1,fi(t,e,i,r),e.child)}function A_(t,e,n,i,r){if(t===null){var s=n.type;return typeof s=="function"&&!H2(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,S3(t,e,s,i,r)):(t=vp(n.type,null,i,e,e.mode,r),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&r)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Mh,n(o,i)&&t.ref===e.ref)return qs(t,e,r)}return e.flags|=1,t=Ho(s,i),t.ref=e.ref,t.return=e,e.child=t}function S3(t,e,n,i,r){if(t!==null){var s=t.memoizedProps;if(Mh(s,i)&&t.ref===e.ref)if(Ai=!1,e.pendingProps=i=s,(t.lanes&r)!==0)t.flags&131072&&(Ai=!0);else return e.lanes=t.lanes,qs(t,e,r)}return X1(t,e,n,i,r)}function N3(t,e,n){var i=e.pendingProps,r=i.children,s=t!==null?t.memoizedState:null;if(i.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Wt(ac,Ui),Ui|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Wt(ac,Ui),Ui|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=s!==null?s.baseLanes:n,Wt(ac,Ui),Ui|=i}else s!==null?(i=s.baseLanes|n,e.memoizedState=null):i=n,Wt(ac,Ui),Ui|=i;return fi(t,e,r,n),e.child}function C3(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function X1(t,e,n,i,r){var s=Li(n)?Xa:li.current;return s=Cc(e,s),pc(e,r),n=L2(t,e,n,i,s,r),i=T2(),t!==null&&!Ai?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,qs(t,e,r)):(Xt&&i&&_2(e),e.flags|=1,fi(t,e,n,r),e.child)}function E_(t,e,n,i,r){if(Li(n)){var s=!0;jp(e)}else s=!1;if(pc(e,r),e.stateNode===null)pp(t,e),w3(e,n,i),Y1(e,n,i,r),i=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=lr(c):(c=Li(n)?Xa:li.current,c=Cc(e,c));var h=n.getDerivedStateFromProps,f=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==i||l!==c)&&x_(e,o,i,c),bo=!1;var d=e.memoizedState;o.state=d,Wp(e,i,o,r),l=e.memoizedState,a!==i||d!==l||Ii.current||bo?(typeof h=="function"&&(G1(e,n,h,i),l=e.memoizedState),(a=bo||b_(e,n,a,i,d,l,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=l),o.props=i,o.state=l,o.context=c,i=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{o=e.stateNode,ZS(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Ar(e.type,a),o.props=c,f=e.pendingProps,d=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=lr(l):(l=Li(n)?Xa:li.current,l=Cc(e,l));var p=n.getDerivedStateFromProps;(h=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||d!==l)&&x_(e,o,i,l),bo=!1,d=e.memoizedState,o.state=d,Wp(e,i,o,r);var w=e.memoizedState;a!==f||d!==w||Ii.current||bo?(typeof p=="function"&&(G1(e,n,p,i),w=e.memoizedState),(c=bo||b_(e,n,c,i,d,w,l)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(i,w,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(i,w,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=w),o.props=i,o.state=w,o.context=l,i=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),i=!1)}return J1(t,e,n,i,s,r)}function J1(t,e,n,i,r,s){C3(t,e);var o=(e.flags&128)!==0;if(!i&&!o)return r&&d_(e,n,!1),qs(t,e,s);i=e.stateNode,wP.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,t!==null&&o?(e.child=Ac(e,t.child,null,s),e.child=Ac(e,null,a,s)):fi(t,e,a,s),e.memoizedState=i.state,r&&d_(e,n,!0),e.child}function k3(t){var e=t.stateNode;e.pendingContext?f_(t,e.pendingContext,e.pendingContext!==e.context):e.context&&f_(t,e.context,!1),A2(t,e.containerInfo)}function P_(t,e,n,i,r){return kc(),b2(r),e.flags|=256,fi(t,e,n,i),e.child}var Q1={dehydrated:null,treeContext:null,retryLane:0};function Z1(t){return{baseLanes:t,cachePool:null,transitions:null}}function A3(t,e,n){var i=e.pendingProps,r=Qt.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(r&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(r|=1),Wt(Qt,r&1),t===null)return V1(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=i.children,t=i.fallback,s?(i=e.mode,s=e.child,o={mode:"hidden",children:o},!(i&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Vg(o,i,0,null),t=Wa(t,i,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Z1(n),e.memoizedState=Q1,t):M2(e,o));if(r=t.memoizedState,r!==null&&(a=r.dehydrated,a!==null))return bP(t,e,o,i,a,r,n);if(s){s=i.fallback,o=e.mode,r=t.child,a=r.sibling;var l={mode:"hidden",children:i.children};return!(o&1)&&e.child!==r?(i=e.child,i.childLanes=0,i.pendingProps=l,e.deletions=null):(i=Ho(r,l),i.subtreeFlags=r.subtreeFlags&14680064),a!==null?s=Ho(a,s):(s=Wa(s,o,n,null),s.flags|=2),s.return=e,i.return=e,i.sibling=s,e.child=i,i=s,s=e.child,o=t.child.memoizedState,o=o===null?Z1(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Q1,i}return s=t.child,t=s.sibling,i=Ho(s,{mode:"visible",children:i.children}),!(e.mode&1)&&(i.lanes=n),i.return=e,i.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=i,e.memoizedState=null,i}function M2(t,e){return e=Vg({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Od(t,e,n,i){return i!==null&&b2(i),Ac(e,t.child,null,n),t=M2(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function bP(t,e,n,i,r,s,o){if(n)return e.flags&256?(e.flags&=-257,i=P0(Error(Ee(422))),Od(t,e,o,i)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=i.fallback,r=e.mode,i=Vg({mode:"visible",children:i.children},r,0,null),s=Wa(s,r,o,null),s.flags|=2,i.return=e,s.return=e,i.sibling=s,e.child=i,e.mode&1&&Ac(e,t.child,null,o),e.child.memoizedState=Z1(o),e.memoizedState=Q1,s);if(!(e.mode&1))return Od(t,e,o,null);if(r.data==="$!"){if(i=r.nextSibling&&r.nextSibling.dataset,i)var a=i.dgst;return i=a,s=Error(Ee(419)),i=P0(s,i,void 0),Od(t,e,o,i)}if(a=(o&t.childLanes)!==0,Ai||a){if(i=zn,i!==null){switch(o&-o){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(i.suspendedLanes|o)?0:r,r!==0&&r!==s.retryLane&&(s.retryLane=r,Ws(t,r),Dr(i,t,r,-1))}return U2(),i=P0(Error(Ee(421))),Od(t,e,o,i)}return r.data==="$?"?(e.flags|=128,e.child=t.child,e=OP.bind(null,t),r._reactRetry=e,null):(t=s.treeContext,Hi=jo(r.nextSibling),qi=e,Xt=!0,Ir=null,t!==null&&(ir[rr++]=Ls,ir[rr++]=Ts,ir[rr++]=Ja,Ls=t.id,Ts=t.overflow,Ja=e),e=M2(e,i.children),e.flags|=4096,e)}function I_(t,e,n){t.lanes|=e;var i=t.alternate;i!==null&&(i.lanes|=e),$1(t.return,e,n)}function I0(t,e,n,i,r){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=n,s.tailMode=r)}function E3(t,e,n){var i=e.pendingProps,r=i.revealOrder,s=i.tail;if(fi(t,e,i.children,n),i=Qt.current,i&2)i=i&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&I_(t,n,e);else if(t.tag===19)I_(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}i&=1}if(Wt(Qt,i),!(e.mode&1))e.memoizedState=null;else switch(r){case"forwards":for(n=e.child,r=null;n!==null;)t=n.alternate,t!==null&&qp(t)===null&&(r=n),n=n.sibling;n=r,n===null?(r=e.child,e.child=null):(r=n.sibling,n.sibling=null),I0(e,!1,r,n,s);break;case"backwards":for(n=null,r=e.child,e.child=null;r!==null;){if(t=r.alternate,t!==null&&qp(t)===null){e.child=r;break}t=r.sibling,r.sibling=n,n=r,r=t}I0(e,!0,n,null,s);break;case"together":I0(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function pp(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function qs(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Za|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Ee(153));if(e.child!==null){for(t=e.child,n=Ho(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ho(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function xP(t,e,n){switch(e.tag){case 3:k3(e),kc();break;case 5:e3(e);break;case 1:Li(e.type)&&jp(e);break;case 4:A2(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,r=e.memoizedProps.value;Wt(Up,i._currentValue),i._currentValue=r;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?(Wt(Qt,Qt.current&1),e.flags|=128,null):n&e.child.childLanes?A3(t,e,n):(Wt(Qt,Qt.current&1),t=qs(t,e,n),t!==null?t.sibling:null);Wt(Qt,Qt.current&1);break;case 19:if(i=(n&e.childLanes)!==0,t.flags&128){if(i)return E3(t,e,n);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),Wt(Qt,Qt.current),i)break;return null;case 22:case 23:return e.lanes=0,N3(t,e,n)}return qs(t,e,n)}var P3,ev,I3,L3;P3=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};ev=function(){};I3=function(t,e,n,i){var r=t.memoizedProps;if(r!==i){t=e.stateNode,Fa(as.current);var s=null;switch(n){case"input":r=x1(t,r),i=x1(t,i),s=[];break;case"select":r=en({},r,{value:void 0}),i=en({},i,{value:void 0}),s=[];break;case"textarea":r=C1(t,r),i=C1(t,i),s=[];break;default:typeof r.onClick!="function"&&typeof i.onClick=="function"&&(t.onclick=Dp)}A1(n,i);var o;n=null;for(c in r)if(!i.hasOwnProperty(c)&&r.hasOwnProperty(c)&&r[c]!=null)if(c==="style"){var a=r[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Eh.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in i){var l=i[c];if(a=r!=null?r[c]:void 0,i.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Eh.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&qt("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};L3=function(t,e,n,i){n!==i&&(e.flags|=4)};function Ru(t,e){if(!Xt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function Jn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,i=0;if(e)for(var r=t.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags&14680064,i|=r.flags&14680064,r.return=t,r=r.sibling;else for(r=t.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=t,r=r.sibling;return t.subtreeFlags|=i,t.childLanes=n,e}function SP(t,e,n){var i=e.pendingProps;switch(w2(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Jn(e),null;case 1:return Li(e.type)&&Fp(),Jn(e),null;case 3:return i=e.stateNode,Ec(),Yt(Ii),Yt(li),P2(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(t===null||t.child===null)&&(Td(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ir!==null&&(lv(Ir),Ir=null))),ev(t,e),Jn(e),null;case 5:E2(e);var r=Fa(zh.current);if(n=e.type,t!==null&&e.stateNode!=null)I3(t,e,n,i,r),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error(Ee(166));return Jn(e),null}if(t=Fa(as.current),Td(e)){i=e.stateNode,n=e.type;var s=e.memoizedProps;switch(i[rs]=e,i[jh]=s,t=(e.mode&1)!==0,n){case"dialog":qt("cancel",i),qt("close",i);break;case"iframe":case"object":case"embed":qt("load",i);break;case"video":case"audio":for(r=0;r<Zu.length;r++)qt(Zu[r],i);break;case"source":qt("error",i);break;case"img":case"image":case"link":qt("error",i),qt("load",i);break;case"details":qt("toggle",i);break;case"input":B5(i,s),qt("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!s.multiple},qt("invalid",i);break;case"textarea":U5(i,s),qt("invalid",i)}A1(n,s),r=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?i.textContent!==a&&(s.suppressHydrationWarning!==!0&&Ld(i.textContent,a,t),r=["children",a]):typeof a=="number"&&i.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Ld(i.textContent,a,t),r=["children",""+a]):Eh.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&qt("scroll",i)}switch(n){case"input":Sd(i),z5(i,s,!0);break;case"textarea":Sd(i),H5(i);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(i.onclick=Dp)}i=r,e.updateQueue=i,i!==null&&(e.flags|=4)}else{o=r.nodeType===9?r:r.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=sS(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof i.is=="string"?t=o.createElement(n,{is:i.is}):(t=o.createElement(n),n==="select"&&(o=t,i.multiple?o.multiple=!0:i.size&&(o.size=i.size))):t=o.createElementNS(t,n),t[rs]=e,t[jh]=i,P3(t,e,!1,!1),e.stateNode=t;e:{switch(o=E1(n,i),n){case"dialog":qt("cancel",t),qt("close",t),r=i;break;case"iframe":case"object":case"embed":qt("load",t),r=i;break;case"video":case"audio":for(r=0;r<Zu.length;r++)qt(Zu[r],t);r=i;break;case"source":qt("error",t),r=i;break;case"img":case"image":case"link":qt("error",t),qt("load",t),r=i;break;case"details":qt("toggle",t),r=i;break;case"input":B5(t,i),r=x1(t,i),qt("invalid",t);break;case"option":r=i;break;case"select":t._wrapperState={wasMultiple:!!i.multiple},r=en({},i,{value:void 0}),qt("invalid",t);break;case"textarea":U5(t,i),r=C1(t,i),qt("invalid",t);break;default:r=i}A1(n,r),a=r;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?lS(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&oS(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Ph(t,l):typeof l=="number"&&Ph(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Eh.hasOwnProperty(s)?l!=null&&s==="onScroll"&&qt("scroll",t):l!=null&&s2(t,s,l,o))}switch(n){case"input":Sd(t),z5(t,i,!1);break;case"textarea":Sd(t),H5(t);break;case"option":i.value!=null&&t.setAttribute("value",""+Zo(i.value));break;case"select":t.multiple=!!i.multiple,s=i.value,s!=null?uc(t,!!i.multiple,s,!1):i.defaultValue!=null&&uc(t,!!i.multiple,i.defaultValue,!0);break;default:typeof r.onClick=="function"&&(t.onclick=Dp)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Jn(e),null;case 6:if(t&&e.stateNode!=null)L3(t,e,t.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(Ee(166));if(n=Fa(zh.current),Fa(as.current),Td(e)){if(i=e.stateNode,n=e.memoizedProps,i[rs]=e,(s=i.nodeValue!==n)&&(t=qi,t!==null))switch(t.tag){case 3:Ld(i.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ld(i.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else i=(n.nodeType===9?n:n.ownerDocument).createTextNode(i),i[rs]=e,e.stateNode=i}return Jn(e),null;case 13:if(Yt(Qt),i=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Xt&&Hi!==null&&e.mode&1&&!(e.flags&128))KS(),kc(),e.flags|=98560,s=!1;else if(s=Td(e),i!==null&&i.dehydrated!==null){if(t===null){if(!s)throw Error(Ee(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Ee(317));s[rs]=e}else kc(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Jn(e),s=!1}else Ir!==null&&(lv(Ir),Ir=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(i=i!==null,i!==(t!==null&&t.memoizedState!==null)&&i&&(e.child.flags|=8192,e.mode&1&&(t===null||Qt.current&1?Ln===0&&(Ln=3):U2())),e.updateQueue!==null&&(e.flags|=4),Jn(e),null);case 4:return Ec(),ev(t,e),t===null&&Dh(e.stateNode.containerInfo),Jn(e),null;case 10:return N2(e.type._context),Jn(e),null;case 17:return Li(e.type)&&Fp(),Jn(e),null;case 19:if(Yt(Qt),s=e.memoizedState,s===null)return Jn(e),null;if(i=(e.flags&128)!==0,o=s.rendering,o===null)if(i)Ru(s,!1);else{if(Ln!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=qp(t),o!==null){for(e.flags|=128,Ru(s,!1),i=o.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=n,n=e.child;n!==null;)s=n,t=i,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Wt(Qt,Qt.current&1|2),e.child}t=t.sibling}s.tail!==null&&fn()>Ic&&(e.flags|=128,i=!0,Ru(s,!1),e.lanes=4194304)}else{if(!i)if(t=qp(o),t!==null){if(e.flags|=128,i=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ru(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Xt)return Jn(e),null}else 2*fn()-s.renderingStartTime>Ic&&n!==1073741824&&(e.flags|=128,i=!0,Ru(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=fn(),e.sibling=null,n=Qt.current,Wt(Qt,i?n&1|2:n&1),e):(Jn(e),null);case 22:case 23:return z2(),i=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==i&&(e.flags|=8192),i&&e.mode&1?Ui&1073741824&&(Jn(e),e.subtreeFlags&6&&(e.flags|=8192)):Jn(e),null;case 24:return null;case 25:return null}throw Error(Ee(156,e.tag))}function NP(t,e){switch(w2(e),e.tag){case 1:return Li(e.type)&&Fp(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ec(),Yt(Ii),Yt(li),P2(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return E2(e),null;case 13:if(Yt(Qt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Ee(340));kc()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Yt(Qt),null;case 4:return Ec(),null;case 10:return N2(e.type._context),null;case 22:case 23:return z2(),null;case 24:return null;default:return null}}var Md=!1,ii=!1,CP=typeof WeakSet=="function"?WeakSet:Set,ze=null;function oc(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(i){an(t,e,i)}else n.current=null}function tv(t,e,n){try{n()}catch(i){an(t,e,i)}}var L_=!1;function kP(t,e){if(j1=Rp,t=DS(),y2(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var r=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,h=0,f=t,d=null;t:for(;;){for(var p;f!==n||r!==0&&f.nodeType!==3||(a=o+r),f!==s||i!==0&&f.nodeType!==3||(l=o+i),f.nodeType===3&&(o+=f.nodeValue.length),(p=f.firstChild)!==null;)d=f,f=p;for(;;){if(f===t)break t;if(d===n&&++c===r&&(a=o),d===s&&++h===i&&(l=o),(p=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(B1={focusedElem:t,selectionRange:n},Rp=!1,ze=e;ze!==null;)if(e=ze,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ze=t;else for(;ze!==null;){e=ze;try{var w=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var y=w.memoizedProps,S=w.memoizedState,m=e.stateNode,_=m.getSnapshotBeforeUpdate(e.elementType===e.type?y:Ar(e.type,y),S);m.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ee(163))}}catch(N){an(e,e.return,N)}if(t=e.sibling,t!==null){t.return=e.return,ze=t;break}ze=e.return}return w=L_,L_=!1,w}function hh(t,e,n){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var r=i=i.next;do{if((r.tag&t)===t){var s=r.destroy;r.destroy=void 0,s!==void 0&&tv(e,n,s)}r=r.next}while(r!==i)}}function Wg(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var i=n.create;n.destroy=i()}n=n.next}while(n!==e)}}function nv(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function T3(t){var e=t.alternate;e!==null&&(t.alternate=null,T3(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[rs],delete e[jh],delete e[H1],delete e[lP],delete e[cP])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function R3(t){return t.tag===5||t.tag===3||t.tag===4}function T_(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||R3(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function iv(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Dp));else if(i!==4&&(t=t.child,t!==null))for(iv(t,e,n),t=t.sibling;t!==null;)iv(t,e,n),t=t.sibling}function rv(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(i!==4&&(t=t.child,t!==null))for(rv(t,e,n),t=t.sibling;t!==null;)rv(t,e,n),t=t.sibling}var qn=null,Pr=!1;function po(t,e,n){for(n=n.child;n!==null;)O3(t,e,n),n=n.sibling}function O3(t,e,n){if(os&&typeof os.onCommitFiberUnmount=="function")try{os.onCommitFiberUnmount(Mg,n)}catch{}switch(n.tag){case 5:ii||oc(n,e);case 6:var i=qn,r=Pr;qn=null,po(t,e,n),qn=i,Pr=r,qn!==null&&(Pr?(t=qn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):qn.removeChild(n.stateNode));break;case 18:qn!==null&&(Pr?(t=qn,n=n.stateNode,t.nodeType===8?S0(t.parentNode,n):t.nodeType===1&&S0(t,n),Rh(t)):S0(qn,n.stateNode));break;case 4:i=qn,r=Pr,qn=n.stateNode.containerInfo,Pr=!0,po(t,e,n),qn=i,Pr=r;break;case 0:case 11:case 14:case 15:if(!ii&&(i=n.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){r=i=i.next;do{var s=r,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&tv(n,e,o),r=r.next}while(r!==i)}po(t,e,n);break;case 1:if(!ii&&(oc(n,e),i=n.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(a){an(n,e,a)}po(t,e,n);break;case 21:po(t,e,n);break;case 22:n.mode&1?(ii=(i=ii)||n.memoizedState!==null,po(t,e,n),ii=i):po(t,e,n);break;default:po(t,e,n)}}function R_(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new CP),e.forEach(function(i){var r=MP.bind(null,t,i);n.has(i)||(n.add(i),i.then(r,r))})}}function Nr(t,e){var n=e.deletions;if(n!==null)for(var i=0;i<n.length;i++){var r=n[i];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:qn=a.stateNode,Pr=!1;break e;case 3:qn=a.stateNode.containerInfo,Pr=!0;break e;case 4:qn=a.stateNode.containerInfo,Pr=!0;break e}a=a.return}if(qn===null)throw Error(Ee(160));O3(s,o,r),qn=null,Pr=!1;var l=r.alternate;l!==null&&(l.return=null),r.return=null}catch(c){an(r,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)M3(e,t),e=e.sibling}function M3(t,e){var n=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Nr(e,t),Jr(t),i&4){try{hh(3,t,t.return),Wg(3,t)}catch(y){an(t,t.return,y)}try{hh(5,t,t.return)}catch(y){an(t,t.return,y)}}break;case 1:Nr(e,t),Jr(t),i&512&&n!==null&&oc(n,n.return);break;case 5:if(Nr(e,t),Jr(t),i&512&&n!==null&&oc(n,n.return),t.flags&32){var r=t.stateNode;try{Ph(r,"")}catch(y){an(t,t.return,y)}}if(i&4&&(r=t.stateNode,r!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&iS(r,s),E1(a,o);var c=E1(a,s);for(o=0;o<l.length;o+=2){var h=l[o],f=l[o+1];h==="style"?lS(r,f):h==="dangerouslySetInnerHTML"?oS(r,f):h==="children"?Ph(r,f):s2(r,h,f,c)}switch(a){case"input":S1(r,s);break;case"textarea":rS(r,s);break;case"select":var d=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?uc(r,!!s.multiple,p,!1):d!==!!s.multiple&&(s.defaultValue!=null?uc(r,!!s.multiple,s.defaultValue,!0):uc(r,!!s.multiple,s.multiple?[]:"",!1))}r[jh]=s}catch(y){an(t,t.return,y)}}break;case 6:if(Nr(e,t),Jr(t),i&4){if(t.stateNode===null)throw Error(Ee(162));r=t.stateNode,s=t.memoizedProps;try{r.nodeValue=s}catch(y){an(t,t.return,y)}}break;case 3:if(Nr(e,t),Jr(t),i&4&&n!==null&&n.memoizedState.isDehydrated)try{Rh(e.containerInfo)}catch(y){an(t,t.return,y)}break;case 4:Nr(e,t),Jr(t);break;case 13:Nr(e,t),Jr(t),r=t.child,r.flags&8192&&(s=r.memoizedState!==null,r.stateNode.isHidden=s,!s||r.alternate!==null&&r.alternate.memoizedState!==null||(j2=fn())),i&4&&R_(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(ii=(c=ii)||h,Nr(e,t),ii=c):Nr(e,t),Jr(t),i&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!h&&t.mode&1)for(ze=t,h=t.child;h!==null;){for(f=ze=h;ze!==null;){switch(d=ze,p=d.child,d.tag){case 0:case 11:case 14:case 15:hh(4,d,d.return);break;case 1:oc(d,d.return);var w=d.stateNode;if(typeof w.componentWillUnmount=="function"){i=d,n=d.return;try{e=i,w.props=e.memoizedProps,w.state=e.memoizedState,w.componentWillUnmount()}catch(y){an(i,n,y)}}break;case 5:oc(d,d.return);break;case 22:if(d.memoizedState!==null){M_(f);continue}}p!==null?(p.return=d,ze=p):M_(f)}h=h.sibling}e:for(h=null,f=t;;){if(f.tag===5){if(h===null){h=f;try{r=f.stateNode,c?(s=r.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=aS("display",o))}catch(y){an(t,t.return,y)}}}else if(f.tag===6){if(h===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(y){an(t,t.return,y)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Nr(e,t),Jr(t),i&4&&R_(t);break;case 21:break;default:Nr(e,t),Jr(t)}}function Jr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(R3(n)){var i=n;break e}n=n.return}throw Error(Ee(160))}switch(i.tag){case 5:var r=i.stateNode;i.flags&32&&(Ph(r,""),i.flags&=-33);var s=T_(t);rv(t,s,r);break;case 3:case 4:var o=i.stateNode.containerInfo,a=T_(t);iv(t,a,o);break;default:throw Error(Ee(161))}}catch(l){an(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function AP(t,e,n){ze=t,D3(t)}function D3(t,e,n){for(var i=(t.mode&1)!==0;ze!==null;){var r=ze,s=r.child;if(r.tag===22&&i){var o=r.memoizedState!==null||Md;if(!o){var a=r.alternate,l=a!==null&&a.memoizedState!==null||ii;a=Md;var c=ii;if(Md=o,(ii=l)&&!c)for(ze=r;ze!==null;)o=ze,l=o.child,o.tag===22&&o.memoizedState!==null?D_(r):l!==null?(l.return=o,ze=l):D_(r);for(;s!==null;)ze=s,D3(s),s=s.sibling;ze=r,Md=a,ii=c}O_(t)}else r.subtreeFlags&8772&&s!==null?(s.return=r,ze=s):O_(t)}}function O_(t){for(;ze!==null;){var e=ze;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ii||Wg(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!ii)if(n===null)i.componentDidMount();else{var r=e.elementType===e.type?n.memoizedProps:Ar(e.type,n.memoizedProps);i.componentDidUpdate(r,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&y_(e,s,i);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}y_(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var h=c.memoizedState;if(h!==null){var f=h.dehydrated;f!==null&&Rh(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ee(163))}ii||e.flags&512&&nv(e)}catch(d){an(e,e.return,d)}}if(e===t){ze=null;break}if(n=e.sibling,n!==null){n.return=e.return,ze=n;break}ze=e.return}}function M_(t){for(;ze!==null;){var e=ze;if(e===t){ze=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ze=n;break}ze=e.return}}function D_(t){for(;ze!==null;){var e=ze;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Wg(4,e)}catch(l){an(e,n,l)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var r=e.return;try{i.componentDidMount()}catch(l){an(e,r,l)}}var s=e.return;try{nv(e)}catch(l){an(e,s,l)}break;case 5:var o=e.return;try{nv(e)}catch(l){an(e,o,l)}}}catch(l){an(e,e.return,l)}if(e===t){ze=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ze=a;break}ze=e.return}}var EP=Math.ceil,Gp=Xs.ReactCurrentDispatcher,D2=Xs.ReactCurrentOwner,ar=Xs.ReactCurrentBatchConfig,_t=0,zn=null,bn=null,Vn=0,Ui=0,ac=ca(0),Ln=0,qh=null,Za=0,qg=0,F2=0,fh=null,Ci=null,j2=0,Ic=1/0,Es=null,Yp=!1,sv=null,zo=null,Dd=!1,Io=null,Kp=0,dh=0,ov=null,gp=-1,mp=0;function pi(){return _t&6?fn():gp!==-1?gp:gp=fn()}function Uo(t){return t.mode&1?_t&2&&Vn!==0?Vn&-Vn:hP.transition!==null?(mp===0&&(mp=wS()),mp):(t=It,t!==0||(t=window.event,t=t===void 0?16:AS(t.type)),t):1}function Dr(t,e,n,i){if(50<dh)throw dh=0,ov=null,Error(Ee(185));df(t,n,i),(!(_t&2)||t!==zn)&&(t===zn&&(!(_t&2)&&(qg|=n),Ln===4&&So(t,Vn)),Ti(t,i),n===1&&_t===0&&!(e.mode&1)&&(Ic=fn()+500,zg&&ua()))}function Ti(t,e){var n=t.callbackNode;hE(t,e);var i=Tp(t,t===zn?Vn:0);if(i===0)n!==null&&V5(n),t.callbackNode=null,t.callbackPriority=0;else if(e=i&-i,t.callbackPriority!==e){if(n!=null&&V5(n),e===1)t.tag===0?uP(F_.bind(null,t)):$S(F_.bind(null,t)),oP(function(){!(_t&6)&&ua()}),n=null;else{switch(bS(i)){case 1:n=u2;break;case 4:n=yS;break;case 16:n=Lp;break;case 536870912:n=_S;break;default:n=Lp}n=q3(n,F3.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function F3(t,e){if(gp=-1,mp=0,_t&6)throw Error(Ee(327));var n=t.callbackNode;if(gc()&&t.callbackNode!==n)return null;var i=Tp(t,t===zn?Vn:0);if(i===0)return null;if(i&30||i&t.expiredLanes||e)e=Xp(t,i);else{e=i;var r=_t;_t|=2;var s=B3();(zn!==t||Vn!==e)&&(Es=null,Ic=fn()+500,Ha(t,e));do try{LP();break}catch(a){j3(t,a)}while(!0);S2(),Gp.current=s,_t=r,bn!==null?e=0:(zn=null,Vn=0,e=Ln)}if(e!==0){if(e===2&&(r=R1(t),r!==0&&(i=r,e=av(t,r))),e===1)throw n=qh,Ha(t,0),So(t,i),Ti(t,fn()),n;if(e===6)So(t,i);else{if(r=t.current.alternate,!(i&30)&&!PP(r)&&(e=Xp(t,i),e===2&&(s=R1(t),s!==0&&(i=s,e=av(t,s))),e===1))throw n=qh,Ha(t,0),So(t,i),Ti(t,fn()),n;switch(t.finishedWork=r,t.finishedLanes=i,e){case 0:case 1:throw Error(Ee(345));case 2:Ia(t,Ci,Es);break;case 3:if(So(t,i),(i&130023424)===i&&(e=j2+500-fn(),10<e)){if(Tp(t,0)!==0)break;if(r=t.suspendedLanes,(r&i)!==i){pi(),t.pingedLanes|=t.suspendedLanes&r;break}t.timeoutHandle=U1(Ia.bind(null,t,Ci,Es),e);break}Ia(t,Ci,Es);break;case 4:if(So(t,i),(i&4194240)===i)break;for(e=t.eventTimes,r=-1;0<i;){var o=31-Mr(i);s=1<<o,o=e[o],o>r&&(r=o),i&=~s}if(i=r,i=fn()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*EP(i/1960))-i,10<i){t.timeoutHandle=U1(Ia.bind(null,t,Ci,Es),i);break}Ia(t,Ci,Es);break;case 5:Ia(t,Ci,Es);break;default:throw Error(Ee(329))}}}return Ti(t,fn()),t.callbackNode===n?F3.bind(null,t):null}function av(t,e){var n=fh;return t.current.memoizedState.isDehydrated&&(Ha(t,e).flags|=256),t=Xp(t,e),t!==2&&(e=Ci,Ci=n,e!==null&&lv(e)),t}function lv(t){Ci===null?Ci=t:Ci.push.apply(Ci,t)}function PP(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var i=0;i<n.length;i++){var r=n[i],s=r.getSnapshot;r=r.value;try{if(!jr(s(),r))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function So(t,e){for(e&=~F2,e&=~qg,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Mr(e),i=1<<n;t[n]=-1,e&=~i}}function F_(t){if(_t&6)throw Error(Ee(327));gc();var e=Tp(t,0);if(!(e&1))return Ti(t,fn()),null;var n=Xp(t,e);if(t.tag!==0&&n===2){var i=R1(t);i!==0&&(e=i,n=av(t,i))}if(n===1)throw n=qh,Ha(t,0),So(t,e),Ti(t,fn()),n;if(n===6)throw Error(Ee(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ia(t,Ci,Es),Ti(t,fn()),null}function B2(t,e){var n=_t;_t|=1;try{return t(e)}finally{_t=n,_t===0&&(Ic=fn()+500,zg&&ua())}}function el(t){Io!==null&&Io.tag===0&&!(_t&6)&&gc();var e=_t;_t|=1;var n=ar.transition,i=It;try{if(ar.transition=null,It=1,t)return t()}finally{It=i,ar.transition=n,_t=e,!(_t&6)&&ua()}}function z2(){Ui=ac.current,Yt(ac)}function Ha(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,sP(n)),bn!==null)for(n=bn.return;n!==null;){var i=n;switch(w2(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&Fp();break;case 3:Ec(),Yt(Ii),Yt(li),P2();break;case 5:E2(i);break;case 4:Ec();break;case 13:Yt(Qt);break;case 19:Yt(Qt);break;case 10:N2(i.type._context);break;case 22:case 23:z2()}n=n.return}if(zn=t,bn=t=Ho(t.current,null),Vn=Ui=e,Ln=0,qh=null,F2=qg=Za=0,Ci=fh=null,Da!==null){for(e=0;e<Da.length;e++)if(n=Da[e],i=n.interleaved,i!==null){n.interleaved=null;var r=i.next,s=n.pending;if(s!==null){var o=s.next;s.next=r,i.next=o}n.pending=i}Da=null}return t}function j3(t,e){do{var n=bn;try{if(S2(),fp.current=$p,Vp){for(var i=Zt.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}Vp=!1}if(Qa=0,Fn=kn=Zt=null,uh=!1,Uh=0,D2.current=null,n===null||n.return===null){Ln=1,qh=e,bn=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=Vn,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,h=a,f=h.tag;if(!(h.mode&1)&&(f===0||f===11||f===15)){var d=h.alternate;d?(h.updateQueue=d.updateQueue,h.memoizedState=d.memoizedState,h.lanes=d.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=N_(o);if(p!==null){p.flags&=-257,C_(p,o,a,s,e),p.mode&1&&S_(s,c,e),e=p,l=c;var w=e.updateQueue;if(w===null){var y=new Set;y.add(l),e.updateQueue=y}else w.add(l);break e}else{if(!(e&1)){S_(s,c,e),U2();break e}l=Error(Ee(426))}}else if(Xt&&a.mode&1){var S=N_(o);if(S!==null){!(S.flags&65536)&&(S.flags|=256),C_(S,o,a,s,e),b2(Pc(l,a));break e}}s=l=Pc(l,a),Ln!==4&&(Ln=2),fh===null?fh=[s]:fh.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var m=b3(s,l,e);v_(s,m);break e;case 1:a=l;var _=s.type,x=s.stateNode;if(!(s.flags&128)&&(typeof _.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(zo===null||!zo.has(x)))){s.flags|=65536,e&=-e,s.lanes|=e;var N=x3(s,a,e);v_(s,N);break e}}s=s.return}while(s!==null)}U3(n)}catch(k){e=k,bn===n&&n!==null&&(bn=n=n.return);continue}break}while(!0)}function B3(){var t=Gp.current;return Gp.current=$p,t===null?$p:t}function U2(){(Ln===0||Ln===3||Ln===2)&&(Ln=4),zn===null||!(Za&268435455)&&!(qg&268435455)||So(zn,Vn)}function Xp(t,e){var n=_t;_t|=2;var i=B3();(zn!==t||Vn!==e)&&(Es=null,Ha(t,e));do try{IP();break}catch(r){j3(t,r)}while(!0);if(S2(),_t=n,Gp.current=i,bn!==null)throw Error(Ee(261));return zn=null,Vn=0,Ln}function IP(){for(;bn!==null;)z3(bn)}function LP(){for(;bn!==null&&!nE();)z3(bn)}function z3(t){var e=W3(t.alternate,t,Ui);t.memoizedProps=t.pendingProps,e===null?U3(t):bn=e,D2.current=null}function U3(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=NP(n,e),n!==null){n.flags&=32767,bn=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ln=6,bn=null;return}}else if(n=SP(n,e,Ui),n!==null){bn=n;return}if(e=e.sibling,e!==null){bn=e;return}bn=e=t}while(e!==null);Ln===0&&(Ln=5)}function Ia(t,e,n){var i=It,r=ar.transition;try{ar.transition=null,It=1,TP(t,e,n,i)}finally{ar.transition=r,It=i}return null}function TP(t,e,n,i){do gc();while(Io!==null);if(_t&6)throw Error(Ee(327));n=t.finishedWork;var r=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Ee(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(fE(t,s),t===zn&&(bn=zn=null,Vn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Dd||(Dd=!0,q3(Lp,function(){return gc(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=ar.transition,ar.transition=null;var o=It;It=1;var a=_t;_t|=4,D2.current=null,kP(t,n),M3(n,t),QE(B1),Rp=!!j1,B1=j1=null,t.current=n,AP(n),iE(),_t=a,It=o,ar.transition=s}else t.current=n;if(Dd&&(Dd=!1,Io=t,Kp=r),s=t.pendingLanes,s===0&&(zo=null),oE(n.stateNode),Ti(t,fn()),e!==null)for(i=t.onRecoverableError,n=0;n<e.length;n++)r=e[n],i(r.value,{componentStack:r.stack,digest:r.digest});if(Yp)throw Yp=!1,t=sv,sv=null,t;return Kp&1&&t.tag!==0&&gc(),s=t.pendingLanes,s&1?t===ov?dh++:(dh=0,ov=t):dh=0,ua(),null}function gc(){if(Io!==null){var t=bS(Kp),e=ar.transition,n=It;try{if(ar.transition=null,It=16>t?16:t,Io===null)var i=!1;else{if(t=Io,Io=null,Kp=0,_t&6)throw Error(Ee(331));var r=_t;for(_t|=4,ze=t.current;ze!==null;){var s=ze,o=s.child;if(ze.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(ze=c;ze!==null;){var h=ze;switch(h.tag){case 0:case 11:case 15:hh(8,h,s)}var f=h.child;if(f!==null)f.return=h,ze=f;else for(;ze!==null;){h=ze;var d=h.sibling,p=h.return;if(T3(h),h===c){ze=null;break}if(d!==null){d.return=p,ze=d;break}ze=p}}}var w=s.alternate;if(w!==null){var y=w.child;if(y!==null){w.child=null;do{var S=y.sibling;y.sibling=null,y=S}while(y!==null)}}ze=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,ze=o;else e:for(;ze!==null;){if(s=ze,s.flags&2048)switch(s.tag){case 0:case 11:case 15:hh(9,s,s.return)}var m=s.sibling;if(m!==null){m.return=s.return,ze=m;break e}ze=s.return}}var _=t.current;for(ze=_;ze!==null;){o=ze;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,ze=x;else e:for(o=_;ze!==null;){if(a=ze,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Wg(9,a)}}catch(k){an(a,a.return,k)}if(a===o){ze=null;break e}var N=a.sibling;if(N!==null){N.return=a.return,ze=N;break e}ze=a.return}}if(_t=r,ua(),os&&typeof os.onPostCommitFiberRoot=="function")try{os.onPostCommitFiberRoot(Mg,t)}catch{}i=!0}return i}finally{It=n,ar.transition=e}}return!1}function j_(t,e,n){e=Pc(n,e),e=b3(t,e,1),t=Bo(t,e,1),e=pi(),t!==null&&(df(t,1,e),Ti(t,e))}function an(t,e,n){if(t.tag===3)j_(t,t,n);else for(;e!==null;){if(e.tag===3){j_(e,t,n);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(zo===null||!zo.has(i))){t=Pc(n,t),t=x3(e,t,1),e=Bo(e,t,1),t=pi(),e!==null&&(df(e,1,t),Ti(e,t));break}}e=e.return}}function RP(t,e,n){var i=t.pingCache;i!==null&&i.delete(e),e=pi(),t.pingedLanes|=t.suspendedLanes&n,zn===t&&(Vn&n)===n&&(Ln===4||Ln===3&&(Vn&130023424)===Vn&&500>fn()-j2?Ha(t,0):F2|=n),Ti(t,e)}function H3(t,e){e===0&&(t.mode&1?(e=kd,kd<<=1,!(kd&130023424)&&(kd=4194304)):e=1);var n=pi();t=Ws(t,e),t!==null&&(df(t,e,n),Ti(t,n))}function OP(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),H3(t,n)}function MP(t,e){var n=0;switch(t.tag){case 13:var i=t.stateNode,r=t.memoizedState;r!==null&&(n=r.retryLane);break;case 19:i=t.stateNode;break;default:throw Error(Ee(314))}i!==null&&i.delete(e),H3(t,n)}var W3;W3=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ii.current)Ai=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Ai=!1,xP(t,e,n);Ai=!!(t.flags&131072)}else Ai=!1,Xt&&e.flags&1048576&&GS(e,zp,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;pp(t,e),t=e.pendingProps;var r=Cc(e,li.current);pc(e,n),r=L2(null,e,i,t,r,n);var s=T2();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Li(i)?(s=!0,jp(e)):s=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,k2(e),r.updater=Hg,e.stateNode=r,r._reactInternals=e,Y1(e,i,t,n),e=J1(null,e,i,!0,s,n)):(e.tag=0,Xt&&s&&_2(e),fi(null,e,r,n),e=e.child),e;case 16:i=e.elementType;e:{switch(pp(t,e),t=e.pendingProps,r=i._init,i=r(i._payload),e.type=i,r=e.tag=FP(i),t=Ar(i,t),r){case 0:e=X1(null,e,i,t,n);break e;case 1:e=E_(null,e,i,t,n);break e;case 11:e=k_(null,e,i,t,n);break e;case 14:e=A_(null,e,i,Ar(i.type,t),n);break e}throw Error(Ee(306,i,""))}return e;case 0:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Ar(i,r),X1(t,e,i,r,n);case 1:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Ar(i,r),E_(t,e,i,r,n);case 3:e:{if(k3(e),t===null)throw Error(Ee(387));i=e.pendingProps,s=e.memoizedState,r=s.element,ZS(t,e),Wp(e,i,null,n);var o=e.memoizedState;if(i=o.element,s.isDehydrated)if(s={element:i,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){r=Pc(Error(Ee(423)),e),e=P_(t,e,i,n,r);break e}else if(i!==r){r=Pc(Error(Ee(424)),e),e=P_(t,e,i,n,r);break e}else for(Hi=jo(e.stateNode.containerInfo.firstChild),qi=e,Xt=!0,Ir=null,n=JS(e,null,i,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(kc(),i===r){e=qs(t,e,n);break e}fi(t,e,i,n)}e=e.child}return e;case 5:return e3(e),t===null&&V1(e),i=e.type,r=e.pendingProps,s=t!==null?t.memoizedProps:null,o=r.children,z1(i,r)?o=null:s!==null&&z1(i,s)&&(e.flags|=32),C3(t,e),fi(t,e,o,n),e.child;case 6:return t===null&&V1(e),null;case 13:return A3(t,e,n);case 4:return A2(e,e.stateNode.containerInfo),i=e.pendingProps,t===null?e.child=Ac(e,null,i,n):fi(t,e,i,n),e.child;case 11:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Ar(i,r),k_(t,e,i,r,n);case 7:return fi(t,e,e.pendingProps,n),e.child;case 8:return fi(t,e,e.pendingProps.children,n),e.child;case 12:return fi(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(i=e.type._context,r=e.pendingProps,s=e.memoizedProps,o=r.value,Wt(Up,i._currentValue),i._currentValue=o,s!==null)if(jr(s.value,o)){if(s.children===r.children&&!Ii.current){e=qs(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===i){if(s.tag===1){l=Bs(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var h=c.pending;h===null?l.next=l:(l.next=h.next,h.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),$1(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(Ee(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),$1(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}fi(t,e,r.children,n),e=e.child}return e;case 9:return r=e.type,i=e.pendingProps.children,pc(e,n),r=lr(r),i=i(r),e.flags|=1,fi(t,e,i,n),e.child;case 14:return i=e.type,r=Ar(i,e.pendingProps),r=Ar(i.type,r),A_(t,e,i,r,n);case 15:return S3(t,e,e.type,e.pendingProps,n);case 17:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Ar(i,r),pp(t,e),e.tag=1,Li(i)?(t=!0,jp(e)):t=!1,pc(e,n),w3(e,i,r),Y1(e,i,r,n),J1(null,e,i,!0,t,n);case 19:return E3(t,e,n);case 22:return N3(t,e,n)}throw Error(Ee(156,e.tag))};function q3(t,e){return vS(t,e)}function DP(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function sr(t,e,n,i){return new DP(t,e,n,i)}function H2(t){return t=t.prototype,!(!t||!t.isReactComponent)}function FP(t){if(typeof t=="function")return H2(t)?1:0;if(t!=null){if(t=t.$$typeof,t===a2)return 11;if(t===l2)return 14}return 2}function Ho(t,e){var n=t.alternate;return n===null?(n=sr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function vp(t,e,n,i,r,s){var o=2;if(i=t,typeof t=="function")H2(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Jl:return Wa(n.children,r,s,e);case o2:o=8,r|=8;break;case y1:return t=sr(12,n,e,r|2),t.elementType=y1,t.lanes=s,t;case _1:return t=sr(13,n,e,r),t.elementType=_1,t.lanes=s,t;case w1:return t=sr(19,n,e,r),t.elementType=w1,t.lanes=s,t;case eS:return Vg(n,r,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Qx:o=10;break e;case Zx:o=9;break e;case a2:o=11;break e;case l2:o=14;break e;case wo:o=16,i=null;break e}throw Error(Ee(130,t==null?t:typeof t,""))}return e=sr(o,n,e,r),e.elementType=t,e.type=i,e.lanes=s,e}function Wa(t,e,n,i){return t=sr(7,t,i,e),t.lanes=n,t}function Vg(t,e,n,i){return t=sr(22,t,i,e),t.elementType=eS,t.lanes=n,t.stateNode={isHidden:!1},t}function L0(t,e,n){return t=sr(6,t,null,e),t.lanes=n,t}function T0(t,e,n){return e=sr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function jP(t,e,n,i,r){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=f0(0),this.expirationTimes=f0(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=f0(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function W2(t,e,n,i,r,s,o,a,l){return t=new jP(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=sr(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},k2(s),t}function BP(t,e,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Xl,key:i==null?null:""+i,children:t,containerInfo:e,implementation:n}}function V3(t){if(!t)return ea;t=t._reactInternals;e:{if(cl(t)!==t||t.tag!==1)throw Error(Ee(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Li(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Ee(171))}if(t.tag===1){var n=t.type;if(Li(n))return VS(t,n,e)}return e}function $3(t,e,n,i,r,s,o,a,l){return t=W2(n,i,!0,t,r,s,o,a,l),t.context=V3(null),n=t.current,i=pi(),r=Uo(n),s=Bs(i,r),s.callback=e??null,Bo(n,s,r),t.current.lanes=r,df(t,r,i),Ti(t,i),t}function $g(t,e,n,i){var r=e.current,s=pi(),o=Uo(r);return n=V3(n),e.context===null?e.context=n:e.pendingContext=n,e=Bs(s,o),e.payload={element:t},i=i===void 0?null:i,i!==null&&(e.callback=i),t=Bo(r,e,o),t!==null&&(Dr(t,r,o,s),hp(t,r,o)),o}function Jp(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function B_(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function q2(t,e){B_(t,e),(t=t.alternate)&&B_(t,e)}function zP(){return null}var G3=typeof reportError=="function"?reportError:function(t){console.error(t)};function V2(t){this._internalRoot=t}Gg.prototype.render=V2.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Ee(409));$g(t,e,null,null)};Gg.prototype.unmount=V2.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;el(function(){$g(null,t,null,null)}),e[Hs]=null}};function Gg(t){this._internalRoot=t}Gg.prototype.unstable_scheduleHydration=function(t){if(t){var e=NS();t={blockedOn:null,target:t,priority:e};for(var n=0;n<xo.length&&e!==0&&e<xo[n].priority;n++);xo.splice(n,0,t),n===0&&kS(t)}};function $2(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Yg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function z_(){}function UP(t,e,n,i,r){if(r){if(typeof i=="function"){var s=i;i=function(){var c=Jp(o);s.call(c)}}var o=$3(e,i,t,0,null,!1,!1,"",z_);return t._reactRootContainer=o,t[Hs]=o.current,Dh(t.nodeType===8?t.parentNode:t),el(),o}for(;r=t.lastChild;)t.removeChild(r);if(typeof i=="function"){var a=i;i=function(){var c=Jp(l);a.call(c)}}var l=W2(t,0,!1,null,null,!1,!1,"",z_);return t._reactRootContainer=l,t[Hs]=l.current,Dh(t.nodeType===8?t.parentNode:t),el(function(){$g(e,l,n,i)}),l}function Kg(t,e,n,i,r){var s=n._reactRootContainer;if(s){var o=s;if(typeof r=="function"){var a=r;r=function(){var l=Jp(o);a.call(l)}}$g(e,o,t,r)}else o=UP(n,e,t,r,i);return Jp(o)}xS=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Qu(e.pendingLanes);n!==0&&(h2(e,n|1),Ti(e,fn()),!(_t&6)&&(Ic=fn()+500,ua()))}break;case 13:el(function(){var i=Ws(t,1);if(i!==null){var r=pi();Dr(i,t,1,r)}}),q2(t,1)}};f2=function(t){if(t.tag===13){var e=Ws(t,134217728);if(e!==null){var n=pi();Dr(e,t,134217728,n)}q2(t,134217728)}};SS=function(t){if(t.tag===13){var e=Uo(t),n=Ws(t,e);if(n!==null){var i=pi();Dr(n,t,e,i)}q2(t,e)}};NS=function(){return It};CS=function(t,e){var n=It;try{return It=t,e()}finally{It=n}};I1=function(t,e,n){switch(e){case"input":if(S1(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var r=Bg(i);if(!r)throw Error(Ee(90));nS(i),S1(i,r)}}}break;case"textarea":rS(t,n);break;case"select":e=n.value,e!=null&&uc(t,!!n.multiple,e,!1)}};hS=B2;fS=el;var HP={usingClientEntryPoint:!1,Events:[gf,tc,Bg,cS,uS,B2]},Ou={findFiberByHostInstance:Ma,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},WP={bundleType:Ou.bundleType,version:Ou.version,rendererPackageName:Ou.rendererPackageName,rendererConfig:Ou.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Xs.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=gS(t),t===null?null:t.stateNode},findFiberByHostInstance:Ou.findFiberByHostInstance||zP,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fd.isDisabled&&Fd.supportsFiber)try{Mg=Fd.inject(WP),os=Fd}catch{}}$i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=HP;$i.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!$2(e))throw Error(Ee(200));return BP(t,e,null,n)};$i.createRoot=function(t,e){if(!$2(t))throw Error(Ee(299));var n=!1,i="",r=G3;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=W2(t,1,!1,null,null,n,!1,i,r),t[Hs]=e.current,Dh(t.nodeType===8?t.parentNode:t),new V2(e)};$i.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Ee(188)):(t=Object.keys(t).join(","),Error(Ee(268,t)));return t=gS(e),t=t===null?null:t.stateNode,t};$i.flushSync=function(t){return el(t)};$i.hydrate=function(t,e,n){if(!Yg(e))throw Error(Ee(200));return Kg(null,t,e,!0,n)};$i.hydrateRoot=function(t,e,n){if(!$2(t))throw Error(Ee(405));var i=n!=null&&n.hydratedSources||null,r=!1,s="",o=G3;if(n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=$3(e,null,t,1,n??null,r,!1,s,o),t[Hs]=e.current,Dh(t),i)for(t=0;t<i.length;t++)n=i[t],r=n._getVersion,r=r(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,r]:e.mutableSourceEagerHydrationData.push(n,r);return new Gg(e)};$i.render=function(t,e,n){if(!Yg(e))throw Error(Ee(200));return Kg(null,t,e,!1,n)};$i.unmountComponentAtNode=function(t){if(!Yg(t))throw Error(Ee(40));return t._reactRootContainer?(el(function(){Kg(null,null,t,!1,function(){t._reactRootContainer=null,t[Hs]=null})}),!0):!1};$i.unstable_batchedUpdates=B2;$i.unstable_renderSubtreeIntoContainer=function(t,e,n,i){if(!Yg(n))throw Error(Ee(200));if(t==null||t._reactInternals===void 0)throw Error(Ee(38));return Kg(t,e,n,!1,i)};$i.version="18.3.1-next-f1338f8080-20240426";function Y3(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Y3)}catch(t){console.error(t)}}Y3(),Yx.exports=$i;var qP=Yx.exports,U_=qP;m1.createRoot=U_.createRoot,m1.hydrateRoot=U_.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Vh(){return Vh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Vh.apply(this,arguments)}var Lo;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Lo||(Lo={}));const H_="popstate";function VP(t){t===void 0&&(t={});function e(i,r){let{pathname:s,search:o,hash:a}=i.location;return cv("",{pathname:s,search:o,hash:a},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function n(i,r){return typeof r=="string"?r:Qp(r)}return GP(e,n,null,t)}function Sn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function K3(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function $P(){return Math.random().toString(36).substr(2,8)}function W_(t,e){return{usr:t.state,key:t.key,idx:e}}function cv(t,e,n,i){return n===void 0&&(n=null),Vh({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?zc(e):e,{state:n,key:e&&e.key||i||$P()})}function Qp(t){let{pathname:e="/",search:n="",hash:i=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function zc(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substr(i),t=t.substr(0,i)),t&&(e.pathname=t)}return e}function GP(t,e,n,i){i===void 0&&(i={});let{window:r=document.defaultView,v5Compat:s=!1}=i,o=r.history,a=Lo.Pop,l=null,c=h();c==null&&(c=0,o.replaceState(Vh({},o.state,{idx:c}),""));function h(){return(o.state||{idx:null}).idx}function f(){a=Lo.Pop;let S=h(),m=S==null?null:S-c;c=S,l&&l({action:a,location:y.location,delta:m})}function d(S,m){a=Lo.Push;let _=cv(y.location,S,m);c=h()+1;let x=W_(_,c),N=y.createHref(_);try{o.pushState(x,"",N)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;r.location.assign(N)}s&&l&&l({action:a,location:y.location,delta:1})}function p(S,m){a=Lo.Replace;let _=cv(y.location,S,m);c=h();let x=W_(_,c),N=y.createHref(_);o.replaceState(x,"",N),s&&l&&l({action:a,location:y.location,delta:0})}function w(S){let m=r.location.origin!=="null"?r.location.origin:r.location.href,_=typeof S=="string"?S:Qp(S);return _=_.replace(/ $/,"%20"),Sn(m,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,m)}let y={get action(){return a},get location(){return t(r,o)},listen(S){if(l)throw new Error("A history only accepts one active listener");return r.addEventListener(H_,f),l=S,()=>{r.removeEventListener(H_,f),l=null}},createHref(S){return e(r,S)},createURL:w,encodeLocation(S){let m=w(S);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:d,replace:p,go(S){return o.go(S)}};return y}var q_;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(q_||(q_={}));function YP(t,e,n){return n===void 0&&(n="/"),KP(t,e,n)}function KP(t,e,n,i){let r=typeof e=="string"?zc(e):e,s=G2(r.pathname||"/",n);if(s==null)return null;let o=X3(t);XP(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=lI(s);a=sI(o[l],c)}return a}function X3(t,e,n,i){e===void 0&&(e=[]),n===void 0&&(n=[]),i===void 0&&(i="");let r=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(Sn(l.relativePath.startsWith(i),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(i.length));let c=Wo([i,l.relativePath]),h=n.concat(l);s.children&&s.children.length>0&&(Sn(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),X3(s.children,e,h,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:iI(c,s.index),routesMeta:h})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))r(s,o);else for(let l of J3(s.path))r(s,o,l)}),e}function J3(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,r=n.endsWith("?"),s=n.replace(/\?$/,"");if(i.length===0)return r?[s,""]:[s];let o=J3(i.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),r&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function XP(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:rI(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}const JP=/^:[\w-]+$/,QP=3,ZP=2,eI=1,tI=10,nI=-2,V_=t=>t==="*";function iI(t,e){let n=t.split("/"),i=n.length;return n.some(V_)&&(i+=nI),e&&(i+=ZP),n.filter(r=>!V_(r)).reduce((r,s)=>r+(JP.test(s)?QP:s===""?eI:tI),i)}function rI(t,e){return t.length===e.length&&t.slice(0,-1).every((i,r)=>i===e[r])?t[t.length-1]-e[e.length-1]:0}function sI(t,e,n){let{routesMeta:i}=t,r={},s="/",o=[];for(let a=0;a<i.length;++a){let l=i[a],c=a===i.length-1,h=s==="/"?e:e.slice(s.length)||"/",f=oI({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},h),d=l.route;if(!f)return null;Object.assign(r,f.params),o.push({params:r,pathname:Wo([s,f.pathname]),pathnameBase:fI(Wo([s,f.pathnameBase])),route:d}),f.pathnameBase!=="/"&&(s=Wo([s,f.pathnameBase]))}return o}function oI(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=aI(t.path,t.caseSensitive,t.end),r=e.match(n);if(!r)return null;let s=r[0],o=s.replace(/(.)\/+$/,"$1"),a=r.slice(1);return{params:i.reduce((c,h,f)=>{let{paramName:d,isOptional:p}=h;if(d==="*"){let y=a[f]||"";o=s.slice(0,s.length-y.length).replace(/(.)\/+$/,"$1")}const w=a[f];return p&&!w?c[d]=void 0:c[d]=(w||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:t}}function aI(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),K3(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let i=[],r="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(i.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(i.push({paramName:"*"}),r+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":t!==""&&t!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function lI(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return K3(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function G2(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}function cI(t,e){e===void 0&&(e="/");let{pathname:n,search:i="",hash:r=""}=typeof t=="string"?zc(t):t;return{pathname:n?n.startsWith("/")?n:uI(n,e):e,search:dI(i),hash:pI(r)}}function uI(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function R0(t,e,n,i){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function hI(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Q3(t,e){let n=hI(t);return e?n.map((i,r)=>r===n.length-1?i.pathname:i.pathnameBase):n.map(i=>i.pathnameBase)}function Z3(t,e,n,i){i===void 0&&(i=!1);let r;typeof t=="string"?r=zc(t):(r=Vh({},t),Sn(!r.pathname||!r.pathname.includes("?"),R0("?","pathname","search",r)),Sn(!r.pathname||!r.pathname.includes("#"),R0("#","pathname","hash",r)),Sn(!r.search||!r.search.includes("#"),R0("#","search","hash",r)));let s=t===""||r.pathname==="",o=s?"/":r.pathname,a;if(o==null)a=n;else{let f=e.length-1;if(!i&&o.startsWith("..")){let d=o.split("/");for(;d[0]==="..";)d.shift(),f-=1;r.pathname=d.join("/")}a=f>=0?e[f]:"/"}let l=cI(r,a),c=o&&o!=="/"&&o.endsWith("/"),h=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||h)&&(l.pathname+="/"),l}const Wo=t=>t.join("/").replace(/\/\/+/g,"/"),fI=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),dI=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,pI=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function gI(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const e4=["post","put","patch","delete"];new Set(e4);const mI=["get",...e4];new Set(mI);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function $h(){return $h=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},$h.apply(this,arguments)}const Y2=we.createContext(null),vI=we.createContext(null),ul=we.createContext(null),Xg=we.createContext(null),ha=we.createContext({outlet:null,matches:[],isDataRoute:!1}),t4=we.createContext(null);function yI(t,e){let{relative:n}=e===void 0?{}:e;vf()||Sn(!1);let{basename:i,navigator:r}=we.useContext(ul),{hash:s,pathname:o,search:a}=r4(t,{relative:n}),l=o;return i!=="/"&&(l=o==="/"?i:Wo([i,o])),r.createHref({pathname:l,search:a,hash:s})}function vf(){return we.useContext(Xg)!=null}function yf(){return vf()||Sn(!1),we.useContext(Xg).location}function n4(t){we.useContext(ul).static||we.useLayoutEffect(t)}function i4(){let{isDataRoute:t}=we.useContext(ha);return t?TI():_I()}function _I(){vf()||Sn(!1);let t=we.useContext(Y2),{basename:e,future:n,navigator:i}=we.useContext(ul),{matches:r}=we.useContext(ha),{pathname:s}=yf(),o=JSON.stringify(Q3(r,n.v7_relativeSplatPath)),a=we.useRef(!1);return n4(()=>{a.current=!0}),we.useCallback(function(c,h){if(h===void 0&&(h={}),!a.current)return;if(typeof c=="number"){i.go(c);return}let f=Z3(c,JSON.parse(o),s,h.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:Wo([e,f.pathname])),(h.replace?i.replace:i.push)(f,h.state,h)},[e,i,o,s,t])}function wI(){let{matches:t}=we.useContext(ha),e=t[t.length-1];return e?e.params:{}}function r4(t,e){let{relative:n}=e===void 0?{}:e,{future:i}=we.useContext(ul),{matches:r}=we.useContext(ha),{pathname:s}=yf(),o=JSON.stringify(Q3(r,i.v7_relativeSplatPath));return we.useMemo(()=>Z3(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function bI(t,e){return xI(t,e)}function xI(t,e,n,i){vf()||Sn(!1);let{navigator:r}=we.useContext(ul),{matches:s}=we.useContext(ha),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=yf(),h;if(e){var f;let S=typeof e=="string"?zc(e):e;l==="/"||(f=S.pathname)!=null&&f.startsWith(l)||Sn(!1),h=S}else h=c;let d=h.pathname||"/",p=d;if(l!=="/"){let S=l.replace(/^\//,"").split("/");p="/"+d.replace(/^\//,"").split("/").slice(S.length).join("/")}let w=YP(t,{pathname:p}),y=AI(w&&w.map(S=>Object.assign({},S,{params:Object.assign({},a,S.params),pathname:Wo([l,r.encodeLocation?r.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?l:Wo([l,r.encodeLocation?r.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),s,n,i);return e&&y?we.createElement(Xg.Provider,{value:{location:$h({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:Lo.Pop}},y):y}function SI(){let t=LI(),e=gI(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return we.createElement(we.Fragment,null,we.createElement("h2",null,"Unexpected Application Error!"),we.createElement("h3",{style:{fontStyle:"italic"}},e),n?we.createElement("pre",{style:r},n):null,null)}const NI=we.createElement(SI,null);class CI extends we.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?we.createElement(ha.Provider,{value:this.props.routeContext},we.createElement(t4.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function kI(t){let{routeContext:e,match:n,children:i}=t,r=we.useContext(Y2);return r&&r.static&&r.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=n.route.id),we.createElement(ha.Provider,{value:e},i)}function AI(t,e,n,i){var r;if(e===void 0&&(e=[]),n===void 0&&(n=null),i===void 0&&(i=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=i)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(r=n)==null?void 0:r.errors;if(a!=null){let h=o.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);h>=0||Sn(!1),o=o.slice(0,Math.min(o.length,h+1))}let l=!1,c=-1;if(n&&i&&i.v7_partialHydration)for(let h=0;h<o.length;h++){let f=o[h];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=h),f.route.id){let{loaderData:d,errors:p}=n,w=f.route.loader&&d[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||w){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((h,f,d)=>{let p,w=!1,y=null,S=null;n&&(p=a&&f.route.id?a[f.route.id]:void 0,y=f.route.errorElement||NI,l&&(c<0&&d===0?(RI("route-fallback"),w=!0,S=null):c===d&&(w=!0,S=f.route.hydrateFallbackElement||null)));let m=e.concat(o.slice(0,d+1)),_=()=>{let x;return p?x=y:w?x=S:f.route.Component?x=we.createElement(f.route.Component,null):f.route.element?x=f.route.element:x=h,we.createElement(kI,{match:f,routeContext:{outlet:h,matches:m,isDataRoute:n!=null},children:x})};return n&&(f.route.ErrorBoundary||f.route.errorElement||d===0)?we.createElement(CI,{location:n.location,revalidation:n.revalidation,component:y,error:p,children:_(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):_()},null)}var s4=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(s4||{}),o4=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(o4||{});function EI(t){let e=we.useContext(Y2);return e||Sn(!1),e}function PI(t){let e=we.useContext(vI);return e||Sn(!1),e}function II(t){let e=we.useContext(ha);return e||Sn(!1),e}function a4(t){let e=II(),n=e.matches[e.matches.length-1];return n.route.id||Sn(!1),n.route.id}function LI(){var t;let e=we.useContext(t4),n=PI(),i=a4();return e!==void 0?e:(t=n.errors)==null?void 0:t[i]}function TI(){let{router:t}=EI(s4.UseNavigateStable),e=a4(o4.UseNavigateStable),n=we.useRef(!1);return n4(()=>{n.current=!0}),we.useCallback(function(r,s){s===void 0&&(s={}),n.current&&(typeof r=="number"?t.navigate(r):t.navigate(r,$h({fromRouteId:e},s)))},[t,e])}const $_={};function RI(t,e,n){$_[t]||($_[t]=!0)}function OI(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function _o(t){Sn(!1)}function MI(t){let{basename:e="/",children:n=null,location:i,navigationType:r=Lo.Pop,navigator:s,static:o=!1,future:a}=t;vf()&&Sn(!1);let l=e.replace(/^\/*/,"/"),c=we.useMemo(()=>({basename:l,navigator:s,static:o,future:$h({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof i=="string"&&(i=zc(i));let{pathname:h="/",search:f="",hash:d="",state:p=null,key:w="default"}=i,y=we.useMemo(()=>{let S=G2(h,l);return S==null?null:{location:{pathname:S,search:f,hash:d,state:p,key:w},navigationType:r}},[l,h,f,d,p,w,r]);return y==null?null:we.createElement(ul.Provider,{value:c},we.createElement(Xg.Provider,{children:n,value:y}))}function DI(t){let{children:e,location:n}=t;return bI(uv(e),n)}new Promise(()=>{});function uv(t,e){e===void 0&&(e=[]);let n=[];return we.Children.forEach(t,(i,r)=>{if(!we.isValidElement(i))return;let s=[...e,r];if(i.type===we.Fragment){n.push.apply(n,uv(i.props.children,s));return}i.type!==_o&&Sn(!1),!i.props.index||!i.props.children||Sn(!1);let o={id:i.props.id||s.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(o.children=uv(i.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function hv(){return hv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},hv.apply(this,arguments)}function FI(t,e){if(t==null)return{};var n={},i=Object.keys(t),r,s;for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&(n[r]=t[r]);return n}function jI(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function BI(t,e){return t.button===0&&(!e||e==="_self")&&!jI(t)}const zI=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],UI="6";try{window.__reactRouterVersion=UI}catch{}const HI="startTransition",G_=RA[HI];function WI(t){let{basename:e,children:n,future:i,window:r}=t,s=we.useRef();s.current==null&&(s.current=VP({window:r,v5Compat:!0}));let o=s.current,[a,l]=we.useState({action:o.action,location:o.location}),{v7_startTransition:c}=i||{},h=we.useCallback(f=>{c&&G_?G_(()=>l(f)):l(f)},[l,c]);return we.useLayoutEffect(()=>o.listen(h),[o,h]),we.useEffect(()=>OI(i),[i]),we.createElement(MI,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:i})}const qI=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",VI=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,oi=we.forwardRef(function(e,n){let{onClick:i,relative:r,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:h,viewTransition:f}=e,d=FI(e,zI),{basename:p}=we.useContext(ul),w,y=!1;if(typeof c=="string"&&VI.test(c)&&(w=c,qI))try{let x=new URL(window.location.href),N=c.startsWith("//")?new URL(x.protocol+c):new URL(c),k=G2(N.pathname,p);N.origin===x.origin&&k!=null?c=k+N.search+N.hash:y=!0}catch{}let S=yI(c,{relative:r}),m=$I(c,{replace:o,state:a,target:l,preventScrollReset:h,relative:r,viewTransition:f});function _(x){i&&i(x),x.defaultPrevented||m(x)}return we.createElement("a",hv({},d,{href:w||S,onClick:y||s?i:_,ref:n,target:l}))});var Y_;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Y_||(Y_={}));var K_;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(K_||(K_={}));function $I(t,e){let{target:n,replace:i,state:r,preventScrollReset:s,relative:o,viewTransition:a}=e===void 0?{}:e,l=i4(),c=yf(),h=r4(t,{relative:o});return we.useCallback(f=>{if(BI(f,n)){f.preventDefault();let d=i!==void 0?i:Qp(c)===Qp(h);l(t,{replace:d,state:r,preventScrollReset:s,relative:o,viewTransition:a})}},[c,l,h,i,r,n,t,s,o,a])}/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function _f(t){return t+.5|0}const To=(t,e,n)=>Math.max(Math.min(t,n),e);function eh(t){return To(_f(t*2.55),0,255)}function qo(t){return To(_f(t*255),0,255)}function Is(t){return To(_f(t/2.55)/100,0,1)}function X_(t){return To(_f(t*100),0,100)}const nr={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},fv=[..."0123456789ABCDEF"],GI=t=>fv[t&15],YI=t=>fv[(t&240)>>4]+fv[t&15],jd=t=>(t&240)>>4===(t&15),KI=t=>jd(t.r)&&jd(t.g)&&jd(t.b)&&jd(t.a);function XI(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&nr[t[1]]*17,g:255&nr[t[2]]*17,b:255&nr[t[3]]*17,a:e===5?nr[t[4]]*17:255}:(e===7||e===9)&&(n={r:nr[t[1]]<<4|nr[t[2]],g:nr[t[3]]<<4|nr[t[4]],b:nr[t[5]]<<4|nr[t[6]],a:e===9?nr[t[7]]<<4|nr[t[8]]:255})),n}const JI=(t,e)=>t<255?e(t):"";function QI(t){var e=KI(t)?GI:YI;return t?"#"+e(t.r)+e(t.g)+e(t.b)+JI(t.a,e):void 0}const ZI=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function l4(t,e,n){const i=e*Math.min(n,1-n),r=(s,o=(s+t/30)%12)=>n-i*Math.max(Math.min(o-3,9-o,1),-1);return[r(0),r(8),r(4)]}function eL(t,e,n){const i=(r,s=(r+t/60)%6)=>n-n*e*Math.max(Math.min(s,4-s,1),0);return[i(5),i(3),i(1)]}function tL(t,e,n){const i=l4(t,1,.5);let r;for(e+n>1&&(r=1/(e+n),e*=r,n*=r),r=0;r<3;r++)i[r]*=1-e-n,i[r]+=e;return i}function nL(t,e,n,i,r){return t===r?(e-n)/i+(e<n?6:0):e===r?(n-t)/i+2:(t-e)/i+4}function K2(t){const n=t.r/255,i=t.g/255,r=t.b/255,s=Math.max(n,i,r),o=Math.min(n,i,r),a=(s+o)/2;let l,c,h;return s!==o&&(h=s-o,c=a>.5?h/(2-s-o):h/(s+o),l=nL(n,i,r,h,s),l=l*60+.5),[l|0,c||0,a]}function X2(t,e,n,i){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,i)).map(qo)}function J2(t,e,n){return X2(l4,t,e,n)}function iL(t,e,n){return X2(tL,t,e,n)}function rL(t,e,n){return X2(eL,t,e,n)}function c4(t){return(t%360+360)%360}function sL(t){const e=ZI.exec(t);let n=255,i;if(!e)return;e[5]!==i&&(n=e[6]?eh(+e[5]):qo(+e[5]));const r=c4(+e[2]),s=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?i=iL(r,s,o):e[1]==="hsv"?i=rL(r,s,o):i=J2(r,s,o),{r:i[0],g:i[1],b:i[2],a:n}}function oL(t,e){var n=K2(t);n[0]=c4(n[0]+e),n=J2(n),t.r=n[0],t.g=n[1],t.b=n[2]}function aL(t){if(!t)return;const e=K2(t),n=e[0],i=X_(e[1]),r=X_(e[2]);return t.a<255?`hsla(${n}, ${i}%, ${r}%, ${Is(t.a)})`:`hsl(${n}, ${i}%, ${r}%)`}const J_={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Q_={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function lL(){const t={},e=Object.keys(Q_),n=Object.keys(J_);let i,r,s,o,a;for(i=0;i<e.length;i++){for(o=a=e[i],r=0;r<n.length;r++)s=n[r],a=a.replace(s,J_[s]);s=parseInt(Q_[o],16),t[a]=[s>>16&255,s>>8&255,s&255]}return t}let Bd;function cL(t){Bd||(Bd=lL(),Bd.transparent=[0,0,0,0]);const e=Bd[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const uL=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function hL(t){const e=uL.exec(t);let n=255,i,r,s;if(e){if(e[7]!==i){const o=+e[7];n=e[8]?eh(o):To(o*255,0,255)}return i=+e[1],r=+e[3],s=+e[5],i=255&(e[2]?eh(i):To(i,0,255)),r=255&(e[4]?eh(r):To(r,0,255)),s=255&(e[6]?eh(s):To(s,0,255)),{r:i,g:r,b:s,a:n}}}function fL(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${Is(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const O0=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,Wl=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function dL(t,e,n){const i=Wl(Is(t.r)),r=Wl(Is(t.g)),s=Wl(Is(t.b));return{r:qo(O0(i+n*(Wl(Is(e.r))-i))),g:qo(O0(r+n*(Wl(Is(e.g))-r))),b:qo(O0(s+n*(Wl(Is(e.b))-s))),a:t.a+n*(e.a-t.a)}}function zd(t,e,n){if(t){let i=K2(t);i[e]=Math.max(0,Math.min(i[e]+i[e]*n,e===0?360:1)),i=J2(i),t.r=i[0],t.g=i[1],t.b=i[2]}}function u4(t,e){return t&&Object.assign(e||{},t)}function Z_(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=qo(t[3]))):(e=u4(t,{r:0,g:0,b:0,a:1}),e.a=qo(e.a)),e}function pL(t){return t.charAt(0)==="r"?hL(t):sL(t)}class Gh{constructor(e){if(e instanceof Gh)return e;const n=typeof e;let i;n==="object"?i=Z_(e):n==="string"&&(i=XI(e)||cL(e)||pL(e)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var e=u4(this._rgb);return e&&(e.a=Is(e.a)),e}set rgb(e){this._rgb=Z_(e)}rgbString(){return this._valid?fL(this._rgb):void 0}hexString(){return this._valid?QI(this._rgb):void 0}hslString(){return this._valid?aL(this._rgb):void 0}mix(e,n){if(e){const i=this.rgb,r=e.rgb;let s;const o=n===s?.5:n,a=2*o-1,l=i.a-r.a,c=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;s=1-c,i.r=255&c*i.r+s*r.r+.5,i.g=255&c*i.g+s*r.g+.5,i.b=255&c*i.b+s*r.b+.5,i.a=o*i.a+(1-o)*r.a,this.rgb=i}return this}interpolate(e,n){return e&&(this._rgb=dL(this._rgb,e._rgb,n)),this}clone(){return new Gh(this.rgb)}alpha(e){return this._rgb.a=qo(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=_f(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return zd(this._rgb,2,e),this}darken(e){return zd(this._rgb,2,-e),this}saturate(e){return zd(this._rgb,1,e),this}desaturate(e){return zd(this._rgb,1,-e),this}rotate(e){return oL(this._rgb,e),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Ns(){}const gL=(()=>{let t=0;return()=>t++})();function jt(t){return t==null}function En(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function wt(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function ur(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function Qr(t,e){return ur(t)?t:e}function yt(t,e){return typeof t>"u"?e:t}const mL=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,h4=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function Vt(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function Et(t,e,n,i){let r,s,o;if(En(t))for(s=t.length,r=0;r<s;r++)e.call(n,t[r],r);else if(wt(t))for(o=Object.keys(t),s=o.length,r=0;r<s;r++)e.call(n,t[o[r]],o[r])}function Zp(t,e){let n,i,r,s;if(!t||!e||t.length!==e.length)return!1;for(n=0,i=t.length;n<i;++n)if(r=t[n],s=e[n],r.datasetIndex!==s.datasetIndex||r.index!==s.index)return!1;return!0}function eg(t){if(En(t))return t.map(eg);if(wt(t)){const e=Object.create(null),n=Object.keys(t),i=n.length;let r=0;for(;r<i;++r)e[n[r]]=eg(t[n[r]]);return e}return t}function f4(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function vL(t,e,n,i){if(!f4(t))return;const r=e[t],s=n[t];wt(r)&&wt(s)?Yh(r,s,i):e[t]=eg(s)}function Yh(t,e,n){const i=En(e)?e:[e],r=i.length;if(!wt(t))return t;n=n||{};const s=n.merger||vL;let o;for(let a=0;a<r;++a){if(o=i[a],!wt(o))continue;const l=Object.keys(o);for(let c=0,h=l.length;c<h;++c)s(l[c],t,o,n)}return t}function ph(t,e){return Yh(t,e,{merger:yL})}function yL(t,e,n){if(!f4(t))return;const i=e[t],r=n[t];wt(i)&&wt(r)?ph(i,r):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=eg(r))}const ew={"":t=>t,x:t=>t.x,y:t=>t.y};function _L(t){const e=t.split("."),n=[];let i="";for(const r of e)i+=r,i.endsWith("\\")?i=i.slice(0,-1)+".":(n.push(i),i="");return n}function wL(t){const e=_L(t);return n=>{for(const i of e){if(i==="")break;n=n&&n[i]}return n}}function tl(t,e){return(ew[e]||(ew[e]=wL(e)))(t)}function Q2(t){return t.charAt(0).toUpperCase()+t.slice(1)}const Kh=t=>typeof t<"u",ta=t=>typeof t=="function",tw=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function bL(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const Ft=Math.PI,xn=2*Ft,tg=Number.POSITIVE_INFINITY,xL=Ft/180,Tn=Ft/2,ka=Ft/4,nw=Ft*2/3,d4=Math.log10,Vo=Math.sign;function yp(t,e,n){return Math.abs(t-e)<n}function iw(t){const e=Math.round(t);t=yp(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(d4(t))),i=t/n;return(i<=1?1:i<=2?2:i<=5?5:10)*n}function SL(t){const e=[],n=Math.sqrt(t);let i;for(i=1;i<n;i++)t%i===0&&(e.push(i),e.push(t/i));return n===(n|0)&&e.push(n),e.sort((r,s)=>r-s).pop(),e}function NL(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function ng(t){return!NL(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function CL(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function kL(t,e,n){let i,r,s;for(i=0,r=t.length;i<r;i++)s=t[i][n],isNaN(s)||(e.min=Math.min(e.min,s),e.max=Math.max(e.max,s))}function Rs(t){return t*(Ft/180)}function AL(t){return t*(180/Ft)}function rw(t){if(!ur(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function p4(t,e){const n=e.x-t.x,i=e.y-t.y,r=Math.sqrt(n*n+i*i);let s=Math.atan2(i,n);return s<-.5*Ft&&(s+=xn),{angle:s,distance:r}}function EL(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function is(t){return(t%xn+xn)%xn}function ig(t,e,n,i){const r=is(t),s=is(e),o=is(n),a=is(s-r),l=is(o-r),c=is(r-s),h=is(r-o);return r===s||r===o||i&&s===o||a>l&&c<h}function Ei(t,e,n){return Math.max(e,Math.min(n,t))}function PL(t){return Ei(t,-32768,32767)}function ja(t,e,n,i=1e-6){return t>=Math.min(e,n)-i&&t<=Math.max(e,n)+i}function Z2(t,e,n){n=n||(o=>t[o]<e);let i=t.length-1,r=0,s;for(;i-r>1;)s=r+i>>1,n(s)?r=s:i=s;return{lo:r,hi:i}}const dv=(t,e,n,i)=>Z2(t,n,i?r=>{const s=t[r][e];return s<n||s===n&&t[r+1][e]===n}:r=>t[r][e]<n),IL=(t,e,n)=>Z2(t,n,i=>t[i][e]>=n);function LL(t,e,n){let i=0,r=t.length;for(;i<r&&t[i]<e;)i++;for(;r>i&&t[r-1]>n;)r--;return i>0||r<t.length?t.slice(i,r):t}const g4=["push","pop","shift","splice","unshift"];function TL(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),g4.forEach(n=>{const i="_onData"+Q2(n),r=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...s){const o=r.apply(this,s);return t._chartjs.listeners.forEach(a=>{typeof a[i]=="function"&&a[i](...s)}),o}})})}function sw(t,e){const n=t._chartjs;if(!n)return;const i=n.listeners,r=i.indexOf(e);r!==-1&&i.splice(r,1),!(i.length>0)&&(g4.forEach(s=>{delete t[s]}),delete t._chartjs)}function m4(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const v4=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function y4(t,e){let n=[],i=!1;return function(...r){n=r,i||(i=!0,v4.call(window,()=>{i=!1,t.apply(e,n)}))}}function RL(t,e){let n;return function(...i){return e?(clearTimeout(n),n=setTimeout(t,e,i)):t.apply(this,i),e}}const ey=t=>t==="start"?"left":t==="end"?"right":"center",ni=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,OL=(t,e,n,i)=>t===(i?"left":"right")?n:t==="center"?(e+n)/2:e,Ud=t=>t===0||t===1,ow=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*xn/n)),aw=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*xn/n)+1,gh={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*Tn)+1,easeOutSine:t=>Math.sin(t*Tn),easeInOutSine:t=>-.5*(Math.cos(Ft*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>Ud(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>Ud(t)?t:ow(t,.075,.3),easeOutElastic:t=>Ud(t)?t:aw(t,.075,.3),easeInOutElastic(t){return Ud(t)?t:t<.5?.5*ow(t*2,.1125,.45):.5+.5*aw(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-gh.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?gh.easeInBounce(t*2)*.5:gh.easeOutBounce(t*2-1)*.5+.5};function _4(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function lw(t){return _4(t)?t:new Gh(t)}function M0(t){return _4(t)?t:new Gh(t).saturate(.5).darken(.1).hexString()}const ML=["x","y","borderWidth","radius","tension"],DL=["color","borderColor","backgroundColor"];function FL(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:DL},numbers:{type:"number",properties:ML}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function jL(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const cw=new Map;function BL(t,e){e=e||{};const n=t+JSON.stringify(e);let i=cw.get(n);return i||(i=new Intl.NumberFormat(t,e),cw.set(n,i)),i}function ty(t,e,n){return BL(e,n).format(t)}const zL={values(t){return En(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const i=this.chart.options.locale;let r,s=t;if(n.length>1){const c=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(c<1e-4||c>1e15)&&(r="scientific"),s=UL(t,n)}const o=d4(Math.abs(s)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:r,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),ty(t,i,l)}};function UL(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var w4={formatters:zL};function HL(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:w4.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const nl=Object.create(null),pv=Object.create(null);function mh(t,e){if(!e)return t;const n=e.split(".");for(let i=0,r=n.length;i<r;++i){const s=n[i];t=t[s]||(t[s]=Object.create(null))}return t}function D0(t,e,n){return typeof e=="string"?Yh(mh(t,e),n):Yh(mh(t,""),e)}class WL{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,r)=>M0(r.backgroundColor),this.hoverBorderColor=(i,r)=>M0(r.borderColor),this.hoverColor=(i,r)=>M0(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return D0(this,e,n)}get(e){return mh(this,e)}describe(e,n){return D0(pv,e,n)}override(e,n){return D0(nl,e,n)}route(e,n,i,r){const s=mh(this,e),o=mh(this,i),a="_"+n;Object.defineProperties(s,{[a]:{value:s[n],writable:!0},[n]:{enumerable:!0,get(){const l=this[a],c=o[r];return wt(l)?Object.assign({},c,l):yt(l,c)},set(l){this[a]=l}}})}apply(e){e.forEach(n=>n(this))}}var mn=new WL({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[FL,jL,HL]);function qL(t){return!t||jt(t.size)||jt(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function uw(t,e,n,i,r){let s=e[r];return s||(s=e[r]=t.measureText(r).width,n.push(r)),s>i&&(i=s),i}function Aa(t,e,n){const i=t.currentDevicePixelRatio,r=n!==0?Math.max(n/2,.5):0;return Math.round((e-r)*i)/i+r}function hw(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function fw(t,e,n,i){b4(t,e,n,i,null)}function b4(t,e,n,i,r){let s,o,a,l,c,h,f,d;const p=e.pointStyle,w=e.rotation,y=e.radius;let S=(w||0)*xL;if(p&&typeof p=="object"&&(s=p.toString(),s==="[object HTMLImageElement]"||s==="[object HTMLCanvasElement]")){t.save(),t.translate(n,i),t.rotate(S),t.drawImage(p,-p.width/2,-p.height/2,p.width,p.height),t.restore();return}if(!(isNaN(y)||y<=0)){switch(t.beginPath(),p){default:r?t.ellipse(n,i,r/2,y,0,0,xn):t.arc(n,i,y,0,xn),t.closePath();break;case"triangle":h=r?r/2:y,t.moveTo(n+Math.sin(S)*h,i-Math.cos(S)*y),S+=nw,t.lineTo(n+Math.sin(S)*h,i-Math.cos(S)*y),S+=nw,t.lineTo(n+Math.sin(S)*h,i-Math.cos(S)*y),t.closePath();break;case"rectRounded":c=y*.516,l=y-c,o=Math.cos(S+ka)*l,f=Math.cos(S+ka)*(r?r/2-c:l),a=Math.sin(S+ka)*l,d=Math.sin(S+ka)*(r?r/2-c:l),t.arc(n-f,i-a,c,S-Ft,S-Tn),t.arc(n+d,i-o,c,S-Tn,S),t.arc(n+f,i+a,c,S,S+Tn),t.arc(n-d,i+o,c,S+Tn,S+Ft),t.closePath();break;case"rect":if(!w){l=Math.SQRT1_2*y,h=r?r/2:l,t.rect(n-h,i-l,2*h,2*l);break}S+=ka;case"rectRot":f=Math.cos(S)*(r?r/2:y),o=Math.cos(S)*y,a=Math.sin(S)*y,d=Math.sin(S)*(r?r/2:y),t.moveTo(n-f,i-a),t.lineTo(n+d,i-o),t.lineTo(n+f,i+a),t.lineTo(n-d,i+o),t.closePath();break;case"crossRot":S+=ka;case"cross":f=Math.cos(S)*(r?r/2:y),o=Math.cos(S)*y,a=Math.sin(S)*y,d=Math.sin(S)*(r?r/2:y),t.moveTo(n-f,i-a),t.lineTo(n+f,i+a),t.moveTo(n+d,i-o),t.lineTo(n-d,i+o);break;case"star":f=Math.cos(S)*(r?r/2:y),o=Math.cos(S)*y,a=Math.sin(S)*y,d=Math.sin(S)*(r?r/2:y),t.moveTo(n-f,i-a),t.lineTo(n+f,i+a),t.moveTo(n+d,i-o),t.lineTo(n-d,i+o),S+=ka,f=Math.cos(S)*(r?r/2:y),o=Math.cos(S)*y,a=Math.sin(S)*y,d=Math.sin(S)*(r?r/2:y),t.moveTo(n-f,i-a),t.lineTo(n+f,i+a),t.moveTo(n+d,i-o),t.lineTo(n-d,i+o);break;case"line":o=r?r/2:Math.cos(S)*y,a=Math.sin(S)*y,t.moveTo(n-o,i-a),t.lineTo(n+o,i+a);break;case"dash":t.moveTo(n,i),t.lineTo(n+Math.cos(S)*(r?r/2:y),i+Math.sin(S)*y);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function x4(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function ny(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function iy(t){t.restore()}function VL(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),jt(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function $L(t,e,n,i,r){if(r.strikethrough||r.underline){const s=t.measureText(i),o=e-s.actualBoundingBoxLeft,a=e+s.actualBoundingBoxRight,l=n-s.actualBoundingBoxAscent,c=n+s.actualBoundingBoxDescent,h=r.strikethrough?(l+c)/2:c;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=r.decorationWidth||2,t.moveTo(o,h),t.lineTo(a,h),t.stroke()}}function GL(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function Xh(t,e,n,i,r,s={}){const o=En(e)?e:[e],a=s.strokeWidth>0&&s.strokeColor!=="";let l,c;for(t.save(),t.font=r.string,VL(t,s),l=0;l<o.length;++l)c=o[l],s.backdrop&&GL(t,s.backdrop),a&&(s.strokeColor&&(t.strokeStyle=s.strokeColor),jt(s.strokeWidth)||(t.lineWidth=s.strokeWidth),t.strokeText(c,n,i,s.maxWidth)),t.fillText(c,n,i,s.maxWidth),$L(t,n,i,c,s),i+=Number(r.lineHeight);t.restore()}function rg(t,e){const{x:n,y:i,w:r,h:s,radius:o}=e;t.arc(n+o.topLeft,i+o.topLeft,o.topLeft,1.5*Ft,Ft,!0),t.lineTo(n,i+s-o.bottomLeft),t.arc(n+o.bottomLeft,i+s-o.bottomLeft,o.bottomLeft,Ft,Tn,!0),t.lineTo(n+r-o.bottomRight,i+s),t.arc(n+r-o.bottomRight,i+s-o.bottomRight,o.bottomRight,Tn,0,!0),t.lineTo(n+r,i+o.topRight),t.arc(n+r-o.topRight,i+o.topRight,o.topRight,0,-Tn,!0),t.lineTo(n+o.topLeft,i)}const YL=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,KL=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function XL(t,e){const n=(""+t).match(YL);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const JL=t=>+t||0;function ry(t,e){const n={},i=wt(e),r=i?Object.keys(e):e,s=wt(t)?i?o=>yt(t[o],t[e[o]]):o=>t[o]:()=>t;for(const o of r)n[o]=JL(s(o));return n}function S4(t){return ry(t,{top:"y",right:"x",bottom:"y",left:"x"})}function mc(t){return ry(t,["topLeft","topRight","bottomLeft","bottomRight"])}function hr(t){const e=S4(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function ai(t,e){t=t||{},e=e||mn.font;let n=yt(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let i=yt(t.style,e.style);i&&!(""+i).match(KL)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const r={family:yt(t.family,e.family),lineHeight:XL(yt(t.lineHeight,e.lineHeight),n),size:n,style:i,weight:yt(t.weight,e.weight),string:""};return r.string=qL(r),r}function Hd(t,e,n,i){let r,s,o;for(r=0,s=t.length;r<s;++r)if(o=t[r],o!==void 0&&o!==void 0)return o}function QL(t,e,n){const{min:i,max:r}=t,s=h4(e,(r-i)/2),o=(a,l)=>n&&a===0?0:a+l;return{min:o(i,-Math.abs(s)),max:o(r,s)}}function Uc(t,e){return Object.assign(Object.create(t),e)}function sy(t,e=[""],n,i,r=()=>t[0]){const s=n||t;typeof i>"u"&&(i=A4("_fallback",t));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:s,_fallback:i,_getTarget:r,override:a=>sy([a,...t],e,s,i)};return new Proxy(o,{deleteProperty(a,l){return delete a[l],delete a._keys,delete t[0][l],!0},get(a,l){return C4(a,l,()=>o6(l,e,t,a))},getOwnPropertyDescriptor(a,l){return Reflect.getOwnPropertyDescriptor(a._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(a,l){return pw(a).includes(l)},ownKeys(a){return pw(a)},set(a,l,c){const h=a._storage||(a._storage=r());return a[l]=h[l]=c,delete a._keys,!0}})}function Lc(t,e,n,i){const r={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:N4(t,i),setContext:s=>Lc(t,s,n,i),override:s=>Lc(t.override(s),e,n,i)};return new Proxy(r,{deleteProperty(s,o){return delete s[o],delete t[o],!0},get(s,o,a){return C4(s,o,()=>e6(s,o,a))},getOwnPropertyDescriptor(s,o){return s._descriptors.allKeys?Reflect.has(t,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,o)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(s,o){return Reflect.has(t,o)},ownKeys(){return Reflect.ownKeys(t)},set(s,o,a){return t[o]=a,delete s[o],!0}})}function N4(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:i=e.indexable,_allKeys:r=e.allKeys}=t;return{allKeys:r,scriptable:n,indexable:i,isScriptable:ta(n)?n:()=>n,isIndexable:ta(i)?i:()=>i}}const ZL=(t,e)=>t?t+Q2(e):e,oy=(t,e)=>wt(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function C4(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const i=n();return t[e]=i,i}function e6(t,e,n){const{_proxy:i,_context:r,_subProxy:s,_descriptors:o}=t;let a=i[e];return ta(a)&&o.isScriptable(e)&&(a=t6(e,a,t,n)),En(a)&&a.length&&(a=n6(e,a,t,o.isIndexable)),oy(e,a)&&(a=Lc(a,r,s&&s[e],o)),a}function t6(t,e,n,i){const{_proxy:r,_context:s,_subProxy:o,_stack:a}=n;if(a.has(t))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+t);a.add(t);let l=e(s,o||i);return a.delete(t),oy(t,l)&&(l=ay(r._scopes,r,t,l)),l}function n6(t,e,n,i){const{_proxy:r,_context:s,_subProxy:o,_descriptors:a}=n;if(typeof s.index<"u"&&i(t))return e[s.index%e.length];if(wt(e[0])){const l=e,c=r._scopes.filter(h=>h!==l);e=[];for(const h of l){const f=ay(c,r,t,h);e.push(Lc(f,s,o&&o[t],a))}}return e}function k4(t,e,n){return ta(t)?t(e,n):t}const i6=(t,e)=>t===!0?e:typeof t=="string"?tl(e,t):void 0;function r6(t,e,n,i,r){for(const s of e){const o=i6(n,s);if(o){t.add(o);const a=k4(o._fallback,n,r);if(typeof a<"u"&&a!==n&&a!==i)return a}else if(o===!1&&typeof i<"u"&&n!==i)return null}return!1}function ay(t,e,n,i){const r=e._rootScopes,s=k4(e._fallback,n,i),o=[...t,...r],a=new Set;a.add(i);let l=dw(a,o,n,s||n,i);return l===null||typeof s<"u"&&s!==n&&(l=dw(a,o,s,l,i),l===null)?!1:sy(Array.from(a),[""],r,s,()=>s6(e,n,i))}function dw(t,e,n,i,r){for(;n;)n=r6(t,e,n,i,r);return n}function s6(t,e,n){const i=t._getTarget();e in i||(i[e]={});const r=i[e];return En(r)&&wt(n)?n:r||{}}function o6(t,e,n,i){let r;for(const s of e)if(r=A4(ZL(s,t),n),typeof r<"u")return oy(t,r)?ay(n,i,t,r):r}function A4(t,e){for(const n of e){if(!n)continue;const i=n[t];if(typeof i<"u")return i}}function pw(t){let e=t._keys;return e||(e=t._keys=a6(t._scopes)),e}function a6(t){const e=new Set;for(const n of t)for(const i of Object.keys(n).filter(r=>!r.startsWith("_")))e.add(i);return Array.from(e)}function ly(){return typeof window<"u"&&typeof document<"u"}function cy(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function sg(t,e,n){let i;return typeof t=="string"?(i=parseInt(t,10),t.indexOf("%")!==-1&&(i=i/100*e.parentNode[n])):i=t,i}const Jg=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function l6(t,e){return Jg(t).getPropertyValue(e)}const c6=["top","right","bottom","left"];function qa(t,e,n){const i={};n=n?"-"+n:"";for(let r=0;r<4;r++){const s=c6[r];i[s]=parseFloat(t[e+"-"+s+n])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const u6=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function h6(t,e){const n=t.touches,i=n&&n.length?n[0]:t,{offsetX:r,offsetY:s}=i;let o=!1,a,l;if(u6(r,s,t.target))a=r,l=s;else{const c=e.getBoundingClientRect();a=i.clientX-c.left,l=i.clientY-c.top,o=!0}return{x:a,y:l,box:o}}function La(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:i}=e,r=Jg(n),s=r.boxSizing==="border-box",o=qa(r,"padding"),a=qa(r,"border","width"),{x:l,y:c,box:h}=h6(t,n),f=o.left+(h&&a.left),d=o.top+(h&&a.top);let{width:p,height:w}=e;return s&&(p-=o.width+a.width,w-=o.height+a.height),{x:Math.round((l-f)/p*n.width/i),y:Math.round((c-d)/w*n.height/i)}}function f6(t,e,n){let i,r;if(e===void 0||n===void 0){const s=t&&cy(t);if(!s)e=t.clientWidth,n=t.clientHeight;else{const o=s.getBoundingClientRect(),a=Jg(s),l=qa(a,"border","width"),c=qa(a,"padding");e=o.width-c.width-l.width,n=o.height-c.height-l.height,i=sg(a.maxWidth,s,"clientWidth"),r=sg(a.maxHeight,s,"clientHeight")}}return{width:e,height:n,maxWidth:i||tg,maxHeight:r||tg}}const Wd=t=>Math.round(t*10)/10;function d6(t,e,n,i){const r=Jg(t),s=qa(r,"margin"),o=sg(r.maxWidth,t,"clientWidth")||tg,a=sg(r.maxHeight,t,"clientHeight")||tg,l=f6(t,e,n);let{width:c,height:h}=l;if(r.boxSizing==="content-box"){const d=qa(r,"border","width"),p=qa(r,"padding");c-=p.width+d.width,h-=p.height+d.height}return c=Math.max(0,c-s.width),h=Math.max(0,i?c/i:h-s.height),c=Wd(Math.min(c,o,l.maxWidth)),h=Wd(Math.min(h,a,l.maxHeight)),c&&!h&&(h=Wd(c/2)),(e!==void 0||n!==void 0)&&i&&l.height&&h>l.height&&(h=l.height,c=Wd(Math.floor(h*i))),{width:c,height:h}}function gw(t,e,n){const i=e||1,r=Math.floor(t.height*i),s=Math.floor(t.width*i);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const o=t.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height=`${t.height}px`,o.style.width=`${t.width}px`),t.currentDevicePixelRatio!==i||o.height!==r||o.width!==s?(t.currentDevicePixelRatio=i,o.height=r,o.width=s,t.ctx.setTransform(i,0,0,i,0,0),!0):!1}const p6=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};ly()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function mw(t,e){const n=l6(t,e),i=n&&n.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}const g6=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,i){return n-i},leftForLtr(n,i){return n-i}}},m6=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function vc(t,e,n){return t?g6(e,n):m6()}function E4(t,e){let n,i;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,i=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=i)}function P4(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function qd(t,e,n){return t.options.clip?t[n]:e[n]}function v6(t,e){const{xScale:n,yScale:i}=t;return n&&i?{left:qd(n,e,"left"),right:qd(n,e,"right"),top:qd(i,e,"top"),bottom:qd(i,e,"bottom")}:e}function y6(t,e){const n=e._clip;if(n.disabled)return!1;const i=v6(e,t.chartArea);return{left:n.left===!1?0:i.left-(n.left===!0?0:n.left),right:n.right===!1?t.width:i.right+(n.right===!0?0:n.right),top:n.top===!1?0:i.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?t.height:i.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class _6{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,i,r){const s=n.listeners[r],o=n.duration;s.forEach(a=>a({chart:e,initial:n.initial,numSteps:o,currentStep:Math.min(i-n.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=v4.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((i,r)=>{if(!i.running||!i.items.length)return;const s=i.items;let o=s.length-1,a=!1,l;for(;o>=0;--o)l=s[o],l._active?(l._total>i.duration&&(i.duration=l._total),l.tick(e),a=!0):(s[o]=s[s.length-1],s.pop());a&&(r.draw(),this._notify(r,i,e,"progress")),s.length||(i.running=!1,this._notify(r,i,e,"complete"),i.initial=!1),n+=s.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let i=n.get(e);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,i)),i}listen(e,n,i){this._getAnims(e).listeners[n].push(i)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((i,r)=>Math.max(i,r._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const i=n.items;let r=i.length-1;for(;r>=0;--r)i[r].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var ks=new _6;const vw="transparent",w6={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const i=lw(t||vw),r=i.valid&&lw(e||vw);return r&&r.valid?r.mix(i,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class b6{constructor(e,n,i,r){const s=n[i];r=Hd([e.to,r,s,e.from]);const o=Hd([e.from,s,r]);this._active=!0,this._fn=e.fn||w6[e.type||typeof o],this._easing=gh[e.easing]||gh.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=i,this._from=o,this._to=r,this._promises=void 0}active(){return this._active}update(e,n,i){if(this._active){this._notify(!1);const r=this._target[this._prop],s=i-this._start,o=this._duration-s;this._start=i,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=s,this._loop=!!e.loop,this._to=Hd([e.to,n,r,e.from]),this._from=Hd([e.from,r,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,i=this._duration,r=this._prop,s=this._from,o=this._loop,a=this._to;let l;if(this._active=s!==a&&(o||n<i),!this._active){this._target[r]=a,this._notify(!0);return}if(n<0){this._target[r]=s;return}l=n/i%2,l=o&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[r]=this._fn(s,a,l)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,i)=>{e.push({res:n,rej:i})})}_notify(e){const n=e?"res":"rej",i=this._promises||[];for(let r=0;r<i.length;r++)i[r][n]()}}class I4{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!wt(e))return;const n=Object.keys(mn.animation),i=this._properties;Object.getOwnPropertyNames(e).forEach(r=>{const s=e[r];if(!wt(s))return;const o={};for(const a of n)o[a]=s[a];(En(s.properties)&&s.properties||[r]).forEach(a=>{(a===r||!i.has(a))&&i.set(a,o)})})}_animateOptions(e,n){const i=n.options,r=S6(e,i);if(!r)return[];const s=this._createAnimations(r,i);return i.$shared&&x6(e.options.$animations,i).then(()=>{e.options=i},()=>{}),s}_createAnimations(e,n){const i=this._properties,r=[],s=e.$animations||(e.$animations={}),o=Object.keys(n),a=Date.now();let l;for(l=o.length-1;l>=0;--l){const c=o[l];if(c.charAt(0)==="$")continue;if(c==="options"){r.push(...this._animateOptions(e,n));continue}const h=n[c];let f=s[c];const d=i.get(c);if(f)if(d&&f.active()){f.update(d,h,a);continue}else f.cancel();if(!d||!d.duration){e[c]=h;continue}s[c]=f=new b6(d,e,c,h),r.push(f)}return r}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const i=this._createAnimations(e,n);if(i.length)return ks.add(this._chart,i),!0}}function x6(t,e){const n=[],i=Object.keys(e);for(let r=0;r<i.length;r++){const s=t[i[r]];s&&s.active()&&n.push(s.wait())}return Promise.all(n)}function S6(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function yw(t,e){const n=t&&t.options||{},i=n.reverse,r=n.min===void 0?e:0,s=n.max===void 0?e:0;return{start:i?s:r,end:i?r:s}}function N6(t,e,n){if(n===!1)return!1;const i=yw(t,n),r=yw(e,n);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}function C6(t){let e,n,i,r;return wt(t)?(e=t.top,n=t.right,i=t.bottom,r=t.left):e=n=i=r=t,{top:e,right:n,bottom:i,left:r,disabled:t===!1}}function L4(t,e){const n=[],i=t._getSortedDatasetMetas(e);let r,s;for(r=0,s=i.length;r<s;++r)n.push(i[r].index);return n}function _w(t,e,n,i={}){const r=t.keys,s=i.mode==="single";let o,a,l,c;if(e===null)return;let h=!1;for(o=0,a=r.length;o<a;++o){if(l=+r[o],l===n){if(h=!0,i.all)continue;break}c=t.values[l],ur(c)&&(s||e===0||Vo(e)===Vo(c))&&(e+=c)}return!h&&!i.all?0:e}function k6(t,e){const{iScale:n,vScale:i}=e,r=n.axis==="x"?"x":"y",s=i.axis==="x"?"x":"y",o=Object.keys(t),a=new Array(o.length);let l,c,h;for(l=0,c=o.length;l<c;++l)h=o[l],a[l]={[r]:h,[s]:t[h]};return a}function F0(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function A6(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function E6(t){const{min:e,max:n,minDefined:i,maxDefined:r}=t.getUserBounds();return{min:i?e:Number.NEGATIVE_INFINITY,max:r?n:Number.POSITIVE_INFINITY}}function P6(t,e,n){const i=t[e]||(t[e]={});return i[n]||(i[n]={})}function ww(t,e,n,i){for(const r of e.getMatchingVisibleMetas(i).reverse()){const s=t[r.index];if(n&&s>0||!n&&s<0)return r.index}return null}function bw(t,e){const{chart:n,_cachedMeta:i}=t,r=n._stacks||(n._stacks={}),{iScale:s,vScale:o,index:a}=i,l=s.axis,c=o.axis,h=A6(s,o,i),f=e.length;let d;for(let p=0;p<f;++p){const w=e[p],{[l]:y,[c]:S}=w,m=w._stacks||(w._stacks={});d=m[c]=P6(r,h,y),d[a]=S,d._top=ww(d,o,!0,i.type),d._bottom=ww(d,o,!1,i.type);const _=d._visualValues||(d._visualValues={});_[a]=S}}function j0(t,e){const n=t.scales;return Object.keys(n).filter(i=>n[i].axis===e).shift()}function I6(t,e){return Uc(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function L6(t,e,n){return Uc(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function Mu(t,e){const n=t.controller.index,i=t.vScale&&t.vScale.axis;if(i){e=e||t._parsed;for(const r of e){const s=r._stacks;if(!s||s[i]===void 0||s[i][n]===void 0)return;delete s[i][n],s[i]._visualValues!==void 0&&s[i]._visualValues[n]!==void 0&&delete s[i]._visualValues[n]}}}const B0=t=>t==="reset"||t==="none",xw=(t,e)=>e?t:Object.assign({},t),T6=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:L4(n,!0),values:null};class yc{constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=F0(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Mu(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,i=this.getDataset(),r=(f,d,p,w)=>f==="x"?d:f==="r"?w:p,s=n.xAxisID=yt(i.xAxisID,j0(e,"x")),o=n.yAxisID=yt(i.yAxisID,j0(e,"y")),a=n.rAxisID=yt(i.rAxisID,j0(e,"r")),l=n.indexAxis,c=n.iAxisID=r(l,s,o,a),h=n.vAxisID=r(l,o,s,a);n.xScale=this.getScaleForId(s),n.yScale=this.getScaleForId(o),n.rScale=this.getScaleForId(a),n.iScale=this.getScaleForId(c),n.vScale=this.getScaleForId(h)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&sw(this._data,this),e._stacked&&Mu(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),i=this._data;if(wt(n)){const r=this._cachedMeta;this._data=k6(n,r)}else if(i!==n){if(i){sw(i,this);const r=this._cachedMeta;Mu(r),r._parsed=[]}n&&Object.isExtensible(n)&&TL(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,i=this.getDataset();let r=!1;this._dataCheck();const s=n._stacked;n._stacked=F0(n.vScale,n),n.stack!==i.stack&&(r=!0,Mu(n),n.stack=i.stack),this._resyncElements(e),(r||s!==n._stacked)&&(bw(this,n._parsed),n._stacked=F0(n.vScale,n))}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),i=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:i,_data:r}=this,{iScale:s,_stacked:o}=i,a=s.axis;let l=e===0&&n===r.length?!0:i._sorted,c=e>0&&i._parsed[e-1],h,f,d;if(this._parsing===!1)i._parsed=r,i._sorted=!0,d=r;else{En(r[e])?d=this.parseArrayData(i,r,e,n):wt(r[e])?d=this.parseObjectData(i,r,e,n):d=this.parsePrimitiveData(i,r,e,n);const p=()=>f[a]===null||c&&f[a]<c[a];for(h=0;h<n;++h)i._parsed[h+e]=f=d[h],l&&(p()&&(l=!1),c=f);i._sorted=l}o&&bw(this,d)}parsePrimitiveData(e,n,i,r){const{iScale:s,vScale:o}=e,a=s.axis,l=o.axis,c=s.getLabels(),h=s===o,f=new Array(r);let d,p,w;for(d=0,p=r;d<p;++d)w=d+i,f[d]={[a]:h||s.parse(c[w],w),[l]:o.parse(n[w],w)};return f}parseArrayData(e,n,i,r){const{xScale:s,yScale:o}=e,a=new Array(r);let l,c,h,f;for(l=0,c=r;l<c;++l)h=l+i,f=n[h],a[l]={x:s.parse(f[0],h),y:o.parse(f[1],h)};return a}parseObjectData(e,n,i,r){const{xScale:s,yScale:o}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=new Array(r);let h,f,d,p;for(h=0,f=r;h<f;++h)d=h+i,p=n[d],c[h]={x:s.parse(tl(p,a),d),y:o.parse(tl(p,l),d)};return c}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,i){const r=this.chart,s=this._cachedMeta,o=n[e.axis],a={keys:L4(r,!0),values:n._stacks[e.axis]._visualValues};return _w(a,o,s.index,{mode:i})}updateRangeFromParsed(e,n,i,r){const s=i[n.axis];let o=s===null?NaN:s;const a=r&&i._stacks[n.axis];r&&a&&(r.values=a,o=_w(r,s,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,n){const i=this._cachedMeta,r=i._parsed,s=i._sorted&&e===i.iScale,o=r.length,a=this._getOtherScale(e),l=T6(n,i,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:h,max:f}=E6(a);let d,p;function w(){p=r[d];const y=p[a.axis];return!ur(p[e.axis])||h>y||f<y}for(d=0;d<o&&!(!w()&&(this.updateRangeFromParsed(c,e,p,l),s));++d);if(s){for(d=o-1;d>=0;--d)if(!w()){this.updateRangeFromParsed(c,e,p,l);break}}return c}getAllParsedValues(e){const n=this._cachedMeta._parsed,i=[];let r,s,o;for(r=0,s=n.length;r<s;++r)o=n[r][e.axis],ur(o)&&i.push(o);return i}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,i=n.iScale,r=n.vScale,s=this.getParsed(e);return{label:i?""+i.getLabelForValue(s[i.axis]):"",value:r?""+r.getLabelForValue(s[r.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=C6(yt(this.options.clip,N6(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,i=this._cachedMeta,r=i.data||[],s=n.chartArea,o=[],a=this._drawStart||0,l=this._drawCount||r.length-a,c=this.options.drawActiveElementsOnTop;let h;for(i.dataset&&i.dataset.draw(e,s,a,l),h=a;h<a+l;++h){const f=r[h];f.hidden||(f.active&&c?o.push(f):f.draw(e,s))}for(h=0;h<o.length;++h)o[h].draw(e,s)}getStyle(e,n){const i=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(e||0,i)}getContext(e,n,i){const r=this.getDataset();let s;if(e>=0&&e<this._cachedMeta.data.length){const o=this._cachedMeta.data[e];s=o.$context||(o.$context=L6(this.getContext(),e,o)),s.parsed=this.getParsed(e),s.raw=r.data[e],s.index=s.dataIndex=e}else s=this.$context||(this.$context=I6(this.chart.getContext(),this.index)),s.dataset=r,s.index=s.datasetIndex=this.index;return s.active=!!n,s.mode=i,s}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",i){const r=n==="active",s=this._cachedDataOpts,o=e+"-"+n,a=s[o],l=this.enableOptionSharing&&Kh(i);if(a)return xw(a,l);const c=this.chart.config,h=c.datasetElementScopeKeys(this._type,e),f=r?[`${e}Hover`,"hover",e,""]:[e,""],d=c.getOptionScopes(this.getDataset(),h),p=Object.keys(mn.elements[e]),w=()=>this.getContext(i,r,n),y=c.resolveNamedOptions(d,p,w,f);return y.$shared&&(y.$shared=l,s[o]=Object.freeze(xw(y,l))),y}_resolveAnimations(e,n,i){const r=this.chart,s=this._cachedDataOpts,o=`animation-${n}`,a=s[o];if(a)return a;let l;if(r.options.animation!==!1){const h=this.chart.config,f=h.datasetAnimationScopeKeys(this._type,n),d=h.getOptionScopes(this.getDataset(),f);l=h.createResolver(d,this.getContext(e,i,n))}const c=new I4(r,l&&l.animations);return l&&l._cacheable&&(s[o]=Object.freeze(c)),c}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||B0(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const i=this.resolveDataElementOptions(e,n),r=this._sharedOptions,s=this.getSharedOptions(i),o=this.includeOptions(n,s)||s!==r;return this.updateSharedOptions(s,n,i),{sharedOptions:s,includeOptions:o}}updateElement(e,n,i,r){B0(r)?Object.assign(e,i):this._resolveAnimations(n,r).update(e,i)}updateSharedOptions(e,n,i){e&&!B0(n)&&this._resolveAnimations(void 0,n).update(e,i)}_setStyle(e,n,i,r){e.active=r;const s=this.getStyle(n,r);this._resolveAnimations(n,i,r).update(e,{options:!r&&this.getSharedOptions(s)||s})}removeHoverStyle(e,n,i){this._setStyle(e,i,"active",!1)}setHoverStyle(e,n,i){this._setStyle(e,i,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,i=this._cachedMeta.data;for(const[a,l,c]of this._syncList)this[a](l,c);this._syncList=[];const r=i.length,s=n.length,o=Math.min(s,r);o&&this.parse(0,o),s>r?this._insertElements(r,s-r,e):s<r&&this._removeElements(s,r-s)}_insertElements(e,n,i=!0){const r=this._cachedMeta,s=r.data,o=e+n;let a;const l=c=>{for(c.length+=n,a=c.length-1;a>=o;a--)c[a]=c[a-n]};for(l(s),a=e;a<o;++a)s[a]=new this.dataElementType;this._parsing&&l(r._parsed),this.parse(e,n),i&&this.updateElements(s,e,n,"reset")}updateElements(e,n,i,r){}_removeElements(e,n){const i=this._cachedMeta;if(this._parsing){const r=i._parsed.splice(e,n);i._stacked&&Mu(i,r)}i.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,i,r]=e;this[n](i,r)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const i=arguments.length-2;i&&this._sync(["_insertElements",e,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}Ye(yc,"defaults",{}),Ye(yc,"datasetElementType",null),Ye(yc,"dataElementType",null);function R6(t,e){if(!t._cache.$bar){const n=t.getMatchingVisibleMetas(e);let i=[];for(let r=0,s=n.length;r<s;r++)i=i.concat(n[r].controller.getAllParsedValues(t));t._cache.$bar=m4(i.sort((r,s)=>r-s))}return t._cache.$bar}function O6(t){const e=t.iScale,n=R6(e,t.type);let i=e._length,r,s,o,a;const l=()=>{o===32767||o===-32768||(Kh(a)&&(i=Math.min(i,Math.abs(o-a)||i)),a=o)};for(r=0,s=n.length;r<s;++r)o=e.getPixelForValue(n[r]),l();for(a=void 0,r=0,s=e.ticks.length;r<s;++r)o=e.getPixelForTick(r),l();return i}function M6(t,e,n,i){const r=n.barThickness;let s,o;return jt(r)?(s=e.min*n.categoryPercentage,o=n.barPercentage):(s=r*i,o=1),{chunk:s/i,ratio:o,start:e.pixels[t]-s/2}}function D6(t,e,n,i){const r=e.pixels,s=r[t];let o=t>0?r[t-1]:null,a=t<r.length-1?r[t+1]:null;const l=n.categoryPercentage;o===null&&(o=s-(a===null?e.end-e.start:a-s)),a===null&&(a=s+s-o);const c=s-(s-Math.min(o,a))/2*l;return{chunk:Math.abs(a-o)/2*l/i,ratio:n.barPercentage,start:c}}function F6(t,e,n,i){const r=n.parse(t[0],i),s=n.parse(t[1],i),o=Math.min(r,s),a=Math.max(r,s);let l=o,c=a;Math.abs(o)>Math.abs(a)&&(l=a,c=o),e[n.axis]=c,e._custom={barStart:l,barEnd:c,start:r,end:s,min:o,max:a}}function T4(t,e,n,i){return En(t)?F6(t,e,n,i):e[n.axis]=n.parse(t,i),e}function Sw(t,e,n,i){const r=t.iScale,s=t.vScale,o=r.getLabels(),a=r===s,l=[];let c,h,f,d;for(c=n,h=n+i;c<h;++c)d=e[c],f={},f[r.axis]=a||r.parse(o[c],c),l.push(T4(d,f,s,c));return l}function z0(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function j6(t,e,n){return t!==0?Vo(t):(e.isHorizontal()?1:-1)*(e.min>=n?1:-1)}function B6(t){let e,n,i,r,s;return t.horizontal?(e=t.base>t.x,n="left",i="right"):(e=t.base<t.y,n="bottom",i="top"),e?(r="end",s="start"):(r="start",s="end"),{start:n,end:i,reverse:e,top:r,bottom:s}}function z6(t,e,n,i){let r=e.borderSkipped;const s={};if(!r){t.borderSkipped=s;return}if(r===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:a,reverse:l,top:c,bottom:h}=B6(t);r==="middle"&&n&&(t.enableBorderRadius=!0,(n._top||0)===i?r=c:(n._bottom||0)===i?r=h:(s[Nw(h,o,a,l)]=!0,r=c)),s[Nw(r,o,a,l)]=!0,t.borderSkipped=s}function Nw(t,e,n,i){return i?(t=U6(t,e,n),t=Cw(t,n,e)):t=Cw(t,e,n),t}function U6(t,e,n){return t===e?n:t===n?e:t}function Cw(t,e,n){return t==="start"?e:t==="end"?n:t}function H6(t,{inflateAmount:e},n){t.inflateAmount=e==="auto"?n===1?.33:0:e}class _p extends yc{parsePrimitiveData(e,n,i,r){return Sw(e,n,i,r)}parseArrayData(e,n,i,r){return Sw(e,n,i,r)}parseObjectData(e,n,i,r){const{iScale:s,vScale:o}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=s.axis==="x"?a:l,h=o.axis==="x"?a:l,f=[];let d,p,w,y;for(d=i,p=i+r;d<p;++d)y=n[d],w={},w[s.axis]=s.parse(tl(y,c),d),f.push(T4(tl(y,h),w,o,d));return f}updateRangeFromParsed(e,n,i,r){super.updateRangeFromParsed(e,n,i,r);const s=i._custom;s&&n===this._cachedMeta.vScale&&(e.min=Math.min(e.min,s.min),e.max=Math.max(e.max,s.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const n=this._cachedMeta,{iScale:i,vScale:r}=n,s=this.getParsed(e),o=s._custom,a=z0(o)?"["+o.start+", "+o.end+"]":""+r.getLabelForValue(s[r.axis]);return{label:""+i.getLabelForValue(s[i.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,e)}updateElements(e,n,i,r){const s=r==="reset",{index:o,_cachedMeta:{vScale:a}}=this,l=a.getBasePixel(),c=a.isHorizontal(),h=this._getRuler(),{sharedOptions:f,includeOptions:d}=this._getSharedOptions(n,r);for(let p=n;p<n+i;p++){const w=this.getParsed(p),y=s||jt(w[a.axis])?{base:l,head:l}:this._calculateBarValuePixels(p),S=this._calculateBarIndexPixels(p,h),m=(w._stacks||{})[a.axis],_={horizontal:c,base:y.base,enableBorderRadius:!m||z0(w._custom)||o===m._top||o===m._bottom,x:c?y.head:S.center,y:c?S.center:y.head,height:c?S.size:Math.abs(y.size),width:c?Math.abs(y.size):S.size};d&&(_.options=f||this.resolveDataElementOptions(p,e[p].active?"active":r));const x=_.options||e[p].options;z6(_,x,m,o),H6(_,x,h.ratio),this.updateElement(e[p],p,_,r)}}_getStacks(e,n){const{iScale:i}=this._cachedMeta,r=i.getMatchingVisibleMetas(this._type).filter(h=>h.controller.options.grouped),s=i.options.stacked,o=[],a=this._cachedMeta.controller.getParsed(n),l=a&&a[i.axis],c=h=>{const f=h._parsed.find(p=>p[i.axis]===l),d=f&&f[h.vScale.axis];if(jt(d)||isNaN(d))return!0};for(const h of r)if(!(n!==void 0&&c(h))&&((s===!1||o.indexOf(h.stack)===-1||s===void 0&&h.stack===void 0)&&o.push(h.stack),h.index===e))break;return o.length||o.push(void 0),o}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,n=this.chart.options.indexAxis;return Object.keys(e).filter(i=>e[i].axis===n).shift()}_getAxis(){const e={},n=this.getFirstScaleIdForIndexAxis();for(const i of this.chart.data.datasets)e[yt(this.chart.options.indexAxis==="x"?i.xAxisID:i.yAxisID,n)]=!0;return Object.keys(e)}_getStackIndex(e,n,i){const r=this._getStacks(e,i),s=n!==void 0?r.indexOf(n):-1;return s===-1?r.length-1:s}_getRuler(){const e=this.options,n=this._cachedMeta,i=n.iScale,r=[];let s,o;for(s=0,o=n.data.length;s<o;++s)r.push(i.getPixelForValue(this.getParsed(s)[i.axis],s));const a=e.barThickness;return{min:a||O6(n),pixels:r,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:e.grouped,ratio:a?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:n,_stacked:i,index:r},options:{base:s,minBarLength:o}}=this,a=s||0,l=this.getParsed(e),c=l._custom,h=z0(c);let f=l[n.axis],d=0,p=i?this.applyStack(n,l,i):f,w,y;p!==f&&(d=p-f,p=f),h&&(f=c.barStart,p=c.barEnd-c.barStart,f!==0&&Vo(f)!==Vo(c.barEnd)&&(d=0),d+=f);const S=!jt(s)&&!h?s:d;let m=n.getPixelForValue(S);if(this.chart.getDataVisibility(e)?w=n.getPixelForValue(d+p):w=m,y=w-m,Math.abs(y)<o){y=j6(y,n,a)*o,f===a&&(m-=y/2);const _=n.getPixelForDecimal(0),x=n.getPixelForDecimal(1),N=Math.min(_,x),k=Math.max(_,x);m=Math.max(Math.min(m,k),N),w=m+y,i&&!h&&(l._stacks[n.axis]._visualValues[r]=n.getValueForPixel(w)-n.getValueForPixel(m))}if(m===n.getPixelForValue(a)){const _=Vo(y)*n.getLineWidthForValue(a)/2;m+=_,y-=_}return{size:y,base:m,head:w,center:w+y/2}}_calculateBarIndexPixels(e,n){const i=n.scale,r=this.options,s=r.skipNull,o=yt(r.maxBarThickness,1/0);let a,l;const c=this._getAxisCount();if(n.grouped){const h=s?this._getStackCount(e):n.stackCount,f=r.barThickness==="flex"?D6(e,n,r,h*c):M6(e,n,r,h*c),d=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,p=this._getAxis().indexOf(yt(d,this.getFirstScaleIdForIndexAxis())),w=this._getStackIndex(this.index,this._cachedMeta.stack,s?e:void 0)+p;a=f.start+f.chunk*w+f.chunk/2,l=Math.min(o,f.chunk*f.ratio)}else a=i.getPixelForValue(this.getParsed(e)[i.axis],e),l=Math.min(o,n.min*n.ratio);return{base:a-l/2,head:a+l/2,center:a,size:l}}draw(){const e=this._cachedMeta,n=e.vScale,i=e.data,r=i.length;let s=0;for(;s<r;++s)this.getParsed(s)[n.axis]!==null&&!i[s].hidden&&i[s].draw(this._ctx)}}Ye(_p,"id","bar"),Ye(_p,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),Ye(_p,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});function W6(t,e,n){let i=1,r=1,s=0,o=0;if(e<xn){const a=t,l=a+e,c=Math.cos(a),h=Math.sin(a),f=Math.cos(l),d=Math.sin(l),p=(x,N,k)=>ig(x,a,l,!0)?1:Math.max(N,N*n,k,k*n),w=(x,N,k)=>ig(x,a,l,!0)?-1:Math.min(N,N*n,k,k*n),y=p(0,c,f),S=p(Tn,h,d),m=w(Ft,c,f),_=w(Ft+Tn,h,d);i=(y-m)/2,r=(S-_)/2,s=-(y+m)/2,o=-(S+_)/2}return{ratioX:i,ratioY:r,offsetX:s,offsetY:o}}class th extends yc{constructor(e,n){super(e,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,n){const i=this.getDataset().data,r=this._cachedMeta;if(this._parsing===!1)r._parsed=i;else{let s=l=>+i[l];if(wt(i[e])){const{key:l="value"}=this._parsing;s=c=>+tl(i[c],l)}let o,a;for(o=e,a=e+n;o<a;++o)r._parsed[o]=s(o)}}_getRotation(){return Rs(this.options.rotation-90)}_getCircumference(){return Rs(this.options.circumference)}_getRotationExtents(){let e=xn,n=-xn;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const r=this.chart.getDatasetMeta(i).controller,s=r._getRotation(),o=r._getCircumference();e=Math.min(e,s),n=Math.max(n,s+o)}return{rotation:e,circumference:n-e}}update(e){const n=this.chart,{chartArea:i}=n,r=this._cachedMeta,s=r.data,o=this.getMaxBorderWidth()+this.getMaxOffset(s)+this.options.spacing,a=Math.max((Math.min(i.width,i.height)-o)/2,0),l=Math.min(mL(this.options.cutout,a),1),c=this._getRingWeight(this.index),{circumference:h,rotation:f}=this._getRotationExtents(),{ratioX:d,ratioY:p,offsetX:w,offsetY:y}=W6(f,h,l),S=(i.width-o)/d,m=(i.height-o)/p,_=Math.max(Math.min(S,m)/2,0),x=h4(this.options.radius,_),N=Math.max(x*l,0),k=(x-N)/this._getVisibleDatasetWeightTotal();this.offsetX=w*x,this.offsetY=y*x,r.total=this.calculateTotal(),this.outerRadius=x-k*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-k*c,0),this.updateElements(s,0,s.length,e)}_circumference(e,n){const i=this.options,r=this._cachedMeta,s=this._getCircumference();return n&&i.animation.animateRotate||!this.chart.getDataVisibility(e)||r._parsed[e]===null||r.data[e].hidden?0:this.calculateCircumference(r._parsed[e]*s/xn)}updateElements(e,n,i,r){const s=r==="reset",o=this.chart,a=o.chartArea,c=o.options.animation,h=(a.left+a.right)/2,f=(a.top+a.bottom)/2,d=s&&c.animateScale,p=d?0:this.innerRadius,w=d?0:this.outerRadius,{sharedOptions:y,includeOptions:S}=this._getSharedOptions(n,r);let m=this._getRotation(),_;for(_=0;_<n;++_)m+=this._circumference(_,s);for(_=n;_<n+i;++_){const x=this._circumference(_,s),N=e[_],k={x:h+this.offsetX,y:f+this.offsetY,startAngle:m,endAngle:m+x,circumference:x,outerRadius:w,innerRadius:p};S&&(k.options=y||this.resolveDataElementOptions(_,N.active?"active":r)),m+=x,this.updateElement(N,_,k,r)}}calculateTotal(){const e=this._cachedMeta,n=e.data;let i=0,r;for(r=0;r<n.length;r++){const s=e._parsed[r];s!==null&&!isNaN(s)&&this.chart.getDataVisibility(r)&&!n[r].hidden&&(i+=Math.abs(s))}return i}calculateCircumference(e){const n=this._cachedMeta.total;return n>0&&!isNaN(e)?xn*(Math.abs(e)/n):0}getLabelAndValue(e){const n=this._cachedMeta,i=this.chart,r=i.data.labels||[],s=ty(n._parsed[e],i.options.locale);return{label:r[e]||"",value:s}}getMaxBorderWidth(e){let n=0;const i=this.chart;let r,s,o,a,l;if(!e){for(r=0,s=i.data.datasets.length;r<s;++r)if(i.isDatasetVisible(r)){o=i.getDatasetMeta(r),e=o.data,a=o.controller;break}}if(!e)return 0;for(r=0,s=e.length;r<s;++r)l=a.resolveDataElementOptions(r),l.borderAlign!=="inner"&&(n=Math.max(n,l.borderWidth||0,l.hoverBorderWidth||0));return n}getMaxOffset(e){let n=0;for(let i=0,r=e.length;i<r;++i){const s=this.resolveDataElementOptions(i);n=Math.max(n,s.offset||0,s.hoverOffset||0)}return n}_getRingWeightOffset(e){let n=0;for(let i=0;i<e;++i)this.chart.isDatasetVisible(i)&&(n+=this._getRingWeight(i));return n}_getRingWeight(e){return Math.max(yt(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}Ye(th,"id","doughnut"),Ye(th,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),Ye(th,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),Ye(th,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:i,color:r}}=e.legend.options;return n.labels.map((s,o)=>{const l=e.getDatasetMeta(0).controller.getStyle(o);return{text:s,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:r,lineWidth:l.borderWidth,pointStyle:i,hidden:!e.getDataVisibility(o),index:o}})}return[]}},onClick(e,n,i){i.chart.toggleDataVisibility(n.index),i.chart.update()}}}});class gv extends th{}Ye(gv,"id","pie"),Ye(gv,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});function Ea(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class uy{constructor(e){Ye(this,"options");this.options=e||{}}static override(e){Object.assign(uy.prototype,e)}init(){}formats(){return Ea()}parse(){return Ea()}format(){return Ea()}add(){return Ea()}diff(){return Ea()}startOf(){return Ea()}endOf(){return Ea()}}var q6={_date:uy};function V6(t,e,n,i){const{controller:r,data:s,_sorted:o}=t,a=r._cachedMeta.iScale,l=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(a&&e===a.axis&&e!=="r"&&o&&s.length){const c=a._reversePixels?IL:dv;if(i){if(r._sharedOptions){const h=s[0],f=typeof h.getRange=="function"&&h.getRange(e);if(f){const d=c(s,e,n-f),p=c(s,e,n+f);return{lo:d.lo,hi:p.hi}}}}else{const h=c(s,e,n);if(l){const{vScale:f}=r._cachedMeta,{_parsed:d}=t,p=d.slice(0,h.lo+1).reverse().findIndex(y=>!jt(y[f.axis]));h.lo-=Math.max(0,p);const w=d.slice(h.hi).findIndex(y=>!jt(y[f.axis]));h.hi+=Math.max(0,w)}return h}}return{lo:0,hi:s.length-1}}function Qg(t,e,n,i,r){const s=t.getSortedVisibleDatasetMetas(),o=n[e];for(let a=0,l=s.length;a<l;++a){const{index:c,data:h}=s[a],{lo:f,hi:d}=V6(s[a],e,o,r);for(let p=f;p<=d;++p){const w=h[p];w.skip||i(w,c,p)}}}function $6(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(i,r){const s=e?Math.abs(i.x-r.x):0,o=n?Math.abs(i.y-r.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(o,2))}}function U0(t,e,n,i,r){const s=[];return!r&&!t.isPointInArea(e)||Qg(t,n,e,function(a,l,c){!r&&!x4(a,t.chartArea,0)||a.inRange(e.x,e.y,i)&&s.push({element:a,datasetIndex:l,index:c})},!0),s}function G6(t,e,n,i){let r=[];function s(o,a,l){const{startAngle:c,endAngle:h}=o.getProps(["startAngle","endAngle"],i),{angle:f}=p4(o,{x:e.x,y:e.y});ig(f,c,h)&&r.push({element:o,datasetIndex:a,index:l})}return Qg(t,n,e,s),r}function Y6(t,e,n,i,r,s){let o=[];const a=$6(n);let l=Number.POSITIVE_INFINITY;function c(h,f,d){const p=h.inRange(e.x,e.y,r);if(i&&!p)return;const w=h.getCenterPoint(r);if(!(!!s||t.isPointInArea(w))&&!p)return;const S=a(e,w);S<l?(o=[{element:h,datasetIndex:f,index:d}],l=S):S===l&&o.push({element:h,datasetIndex:f,index:d})}return Qg(t,n,e,c),o}function H0(t,e,n,i,r,s){return!s&&!t.isPointInArea(e)?[]:n==="r"&&!i?G6(t,e,n,r):Y6(t,e,n,i,r,s)}function kw(t,e,n,i,r){const s=[],o=n==="x"?"inXRange":"inYRange";let a=!1;return Qg(t,n,e,(l,c,h)=>{l[o]&&l[o](e[n],r)&&(s.push({element:l,datasetIndex:c,index:h}),a=a||l.inRange(e.x,e.y,r))}),i&&!a?[]:s}var K6={modes:{index(t,e,n,i){const r=La(e,t),s=n.axis||"x",o=n.includeInvisible||!1,a=n.intersect?U0(t,r,s,i,o):H0(t,r,s,!1,i,o),l=[];return a.length?(t.getSortedVisibleDatasetMetas().forEach(c=>{const h=a[0].index,f=c.data[h];f&&!f.skip&&l.push({element:f,datasetIndex:c.index,index:h})}),l):[]},dataset(t,e,n,i){const r=La(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;let a=n.intersect?U0(t,r,s,i,o):H0(t,r,s,!1,i,o);if(a.length>0){const l=a[0].datasetIndex,c=t.getDatasetMeta(l).data;a=[];for(let h=0;h<c.length;++h)a.push({element:c[h],datasetIndex:l,index:h})}return a},point(t,e,n,i){const r=La(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;return U0(t,r,s,i,o)},nearest(t,e,n,i){const r=La(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;return H0(t,r,s,n.intersect,i,o)},x(t,e,n,i){const r=La(e,t);return kw(t,r,"x",n.intersect,i)},y(t,e,n,i){const r=La(e,t);return kw(t,r,"y",n.intersect,i)}}};const R4=["left","top","right","bottom"];function Du(t,e){return t.filter(n=>n.pos===e)}function Aw(t,e){return t.filter(n=>R4.indexOf(n.pos)===-1&&n.box.axis===e)}function Fu(t,e){return t.sort((n,i)=>{const r=e?i:n,s=e?n:i;return r.weight===s.weight?r.index-s.index:r.weight-s.weight})}function X6(t){const e=[];let n,i,r,s,o,a;for(n=0,i=(t||[]).length;n<i;++n)r=t[n],{position:s,options:{stack:o,stackWeight:a=1}}=r,e.push({index:n,box:r,pos:s,horizontal:r.isHorizontal(),weight:r.weight,stack:o&&s+o,stackWeight:a});return e}function J6(t){const e={};for(const n of t){const{stack:i,pos:r,stackWeight:s}=n;if(!i||!R4.includes(r))continue;const o=e[i]||(e[i]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=s}return e}function Q6(t,e){const n=J6(t),{vBoxMaxWidth:i,hBoxMaxHeight:r}=e;let s,o,a;for(s=0,o=t.length;s<o;++s){a=t[s];const{fullSize:l}=a.box,c=n[a.stack],h=c&&a.stackWeight/c.weight;a.horizontal?(a.width=h?h*i:l&&e.availableWidth,a.height=r):(a.width=i,a.height=h?h*r:l&&e.availableHeight)}return n}function Z6(t){const e=X6(t),n=Fu(e.filter(c=>c.box.fullSize),!0),i=Fu(Du(e,"left"),!0),r=Fu(Du(e,"right")),s=Fu(Du(e,"top"),!0),o=Fu(Du(e,"bottom")),a=Aw(e,"x"),l=Aw(e,"y");return{fullSize:n,leftAndTop:i.concat(s),rightAndBottom:r.concat(l).concat(o).concat(a),chartArea:Du(e,"chartArea"),vertical:i.concat(r).concat(l),horizontal:s.concat(o).concat(a)}}function Ew(t,e,n,i){return Math.max(t[n],e[n])+Math.max(t[i],e[i])}function O4(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function eT(t,e,n,i){const{pos:r,box:s}=n,o=t.maxPadding;if(!wt(r)){n.size&&(t[r]-=n.size);const f=i[n.stack]||{size:0,count:1};f.size=Math.max(f.size,n.horizontal?s.height:s.width),n.size=f.size/f.count,t[r]+=n.size}s.getPadding&&O4(o,s.getPadding());const a=Math.max(0,e.outerWidth-Ew(o,t,"left","right")),l=Math.max(0,e.outerHeight-Ew(o,t,"top","bottom")),c=a!==t.w,h=l!==t.h;return t.w=a,t.h=l,n.horizontal?{same:c,other:h}:{same:h,other:c}}function tT(t){const e=t.maxPadding;function n(i){const r=Math.max(e[i]-t[i],0);return t[i]+=r,r}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function nT(t,e){const n=e.maxPadding;function i(r){const s={left:0,top:0,right:0,bottom:0};return r.forEach(o=>{s[o]=Math.max(e[o],n[o])}),s}return i(t?["left","right"]:["top","bottom"])}function nh(t,e,n,i){const r=[];let s,o,a,l,c,h;for(s=0,o=t.length,c=0;s<o;++s){a=t[s],l=a.box,l.update(a.width||e.w,a.height||e.h,nT(a.horizontal,e));const{same:f,other:d}=eT(e,n,a,i);c|=f&&r.length,h=h||d,l.fullSize||r.push(a)}return c&&nh(r,e,n,i)||h}function Vd(t,e,n,i,r){t.top=n,t.left=e,t.right=e+i,t.bottom=n+r,t.width=i,t.height=r}function Pw(t,e,n,i){const r=n.padding;let{x:s,y:o}=e;for(const a of t){const l=a.box,c=i[a.stack]||{placed:0,weight:1},h=a.stackWeight/c.weight||1;if(a.horizontal){const f=e.w*h,d=c.size||l.height;Kh(c.start)&&(o=c.start),l.fullSize?Vd(l,r.left,o,n.outerWidth-r.right-r.left,d):Vd(l,e.left+c.placed,o,f,d),c.start=o,c.placed+=f,o=l.bottom}else{const f=e.h*h,d=c.size||l.width;Kh(c.start)&&(s=c.start),l.fullSize?Vd(l,s,r.top,d,n.outerHeight-r.bottom-r.top):Vd(l,s,e.top+c.placed,d,f),c.start=s,c.placed+=f,s=l.right}}e.x=s,e.y=o}var or={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,i){if(!t)return;const r=hr(t.options.layout.padding),s=Math.max(e-r.width,0),o=Math.max(n-r.height,0),a=Z6(t.boxes),l=a.vertical,c=a.horizontal;Et(t.boxes,y=>{typeof y.beforeLayout=="function"&&y.beforeLayout()});const h=l.reduce((y,S)=>S.box.options&&S.box.options.display===!1?y:y+1,0)||1,f=Object.freeze({outerWidth:e,outerHeight:n,padding:r,availableWidth:s,availableHeight:o,vBoxMaxWidth:s/2/h,hBoxMaxHeight:o/2}),d=Object.assign({},r);O4(d,hr(i));const p=Object.assign({maxPadding:d,w:s,h:o,x:r.left,y:r.top},r),w=Q6(l.concat(c),f);nh(a.fullSize,p,f,w),nh(l,p,f,w),nh(c,p,f,w)&&nh(l,p,f,w),tT(p),Pw(a.leftAndTop,p,f,w),p.x+=p.w,p.y+=p.h,Pw(a.rightAndBottom,p,f,w),t.chartArea={left:p.left,top:p.top,right:p.left+p.w,bottom:p.top+p.h,height:p.h,width:p.w},Et(a.chartArea,y=>{const S=y.box;Object.assign(S,t.chartArea),S.update(p.w,p.h,{left:0,top:0,right:0,bottom:0})})}};class M4{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,i){}removeEventListener(e,n,i){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,i,r){return n=Math.max(0,n||e.width),i=i||e.height,{width:n,height:Math.max(0,r?Math.floor(n/r):i)}}isAttached(e){return!0}updateConfig(e){}}class iT extends M4{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const wp="$chartjs",rT={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Iw=t=>t===null||t==="";function sT(t,e){const n=t.style,i=t.getAttribute("height"),r=t.getAttribute("width");if(t[wp]={initial:{height:i,width:r,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",Iw(r)){const s=mw(t,"width");s!==void 0&&(t.width=s)}if(Iw(i))if(t.style.height==="")t.height=t.width/(e||2);else{const s=mw(t,"height");s!==void 0&&(t.height=s)}return t}const D4=p6?{passive:!0}:!1;function oT(t,e,n){t&&t.addEventListener(e,n,D4)}function aT(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,D4)}function lT(t,e){const n=rT[t.type]||t.type,{x:i,y:r}=La(t,e);return{type:n,chart:e,native:t,x:i!==void 0?i:null,y:r!==void 0?r:null}}function og(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function cT(t,e,n){const i=t.canvas,r=new MutationObserver(s=>{let o=!1;for(const a of s)o=o||og(a.addedNodes,i),o=o&&!og(a.removedNodes,i);o&&n()});return r.observe(document,{childList:!0,subtree:!0}),r}function uT(t,e,n){const i=t.canvas,r=new MutationObserver(s=>{let o=!1;for(const a of s)o=o||og(a.removedNodes,i),o=o&&!og(a.addedNodes,i);o&&n()});return r.observe(document,{childList:!0,subtree:!0}),r}const Jh=new Map;let Lw=0;function F4(){const t=window.devicePixelRatio;t!==Lw&&(Lw=t,Jh.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function hT(t,e){Jh.size||window.addEventListener("resize",F4),Jh.set(t,e)}function fT(t){Jh.delete(t),Jh.size||window.removeEventListener("resize",F4)}function dT(t,e,n){const i=t.canvas,r=i&&cy(i);if(!r)return;const s=y4((a,l)=>{const c=r.clientWidth;n(a,l),c<r.clientWidth&&n()},window),o=new ResizeObserver(a=>{const l=a[0],c=l.contentRect.width,h=l.contentRect.height;c===0&&h===0||s(c,h)});return o.observe(r),hT(t,s),o}function W0(t,e,n){n&&n.disconnect(),e==="resize"&&fT(t)}function pT(t,e,n){const i=t.canvas,r=y4(s=>{t.ctx!==null&&n(lT(s,t))},t);return oT(i,e,r),r}class gT extends M4{acquireContext(e,n){const i=e&&e.getContext&&e.getContext("2d");return i&&i.canvas===e?(sT(e,n),i):null}releaseContext(e){const n=e.canvas;if(!n[wp])return!1;const i=n[wp].initial;["height","width"].forEach(s=>{const o=i[s];jt(o)?n.removeAttribute(s):n.setAttribute(s,o)});const r=i.style||{};return Object.keys(r).forEach(s=>{n.style[s]=r[s]}),n.width=n.width,delete n[wp],!0}addEventListener(e,n,i){this.removeEventListener(e,n);const r=e.$proxies||(e.$proxies={}),o={attach:cT,detach:uT,resize:dT}[n]||pT;r[n]=o(e,n,i)}removeEventListener(e,n){const i=e.$proxies||(e.$proxies={}),r=i[n];if(!r)return;({attach:W0,detach:W0,resize:W0}[n]||aT)(e,n,r),i[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,i,r){return d6(e,n,i,r)}isAttached(e){const n=e&&cy(e);return!!(n&&n.isConnected)}}function mT(t){return!ly()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?iT:gT}class Vs{constructor(){Ye(this,"x");Ye(this,"y");Ye(this,"active",!1);Ye(this,"options");Ye(this,"$animations")}tooltipPosition(e){const{x:n,y:i}=this.getProps(["x","y"],e);return{x:n,y:i}}hasValue(){return ng(this.x)&&ng(this.y)}getProps(e,n){const i=this.$animations;if(!n||!i)return this;const r={};return e.forEach(s=>{r[s]=i[s]&&i[s].active()?i[s]._to:this[s]}),r}}Ye(Vs,"defaults",{}),Ye(Vs,"defaultRoutes");function vT(t,e){const n=t.options.ticks,i=yT(t),r=Math.min(n.maxTicksLimit||i,i),s=n.major.enabled?wT(e):[],o=s.length,a=s[0],l=s[o-1],c=[];if(o>r)return bT(e,c,s,o/r),c;const h=_T(s,e,r);if(o>0){let f,d;const p=o>1?Math.round((l-a)/(o-1)):null;for($d(e,c,h,jt(p)?0:a-p,a),f=0,d=o-1;f<d;f++)$d(e,c,h,s[f],s[f+1]);return $d(e,c,h,l,jt(p)?e.length:l+p),c}return $d(e,c,h),c}function yT(t){const e=t.options.offset,n=t._tickSize(),i=t._length/n+(e?0:1),r=t._maxLength/n;return Math.floor(Math.min(i,r))}function _T(t,e,n){const i=xT(t),r=e.length/n;if(!i)return Math.max(r,1);const s=SL(i);for(let o=0,a=s.length-1;o<a;o++){const l=s[o];if(l>r)return l}return Math.max(r,1)}function wT(t){const e=[];let n,i;for(n=0,i=t.length;n<i;n++)t[n].major&&e.push(n);return e}function bT(t,e,n,i){let r=0,s=n[0],o;for(i=Math.ceil(i),o=0;o<t.length;o++)o===s&&(e.push(t[o]),r++,s=n[r*i])}function $d(t,e,n,i,r){const s=yt(i,0),o=Math.min(yt(r,t.length),t.length);let a=0,l,c,h;for(n=Math.ceil(n),r&&(l=r-i,n=l/Math.floor(l/n)),h=s;h<0;)a++,h=Math.round(s+a*n);for(c=Math.max(s,0);c<o;c++)c===h&&(e.push(t[c]),a++,h=Math.round(s+a*n))}function xT(t){const e=t.length;let n,i;if(e<2)return!1;for(i=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==i)return!1;return i}const ST=t=>t==="left"?"right":t==="right"?"left":t,Tw=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,Rw=(t,e)=>Math.min(e||t,t);function Ow(t,e){const n=[],i=t.length/e,r=t.length;let s=0;for(;s<r;s+=i)n.push(t[Math.floor(s)]);return n}function NT(t,e,n){const i=t.ticks.length,r=Math.min(e,i-1),s=t._startPixel,o=t._endPixel,a=1e-6;let l=t.getPixelForTick(r),c;if(!(n&&(i===1?c=Math.max(l-s,o-l):e===0?c=(t.getPixelForTick(1)-l)/2:c=(l-t.getPixelForTick(r-1))/2,l+=r<e?c:-c,l<s-a||l>o+a)))return l}function CT(t,e){Et(t,n=>{const i=n.gc,r=i.length/2;let s;if(r>e){for(s=0;s<r;++s)delete n.data[i[s]];i.splice(0,r)}})}function ju(t){return t.drawTicks?t.tickLength:0}function Mw(t,e){if(!t.display)return 0;const n=ai(t.font,e),i=hr(t.padding);return(En(t.text)?t.text.length:1)*n.lineHeight+i.height}function kT(t,e){return Uc(t,{scale:e,type:"scale"})}function AT(t,e,n){return Uc(t,{tick:n,index:e,type:"tick"})}function ET(t,e,n){let i=ey(t);return(n&&e!=="right"||!n&&e==="right")&&(i=ST(i)),i}function PT(t,e,n,i){const{top:r,left:s,bottom:o,right:a,chart:l}=t,{chartArea:c,scales:h}=l;let f=0,d,p,w;const y=o-r,S=a-s;if(t.isHorizontal()){if(p=ni(i,s,a),wt(n)){const m=Object.keys(n)[0],_=n[m];w=h[m].getPixelForValue(_)+y-e}else n==="center"?w=(c.bottom+c.top)/2+y-e:w=Tw(t,n,e);d=a-s}else{if(wt(n)){const m=Object.keys(n)[0],_=n[m];p=h[m].getPixelForValue(_)-S+e}else n==="center"?p=(c.left+c.right)/2-S+e:p=Tw(t,n,e);w=ni(i,o,r),f=n==="left"?-Tn:Tn}return{titleX:p,titleY:w,maxWidth:d,rotation:f}}class Hc extends Vs{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:i,_suggestedMax:r}=this;return e=Qr(e,Number.POSITIVE_INFINITY),n=Qr(n,Number.NEGATIVE_INFINITY),i=Qr(i,Number.POSITIVE_INFINITY),r=Qr(r,Number.NEGATIVE_INFINITY),{min:Qr(e,i),max:Qr(n,r),minDefined:ur(e),maxDefined:ur(n)}}getMinMax(e){let{min:n,max:i,minDefined:r,maxDefined:s}=this.getUserBounds(),o;if(r&&s)return{min:n,max:i};const a=this.getMatchingVisibleMetas();for(let l=0,c=a.length;l<c;++l)o=a[l].controller.getMinMax(this,e),r||(n=Math.min(n,o.min)),s||(i=Math.max(i,o.max));return n=s&&n>i?i:n,i=r&&n>i?n:i,{min:Qr(n,Qr(i,n)),max:Qr(i,Qr(n,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Vt(this.options.beforeUpdate,[this])}update(e,n,i){const{beginAtZero:r,grace:s,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=QL(this,s,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=a<this.ticks.length;this._convertTicksToLabels(l?Ow(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=vT(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,i;this.isHorizontal()?(n=this.left,i=this.right):(n=this.top,i=this.bottom,e=!e),this._startPixel=n,this._endPixel=i,this._reversePixels=e,this._length=i-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Vt(this.options.afterUpdate,[this])}beforeSetDimensions(){Vt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Vt(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Vt(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Vt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let i,r,s;for(i=0,r=e.length;i<r;i++)s=e[i],s.label=Vt(n.callback,[s.value,i,e],this)}afterTickToLabelConversion(){Vt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Vt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,i=Rw(this.ticks.length,e.ticks.maxTicksLimit),r=n.minRotation||0,s=n.maxRotation;let o=r,a,l,c;if(!this._isVisible()||!n.display||r>=s||i<=1||!this.isHorizontal()){this.labelRotation=r;return}const h=this._getLabelSizes(),f=h.widest.width,d=h.highest.height,p=Ei(this.chart.width-f,0,this.maxWidth);a=e.offset?this.maxWidth/i:p/(i-1),f+6>a&&(a=p/(i-(e.offset?.5:1)),l=this.maxHeight-ju(e.grid)-n.padding-Mw(e.title,this.chart.options.font),c=Math.sqrt(f*f+d*d),o=AL(Math.min(Math.asin(Ei((h.highest.height+6)/a,-1,1)),Math.asin(Ei(l/c,-1,1))-Math.asin(Ei(d/c,-1,1)))),o=Math.max(r,Math.min(s,o))),this.labelRotation=o}afterCalculateLabelRotation(){Vt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Vt(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:i,title:r,grid:s}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const l=Mw(r,n.options.font);if(a?(e.width=this.maxWidth,e.height=ju(s)+l):(e.height=this.maxHeight,e.width=ju(s)+l),i.display&&this.ticks.length){const{first:c,last:h,widest:f,highest:d}=this._getLabelSizes(),p=i.padding*2,w=Rs(this.labelRotation),y=Math.cos(w),S=Math.sin(w);if(a){const m=i.mirror?0:S*f.width+y*d.height;e.height=Math.min(this.maxHeight,e.height+m+p)}else{const m=i.mirror?0:y*f.width+S*d.height;e.width=Math.min(this.maxWidth,e.width+m+p)}this._calculatePadding(c,h,S,y)}}this._handleMargins(),a?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,i,r){const{ticks:{align:s,padding:o},position:a}=this.options,l=this.labelRotation!==0,c=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const h=this.getPixelForTick(0)-this.left,f=this.right-this.getPixelForTick(this.ticks.length-1);let d=0,p=0;l?c?(d=r*e.width,p=i*n.height):(d=i*e.height,p=r*n.width):s==="start"?p=n.width:s==="end"?d=e.width:s!=="inner"&&(d=e.width/2,p=n.width/2),this.paddingLeft=Math.max((d-h+o)*this.width/(this.width-h),0),this.paddingRight=Math.max((p-f+o)*this.width/(this.width-f),0)}else{let h=n.height/2,f=e.height/2;s==="start"?(h=0,f=e.height):s==="end"&&(h=n.height,f=0),this.paddingTop=h+o,this.paddingBottom=f+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Vt(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,i;for(n=0,i=e.length;n<i;n++)jt(e[n].label)&&(e.splice(n,1),i--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let i=this.ticks;n<i.length&&(i=Ow(i,n)),this._labelSizes=e=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,i){const{ctx:r,_longestTextCache:s}=this,o=[],a=[],l=Math.floor(n/Rw(n,i));let c=0,h=0,f,d,p,w,y,S,m,_,x,N,k;for(f=0;f<n;f+=l){if(w=e[f].label,y=this._resolveTickFontOptions(f),r.font=S=y.string,m=s[S]=s[S]||{data:{},gc:[]},_=y.lineHeight,x=N=0,!jt(w)&&!En(w))x=uw(r,m.data,m.gc,x,w),N=_;else if(En(w))for(d=0,p=w.length;d<p;++d)k=w[d],!jt(k)&&!En(k)&&(x=uw(r,m.data,m.gc,x,k),N+=_);o.push(x),a.push(N),c=Math.max(x,c),h=Math.max(N,h)}CT(s,n);const O=o.indexOf(c),I=a.indexOf(h),A=U=>({width:o[U]||0,height:a[U]||0});return{first:A(0),last:A(n-1),widest:A(O),highest:A(I),widths:o,heights:a}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return PL(this._alignToPixels?Aa(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const i=n[e];return i.$context||(i.$context=AT(this.getContext(),e,i))}return this.$context||(this.$context=kT(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=Rs(this.labelRotation),i=Math.abs(Math.cos(n)),r=Math.abs(Math.sin(n)),s=this._getLabelSizes(),o=e.autoSkipPadding||0,a=s?s.widest.width+o:0,l=s?s.highest.height+o:0;return this.isHorizontal()?l*i>a*r?a/i:l/r:l*r<a*i?l/i:a/r}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,i=this.chart,r=this.options,{grid:s,position:o,border:a}=r,l=s.offset,c=this.isHorizontal(),f=this.ticks.length+(l?1:0),d=ju(s),p=[],w=a.setContext(this.getContext()),y=w.display?w.width:0,S=y/2,m=function(H){return Aa(i,H,y)};let _,x,N,k,O,I,A,U,W,E,P,K;if(o==="top")_=m(this.bottom),I=this.bottom-d,U=_-S,E=m(e.top)+S,K=e.bottom;else if(o==="bottom")_=m(this.top),E=e.top,K=m(e.bottom)-S,I=_+S,U=this.top+d;else if(o==="left")_=m(this.right),O=this.right-d,A=_-S,W=m(e.left)+S,P=e.right;else if(o==="right")_=m(this.left),W=e.left,P=m(e.right)-S,O=_+S,A=this.left+d;else if(n==="x"){if(o==="center")_=m((e.top+e.bottom)/2+.5);else if(wt(o)){const H=Object.keys(o)[0],$=o[H];_=m(this.chart.scales[H].getPixelForValue($))}E=e.top,K=e.bottom,I=_+S,U=I+d}else if(n==="y"){if(o==="center")_=m((e.left+e.right)/2);else if(wt(o)){const H=Object.keys(o)[0],$=o[H];_=m(this.chart.scales[H].getPixelForValue($))}O=_-S,A=O-d,W=e.left,P=e.right}const D=yt(r.ticks.maxTicksLimit,f),Q=Math.max(1,Math.ceil(f/D));for(x=0;x<f;x+=Q){const H=this.getContext(x),$=s.setContext(H),B=a.setContext(H),G=$.lineWidth,ie=$.color,ue=B.dash||[],L=B.dashOffset,q=$.tickWidth,Y=$.tickColor,J=$.tickBorderDash||[],j=$.tickBorderDashOffset;N=NT(this,x,l),N!==void 0&&(k=Aa(i,N,G),c?O=A=W=P=k:I=U=E=K=k,p.push({tx1:O,ty1:I,tx2:A,ty2:U,x1:W,y1:E,x2:P,y2:K,width:G,color:ie,borderDash:ue,borderDashOffset:L,tickWidth:q,tickColor:Y,tickBorderDash:J,tickBorderDashOffset:j}))}return this._ticksLength=f,this._borderValue=_,p}_computeLabelItems(e){const n=this.axis,i=this.options,{position:r,ticks:s}=i,o=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:c,padding:h,mirror:f}=s,d=ju(i.grid),p=d+h,w=f?-h:p,y=-Rs(this.labelRotation),S=[];let m,_,x,N,k,O,I,A,U,W,E,P,K="middle";if(r==="top")O=this.bottom-w,I=this._getXAxisLabelAlignment();else if(r==="bottom")O=this.top+w,I=this._getXAxisLabelAlignment();else if(r==="left"){const Q=this._getYAxisLabelAlignment(d);I=Q.textAlign,k=Q.x}else if(r==="right"){const Q=this._getYAxisLabelAlignment(d);I=Q.textAlign,k=Q.x}else if(n==="x"){if(r==="center")O=(e.top+e.bottom)/2+p;else if(wt(r)){const Q=Object.keys(r)[0],H=r[Q];O=this.chart.scales[Q].getPixelForValue(H)+p}I=this._getXAxisLabelAlignment()}else if(n==="y"){if(r==="center")k=(e.left+e.right)/2-p;else if(wt(r)){const Q=Object.keys(r)[0],H=r[Q];k=this.chart.scales[Q].getPixelForValue(H)}I=this._getYAxisLabelAlignment(d).textAlign}n==="y"&&(l==="start"?K="top":l==="end"&&(K="bottom"));const D=this._getLabelSizes();for(m=0,_=a.length;m<_;++m){x=a[m],N=x.label;const Q=s.setContext(this.getContext(m));A=this.getPixelForTick(m)+s.labelOffset,U=this._resolveTickFontOptions(m),W=U.lineHeight,E=En(N)?N.length:1;const H=E/2,$=Q.color,B=Q.textStrokeColor,G=Q.textStrokeWidth;let ie=I;o?(k=A,I==="inner"&&(m===_-1?ie=this.options.reverse?"left":"right":m===0?ie=this.options.reverse?"right":"left":ie="center"),r==="top"?c==="near"||y!==0?P=-E*W+W/2:c==="center"?P=-D.highest.height/2-H*W+W:P=-D.highest.height+W/2:c==="near"||y!==0?P=W/2:c==="center"?P=D.highest.height/2-H*W:P=D.highest.height-E*W,f&&(P*=-1),y!==0&&!Q.showLabelBackdrop&&(k+=W/2*Math.sin(y))):(O=A,P=(1-E)*W/2);let ue;if(Q.showLabelBackdrop){const L=hr(Q.backdropPadding),q=D.heights[m],Y=D.widths[m];let J=P-L.top,j=0-L.left;switch(K){case"middle":J-=q/2;break;case"bottom":J-=q;break}switch(I){case"center":j-=Y/2;break;case"right":j-=Y;break;case"inner":m===_-1?j-=Y:m>0&&(j-=Y/2);break}ue={left:j,top:J,width:Y+L.width,height:q+L.height,color:Q.backdropColor}}S.push({label:N,font:U,textOffset:P,options:{rotation:y,color:$,strokeColor:B,strokeWidth:G,textAlign:ie,textBaseline:K,translation:[k,O],backdrop:ue}})}return S}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-Rs(this.labelRotation))return e==="top"?"left":"right";let r="center";return n.align==="start"?r="left":n.align==="end"?r="right":n.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:i,mirror:r,padding:s}}=this.options,o=this._getLabelSizes(),a=e+s,l=o.widest.width;let c,h;return n==="left"?r?(h=this.right+s,i==="near"?c="left":i==="center"?(c="center",h+=l/2):(c="right",h+=l)):(h=this.right-a,i==="near"?c="right":i==="center"?(c="center",h-=l/2):(c="left",h=this.left)):n==="right"?r?(h=this.left+s,i==="near"?c="right":i==="center"?(c="center",h-=l/2):(c="left",h-=l)):(h=this.left+a,i==="near"?c="left":i==="center"?(c="center",h+=l/2):(c="right",h=this.right)):c="right",{textAlign:c,x:h}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:i,top:r,width:s,height:o}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(i,r,s,o),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const r=this.ticks.findIndex(s=>s.value===e);return r>=0?n.setContext(this.getContext(r)).lineWidth:0}drawGrid(e){const n=this.options.grid,i=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let s,o;const a=(l,c,h)=>{!h.width||!h.color||(i.save(),i.lineWidth=h.width,i.strokeStyle=h.color,i.setLineDash(h.borderDash||[]),i.lineDashOffset=h.borderDashOffset,i.beginPath(),i.moveTo(l.x,l.y),i.lineTo(c.x,c.y),i.stroke(),i.restore())};if(n.display)for(s=0,o=r.length;s<o;++s){const l=r[s];n.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),n.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:i,grid:r}}=this,s=i.setContext(this.getContext()),o=i.display?s.width:0;if(!o)return;const a=r.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let c,h,f,d;this.isHorizontal()?(c=Aa(e,this.left,o)-o/2,h=Aa(e,this.right,a)+a/2,f=d=l):(f=Aa(e,this.top,o)-o/2,d=Aa(e,this.bottom,a)+a/2,c=h=l),n.save(),n.lineWidth=s.width,n.strokeStyle=s.color,n.beginPath(),n.moveTo(c,f),n.lineTo(h,d),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const i=this.ctx,r=this._computeLabelArea();r&&ny(i,r);const s=this.getLabelItems(e);for(const o of s){const a=o.options,l=o.font,c=o.label,h=o.textOffset;Xh(i,c,0,h,l,a)}r&&iy(i)}drawTitle(){const{ctx:e,options:{position:n,title:i,reverse:r}}=this;if(!i.display)return;const s=ai(i.font),o=hr(i.padding),a=i.align;let l=s.lineHeight/2;n==="bottom"||n==="center"||wt(n)?(l+=o.bottom,En(i.text)&&(l+=s.lineHeight*(i.text.length-1))):l+=o.top;const{titleX:c,titleY:h,maxWidth:f,rotation:d}=PT(this,l,n,a);Xh(e,i.text,0,0,s,{color:i.color,maxWidth:f,rotation:d,textAlign:ET(a,n,r),textBaseline:"middle",translation:[c,h]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,i=yt(e.grid&&e.grid.z,-1),r=yt(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Hc.prototype.draw?[{z:n,draw:s=>{this.draw(s)}}]:[{z:i,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:n,draw:s=>{this.drawLabels(s)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",r=[];let s,o;for(s=0,o=n.length;s<o;++s){const a=n[s];a[i]===this.id&&(!e||a.type===e)&&r.push(a)}return r}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return ai(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Gd{constructor(e,n,i){this.type=e,this.scope=n,this.override=i,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let i;TT(n)&&(i=this.register(n));const r=this.items,s=e.id,o=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+e);return s in r||(r[s]=e,IT(e,o,i),this.override&&mn.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const n=this.items,i=e.id,r=this.scope;i in n&&delete n[i],r&&i in mn[r]&&(delete mn[r][i],this.override&&delete nl[i])}}function IT(t,e,n){const i=Yh(Object.create(null),[n?mn.get(n):{},mn.get(e),t.defaults]);mn.set(e,i),t.defaultRoutes&&LT(e,t.defaultRoutes),t.descriptors&&mn.describe(e,t.descriptors)}function LT(t,e){Object.keys(e).forEach(n=>{const i=n.split("."),r=i.pop(),s=[t].concat(i).join("."),o=e[n].split("."),a=o.pop(),l=o.join(".");mn.route(s,r,l,a)})}function TT(t){return"id"in t&&"defaults"in t}class RT{constructor(){this.controllers=new Gd(yc,"datasets",!0),this.elements=new Gd(Vs,"elements"),this.plugins=new Gd(Object,"plugins"),this.scales=new Gd(Hc,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,i){[...n].forEach(r=>{const s=i||this._getRegistryForType(r);i||s.isForType(r)||s===this.plugins&&r.id?this._exec(e,s,r):Et(r,o=>{const a=i||this._getRegistryForType(o);this._exec(e,a,o)})})}_exec(e,n,i){const r=Q2(e);Vt(i["before"+r],[],i),n[e](i),Vt(i["after"+r],[],i)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const i=this._typedRegistries[n];if(i.isForType(e))return i}return this.plugins}_get(e,n,i){const r=n.get(e);if(r===void 0)throw new Error('"'+e+'" is not a registered '+i+".");return r}}var ns=new RT;class OT{constructor(){this._init=[]}notify(e,n,i,r){n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const s=r?this._descriptors(e).filter(r):this._descriptors(e),o=this._notify(s,e,n,i);return n==="afterDestroy"&&(this._notify(s,e,"stop"),this._notify(this._init,e,"uninstall")),o}_notify(e,n,i,r){r=r||{};for(const s of e){const o=s.plugin,a=o[i],l=[n,r,s.options];if(Vt(a,l,o)===!1&&r.cancelable)return!1}return!0}invalidate(){jt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const i=e&&e.config,r=yt(i.options&&i.options.plugins,{}),s=MT(i);return r===!1&&!n?[]:FT(e,s,r,n)}_notifyStateChanges(e){const n=this._oldCache||[],i=this._cache,r=(s,o)=>s.filter(a=>!o.some(l=>a.plugin.id===l.plugin.id));this._notify(r(n,i),e,"stop"),this._notify(r(i,n),e,"start")}}function MT(t){const e={},n=[],i=Object.keys(ns.plugins.items);for(let s=0;s<i.length;s++)n.push(ns.getPlugin(i[s]));const r=t.plugins||[];for(let s=0;s<r.length;s++){const o=r[s];n.indexOf(o)===-1&&(n.push(o),e[o.id]=!0)}return{plugins:n,localIds:e}}function DT(t,e){return!e&&t===!1?null:t===!0?{}:t}function FT(t,{plugins:e,localIds:n},i,r){const s=[],o=t.getContext();for(const a of e){const l=a.id,c=DT(i[l],r);c!==null&&s.push({plugin:a,options:jT(t.config,{plugin:a,local:n[l]},c,o)})}return s}function jT(t,{plugin:e,local:n},i,r){const s=t.pluginScopeKeys(e),o=t.getOptionScopes(i,s);return n&&e.defaults&&o.push(e.defaults),t.createResolver(o,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function mv(t,e){const n=mn.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function BT(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function zT(t,e){return t===e?"_index_":"_value_"}function Dw(t){if(t==="x"||t==="y"||t==="r")return t}function UT(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function vv(t,...e){if(Dw(t))return t;for(const n of e){const i=n.axis||UT(n.position)||t.length>1&&Dw(t[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function Fw(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function HT(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(i=>i.xAxisID===t||i.yAxisID===t);if(n.length)return Fw(t,"x",n[0])||Fw(t,"y",n[0])}return{}}function WT(t,e){const n=nl[t.type]||{scales:{}},i=e.scales||{},r=mv(t.type,e),s=Object.create(null);return Object.keys(i).forEach(o=>{const a=i[o];if(!wt(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const l=vv(o,a,HT(o,t),mn.scales[a.type]),c=zT(l,r),h=n.scales||{};s[o]=ph(Object.create(null),[{axis:l},a,h[l],h[c]])}),t.data.datasets.forEach(o=>{const a=o.type||t.type,l=o.indexAxis||mv(a,e),h=(nl[a]||{}).scales||{};Object.keys(h).forEach(f=>{const d=BT(f,l),p=o[d+"AxisID"]||d;s[p]=s[p]||Object.create(null),ph(s[p],[{axis:d},i[p],h[f]])})}),Object.keys(s).forEach(o=>{const a=s[o];ph(a,[mn.scales[a.type],mn.scale])}),s}function j4(t){const e=t.options||(t.options={});e.plugins=yt(e.plugins,{}),e.scales=WT(t,e)}function B4(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function qT(t){return t=t||{},t.data=B4(t.data),j4(t),t}const jw=new Map,z4=new Set;function Yd(t,e){let n=jw.get(t);return n||(n=e(),jw.set(t,n),z4.add(n)),n}const Bu=(t,e,n)=>{const i=tl(e,n);i!==void 0&&t.add(i)};class VT{constructor(e){this._config=qT(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=B4(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),j4(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Yd(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return Yd(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return Yd(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,i=this.type;return Yd(`${i}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const i=this._scopeCache;let r=i.get(e);return(!r||n)&&(r=new Map,i.set(e,r)),r}getOptionScopes(e,n,i){const{options:r,type:s}=this,o=this._cachedScopes(e,i),a=o.get(n);if(a)return a;const l=new Set;n.forEach(h=>{e&&(l.add(e),h.forEach(f=>Bu(l,e,f))),h.forEach(f=>Bu(l,r,f)),h.forEach(f=>Bu(l,nl[s]||{},f)),h.forEach(f=>Bu(l,mn,f)),h.forEach(f=>Bu(l,pv,f))});const c=Array.from(l);return c.length===0&&c.push(Object.create(null)),z4.has(n)&&o.set(n,c),c}chartOptionScopes(){const{options:e,type:n}=this;return[e,nl[n]||{},mn.datasets[n]||{},{type:n},mn,pv]}resolveNamedOptions(e,n,i,r=[""]){const s={$shared:!0},{resolver:o,subPrefixes:a}=Bw(this._resolverCache,e,r);let l=o;if(GT(o,n)){s.$shared=!1,i=ta(i)?i():i;const c=this.createResolver(e,i,a);l=Lc(o,i,c)}for(const c of n)s[c]=l[c];return s}createResolver(e,n,i=[""],r){const{resolver:s}=Bw(this._resolverCache,e,i);return wt(n)?Lc(s,n,void 0,r):s}}function Bw(t,e,n){let i=t.get(e);i||(i=new Map,t.set(e,i));const r=n.join();let s=i.get(r);return s||(s={resolver:sy(e,n),subPrefixes:n.filter(a=>!a.toLowerCase().includes("hover"))},i.set(r,s)),s}const $T=t=>wt(t)&&Object.getOwnPropertyNames(t).some(e=>ta(t[e]));function GT(t,e){const{isScriptable:n,isIndexable:i}=N4(t);for(const r of e){const s=n(r),o=i(r),a=(o||s)&&t[r];if(s&&(ta(a)||$T(a))||o&&En(a))return!0}return!1}var YT="4.5.0";const KT=["top","bottom","left","right","chartArea"];function zw(t,e){return t==="top"||t==="bottom"||KT.indexOf(t)===-1&&e==="x"}function Uw(t,e){return function(n,i){return n[t]===i[t]?n[e]-i[e]:n[t]-i[t]}}function Hw(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),Vt(n&&n.onComplete,[t],e)}function XT(t){const e=t.chart,n=e.options.animation;Vt(n&&n.onProgress,[t],e)}function U4(t){return ly()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const bp={},Ww=t=>{const e=U4(t);return Object.values(bp).filter(n=>n.canvas===e).pop()};function JT(t,e,n){const i=Object.keys(t);for(const r of i){const s=+r;if(s>=e){const o=t[r];delete t[r],(n>0||s>e)&&(t[s+n]=o)}}}function QT(t,e,n,i){return!n||t.type==="mouseout"?null:i?e:t}var yo;let wf=(yo=class{static register(...e){ns.add(...e),qw()}static unregister(...e){ns.remove(...e),qw()}constructor(e,n){const i=this.config=new VT(n),r=U4(e),s=Ww(r);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const o=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||mT(r)),this.platform.updateConfig(i);const a=this.platform.acquireContext(r,o.aspectRatio),l=a&&a.canvas,c=l&&l.height,h=l&&l.width;if(this.id=gL(),this.ctx=a,this.canvas=l,this.width=h,this.height=c,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new OT,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=RL(f=>this.update(f),o.resizeDelay||0),this._dataChanges=[],bp[this.id]=this,!a||!l){console.error("Failed to create chart: can't acquire context from the given item");return}ks.listen(this,"complete",Hw),ks.listen(this,"progress",XT),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:i,height:r,_aspectRatio:s}=this;return jt(e)?n&&s?s:r?i/r:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return ns}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():gw(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return hw(this.canvas,this.ctx),this}stop(){return ks.stop(this),this}resize(e,n){ks.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const i=this.options,r=this.canvas,s=i.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(r,e,n,s),a=i.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,gw(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),Vt(i.onResize,[this,o],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};Et(n,(i,r)=>{i.id=r})}buildOrUpdateScales(){const e=this.options,n=e.scales,i=this.scales,r=Object.keys(i).reduce((o,a)=>(o[a]=!1,o),{});let s=[];n&&(s=s.concat(Object.keys(n).map(o=>{const a=n[o],l=vv(o,a),c=l==="r",h=l==="x";return{options:a,dposition:c?"chartArea":h?"bottom":"left",dtype:c?"radialLinear":h?"category":"linear"}}))),Et(s,o=>{const a=o.options,l=a.id,c=vv(l,a),h=yt(a.type,o.dtype);(a.position===void 0||zw(a.position,c)!==zw(o.dposition))&&(a.position=o.dposition),r[l]=!0;let f=null;if(l in i&&i[l].type===h)f=i[l];else{const d=ns.getScale(h);f=new d({id:l,type:h,ctx:this.ctx,chart:this}),i[f.id]=f}f.init(a,e)}),Et(r,(o,a)=>{o||delete i[a]}),Et(i,o=>{or.configure(this,o,o.options),or.addBox(this,o)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,i=e.length;if(e.sort((r,s)=>r.index-s.index),i>n){for(let r=n;r<i;++r)this._destroyDatasetMeta(r);e.splice(n,i-n)}this._sortedMetasets=e.slice(0).sort(Uw("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((i,r)=>{n.filter(s=>s===i._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let i,r;for(this._removeUnreferencedMetasets(),i=0,r=n.length;i<r;i++){const s=n[i];let o=this.getDatasetMeta(i);const a=s.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(i),o=this.getDatasetMeta(i)),o.type=a,o.indexAxis=s.indexAxis||mv(a,this.options),o.order=s.order||0,o.index=i,o.label=""+s.label,o.visible=this.isDatasetVisible(i),o.controller)o.controller.updateIndex(i),o.controller.linkScales();else{const l=ns.getController(a),{datasetElementType:c,dataElementType:h}=mn.datasets[a];Object.assign(l,{dataElementType:ns.getElement(h),datasetElementType:c&&ns.getElement(c)}),o.controller=new l(this,i),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){Et(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const i=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let c=0,h=this.data.datasets.length;c<h;c++){const{controller:f}=this.getDatasetMeta(c),d=!r&&s.indexOf(f)===-1;f.buildOrUpdateElements(d),o=Math.max(+f.getMaxOverflow(),o)}o=this._minPadding=i.layout.autoPadding?o:0,this._updateLayout(o),r||Et(s,c=>{c.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(Uw("z","_idx"));const{_active:a,_lastEvent:l}=this;l?this._eventHandler(l,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){Et(this.scales,e=>{or.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),i=new Set(e.events);(!tw(n,i)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:i,start:r,count:s}of n){const o=i==="_removeElements"?-s:s;JT(e,r,o)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,i=s=>new Set(e.filter(o=>o[0]===s).map((o,a)=>a+","+o.splice(1).join(","))),r=i(0);for(let s=1;s<n;s++)if(!tw(r,i(s)))return;return Array.from(r).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;or.update(this,this.width,this.height,e);const n=this.chartArea,i=n.width<=0||n.height<=0;this._layers=[],Et(this.boxes,r=>{i&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,s)=>{r._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,i=this.data.datasets.length;n<i;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,i=this.data.datasets.length;n<i;++n)this._updateDataset(n,ta(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const i=this.getDatasetMeta(e),r={meta:i,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(i.controller._update(n),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(ks.has(this)?this.attached&&!ks.running(this)&&ks.start(this):(this.draw(),Hw({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:i,height:r}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,r)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,i=[];let r,s;for(r=0,s=n.length;r<s;++r){const o=n[r];(!e||o.visible)&&i.push(o)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,i={meta:e,index:e.index,cancelable:!0},r=y6(this,e);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(r&&ny(n,r),e.controller.draw(),r&&iy(n),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(e){return x4(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,i,r){const s=K6.modes[n];return typeof s=="function"?s(this,e,i,r):[]}getDatasetMeta(e){const n=this.data.datasets[e],i=this._metasets;let r=i.filter(s=>s&&s._dataset===n).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},i.push(r)),r}getContext(){return this.$context||(this.$context=Uc(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const i=this.getDatasetMeta(e);return typeof i.hidden=="boolean"?!i.hidden:!n.hidden}setDatasetVisibility(e,n){const i=this.getDatasetMeta(e);i.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,i){const r=i?"show":"hide",s=this.getDatasetMeta(e),o=s.controller._resolveAnimations(void 0,r);Kh(n)?(s.data[n].hidden=!i,this.update()):(this.setDatasetVisibility(e,i),o.update(s,{visible:i}),this.update(a=>a.datasetIndex===e?r:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),ks.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),hw(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete bp[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,i=(s,o)=>{n.addEventListener(this,s,o),e[s]=o},r=(s,o,a)=>{s.offsetX=o,s.offsetY=a,this._eventHandler(s)};Et(this.options.events,s=>i(s,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,i=(l,c)=>{n.addEventListener(this,l,c),e[l]=c},r=(l,c)=>{e[l]&&(n.removeEventListener(this,l,c),delete e[l])},s=(l,c)=>{this.canvas&&this.resize(l,c)};let o;const a=()=>{r("attach",a),this.attached=!0,this.resize(),i("resize",s),i("detach",o)};o=()=>{this.attached=!1,r("resize",s),this._stop(),this._resize(0,0),i("attach",a)},n.isAttached(this.canvas)?a():o()}unbindEvents(){Et(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},Et(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,i){const r=i?"set":"remove";let s,o,a,l;for(n==="dataset"&&(s=this.getDatasetMeta(e[0].datasetIndex),s.controller["_"+r+"DatasetHoverStyle"]()),a=0,l=e.length;a<l;++a){o=e[a];const c=o&&this.getDatasetMeta(o.datasetIndex).controller;c&&c[r+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],i=e.map(({datasetIndex:s,index:o})=>{const a=this.getDatasetMeta(s);if(!a)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:a.data[o],index:o}});!Zp(i,n)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,n))}notifyPlugins(e,n,i){return this._plugins.notify(this,e,n,i)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,i){const r=this.options.hover,s=(l,c)=>l.filter(h=>!c.some(f=>h.datasetIndex===f.datasetIndex&&h.index===f.index)),o=s(n,e),a=i?e:s(e,n);o.length&&this.updateHoverStyle(o,r.mode,!1),a.length&&r.mode&&this.updateHoverStyle(a,r.mode,!0)}_eventHandler(e,n){const i={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},r=o=>(o.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",i,r)===!1)return;const s=this._handleEvent(e,n,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,r),(s||i.changed)&&this.render(),this}_handleEvent(e,n,i){const{_active:r=[],options:s}=this,o=n,a=this._getActiveElements(e,r,i,o),l=bL(e),c=QT(e,this._lastEvent,i,l);i&&(this._lastEvent=null,Vt(s.onHover,[e,a,this],this),l&&Vt(s.onClick,[e,a,this],this));const h=!Zp(a,r);return(h||n)&&(this._active=a,this._updateHoverStyles(a,r,n)),this._lastEvent=c,h}_getActiveElements(e,n,i,r){if(e.type==="mouseout")return[];if(!i)return n;const s=this.options.hover;return this.getElementsAtEventForMode(e,s.mode,s,r)}},Ye(yo,"defaults",mn),Ye(yo,"instances",bp),Ye(yo,"overrides",nl),Ye(yo,"registry",ns),Ye(yo,"version",YT),Ye(yo,"getChart",Ww),yo);function qw(){return Et(wf.instances,t=>t._plugins.invalidate())}function ZT(t,e,n){const{startAngle:i,x:r,y:s,outerRadius:o,innerRadius:a,options:l}=e,{borderWidth:c,borderJoinStyle:h}=l,f=Math.min(c/o,is(i-n));if(t.beginPath(),t.arc(r,s,o-c/2,i+f/2,n-f/2),a>0){const d=Math.min(c/a,is(i-n));t.arc(r,s,a+c/2,n-d/2,i+d/2,!0)}else{const d=Math.min(c/2,o*is(i-n));if(h==="round")t.arc(r,s,d,n-Ft/2,i+Ft/2,!0);else if(h==="bevel"){const p=2*d*d,w=-p*Math.cos(n+Ft/2)+r,y=-p*Math.sin(n+Ft/2)+s,S=p*Math.cos(i+Ft/2)+r,m=p*Math.sin(i+Ft/2)+s;t.lineTo(w,y),t.lineTo(S,m)}}t.closePath(),t.moveTo(0,0),t.rect(0,0,t.canvas.width,t.canvas.height),t.clip("evenodd")}function e8(t,e,n){const{startAngle:i,pixelMargin:r,x:s,y:o,outerRadius:a,innerRadius:l}=e;let c=r/a;t.beginPath(),t.arc(s,o,a,i-c,n+c),l>r?(c=r/l,t.arc(s,o,l,n+c,i-c,!0)):t.arc(s,o,r,n+Tn,i-Tn),t.closePath(),t.clip()}function t8(t){return ry(t,["outerStart","outerEnd","innerStart","innerEnd"])}function n8(t,e,n,i){const r=t8(t.options.borderRadius),s=(n-e)/2,o=Math.min(s,i*e/2),a=l=>{const c=(n-Math.min(s,l))*i/2;return Ei(l,0,Math.min(s,c))};return{outerStart:a(r.outerStart),outerEnd:a(r.outerEnd),innerStart:Ei(r.innerStart,0,o),innerEnd:Ei(r.innerEnd,0,o)}}function ql(t,e,n,i){return{x:n+t*Math.cos(e),y:i+t*Math.sin(e)}}function ag(t,e,n,i,r,s){const{x:o,y:a,startAngle:l,pixelMargin:c,innerRadius:h}=e,f=Math.max(e.outerRadius+i+n-c,0),d=h>0?h+i+n+c:0;let p=0;const w=r-l;if(i){const Q=h>0?h-i:0,H=f>0?f-i:0,$=(Q+H)/2,B=$!==0?w*$/($+i):w;p=(w-B)/2}const y=Math.max(.001,w*f-n/Ft)/f,S=(w-y)/2,m=l+S+p,_=r-S-p,{outerStart:x,outerEnd:N,innerStart:k,innerEnd:O}=n8(e,d,f,_-m),I=f-x,A=f-N,U=m+x/I,W=_-N/A,E=d+k,P=d+O,K=m+k/E,D=_-O/P;if(t.beginPath(),s){const Q=(U+W)/2;if(t.arc(o,a,f,U,Q),t.arc(o,a,f,Q,W),N>0){const G=ql(A,W,o,a);t.arc(G.x,G.y,N,W,_+Tn)}const H=ql(P,_,o,a);if(t.lineTo(H.x,H.y),O>0){const G=ql(P,D,o,a);t.arc(G.x,G.y,O,_+Tn,D+Math.PI)}const $=(_-O/d+(m+k/d))/2;if(t.arc(o,a,d,_-O/d,$,!0),t.arc(o,a,d,$,m+k/d,!0),k>0){const G=ql(E,K,o,a);t.arc(G.x,G.y,k,K+Math.PI,m-Tn)}const B=ql(I,m,o,a);if(t.lineTo(B.x,B.y),x>0){const G=ql(I,U,o,a);t.arc(G.x,G.y,x,m-Tn,U)}}else{t.moveTo(o,a);const Q=Math.cos(U)*f+o,H=Math.sin(U)*f+a;t.lineTo(Q,H);const $=Math.cos(W)*f+o,B=Math.sin(W)*f+a;t.lineTo($,B)}t.closePath()}function i8(t,e,n,i,r){const{fullCircles:s,startAngle:o,circumference:a}=e;let l=e.endAngle;if(s){ag(t,e,n,i,l,r);for(let c=0;c<s;++c)t.fill();isNaN(a)||(l=o+(a%xn||xn))}return ag(t,e,n,i,l,r),t.fill(),l}function r8(t,e,n,i,r){const{fullCircles:s,startAngle:o,circumference:a,options:l}=e,{borderWidth:c,borderJoinStyle:h,borderDash:f,borderDashOffset:d,borderRadius:p}=l,w=l.borderAlign==="inner";if(!c)return;t.setLineDash(f||[]),t.lineDashOffset=d,w?(t.lineWidth=c*2,t.lineJoin=h||"round"):(t.lineWidth=c,t.lineJoin=h||"bevel");let y=e.endAngle;if(s){ag(t,e,n,i,y,r);for(let S=0;S<s;++S)t.stroke();isNaN(a)||(y=o+(a%xn||xn))}w&&e8(t,e,y),l.selfJoin&&y-o>=Ft&&p===0&&h!=="miter"&&ZT(t,e,y),s||(ag(t,e,n,i,y,r),t.stroke())}class ih extends Vs{constructor(n){super();Ye(this,"circumference");Ye(this,"endAngle");Ye(this,"fullCircles");Ye(this,"innerRadius");Ye(this,"outerRadius");Ye(this,"pixelMargin");Ye(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,n&&Object.assign(this,n)}inRange(n,i,r){const s=this.getProps(["x","y"],r),{angle:o,distance:a}=p4(s,{x:n,y:i}),{startAngle:l,endAngle:c,innerRadius:h,outerRadius:f,circumference:d}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],r),p=(this.options.spacing+this.options.borderWidth)/2,w=yt(d,c-l),y=ig(o,l,c)&&l!==c,S=w>=xn||y,m=ja(a,h+p,f+p);return S&&m}getCenterPoint(n){const{x:i,y:r,startAngle:s,endAngle:o,innerRadius:a,outerRadius:l}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],n),{offset:c,spacing:h}=this.options,f=(s+o)/2,d=(a+l+h+c)/2;return{x:i+Math.cos(f)*d,y:r+Math.sin(f)*d}}tooltipPosition(n){return this.getCenterPoint(n)}draw(n){const{options:i,circumference:r}=this,s=(i.offset||0)/4,o=(i.spacing||0)/2,a=i.circular;if(this.pixelMargin=i.borderAlign==="inner"?.33:0,this.fullCircles=r>xn?Math.floor(r/xn):0,r===0||this.innerRadius<0||this.outerRadius<0)return;n.save();const l=(this.startAngle+this.endAngle)/2;n.translate(Math.cos(l)*s,Math.sin(l)*s);const c=1-Math.sin(Math.min(Ft,r||0)),h=s*c;n.fillStyle=i.backgroundColor,n.strokeStyle=i.borderColor,i8(n,this,h,o,a),r8(n,this,h,o,a),n.restore()}}Ye(ih,"id","arc"),Ye(ih,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1}),Ye(ih,"defaultRoutes",{backgroundColor:"backgroundColor"}),Ye(ih,"descriptors",{_scriptable:!0,_indexable:n=>n!=="borderDash"});function H4(t,e){const{x:n,y:i,base:r,width:s,height:o}=t.getProps(["x","y","base","width","height"],e);let a,l,c,h,f;return t.horizontal?(f=o/2,a=Math.min(n,r),l=Math.max(n,r),c=i-f,h=i+f):(f=s/2,a=n-f,l=n+f,c=Math.min(i,r),h=Math.max(i,r)),{left:a,top:c,right:l,bottom:h}}function Ro(t,e,n,i){return t?0:Ei(e,n,i)}function s8(t,e,n){const i=t.options.borderWidth,r=t.borderSkipped,s=S4(i);return{t:Ro(r.top,s.top,0,n),r:Ro(r.right,s.right,0,e),b:Ro(r.bottom,s.bottom,0,n),l:Ro(r.left,s.left,0,e)}}function o8(t,e,n){const{enableBorderRadius:i}=t.getProps(["enableBorderRadius"]),r=t.options.borderRadius,s=mc(r),o=Math.min(e,n),a=t.borderSkipped,l=i||wt(r);return{topLeft:Ro(!l||a.top||a.left,s.topLeft,0,o),topRight:Ro(!l||a.top||a.right,s.topRight,0,o),bottomLeft:Ro(!l||a.bottom||a.left,s.bottomLeft,0,o),bottomRight:Ro(!l||a.bottom||a.right,s.bottomRight,0,o)}}function a8(t){const e=H4(t),n=e.right-e.left,i=e.bottom-e.top,r=s8(t,n/2,i/2),s=o8(t,n/2,i/2);return{outer:{x:e.left,y:e.top,w:n,h:i,radius:s},inner:{x:e.left+r.l,y:e.top+r.t,w:n-r.l-r.r,h:i-r.t-r.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,s.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(r.b,r.r))}}}}function q0(t,e,n,i){const r=e===null,s=n===null,a=t&&!(r&&s)&&H4(t,i);return a&&(r||ja(e,a.left,a.right))&&(s||ja(n,a.top,a.bottom))}function l8(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function c8(t,e){t.rect(e.x,e.y,e.w,e.h)}function V0(t,e,n={}){const i=t.x!==n.x?-e:0,r=t.y!==n.y?-e:0,s=(t.x+t.w!==n.x+n.w?e:0)-i,o=(t.y+t.h!==n.y+n.h?e:0)-r;return{x:t.x+i,y:t.y+r,w:t.w+s,h:t.h+o,radius:t.radius}}class xp extends Vs{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:n,options:{borderColor:i,backgroundColor:r}}=this,{inner:s,outer:o}=a8(this),a=l8(o.radius)?rg:c8;e.save(),(o.w!==s.w||o.h!==s.h)&&(e.beginPath(),a(e,V0(o,n,s)),e.clip(),a(e,V0(s,-n,o)),e.fillStyle=i,e.fill("evenodd")),e.beginPath(),a(e,V0(s,n)),e.fillStyle=r,e.fill(),e.restore()}inRange(e,n,i){return q0(this,e,n,i)}inXRange(e,n){return q0(this,e,null,n)}inYRange(e,n){return q0(this,null,e,n)}getCenterPoint(e){const{x:n,y:i,base:r,horizontal:s}=this.getProps(["x","y","base","horizontal"],e);return{x:s?(n+r)/2:n,y:s?i:(i+r)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}Ye(xp,"id","bar"),Ye(xp,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),Ye(xp,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const Vw=(t,e)=>{let{boxHeight:n=e,boxWidth:i=e}=t;return t.usePointStyle&&(n=Math.min(n,e),i=t.pointStyleWidth||Math.min(i,e)),{boxWidth:i,boxHeight:n,itemHeight:Math.max(e,n)}},u8=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class $w extends Vs{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,i){this.maxWidth=e,this.maxHeight=n,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=Vt(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(i=>e.filter(i,this.chart.data))),e.sort&&(n=n.sort((i,r)=>e.sort(i,r,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const i=e.labels,r=ai(i.font),s=r.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=Vw(i,s);let c,h;n.font=r.string,this.isHorizontal()?(c=this.maxWidth,h=this._fitRows(o,s,a,l)+10):(h=this.maxHeight,c=this._fitCols(o,r,a,l)+10),this.width=Math.min(c,e.maxWidth||this.maxWidth),this.height=Math.min(h,e.maxHeight||this.maxHeight)}_fitRows(e,n,i,r){const{ctx:s,maxWidth:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],h=r+a;let f=e;s.textAlign="left",s.textBaseline="middle";let d=-1,p=-h;return this.legendItems.forEach((w,y)=>{const S=i+n/2+s.measureText(w.text).width;(y===0||c[c.length-1]+S+2*a>o)&&(f+=h,c[c.length-(y>0?0:1)]=0,p+=h,d++),l[y]={left:0,top:p,row:d,width:S,height:r},c[c.length-1]+=S+a}),f}_fitCols(e,n,i,r){const{ctx:s,maxHeight:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],h=o-e;let f=a,d=0,p=0,w=0,y=0;return this.legendItems.forEach((S,m)=>{const{itemWidth:_,itemHeight:x}=h8(i,n,s,S,r);m>0&&p+x+2*a>h&&(f+=d+a,c.push({width:d,height:p}),w+=d+a,y++,d=p=0),l[m]={left:w,top:p,col:y,width:_,height:x},d=Math.max(d,_),p+=x+a}),f+=d,c.push({width:d,height:p}),f}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:i,labels:{padding:r},rtl:s}}=this,o=vc(s,this.left,this.width);if(this.isHorizontal()){let a=0,l=ni(i,this.left+r,this.right-this.lineWidths[a]);for(const c of n)a!==c.row&&(a=c.row,l=ni(i,this.left+r,this.right-this.lineWidths[a])),c.top+=this.top+e+r,c.left=o.leftForLtr(o.x(l),c.width),l+=c.width+r}else{let a=0,l=ni(i,this.top+e+r,this.bottom-this.columnSizes[a].height);for(const c of n)c.col!==a&&(a=c.col,l=ni(i,this.top+e+r,this.bottom-this.columnSizes[a].height)),c.top=l,c.left+=this.left+r,c.left=o.leftForLtr(o.x(c.left),c.width),l+=c.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;ny(e,this),this._draw(),iy(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:i,ctx:r}=this,{align:s,labels:o}=e,a=mn.color,l=vc(e.rtl,this.left,this.width),c=ai(o.font),{padding:h}=o,f=c.size,d=f/2;let p;this.drawTitle(),r.textAlign=l.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=c.string;const{boxWidth:w,boxHeight:y,itemHeight:S}=Vw(o,f),m=function(O,I,A){if(isNaN(w)||w<=0||isNaN(y)||y<0)return;r.save();const U=yt(A.lineWidth,1);if(r.fillStyle=yt(A.fillStyle,a),r.lineCap=yt(A.lineCap,"butt"),r.lineDashOffset=yt(A.lineDashOffset,0),r.lineJoin=yt(A.lineJoin,"miter"),r.lineWidth=U,r.strokeStyle=yt(A.strokeStyle,a),r.setLineDash(yt(A.lineDash,[])),o.usePointStyle){const W={radius:y*Math.SQRT2/2,pointStyle:A.pointStyle,rotation:A.rotation,borderWidth:U},E=l.xPlus(O,w/2),P=I+d;b4(r,W,E,P,o.pointStyleWidth&&w)}else{const W=I+Math.max((f-y)/2,0),E=l.leftForLtr(O,w),P=mc(A.borderRadius);r.beginPath(),Object.values(P).some(K=>K!==0)?rg(r,{x:E,y:W,w,h:y,radius:P}):r.rect(E,W,w,y),r.fill(),U!==0&&r.stroke()}r.restore()},_=function(O,I,A){Xh(r,A.text,O,I+S/2,c,{strikethrough:A.hidden,textAlign:l.textAlign(A.textAlign)})},x=this.isHorizontal(),N=this._computeTitleHeight();x?p={x:ni(s,this.left+h,this.right-i[0]),y:this.top+h+N,line:0}:p={x:this.left+h,y:ni(s,this.top+N+h,this.bottom-n[0].height),line:0},E4(this.ctx,e.textDirection);const k=S+h;this.legendItems.forEach((O,I)=>{r.strokeStyle=O.fontColor,r.fillStyle=O.fontColor;const A=r.measureText(O.text).width,U=l.textAlign(O.textAlign||(O.textAlign=o.textAlign)),W=w+d+A;let E=p.x,P=p.y;l.setWidth(this.width),x?I>0&&E+W+h>this.right&&(P=p.y+=k,p.line++,E=p.x=ni(s,this.left+h,this.right-i[p.line])):I>0&&P+k>this.bottom&&(E=p.x=E+n[p.line].width+h,p.line++,P=p.y=ni(s,this.top+N+h,this.bottom-n[p.line].height));const K=l.x(E);if(m(K,P,O),E=OL(U,E+w+d,x?E+W:this.right,e.rtl),_(l.x(E),P,O),x)p.x+=W+h;else if(typeof O.text!="string"){const D=c.lineHeight;p.y+=W4(O,D)+h}else p.y+=k}),P4(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,i=ai(n.font),r=hr(n.padding);if(!n.display)return;const s=vc(e.rtl,this.left,this.width),o=this.ctx,a=n.position,l=i.size/2,c=r.top+l;let h,f=this.left,d=this.width;if(this.isHorizontal())d=Math.max(...this.lineWidths),h=this.top+c,f=ni(e.align,f,this.right-d);else{const w=this.columnSizes.reduce((y,S)=>Math.max(y,S.height),0);h=c+ni(e.align,this.top,this.bottom-w-e.labels.padding-this._computeTitleHeight())}const p=ni(a,f,f+d);o.textAlign=s.textAlign(ey(a)),o.textBaseline="middle",o.strokeStyle=n.color,o.fillStyle=n.color,o.font=i.string,Xh(o,n.text,p,h,i)}_computeTitleHeight(){const e=this.options.title,n=ai(e.font),i=hr(e.padding);return e.display?n.lineHeight+i.height:0}_getLegendItemAt(e,n){let i,r,s;if(ja(e,this.left,this.right)&&ja(n,this.top,this.bottom)){for(s=this.legendHitBoxes,i=0;i<s.length;++i)if(r=s[i],ja(e,r.left,r.left+r.width)&&ja(n,r.top,r.top+r.height))return this.legendItems[i]}return null}handleEvent(e){const n=this.options;if(!p8(e.type,n))return;const i=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const r=this._hoveredItem,s=u8(r,i);r&&!s&&Vt(n.onLeave,[e,r,this],this),this._hoveredItem=i,i&&!s&&Vt(n.onHover,[e,i,this],this)}else i&&Vt(n.onClick,[e,i,this],this)}}function h8(t,e,n,i,r){const s=f8(i,t,e,n),o=d8(r,i,e.lineHeight);return{itemWidth:s,itemHeight:o}}function f8(t,e,n,i){let r=t.text;return r&&typeof r!="string"&&(r=r.reduce((s,o)=>s.length>o.length?s:o)),e+n.size/2+i.measureText(r).width}function d8(t,e,n){let i=t;return typeof e.text!="string"&&(i=W4(e,n)),i}function W4(t,e){const n=t.text?t.text.length:0;return e*n}function p8(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var q4={id:"legend",_element:$w,start(t,e,n){const i=t.legend=new $w({ctx:t.ctx,options:n,chart:t});or.configure(t,i,n),or.addBox(t,i)},stop(t){or.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const i=t.legend;or.configure(t,i,n),i.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const i=e.datasetIndex,r=n.chart;r.isDatasetVisible(i)?(r.hide(i),e.hidden=!0):(r.show(i),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:i,textAlign:r,color:s,useBorderRadius:o,borderRadius:a}}=t.legend.options;return t._getSortedDatasetMetas().map(l=>{const c=l.controller.getStyle(n?0:void 0),h=hr(c.borderWidth);return{text:e[l.index].label,fillStyle:c.backgroundColor,fontColor:s,hidden:!l.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(h.width+h.height)/4,strokeStyle:c.borderColor,pointStyle:i||c.pointStyle,rotation:c.rotation,textAlign:r||c.textAlign,borderRadius:o&&(a||c.borderRadius),datasetIndex:l.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class V4 extends Vs{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;const r=En(i.text)?i.text.length:1;this._padding=hr(i.padding);const s=r*ai(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:i,bottom:r,right:s,options:o}=this,a=o.align;let l=0,c,h,f;return this.isHorizontal()?(h=ni(a,i,s),f=n+e,c=s-i):(o.position==="left"?(h=i+e,f=ni(a,r,n),l=Ft*-.5):(h=s-e,f=ni(a,n,r),l=Ft*.5),c=r-n),{titleX:h,titleY:f,maxWidth:c,rotation:l}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const i=ai(n.font),s=i.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:l,rotation:c}=this._drawArgs(s);Xh(e,n.text,0,0,i,{color:n.color,maxWidth:l,rotation:c,textAlign:ey(n.align),textBaseline:"middle",translation:[o,a]})}}function g8(t,e){const n=new V4({ctx:t.ctx,options:e,chart:t});or.configure(t,n,e),or.addBox(t,n),t.titleBlock=n}var m8={id:"title",_element:V4,start(t,e,n){g8(t,n)},stop(t){const e=t.titleBlock;or.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const i=t.titleBlock;or.configure(t,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const rh={average(t){if(!t.length)return!1;let e,n,i=new Set,r=0,s=0;for(e=0,n=t.length;e<n;++e){const a=t[e].element;if(a&&a.hasValue()){const l=a.tooltipPosition();i.add(l.x),r+=l.y,++s}}return s===0||i.size===0?!1:{x:[...i].reduce((a,l)=>a+l)/i.size,y:r/s}},nearest(t,e){if(!t.length)return!1;let n=e.x,i=e.y,r=Number.POSITIVE_INFINITY,s,o,a;for(s=0,o=t.length;s<o;++s){const l=t[s].element;if(l&&l.hasValue()){const c=l.getCenterPoint(),h=EL(e,c);h<r&&(r=h,a=l)}}if(a){const l=a.tooltipPosition();n=l.x,i=l.y}return{x:n,y:i}}};function Zr(t,e){return e&&(En(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function As(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function v8(t,e){const{element:n,datasetIndex:i,index:r}=e,s=t.getDatasetMeta(i).controller,{label:o,value:a}=s.getLabelAndValue(r);return{chart:t,label:o,parsed:s.getParsed(r),raw:t.data.datasets[i].data[r],formattedValue:a,dataset:s.getDataset(),dataIndex:r,datasetIndex:i,element:n}}function Gw(t,e){const n=t.chart.ctx,{body:i,footer:r,title:s}=t,{boxWidth:o,boxHeight:a}=e,l=ai(e.bodyFont),c=ai(e.titleFont),h=ai(e.footerFont),f=s.length,d=r.length,p=i.length,w=hr(e.padding);let y=w.height,S=0,m=i.reduce((N,k)=>N+k.before.length+k.lines.length+k.after.length,0);if(m+=t.beforeBody.length+t.afterBody.length,f&&(y+=f*c.lineHeight+(f-1)*e.titleSpacing+e.titleMarginBottom),m){const N=e.displayColors?Math.max(a,l.lineHeight):l.lineHeight;y+=p*N+(m-p)*l.lineHeight+(m-1)*e.bodySpacing}d&&(y+=e.footerMarginTop+d*h.lineHeight+(d-1)*e.footerSpacing);let _=0;const x=function(N){S=Math.max(S,n.measureText(N).width+_)};return n.save(),n.font=c.string,Et(t.title,x),n.font=l.string,Et(t.beforeBody.concat(t.afterBody),x),_=e.displayColors?o+2+e.boxPadding:0,Et(i,N=>{Et(N.before,x),Et(N.lines,x),Et(N.after,x)}),_=0,n.font=h.string,Et(t.footer,x),n.restore(),S+=w.width,{width:S,height:y}}function y8(t,e){const{y:n,height:i}=e;return n<i/2?"top":n>t.height-i/2?"bottom":"center"}function _8(t,e,n,i){const{x:r,width:s}=i,o=n.caretSize+n.caretPadding;if(t==="left"&&r+s+o>e.width||t==="right"&&r-s-o<0)return!0}function w8(t,e,n,i){const{x:r,width:s}=n,{width:o,chartArea:{left:a,right:l}}=t;let c="center";return i==="center"?c=r<=(a+l)/2?"left":"right":r<=s/2?c="left":r>=o-s/2&&(c="right"),_8(c,t,e,n)&&(c="center"),c}function Yw(t,e,n){const i=n.yAlign||e.yAlign||y8(t,n);return{xAlign:n.xAlign||e.xAlign||w8(t,e,n,i),yAlign:i}}function b8(t,e){let{x:n,width:i}=t;return e==="right"?n-=i:e==="center"&&(n-=i/2),n}function x8(t,e,n){let{y:i,height:r}=t;return e==="top"?i+=n:e==="bottom"?i-=r+n:i-=r/2,i}function Kw(t,e,n,i){const{caretSize:r,caretPadding:s,cornerRadius:o}=t,{xAlign:a,yAlign:l}=n,c=r+s,{topLeft:h,topRight:f,bottomLeft:d,bottomRight:p}=mc(o);let w=b8(e,a);const y=x8(e,l,c);return l==="center"?a==="left"?w+=c:a==="right"&&(w-=c):a==="left"?w-=Math.max(h,d)+r:a==="right"&&(w+=Math.max(f,p)+r),{x:Ei(w,0,i.width-e.width),y:Ei(y,0,i.height-e.height)}}function Kd(t,e,n){const i=hr(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-i.right:t.x+i.left}function Xw(t){return Zr([],As(t))}function S8(t,e,n){return Uc(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function Jw(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const $4={beforeTitle:Ns,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,i=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(i>0&&e.dataIndex<i)return n[e.dataIndex]}return""},afterTitle:Ns,beforeBody:Ns,beforeLabel:Ns,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return jt(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:Ns,afterBody:Ns,beforeFooter:Ns,footer:Ns,afterFooter:Ns};function Ni(t,e,n,i){const r=t[e].call(n,i);return typeof r>"u"?$4[e].call(n,i):r}class yv extends Vs{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,i=this.options.setContext(this.getContext()),r=i.enabled&&n.options.animation&&i.animations,s=new I4(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=S8(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:i}=n,r=Ni(i,"beforeTitle",this,e),s=Ni(i,"title",this,e),o=Ni(i,"afterTitle",this,e);let a=[];return a=Zr(a,As(r)),a=Zr(a,As(s)),a=Zr(a,As(o)),a}getBeforeBody(e,n){return Xw(Ni(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:i}=n,r=[];return Et(e,s=>{const o={before:[],lines:[],after:[]},a=Jw(i,s);Zr(o.before,As(Ni(a,"beforeLabel",this,s))),Zr(o.lines,Ni(a,"label",this,s)),Zr(o.after,As(Ni(a,"afterLabel",this,s))),r.push(o)}),r}getAfterBody(e,n){return Xw(Ni(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:i}=n,r=Ni(i,"beforeFooter",this,e),s=Ni(i,"footer",this,e),o=Ni(i,"afterFooter",this,e);let a=[];return a=Zr(a,As(r)),a=Zr(a,As(s)),a=Zr(a,As(o)),a}_createItems(e){const n=this._active,i=this.chart.data,r=[],s=[],o=[];let a=[],l,c;for(l=0,c=n.length;l<c;++l)a.push(v8(this.chart,n[l]));return e.filter&&(a=a.filter((h,f,d)=>e.filter(h,f,d,i))),e.itemSort&&(a=a.sort((h,f)=>e.itemSort(h,f,i))),Et(a,h=>{const f=Jw(e.callbacks,h);r.push(Ni(f,"labelColor",this,h)),s.push(Ni(f,"labelPointStyle",this,h)),o.push(Ni(f,"labelTextColor",this,h))}),this.labelColors=r,this.labelPointStyles=s,this.labelTextColors=o,this.dataPoints=a,a}update(e,n){const i=this.options.setContext(this.getContext()),r=this._active;let s,o=[];if(!r.length)this.opacity!==0&&(s={opacity:0});else{const a=rh[i.position].call(this,r,this._eventPosition);o=this._createItems(i),this.title=this.getTitle(o,i),this.beforeBody=this.getBeforeBody(o,i),this.body=this.getBody(o,i),this.afterBody=this.getAfterBody(o,i),this.footer=this.getFooter(o,i);const l=this._size=Gw(this,i),c=Object.assign({},a,l),h=Yw(this.chart,i,c),f=Kw(i,c,h,this.chart);this.xAlign=h.xAlign,this.yAlign=h.yAlign,s={opacity:1,x:f.x,y:f.y,width:l.width,height:l.height,caretX:a.x,caretY:a.y}}this._tooltipItems=o,this.$context=void 0,s&&this._resolveAnimations().update(this,s),e&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,i,r){const s=this.getCaretPosition(e,i,r);n.lineTo(s.x1,s.y1),n.lineTo(s.x2,s.y2),n.lineTo(s.x3,s.y3)}getCaretPosition(e,n,i){const{xAlign:r,yAlign:s}=this,{caretSize:o,cornerRadius:a}=i,{topLeft:l,topRight:c,bottomLeft:h,bottomRight:f}=mc(a),{x:d,y:p}=e,{width:w,height:y}=n;let S,m,_,x,N,k;return s==="center"?(N=p+y/2,r==="left"?(S=d,m=S-o,x=N+o,k=N-o):(S=d+w,m=S+o,x=N-o,k=N+o),_=S):(r==="left"?m=d+Math.max(l,h)+o:r==="right"?m=d+w-Math.max(c,f)-o:m=this.caretX,s==="top"?(x=p,N=x-o,S=m-o,_=m+o):(x=p+y,N=x+o,S=m+o,_=m-o),k=x),{x1:S,x2:m,x3:_,y1:x,y2:N,y3:k}}drawTitle(e,n,i){const r=this.title,s=r.length;let o,a,l;if(s){const c=vc(i.rtl,this.x,this.width);for(e.x=Kd(this,i.titleAlign,i),n.textAlign=c.textAlign(i.titleAlign),n.textBaseline="middle",o=ai(i.titleFont),a=i.titleSpacing,n.fillStyle=i.titleColor,n.font=o.string,l=0;l<s;++l)n.fillText(r[l],c.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+a,l+1===s&&(e.y+=i.titleMarginBottom-a)}}_drawColorBox(e,n,i,r,s){const o=this.labelColors[i],a=this.labelPointStyles[i],{boxHeight:l,boxWidth:c}=s,h=ai(s.bodyFont),f=Kd(this,"left",s),d=r.x(f),p=l<h.lineHeight?(h.lineHeight-l)/2:0,w=n.y+p;if(s.usePointStyle){const y={radius:Math.min(c,l)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},S=r.leftForLtr(d,c)+c/2,m=w+l/2;e.strokeStyle=s.multiKeyBackground,e.fillStyle=s.multiKeyBackground,fw(e,y,S,m),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,fw(e,y,S,m)}else{e.lineWidth=wt(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const y=r.leftForLtr(d,c),S=r.leftForLtr(r.xPlus(d,1),c-2),m=mc(o.borderRadius);Object.values(m).some(_=>_!==0)?(e.beginPath(),e.fillStyle=s.multiKeyBackground,rg(e,{x:y,y:w,w:c,h:l,radius:m}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),rg(e,{x:S,y:w+1,w:c-2,h:l-2,radius:m}),e.fill()):(e.fillStyle=s.multiKeyBackground,e.fillRect(y,w,c,l),e.strokeRect(y,w,c,l),e.fillStyle=o.backgroundColor,e.fillRect(S,w+1,c-2,l-2))}e.fillStyle=this.labelTextColors[i]}drawBody(e,n,i){const{body:r}=this,{bodySpacing:s,bodyAlign:o,displayColors:a,boxHeight:l,boxWidth:c,boxPadding:h}=i,f=ai(i.bodyFont);let d=f.lineHeight,p=0;const w=vc(i.rtl,this.x,this.width),y=function(A){n.fillText(A,w.x(e.x+p),e.y+d/2),e.y+=d+s},S=w.textAlign(o);let m,_,x,N,k,O,I;for(n.textAlign=o,n.textBaseline="middle",n.font=f.string,e.x=Kd(this,S,i),n.fillStyle=i.bodyColor,Et(this.beforeBody,y),p=a&&S!=="right"?o==="center"?c/2+h:c+2+h:0,N=0,O=r.length;N<O;++N){for(m=r[N],_=this.labelTextColors[N],n.fillStyle=_,Et(m.before,y),x=m.lines,a&&x.length&&(this._drawColorBox(n,e,N,w,i),d=Math.max(f.lineHeight,l)),k=0,I=x.length;k<I;++k)y(x[k]),d=f.lineHeight;Et(m.after,y)}p=0,d=f.lineHeight,Et(this.afterBody,y),e.y-=s}drawFooter(e,n,i){const r=this.footer,s=r.length;let o,a;if(s){const l=vc(i.rtl,this.x,this.width);for(e.x=Kd(this,i.footerAlign,i),e.y+=i.footerMarginTop,n.textAlign=l.textAlign(i.footerAlign),n.textBaseline="middle",o=ai(i.footerFont),n.fillStyle=i.footerColor,n.font=o.string,a=0;a<s;++a)n.fillText(r[a],l.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+i.footerSpacing}}drawBackground(e,n,i,r){const{xAlign:s,yAlign:o}=this,{x:a,y:l}=e,{width:c,height:h}=i,{topLeft:f,topRight:d,bottomLeft:p,bottomRight:w}=mc(r.cornerRadius);n.fillStyle=r.backgroundColor,n.strokeStyle=r.borderColor,n.lineWidth=r.borderWidth,n.beginPath(),n.moveTo(a+f,l),o==="top"&&this.drawCaret(e,n,i,r),n.lineTo(a+c-d,l),n.quadraticCurveTo(a+c,l,a+c,l+d),o==="center"&&s==="right"&&this.drawCaret(e,n,i,r),n.lineTo(a+c,l+h-w),n.quadraticCurveTo(a+c,l+h,a+c-w,l+h),o==="bottom"&&this.drawCaret(e,n,i,r),n.lineTo(a+p,l+h),n.quadraticCurveTo(a,l+h,a,l+h-p),o==="center"&&s==="left"&&this.drawCaret(e,n,i,r),n.lineTo(a,l+f),n.quadraticCurveTo(a,l,a+f,l),n.closePath(),n.fill(),r.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,i=this.$animations,r=i&&i.x,s=i&&i.y;if(r||s){const o=rh[e.position].call(this,this._active,this._eventPosition);if(!o)return;const a=this._size=Gw(this,e),l=Object.assign({},o,this._size),c=Yw(n,e,l),h=Kw(e,l,c,n);(r._to!==h.x||s._to!==h.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,h))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(n);const r={width:this.width,height:this.height},s={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const o=hr(n.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&a&&(e.save(),e.globalAlpha=i,this.drawBackground(s,e,r,n),E4(e,n.textDirection),s.y+=o.top,this.drawTitle(s,e,n),this.drawBody(s,e,n),this.drawFooter(s,e,n),P4(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const i=this._active,r=e.map(({datasetIndex:a,index:l})=>{const c=this.chart.getDatasetMeta(a);if(!c)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:c.data[l],index:l}}),s=!Zp(i,r),o=this._positionChanged(r,n);(s||o)&&(this._active=r,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,i=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,s=this._active||[],o=this._getActiveElements(e,s,n,i),a=this._positionChanged(o,e),l=n||!Zp(o,s)||a;return l&&(this._active=o,(r.enabled||r.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),l}_getActiveElements(e,n,i,r){const s=this.options;if(e.type==="mouseout")return[];if(!r)return n.filter(a=>this.chart.data.datasets[a.datasetIndex]&&this.chart.getDatasetMeta(a.datasetIndex).controller.getParsed(a.index)!==void 0);const o=this.chart.getElementsAtEventForMode(e,s.mode,s,i);return s.reverse&&o.reverse(),o}_positionChanged(e,n){const{caretX:i,caretY:r,options:s}=this,o=rh[s.position].call(this,e,n);return o!==!1&&(i!==o.x||r!==o.y)}}Ye(yv,"positioners",rh);var G4={id:"tooltip",_element:yv,positioners:rh,afterInit(t,e,n){n&&(t.tooltip=new yv({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:$4},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const N8=(t,e,n,i)=>(typeof e=="string"?(n=t.push(e)-1,i.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function C8(t,e,n,i){const r=t.indexOf(e);if(r===-1)return N8(t,e,n,i);const s=t.lastIndexOf(e);return r!==s?n:r}const k8=(t,e)=>t===null?null:Ei(Math.round(t),0,e);function Qw(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class _v extends Hc{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const i=this.getLabels();for(const{index:r,label:s}of n)i[r]===s&&i.splice(r,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(jt(e))return null;const i=this.getLabels();return n=isFinite(n)&&i[n]===e?n:C8(i,e,yt(n,e),this._addedLabels),k8(n,i.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:i,max:r}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(i=0),n||(r=this.getLabels().length-1)),this.min=i,this.max=r}buildTicks(){const e=this.min,n=this.max,i=this.options.offset,r=[];let s=this.getLabels();s=e===0&&n===s.length-1?s:s.slice(e,n+1),this._valueRange=Math.max(s.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let o=e;o<=n;o++)r.push({value:o});return r}getLabelForValue(e){return Qw.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}Ye(_v,"id","category"),Ye(_v,"defaults",{ticks:{callback:Qw}});function A8(t,e){const n=[],{bounds:r,step:s,min:o,max:a,precision:l,count:c,maxTicks:h,maxDigits:f,includeBounds:d}=t,p=s||1,w=h-1,{min:y,max:S}=e,m=!jt(o),_=!jt(a),x=!jt(c),N=(S-y)/(f+1);let k=iw((S-y)/w/p)*p,O,I,A,U;if(k<1e-14&&!m&&!_)return[{value:y},{value:S}];U=Math.ceil(S/k)-Math.floor(y/k),U>w&&(k=iw(U*k/w/p)*p),jt(l)||(O=Math.pow(10,l),k=Math.ceil(k*O)/O),r==="ticks"?(I=Math.floor(y/k)*k,A=Math.ceil(S/k)*k):(I=y,A=S),m&&_&&s&&CL((a-o)/s,k/1e3)?(U=Math.round(Math.min((a-o)/k,h)),k=(a-o)/U,I=o,A=a):x?(I=m?o:I,A=_?a:A,U=c-1,k=(A-I)/U):(U=(A-I)/k,yp(U,Math.round(U),k/1e3)?U=Math.round(U):U=Math.ceil(U));const W=Math.max(rw(k),rw(I));O=Math.pow(10,jt(l)?W:l),I=Math.round(I*O)/O,A=Math.round(A*O)/O;let E=0;for(m&&(d&&I!==o?(n.push({value:o}),I<o&&E++,yp(Math.round((I+E*k)*O)/O,o,Zw(o,N,t))&&E++):I<o&&E++);E<U;++E){const P=Math.round((I+E*k)*O)/O;if(_&&P>a)break;n.push({value:P})}return _&&d&&A!==a?n.length&&yp(n[n.length-1].value,a,Zw(a,N,t))?n[n.length-1].value=a:n.push({value:a}):(!_||A===a)&&n.push({value:A}),n}function Zw(t,e,{horizontal:n,minRotation:i}){const r=Rs(i),s=(n?Math.sin(r):Math.cos(r))||.001,o=.75*e*(""+t).length;return Math.min(e/s,o)}class E8 extends Hc{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return jt(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:i}=this.getUserBounds();let{min:r,max:s}=this;const o=l=>r=n?r:l,a=l=>s=i?s:l;if(e){const l=Vo(r),c=Vo(s);l<0&&c<0?a(0):l>0&&c>0&&o(0)}if(r===s){let l=s===0?1:Math.abs(s*.05);a(s+l),e||o(r-l)}this.min=r,this.max=s}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:i}=e,r;return i?(r=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),n=n||11),n&&(r=Math.min(n,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let i=this.getTickLimit();i=Math.max(2,i);const r={maxTicks:i,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},s=this._range||this,o=A8(r,s);return e.bounds==="ticks"&&kL(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const e=this.ticks;let n=this.min,i=this.max;if(super.configure(),this.options.offset&&e.length){const r=(i-n)/Math.max(e.length-1,1)/2;n-=r,i+=r}this._startValue=n,this._endValue=i,this._valueRange=i-n}getLabelForValue(e){return ty(e,this.chart.options.locale,this.options.ticks.format)}}class wv extends E8{determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=ur(e)?e:0,this.max=ur(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,i=Rs(this.options.ticks.minRotation),r=(e?Math.sin(i):Math.cos(i))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,s.lineHeight/r))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}Ye(wv,"id","linear"),Ye(wv,"defaults",{ticks:{callback:w4.formatters.numeric}});const Zg={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},ki=Object.keys(Zg);function eb(t,e){return t-e}function tb(t,e){if(jt(e))return null;const n=t._adapter,{parser:i,round:r,isoWeekday:s}=t._parseOpts;let o=e;return typeof i=="function"&&(o=i(o)),ur(o)||(o=typeof i=="string"?n.parse(o,i):n.parse(o)),o===null?null:(r&&(o=r==="week"&&(ng(s)||s===!0)?n.startOf(o,"isoWeek",s):n.startOf(o,r)),+o)}function nb(t,e,n,i){const r=ki.length;for(let s=ki.indexOf(t);s<r-1;++s){const o=Zg[ki[s]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((n-e)/(a*o.size))<=i)return ki[s]}return ki[r-1]}function P8(t,e,n,i,r){for(let s=ki.length-1;s>=ki.indexOf(n);s--){const o=ki[s];if(Zg[o].common&&t._adapter.diff(r,i,o)>=e-1)return o}return ki[n?ki.indexOf(n):0]}function I8(t){for(let e=ki.indexOf(t)+1,n=ki.length;e<n;++e)if(Zg[ki[e]].common)return ki[e]}function ib(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:i,hi:r}=Z2(n,e),s=n[i]>=e?n[i]:n[r];t[s]=!0}}function L8(t,e,n,i){const r=t._adapter,s=+r.startOf(e[0].value,i),o=e[e.length-1].value;let a,l;for(a=s;a<=o;a=+r.add(a,1,i))l=n[a],l>=0&&(e[l].major=!0);return e}function rb(t,e,n){const i=[],r={},s=e.length;let o,a;for(o=0;o<s;++o)a=e[o],r[a]=o,i.push({value:a,major:!1});return s===0||!n?i:L8(t,i,r,n)}class lg extends Hc{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const i=e.time||(e.time={}),r=this._adapter=new q6._date(e.adapters.date);r.init(n),ph(i.displayFormats,r.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:tb(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,i=e.time.unit||"day";let{min:r,max:s,minDefined:o,maxDefined:a}=this.getUserBounds();function l(c){!o&&!isNaN(c.min)&&(r=Math.min(r,c.min)),!a&&!isNaN(c.max)&&(s=Math.max(s,c.max))}(!o||!a)&&(l(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&l(this.getMinMax(!1))),r=ur(r)&&!isNaN(r)?r:+n.startOf(Date.now(),i),s=ur(s)&&!isNaN(s)?s:+n.endOf(Date.now(),i)+1,this.min=Math.min(r,s-1),this.max=Math.max(r+1,s)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],i=e[e.length-1]),{min:n,max:i}}buildTicks(){const e=this.options,n=e.time,i=e.ticks,r=i.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const s=this.min,o=this.max,a=LL(r,s,o);return this._unit=n.unit||(i.autoSkip?nb(n.minUnit,this.min,this.max,this._getLabelCapacity(s)):P8(this,a.length,n.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:I8(this._unit),this.initOffsets(r),e.reverse&&a.reverse(),rb(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,i=0,r,s;this.options.offset&&e.length&&(r=this.getDecimalForValue(e[0]),e.length===1?n=1-r:n=(this.getDecimalForValue(e[1])-r)/2,s=this.getDecimalForValue(e[e.length-1]),e.length===1?i=s:i=(s-this.getDecimalForValue(e[e.length-2]))/2);const o=e.length<3?.5:.25;n=Ei(n,0,o),i=Ei(i,0,o),this._offsets={start:n,end:i,factor:1/(n+1+i)}}_generate(){const e=this._adapter,n=this.min,i=this.max,r=this.options,s=r.time,o=s.unit||nb(s.minUnit,n,i,this._getLabelCapacity(n)),a=yt(r.ticks.stepSize,1),l=o==="week"?s.isoWeekday:!1,c=ng(l)||l===!0,h={};let f=n,d,p;if(c&&(f=+e.startOf(f,"isoWeek",l)),f=+e.startOf(f,c?"day":o),e.diff(i,n,o)>1e5*a)throw new Error(n+" and "+i+" are too far apart with stepSize of "+a+" "+o);const w=r.ticks.source==="data"&&this.getDataTimestamps();for(d=f,p=0;d<i;d=+e.add(d,a,o),p++)ib(h,d,w);return(d===i||r.bounds==="ticks"||p===1)&&ib(h,d,w),Object.keys(h).sort(eb).map(y=>+y)}getLabelForValue(e){const n=this._adapter,i=this.options.time;return i.tooltipFormat?n.format(e,i.tooltipFormat):n.format(e,i.displayFormats.datetime)}format(e,n){const r=this.options.time.displayFormats,s=this._unit,o=n||r[s];return this._adapter.format(e,o)}_tickFormatFunction(e,n,i,r){const s=this.options,o=s.ticks.callback;if(o)return Vt(o,[e,n,i],this);const a=s.time.displayFormats,l=this._unit,c=this._majorUnit,h=l&&a[l],f=c&&a[c],d=i[n],p=c&&f&&d&&d.major;return this._adapter.format(e,r||(p?f:h))}generateTickLabels(e){let n,i,r;for(n=0,i=e.length;n<i;++n)r=e[n],r.label=this._tickFormatFunction(r.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,i=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+i)*n.factor)}getValueForPixel(e){const n=this._offsets,i=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+i*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,i=this.ctx.measureText(e).width,r=Rs(this.isHorizontal()?n.maxRotation:n.minRotation),s=Math.cos(r),o=Math.sin(r),a=this._resolveTickFontOptions(0).size;return{w:i*s+a*o,h:i*o+a*s}}_getLabelCapacity(e){const n=this.options.time,i=n.displayFormats,r=i[n.unit]||i.millisecond,s=this._tickFormatFunction(e,0,rb(this,[e],this._majorUnit),r),o=this._getLabelSize(s),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let e=this._cache.data||[],n,i;if(e.length)return e;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(n=0,i=r.length;n<i;++n)e=e.concat(r[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,i;if(e.length)return e;const r=this.getLabels();for(n=0,i=r.length;n<i;++n)e.push(tb(this,r[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return m4(e.sort(eb))}}Ye(lg,"id","time"),Ye(lg,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Xd(t,e,n){let i=0,r=t.length-1,s,o,a,l;n?(e>=t[i].pos&&e<=t[r].pos&&({lo:i,hi:r}=dv(t,"pos",e)),{pos:s,time:a}=t[i],{pos:o,time:l}=t[r]):(e>=t[i].time&&e<=t[r].time&&({lo:i,hi:r}=dv(t,"time",e)),{time:s,pos:a}=t[i],{time:o,pos:l}=t[r]);const c=o-s;return c?a+(l-a)*(e-s)/c:a}class sb extends lg{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=Xd(n,this.min),this._tableRange=Xd(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:i}=this,r=[],s=[];let o,a,l,c,h;for(o=0,a=e.length;o<a;++o)c=e[o],c>=n&&c<=i&&r.push(c);if(r.length<2)return[{time:n,pos:0},{time:i,pos:1}];for(o=0,a=r.length;o<a;++o)h=r[o+1],l=r[o-1],c=r[o],Math.round((h+l)/2)!==c&&s.push({time:c,pos:o/(a-1)});return s}_generate(){const e=this.min,n=this.max;let i=super.getDataTimestamps();return(!i.includes(e)||!i.length)&&i.splice(0,0,e),(!i.includes(n)||i.length===1)&&i.push(n),i.sort((r,s)=>r-s)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),i=this.getLabelTimestamps();return n.length&&i.length?e=this.normalize(n.concat(i)):e=n.length?n:i,e=this._cache.all=e,e}getDecimalForValue(e){return(Xd(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,i=this.getDecimalForPixel(e)/n.factor-n.end;return Xd(this._table,i*this._tableRange+this._minPos,!0)}}Ye(sb,"id","timeseries"),Ye(sb,"defaults",lg.defaults);const Y4="label";function ob(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function T8(t,e){const n=t.options;n&&e&&Object.assign(n,e)}function K4(t,e){t.labels=e}function X4(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Y4;const i=[];t.datasets=e.map(r=>{const s=t.datasets.find(o=>o[n]===r[n]);return!s||!r.data||i.includes(s)?{...r}:(i.push(s),Object.assign(s,r),s)})}function R8(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Y4;const n={labels:[],datasets:[]};return K4(n,t.labels),X4(n,t.datasets,e),n}function O8(t,e){const{height:n=150,width:i=300,redraw:r=!1,datasetIdKey:s,type:o,data:a,options:l,plugins:c=[],fallbackContent:h,updateMode:f,...d}=t,p=we.useRef(null),w=we.useRef(null),y=()=>{p.current&&(w.current=new wf(p.current,{type:o,data:R8(a,s),options:l&&{...l},plugins:c}),ob(e,w.current))},S=()=>{ob(e,null),w.current&&(w.current.destroy(),w.current=null)};return we.useEffect(()=>{!r&&w.current&&l&&T8(w.current,l)},[r,l]),we.useEffect(()=>{!r&&w.current&&K4(w.current.config.data,a.labels)},[r,a.labels]),we.useEffect(()=>{!r&&w.current&&a.datasets&&X4(w.current.config.data,a.datasets,s)},[r,a.datasets]),we.useEffect(()=>{w.current&&(r?(S(),setTimeout(y)):w.current.update(f))},[r,l,a.labels,a.datasets,f]),we.useEffect(()=>{w.current&&(S(),setTimeout(y))},[o]),we.useEffect(()=>(y(),()=>S()),[]),Og.createElement("canvas",{ref:p,role:"img",height:n,width:i,...d},h)}const M8=we.forwardRef(O8);function J4(t,e){return wf.register(e),we.forwardRef((n,i)=>Og.createElement(M8,{...n,ref:i,type:t}))}const D8=J4("bar",_p),ab=J4("pie",gv);var lb={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q4={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ie=function(t,e){if(!t)throw Wc(e)},Wc=function(t){return new Error("Firebase Database ("+Q4.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z4=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},F8=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const r=t[n++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){const s=t[n++];e[i++]=String.fromCharCode((r&31)<<6|s&63)}else if(r>239&&r<365){const s=t[n++],o=t[n++],a=t[n++],l=((r&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[i++]=String.fromCharCode(55296+(l>>10)),e[i++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[i++]=String.fromCharCode((r&15)<<12|(s&63)<<6|o&63)}}return e.join("")},hy={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<t.length;r+=3){const s=t[r],o=r+1<t.length,a=o?t[r+1]:0,l=r+2<t.length,c=l?t[r+2]:0,h=s>>2,f=(s&3)<<4|a>>4;let d=(a&15)<<2|c>>6,p=c&63;l||(p=64,o||(d=64)),i.push(n[h],n[f],n[d],n[p])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Z4(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):F8(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<t.length;){const s=n[t.charAt(r++)],a=r<t.length?n[t.charAt(r)]:0;++r;const c=r<t.length?n[t.charAt(r)]:64;++r;const f=r<t.length?n[t.charAt(r)]:64;if(++r,s==null||a==null||c==null||f==null)throw new j8;const d=s<<2|a>>4;if(i.push(d),c!==64){const p=a<<4&240|c>>2;if(i.push(p),f!==64){const w=c<<6&192|f;i.push(w)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class j8 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const eN=function(t){const e=Z4(t);return hy.encodeByteArray(e,!0)},cg=function(t){return eN(t).replace(/\./g,"")},ug=function(t){try{return hy.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B8(t){return tN(void 0,t)}function tN(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!z8(n)||(t[n]=tN(t[n],e[n]));return t}function z8(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U8(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H8=()=>U8().__FIREBASE_DEFAULTS__,W8=()=>{if(typeof process>"u"||typeof lb>"u")return;const t=lb.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},q8=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&ug(t[1]);return e&&JSON.parse(e)},fy=()=>{try{return H8()||W8()||q8()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},nN=t=>{var e,n;return(n=(e=fy())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},V8=t=>{const e=nN(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},iN=()=>{var t;return(t=fy())===null||t===void 0?void 0:t.config},rN=t=>{var e;return(e=fy())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class em{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $8(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",r=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[cg(JSON.stringify(n)),cg(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gi(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function dy(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(gi())}function G8(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Y8(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function sN(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function K8(){const t=gi();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function X8(){return Q4.NODE_ADMIN===!0}function J8(){try{return typeof indexedDB=="object"}catch{return!1}}function Q8(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var s;e(((s=r.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z8="FirebaseError";class fa extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=Z8,Object.setPrototypeOf(this,fa.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,bf.prototype.create)}}class bf{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},r=`${this.service}/${e}`,s=this.errors[e],o=s?eR(s,i):"Error",a=`${this.serviceName}: ${o} (${r}).`;return new fa(r,a,i)}}function eR(t,e){return t.replace(tR,(n,i)=>{const r=e[i];return r!=null?String(r):`<${i}?>`})}const tR=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qh(t){return JSON.parse(t)}function Pn(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oN=function(t){let e={},n={},i={},r="";try{const s=t.split(".");e=Qh(ug(s[0])||""),n=Qh(ug(s[1])||""),r=s[2],i=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:i,signature:r}},nR=function(t){const e=oN(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},iR=function(t){const e=oN(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Js(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Tc(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function bv(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function hg(t,e,n){const i={};for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(i[r]=e.call(n,t[r],r,t));return i}function fg(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const r of n){if(!i.includes(r))return!1;const s=t[r],o=e[r];if(cb(s)&&cb(o)){if(!fg(s,o))return!1}else if(s!==o)return!1}for(const r of i)if(!n.includes(r))return!1;return!0}function cb(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qc(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rR{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const i=this.W_;if(typeof e=="string")for(let f=0;f<16;f++)i[f]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let f=0;f<16;f++)i[f]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let f=16;f<80;f++){const d=i[f-3]^i[f-8]^i[f-14]^i[f-16];i[f]=(d<<1|d>>>31)&4294967295}let r=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4],c,h;for(let f=0;f<80;f++){f<40?f<20?(c=a^s&(o^a),h=1518500249):(c=s^o^a,h=1859775393):f<60?(c=s&o|a&(s|o),h=2400959708):(c=s^o^a,h=3395469782);const d=(r<<5|r>>>27)+c+l+h+i[f]&4294967295;l=a,a=o,o=(s<<30|s>>>2)&4294967295,s=r,r=d}this.chain_[0]=this.chain_[0]+r&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const i=n-this.blockSize;let r=0;const s=this.buf_;let o=this.inbuf_;for(;r<n;){if(o===0)for(;r<=i;)this.compress_(e,r),r+=this.blockSize;if(typeof e=="string"){for(;r<n;)if(s[o]=e.charCodeAt(r),++o,++r,o===this.blockSize){this.compress_(s),o=0;break}}else for(;r<n;)if(s[o]=e[r],++o,++r,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let r=this.blockSize-1;r>=56;r--)this.buf_[r]=n&255,n/=256;this.compress_(this.buf_);let i=0;for(let r=0;r<5;r++)for(let s=24;s>=0;s-=8)e[i]=this.chain_[r]>>s&255,++i;return e}}function sR(t,e){const n=new oR(t,e);return n.subscribe.bind(n)}class oR{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let r;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");aR(e,["next","error","complete"])?r=e:r={next:e,error:n,complete:i},r.next===void 0&&(r.next=$0),r.error===void 0&&(r.error=$0),r.complete===void 0&&(r.complete=$0);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function aR(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function $0(){}function py(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lR=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);if(r>=55296&&r<=56319){const s=r-55296;i++,Ie(i<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(i)-56320;r=65536+(s<<10)+o}r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):r<65536?(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},tm=function(t){let e=0;for(let n=0;n<t.length;n++){const i=t.charCodeAt(n);i<128?e++:i<2048?e+=2:i>=55296&&i<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fr(t){return t&&t._delegate?t._delegate:t}class il{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ta="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new em;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(hR(e))try{this.getOrInitializeService({instanceIdentifier:Ta})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:r});i.resolve(s)}catch{}}}}clearInstance(e=Ta){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ta){return this.instances.has(e)}getOptions(e=Ta){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);i===a&&o.resolve(r)}return r}onInit(e,n){var i;const r=this.normalizeInstanceIdentifier(n),s=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;s.add(e),this.onInitCallbacks.set(r,s);const o=this.instances.get(r);return o&&e(o,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const r of i)try{r(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:uR(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Ta){return this.component?this.component.multipleInstances?e:Ta:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function uR(t){return t===Ta?void 0:t}function hR(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new cR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Rt||(Rt={}));const dR={debug:Rt.DEBUG,verbose:Rt.VERBOSE,info:Rt.INFO,warn:Rt.WARN,error:Rt.ERROR,silent:Rt.SILENT},pR=Rt.INFO,gR={[Rt.DEBUG]:"log",[Rt.VERBOSE]:"log",[Rt.INFO]:"info",[Rt.WARN]:"warn",[Rt.ERROR]:"error"},mR=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),r=gR[e];if(r)console[r](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class gy{constructor(e){this.name=e,this._logLevel=pR,this._logHandler=mR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Rt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?dR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Rt.DEBUG,...e),this._logHandler(this,Rt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Rt.VERBOSE,...e),this._logHandler(this,Rt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Rt.INFO,...e),this._logHandler(this,Rt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Rt.WARN,...e),this._logHandler(this,Rt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Rt.ERROR,...e),this._logHandler(this,Rt.ERROR,...e)}}const vR=(t,e)=>e.some(n=>t instanceof n);let ub,hb;function yR(){return ub||(ub=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function _R(){return hb||(hb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const aN=new WeakMap,xv=new WeakMap,lN=new WeakMap,G0=new WeakMap,my=new WeakMap;function wR(t){const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n($o(t.result)),r()},o=()=>{i(t.error),r()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&aN.set(n,t)}).catch(()=>{}),my.set(e,t),e}function bR(t){if(xv.has(t))return;const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),r()},o=()=>{i(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});xv.set(t,e)}let Sv={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return xv.get(t);if(e==="objectStoreNames")return t.objectStoreNames||lN.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return $o(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function xR(t){Sv=t(Sv)}function SR(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(Y0(this),e,...n);return lN.set(i,e.sort?e.sort():[e]),$o(i)}:_R().includes(t)?function(...e){return t.apply(Y0(this),e),$o(aN.get(this))}:function(...e){return $o(t.apply(Y0(this),e))}}function NR(t){return typeof t=="function"?SR(t):(t instanceof IDBTransaction&&bR(t),vR(t,yR())?new Proxy(t,Sv):t)}function $o(t){if(t instanceof IDBRequest)return wR(t);if(G0.has(t))return G0.get(t);const e=NR(t);return e!==t&&(G0.set(t,e),my.set(e,t)),e}const Y0=t=>my.get(t);function CR(t,e,{blocked:n,upgrade:i,blocking:r,terminated:s}={}){const o=indexedDB.open(t,e),a=$o(o);return i&&o.addEventListener("upgradeneeded",l=>{i($o(o.result),l.oldVersion,l.newVersion,$o(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),r&&l.addEventListener("versionchange",c=>r(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const kR=["get","getKey","getAll","getAllKeys","count"],AR=["put","add","delete","clear"],K0=new Map;function fb(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(K0.get(e))return K0.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,r=AR.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(r||kR.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,r?"readwrite":"readonly");let c=l.store;return i&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),r&&l.done]))[0]};return K0.set(e,s),s}xR(t=>({...t,get:(e,n,i)=>fb(e,n)||t.get(e,n,i),has:(e,n)=>!!fb(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ER{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(PR(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function PR(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Nv="@firebase/app",db="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $s=new gy("@firebase/app"),IR="@firebase/app-compat",LR="@firebase/analytics-compat",TR="@firebase/analytics",RR="@firebase/app-check-compat",OR="@firebase/app-check",MR="@firebase/auth",DR="@firebase/auth-compat",FR="@firebase/database",jR="@firebase/data-connect",BR="@firebase/database-compat",zR="@firebase/functions",UR="@firebase/functions-compat",HR="@firebase/installations",WR="@firebase/installations-compat",qR="@firebase/messaging",VR="@firebase/messaging-compat",$R="@firebase/performance",GR="@firebase/performance-compat",YR="@firebase/remote-config",KR="@firebase/remote-config-compat",XR="@firebase/storage",JR="@firebase/storage-compat",QR="@firebase/firestore",ZR="@firebase/vertexai-preview",eO="@firebase/firestore-compat",tO="firebase",nO="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cv="[DEFAULT]",iO={[Nv]:"fire-core",[IR]:"fire-core-compat",[TR]:"fire-analytics",[LR]:"fire-analytics-compat",[OR]:"fire-app-check",[RR]:"fire-app-check-compat",[MR]:"fire-auth",[DR]:"fire-auth-compat",[FR]:"fire-rtdb",[jR]:"fire-data-connect",[BR]:"fire-rtdb-compat",[zR]:"fire-fn",[UR]:"fire-fn-compat",[HR]:"fire-iid",[WR]:"fire-iid-compat",[qR]:"fire-fcm",[VR]:"fire-fcm-compat",[$R]:"fire-perf",[GR]:"fire-perf-compat",[YR]:"fire-rc",[KR]:"fire-rc-compat",[XR]:"fire-gcs",[JR]:"fire-gcs-compat",[QR]:"fire-fst",[eO]:"fire-fst-compat",[ZR]:"fire-vertex","fire-js":"fire-js",[tO]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dg=new Map,rO=new Map,kv=new Map;function pb(t,e){try{t.container.addComponent(e)}catch(n){$s.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Rc(t){const e=t.name;if(kv.has(e))return $s.debug(`There were multiple attempts to register component ${e}.`),!1;kv.set(e,t);for(const n of dg.values())pb(n,t);for(const n of rO.values())pb(n,t);return!0}function vy(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Os(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sO={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Go=new bf("app","Firebase",sO);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oO{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new il("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Go.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vc=nO;function cN(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i=Object.assign({name:Cv,automaticDataCollectionEnabled:!1},e),r=i.name;if(typeof r!="string"||!r)throw Go.create("bad-app-name",{appName:String(r)});if(n||(n=iN()),!n)throw Go.create("no-options");const s=dg.get(r);if(s){if(fg(n,s.options)&&fg(i,s.config))return s;throw Go.create("duplicate-app",{appName:r})}const o=new fR(r);for(const l of kv.values())o.addComponent(l);const a=new oO(n,i,o);return dg.set(r,a),a}function uN(t=Cv){const e=dg.get(t);if(!e&&t===Cv&&iN())return cN();if(!e)throw Go.create("no-app",{appName:t});return e}function Yo(t,e,n){var i;let r=(i=iO[t])!==null&&i!==void 0?i:t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${r}" with version "${e}":`];s&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),$s.warn(a.join(" "));return}Rc(new il(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aO="firebase-heartbeat-database",lO=1,Zh="firebase-heartbeat-store";let X0=null;function hN(){return X0||(X0=CR(aO,lO,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Zh)}catch(n){console.warn(n)}}}}).catch(t=>{throw Go.create("idb-open",{originalErrorMessage:t.message})})),X0}async function cO(t){try{const n=(await hN()).transaction(Zh),i=await n.objectStore(Zh).get(fN(t));return await n.done,i}catch(e){if(e instanceof fa)$s.warn(e.message);else{const n=Go.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});$s.warn(n.message)}}}async function gb(t,e){try{const i=(await hN()).transaction(Zh,"readwrite");await i.objectStore(Zh).put(e,fN(t)),await i.done}catch(n){if(n instanceof fa)$s.warn(n.message);else{const i=Go.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});$s.warn(i.message)}}}function fN(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uO=1024,hO=30*24*60*60*1e3;class fO{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new pO(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=mb();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=hO}),this._storage.overwrite(this._heartbeatsCache))}catch(i){$s.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=mb(),{heartbeatsToSend:i,unsentEntries:r}=dO(this._heartbeatsCache.heartbeats),s=cg(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return $s.warn(n),""}}}function mb(){return new Date().toISOString().substring(0,10)}function dO(t,e=uO){const n=[];let i=t.slice();for(const r of t){const s=n.find(o=>o.agent===r.agent);if(s){if(s.dates.push(r.date),vb(n)>e){s.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),vb(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class pO{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return J8()?Q8().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await cO(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return gb(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return gb(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function vb(t){return cg(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gO(t){Rc(new il("platform-logger",e=>new ER(e),"PRIVATE")),Rc(new il("heartbeat",e=>new fO(e),"PRIVATE")),Yo(Nv,db,t),Yo(Nv,db,"esm2017"),Yo("fire-js","")}gO("");var yb={};const _b="@firebase/database",wb="1.0.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dN="";function mO(t){dN=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vO{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Pn(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Qh(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yO{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Js(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pN=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new vO(e)}}catch{}return new yO},Ba=pN("localStorage"),_O=pN("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _c=new gy("@firebase/database"),wO=function(){let t=1;return function(){return t++}}(),gN=function(t){const e=lR(t),n=new rR;n.update(e);const i=n.digest();return hy.encodeByteArray(i)},xf=function(...t){let e="";for(let n=0;n<t.length;n++){const i=t[n];Array.isArray(i)||i&&typeof i=="object"&&typeof i.length=="number"?e+=xf.apply(null,i):typeof i=="object"?e+=Pn(i):e+=i,e+=" "}return e};let vh=null,bb=!0;const bO=function(t,e){Ie(!0,"Can't turn on custom loggers persistently."),_c.logLevel=Rt.VERBOSE,vh=_c.log.bind(_c)},ri=function(...t){if(bb===!0&&(bb=!1,vh===null&&_O.get("logging_enabled")===!0&&bO()),vh){const e=xf.apply(null,t);vh(e)}},Sf=function(t){return function(...e){ri(t,...e)}},Av=function(...t){const e="FIREBASE INTERNAL ERROR: "+xf(...t);_c.error(e)},Gs=function(...t){const e=`FIREBASE FATAL ERROR: ${xf(...t)}`;throw _c.error(e),new Error(e)},Ri=function(...t){const e="FIREBASE WARNING: "+xf(...t);_c.warn(e)},xO=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Ri("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},mN=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},SO=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Oc="[MIN_NAME]",rl="[MAX_NAME]",$c=function(t,e){if(t===e)return 0;if(t===Oc||e===rl)return-1;if(e===Oc||t===rl)return 1;{const n=xb(t),i=xb(e);return n!==null?i!==null?n-i===0?t.length-e.length:n-i:-1:i!==null?1:t<e?-1:1}},NO=function(t,e){return t===e?0:t<e?-1:1},zu=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Pn(e))},yy=function(t){if(typeof t!="object"||t===null)return Pn(t);const e=[];for(const i in t)e.push(i);e.sort();let n="{";for(let i=0;i<e.length;i++)i!==0&&(n+=","),n+=Pn(e[i]),n+=":",n+=yy(t[e[i]]);return n+="}",n},vN=function(t,e){const n=t.length;if(n<=e)return[t];const i=[];for(let r=0;r<n;r+=e)r+e>n?i.push(t.substring(r,n)):i.push(t.substring(r,r+e));return i};function Oi(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const yN=function(t){Ie(!mN(t),"Invalid JSON number");const e=11,n=52,i=(1<<e-1)-1;let r,s,o,a,l;t===0?(s=0,o=0,r=1/t===-1/0?1:0):(r=t<0,t=Math.abs(t),t>=Math.pow(2,1-i)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),i),s=a+i,o=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(s=0,o=Math.round(t/Math.pow(2,1-i-n))));const c=[];for(l=n;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);for(l=e;l;l-=1)c.push(s%2?1:0),s=Math.floor(s/2);c.push(r?1:0),c.reverse();const h=c.join("");let f="";for(l=0;l<64;l+=8){let d=parseInt(h.substr(l,8),2).toString(16);d.length===1&&(d="0"+d),f=f+d}return f.toLowerCase()},CO=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},kO=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function AO(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const i=new Error(t+" at "+e._path.toString()+": "+n);return i.code=t.toUpperCase(),i}const EO=new RegExp("^-?(0*)\\d{1,10}$"),PO=-2147483648,IO=2147483647,xb=function(t){if(EO.test(t)){const e=Number(t);if(e>=PO&&e<=IO)return e}return null},Gc=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw Ri("Exception was thrown by user callback.",n),e},Math.floor(0))}},LO=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},yh=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TO{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(i=>this.appCheck=i)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,i)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,i):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(i=>i.addTokenListener(e))}notifyForInvalidToken(){Ri(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RO{constructor(e,n,i){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(ri("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,i)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,i):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Ri(e)}}class Sp{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Sp.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _y="5",_N="v",wN="s",bN="r",xN="f",SN=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,NN="ls",CN="p",Ev="ac",kN="websocket",AN="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EN{constructor(e,n,i,r,s=!1,o="",a=!1,l=!1){this.secure=n,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Ba.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Ba.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function OO(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function PN(t,e,n){Ie(typeof e=="string","typeof type must == string"),Ie(typeof n=="object","typeof params must == object");let i;if(e===kN)i=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===AN)i=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);OO(t)&&(n.ns=t.namespace);const r=[];return Oi(n,(s,o)=>{r.push(s+"="+o)}),i+r.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MO{constructor(){this.counters_={}}incrementCounter(e,n=1){Js(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return B8(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J0={},Q0={};function wy(t){const e=t.toString();return J0[e]||(J0[e]=new MO),J0[e]}function DO(t,e){const n=t.toString();return Q0[n]||(Q0[n]=e()),Q0[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FO{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&Gc(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sb="start",jO="close",BO="pLPCommand",zO="pRTLPCB",IN="id",LN="pw",TN="ser",UO="cb",HO="seg",WO="ts",qO="d",VO="dframe",RN=1870,ON=30,$O=RN-ON,GO=25e3,YO=3e4;class lc{constructor(e,n,i,r,s,o,a){this.connId=e,this.repoInfo=n,this.applicationId=i,this.appCheckToken=r,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Sf(e),this.stats_=wy(n),this.urlFn=l=>(this.appCheckToken&&(l[Ev]=this.appCheckToken),PN(n,AN,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new FO(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(YO)),SO(()=>{if(this.isClosed_)return;this.scriptTagHolder=new by((...s)=>{const[o,a,l,c,h]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===Sb)this.id=a,this.password=l;else if(o===jO)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{const[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const i={};i[Sb]="t",i[TN]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(i[UO]=this.scriptTagHolder.uniqueCallbackIdentifier),i[_N]=_y,this.transportSessionId&&(i[wN]=this.transportSessionId),this.lastSessionId&&(i[NN]=this.lastSessionId),this.applicationId&&(i[CN]=this.applicationId),this.appCheckToken&&(i[Ev]=this.appCheckToken),typeof location<"u"&&location.hostname&&SN.test(location.hostname)&&(i[bN]=xN);const r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){lc.forceAllow_=!0}static forceDisallow(){lc.forceDisallow_=!0}static isAvailable(){return lc.forceAllow_?!0:!lc.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!CO()&&!kO()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Pn(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=eN(n),r=vN(i,$O);for(let s=0;s<r.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const i={};i[VO]="t",i[IN]=e,i[LN]=n,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Pn(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class by{constructor(e,n,i,r){this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=wO(),window[BO+this.uniqueCallbackIdentifier]=e,window[zO+this.uniqueCallbackIdentifier]=n,this.myIFrame=by.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){ri("frame writing exception"),a.stack&&ri(a.stack),ri(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||ri("No IE domain setting required")}catch{const i=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[IN]=this.myID,e[LN]=this.myPW,e[TN]=this.currentSerial;let n=this.urlFn(e),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+ON+i.length<=RN;){const o=this.pendingSegs.shift();i=i+"&"+HO+r+"="+o.seg+"&"+WO+r+"="+o.ts+"&"+qO+r+"="+o.d,r++}return n=n+i,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,i){this.pendingSegs.push({seg:e,ts:n,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const i=()=>{this.outstandingRequests.delete(n),this.newRequest_()},r=setTimeout(i,Math.floor(GO)),s=()=>{clearTimeout(r),i()};this.addTag(e,s)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){const r=i.readyState;(!r||r==="loaded"||r==="complete")&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),n())},i.onerror=()=>{ri("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KO=16384,XO=45e3;let pg=null;typeof MozWebSocket<"u"?pg=MozWebSocket:typeof WebSocket<"u"&&(pg=WebSocket);class Lr{constructor(e,n,i,r,s,o,a){this.connId=e,this.applicationId=i,this.appCheckToken=r,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Sf(this.connId),this.stats_=wy(n),this.connURL=Lr.connectionURL_(n,o,a,r,i),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,i,r,s){const o={};return o[_N]=_y,typeof location<"u"&&location.hostname&&SN.test(location.hostname)&&(o[bN]=xN),n&&(o[wN]=n),i&&(o[NN]=i),r&&(o[Ev]=r),s&&(o[CN]=s),PN(e,kN,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Ba.set("previous_websocket_failure",!0);try{let i;X8(),this.mySock=new pg(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const r=i.message||i.data;r&&this.log_(r),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const r=i.message||i.data;r&&this.log_(r),this.onClosed_()}}start(){}static forceDisallow(){Lr.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(n);i&&i.length>1&&parseFloat(i[1])<4.4&&(e=!0)}return!e&&pg!==null&&!Lr.forceDisallow_}static previouslyFailed(){return Ba.isInMemoryStorage||Ba.get("previous_websocket_failure")===!0}markConnectionHealthy(){Ba.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const i=Qh(n);this.onMessage(i)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(Ie(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const i=this.extractFrameCount_(n);i!==null&&this.appendFrame_(i)}}send(e){this.resetKeepAlive();const n=Pn(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=vN(n,KO);i.length>1&&this.sendString_(String(i.length));for(let r=0;r<i.length;r++)this.sendString_(i[r])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(XO))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Lr.responsesRequiredToBeHealthy=2;Lr.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[lc,Lr]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=Lr&&Lr.isAvailable();let i=n&&!Lr.previouslyFailed();if(e.webSocketOnly&&(n||Ri("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[Lr];else{const r=this.transports_=[];for(const s of ef.ALL_TRANSPORTS)s&&s.isAvailable()&&r.push(s);ef.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}ef.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JO=6e4,QO=5e3,ZO=10*1024,eM=100*1024,Z0="t",Nb="d",tM="s",Cb="r",nM="e",kb="o",Ab="a",Eb="n",Pb="p",iM="h";class rM{constructor(e,n,i,r,s,o,a,l,c,h){this.id=e,this.repoInfo_=n,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=h,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Sf("c:"+this.id+":"),this.transportManager_=new ef(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,i)},Math.floor(0));const r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=yh(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>eM?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>ZO?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Z0 in e){const n=e[Z0];n===Ab?this.upgradeIfSecondaryHealthy_():n===Cb?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===kb&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=zu("t",e),i=zu("d",e);if(n==="c")this.onSecondaryControl_(i);else if(n==="d")this.pendingDataMessages.push(i);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Pb,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Ab,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Eb,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=zu("t",e),i=zu("d",e);n==="c"?this.onControl_(i):n==="d"&&this.onDataMessage_(i)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=zu(Z0,e);if(Nb in e){const i=e[Nb];if(n===iM){const r=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(r.h=this.repoInfo_.host),this.onHandshake_(r)}else if(n===Eb){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===tM?this.onConnectionShutdown_(i):n===Cb?this.onReset_(i):n===nM?Av("Server Error: "+i):n===kb?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Av("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,i=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),_y!==i&&Ri("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,i),yh(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(JO))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):yh(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(QO))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Pb,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Ba.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MN{put(e,n,i,r){}merge(e,n,i,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,i){}onDisconnectMerge(e,n,i){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DN{constructor(e){this.allowedEvents_=e,this.listeners_={},Ie(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,n)}}on(e,n,i){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:i});const r=this.getInitialEvent(e);r&&n.apply(i,r)}off(e,n,i){this.validateEventType_(e);const r=this.listeners_[e]||[];for(let s=0;s<r.length;s++)if(r[s].callback===n&&(!i||i===r[s].context)){r.splice(s,1);return}}validateEventType_(e){Ie(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gg extends DN{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!dy()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new gg}getInitialEvent(e){return Ie(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ib=32,Lb=768;class Bt{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function xt(){return new Bt("")}function pt(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function na(t){return t.pieces_.length-t.pieceNum_}function Ht(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new Bt(t.pieces_,e)}function FN(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function sM(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function jN(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function BN(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new Bt(e,0)}function In(t,e){const n=[];for(let i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);if(e instanceof Bt)for(let i=e.pieceNum_;i<e.pieces_.length;i++)n.push(e.pieces_[i]);else{const i=e.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&n.push(i[r])}return new Bt(n,0)}function ht(t){return t.pieceNum_>=t.pieces_.length}function di(t,e){const n=pt(t),i=pt(e);if(n===null)return e;if(n===i)return di(Ht(t),Ht(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function zN(t,e){if(na(t)!==na(e))return!1;for(let n=t.pieceNum_,i=e.pieceNum_;n<=t.pieces_.length;n++,i++)if(t.pieces_[n]!==e.pieces_[i])return!1;return!0}function Tr(t,e){let n=t.pieceNum_,i=e.pieceNum_;if(na(t)>na(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[i])return!1;++n,++i}return!0}class oM{constructor(e,n){this.errorPrefix_=n,this.parts_=jN(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=tm(this.parts_[i]);UN(this)}}function aM(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=tm(e),UN(t)}function lM(t){const e=t.parts_.pop();t.byteLength_-=tm(e),t.parts_.length>0&&(t.byteLength_-=1)}function UN(t){if(t.byteLength_>Lb)throw new Error(t.errorPrefix_+"has a key path longer than "+Lb+" bytes ("+t.byteLength_+").");if(t.parts_.length>Ib)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Ib+") or object contains a cycle "+Ra(t))}function Ra(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xy extends DN{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const i=!document[e];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new xy}getInitialEvent(e){return Ie(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uu=1e3,cM=60*5*1e3,Tb=30*1e3,uM=1.3,hM=3e4,fM="server_kill",Rb=3;class zs extends MN{constructor(e,n,i,r,s,o,a,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=i,this.onConnectStatus_=r,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=zs.nextPersistentConnectionId_++,this.log_=Sf("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Uu,this.maxReconnectDelay_=cM,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");xy.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&gg.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,i){const r=++this.requestNumber_,s={r,a:e,b:n};this.log_(Pn(s)),Ie(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),i&&(this.requestCBHash_[r]=i)}get(e){this.initConnection_();const n=new em,r={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const a=o.d;o.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(r),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(e,n,i,r){this.initConnection_();const s=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+s),this.listens.has(o)||this.listens.set(o,new Map),Ie(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Ie(!this.listens.get(o).has(s),"listen() called twice for same path/queryId.");const a={onComplete:r,hashFn:n,query:e,tag:i};this.listens.get(o).set(s,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,i=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(i)})}sendListen_(e){const n=e.query,i=n._path.toString(),r=n._queryIdentifier;this.log_("Listen on "+i+" for "+r);const s={p:i},o="q";e.tag&&(s.q=n._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest(o,s,a=>{const l=a.d,c=a.s;zs.warnOnListenWarnings_(l,n),(this.listens.get(i)&&this.listens.get(i).get(r))===e&&(this.log_("listen response",a),c!=="ok"&&this.removeListen_(i,r),e.onComplete&&e.onComplete(c,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&Js(e,"w")){const i=Tc(e,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const r='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();Ri(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${r} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||iR(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Tb)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=nR(e)?"auth":"gauth",i={cred:e};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(n,i,r=>{const s=r.s,o=r.d||"error";this.authToken_===e&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,i=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,i)})}unlisten(e,n){const i=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+i+" "+r),Ie(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,r)&&this.connected_&&this.sendUnlisten_(i,r,e._queryObject,n)}sendUnlisten_(e,n,i,r){this.log_("Unlisten on "+e+" for "+n);const s={p:e},o="n";r&&(s.q=i,s.t=r),this.sendRequest(o,s)}onDisconnectPut(e,n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:i})}onDisconnectMerge(e,n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:i})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,i,r){const s={p:n,d:i};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,o=>{r&&setTimeout(()=>{r(o.s,o.d)},Math.floor(0))})}put(e,n,i,r){this.putInternal("p",e,n,i,r)}merge(e,n,i,r){this.putInternal("m",e,n,i,r)}putInternal(e,n,i,r,s){this.initConnection_();const o={p:n,d:i};s!==void 0&&(o.h=s),this.outstandingPuts_.push({action:e,request:o,onComplete:r}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,i=this.outstandingPuts_[e].request,r=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,i,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),r&&r(s.s,s.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,i=>{if(i.s!=="ok"){const s=i.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Pn(e));const n=e.r,i=this.requestCBHash_[n];i&&(delete this.requestCBHash_[n],i(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):Av("Unrecognized action received from server: "+Pn(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){Ie(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Uu,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Uu,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>hM&&(this.reconnectDelay_=Uu),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*uM)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),r=this.id+":"+zs.nextConnectionId_++,s=this.lastSessionId;let o=!1,a=null;const l=function(){a?a.close():(o=!0,i())},c=function(f){Ie(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(f)};this.realtime_={close:l,sendRequest:c};const h=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[f,d]=await Promise.all([this.authTokenProvider_.getToken(h),this.appCheckTokenProvider_.getToken(h)]);o?ri("getToken() completed but was canceled"):(ri("getToken() completed. Creating connection."),this.authToken_=f&&f.accessToken,this.appCheckToken_=d&&d.token,a=new rM(r,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,i,p=>{Ri(p+" ("+this.repoInfo_.toString()+")"),this.interrupt(fM)},s))}catch(f){this.log_("Failed to get token: "+f),o||(this.repoInfo_.nodeAdmin&&Ri(f),l())}}}interrupt(e){ri("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){ri("Resuming connection for reason: "+e),delete this.interruptReasons_[e],bv(this.interruptReasons_)&&(this.reconnectDelay_=Uu,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let i;n?i=n.map(s=>yy(s)).join("$"):i="default";const r=this.removeListen_(e,i);r&&r.onComplete&&r.onComplete("permission_denied")}removeListen_(e,n){const i=new Bt(e).toString();let r;if(this.listens.has(i)){const s=this.listens.get(i);r=s.get(n),s.delete(n),s.size===0&&this.listens.delete(i)}else r=void 0;return r}onAuthRevoked_(e,n){ri("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Rb&&(this.reconnectDelay_=Tb,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){ri("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Rb&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+dN.replace(/\./g,"-")]=1,dy()?e["framework.cordova"]=1:sN()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=gg.getInstance().currentlyOnline();return bv(this.interruptReasons_)&&e}}zs.nextPersistentConnectionId_=0;zs.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new ct(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nm{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const i=new ct(Oc,e),r=new ct(Oc,n);return this.compare(i,r)!==0}minPost(){return ct.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jd;class HN extends nm{static get __EMPTY_NODE(){return Jd}static set __EMPTY_NODE(e){Jd=e}compare(e,n){return $c(e.name,n.name)}isDefinedOn(e){throw Wc("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return ct.MIN}maxPost(){return new ct(rl,Jd)}makePost(e,n){return Ie(typeof e=="string","KeyIndex indexValue must always be a string."),new ct(e,Jd)}toString(){return".key"}}const wc=new HN;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qd{constructor(e,n,i,r,s=null){this.isReverse_=r,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?i(e.key,n):1,r&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class jn{constructor(e,n,i,r,s){this.key=e,this.value=n,this.color=i??jn.RED,this.left=r??Pi.EMPTY_NODE,this.right=s??Pi.EMPTY_NODE}copy(e,n,i,r,s){return new jn(e??this.key,n??this.value,i??this.color,r??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let r=this;const s=i(e,r.key);return s<0?r=r.copy(null,null,null,r.left.insert(e,n,i),null):s===0?r=r.copy(null,n,null,null,null):r=r.copy(null,null,null,null,r.right.insert(e,n,i)),r.fixUp_()}removeMin_(){if(this.left.isEmpty())return Pi.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let i,r;if(i=this,n(e,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),n(e,i.key)===0){if(i.right.isEmpty())return Pi.EMPTY_NODE;r=i.right.min_(),i=i.copy(r.key,r.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,jn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,jn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}jn.RED=!0;jn.BLACK=!1;class dM{copy(e,n,i,r,s){return this}insert(e,n,i){return new jn(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Pi{constructor(e,n=Pi.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new Pi(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,jn.BLACK,null,null))}remove(e){return new Pi(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,jn.BLACK,null,null))}get(e){let n,i=this.root_;for(;!i.isEmpty();){if(n=this.comparator_(e,i.key),n===0)return i.value;n<0?i=i.left:n>0&&(i=i.right)}return null}getPredecessorKey(e){let n,i=this.root_,r=null;for(;!i.isEmpty();)if(n=this.comparator_(e,i.key),n===0){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}else n<0?i=i.left:n>0&&(r=i,i=i.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Qd(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Qd(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Qd(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Qd(this.root_,null,this.comparator_,!0,e)}}Pi.EMPTY_NODE=new dM;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pM(t,e){return $c(t.name,e.name)}function Sy(t,e){return $c(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pv;function gM(t){Pv=t}const WN=function(t){return typeof t=="number"?"number:"+yN(t):"string:"+t},qN=function(t){if(t.isLeafNode()){const e=t.val();Ie(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Js(e,".sv"),"Priority must be a string or number.")}else Ie(t===Pv||t.isEmpty(),"priority of unexpected type.");Ie(t===Pv||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ob;class Dn{constructor(e,n=Dn.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,Ie(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),qN(this.priorityNode_)}static set __childrenNodeConstructor(e){Ob=e}static get __childrenNodeConstructor(){return Ob}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Dn(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Dn.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return ht(e)?this:pt(e)===".priority"?this.priorityNode_:Dn.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:Dn.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const i=pt(e);return i===null?n:n.isEmpty()&&i!==".priority"?this:(Ie(i!==".priority"||na(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,Dn.__childrenNodeConstructor.EMPTY_NODE.updateChild(Ht(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+WN(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=yN(this.value_):e+=this.value_,this.lazyHash_=gN(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Dn.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Dn.__childrenNodeConstructor?-1:(Ie(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,i=typeof this.value_,r=Dn.VALUE_TYPE_ORDER.indexOf(n),s=Dn.VALUE_TYPE_ORDER.indexOf(i);return Ie(r>=0,"Unknown leaf type: "+n),Ie(s>=0,"Unknown leaf type: "+i),r===s?i==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-r}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}Dn.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let VN,$N;function mM(t){VN=t}function vM(t){$N=t}class yM extends nm{compare(e,n){const i=e.node.getPriority(),r=n.node.getPriority(),s=i.compareTo(r);return s===0?$c(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return ct.MIN}maxPost(){return new ct(rl,new Dn("[PRIORITY-POST]",$N))}makePost(e,n){const i=VN(e);return new ct(n,new Dn("[PRIORITY-POST]",i))}toString(){return".priority"}}const ln=new yM;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _M=Math.log(2);class wM{constructor(e){const n=s=>parseInt(Math.log(s)/_M,10),i=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const r=i(this.count);this.bits_=e+1&r}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const mg=function(t,e,n,i){t.sort(e);const r=function(l,c){const h=c-l;let f,d;if(h===0)return null;if(h===1)return f=t[l],d=n?n(f):f,new jn(d,f.node,jn.BLACK,null,null);{const p=parseInt(h/2,10)+l,w=r(l,p),y=r(p+1,c);return f=t[p],d=n?n(f):f,new jn(d,f.node,jn.BLACK,w,y)}},s=function(l){let c=null,h=null,f=t.length;const d=function(w,y){const S=f-w,m=f;f-=w;const _=r(S+1,m),x=t[S],N=n?n(x):x;p(new jn(N,x.node,y,null,_))},p=function(w){c?(c.left=w,c=w):(h=w,c=w)};for(let w=0;w<l.count;++w){const y=l.nextBitIsOne(),S=Math.pow(2,l.count-(w+1));y?d(S,jn.BLACK):(d(S,jn.BLACK),d(S,jn.RED))}return h},o=new wM(t.length),a=s(o);return new Pi(i||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let e1;const Vl={};class Ms{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return Ie(Vl&&ln,"ChildrenNode.ts has not been loaded"),e1=e1||new Ms({".priority":Vl},{".priority":ln}),e1}get(e){const n=Tc(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Pi?n:null}hasIndex(e){return Js(this.indexSet_,e.toString())}addIndex(e,n){Ie(e!==wc,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let r=!1;const s=n.getIterator(ct.Wrap);let o=s.getNext();for(;o;)r=r||e.isDefinedOn(o.node),i.push(o),o=s.getNext();let a;r?a=mg(i,e.getCompare()):a=Vl;const l=e.toString(),c=Object.assign({},this.indexSet_);c[l]=e;const h=Object.assign({},this.indexes_);return h[l]=a,new Ms(h,c)}addToIndexes(e,n){const i=hg(this.indexes_,(r,s)=>{const o=Tc(this.indexSet_,s);if(Ie(o,"Missing index implementation for "+s),r===Vl)if(o.isDefinedOn(e.node)){const a=[],l=n.getIterator(ct.Wrap);let c=l.getNext();for(;c;)c.name!==e.name&&a.push(c),c=l.getNext();return a.push(e),mg(a,o.getCompare())}else return Vl;else{const a=n.get(e.name);let l=r;return a&&(l=l.remove(new ct(e.name,a))),l.insert(e,e.node)}});return new Ms(i,this.indexSet_)}removeFromIndexes(e,n){const i=hg(this.indexes_,r=>{if(r===Vl)return r;{const s=n.get(e.name);return s?r.remove(new ct(e.name,s)):r}});return new Ms(i,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hu;class Xe{constructor(e,n,i){this.children_=e,this.priorityNode_=n,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&qN(this.priorityNode_),this.children_.isEmpty()&&Ie(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Hu||(Hu=new Xe(new Pi(Sy),null,Ms.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Hu}updatePriority(e){return this.children_.isEmpty()?this:new Xe(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?Hu:n}}getChild(e){const n=pt(e);return n===null?this:this.getImmediateChild(n).getChild(Ht(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(Ie(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const i=new ct(e,n);let r,s;n.isEmpty()?(r=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(i,this.children_)):(r=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(i,this.children_));const o=r.isEmpty()?Hu:this.priorityNode_;return new Xe(r,o,s)}}updateChild(e,n){const i=pt(e);if(i===null)return n;{Ie(pt(e)!==".priority"||na(e)===1,".priority must be the last token in a path");const r=this.getImmediateChild(i).updateChild(Ht(e),n);return this.updateImmediateChild(i,r)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let i=0,r=0,s=!0;if(this.forEachChild(ln,(o,a)=>{n[o]=a.val(e),i++,s&&Xe.INTEGER_REGEXP_.test(o)?r=Math.max(r,Number(o)):s=!1}),!e&&s&&r<2*i){const o=[];for(const a in n)o[a]=n[a];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+WN(this.getPriority().val())+":"),this.forEachChild(ln,(n,i)=>{const r=i.hash();r!==""&&(e+=":"+n+":"+r)}),this.lazyHash_=e===""?"":gN(e)}return this.lazyHash_}getPredecessorChildName(e,n,i){const r=this.resolveIndex_(i);if(r){const s=r.getPredecessorKey(new ct(e,n));return s?s.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const i=n.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new ct(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const i=n.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new ct(n,this.children_.get(n)):null}forEachChild(e,n){const i=this.resolveIndex_(e);return i?i.inorderTraversal(r=>n(r.name,r.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const i=this.resolveIndex_(n);if(i)return i.getIteratorFrom(e,r=>r);{const r=this.children_.getIteratorFrom(e.name,ct.Wrap);let s=r.peek();for(;s!=null&&n.compare(s,e)<0;)r.getNext(),s=r.peek();return r}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const i=this.resolveIndex_(n);if(i)return i.getReverseIteratorFrom(e,r=>r);{const r=this.children_.getReverseIteratorFrom(e.name,ct.Wrap);let s=r.peek();for(;s!=null&&n.compare(s,e)>0;)r.getNext(),s=r.peek();return r}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Nf?-1:0}withIndex(e){if(e===wc||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new Xe(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===wc||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const i=this.getIterator(ln),r=n.getIterator(ln);let s=i.getNext(),o=r.getNext();for(;s&&o;){if(s.name!==o.name||!s.node.equals(o.node))return!1;s=i.getNext(),o=r.getNext()}return s===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===wc?null:this.indexMap_.get(e.toString())}}Xe.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class bM extends Xe{constructor(){super(new Pi(Sy),Xe.EMPTY_NODE,Ms.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Xe.EMPTY_NODE}isEmpty(){return!1}}const Nf=new bM;Object.defineProperties(ct,{MIN:{value:new ct(Oc,Xe.EMPTY_NODE)},MAX:{value:new ct(rl,Nf)}});HN.__EMPTY_NODE=Xe.EMPTY_NODE;Dn.__childrenNodeConstructor=Xe;gM(Nf);vM(Nf);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xM=!0;function Bn(t,e=null){if(t===null)return Xe.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),Ie(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new Dn(n,Bn(e))}if(!(t instanceof Array)&&xM){const n=[];let i=!1;if(Oi(t,(o,a)=>{if(o.substring(0,1)!=="."){const l=Bn(a);l.isEmpty()||(i=i||!l.getPriority().isEmpty(),n.push(new ct(o,l)))}}),n.length===0)return Xe.EMPTY_NODE;const s=mg(n,pM,o=>o.name,Sy);if(i){const o=mg(n,ln.getCompare());return new Xe(s,Bn(e),new Ms({".priority":o},{".priority":ln}))}else return new Xe(s,Bn(e),Ms.Default)}else{let n=Xe.EMPTY_NODE;return Oi(t,(i,r)=>{if(Js(t,i)&&i.substring(0,1)!=="."){const s=Bn(r);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(i,s))}}),n.updatePriority(Bn(e))}}mM(Bn);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SM extends nm{constructor(e){super(),this.indexPath_=e,Ie(!ht(e)&&pt(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const i=this.extractChild(e.node),r=this.extractChild(n.node),s=i.compareTo(r);return s===0?$c(e.name,n.name):s}makePost(e,n){const i=Bn(e),r=Xe.EMPTY_NODE.updateChild(this.indexPath_,i);return new ct(n,r)}maxPost(){const e=Xe.EMPTY_NODE.updateChild(this.indexPath_,Nf);return new ct(rl,e)}toString(){return jN(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NM extends nm{compare(e,n){const i=e.node.compareTo(n.node);return i===0?$c(e.name,n.name):i}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return ct.MIN}maxPost(){return ct.MAX}makePost(e,n){const i=Bn(e);return new ct(n,i)}toString(){return".value"}}const CM=new NM;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GN(t){return{type:"value",snapshotNode:t}}function Mc(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function tf(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function nf(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function kM(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ny{constructor(e){this.index_=e}updateChild(e,n,i,r,s,o){Ie(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(n);return a.getChild(r).equals(i.getChild(r))&&a.isEmpty()===i.isEmpty()||(o!=null&&(i.isEmpty()?e.hasChild(n)?o.trackChildChange(tf(n,a)):Ie(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(Mc(n,i)):o.trackChildChange(nf(n,i,a))),e.isLeafNode()&&i.isEmpty())?e:e.updateImmediateChild(n,i).withIndex(this.index_)}updateFullNode(e,n,i){return i!=null&&(e.isLeafNode()||e.forEachChild(ln,(r,s)=>{n.hasChild(r)||i.trackChildChange(tf(r,s))}),n.isLeafNode()||n.forEachChild(ln,(r,s)=>{if(e.hasChild(r)){const o=e.getImmediateChild(r);o.equals(s)||i.trackChildChange(nf(r,s,o))}else i.trackChildChange(Mc(r,s))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?Xe.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf{constructor(e){this.indexedFilter_=new Ny(e.getIndex()),this.index_=e.getIndex(),this.startPost_=rf.getStartPost_(e),this.endPost_=rf.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,i=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&i}updateChild(e,n,i,r,s,o){return this.matches(new ct(n,i))||(i=Xe.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,i,r,s,o)}updateFullNode(e,n,i){n.isLeafNode()&&(n=Xe.EMPTY_NODE);let r=n.withIndex(this.index_);r=r.updatePriority(Xe.EMPTY_NODE);const s=this;return n.forEachChild(ln,(o,a)=>{s.matches(new ct(o,a))||(r=r.updateImmediateChild(o,Xe.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,r,i)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AM{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const i=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=n=>{const i=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new rf(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,i,r,s,o){return this.rangedFilter_.matches(new ct(n,i))||(i=Xe.EMPTY_NODE),e.getImmediateChild(n).equals(i)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,i,r,s,o):this.fullLimitUpdateChild_(e,n,i,s,o)}updateFullNode(e,n,i){let r;if(n.isLeafNode()||n.isEmpty())r=Xe.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){r=Xe.EMPTY_NODE.withIndex(this.index_);let s;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;s.hasNext()&&o<this.limit_;){const a=s.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))r=r.updateImmediateChild(a.name,a.node),o++;else break;else continue}}else{r=n.withIndex(this.index_),r=r.updatePriority(Xe.EMPTY_NODE);let s;this.reverse_?s=r.getReverseIterator(this.index_):s=r.getIterator(this.index_);let o=0;for(;s.hasNext();){const a=s.getNext();o<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?o++:r=r.updateImmediateChild(a.name,Xe.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,i)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,i,r,s){let o;if(this.reverse_){const f=this.index_.getCompare();o=(d,p)=>f(p,d)}else o=this.index_.getCompare();const a=e;Ie(a.numChildren()===this.limit_,"");const l=new ct(n,i),c=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),h=this.rangedFilter_.matches(l);if(a.hasChild(n)){const f=a.getImmediateChild(n);let d=r.getChildAfterChild(this.index_,c,this.reverse_);for(;d!=null&&(d.name===n||a.hasChild(d.name));)d=r.getChildAfterChild(this.index_,d,this.reverse_);const p=d==null?1:o(d,l);if(h&&!i.isEmpty()&&p>=0)return s!=null&&s.trackChildChange(nf(n,i,f)),a.updateImmediateChild(n,i);{s!=null&&s.trackChildChange(tf(n,f));const y=a.updateImmediateChild(n,Xe.EMPTY_NODE);return d!=null&&this.rangedFilter_.matches(d)?(s!=null&&s.trackChildChange(Mc(d.name,d.node)),y.updateImmediateChild(d.name,d.node)):y}}else return i.isEmpty()?e:h&&o(c,l)>=0?(s!=null&&(s.trackChildChange(tf(c.name,c.node)),s.trackChildChange(Mc(n,i))),a.updateImmediateChild(n,i).updateImmediateChild(c.name,Xe.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cy{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ln}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return Ie(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return Ie(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Oc}hasEnd(){return this.endSet_}getIndexEndValue(){return Ie(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return Ie(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:rl}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return Ie(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===ln}copy(){const e=new Cy;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function EM(t){return t.loadsAllData()?new Ny(t.getIndex()):t.hasLimit()?new AM(t):new rf(t)}function Mb(t){const e={};if(t.isDefault())return e;let n;if(t.index_===ln?n="$priority":t.index_===CM?n="$value":t.index_===wc?n="$key":(Ie(t.index_ instanceof SM,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Pn(n),t.startSet_){const i=t.startAfterSet_?"startAfter":"startAt";e[i]=Pn(t.indexStartValue_),t.startNameSet_&&(e[i]+=","+Pn(t.indexStartName_))}if(t.endSet_){const i=t.endBeforeSet_?"endBefore":"endAt";e[i]=Pn(t.indexEndValue_),t.endNameSet_&&(e[i]+=","+Pn(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function Db(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==ln&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vg extends MN{constructor(e,n,i,r){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=Sf("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(Ie(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,i,r){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=vg.getListenId_(e,i),a={};this.listens_[o]=a;const l=Mb(e._queryParams);this.restRequest_(s+".json",l,(c,h)=>{let f=h;if(c===404&&(f=null,c=null),c===null&&this.onDataUpdate_(s,f,!1,i),Tc(this.listens_,o)===a){let d;c?c===401?d="permission_denied":d="rest_error:"+c:d="ok",r(d,null)}})}unlisten(e,n){const i=vg.getListenId_(e,n);delete this.listens_[i]}get(e){const n=Mb(e._queryParams),i=e._path.toString(),r=new em;return this.restRequest_(i+".json",n,(s,o)=>{let a=o;s===404&&(a=null,s=null),s===null?(this.onDataUpdate_(i,a,!1,null),r.resolve(a)):r.reject(new Error(a))}),r.promise}refreshAuthToken(e){}restRequest_(e,n={},i){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,s])=>{r&&r.accessToken&&(n.auth=r.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+qc(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(i&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=Qh(a.responseText)}catch{Ri("Failed to parse JSON response for "+o+": "+a.responseText)}i(null,l)}else a.status!==401&&a.status!==404&&Ri("Got unsuccessful REST response for "+o+" Status: "+a.status),i(a.status);i=null}},a.open("GET",o,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PM{constructor(){this.rootNode_=Xe.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yg(){return{value:null,children:new Map}}function YN(t,e,n){if(ht(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const i=pt(e);t.children.has(i)||t.children.set(i,yg());const r=t.children.get(i);e=Ht(e),YN(r,e,n)}}function Iv(t,e,n){t.value!==null?n(e,t.value):IM(t,(i,r)=>{const s=new Bt(e.toString()+"/"+i);Iv(r,s,n)})}function IM(t,e){t.children.forEach((n,i)=>{e(i,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LM{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&Oi(this.last_,(i,r)=>{n[i]=n[i]-r}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fb=10*1e3,TM=30*1e3,RM=5*60*1e3;class OM{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new LM(e);const i=Fb+(TM-Fb)*Math.random();yh(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const e=this.statsListener_.get(),n={};let i=!1;Oi(e,(r,s)=>{s>0&&Js(this.statsToReport_,r)&&(n[r]=s,i=!0)}),i&&this.server_.reportStats(n),yh(this.reportStats_.bind(this),Math.floor(Math.random()*2*RM))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rr;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Rr||(Rr={}));function KN(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function ky(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Ay(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _g{constructor(e,n,i){this.path=e,this.affectedTree=n,this.revert=i,this.type=Rr.ACK_USER_WRITE,this.source=KN()}operationForChild(e){if(ht(this.path)){if(this.affectedTree.value!=null)return Ie(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new Bt(e));return new _g(xt(),n,this.revert)}}else return Ie(pt(this.path)===e,"operationForChild called for unrelated child."),new _g(Ht(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sf{constructor(e,n){this.source=e,this.path=n,this.type=Rr.LISTEN_COMPLETE}operationForChild(e){return ht(this.path)?new sf(this.source,xt()):new sf(this.source,Ht(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl{constructor(e,n,i){this.source=e,this.path=n,this.snap=i,this.type=Rr.OVERWRITE}operationForChild(e){return ht(this.path)?new sl(this.source,xt(),this.snap.getImmediateChild(e)):new sl(this.source,Ht(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class of{constructor(e,n,i){this.source=e,this.path=n,this.children=i,this.type=Rr.MERGE}operationForChild(e){if(ht(this.path)){const n=this.children.subtree(new Bt(e));return n.isEmpty()?null:n.value?new sl(this.source,xt(),n.value):new of(this.source,xt(),n)}else return Ie(pt(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new of(this.source,Ht(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia{constructor(e,n,i){this.node_=e,this.fullyInitialized_=n,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(ht(e))return this.isFullyInitialized()&&!this.filtered_;const n=pt(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MM{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function DM(t,e,n,i){const r=[],s=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(kM(o.childName,o.snapshotNode))}),Wu(t,r,"child_removed",e,i,n),Wu(t,r,"child_added",e,i,n),Wu(t,r,"child_moved",s,i,n),Wu(t,r,"child_changed",e,i,n),Wu(t,r,"value",e,i,n),r}function Wu(t,e,n,i,r,s){const o=i.filter(a=>a.type===n);o.sort((a,l)=>jM(t,a,l)),o.forEach(a=>{const l=FM(t,a,s);r.forEach(c=>{c.respondsTo(a.type)&&e.push(c.createEvent(l,t.query_))})})}function FM(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function jM(t,e,n){if(e.childName==null||n.childName==null)throw Wc("Should only compare child_ events.");const i=new ct(e.childName,e.snapshotNode),r=new ct(n.childName,n.snapshotNode);return t.index_.compare(i,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function im(t,e){return{eventCache:t,serverCache:e}}function _h(t,e,n,i){return im(new ia(e,n,i),t.serverCache)}function XN(t,e,n,i){return im(t.eventCache,new ia(e,n,i))}function wg(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function ol(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let t1;const BM=()=>(t1||(t1=new Pi(NO)),t1);class $t{constructor(e,n=BM()){this.value=e,this.children=n}static fromObject(e){let n=new $t(null);return Oi(e,(i,r)=>{n=n.set(new Bt(i),r)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:xt(),value:this.value};if(ht(e))return null;{const i=pt(e),r=this.children.get(i);if(r!==null){const s=r.findRootMostMatchingPathAndValue(Ht(e),n);return s!=null?{path:In(new Bt(i),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(ht(e))return this;{const n=pt(e),i=this.children.get(n);return i!==null?i.subtree(Ht(e)):new $t(null)}}set(e,n){if(ht(e))return new $t(n,this.children);{const i=pt(e),s=(this.children.get(i)||new $t(null)).set(Ht(e),n),o=this.children.insert(i,s);return new $t(this.value,o)}}remove(e){if(ht(e))return this.children.isEmpty()?new $t(null):new $t(null,this.children);{const n=pt(e),i=this.children.get(n);if(i){const r=i.remove(Ht(e));let s;return r.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,r),this.value===null&&s.isEmpty()?new $t(null):new $t(this.value,s)}else return this}}get(e){if(ht(e))return this.value;{const n=pt(e),i=this.children.get(n);return i?i.get(Ht(e)):null}}setTree(e,n){if(ht(e))return n;{const i=pt(e),s=(this.children.get(i)||new $t(null)).setTree(Ht(e),n);let o;return s.isEmpty()?o=this.children.remove(i):o=this.children.insert(i,s),new $t(this.value,o)}}fold(e){return this.fold_(xt(),e)}fold_(e,n){const i={};return this.children.inorderTraversal((r,s)=>{i[r]=s.fold_(In(e,r),n)}),n(e,this.value,i)}findOnPath(e,n){return this.findOnPath_(e,xt(),n)}findOnPath_(e,n,i){const r=this.value?i(n,this.value):!1;if(r)return r;if(ht(e))return null;{const s=pt(e),o=this.children.get(s);return o?o.findOnPath_(Ht(e),In(n,s),i):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,xt(),n)}foreachOnPath_(e,n,i){if(ht(e))return this;{this.value&&i(n,this.value);const r=pt(e),s=this.children.get(r);return s?s.foreachOnPath_(Ht(e),In(n,r),i):new $t(null)}}foreach(e){this.foreach_(xt(),e)}foreach_(e,n){this.children.inorderTraversal((i,r)=>{r.foreach_(In(e,i),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,i)=>{i.value&&e(n,i.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr{constructor(e){this.writeTree_=e}static empty(){return new Fr(new $t(null))}}function wh(t,e,n){if(ht(e))return new Fr(new $t(n));{const i=t.writeTree_.findRootMostValueAndPath(e);if(i!=null){const r=i.path;let s=i.value;const o=di(r,e);return s=s.updateChild(o,n),new Fr(t.writeTree_.set(r,s))}else{const r=new $t(n),s=t.writeTree_.setTree(e,r);return new Fr(s)}}}function jb(t,e,n){let i=t;return Oi(n,(r,s)=>{i=wh(i,In(e,r),s)}),i}function Bb(t,e){if(ht(e))return Fr.empty();{const n=t.writeTree_.setTree(e,new $t(null));return new Fr(n)}}function Lv(t,e){return hl(t,e)!=null}function hl(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(di(n.path,e)):null}function zb(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(ln,(i,r)=>{e.push(new ct(i,r))}):t.writeTree_.children.inorderTraversal((i,r)=>{r.value!=null&&e.push(new ct(i,r.value))}),e}function Ko(t,e){if(ht(e))return t;{const n=hl(t,e);return n!=null?new Fr(new $t(n)):new Fr(t.writeTree_.subtree(e))}}function Tv(t){return t.writeTree_.isEmpty()}function Dc(t,e){return JN(xt(),t.writeTree_,e)}function JN(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let i=null;return e.children.inorderTraversal((r,s)=>{r===".priority"?(Ie(s.value!==null,"Priority writes must always be leaf nodes"),i=s.value):n=JN(In(t,r),s,n)}),!n.getChild(t).isEmpty()&&i!==null&&(n=n.updateChild(In(t,".priority"),i)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rm(t,e){return tC(e,t)}function zM(t,e,n,i,r){Ie(i>t.lastWriteId,"Stacking an older write on top of newer ones"),r===void 0&&(r=!0),t.allWrites.push({path:e,snap:n,writeId:i,visible:r}),r&&(t.visibleWrites=wh(t.visibleWrites,e,n)),t.lastWriteId=i}function UM(t,e){for(let n=0;n<t.allWrites.length;n++){const i=t.allWrites[n];if(i.writeId===e)return i}return null}function HM(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);Ie(n>=0,"removeWrite called with nonexistent writeId.");const i=t.allWrites[n];t.allWrites.splice(n,1);let r=i.visible,s=!1,o=t.allWrites.length-1;for(;r&&o>=0;){const a=t.allWrites[o];a.visible&&(o>=n&&WM(a,i.path)?r=!1:Tr(i.path,a.path)&&(s=!0)),o--}if(r){if(s)return qM(t),!0;if(i.snap)t.visibleWrites=Bb(t.visibleWrites,i.path);else{const a=i.children;Oi(a,l=>{t.visibleWrites=Bb(t.visibleWrites,In(i.path,l))})}return!0}else return!1}function WM(t,e){if(t.snap)return Tr(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&Tr(In(t.path,n),e))return!0;return!1}function qM(t){t.visibleWrites=QN(t.allWrites,VM,xt()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function VM(t){return t.visible}function QN(t,e,n){let i=Fr.empty();for(let r=0;r<t.length;++r){const s=t[r];if(e(s)){const o=s.path;let a;if(s.snap)Tr(n,o)?(a=di(n,o),i=wh(i,a,s.snap)):Tr(o,n)&&(a=di(o,n),i=wh(i,xt(),s.snap.getChild(a)));else if(s.children){if(Tr(n,o))a=di(n,o),i=jb(i,a,s.children);else if(Tr(o,n))if(a=di(o,n),ht(a))i=jb(i,xt(),s.children);else{const l=Tc(s.children,pt(a));if(l){const c=l.getChild(Ht(a));i=wh(i,xt(),c)}}}else throw Wc("WriteRecord should have .snap or .children")}}return i}function ZN(t,e,n,i,r){if(!i&&!r){const s=hl(t.visibleWrites,e);if(s!=null)return s;{const o=Ko(t.visibleWrites,e);if(Tv(o))return n;if(n==null&&!Lv(o,xt()))return null;{const a=n||Xe.EMPTY_NODE;return Dc(o,a)}}}else{const s=Ko(t.visibleWrites,e);if(!r&&Tv(s))return n;if(!r&&n==null&&!Lv(s,xt()))return null;{const o=function(c){return(c.visible||r)&&(!i||!~i.indexOf(c.writeId))&&(Tr(c.path,e)||Tr(e,c.path))},a=QN(t.allWrites,o,e),l=n||Xe.EMPTY_NODE;return Dc(a,l)}}}function $M(t,e,n){let i=Xe.EMPTY_NODE;const r=hl(t.visibleWrites,e);if(r)return r.isLeafNode()||r.forEachChild(ln,(s,o)=>{i=i.updateImmediateChild(s,o)}),i;if(n){const s=Ko(t.visibleWrites,e);return n.forEachChild(ln,(o,a)=>{const l=Dc(Ko(s,new Bt(o)),a);i=i.updateImmediateChild(o,l)}),zb(s).forEach(o=>{i=i.updateImmediateChild(o.name,o.node)}),i}else{const s=Ko(t.visibleWrites,e);return zb(s).forEach(o=>{i=i.updateImmediateChild(o.name,o.node)}),i}}function GM(t,e,n,i,r){Ie(i||r,"Either existingEventSnap or existingServerSnap must exist");const s=In(e,n);if(Lv(t.visibleWrites,s))return null;{const o=Ko(t.visibleWrites,s);return Tv(o)?r.getChild(n):Dc(o,r.getChild(n))}}function YM(t,e,n,i){const r=In(e,n),s=hl(t.visibleWrites,r);if(s!=null)return s;if(i.isCompleteForChild(n)){const o=Ko(t.visibleWrites,r);return Dc(o,i.getNode().getImmediateChild(n))}else return null}function KM(t,e){return hl(t.visibleWrites,e)}function XM(t,e,n,i,r,s,o){let a;const l=Ko(t.visibleWrites,e),c=hl(l,xt());if(c!=null)a=c;else if(n!=null)a=Dc(l,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){const h=[],f=o.getCompare(),d=s?a.getReverseIteratorFrom(i,o):a.getIteratorFrom(i,o);let p=d.getNext();for(;p&&h.length<r;)f(p,i)!==0&&h.push(p),p=d.getNext();return h}else return[]}function JM(){return{visibleWrites:Fr.empty(),allWrites:[],lastWriteId:-1}}function bg(t,e,n,i){return ZN(t.writeTree,t.treePath,e,n,i)}function Ey(t,e){return $M(t.writeTree,t.treePath,e)}function Ub(t,e,n,i){return GM(t.writeTree,t.treePath,e,n,i)}function xg(t,e){return KM(t.writeTree,In(t.treePath,e))}function QM(t,e,n,i,r,s){return XM(t.writeTree,t.treePath,e,n,i,r,s)}function Py(t,e,n){return YM(t.writeTree,t.treePath,e,n)}function eC(t,e){return tC(In(t.treePath,e),t.writeTree)}function tC(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZM{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,i=e.childName;Ie(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),Ie(i!==".priority","Only non-priority child changes can be tracked.");const r=this.changeMap.get(i);if(r){const s=r.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(i,nf(i,e.snapshotNode,r.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(i);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(i,tf(i,r.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(i,Mc(i,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(i,nf(i,e.snapshotNode,r.oldSnap));else throw Wc("Illegal combination of changes: "+e+" occurred after "+r)}else this.changeMap.set(i,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eD{getCompleteChild(e){return null}getChildAfterChild(e,n,i){return null}}const nC=new eD;class Iy{constructor(e,n,i=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=i}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const i=this.optCompleteServerCache_!=null?new ia(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Py(this.writes_,e,i)}}getChildAfterChild(e,n,i){const r=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:ol(this.viewCache_),s=QM(this.writes_,r,n,1,i,e);return s.length===0?null:s[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tD(t){return{filter:t}}function nD(t,e){Ie(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),Ie(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function iD(t,e,n,i,r){const s=new ZM;let o,a;if(n.type===Rr.OVERWRITE){const c=n;c.source.fromUser?o=Rv(t,e,c.path,c.snap,i,r,s):(Ie(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered()&&!ht(c.path),o=Sg(t,e,c.path,c.snap,i,r,a,s))}else if(n.type===Rr.MERGE){const c=n;c.source.fromUser?o=sD(t,e,c.path,c.children,i,r,s):(Ie(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered(),o=Ov(t,e,c.path,c.children,i,r,a,s))}else if(n.type===Rr.ACK_USER_WRITE){const c=n;c.revert?o=lD(t,e,c.path,i,r,s):o=oD(t,e,c.path,c.affectedTree,i,r,s)}else if(n.type===Rr.LISTEN_COMPLETE)o=aD(t,e,n.path,i,s);else throw Wc("Unknown operation type: "+n.type);const l=s.getChanges();return rD(e,o,l),{viewCache:o,changes:l}}function rD(t,e,n){const i=e.eventCache;if(i.isFullyInitialized()){const r=i.getNode().isLeafNode()||i.getNode().isEmpty(),s=wg(t);(n.length>0||!t.eventCache.isFullyInitialized()||r&&!i.getNode().equals(s)||!i.getNode().getPriority().equals(s.getPriority()))&&n.push(GN(wg(e)))}}function iC(t,e,n,i,r,s){const o=e.eventCache;if(xg(i,n)!=null)return e;{let a,l;if(ht(n))if(Ie(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const c=ol(e),h=c instanceof Xe?c:Xe.EMPTY_NODE,f=Ey(i,h);a=t.filter.updateFullNode(e.eventCache.getNode(),f,s)}else{const c=bg(i,ol(e));a=t.filter.updateFullNode(e.eventCache.getNode(),c,s)}else{const c=pt(n);if(c===".priority"){Ie(na(n)===1,"Can't have a priority with additional path components");const h=o.getNode();l=e.serverCache.getNode();const f=Ub(i,n,h,l);f!=null?a=t.filter.updatePriority(h,f):a=o.getNode()}else{const h=Ht(n);let f;if(o.isCompleteForChild(c)){l=e.serverCache.getNode();const d=Ub(i,n,o.getNode(),l);d!=null?f=o.getNode().getImmediateChild(c).updateChild(h,d):f=o.getNode().getImmediateChild(c)}else f=Py(i,c,e.serverCache);f!=null?a=t.filter.updateChild(o.getNode(),c,f,h,r,s):a=o.getNode()}}return _h(e,a,o.isFullyInitialized()||ht(n),t.filter.filtersNodes())}}function Sg(t,e,n,i,r,s,o,a){const l=e.serverCache;let c;const h=o?t.filter:t.filter.getIndexedFilter();if(ht(n))c=h.updateFullNode(l.getNode(),i,null);else if(h.filtersNodes()&&!l.isFiltered()){const p=l.getNode().updateChild(n,i);c=h.updateFullNode(l.getNode(),p,null)}else{const p=pt(n);if(!l.isCompleteForPath(n)&&na(n)>1)return e;const w=Ht(n),S=l.getNode().getImmediateChild(p).updateChild(w,i);p===".priority"?c=h.updatePriority(l.getNode(),S):c=h.updateChild(l.getNode(),p,S,w,nC,null)}const f=XN(e,c,l.isFullyInitialized()||ht(n),h.filtersNodes()),d=new Iy(r,f,s);return iC(t,f,n,r,d,a)}function Rv(t,e,n,i,r,s,o){const a=e.eventCache;let l,c;const h=new Iy(r,e,s);if(ht(n))c=t.filter.updateFullNode(e.eventCache.getNode(),i,o),l=_h(e,c,!0,t.filter.filtersNodes());else{const f=pt(n);if(f===".priority")c=t.filter.updatePriority(e.eventCache.getNode(),i),l=_h(e,c,a.isFullyInitialized(),a.isFiltered());else{const d=Ht(n),p=a.getNode().getImmediateChild(f);let w;if(ht(d))w=i;else{const y=h.getCompleteChild(f);y!=null?FN(d)===".priority"&&y.getChild(BN(d)).isEmpty()?w=y:w=y.updateChild(d,i):w=Xe.EMPTY_NODE}if(p.equals(w))l=e;else{const y=t.filter.updateChild(a.getNode(),f,w,d,h,o);l=_h(e,y,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function Hb(t,e){return t.eventCache.isCompleteForChild(e)}function sD(t,e,n,i,r,s,o){let a=e;return i.foreach((l,c)=>{const h=In(n,l);Hb(e,pt(h))&&(a=Rv(t,a,h,c,r,s,o))}),i.foreach((l,c)=>{const h=In(n,l);Hb(e,pt(h))||(a=Rv(t,a,h,c,r,s,o))}),a}function Wb(t,e,n){return n.foreach((i,r)=>{e=e.updateChild(i,r)}),e}function Ov(t,e,n,i,r,s,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,c;ht(n)?c=i:c=new $t(null).setTree(n,i);const h=e.serverCache.getNode();return c.children.inorderTraversal((f,d)=>{if(h.hasChild(f)){const p=e.serverCache.getNode().getImmediateChild(f),w=Wb(t,p,d);l=Sg(t,l,new Bt(f),w,r,s,o,a)}}),c.children.inorderTraversal((f,d)=>{const p=!e.serverCache.isCompleteForChild(f)&&d.value===null;if(!h.hasChild(f)&&!p){const w=e.serverCache.getNode().getImmediateChild(f),y=Wb(t,w,d);l=Sg(t,l,new Bt(f),y,r,s,o,a)}}),l}function oD(t,e,n,i,r,s,o){if(xg(r,n)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(i.value!=null){if(ht(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return Sg(t,e,n,l.getNode().getChild(n),r,s,a,o);if(ht(n)){let c=new $t(null);return l.getNode().forEachChild(wc,(h,f)=>{c=c.set(new Bt(h),f)}),Ov(t,e,n,c,r,s,a,o)}else return e}else{let c=new $t(null);return i.foreach((h,f)=>{const d=In(n,h);l.isCompleteForPath(d)&&(c=c.set(h,l.getNode().getChild(d)))}),Ov(t,e,n,c,r,s,a,o)}}function aD(t,e,n,i,r){const s=e.serverCache,o=XN(e,s.getNode(),s.isFullyInitialized()||ht(n),s.isFiltered());return iC(t,o,n,i,nC,r)}function lD(t,e,n,i,r,s){let o;if(xg(i,n)!=null)return e;{const a=new Iy(i,e,r),l=e.eventCache.getNode();let c;if(ht(n)||pt(n)===".priority"){let h;if(e.serverCache.isFullyInitialized())h=bg(i,ol(e));else{const f=e.serverCache.getNode();Ie(f instanceof Xe,"serverChildren would be complete if leaf node"),h=Ey(i,f)}h=h,c=t.filter.updateFullNode(l,h,s)}else{const h=pt(n);let f=Py(i,h,e.serverCache);f==null&&e.serverCache.isCompleteForChild(h)&&(f=l.getImmediateChild(h)),f!=null?c=t.filter.updateChild(l,h,f,Ht(n),a,s):e.eventCache.getNode().hasChild(h)?c=t.filter.updateChild(l,h,Xe.EMPTY_NODE,Ht(n),a,s):c=l,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=bg(i,ol(e)),o.isLeafNode()&&(c=t.filter.updateFullNode(c,o,s)))}return o=e.serverCache.isFullyInitialized()||xg(i,xt())!=null,_h(e,c,o,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cD{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const i=this.query_._queryParams,r=new Ny(i.getIndex()),s=EM(i);this.processor_=tD(s);const o=n.serverCache,a=n.eventCache,l=r.updateFullNode(Xe.EMPTY_NODE,o.getNode(),null),c=s.updateFullNode(Xe.EMPTY_NODE,a.getNode(),null),h=new ia(l,o.isFullyInitialized(),r.filtersNodes()),f=new ia(c,a.isFullyInitialized(),s.filtersNodes());this.viewCache_=im(f,h),this.eventGenerator_=new MM(this.query_)}get query(){return this.query_}}function uD(t){return t.viewCache_.serverCache.getNode()}function hD(t){return wg(t.viewCache_)}function fD(t,e){const n=ol(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!ht(e)&&!n.getImmediateChild(pt(e)).isEmpty())?n.getChild(e):null}function qb(t){return t.eventRegistrations_.length===0}function dD(t,e){t.eventRegistrations_.push(e)}function Vb(t,e,n){const i=[];if(n){Ie(e==null,"A cancel should cancel all event registrations.");const r=t.query._path;t.eventRegistrations_.forEach(s=>{const o=s.createCancelEvent(n,r);o&&i.push(o)})}if(e){let r=[];for(let s=0;s<t.eventRegistrations_.length;++s){const o=t.eventRegistrations_[s];if(!o.matches(e))r.push(o);else if(e.hasAnyCallback()){r=r.concat(t.eventRegistrations_.slice(s+1));break}}t.eventRegistrations_=r}else t.eventRegistrations_=[];return i}function $b(t,e,n,i){e.type===Rr.MERGE&&e.source.queryId!==null&&(Ie(ol(t.viewCache_),"We should always have a full cache before handling merges"),Ie(wg(t.viewCache_),"Missing event cache, even though we have a server cache"));const r=t.viewCache_,s=iD(t.processor_,r,e,n,i);return nD(t.processor_,s.viewCache),Ie(s.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,rC(t,s.changes,s.viewCache.eventCache.getNode(),null)}function pD(t,e){const n=t.viewCache_.eventCache,i=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(ln,(s,o)=>{i.push(Mc(s,o))}),n.isFullyInitialized()&&i.push(GN(n.getNode())),rC(t,i,n.getNode(),e)}function rC(t,e,n,i){const r=i?[i]:t.eventRegistrations_;return DM(t.eventGenerator_,e,n,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ng;class sC{constructor(){this.views=new Map}}function gD(t){Ie(!Ng,"__referenceConstructor has already been defined"),Ng=t}function mD(){return Ie(Ng,"Reference.ts has not been loaded"),Ng}function vD(t){return t.views.size===0}function Ly(t,e,n,i){const r=e.source.queryId;if(r!==null){const s=t.views.get(r);return Ie(s!=null,"SyncTree gave us an op for an invalid query."),$b(s,e,n,i)}else{let s=[];for(const o of t.views.values())s=s.concat($b(o,e,n,i));return s}}function oC(t,e,n,i,r){const s=e._queryIdentifier,o=t.views.get(s);if(!o){let a=bg(n,r?i:null),l=!1;a?l=!0:i instanceof Xe?(a=Ey(n,i),l=!1):(a=Xe.EMPTY_NODE,l=!1);const c=im(new ia(a,l,!1),new ia(i,r,!1));return new cD(e,c)}return o}function yD(t,e,n,i,r,s){const o=oC(t,e,i,r,s);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),dD(o,n),pD(o,n)}function _D(t,e,n,i){const r=e._queryIdentifier,s=[];let o=[];const a=ra(t);if(r==="default")for(const[l,c]of t.views.entries())o=o.concat(Vb(c,n,i)),qb(c)&&(t.views.delete(l),c.query._queryParams.loadsAllData()||s.push(c.query));else{const l=t.views.get(r);l&&(o=o.concat(Vb(l,n,i)),qb(l)&&(t.views.delete(r),l.query._queryParams.loadsAllData()||s.push(l.query)))}return a&&!ra(t)&&s.push(new(mD())(e._repo,e._path)),{removed:s,events:o}}function aC(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function Xo(t,e){let n=null;for(const i of t.views.values())n=n||fD(i,e);return n}function lC(t,e){if(e._queryParams.loadsAllData())return sm(t);{const i=e._queryIdentifier;return t.views.get(i)}}function cC(t,e){return lC(t,e)!=null}function ra(t){return sm(t)!=null}function sm(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cg;function wD(t){Ie(!Cg,"__referenceConstructor has already been defined"),Cg=t}function bD(){return Ie(Cg,"Reference.ts has not been loaded"),Cg}let xD=1;class Gb{constructor(e){this.listenProvider_=e,this.syncPointTree_=new $t(null),this.pendingWriteTree_=JM(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function uC(t,e,n,i,r){return zM(t.pendingWriteTree_,e,n,i,r),r?kf(t,new sl(KN(),e,n)):[]}function za(t,e,n=!1){const i=UM(t.pendingWriteTree_,e);if(HM(t.pendingWriteTree_,e)){let s=new $t(null);return i.snap!=null?s=s.set(xt(),!0):Oi(i.children,o=>{s=s.set(new Bt(o),!0)}),kf(t,new _g(i.path,s,n))}else return[]}function Cf(t,e,n){return kf(t,new sl(ky(),e,n))}function SD(t,e,n){const i=$t.fromObject(n);return kf(t,new of(ky(),e,i))}function ND(t,e){return kf(t,new sf(ky(),e))}function CD(t,e,n){const i=Ry(t,n);if(i){const r=Oy(i),s=r.path,o=r.queryId,a=di(s,e),l=new sf(Ay(o),a);return My(t,s,l)}else return[]}function hC(t,e,n,i,r=!1){const s=e._path,o=t.syncPointTree_.get(s);let a=[];if(o&&(e._queryIdentifier==="default"||cC(o,e))){const l=_D(o,e,n,i);vD(o)&&(t.syncPointTree_=t.syncPointTree_.remove(s));const c=l.removed;if(a=l.events,!r){const h=c.findIndex(d=>d._queryParams.loadsAllData())!==-1,f=t.syncPointTree_.findOnPath(s,(d,p)=>ra(p));if(h&&!f){const d=t.syncPointTree_.subtree(s);if(!d.isEmpty()){const p=PD(d);for(let w=0;w<p.length;++w){const y=p[w],S=y.query,m=gC(t,y);t.listenProvider_.startListening(bh(S),af(t,S),m.hashFn,m.onComplete)}}}!f&&c.length>0&&!i&&(h?t.listenProvider_.stopListening(bh(e),null):c.forEach(d=>{const p=t.queryToTagMap.get(om(d));t.listenProvider_.stopListening(bh(d),p)}))}ID(t,c)}return a}function fC(t,e,n,i){const r=Ry(t,i);if(r!=null){const s=Oy(r),o=s.path,a=s.queryId,l=di(o,e),c=new sl(Ay(a),l,n);return My(t,o,c)}else return[]}function kD(t,e,n,i){const r=Ry(t,i);if(r){const s=Oy(r),o=s.path,a=s.queryId,l=di(o,e),c=$t.fromObject(n),h=new of(Ay(a),l,c);return My(t,o,h)}else return[]}function AD(t,e,n,i=!1){const r=e._path;let s=null,o=!1;t.syncPointTree_.foreachOnPath(r,(d,p)=>{const w=di(d,r);s=s||Xo(p,w),o=o||ra(p)});let a=t.syncPointTree_.get(r);a?(o=o||ra(a),s=s||Xo(a,xt())):(a=new sC,t.syncPointTree_=t.syncPointTree_.set(r,a));let l;s!=null?l=!0:(l=!1,s=Xe.EMPTY_NODE,t.syncPointTree_.subtree(r).foreachChild((p,w)=>{const y=Xo(w,xt());y&&(s=s.updateImmediateChild(p,y))}));const c=cC(a,e);if(!c&&!e._queryParams.loadsAllData()){const d=om(e);Ie(!t.queryToTagMap.has(d),"View does not exist, but we have a tag");const p=LD();t.queryToTagMap.set(d,p),t.tagToQueryMap.set(p,d)}const h=rm(t.pendingWriteTree_,r);let f=yD(a,e,n,h,s,l);if(!c&&!o&&!i){const d=lC(a,e);f=f.concat(TD(t,e,d))}return f}function Ty(t,e,n){const r=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,a)=>{const l=di(o,e),c=Xo(a,l);if(c)return c});return ZN(r,e,s,n,!0)}function ED(t,e){const n=e._path;let i=null;t.syncPointTree_.foreachOnPath(n,(c,h)=>{const f=di(c,n);i=i||Xo(h,f)});let r=t.syncPointTree_.get(n);r?i=i||Xo(r,xt()):(r=new sC,t.syncPointTree_=t.syncPointTree_.set(n,r));const s=i!=null,o=s?new ia(i,!0,!1):null,a=rm(t.pendingWriteTree_,e._path),l=oC(r,e,a,s?o.getNode():Xe.EMPTY_NODE,s);return hD(l)}function kf(t,e){return dC(e,t.syncPointTree_,null,rm(t.pendingWriteTree_,xt()))}function dC(t,e,n,i){if(ht(t.path))return pC(t,e,n,i);{const r=e.get(xt());n==null&&r!=null&&(n=Xo(r,xt()));let s=[];const o=pt(t.path),a=t.operationForChild(o),l=e.children.get(o);if(l&&a){const c=n?n.getImmediateChild(o):null,h=eC(i,o);s=s.concat(dC(a,l,c,h))}return r&&(s=s.concat(Ly(r,t,i,n))),s}}function pC(t,e,n,i){const r=e.get(xt());n==null&&r!=null&&(n=Xo(r,xt()));let s=[];return e.children.inorderTraversal((o,a)=>{const l=n?n.getImmediateChild(o):null,c=eC(i,o),h=t.operationForChild(o);h&&(s=s.concat(pC(h,a,l,c)))}),r&&(s=s.concat(Ly(r,t,i,n))),s}function gC(t,e){const n=e.query,i=af(t,n);return{hashFn:()=>(uD(e)||Xe.EMPTY_NODE).hash(),onComplete:r=>{if(r==="ok")return i?CD(t,n._path,i):ND(t,n._path);{const s=AO(r,n);return hC(t,n,null,s)}}}}function af(t,e){const n=om(e);return t.queryToTagMap.get(n)}function om(t){return t._path.toString()+"$"+t._queryIdentifier}function Ry(t,e){return t.tagToQueryMap.get(e)}function Oy(t){const e=t.indexOf("$");return Ie(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Bt(t.substr(0,e))}}function My(t,e,n){const i=t.syncPointTree_.get(e);Ie(i,"Missing sync point for query tag that we're tracking");const r=rm(t.pendingWriteTree_,e);return Ly(i,n,r,null)}function PD(t){return t.fold((e,n,i)=>{if(n&&ra(n))return[sm(n)];{let r=[];return n&&(r=aC(n)),Oi(i,(s,o)=>{r=r.concat(o)}),r}})}function bh(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(bD())(t._repo,t._path):t}function ID(t,e){for(let n=0;n<e.length;++n){const i=e[n];if(!i._queryParams.loadsAllData()){const r=om(i),s=t.queryToTagMap.get(r);t.queryToTagMap.delete(r),t.tagToQueryMap.delete(s)}}}function LD(){return xD++}function TD(t,e,n){const i=e._path,r=af(t,e),s=gC(t,n),o=t.listenProvider_.startListening(bh(e),r,s.hashFn,s.onComplete),a=t.syncPointTree_.subtree(i);if(r)Ie(!ra(a.value),"If we're adding a query, it shouldn't be shadowed");else{const l=a.fold((c,h,f)=>{if(!ht(c)&&h&&ra(h))return[sm(h).query];{let d=[];return h&&(d=d.concat(aC(h).map(p=>p.query))),Oi(f,(p,w)=>{d=d.concat(w)}),d}});for(let c=0;c<l.length;++c){const h=l[c];t.listenProvider_.stopListening(bh(h),af(t,h))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dy{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new Dy(n)}node(){return this.node_}}class Fy{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=In(this.path_,e);return new Fy(this.syncTree_,n)}node(){return Ty(this.syncTree_,this.path_)}}const RD=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},Yb=function(t,e,n){if(!t||typeof t!="object")return t;if(Ie(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return OD(t[".sv"],e,n);if(typeof t[".sv"]=="object")return MD(t[".sv"],e);Ie(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},OD=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:Ie(!1,"Unexpected server value: "+t)}},MD=function(t,e,n){t.hasOwnProperty("increment")||Ie(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const i=t.increment;typeof i!="number"&&Ie(!1,"Unexpected increment value: "+i);const r=e.node();if(Ie(r!==null&&typeof r<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;const o=r.getValue();return typeof o!="number"?i:o+i},DD=function(t,e,n,i){return jy(e,new Fy(n,t),i)},mC=function(t,e,n){return jy(t,new Dy(e),n)};function jy(t,e,n){const i=t.getPriority().val(),r=Yb(i,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const o=t,a=Yb(o.getValue(),e,n);return a!==o.getValue()||r!==o.getPriority().val()?new Dn(a,Bn(r)):t}else{const o=t;return s=o,r!==o.getPriority().val()&&(s=s.updatePriority(new Dn(r))),o.forEachChild(ln,(a,l)=>{const c=jy(l,e.getImmediateChild(a),n);c!==l&&(s=s.updateImmediateChild(a,c))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class By{constructor(e="",n=null,i={children:{},childCount:0}){this.name=e,this.parent=n,this.node=i}}function zy(t,e){let n=e instanceof Bt?e:new Bt(e),i=t,r=pt(n);for(;r!==null;){const s=Tc(i.node.children,r)||{children:{},childCount:0};i=new By(r,i,s),n=Ht(n),r=pt(n)}return i}function Yc(t){return t.node.value}function vC(t,e){t.node.value=e,Mv(t)}function yC(t){return t.node.childCount>0}function FD(t){return Yc(t)===void 0&&!yC(t)}function am(t,e){Oi(t.node.children,(n,i)=>{e(new By(n,t,i))})}function _C(t,e,n,i){n&&e(t),am(t,r=>{_C(r,e,!0)})}function jD(t,e,n){let i=t.parent;for(;i!==null;){if(e(i))return!0;i=i.parent}return!1}function Af(t){return new Bt(t.parent===null?t.name:Af(t.parent)+"/"+t.name)}function Mv(t){t.parent!==null&&BD(t.parent,t.name,t)}function BD(t,e,n){const i=FD(n),r=Js(t.node.children,e);i&&r?(delete t.node.children[e],t.node.childCount--,Mv(t)):!i&&!r&&(t.node.children[e]=n.node,t.node.childCount++,Mv(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zD=/[\[\].#$\/\u0000-\u001F\u007F]/,UD=/[\[\].#$\u0000-\u001F\u007F]/,n1=10*1024*1024,wC=function(t){return typeof t=="string"&&t.length!==0&&!zD.test(t)},bC=function(t){return typeof t=="string"&&t.length!==0&&!UD.test(t)},HD=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),bC(t)},WD=function(t,e,n,i){Uy(py(t,"value"),e,n)},Uy=function(t,e,n){const i=n instanceof Bt?new oM(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Ra(i));if(typeof e=="function")throw new Error(t+"contains a function "+Ra(i)+" with contents = "+e.toString());if(mN(e))throw new Error(t+"contains "+e.toString()+" "+Ra(i));if(typeof e=="string"&&e.length>n1/3&&tm(e)>n1)throw new Error(t+"contains a string greater than "+n1+" utf8 bytes "+Ra(i)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let r=!1,s=!1;if(Oi(e,(o,a)=>{if(o===".value")r=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!wC(o)))throw new Error(t+" contains an invalid key ("+o+") "+Ra(i)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);aM(i,o),Uy(t,a,i),lM(i)}),r&&s)throw new Error(t+' contains ".value" child '+Ra(i)+" in addition to actual children.")}},xC=function(t,e,n,i){if(!bC(n))throw new Error(py(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},qD=function(t,e,n,i){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),xC(t,e,n)},VD=function(t,e){if(pt(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},$D=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!wC(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!HD(n))throw new Error(py(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GD{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function SC(t,e){let n=null;for(let i=0;i<e.length;i++){const r=e[i],s=r.getPath();n!==null&&!zN(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(r)}n&&t.eventLists_.push(n)}function hs(t,e,n){SC(t,n),YD(t,i=>Tr(i,e)||Tr(e,i))}function YD(t,e){t.recursionDepth_++;let n=!0;for(let i=0;i<t.eventLists_.length;i++){const r=t.eventLists_[i];if(r){const s=r.path;e(s)?(KD(t.eventLists_[i]),t.eventLists_[i]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function KD(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const i=n.getEventRunner();vh&&ri("event: "+n.toString()),Gc(i)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XD="repo_interrupt",JD=25;class QD{constructor(e,n,i,r){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new GD,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=yg(),this.transactionQueueTree_=new By,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function ZD(t,e,n){if(t.stats_=wy(t.repoInfo_),t.forceRestClient_||LO())t.server_=new vg(t.repoInfo_,(i,r,s,o)=>{Kb(t,i,r,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>Xb(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Pn(n)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}t.persistentConnection_=new zs(t.repoInfo_,e,(i,r,s,o)=>{Kb(t,i,r,s,o)},i=>{Xb(t,i)},i=>{t7(t,i)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(i=>{t.server_.refreshAuthToken(i)}),t.appCheckProvider_.addTokenChangeListener(i=>{t.server_.refreshAppCheckToken(i.token)}),t.statsReporter_=DO(t.repoInfo_,()=>new OM(t.stats_,t.server_)),t.infoData_=new PM,t.infoSyncTree_=new Gb({startListening:(i,r,s,o)=>{let a=[];const l=t.infoData_.getNode(i._path);return l.isEmpty()||(a=Cf(t.infoSyncTree_,i._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),Wy(t,"connected",!1),t.serverSyncTree_=new Gb({startListening:(i,r,s,o)=>(t.server_.listen(i,s,r,(a,l)=>{const c=o(a,l);hs(t.eventQueue_,i._path,c)}),[]),stopListening:(i,r)=>{t.server_.unlisten(i,r)}})}function e7(t){const n=t.infoData_.getNode(new Bt(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function Hy(t){return RD({timestamp:e7(t)})}function Kb(t,e,n,i,r){t.dataUpdateCount++;const s=new Bt(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(r)if(i){const l=hg(n,c=>Bn(c));o=kD(t.serverSyncTree_,s,l,r)}else{const l=Bn(n);o=fC(t.serverSyncTree_,s,l,r)}else if(i){const l=hg(n,c=>Bn(c));o=SD(t.serverSyncTree_,s,l)}else{const l=Bn(n);o=Cf(t.serverSyncTree_,s,l)}let a=s;o.length>0&&(a=cm(t,s)),hs(t.eventQueue_,a,o)}function Xb(t,e){Wy(t,"connected",e),e===!1&&r7(t)}function t7(t,e){Oi(e,(n,i)=>{Wy(t,n,i)})}function Wy(t,e,n){const i=new Bt("/.info/"+e),r=Bn(n);t.infoData_.updateSnapshot(i,r);const s=Cf(t.infoSyncTree_,i,r);hs(t.eventQueue_,i,s)}function NC(t){return t.nextWriteId_++}function n7(t,e,n){const i=ED(t.serverSyncTree_,e);return i!=null?Promise.resolve(i):t.server_.get(e).then(r=>{const s=Bn(r).withIndex(e._queryParams.getIndex());AD(t.serverSyncTree_,e,n,!0);let o;if(e._queryParams.loadsAllData())o=Cf(t.serverSyncTree_,e._path,s);else{const a=af(t.serverSyncTree_,e);o=fC(t.serverSyncTree_,e._path,s,a)}return hs(t.eventQueue_,e._path,o),hC(t.serverSyncTree_,e,n,null,!0),s},r=>(lm(t,"get for query "+Pn(e)+" failed: "+r),Promise.reject(new Error(r))))}function i7(t,e,n,i,r){lm(t,"set",{path:e.toString(),value:n,priority:i});const s=Hy(t),o=Bn(n,i),a=Ty(t.serverSyncTree_,e),l=mC(o,a,s),c=NC(t),h=uC(t.serverSyncTree_,e,l,c,!0);SC(t.eventQueue_,h),t.server_.put(e.toString(),o.val(!0),(d,p)=>{const w=d==="ok";w||Ri("set at "+e+" failed: "+d);const y=za(t.serverSyncTree_,c,!w);hs(t.eventQueue_,e,y),o7(t,r,d,p)});const f=PC(t,e);cm(t,f),hs(t.eventQueue_,f,[])}function r7(t){lm(t,"onDisconnectEvents");const e=Hy(t),n=yg();Iv(t.onDisconnect_,xt(),(r,s)=>{const o=DD(r,s,t.serverSyncTree_,e);YN(n,r,o)});let i=[];Iv(n,xt(),(r,s)=>{i=i.concat(Cf(t.serverSyncTree_,r,s));const o=PC(t,r);cm(t,o)}),t.onDisconnect_=yg(),hs(t.eventQueue_,xt(),i)}function s7(t){t.persistentConnection_&&t.persistentConnection_.interrupt(XD)}function lm(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),ri(n,...e)}function o7(t,e,n,i){e&&Gc(()=>{if(n==="ok")e(null);else{const r=(n||"error").toUpperCase();let s=r;i&&(s+=": "+i);const o=new Error(s);o.code=r,e(o)}})}function CC(t,e,n){return Ty(t.serverSyncTree_,e,n)||Xe.EMPTY_NODE}function qy(t,e=t.transactionQueueTree_){if(e||um(t,e),Yc(e)){const n=AC(t,e);Ie(n.length>0,"Sending zero length transaction queue"),n.every(r=>r.status===0)&&a7(t,Af(e),n)}else yC(e)&&am(e,n=>{qy(t,n)})}function a7(t,e,n){const i=n.map(c=>c.currentWriteId),r=CC(t,e,i);let s=r;const o=r.hash();for(let c=0;c<n.length;c++){const h=n[c];Ie(h.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),h.status=1,h.retryCount++;const f=di(e,h.path);s=s.updateChild(f,h.currentOutputSnapshotRaw)}const a=s.val(!0),l=e;t.server_.put(l.toString(),a,c=>{lm(t,"transaction put response",{path:l.toString(),status:c});let h=[];if(c==="ok"){const f=[];for(let d=0;d<n.length;d++)n[d].status=2,h=h.concat(za(t.serverSyncTree_,n[d].currentWriteId)),n[d].onComplete&&f.push(()=>n[d].onComplete(null,!0,n[d].currentOutputSnapshotResolved)),n[d].unwatcher();um(t,zy(t.transactionQueueTree_,e)),qy(t,t.transactionQueueTree_),hs(t.eventQueue_,e,h);for(let d=0;d<f.length;d++)Gc(f[d])}else{if(c==="datastale")for(let f=0;f<n.length;f++)n[f].status===3?n[f].status=4:n[f].status=0;else{Ri("transaction at "+l.toString()+" failed: "+c);for(let f=0;f<n.length;f++)n[f].status=4,n[f].abortReason=c}cm(t,e)}},o)}function cm(t,e){const n=kC(t,e),i=Af(n),r=AC(t,n);return l7(t,r,i),i}function l7(t,e,n){if(e.length===0)return;const i=[];let r=[];const o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],c=di(n,l.path);let h=!1,f;if(Ie(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)h=!0,f=l.abortReason,r=r.concat(za(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=JD)h=!0,f="maxretry",r=r.concat(za(t.serverSyncTree_,l.currentWriteId,!0));else{const d=CC(t,l.path,o);l.currentInputSnapshot=d;const p=e[a].update(d.val());if(p!==void 0){Uy("transaction failed: Data returned ",p,l.path);let w=Bn(p);typeof p=="object"&&p!=null&&Js(p,".priority")||(w=w.updatePriority(d.getPriority()));const S=l.currentWriteId,m=Hy(t),_=mC(w,d,m);l.currentOutputSnapshotRaw=w,l.currentOutputSnapshotResolved=_,l.currentWriteId=NC(t),o.splice(o.indexOf(S),1),r=r.concat(uC(t.serverSyncTree_,l.path,_,l.currentWriteId,l.applyLocally)),r=r.concat(za(t.serverSyncTree_,S,!0))}else h=!0,f="nodata",r=r.concat(za(t.serverSyncTree_,l.currentWriteId,!0))}hs(t.eventQueue_,n,r),r=[],h&&(e[a].status=2,function(d){setTimeout(d,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(f==="nodata"?i.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):i.push(()=>e[a].onComplete(new Error(f),!1,null))))}um(t,t.transactionQueueTree_);for(let a=0;a<i.length;a++)Gc(i[a]);qy(t,t.transactionQueueTree_)}function kC(t,e){let n,i=t.transactionQueueTree_;for(n=pt(e);n!==null&&Yc(i)===void 0;)i=zy(i,n),e=Ht(e),n=pt(e);return i}function AC(t,e){const n=[];return EC(t,e,n),n.sort((i,r)=>i.order-r.order),n}function EC(t,e,n){const i=Yc(e);if(i)for(let r=0;r<i.length;r++)n.push(i[r]);am(e,r=>{EC(t,r,n)})}function um(t,e){const n=Yc(e);if(n){let i=0;for(let r=0;r<n.length;r++)n[r].status!==2&&(n[i]=n[r],i++);n.length=i,vC(e,n.length>0?n:void 0)}am(e,i=>{um(t,i)})}function PC(t,e){const n=Af(kC(t,e)),i=zy(t.transactionQueueTree_,e);return jD(i,r=>{i1(t,r)}),i1(t,i),_C(i,r=>{i1(t,r)}),n}function i1(t,e){const n=Yc(e);if(n){const i=[];let r=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(Ie(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(Ie(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),r=r.concat(za(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&i.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?vC(e,void 0):n.length=s+1,hs(t.eventQueue_,Af(e),r);for(let o=0;o<i.length;o++)Gc(i[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c7(t){let e="";const n=t.split("/");for(let i=0;i<n.length;i++)if(n[i].length>0){let r=n[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch{}e+="/"+r}return e}function u7(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const i=n.split("=");i.length===2?e[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):Ri(`Invalid query segment '${n}' in query '${t}'`)}return e}const Jb=function(t,e){const n=h7(t),i=n.namespace;n.domain==="firebase.com"&&Gs(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||i==="undefined")&&n.domain!=="localhost"&&Gs("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||xO();const r=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new EN(n.host,n.secure,i,r,e,"",i!==n.subdomain),path:new Bt(n.pathString)}},h7=function(t){let e="",n="",i="",r="",s="",o=!0,a="https",l=443;if(typeof t=="string"){let c=t.indexOf("//");c>=0&&(a=t.substring(0,c-1),t=t.substring(c+2));let h=t.indexOf("/");h===-1&&(h=t.length);let f=t.indexOf("?");f===-1&&(f=t.length),e=t.substring(0,Math.min(h,f)),h<f&&(r=c7(t.substring(h,f)));const d=u7(t.substring(Math.min(t.length,f)));c=e.indexOf(":"),c>=0?(o=a==="https"||a==="wss",l=parseInt(e.substring(c+1),10)):c=e.length;const p=e.slice(0,c);if(p.toLowerCase()==="localhost")n="localhost";else if(p.split(".").length<=2)n=p;else{const w=e.indexOf(".");i=e.substring(0,w).toLowerCase(),n=e.substring(w+1),s=i}"ns"in d&&(s=d.ns)}return{host:e,port:l,domain:n,subdomain:i,secure:o,scheme:a,pathString:r,namespace:s}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f7{constructor(e,n,i,r){this.eventType=e,this.eventRegistration=n,this.snapshot=i,this.prevName=r}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Pn(this.snapshot.exportVal())}}class d7{constructor(e,n,i){this.eventRegistration=e,this.error=n,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p7{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return Ie(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vy{constructor(e,n,i,r){this._repo=e,this._path=n,this._queryParams=i,this._orderByCalled=r}get key(){return ht(this._path)?null:FN(this._path)}get ref(){return new Qs(this._repo,this._path)}get _queryIdentifier(){const e=Db(this._queryParams),n=yy(e);return n==="{}"?"default":n}get _queryObject(){return Db(this._queryParams)}isEqual(e){if(e=fr(e),!(e instanceof Vy))return!1;const n=this._repo===e._repo,i=zN(this._path,e._path),r=this._queryIdentifier===e._queryIdentifier;return n&&i&&r}toJSON(){return this.toString()}toString(){return this._repo.toString()+sM(this._path)}}class Qs extends Vy{constructor(e,n){super(e,n,new Cy,!1)}get parent(){const e=BN(this._path);return e===null?null:new Qs(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class lf{constructor(e,n,i){this._node=e,this.ref=n,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new Bt(e),i=Dv(this.ref,e);return new lf(this._node.getChild(n),i,ln)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(i,r)=>e(new lf(r,Dv(this.ref,i),ln)))}hasChild(e){const n=new Bt(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Or(t,e){return t=fr(t),t._checkNotDeleted("ref"),e!==void 0?Dv(t._root,e):t._root}function Dv(t,e){return t=fr(t),pt(t._path)===null?qD("child","path",e):xC("child","path",e),new Qs(t._repo,In(t._path,e))}function kg(t,e){t=fr(t),VD("set",t._path),WD("set",e,t._path);const n=new em;return i7(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function Va(t){t=fr(t);const e=new p7(()=>{}),n=new $y(e);return n7(t._repo,t,n).then(i=>new lf(i,new Qs(t._repo,t._path),t._queryParams.getIndex()))}class $y{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const i=n._queryParams.getIndex();return new f7("value",this,new lf(e.snapshotNode,new Qs(n._repo,n._path),i))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new d7(this,e,n):null}matches(e){return e instanceof $y?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}gD(Qs);wD(Qs);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g7="FIREBASE_DATABASE_EMULATOR_HOST",Fv={};let m7=!1;function v7(t,e,n,i){t.repoInfo_=new EN(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),i&&(t.authTokenProvider_=i)}function y7(t,e,n,i,r){let s=i||t.options.databaseURL;s===void 0&&(t.options.projectId||Gs("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),ri("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=Jb(s,r),a=o.repoInfo,l;typeof process<"u"&&yb&&(l=yb[g7]),l?(s=`http://${l}?ns=${a.namespace}`,o=Jb(s,r),a=o.repoInfo):o.repoInfo.secure;const c=new RO(t.name,t.options,e);$D("Invalid Firebase Database URL",o),ht(o.path)||Gs("Database URL must point to the root of a Firebase Database (not including a child path).");const h=w7(a,t,c,new TO(t.name,n));return new b7(h,t)}function _7(t,e){const n=Fv[e];(!n||n[t.key]!==t)&&Gs(`Database ${e}(${t.repoInfo_}) has already been deleted.`),s7(t),delete n[t.key]}function w7(t,e,n,i){let r=Fv[e.name];r||(r={},Fv[e.name]=r);let s=r[t.toURLString()];return s&&Gs("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new QD(t,m7,n,i),r[t.toURLString()]=s,s}class b7{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(ZD(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Qs(this._repo,xt())),this._rootInternal}_delete(){return this._rootInternal!==null&&(_7(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Gs("Cannot call "+e+" on a deleted database.")}}function Gy(t=uN(),e){const n=vy(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const i=V8("database");i&&x7(n,...i)}return n}function x7(t,e,n,i={}){t=fr(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&Gs("Cannot call useEmulator() after instance has already been initialized.");const r=t._repoInternal;let s;if(r.repoInfo_.nodeAdmin)i.mockUserToken&&Gs('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new Sp(Sp.OWNER);else if(i.mockUserToken){const o=typeof i.mockUserToken=="string"?i.mockUserToken:$8(i.mockUserToken,t.app.options.projectId);s=new Sp(o)}v7(r,e,n,s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S7(t){mO(Vc),Rc(new il("database",(e,{instanceIdentifier:n})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return y7(i,r,s,n)},"PUBLIC").setMultipleInstances(!0)),Yo(_b,wb,t),Yo(_b,wb,"esm2017")}zs.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};zs.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};S7();function Yy(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n}function IC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const N7=IC,LC=new bf("auth","Firebase",IC());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ag=new gy("@firebase/auth");function C7(t,...e){Ag.logLevel<=Rt.WARN&&Ag.warn(`Auth (${Vc}): ${t}`,...e)}function Np(t,...e){Ag.logLevel<=Rt.ERROR&&Ag.error(`Auth (${Vc}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ys(t,...e){throw Ky(t,...e)}function ls(t,...e){return Ky(t,...e)}function TC(t,e,n){const i=Object.assign(Object.assign({},N7()),{[e]:n});return new bf("auth","Firebase",i).create(e,{appName:t.name})}function Jo(t){return TC(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ky(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return LC.create(t,...e)}function Ze(t,e,...n){if(!t)throw Ky(e,...n)}function Ds(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Np(e),new Error(e)}function Ks(t,e){t||Ds(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jv(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function k7(){return Qb()==="http:"||Qb()==="https:"}function Qb(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A7(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(k7()||Y8()||"connection"in navigator)?navigator.onLine:!0}function E7(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ef{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ks(n>e,"Short delay should be less than long delay!"),this.isMobile=dy()||sN()}get(){return A7()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xy(t,e){Ks(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RC{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ds("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ds("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ds("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P7={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I7=new Ef(3e4,6e4);function hm(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Kc(t,e,n,i,r={}){return OC(t,r,async()=>{let s={},o={};i&&(e==="GET"?o=i:s={body:JSON.stringify(i)});const a=qc(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:l},s);return G8()||(c.referrerPolicy="no-referrer"),RC.fetch()(DC(t,t.config.apiHost,n,a),c)})}async function OC(t,e,n){t._canInitEmulator=!1;const i=Object.assign(Object.assign({},P7),e);try{const r=new L7(t),s=await Promise.race([n(),r.promise]);r.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Zd(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Zd(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Zd(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Zd(t,"user-disabled",o);const h=i[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw TC(t,h,c);Ys(t,h)}}catch(r){if(r instanceof fa)throw r;Ys(t,"network-request-failed",{message:String(r)})}}async function MC(t,e,n,i,r={}){const s=await Kc(t,e,n,i,r);return"mfaPendingCredential"in s&&Ys(t,"multi-factor-auth-required",{_serverResponse:s}),s}function DC(t,e,n,i){const r=`${e}${n}?${i}`;return t.config.emulator?Xy(t.config,r):`${t.config.apiScheme}://${r}`}class L7{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(ls(this.auth,"network-request-failed")),I7.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Zd(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const r=ls(t,e,i);return r.customData._tokenResponse=n,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T7(t,e){return Kc(t,"POST","/v1/accounts:delete",e)}async function FC(t,e){return Kc(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xh(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function R7(t,e=!1){const n=fr(t),i=await n.getIdToken(e),r=Jy(i);Ze(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");const s=typeof r.firebase=="object"?r.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:r,token:i,authTime:xh(r1(r.auth_time)),issuedAtTime:xh(r1(r.iat)),expirationTime:xh(r1(r.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function r1(t){return Number(t)*1e3}function Jy(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return Np("JWT malformed, contained fewer than 3 sections"),null;try{const r=ug(n);return r?JSON.parse(r):(Np("Failed to decode base64 JWT payload"),null)}catch(r){return Np("Caught error parsing JWT payload as JSON",r==null?void 0:r.toString()),null}}function Zb(t){const e=Jy(t);return Ze(e,"internal-error"),Ze(typeof e.exp<"u","internal-error"),Ze(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cf(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof fa&&O7(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function O7({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M7{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bv{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=xh(this.lastLoginAt),this.creationTime=xh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Eg(t){var e;const n=t.auth,i=await t.getIdToken(),r=await cf(t,FC(n,{idToken:i}));Ze(r==null?void 0:r.users.length,n,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?jC(s.providerUserInfo):[],a=F7(t.providerData,o),l=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),h=l?c:!1,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Bv(s.createdAt,s.lastLoginAt),isAnonymous:h};Object.assign(t,f)}async function D7(t){const e=fr(t);await Eg(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function F7(t,e){return[...t.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}function jC(t){return t.map(e=>{var{providerId:n}=e,i=Yy(e,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j7(t,e){const n=await OC(t,{},async()=>{const i=qc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:s}=t.config,o=DC(t,r,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",RC.fetch()(o,{method:"POST",headers:a,body:i})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function B7(t,e){return Kc(t,"POST","/v2/accounts:revokeToken",hm(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ze(e.idToken,"internal-error"),Ze(typeof e.idToken<"u","internal-error"),Ze(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Zb(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ze(e.length!==0,"internal-error");const n=Zb(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ze(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:r,expiresIn:s}=await j7(e,n);this.updateTokensAndExpiration(i,r,Number(s))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:r,expirationTime:s}=n,o=new bc;return i&&(Ze(typeof i=="string","internal-error",{appName:e}),o.refreshToken=i),r&&(Ze(typeof r=="string","internal-error",{appName:e}),o.accessToken=r),s&&(Ze(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new bc,this.toJSON())}_performRefresh(){return Ds("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function go(t,e){Ze(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Fs{constructor(e){var{uid:n,auth:i,stsTokenManager:r}=e,s=Yy(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new M7(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Bv(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await cf(this,this.stsTokenManager.getToken(this.auth,e));return Ze(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return R7(this,e)}reload(){return D7(this)}_assign(e){this!==e&&(Ze(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Fs(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ze(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await Eg(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Os(this.auth.app))return Promise.reject(Jo(this.auth));const e=await this.getIdToken();return await cf(this,T7(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var i,r,s,o,a,l,c,h;const f=(i=n.displayName)!==null&&i!==void 0?i:void 0,d=(r=n.email)!==null&&r!==void 0?r:void 0,p=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,w=(o=n.photoURL)!==null&&o!==void 0?o:void 0,y=(a=n.tenantId)!==null&&a!==void 0?a:void 0,S=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,m=(c=n.createdAt)!==null&&c!==void 0?c:void 0,_=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:x,emailVerified:N,isAnonymous:k,providerData:O,stsTokenManager:I}=n;Ze(x&&I,e,"internal-error");const A=bc.fromJSON(this.name,I);Ze(typeof x=="string",e,"internal-error"),go(f,e.name),go(d,e.name),Ze(typeof N=="boolean",e,"internal-error"),Ze(typeof k=="boolean",e,"internal-error"),go(p,e.name),go(w,e.name),go(y,e.name),go(S,e.name),go(m,e.name),go(_,e.name);const U=new Fs({uid:x,auth:e,email:d,emailVerified:N,displayName:f,isAnonymous:k,photoURL:w,phoneNumber:p,tenantId:y,stsTokenManager:A,createdAt:m,lastLoginAt:_});return O&&Array.isArray(O)&&(U.providerData=O.map(W=>Object.assign({},W))),S&&(U._redirectEventId=S),U}static async _fromIdTokenResponse(e,n,i=!1){const r=new bc;r.updateFromServerResponse(n);const s=new Fs({uid:n.localId,auth:e,stsTokenManager:r,isAnonymous:i});return await Eg(s),s}static async _fromGetAccountInfoResponse(e,n,i){const r=n.users[0];Ze(r.localId!==void 0,"internal-error");const s=r.providerUserInfo!==void 0?jC(r.providerUserInfo):[],o=!(r.email&&r.passwordHash)&&!(s!=null&&s.length),a=new bc;a.updateFromIdToken(i);const l=new Fs({uid:r.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:s,metadata:new Bv(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ex=new Map;function js(t){Ks(t instanceof Function,"Expected a class definition");let e=ex.get(t);return e?(Ks(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,ex.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BC{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}BC.type="NONE";const tx=BC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cp(t,e,n){return`firebase:${t}:${e}:${n}`}class xc{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:r,name:s}=this.auth;this.fullUserKey=Cp(this.userKey,r.apiKey,s),this.fullPersistenceKey=Cp("persistence",r.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Fs._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new xc(js(tx),e,i);const r=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=r[0]||js(tx);const o=Cp(i,e.config.apiKey,e.name);let a=null;for(const c of n)try{const h=await c._get(o);if(h){const f=Fs._fromJSON(e,h);c!==s&&(a=f),s=c;break}}catch{}const l=r.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new xc(s,e,i):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new xc(s,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nx(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(WC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(zC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(VC(e))return"Blackberry";if($C(e))return"Webos";if(UC(e))return"Safari";if((e.includes("chrome/")||HC(e))&&!e.includes("edge/"))return"Chrome";if(qC(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function zC(t=gi()){return/firefox\//i.test(t)}function UC(t=gi()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function HC(t=gi()){return/crios\//i.test(t)}function WC(t=gi()){return/iemobile/i.test(t)}function qC(t=gi()){return/android/i.test(t)}function VC(t=gi()){return/blackberry/i.test(t)}function $C(t=gi()){return/webos/i.test(t)}function Qy(t=gi()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function z7(t=gi()){var e;return Qy(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function U7(){return K8()&&document.documentMode===10}function GC(t=gi()){return Qy(t)||qC(t)||$C(t)||VC(t)||/windows phone/i.test(t)||WC(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YC(t,e=[]){let n;switch(t){case"Browser":n=nx(gi());break;case"Worker":n=`${nx(gi())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Vc}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H7{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});i.onAbort=n,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const r of n)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function W7(t,e={}){return Kc(t,"GET","/v2/passwordPolicy",hm(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q7=6;class V7{constructor(e){var n,i,r,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:q7,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,i,r,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(i=l.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(r=l.containsLowercaseLetter)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),r&&(n.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let r=0;r<e.length;r++)i=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,r,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $7{constructor(e,n,i,r){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ix(this),this.idTokenSubscription=new ix(this),this.beforeStateQueue=new H7(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=LC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=js(n)),this._initializationPromise=this.queue(async()=>{var i,r;if(!this._deleted&&(this.persistenceManager=await xc.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((r=this.currentUser)===null||r===void 0?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await FC(this,{idToken:e}),i=await Fs._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Os(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(r=l.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ze(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Eg(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=E7()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Os(this.app))return Promise.reject(Jo(this));const n=e?fr(e):null;return n&&Ze(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ze(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Os(this.app)?Promise.reject(Jo(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Os(this.app)?Promise.reject(Jo(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(js(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await W7(this),n=new V7(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new bf("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await B7(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&js(e)||this._popupRedirectResolver;Ze(n,this,"argument-error"),this.redirectPersistenceManager=await xc.create(this,[js(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,r){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ze(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,i,r);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ze(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=YC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(n["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(n["X-Firebase-AppCheck"]=r),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&C7(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function fm(t){return fr(t)}class ix{constructor(e){this.auth=e,this.observer=null,this.addObserver=sR(n=>this.observer=n)}get next(){return Ze(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zy={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function G7(t){Zy=t}function Y7(t){return Zy.loadJS(t)}function K7(){return Zy.gapiScript}function X7(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J7(t,e){const n=vy(t,"auth");if(n.isInitialized()){const r=n.getImmediate(),s=n.getOptions();if(fg(s,e??{}))return r;Ys(r,"already-initialized")}return n.initialize({options:e})}function Q7(t,e){const n=(e==null?void 0:e.persistence)||[],i=(Array.isArray(n)?n:[n]).map(js);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function Z7(t,e,n){const i=fm(t);Ze(i._canInitEmulator,i,"emulator-config-failed"),Ze(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const r=!1,s=KC(e),{host:o,port:a}=eF(e),l=a===null?"":`:${a}`;i.config.emulator={url:`${s}//${o}${l}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:r})}),tF()}function KC(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function eF(t){const e=KC(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const s=r[1];return{host:s,port:rx(i.substr(s.length+1))}}else{const[s,o]=i.split(":");return{host:s,port:rx(o)}}}function rx(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function tF(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XC{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ds("not implemented")}_getIdTokenResponse(e){return Ds("not implemented")}_linkToIdToken(e,n){return Ds("not implemented")}_getReauthenticationResolver(e){return Ds("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sc(t,e){return MC(t,"POST","/v1/accounts:signInWithIdp",hm(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nF="http://localhost";class al extends XC{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new al(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ys("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:r}=n,s=Yy(n,["providerId","signInMethod"]);if(!i||!r)return null;const o=new al(i,r);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Sc(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,Sc(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Sc(e,n)}buildRequest(){const e={requestUri:nF,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=qc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JC{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pf extends JC{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No extends Pf{constructor(){super("facebook.com")}static credential(e){return al._fromParams({providerId:No.PROVIDER_ID,signInMethod:No.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return No.credentialFromTaggedObject(e)}static credentialFromError(e){return No.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return No.credential(e.oauthAccessToken)}catch{return null}}}No.FACEBOOK_SIGN_IN_METHOD="facebook.com";No.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co extends Pf{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return al._fromParams({providerId:Co.PROVIDER_ID,signInMethod:Co.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Co.credentialFromTaggedObject(e)}static credentialFromError(e){return Co.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return Co.credential(n,i)}catch{return null}}}Co.GOOGLE_SIGN_IN_METHOD="google.com";Co.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko extends Pf{constructor(){super("github.com")}static credential(e){return al._fromParams({providerId:ko.PROVIDER_ID,signInMethod:ko.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ko.credentialFromTaggedObject(e)}static credentialFromError(e){return ko.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ko.credential(e.oauthAccessToken)}catch{return null}}}ko.GITHUB_SIGN_IN_METHOD="github.com";ko.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao extends Pf{constructor(){super("twitter.com")}static credential(e,n){return al._fromParams({providerId:Ao.PROVIDER_ID,signInMethod:Ao.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ao.credentialFromTaggedObject(e)}static credentialFromError(e){return Ao.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return Ao.credential(n,i)}catch{return null}}}Ao.TWITTER_SIGN_IN_METHOD="twitter.com";Ao.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iF(t,e){return MC(t,"POST","/v1/accounts:signUp",hm(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,r=!1){const s=await Fs._fromIdTokenResponse(e,i,r),o=sx(i);return new sa({user:s,providerId:o,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const r=sx(i);return new sa({user:e,providerId:r,_tokenResponse:i,operationType:n})}}function sx(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rF(t){var e;if(Os(t.app))return Promise.reject(Jo(t));const n=fm(t);if(await n._initializationPromise,!((e=n.currentUser)===null||e===void 0)&&e.isAnonymous)return new sa({user:n.currentUser,providerId:null,operationType:"signIn"});const i=await iF(n,{returnSecureToken:!0}),r=await sa._fromIdTokenResponse(n,"signIn",i,!0);return await n._updateCurrentUser(r.user),r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pg extends fa{constructor(e,n,i,r){var s;super(n.code,n.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,Pg.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,r){return new Pg(e,n,i,r)}}function QC(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Pg._fromErrorAndOperation(t,s,e,i):s})}async function sF(t,e,n=!1){const i=await cf(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return sa._forOperation(t,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oF(t,e,n=!1){const{auth:i}=t;if(Os(i.app))return Promise.reject(Jo(i));const r="reauthenticate";try{const s=await cf(t,QC(i,r,e,t),n);Ze(s.idToken,i,"internal-error");const o=Jy(s.idToken);Ze(o,i,"internal-error");const{sub:a}=o;return Ze(t.uid===a,i,"user-mismatch"),sa._forOperation(t,r,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Ys(i,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aF(t,e,n=!1){if(Os(t.app))return Promise.reject(Jo(t));const i="signIn",r=await QC(t,i,e),s=await sa._fromIdTokenResponse(t,i,r);return n||await t._updateCurrentUser(s.user),s}function lF(t,e,n,i){return fr(t).onIdTokenChanged(e,n,i)}function cF(t,e,n){return fr(t).beforeAuthStateChanged(e,n)}const Ig="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZC{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ig,"1"),this.storage.removeItem(Ig),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uF=1e3,hF=10;class ek extends ZC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=GC(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),r=this.localCache[n];i!==r&&e(n,r,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const i=e.key;n?this.detachListener():this.stopPolling();const r=()=>{const o=this.storage.getItem(i);!n&&this.localCache[i]===o||this.notifyListeners(i,o)},s=this.storage.getItem(i);U7()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,hF):r()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},uF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}ek.type="LOCAL";const fF=ek;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tk extends ZC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}tk.type="SESSION";const nk=tk;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dF(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(r=>r.isListeningto(e));if(n)return n;const i=new dm(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:r,data:s}=n.data,o=this.handlersMap[r];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const a=Array.from(o).map(async c=>c(n.origin,s)),l=await dF(a);n.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}dm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e5(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pF{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const c=e5("",20);r.port1.start();const h=setTimeout(()=>{l(new Error("unsupported_event"))},i);o={messageChannel:r,onMessage(f){const d=f;if(d.data.eventId===c)switch(d.data.status){case"ack":clearTimeout(h),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(d.data.response);break;default:clearTimeout(h),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[r.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cs(){return window}function gF(t){cs().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ik(){return typeof cs().WorkerGlobalScope<"u"&&typeof cs().importScripts=="function"}async function mF(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function vF(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function yF(){return ik()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rk="firebaseLocalStorageDb",_F=1,Lg="firebaseLocalStorage",sk="fbase_key";class If{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function pm(t,e){return t.transaction([Lg],e?"readwrite":"readonly").objectStore(Lg)}function wF(){const t=indexedDB.deleteDatabase(rk);return new If(t).toPromise()}function zv(){const t=indexedDB.open(rk,_F);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(Lg,{keyPath:sk})}catch(r){n(r)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(Lg)?e(i):(i.close(),await wF(),e(await zv()))})})}async function ox(t,e,n){const i=pm(t,!0).put({[sk]:e,value:n});return new If(i).toPromise()}async function bF(t,e){const n=pm(t,!1).get(e),i=await new If(n).toPromise();return i===void 0?null:i.value}function ax(t,e){const n=pm(t,!0).delete(e);return new If(n).toPromise()}const xF=800,SF=3;class ok{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await zv(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>SF)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ik()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=dm._getInstance(yF()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await mF(),!this.activeServiceWorker)return;this.sender=new pF(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((n=i[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||vF()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await zv();return await ox(e,Ig,"1"),await ax(e,Ig),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>ox(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>bF(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>ax(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(r=>{const s=pm(r,!1).getAll();return new If(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:r,value:s}of e)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(s)&&(this.notifyListeners(r,s),n.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),n.push(r));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),xF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}ok.type="LOCAL";const NF=ok;new Ef(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CF(t,e){return e?js(e):(Ze(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t5 extends XC{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Sc(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Sc(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Sc(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function kF(t){return aF(t.auth,new t5(t),t.bypassAuthState)}function AF(t){const{auth:e,user:n}=t;return Ze(n,e,"internal-error"),oF(n,new t5(t),t.bypassAuthState)}async function EF(t){const{auth:e,user:n}=t;return Ze(n,e,"internal-error"),sF(n,new t5(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ak{constructor(e,n,i,r,s=!1){this.auth=e,this.resolver=i,this.user=r,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:r,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:i,tenantId:s||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return kF;case"linkViaPopup":case"linkViaRedirect":return EF;case"reauthViaPopup":case"reauthViaRedirect":return AF;default:Ys(this.auth,"internal-error")}}resolve(e){Ks(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ks(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PF=new Ef(2e3,1e4);class cc extends ak{constructor(e,n,i,r,s){super(e,n,r,s),this.provider=i,this.authWindow=null,this.pollId=null,cc.currentPopupAction&&cc.currentPopupAction.cancel(),cc.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ze(e,this.auth,"internal-error"),e}async onExecution(){Ks(this.filter.length===1,"Popup operations only handle one event");const e=e5();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ls(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ls(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,cc.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,i;if(!((i=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ls(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,PF.get())};e()}}cc.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IF="pendingRedirect",kp=new Map;class LF extends ak{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=kp.get(this.auth._key());if(!e){try{const i=await TF(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}kp.set(this.auth._key(),e)}return this.bypassAuthState||kp.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function TF(t,e){const n=MF(e),i=OF(t);if(!await i._isAvailable())return!1;const r=await i._get(n)==="true";return await i._remove(n),r}function RF(t,e){kp.set(t._key(),e)}function OF(t){return js(t._redirectPersistence)}function MF(t){return Cp(IF,t.config.apiKey,t.name)}async function DF(t,e,n=!1){if(Os(t.app))return Promise.reject(Jo(t));const i=fm(t),r=CF(i,e),o=await new LF(i,r,n).execute();return o&&!n&&(delete o.user._redirectEventId,await i._persistUserIfCurrent(o.user),await i._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FF=10*60*1e3;class jF{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!BF(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!lk(e)){const r=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(ls(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=FF&&this.cachedEventUids.clear(),this.cachedEventUids.has(lx(e))}saveEventToCache(e){this.cachedEventUids.add(lx(e)),this.lastProcessedEventTime=Date.now()}}function lx(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function lk({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function BF(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return lk(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zF(t,e={}){return Kc(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UF=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,HF=/^https?/;async function WF(t){if(t.config.emulator)return;const{authorizedDomains:e}=await zF(t);for(const n of e)try{if(qF(n))return}catch{}Ys(t,"unauthorized-domain")}function qF(t){const e=jv(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===i}if(!HF.test(n))return!1;if(UF.test(t))return i===t;const r=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VF=new Ef(3e4,6e4);function cx(){const t=cs().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function $F(t){return new Promise((e,n)=>{var i,r,s;function o(){cx(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{cx(),n(ls(t,"network-request-failed"))},timeout:VF.get()})}if(!((r=(i=cs().gapi)===null||i===void 0?void 0:i.iframes)===null||r===void 0)&&r.Iframe)e(gapi.iframes.getContext());else if(!((s=cs().gapi)===null||s===void 0)&&s.load)o();else{const a=X7("iframefcb");return cs()[a]=()=>{gapi.load?o():n(ls(t,"network-request-failed"))},Y7(`${K7()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Ap=null,e})}let Ap=null;function GF(t){return Ap=Ap||$F(t),Ap}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YF=new Ef(5e3,15e3),KF="__/auth/iframe",XF="emulator/auth/iframe",JF={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},QF=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ZF(t){const e=t.config;Ze(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Xy(e,XF):`https://${t.config.authDomain}/${KF}`,i={apiKey:e.apiKey,appName:t.name,v:Vc},r=QF.get(t.config.apiHost);r&&(i.eid=r);const s=t._getFrameworks();return s.length&&(i.fw=s.join(",")),`${n}?${qc(i).slice(1)}`}async function ej(t){const e=await GF(t),n=cs().gapi;return Ze(n,t,"internal-error"),e.open({where:document.body,url:ZF(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:JF,dontclear:!0},i=>new Promise(async(r,s)=>{await i.restyle({setHideOnLeave:!1});const o=ls(t,"network-request-failed"),a=cs().setTimeout(()=>{s(o)},YF.get());function l(){cs().clearTimeout(a),r(i)}i.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tj={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},nj=500,ij=600,rj="_blank",sj="http://localhost";class ux{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function oj(t,e,n,i=nj,r=ij){const s=Math.max((window.screen.availHeight-r)/2,0).toString(),o=Math.max((window.screen.availWidth-i)/2,0).toString();let a="";const l=Object.assign(Object.assign({},tj),{width:i.toString(),height:r.toString(),top:s,left:o}),c=gi().toLowerCase();n&&(a=HC(c)?rj:n),zC(c)&&(e=e||sj,l.scrollbars="yes");const h=Object.entries(l).reduce((d,[p,w])=>`${d}${p}=${w},`,"");if(z7(c)&&a!=="_self")return aj(e||"",a),new ux(null);const f=window.open(e||"",a,h);Ze(f,t,"popup-blocked");try{f.focus()}catch{}return new ux(f)}function aj(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lj="__/auth/handler",cj="emulator/auth/handler",uj=encodeURIComponent("fac");async function hx(t,e,n,i,r,s){Ze(t.config.authDomain,t,"auth-domain-config-required"),Ze(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:Vc,eventId:r};if(e instanceof JC){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",bv(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,f]of Object.entries({}))o[h]=f}if(e instanceof Pf){const h=e.getScopes().filter(f=>f!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const h of Object.keys(a))a[h]===void 0&&delete a[h];const l=await t._getAppCheckToken(),c=l?`#${uj}=${encodeURIComponent(l)}`:"";return`${hj(t)}?${qc(a).slice(1)}${c}`}function hj({config:t}){return t.emulator?Xy(t,cj):`https://${t.authDomain}/${lj}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s1="webStorageSupport";class fj{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=nk,this._completeRedirectFn=DF,this._overrideRedirectResult=RF}async _openPopup(e,n,i,r){var s;Ks((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await hx(e,n,i,jv(),r);return oj(e,o,e5())}async _openRedirect(e,n,i,r){await this._originValidation(e);const s=await hx(e,n,i,jv(),r);return gF(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:r,promise:s}=this.eventManagers[n];return r?Promise.resolve(r):(Ks(s,"If manager is not set, promise should be"),s)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await ej(e),i=new jF(e);return n.register("authEvent",r=>(Ze(r==null?void 0:r.authEvent,e,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(s1,{type:s1},r=>{var s;const o=(s=r==null?void 0:r[0])===null||s===void 0?void 0:s[s1];o!==void 0&&n(!!o),Ys(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=WF(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return GC()||UC()||Qy()}}const dj=fj;var fx="@firebase/auth",dx="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pj{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ze(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gj(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function mj(t){Rc(new il("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=i.options;Ze(o&&!o.includes(":"),"invalid-api-key",{appName:i.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:YC(t)},c=new $7(i,r,s,l);return Q7(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),Rc(new il("auth-internal",e=>{const n=fm(e.getProvider("auth").getImmediate());return(i=>new pj(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Yo(fx,dx,gj(t)),Yo(fx,dx,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vj=5*60,yj=rN("authIdTokenMaxAge")||vj;let px=null;const _j=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>yj)return;const r=n==null?void 0:n.token;px!==r&&(px=r,await fetch(t,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function n5(t=uN()){const e=vy(t,"auth");if(e.isInitialized())return e.getImmediate();const n=J7(t,{popupRedirectResolver:dj,persistence:[NF,fF,nk]}),i=rN("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(i,location.origin);if(location.origin===s.origin){const o=_j(s.toString());cF(n,o,()=>o(n.currentUser)),lF(n,a=>o(a))}}const r=nN("auth");return r&&Z7(n,`http://${r}`),n}function wj(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}G7({loadJS(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=r=>{const s=ls("internal-error");s.customData=r,n(s)},i.type="text/javascript",i.charset="UTF-8",wj().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});mj("Browser");var bj="firebase",xj="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Yo(bj,xj,"app");const Sj={apiKey:"AIzaSyDXtvrCHrjU_e0v46BbWiBb-e-lAviCSR0",authDomain:"shearers-4c4b4.firebaseapp.com",databaseURL:"https://shearers-4c4b4-default-rtdb.firebaseio.com",projectId:"shearers-4c4b4",storageBucket:"shearers-4c4b4.firebasestorage.app",messagingSenderId:"178658388175",appId:"1:178658388175:web:f85bf8ecb0c88570222fba",measurementId:"G-DG6MNF459P"},Xc=cN(Sj);wf.register(_v,wv,xp,m8,G4,q4);const ep=Gy(Xc),qu=n5(Xc),Vu=Array.from({length:14},(t,e)=>({head:e+1,offline:"Active",issue:"None",repaired:"Not Fixed",notes:""})),Nj=["None","Chute","Operator","Load Cell","Detached Head","Stepper Motor Error","Hopper Issues","Installed Wrong"];function gx({data:t,setData:e,dates:n,setDates:i}){var J;const r=yf(),{selectedDate:s,selectedLine:o}=r.state||{},[a,l]=we.useState(()=>{const j=localStorage.getItem("downtimeLoggerDates");let ne=[];if(j)try{ne=JSON.parse(j).filter(re=>re.match(/^\d{4}-\d{2}-\d{2}$/))}catch(re){console.error("Failed to parse downtimeLoggerDates from localStorage:",re,j),ne=[]}else ne=n.map(re=>typeof re=="object"&&re!==null?re.date||"":re.toString());return Array(5).fill("").map((re,le)=>ne[le]||"")}),[c,h]=we.useState(()=>{const j=localStorage.getItem("currentDay");if(j)try{return JSON.parse(j)}catch(ne){return console.error("Failed to parse currentDay from localStorage:",ne,j),a.find(re=>re)||"2025-07-10"}return a.find(ne=>ne)||"2025-07-10"}),[f,d]=we.useState(o||"Line 1"),[p,w]=we.useState({}),[y,S]=we.useState(null);we.useEffect(()=>{rF(qu).then(()=>{console.log("Signed in anonymously"),S(null)}).catch(j=>{console.error("Anonymous authentication failed:",j),S(j.message)})},[]),we.useEffect(()=>{localStorage.setItem("downtimeLoggerData",JSON.stringify(t))},[t]),we.useEffect(()=>{const j=a.filter(ne=>ne);localStorage.setItem("downtimeLoggerDates",JSON.stringify(j)),i(j)},[a,i]),we.useEffect(()=>{localStorage.setItem("currentDay",JSON.stringify(c))},[c]),we.useEffect(()=>{s&&h(s),o&&d(o)},[s,o]),we.useEffect(()=>{const j=a.filter(ne=>ne);j.length>0&&!j.includes(c)&&h(j[0])},[a]),we.useEffect(()=>{const j={};a.filter(ne=>ne).forEach(ne=>{const le=(t[ne]||{})[f]||{heads:Vu},ye=le.heads.filter(Ce=>Ce.offline!=="Active").length,me=le.heads.filter(Ce=>Ce.offline!=="Active"&&Ce.repaired==="Fixed").length;j[ne]={offline:ye,fixed:me}}),w(j)},[t,f,a]);const m=j=>{e(ne=>{const re={...ne},le={...re[c]||{}},ye=le[f]||{heads:Vu,machineNotes:"",running:!1},me=typeof j=="function"?j(ye):{...ye,...j};return re[c]={...le,[f]:me},re})},_=()=>{window.confirm("Clear all data, dates, and summary?")&&(localStorage.removeItem("downtimeLoggerData"),localStorage.removeItem("downtimeLoggerDates"),localStorage.removeItem("currentDay"),e({}),l(Array(5).fill("")),i([]),h("2025-07-10"),window.location.reload())},x=()=>{window.confirm("Reset current line to defaults?")&&m(()=>({heads:Vu,machineNotes:"",running:!1}))},N=j=>{var le;const ne=(le=j.target.files)==null?void 0:le[0];if(!ne)return;if(ne.size===0){alert("Imported file is empty.");return}const re=new FileReader;re.onload=()=>{try{const ye=JSON.parse(re.result);if(!ye||typeof ye!="object"&&!Array.isArray(ye))throw new Error("Invalid JSON format.");if(ye.data&&ye.dates){const me=ye.dates.map(Be=>typeof Be=="object"?Be.date||"":Be).filter(Be=>typeof Be=="string"&&Be.match(/^\d{4}-\d{2}-\d{2}$/));if(me.length===0&&ye.dates.length>0)throw new Error("Invalid dates in imported data.");e(ye.data);const Ce=Array(5).fill("").map((Be,ge)=>me[ge]||"");l(Ce),i(me);const Pe=ye.currentDay&&me.includes(ye.currentDay)?ye.currentDay:me[0]||"2025-07-10";h(Pe),alert("Full data imported successfully.");return}if(Array.isArray(ye)){if(ye.length>0&&!ye[0].date)throw new Error('Summary entries must include "date" field.');localStorage.setItem("summaryEntries",JSON.stringify(ye)),e(Be=>{const ge={};return a.forEach(te=>ge[te]={...Be[te]||{}}),ye.forEach(te=>{if(!te.date||!te.line){console.warn("Skipping invalid summary entry:",te);return}const Je=Vu.map(Ae=>({...Ae})),Ue=parseInt(te.offlineHeads,10)-1;Ue>=0&&Ue<Je.length&&(Je[Ue]={...Je[Ue],offline:"Offline",issue:te.issues||"None",notes:te.notes||"",repaired:te.repaired?"Fixed":"Not Fixed",running:!!te.running}),ge[te.date]=ge[te.date]||{},ge[te.date][f]={heads:Je,machineNotes:te.machineNotes||"",running:!!te.running}}),ge});const me=Array.from(new Set(ye.map(Be=>Be.date).filter(Boolean))),Ce=[...new Set([...a.filter(Be=>Be),...me])].slice(0,5),Pe=Array(5).fill("").map((Be,ge)=>Ce[ge]||"");l(Pe),i(Ce),h(ye[0].date||a[0]||"2025-07-10"),alert("Summary data imported and converted successfully.");return}throw new Error("Unsupported JSON format. Expected {data, dates} or array of summary entries.")}catch(ye){alert("Import failed: "+ye.message)}},re.readAsText(ne),j.target.value=""},k=()=>{if(Object.keys(t).length===0&&n.length===0){alert("No data to export.");return}const j={data:t,dates:n,currentDay:c},ne=new Blob([JSON.stringify(j,null,2)],{type:"application/json"}),re=URL.createObjectURL(ne),le=document.createElement("a");le.href=re,le.download="downtime-logger-data.json",le.click(),URL.revokeObjectURL(re),alert("Data exported successfully.")},O=async()=>{const j=[];if(Object.keys(t).forEach(me=>{const Ce=t[me]||{};Object.keys(Ce).forEach(Pe=>{const Be=Ce[Pe];Be.running&&Be.heads.filter(ge=>ge.offline!=="Active").forEach(ge=>{j.push({date:me,line:Pe,head:ge.head,issue:ge.issue,repaired:ge.repaired,notes:ge.notes||""})})})}),j.length===0)return;let ne=[];try{const me=await Va(Or(ep,`user-history/${qu.currentUser.uid}`));me.exists()&&(ne=me.val())}catch(me){console.error("Failed to load history",me)}const re=localStorage.getItem("importedHistory");if(re)try{ne=[...ne,...JSON.parse(re)]}catch{}const le=new Set,ye=[];[...ne,...j].forEach(me=>{const Ce=`${me.date}-${me.line}-${me.head}-${me.issue}`;le.has(Ce)||(le.add(Ce),ye.push(me))});try{await kg(Or(ep,`user-history/${qu.currentUser.uid}`),ye),localStorage.setItem("importedHistory",JSON.stringify(ye))}catch(me){console.error("Failed to save merged history",me)}},I=async()=>{if(!qu.currentUser){alert("Please wait for authentication to complete.");return}if(Object.keys(t).length===0&&n.length===0){alert("No data to save to cloud.");return}try{await kg(Or(ep,"downtime-logger-data"),{data:t,dates:n,currentDay:c}),await O(),alert("Data + head history saved to cloud successfully!")}catch(j){console.error("Error saving to cloud:",j),alert("Failed to save to cloud: "+j.message)}},A=async()=>{try{if(qu.currentUser==null){alert("Please wait for authentication to complete.");return}const j=Or(ep,"downtime-logger-data"),ne=await Va(j);if(!ne.exists())throw new Error("No data found in cloud storage.");const re=ne.val();if(!re||typeof re!="object"&&!Array.isArray(re))throw new Error("Invalid JSON format.");if(re.data&&re.dates){const le=re.dates.map(Ce=>typeof Ce=="object"?Ce.date||"":Ce).filter(Ce=>typeof Ce=="string"&&Ce.match(/^\d{4}-\d{2}-\d{2}$/));if(le.length===0&&re.dates.length>0)throw new Error("Invalid dates in imported data.");e(re.data);const ye=Array(5).fill("").map((Ce,Pe)=>le[Pe]||"");l(ye),i(le);const me=re.currentDay&&le.includes(re.currentDay)?re.currentDay:le[0]||"2025-07-10";h(me),alert("Data loaded from cloud successfully.");return}throw new Error("Unsupported JSON format. Expected {data, dates} or array of summary entries.")}catch(j){console.error("Error loading from cloud:",j),alert("Failed to load from cloud: "+j.message)}},U=()=>m(j=>({...j,running:!j.running})),W=Array.from({length:39},(j,ne)=>"Line "+(ne+1)),E=()=>{const j=W.indexOf(f);d(W[(j-1+W.length)%W.length])},P=()=>{const j=W.indexOf(f);d(W[(j+1)%W.length])},K=((J=t[c])==null?void 0:J[f])||{heads:Vu,machineNotes:"",running:!1},{heads:D,machineNotes:Q,running:H}=K,$=D.filter(j=>j.offline!=="Active").map(j=>ee.jsx("span",{className:j.repaired==="Fixed"?"text-blue-500":"text-red-500",children:j.head},j.head)).reduce((j,ne,re)=>re===0?[ne]:[j,", ",ne],[])||"None",B=(j,ne,re)=>m(le=>{const ye=le.heads.map((me,Ce)=>Ce===j?{...me,[ne]:re}:me);return{...le,heads:ye}}),G=j=>m(ne=>({...ne,machineNotes:j})),ie=j=>m(ne=>{const re=ne.heads.map((le,ye)=>ye===j?{...le,offline:le.offline==="Active"?"Offline":"Active"}:le);return{...ne,heads:re}}),ue=j=>m(ne=>{const re=ne.heads.map((le,ye)=>ye===j?{...le,repaired:le.repaired==="Not Fixed"?"Fixed":"Not Fixed"}:le);return{...ne,heads:re}}),L=(j,ne)=>{const re=a[j];if(re===ne)return;const le=[...a];le[j]=ne,l(le),c===re&&h(ne),e(ye=>{const me={...ye};return me[re]&&(me[ne]=me[re],delete me[re]),me})},q=j=>j.offline==="Active"?"bg-green-200":j.repaired==="Fixed"?"bg-orange-200":"bg-red-200",Y={labels:a.filter(j=>j),datasets:[{label:"Offline Heads",data:a.filter(j=>j).map(j=>{var ne;return((ne=p[j])==null?void 0:ne.offline)||0}),backgroundColor:"#FF6384"},{label:"Fixed Heads",data:a.filter(j=>j).map(j=>{var ne;return((ne=p[j])==null?void 0:ne.fixed)||0}),backgroundColor:"#36A2EB"}]};return ee.jsxs("div",{className:"max-w-4xl mx-auto p-6 bg-white rounded-lg shadow-md md:p-4 sm:p-2",children:[ee.jsx("h2",{className:"text-2xl font-semibold text-center mb-4 sm:text-xl",children:"Downtime Logger"}),ee.jsxs("div",{className:"flex justify-between mb-4",children:[ee.jsx(oi,{to:"/summary",className:"px-4 py-2 bg-blue-500 text-white rounded sm:px-2 sm:py-1",children:"View Summary"}),ee.jsx(oi,{to:"/dashboard",className:"px-4 py-2 bg-indigo-500 text-white rounded sm:px-2 sm:py-1",children:"Dashboard"}),ee.jsx(oi,{to:"/running",className:"px-4 py-2 bg-purple-500 text-white rounded sm:px-2 sm:py-1",children:"Running"})]}),y&&ee.jsx("p",{className:"text-red-500 text-center mb-4",children:y}),ee.jsxs("div",{className:"flex justify-center items-center mb-4 space-x-4 sm:flex-col sm:space-x-0 sm:space-y-2",children:[ee.jsx("label",{className:"font-medium",children:"Select Date:"}),ee.jsx("select",{value:c,onChange:j=>h(j.target.value),className:"border p-2 rounded sm:w-full",children:a.filter(j=>j).length===0?ee.jsx("option",{value:"2025-07-10",children:"2025-07-10 (Default)"}):a.filter(j=>j).map((j,ne)=>ee.jsx("option",{value:j,children:j},j+"-"+ne))})]}),ee.jsx("div",{className:"grid grid-cols-5 gap-2 mb-4 sm:grid-cols-2 sm:gap-1",children:a.map((j,ne)=>ee.jsx("input",{type:"date",value:j,onChange:re=>L(ne,re.target.value),className:"border p-2 rounded sm:p-1 sm:text-sm"},ne))}),ee.jsxs("div",{className:"flex justify-center items-center mb-4 space-x-4 sm:flex-col sm:space-x-0 sm:space-y-2",children:[ee.jsx("label",{className:"font-medium",children:"Select Line:"}),ee.jsx("select",{value:f,onChange:j=>d(j.target.value),className:"border p-2 rounded sm:w-full",children:W.map(j=>ee.jsx("option",{value:j,children:j},j))}),ee.jsxs("span",{className:"font-medium sm:text-sm",children:["Offline Heads: ",$]})]}),ee.jsxs("div",{className:"text-center mb-4 sm:text-sm",children:[ee.jsx("strong",{children:"Date:"})," ",c," | ",ee.jsx("strong",{children:"Line:"})," ",f]}),ee.jsxs("div",{className:"flex justify-center mb-4 space-x-2 sm:flex-col sm:space-x-0 sm:space-y-2",children:[ee.jsx("label",{htmlFor:"import-json",className:"px-4 py-2 bg-blue-500 text-white rounded cursor-pointer sm:px-2 sm:py-1 flex items-center justify-center",children:"Import"}),ee.jsx("input",{id:"import-json",type:"file",accept:".json",hidden:!0,onChange:N}),ee.jsx("button",{onClick:k,className:"px-4 py-2 bg-green-500 text-white rounded sm:px-2 sm:py-1 flex items-center justify-center",children:"Export"}),ee.jsx("button",{onClick:I,className:"px-4 py-2 bg-purple-500 text-white rounded sm:px-2 sm:py-1 flex items-center justify-center",children:"Save to Cloud"}),ee.jsx("button",{onClick:A,className:"px-4 py-2 bg-cyan-500 text-white rounded sm:px-2 sm:py-1 flex items-center justify-center",children:"Load from Cloud"}),ee.jsx("button",{onClick:x,className:"px-4 py-2 bg-yellow-500 text-white rounded sm:px-2 sm:py-1 flex items-center justify-center",children:"Reset Current Line"}),ee.jsx("button",{onClick:_,className:"px-4 py-2 bg-red-500 text-white rounded sm:px-2 sm:py-1 flex items-center justify-center",children:"Reset All"})]}),ee.jsxs("div",{className:"flex justify-center items-center mb-4 space-x-4 sm:flex-col sm:space-x-0 sm:space-y-2",children:[ee.jsx("button",{onClick:E,className:"px-3 py-1 bg-gray-200 rounded sm:px-2 sm:py-1",children:"Prev Line"}),ee.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-1",children:[ee.jsx("span",{className:"sm:text-sm",children:"Machine Running:"}),ee.jsx("button",{onClick:U,className:"px-4 py-1 rounded text-white "+(H?"bg-green-500":"bg-red-500")+" sm:px-2 sm:py-1 sm:text-sm",children:H?"ON":"OFF"})]}),ee.jsx("button",{onClick:P,className:"px-3 py-1 bg-gray-200 rounded sm:px-2 sm:py-1",children:"Next Line"})]}),ee.jsx("div",{className:"overflow-x-auto",children:ee.jsxs("table",{className:"w-full mb-4 table-auto border-collapse min-w-max",children:[ee.jsx("thead",{children:ee.jsx("tr",{className:"bg-gray-100",children:["Head","Status","Issue","Repaired","Notes"].map(j=>ee.jsx("th",{className:"p-2 text-center border sm:p-1 sm:text-sm",children:j},j))})}),ee.jsx("tbody",{children:D.map((j,ne)=>ee.jsxs("tr",{className:q(j),children:[ee.jsx("td",{className:"p-2 text-center sm:p-1 sm:text-sm",children:j.head}),ee.jsx("td",{className:"p-2 text-center sm:p-1 sm:text-sm",children:ee.jsx("button",{onClick:()=>ie(ne),className:"px-4 py-1 rounded text-white "+(j.offline==="Active"?"bg-green-500":"bg-red-500")+" sm:px-2 sm:py-1 sm:text-sm",children:j.offline})}),ee.jsx("td",{className:"p-2 text-center sm:p-1 sm:text-sm",children:ee.jsx("select",{value:j.issue,onChange:re=>B(ne,"issue",re.target.value),className:"w-full sm:text-sm",children:Nj.map(re=>ee.jsx("option",{value:re,children:re},re))})}),ee.jsx("td",{className:"p-2 text-center sm:p-1 sm:text-sm",children:ee.jsx("button",{onClick:()=>ue(ne),className:"px-4 py-1 rounded text-white "+(j.repaired==="Fixed"?"bg-green-500":"bg-red-500")+" sm:px-2 sm:py-1 sm:text-sm",children:j.repaired})}),ee.jsx("td",{className:"p-2 sm:p-1 sm:text-sm",children:ee.jsx("input",{value:j.notes,onChange:re=>B(ne,"notes",re.target.value),className:"w-full p-1 border rounded sm:text-sm"})})]},ne))})]})}),ee.jsxs("div",{children:[ee.jsx("label",{className:"block mb-1 font-medium sm:text-sm",children:"Machine Notes:"}),ee.jsx("textarea",{rows:3,value:Q,onChange:j=>G(j.target.value),className:"w-full border p-2 rounded sm:text-sm"})]}),ee.jsxs("div",{className:"mt-6",children:[ee.jsx("h3",{className:"text-xl font-semibold mb-2 text-center sm:text-lg",children:"Heads Down Per Day"}),Y.labels.length===0?ee.jsx("p",{className:"text-center text-gray-600 sm:text-sm",children:"No data available for graph."}):ee.jsx(D8,{data:Y,options:{responsive:!0,plugins:{legend:{position:"top"},title:{display:!0,text:`Heads Status for ${f}`}},scales:{y:{beginAtZero:!0,title:{display:!0,text:"Number of Heads"},ticks:{stepSize:1}},x:{title:{display:!0,text:"Date"}}}}})]})]})}const Cj="modulepreload",kj=function(t){return"/"+t},mx={},Uv=function(e,n,i){let r=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));r=Promise.allSettled(n.map(l=>{if(l=kj(l),l in mx)return;mx[l]=!0;const c=l.endsWith(".css"),h=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${h}`))return;const f=document.createElement("link");if(f.rel=c?"stylesheet":Cj,c||(f.as="script"),f.crossOrigin="",f.href=l,a&&f.setAttribute("nonce",a),document.head.appendChild(f),c)return new Promise((d,p)=>{f.addEventListener("load",d),f.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return r.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return e().catch(s)})};function Pt(t){"@babel/helpers - typeof";return Pt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pt(t)}var si=Uint8Array,Wi=Uint16Array,i5=Int32Array,gm=new si([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),mm=new si([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Hv=new si([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),ck=function(t,e){for(var n=new Wi(31),i=0;i<31;++i)n[i]=e+=1<<t[i-1];for(var r=new i5(n[30]),i=1;i<30;++i)for(var s=n[i];s<n[i+1];++s)r[s]=s-n[i]<<5|i;return{b:n,r}},uk=ck(gm,2),hk=uk.b,Wv=uk.r;hk[28]=258,Wv[258]=28;var fk=ck(mm,0),Aj=fk.b,vx=fk.r,qv=new Wi(32768);for(var Gt=0;Gt<32768;++Gt){var mo=(Gt&43690)>>1|(Gt&21845)<<1;mo=(mo&52428)>>2|(mo&13107)<<2,mo=(mo&61680)>>4|(mo&3855)<<4,qv[Gt]=((mo&65280)>>8|(mo&255)<<8)>>1}var us=function(t,e,n){for(var i=t.length,r=0,s=new Wi(e);r<i;++r)t[r]&&++s[t[r]-1];var o=new Wi(e);for(r=1;r<e;++r)o[r]=o[r-1]+s[r-1]<<1;var a;if(n){a=new Wi(1<<e);var l=15-e;for(r=0;r<i;++r)if(t[r])for(var c=r<<4|t[r],h=e-t[r],f=o[t[r]-1]++<<h,d=f|(1<<h)-1;f<=d;++f)a[qv[f]>>l]=c}else for(a=new Wi(i),r=0;r<i;++r)t[r]&&(a[r]=qv[o[t[r]-1]++]>>15-t[r]);return a},oa=new si(288);for(var Gt=0;Gt<144;++Gt)oa[Gt]=8;for(var Gt=144;Gt<256;++Gt)oa[Gt]=9;for(var Gt=256;Gt<280;++Gt)oa[Gt]=7;for(var Gt=280;Gt<288;++Gt)oa[Gt]=8;var uf=new si(32);for(var Gt=0;Gt<32;++Gt)uf[Gt]=5;var Ej=us(oa,9,0),Pj=us(oa,9,1),Ij=us(uf,5,0),Lj=us(uf,5,1),o1=function(t){for(var e=t[0],n=1;n<t.length;++n)t[n]>e&&(e=t[n]);return e},Cr=function(t,e,n){var i=e/8|0;return(t[i]|t[i+1]<<8)>>(e&7)&n},a1=function(t,e){var n=e/8|0;return(t[n]|t[n+1]<<8|t[n+2]<<16)>>(e&7)},r5=function(t){return(t+7)/8|0},dk=function(t,e,n){return(n==null||n>t.length)&&(n=t.length),new si(t.subarray(e,n))},Tj=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Er=function(t,e,n){var i=new Error(e||Tj[t]);if(i.code=t,Error.captureStackTrace&&Error.captureStackTrace(i,Er),!n)throw i;return i},Rj=function(t,e,n,i){var r=t.length,s=0;if(!r||e.f&&!e.l)return n||new si(0);var o=!n,a=o||e.i!=2,l=e.i;o&&(n=new si(r*3));var c=function(me){var Ce=n.length;if(me>Ce){var Pe=new si(Math.max(Ce*2,me));Pe.set(n),n=Pe}},h=e.f||0,f=e.p||0,d=e.b||0,p=e.l,w=e.d,y=e.m,S=e.n,m=r*8;do{if(!p){h=Cr(t,f,1);var _=Cr(t,f+1,3);if(f+=3,_)if(_==1)p=Pj,w=Lj,y=9,S=5;else if(_==2){var O=Cr(t,f,31)+257,I=Cr(t,f+10,15)+4,A=O+Cr(t,f+5,31)+1;f+=14;for(var U=new si(A),W=new si(19),E=0;E<I;++E)W[Hv[E]]=Cr(t,f+E*3,7);f+=I*3;for(var P=o1(W),K=(1<<P)-1,D=us(W,P,1),E=0;E<A;){var Q=D[Cr(t,f,K)];f+=Q&15;var x=Q>>4;if(x<16)U[E++]=x;else{var H=0,$=0;for(x==16?($=3+Cr(t,f,3),f+=2,H=U[E-1]):x==17?($=3+Cr(t,f,7),f+=3):x==18&&($=11+Cr(t,f,127),f+=7);$--;)U[E++]=H}}var B=U.subarray(0,O),G=U.subarray(O);y=o1(B),S=o1(G),p=us(B,y,1),w=us(G,S,1)}else Er(1);else{var x=r5(f)+4,N=t[x-4]|t[x-3]<<8,k=x+N;if(k>r){l&&Er(0);break}a&&c(d+N),n.set(t.subarray(x,k),d),e.b=d+=N,e.p=f=k*8,e.f=h;continue}if(f>m){l&&Er(0);break}}a&&c(d+131072);for(var ie=(1<<y)-1,ue=(1<<S)-1,L=f;;L=f){var H=p[a1(t,f)&ie],q=H>>4;if(f+=H&15,f>m){l&&Er(0);break}if(H||Er(2),q<256)n[d++]=q;else if(q==256){L=f,p=null;break}else{var Y=q-254;if(q>264){var E=q-257,J=gm[E];Y=Cr(t,f,(1<<J)-1)+hk[E],f+=J}var j=w[a1(t,f)&ue],ne=j>>4;j||Er(3),f+=j&15;var G=Aj[ne];if(ne>3){var J=mm[ne];G+=a1(t,f)&(1<<J)-1,f+=J}if(f>m){l&&Er(0);break}a&&c(d+131072);var re=d+Y;if(d<G){var le=s-G,ye=Math.min(G,re);for(le+d<0&&Er(3);d<ye;++d)n[d]=i[le+d]}for(;d<re;++d)n[d]=n[d-G]}}e.l=p,e.p=L,e.b=d,e.f=h,p&&(h=1,e.m=y,e.d=w,e.n=S)}while(!h);return d!=n.length&&o?dk(n,0,d):n.subarray(0,d)},Cs=function(t,e,n){n<<=e&7;var i=e/8|0;t[i]|=n,t[i+1]|=n>>8},$u=function(t,e,n){n<<=e&7;var i=e/8|0;t[i]|=n,t[i+1]|=n>>8,t[i+2]|=n>>16},l1=function(t,e){for(var n=[],i=0;i<t.length;++i)t[i]&&n.push({s:i,f:t[i]});var r=n.length,s=n.slice();if(!r)return{t:gk,l:0};if(r==1){var o=new si(n[0].s+1);return o[n[0].s]=1,{t:o,l:1}}n.sort(function(k,O){return k.f-O.f}),n.push({s:-1,f:25001});var a=n[0],l=n[1],c=0,h=1,f=2;for(n[0]={s:-1,f:a.f+l.f,l:a,r:l};h!=r-1;)a=n[n[c].f<n[f].f?c++:f++],l=n[c!=h&&n[c].f<n[f].f?c++:f++],n[h++]={s:-1,f:a.f+l.f,l:a,r:l};for(var d=s[0].s,i=1;i<r;++i)s[i].s>d&&(d=s[i].s);var p=new Wi(d+1),w=Vv(n[h-1],p,0);if(w>e){var i=0,y=0,S=w-e,m=1<<S;for(s.sort(function(O,I){return p[I.s]-p[O.s]||O.f-I.f});i<r;++i){var _=s[i].s;if(p[_]>e)y+=m-(1<<w-p[_]),p[_]=e;else break}for(y>>=S;y>0;){var x=s[i].s;p[x]<e?y-=1<<e-p[x]++-1:++i}for(;i>=0&&y;--i){var N=s[i].s;p[N]==e&&(--p[N],++y)}w=e}return{t:new si(p),l:w}},Vv=function(t,e,n){return t.s==-1?Math.max(Vv(t.l,e,n+1),Vv(t.r,e,n+1)):e[t.s]=n},yx=function(t){for(var e=t.length;e&&!t[--e];);for(var n=new Wi(++e),i=0,r=t[0],s=1,o=function(l){n[i++]=l},a=1;a<=e;++a)if(t[a]==r&&a!=e)++s;else{if(!r&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(r),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(r);s=1,r=t[a]}return{c:n.subarray(0,i),n:e}},Gu=function(t,e){for(var n=0,i=0;i<e.length;++i)n+=t[i]*e[i];return n},pk=function(t,e,n){var i=n.length,r=r5(e+2);t[r]=i&255,t[r+1]=i>>8,t[r+2]=t[r]^255,t[r+3]=t[r+1]^255;for(var s=0;s<i;++s)t[r+s+4]=n[s];return(r+4+i)*8},_x=function(t,e,n,i,r,s,o,a,l,c,h){Cs(e,h++,n),++r[256];for(var f=l1(r,15),d=f.t,p=f.l,w=l1(s,15),y=w.t,S=w.l,m=yx(d),_=m.c,x=m.n,N=yx(y),k=N.c,O=N.n,I=new Wi(19),A=0;A<_.length;++A)++I[_[A]&31];for(var A=0;A<k.length;++A)++I[k[A]&31];for(var U=l1(I,7),W=U.t,E=U.l,P=19;P>4&&!W[Hv[P-1]];--P);var K=c+5<<3,D=Gu(r,oa)+Gu(s,uf)+o,Q=Gu(r,d)+Gu(s,y)+o+14+3*P+Gu(I,W)+2*I[16]+3*I[17]+7*I[18];if(l>=0&&K<=D&&K<=Q)return pk(e,h,t.subarray(l,l+c));var H,$,B,G;if(Cs(e,h,1+(Q<D)),h+=2,Q<D){H=us(d,p,0),$=d,B=us(y,S,0),G=y;var ie=us(W,E,0);Cs(e,h,x-257),Cs(e,h+5,O-1),Cs(e,h+10,P-4),h+=14;for(var A=0;A<P;++A)Cs(e,h+3*A,W[Hv[A]]);h+=3*P;for(var ue=[_,k],L=0;L<2;++L)for(var q=ue[L],A=0;A<q.length;++A){var Y=q[A]&31;Cs(e,h,ie[Y]),h+=W[Y],Y>15&&(Cs(e,h,q[A]>>5&127),h+=q[A]>>12)}}else H=Ej,$=oa,B=Ij,G=uf;for(var A=0;A<a;++A){var J=i[A];if(J>255){var Y=J>>18&31;$u(e,h,H[Y+257]),h+=$[Y+257],Y>7&&(Cs(e,h,J>>23&31),h+=gm[Y]);var j=J&31;$u(e,h,B[j]),h+=G[j],j>3&&($u(e,h,J>>5&8191),h+=mm[j])}else $u(e,h,H[J]),h+=$[J]}return $u(e,h,H[256]),h+$[256]},Oj=new i5([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),gk=new si(0),Mj=function(t,e,n,i,r,s){var o=s.z||t.length,a=new si(i+o+5*(1+Math.ceil(o/7e3))+r),l=a.subarray(i,a.length-r),c=s.l,h=(s.r||0)&7;if(e){h&&(l[0]=s.r>>3);for(var f=Oj[e-1],d=f>>13,p=f&8191,w=(1<<n)-1,y=s.p||new Wi(32768),S=s.h||new Wi(w+1),m=Math.ceil(n/3),_=2*m,x=function(Be){return(t[Be]^t[Be+1]<<m^t[Be+2]<<_)&w},N=new i5(25e3),k=new Wi(288),O=new Wi(32),I=0,A=0,U=s.i||0,W=0,E=s.w||0,P=0;U+2<o;++U){var K=x(U),D=U&32767,Q=S[K];if(y[D]=Q,S[K]=D,E<=U){var H=o-U;if((I>7e3||W>24576)&&(H>423||!c)){h=_x(t,l,0,N,k,O,A,W,P,U-P,h),W=I=A=0,P=U;for(var $=0;$<286;++$)k[$]=0;for(var $=0;$<30;++$)O[$]=0}var B=2,G=0,ie=p,ue=D-Q&32767;if(H>2&&K==x(U-ue))for(var L=Math.min(d,H)-1,q=Math.min(32767,U),Y=Math.min(258,H);ue<=q&&--ie&&D!=Q;){if(t[U+B]==t[U+B-ue]){for(var J=0;J<Y&&t[U+J]==t[U+J-ue];++J);if(J>B){if(B=J,G=ue,J>L)break;for(var j=Math.min(ue,J-2),ne=0,$=0;$<j;++$){var re=U-ue+$&32767,le=y[re],ye=re-le&32767;ye>ne&&(ne=ye,Q=re)}}}D=Q,Q=y[D],ue+=D-Q&32767}if(G){N[W++]=268435456|Wv[B]<<18|vx[G];var me=Wv[B]&31,Ce=vx[G]&31;A+=gm[me]+mm[Ce],++k[257+me],++O[Ce],E=U+B,++I}else N[W++]=t[U],++k[t[U]]}}for(U=Math.max(U,E);U<o;++U)N[W++]=t[U],++k[t[U]];h=_x(t,l,c,N,k,O,A,W,P,U-P,h),c||(s.r=h&7|l[h/8|0]<<3,h-=7,s.h=S,s.p=y,s.i=U,s.w=E)}else{for(var U=s.w||0;U<o+c;U+=65535){var Pe=U+65535;Pe>=o&&(l[h/8|0]=c,Pe=o),h=pk(l,h+1,t.subarray(U,Pe))}s.i=o}return dk(a,0,i+r5(h)+r)},mk=function(){var t=1,e=0;return{p:function(n){for(var i=t,r=e,s=n.length|0,o=0;o!=s;){for(var a=Math.min(o+2655,s);o<a;++o)r+=i+=n[o];i=(i&65535)+15*(i>>16),r=(r&65535)+15*(r>>16)}t=i,e=r},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},Dj=function(t,e,n,i,r){if(!r&&(r={l:1},e.dictionary)){var s=e.dictionary.subarray(-32768),o=new si(s.length+t.length);o.set(s),o.set(t,s.length),t=o,r.w=s.length}return Mj(t,e.level==null?6:e.level,e.mem==null?r.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,n,i,r)},vk=function(t,e,n){for(;n;++e)t[e]=n,n>>>=8},Fj=function(t,e){var n=e.level,i=n==0?0:n<6?1:n==9?3:2;if(t[0]=120,t[1]=i<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var r=mk();r.p(e.dictionary),vk(t,2,r.d())}},jj=function(t,e){return((t[0]&15)!=8||t[0]>>4>7||(t[0]<<8|t[1])%31)&&Er(6,"invalid zlib data"),(t[1]>>5&1)==1&&Er(6,"invalid zlib data: "+(t[1]&32?"need":"unexpected")+" dictionary"),(t[1]>>3&4)+2};function $v(t,e){e||(e={});var n=mk();n.p(t);var i=Dj(t,e,e.dictionary?6:2,4);return Fj(i,e),vk(i,i.length-4,n.d()),i}function Bj(t,e){return Rj(t.subarray(jj(t),-4),{i:2},e,e)}var zj=typeof TextDecoder<"u"&&new TextDecoder,Uj=0;try{zj.decode(gk,{stream:!0}),Uj=1}catch{}var Ke=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function c1(){Ke.console&&typeof Ke.console.log=="function"&&Ke.console.log.apply(Ke.console,arguments)}var Dt={log:c1,warn:function(t){Ke.console&&(typeof Ke.console.warn=="function"?Ke.console.warn.apply(Ke.console,arguments):c1.call(null,arguments))},error:function(t){Ke.console&&(typeof Ke.console.error=="function"?Ke.console.error.apply(Ke.console,arguments):c1(t))}};function u1(t,e,n){var i=new XMLHttpRequest;i.open("GET",t),i.responseType="blob",i.onload=function(){Oa(i.response,e,n)},i.onerror=function(){Dt.error("could not download file")},i.send()}function wx(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function tp(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var Sh,Gv,Oa=Ke.saveAs||((typeof window>"u"?"undefined":Pt(window))!=="object"||window!==Ke?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,n){var i=Ke.URL||Ke.webkitURL,r=document.createElement("a");e=e||t.name||"download",r.download=e,r.rel="noopener",typeof t=="string"?(r.href=t,r.origin!==location.origin?wx(r.href)?u1(t,e,n):tp(r,r.target="_blank"):tp(r)):(r.href=i.createObjectURL(t),setTimeout(function(){i.revokeObjectURL(r.href)},4e4),setTimeout(function(){tp(r)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,n){if(e=e||t.name||"download",typeof t=="string")if(wx(t))u1(t,e,n);else{var i=document.createElement("a");i.href=t,i.target="_blank",setTimeout(function(){tp(i)})}else navigator.msSaveOrOpenBlob(function(r,s){return s===void 0?s={autoBom:!1}:Pt(s)!=="object"&&(Dt.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(r.type)?new Blob(["\uFEFF",r],{type:r.type}):r}(t,n),e)}:function(t,e,n,i){if((i=i||open("","_blank"))&&(i.document.title=i.document.body.innerText="downloading..."),typeof t=="string")return u1(t,e,n);var r=t.type==="application/octet-stream",s=/constructor/i.test(Ke.HTMLElement)||Ke.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||r&&s)&&(typeof FileReader>"u"?"undefined":Pt(FileReader))==="object"){var a=new FileReader;a.onloadend=function(){var h=a.result;h=o?h:h.replace(/^data:[^;]*;/,"data:attachment/file;"),i?i.location.href=h:location=h,i=null},a.readAsDataURL(t)}else{var l=Ke.URL||Ke.webkitURL,c=l.createObjectURL(t);i?i.location=c:location.href=c,i=null,setTimeout(function(){l.revokeObjectURL(c)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function yk(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(a){return[parseInt(a[1]),parseInt(a[2]),parseInt(a[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}}],i=0;i<n.length;i++){var r=n[i].re,s=n[i].process,o=r.exec(t);o&&(e=s(o),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var a=this.r.toString(16),l=this.g.toString(16),c=this.b.toString(16);return a.length==1&&(a="0"+a),l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),"#"+a+l+c}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function h1(t,e){var n=t[0],i=t[1],r=t[2],s=t[3];n=Qn(n,i,r,s,e[0],7,-680876936),s=Qn(s,n,i,r,e[1],12,-389564586),r=Qn(r,s,n,i,e[2],17,606105819),i=Qn(i,r,s,n,e[3],22,-1044525330),n=Qn(n,i,r,s,e[4],7,-176418897),s=Qn(s,n,i,r,e[5],12,1200080426),r=Qn(r,s,n,i,e[6],17,-1473231341),i=Qn(i,r,s,n,e[7],22,-45705983),n=Qn(n,i,r,s,e[8],7,1770035416),s=Qn(s,n,i,r,e[9],12,-1958414417),r=Qn(r,s,n,i,e[10],17,-42063),i=Qn(i,r,s,n,e[11],22,-1990404162),n=Qn(n,i,r,s,e[12],7,1804603682),s=Qn(s,n,i,r,e[13],12,-40341101),r=Qn(r,s,n,i,e[14],17,-1502002290),n=Zn(n,i=Qn(i,r,s,n,e[15],22,1236535329),r,s,e[1],5,-165796510),s=Zn(s,n,i,r,e[6],9,-1069501632),r=Zn(r,s,n,i,e[11],14,643717713),i=Zn(i,r,s,n,e[0],20,-373897302),n=Zn(n,i,r,s,e[5],5,-701558691),s=Zn(s,n,i,r,e[10],9,38016083),r=Zn(r,s,n,i,e[15],14,-660478335),i=Zn(i,r,s,n,e[4],20,-405537848),n=Zn(n,i,r,s,e[9],5,568446438),s=Zn(s,n,i,r,e[14],9,-1019803690),r=Zn(r,s,n,i,e[3],14,-187363961),i=Zn(i,r,s,n,e[8],20,1163531501),n=Zn(n,i,r,s,e[13],5,-1444681467),s=Zn(s,n,i,r,e[2],9,-51403784),r=Zn(r,s,n,i,e[7],14,1735328473),n=ei(n,i=Zn(i,r,s,n,e[12],20,-1926607734),r,s,e[5],4,-378558),s=ei(s,n,i,r,e[8],11,-2022574463),r=ei(r,s,n,i,e[11],16,1839030562),i=ei(i,r,s,n,e[14],23,-35309556),n=ei(n,i,r,s,e[1],4,-1530992060),s=ei(s,n,i,r,e[4],11,1272893353),r=ei(r,s,n,i,e[7],16,-155497632),i=ei(i,r,s,n,e[10],23,-1094730640),n=ei(n,i,r,s,e[13],4,681279174),s=ei(s,n,i,r,e[0],11,-358537222),r=ei(r,s,n,i,e[3],16,-722521979),i=ei(i,r,s,n,e[6],23,76029189),n=ei(n,i,r,s,e[9],4,-640364487),s=ei(s,n,i,r,e[12],11,-421815835),r=ei(r,s,n,i,e[15],16,530742520),n=ti(n,i=ei(i,r,s,n,e[2],23,-995338651),r,s,e[0],6,-198630844),s=ti(s,n,i,r,e[7],10,1126891415),r=ti(r,s,n,i,e[14],15,-1416354905),i=ti(i,r,s,n,e[5],21,-57434055),n=ti(n,i,r,s,e[12],6,1700485571),s=ti(s,n,i,r,e[3],10,-1894986606),r=ti(r,s,n,i,e[10],15,-1051523),i=ti(i,r,s,n,e[1],21,-2054922799),n=ti(n,i,r,s,e[8],6,1873313359),s=ti(s,n,i,r,e[15],10,-30611744),r=ti(r,s,n,i,e[6],15,-1560198380),i=ti(i,r,s,n,e[13],21,1309151649),n=ti(n,i,r,s,e[4],6,-145523070),s=ti(s,n,i,r,e[11],10,-1120210379),r=ti(r,s,n,i,e[2],15,718787259),i=ti(i,r,s,n,e[9],21,-343485551),t[0]=Oo(n,t[0]),t[1]=Oo(i,t[1]),t[2]=Oo(r,t[2]),t[3]=Oo(s,t[3])}function vm(t,e,n,i,r,s){return e=Oo(Oo(e,t),Oo(i,s)),Oo(e<<r|e>>>32-r,n)}function Qn(t,e,n,i,r,s,o){return vm(e&n|~e&i,t,e,r,s,o)}function Zn(t,e,n,i,r,s,o){return vm(e&i|n&~i,t,e,r,s,o)}function ei(t,e,n,i,r,s,o){return vm(e^n^i,t,e,r,s,o)}function ti(t,e,n,i,r,s,o){return vm(n^(e|~i),t,e,r,s,o)}function _k(t){var e,n=t.length,i=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)h1(i,Hj(t.substring(e-64,e)));t=t.substring(e-64);var r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)r[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(r[e>>2]|=128<<(e%4<<3),e>55)for(h1(i,r),e=0;e<16;e++)r[e]=0;return r[14]=8*n,h1(i,r),i}function Hj(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return n}Sh=Ke.atob.bind(Ke),Gv=Ke.btoa.bind(Ke);var bx="0123456789abcdef".split("");function Wj(t){for(var e="",n=0;n<4;n++)e+=bx[t>>8*n+4&15]+bx[t>>8*n&15];return e}function qj(t){return String.fromCharCode((255&t)>>0,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function Yv(t){return _k(t).map(qj).join("")}var Vj=function(t){for(var e=0;e<t.length;e++)t[e]=Wj(t[e]);return t.join("")}(_k("hello"))!="5d41402abc4b2a76b9719d911017c592";function Oo(t,e){if(Vj){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function Kv(t,e){var n,i,r,s;if(t!==n){for(var o=(r=t,s=1+(256/t.length>>0),new Array(s+1).join(r)),a=[],l=0;l<256;l++)a[l]=l;var c=0;for(l=0;l<256;l++){var h=a[l];c=(c+h+o.charCodeAt(l))%256,a[l]=a[c],a[c]=h}n=t,i=a}else a=i;var f=e.length,d=0,p=0,w="";for(l=0;l<f;l++)p=(p+(h=a[d=(d+1)%256]))%256,a[d]=a[p],a[p]=h,o=a[(a[d]+a[p])%256],w+=String.fromCharCode(e.charCodeAt(l)^o);return w}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var xx={print:4,modify:8,copy:16,"annot-forms":32};function Yl(t,e,n,i){this.v=1,this.r=2;var r=192;t.forEach(function(a){if(xx.perm!==void 0)throw new Error("Invalid permission: "+a);r+=xx[a]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var s=(e+this.padding).substr(0,32),o=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,o),this.P=-(1+(255^r)),this.encryptionKey=Yv(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(i)).substr(0,5),this.U=Kv(this.encryptionKey,this.padding)}function Kl(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",n=t.length,i=0;i<n;i++){var r=t.charCodeAt(i);r<33||r===35||r===37||r===40||r===41||r===47||r===60||r===62||r===91||r===93||r===123||r===125||r>126?e+="#"+("0"+r.toString(16)).slice(-2):e+=t[i]}return e}function Sx(t){if(Pt(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(n,i,r){if(r=r||!1,typeof n!="string"||typeof i!="function"||typeof r!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(n)||(e[n]={});var s=Math.random().toString(35);return e[n][s]=[i,!!r],s},this.unsubscribe=function(n){for(var i in e)if(e[i][n])return delete e[i][n],Object.keys(e[i]).length===0&&delete e[i],!0;return!1},this.publish=function(n){if(e.hasOwnProperty(n)){var i=Array.prototype.slice.call(arguments,1),r=[];for(var s in e[n]){var o=e[n][s];try{o[0].apply(t,i)}catch(a){Ke.console&&Dt.error("jsPDF PubSub Error",a.message,a)}o[1]&&r.push(s)}r.length&&r.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function hf(t){if(!(this instanceof hf))return new hf(t);var e="opacity,stroke-opacity".split(",");for(var n in t)t.hasOwnProperty(n)&&e.indexOf(n)>=0&&(this[n]=t[n]);this.id="",this.objectNumber=-1}function wk(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function Eo(t,e,n,i,r){if(!(this instanceof Eo))return new Eo(t,e,n,i,r);this.type=t==="axial"?2:3,this.coords=e,this.colors=n,wk.call(this,i,r)}function Ua(t,e,n,i,r){if(!(this instanceof Ua))return new Ua(t,e,n,i,r);this.boundingBox=t,this.xStep=e,this.yStep=n,this.stream="",this.cloneIndex=0,wk.call(this,i,r)}function $e(t){var e,n=typeof arguments[0]=="string"?arguments[0]:"p",i=arguments[1],r=arguments[2],s=arguments[3],o=[],a=1,l=16,c="S",h=null;Pt(t=t||{})==="object"&&(n=t.orientation,i=t.unit||i,r=t.format||r,s=t.compress||t.compressPdf||s,(h=t.encryption||null)!==null&&(h.userPassword=h.userPassword||"",h.ownerPassword=h.ownerPassword||"",h.userPermissions=h.userPermissions||[]),a=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(l=t.floatPrecision),c=t.defaultPathOperation||"S"),o=t.filters||(s===!0?["FlateEncode"]:o),i=i||"mm",n=(""+(n||"P")).toLowerCase();var f=t.putOnlyUsedFonts||!1,d={},p={internal:{},__private__:{}};p.__private__.PubSub=Sx;var w="1.3",y=p.__private__.getPdfVersion=function(){return w};p.__private__.setPdfVersion=function(v){w=v};var S={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};p.__private__.getPageFormats=function(){return S};var m=p.__private__.getPageFormat=function(v){return S[v]};r=r||"a4";var _={COMPAT:"compat",ADVANCED:"advanced"},x=_.COMPAT;function N(){this.saveGraphicsState(),te(new Ge(De,0,0,-De,0,to()*De).toString()+" cm"),this.setFontSize(this.getFontSize()/De),c="n",x=_.ADVANCED}function k(){this.restoreGraphicsState(),c="S",x=_.COMPAT}var O=p.__private__.combineFontStyleAndFontWeight=function(v,R){if(v=="bold"&&R=="normal"||v=="bold"&&R==400||v=="normal"&&R=="italic"||v=="bold"&&R=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return R&&(v=R==400||R==="normal"?v==="italic"?"italic":"normal":R!=700&&R!=="bold"||v!=="normal"?(R==700?"bold":R)+""+v:"bold"),v};p.advancedAPI=function(v){var R=x===_.COMPAT;return R&&N.call(this),typeof v!="function"||(v(this),R&&k.call(this)),this},p.compatAPI=function(v){var R=x===_.ADVANCED;return R&&k.call(this),typeof v!="function"||(v(this),R&&N.call(this)),this},p.isAdvancedAPI=function(){return x===_.ADVANCED};var I,A=function(v){if(x!==_.ADVANCED)throw new Error(v+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},U=p.roundToPrecision=p.__private__.roundToPrecision=function(v,R){var Z=e||R;if(isNaN(v)||isNaN(Z))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return v.toFixed(Z).replace(/0+$/,"")};I=p.hpf=p.__private__.hpf=typeof l=="number"?function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.hpf");return U(v,l)}:l==="smart"?function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.hpf");return U(v,v>-1&&v<1?16:5)}:function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.hpf");return U(v,16)};var W=p.f2=p.__private__.f2=function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.f2");return U(v,2)},E=p.__private__.f3=function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.f3");return U(v,3)},P=p.scale=p.__private__.scale=function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.scale");return x===_.COMPAT?v*De:x===_.ADVANCED?v:void 0},K=function(v){return x===_.COMPAT?to()-v:x===_.ADVANCED?v:void 0},D=function(v){return P(K(v))};p.__private__.setPrecision=p.setPrecision=function(v){typeof parseInt(v,10)=="number"&&(e=parseInt(v,10))};var Q,H="00000000000000000000000000000000",$=p.__private__.getFileId=function(){return H},B=p.__private__.setFileId=function(v){return H=v!==void 0&&/^[a-fA-F0-9]{32}$/.test(v)?v.toUpperCase():H.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),h!==null&&(Yn=new Yl(h.userPermissions,h.userPassword,h.ownerPassword,H)),H};p.setFileId=function(v){return B(v),this},p.getFileId=function(){return $()};var G=p.__private__.convertDateToPDFDate=function(v){var R=v.getTimezoneOffset(),Z=R<0?"+":"-",se=Math.floor(Math.abs(R/60)),fe=Math.abs(R%60),_e=[Z,Y(se),"'",Y(fe),"'"].join("");return["D:",v.getFullYear(),Y(v.getMonth()+1),Y(v.getDate()),Y(v.getHours()),Y(v.getMinutes()),Y(v.getSeconds()),_e].join("")},ie=p.__private__.convertPDFDateToDate=function(v){var R=parseInt(v.substr(2,4),10),Z=parseInt(v.substr(6,2),10)-1,se=parseInt(v.substr(8,2),10),fe=parseInt(v.substr(10,2),10),_e=parseInt(v.substr(12,2),10),ke=parseInt(v.substr(14,2),10);return new Date(R,Z,se,fe,_e,ke,0)},ue=p.__private__.setCreationDate=function(v){var R;if(v===void 0&&(v=new Date),v instanceof Date)R=G(v);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(v))throw new Error("Invalid argument passed to jsPDF.setCreationDate");R=v}return Q=R},L=p.__private__.getCreationDate=function(v){var R=Q;return v==="jsDate"&&(R=ie(Q)),R};p.setCreationDate=function(v){return ue(v),this},p.getCreationDate=function(v){return L(v)};var q,Y=p.__private__.padd2=function(v){return("0"+parseInt(v)).slice(-2)},J=p.__private__.padd2Hex=function(v){return("00"+(v=v.toString())).substr(v.length)},j=0,ne=[],re=[],le=0,ye=[],me=[],Ce=!1,Pe=re,Be=function(){j=0,le=0,re=[],ne=[],ye=[],ps=vn(),mr=vn()};p.__private__.setCustomOutputDestination=function(v){Ce=!0,Pe=v};var ge=function(v){Ce||(Pe=v)};p.__private__.resetCustomOutputDestination=function(){Ce=!1,Pe=re};var te=p.__private__.out=function(v){return v=v.toString(),le+=v.length+1,Pe.push(v),Pe},Je=p.__private__.write=function(v){return te(arguments.length===1?v.toString():Array.prototype.join.call(arguments," "))},Ue=p.__private__.getArrayBuffer=function(v){for(var R=v.length,Z=new ArrayBuffer(R),se=new Uint8Array(Z);R--;)se[R]=v.charCodeAt(R);return Z},Ae=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];p.__private__.getStandardFonts=function(){return Ae};var Le=t.fontSize||16;p.__private__.setFontSize=p.setFontSize=function(v){return Le=x===_.ADVANCED?v/De:v,this};var Me,Oe=p.__private__.getFontSize=p.getFontSize=function(){return x===_.COMPAT?Le:Le*De},We=t.R2L||!1;p.__private__.setR2L=p.setR2L=function(v){return We=v,this},p.__private__.getR2L=p.getR2L=function(){return We};var tt,at=p.__private__.setZoomMode=function(v){var R=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(v))Me=v;else if(isNaN(v)){if(R.indexOf(v)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+v+'" is not recognized.');Me=v}else Me=parseInt(v,10)};p.__private__.getZoomMode=function(){return Me};var lt,mt=p.__private__.setPageMode=function(v){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(v)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+v+'" is not recognized.');tt=v};p.__private__.getPageMode=function(){return tt};var Lt=p.__private__.setLayoutMode=function(v){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(v)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+v+'" is not recognized.');lt=v};p.__private__.getLayoutMode=function(){return lt},p.__private__.setDisplayMode=p.setDisplayMode=function(v,R,Z){return at(v),Lt(R),mt(Z),this};var Qe={title:"",subject:"",author:"",keywords:"",creator:""};p.__private__.getDocumentProperty=function(v){if(Object.keys(Qe).indexOf(v)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Qe[v]},p.__private__.getDocumentProperties=function(){return Qe},p.__private__.setDocumentProperties=p.setProperties=p.setDocumentProperties=function(v){for(var R in Qe)Qe.hasOwnProperty(R)&&v[R]&&(Qe[R]=v[R]);return this},p.__private__.setDocumentProperty=function(v,R){if(Object.keys(Qe).indexOf(v)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Qe[v]=R};var ut,De,Gn,bt,dr,Ot={},Kt={},Ur=[],Nt={},da={},tn={},pr={},ds=null,nn=0,nt=[],Ct=new Sx(p),pa=t.hotfixes||[],Un={},Hr={},Wr=[],Ge=function v(R,Z,se,fe,_e,ke){if(!(this instanceof v))return new v(R,Z,se,fe,_e,ke);isNaN(R)&&(R=1),isNaN(Z)&&(Z=0),isNaN(se)&&(se=0),isNaN(fe)&&(fe=1),isNaN(_e)&&(_e=0),isNaN(ke)&&(ke=0),this._matrix=[R,Z,se,fe,_e,ke]};Object.defineProperty(Ge.prototype,"sx",{get:function(){return this._matrix[0]},set:function(v){this._matrix[0]=v}}),Object.defineProperty(Ge.prototype,"shy",{get:function(){return this._matrix[1]},set:function(v){this._matrix[1]=v}}),Object.defineProperty(Ge.prototype,"shx",{get:function(){return this._matrix[2]},set:function(v){this._matrix[2]=v}}),Object.defineProperty(Ge.prototype,"sy",{get:function(){return this._matrix[3]},set:function(v){this._matrix[3]=v}}),Object.defineProperty(Ge.prototype,"tx",{get:function(){return this._matrix[4]},set:function(v){this._matrix[4]=v}}),Object.defineProperty(Ge.prototype,"ty",{get:function(){return this._matrix[5]},set:function(v){this._matrix[5]=v}}),Object.defineProperty(Ge.prototype,"a",{get:function(){return this._matrix[0]},set:function(v){this._matrix[0]=v}}),Object.defineProperty(Ge.prototype,"b",{get:function(){return this._matrix[1]},set:function(v){this._matrix[1]=v}}),Object.defineProperty(Ge.prototype,"c",{get:function(){return this._matrix[2]},set:function(v){this._matrix[2]=v}}),Object.defineProperty(Ge.prototype,"d",{get:function(){return this._matrix[3]},set:function(v){this._matrix[3]=v}}),Object.defineProperty(Ge.prototype,"e",{get:function(){return this._matrix[4]},set:function(v){this._matrix[4]=v}}),Object.defineProperty(Ge.prototype,"f",{get:function(){return this._matrix[5]},set:function(v){this._matrix[5]=v}}),Object.defineProperty(Ge.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Ge.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Ge.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Ge.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Ge.prototype.join=function(v){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(I).join(v)},Ge.prototype.multiply=function(v){var R=v.sx*this.sx+v.shy*this.shx,Z=v.sx*this.shy+v.shy*this.sy,se=v.shx*this.sx+v.sy*this.shx,fe=v.shx*this.shy+v.sy*this.sy,_e=v.tx*this.sx+v.ty*this.shx+this.tx,ke=v.tx*this.shy+v.ty*this.sy+this.ty;return new Ge(R,Z,se,fe,_e,ke)},Ge.prototype.decompose=function(){var v=this.sx,R=this.shy,Z=this.shx,se=this.sy,fe=this.tx,_e=this.ty,ke=Math.sqrt(v*v+R*R),Fe=(v/=ke)*Z+(R/=ke)*se;Z-=v*Fe,se-=R*Fe;var qe=Math.sqrt(Z*Z+se*se);return Fe/=qe,v*(se/=qe)<R*(Z/=qe)&&(v=-v,R=-R,Fe=-Fe,ke=-ke),{scale:new Ge(ke,0,0,qe,0,0),translate:new Ge(1,0,0,1,fe,_e),rotate:new Ge(v,R,-R,v,0,0),skew:new Ge(1,0,Fe,1,0,0)}},Ge.prototype.toString=function(v){return this.join(" ")},Ge.prototype.inversed=function(){var v=this.sx,R=this.shy,Z=this.shx,se=this.sy,fe=this.tx,_e=this.ty,ke=1/(v*se-R*Z),Fe=se*ke,qe=-R*ke,st=-Z*ke,it=v*ke;return new Ge(Fe,qe,st,it,-Fe*fe-st*_e,-qe*fe-it*_e)},Ge.prototype.applyToPoint=function(v){var R=v.x*this.sx+v.y*this.shx+this.tx,Z=v.x*this.shy+v.y*this.sy+this.ty;return new kl(R,Z)},Ge.prototype.applyToRectangle=function(v){var R=this.applyToPoint(v),Z=this.applyToPoint(new kl(v.x+v.w,v.y+v.h));return new au(R.x,R.y,Z.x-R.x,Z.y-R.y)},Ge.prototype.clone=function(){var v=this.sx,R=this.shy,Z=this.shx,se=this.sy,fe=this.tx,_e=this.ty;return new Ge(v,R,Z,se,fe,_e)},p.Matrix=Ge;var gr=p.matrixMult=function(v,R){return R.multiply(v)},qr=new Ge(1,0,0,1,0,0);p.unitMatrix=p.identityMatrix=qr;var yi=function(v,R){if(!da[v]){var Z=(R instanceof Eo?"Sh":"P")+(Object.keys(Nt).length+1).toString(10);R.id=Z,da[v]=Z,Nt[Z]=R,Ct.publish("addPattern",R)}};p.ShadingPattern=Eo,p.TilingPattern=Ua,p.addShadingPattern=function(v,R){return A("addShadingPattern()"),yi(v,R),this},p.beginTilingPattern=function(v){A("beginTilingPattern()"),Kf(v.boundingBox[0],v.boundingBox[1],v.boundingBox[2]-v.boundingBox[0],v.boundingBox[3]-v.boundingBox[1],v.matrix)},p.endTilingPattern=function(v,R){A("endTilingPattern()"),R.stream=me[q].join(`
`),yi(v,R),Ct.publish("endTilingPattern",R),Wr.pop().restore()};var Nn=p.__private__.newObject=function(){var v=vn();return Di(v,!0),v},vn=p.__private__.newObjectDeferred=function(){return j++,ne[j]=function(){return le},j},Di=function(v,R){return R=typeof R=="boolean"&&R,ne[v]=le,R&&te(v+" 0 obj"),v},dl=p.__private__.newAdditionalObject=function(){var v={objId:vn(),content:""};return ye.push(v),v},ps=vn(),mr=vn(),vr=p.__private__.decodeColorString=function(v){var R=v.split(" ");if(R.length!==2||R[1]!=="g"&&R[1]!=="G")R.length===5&&(R[4]==="k"||R[4]==="K")&&(R=[(1-R[0])*(1-R[3]),(1-R[1])*(1-R[3]),(1-R[2])*(1-R[3]),"r"]);else{var Z=parseFloat(R[0]);R=[Z,Z,Z,"r"]}for(var se="#",fe=0;fe<3;fe++)se+=("0"+Math.floor(255*parseFloat(R[fe])).toString(16)).slice(-2);return se},yr=p.__private__.encodeColorString=function(v){var R;typeof v=="string"&&(v={ch1:v});var Z=v.ch1,se=v.ch2,fe=v.ch3,_e=v.ch4,ke=v.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof Z=="string"&&Z.charAt(0)!=="#"){var Fe=new yk(Z);if(Fe.ok)Z=Fe.toHex();else if(!/^\d*\.?\d*$/.test(Z))throw new Error('Invalid color "'+Z+'" passed to jsPDF.encodeColorString.')}if(typeof Z=="string"&&/^#[0-9A-Fa-f]{3}$/.test(Z)&&(Z="#"+Z[1]+Z[1]+Z[2]+Z[2]+Z[3]+Z[3]),typeof Z=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Z)){var qe=parseInt(Z.substr(1),16);Z=qe>>16&255,se=qe>>8&255,fe=255&qe}if(se===void 0||_e===void 0&&Z===se&&se===fe)if(typeof Z=="string")R=Z+" "+ke[0];else switch(v.precision){case 2:R=W(Z/255)+" "+ke[0];break;case 3:default:R=E(Z/255)+" "+ke[0]}else if(_e===void 0||Pt(_e)==="object"){if(_e&&!isNaN(_e.a)&&_e.a===0)return R=["1.","1.","1.",ke[1]].join(" ");if(typeof Z=="string")R=[Z,se,fe,ke[1]].join(" ");else switch(v.precision){case 2:R=[W(Z/255),W(se/255),W(fe/255),ke[1]].join(" ");break;default:case 3:R=[E(Z/255),E(se/255),E(fe/255),ke[1]].join(" ")}}else if(typeof Z=="string")R=[Z,se,fe,_e,ke[2]].join(" ");else switch(v.precision){case 2:R=[W(Z),W(se),W(fe),W(_e),ke[2]].join(" ");break;case 3:default:R=[E(Z),E(se),E(fe),E(_e),ke[2]].join(" ")}return R},Vr=p.__private__.getFilters=function(){return o},Yi=p.__private__.putStream=function(v){var R=(v=v||{}).data||"",Z=v.filters||Vr(),se=v.alreadyAppliedFilters||[],fe=v.addLength1||!1,_e=R.length,ke=v.objectId,Fe=function(Kn){return Kn};if(h!==null&&ke===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");h!==null&&(Fe=Yn.encryptor(ke,0));var qe={};Z===!0&&(Z=["FlateEncode"]);var st=v.additionalKeyValues||[],it=(qe=$e.API.processDataByFilters!==void 0?$e.API.processDataByFilters(R,Z):{data:R,reverseChain:[]}).reverseChain+(Array.isArray(se)?se.join(" "):se.toString());if(qe.data.length!==0&&(st.push({key:"Length",value:qe.data.length}),fe===!0&&st.push({key:"Length1",value:_e})),it.length!=0)if(it.split("/").length-1==1)st.push({key:"Filter",value:it});else{st.push({key:"Filter",value:"["+it+"]"});for(var gt=0;gt<st.length;gt+=1)if(st[gt].key==="DecodeParms"){for(var Jt=[],rn=0;rn<qe.reverseChain.split("/").length-1;rn+=1)Jt.push("null");Jt.push(st[gt].value),st[gt].value="["+Jt.join(" ")+"]"}}te("<<");for(var yn=0;yn<st.length;yn++)te("/"+st[yn].key+" "+st[yn].value);te(">>"),qe.data.length!==0&&(te("stream"),te(Fe(qe.data)),te("endstream"))},$r=p.__private__.putPage=function(v){var R=v.number,Z=v.data,se=v.objId,fe=v.contentsObjId;Di(se,!0),te("<</Type /Page"),te("/Parent "+v.rootDictionaryObjId+" 0 R"),te("/Resources "+v.resourceDictionaryObjId+" 0 R"),te("/MediaBox ["+parseFloat(I(v.mediaBox.bottomLeftX))+" "+parseFloat(I(v.mediaBox.bottomLeftY))+" "+I(v.mediaBox.topRightX)+" "+I(v.mediaBox.topRightY)+"]"),v.cropBox!==null&&te("/CropBox ["+I(v.cropBox.bottomLeftX)+" "+I(v.cropBox.bottomLeftY)+" "+I(v.cropBox.topRightX)+" "+I(v.cropBox.topRightY)+"]"),v.bleedBox!==null&&te("/BleedBox ["+I(v.bleedBox.bottomLeftX)+" "+I(v.bleedBox.bottomLeftY)+" "+I(v.bleedBox.topRightX)+" "+I(v.bleedBox.topRightY)+"]"),v.trimBox!==null&&te("/TrimBox ["+I(v.trimBox.bottomLeftX)+" "+I(v.trimBox.bottomLeftY)+" "+I(v.trimBox.topRightX)+" "+I(v.trimBox.topRightY)+"]"),v.artBox!==null&&te("/ArtBox ["+I(v.artBox.bottomLeftX)+" "+I(v.artBox.bottomLeftY)+" "+I(v.artBox.topRightX)+" "+I(v.artBox.topRightY)+"]"),typeof v.userUnit=="number"&&v.userUnit!==1&&te("/UserUnit "+v.userUnit),Ct.publish("putPage",{objId:se,pageContext:nt[R],pageNumber:R,page:Z}),te("/Contents "+fe+" 0 R"),te(">>"),te("endobj");var _e=Z.join(`
`);return x===_.ADVANCED&&(_e+=`
Q`),Di(fe,!0),Yi({data:_e,filters:Vr(),objectId:fe}),te("endobj"),se},ga=p.__private__.putPages=function(){var v,R,Z=[];for(v=1;v<=nn;v++)nt[v].objId=vn(),nt[v].contentsObjId=vn();for(v=1;v<=nn;v++)Z.push($r({number:v,data:me[v],objId:nt[v].objId,contentsObjId:nt[v].contentsObjId,mediaBox:nt[v].mediaBox,cropBox:nt[v].cropBox,bleedBox:nt[v].bleedBox,trimBox:nt[v].trimBox,artBox:nt[v].artBox,userUnit:nt[v].userUnit,rootDictionaryObjId:ps,resourceDictionaryObjId:mr}));Di(ps,!0),te("<</Type /Pages");var se="/Kids [";for(R=0;R<nn;R++)se+=Z[R]+" 0 R ";te(se+"]"),te("/Count "+nn),te(">>"),te("endobj"),Ct.publish("postPutPages")},pl=function(v){Ct.publish("putFont",{font:v,out:te,newObject:Nn,putStream:Yi}),v.isAlreadyPutted!==!0&&(v.objectNumber=Nn(),te("<<"),te("/Type /Font"),te("/BaseFont /"+Kl(v.postScriptName)),te("/Subtype /Type1"),typeof v.encoding=="string"&&te("/Encoding /"+v.encoding),te("/FirstChar 32"),te("/LastChar 255"),te(">>"),te("endobj"))},gl=function(){for(var v in Ot)Ot.hasOwnProperty(v)&&(f===!1||f===!0&&d.hasOwnProperty(v))&&pl(Ot[v])},ml=function(v){v.objectNumber=Nn();var R=[];R.push({key:"Type",value:"/XObject"}),R.push({key:"Subtype",value:"/Form"}),R.push({key:"BBox",value:"["+[I(v.x),I(v.y),I(v.x+v.width),I(v.y+v.height)].join(" ")+"]"}),R.push({key:"Matrix",value:"["+v.matrix.toString()+"]"});var Z=v.pages[1].join(`
`);Yi({data:Z,additionalKeyValues:R,objectId:v.objectNumber}),te("endobj")},vl=function(){for(var v in Un)Un.hasOwnProperty(v)&&ml(Un[v])},Lf=function(v,R){var Z,se=[],fe=1/(R-1);for(Z=0;Z<1;Z+=fe)se.push(Z);if(se.push(1),v[0].offset!=0){var _e={offset:0,color:v[0].color};v.unshift(_e)}if(v[v.length-1].offset!=1){var ke={offset:1,color:v[v.length-1].color};v.push(ke)}for(var Fe="",qe=0,st=0;st<se.length;st++){for(Z=se[st];Z>v[qe+1].offset;)qe++;var it=v[qe].offset,gt=(Z-it)/(v[qe+1].offset-it),Jt=v[qe].color,rn=v[qe+1].color;Fe+=J(Math.round((1-gt)*Jt[0]+gt*rn[0]).toString(16))+J(Math.round((1-gt)*Jt[1]+gt*rn[1]).toString(16))+J(Math.round((1-gt)*Jt[2]+gt*rn[2]).toString(16))}return Fe.trim()},ym=function(v,R){R||(R=21);var Z=Nn(),se=Lf(v.colors,R),fe=[];fe.push({key:"FunctionType",value:"0"}),fe.push({key:"Domain",value:"[0.0 1.0]"}),fe.push({key:"Size",value:"["+R+"]"}),fe.push({key:"BitsPerSample",value:"8"}),fe.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),fe.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Yi({data:se,additionalKeyValues:fe,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Z}),te("endobj"),v.objectNumber=Nn(),te("<< /ShadingType "+v.type),te("/ColorSpace /DeviceRGB");var _e="/Coords ["+I(parseFloat(v.coords[0]))+" "+I(parseFloat(v.coords[1]))+" ";v.type===2?_e+=I(parseFloat(v.coords[2]))+" "+I(parseFloat(v.coords[3])):_e+=I(parseFloat(v.coords[2]))+" "+I(parseFloat(v.coords[3]))+" "+I(parseFloat(v.coords[4]))+" "+I(parseFloat(v.coords[5])),te(_e+="]"),v.matrix&&te("/Matrix ["+v.matrix.toString()+"]"),te("/Function "+Z+" 0 R"),te("/Extend [true true]"),te(">>"),te("endobj")},_m=function(v,R){var Z=vn(),se=Nn();R.push({resourcesOid:Z,objectOid:se}),v.objectNumber=se;var fe=[];fe.push({key:"Type",value:"/Pattern"}),fe.push({key:"PatternType",value:"1"}),fe.push({key:"PaintType",value:"1"}),fe.push({key:"TilingType",value:"1"}),fe.push({key:"BBox",value:"["+v.boundingBox.map(I).join(" ")+"]"}),fe.push({key:"XStep",value:I(v.xStep)}),fe.push({key:"YStep",value:I(v.yStep)}),fe.push({key:"Resources",value:Z+" 0 R"}),v.matrix&&fe.push({key:"Matrix",value:"["+v.matrix.toString()+"]"}),Yi({data:v.stream,additionalKeyValues:fe,objectId:v.objectNumber}),te("endobj")},yl=function(v){var R;for(R in Nt)Nt.hasOwnProperty(R)&&(Nt[R]instanceof Eo?ym(Nt[R]):Nt[R]instanceof Ua&&_m(Nt[R],v))},Tf=function(v){for(var R in v.objectNumber=Nn(),te("<<"),v)switch(R){case"opacity":te("/ca "+W(v[R]));break;case"stroke-opacity":te("/CA "+W(v[R]))}te(">>"),te("endobj")},wm=function(){var v;for(v in tn)tn.hasOwnProperty(v)&&Tf(tn[v])},Jc=function(){for(var v in te("/XObject <<"),Un)Un.hasOwnProperty(v)&&Un[v].objectNumber>=0&&te("/"+v+" "+Un[v].objectNumber+" 0 R");Ct.publish("putXobjectDict"),te(">>")},bm=function(){Yn.oid=Nn(),te("<<"),te("/Filter /Standard"),te("/V "+Yn.v),te("/R "+Yn.r),te("/U <"+Yn.toHexString(Yn.U)+">"),te("/O <"+Yn.toHexString(Yn.O)+">"),te("/P "+Yn.P),te(">>"),te("endobj")},Rf=function(){for(var v in te("/Font <<"),Ot)Ot.hasOwnProperty(v)&&(f===!1||f===!0&&d.hasOwnProperty(v))&&te("/"+v+" "+Ot[v].objectNumber+" 0 R");te(">>")},xm=function(){if(Object.keys(Nt).length>0){for(var v in te("/Shading <<"),Nt)Nt.hasOwnProperty(v)&&Nt[v]instanceof Eo&&Nt[v].objectNumber>=0&&te("/"+v+" "+Nt[v].objectNumber+" 0 R");Ct.publish("putShadingPatternDict"),te(">>")}},_l=function(v){if(Object.keys(Nt).length>0){for(var R in te("/Pattern <<"),Nt)Nt.hasOwnProperty(R)&&Nt[R]instanceof p.TilingPattern&&Nt[R].objectNumber>=0&&Nt[R].objectNumber<v&&te("/"+R+" "+Nt[R].objectNumber+" 0 R");Ct.publish("putTilingPatternDict"),te(">>")}},Sm=function(){if(Object.keys(tn).length>0){var v;for(v in te("/ExtGState <<"),tn)tn.hasOwnProperty(v)&&tn[v].objectNumber>=0&&te("/"+v+" "+tn[v].objectNumber+" 0 R");Ct.publish("putGStateDict"),te(">>")}},cn=function(v){Di(v.resourcesOid,!0),te("<<"),te("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),Rf(),xm(),_l(v.objectOid),Sm(),Jc(),te(">>"),te("endobj")},Of=function(){var v=[];gl(),wm(),vl(),yl(v),Ct.publish("putResources"),v.forEach(cn),cn({resourcesOid:mr,objectOid:Number.MAX_SAFE_INTEGER}),Ct.publish("postPutResources")},Mf=function(){Ct.publish("putAdditionalObjects");for(var v=0;v<ye.length;v++){var R=ye[v];Di(R.objId,!0),te(R.content),te("endobj")}Ct.publish("postPutAdditionalObjects")},Df=function(v){Kt[v.fontName]=Kt[v.fontName]||{},Kt[v.fontName][v.fontStyle]=v.id},Qc=function(v,R,Z,se,fe){var _e={id:"F"+(Object.keys(Ot).length+1).toString(10),postScriptName:v,fontName:R,fontStyle:Z,encoding:se,isStandardFont:fe||!1,metadata:{}};return Ct.publish("addFont",{font:_e,instance:this}),Ot[_e.id]=_e,Df(_e),_e.id},Nm=function(v){for(var R=0,Z=Ae.length;R<Z;R++){var se=Qc.call(this,v[R][0],v[R][1],v[R][2],Ae[R][3],!0);f===!1&&(d[se]=!0);var fe=v[R][0].split("-");Df({id:se,fontName:fe[0],fontStyle:fe[1]||""})}Ct.publish("addFonts",{fonts:Ot,dictionary:Kt})},_r=function(v){return v.foo=function(){try{return v.apply(this,arguments)}catch(se){var R=se.stack||"";~R.indexOf(" at ")&&(R=R.split(" at ")[1]);var Z="Error in function "+R.split(`
`)[0].split("<")[0]+": "+se.message;if(!Ke.console)throw new Error(Z);Ke.console.error(Z,se),Ke.alert&&alert(Z)}},v.foo.bar=v,v.foo},wl=function(v,R){var Z,se,fe,_e,ke,Fe,qe,st,it;if(fe=(R=R||{}).sourceEncoding||"Unicode",ke=R.outputEncoding,(R.autoencode||ke)&&Ot[ut].metadata&&Ot[ut].metadata[fe]&&Ot[ut].metadata[fe].encoding&&(_e=Ot[ut].metadata[fe].encoding,!ke&&Ot[ut].encoding&&(ke=Ot[ut].encoding),!ke&&_e.codePages&&(ke=_e.codePages[0]),typeof ke=="string"&&(ke=_e[ke]),ke)){for(qe=!1,Fe=[],Z=0,se=v.length;Z<se;Z++)(st=ke[v.charCodeAt(Z)])?Fe.push(String.fromCharCode(st)):Fe.push(v[Z]),Fe[Z].charCodeAt(0)>>8&&(qe=!0);v=Fe.join("")}for(Z=v.length;qe===void 0&&Z!==0;)v.charCodeAt(Z-1)>>8&&(qe=!0),Z--;if(!qe)return v;for(Fe=R.noBOM?[]:[254,255],Z=0,se=v.length;Z<se;Z++){if((it=(st=v.charCodeAt(Z))>>8)>>8)throw new Error("Character at position "+Z+" of string '"+v+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Fe.push(it),Fe.push(st-(it<<8))}return String.fromCharCode.apply(void 0,Fe)},_i=p.__private__.pdfEscape=p.pdfEscape=function(v,R){return wl(v,R).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Zc=p.__private__.beginPage=function(v){me[++nn]=[],nt[nn]={objId:0,contentsObjId:0,userUnit:Number(a),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(v[0]),topRightY:Number(v[1])}},jf(nn),ge(me[q])},Ff=function(v,R){var Z,se,fe;switch(n=R||n,typeof v=="string"&&(Z=m(v.toLowerCase()),Array.isArray(Z)&&(se=Z[0],fe=Z[1])),Array.isArray(v)&&(se=v[0]*De,fe=v[1]*De),isNaN(se)&&(se=r[0],fe=r[1]),(se>14400||fe>14400)&&(Dt.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),se=Math.min(14400,se),fe=Math.min(14400,fe)),r=[se,fe],n.substr(0,1)){case"l":fe>se&&(r=[fe,se]);break;case"p":se>fe&&(r=[fe,se])}Zc(r),qf(iu),te(wr),su!==0&&te(su+" J"),ou!==0&&te(ou+" j"),Ct.publish("addPage",{pageNumber:nn})},Cm=function(v){v>0&&v<=nn&&(me.splice(v,1),nt.splice(v,1),nn--,q>nn&&(q=nn),this.setPage(q))},jf=function(v){v>0&&v<=nn&&(q=v)},km=p.__private__.getNumberOfPages=p.getNumberOfPages=function(){return me.length-1},Bf=function(v,R,Z){var se,fe=void 0;return Z=Z||{},v=v!==void 0?v:Ot[ut].fontName,R=R!==void 0?R:Ot[ut].fontStyle,se=v.toLowerCase(),Kt[se]!==void 0&&Kt[se][R]!==void 0?fe=Kt[se][R]:Kt[v]!==void 0&&Kt[v][R]!==void 0?fe=Kt[v][R]:Z.disableWarning===!1&&Dt.warn("Unable to look up font label for font '"+v+"', '"+R+"'. Refer to getFontList() for available fonts."),fe||Z.noFallback||(fe=Kt.times[R])==null&&(fe=Kt.times.normal),fe},Am=p.__private__.putInfo=function(){var v=Nn(),R=function(se){return se};for(var Z in h!==null&&(R=Yn.encryptor(v,0)),te("<<"),te("/Producer ("+_i(R("jsPDF "+$e.version))+")"),Qe)Qe.hasOwnProperty(Z)&&Qe[Z]&&te("/"+Z.substr(0,1).toUpperCase()+Z.substr(1)+" ("+_i(R(Qe[Z]))+")");te("/CreationDate ("+_i(R(Q))+")"),te(">>"),te("endobj")},eu=p.__private__.putCatalog=function(v){var R=(v=v||{}).rootDictionaryObjId||ps;switch(Nn(),te("<<"),te("/Type /Catalog"),te("/Pages "+R+" 0 R"),Me||(Me="fullwidth"),Me){case"fullwidth":te("/OpenAction [3 0 R /FitH null]");break;case"fullheight":te("/OpenAction [3 0 R /FitV null]");break;case"fullpage":te("/OpenAction [3 0 R /Fit]");break;case"original":te("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Z=""+Me;Z.substr(Z.length-1)==="%"&&(Me=parseInt(Me)/100),typeof Me=="number"&&te("/OpenAction [3 0 R /XYZ null null "+W(Me)+"]")}switch(lt||(lt="continuous"),lt){case"continuous":te("/PageLayout /OneColumn");break;case"single":te("/PageLayout /SinglePage");break;case"two":case"twoleft":te("/PageLayout /TwoColumnLeft");break;case"tworight":te("/PageLayout /TwoColumnRight")}tt&&te("/PageMode /"+tt),Ct.publish("putCatalog"),te(">>"),te("endobj")},Em=p.__private__.putTrailer=function(){te("trailer"),te("<<"),te("/Size "+(j+1)),te("/Root "+j+" 0 R"),te("/Info "+(j-1)+" 0 R"),h!==null&&te("/Encrypt "+Yn.oid+" 0 R"),te("/ID [ <"+H+"> <"+H+"> ]"),te(">>")},Pm=p.__private__.putHeader=function(){te("%PDF-"+w),te("%")},Im=p.__private__.putXRef=function(){var v="0000000000";te("xref"),te("0 "+(j+1)),te("0000000000 65535 f ");for(var R=1;R<=j;R++)typeof ne[R]=="function"?te((v+ne[R]()).slice(-10)+" 00000 n "):ne[R]!==void 0?te((v+ne[R]).slice(-10)+" 00000 n "):te("0000000000 00000 n ")},gs=p.__private__.buildDocument=function(){Be(),ge(re),Ct.publish("buildDocument"),Pm(),ga(),Mf(),Of(),h!==null&&bm(),Am(),eu();var v=le;return Im(),Em(),te("startxref"),te(""+v),te("%%EOF"),ge(me[q]),re.join(`
`)},bl=p.__private__.getBlob=function(v){return new Blob([Ue(v)],{type:"application/pdf"})},xl=p.output=p.__private__.output=_r(function(v,R){switch(typeof(R=R||{})=="string"?R={filename:R}:R.filename=R.filename||"generated.pdf",v){case void 0:return gs();case"save":p.save(R.filename);break;case"arraybuffer":return Ue(gs());case"blob":return bl(gs());case"bloburi":case"bloburl":if(Ke.URL!==void 0&&typeof Ke.URL.createObjectURL=="function")return Ke.URL&&Ke.URL.createObjectURL(bl(gs()))||void 0;Dt.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Z="",se=gs();try{Z=Gv(se)}catch{Z=Gv(unescape(encodeURIComponent(se)))}return"data:application/pdf;filename="+R.filename+";base64,"+Z;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Ke)==="[object Window]"){var fe="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",_e=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';R.pdfObjectUrl&&(fe=R.pdfObjectUrl,_e="");var ke='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+fe+'"'+_e+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(R)+");<\/script></body></html>",Fe=Ke.open();return Fe!==null&&Fe.document.write(ke),Fe}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Ke)==="[object Window]"){var qe='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(R.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+R.filename+'" width="500px" height="400px" /></body></html>',st=Ke.open();if(st!==null){st.document.write(qe);var it=this;st.document.documentElement.querySelector("#pdfViewer").onload=function(){st.document.title=R.filename,st.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(it.output("bloburl"))}}return st}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Ke)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var gt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",R)+'"></iframe></body></html>',Jt=Ke.open();if(Jt!==null&&(Jt.document.write(gt),Jt.document.title=R.filename),Jt||typeof safari>"u")return Jt;break;case"datauri":case"dataurl":return Ke.document.location.href=this.output("datauristring",R);default:return null}}),zf=function(v){return Array.isArray(pa)===!0&&pa.indexOf(v)>-1};switch(i){case"pt":De=1;break;case"mm":De=72/25.4;break;case"cm":De=72/2.54;break;case"in":De=72;break;case"px":De=zf("px_scaling")==1?.75:96/72;break;case"pc":case"em":De=12;break;case"ex":De=6;break;default:if(typeof i!="number")throw new Error("Invalid unit: "+i);De=i}var Yn=null;ue(),B();var Lm=function(v){return h!==null?Yn.encryptor(v,0):function(R){return R}},Uf=p.__private__.getPageInfo=p.getPageInfo=function(v){if(isNaN(v)||v%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:nt[v].objId,pageNumber:v,pageContext:nt[v]}},et=p.__private__.getPageInfoByObjId=function(v){if(isNaN(v)||v%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var R in nt)if(nt[R].objId===v)break;return Uf(R)},Tm=p.__private__.getCurrentPageInfo=p.getCurrentPageInfo=function(){return{objId:nt[q].objId,pageNumber:q,pageContext:nt[q]}};p.addPage=function(){return Ff.apply(this,arguments),this},p.setPage=function(){return jf.apply(this,arguments),ge.call(this,me[q]),this},p.insertPage=function(v){return this.addPage(),this.movePage(q,v),this},p.movePage=function(v,R){var Z,se;if(v>R){Z=me[v],se=nt[v];for(var fe=v;fe>R;fe--)me[fe]=me[fe-1],nt[fe]=nt[fe-1];me[R]=Z,nt[R]=se,this.setPage(R)}else if(v<R){Z=me[v],se=nt[v];for(var _e=v;_e<R;_e++)me[_e]=me[_e+1],nt[_e]=nt[_e+1];me[R]=Z,nt[R]=se,this.setPage(R)}return this},p.deletePage=function(){return Cm.apply(this,arguments),this},p.__private__.text=p.text=function(v,R,Z,se,fe){var _e,ke,Fe,qe,st,it,gt,Jt,rn,yn=(se=se||{}).scope||this;if(typeof v=="number"&&typeof R=="number"&&(typeof Z=="string"||Array.isArray(Z))){var Kn=Z;Z=R,R=v,v=Kn}if(arguments[3]instanceof Ge?(A("The transform parameter of text() with a Matrix value"),rn=fe):(Fe=arguments[4],qe=arguments[5],Pt(gt=arguments[3])==="object"&&gt!==null||(typeof Fe=="string"&&(qe=Fe,Fe=null),typeof gt=="string"&&(qe=gt,gt=null),typeof gt=="number"&&(Fe=gt,gt=null),se={flags:gt,angle:Fe,align:qe})),isNaN(R)||isNaN(Z)||v==null)throw new Error("Invalid arguments passed to jsPDF.text");if(v.length===0)return yn;var Rn="",br=!1,Fi=typeof se.lineHeightFactor=="number"?se.lineHeightFactor:va,Kr=yn.internal.scaleFactor;function Xf(zt){return zt=zt.split("	").join(Array(se.TabLen||9).join(" ")),_i(zt,gt)}function hu(zt){for(var Ut,hn=zt.concat(),Cn=[],ws=hn.length;ws--;)typeof(Ut=hn.shift())=="string"?Cn.push(Ut):Array.isArray(zt)&&(Ut.length===1||Ut[1]===void 0&&Ut[2]===void 0)?Cn.push(Ut[0]):Cn.push([Ut[0],Ut[1],Ut[2]]);return Cn}function fu(zt,Ut){var hn;if(typeof zt=="string")hn=Ut(zt)[0];else if(Array.isArray(zt)){for(var Cn,ws,wu=zt.concat(),Fl=[],td=wu.length;td--;)typeof(Cn=wu.shift())=="string"?Fl.push(Ut(Cn)[0]):Array.isArray(Cn)&&typeof Cn[0]=="string"&&(ws=Ut(Cn[0],Cn[1],Cn[2]),Fl.push([ws[0],ws[1],ws[2]]));hn=Fl}return hn}var El=!1,du=!0;if(typeof v=="string")El=!0;else if(Array.isArray(v)){var pu=v.concat();ke=[];for(var Pl,Hn=pu.length;Hn--;)(typeof(Pl=pu.shift())!="string"||Array.isArray(Pl)&&typeof Pl[0]!="string")&&(du=!1);El=du}if(El===!1)throw new Error('Type of text must be string or Array. "'+v+'" is not recognized.');typeof v=="string"&&(v=v.match(/[\r?\n]/)?v.split(/\r\n|\r|\n/g):[v]);var Il=Le/yn.internal.scaleFactor,Ll=Il*(Fi-1);switch(se.baseline){case"bottom":Z-=Ll;break;case"top":Z+=Il-Ll;break;case"hanging":Z+=Il-2*Ll;break;case"middle":Z+=Il/2-Ll}if((it=se.maxWidth||0)>0&&(typeof v=="string"?v=yn.splitTextToSize(v,it):Object.prototype.toString.call(v)==="[object Array]"&&(v=v.reduce(function(zt,Ut){return zt.concat(yn.splitTextToSize(Ut,it))},[]))),_e={text:v,x:R,y:Z,options:se,mutex:{pdfEscape:_i,activeFontKey:ut,fonts:Ot,activeFontSize:Le}},Ct.publish("preProcessText",_e),v=_e.text,Fe=(se=_e.options).angle,!(rn instanceof Ge)&&Fe&&typeof Fe=="number"){Fe*=Math.PI/180,se.rotationDirection===0&&(Fe=-Fe),x===_.ADVANCED&&(Fe=-Fe);var Tl=Math.cos(Fe),gu=Math.sin(Fe);rn=new Ge(Tl,gu,-gu,Tl,0,0)}else Fe&&Fe instanceof Ge&&(rn=Fe);x!==_.ADVANCED||rn||(rn=qr),(st=se.charSpace||Cl)!==void 0&&(Rn+=I(P(st))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Jt=se.horizontalScale)!==void 0&&(Rn+=I(100*Jt)+` Tz
`),se.lang;var wi=-1,Hm=se.renderingMode!==void 0?se.renderingMode:se.stroke,mu=yn.internal.getCurrentPageInfo().pageContext;switch(Hm){case 0:case!1:case"fill":wi=0;break;case 1:case!0:case"stroke":wi=1;break;case 2:case"fillThenStroke":wi=2;break;case 3:case"invisible":wi=3;break;case 4:case"fillAndAddForClipping":wi=4;break;case 5:case"strokeAndAddPathForClipping":wi=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":wi=6;break;case 7:case"addToPathForClipping":wi=7}var Jf=mu.usedRenderingMode!==void 0?mu.usedRenderingMode:-1;wi!==-1?Rn+=wi+` Tr
`:Jf!==-1&&(Rn+=`0 Tr
`),wi!==-1&&(mu.usedRenderingMode=wi),qe=se.align||"left";var Ki,Rl=Le*Fi,Qf=yn.internal.pageSize.getWidth(),Zf=Ot[ut];st=se.charSpace||Cl,it=se.maxWidth||0,gt=Object.assign({autoencode:!0,noBOM:!0},se.flags);var no=[],wa=function(zt){return yn.getStringUnitWidth(zt,{font:Zf,charSpace:st,fontSize:Le,doKerning:!1})*Le/Kr};if(Object.prototype.toString.call(v)==="[object Array]"){var bi;ke=hu(v),qe!=="left"&&(Ki=ke.map(wa));var ci,io=0;if(qe==="right"){R-=Ki[0],v=[],Hn=ke.length;for(var vs=0;vs<Hn;vs++)vs===0?(ci=Yr(R),bi=ms(Z)):(ci=P(io-Ki[vs]),bi=-Rl),v.push([ke[vs],ci,bi]),io=Ki[vs]}else if(qe==="center"){R-=Ki[0]/2,v=[],Hn=ke.length;for(var ys=0;ys<Hn;ys++)ys===0?(ci=Yr(R),bi=ms(Z)):(ci=P((io-Ki[ys])/2),bi=-Rl),v.push([ke[ys],ci,bi]),io=Ki[ys]}else if(qe==="left"){v=[],Hn=ke.length;for(var Ol=0;Ol<Hn;Ol++)v.push(ke[Ol])}else if(qe==="justify"&&Zf.encoding==="Identity-H"){v=[],Hn=ke.length,it=it!==0?it:Qf;for(var _s=0,un=0;un<Hn;un++)if(bi=un===0?ms(Z):-Rl,ci=un===0?Yr(R):_s,un<Hn-1){var vu=P((it-Ki[un])/(ke[un].split(" ").length-1)),ui=ke[un].split(" ");v.push([ui[0]+" ",ci,bi]),_s=0;for(var Xi=1;Xi<ui.length;Xi++){var Ml=(wa(ui[Xi-1]+" "+ui[Xi])-wa(ui[Xi]))*Kr+vu;Xi==ui.length-1?v.push([ui[Xi],Ml,0]):v.push([ui[Xi]+" ",Ml,0]),_s-=Ml}}else v.push([ke[un],ci,bi]);v.push(["",_s,0])}else{if(qe!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(v=[],Hn=ke.length,it=it!==0?it:Qf,un=0;un<Hn;un++)bi=un===0?ms(Z):-Rl,ci=un===0?Yr(R):0,un<Hn-1?no.push(I(P((it-Ki[un])/(ke[un].split(" ").length-1)))):no.push(0),v.push([ke[un],ci,bi])}}var ed=typeof se.R2L=="boolean"?se.R2L:We;ed===!0&&(v=fu(v,function(zt,Ut,hn){return[zt.split("").reverse().join(""),Ut,hn]})),_e={text:v,x:R,y:Z,options:se,mutex:{pdfEscape:_i,activeFontKey:ut,fonts:Ot,activeFontSize:Le}},Ct.publish("postProcessText",_e),v=_e.text,br=_e.mutex.isHex||!1;var yu=Ot[ut].encoding;yu!=="WinAnsiEncoding"&&yu!=="StandardEncoding"||(v=fu(v,function(zt,Ut,hn){return[Xf(zt),Ut,hn]})),ke=hu(v),v=[];for(var ba,xa,ro,Sa=0,Dl=1,Na=Array.isArray(ke[0])?Dl:Sa,so="",_u=function(zt,Ut,hn){var Cn="";return hn instanceof Ge?(hn=typeof se.angle=="number"?gr(hn,new Ge(1,0,0,1,zt,Ut)):gr(new Ge(1,0,0,1,zt,Ut),hn),x===_.ADVANCED&&(hn=gr(new Ge(1,0,0,-1,0,0),hn)),Cn=hn.join(" ")+` Tm
`):Cn=I(zt)+" "+I(Ut)+` Td
`,Cn},Ji=0;Ji<ke.length;Ji++){switch(so="",Na){case Dl:ro=(br?"<":"(")+ke[Ji][0]+(br?">":")"),ba=parseFloat(ke[Ji][1]),xa=parseFloat(ke[Ji][2]);break;case Sa:ro=(br?"<":"(")+ke[Ji]+(br?">":")"),ba=Yr(R),xa=ms(Z)}no!==void 0&&no[Ji]!==void 0&&(so=no[Ji]+` Tw
`),Ji===0?v.push(so+_u(ba,xa,rn)+ro):Na===Sa?v.push(so+ro):Na===Dl&&v.push(so+_u(ba,xa,rn)+ro)}v=Na===Sa?v.join(` Tj
T* `):v.join(` Tj
`),v+=` Tj
`;var Qi=`BT
/`;return Qi+=ut+" "+Le+` Tf
`,Qi+=I(Le*Fi)+` TL
`,Qi+=ya+`
`,Qi+=Rn,Qi+=v,te(Qi+="ET"),d[ut]=!0,yn};var Rm=p.__private__.clip=p.clip=function(v){return te(v==="evenodd"?"W*":"W"),this};p.clipEvenOdd=function(){return Rm("evenodd")},p.__private__.discardPath=p.discardPath=function(){return te("n"),this};var Gr=p.__private__.isValidStyle=function(v){var R=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(v)!==-1&&(R=!0),R};p.__private__.setDefaultPathOperation=p.setDefaultPathOperation=function(v){return Gr(v)&&(c=v),this};var Hf=p.__private__.getStyle=p.getStyle=function(v){var R=c;switch(v){case"D":case"S":R="S";break;case"F":R="f";break;case"FD":case"DF":R="B";break;case"f":case"f*":case"B":case"B*":R=v}return R},Wf=p.close=function(){return te("h"),this};p.stroke=function(){return te("S"),this},p.fill=function(v){return Sl("f",v),this},p.fillEvenOdd=function(v){return Sl("f*",v),this},p.fillStroke=function(v){return Sl("B",v),this},p.fillStrokeEvenOdd=function(v){return Sl("B*",v),this};var Sl=function(v,R){Pt(R)==="object"?Mm(R,v):te(v)},tu=function(v){v===null||x===_.ADVANCED&&v===void 0||(v=Hf(v),te(v))};function Om(v,R,Z,se,fe){var _e=new Ua(R||this.boundingBox,Z||this.xStep,se||this.yStep,this.gState,fe||this.matrix);_e.stream=this.stream;var ke=v+"$$"+this.cloneIndex+++"$$";return yi(ke,_e),_e}var Mm=function(v,R){var Z=da[v.key],se=Nt[Z];if(se instanceof Eo)te("q"),te(Dm(R)),se.gState&&p.setGState(se.gState),te(v.matrix.toString()+" cm"),te("/"+Z+" sh"),te("Q");else if(se instanceof Ua){var fe=new Ge(1,0,0,-1,0,to());v.matrix&&(fe=fe.multiply(v.matrix||qr),Z=Om.call(se,v.key,v.boundingBox,v.xStep,v.yStep,fe).id),te("q"),te("/Pattern cs"),te("/"+Z+" scn"),se.gState&&p.setGState(se.gState),te(R),te("Q")}},Dm=function(v){switch(v){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},nu=p.moveTo=function(v,R){return te(I(P(v))+" "+I(D(R))+" m"),this},ma=p.lineTo=function(v,R){return te(I(P(v))+" "+I(D(R))+" l"),this},Zs=p.curveTo=function(v,R,Z,se,fe,_e){return te([I(P(v)),I(D(R)),I(P(Z)),I(D(se)),I(P(fe)),I(D(_e)),"c"].join(" ")),this};p.__private__.line=p.line=function(v,R,Z,se,fe){if(isNaN(v)||isNaN(R)||isNaN(Z)||isNaN(se)||!Gr(fe))throw new Error("Invalid arguments passed to jsPDF.line");return x===_.COMPAT?this.lines([[Z-v,se-R]],v,R,[1,1],fe||"S"):this.lines([[Z-v,se-R]],v,R,[1,1]).stroke()},p.__private__.lines=p.lines=function(v,R,Z,se,fe,_e){var ke,Fe,qe,st,it,gt,Jt,rn,yn,Kn,Rn,br;if(typeof v=="number"&&(br=Z,Z=R,R=v,v=br),se=se||[1,1],_e=_e||!1,isNaN(R)||isNaN(Z)||!Array.isArray(v)||!Array.isArray(se)||!Gr(fe)||typeof _e!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(nu(R,Z),ke=se[0],Fe=se[1],st=v.length,Kn=R,Rn=Z,qe=0;qe<st;qe++)(it=v[qe]).length===2?(Kn=it[0]*ke+Kn,Rn=it[1]*Fe+Rn,ma(Kn,Rn)):(gt=it[0]*ke+Kn,Jt=it[1]*Fe+Rn,rn=it[2]*ke+Kn,yn=it[3]*Fe+Rn,Kn=it[4]*ke+Kn,Rn=it[5]*Fe+Rn,Zs(gt,Jt,rn,yn,Kn,Rn));return _e&&Wf(),tu(fe),this},p.path=function(v){for(var R=0;R<v.length;R++){var Z=v[R],se=Z.c;switch(Z.op){case"m":nu(se[0],se[1]);break;case"l":ma(se[0],se[1]);break;case"c":Zs.apply(this,se);break;case"h":Wf()}}return this},p.__private__.rect=p.rect=function(v,R,Z,se,fe){if(isNaN(v)||isNaN(R)||isNaN(Z)||isNaN(se)||!Gr(fe))throw new Error("Invalid arguments passed to jsPDF.rect");return x===_.COMPAT&&(se=-se),te([I(P(v)),I(D(R)),I(P(Z)),I(P(se)),"re"].join(" ")),tu(fe),this},p.__private__.triangle=p.triangle=function(v,R,Z,se,fe,_e,ke){if(isNaN(v)||isNaN(R)||isNaN(Z)||isNaN(se)||isNaN(fe)||isNaN(_e)||!Gr(ke))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Z-v,se-R],[fe-Z,_e-se],[v-fe,R-_e]],v,R,[1,1],ke,!0),this},p.__private__.roundedRect=p.roundedRect=function(v,R,Z,se,fe,_e,ke){if(isNaN(v)||isNaN(R)||isNaN(Z)||isNaN(se)||isNaN(fe)||isNaN(_e)||!Gr(ke))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Fe=4/3*(Math.SQRT2-1);return fe=Math.min(fe,.5*Z),_e=Math.min(_e,.5*se),this.lines([[Z-2*fe,0],[fe*Fe,0,fe,_e-_e*Fe,fe,_e],[0,se-2*_e],[0,_e*Fe,-fe*Fe,_e,-fe,_e],[2*fe-Z,0],[-fe*Fe,0,-fe,-_e*Fe,-fe,-_e],[0,2*_e-se],[0,-_e*Fe,fe*Fe,-_e,fe,-_e]],v+fe,R,[1,1],ke,!0),this},p.__private__.ellipse=p.ellipse=function(v,R,Z,se,fe){if(isNaN(v)||isNaN(R)||isNaN(Z)||isNaN(se)||!Gr(fe))throw new Error("Invalid arguments passed to jsPDF.ellipse");var _e=4/3*(Math.SQRT2-1)*Z,ke=4/3*(Math.SQRT2-1)*se;return nu(v+Z,R),Zs(v+Z,R-ke,v+_e,R-se,v,R-se),Zs(v-_e,R-se,v-Z,R-ke,v-Z,R),Zs(v-Z,R+ke,v-_e,R+se,v,R+se),Zs(v+_e,R+se,v+Z,R+ke,v+Z,R),tu(fe),this},p.__private__.circle=p.circle=function(v,R,Z,se){if(isNaN(v)||isNaN(R)||isNaN(Z)||!Gr(se))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(v,R,Z,Z,se)},p.setFont=function(v,R,Z){return Z&&(R=O(R,Z)),ut=Bf(v,R,{disableWarning:!1}),this};var Fm=p.__private__.getFont=p.getFont=function(){return Ot[Bf.apply(p,arguments)]};p.__private__.getFontList=p.getFontList=function(){var v,R,Z={};for(v in Kt)if(Kt.hasOwnProperty(v))for(R in Z[v]=[],Kt[v])Kt[v].hasOwnProperty(R)&&Z[v].push(R);return Z},p.addFont=function(v,R,Z,se,fe){var _e=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&_e.indexOf(arguments[3])!==-1?fe=arguments[3]:arguments[3]&&_e.indexOf(arguments[3])==-1&&(Z=O(Z,se)),fe=fe||"Identity-H",Qc.call(this,v,R,Z,fe)};var va,iu=t.lineWidth||.200025,Nl=p.__private__.getLineWidth=p.getLineWidth=function(){return iu},qf=p.__private__.setLineWidth=p.setLineWidth=function(v){return iu=v,te(I(P(v))+" w"),this};p.__private__.setLineDash=$e.API.setLineDash=$e.API.setLineDashPattern=function(v,R){if(v=v||[],R=R||0,isNaN(R)||!Array.isArray(v))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return v=v.map(function(Z){return I(P(Z))}).join(" "),R=I(P(R)),te("["+v+"] "+R+" d"),this};var Vf=p.__private__.getLineHeight=p.getLineHeight=function(){return Le*va};p.__private__.getLineHeight=p.getLineHeight=function(){return Le*va};var $f=p.__private__.setLineHeightFactor=p.setLineHeightFactor=function(v){return typeof(v=v||1.15)=="number"&&(va=v),this},Gf=p.__private__.getLineHeightFactor=p.getLineHeightFactor=function(){return va};$f(t.lineHeight);var Yr=p.__private__.getHorizontalCoordinate=function(v){return P(v)},ms=p.__private__.getVerticalCoordinate=function(v){return x===_.ADVANCED?v:nt[q].mediaBox.topRightY-nt[q].mediaBox.bottomLeftY-P(v)},jm=p.__private__.getHorizontalCoordinateString=p.getHorizontalCoordinateString=function(v){return I(Yr(v))},eo=p.__private__.getVerticalCoordinateString=p.getVerticalCoordinateString=function(v){return I(ms(v))},wr=t.strokeColor||"0 G";p.__private__.getStrokeColor=p.getDrawColor=function(){return vr(wr)},p.__private__.setStrokeColor=p.setDrawColor=function(v,R,Z,se){return wr=yr({ch1:v,ch2:R,ch3:Z,ch4:se,pdfColorType:"draw",precision:2}),te(wr),this};var ru=t.fillColor||"0 g";p.__private__.getFillColor=p.getFillColor=function(){return vr(ru)},p.__private__.setFillColor=p.setFillColor=function(v,R,Z,se){return ru=yr({ch1:v,ch2:R,ch3:Z,ch4:se,pdfColorType:"fill",precision:2}),te(ru),this};var ya=t.textColor||"0 g",Bm=p.__private__.getTextColor=p.getTextColor=function(){return vr(ya)};p.__private__.setTextColor=p.setTextColor=function(v,R,Z,se){return ya=yr({ch1:v,ch2:R,ch3:Z,ch4:se,pdfColorType:"text",precision:3}),this};var Cl=t.charSpace,zm=p.__private__.getCharSpace=p.getCharSpace=function(){return parseFloat(Cl||0)};p.__private__.setCharSpace=p.setCharSpace=function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Cl=v,this};var su=0;p.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},p.__private__.setLineCap=p.setLineCap=function(v){var R=p.CapJoinStyles[v];if(R===void 0)throw new Error("Line cap style of '"+v+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return su=R,te(R+" J"),this};var ou=0;p.__private__.setLineJoin=p.setLineJoin=function(v){var R=p.CapJoinStyles[v];if(R===void 0)throw new Error("Line join style of '"+v+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return ou=R,te(R+" j"),this},p.__private__.setLineMiterLimit=p.__private__.setMiterLimit=p.setLineMiterLimit=p.setMiterLimit=function(v){if(v=v||0,isNaN(v))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return te(I(P(v))+" M"),this},p.GState=hf,p.setGState=function(v){(v=typeof v=="string"?tn[pr[v]]:Yf(null,v)).equals(ds)||(te("/"+v.id+" gs"),ds=v)};var Yf=function(v,R){if(!v||!pr[v]){var Z=!1;for(var se in tn)if(tn.hasOwnProperty(se)&&tn[se].equals(R)){Z=!0;break}if(Z)R=tn[se];else{var fe="GS"+(Object.keys(tn).length+1).toString(10);tn[fe]=R,R.id=fe}return v&&(pr[v]=R.id),Ct.publish("addGState",R),R}};p.addGState=function(v,R){return Yf(v,R),this},p.saveGraphicsState=function(){return te("q"),Ur.push({key:ut,size:Le,color:ya}),this},p.restoreGraphicsState=function(){te("Q");var v=Ur.pop();return ut=v.key,Le=v.size,ya=v.color,ds=null,this},p.setCurrentTransformationMatrix=function(v){return te(v.toString()+" cm"),this},p.comment=function(v){return te("#"+v),this};var kl=function(v,R){var Z=v||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Z},set:function(_e){isNaN(_e)||(Z=parseFloat(_e))}});var se=R||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return se},set:function(_e){isNaN(_e)||(se=parseFloat(_e))}});var fe="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return fe},set:function(_e){fe=_e.toString()}}),this},au=function(v,R,Z,se){kl.call(this,v,R),this.type="rect";var fe=Z||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return fe},set:function(ke){isNaN(ke)||(fe=parseFloat(ke))}});var _e=se||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return _e},set:function(ke){isNaN(ke)||(_e=parseFloat(ke))}}),this},lu=function(){this.page=nn,this.currentPage=q,this.pages=me.slice(0),this.pagesContext=nt.slice(0),this.x=Gn,this.y=bt,this.matrix=dr,this.width=_a(q),this.height=to(q),this.outputDestination=Pe,this.id="",this.objectNumber=-1};lu.prototype.restore=function(){nn=this.page,q=this.currentPage,nt=this.pagesContext,me=this.pages,Gn=this.x,bt=this.y,dr=this.matrix,cu(q,this.width),uu(q,this.height),Pe=this.outputDestination};var Kf=function(v,R,Z,se,fe){Wr.push(new lu),nn=q=0,me=[],Gn=v,bt=R,dr=fe,Zc([Z,se])},Um=function(v){if(Hr[v])Wr.pop().restore();else{var R=new lu,Z="Xo"+(Object.keys(Un).length+1).toString(10);R.id=Z,Hr[v]=Z,Un[Z]=R,Ct.publish("addFormObject",R),Wr.pop().restore()}};for(var Al in p.beginFormObject=function(v,R,Z,se,fe){return Kf(v,R,Z,se,fe),this},p.endFormObject=function(v){return Um(v),this},p.doFormObject=function(v,R){var Z=Un[Hr[v]];return te("q"),te(R.toString()+" cm"),te("/"+Z.id+" Do"),te("Q"),this},p.getFormObject=function(v){var R=Un[Hr[v]];return{x:R.x,y:R.y,width:R.width,height:R.height,matrix:R.matrix}},p.save=function(v,R){return v=v||"generated.pdf",(R=R||{}).returnPromise=R.returnPromise||!1,R.returnPromise===!1?(Oa(bl(gs()),v),typeof Oa.unload=="function"&&Ke.setTimeout&&setTimeout(Oa.unload,911),this):new Promise(function(Z,se){try{var fe=Oa(bl(gs()),v);typeof Oa.unload=="function"&&Ke.setTimeout&&setTimeout(Oa.unload,911),Z(fe)}catch(_e){se(_e.message)}})},$e.API)$e.API.hasOwnProperty(Al)&&(Al==="events"&&$e.API.events.length?function(v,R){var Z,se,fe;for(fe=R.length-1;fe!==-1;fe--)Z=R[fe][0],se=R[fe][1],v.subscribe.apply(v,[Z].concat(typeof se=="function"?[se]:se))}(Ct,$e.API.events):p[Al]=$e.API[Al]);var _a=p.getPageWidth=function(v){return(nt[v=v||q].mediaBox.topRightX-nt[v].mediaBox.bottomLeftX)/De},cu=p.setPageWidth=function(v,R){nt[v].mediaBox.topRightX=R*De+nt[v].mediaBox.bottomLeftX},to=p.getPageHeight=function(v){return(nt[v=v||q].mediaBox.topRightY-nt[v].mediaBox.bottomLeftY)/De},uu=p.setPageHeight=function(v,R){nt[v].mediaBox.topRightY=R*De+nt[v].mediaBox.bottomLeftY};return p.internal={pdfEscape:_i,getStyle:Hf,getFont:Fm,getFontSize:Oe,getCharSpace:zm,getTextColor:Bm,getLineHeight:Vf,getLineHeightFactor:Gf,getLineWidth:Nl,write:Je,getHorizontalCoordinate:Yr,getVerticalCoordinate:ms,getCoordinateString:jm,getVerticalCoordinateString:eo,collections:{},newObject:Nn,newAdditionalObject:dl,newObjectDeferred:vn,newObjectDeferredBegin:Di,getFilters:Vr,putStream:Yi,events:Ct,scaleFactor:De,pageSize:{getWidth:function(){return _a(q)},setWidth:function(v){cu(q,v)},getHeight:function(){return to(q)},setHeight:function(v){uu(q,v)}},encryptionOptions:h,encryption:Yn,getEncryptor:Lm,output:xl,getNumberOfPages:km,pages:me,out:te,f2:W,f3:E,getPageInfo:Uf,getPageInfoByObjId:et,getCurrentPageInfo:Tm,getPDFVersion:y,Point:kl,Rectangle:au,Matrix:Ge,hasHotfix:zf},Object.defineProperty(p.internal.pageSize,"width",{get:function(){return _a(q)},set:function(v){cu(q,v)},enumerable:!0,configurable:!0}),Object.defineProperty(p.internal.pageSize,"height",{get:function(){return to(q)},set:function(v){uu(q,v)},enumerable:!0,configurable:!0}),Nm.call(p,Ae),ut="F1",Ff(r,n),Ct.publish("initialized"),p}Yl.prototype.lsbFirstWord=function(t){return String.fromCharCode(t>>0&255,t>>8&255,t>>16&255,t>>24&255)},Yl.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Yl.prototype.hexToBytes=function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(String.fromCharCode(parseInt(t.substr(n,2),16)));return e.join("")},Yl.prototype.processOwnerPassword=function(t,e){return Kv(Yv(e).substr(0,5),t)},Yl.prototype.encryptor=function(t,e){var n=Yv(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(i){return Kv(n,i)}},hf.prototype.equals=function(t){var e,n="id,objectNumber,equals";if(!t||Pt(t)!==Pt(this))return!1;var i=0;for(e in this)if(!(n.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;i++}for(e in t)t.hasOwnProperty(e)&&n.indexOf(e)<0&&i--;return i===0},$e.API={events:[]},$e.version="2.5.2";var on=$e.API,s5=1,fl=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},$l=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},rt=function(t){return t.toFixed(2)},vo=function(t){return t.toFixed(5)};on.__acroform__={};var Mi=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},Nx=function(t){return t*s5},es=function(t){var e=new xk,n=He.internal.getHeight(t)||0,i=He.internal.getWidth(t)||0;return e.BBox=[0,0,Number(rt(i)),Number(rt(n))],e},$j=on.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|=1<<e},Gj=on.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&=~(1<<e)},Yj=on.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},dn=on.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return Yj(t,e-1)},pn=on.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return $j(t,e-1)},gn=on.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Gj(t,e-1)},Kj=on.__acroform__.calculateCoordinates=function(t,e){var n=e.internal.getHorizontalCoordinate,i=e.internal.getVerticalCoordinate,r=t[0],s=t[1],o=t[2],a=t[3],l={};return l.lowerLeft_X=n(r)||0,l.lowerLeft_Y=i(s+a)||0,l.upperRight_X=n(r+o)||0,l.upperRight_Y=i(s)||0,[Number(rt(l.lowerLeft_X)),Number(rt(l.lowerLeft_Y)),Number(rt(l.upperRight_X)),Number(rt(l.upperRight_Y))]},Xj=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],n=t._V||t.DV,i=Xv(t,n),r=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+r+" "+rt(i.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(i.text),e.push("ET"),e.push("Q"),e.push("EMC");var s=es(t);return s.scope=t.scope,s.stream=e.join(`
`),s}},Xv=function(t,e){var n=t.fontSize===0?t.maxFontSize:t.fontSize,i={text:"",fontSize:""},r=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");r=t.multiline?r.map(function(E){return E.split(`
`)}):r.map(function(E){return[E]});var s=n,o=He.internal.getHeight(t)||0;o=o<0?-o:o;var a=He.internal.getWidth(t)||0;a=a<0?-a:a;var l=function(E,P,K){if(E+1<r.length){var D=P+" "+r[E+1][0];return np(D,t,K).width<=a-4}return!1};s++;e:for(;s>0;){e="",s--;var c,h,f=np("3",t,s).height,d=t.multiline?o-s:(o-f)/2,p=d+=2,w=0,y=0,S=0;if(s<=0){e=`(...) Tj
`,e+="% Width of Text: "+np(e,t,s=12).width+", FieldWidth:"+a+`
`;break}for(var m="",_=0,x=0;x<r.length;x++)if(r.hasOwnProperty(x)){var N=!1;if(r[x].length!==1&&S!==r[x].length-1){if((f+2)*(_+2)+2>o)continue e;m+=r[x][S],N=!0,y=x,x--}else{m=(m+=r[x][S]+" ").substr(m.length-1)==" "?m.substr(0,m.length-1):m;var k=parseInt(x),O=l(k,m,s),I=x>=r.length-1;if(O&&!I){m+=" ",S=0;continue}if(O||I){if(I)y=k;else if(t.multiline&&(f+2)*(_+2)+2>o)continue e}else{if(!t.multiline||(f+2)*(_+2)+2>o)continue e;y=k}}for(var A="",U=w;U<=y;U++){var W=r[U];if(t.multiline){if(U===y){A+=W[S]+" ",S=(S+1)%W.length;continue}if(U===w){A+=W[W.length-1]+" ";continue}}A+=W[0]+" "}switch(A=A.substr(A.length-1)==" "?A.substr(0,A.length-1):A,h=np(A,t,s).width,t.textAlign){case"right":c=a-h-2;break;case"center":c=(a-h)/2;break;case"left":default:c=2}e+=rt(c)+" "+rt(p)+` Td
`,e+="("+fl(A)+`) Tj
`,e+=-rt(c)+` 0 Td
`,p=-(s+2),h=0,w=N?y:y+1,_++,m=""}break}return i.text=e,i.fontSize=s,i},np=function(t,e,n){var i=e.scope.internal.getFont(e.fontName,e.fontStyle),r=e.scope.getStringUnitWidth(t,{font:i,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:e.scope.getStringUnitWidth("3",{font:i,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:r}},Jj={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},Qj=function(t,e){var n={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(i){return i.type===n.type&&i.object===n.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(n)},Zj=function(t,e){for(var n in t)if(t.hasOwnProperty(n)){var i=n,r=t[n];e.internal.newObjectDeferredBegin(r.objId,!0),Pt(r)==="object"&&typeof r.putStream=="function"&&r.putStream(),delete t[i]}},e9=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(Br.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(Jj)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");s5=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new Sk,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var i=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var r in i)if(i.hasOwnProperty(r)){var s=i[r];s.objId=void 0,s.hasAnnotation&&Qj(s,n)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(n){(function(i,r){var s=!i;for(var o in i||(r.internal.newObjectDeferredBegin(r.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),r.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),i=i||r.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(i.hasOwnProperty(o)){var a=i[o],l=[],c=a.Rect;if(a.Rect&&(a.Rect=Kj(a.Rect,r)),r.internal.newObjectDeferredBegin(a.objId,!0),a.DA=He.createDefaultAppearanceStream(a),Pt(a)==="object"&&typeof a.getKeyValueListForStream=="function"&&(l=a.getKeyValueListForStream()),a.Rect=c,a.hasAppearanceStream&&!a.appearanceStreamContent){var h=Xj(a);l.push({key:"AP",value:"<</N "+h+">>"}),r.internal.acroformPlugin.xForms.push(h)}if(a.appearanceStreamContent){var f="";for(var d in a.appearanceStreamContent)if(a.appearanceStreamContent.hasOwnProperty(d)){var p=a.appearanceStreamContent[d];if(f+="/"+d+" ",f+="<<",Object.keys(p).length>=1||Array.isArray(p)){for(var o in p)if(p.hasOwnProperty(o)){var w=p[o];typeof w=="function"&&(w=w.call(r,a)),f+="/"+o+" "+w+" ",r.internal.acroformPlugin.xForms.indexOf(w)>=0||r.internal.acroformPlugin.xForms.push(w)}}else typeof(w=p)=="function"&&(w=w.call(r,a)),f+="/"+o+" "+w,r.internal.acroformPlugin.xForms.indexOf(w)>=0||r.internal.acroformPlugin.xForms.push(w);f+=">>"}l.push({key:"AP",value:`<<
`+f+">>"})}r.internal.putStream({additionalKeyValues:l,objectId:a.objId}),r.internal.out("endobj")}s&&Zj(r.internal.acroformPlugin.xForms,r)})(n,t)}),t.internal.acroformPlugin.isInitialized=!0}},bk=on.__acroform__.arrayToPdfArray=function(t,e,n){var i=function(o){return o};if(Array.isArray(t)){for(var r="[",s=0;s<t.length;s++)switch(s!==0&&(r+=" "),Pt(t[s])){case"boolean":case"number":case"object":r+=t[s].toString();break;case"string":t[s].substr(0,1)!=="/"?(e!==void 0&&n&&(i=n.internal.getEncryptor(e)),r+="("+fl(i(t[s].toString()))+")"):r+=t[s].toString()}return r+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},f1=function(t,e,n){var i=function(r){return r};return e!==void 0&&n&&(i=n.internal.getEncryptor(e)),(t=t||"").toString(),t="("+fl(i(t))+")"},ss=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};ss.prototype.toString=function(){return this.objId+" 0 R"},ss.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},ss.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var n in e)if(Object.getOwnPropertyDescriptor(this,e[n]).configurable===!1){var i=e[n],r=this[i];r&&(Array.isArray(r)?t.push({key:i,value:bk(r,this.objId,this.scope)}):r instanceof ss?(r.scope=this.scope,t.push({key:i,value:r.objId+" 0 R"})):typeof r!="function"&&t.push({key:i,value:r}))}return t};var xk=function(){ss.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){t=n.trim()},get:function(){return t||null}})};Mi(xk,ss);var Sk=function(){ss.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var n=function(i){return i};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+fl(n(t))+")"}},set:function(n){t=n}})};Mi(Sk,ss);var Br=function t(){ss.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(m){if(isNaN(m))throw new Error('Invalid value "'+m+'" for attribute F supplied.');e=m}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!dn(e,3)},set:function(m){m?this.F=pn(e,3):this.F=gn(e,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(m){if(isNaN(m))throw new Error('Invalid value "'+m+'" for attribute Ff supplied.');n=m}});var i=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(i.length!==0)return i},set:function(m){i=m!==void 0?m:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[0])?0:i[0]},set:function(m){i[0]=m}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[1])?0:i[1]},set:function(m){i[1]=m}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[2])?0:i[2]},set:function(m){i[2]=m}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[3])?0:i[3]},set:function(m){i[3]=m}});var r="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return r},set:function(m){switch(m){case"/Btn":case"/Tx":case"/Ch":case"/Sig":r=m;break;default:throw new Error('Invalid value "'+m+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof Tg)return;s="FieldObject"+t.FieldNum++}var m=function(_){return _};return this.scope&&(m=this.scope.internal.getEncryptor(this.objId)),"("+fl(m(s))+")"},set:function(m){s=m.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(m){s=m}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(m){o=m}});var a="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return a},set:function(m){a=m}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(m){l=m}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return c===void 0?50/s5:c},set:function(m){c=m}});var h="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return h},set:function(m){h=m}});var f="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!f||this instanceof Tg||this instanceof Qo))return f1(f,this.objId,this.scope)},set:function(m){m=m.toString(),f=m}});var d=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(d)return this instanceof An?d:f1(d,this.objId,this.scope)},set:function(m){m=m.toString(),d=this instanceof An?m:m.substr(0,1)==="("?$l(m.substr(1,m.length-2)):$l(m)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof An?$l(d.substr(1,d.length-1)):d},set:function(m){m=m.toString(),d=this instanceof An?"/"+m:m}});var p=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(p)return p},set:function(m){this.V=m}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof An?p:f1(p,this.objId,this.scope)},set:function(m){m=m.toString(),p=this instanceof An?m:m.substr(0,1)==="("?$l(m.substr(1,m.length-2)):$l(m)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof An?$l(p.substr(1,p.length-1)):p},set:function(m){m=m.toString(),p=this instanceof An?"/"+m:m}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var w,y=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return y},set:function(m){m=!!m,y=m}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(w)return w},set:function(m){w=m}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!dn(this.Ff,1)},set:function(m){m?this.Ff=pn(this.Ff,1):this.Ff=gn(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!dn(this.Ff,2)},set:function(m){m?this.Ff=pn(this.Ff,2):this.Ff=gn(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!dn(this.Ff,3)},set:function(m){m?this.Ff=pn(this.Ff,3):this.Ff=gn(this.Ff,3)}});var S=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(S!==null)return S},set:function(m){if([0,1,2].indexOf(m)===-1)throw new Error('Invalid value "'+m+'" for attribute Q supplied.');S=m}}),Object.defineProperty(this,"textAlign",{get:function(){var m;switch(S){case 0:default:m="left";break;case 1:m="center";break;case 2:m="right"}return m},configurable:!0,enumerable:!0,set:function(m){switch(m){case"right":case 2:S=2;break;case"center":case 1:S=1;break;case"left":case 0:default:S=0}}})};Mi(Br,ss);var $a=function(){Br.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(n){t=n}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return bk(e,this.objId,this.scope)},set:function(n){var i,r;r=[],typeof(i=n)=="string"&&(r=function(s,o,a){a||(a=1);for(var l,c=[];l=o.exec(s);)c.push(l[a]);return c}(i,/\((.*?)\)/g)),e=r}}),this.getOptions=function(){return e},this.setOptions=function(n){e=n,this.sort&&e.sort()},this.addOption=function(n){n=(n=n||"").toString(),e.push(n),this.sort&&e.sort()},this.removeOption=function(n,i){for(i=i||!1,n=(n=n||"").toString();e.indexOf(n)!==-1&&(e.splice(e.indexOf(n),1),i!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!dn(this.Ff,18)},set:function(n){n?this.Ff=pn(this.Ff,18):this.Ff=gn(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!dn(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=pn(this.Ff,19):this.Ff=gn(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!dn(this.Ff,20)},set:function(n){n?(this.Ff=pn(this.Ff,20),e.sort()):this.Ff=gn(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!dn(this.Ff,22)},set:function(n){n?this.Ff=pn(this.Ff,22):this.Ff=gn(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!dn(this.Ff,23)},set:function(n){n?this.Ff=pn(this.Ff,23):this.Ff=gn(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!dn(this.Ff,27)},set:function(n){n?this.Ff=pn(this.Ff,27):this.Ff=gn(this.Ff,27)}}),this.hasAppearanceStream=!1};Mi($a,Br);var Ga=function(){$a.call(this),this.fontName="helvetica",this.combo=!1};Mi(Ga,$a);var Ya=function(){Ga.call(this),this.combo=!0};Mi(Ya,Ga);var Nh=function(){Ya.call(this),this.edit=!0};Mi(Nh,Ya);var An=function(){Br.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!dn(this.Ff,15)},set:function(n){n?this.Ff=pn(this.Ff,15):this.Ff=gn(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!dn(this.Ff,16)},set:function(n){n?this.Ff=pn(this.Ff,16):this.Ff=gn(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!dn(this.Ff,17)},set:function(n){n?this.Ff=pn(this.Ff,17):this.Ff=gn(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!dn(this.Ff,26)},set:function(n){n?this.Ff=pn(this.Ff,26):this.Ff=gn(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(s){return s};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var i,r=[];for(i in r.push("<<"),e)r.push("/"+i+" ("+fl(n(e[i]))+")");return r.push(">>"),r.join(`
`)}},set:function(n){Pt(n)==="object"&&(e=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(n){typeof n=="string"&&(e.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(n){t="/"+n}})};Mi(An,Br);var Ch=function(){An.call(this),this.pushButton=!0};Mi(Ch,An);var Ka=function(){An.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};Mi(Ka,An);var Tg=function(){var t,e;Br.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(r){e=r}});var n,i={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(a){return a};this.scope&&(r=this.scope.internal.getEncryptor(this.objId));var s,o=[];for(s in o.push("<<"),i)o.push("/"+s+" ("+fl(r(i[s]))+")");return o.push(">>"),o.join(`
`)},set:function(r){Pt(r)==="object"&&(i=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return i.CA||""},set:function(r){typeof r=="string"&&(i.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(r){n=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(r){n="/"+r}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=He.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Mi(Tg,Br),Ka.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var n=this.Kids[e];n.appearanceStreamContent=t.createAppearanceStream(n.optionName),n.caption=t.getCA()}},Ka.prototype.createOption=function(t){var e=new Tg;return e.Parent=this,e.optionName=t,this.Kids.push(e),t9.call(this.scope,e),e};var kh=function(){An.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=He.CheckBox.createAppearanceStream()};Mi(kh,An);var Qo=function(){Br.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!dn(this.Ff,13)},set:function(e){e?this.Ff=pn(this.Ff,13):this.Ff=gn(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!dn(this.Ff,21)},set:function(e){e?this.Ff=pn(this.Ff,21):this.Ff=gn(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!dn(this.Ff,23)},set:function(e){e?this.Ff=pn(this.Ff,23):this.Ff=gn(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!dn(this.Ff,24)},set:function(e){e?this.Ff=pn(this.Ff,24):this.Ff=gn(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!dn(this.Ff,25)},set:function(e){e?this.Ff=pn(this.Ff,25):this.Ff=gn(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!dn(this.Ff,26)},set:function(e){e?this.Ff=pn(this.Ff,26):this.Ff=gn(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Mi(Qo,Br);var Ah=function(){Qo.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!dn(this.Ff,14)},set:function(t){t?this.Ff=pn(this.Ff,14):this.Ff=gn(this.Ff,14)}}),this.password=!0};Mi(Ah,Qo);var He={CheckBox:{createAppearanceStream:function(){return{N:{On:He.CheckBox.YesNormal},D:{On:He.CheckBox.YesPushDown,Off:He.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=es(t);e.scope=t.scope;var n=[],i=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color),s=Xv(t,t.caption);return n.push("0.749023 g"),n.push("0 0 "+rt(He.internal.getWidth(t))+" "+rt(He.internal.getHeight(t))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+i+" "+rt(s.fontSize)+" Tf "+r),n.push("BT"),n.push(s.text),n.push("ET"),n.push("Q"),n.push("EMC"),e.stream=n.join(`
`),e},YesNormal:function(t){var e=es(t);e.scope=t.scope;var n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),r=[],s=He.internal.getHeight(t),o=He.internal.getWidth(t),a=Xv(t,t.caption);return r.push("1 g"),r.push("0 0 "+rt(o)+" "+rt(s)+" re"),r.push("f"),r.push("q"),r.push("0 0 1 rg"),r.push("0 0 "+rt(o-1)+" "+rt(s-1)+" re"),r.push("W"),r.push("n"),r.push("0 g"),r.push("BT"),r.push("/"+n+" "+rt(a.fontSize)+" Tf "+i),r.push(a.text),r.push("ET"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=es(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+rt(He.internal.getWidth(t))+" "+rt(He.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:He.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=He.RadioButton.Circle.YesNormal,e.D[t]=He.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=es(t);e.scope=t.scope;var n=[],i=He.internal.getWidth(t)<=He.internal.getHeight(t)?He.internal.getWidth(t)/4:He.internal.getHeight(t)/4;i=Number((.9*i).toFixed(5));var r=He.internal.Bezier_C,s=Number((i*r).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+vo(He.internal.getWidth(t)/2)+" "+vo(He.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=es(t);e.scope=t.scope;var n=[],i=He.internal.getWidth(t)<=He.internal.getHeight(t)?He.internal.getWidth(t)/4:He.internal.getHeight(t)/4;i=Number((.9*i).toFixed(5));var r=Number((2*i).toFixed(5)),s=Number((r*He.internal.Bezier_C).toFixed(5)),o=Number((i*He.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+vo(He.internal.getWidth(t)/2)+" "+vo(He.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),n.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),n.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),n.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+vo(He.internal.getWidth(t)/2)+" "+vo(He.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+o+" "+o+" "+i+" 0 "+i+" c"),n.push("-"+o+" "+i+" -"+i+" "+o+" -"+i+" 0 c"),n.push("-"+i+" -"+o+" -"+o+" -"+i+" 0 -"+i+" c"),n.push(o+" -"+i+" "+i+" -"+o+" "+i+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=es(t);e.scope=t.scope;var n=[],i=He.internal.getWidth(t)<=He.internal.getHeight(t)?He.internal.getWidth(t)/4:He.internal.getHeight(t)/4;i=Number((.9*i).toFixed(5));var r=Number((2*i).toFixed(5)),s=Number((r*He.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+vo(He.internal.getWidth(t)/2)+" "+vo(He.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),n.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),n.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),n.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:He.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=He.RadioButton.Cross.YesNormal,e.D[t]=He.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=es(t);e.scope=t.scope;var n=[],i=He.internal.calculateCross(t);return n.push("q"),n.push("1 1 "+rt(He.internal.getWidth(t)-2)+" "+rt(He.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(rt(i.x1.x)+" "+rt(i.x1.y)+" m"),n.push(rt(i.x2.x)+" "+rt(i.x2.y)+" l"),n.push(rt(i.x4.x)+" "+rt(i.x4.y)+" m"),n.push(rt(i.x3.x)+" "+rt(i.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=es(t);e.scope=t.scope;var n=He.internal.calculateCross(t),i=[];return i.push("0.749023 g"),i.push("0 0 "+rt(He.internal.getWidth(t))+" "+rt(He.internal.getHeight(t))+" re"),i.push("f"),i.push("q"),i.push("1 1 "+rt(He.internal.getWidth(t)-2)+" "+rt(He.internal.getHeight(t)-2)+" re"),i.push("W"),i.push("n"),i.push(rt(n.x1.x)+" "+rt(n.x1.y)+" m"),i.push(rt(n.x2.x)+" "+rt(n.x2.y)+" l"),i.push(rt(n.x4.x)+" "+rt(n.x4.y)+" m"),i.push(rt(n.x3.x)+" "+rt(n.x3.y)+" l"),i.push("s"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(t){var e=es(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+rt(He.internal.getWidth(t))+" "+rt(He.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+n}};He.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=He.internal.getWidth(t),n=He.internal.getHeight(t),i=Math.min(e,n);return{x1:{x:(e-i)/2,y:(n-i)/2+i},x2:{x:(e-i)/2+i,y:(n-i)/2},x3:{x:(e-i)/2,y:(n-i)/2},x4:{x:(e-i)/2+i,y:(n-i)/2+i}}}},He.internal.getWidth=function(t){var e=0;return Pt(t)==="object"&&(e=Nx(t.Rect[2])),e},He.internal.getHeight=function(t){var e=0;return Pt(t)==="object"&&(e=Nx(t.Rect[3])),e};var t9=on.addField=function(t){if(e9(this,t),!(t instanceof Br))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};on.AcroFormChoiceField=$a,on.AcroFormListBox=Ga,on.AcroFormComboBox=Ya,on.AcroFormEditBox=Nh,on.AcroFormButton=An,on.AcroFormPushButton=Ch,on.AcroFormRadioButton=Ka,on.AcroFormCheckBox=kh,on.AcroFormTextField=Qo,on.AcroFormPasswordField=Ah,on.AcroFormAppearance=He,on.AcroForm={ChoiceField:$a,ListBox:Ga,ComboBox:Ya,EditBox:Nh,Button:An,PushButton:Ch,RadioButton:Ka,CheckBox:kh,TextField:Qo,PasswordField:Ah,Appearance:He},$e.AcroForm={ChoiceField:$a,ListBox:Ga,ComboBox:Ya,EditBox:Nh,Button:An,PushButton:Ch,RadioButton:Ka,CheckBox:kh,TextField:Qo,PasswordField:Ah,Appearance:He};var n9=$e.AcroForm;function Nk(t){return t.reduce(function(e,n,i){return e[n]=i,e},{})}(function(t){t.__addimage__={};var e="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=t.__addimage__.getImageFileTypeByImageData=function(E,P){var K,D,Q,H,$,B=e;if((P=P||e)==="RGBA"||E.data!==void 0&&E.data instanceof Uint8ClampedArray&&"height"in E&&"width"in E)return"RGBA";if(O(E))for($ in n)for(Q=n[$],K=0;K<Q.length;K+=1){for(H=!0,D=0;D<Q[K].length;D+=1)if(Q[K][D]!==void 0&&Q[K][D]!==E[D]){H=!1;break}if(H===!0){B=$;break}}else for($ in n)for(Q=n[$],K=0;K<Q.length;K+=1){for(H=!0,D=0;D<Q[K].length;D+=1)if(Q[K][D]!==void 0&&Q[K][D]!==E.charCodeAt(D)){H=!1;break}if(H===!0){B=$;break}}return B===e&&P!==e&&(B=P),B},r=function E(P){for(var K=this.internal.write,D=this.internal.putStream,Q=(0,this.internal.getFilters)();Q.indexOf("FlateEncode")!==-1;)Q.splice(Q.indexOf("FlateEncode"),1);P.objectId=this.internal.newObject();var H=[];if(H.push({key:"Type",value:"/XObject"}),H.push({key:"Subtype",value:"/Image"}),H.push({key:"Width",value:P.width}),H.push({key:"Height",value:P.height}),P.colorSpace===S.INDEXED?H.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(P.palette.length/3-1)+" "+("sMask"in P&&P.sMask!==void 0?P.objectId+2:P.objectId+1)+" 0 R]"}):(H.push({key:"ColorSpace",value:"/"+P.colorSpace}),P.colorSpace===S.DEVICE_CMYK&&H.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),H.push({key:"BitsPerComponent",value:P.bitsPerComponent}),"decodeParameters"in P&&P.decodeParameters!==void 0&&H.push({key:"DecodeParms",value:"<<"+P.decodeParameters+">>"}),"transparency"in P&&Array.isArray(P.transparency)){for(var $="",B=0,G=P.transparency.length;B<G;B++)$+=P.transparency[B]+" "+P.transparency[B]+" ";H.push({key:"Mask",value:"["+$+"]"})}P.sMask!==void 0&&H.push({key:"SMask",value:P.objectId+1+" 0 R"});var ie=P.filter!==void 0?["/"+P.filter]:void 0;if(D({data:P.data,additionalKeyValues:H,alreadyAppliedFilters:ie,objectId:P.objectId}),K("endobj"),"sMask"in P&&P.sMask!==void 0){var ue="/Predictor "+P.predictor+" /Colors 1 /BitsPerComponent "+P.bitsPerComponent+" /Columns "+P.width,L={width:P.width,height:P.height,colorSpace:"DeviceGray",bitsPerComponent:P.bitsPerComponent,decodeParameters:ue,data:P.sMask};"filter"in P&&(L.filter=P.filter),E.call(this,L)}if(P.colorSpace===S.INDEXED){var q=this.internal.newObject();D({data:A(new Uint8Array(P.palette)),objectId:q}),K("endobj")}},s=function(){var E=this.internal.collections.addImage_images;for(var P in E)r.call(this,E[P])},o=function(){var E,P=this.internal.collections.addImage_images,K=this.internal.write;for(var D in P)K("/I"+(E=P[D]).index,E.objectId,"0","R")},a=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",o))},l=function(){var E=this.internal.collections.addImage_images;return a.call(this),E},c=function(){return Object.keys(this.internal.collections.addImage_images).length},h=function(E){return typeof t["process"+E.toUpperCase()]=="function"},f=function(E){return Pt(E)==="object"&&E.nodeType===1},d=function(E,P){if(E.nodeName==="IMG"&&E.hasAttribute("src")){var K=""+E.getAttribute("src");if(K.indexOf("data:image/")===0)return Sh(unescape(K).split("base64,").pop());var D=t.loadFile(K,!0);if(D!==void 0)return D}if(E.nodeName==="CANVAS"){if(E.width===0||E.height===0)throw new Error("Given canvas must have data. Canvas width: "+E.width+", height: "+E.height);var Q;switch(P){case"PNG":Q="image/png";break;case"WEBP":Q="image/webp";break;case"JPEG":case"JPG":default:Q="image/jpeg"}return Sh(E.toDataURL(Q,1).split("base64,").pop())}},p=function(E){var P=this.internal.collections.addImage_images;if(P){for(var K in P)if(E===P[K].alias)return P[K]}},w=function(E,P,K){return E||P||(E=-96,P=-96),E<0&&(E=-1*K.width*72/E/this.internal.scaleFactor),P<0&&(P=-1*K.height*72/P/this.internal.scaleFactor),E===0&&(E=P*K.width/K.height),P===0&&(P=E*K.height/K.width),[E,P]},y=function(E,P,K,D,Q,H){var $=w.call(this,K,D,Q),B=this.internal.getCoordinateString,G=this.internal.getVerticalCoordinateString,ie=l.call(this);if(K=$[0],D=$[1],ie[Q.index]=Q,H){H*=Math.PI/180;var ue=Math.cos(H),L=Math.sin(H),q=function(J){return J.toFixed(4)},Y=[q(ue),q(L),q(-1*L),q(ue),0,0,"cm"]}this.internal.write("q"),H?(this.internal.write([1,"0","0",1,B(E),G(P+D),"cm"].join(" ")),this.internal.write(Y.join(" ")),this.internal.write([B(K),"0","0",B(D),"0","0","cm"].join(" "))):this.internal.write([B(K),"0","0",B(D),B(E),G(P+D),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+Q.index+" Do"),this.internal.write("Q")},S=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var m=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},_=t.__addimage__.sHashCode=function(E){var P,K,D=0;if(typeof E=="string")for(K=E.length,P=0;P<K;P++)D=(D<<5)-D+E.charCodeAt(P),D|=0;else if(O(E))for(K=E.byteLength/2,P=0;P<K;P++)D=(D<<5)-D+E[P],D|=0;return D},x=t.__addimage__.validateStringAsBase64=function(E){(E=E||"").toString().trim();var P=!0;return E.length===0&&(P=!1),E.length%4!=0&&(P=!1),/^[A-Za-z0-9+/]+$/.test(E.substr(0,E.length-2))===!1&&(P=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(E.substr(-2))===!1&&(P=!1),P},N=t.__addimage__.extractImageFromDataUrl=function(E){var P=(E=E||"").split("base64,"),K=null;if(P.length===2){var D=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(P[0]);Array.isArray(D)&&(K={mimeType:D[1],charset:D[2],data:P[1]})}return K},k=t.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};t.__addimage__.isArrayBuffer=function(E){return k()&&E instanceof ArrayBuffer};var O=t.__addimage__.isArrayBufferView=function(E){return k()&&typeof Uint32Array<"u"&&(E instanceof Int8Array||E instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&E instanceof Uint8ClampedArray||E instanceof Int16Array||E instanceof Uint16Array||E instanceof Int32Array||E instanceof Uint32Array||E instanceof Float32Array||E instanceof Float64Array)},I=t.__addimage__.binaryStringToUint8Array=function(E){for(var P=E.length,K=new Uint8Array(P),D=0;D<P;D++)K[D]=E.charCodeAt(D);return K},A=t.__addimage__.arrayBufferToBinaryString=function(E){for(var P="",K=O(E)?E:new Uint8Array(E),D=0;D<K.length;D+=8192)P+=String.fromCharCode.apply(null,K.subarray(D,D+8192));return P};t.addImage=function(){var E,P,K,D,Q,H,$,B,G;if(typeof arguments[1]=="number"?(P=e,K=arguments[1],D=arguments[2],Q=arguments[3],H=arguments[4],$=arguments[5],B=arguments[6],G=arguments[7]):(P=arguments[1],K=arguments[2],D=arguments[3],Q=arguments[4],H=arguments[5],$=arguments[6],B=arguments[7],G=arguments[8]),Pt(E=arguments[0])==="object"&&!f(E)&&"imageData"in E){var ie=E;E=ie.imageData,P=ie.format||P||e,K=ie.x||K||0,D=ie.y||D||0,Q=ie.w||ie.width||Q,H=ie.h||ie.height||H,$=ie.alias||$,B=ie.compression||B,G=ie.rotation||ie.angle||G}var ue=this.internal.getFilters();if(B===void 0&&ue.indexOf("FlateEncode")!==-1&&(B="SLOW"),isNaN(K)||isNaN(D))throw new Error("Invalid coordinates passed to jsPDF.addImage");a.call(this);var L=U.call(this,E,P,$,B);return y.call(this,K,D,Q,H,L,G),this};var U=function(E,P,K,D){var Q,H,$;if(typeof E=="string"&&i(E)===e){E=unescape(E);var B=W(E,!1);(B!==""||(B=t.loadFile(E,!0))!==void 0)&&(E=B)}if(f(E)&&(E=d(E,P)),P=i(E,P),!h(P))throw new Error("addImage does not support files of type '"+P+"', please ensure that a plugin for '"+P+"' support is added.");if((($=K)==null||$.length===0)&&(K=function(G){return typeof G=="string"||O(G)?_(G):O(G.data)?_(G.data):null}(E)),(Q=p.call(this,K))||(k()&&(E instanceof Uint8Array||P==="RGBA"||(H=E,E=I(E))),Q=this["process"+P.toUpperCase()](E,c.call(this),K,function(G){return G&&typeof G=="string"&&(G=G.toUpperCase()),G in t.image_compression?G:m.NONE}(D),H)),!Q)throw new Error("An unknown error occurred whilst processing the image.");return Q},W=t.__addimage__.convertBase64ToBinaryString=function(E,P){var K;P=typeof P!="boolean"||P;var D,Q="";if(typeof E=="string"){D=(K=N(E))!==null?K.data:E;try{Q=Sh(D)}catch(H){if(P)throw x(D)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+H.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return Q};t.getImageProperties=function(E){var P,K,D="";if(f(E)&&(E=d(E)),typeof E=="string"&&i(E)===e&&((D=W(E,!1))===""&&(D=t.loadFile(E)||""),E=D),K=i(E),!h(K))throw new Error("addImage does not support files of type '"+K+"', please ensure that a plugin for '"+K+"' support is added.");if(!k()||E instanceof Uint8Array||(E=I(E)),!(P=this["process"+K.toUpperCase()](E)))throw new Error("An unknown error occurred whilst processing the image");return P.fileType=K,P}})($e.API),function(t){var e=function(n){if(n!==void 0&&n!="")return!0};$e.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(n){for(var i,r,s,o=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(n.objId),c=n.pageContext.annotations,h=!1,f=0;f<c.length&&!h;f++)switch((i=c[f]).type){case"link":(e(i.options.url)||e(i.options.pageNumber))&&(h=!0);break;case"reference":case"text":case"freetext":h=!0}if(h!=0){this.internal.write("/Annots [");for(var d=0;d<c.length;d++){i=c[d];var p=this.internal.pdfEscape,w=this.internal.getEncryptor(n.objId);switch(i.type){case"reference":this.internal.write(" "+i.object.objId+" 0 R ");break;case"text":var y=this.internal.newAdditionalObject(),S=this.internal.newAdditionalObject(),m=this.internal.getEncryptor(y.objId),_=i.title||"Note";s="<</Type /Annot /Subtype /Text "+(r="/Rect ["+o(i.bounds.x)+" "+a(i.bounds.y+i.bounds.h)+" "+o(i.bounds.x+i.bounds.w)+" "+a(i.bounds.y)+"] ")+"/Contents ("+p(m(i.contents))+")",s+=" /Popup "+S.objId+" 0 R",s+=" /P "+l.objId+" 0 R",s+=" /T ("+p(m(_))+") >>",y.content=s;var x=y.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(r="/Rect ["+o(i.bounds.x+30)+" "+a(i.bounds.y+i.bounds.h)+" "+o(i.bounds.x+i.bounds.w+30)+" "+a(i.bounds.y)+"] ")+" /Parent "+x,i.open&&(s+=" /Open true"),s+=" >>",S.content=s,this.internal.write(y.objId,"0 R",S.objId,"0 R");break;case"freetext":r="/Rect ["+o(i.bounds.x)+" "+a(i.bounds.y)+" "+o(i.bounds.x+i.bounds.w)+" "+a(i.bounds.y+i.bounds.h)+"] ";var N=i.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+r+"/Contents ("+p(w(i.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+N+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(i.options.name){var k=this.annotations._nameMap[i.options.name];i.options.pageNumber=k.page,i.options.top=k.y}else i.options.top||(i.options.top=0);if(r="/Rect ["+i.finalBounds.x+" "+i.finalBounds.y+" "+i.finalBounds.w+" "+i.finalBounds.h+"] ",s="",i.options.url)s="<</Type /Annot /Subtype /Link "+r+"/Border [0 0 0] /A <</S /URI /URI ("+p(w(i.options.url))+") >>";else if(i.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+r+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(i.options.pageNumber).objId+" 0 R",i.options.magFactor=i.options.magFactor||"XYZ",i.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+i.options.top+"]";break;case"FitV":i.options.left=i.options.left||0,s+=" /FitV "+i.options.left+"]";break;case"XYZ":default:var O=a(i.options.top);i.options.left=i.options.left||0,i.options.zoom===void 0&&(i.options.zoom=0),s+=" /XYZ "+i.options.left+" "+O+" "+i.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),t.createAnnotation=function(n){var i=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":i.pageContext.annotations.push(n)}},t.link=function(n,i,r,s,o){var a=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString;a.pageContext.annotations.push({finalBounds:{x:l(n),y:c(i),w:l(n+r),h:c(i+s)},options:o,type:"link"})},t.textWithLink=function(n,i,r,s){var o,a,l=this.getTextWidth(n),c=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){a=s.maxWidth;var h=this.splitTextToSize(n,a).length;o=Math.ceil(c*h)}else a=l,o=c;return this.text(n,i,r,s),r+=.2*c,s.align==="center"&&(i-=l/2),s.align==="right"&&(i-=l),this.link(i,r-c,a,o,s),l},t.getTextWidth=function(n){var i=this.internal.getFontSize();return this.getStringUnitWidth(n)*i/this.internal.scaleFactor}}($e.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},i={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},r=[1570,1571,1573,1575];t.__arabicParser__={};var s=t.__arabicParser__.isInArabicSubstitutionA=function(y){return e[y.charCodeAt(0)]!==void 0},o=t.__arabicParser__.isArabicLetter=function(y){return typeof y=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(y)},a=t.__arabicParser__.isArabicEndLetter=function(y){return o(y)&&s(y)&&e[y.charCodeAt(0)].length<=2},l=t.__arabicParser__.isArabicAlfLetter=function(y){return o(y)&&r.indexOf(y.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(y){return o(y)&&s(y)&&e[y.charCodeAt(0)].length>=1};var c=t.__arabicParser__.arabicLetterHasFinalForm=function(y){return o(y)&&s(y)&&e[y.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(y){return o(y)&&s(y)&&e[y.charCodeAt(0)].length>=3};var h=t.__arabicParser__.arabicLetterHasMedialForm=function(y){return o(y)&&s(y)&&e[y.charCodeAt(0)].length==4},f=t.__arabicParser__.resolveLigatures=function(y){var S=0,m=n,_="",x=0;for(S=0;S<y.length;S+=1)m[y.charCodeAt(S)]!==void 0?(x++,typeof(m=m[y.charCodeAt(S)])=="number"&&(_+=String.fromCharCode(m),m=n,x=0),S===y.length-1&&(m=n,_+=y.charAt(S-(x-1)),S-=x-1,x=0)):(m=n,_+=y.charAt(S-x),S-=x,x=0);return _};t.__arabicParser__.isArabicDiacritic=function(y){return y!==void 0&&i[y.charCodeAt(0)]!==void 0};var d=t.__arabicParser__.getCorrectForm=function(y,S,m){return o(y)?s(y)===!1?-1:!c(y)||!o(S)&&!o(m)||!o(m)&&a(S)||a(y)&&!o(S)||a(y)&&l(S)||a(y)&&a(S)?0:h(y)&&o(S)&&!a(S)&&o(m)&&c(m)?3:a(y)||!o(m)?1:2:-1},p=function(y){var S=0,m=0,_=0,x="",N="",k="",O=(y=y||"").split("\\s+"),I=[];for(S=0;S<O.length;S+=1){for(I.push(""),m=0;m<O[S].length;m+=1)x=O[S][m],N=O[S][m-1],k=O[S][m+1],o(x)?(_=d(x,N,k),I[S]+=_!==-1?String.fromCharCode(e[x.charCodeAt(0)][_]):x):I[S]+=x;I[S]=f(I[S])}return I.join(" ")},w=t.__arabicParser__.processArabic=t.processArabic=function(){var y,S=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,m=[];if(Array.isArray(S)){var _=0;for(m=[],_=0;_<S.length;_+=1)Array.isArray(S[_])?m.push([p(S[_][0]),S[_][1],S[_][2]]):m.push([p(S[_])]);y=m}else y=p(S);return typeof arguments[0]=="string"?y:(arguments[0].text=y,arguments[0])};t.events.push(["preProcessText",w])}($e.API),$e.API.autoPrint=function(t){var e;switch((t=t||{}).variant=t.variant||"non-conform",t.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})}return this},function(t){var e=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(a){n=a}});var i=150;Object.defineProperty(this,"width",{get:function(){return i},set:function(a){i=isNaN(a)||Number.isInteger(a)===!1||a<0?150:a,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=i+1)}});var r=300;Object.defineProperty(this,"height",{get:function(){return r},set:function(a){r=isNaN(a)||Number.isInteger(a)===!1||a<0?300:a,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=r+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(a){s=a}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(a){o=a}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(n,i){var r;if((n=n||"2d")!=="2d")return null;for(r in i)this.pdf.context2d.hasOwnProperty(r)&&(this.pdf.context2d[r]=i[r]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}($e.API),function(t){var e={left:0,top:0,bottom:0,right:0},n=!1,i=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),r.call(this))},r=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(y){l=y}});var c=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return c},set:function(y){c=y}});var h=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return h},set:function(y){h=y}});var f=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return f},set:function(y){f=y}});var d=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return d},set:function(y){d=y}});var p=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return p},set:function(y){p=y}});var w=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return w},set:function(y){w=y}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(l){return i.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},t.getTextDimensions=function(l,c){i.call(this);var h=(c=c||{}).fontSize||this.getFontSize(),f=c.font||this.getFont(),d=c.scaleFactor||this.internal.scaleFactor,p=0,w=0,y=0,S=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var m=c.maxWidth;m>0?typeof l=="string"?l=this.splitTextToSize(l,m):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(x,N){return x.concat(S.splitTextToSize(N,m))},[])):l=Array.isArray(l)?l:[l];for(var _=0;_<l.length;_++)p<(y=this.getStringUnitWidth(l[_],{font:f})*h)&&(p=y);return p!==0&&(w=l.length),{w:p/=d,h:Math.max((w*h*this.getLineHeightFactor()-h*(this.getLineHeightFactor()-1))/d,0)}},t.cellAddPage=function(){i.call(this),this.addPage();var l=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new s(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=t.cell=function(){var l;l=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),i.call(this);var c=this.internal.__cell__.lastCell,h=this.internal.__cell__.padding,f=this.internal.__cell__.margins||e,d=this.internal.__cell__.tableHeaderRow,p=this.internal.__cell__.printHeaders;return c.lineNumber!==void 0&&(c.lineNumber===l.lineNumber?(l.x=(c.x||0)+(c.width||0),l.y=c.y||0):c.y+c.height+l.height+f.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=f.top,p&&d&&(this.printHeaderRow(l.lineNumber,!0),l.y+=d[0].height)):l.y=c.y+c.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,n===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-h,l.y+h,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+h,{align:"center",baseline:"top",maxWidth:l.width-h-h}):this.text(l.text,l.x+h,l.y+h,{align:"left",baseline:"top",maxWidth:l.width-h-h})),this.internal.__cell__.lastCell=l,this};t.table=function(l,c,h,f,d){if(i.call(this),!h)throw new Error("No data for PDF table.");var p,w,y,S,m=[],_=[],x=[],N={},k={},O=[],I=[],A=(d=d||{}).autoSize||!1,U=d.printHeaders!==!1,W=d.css&&d.css["font-size"]!==void 0?16*d.css["font-size"]:d.fontSize||12,E=d.margins||Object.assign({width:this.getPageWidth()},e),P=typeof d.padding=="number"?d.padding:3,K=d.headerBackgroundColor||"#c8c8c8",D=d.headerTextColor||"#000";if(r.call(this),this.internal.__cell__.printHeaders=U,this.internal.__cell__.margins=E,this.internal.__cell__.table_font_size=W,this.internal.__cell__.padding=P,this.internal.__cell__.headerBackgroundColor=K,this.internal.__cell__.headerTextColor=D,this.setFontSize(W),f==null)_=m=Object.keys(h[0]),x=m.map(function(){return"left"});else if(Array.isArray(f)&&Pt(f[0])==="object")for(m=f.map(function(ie){return ie.name}),_=f.map(function(ie){return ie.prompt||ie.name||""}),x=f.map(function(ie){return ie.align||"left"}),p=0;p<f.length;p+=1)k[f[p].name]=f[p].width*(19.049976/25.4);else Array.isArray(f)&&typeof f[0]=="string"&&(_=m=f,x=m.map(function(){return"left"}));if(A||Array.isArray(f)&&typeof f[0]=="string")for(p=0;p<m.length;p+=1){for(N[S=m[p]]=h.map(function(ie){return ie[S]}),this.setFont(void 0,"bold"),O.push(this.getTextDimensions(_[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),w=N[S],this.setFont(void 0,"normal"),y=0;y<w.length;y+=1)O.push(this.getTextDimensions(w[y],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);k[S]=Math.max.apply(null,O)+P+P,O=[]}if(U){var Q={};for(p=0;p<m.length;p+=1)Q[m[p]]={},Q[m[p]].text=_[p],Q[m[p]].align=x[p];var H=a.call(this,Q,k);I=m.map(function(ie){return new s(l,c,k[ie],H,Q[ie].text,void 0,Q[ie].align)}),this.setTableHeaderRow(I),this.printHeaderRow(1,!1)}var $=f.reduce(function(ie,ue){return ie[ue.name]=ue.align,ie},{});for(p=0;p<h.length;p+=1){"rowStart"in d&&d.rowStart instanceof Function&&d.rowStart({row:p,data:h[p]},this);var B=a.call(this,h[p],k);for(y=0;y<m.length;y+=1){var G=h[p][m[y]];"cellStart"in d&&d.cellStart instanceof Function&&d.cellStart({row:p,col:y,data:G},this),o.call(this,new s(l,c,k[m[y]],B,G,p+2,$[m[y]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=c,this};var a=function(l,c){var h=this.internal.__cell__.padding,f=this.internal.__cell__.table_font_size,d=this.internal.scaleFactor;return Object.keys(l).map(function(p){var w=l[p];return this.splitTextToSize(w.hasOwnProperty("text")?w.text:w,c[p]-h-h)},this).map(function(p){return this.getLineHeightFactor()*p.length*f/d+h+h},this).reduce(function(p,w){return Math.max(p,w)},0)};t.setTableHeaderRow=function(l){i.call(this),this.internal.__cell__.tableHeaderRow=l},t.printHeaderRow=function(l,c){if(i.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var h;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var f=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(f[0],f[1],f[2],f[3],void 0,-1)}this.setFont(void 0,"bold");for(var d=[],p=0;p<this.internal.__cell__.tableHeaderRow.length;p+=1){h=this.internal.__cell__.tableHeaderRow[p].clone(),c&&(h.y=this.internal.__cell__.margins.top||0,d.push(h)),h.lineNumber=l;var w=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,h),this.setTextColor(w)}d.length>0&&this.setTableHeaderRow(d),this.setFont(void 0,"normal"),n=!1}}($e.API);var Ck={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},kk=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Jv=Nk(kk),Ak=[100,200,300,400,500,600,700,800,900],i9=Nk(Ak);function Qv(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),n=function(s){return Ck[s=s||"normal"]?s:"normal"}(t.style),i=function(s){if(!s)return 400;if(typeof s=="number")return s>=100&&s<=900&&s%100==0?s:400;if(/^\d00$/.test(s))return parseInt(s);switch(s){case"bold":return 700;case"normal":default:return 400}}(t.weight),r=function(s){return typeof Jv[s=s||"normal"]=="number"?s:"normal"}(t.stretch);return{family:e,style:n,weight:i,stretch:r,src:t.src||[],ref:t.ref||{name:e,style:[r,n,i].join(" ")}}}function Cx(t,e,n,i){var r;for(r=n;r>=0&&r<e.length;r+=i)if(t[e[r]])return t[e[r]];for(r=n;r>=0&&r<e.length;r-=i)if(t[e[r]])return t[e[r]]}var r9={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},kx={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function Ax(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function s9(t,e,n){for(var i=(n=n||{}).defaultFontFamily||"times",r=Object.assign({},r9,n.genericFontFamilies||{}),s=null,o=null,a=0;a<e.length;++a)if(r[(s=Qv(e[a])).family]&&(s.family=r[s.family]),t.hasOwnProperty(s.family)){o=t[s.family];break}if(!(o=o||t[i]))throw new Error("Could not find a font-family for the rule '"+Ax(s)+"' and default family '"+i+"'.");if(o=function(l,c){if(c[l])return c[l];var h=Jv[l],f=h<=Jv.normal?-1:1,d=Cx(c,kk,h,f);if(!d)throw new Error("Could not find a matching font-stretch value for "+l);return d}(s.stretch,o),o=function(l,c){if(c[l])return c[l];for(var h=Ck[l],f=0;f<h.length;++f)if(c[h[f]])return c[h[f]];throw new Error("Could not find a matching font-style for "+l)}(s.style,o),!(o=function(l,c){if(c[l])return c[l];if(l===400&&c[500])return c[500];if(l===500&&c[400])return c[400];var h=i9[l],f=Cx(c,Ak,h,l<400?-1:1);if(!f)throw new Error("Could not find a matching font-weight for value "+l);return f}(s.weight,o)))throw new Error("Failed to resolve a font for the rule '"+Ax(s)+"'.");return o}function Ex(t){return t.trimLeft()}function o9(t,e){for(var n=0;n<t.length;){if(t.charAt(n)===e)return[t.substring(0,n),t.substring(n+1)];n+=1}return null}function a9(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var ip,Px,Ix,d1=["times"];(function(t){var e,n,i,r,s,o,a,l,c,h=function(L){return L=L||{},this.isStrokeTransparent=L.isStrokeTransparent||!1,this.strokeOpacity=L.strokeOpacity||1,this.strokeStyle=L.strokeStyle||"#000000",this.fillStyle=L.fillStyle||"#000000",this.isFillTransparent=L.isFillTransparent||!1,this.fillOpacity=L.fillOpacity||1,this.font=L.font||"10px sans-serif",this.textBaseline=L.textBaseline||"alphabetic",this.textAlign=L.textAlign||"left",this.lineWidth=L.lineWidth||1,this.lineJoin=L.lineJoin||"miter",this.lineCap=L.lineCap||"butt",this.path=L.path||[],this.transform=L.transform!==void 0?L.transform.clone():new l,this.globalCompositeOperation=L.globalCompositeOperation||"normal",this.globalAlpha=L.globalAlpha||1,this.clip_path=L.clip_path||[],this.currentPoint=L.currentPoint||new o,this.miterLimit=L.miterLimit||10,this.lastPoint=L.lastPoint||new o,this.lineDashOffset=L.lineDashOffset||0,this.lineDash=L.lineDash||[],this.margin=L.margin||[0,0,0,0],this.prevPageLastElemOffset=L.prevPageLastElemOffset||0,this.ignoreClearRect=typeof L.ignoreClearRect!="boolean"||L.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new f(this),e=this.internal.f2,n=this.internal.getCoordinateString,i=this.internal.getVerticalCoordinateString,r=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,o=this.internal.Point,a=this.internal.Rectangle,l=this.internal.Matrix,c=new h}]);var f=function(L){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var q=L;Object.defineProperty(this,"pdf",{get:function(){return q}});var Y=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return Y},set:function(ge){Y=!!ge}});var J=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return J},set:function(ge){J=!!ge}});var j=0;Object.defineProperty(this,"posX",{get:function(){return j},set:function(ge){isNaN(ge)||(j=ge)}});var ne=0;Object.defineProperty(this,"posY",{get:function(){return ne},set:function(ge){isNaN(ge)||(ne=ge)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(ge){var te;typeof ge=="number"?te=[ge,ge,ge,ge]:((te=new Array(4))[0]=ge[0],te[1]=ge.length>=2?ge[1]:te[0],te[2]=ge.length>=3?ge[2]:te[0],te[3]=ge.length>=4?ge[3]:te[1]),c.margin=te}});var re=!1;Object.defineProperty(this,"autoPaging",{get:function(){return re},set:function(ge){re=ge}});var le=0;Object.defineProperty(this,"lastBreak",{get:function(){return le},set:function(ge){le=ge}});var ye=[];Object.defineProperty(this,"pageBreaks",{get:function(){return ye},set:function(ge){ye=ge}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(ge){ge instanceof h&&(c=ge)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(ge){c.path=ge}});var me=[];Object.defineProperty(this,"ctxStack",{get:function(){return me},set:function(ge){me=ge}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(ge){var te;te=d(ge),this.ctx.fillStyle=te.style,this.ctx.isFillTransparent=te.a===0,this.ctx.fillOpacity=te.a,this.pdf.setFillColor(te.r,te.g,te.b,{a:te.a}),this.pdf.setTextColor(te.r,te.g,te.b,{a:te.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(ge){var te=d(ge);this.ctx.strokeStyle=te.style,this.ctx.isStrokeTransparent=te.a===0,this.ctx.strokeOpacity=te.a,te.a===0?this.pdf.setDrawColor(255,255,255):(te.a,this.pdf.setDrawColor(te.r,te.g,te.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(ge){["butt","round","square"].indexOf(ge)!==-1&&(this.ctx.lineCap=ge,this.pdf.setLineCap(ge))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(ge){isNaN(ge)||(this.ctx.lineWidth=ge,this.pdf.setLineWidth(ge))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(ge){["bevel","round","miter"].indexOf(ge)!==-1&&(this.ctx.lineJoin=ge,this.pdf.setLineJoin(ge))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(ge){isNaN(ge)||(this.ctx.miterLimit=ge,this.pdf.setMiterLimit(ge))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(ge){this.ctx.textBaseline=ge}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(ge){["right","end","center","left","start"].indexOf(ge)!==-1&&(this.ctx.textAlign=ge)}});var Ce=null;function Pe(ge,te){if(Ce===null){var Je=function(Ue){var Ae=[];return Object.keys(Ue).forEach(function(Le){Ue[Le].forEach(function(Me){var Oe=null;switch(Me){case"bold":Oe={family:Le,weight:"bold"};break;case"italic":Oe={family:Le,style:"italic"};break;case"bolditalic":Oe={family:Le,weight:"bold",style:"italic"};break;case"":case"normal":Oe={family:Le}}Oe!==null&&(Oe.ref={name:Le,style:Me},Ae.push(Oe))})}),Ae}(ge.getFontList());Ce=function(Ue){for(var Ae={},Le=0;Le<Ue.length;++Le){var Me=Qv(Ue[Le]),Oe=Me.family,We=Me.stretch,tt=Me.style,at=Me.weight;Ae[Oe]=Ae[Oe]||{},Ae[Oe][We]=Ae[Oe][We]||{},Ae[Oe][We][tt]=Ae[Oe][We][tt]||{},Ae[Oe][We][tt][at]=Me}return Ae}(Je.concat(te))}return Ce}var Be=null;Object.defineProperty(this,"fontFaces",{get:function(){return Be},set:function(ge){Ce=null,Be=ge}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(ge){var te;if(this.ctx.font=ge,(te=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(ge))!==null){var Je=te[1],Ue=(te[2],te[3]),Ae=te[4],Le=(te[5],te[6]),Me=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Ae)[2];Ae=Math.floor(Me==="px"?parseFloat(Ae)*this.pdf.internal.scaleFactor:Me==="em"?parseFloat(Ae)*this.pdf.getFontSize():parseFloat(Ae)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Ae);var Oe=function(Qe){var ut,De,Gn=[],bt=Qe.trim();if(bt==="")return d1;if(bt in kx)return[kx[bt]];for(;bt!=="";){switch(De=null,ut=(bt=Ex(bt)).charAt(0)){case'"':case"'":De=o9(bt.substring(1),ut);break;default:De=a9(bt)}if(De===null||(Gn.push(De[0]),(bt=Ex(De[1]))!==""&&bt.charAt(0)!==","))return d1;bt=bt.replace(/^,/,"")}return Gn}(Le);if(this.fontFaces){var We=s9(Pe(this.pdf,this.fontFaces),Oe.map(function(Qe){return{family:Qe,stretch:"normal",weight:Ue,style:Je}}));this.pdf.setFont(We.ref.name,We.ref.style)}else{var tt="";(Ue==="bold"||parseInt(Ue,10)>=700||Je==="bold")&&(tt="bold"),Je==="italic"&&(tt+="italic"),tt.length===0&&(tt="normal");for(var at="",lt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},mt=0;mt<Oe.length;mt++){if(this.pdf.internal.getFont(Oe[mt],tt,{noFallback:!0,disableWarning:!0})!==void 0){at=Oe[mt];break}if(tt==="bolditalic"&&this.pdf.internal.getFont(Oe[mt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)at=Oe[mt],tt="bold";else if(this.pdf.internal.getFont(Oe[mt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){at=Oe[mt],tt="normal";break}}if(at===""){for(var Lt=0;Lt<Oe.length;Lt++)if(lt[Oe[Lt]]){at=lt[Oe[Lt]];break}}at=at===""?"Times":at,this.pdf.setFont(at,tt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(ge){this.ctx.globalCompositeOperation=ge}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(ge){this.ctx.globalAlpha=ge}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(ge){this.ctx.lineDashOffset=ge,ue.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(ge){this.ctx.lineDash=ge,ue.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(ge){this.ctx.ignoreClearRect=!!ge}})};f.prototype.setLineDash=function(L){this.lineDash=L},f.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},f.prototype.fill=function(){N.call(this,"fill",!1)},f.prototype.stroke=function(){N.call(this,"stroke",!1)},f.prototype.beginPath=function(){this.path=[{type:"begin"}]},f.prototype.moveTo=function(L,q){if(isNaN(L)||isNaN(q))throw Dt.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var Y=this.ctx.transform.applyToPoint(new o(L,q));this.path.push({type:"mt",x:Y.x,y:Y.y}),this.ctx.lastPoint=new o(L,q)},f.prototype.closePath=function(){var L=new o(0,0),q=0;for(q=this.path.length-1;q!==-1;q--)if(this.path[q].type==="begin"&&Pt(this.path[q+1])==="object"&&typeof this.path[q+1].x=="number"){L=new o(this.path[q+1].x,this.path[q+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(L.x,L.y)},f.prototype.lineTo=function(L,q){if(isNaN(L)||isNaN(q))throw Dt.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var Y=this.ctx.transform.applyToPoint(new o(L,q));this.path.push({type:"lt",x:Y.x,y:Y.y}),this.ctx.lastPoint=new o(Y.x,Y.y)},f.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),N.call(this,null,!0)},f.prototype.quadraticCurveTo=function(L,q,Y,J){if(isNaN(Y)||isNaN(J)||isNaN(L)||isNaN(q))throw Dt.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var j=this.ctx.transform.applyToPoint(new o(Y,J)),ne=this.ctx.transform.applyToPoint(new o(L,q));this.path.push({type:"qct",x1:ne.x,y1:ne.y,x:j.x,y:j.y}),this.ctx.lastPoint=new o(j.x,j.y)},f.prototype.bezierCurveTo=function(L,q,Y,J,j,ne){if(isNaN(j)||isNaN(ne)||isNaN(L)||isNaN(q)||isNaN(Y)||isNaN(J))throw Dt.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var re=this.ctx.transform.applyToPoint(new o(j,ne)),le=this.ctx.transform.applyToPoint(new o(L,q)),ye=this.ctx.transform.applyToPoint(new o(Y,J));this.path.push({type:"bct",x1:le.x,y1:le.y,x2:ye.x,y2:ye.y,x:re.x,y:re.y}),this.ctx.lastPoint=new o(re.x,re.y)},f.prototype.arc=function(L,q,Y,J,j,ne){if(isNaN(L)||isNaN(q)||isNaN(Y)||isNaN(J)||isNaN(j))throw Dt.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ne=!!ne,!this.ctx.transform.isIdentity){var re=this.ctx.transform.applyToPoint(new o(L,q));L=re.x,q=re.y;var le=this.ctx.transform.applyToPoint(new o(0,Y)),ye=this.ctx.transform.applyToPoint(new o(0,0));Y=Math.sqrt(Math.pow(le.x-ye.x,2)+Math.pow(le.y-ye.y,2))}Math.abs(j-J)>=2*Math.PI&&(J=0,j=2*Math.PI),this.path.push({type:"arc",x:L,y:q,radius:Y,startAngle:J,endAngle:j,counterclockwise:ne})},f.prototype.arcTo=function(L,q,Y,J,j){throw new Error("arcTo not implemented.")},f.prototype.rect=function(L,q,Y,J){if(isNaN(L)||isNaN(q)||isNaN(Y)||isNaN(J))throw Dt.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(L,q),this.lineTo(L+Y,q),this.lineTo(L+Y,q+J),this.lineTo(L,q+J),this.lineTo(L,q),this.lineTo(L+Y,q),this.lineTo(L,q)},f.prototype.fillRect=function(L,q,Y,J){if(isNaN(L)||isNaN(q)||isNaN(Y)||isNaN(J))throw Dt.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!p.call(this)){var j={};this.lineCap!=="butt"&&(j.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(j.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(L,q,Y,J),this.fill(),j.hasOwnProperty("lineCap")&&(this.lineCap=j.lineCap),j.hasOwnProperty("lineJoin")&&(this.lineJoin=j.lineJoin)}},f.prototype.strokeRect=function(L,q,Y,J){if(isNaN(L)||isNaN(q)||isNaN(Y)||isNaN(J))throw Dt.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");w.call(this)||(this.beginPath(),this.rect(L,q,Y,J),this.stroke())},f.prototype.clearRect=function(L,q,Y,J){if(isNaN(L)||isNaN(q)||isNaN(Y)||isNaN(J))throw Dt.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(L,q,Y,J))},f.prototype.save=function(L){L=typeof L!="boolean"||L;for(var q=this.pdf.internal.getCurrentPageInfo().pageNumber,Y=0;Y<this.pdf.internal.getNumberOfPages();Y++)this.pdf.setPage(Y+1),this.pdf.internal.out("q");if(this.pdf.setPage(q),L){this.ctx.fontSize=this.pdf.internal.getFontSize();var J=new h(this.ctx);this.ctxStack.push(this.ctx),this.ctx=J}},f.prototype.restore=function(L){L=typeof L!="boolean"||L;for(var q=this.pdf.internal.getCurrentPageInfo().pageNumber,Y=0;Y<this.pdf.internal.getNumberOfPages();Y++)this.pdf.setPage(Y+1),this.pdf.internal.out("Q");this.pdf.setPage(q),L&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},f.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var d=function(L){var q,Y,J,j;if(L.isCanvasGradient===!0&&(L=L.getColor()),!L)return{r:0,g:0,b:0,a:0,style:L};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(L))q=0,Y=0,J=0,j=0;else{var ne=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(L);if(ne!==null)q=parseInt(ne[1]),Y=parseInt(ne[2]),J=parseInt(ne[3]),j=1;else if((ne=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(L))!==null)q=parseInt(ne[1]),Y=parseInt(ne[2]),J=parseInt(ne[3]),j=parseFloat(ne[4]);else{if(j=1,typeof L=="string"&&L.charAt(0)!=="#"){var re=new yk(L);L=re.ok?re.toHex():"#000000"}L.length===4?(q=L.substring(1,2),q+=q,Y=L.substring(2,3),Y+=Y,J=L.substring(3,4),J+=J):(q=L.substring(1,3),Y=L.substring(3,5),J=L.substring(5,7)),q=parseInt(q,16),Y=parseInt(Y,16),J=parseInt(J,16)}}return{r:q,g:Y,b:J,a:j,style:L}},p=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},w=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};f.prototype.fillText=function(L,q,Y,J){if(isNaN(q)||isNaN(Y)||typeof L!="string")throw Dt.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(J=isNaN(J)?void 0:J,!p.call(this)){var j=B(this.ctx.transform.rotation),ne=this.ctx.transform.scaleX;P.call(this,{text:L,x:q,y:Y,scale:ne,angle:j,align:this.textAlign,maxWidth:J})}},f.prototype.strokeText=function(L,q,Y,J){if(isNaN(q)||isNaN(Y)||typeof L!="string")throw Dt.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!w.call(this)){J=isNaN(J)?void 0:J;var j=B(this.ctx.transform.rotation),ne=this.ctx.transform.scaleX;P.call(this,{text:L,x:q,y:Y,scale:ne,renderingMode:"stroke",angle:j,align:this.textAlign,maxWidth:J})}},f.prototype.measureText=function(L){if(typeof L!="string")throw Dt.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var q=this.pdf,Y=this.pdf.internal.scaleFactor,J=q.internal.getFontSize(),j=q.getStringUnitWidth(L)*J/q.internal.scaleFactor,ne=function(re){var le=(re=re||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return le}}),this};return new ne({width:j*=Math.round(96*Y/72*1e4)/1e4})},f.prototype.scale=function(L,q){if(isNaN(L)||isNaN(q))throw Dt.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var Y=new l(L,0,0,q,0,0);this.ctx.transform=this.ctx.transform.multiply(Y)},f.prototype.rotate=function(L){if(isNaN(L))throw Dt.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var q=new l(Math.cos(L),Math.sin(L),-Math.sin(L),Math.cos(L),0,0);this.ctx.transform=this.ctx.transform.multiply(q)},f.prototype.translate=function(L,q){if(isNaN(L)||isNaN(q))throw Dt.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var Y=new l(1,0,0,1,L,q);this.ctx.transform=this.ctx.transform.multiply(Y)},f.prototype.transform=function(L,q,Y,J,j,ne){if(isNaN(L)||isNaN(q)||isNaN(Y)||isNaN(J)||isNaN(j)||isNaN(ne))throw Dt.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var re=new l(L,q,Y,J,j,ne);this.ctx.transform=this.ctx.transform.multiply(re)},f.prototype.setTransform=function(L,q,Y,J,j,ne){L=isNaN(L)?1:L,q=isNaN(q)?0:q,Y=isNaN(Y)?0:Y,J=isNaN(J)?1:J,j=isNaN(j)?0:j,ne=isNaN(ne)?0:ne,this.ctx.transform=new l(L,q,Y,J,j,ne)};var y=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};f.prototype.drawImage=function(L,q,Y,J,j,ne,re,le,ye){var me=this.pdf.getImageProperties(L),Ce=1,Pe=1,Be=1,ge=1;J!==void 0&&le!==void 0&&(Be=le/J,ge=ye/j,Ce=me.width/J*le/J,Pe=me.height/j*ye/j),ne===void 0&&(ne=q,re=Y,q=0,Y=0),J!==void 0&&le===void 0&&(le=J,ye=j),J===void 0&&le===void 0&&(le=me.width,ye=me.height);for(var te,Je=this.ctx.transform.decompose(),Ue=B(Je.rotate.shx),Ae=new l,Le=(Ae=(Ae=(Ae=Ae.multiply(Je.translate)).multiply(Je.skew)).multiply(Je.scale)).applyToRectangle(new a(ne-q*Be,re-Y*ge,J*Ce,j*Pe)),Me=S.call(this,Le),Oe=[],We=0;We<Me.length;We+=1)Oe.indexOf(Me[We])===-1&&Oe.push(Me[We]);if(x(Oe),this.autoPaging)for(var tt=Oe[0],at=Oe[Oe.length-1],lt=tt;lt<at+1;lt++){this.pdf.setPage(lt);var mt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Lt=lt===1?this.posY+this.margin[0]:this.margin[0],Qe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ut=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],De=lt===1?0:Qe+(lt-2)*ut;if(this.ctx.clip_path.length!==0){var Gn=this.path;te=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=_(te,this.posX+this.margin[3],-De+Lt+this.ctx.prevPageLastElemOffset),k.call(this,"fill",!0),this.path=Gn}var bt=JSON.parse(JSON.stringify(Le));bt=_([bt],this.posX+this.margin[3],-De+Lt+this.ctx.prevPageLastElemOffset)[0];var dr=(lt>tt||lt<at)&&y.call(this);dr&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],mt,ut,null).clip().discardPath()),this.pdf.addImage(L,"JPEG",bt.x,bt.y,bt.w,bt.h,null,null,Ue),dr&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(L,"JPEG",Le.x,Le.y,Le.w,Le.h,null,null,Ue)};var S=function(L,q,Y){var J=[];q=q||this.pdf.internal.pageSize.width,Y=Y||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var j=this.posY+this.ctx.prevPageLastElemOffset;switch(L.type){default:case"mt":case"lt":J.push(Math.floor((L.y+j)/Y)+1);break;case"arc":J.push(Math.floor((L.y+j-L.radius)/Y)+1),J.push(Math.floor((L.y+j+L.radius)/Y)+1);break;case"qct":var ne=G(this.ctx.lastPoint.x,this.ctx.lastPoint.y,L.x1,L.y1,L.x,L.y);J.push(Math.floor((ne.y+j)/Y)+1),J.push(Math.floor((ne.y+ne.h+j)/Y)+1);break;case"bct":var re=ie(this.ctx.lastPoint.x,this.ctx.lastPoint.y,L.x1,L.y1,L.x2,L.y2,L.x,L.y);J.push(Math.floor((re.y+j)/Y)+1),J.push(Math.floor((re.y+re.h+j)/Y)+1);break;case"rect":J.push(Math.floor((L.y+j)/Y)+1),J.push(Math.floor((L.y+L.h+j)/Y)+1)}for(var le=0;le<J.length;le+=1)for(;this.pdf.internal.getNumberOfPages()<J[le];)m.call(this);return J},m=function(){var L=this.fillStyle,q=this.strokeStyle,Y=this.font,J=this.lineCap,j=this.lineWidth,ne=this.lineJoin;this.pdf.addPage(),this.fillStyle=L,this.strokeStyle=q,this.font=Y,this.lineCap=J,this.lineWidth=j,this.lineJoin=ne},_=function(L,q,Y){for(var J=0;J<L.length;J++)switch(L[J].type){case"bct":L[J].x2+=q,L[J].y2+=Y;case"qct":L[J].x1+=q,L[J].y1+=Y;case"mt":case"lt":case"arc":default:L[J].x+=q,L[J].y+=Y}return L},x=function(L){return L.sort(function(q,Y){return q-Y})},N=function(L,q){for(var Y,J,j=this.fillStyle,ne=this.strokeStyle,re=this.lineCap,le=this.lineWidth,ye=Math.abs(le*this.ctx.transform.scaleX),me=this.lineJoin,Ce=JSON.parse(JSON.stringify(this.path)),Pe=JSON.parse(JSON.stringify(this.path)),Be=[],ge=0;ge<Pe.length;ge++)if(Pe[ge].x!==void 0)for(var te=S.call(this,Pe[ge]),Je=0;Je<te.length;Je+=1)Be.indexOf(te[Je])===-1&&Be.push(te[Je]);for(var Ue=0;Ue<Be.length;Ue++)for(;this.pdf.internal.getNumberOfPages()<Be[Ue];)m.call(this);if(x(Be),this.autoPaging)for(var Ae=Be[0],Le=Be[Be.length-1],Me=Ae;Me<Le+1;Me++){this.pdf.setPage(Me),this.fillStyle=j,this.strokeStyle=ne,this.lineCap=re,this.lineWidth=ye,this.lineJoin=me;var Oe=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],We=Me===1?this.posY+this.margin[0]:this.margin[0],tt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],at=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],lt=Me===1?0:tt+(Me-2)*at;if(this.ctx.clip_path.length!==0){var mt=this.path;Y=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=_(Y,this.posX+this.margin[3],-lt+We+this.ctx.prevPageLastElemOffset),k.call(this,L,!0),this.path=mt}if(J=JSON.parse(JSON.stringify(Ce)),this.path=_(J,this.posX+this.margin[3],-lt+We+this.ctx.prevPageLastElemOffset),q===!1||Me===0){var Lt=(Me>Ae||Me<Le)&&y.call(this);Lt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Oe,at,null).clip().discardPath()),k.call(this,L,q),Lt&&this.pdf.restoreGraphicsState()}this.lineWidth=le}else this.lineWidth=ye,k.call(this,L,q),this.lineWidth=le;this.path=Ce},k=function(L,q){if((L!=="stroke"||q||!w.call(this))&&(L==="stroke"||q||!p.call(this))){for(var Y,J,j=[],ne=this.path,re=0;re<ne.length;re++){var le=ne[re];switch(le.type){case"begin":j.push({begin:!0});break;case"close":j.push({close:!0});break;case"mt":j.push({start:le,deltas:[],abs:[]});break;case"lt":var ye=j.length;if(ne[re-1]&&!isNaN(ne[re-1].x)&&(Y=[le.x-ne[re-1].x,le.y-ne[re-1].y],ye>0)){for(;ye>=0;ye--)if(j[ye-1].close!==!0&&j[ye-1].begin!==!0){j[ye-1].deltas.push(Y),j[ye-1].abs.push(le);break}}break;case"bct":Y=[le.x1-ne[re-1].x,le.y1-ne[re-1].y,le.x2-ne[re-1].x,le.y2-ne[re-1].y,le.x-ne[re-1].x,le.y-ne[re-1].y],j[j.length-1].deltas.push(Y);break;case"qct":var me=ne[re-1].x+2/3*(le.x1-ne[re-1].x),Ce=ne[re-1].y+2/3*(le.y1-ne[re-1].y),Pe=le.x+2/3*(le.x1-le.x),Be=le.y+2/3*(le.y1-le.y),ge=le.x,te=le.y;Y=[me-ne[re-1].x,Ce-ne[re-1].y,Pe-ne[re-1].x,Be-ne[re-1].y,ge-ne[re-1].x,te-ne[re-1].y],j[j.length-1].deltas.push(Y);break;case"arc":j.push({deltas:[],abs:[],arc:!0}),Array.isArray(j[j.length-1].abs)&&j[j.length-1].abs.push(le)}}J=q?null:L==="stroke"?"stroke":"fill";for(var Je=!1,Ue=0;Ue<j.length;Ue++)if(j[Ue].arc)for(var Ae=j[Ue].abs,Le=0;Le<Ae.length;Le++){var Me=Ae[Le];Me.type==="arc"?A.call(this,Me.x,Me.y,Me.radius,Me.startAngle,Me.endAngle,Me.counterclockwise,void 0,q,!Je):K.call(this,Me.x,Me.y),Je=!0}else if(j[Ue].close===!0)this.pdf.internal.out("h"),Je=!1;else if(j[Ue].begin!==!0){var Oe=j[Ue].start.x,We=j[Ue].start.y;D.call(this,j[Ue].deltas,Oe,We),Je=!0}J&&U.call(this,J),q&&W.call(this)}},O=function(L){var q=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,Y=q*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return L-Y;case"top":return L+q-Y;case"hanging":return L+q-2*Y;case"middle":return L+q/2-Y;case"ideographic":return L;case"alphabetic":default:return L}},I=function(L){return L+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};f.prototype.createLinearGradient=function(){var L=function(){};return L.colorStops=[],L.addColorStop=function(q,Y){this.colorStops.push([q,Y])},L.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},L.isCanvasGradient=!0,L},f.prototype.createPattern=function(){return this.createLinearGradient()},f.prototype.createRadialGradient=function(){return this.createLinearGradient()};var A=function(L,q,Y,J,j,ne,re,le,ye){for(var me=H.call(this,Y,J,j,ne),Ce=0;Ce<me.length;Ce++){var Pe=me[Ce];Ce===0&&(ye?E.call(this,Pe.x1+L,Pe.y1+q):K.call(this,Pe.x1+L,Pe.y1+q)),Q.call(this,L,q,Pe.x2,Pe.y2,Pe.x3,Pe.y3,Pe.x4,Pe.y4)}le?W.call(this):U.call(this,re)},U=function(L){switch(L){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},W=function(){this.pdf.clip(),this.pdf.discardPath()},E=function(L,q){this.pdf.internal.out(n(L)+" "+i(q)+" m")},P=function(L){var q;switch(L.align){case"right":case"end":q="right";break;case"center":q="center";break;case"left":case"start":default:q="left"}var Y=this.pdf.getTextDimensions(L.text),J=O.call(this,L.y),j=I.call(this,J)-Y.h,ne=this.ctx.transform.applyToPoint(new o(L.x,J)),re=this.ctx.transform.decompose(),le=new l;le=(le=(le=le.multiply(re.translate)).multiply(re.skew)).multiply(re.scale);for(var ye,me,Ce,Pe=this.ctx.transform.applyToRectangle(new a(L.x,J,Y.w,Y.h)),Be=le.applyToRectangle(new a(L.x,j,Y.w,Y.h)),ge=S.call(this,Be),te=[],Je=0;Je<ge.length;Je+=1)te.indexOf(ge[Je])===-1&&te.push(ge[Je]);if(x(te),this.autoPaging)for(var Ue=te[0],Ae=te[te.length-1],Le=Ue;Le<Ae+1;Le++){this.pdf.setPage(Le);var Me=Le===1?this.posY+this.margin[0]:this.margin[0],Oe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],We=this.pdf.internal.pageSize.height-this.margin[2],tt=We-this.margin[0],at=this.pdf.internal.pageSize.width-this.margin[1],lt=at-this.margin[3],mt=Le===1?0:Oe+(Le-2)*tt;if(this.ctx.clip_path.length!==0){var Lt=this.path;ye=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=_(ye,this.posX+this.margin[3],-1*mt+Me),k.call(this,"fill",!0),this.path=Lt}var Qe=_([JSON.parse(JSON.stringify(Be))],this.posX+this.margin[3],-mt+Me+this.ctx.prevPageLastElemOffset)[0];L.scale>=.01&&(me=this.pdf.internal.getFontSize(),this.pdf.setFontSize(me*L.scale),Ce=this.lineWidth,this.lineWidth=Ce*L.scale);var ut=this.autoPaging!=="text";if(ut||Qe.y+Qe.h<=We){if(ut||Qe.y>=Me&&Qe.x<=at){var De=ut?L.text:this.pdf.splitTextToSize(L.text,L.maxWidth||at-Qe.x)[0],Gn=_([JSON.parse(JSON.stringify(Pe))],this.posX+this.margin[3],-mt+Me+this.ctx.prevPageLastElemOffset)[0],bt=ut&&(Le>Ue||Le<Ae)&&y.call(this);bt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],lt,tt,null).clip().discardPath()),this.pdf.text(De,Gn.x,Gn.y,{angle:L.angle,align:q,renderingMode:L.renderingMode}),bt&&this.pdf.restoreGraphicsState()}}else Qe.y<We&&(this.ctx.prevPageLastElemOffset+=We-Qe.y);L.scale>=.01&&(this.pdf.setFontSize(me),this.lineWidth=Ce)}else L.scale>=.01&&(me=this.pdf.internal.getFontSize(),this.pdf.setFontSize(me*L.scale),Ce=this.lineWidth,this.lineWidth=Ce*L.scale),this.pdf.text(L.text,ne.x+this.posX,ne.y+this.posY,{angle:L.angle,align:q,renderingMode:L.renderingMode,maxWidth:L.maxWidth}),L.scale>=.01&&(this.pdf.setFontSize(me),this.lineWidth=Ce)},K=function(L,q,Y,J){Y=Y||0,J=J||0,this.pdf.internal.out(n(L+Y)+" "+i(q+J)+" l")},D=function(L,q,Y){return this.pdf.lines(L,q,Y,null,null)},Q=function(L,q,Y,J,j,ne,re,le){this.pdf.internal.out([e(r(Y+L)),e(s(J+q)),e(r(j+L)),e(s(ne+q)),e(r(re+L)),e(s(le+q)),"c"].join(" "))},H=function(L,q,Y,J){for(var j=2*Math.PI,ne=Math.PI/2;q>Y;)q-=j;var re=Math.abs(Y-q);re<j&&J&&(re=j-re);for(var le=[],ye=J?-1:1,me=q;re>1e-5;){var Ce=me+ye*Math.min(re,ne);le.push($.call(this,L,me,Ce)),re-=Math.abs(Ce-me),me=Ce}return le},$=function(L,q,Y){var J=(Y-q)/2,j=L*Math.cos(J),ne=L*Math.sin(J),re=j,le=-ne,ye=re*re+le*le,me=ye+re*j+le*ne,Ce=4/3*(Math.sqrt(2*ye*me)-me)/(re*ne-le*j),Pe=re-Ce*le,Be=le+Ce*re,ge=Pe,te=-Be,Je=J+q,Ue=Math.cos(Je),Ae=Math.sin(Je);return{x1:L*Math.cos(q),y1:L*Math.sin(q),x2:Pe*Ue-Be*Ae,y2:Pe*Ae+Be*Ue,x3:ge*Ue-te*Ae,y3:ge*Ae+te*Ue,x4:L*Math.cos(Y),y4:L*Math.sin(Y)}},B=function(L){return 180*L/Math.PI},G=function(L,q,Y,J,j,ne){var re=L+.5*(Y-L),le=q+.5*(J-q),ye=j+.5*(Y-j),me=ne+.5*(J-ne),Ce=Math.min(L,j,re,ye),Pe=Math.max(L,j,re,ye),Be=Math.min(q,ne,le,me),ge=Math.max(q,ne,le,me);return new a(Ce,Be,Pe-Ce,ge-Be)},ie=function(L,q,Y,J,j,ne,re,le){var ye,me,Ce,Pe,Be,ge,te,Je,Ue,Ae,Le,Me,Oe,We,tt=Y-L,at=J-q,lt=j-Y,mt=ne-J,Lt=re-j,Qe=le-ne;for(me=0;me<41;me++)Ue=(te=(Ce=L+(ye=me/40)*tt)+ye*((Be=Y+ye*lt)-Ce))+ye*(Be+ye*(j+ye*Lt-Be)-te),Ae=(Je=(Pe=q+ye*at)+ye*((ge=J+ye*mt)-Pe))+ye*(ge+ye*(ne+ye*Qe-ge)-Je),me==0?(Le=Ue,Me=Ae,Oe=Ue,We=Ae):(Le=Math.min(Le,Ue),Me=Math.min(Me,Ae),Oe=Math.max(Oe,Ue),We=Math.max(We,Ae));return new a(Math.round(Le),Math.round(Me),Math.round(Oe-Le),Math.round(We-Me))},ue=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var L,q,Y=(L=this.ctx.lineDash,q=this.ctx.lineDashOffset,JSON.stringify({lineDash:L,lineDashOffset:q}));this.prevLineDash!==Y&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=Y)}}})($e.API),function(t){var e=function(s){var o,a,l,c,h,f,d,p,w,y;for(a=[],l=0,c=(s+=o="\0\0\0\0".slice(s.length%4||4)).length;c>l;l+=4)(h=(s.charCodeAt(l)<<24)+(s.charCodeAt(l+1)<<16)+(s.charCodeAt(l+2)<<8)+s.charCodeAt(l+3))!==0?(f=(h=((h=((h=((h=(h-(y=h%85))/85)-(w=h%85))/85)-(p=h%85))/85)-(d=h%85))/85)%85,a.push(f+33,d+33,p+33,w+33,y+33)):a.push(122);return function(S,m){for(var _=m;_>0;_--)S.pop()}(a,o.length),String.fromCharCode.apply(String,a)+"~>"},n=function(s){var o,a,l,c,h,f=String,d="length",p=255,w="charCodeAt",y="slice",S="replace";for(s[y](-2),s=s[y](0,-2)[S](/\s/g,"")[S]("z","!!!!!"),l=[],c=0,h=(s+=o="uuuuu"[y](s[d]%5||5))[d];h>c;c+=5)a=52200625*(s[w](c)-33)+614125*(s[w](c+1)-33)+7225*(s[w](c+2)-33)+85*(s[w](c+3)-33)+(s[w](c+4)-33),l.push(p&a>>24,p&a>>16,p&a>>8,p&a);return function(m,_){for(var x=_;x>0;x--)m.pop()}(l,o[d]),f.fromCharCode.apply(f,l)},i=function(s){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),o.test(s)===!1)return"";for(var a="",l=0;l<s.length;l+=2)a+=String.fromCharCode("0x"+(s[l]+s[l+1]));return a},r=function(s){for(var o=new Uint8Array(s.length),a=s.length;a--;)o[a]=s.charCodeAt(a);return s=(o=$v(o)).reduce(function(l,c){return l+String.fromCharCode(c)},"")};t.processDataByFilters=function(s,o){var a=0,l=s||"",c=[];for(typeof(o=o||[])=="string"&&(o=[o]),a=0;a<o.length;a+=1)switch(o[a]){case"ASCII85Decode":case"/ASCII85Decode":l=n(l),c.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":l=e(l),c.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":l=i(l),c.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":l=l.split("").map(function(h){return("0"+h.charCodeAt().toString(16)).slice(-2)}).join("")+">",c.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":l=r(l),c.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[a]+'" is not implemented')}return{data:l,reverseChain:c.reverse().join(" ")}}}($e.API),function(t){t.loadFile=function(e,n,i){return function(r,s,o){s=s!==!1,o=typeof o=="function"?o:function(){};var a=void 0;try{a=function(l,c,h){var f=new XMLHttpRequest,d=0,p=function(w){var y=w.length,S=[],m=String.fromCharCode;for(d=0;d<y;d+=1)S.push(m(255&w.charCodeAt(d)));return S.join("")};if(f.open("GET",l,!c),f.overrideMimeType("text/plain; charset=x-user-defined"),c===!1&&(f.onload=function(){f.status===200?h(p(this.responseText)):h(void 0)}),f.send(null),c&&f.status===200)return p(f.responseText)}(r,s,o)}catch{}return a}(e,n,i)},t.loadImageFile=t.loadFile}($e.API),function(t){function e(){return(Ke.html2canvas?Promise.resolve(Ke.html2canvas):Uv(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function n(){return(Ke.DOMPurify?Promise.resolve(Ke.DOMPurify):Uv(()=>import("./purify.es-C_uT9hQ1.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var i=function(o){var a=Pt(o);return a==="undefined"?"undefined":a==="string"||o instanceof String?"string":a==="number"||o instanceof Number?"number":a==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":a==="object"?"object":"unknown"},r=function(o,a){var l=document.createElement(o);for(var c in a.className&&(l.className=a.className),a.innerHTML&&a.dompurify&&(l.innerHTML=a.dompurify.sanitize(a.innerHTML)),a.style)l.style[c]=a.style[c];return l},s=function o(a){var l=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),c=o.convert(Promise.resolve(),l);return c=(c=c.setProgress(1,o,1,[o])).set(a)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(o,a){return o.__proto__=a||s.prototype,o},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(o,a){return this.then(function(){switch(a=a||function(l){switch(i(l)){case"string":return"string";case"element":return l.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o)){case"string":return this.then(n).then(function(l){return this.set({src:r("div",{innerHTML:o,dompurify:l})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},s.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},a=function l(c,h){for(var f=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),d=c.firstChild;d;d=d.nextSibling)h!==!0&&d.nodeType===1&&d.nodeName==="SCRIPT"||f.appendChild(l(d,h));return c.nodeType===1&&(c.nodeName==="CANVAS"?(f.width=c.width,f.height=c.height,f.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(f.value=c.value),f.addEventListener("load",function(){f.scrollTop=c.scrollTop,f.scrollLeft=c.scrollLeft},!0)),f}(this.prop.src,this.opt.html2canvas.javascriptEnabled);a.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=r("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=r("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(a),this.prop.container.firstChild.appendChild(r("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(a){var l=Object.assign({},this.opt.html2canvas);return delete l.onrendered,a(this.prop.container,l)}).then(function(a){(this.opt.html2canvas.onrendered||function(){})(a),this.prop.canvas=a,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(a){var l=this.opt.jsPDF,c=this.opt.fontFaces,h=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,f=Object.assign({async:!0,allowTaint:!0,scale:h,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete f.onrendered,l.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,l.context2d.posX=this.opt.x,l.context2d.posY=this.opt.y,l.context2d.margin=this.opt.margin,l.context2d.fontFaces=c,c)for(var d=0;d<c.length;++d){var p=c[d],w=p.src.find(function(y){return y.format==="truetype"});w&&l.addFont(w.url,p.ref.name,p.ref.style)}return f.windowHeight=f.windowHeight||0,f.windowHeight=f.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):f.windowHeight,l.context2d.save(!0),a(this.prop.container,f)}).then(function(a){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(a),this.prop.canvas=a,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(o,a,l){return(l=l||"pdf").toLowerCase()==="img"||l.toLowerCase()==="image"?this.outputImg(o,a):this.outputPdf(o,a)},s.prototype.outputPdf=function(o,a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,a)})},s.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},s.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(o){if(i(o)!=="object")return this;var a=Object.keys(o||{}).map(function(l){if(l in s.template.prop)return function(){this.prop[l]=o[l]};switch(l){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[l]=o[l]}}},this);return this.then(function(){return this.thenList(a)})},s.prototype.get=function(o,a){return this.then(function(){var l=o in s.template.prop?this.prop[o]:this.opt[o];return a?a(l):l})},s.prototype.setMargin=function(o){return this.then(function(){switch(i(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},s.prototype.setPageSize=function(o){function a(l,c){return Math.floor(l*c/72*96)}return this.then(function(){(o=o||$e.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:a(o.inner.width,o.k),height:a(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},s.prototype.setProgress=function(o,a,l,c){return o!=null&&(this.progress.val=o),a!=null&&(this.progress.state=a),l!=null&&(this.progress.n=l),c!=null&&(this.progress.stack=c),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(o,a,l,c){return this.setProgress(o?this.progress.val+o:null,a||null,l?this.progress.n+l:null,c?this.progress.stack.concat(c):null)},s.prototype.then=function(o,a){var l=this;return this.thenCore(o,a,function(c,h){return l.updateProgress(null,null,1,[c]),Promise.prototype.then.call(this,function(f){return l.updateProgress(null,c),f}).then(c,h).then(function(f){return l.updateProgress(1),f})})},s.prototype.thenCore=function(o,a,l){l=l||Promise.prototype.then,o&&(o=o.bind(this)),a&&(a=a.bind(this));var c=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:s.convert(Object.assign({},this),Promise.prototype),h=l.call(c,o,a);return s.convert(h,this.__proto__)},s.prototype.thenExternal=function(o,a){return Promise.prototype.then.call(this,o,a)},s.prototype.thenList=function(o){var a=this;return o.forEach(function(l){a=a.thenCore(l)}),a},s.prototype.catch=function(o){o&&(o=o.bind(this));var a=Promise.prototype.catch.call(this,o);return s.convert(a,this)},s.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},s.prototype.error=function(o){return this.then(function(){throw new Error(o)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,$e.getPageSize=function(o,a,l){if(Pt(o)==="object"){var c=o;o=c.orientation,a=c.unit||a,l=c.format||l}a=a||"mm",l=l||"a4",o=(""+(o||"P")).toLowerCase();var h,f=(""+l).toLowerCase(),d={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(a){case"pt":h=1;break;case"mm":h=72/25.4;break;case"cm":h=72/2.54;break;case"in":h=72;break;case"px":h=.75;break;case"pc":case"em":h=12;break;case"ex":h=6;break;default:throw"Invalid unit: "+a}var p,w=0,y=0;if(d.hasOwnProperty(f))w=d[f][1]/h,y=d[f][0]/h;else try{w=l[1],y=l[0]}catch{throw new Error("Invalid format: "+l)}if(o==="p"||o==="portrait")o="p",y>w&&(p=y,y=w,w=p);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",w>y&&(p=y,y=w,w=p)}return{width:y,height:w,unit:a,k:h,orientation:o}},t.html=function(o,a){(a=a||{}).callback=a.callback||function(){},a.html2canvas=a.html2canvas||{},a.html2canvas.canvas=a.html2canvas.canvas||this.canvas,a.jsPDF=a.jsPDF||this,a.fontFaces=a.fontFaces?a.fontFaces.map(Qv):null;var l=new s(a);return a.worker?l:l.from(o).doCallback()}}($e.API),$e.API.addJS=function(t){return Ix=t,this.internal.events.subscribe("postPutResources",function(){ip=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(ip+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),Px=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+Ix+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){ip!==void 0&&Px!==void 0&&this.internal.out("/Names <</JavaScript "+ip+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var n=this,i=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var r=n.outline.render().split(/\r\n/),s=0;s<r.length;s++){var o=r[s],a=i.exec(o);if(a!=null){var l=a[1];n.internal.newObjectDeferredBegin(l,!1)}n.internal.write(o)}if(this.outline.createNamedDestinations){var c=this.internal.pages.length,h=[];for(s=0;s<c;s++){var f=n.internal.newObject();h.push(f);var d=n.internal.getPageInfo(s+1);n.internal.write("<< /D["+d.objId+" 0 R /XYZ null null null]>> endobj")}var p=n.internal.newObject();for(n.internal.write("<< /Names [ "),s=0;s<h.length;s++)n.internal.write("(page_"+(s+1)+")"+h[s]+" 0 R");n.internal.write(" ] >>","endobj"),e=n.internal.newObject(),n.internal.write("<< /Dests "+p+" 0 R"),n.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(i,r,s){var o={title:r,options:s,children:[]};return i==null&&(i=this.root),i.children.push(o),o},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(i){i.id=n.internal.newObjectDeferred();for(var r=0;r<i.children.length;r++)this.genIds_r(i.children[r])},n.outline.renderRoot=function(i){this.objStart(i),this.line("/Type /Outlines"),i.children.length>0&&(this.line("/First "+this.makeRef(i.children[0])),this.line("/Last "+this.makeRef(i.children[i.children.length-1]))),this.line("/Count "+this.count_r({count:0},i)),this.objEnd()},n.outline.renderItems=function(i){for(var r=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<i.children.length;s++){var o=i.children[s];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(i)),s>0&&this.line("/Prev "+this.makeRef(i.children[s-1])),s<i.children.length-1&&this.line("/Next "+this.makeRef(i.children[s+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var a=this.count=this.count_r({count:0},o);if(a>0&&this.line("/Count "+a),o.options&&o.options.pageNumber){var l=n.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+r(0)+" 0]")}this.objEnd()}for(var c=0;c<i.children.length;c++)this.renderItems(i.children[c])},n.outline.line=function(i){this.ctx.val+=i+`\r
`},n.outline.makeRef=function(i){return i.id+" 0 R"},n.outline.makeString=function(i){return"("+n.internal.pdfEscape(i)+")"},n.outline.objStart=function(i){this.ctx.val+=`\r
`+i.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(i,r){for(var s=0;s<r.children.length;s++)i.count++,this.count_r(i,r.children[s]);return i.count}}])}($e.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(n,i,r,s,o,a){var l,c=this.decode.DCT_DECODE,h=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=o||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,(l=function(f){for(var d,p=256*f.charCodeAt(4)+f.charCodeAt(5),w=f.length,y={width:0,height:0,numcomponents:1},S=4;S<w;S+=2){if(S+=p,e.indexOf(f.charCodeAt(S+1))!==-1){d=256*f.charCodeAt(S+5)+f.charCodeAt(S+6),y={width:256*f.charCodeAt(S+7)+f.charCodeAt(S+8),height:d,numcomponents:f.charCodeAt(S+9)};break}p=256*f.charCodeAt(S+2)+f.charCodeAt(S+3)}return y}(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n)).numcomponents){case 1:a=this.color_spaces.DEVICE_GRAY;break;case 4:a=this.color_spaces.DEVICE_CMYK;break;case 3:a=this.color_spaces.DEVICE_RGB}h={data:n,width:l.width,height:l.height,colorSpace:a,bitsPerComponent:8,filter:c,index:i,alias:r}}return h}}($e.API);var Gl,rp,Lx,Tx,Rx,l9=function(){var t,e,n;function i(s){var o,a,l,c,h,f,d,p,w,y,S,m,_,x;for(this.data=s,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},f=null;;){switch(o=this.readUInt32(),w=(function(){var N,k;for(k=[],N=0;N<4;++N)k.push(String.fromCharCode(this.data[this.pos++]));return k}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(o);break;case"fcTL":f&&this.animation.frames.push(f),this.pos+=4,f={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},h=this.readUInt16(),c=this.readUInt16()||100,f.delay=1e3*h/c,f.disposeOp=this.data[this.pos++],f.blendOp=this.data[this.pos++],f.data=[];break;case"IDAT":case"fdAT":for(w==="fdAT"&&(this.pos+=4,o-=4),s=(f!=null?f.data:void 0)||this.imgData,m=0;0<=o?m<o:m>o;0<=o?++m:--m)s.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(l=this.palette.length/3,this.transparency.indexed=this.read(o),this.transparency.indexed.length>l)throw new Error("More transparent colors than palette size");if((y=l-this.transparency.indexed.length)>0)for(_=0;0<=y?_<y:_>y;0<=y?++_:--_)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(o)[0];break;case 2:this.transparency.rgb=this.read(o)}break;case"tEXt":d=(S=this.read(o)).indexOf(0),p=String.fromCharCode.apply(String,S.slice(0,d)),this.text[p]=String.fromCharCode.apply(String,S.slice(d+1));break;case"IEND":return f&&this.animation.frames.push(f),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(x=this.colorType)===4||x===6,a=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*a,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=o}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}i.prototype.read=function(s){var o,a;for(a=[],o=0;0<=s?o<s:o>s;0<=s?++o:--o)a.push(this.data[this.pos++]);return a},i.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},i.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},i.prototype.decodePixels=function(s){var o=this.pixelBitlength/8,a=new Uint8Array(this.width*this.height*o),l=0,c=this;if(s==null&&(s=this.imgData),s.length===0)return new Uint8Array(0);function h(f,d,p,w){var y,S,m,_,x,N,k,O,I,A,U,W,E,P,K,D,Q,H,$,B,G,ie=Math.ceil((c.width-f)/p),ue=Math.ceil((c.height-d)/w),L=c.width==ie&&c.height==ue;for(P=o*ie,W=L?a:new Uint8Array(P*ue),N=s.length,E=0,S=0;E<ue&&l<N;){switch(s[l++]){case 0:for(_=Q=0;Q<P;_=Q+=1)W[S++]=s[l++];break;case 1:for(_=H=0;H<P;_=H+=1)y=s[l++],x=_<o?0:W[S-o],W[S++]=(y+x)%256;break;case 2:for(_=$=0;$<P;_=$+=1)y=s[l++],m=(_-_%o)/o,K=E&&W[(E-1)*P+m*o+_%o],W[S++]=(K+y)%256;break;case 3:for(_=B=0;B<P;_=B+=1)y=s[l++],m=(_-_%o)/o,x=_<o?0:W[S-o],K=E&&W[(E-1)*P+m*o+_%o],W[S++]=(y+Math.floor((x+K)/2))%256;break;case 4:for(_=G=0;G<P;_=G+=1)y=s[l++],m=(_-_%o)/o,x=_<o?0:W[S-o],E===0?K=D=0:(K=W[(E-1)*P+m*o+_%o],D=m&&W[(E-1)*P+(m-1)*o+_%o]),k=x+K-D,O=Math.abs(k-x),A=Math.abs(k-K),U=Math.abs(k-D),I=O<=A&&O<=U?x:A<=U?K:D,W[S++]=(y+I)%256;break;default:throw new Error("Invalid filter algorithm: "+s[l-1])}if(!L){var q=((d+E*w)*c.width+f)*o,Y=E*P;for(_=0;_<ie;_+=1){for(var J=0;J<o;J+=1)a[q++]=W[Y++];q+=(p-1)*o}}E++}}return s=Bj(s),c.interlaceMethod==1?(h(0,0,8,8),h(4,0,8,8),h(0,4,4,8),h(2,0,4,4),h(0,2,2,4),h(1,0,2,2),h(0,1,1,2)):h(0,0,1,1),a},i.prototype.decodePalette=function(){var s,o,a,l,c,h,f,d,p;for(a=this.palette,h=this.transparency.indexed||[],c=new Uint8Array((h.length||0)+a.length),l=0,s=0,o=f=0,d=a.length;f<d;o=f+=3)c[l++]=a[o],c[l++]=a[o+1],c[l++]=a[o+2],c[l++]=(p=h[s++])!=null?p:255;return c},i.prototype.copyToImageData=function(s,o){var a,l,c,h,f,d,p,w,y,S,m;if(l=this.colors,y=null,a=this.hasAlphaChannel,this.palette.length&&(y=(m=this._decodedPalette)!=null?m:this._decodedPalette=this.decodePalette(),l=4,a=!0),w=(c=s.data||s).length,f=y||o,h=d=0,l===1)for(;h<w;)p=y?4*o[h/4]:d,S=f[p++],c[h++]=S,c[h++]=S,c[h++]=S,c[h++]=a?f[p++]:255,d=p;else for(;h<w;)p=y?4*o[h/4]:d,c[h++]=f[p++],c[h++]=f[p++],c[h++]=f[p++],c[h++]=a?f[p++]:255,d=p},i.prototype.decode=function(){var s;return s=new Uint8Array(this.width*this.height*4),this.copyToImageData(s,this.decodePixels()),s};var r=function(){if(Object.prototype.toString.call(Ke)==="[object Window]"){try{e=Ke.document.createElement("canvas"),n=e.getContext("2d")}catch{return!1}return!0}return!1};return r(),t=function(s){var o;if(r()===!0)return n.width=s.width,n.height=s.height,n.clearRect(0,0,s.width,s.height),n.putImageData(s,0,0),(o=new Image).src=e.toDataURL(),o;throw new Error("This method requires a Browser with Canvas-capability.")},i.prototype.decodeFrames=function(s){var o,a,l,c,h,f,d,p;if(this.animation){for(p=[],a=h=0,f=(d=this.animation.frames).length;h<f;a=++h)o=d[a],l=s.createImageData(o.width,o.height),c=this.decodePixels(new Uint8Array(o.data)),this.copyToImageData(l,c),o.imageData=l,p.push(o.image=t(l));return p}},i.prototype.renderFrame=function(s,o){var a,l,c;return a=(l=this.animation.frames)[o],c=l[o-1],o===0&&s.clearRect(0,0,this.width,this.height),(c!=null?c.disposeOp:void 0)===1?s.clearRect(c.xOffset,c.yOffset,c.width,c.height):(c!=null?c.disposeOp:void 0)===2&&s.putImageData(c.imageData,c.xOffset,c.yOffset),a.blendOp===0&&s.clearRect(a.xOffset,a.yOffset,a.width,a.height),s.drawImage(a.image,a.xOffset,a.yOffset)},i.prototype.animate=function(s){var o,a,l,c,h,f,d=this;return a=0,f=this.animation,c=f.numFrames,l=f.frames,h=f.numPlays,(o=function(){var p,w;if(p=a++%c,w=l[p],d.renderFrame(s,p),c>1&&a/c<h)return d.animation._timeout=setTimeout(o,w.delay)})()},i.prototype.stopAnimation=function(){var s;return clearTimeout((s=this.animation)!=null?s._timeout:void 0)},i.prototype.render=function(s){var o,a;return s._png&&s._png.stopAnimation(),s._png=this,s.width=this.width,s.height=this.height,o=s.getContext("2d"),this.animation?(this.decodeFrames(o),this.animate(o)):(a=o.createImageData(this.width,this.height),this.copyToImageData(a,this.decodePixels()),o.putImageData(a,0,0))},i}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function c9(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=t[e++]|t[e++]<<8,i=t[e++]|t[e++]<<8,r=t[e++],s=r>>7,o=1<<(7&r)+1;t[e++],t[e++];var a=null,l=null;s&&(a=e,l=o,e+=3*o);var c=!0,h=[],f=0,d=null,p=0,w=null;for(this.width=n,this.height=i;c&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,w=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((E=t[e++])>=0))throw Error("Invalid block size");if(E===0)break;e+=E}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var y=t[e++];f=t[e++]|t[e++]<<8,d=t[e++],!(1&y)&&(d=null),p=y>>2&7,e++;break;case 254:for(;;){if(!((E=t[e++])>=0))throw Error("Invalid block size");if(E===0)break;e+=E}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var S=t[e++]|t[e++]<<8,m=t[e++]|t[e++]<<8,_=t[e++]|t[e++]<<8,x=t[e++]|t[e++]<<8,N=t[e++],k=N>>6&1,O=1<<(7&N)+1,I=a,A=l,U=!1;N>>7&&(U=!0,I=e,A=O,e+=3*O);var W=e;for(e++;;){var E;if(!((E=t[e++])>=0))throw Error("Invalid block size");if(E===0)break;e+=E}h.push({x:S,y:m,width:_,height:x,has_local_palette:U,palette_offset:I,palette_size:A,data_offset:W,data_length:e-W,transparent_index:d,interlaced:!!k,delay:f,disposal:p});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return h.length},this.loopCount=function(){return w},this.frameInfo=function(P){if(P<0||P>=h.length)throw new Error("Frame index out of range.");return h[P]},this.decodeAndBlitFrameBGRA=function(P,K){var D=this.frameInfo(P),Q=D.width*D.height,H=new Uint8Array(Q);Ox(t,D.data_offset,H,Q);var $=D.palette_offset,B=D.transparent_index;B===null&&(B=256);var G=D.width,ie=n-G,ue=G,L=4*(D.y*n+D.x),q=4*((D.y+D.height)*n+D.x),Y=L,J=4*ie;D.interlaced===!0&&(J+=4*n*7);for(var j=8,ne=0,re=H.length;ne<re;++ne){var le=H[ne];if(ue===0&&(ue=G,(Y+=J)>=q&&(J=4*ie+4*n*(j-1),Y=L+(G+ie)*(j<<1),j>>=1)),le===B)Y+=4;else{var ye=t[$+3*le],me=t[$+3*le+1],Ce=t[$+3*le+2];K[Y++]=Ce,K[Y++]=me,K[Y++]=ye,K[Y++]=255}--ue}},this.decodeAndBlitFrameRGBA=function(P,K){var D=this.frameInfo(P),Q=D.width*D.height,H=new Uint8Array(Q);Ox(t,D.data_offset,H,Q);var $=D.palette_offset,B=D.transparent_index;B===null&&(B=256);var G=D.width,ie=n-G,ue=G,L=4*(D.y*n+D.x),q=4*((D.y+D.height)*n+D.x),Y=L,J=4*ie;D.interlaced===!0&&(J+=4*n*7);for(var j=8,ne=0,re=H.length;ne<re;++ne){var le=H[ne];if(ue===0&&(ue=G,(Y+=J)>=q&&(J=4*ie+4*n*(j-1),Y=L+(G+ie)*(j<<1),j>>=1)),le===B)Y+=4;else{var ye=t[$+3*le],me=t[$+3*le+1],Ce=t[$+3*le+2];K[Y++]=ye,K[Y++]=me,K[Y++]=Ce,K[Y++]=255}--ue}}}function Ox(t,e,n,i){for(var r=t[e++],s=1<<r,o=s+1,a=o+1,l=r+1,c=(1<<l)-1,h=0,f=0,d=0,p=t[e++],w=new Int32Array(4096),y=null;;){for(;h<16&&p!==0;)f|=t[e++]<<h,h+=8,p===1?p=t[e++]:--p;if(h<l)break;var S=f&c;if(f>>=l,h-=l,S!==s){if(S===o)break;for(var m=S<a?S:y,_=0,x=m;x>s;)x=w[x]>>8,++_;var N=x;if(d+_+(m!==S?1:0)>i)return void Dt.log("Warning, gif stream longer than expected.");n[d++]=N;var k=d+=_;for(m!==S&&(n[d++]=N),x=m;_--;)x=w[x],n[--k]=255&x,x>>=8;y!==null&&a<4096&&(w[a++]=y<<8|N,a>=c+1&&l<12&&(++l,c=c<<1|1)),y=S}else a=o+1,c=(1<<(l=r+1))-1,y=null}return d!==i&&Dt.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function p1(t){var e,n,i,r,s,o=Math.floor,a=new Array(64),l=new Array(64),c=new Array(64),h=new Array(64),f=new Array(65535),d=new Array(65535),p=new Array(64),w=new Array(64),y=[],S=0,m=7,_=new Array(64),x=new Array(64),N=new Array(64),k=new Array(256),O=new Array(2048),I=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],A=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],U=[0,1,2,3,4,5,6,7,8,9,10,11],W=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],E=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],P=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],K=[0,1,2,3,4,5,6,7,8,9,10,11],D=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],Q=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function H(L,q){for(var Y=0,J=0,j=new Array,ne=1;ne<=16;ne++){for(var re=1;re<=L[ne];re++)j[q[J]]=[],j[q[J]][0]=Y,j[q[J]][1]=ne,J++,Y++;Y*=2}return j}function $(L){for(var q=L[0],Y=L[1]-1;Y>=0;)q&1<<Y&&(S|=1<<m),Y--,--m<0&&(S==255?(B(255),B(0)):B(S),m=7,S=0)}function B(L){y.push(L)}function G(L){B(L>>8&255),B(255&L)}function ie(L,q,Y,J,j){for(var ne,re=j[0],le=j[240],ye=function(Ae,Le){var Me,Oe,We,tt,at,lt,mt,Lt,Qe,ut,De=0;for(Qe=0;Qe<8;++Qe){Me=Ae[De],Oe=Ae[De+1],We=Ae[De+2],tt=Ae[De+3],at=Ae[De+4],lt=Ae[De+5],mt=Ae[De+6];var Gn=Me+(Lt=Ae[De+7]),bt=Me-Lt,dr=Oe+mt,Ot=Oe-mt,Kt=We+lt,Ur=We-lt,Nt=tt+at,da=tt-at,tn=Gn+Nt,pr=Gn-Nt,ds=dr+Kt,nn=dr-Kt;Ae[De]=tn+ds,Ae[De+4]=tn-ds;var nt=.707106781*(nn+pr);Ae[De+2]=pr+nt,Ae[De+6]=pr-nt;var Ct=.382683433*((tn=da+Ur)-(nn=Ot+bt)),pa=.5411961*tn+Ct,Un=1.306562965*nn+Ct,Hr=.707106781*(ds=Ur+Ot),Wr=bt+Hr,Ge=bt-Hr;Ae[De+5]=Ge+pa,Ae[De+3]=Ge-pa,Ae[De+1]=Wr+Un,Ae[De+7]=Wr-Un,De+=8}for(De=0,Qe=0;Qe<8;++Qe){Me=Ae[De],Oe=Ae[De+8],We=Ae[De+16],tt=Ae[De+24],at=Ae[De+32],lt=Ae[De+40],mt=Ae[De+48];var gr=Me+(Lt=Ae[De+56]),qr=Me-Lt,yi=Oe+mt,Nn=Oe-mt,vn=We+lt,Di=We-lt,dl=tt+at,ps=tt-at,mr=gr+dl,vr=gr-dl,yr=yi+vn,Vr=yi-vn;Ae[De]=mr+yr,Ae[De+32]=mr-yr;var Yi=.707106781*(Vr+vr);Ae[De+16]=vr+Yi,Ae[De+48]=vr-Yi;var $r=.382683433*((mr=ps+Di)-(Vr=Nn+qr)),ga=.5411961*mr+$r,pl=1.306562965*Vr+$r,gl=.707106781*(yr=Di+Nn),ml=qr+gl,vl=qr-gl;Ae[De+40]=vl+ga,Ae[De+24]=vl-ga,Ae[De+8]=ml+pl,Ae[De+56]=ml-pl,De++}for(Qe=0;Qe<64;++Qe)ut=Ae[Qe]*Le[Qe],p[Qe]=ut>0?ut+.5|0:ut-.5|0;return p}(L,q),me=0;me<64;++me)w[I[me]]=ye[me];var Ce=w[0]-Y;Y=w[0],Ce==0?$(J[0]):($(J[d[ne=32767+Ce]]),$(f[ne]));for(var Pe=63;Pe>0&&w[Pe]==0;)Pe--;if(Pe==0)return $(re),Y;for(var Be,ge=1;ge<=Pe;){for(var te=ge;w[ge]==0&&ge<=Pe;)++ge;var Je=ge-te;if(Je>=16){Be=Je>>4;for(var Ue=1;Ue<=Be;++Ue)$(le);Je&=15}ne=32767+w[ge],$(j[(Je<<4)+d[ne]]),$(f[ne]),ge++}return Pe!=63&&$(re),Y}function ue(L){L=Math.min(Math.max(L,1),100),s!=L&&(function(q){for(var Y=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],J=0;J<64;J++){var j=o((Y[J]*q+50)/100);j=Math.min(Math.max(j,1),255),a[I[J]]=j}for(var ne=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],re=0;re<64;re++){var le=o((ne[re]*q+50)/100);le=Math.min(Math.max(le,1),255),l[I[re]]=le}for(var ye=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],me=0,Ce=0;Ce<8;Ce++)for(var Pe=0;Pe<8;Pe++)c[me]=1/(a[I[me]]*ye[Ce]*ye[Pe]*8),h[me]=1/(l[I[me]]*ye[Ce]*ye[Pe]*8),me++}(L<50?Math.floor(5e3/L):Math.floor(200-2*L)),s=L)}this.encode=function(L,q){q&&ue(q),y=new Array,S=0,m=7,G(65496),G(65504),G(16),B(74),B(70),B(73),B(70),B(0),B(1),B(1),B(0),G(1),G(1),B(0),B(0),function(){G(65499),G(132),B(0);for(var Oe=0;Oe<64;Oe++)B(a[Oe]);B(1);for(var We=0;We<64;We++)B(l[We])}(),function(Oe,We){G(65472),G(17),B(8),G(We),G(Oe),B(3),B(1),B(17),B(0),B(2),B(17),B(1),B(3),B(17),B(1)}(L.width,L.height),function(){G(65476),G(418),B(0);for(var Oe=0;Oe<16;Oe++)B(A[Oe+1]);for(var We=0;We<=11;We++)B(U[We]);B(16);for(var tt=0;tt<16;tt++)B(W[tt+1]);for(var at=0;at<=161;at++)B(E[at]);B(1);for(var lt=0;lt<16;lt++)B(P[lt+1]);for(var mt=0;mt<=11;mt++)B(K[mt]);B(17);for(var Lt=0;Lt<16;Lt++)B(D[Lt+1]);for(var Qe=0;Qe<=161;Qe++)B(Q[Qe])}(),G(65498),G(12),B(3),B(1),B(0),B(2),B(17),B(3),B(17),B(0),B(63),B(0);var Y=0,J=0,j=0;S=0,m=7,this.encode.displayName="_encode_";for(var ne,re,le,ye,me,Ce,Pe,Be,ge,te=L.data,Je=L.width,Ue=L.height,Ae=4*Je,Le=0;Le<Ue;){for(ne=0;ne<Ae;){for(me=Ae*Le+ne,Pe=-1,Be=0,ge=0;ge<64;ge++)Ce=me+(Be=ge>>3)*Ae+(Pe=4*(7&ge)),Le+Be>=Ue&&(Ce-=Ae*(Le+1+Be-Ue)),ne+Pe>=Ae&&(Ce-=ne+Pe-Ae+4),re=te[Ce++],le=te[Ce++],ye=te[Ce++],_[ge]=(O[re]+O[le+256>>0]+O[ye+512>>0]>>16)-128,x[ge]=(O[re+768>>0]+O[le+1024>>0]+O[ye+1280>>0]>>16)-128,N[ge]=(O[re+1280>>0]+O[le+1536>>0]+O[ye+1792>>0]>>16)-128;Y=ie(_,c,Y,e,i),J=ie(x,h,J,n,r),j=ie(N,h,j,n,r),ne+=32}Le+=8}if(m>=0){var Me=[];Me[1]=m+1,Me[0]=(1<<m+1)-1,$(Me)}return G(65497),new Uint8Array(y)},t=t||50,function(){for(var L=String.fromCharCode,q=0;q<256;q++)k[q]=L(q)}(),e=H(A,U),n=H(P,K),i=H(W,E),r=H(D,Q),function(){for(var L=1,q=2,Y=1;Y<=15;Y++){for(var J=L;J<q;J++)d[32767+J]=Y,f[32767+J]=[],f[32767+J][1]=Y,f[32767+J][0]=J;for(var j=-(q-1);j<=-L;j++)d[32767+j]=Y,f[32767+j]=[],f[32767+j][1]=Y,f[32767+j][0]=q-1+j;L<<=1,q<<=1}}(),function(){for(var L=0;L<256;L++)O[L]=19595*L,O[L+256>>0]=38470*L,O[L+512>>0]=7471*L+32768,O[L+768>>0]=-11059*L,O[L+1024>>0]=-21709*L,O[L+1280>>0]=32768*L+8421375,O[L+1536>>0]=-27439*L,O[L+1792>>0]=-5329*L}(),ue(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function kr(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function Mx(t){function e(A){if(!A)throw Error("assert :P")}function n(A,U,W){for(var E=0;4>E;E++)if(A[U+E]!=W.charCodeAt(E))return!0;return!1}function i(A,U,W,E,P){for(var K=0;K<P;K++)A[U+K]=W[E+K]}function r(A,U,W,E){for(var P=0;P<E;P++)A[U+P]=W}function s(A){return new Int32Array(A)}function o(A,U){for(var W=[],E=0;E<A;E++)W.push(new U);return W}function a(A,U){var W=[];return function E(P,K,D){for(var Q=D[K],H=0;H<Q&&(P.push(D.length>K+1?[]:new U),!(D.length<K+1));H++)E(P[H],K+1,D)}(W,0,A),W}var l=function(){var A=this;function U(u,g){for(var b=1<<g-1>>>0;u&b;)b>>>=1;return b?(u&b-1)+b:u}function W(u,g,b,C,T){e(!(C%b));do u[g+(C-=b)]=T;while(0<C)}function E(u,g,b,C,T){if(e(2328>=T),512>=T)var M=s(512);else if((M=s(T))==null)return 0;return function(F,z,V,X,oe,de){var pe,he,Se=z,ve=1<<V,ae=s(16),ce=s(16);for(e(oe!=0),e(X!=null),e(F!=null),e(0<V),he=0;he<oe;++he){if(15<X[he])return 0;++ae[X[he]]}if(ae[0]==oe)return 0;for(ce[1]=0,pe=1;15>pe;++pe){if(ae[pe]>1<<pe)return 0;ce[pe+1]=ce[pe]+ae[pe]}for(he=0;he<oe;++he)pe=X[he],0<X[he]&&(de[ce[pe]++]=he);if(ce[15]==1)return(X=new P).g=0,X.value=de[0],W(F,Se,1,ve,X),ve;var be,Ne=-1,xe=ve-1,je=0,Te=1,Ve=1,Re=1<<V;for(he=0,pe=1,oe=2;pe<=V;++pe,oe<<=1){if(Te+=Ve<<=1,0>(Ve-=ae[pe]))return 0;for(;0<ae[pe];--ae[pe])(X=new P).g=pe,X.value=de[he++],W(F,Se+je,oe,Re,X),je=U(je,pe)}for(pe=V+1,oe=2;15>=pe;++pe,oe<<=1){if(Te+=Ve<<=1,0>(Ve-=ae[pe]))return 0;for(;0<ae[pe];--ae[pe]){if(X=new P,(je&xe)!=Ne){for(Se+=Re,be=1<<(Ne=pe)-V;15>Ne&&!(0>=(be-=ae[Ne]));)++Ne,be<<=1;ve+=Re=1<<(be=Ne-V),F[z+(Ne=je&xe)].g=be+V,F[z+Ne].value=Se-z-Ne}X.g=pe-V,X.value=de[he++],W(F,Se+(je>>V),oe,Re,X),je=U(je,pe)}}return Te!=2*ce[15]-1?0:ve}(u,g,b,C,T,M)}function P(){this.value=this.g=0}function K(){this.value=this.g=0}function D(){this.G=o(5,P),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(Hn,K)}function Q(u,g,b,C){e(u!=null),e(g!=null),e(2147483648>C),u.Ca=254,u.I=0,u.b=-8,u.Ka=0,u.oa=g,u.pa=b,u.Jd=g,u.Yc=b+C,u.Zc=4<=C?b+C-4+1:b,ne(u)}function H(u,g){for(var b=0;0<g--;)b|=le(u,128)<<g;return b}function $(u,g){var b=H(u,g);return re(u)?-b:b}function B(u,g,b,C){var T,M=0;for(e(u!=null),e(g!=null),e(4294967288>C),u.Sb=C,u.Ra=0,u.u=0,u.h=0,4<C&&(C=4),T=0;T<C;++T)M+=g[b+T]<<8*T;u.Ra=M,u.bb=C,u.oa=g,u.pa=b}function G(u){for(;8<=u.u&&u.bb<u.Sb;)u.Ra>>>=8,u.Ra+=u.oa[u.pa+u.bb]<<Tl-8>>>0,++u.bb,u.u-=8;Y(u)&&(u.h=1,u.u=0)}function ie(u,g){if(e(0<=g),!u.h&&g<=Ll){var b=q(u)&Il[g];return u.u+=g,G(u),b}return u.h=1,u.u=0}function ue(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function L(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function q(u){return u.Ra>>>(u.u&Tl-1)>>>0}function Y(u){return e(u.bb<=u.Sb),u.h||u.bb==u.Sb&&u.u>Tl}function J(u,g){u.u=g,u.h=Y(u)}function j(u){u.u>=gu&&(e(u.u>=gu),G(u))}function ne(u){e(u!=null&&u.oa!=null),u.pa<u.Zc?(u.I=(u.oa[u.pa++]|u.I<<8)>>>0,u.b+=8):(e(u!=null&&u.oa!=null),u.pa<u.Yc?(u.b+=8,u.I=u.oa[u.pa++]|u.I<<8):u.Ka?u.b=0:(u.I<<=8,u.b+=8,u.Ka=1))}function re(u){return H(u,1)}function le(u,g){var b=u.Ca;0>u.b&&ne(u);var C=u.b,T=b*g>>>8,M=(u.I>>>C>T)+0;for(M?(b-=T,u.I-=T+1<<C>>>0):b=T+1,C=b,T=0;256<=C;)T+=8,C>>=8;return C=7^T+wi[C],u.b-=C,u.Ca=(b<<C)-1,M}function ye(u,g,b){u[g+0]=b>>24&255,u[g+1]=b>>16&255,u[g+2]=b>>8&255,u[g+3]=b>>0&255}function me(u,g){return u[g+0]<<0|u[g+1]<<8}function Ce(u,g){return me(u,g)|u[g+2]<<16}function Pe(u,g){return me(u,g)|me(u,g+2)<<16}function Be(u,g){var b=1<<g;return e(u!=null),e(0<g),u.X=s(b),u.X==null?0:(u.Mb=32-g,u.Xa=g,1)}function ge(u,g){e(u!=null),e(g!=null),e(u.Xa==g.Xa),i(g.X,0,u.X,0,1<<g.Xa)}function te(){this.X=[],this.Xa=this.Mb=0}function Je(u,g,b,C){e(b!=null),e(C!=null);var T=b[0],M=C[0];return T==0&&(T=(u*M+g/2)/g),M==0&&(M=(g*T+u/2)/u),0>=T||0>=M?0:(b[0]=T,C[0]=M,1)}function Ue(u,g){return u+(1<<g)-1>>>g}function Ae(u,g){return((4278255360&u)+(4278255360&g)>>>0&4278255360)+((16711935&u)+(16711935&g)>>>0&16711935)>>>0}function Le(u,g){A[g]=function(b,C,T,M,F,z,V){var X;for(X=0;X<F;++X){var oe=A[u](z[V+X-1],T,M+X);z[V+X]=Ae(b[C+X],oe)}}}function Me(){this.ud=this.hd=this.jd=0}function Oe(u,g){return((4278124286&(u^g))>>>1)+(u&g)>>>0}function We(u){return 0<=u&&256>u?u:0>u?0:255<u?255:void 0}function tt(u,g){return We(u+(u-g+.5>>1))}function at(u,g,b){return Math.abs(g-b)-Math.abs(u-b)}function lt(u,g,b,C,T,M,F){for(C=M[F-1],b=0;b<T;++b)M[F+b]=C=Ae(u[g+b],C)}function mt(u,g,b,C,T){var M;for(M=0;M<b;++M){var F=u[g+M],z=F>>8&255,V=16711935&(V=(V=16711935&F)+((z<<16)+z));C[T+M]=(4278255360&F)+V>>>0}}function Lt(u,g){g.jd=u>>0&255,g.hd=u>>8&255,g.ud=u>>16&255}function Qe(u,g,b,C,T,M){var F;for(F=0;F<C;++F){var z=g[b+F],V=z>>>8,X=z,oe=255&(oe=(oe=z>>>16)+((u.jd<<24>>24)*(V<<24>>24)>>>5));X=255&(X=(X=X+((u.hd<<24>>24)*(V<<24>>24)>>>5))+((u.ud<<24>>24)*(oe<<24>>24)>>>5)),T[M+F]=(4278255360&z)+(oe<<16)+X}}function ut(u,g,b,C,T){A[g]=function(M,F,z,V,X,oe,de,pe,he){for(V=de;V<pe;++V)for(de=0;de<he;++de)X[oe++]=T(z[C(M[F++])])},A[u]=function(M,F,z,V,X,oe,de){var pe=8>>M.b,he=M.Ea,Se=M.K[0],ve=M.w;if(8>pe)for(M=(1<<M.b)-1,ve=(1<<pe)-1;F<z;++F){var ae,ce=0;for(ae=0;ae<he;++ae)ae&M||(ce=C(V[X++])),oe[de++]=T(Se[ce&ve]),ce>>=pe}else A["VP8LMapColor"+b](V,X,Se,ve,oe,de,F,z,he)}}function De(u,g,b,C,T){for(b=g+b;g<b;){var M=u[g++];C[T++]=M>>16&255,C[T++]=M>>8&255,C[T++]=M>>0&255}}function Gn(u,g,b,C,T){for(b=g+b;g<b;){var M=u[g++];C[T++]=M>>16&255,C[T++]=M>>8&255,C[T++]=M>>0&255,C[T++]=M>>24&255}}function bt(u,g,b,C,T){for(b=g+b;g<b;){var M=(F=u[g++])>>16&240|F>>12&15,F=F>>0&240|F>>28&15;C[T++]=M,C[T++]=F}}function dr(u,g,b,C,T){for(b=g+b;g<b;){var M=(F=u[g++])>>16&248|F>>13&7,F=F>>5&224|F>>3&31;C[T++]=M,C[T++]=F}}function Ot(u,g,b,C,T){for(b=g+b;g<b;){var M=u[g++];C[T++]=M>>0&255,C[T++]=M>>8&255,C[T++]=M>>16&255}}function Kt(u,g,b,C,T,M){if(M==0)for(b=g+b;g<b;)ye(C,((M=u[g++])[0]>>24|M[1]>>8&65280|M[2]<<8&16711680|M[3]<<24)>>>0),T+=32;else i(C,T,u,g,b)}function Ur(u,g){A[g][0]=A[u+"0"],A[g][1]=A[u+"1"],A[g][2]=A[u+"2"],A[g][3]=A[u+"3"],A[g][4]=A[u+"4"],A[g][5]=A[u+"5"],A[g][6]=A[u+"6"],A[g][7]=A[u+"7"],A[g][8]=A[u+"8"],A[g][9]=A[u+"9"],A[g][10]=A[u+"10"],A[g][11]=A[u+"11"],A[g][12]=A[u+"12"],A[g][13]=A[u+"13"],A[g][14]=A[u+"0"],A[g][15]=A[u+"0"]}function Nt(u){return u==Vm||u==$m||u==ad||u==Gm}function da(){this.eb=[],this.size=this.A=this.fb=0}function tn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function pr(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new da,this.f.kb=new tn,this.sd=null}function ds(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function nn(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function nt(u){return alert("todo:WebPSamplerProcessPlane"),u.T}function Ct(u,g){var b=u.T,C=g.ba.f.RGBA,T=C.eb,M=C.fb+u.ka*C.A,F=er[g.ba.S],z=u.y,V=u.O,X=u.f,oe=u.N,de=u.ea,pe=u.W,he=g.cc,Se=g.dc,ve=g.Mc,ae=g.Nc,ce=u.ka,be=u.ka+u.T,Ne=u.U,xe=Ne+1>>1;for(ce==0?F(z,V,null,null,X,oe,de,pe,X,oe,de,pe,T,M,null,null,Ne):(F(g.ec,g.fc,z,V,he,Se,ve,ae,X,oe,de,pe,T,M-C.A,T,M,Ne),++b);ce+2<be;ce+=2)he=X,Se=oe,ve=de,ae=pe,oe+=u.Rc,pe+=u.Rc,M+=2*C.A,F(z,(V+=2*u.fa)-u.fa,z,V,he,Se,ve,ae,X,oe,de,pe,T,M-C.A,T,M,Ne);return V+=u.fa,u.j+be<u.o?(i(g.ec,g.fc,z,V,Ne),i(g.cc,g.dc,X,oe,xe),i(g.Mc,g.Nc,de,pe,xe),b--):1&be||F(z,V,null,null,X,oe,de,pe,X,oe,de,pe,T,M+C.A,null,null,Ne),b}function pa(u,g,b){var C=u.F,T=[u.J];if(C!=null){var M=u.U,F=g.ba.S,z=F==od||F==ad;g=g.ba.f.RGBA;var V=[0],X=u.ka;V[0]=u.T,u.Kb&&(X==0?--V[0]:(--X,T[0]-=u.width),u.j+u.ka+u.T==u.o&&(V[0]=u.o-u.j-X));var oe=g.eb;X=g.fb+X*g.A,u=Ut(C,T[0],u.width,M,V,oe,X+(z?0:3),g.A),e(b==V),u&&Nt(F)&&Qi(oe,X,z,M,V,g.A)}return 0}function Un(u){var g=u.ma,b=g.ba.S,C=11>b,T=b==rd||b==sd||b==od||b==qm||b==12||Nt(b);if(g.memory=null,g.Ib=null,g.Jb=null,g.Nd=null,!du(g.Oa,u,T?11:12))return 0;if(T&&Nt(b)&&ke(),u.da)alert("todo:use_scaling");else{if(C){if(g.Ib=nt,u.Kb){if(b=u.U+1>>1,g.memory=s(u.U+2*b),g.memory==null)return 0;g.ec=g.memory,g.fc=0,g.cc=g.ec,g.dc=g.fc+u.U,g.Mc=g.cc,g.Nc=g.dc+b,g.Ib=Ct,ke()}}else alert("todo:EmitYUV");T&&(g.Jb=pa,C&&fe())}if(C&&!g5){for(u=0;256>u;++u)Yk[u]=89858*(u-128)+cd>>ld,Jk[u]=-22014*(u-128)+cd,Xk[u]=-45773*(u-128),Kk[u]=113618*(u-128)+cd>>ld;for(u=xu;u<Xm;++u)g=76283*(u-16)+cd>>ld,Qk[u-xu]=Fi(g,255),Zk[u-xu]=Fi(g+8>>4,15);g5=1}return 1}function Hr(u){var g=u.ma,b=u.U,C=u.T;return e(!(1&u.ka)),0>=b||0>=C?0:(b=g.Ib(u,g),g.Jb!=null&&g.Jb(u,g,b),g.Dc+=b,1)}function Wr(u){u.ma.memory=null}function Ge(u,g,b,C){return ie(u,8)!=47?0:(g[0]=ie(u,14)+1,b[0]=ie(u,14)+1,C[0]=ie(u,1),ie(u,3)!=0?0:!u.h)}function gr(u,g){if(4>u)return u+1;var b=u-2>>1;return(2+(1&u)<<b)+ie(g,b)+1}function qr(u,g){return 120<g?g-120:1<=(b=((b=Ok[g-1])>>4)*u+(8-(15&b)))?b:1;var b}function yi(u,g,b){var C=q(b),T=u[g+=255&C].g-8;return 0<T&&(J(b,b.u+8),C=q(b),g+=u[g].value,g+=C&(1<<T)-1),J(b,b.u+u[g].g),u[g].value}function Nn(u,g,b){return b.g+=u.g,b.value+=u.value<<g>>>0,e(8>=b.g),u.g}function vn(u,g,b){var C=u.xc;return e((g=C==0?0:u.vc[u.md*(b>>C)+(g>>C)])<u.Wb),u.Ya[g]}function Di(u,g,b,C){var T=u.ab,M=u.c*g,F=u.C;g=F+g;var z=b,V=C;for(C=u.Ta,b=u.Ua;0<T--;){var X=u.gc[T],oe=F,de=g,pe=z,he=V,Se=(V=C,z=b,X.Ea);switch(e(oe<de),e(de<=X.nc),X.hc){case 2:Jf(pe,he,(de-oe)*Se,V,z);break;case 0:var ve=oe,ae=de,ce=V,be=z,Ne=(Re=X).Ea;ve==0&&(Hm(pe,he,null,null,1,ce,be),lt(pe,he+1,0,0,Ne-1,ce,be+1),he+=Ne,be+=Ne,++ve);for(var xe=1<<Re.b,je=xe-1,Te=Ue(Ne,Re.b),Ve=Re.K,Re=Re.w+(ve>>Re.b)*Te;ve<ae;){var St=Ve,kt=Re,vt=1;for(mu(pe,he,ce,be-Ne,1,ce,be);vt<Ne;){var dt=(vt&~je)+xe;dt>Ne&&(dt=Ne),(0,no[St[kt++]>>8&15])(pe,he+ +vt,ce,be+vt-Ne,dt-vt,ce,be+vt),vt=dt}he+=Ne,be+=Ne,++ve&je||(Re+=Te)}de!=X.nc&&i(V,z-Se,V,z+(de-oe-1)*Se,Se);break;case 1:for(Se=pe,ae=he,Ne=(pe=X.Ea)-(be=pe&~(ce=(he=1<<X.b)-1)),ve=Ue(pe,X.b),xe=X.K,X=X.w+(oe>>X.b)*ve;oe<de;){for(je=xe,Te=X,Ve=new Me,Re=ae+be,St=ae+pe;ae<Re;)Lt(je[Te++],Ve),wa(Ve,Se,ae,he,V,z),ae+=he,z+=he;ae<St&&(Lt(je[Te++],Ve),wa(Ve,Se,ae,Ne,V,z),ae+=Ne,z+=Ne),++oe&ce||(X+=ve)}break;case 3:if(pe==V&&he==z&&0<X.b){for(ae=V,pe=Se=z+(de-oe)*Se-(be=(de-oe)*Ue(X.Ea,X.b)),he=V,ce=z,ve=[],be=(Ne=be)-1;0<=be;--be)ve[be]=he[ce+be];for(be=Ne-1;0<=be;--be)ae[pe+be]=ve[be];Ki(X,oe,de,V,Se,V,z)}else Ki(X,oe,de,pe,he,V,z)}z=C,V=b}V!=b&&i(C,b,z,V,M)}function dl(u,g){var b=u.V,C=u.Ba+u.c*u.C,T=g-u.C;if(e(g<=u.l.o),e(16>=T),0<T){var M=u.l,F=u.Ta,z=u.Ua,V=M.width;if(Di(u,T,b,C),T=z=[z],e((b=u.C)<(C=g)),e(M.v<M.va),C>M.o&&(C=M.o),b<M.j){var X=M.j-b;b=M.j,T[0]+=X*V}if(b>=C?b=0:(T[0]+=4*M.v,M.ka=b-M.j,M.U=M.va-M.v,M.T=C-b,b=1),b){if(z=z[0],11>(b=u.ca).S){var oe=b.f.RGBA,de=(C=b.S,T=M.U,M=M.T,X=oe.eb,oe.A),pe=M;for(oe=oe.fb+u.Ma*oe.A;0<pe--;){var he=F,Se=z,ve=T,ae=X,ce=oe;switch(C){case id:bi(he,Se,ve,ae,ce);break;case rd:ci(he,Se,ve,ae,ce);break;case Vm:ci(he,Se,ve,ae,ce),Qi(ae,ce,0,ve,1,0);break;case o5:ys(he,Se,ve,ae,ce);break;case sd:Kt(he,Se,ve,ae,ce,1);break;case $m:Kt(he,Se,ve,ae,ce,1),Qi(ae,ce,0,ve,1,0);break;case od:Kt(he,Se,ve,ae,ce,0);break;case ad:Kt(he,Se,ve,ae,ce,0),Qi(ae,ce,1,ve,1,0);break;case qm:io(he,Se,ve,ae,ce);break;case Gm:io(he,Se,ve,ae,ce),zt(ae,ce,ve,1,0);break;case a5:vs(he,Se,ve,ae,ce);break;default:e(0)}z+=V,oe+=de}u.Ma+=M}else alert("todo:EmitRescaledRowsYUVA");e(u.Ma<=b.height)}}u.C=g,e(u.C<=u.i)}function ps(u){var g;if(0<u.ua)return 0;for(g=0;g<u.Wb;++g){var b=u.Ya[g].G,C=u.Ya[g].H;if(0<b[1][C[1]+0].g||0<b[2][C[2]+0].g||0<b[3][C[3]+0].g)return 0}return 1}function mr(u,g,b,C,T,M){if(u.Z!=0){var F=u.qd,z=u.rd;for(e(ao[u.Z]!=null);g<b;++g)ao[u.Z](F,z,C,T,C,T,M),F=C,z=T,T+=M;u.qd=F,u.rd=z}}function vr(u,g){var b=u.l.ma,C=b.Z==0||b.Z==1?u.l.j:u.C;if(C=u.C<C?C:u.C,e(g<=u.l.o),g>C){var T=u.l.width,M=b.ca,F=b.tb+T*C,z=u.V,V=u.Ba+u.c*C,X=u.gc;e(u.ab==1),e(X[0].hc==3),Qf(X[0],C,g,z,V,M,F),mr(b,C,g,M,F,T)}u.C=u.Ma=g}function yr(u,g,b,C,T,M,F){var z=u.$/C,V=u.$%C,X=u.m,oe=u.s,de=b+u.$,pe=de;T=b+C*T;var he=b+C*M,Se=280+oe.ua,ve=u.Pb?z:16777216,ae=0<oe.ua?oe.Wa:null,ce=oe.wc,be=de<he?vn(oe,V,z):null;e(u.C<M),e(he<=T);var Ne=!1;e:for(;;){for(;Ne||de<he;){var xe=0;if(z>=ve){var je=de-b;e((ve=u).Pb),ve.wd=ve.m,ve.xd=je,0<ve.s.ua&&ge(ve.s.Wa,ve.s.vb),ve=z+Dk}if(V&ce||(be=vn(oe,V,z)),e(be!=null),be.Qb&&(g[de]=be.qb,Ne=!0),!Ne)if(j(X),be.jc){xe=X,je=g;var Te=de,Ve=be.pd[q(xe)&Hn-1];e(be.jc),256>Ve.g?(J(xe,xe.u+Ve.g),je[Te]=Ve.value,xe=0):(J(xe,xe.u+Ve.g-256),e(256<=Ve.value),xe=Ve.value),xe==0&&(Ne=!0)}else xe=yi(be.G[0],be.H[0],X);if(X.h)break;if(Ne||256>xe){if(!Ne)if(be.nd)g[de]=(be.qb|xe<<8)>>>0;else{if(j(X),Ne=yi(be.G[1],be.H[1],X),j(X),je=yi(be.G[2],be.H[2],X),Te=yi(be.G[3],be.H[3],X),X.h)break;g[de]=(Te<<24|Ne<<16|xe<<8|je)>>>0}if(Ne=!1,++de,++V>=C&&(V=0,++z,F!=null&&z<=M&&!(z%16)&&F(u,z),ae!=null))for(;pe<de;)xe=g[pe++],ae.X[(506832829*xe&4294967295)>>>ae.Mb]=xe}else if(280>xe){if(xe=gr(xe-256,X),je=yi(be.G[4],be.H[4],X),j(X),je=qr(C,je=gr(je,X)),X.h)break;if(de-b<je||T-de<xe)break e;for(Te=0;Te<xe;++Te)g[de+Te]=g[de+Te-je];for(de+=xe,V+=xe;V>=C;)V-=C,++z,F!=null&&z<=M&&!(z%16)&&F(u,z);if(e(de<=T),V&ce&&(be=vn(oe,V,z)),ae!=null)for(;pe<de;)xe=g[pe++],ae.X[(506832829*xe&4294967295)>>>ae.Mb]=xe}else{if(!(xe<Se))break e;for(Ne=xe-280,e(ae!=null);pe<de;)xe=g[pe++],ae.X[(506832829*xe&4294967295)>>>ae.Mb]=xe;xe=de,e(!(Ne>>>(je=ae).Xa)),g[xe]=je.X[Ne],Ne=!0}Ne||e(X.h==Y(X))}if(u.Pb&&X.h&&de<T)e(u.m.h),u.a=5,u.m=u.wd,u.$=u.xd,0<u.s.ua&&ge(u.s.vb,u.s.Wa);else{if(X.h)break e;F!=null&&F(u,z>M?M:z),u.a=0,u.$=de-b}return 1}return u.a=3,0}function Vr(u){e(u!=null),u.vc=null,u.yc=null,u.Ya=null;var g=u.Wa;g!=null&&(g.X=null),u.vb=null,e(u!=null)}function Yi(){var u=new Um;return u==null?null:(u.a=0,u.xb=u5,Ur("Predictor","VP8LPredictors"),Ur("Predictor","VP8LPredictors_C"),Ur("PredictorAdd","VP8LPredictorsAdd"),Ur("PredictorAdd","VP8LPredictorsAdd_C"),Jf=mt,wa=Qe,bi=De,ci=Gn,io=bt,vs=dr,ys=Ot,A.VP8LMapColor32b=Rl,A.VP8LMapColor8b=Zf,u)}function $r(u,g,b,C,T){var M=1,F=[u],z=[g],V=C.m,X=C.s,oe=null,de=0;e:for(;;){if(b)for(;M&&ie(V,1);){var pe=F,he=z,Se=C,ve=1,ae=Se.m,ce=Se.gc[Se.ab],be=ie(ae,2);if(Se.Oc&1<<be)M=0;else{switch(Se.Oc|=1<<be,ce.hc=be,ce.Ea=pe[0],ce.nc=he[0],ce.K=[null],++Se.ab,e(4>=Se.ab),be){case 0:case 1:ce.b=ie(ae,3)+2,ve=$r(Ue(ce.Ea,ce.b),Ue(ce.nc,ce.b),0,Se,ce.K),ce.K=ce.K[0];break;case 3:var Ne,xe=ie(ae,8)+1,je=16<xe?0:4<xe?1:2<xe?2:3;if(pe[0]=Ue(ce.Ea,je),ce.b=je,Ne=ve=$r(xe,1,0,Se,ce.K)){var Te,Ve=xe,Re=ce,St=1<<(8>>Re.b),kt=s(St);if(kt==null)Ne=0;else{var vt=Re.K[0],dt=Re.w;for(kt[0]=Re.K[0][0],Te=1;Te<1*Ve;++Te)kt[Te]=Ae(vt[dt+Te],kt[Te-1]);for(;Te<4*St;++Te)kt[Te]=0;Re.K[0]=null,Re.K[0]=kt,Ne=1}}ve=Ne;break;case 2:break;default:e(0)}M=ve}}if(F=F[0],z=z[0],M&&ie(V,1)&&!(M=1<=(de=ie(V,4))&&11>=de)){C.a=3;break e}var Mt;if(Mt=M)t:{var Tt,ot,_n,xi=C,wn=F,Si=z,At=de,Bi=b,zi=xi.m,On=xi.s,Wn=[null],hi=1,tr=0,Xr=Mk[At];n:for(;;){if(Bi&&ie(zi,1)){var Mn=ie(zi,3)+2,xs=Ue(wn,Mn),Ca=Ue(Si,Mn),jl=xs*Ca;if(!$r(xs,Ca,0,xi,Wn))break n;for(Wn=Wn[0],On.xc=Mn,Tt=0;Tt<jl;++Tt){var lo=Wn[Tt]>>8&65535;Wn[Tt]=lo,lo>=hi&&(hi=lo+1)}}if(zi.h)break n;for(ot=0;5>ot;++ot){var sn=l5[ot];!ot&&0<At&&(sn+=1<<At),tr<sn&&(tr=sn)}var Jm=o(hi*Xr,P),y5=hi,_5=o(y5,D);if(_5==null)var hd=null;else e(65536>=y5),hd=_5;var Su=s(tr);if(hd==null||Su==null||Jm==null){xi.a=1;break n}var fd=Jm;for(Tt=_n=0;Tt<hi;++Tt){var Sr=hd[Tt],Bl=Sr.G,zl=Sr.H,w5=0,dd=1,b5=0;for(ot=0;5>ot;++ot){sn=l5[ot],Bl[ot]=fd,zl[ot]=_n,!ot&&0<At&&(sn+=1<<At);r:{var pd,Qm=sn,gd=xi,Nu=Su,nA=fd,iA=_n,Zm=0,co=gd.m,rA=ie(co,1);if(r(Nu,0,0,Qm),rA){var sA=ie(co,1)+1,oA=ie(co,1),x5=ie(co,oA==0?1:8);Nu[x5]=1,sA==2&&(Nu[x5=ie(co,8)]=1);var md=1}else{var S5=s(19),N5=ie(co,4)+4;if(19<N5){gd.a=3;var vd=0;break r}for(pd=0;pd<N5;++pd)S5[Rk[pd]]=ie(co,3);var e0=void 0,Cu=void 0,C5=gd,aA=S5,yd=Qm,k5=Nu,t0=0,uo=C5.m,A5=8,E5=o(128,P);i:for(;E(E5,0,7,aA,19);){if(ie(uo,1)){var lA=2+2*ie(uo,3);if((e0=2+ie(uo,lA))>yd)break i}else e0=yd;for(Cu=0;Cu<yd&&e0--;){j(uo);var P5=E5[0+(127&q(uo))];J(uo,uo.u+P5.g);var Ul=P5.value;if(16>Ul)k5[Cu++]=Ul,Ul!=0&&(A5=Ul);else{var cA=Ul==16,I5=Ul-16,uA=Lk[I5],L5=ie(uo,Ik[I5])+uA;if(Cu+L5>yd)break i;for(var hA=cA?A5:0;0<L5--;)k5[Cu++]=hA}}t0=1;break i}t0||(C5.a=3),md=t0}(md=md&&!co.h)&&(Zm=E(nA,iA,8,Nu,Qm)),md&&Zm!=0?vd=Zm:(gd.a=3,vd=0)}if(vd==0)break n;if(dd&&Tk[ot]==1&&(dd=fd[_n].g==0),w5+=fd[_n].g,_n+=vd,3>=ot){var ku,n0=Su[0];for(ku=1;ku<sn;++ku)Su[ku]>n0&&(n0=Su[ku]);b5+=n0}}if(Sr.nd=dd,Sr.Qb=0,dd&&(Sr.qb=(Bl[3][zl[3]+0].value<<24|Bl[1][zl[1]+0].value<<16|Bl[2][zl[2]+0].value)>>>0,w5==0&&256>Bl[0][zl[0]+0].value&&(Sr.Qb=1,Sr.qb+=Bl[0][zl[0]+0].value<<8)),Sr.jc=!Sr.Qb&&6>b5,Sr.jc){var _d,Ss=Sr;for(_d=0;_d<Hn;++_d){var ho=_d,fo=Ss.pd[ho],wd=Ss.G[0][Ss.H[0]+ho];256<=wd.value?(fo.g=wd.g+256,fo.value=wd.value):(fo.g=0,fo.value=0,ho>>=Nn(wd,8,fo),ho>>=Nn(Ss.G[1][Ss.H[1]+ho],16,fo),ho>>=Nn(Ss.G[2][Ss.H[2]+ho],0,fo),Nn(Ss.G[3][Ss.H[3]+ho],24,fo))}}}On.vc=Wn,On.Wb=hi,On.Ya=hd,On.yc=Jm,Mt=1;break t}Mt=0}if(!(M=Mt)){C.a=3;break e}if(0<de){if(X.ua=1<<de,!Be(X.Wa,de)){C.a=1,M=0;break e}}else X.ua=0;var i0=C,T5=F,fA=z,r0=i0.s,s0=r0.xc;if(i0.c=T5,i0.i=fA,r0.md=Ue(T5,s0),r0.wc=s0==0?-1:(1<<s0)-1,b){C.xb=Wk;break e}if((oe=s(F*z))==null){C.a=1,M=0;break e}M=(M=yr(C,oe,0,F,z,z,null))&&!V.h;break e}return M?(T!=null?T[0]=oe:(e(oe==null),e(b)),C.$=0,b||Vr(X)):Vr(X),M}function ga(u,g){var b=u.c*u.i,C=b+g+16*g;return e(u.c<=g),u.V=s(C),u.V==null?(u.Ta=null,u.Ua=0,u.a=1,0):(u.Ta=u.V,u.Ua=u.Ba+b+g,1)}function pl(u,g){var b=u.C,C=g-b,T=u.V,M=u.Ba+u.c*b;for(e(g<=u.l.o);0<C;){var F=16<C?16:C,z=u.l.ma,V=u.l.width,X=V*F,oe=z.ca,de=z.tb+V*b,pe=u.Ta,he=u.Ua;Di(u,F,T,M),hn(pe,he,oe,de,X),mr(z,b,b+F,oe,de,V),C-=F,T+=F*u.c,b+=F}e(b==g),u.C=u.Ma=g}function gl(){this.ub=this.yd=this.td=this.Rb=0}function ml(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function vl(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function Lf(){this.Yb=function(){var u=[];return function g(b,C,T){for(var M=T[C],F=0;F<M&&(b.push(T.length>C+1?[]:0),!(T.length<C+1));F++)g(b[F],C+1,T)}(u,0,[3,11]),u}()}function ym(){this.jb=s(3),this.Wc=a([4,8],Lf),this.Xc=a([4,17],Lf)}function _m(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function yl(){this.ld=this.La=this.dd=this.tc=0}function Tf(){this.Na=this.la=0}function wm(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Jc(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function bm(){this.uc=this.M=this.Nb=0,this.wa=Array(new yl),this.Y=0,this.ya=Array(new Jc),this.aa=0,this.l=new _l}function Rf(){this.y=s(16),this.f=s(8),this.ea=s(8)}function xm(){this.cb=this.a=0,this.sc="",this.m=new ue,this.Od=new gl,this.Kc=new ml,this.ed=new _m,this.Qa=new vl,this.Ic=this.$c=this.Aa=0,this.D=new bm,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,ue),this.ia=0,this.pb=o(4,wm),this.Pa=new ym,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Rf),this.Hd=0,this.rb=Array(new Tf),this.sb=0,this.wa=Array(new yl),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Jc),this.L=this.aa=0,this.gd=a([4,2],yl),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function _l(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Sm(){var u=new xm;return u!=null&&(u.a=0,u.sc="OK",u.cb=0,u.Xb=0,bu||(bu=Df)),u}function cn(u,g,b){return u.a==0&&(u.a=g,u.sc=b,u.cb=0),0}function Of(u,g,b){return 3<=b&&u[g+0]==157&&u[g+1]==1&&u[g+2]==42}function Mf(u,g){if(u==null)return 0;if(u.a=0,u.sc="OK",g==null)return cn(u,2,"null VP8Io passed to VP8GetHeaders()");var b=g.data,C=g.w,T=g.ha;if(4>T)return cn(u,7,"Truncated header.");var M=b[C+0]|b[C+1]<<8|b[C+2]<<16,F=u.Od;if(F.Rb=!(1&M),F.td=M>>1&7,F.yd=M>>4&1,F.ub=M>>5,3<F.td)return cn(u,3,"Incorrect keyframe parameters.");if(!F.yd)return cn(u,4,"Frame not displayable.");C+=3,T-=3;var z=u.Kc;if(F.Rb){if(7>T)return cn(u,7,"cannot parse picture header");if(!Of(b,C,T))return cn(u,3,"Bad code word");z.c=16383&(b[C+4]<<8|b[C+3]),z.Td=b[C+4]>>6,z.i=16383&(b[C+6]<<8|b[C+5]),z.Ud=b[C+6]>>6,C+=7,T-=7,u.za=z.c+15>>4,u.Ub=z.i+15>>4,g.width=z.c,g.height=z.i,g.Da=0,g.j=0,g.v=0,g.va=g.width,g.o=g.height,g.da=0,g.ib=g.width,g.hb=g.height,g.U=g.width,g.T=g.height,r((M=u.Pa).jb,0,255,M.jb.length),e((M=u.Qa)!=null),M.Cb=0,M.Bb=0,M.Fb=1,r(M.Zb,0,0,M.Zb.length),r(M.Lb,0,0,M.Lb)}if(F.ub>T)return cn(u,7,"bad partition length");Q(M=u.m,b,C,F.ub),C+=F.ub,T-=F.ub,F.Rb&&(z.Ld=re(M),z.Kd=re(M)),z=u.Qa;var V,X=u.Pa;if(e(M!=null),e(z!=null),z.Cb=re(M),z.Cb){if(z.Bb=re(M),re(M)){for(z.Fb=re(M),V=0;4>V;++V)z.Zb[V]=re(M)?$(M,7):0;for(V=0;4>V;++V)z.Lb[V]=re(M)?$(M,6):0}if(z.Bb)for(V=0;3>V;++V)X.jb[V]=re(M)?H(M,8):255}else z.Bb=0;if(M.Ka)return cn(u,3,"cannot parse segment header");if((z=u.ed).zd=re(M),z.Tb=H(M,6),z.wb=H(M,3),z.Pc=re(M),z.Pc&&re(M)){for(X=0;4>X;++X)re(M)&&(z.vd[X]=$(M,6));for(X=0;4>X;++X)re(M)&&(z.od[X]=$(M,6))}if(u.L=z.Tb==0?0:z.zd?1:2,M.Ka)return cn(u,3,"cannot parse filter header");var oe=T;if(T=V=C,C=V+oe,z=oe,u.Xb=(1<<H(u.m,2))-1,oe<3*(X=u.Xb))b=7;else{for(V+=3*X,z-=3*X,oe=0;oe<X;++oe){var de=b[T+0]|b[T+1]<<8|b[T+2]<<16;de>z&&(de=z),Q(u.Jc[+oe],b,V,de),V+=de,z-=de,T+=3}Q(u.Jc[+X],b,V,z),b=V<C?0:5}if(b!=0)return cn(u,b,"cannot parse partitions");for(b=H(V=u.m,7),T=re(V)?$(V,4):0,C=re(V)?$(V,4):0,z=re(V)?$(V,4):0,X=re(V)?$(V,4):0,V=re(V)?$(V,4):0,oe=u.Qa,de=0;4>de;++de){if(oe.Cb){var pe=oe.Zb[de];oe.Fb||(pe+=b)}else{if(0<de){u.pb[de]=u.pb[0];continue}pe=b}var he=u.pb[de];he.Sc[0]=Ym[Fi(pe+T,127)],he.Sc[1]=Km[Fi(pe+0,127)],he.Eb[0]=2*Ym[Fi(pe+C,127)],he.Eb[1]=101581*Km[Fi(pe+z,127)]>>16,8>he.Eb[1]&&(he.Eb[1]=8),he.Qc[0]=Ym[Fi(pe+X,117)],he.Qc[1]=Km[Fi(pe+V,127)],he.lc=pe+V}if(!F.Rb)return cn(u,4,"Not a key frame.");for(re(M),F=u.Pa,b=0;4>b;++b){for(T=0;8>T;++T)for(C=0;3>C;++C)for(z=0;11>z;++z)X=le(M,Uk[b][T][C][z])?H(M,8):Bk[b][T][C][z],F.Wc[b][T].Yb[C][z]=X;for(T=0;17>T;++T)F.Xc[b][T]=F.Wc[b][Hk[T]]}return u.kc=re(M),u.kc&&(u.Bd=H(M,8)),u.cb=1}function Df(u,g,b,C,T,M,F){var z=g[T].Yb[b];for(b=0;16>T;++T){if(!le(u,z[b+0]))return T;for(;!le(u,z[b+1]);)if(z=g[++T].Yb[0],b=0,T==16)return 16;var V=g[T+1].Yb;if(le(u,z[b+2])){var X=u,oe=0;if(le(X,(pe=z)[(de=b)+3]))if(le(X,pe[de+6])){for(z=0,de=2*(oe=le(X,pe[de+8]))+(pe=le(X,pe[de+9+oe])),oe=0,pe=Fk[de];pe[z];++z)oe+=oe+le(X,pe[z]);oe+=3+(8<<de)}else le(X,pe[de+7])?(oe=7+2*le(X,165),oe+=le(X,145)):oe=5+le(X,159);else oe=le(X,pe[de+4])?3+le(X,pe[de+5]):2;z=V[2]}else oe=1,z=V[1];V=F+jk[T],0>(X=u).b&&ne(X);var de,pe=X.b,he=(de=X.Ca>>1)-(X.I>>pe)>>31;--X.b,X.Ca+=he,X.Ca|=1,X.I-=(de+1&he)<<pe,M[V]=((oe^he)-he)*C[(0<T)+0]}return 16}function Qc(u){var g=u.rb[u.sb-1];g.la=0,g.Na=0,r(u.zc,0,0,u.zc.length),u.ja=0}function Nm(u,g){if(u==null)return 0;if(g==null)return cn(u,2,"NULL VP8Io parameter in VP8Decode().");if(!u.cb&&!Mf(u,g))return 0;if(e(u.cb),g.ac==null||g.ac(g)){g.ob&&(u.L=0);var b=ud[u.L];if(u.L==2?(u.yb=0,u.zb=0):(u.yb=g.v-b>>4,u.zb=g.j-b>>4,0>u.yb&&(u.yb=0),0>u.zb&&(u.zb=0)),u.Va=g.o+15+b>>4,u.Hb=g.va+15+b>>4,u.Hb>u.za&&(u.Hb=u.za),u.Va>u.Ub&&(u.Va=u.Ub),0<u.L){var C=u.ed;for(b=0;4>b;++b){var T;if(u.Qa.Cb){var M=u.Qa.Lb[b];u.Qa.Fb||(M+=C.Tb)}else M=C.Tb;for(T=0;1>=T;++T){var F=u.gd[b][T],z=M;if(C.Pc&&(z+=C.vd[0],T&&(z+=C.od[0])),0<(z=0>z?0:63<z?63:z)){var V=z;0<C.wb&&(V=4<C.wb?V>>2:V>>1)>9-C.wb&&(V=9-C.wb),1>V&&(V=1),F.dd=V,F.tc=2*z+V,F.ld=40<=z?2:15<=z?1:0}else F.tc=0;F.La=T}}}b=0}else cn(u,6,"Frame setup failed"),b=u.a;if(b=b==0){if(b){u.$c=0,0<u.Aa||(u.Ic=tA);e:{b=u.Ic,C=4*(V=u.za);var X=32*V,oe=V+1,de=0<u.L?V*(0<u.Aa?2:1):0,pe=(u.Aa==2?2:1)*V;if((F=C+832+(T=3*(16*b+ud[u.L])/2*X)+(M=u.Fa!=null&&0<u.Fa.length?u.Kc.c*u.Kc.i:0))!=F)b=0;else{if(F>u.Vb){if(u.Vb=0,u.Ec=s(F),u.Fc=0,u.Ec==null){b=cn(u,1,"no memory during frame initialization.");break e}u.Vb=F}F=u.Ec,z=u.Fc,u.Ac=F,u.Bc=z,z+=C,u.Gd=o(X,Rf),u.Hd=0,u.rb=o(oe+1,Tf),u.sb=1,u.wa=de?o(de,yl):null,u.Y=0,u.D.Nb=0,u.D.wa=u.wa,u.D.Y=u.Y,0<u.Aa&&(u.D.Y+=V),e(!0),u.oc=F,u.pc=z,z+=832,u.ya=o(pe,Jc),u.aa=0,u.D.ya=u.ya,u.D.aa=u.aa,u.Aa==2&&(u.D.aa+=V),u.R=16*V,u.B=8*V,V=(X=ud[u.L])*u.R,X=X/2*u.B,u.sa=F,u.ta=z+V,u.qa=u.sa,u.ra=u.ta+16*b*u.R+X,u.Ha=u.qa,u.Ia=u.ra+8*b*u.B+X,u.$c=0,z+=T,u.mb=M?F:null,u.nb=M?z:null,e(z+M<=u.Fc+u.Vb),Qc(u),r(u.Ac,u.Bc,0,C),b=1}}if(b){if(g.ka=0,g.y=u.sa,g.O=u.ta,g.f=u.qa,g.N=u.ra,g.ea=u.Ha,g.Vd=u.Ia,g.fa=u.R,g.Rc=u.B,g.F=null,g.J=0,!td){for(b=-255;255>=b;++b)Cn[255+b]=0>b?-b:b;for(b=-1020;1020>=b;++b)ws[1020+b]=-128>b?-128:127<b?127:b;for(b=-112;112>=b;++b)wu[112+b]=-16>b?-16:15<b?15:b;for(b=-255;510>=b;++b)Fl[255+b]=0>b?0:255<b?255:b;td=1}Ol=Am,_s=Cm,vu=jf,ui=km,Xi=Bf,un=Ff,Ml=ru,ed=ya,yu=zm,ba=su,xa=Bm,ro=Cl,Sa=ou,Dl=Yf,Na=Gf,so=Yr,_u=ms,Ji=jm,xr[0]=Gr,xr[1]=Em,xr[2]=Tm,xr[3]=Rm,xr[4]=Hf,xr[5]=Sl,xr[6]=Wf,xr[7]=tu,xr[8]=Mm,xr[9]=Om,oo[0]=zf,oo[1]=Im,oo[2]=gs,oo[3]=bl,oo[4]=Yn,oo[5]=Lm,oo[6]=Uf,bs[0]=Zs,bs[1]=Pm,bs[2]=Dm,bs[3]=nu,bs[4]=va,bs[5]=Fm,bs[6]=iu,b=1}else b=0}b&&(b=function(he,Se){for(he.M=0;he.M<he.Va;++he.M){var ve,ae=he.Jc[he.M&he.Xb],ce=he.m,be=he;for(ve=0;ve<be.za;++ve){var Ne=ce,xe=be,je=xe.Ac,Te=xe.Bc+4*ve,Ve=xe.zc,Re=xe.ya[xe.aa+ve];if(xe.Qa.Bb?Re.$b=le(Ne,xe.Pa.jb[0])?2+le(Ne,xe.Pa.jb[2]):le(Ne,xe.Pa.jb[1]):Re.$b=0,xe.kc&&(Re.Ad=le(Ne,xe.Bd)),Re.Za=!le(Ne,145)+0,Re.Za){var St=Re.Ob,kt=0;for(xe=0;4>xe;++xe){var vt,dt=Ve[0+xe];for(vt=0;4>vt;++vt){dt=zk[je[Te+vt]][dt];for(var Mt=c5[le(Ne,dt[0])];0<Mt;)Mt=c5[2*Mt+le(Ne,dt[Mt])];dt=-Mt,je[Te+vt]=dt}i(St,kt,je,Te,4),kt+=4,Ve[0+xe]=dt}}else dt=le(Ne,156)?le(Ne,128)?1:3:le(Ne,163)?2:0,Re.Ob[0]=dt,r(je,Te,dt,4),r(Ve,0,dt,4);Re.Dd=le(Ne,142)?le(Ne,114)?le(Ne,183)?1:3:2:0}if(be.m.Ka)return cn(he,7,"Premature end-of-partition0 encountered.");for(;he.ja<he.za;++he.ja){if(be=ae,Ne=(ce=he).rb[ce.sb-1],je=ce.rb[ce.sb+ce.ja],ve=ce.ya[ce.aa+ce.ja],Te=ce.kc?ve.Ad:0)Ne.la=je.la=0,ve.Za||(Ne.Na=je.Na=0),ve.Hc=0,ve.Gc=0,ve.ia=0;else{var Tt,ot;if(Ne=je,je=be,Te=ce.Pa.Xc,Ve=ce.ya[ce.aa+ce.ja],Re=ce.pb[Ve.$b],xe=Ve.ad,St=0,kt=ce.rb[ce.sb-1],dt=vt=0,r(xe,St,0,384),Ve.Za)var _n=0,xi=Te[3];else{Mt=s(16);var wn=Ne.Na+kt.Na;if(wn=bu(je,Te[1],wn,Re.Eb,0,Mt,0),Ne.Na=kt.Na=(0<wn)+0,1<wn)Ol(Mt,0,xe,St);else{var Si=Mt[0]+3>>3;for(Mt=0;256>Mt;Mt+=16)xe[St+Mt]=Si}_n=1,xi=Te[0]}var At=15&Ne.la,Bi=15&kt.la;for(Mt=0;4>Mt;++Mt){var zi=1&Bi;for(Si=ot=0;4>Si;++Si)At=At>>1|(zi=(wn=bu(je,xi,wn=zi+(1&At),Re.Sc,_n,xe,St))>_n)<<7,ot=ot<<2|(3<wn?3:1<wn?2:xe[St+0]!=0),St+=16;At>>=4,Bi=Bi>>1|zi<<7,vt=(vt<<8|ot)>>>0}for(xi=At,_n=Bi>>4,Tt=0;4>Tt;Tt+=2){for(ot=0,At=Ne.la>>4+Tt,Bi=kt.la>>4+Tt,Mt=0;2>Mt;++Mt){for(zi=1&Bi,Si=0;2>Si;++Si)wn=zi+(1&At),At=At>>1|(zi=0<(wn=bu(je,Te[2],wn,Re.Qc,0,xe,St)))<<3,ot=ot<<2|(3<wn?3:1<wn?2:xe[St+0]!=0),St+=16;At>>=2,Bi=Bi>>1|zi<<5}dt|=ot<<4*Tt,xi|=At<<4<<Tt,_n|=(240&Bi)<<Tt}Ne.la=xi,kt.la=_n,Ve.Hc=vt,Ve.Gc=dt,Ve.ia=43690&dt?0:Re.ia,Te=!(vt|dt)}if(0<ce.L&&(ce.wa[ce.Y+ce.ja]=ce.gd[ve.$b][ve.Za],ce.wa[ce.Y+ce.ja].La|=!Te),be.Ka)return cn(he,7,"Premature end-of-file encountered.")}if(Qc(he),ce=Se,be=1,ve=(ae=he).D,Ne=0<ae.L&&ae.M>=ae.zb&&ae.M<=ae.Va,ae.Aa==0)e:{if(ve.M=ae.M,ve.uc=Ne,fu(ae,ve),be=1,ve=(ot=ae.D).Nb,Ne=(dt=ud[ae.L])*ae.R,je=dt/2*ae.B,Mt=16*ve*ae.R,Si=8*ve*ae.B,Te=ae.sa,Ve=ae.ta-Ne+Mt,Re=ae.qa,xe=ae.ra-je+Si,St=ae.Ha,kt=ae.Ia-je+Si,Bi=(At=ot.M)==0,vt=At>=ae.Va-1,ae.Aa==2&&fu(ae,ot),ot.uc)for(zi=(wn=ae).D.M,e(wn.D.uc),ot=wn.yb;ot<wn.Hb;++ot){_n=ot,xi=zi;var On=(Wn=(sn=wn).D).Nb;Tt=sn.R;var Wn=Wn.wa[Wn.Y+_n],hi=sn.sa,tr=sn.ta+16*On*Tt+16*_n,Xr=Wn.dd,Mn=Wn.tc;if(Mn!=0)if(e(3<=Mn),sn.L==1)0<_n&&so(hi,tr,Tt,Mn+4),Wn.La&&Ji(hi,tr,Tt,Mn),0<xi&&Na(hi,tr,Tt,Mn+4),Wn.La&&_u(hi,tr,Tt,Mn);else{var xs=sn.B,Ca=sn.qa,jl=sn.ra+8*On*xs+8*_n,lo=sn.Ha,sn=sn.Ia+8*On*xs+8*_n;On=Wn.ld,0<_n&&(ed(hi,tr,Tt,Mn+4,Xr,On),ba(Ca,jl,lo,sn,xs,Mn+4,Xr,On)),Wn.La&&(ro(hi,tr,Tt,Mn,Xr,On),Dl(Ca,jl,lo,sn,xs,Mn,Xr,On)),0<xi&&(Ml(hi,tr,Tt,Mn+4,Xr,On),yu(Ca,jl,lo,sn,xs,Mn+4,Xr,On)),Wn.La&&(xa(hi,tr,Tt,Mn,Xr,On),Sa(Ca,jl,lo,sn,xs,Mn,Xr,On))}}if(ae.ia&&alert("todo:DitherRow"),ce.put!=null){if(ot=16*At,At=16*(At+1),Bi?(ce.y=ae.sa,ce.O=ae.ta+Mt,ce.f=ae.qa,ce.N=ae.ra+Si,ce.ea=ae.Ha,ce.W=ae.Ia+Si):(ot-=dt,ce.y=Te,ce.O=Ve,ce.f=Re,ce.N=xe,ce.ea=St,ce.W=kt),vt||(At-=dt),At>ce.o&&(At=ce.o),ce.F=null,ce.J=null,ae.Fa!=null&&0<ae.Fa.length&&ot<At&&(ce.J=uu(ae,ce,ot,At-ot),ce.F=ae.mb,ce.F==null&&ce.F.length==0)){be=cn(ae,3,"Could not decode alpha data.");break e}ot<ce.j&&(dt=ce.j-ot,ot=ce.j,e(!(1&dt)),ce.O+=ae.R*dt,ce.N+=ae.B*(dt>>1),ce.W+=ae.B*(dt>>1),ce.F!=null&&(ce.J+=ce.width*dt)),ot<At&&(ce.O+=ce.v,ce.N+=ce.v>>1,ce.W+=ce.v>>1,ce.F!=null&&(ce.J+=ce.v),ce.ka=ot-ce.j,ce.U=ce.va-ce.v,ce.T=At-ot,be=ce.put(ce))}ve+1!=ae.Ic||vt||(i(ae.sa,ae.ta-Ne,Te,Ve+16*ae.R,Ne),i(ae.qa,ae.ra-je,Re,xe+8*ae.B,je),i(ae.Ha,ae.Ia-je,St,kt+8*ae.B,je))}if(!be)return cn(he,6,"Output aborted.")}return 1}(u,g)),g.bc!=null&&g.bc(g),b&=1}return b?(u.cb=0,b):0}function _r(u,g,b,C,T){T=u[g+b+32*C]+(T>>3),u[g+b+32*C]=-256&T?0>T?0:255:T}function wl(u,g,b,C,T,M){_r(u,g,0,b,C+T),_r(u,g,1,b,C+M),_r(u,g,2,b,C-M),_r(u,g,3,b,C-T)}function _i(u){return(20091*u>>16)+u}function Zc(u,g,b,C){var T,M=0,F=s(16);for(T=0;4>T;++T){var z=u[g+0]+u[g+8],V=u[g+0]-u[g+8],X=(35468*u[g+4]>>16)-_i(u[g+12]),oe=_i(u[g+4])+(35468*u[g+12]>>16);F[M+0]=z+oe,F[M+1]=V+X,F[M+2]=V-X,F[M+3]=z-oe,M+=4,g++}for(T=M=0;4>T;++T)z=(u=F[M+0]+4)+F[M+8],V=u-F[M+8],X=(35468*F[M+4]>>16)-_i(F[M+12]),_r(b,C,0,0,z+(oe=_i(F[M+4])+(35468*F[M+12]>>16))),_r(b,C,1,0,V+X),_r(b,C,2,0,V-X),_r(b,C,3,0,z-oe),M++,C+=32}function Ff(u,g,b,C){var T=u[g+0]+4,M=35468*u[g+4]>>16,F=_i(u[g+4]),z=35468*u[g+1]>>16;wl(b,C,0,T+F,u=_i(u[g+1]),z),wl(b,C,1,T+M,u,z),wl(b,C,2,T-M,u,z),wl(b,C,3,T-F,u,z)}function Cm(u,g,b,C,T){Zc(u,g,b,C),T&&Zc(u,g+16,b,C+4)}function jf(u,g,b,C){_s(u,g+0,b,C,1),_s(u,g+32,b,C+128,1)}function km(u,g,b,C){var T;for(u=u[g+0]+4,T=0;4>T;++T)for(g=0;4>g;++g)_r(b,C,g,T,u)}function Bf(u,g,b,C){u[g+0]&&ui(u,g+0,b,C),u[g+16]&&ui(u,g+16,b,C+4),u[g+32]&&ui(u,g+32,b,C+128),u[g+48]&&ui(u,g+48,b,C+128+4)}function Am(u,g,b,C){var T,M=s(16);for(T=0;4>T;++T){var F=u[g+0+T]+u[g+12+T],z=u[g+4+T]+u[g+8+T],V=u[g+4+T]-u[g+8+T],X=u[g+0+T]-u[g+12+T];M[0+T]=F+z,M[8+T]=F-z,M[4+T]=X+V,M[12+T]=X-V}for(T=0;4>T;++T)F=(u=M[0+4*T]+3)+M[3+4*T],z=M[1+4*T]+M[2+4*T],V=M[1+4*T]-M[2+4*T],X=u-M[3+4*T],b[C+0]=F+z>>3,b[C+16]=X+V>>3,b[C+32]=F-z>>3,b[C+48]=X-V>>3,C+=64}function eu(u,g,b){var C,T=g-32,M=ji,F=255-u[T-1];for(C=0;C<b;++C){var z,V=M,X=F+u[g-1];for(z=0;z<b;++z)u[g+z]=V[X+u[T+z]];g+=32}}function Em(u,g){eu(u,g,4)}function Pm(u,g){eu(u,g,8)}function Im(u,g){eu(u,g,16)}function gs(u,g){var b;for(b=0;16>b;++b)i(u,g+32*b,u,g-32,16)}function bl(u,g){var b;for(b=16;0<b;--b)r(u,g,u[g-1],16),g+=32}function xl(u,g,b){var C;for(C=0;16>C;++C)r(g,b+32*C,u,16)}function zf(u,g){var b,C=16;for(b=0;16>b;++b)C+=u[g-1+32*b]+u[g+b-32];xl(C>>5,u,g)}function Yn(u,g){var b,C=8;for(b=0;16>b;++b)C+=u[g-1+32*b];xl(C>>4,u,g)}function Lm(u,g){var b,C=8;for(b=0;16>b;++b)C+=u[g+b-32];xl(C>>4,u,g)}function Uf(u,g){xl(128,u,g)}function et(u,g,b){return u+2*g+b+2>>2}function Tm(u,g){var b,C=g-32;for(C=new Uint8Array([et(u[C-1],u[C+0],u[C+1]),et(u[C+0],u[C+1],u[C+2]),et(u[C+1],u[C+2],u[C+3]),et(u[C+2],u[C+3],u[C+4])]),b=0;4>b;++b)i(u,g+32*b,C,0,C.length)}function Rm(u,g){var b=u[g-1],C=u[g-1+32],T=u[g-1+64],M=u[g-1+96];ye(u,g+0,16843009*et(u[g-1-32],b,C)),ye(u,g+32,16843009*et(b,C,T)),ye(u,g+64,16843009*et(C,T,M)),ye(u,g+96,16843009*et(T,M,M))}function Gr(u,g){var b,C=4;for(b=0;4>b;++b)C+=u[g+b-32]+u[g-1+32*b];for(C>>=3,b=0;4>b;++b)r(u,g+32*b,C,4)}function Hf(u,g){var b=u[g-1+0],C=u[g-1+32],T=u[g-1+64],M=u[g-1-32],F=u[g+0-32],z=u[g+1-32],V=u[g+2-32],X=u[g+3-32];u[g+0+96]=et(C,T,u[g-1+96]),u[g+1+96]=u[g+0+64]=et(b,C,T),u[g+2+96]=u[g+1+64]=u[g+0+32]=et(M,b,C),u[g+3+96]=u[g+2+64]=u[g+1+32]=u[g+0+0]=et(F,M,b),u[g+3+64]=u[g+2+32]=u[g+1+0]=et(z,F,M),u[g+3+32]=u[g+2+0]=et(V,z,F),u[g+3+0]=et(X,V,z)}function Wf(u,g){var b=u[g+1-32],C=u[g+2-32],T=u[g+3-32],M=u[g+4-32],F=u[g+5-32],z=u[g+6-32],V=u[g+7-32];u[g+0+0]=et(u[g+0-32],b,C),u[g+1+0]=u[g+0+32]=et(b,C,T),u[g+2+0]=u[g+1+32]=u[g+0+64]=et(C,T,M),u[g+3+0]=u[g+2+32]=u[g+1+64]=u[g+0+96]=et(T,M,F),u[g+3+32]=u[g+2+64]=u[g+1+96]=et(M,F,z),u[g+3+64]=u[g+2+96]=et(F,z,V),u[g+3+96]=et(z,V,V)}function Sl(u,g){var b=u[g-1+0],C=u[g-1+32],T=u[g-1+64],M=u[g-1-32],F=u[g+0-32],z=u[g+1-32],V=u[g+2-32],X=u[g+3-32];u[g+0+0]=u[g+1+64]=M+F+1>>1,u[g+1+0]=u[g+2+64]=F+z+1>>1,u[g+2+0]=u[g+3+64]=z+V+1>>1,u[g+3+0]=V+X+1>>1,u[g+0+96]=et(T,C,b),u[g+0+64]=et(C,b,M),u[g+0+32]=u[g+1+96]=et(b,M,F),u[g+1+32]=u[g+2+96]=et(M,F,z),u[g+2+32]=u[g+3+96]=et(F,z,V),u[g+3+32]=et(z,V,X)}function tu(u,g){var b=u[g+0-32],C=u[g+1-32],T=u[g+2-32],M=u[g+3-32],F=u[g+4-32],z=u[g+5-32],V=u[g+6-32],X=u[g+7-32];u[g+0+0]=b+C+1>>1,u[g+1+0]=u[g+0+64]=C+T+1>>1,u[g+2+0]=u[g+1+64]=T+M+1>>1,u[g+3+0]=u[g+2+64]=M+F+1>>1,u[g+0+32]=et(b,C,T),u[g+1+32]=u[g+0+96]=et(C,T,M),u[g+2+32]=u[g+1+96]=et(T,M,F),u[g+3+32]=u[g+2+96]=et(M,F,z),u[g+3+64]=et(F,z,V),u[g+3+96]=et(z,V,X)}function Om(u,g){var b=u[g-1+0],C=u[g-1+32],T=u[g-1+64],M=u[g-1+96];u[g+0+0]=b+C+1>>1,u[g+2+0]=u[g+0+32]=C+T+1>>1,u[g+2+32]=u[g+0+64]=T+M+1>>1,u[g+1+0]=et(b,C,T),u[g+3+0]=u[g+1+32]=et(C,T,M),u[g+3+32]=u[g+1+64]=et(T,M,M),u[g+3+64]=u[g+2+64]=u[g+0+96]=u[g+1+96]=u[g+2+96]=u[g+3+96]=M}function Mm(u,g){var b=u[g-1+0],C=u[g-1+32],T=u[g-1+64],M=u[g-1+96],F=u[g-1-32],z=u[g+0-32],V=u[g+1-32],X=u[g+2-32];u[g+0+0]=u[g+2+32]=b+F+1>>1,u[g+0+32]=u[g+2+64]=C+b+1>>1,u[g+0+64]=u[g+2+96]=T+C+1>>1,u[g+0+96]=M+T+1>>1,u[g+3+0]=et(z,V,X),u[g+2+0]=et(F,z,V),u[g+1+0]=u[g+3+32]=et(b,F,z),u[g+1+32]=u[g+3+64]=et(C,b,F),u[g+1+64]=u[g+3+96]=et(T,C,b),u[g+1+96]=et(M,T,C)}function Dm(u,g){var b;for(b=0;8>b;++b)i(u,g+32*b,u,g-32,8)}function nu(u,g){var b;for(b=0;8>b;++b)r(u,g,u[g-1],8),g+=32}function ma(u,g,b){var C;for(C=0;8>C;++C)r(g,b+32*C,u,8)}function Zs(u,g){var b,C=8;for(b=0;8>b;++b)C+=u[g+b-32]+u[g-1+32*b];ma(C>>4,u,g)}function Fm(u,g){var b,C=4;for(b=0;8>b;++b)C+=u[g+b-32];ma(C>>3,u,g)}function va(u,g){var b,C=4;for(b=0;8>b;++b)C+=u[g-1+32*b];ma(C>>3,u,g)}function iu(u,g){ma(128,u,g)}function Nl(u,g,b){var C=u[g-b],T=u[g+0],M=3*(T-C)+Wm[1020+u[g-2*b]-u[g+b]],F=nd[112+(M+4>>3)];u[g-b]=ji[255+C+nd[112+(M+3>>3)]],u[g+0]=ji[255+T-F]}function qf(u,g,b,C){var T=u[g+0],M=u[g+b];return Zi[255+u[g-2*b]-u[g-b]]>C||Zi[255+M-T]>C}function Vf(u,g,b,C){return 4*Zi[255+u[g-b]-u[g+0]]+Zi[255+u[g-2*b]-u[g+b]]<=C}function $f(u,g,b,C,T){var M=u[g-3*b],F=u[g-2*b],z=u[g-b],V=u[g+0],X=u[g+b],oe=u[g+2*b],de=u[g+3*b];return 4*Zi[255+z-V]+Zi[255+F-X]>C?0:Zi[255+u[g-4*b]-M]<=T&&Zi[255+M-F]<=T&&Zi[255+F-z]<=T&&Zi[255+de-oe]<=T&&Zi[255+oe-X]<=T&&Zi[255+X-V]<=T}function Gf(u,g,b,C){var T=2*C+1;for(C=0;16>C;++C)Vf(u,g+C,b,T)&&Nl(u,g+C,b)}function Yr(u,g,b,C){var T=2*C+1;for(C=0;16>C;++C)Vf(u,g+C*b,1,T)&&Nl(u,g+C*b,1)}function ms(u,g,b,C){var T;for(T=3;0<T;--T)Gf(u,g+=4*b,b,C)}function jm(u,g,b,C){var T;for(T=3;0<T;--T)Yr(u,g+=4,b,C)}function eo(u,g,b,C,T,M,F,z){for(M=2*M+1;0<T--;){if($f(u,g,b,M,F))if(qf(u,g,b,z))Nl(u,g,b);else{var V=u,X=g,oe=b,de=V[X-2*oe],pe=V[X-oe],he=V[X+0],Se=V[X+oe],ve=V[X+2*oe],ae=27*(be=Wm[1020+3*(he-pe)+Wm[1020+de-Se]])+63>>7,ce=18*be+63>>7,be=9*be+63>>7;V[X-3*oe]=ji[255+V[X-3*oe]+be],V[X-2*oe]=ji[255+de+ce],V[X-oe]=ji[255+pe+ae],V[X+0]=ji[255+he-ae],V[X+oe]=ji[255+Se-ce],V[X+2*oe]=ji[255+ve-be]}g+=C}}function wr(u,g,b,C,T,M,F,z){for(M=2*M+1;0<T--;){if($f(u,g,b,M,F))if(qf(u,g,b,z))Nl(u,g,b);else{var V=u,X=g,oe=b,de=V[X-oe],pe=V[X+0],he=V[X+oe],Se=nd[112+((ve=3*(pe-de))+4>>3)],ve=nd[112+(ve+3>>3)],ae=Se+1>>1;V[X-2*oe]=ji[255+V[X-2*oe]+ae],V[X-oe]=ji[255+de+ve],V[X+0]=ji[255+pe-Se],V[X+oe]=ji[255+he-ae]}g+=C}}function ru(u,g,b,C,T,M){eo(u,g,b,1,16,C,T,M)}function ya(u,g,b,C,T,M){eo(u,g,1,b,16,C,T,M)}function Bm(u,g,b,C,T,M){var F;for(F=3;0<F;--F)wr(u,g+=4*b,b,1,16,C,T,M)}function Cl(u,g,b,C,T,M){var F;for(F=3;0<F;--F)wr(u,g+=4,1,b,16,C,T,M)}function zm(u,g,b,C,T,M,F,z){eo(u,g,T,1,8,M,F,z),eo(b,C,T,1,8,M,F,z)}function su(u,g,b,C,T,M,F,z){eo(u,g,1,T,8,M,F,z),eo(b,C,1,T,8,M,F,z)}function ou(u,g,b,C,T,M,F,z){wr(u,g+4*T,T,1,8,M,F,z),wr(b,C+4*T,T,1,8,M,F,z)}function Yf(u,g,b,C,T,M,F,z){wr(u,g+4,1,T,8,M,F,z),wr(b,C+4,1,T,8,M,F,z)}function kl(){this.ba=new pr,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new nn,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function au(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function lu(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Kf(){this.ua=0,this.Wa=new te,this.vb=new te,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new D,this.yc=new P}function Um(){this.xb=this.a=0,this.l=new _l,this.ca=new pr,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new L,this.Pb=0,this.wd=new L,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Kf,this.ab=0,this.gc=o(4,lu),this.Oc=0}function Al(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new _l,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function _a(u,g,b,C,T,M,F){for(u=u==null?0:u[g+0],g=0;g<F;++g)T[M+g]=u+b[C+g]&255,u=T[M+g]}function cu(u,g,b,C,T,M,F){var z;if(u==null)_a(null,null,b,C,T,M,F);else for(z=0;z<F;++z)T[M+z]=u[g+z]+b[C+z]&255}function to(u,g,b,C,T,M,F){if(u==null)_a(null,null,b,C,T,M,F);else{var z,V=u[g+0],X=V,oe=V;for(z=0;z<F;++z)X=oe+(V=u[g+z])-X,oe=b[C+z]+(-256&X?0>X?0:255:X)&255,X=V,T[M+z]=oe}}function uu(u,g,b,C){var T=g.width,M=g.o;if(e(u!=null&&g!=null),0>b||0>=C||b+C>M)return null;if(!u.Cc){if(u.ga==null){var F;if(u.ga=new Al,(F=u.ga==null)||(F=g.width*g.o,e(u.Gb.length==0),u.Gb=s(F),u.Uc=0,u.Gb==null?F=0:(u.mb=u.Gb,u.nb=u.Uc,u.rc=null,F=1),F=!F),!F){F=u.ga;var z=u.Fa,V=u.P,X=u.qc,oe=u.mb,de=u.nb,pe=V+1,he=X-1,Se=F.l;if(e(z!=null&&oe!=null&&g!=null),ao[0]=null,ao[1]=_a,ao[2]=cu,ao[3]=to,F.ca=oe,F.tb=de,F.c=g.width,F.i=g.height,e(0<F.c&&0<F.i),1>=X)g=0;else if(F.$a=z[V+0]>>0&3,F.Z=z[V+0]>>2&3,F.Lc=z[V+0]>>4&3,V=z[V+0]>>6&3,0>F.$a||1<F.$a||4<=F.Z||1<F.Lc||V)g=0;else if(Se.put=Hr,Se.ac=Un,Se.bc=Wr,Se.ma=F,Se.width=g.width,Se.height=g.height,Se.Da=g.Da,Se.v=g.v,Se.va=g.va,Se.j=g.j,Se.o=g.o,F.$a)e:{e(F.$a==1),g=Yi();t:for(;;){if(g==null){g=0;break e}if(e(F!=null),F.mc=g,g.c=F.c,g.i=F.i,g.l=F.l,g.l.ma=F,g.l.width=F.c,g.l.height=F.i,g.a=0,B(g.m,z,pe,he),!$r(F.c,F.i,1,g,null)||(g.ab==1&&g.gc[0].hc==3&&ps(g.s)?(F.ic=1,z=g.c*g.i,g.Ta=null,g.Ua=0,g.V=s(z),g.Ba=0,g.V==null?(g.a=1,g=0):g=1):(F.ic=0,g=ga(g,F.c)),!g))break t;g=1;break e}F.mc=null,g=0}else g=he>=F.c*F.i;F=!g}if(F)return null;u.ga.Lc!=1?u.Ga=0:C=M-b}e(u.ga!=null),e(b+C<=M);e:{if(g=(z=u.ga).c,M=z.l.o,z.$a==0){if(pe=u.rc,he=u.Vc,Se=u.Fa,V=u.P+1+b*g,X=u.mb,oe=u.nb+b*g,e(V<=u.P+u.qc),z.Z!=0)for(e(ao[z.Z]!=null),F=0;F<C;++F)ao[z.Z](pe,he,Se,V,X,oe,g),pe=X,he=oe,oe+=g,V+=g;else for(F=0;F<C;++F)i(X,oe,Se,V,g),pe=X,he=oe,oe+=g,V+=g;u.rc=pe,u.Vc=he}else{if(e(z.mc!=null),g=b+C,e((F=z.mc)!=null),e(g<=F.i),F.C>=g)g=1;else if(z.ic||fe(),z.ic){z=F.V,pe=F.Ba,he=F.c;var ve=F.i,ae=(Se=1,V=F.$/he,X=F.$%he,oe=F.m,de=F.s,F.$),ce=he*ve,be=he*g,Ne=de.wc,xe=ae<be?vn(de,X,V):null;e(ae<=ce),e(g<=ve),e(ps(de));t:for(;;){for(;!oe.h&&ae<be;){if(X&Ne||(xe=vn(de,X,V)),e(xe!=null),j(oe),256>(ve=yi(xe.G[0],xe.H[0],oe)))z[pe+ae]=ve,++ae,++X>=he&&(X=0,++V<=g&&!(V%16)&&vr(F,V));else{if(!(280>ve)){Se=0;break t}ve=gr(ve-256,oe);var je,Te=yi(xe.G[4],xe.H[4],oe);if(j(oe),!(ae>=(Te=qr(he,Te=gr(Te,oe)))&&ce-ae>=ve)){Se=0;break t}for(je=0;je<ve;++je)z[pe+ae+je]=z[pe+ae+je-Te];for(ae+=ve,X+=ve;X>=he;)X-=he,++V<=g&&!(V%16)&&vr(F,V);ae<be&&X&Ne&&(xe=vn(de,X,V))}e(oe.h==Y(oe))}vr(F,V>g?g:V);break t}!Se||oe.h&&ae<ce?(Se=0,F.a=oe.h?5:3):F.$=ae,g=Se}else g=yr(F,F.V,F.Ba,F.c,F.i,g,pl);if(!g){C=0;break e}}b+C>=M&&(u.Cc=1),C=1}if(!C)return null;if(u.Cc&&((C=u.ga)!=null&&(C.mc=null),u.ga=null,0<u.Ga))return alert("todo:WebPDequantizeLevels"),null}return u.nb+b*T}function v(u,g,b,C,T,M){for(;0<T--;){var F,z=u,V=g+(b?1:0),X=u,oe=g+(b?0:3);for(F=0;F<C;++F){var de=X[oe+4*F];de!=255&&(de*=32897,z[V+4*F+0]=z[V+4*F+0]*de>>23,z[V+4*F+1]=z[V+4*F+1]*de>>23,z[V+4*F+2]=z[V+4*F+2]*de>>23)}g+=M}}function R(u,g,b,C,T){for(;0<C--;){var M;for(M=0;M<b;++M){var F=u[g+2*M+0],z=15&(X=u[g+2*M+1]),V=4369*z,X=(240&X|X>>4)*V>>16;u[g+2*M+0]=(240&F|F>>4)*V>>16&240|(15&F|F<<4)*V>>16>>4&15,u[g+2*M+1]=240&X|z}g+=T}}function Z(u,g,b,C,T,M,F,z){var V,X,oe=255;for(X=0;X<T;++X){for(V=0;V<C;++V){var de=u[g+V];M[F+4*V]=de,oe&=de}g+=b,F+=z}return oe!=255}function se(u,g,b,C,T){var M;for(M=0;M<T;++M)b[C+M]=u[g+M]>>8}function fe(){Qi=v,zt=R,Ut=Z,hn=se}function _e(u,g,b){A[u]=function(C,T,M,F,z,V,X,oe,de,pe,he,Se,ve,ae,ce,be,Ne){var xe,je=Ne-1>>1,Te=z[V+0]|X[oe+0]<<16,Ve=de[pe+0]|he[Se+0]<<16;e(C!=null);var Re=3*Te+Ve+131074>>2;for(g(C[T+0],255&Re,Re>>16,ve,ae),M!=null&&(Re=3*Ve+Te+131074>>2,g(M[F+0],255&Re,Re>>16,ce,be)),xe=1;xe<=je;++xe){var St=z[V+xe]|X[oe+xe]<<16,kt=de[pe+xe]|he[Se+xe]<<16,vt=Te+St+Ve+kt+524296,dt=vt+2*(St+Ve)>>3;Re=dt+Te>>1,Te=(vt=vt+2*(Te+kt)>>3)+St>>1,g(C[T+2*xe-1],255&Re,Re>>16,ve,ae+(2*xe-1)*b),g(C[T+2*xe-0],255&Te,Te>>16,ve,ae+(2*xe-0)*b),M!=null&&(Re=vt+Ve>>1,Te=dt+kt>>1,g(M[F+2*xe-1],255&Re,Re>>16,ce,be+(2*xe-1)*b),g(M[F+2*xe+0],255&Te,Te>>16,ce,be+(2*xe+0)*b)),Te=St,Ve=kt}1&Ne||(Re=3*Te+Ve+131074>>2,g(C[T+Ne-1],255&Re,Re>>16,ve,ae+(Ne-1)*b),M!=null&&(Re=3*Ve+Te+131074>>2,g(M[F+Ne-1],255&Re,Re>>16,ce,be+(Ne-1)*b)))}}function ke(){er[id]=qk,er[rd]=h5,er[o5]=Vk,er[sd]=f5,er[od]=d5,er[qm]=p5,er[a5]=$k,er[Vm]=h5,er[$m]=f5,er[ad]=d5,er[Gm]=p5}function Fe(u){return u&-16384?0>u?0:255:u>>Gk}function qe(u,g){return Fe((19077*u>>8)+(26149*g>>8)-14234)}function st(u,g,b){return Fe((19077*u>>8)-(6419*g>>8)-(13320*b>>8)+8708)}function it(u,g){return Fe((19077*u>>8)+(33050*g>>8)-17685)}function gt(u,g,b,C,T){C[T+0]=qe(u,b),C[T+1]=st(u,g,b),C[T+2]=it(u,g)}function Jt(u,g,b,C,T){C[T+0]=it(u,g),C[T+1]=st(u,g,b),C[T+2]=qe(u,b)}function rn(u,g,b,C,T){var M=st(u,g,b);g=M<<3&224|it(u,g)>>3,C[T+0]=248&qe(u,b)|M>>5,C[T+1]=g}function yn(u,g,b,C,T){var M=240&it(u,g)|15;C[T+0]=240&qe(u,b)|st(u,g,b)>>4,C[T+1]=M}function Kn(u,g,b,C,T){C[T+0]=255,gt(u,g,b,C,T+1)}function Rn(u,g,b,C,T){Jt(u,g,b,C,T),C[T+3]=255}function br(u,g,b,C,T){gt(u,g,b,C,T),C[T+3]=255}function Fi(u,g){return 0>u?0:u>g?g:u}function Kr(u,g,b){A[u]=function(C,T,M,F,z,V,X,oe,de){for(var pe=oe+(-2&de)*b;oe!=pe;)g(C[T+0],M[F+0],z[V+0],X,oe),g(C[T+1],M[F+0],z[V+0],X,oe+b),T+=2,++F,++V,oe+=2*b;1&de&&g(C[T+0],M[F+0],z[V+0],X,oe)}}function Xf(u,g,b){return b==0?u==0?g==0?6:5:g==0?4:0:b}function hu(u,g,b,C,T){switch(u>>>30){case 3:_s(g,b,C,T,0);break;case 2:un(g,b,C,T);break;case 1:ui(g,b,C,T)}}function fu(u,g){var b,C,T=g.M,M=g.Nb,F=u.oc,z=u.pc+40,V=u.oc,X=u.pc+584,oe=u.oc,de=u.pc+600;for(b=0;16>b;++b)F[z+32*b-1]=129;for(b=0;8>b;++b)V[X+32*b-1]=129,oe[de+32*b-1]=129;for(0<T?F[z-1-32]=V[X-1-32]=oe[de-1-32]=129:(r(F,z-32-1,127,21),r(V,X-32-1,127,9),r(oe,de-32-1,127,9)),C=0;C<u.za;++C){var pe=g.ya[g.aa+C];if(0<C){for(b=-1;16>b;++b)i(F,z+32*b-4,F,z+32*b+12,4);for(b=-1;8>b;++b)i(V,X+32*b-4,V,X+32*b+4,4),i(oe,de+32*b-4,oe,de+32*b+4,4)}var he=u.Gd,Se=u.Hd+C,ve=pe.ad,ae=pe.Hc;if(0<T&&(i(F,z-32,he[Se].y,0,16),i(V,X-32,he[Se].f,0,8),i(oe,de-32,he[Se].ea,0,8)),pe.Za){var ce=F,be=z-32+16;for(0<T&&(C>=u.za-1?r(ce,be,he[Se].y[15],4):i(ce,be,he[Se+1].y,0,4)),b=0;4>b;b++)ce[be+128+b]=ce[be+256+b]=ce[be+384+b]=ce[be+0+b];for(b=0;16>b;++b,ae<<=2)ce=F,be=z+m5[b],xr[pe.Ob[b]](ce,be),hu(ae,ve,16*+b,ce,be)}else if(ce=Xf(C,T,pe.Ob[0]),oo[ce](F,z),ae!=0)for(b=0;16>b;++b,ae<<=2)hu(ae,ve,16*+b,F,z+m5[b]);for(b=pe.Gc,ce=Xf(C,T,pe.Dd),bs[ce](V,X),bs[ce](oe,de),ae=ve,ce=V,be=X,255&(pe=b>>0)&&(170&pe?vu(ae,256,ce,be):Xi(ae,256,ce,be)),pe=oe,ae=de,255&(b>>=8)&&(170&b?vu(ve,320,pe,ae):Xi(ve,320,pe,ae)),T<u.Ub-1&&(i(he[Se].y,0,F,z+480,16),i(he[Se].f,0,V,X+224,8),i(he[Se].ea,0,oe,de+224,8)),b=8*M*u.B,he=u.sa,Se=u.ta+16*C+16*M*u.R,ve=u.qa,pe=u.ra+8*C+b,ae=u.Ha,ce=u.Ia+8*C+b,b=0;16>b;++b)i(he,Se+b*u.R,F,z+32*b,16);for(b=0;8>b;++b)i(ve,pe+b*u.B,V,X+32*b,8),i(ae,ce+b*u.B,oe,de+32*b,8)}}function El(u,g,b,C,T,M,F,z,V){var X=[0],oe=[0],de=0,pe=V!=null?V.kd:0,he=V??new au;if(u==null||12>b)return 7;he.data=u,he.w=g,he.ha=b,g=[g],b=[b],he.gb=[he.gb];e:{var Se=g,ve=b,ae=he.gb;if(e(u!=null),e(ve!=null),e(ae!=null),ae[0]=0,12<=ve[0]&&!n(u,Se[0],"RIFF")){if(n(u,Se[0]+8,"WEBP")){ae=3;break e}var ce=Pe(u,Se[0]+4);if(12>ce||4294967286<ce){ae=3;break e}if(pe&&ce>ve[0]-8){ae=7;break e}ae[0]=ce,Se[0]+=12,ve[0]-=12}ae=0}if(ae!=0)return ae;for(ce=0<he.gb[0],b=b[0];;){e:{var be=u;ve=g,ae=b;var Ne=X,xe=oe,je=Se=[0];if((Re=de=[de])[0]=0,8>ae[0])ae=7;else{if(!n(be,ve[0],"VP8X")){if(Pe(be,ve[0]+4)!=10){ae=3;break e}if(18>ae[0]){ae=7;break e}var Te=Pe(be,ve[0]+8),Ve=1+Ce(be,ve[0]+12);if(2147483648<=Ve*(be=1+Ce(be,ve[0]+15))){ae=3;break e}je!=null&&(je[0]=Te),Ne!=null&&(Ne[0]=Ve),xe!=null&&(xe[0]=be),ve[0]+=18,ae[0]-=18,Re[0]=1}ae=0}}if(de=de[0],Se=Se[0],ae!=0)return ae;if(ve=!!(2&Se),!ce&&de)return 3;if(M!=null&&(M[0]=!!(16&Se)),F!=null&&(F[0]=ve),z!=null&&(z[0]=0),F=X[0],Se=oe[0],de&&ve&&V==null){ae=0;break}if(4>b){ae=7;break}if(ce&&de||!ce&&!de&&!n(u,g[0],"ALPH")){b=[b],he.na=[he.na],he.P=[he.P],he.Sa=[he.Sa];e:{Te=u,ae=g,ce=b;var Re=he.gb;Ne=he.na,xe=he.P,je=he.Sa,Ve=22,e(Te!=null),e(ce!=null),be=ae[0];var St=ce[0];for(e(Ne!=null),e(je!=null),Ne[0]=null,xe[0]=null,je[0]=0;;){if(ae[0]=be,ce[0]=St,8>St){ae=7;break e}var kt=Pe(Te,be+4);if(4294967286<kt){ae=3;break e}var vt=8+kt+1&-2;if(Ve+=vt,0<Re&&Ve>Re){ae=3;break e}if(!n(Te,be,"VP8 ")||!n(Te,be,"VP8L")){ae=0;break e}if(St[0]<vt){ae=7;break e}n(Te,be,"ALPH")||(Ne[0]=Te,xe[0]=be+8,je[0]=kt),be+=vt,St-=vt}}if(b=b[0],he.na=he.na[0],he.P=he.P[0],he.Sa=he.Sa[0],ae!=0)break}b=[b],he.Ja=[he.Ja],he.xa=[he.xa];e:if(Re=u,ae=g,ce=b,Ne=he.gb[0],xe=he.Ja,je=he.xa,Te=ae[0],be=!n(Re,Te,"VP8 "),Ve=!n(Re,Te,"VP8L"),e(Re!=null),e(ce!=null),e(xe!=null),e(je!=null),8>ce[0])ae=7;else{if(be||Ve){if(Re=Pe(Re,Te+4),12<=Ne&&Re>Ne-12){ae=3;break e}if(pe&&Re>ce[0]-8){ae=7;break e}xe[0]=Re,ae[0]+=8,ce[0]-=8,je[0]=Ve}else je[0]=5<=ce[0]&&Re[Te+0]==47&&!(Re[Te+4]>>5),xe[0]=ce[0];ae=0}if(b=b[0],he.Ja=he.Ja[0],he.xa=he.xa[0],g=g[0],ae!=0)break;if(4294967286<he.Ja)return 3;if(z==null||ve||(z[0]=he.xa?2:1),F=[F],Se=[Se],he.xa){if(5>b){ae=7;break}z=F,pe=Se,ve=M,u==null||5>b?u=0:5<=b&&u[g+0]==47&&!(u[g+4]>>5)?(ce=[0],Re=[0],Ne=[0],B(xe=new L,u,g,b),Ge(xe,ce,Re,Ne)?(z!=null&&(z[0]=ce[0]),pe!=null&&(pe[0]=Re[0]),ve!=null&&(ve[0]=Ne[0]),u=1):u=0):u=0}else{if(10>b){ae=7;break}z=Se,u==null||10>b||!Of(u,g+3,b-3)?u=0:(pe=u[g+0]|u[g+1]<<8|u[g+2]<<16,ve=16383&(u[g+7]<<8|u[g+6]),u=16383&(u[g+9]<<8|u[g+8]),1&pe||3<(pe>>1&7)||!(pe>>4&1)||pe>>5>=he.Ja||!ve||!u?u=0:(F&&(F[0]=ve),z&&(z[0]=u),u=1))}if(!u||(F=F[0],Se=Se[0],de&&(X[0]!=F||oe[0]!=Se)))return 3;V!=null&&(V[0]=he,V.offset=g-V.w,e(4294967286>g-V.w),e(V.offset==V.ha-b));break}return ae==0||ae==7&&de&&V==null?(M!=null&&(M[0]|=he.na!=null&&0<he.na.length),C!=null&&(C[0]=F),T!=null&&(T[0]=Se),0):ae}function du(u,g,b){var C=g.width,T=g.height,M=0,F=0,z=C,V=T;if(g.Da=u!=null&&0<u.Da,g.Da&&(z=u.cd,V=u.bd,M=u.v,F=u.j,11>b||(M&=-2,F&=-2),0>M||0>F||0>=z||0>=V||M+z>C||F+V>T))return 0;if(g.v=M,g.j=F,g.va=M+z,g.o=F+V,g.U=z,g.T=V,g.da=u!=null&&0<u.da,g.da){if(!Je(z,V,b=[u.ib],M=[u.hb]))return 0;g.ib=b[0],g.hb=M[0]}return g.ob=u!=null&&u.ob,g.Kb=u==null||!u.Sd,g.da&&(g.ob=g.ib<3*C/4&&g.hb<3*T/4,g.Kb=0),1}function pu(u){if(u==null)return 2;if(11>u.S){var g=u.f.RGBA;g.fb+=(u.height-1)*g.A,g.A=-g.A}else g=u.f.kb,u=u.height,g.O+=(u-1)*g.fa,g.fa=-g.fa,g.N+=(u-1>>1)*g.Ab,g.Ab=-g.Ab,g.W+=(u-1>>1)*g.Db,g.Db=-g.Db,g.F!=null&&(g.J+=(u-1)*g.lb,g.lb=-g.lb);return 0}function Pl(u,g,b,C){if(C==null||0>=u||0>=g)return 2;if(b!=null){if(b.Da){var T=b.cd,M=b.bd,F=-2&b.v,z=-2&b.j;if(0>F||0>z||0>=T||0>=M||F+T>u||z+M>g)return 2;u=T,g=M}if(b.da){if(!Je(u,g,T=[b.ib],M=[b.hb]))return 2;u=T[0],g=M[0]}}C.width=u,C.height=g;e:{var V=C.width,X=C.height;if(u=C.S,0>=V||0>=X||!(u>=id&&13>u))u=2;else{if(0>=C.Rd&&C.sd==null){F=M=T=g=0;var oe=(z=V*v5[u])*X;if(11>u||(M=(X+1)/2*(g=(V+1)/2),u==12&&(F=(T=V)*X)),(X=s(oe+2*M+F))==null){u=1;break e}C.sd=X,11>u?((V=C.f.RGBA).eb=X,V.fb=0,V.A=z,V.size=oe):((V=C.f.kb).y=X,V.O=0,V.fa=z,V.Fd=oe,V.f=X,V.N=0+oe,V.Ab=g,V.Cd=M,V.ea=X,V.W=0+oe+M,V.Db=g,V.Ed=M,u==12&&(V.F=X,V.J=0+oe+2*M),V.Tc=F,V.lb=T)}if(g=1,T=C.S,M=C.width,F=C.height,T>=id&&13>T)if(11>T)u=C.f.RGBA,g&=(z=Math.abs(u.A))*(F-1)+M<=u.size,g&=z>=M*v5[T],g&=u.eb!=null;else{u=C.f.kb,z=(M+1)/2,oe=(F+1)/2,V=Math.abs(u.fa),X=Math.abs(u.Ab);var de=Math.abs(u.Db),pe=Math.abs(u.lb),he=pe*(F-1)+M;g&=V*(F-1)+M<=u.Fd,g&=X*(oe-1)+z<=u.Cd,g=(g&=de*(oe-1)+z<=u.Ed)&V>=M&X>=z&de>=z,g&=u.y!=null,g&=u.f!=null,g&=u.ea!=null,T==12&&(g&=pe>=M,g&=he<=u.Tc,g&=u.F!=null)}else g=0;u=g?0:2}}return u!=0||b!=null&&b.fd&&(u=pu(C)),u}var Hn=64,Il=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Ll=24,Tl=32,gu=8,wi=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Le("Predictor0","PredictorAdd0"),A.Predictor0=function(){return 4278190080},A.Predictor1=function(u){return u},A.Predictor2=function(u,g,b){return g[b+0]},A.Predictor3=function(u,g,b){return g[b+1]},A.Predictor4=function(u,g,b){return g[b-1]},A.Predictor5=function(u,g,b){return Oe(Oe(u,g[b+1]),g[b+0])},A.Predictor6=function(u,g,b){return Oe(u,g[b-1])},A.Predictor7=function(u,g,b){return Oe(u,g[b+0])},A.Predictor8=function(u,g,b){return Oe(g[b-1],g[b+0])},A.Predictor9=function(u,g,b){return Oe(g[b+0],g[b+1])},A.Predictor10=function(u,g,b){return Oe(Oe(u,g[b-1]),Oe(g[b+0],g[b+1]))},A.Predictor11=function(u,g,b){var C=g[b+0];return 0>=at(C>>24&255,u>>24&255,(g=g[b-1])>>24&255)+at(C>>16&255,u>>16&255,g>>16&255)+at(C>>8&255,u>>8&255,g>>8&255)+at(255&C,255&u,255&g)?C:u},A.Predictor12=function(u,g,b){var C=g[b+0];return(We((u>>24&255)+(C>>24&255)-((g=g[b-1])>>24&255))<<24|We((u>>16&255)+(C>>16&255)-(g>>16&255))<<16|We((u>>8&255)+(C>>8&255)-(g>>8&255))<<8|We((255&u)+(255&C)-(255&g)))>>>0},A.Predictor13=function(u,g,b){var C=g[b-1];return(tt((u=Oe(u,g[b+0]))>>24&255,C>>24&255)<<24|tt(u>>16&255,C>>16&255)<<16|tt(u>>8&255,C>>8&255)<<8|tt(u>>0&255,C>>0&255))>>>0};var Hm=A.PredictorAdd0;A.PredictorAdd1=lt,Le("Predictor2","PredictorAdd2"),Le("Predictor3","PredictorAdd3"),Le("Predictor4","PredictorAdd4"),Le("Predictor5","PredictorAdd5"),Le("Predictor6","PredictorAdd6"),Le("Predictor7","PredictorAdd7"),Le("Predictor8","PredictorAdd8"),Le("Predictor9","PredictorAdd9"),Le("Predictor10","PredictorAdd10"),Le("Predictor11","PredictorAdd11"),Le("Predictor12","PredictorAdd12"),Le("Predictor13","PredictorAdd13");var mu=A.PredictorAdd2;ut("ColorIndexInverseTransform","MapARGB","32b",function(u){return u>>8&255},function(u){return u}),ut("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(u){return u},function(u){return u>>8&255});var Jf,Ki=A.ColorIndexInverseTransform,Rl=A.MapARGB,Qf=A.VP8LColorIndexInverseTransformAlpha,Zf=A.MapAlpha,no=A.VP8LPredictorsAdd=[];no.length=16,(A.VP8LPredictors=[]).length=16,(A.VP8LPredictorsAdd_C=[]).length=16,(A.VP8LPredictors_C=[]).length=16;var wa,bi,ci,io,vs,ys,Ol,_s,un,vu,ui,Xi,Ml,ed,yu,ba,xa,ro,Sa,Dl,Na,so,_u,Ji,Qi,zt,Ut,hn,Cn=s(511),ws=s(2041),wu=s(225),Fl=s(767),td=0,Wm=ws,nd=wu,ji=Fl,Zi=Cn,id=0,rd=1,o5=2,sd=3,od=4,qm=5,a5=6,Vm=7,$m=8,ad=9,Gm=10,Ik=[2,3,7],Lk=[3,3,11],l5=[280,256,256,256,40],Tk=[0,1,1,1,0],Rk=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Ok=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Mk=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Dk=8,Ym=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Km=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],bu=null,Fk=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],jk=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],c5=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Bk=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],zk=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Uk=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Hk=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],oo=[],xr=[],bs=[],Wk=1,u5=2,ao=[],er=[];_e("UpsampleRgbLinePair",gt,3),_e("UpsampleBgrLinePair",Jt,3),_e("UpsampleRgbaLinePair",br,4),_e("UpsampleBgraLinePair",Rn,4),_e("UpsampleArgbLinePair",Kn,4),_e("UpsampleRgba4444LinePair",yn,2),_e("UpsampleRgb565LinePair",rn,2);var qk=A.UpsampleRgbLinePair,Vk=A.UpsampleBgrLinePair,h5=A.UpsampleRgbaLinePair,f5=A.UpsampleBgraLinePair,d5=A.UpsampleArgbLinePair,p5=A.UpsampleRgba4444LinePair,$k=A.UpsampleRgb565LinePair,ld=16,cd=1<<ld-1,xu=-227,Xm=482,Gk=6,g5=0,Yk=s(256),Kk=s(256),Xk=s(256),Jk=s(256),Qk=s(Xm-xu),Zk=s(Xm-xu);Kr("YuvToRgbRow",gt,3),Kr("YuvToBgrRow",Jt,3),Kr("YuvToRgbaRow",br,4),Kr("YuvToBgraRow",Rn,4),Kr("YuvToArgbRow",Kn,4),Kr("YuvToRgba4444Row",yn,2),Kr("YuvToRgb565Row",rn,2);var m5=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],ud=[0,2,8],eA=[8,7,6,4,4,2,2,2,1,1,1,1],tA=1;this.WebPDecodeRGBA=function(u,g,b,C,T){var M=rd,F=new kl,z=new pr;F.ba=z,z.S=M,z.width=[z.width],z.height=[z.height];var V=z.width,X=z.height,oe=new ds;if(oe==null||u==null)var de=2;else e(oe!=null),de=El(u,g,b,oe.width,oe.height,oe.Pd,oe.Qd,oe.format,null);if(de!=0?V=0:(V!=null&&(V[0]=oe.width[0]),X!=null&&(X[0]=oe.height[0]),V=1),V){z.width=z.width[0],z.height=z.height[0],C!=null&&(C[0]=z.width),T!=null&&(T[0]=z.height);e:{if(C=new _l,(T=new au).data=u,T.w=g,T.ha=b,T.kd=1,g=[0],e(T!=null),((u=El(T.data,T.w,T.ha,null,null,null,g,null,T))==0||u==7)&&g[0]&&(u=4),(g=u)==0){if(e(F!=null),C.data=T.data,C.w=T.w+T.offset,C.ha=T.ha-T.offset,C.put=Hr,C.ac=Un,C.bc=Wr,C.ma=F,T.xa){if((u=Yi())==null){F=1;break e}if(function(pe,he){var Se=[0],ve=[0],ae=[0];t:for(;;){if(pe==null)return 0;if(he==null)return pe.a=2,0;if(pe.l=he,pe.a=0,B(pe.m,he.data,he.w,he.ha),!Ge(pe.m,Se,ve,ae)){pe.a=3;break t}if(pe.xb=u5,he.width=Se[0],he.height=ve[0],!$r(Se[0],ve[0],1,pe,null))break t;return 1}return e(pe.a!=0),0}(u,C)){if(C=(g=Pl(C.width,C.height,F.Oa,F.ba))==0){t:{C=u;n:for(;;){if(C==null){C=0;break t}if(e(C.s.yc!=null),e(C.s.Ya!=null),e(0<C.s.Wb),e((b=C.l)!=null),e((T=b.ma)!=null),C.xb!=0){if(C.ca=T.ba,C.tb=T.tb,e(C.ca!=null),!du(T.Oa,b,sd)){C.a=2;break n}if(!ga(C,b.width)||b.da)break n;if((b.da||Nt(C.ca.S))&&fe(),11>C.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),C.ca.f.kb.F!=null&&fe()),C.Pb&&0<C.s.ua&&C.s.vb.X==null&&!Be(C.s.vb,C.s.Wa.Xa)){C.a=1;break n}C.xb=0}if(!yr(C,C.V,C.Ba,C.c,C.i,b.o,dl))break n;T.Dc=C.Ma,C=1;break t}e(C.a!=0),C=0}C=!C}C&&(g=u.a)}else g=u.a}else{if((u=new Sm)==null){F=1;break e}if(u.Fa=T.na,u.P=T.P,u.qc=T.Sa,Mf(u,C)){if((g=Pl(C.width,C.height,F.Oa,F.ba))==0){if(u.Aa=0,b=F.Oa,e((T=u)!=null),b!=null){if(0<(V=0>(V=b.Md)?0:100<V?255:255*V/100)){for(X=oe=0;4>X;++X)12>(de=T.pb[X]).lc&&(de.ia=V*eA[0>de.lc?0:de.lc]>>3),oe|=de.ia;oe&&(alert("todo:VP8InitRandom"),T.ia=1)}T.Ga=b.Id,100<T.Ga?T.Ga=100:0>T.Ga&&(T.Ga=0)}Nm(u,C)||(g=u.a)}}else g=u.a}g==0&&F.Oa!=null&&F.Oa.fd&&(g=pu(F.ba))}F=g}M=F!=0?null:11>M?z.f.RGBA.eb:z.f.kb.y}else M=null;return M};var v5=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(A,U){for(var W="",E=0;E<4;E++)W+=String.fromCharCode(A[U++]);return W}function h(A,U){return(A[U+0]<<0|A[U+1]<<8|A[U+2]<<16)>>>0}function f(A,U){return(A[U+0]<<0|A[U+1]<<8|A[U+2]<<16|A[U+3]<<24)>>>0}new l;var d=[0],p=[0],w=[],y=new l,S=t,m=function(A,U){var W={},E=0,P=!1,K=0,D=0;if(W.frames=[],!function(q,Y,J,j){for(var ne=0;ne<j;ne++)if(q[Y+ne]!=J.charCodeAt(ne))return!0;return!1}(A,U,"RIFF",4)){var Q,H;for(f(A,U+=4),U+=8;U<A.length;){var $=c(A,U),B=f(A,U+=4);U+=4;var G=B+(1&B);switch($){case"VP8 ":case"VP8L":W.frames[E]===void 0&&(W.frames[E]={}),(L=W.frames[E]).src_off=P?D:U-8,L.src_size=K+B+8,E++,P&&(P=!1,K=0,D=0);break;case"VP8X":(L=W.header={}).feature_flags=A[U];var ie=U+4;L.canvas_width=1+h(A,ie),ie+=3,L.canvas_height=1+h(A,ie),ie+=3;break;case"ALPH":P=!0,K=G+8,D=U-8;break;case"ANIM":(L=W.header).bgcolor=f(A,U),ie=U+4,L.loop_count=(Q=A)[(H=ie)+0]<<0|Q[H+1]<<8,ie+=2;break;case"ANMF":var ue,L;(L=W.frames[E]={}).offset_x=2*h(A,U),U+=3,L.offset_y=2*h(A,U),U+=3,L.width=1+h(A,U),U+=3,L.height=1+h(A,U),U+=3,L.duration=h(A,U),U+=3,ue=A[U++],L.dispose=1&ue,L.blend=ue>>1&1}$!="ANMF"&&(U+=G)}return W}}(S,0);m.response=S,m.rgbaoutput=!0,m.dataurl=!1;var _=m.header?m.header:null,x=m.frames?m.frames:null;if(_){_.loop_counter=_.loop_count,d=[_.canvas_height],p=[_.canvas_width];for(var N=0;N<x.length&&x[N].blend!=0;N++);}var k=x[0],O=y.WebPDecodeRGBA(S,k.src_off,k.src_size,p,d);k.rgba=O,k.imgwidth=p[0],k.imgheight=d[0];for(var I=0;I<p[0]*d[0]*4;I++)w[I]=O[I];return this.width=p,this.height=d,this.data=w,this}(function(t){var e=function(){return typeof $v=="function"},n=function(d,p,w,y){var S=4,m=o;switch(y){case t.image_compression.FAST:S=1,m=s;break;case t.image_compression.MEDIUM:S=6,m=a;break;case t.image_compression.SLOW:S=9,m=l}d=i(d,p,w,m);var _=$v(d,{level:S});return t.__addimage__.arrayBufferToBinaryString(_)},i=function(d,p,w,y){for(var S,m,_,x=d.length/p,N=new Uint8Array(d.length+x),k=h(),O=0;O<x;O+=1){if(_=O*p,S=d.subarray(_,_+p),y)N.set(y(S,w,m),_+O);else{for(var I,A=k.length,U=[];I<A;I+=1)U[I]=k[I](S,w,m);var W=f(U.concat());N.set(U[W],_+O)}m=S}return N},r=function(d){var p=Array.apply([],d);return p.unshift(0),p},s=function(d,p){var w,y=[],S=d.length;y[0]=1;for(var m=0;m<S;m+=1)w=d[m-p]||0,y[m+1]=d[m]-w+256&255;return y},o=function(d,p,w){var y,S=[],m=d.length;S[0]=2;for(var _=0;_<m;_+=1)y=w&&w[_]||0,S[_+1]=d[_]-y+256&255;return S},a=function(d,p,w){var y,S,m=[],_=d.length;m[0]=3;for(var x=0;x<_;x+=1)y=d[x-p]||0,S=w&&w[x]||0,m[x+1]=d[x]+256-(y+S>>>1)&255;return m},l=function(d,p,w){var y,S,m,_,x=[],N=d.length;x[0]=4;for(var k=0;k<N;k+=1)y=d[k-p]||0,S=w&&w[k]||0,m=w&&w[k-p]||0,_=c(y,S,m),x[k+1]=d[k]-_+256&255;return x},c=function(d,p,w){if(d===p&&p===w)return d;var y=Math.abs(p-w),S=Math.abs(d-w),m=Math.abs(d+p-w-w);return y<=S&&y<=m?d:S<=m?p:w},h=function(){return[r,s,o,a,l]},f=function(d){var p=d.map(function(w){return w.reduce(function(y,S){return y+Math.abs(S)},0)});return p.indexOf(Math.min.apply(null,p))};t.processPNG=function(d,p,w,y){var S,m,_,x,N,k,O,I,A,U,W,E,P,K,D,Q=this.decode.FLATE_DECODE,H="";if(this.__addimage__.isArrayBuffer(d)&&(d=new Uint8Array(d)),this.__addimage__.isArrayBufferView(d)){if(d=(_=new l9(d)).imgData,m=_.bits,S=_.colorSpace,N=_.colors,[4,6].indexOf(_.colorType)!==-1){if(_.bits===8){A=(I=_.pixelBitlength==32?new Uint32Array(_.decodePixels().buffer):_.pixelBitlength==16?new Uint16Array(_.decodePixels().buffer):new Uint8Array(_.decodePixels().buffer)).length,W=new Uint8Array(A*_.colors),U=new Uint8Array(A);var $,B=_.pixelBitlength-_.bits;for(K=0,D=0;K<A;K++){for(P=I[K],$=0;$<B;)W[D++]=P>>>$&255,$+=_.bits;U[K]=P>>>$&255}}if(_.bits===16){A=(I=new Uint32Array(_.decodePixels().buffer)).length,W=new Uint8Array(A*(32/_.pixelBitlength)*_.colors),U=new Uint8Array(A*(32/_.pixelBitlength)),E=_.colors>1,K=0,D=0;for(var G=0;K<A;)P=I[K++],W[D++]=P>>>0&255,E&&(W[D++]=P>>>16&255,P=I[K++],W[D++]=P>>>0&255),U[G++]=P>>>16&255;m=8}y!==t.image_compression.NONE&&e()?(d=n(W,_.width*_.colors,_.colors,y),O=n(U,_.width,1,y)):(d=W,O=U,Q=void 0)}if(_.colorType===3&&(S=this.color_spaces.INDEXED,k=_.palette,_.transparency.indexed)){var ie=_.transparency.indexed,ue=0;for(K=0,A=ie.length;K<A;++K)ue+=ie[K];if((ue/=255)===A-1&&ie.indexOf(0)!==-1)x=[ie.indexOf(0)];else if(ue!==A){for(I=_.decodePixels(),U=new Uint8Array(I.length),K=0,A=I.length;K<A;K++)U[K]=ie[I[K]];O=n(U,_.width,1)}}var L=function(q){var Y;switch(q){case t.image_compression.FAST:Y=11;break;case t.image_compression.MEDIUM:Y=13;break;case t.image_compression.SLOW:Y=14;break;default:Y=12}return Y}(y);return Q===this.decode.FLATE_DECODE&&(H="/Predictor "+L+" "),H+="/Colors "+N+" /BitsPerComponent "+m+" /Columns "+_.width,(this.__addimage__.isArrayBuffer(d)||this.__addimage__.isArrayBufferView(d))&&(d=this.__addimage__.arrayBufferToBinaryString(d)),(O&&this.__addimage__.isArrayBuffer(O)||this.__addimage__.isArrayBufferView(O))&&(O=this.__addimage__.arrayBufferToBinaryString(O)),{alias:w,data:d,index:p,filter:Q,decodeParameters:H,transparency:x,palette:k,sMask:O,predictor:L,width:_.width,height:_.height,bitsPerComponent:m,colorSpace:S}}}})($e.API),function(t){t.processGIF89A=function(e,n,i,r){var s=new c9(e),o=s.width,a=s.height,l=[];s.decodeAndBlitFrameRGBA(0,l);var c={data:l,width:o,height:a},h=new p1(100).encode(c,100);return t.processJPEG.call(this,h,n,i,r)},t.processGIF87A=t.processGIF89A}($e.API),kr.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:r,green:i,blue:n,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},kr.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(n){Dt.log("bit decode error:"+n)}},kr.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),n=e%4;for(t=this.height-1;t>=0;t--){for(var i=this.bottom_up?t:this.height-1-t,r=0;r<e;r++)for(var s=this.datav.getUint8(this.pos++,!0),o=i*this.width*4+8*r*4,a=0;a<8&&8*r+a<this.width;a++){var l=this.palette[s>>7-a&1];this.data[o+4*a]=l.blue,this.data[o+4*a+1]=l.green,this.data[o+4*a+2]=l.red,this.data[o+4*a+3]=255}n!==0&&(this.pos+=4-n)}},kr.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,r=0;r<t;r++){var s=this.datav.getUint8(this.pos++,!0),o=i*this.width*4+2*r*4,a=s>>4,l=15&s,c=this.palette[a];if(this.data[o]=c.blue,this.data[o+1]=c.green,this.data[o+2]=c.red,this.data[o+3]=255,2*r+1>=this.width)break;c=this.palette[l],this.data[o+4]=c.blue,this.data[o+4+1]=c.green,this.data[o+4+2]=c.red,this.data[o+4+3]=255}e!==0&&(this.pos+=4-e)}},kr.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,i=0;i<this.width;i++){var r=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+4*i;if(r<this.palette.length){var o=this.palette[r];this.data[s]=o.red,this.data[s+1]=o.green,this.data[s+2]=o.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}t!==0&&(this.pos+=4-t)}},kr.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,r=0;r<this.width;r++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&e)/e*255|0,a=(s>>5&e)/e*255|0,l=(s>>10&e)/e*255|0,c=s>>15?255:0,h=i*this.width*4+4*r;this.data[h]=l,this.data[h+1]=a,this.data[h+2]=o,this.data[h+3]=c}this.pos+=t}},kr.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),n=parseInt("111111",2),i=this.height-1;i>=0;i--){for(var r=this.bottom_up?i:this.height-1-i,s=0;s<this.width;s++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(o&e)/e*255|0,l=(o>>5&n)/n*255|0,c=(o>>11)/e*255|0,h=r*this.width*4+4*s;this.data[h]=c,this.data[h+1]=l,this.data[h+2]=a,this.data[h+3]=255}this.pos+=t}},kr.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*n;this.data[o]=s,this.data[o+1]=r,this.data[o+2]=i,this.data[o+3]=255}this.pos+=this.width%4}},kr.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*n;this.data[a]=s,this.data[a+1]=r,this.data[a+2]=i,this.data[a+3]=o}},kr.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,n,i,r){var s=new kr(e,!1),o=s.width,a=s.height,l={data:s.getData(),width:o,height:a},c=new p1(100).encode(l,100);return t.processJPEG.call(this,c,n,i,r)}}($e.API),Mx.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,n,i,r){var s=new Mx(e),o=s.width,a=s.height,l={data:s.getData(),width:o,height:a},c=new p1(100).encode(l,100);return t.processJPEG.call(this,c,n,i,r)}}($e.API),$e.API.processRGBA=function(t,e,n){for(var i=t.data,r=i.length,s=new Uint8Array(r/4*3),o=new Uint8Array(r/4),a=0,l=0,c=0;c<r;c+=4){var h=i[c],f=i[c+1],d=i[c+2],p=i[c+3];s[a++]=h,s[a++]=f,s[a++]=d,o[l++]=p}var w=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:w,index:e,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},$e.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Gl=$e.API,rp=Gl.getCharWidthsArray=function(t,e){var n,i,r=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),o=e.charSpace||this.internal.getCharSpace(),a=e.widths?e.widths:r.metadata.Unicode.widths,l=a.fof?a.fof:1,c=e.kerning?e.kerning:r.metadata.Unicode.kerning,h=c.fof?c.fof:1,f=e.doKerning!==!1,d=0,p=t.length,w=0,y=a[0]||l,S=[];for(n=0;n<p;n++)i=t.charCodeAt(n),typeof r.metadata.widthOfString=="function"?S.push((r.metadata.widthOfGlyph(r.metadata.characterToGlyph(i))+o*(1e3/s)||0)/1e3):(d=f&&Pt(c[i])==="object"&&!isNaN(parseInt(c[i][w],10))?c[i][w]/h:0,S.push((a[i]||y)/l+d)),w=i;return S},Lx=Gl.getStringUnitWidth=function(t,e){var n=(e=e||{}).fontSize||this.internal.getFontSize(),i=e.font||this.internal.getFont(),r=e.charSpace||this.internal.getCharSpace();return Gl.processArabic&&(t=Gl.processArabic(t)),typeof i.metadata.widthOfString=="function"?i.metadata.widthOfString(t,n,r)/n:rp.apply(this,arguments).reduce(function(s,o){return s+o},0)},Tx=function(t,e,n,i){for(var r=[],s=0,o=t.length,a=0;s!==o&&a+e[s]<n;)a+=e[s],s++;r.push(t.slice(0,s));var l=s;for(a=0;s!==o;)a+e[s]>i&&(r.push(t.slice(l,s)),a=0,l=s),a+=e[s],s++;return l!==s&&r.push(t.slice(l,s)),r},Rx=function(t,e,n){n||(n={});var i,r,s,o,a,l,c,h=[],f=[h],d=n.textIndent||0,p=0,w=0,y=t.split(" "),S=rp.apply(this,[" ",n])[0];if(l=n.lineIndent===-1?y[0].length+2:n.lineIndent||0){var m=Array(l).join(" "),_=[];y.map(function(N){(N=N.split(/\s*\n/)).length>1?_=_.concat(N.map(function(k,O){return(O&&k.length?`
`:"")+k})):_.push(N[0])}),y=_,l=Lx.apply(this,[m,n])}for(s=0,o=y.length;s<o;s++){var x=0;if(i=y[s],l&&i[0]==`
`&&(i=i.substr(1),x=1),d+p+(w=(r=rp.apply(this,[i,n])).reduce(function(N,k){return N+k},0))>e||x){if(w>e){for(a=Tx.apply(this,[i,r,e-(d+p),e]),h.push(a.shift()),h=[a.pop()];a.length;)f.push([a.shift()]);w=r.slice(i.length-(h[0]?h[0].length:0)).reduce(function(N,k){return N+k},0)}else h=[i];f.push(h),d=w+l,p=S}else h.push(i),d+=p+w,p=S}return c=l?function(N,k){return(k?m:"")+N.join(" ")}:function(N){return N.join(" ")},f.map(c)},Gl.splitTextToSize=function(t,e,n){var i,r=(n=n||{}).fontSize||this.internal.getFontSize(),s=(function(h){if(h.widths&&h.kerning)return{widths:h.widths,kerning:h.kerning};var f=this.internal.getFont(h.fontName,h.fontStyle);return f.metadata.Unicode?{widths:f.metadata.Unicode.widths||{0:1},kerning:f.metadata.Unicode.kerning||{}}:{font:f.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);i=Array.isArray(t)?t:String(t).split(/\r?\n/);var o=1*this.internal.scaleFactor*e/r;s.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/r:0,s.lineIndent=n.lineIndent;var a,l,c=[];for(a=0,l=i.length;a<l;a++)c=c.concat(Rx.apply(this,[i[a],o,s]));return c},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",n={},i={},r=0;r<e.length;r++)n[e[r]]="0123456789abcdef"[r],i["0123456789abcdef"[r]]=e[r];var s=function(f){return"0x"+parseInt(f,10).toString(16)},o=t.__fontmetrics__.compress=function(f){var d,p,w,y,S=["{"];for(var m in f){if(d=f[m],isNaN(parseInt(m,10))?p="'"+m+"'":(m=parseInt(m,10),p=(p=s(m).slice(2)).slice(0,-1)+i[p.slice(-1)]),typeof d=="number")d<0?(w=s(d).slice(3),y="-"):(w=s(d).slice(2),y=""),w=y+w.slice(0,-1)+i[w.slice(-1)];else{if(Pt(d)!=="object")throw new Error("Don't know what to do with value type "+Pt(d)+".");w=o(d)}S.push(p+w)}return S.push("}"),S.join("")},a=t.__fontmetrics__.uncompress=function(f){if(typeof f!="string")throw new Error("Invalid argument passed to uncompress.");for(var d,p,w,y,S={},m=1,_=S,x=[],N="",k="",O=f.length-1,I=1;I<O;I+=1)(y=f[I])=="'"?d?(w=d.join(""),d=void 0):d=[]:d?d.push(y):y=="{"?(x.push([_,w]),_={},w=void 0):y=="}"?((p=x.pop())[0][p[1]]=_,w=void 0,_=p[0]):y=="-"?m=-1:w===void 0?n.hasOwnProperty(y)?(N+=n[y],w=parseInt(N,16)*m,m=1,N=""):N+=y:n.hasOwnProperty(y)?(k+=n[y],_[w]=parseInt(k,16)*m,m=1,w=void 0,k=""):k+=y;return S},l={codePages:["WinAnsiEncoding"],WinAnsiEncoding:a("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},c={Unicode:{Courier:l,"Courier-Bold":l,"Courier-BoldOblique":l,"Courier-Oblique":l,Helvetica:l,"Helvetica-Bold":l,"Helvetica-BoldOblique":l,"Helvetica-Oblique":l,"Times-Roman":l,"Times-Bold":l,"Times-BoldItalic":l,"Times-Italic":l}},h={Unicode:{"Courier-Oblique":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":a("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":a("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":a("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:a("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:a("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":a("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:a("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":a("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":a("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":a("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(f){var d=f.font,p=h.Unicode[d.postScriptName];p&&(d.metadata.Unicode={},d.metadata.Unicode.widths=p.widths,d.metadata.Unicode.kerning=p.kerning);var w=c.Unicode[d.postScriptName];w&&(d.metadata.Unicode.encoding=w,d.encoding=w.codePages[0])}])}($e.API),function(t){var e=function(n){for(var i=n.length,r=new Uint8Array(i),s=0;s<i;s++)r[s]=n.charCodeAt(s);return r};t.API.events.push(["addFont",function(n){var i=void 0,r=n.font,s=n.instance;if(!r.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+r.postScriptName+"').");if(typeof(i=s.existsFileInVFS(r.postScriptName)===!1?s.loadFile(r.postScriptName):s.getFileFromVFS(r.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+r.postScriptName+"').");(function(o,a){a=/^\x00\x01\x00\x00/.test(a)?e(a):e(Sh(a)),o.metadata=t.API.TTFFont.open(a),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(r,i)}}])}($e),function(t){function e(){return(Ke.canvg?Promise.resolve(Ke.canvg):Uv(()=>import("./index.es-KkxPiJSd.js"),[])).catch(function(n){return Promise.reject(new Error("Could not load canvg: "+n))}).then(function(n){return n.default?n.default:n})}$e.API.addSvgAsImage=function(n,i,r,s,o,a,l,c){if(isNaN(i)||isNaN(r))throw Dt.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(s)||isNaN(o))throw Dt.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var h=document.createElement("canvas");h.width=s,h.height=o;var f=h.getContext("2d");f.fillStyle="#fff",f.fillRect(0,0,h.width,h.height);var d={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},p=this;return e().then(function(w){return w.fromString(f,n,d)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(w){return w.render(d)}).then(function(){p.addImage(h.toDataURL("image/jpeg",1),i,r,s,o,l,c)})}}(),$e.API.putTotalPages=function(t){var e,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),n=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var i=1;i<=this.internal.getNumberOfPages();i++)for(var r=0;r<this.internal.pages[i].length;r++)this.internal.pages[i][r]=this.internal.pages[i][r].replace(e,n);return this},$e.API.viewerPreferences=function(t,e){var n;t=t||{},e=e||!1;var i,r,s,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},a=Object.keys(o),l=[],c=0,h=0,f=0;function d(w,y){var S,m=!1;for(S=0;S<w.length;S+=1)w[S]===y&&(m=!0);return m}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var p=a.length;for(f=0;f<p;f+=1)n[a[f]].value=n[a[f]].defaultValue,n[a[f]].explicitSet=!1}if(Pt(t)==="object"){for(r in t)if(s=t[r],d(a,r)&&s!==void 0){if(n[r].type==="boolean"&&typeof s=="boolean")n[r].value=s;else if(n[r].type==="name"&&d(n[r].valueSet,s))n[r].value=s;else if(n[r].type==="integer"&&Number.isInteger(s))n[r].value=s;else if(n[r].type==="array"){for(c=0;c<s.length;c+=1)if(i=!0,s[c].length===1&&typeof s[c][0]=="number")l.push(String(s[c]-1));else if(s[c].length>1){for(h=0;h<s[c].length;h+=1)typeof s[c][h]!="number"&&(i=!1);i===!0&&l.push([s[c][0]-1,s[c][1]-1].join(" "))}n[r].value="["+l.join(" ")+"]"}else n[r].value=n[r].defaultValue;n[r].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var w,y=[];for(w in n)n[w].explicitSet===!0&&(n[w].type==="name"?y.push("/"+w+" /"+n[w].value):y.push("/"+w+" "+n[w].value));y.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+y.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(t){var e=function(){var i='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',r=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(i)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),a=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),c=s.length+o.length+a.length+r.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+c+" >>"),this.internal.write("stream"),this.internal.write(r+s+o+a+l),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(i,r){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:i,namespaceuri:r||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",e)),this}}($e.API),function(t){var e=t.API,n=e.pdfEscape16=function(s,o){for(var a,l=o.metadata.Unicode.widths,c=["","0","00","000","0000"],h=[""],f=0,d=s.length;f<d;++f){if(a=o.metadata.characterToGlyph(s.charCodeAt(f)),o.metadata.glyIdsUsed.push(a),o.metadata.toUnicode[a]=s.charCodeAt(f),l.indexOf(a)==-1&&(l.push(a),l.push([parseInt(o.metadata.widthOfGlyph(a),10)])),a=="0")return h.join("");a=a.toString(16),h.push(c[4-a.length],a)}return h.join("")},i=function(s){var o,a,l,c,h,f,d;for(h=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],f=0,d=(a=Object.keys(s).sort(function(p,w){return p-w})).length;f<d;f++)o=a[f],l.length>=100&&(h+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),s[o]!==void 0&&s[o]!==null&&typeof s[o].toString=="function"&&(c=("0000"+s[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),l.push("<"+o+"><"+c+">"));return l.length&&(h+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),h+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(s){(function(o){var a=o.font,l=o.out,c=o.newObject,h=o.putStream;if(a.metadata instanceof t.API.TTFFont&&a.encoding==="Identity-H"){for(var f=a.metadata.Unicode.widths,d=a.metadata.subset.encode(a.metadata.glyIdsUsed,1),p="",w=0;w<d.length;w++)p+=String.fromCharCode(d[w]);var y=c();h({data:p,addLength1:!0,objectId:y}),l("endobj");var S=c();h({data:i(a.metadata.toUnicode),addLength1:!0,objectId:S}),l("endobj");var m=c();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+Kl(a.fontName)),l("/FontFile2 "+y+" 0 R"),l("/FontBBox "+t.API.PDFObject.convert(a.metadata.bbox)),l("/Flags "+a.metadata.flags),l("/StemV "+a.metadata.stemV),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l(">>"),l("endobj");var _=c();l("<<"),l("/Type /Font"),l("/BaseFont /"+Kl(a.fontName)),l("/FontDescriptor "+m+" 0 R"),l("/W "+t.API.PDFObject.convert(f)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+a.encoding+")"),l(">>"),l(">>"),l("endobj"),a.objectNumber=c(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+S+" 0 R"),l("/BaseFont /"+Kl(a.fontName)),l("/Encoding /"+a.encoding),l("/DescendantFonts ["+_+" 0 R]"),l(">>"),l("endobj"),a.isAlreadyPutted=!0}})(s)}]),e.events.push(["putFont",function(s){(function(o){var a=o.font,l=o.out,c=o.newObject,h=o.putStream;if(a.metadata instanceof t.API.TTFFont&&a.encoding==="WinAnsiEncoding"){for(var f=a.metadata.rawData,d="",p=0;p<f.length;p++)d+=String.fromCharCode(f[p]);var w=c();h({data:d,addLength1:!0,objectId:w}),l("endobj");var y=c();h({data:i(a.metadata.toUnicode),addLength1:!0,objectId:y}),l("endobj");var S=c();l("<<"),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l("/StemV "+a.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+w+" 0 R"),l("/Flags 96"),l("/FontBBox "+t.API.PDFObject.convert(a.metadata.bbox)),l("/FontName /"+Kl(a.fontName)),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l(">>"),l("endobj"),a.objectNumber=c();for(var m=0;m<a.metadata.hmtx.widths.length;m++)a.metadata.hmtx.widths[m]=parseInt(a.metadata.hmtx.widths[m]*(1e3/a.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+y+" 0 R/BaseFont/"+Kl(a.fontName)+"/FontDescriptor "+S+" 0 R/Encoding/"+a.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(a.metadata.hmtx.widths)+">>"),l("endobj"),a.isAlreadyPutted=!0}})(s)}]);var r=function(s){var o,a=s.text||"",l=s.x,c=s.y,h=s.options||{},f=s.mutex||{},d=f.pdfEscape,p=f.activeFontKey,w=f.fonts,y=p,S="",m=0,_="",x=w[y].encoding;if(w[y].encoding!=="Identity-H")return{text:a,x:l,y:c,options:h,mutex:f};for(_=a,y=p,Array.isArray(a)&&(_=a[0]),m=0;m<_.length;m+=1)w[y].metadata.hasOwnProperty("cmap")&&(o=w[y].metadata.cmap.unicode.codeMap[_[m].charCodeAt(0)]),o||_[m].charCodeAt(0)<256&&w[y].metadata.hasOwnProperty("Unicode")?S+=_[m]:S+="";var N="";return parseInt(y.slice(1))<14||x==="WinAnsiEncoding"?N=d(S,y).split("").map(function(k){return k.charCodeAt(0).toString(16)}).join(""):x==="Identity-H"&&(N=n(S,w[y])),f.isHex=!0,{text:N,x:l,y:c,options:h,mutex:f}};e.events.push(["postProcessText",function(s){var o=s.text||"",a=[],l={text:o,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(o)){var c=0;for(c=0;c<o.length;c+=1)Array.isArray(o[c])&&o[c].length===3?a.push([r(Object.assign({},l,{text:o[c][0]})).text,o[c][1],o[c][2]]):a.push(r(Object.assign({},l,{text:o[c]})).text);s.text=a}else s.text=r(Object.assign({},l,{text:o})).text}])}($e),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0},t.addFileToVFS=function(n,i){return e.call(this),this.internal.vFS[n]=i,this},t.getFileFromVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}}($e.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(i){var r,s,o,a,l,c,h,f=e,d=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],p=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],w={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},y={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},S=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],m=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),_=!1,x=0;this.__bidiEngine__={};var N=function(E){var P=E.charCodeAt(),K=P>>8,D=y[K];return D!==void 0?f[256*D+(255&P)]:K===252||K===253?"AL":m.test(K)?"L":K===8?"R":"N"},k=function(E){for(var P,K=0;K<E.length;K++){if((P=N(E.charAt(K)))==="L")return!1;if(P==="R")return!0}return!1},O=function(E,P,K,D){var Q,H,$,B,G=P[D];switch(G){case"L":case"R":_=!1;break;case"N":case"AN":break;case"EN":_&&(G="AN");break;case"AL":_=!0,G="R";break;case"WS":G="N";break;case"CS":D<1||D+1>=P.length||(Q=K[D-1])!=="EN"&&Q!=="AN"||(H=P[D+1])!=="EN"&&H!=="AN"?G="N":_&&(H="AN"),G=H===Q?H:"N";break;case"ES":G=(Q=D>0?K[D-1]:"B")==="EN"&&D+1<P.length&&P[D+1]==="EN"?"EN":"N";break;case"ET":if(D>0&&K[D-1]==="EN"){G="EN";break}if(_){G="N";break}for($=D+1,B=P.length;$<B&&P[$]==="ET";)$++;G=$<B&&P[$]==="EN"?"EN":"N";break;case"NSM":if(o&&!a){for(B=P.length,$=D+1;$<B&&P[$]==="NSM";)$++;if($<B){var ie=E[D],ue=ie>=1425&&ie<=2303||ie===64286;if(Q=P[$],ue&&(Q==="R"||Q==="AL")){G="R";break}}}G=D<1||(Q=P[D-1])==="B"?"N":K[D-1];break;case"B":_=!1,r=!0,G=x;break;case"S":s=!0,G="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":_=!1;break;case"BN":G="N"}return G},I=function(E,P,K){var D=E.split("");return K&&A(D,K,{hiLevel:x}),D.reverse(),P&&P.reverse(),D.join("")},A=function(E,P,K){var D,Q,H,$,B,G=-1,ie=E.length,ue=0,L=[],q=x?p:d,Y=[];for(_=!1,r=!1,s=!1,Q=0;Q<ie;Q++)Y[Q]=N(E[Q]);for(H=0;H<ie;H++){if(B=ue,L[H]=O(E,Y,L,H),D=240&(ue=q[B][w[L[H]]]),ue&=15,P[H]=$=q[ue][5],D>0)if(D===16){for(Q=G;Q<H;Q++)P[Q]=1;G=-1}else G=-1;if(q[ue][6])G===-1&&(G=H);else if(G>-1){for(Q=G;Q<H;Q++)P[Q]=$;G=-1}Y[H]==="B"&&(P[H]=0),K.hiLevel|=$}s&&function(J,j,ne){for(var re=0;re<ne;re++)if(J[re]==="S"){j[re]=x;for(var le=re-1;le>=0&&J[le]==="WS";le--)j[le]=x}}(Y,P,ie)},U=function(E,P,K,D,Q){if(!(Q.hiLevel<E)){if(E===1&&x===1&&!r)return P.reverse(),void(K&&K.reverse());for(var H,$,B,G,ie=P.length,ue=0;ue<ie;){if(D[ue]>=E){for(B=ue+1;B<ie&&D[B]>=E;)B++;for(G=ue,$=B-1;G<$;G++,$--)H=P[G],P[G]=P[$],P[$]=H,K&&(H=K[G],K[G]=K[$],K[$]=H);ue=B}ue++}}},W=function(E,P,K){var D=E.split(""),Q={hiLevel:x};return K||(K=[]),A(D,K,Q),function(H,$,B){if(B.hiLevel!==0&&h)for(var G,ie=0;ie<H.length;ie++)$[ie]===1&&(G=S.indexOf(H[ie]))>=0&&(H[ie]=S[G+1])}(D,K,Q),U(2,D,P,K,Q),U(1,D,P,K,Q),D.join("")};return this.__bidiEngine__.doBidiReorder=function(E,P,K){if(function(Q,H){if(H)for(var $=0;$<Q.length;$++)H[$]=$;a===void 0&&(a=k(Q)),c===void 0&&(c=k(Q))}(E,P),o||!l||c)if(o&&l&&a^c)x=a?1:0,E=I(E,P,K);else if(!o&&l&&c)x=a?1:0,E=W(E,P,K),E=I(E,P);else if(!o||a||l||c){if(o&&!l&&a^c)E=I(E,P),a?(x=0,E=W(E,P,K)):(x=1,E=W(E,P,K),E=I(E,P));else if(o&&a&&!l&&c)x=1,E=W(E,P,K),E=I(E,P);else if(!o&&!l&&a^c){var D=h;a?(x=1,E=W(E,P,K),x=0,h=!1,E=W(E,P,K),h=D):(x=0,E=W(E,P,K),E=I(E,P),x=1,h=!1,E=W(E,P,K),h=D,E=I(E,P))}}else x=0,E=W(E,P,K);else x=a?1:0,E=W(E,P,K);return E},this.__bidiEngine__.setOptions=function(E){E&&(o=E.isInputVisual,l=E.isOutputVisual,a=E.isInputRtl,c=E.isOutputRtl,h=E.isSymmetricSwapping)},this.__bidiEngine__.setOptions(i),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(i){var r=i.text,s=(i.x,i.y,i.options||{}),o=(i.mutex,s.lang,[]);if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,n.setOptions(s),Object.prototype.toString.call(r)==="[object Array]"){var a=0;for(o=[],a=0;a<r.length;a+=1)Object.prototype.toString.call(r[a])==="[object Array]"?o.push([n.doBidiReorder(r[a][0]),r[a][1],r[a][2]]):o.push([n.doBidiReorder(r[a])]);i.text=o}else i.text=n.doBidiReorder(r);n.setOptions({isInputVisual:!0})}])}($e),$e.API.TTFFont=function(){function t(e){var n;if(this.rawData=e,n=this.contents=new aa(e),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new N9(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new u9(this.contents),this.head=new f9(this),this.name=new v9(this),this.cmap=new Ek(this),this.toUnicode={},this.hhea=new d9(this),this.maxp=new y9(this),this.hmtx=new _9(this),this.post=new g9(this),this.os2=new p9(this),this.loca=new S9(this),this.glyf=new w9(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,n,i,r,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,a,l,c;for(c=[],o=0,a=(l=this.bbox).length;o<a;o++)e=l[o],c.push(Math.round(e*this.scaleFactor));return c}).call(this),this.stemV=0,this.post.exists?(i=255&(r=this.post.italic_angle),32768&(n=r>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+i)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var n;return((n=this.cmap.unicode)!=null?n.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*n},t.prototype.widthOfString=function(e,n,i){var r,s,o,a;for(o=0,s=0,a=(e=""+e).length;0<=a?s<a:s>a;s=0<=a?++s:--s)r=e.charCodeAt(s),o+=this.widthOfGlyph(this.characterToGlyph(r))+i*(1e3/n)||0;return o*(n/1e3)},t.prototype.lineHeight=function(e,n){var i;return n==null&&(n=!1),i=n?this.lineGap:0,(this.ascender+i-this.decender)/1e3*e},t}();var zr,aa=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var n,i;for(i=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)i[n]=String.fromCharCode(this.readByte());return i.join("")},t.prototype.writeString=function(e){var n,i,r;for(r=[],n=0,i=e.length;0<=i?n<i:n>i;n=0<=i?++n:--n)r.push(this.writeByte(e.charCodeAt(n)));return r},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,n,i,r,s,o,a,l;return e=this.readByte(),n=this.readByte(),i=this.readByte(),r=this.readByte(),s=this.readByte(),o=this.readByte(),a=this.readByte(),l=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^n)+1099511627776*(255^i)+4294967296*(255^r)+16777216*(255^s)+65536*(255^o)+256*(255^a)+(255^l)+1):72057594037927940*e+281474976710656*n+1099511627776*i+4294967296*r+16777216*s+65536*o+256*a+l},t.prototype.writeLongLong=function(e){var n,i;return n=Math.floor(e/4294967296),i=4294967295&e,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(i>>24&255),this.writeByte(i>>16&255),this.writeByte(i>>8&255),this.writeByte(255&i)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var n,i;for(n=[],i=0;0<=e?i<e:i>e;i=0<=e?++i:--i)n.push(this.readByte());return n},t.prototype.write=function(e){var n,i,r,s;for(s=[],i=0,r=e.length;i<r;i++)n=e[i],s.push(this.writeByte(n));return s},t}(),u9=function(){var t;function e(n){var i,r,s;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},r=0,s=this.tableCount;0<=s?r<s:r>s;r=0<=s?++r:--r)i={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[i.tag]=i}return e.prototype.encode=function(n){var i,r,s,o,a,l,c,h,f,d,p,w,y;for(y in p=Object.keys(n).length,l=Math.log(2),f=16*Math.floor(Math.log(p)/l),o=Math.floor(f/l),h=16*p-f,(r=new aa).writeInt(this.scalarType),r.writeShort(p),r.writeShort(f),r.writeShort(o),r.writeShort(h),s=16*p,c=r.pos+s,a=null,w=[],n)for(d=n[y],r.writeString(y),r.writeInt(t(d)),r.writeInt(c),r.writeInt(d.length),w=w.concat(d),y==="head"&&(a=c),c+=d.length;c%4;)w.push(0),c++;return r.write(w),i=2981146554-t(r.data),r.pos=a+8,r.writeUInt32(i),r.data},t=function(n){var i,r,s,o;for(n=Pk.call(n);n.length%4;)n.push(0);for(s=new aa(n),r=0,i=0,o=n.length;i<o;i=i+=4)r+=s.readUInt32();return 4294967295&r},e}(),h9={}.hasOwnProperty,fs=function(t,e){for(var n in e)h9.call(e,n)&&(t[n]=e[n]);function i(){this.constructor=t}return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t};zr=function(){function t(e){var n;this.file=e,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var f9=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return fs(e,zr),e.prototype.tag="head",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.revision=n.readInt(),this.checkSumAdjustment=n.readInt(),this.magicNumber=n.readInt(),this.flags=n.readShort(),this.unitsPerEm=n.readShort(),this.created=n.readLongLong(),this.modified=n.readLongLong(),this.xMin=n.readShort(),this.yMin=n.readShort(),this.xMax=n.readShort(),this.yMax=n.readShort(),this.macStyle=n.readShort(),this.lowestRecPPEM=n.readShort(),this.fontDirectionHint=n.readShort(),this.indexToLocFormat=n.readShort(),this.glyphDataFormat=n.readShort()},e.prototype.encode=function(n){var i;return(i=new aa).writeInt(this.version),i.writeInt(this.revision),i.writeInt(this.checkSumAdjustment),i.writeInt(this.magicNumber),i.writeShort(this.flags),i.writeShort(this.unitsPerEm),i.writeLongLong(this.created),i.writeLongLong(this.modified),i.writeShort(this.xMin),i.writeShort(this.yMin),i.writeShort(this.xMax),i.writeShort(this.yMax),i.writeShort(this.macStyle),i.writeShort(this.lowestRecPPEM),i.writeShort(this.fontDirectionHint),i.writeShort(n),i.writeShort(this.glyphDataFormat),i.data},e}(),Dx=function(){function t(e,n){var i,r,s,o,a,l,c,h,f,d,p,w,y,S,m,_,x;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=n+e.readInt(),f=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=e.readByte();break;case 4:for(p=e.readUInt16(),d=p/2,e.pos+=6,s=function(){var N,k;for(k=[],l=N=0;0<=d?N<d:N>d;l=0<=d?++N:--N)k.push(e.readUInt16());return k}(),e.pos+=2,y=function(){var N,k;for(k=[],l=N=0;0<=d?N<d:N>d;l=0<=d?++N:--N)k.push(e.readUInt16());return k}(),c=function(){var N,k;for(k=[],l=N=0;0<=d?N<d:N>d;l=0<=d?++N:--N)k.push(e.readUInt16());return k}(),h=function(){var N,k;for(k=[],l=N=0;0<=d?N<d:N>d;l=0<=d?++N:--N)k.push(e.readUInt16());return k}(),r=(this.length-e.pos+this.offset)/2,a=function(){var N,k;for(k=[],l=N=0;0<=r?N<r:N>r;l=0<=r?++N:--N)k.push(e.readUInt16());return k}(),l=m=0,x=s.length;m<x;l=++m)for(S=s[l],i=_=w=y[l];w<=S?_<=S:_>=S;i=w<=S?++_:--_)h[l]===0?o=i+c[l]:(o=a[h[l]/2+(i-w)-(d-l)]||0)!==0&&(o+=c[l]),this.codeMap[i]=65535&o}e.pos=f}return t.encode=function(e,n){var i,r,s,o,a,l,c,h,f,d,p,w,y,S,m,_,x,N,k,O,I,A,U,W,E,P,K,D,Q,H,$,B,G,ie,ue,L,q,Y,J,j,ne,re,le,ye,me,Ce;switch(D=new aa,o=Object.keys(e).sort(function(Pe,Be){return Pe-Be}),n){case"macroman":for(y=0,S=function(){var Pe=[];for(w=0;w<256;++w)Pe.push(0);return Pe}(),_={0:0},s={},Q=0,G=o.length;Q<G;Q++)_[le=e[r=o[Q]]]==null&&(_[le]=++y),s[r]={old:e[r],new:_[e[r]]},S[r]=_[e[r]];return D.writeUInt16(1),D.writeUInt16(0),D.writeUInt32(12),D.writeUInt16(0),D.writeUInt16(262),D.writeUInt16(0),D.write(S),{charMap:s,subtable:D.data,maxGlyphID:y+1};case"unicode":for(P=[],f=[],x=0,_={},i={},m=c=null,H=0,ie=o.length;H<ie;H++)_[k=e[r=o[H]]]==null&&(_[k]=++x),i[r]={old:k,new:_[k]},a=_[k]-r,m!=null&&a===c||(m&&f.push(m),P.push(r),c=a),m=r;for(m&&f.push(m),f.push(65535),P.push(65535),W=2*(U=P.length),A=2*Math.pow(Math.log(U)/Math.LN2,2),d=Math.log(A/2)/Math.LN2,I=2*U-A,l=[],O=[],p=[],w=$=0,ue=P.length;$<ue;w=++$){if(E=P[w],h=f[w],E===65535){l.push(0),O.push(0);break}if(E-(K=i[E].new)>=32768)for(l.push(0),O.push(2*(p.length+U-w)),r=B=E;E<=h?B<=h:B>=h;r=E<=h?++B:--B)p.push(i[r].new);else l.push(K-E),O.push(0)}for(D.writeUInt16(3),D.writeUInt16(1),D.writeUInt32(12),D.writeUInt16(4),D.writeUInt16(16+8*U+2*p.length),D.writeUInt16(0),D.writeUInt16(W),D.writeUInt16(A),D.writeUInt16(d),D.writeUInt16(I),ne=0,L=f.length;ne<L;ne++)r=f[ne],D.writeUInt16(r);for(D.writeUInt16(0),re=0,q=P.length;re<q;re++)r=P[re],D.writeUInt16(r);for(ye=0,Y=l.length;ye<Y;ye++)a=l[ye],D.writeUInt16(a);for(me=0,J=O.length;me<J;me++)N=O[me],D.writeUInt16(N);for(Ce=0,j=p.length;Ce<j;Ce++)y=p[Ce],D.writeUInt16(y);return{charMap:i,subtable:D.data,maxGlyphID:x+1}}},t}(),Ek=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return fs(e,zr),e.prototype.tag="cmap",e.prototype.parse=function(n){var i,r,s;for(n.pos=this.offset,this.version=n.readUInt16(),s=n.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=s?r<s:r>s;r=0<=s?++r:--r)i=new Dx(n,this.offset),this.tables.push(i),i.isUnicode&&this.unicode==null&&(this.unicode=i);return!0},e.encode=function(n,i){var r,s;return i==null&&(i="macroman"),r=Dx.encode(n,i),(s=new aa).writeUInt16(0),s.writeUInt16(1),r.table=s.data.concat(r.subtable),r},e}(),d9=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return fs(e,zr),e.prototype.tag="hhea",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.ascender=n.readShort(),this.decender=n.readShort(),this.lineGap=n.readShort(),this.advanceWidthMax=n.readShort(),this.minLeftSideBearing=n.readShort(),this.minRightSideBearing=n.readShort(),this.xMaxExtent=n.readShort(),this.caretSlopeRise=n.readShort(),this.caretSlopeRun=n.readShort(),this.caretOffset=n.readShort(),n.pos+=8,this.metricDataFormat=n.readShort(),this.numberOfMetrics=n.readUInt16()},e}(),p9=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return fs(e,zr),e.prototype.tag="OS/2",e.prototype.parse=function(n){if(n.pos=this.offset,this.version=n.readUInt16(),this.averageCharWidth=n.readShort(),this.weightClass=n.readUInt16(),this.widthClass=n.readUInt16(),this.type=n.readShort(),this.ySubscriptXSize=n.readShort(),this.ySubscriptYSize=n.readShort(),this.ySubscriptXOffset=n.readShort(),this.ySubscriptYOffset=n.readShort(),this.ySuperscriptXSize=n.readShort(),this.ySuperscriptYSize=n.readShort(),this.ySuperscriptXOffset=n.readShort(),this.ySuperscriptYOffset=n.readShort(),this.yStrikeoutSize=n.readShort(),this.yStrikeoutPosition=n.readShort(),this.familyClass=n.readShort(),this.panose=function(){var i,r;for(r=[],i=0;i<10;++i)r.push(n.readByte());return r}(),this.charRange=function(){var i,r;for(r=[],i=0;i<4;++i)r.push(n.readInt());return r}(),this.vendorID=n.readString(4),this.selection=n.readShort(),this.firstCharIndex=n.readShort(),this.lastCharIndex=n.readShort(),this.version>0&&(this.ascent=n.readShort(),this.descent=n.readShort(),this.lineGap=n.readShort(),this.winAscent=n.readShort(),this.winDescent=n.readShort(),this.codePageRange=function(){var i,r;for(r=[],i=0;i<2;i=++i)r.push(n.readInt());return r}(),this.version>1))return this.xHeight=n.readShort(),this.capHeight=n.readShort(),this.defaultChar=n.readShort(),this.breakChar=n.readShort(),this.maxContext=n.readShort()},e}(),g9=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return fs(e,zr),e.prototype.tag="post",e.prototype.parse=function(n){var i,r,s;switch(n.pos=this.offset,this.format=n.readInt(),this.italicAngle=n.readInt(),this.underlinePosition=n.readShort(),this.underlineThickness=n.readShort(),this.isFixedPitch=n.readInt(),this.minMemType42=n.readInt(),this.maxMemType42=n.readInt(),this.minMemType1=n.readInt(),this.maxMemType1=n.readInt(),this.format){case 65536:break;case 131072:var o;for(r=n.readUInt16(),this.glyphNameIndex=[],o=0;0<=r?o<r:o>r;o=0<=r?++o:--o)this.glyphNameIndex.push(n.readUInt16());for(this.names=[],s=[];n.pos<this.offset+this.length;)i=n.readByte(),s.push(this.names.push(n.readString(i)));return s;case 151552:return r=n.readUInt16(),this.offsets=n.read(r);case 196608:break;case 262144:return this.map=(function(){var a,l,c;for(c=[],o=a=0,l=this.file.maxp.numGlyphs;0<=l?a<l:a>l;o=0<=l?++a:--a)c.push(n.readUInt32());return c}).call(this)}},e}(),m9=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},v9=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return fs(e,zr),e.prototype.tag="name",e.prototype.parse=function(n){var i,r,s,o,a,l,c,h,f,d,p;for(n.pos=this.offset,n.readShort(),i=n.readShort(),l=n.readShort(),r=[],o=0;0<=i?o<i:o>i;o=0<=i?++o:--o)r.push({platformID:n.readShort(),encodingID:n.readShort(),languageID:n.readShort(),nameID:n.readShort(),length:n.readShort(),offset:this.offset+l+n.readShort()});for(c={},o=f=0,d=r.length;f<d;o=++f)s=r[o],n.pos=s.offset,h=n.readString(s.length),a=new m9(h,s),c[p=s.nameID]==null&&(c[p]=[]),c[s.nameID].push(a);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},e}(),y9=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return fs(e,zr),e.prototype.tag="maxp",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.numGlyphs=n.readUInt16(),this.maxPoints=n.readUInt16(),this.maxContours=n.readUInt16(),this.maxCompositePoints=n.readUInt16(),this.maxComponentContours=n.readUInt16(),this.maxZones=n.readUInt16(),this.maxTwilightPoints=n.readUInt16(),this.maxStorage=n.readUInt16(),this.maxFunctionDefs=n.readUInt16(),this.maxInstructionDefs=n.readUInt16(),this.maxStackElements=n.readUInt16(),this.maxSizeOfInstructions=n.readUInt16(),this.maxComponentElements=n.readUInt16(),this.maxComponentDepth=n.readUInt16()},e}(),_9=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return fs(e,zr),e.prototype.tag="hmtx",e.prototype.parse=function(n){var i,r,s,o,a,l,c;for(n.pos=this.offset,this.metrics=[],i=0,l=this.file.hhea.numberOfMetrics;0<=l?i<l:i>l;i=0<=l?++i:--i)this.metrics.push({advance:n.readUInt16(),lsb:n.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var h,f;for(f=[],i=h=0;0<=s?h<s:h>s;i=0<=s?++h:--h)f.push(n.readInt16());return f}(),this.widths=(function(){var h,f,d,p;for(p=[],h=0,f=(d=this.metrics).length;h<f;h++)o=d[h],p.push(o.advance);return p}).call(this),r=this.widths[this.widths.length-1],c=[],i=a=0;0<=s?a<s:a>s;i=0<=s?++a:--a)c.push(this.widths.push(r));return c},e.prototype.forGlyph=function(n){return n in this.metrics?this.metrics[n]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[n-this.metrics.length]}},e}(),Pk=[].slice,w9=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return fs(e,zr),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(n){var i,r,s,o,a,l,c,h,f,d;return n in this.cache?this.cache[n]:(o=this.file.loca,i=this.file.contents,r=o.indexOf(n),(s=o.lengthOf(n))===0?this.cache[n]=null:(i.pos=this.offset+r,a=(l=new aa(i.read(s))).readShort(),h=l.readShort(),d=l.readShort(),c=l.readShort(),f=l.readShort(),this.cache[n]=a===-1?new x9(l,h,d,c,f):new b9(l,a,h,d,c,f),this.cache[n]))},e.prototype.encode=function(n,i,r){var s,o,a,l,c;for(a=[],o=[],l=0,c=i.length;l<c;l++)s=n[i[l]],o.push(a.length),s&&(a=a.concat(s.encode(r)));return o.push(a.length),{table:a,offsets:o}},e}(),b9=function(){function t(e,n,i,r,s,o){this.raw=e,this.numberOfContours=n,this.xMin=i,this.yMin=r,this.xMax=s,this.yMax=o,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),x9=function(){function t(e,n,i,r,s){var o,a;for(this.raw=e,this.xMin=n,this.yMin=i,this.xMax=r,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;a=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&a;)o.pos+=1&a?4:2,128&a?o.pos+=8:64&a?o.pos+=4:8&a&&(o.pos+=2)}return t.prototype.encode=function(){var e,n,i;for(n=new aa(Pk.call(this.raw.data)),e=0,i=this.glyphIDs.length;e<i;++e)n.pos=this.glyphOffsets[e];return n.data},t}(),S9=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return fs(e,zr),e.prototype.tag="loca",e.prototype.parse=function(n){var i,r;return n.pos=this.offset,i=this.file.head.indexToLocFormat,this.offsets=i===0?(function(){var s,o;for(o=[],r=0,s=this.length;r<s;r+=2)o.push(2*n.readUInt16());return o}).call(this):(function(){var s,o;for(o=[],r=0,s=this.length;r<s;r+=4)o.push(n.readUInt32());return o}).call(this)},e.prototype.indexOf=function(n){return this.offsets[n]},e.prototype.lengthOf=function(n){return this.offsets[n+1]-this.offsets[n]},e.prototype.encode=function(n,i){for(var r=new Uint32Array(this.offsets.length),s=0,o=0,a=0;a<r.length;++a)if(r[a]=s,o<i.length&&i[o]==a){++o,r[a]=s;var l=this.offsets[a],c=this.offsets[a+1]-l;c>0&&(s+=c)}for(var h=new Array(4*r.length),f=0;f<r.length;++f)h[4*f+3]=255&r[f],h[4*f+2]=(65280&r[f])>>8,h[4*f+1]=(16711680&r[f])>>16,h[4*f]=(4278190080&r[f])>>24;return h},e}(),N9=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,n,i,r,s;for(n in r=this.font.cmap.tables[0].codeMap,e={},s=this.subset)i=s[n],e[n]=r[i];return e},t.prototype.glyphsFor=function(e){var n,i,r,s,o,a,l;for(r={},o=0,a=e.length;o<a;o++)r[s=e[o]]=this.font.glyf.glyphFor(s);for(s in n=[],r)(i=r[s])!=null&&i.compound&&n.push.apply(n,i.glyphIDs);if(n.length>0)for(s in l=this.glyphsFor(n))i=l[s],r[s]=i;return r},t.prototype.encode=function(e,n){var i,r,s,o,a,l,c,h,f,d,p,w,y,S,m;for(r in i=Ek.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(e),p={0:0},m=i.charMap)p[(l=m[r]).old]=l.new;for(w in d=i.maxGlyphID,o)w in p||(p[w]=d++);return h=function(_){var x,N;for(x in N={},_)N[_[x]]=x;return N}(p),f=Object.keys(h).sort(function(_,x){return _-x}),y=function(){var _,x,N;for(N=[],_=0,x=f.length;_<x;_++)a=f[_],N.push(h[a]);return N}(),s=this.font.glyf.encode(o,y,p),c=this.font.loca.encode(s.offsets,y),S={cmap:this.font.cmap.raw(),glyf:s.table,loca:c,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(S["OS/2"]=this.font.os2.raw()),this.font.directory.encode(S)},t}();$e.API.PDFObject=function(){var t;function e(){}return t=function(n,i){return(Array(i+1).join("0")+n).slice(-i)},e.convert=function(n){var i,r,s,o;if(Array.isArray(n))return"["+function(){var a,l,c;for(c=[],a=0,l=n.length;a<l;a++)i=n[a],c.push(e.convert(i));return c}().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n!=null&&n.isString)return"("+n+")";if(n instanceof Date)return"(D:"+t(n.getUTCFullYear(),4)+t(n.getUTCMonth(),2)+t(n.getUTCDate(),2)+t(n.getUTCHours(),2)+t(n.getUTCMinutes(),2)+t(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(r in s=["<<"],n)o=n[r],s.push("/"+r+" "+e.convert(o));return s.push(">>"),s.join(`
`)}return""+n},e}();const C9=Object.freeze(Object.defineProperty({__proto__:null,AcroForm:n9,AcroFormAppearance:He,AcroFormButton:An,AcroFormCheckBox:kh,AcroFormChoiceField:$a,AcroFormComboBox:Ya,AcroFormEditBox:Nh,AcroFormListBox:Ga,AcroFormPasswordField:Ah,AcroFormPushButton:Ch,AcroFormRadioButton:Ka,AcroFormTextField:Qo,GState:hf,ShadingPattern:Eo,TilingPattern:Ua,default:$e,jsPDF:$e},Symbol.toStringTag,{value:"Module"}));var k9={exports:{}};const A9=vA(C9);/*!
 * 
 *               jsPDF AutoTable plugin v3.8.4
 *
 *               Copyright (c) 2024 Simon Bengtsson, https://github.com/simonbengtsson/jsPDF-AutoTable
 *               Licensed under the MIT License.
 *               http://opensource.org/licenses/mit-license
 *
 */(function(t,e){(function(i,r){t.exports=r(function(){try{return A9}catch{}}())})(typeof globalThis<"u"?globalThis:typeof o0<"u"?o0:typeof window<"u"?window:typeof self<"u"?self:o0,function(n){return function(){var i={172:function(a,l){var c=this&&this.__extends||function(){var d=function(p,w){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,S){y.__proto__=S}||function(y,S){for(var m in S)Object.prototype.hasOwnProperty.call(S,m)&&(y[m]=S[m])},d(p,w)};return function(p,w){if(typeof w!="function"&&w!==null)throw new TypeError("Class extends value "+String(w)+" is not a constructor or null");d(p,w);function y(){this.constructor=p}p.prototype=w===null?Object.create(w):(y.prototype=w.prototype,new y)}}();Object.defineProperty(l,"__esModule",{value:!0}),l.CellHookData=l.HookData=void 0;var h=function(){function d(p,w,y){this.table=w,this.pageNumber=w.pageNumber,this.pageCount=this.pageNumber,this.settings=w.settings,this.cursor=y,this.doc=p.getDocument()}return d}();l.HookData=h;var f=function(d){c(p,d);function p(w,y,S,m,_,x){var N=d.call(this,w,y,x)||this;return N.cell=S,N.row=m,N.column=_,N.section=m.section,N}return p}(h);l.CellHookData=f},340:function(a,l,c){Object.defineProperty(l,"__esModule",{value:!0});var h=c(4),f=c(136),d=c(744),p=c(776),w=c(664),y=c(972);function S(m){m.API.autoTable=function(){for(var _=[],x=0;x<arguments.length;x++)_[x]=arguments[x];var N;_.length===1?N=_[0]:(console.error("Use of deprecated autoTable initiation"),N=_[2]||{},N.columns=_[0],N.body=_[1]);var k=(0,p.parseInput)(this,N),O=(0,y.createTable)(this,k);return(0,w.drawTable)(this,O),this},m.API.lastAutoTable=!1,m.API.previousAutoTable=!1,m.API.autoTable.previous=!1,m.API.autoTableText=function(_,x,N,k){(0,f.default)(_,x,N,k,this)},m.API.autoTableSetDefaults=function(_){return d.DocHandler.setDefaults(_,this),this},m.autoTableSetDefaults=function(_,x){d.DocHandler.setDefaults(_,x)},m.API.autoTableHtmlToJson=function(_,x){var N;if(x===void 0&&(x=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var k=new d.DocHandler(this),O=(0,h.parseHtml)(k,_,window,x,!1),I=O.head,A=O.body,U=((N=I[0])===null||N===void 0?void 0:N.map(function(W){return W.content}))||[];return{columns:U,rows:A,data:A}},m.API.autoTableEndPosY=function(){console.error("Use of deprecated function: autoTableEndPosY. Use doc.lastAutoTable.finalY instead.");var _=this.lastAutoTable;return _&&_.finalY?_.finalY:0},m.API.autoTableAddPageContent=function(_){return console.error("Use of deprecated function: autoTableAddPageContent. Use jsPDF.autoTableSetDefaults({didDrawPage: () => {}}) instead."),m.API.autoTable.globalDefaults||(m.API.autoTable.globalDefaults={}),m.API.autoTable.globalDefaults.addPageContent=_,this},m.API.autoTableAddPage=function(){return console.error("Use of deprecated function: autoTableAddPage. Use doc.addPage()"),this.addPage(),this}}l.default=S},136:function(a,l){Object.defineProperty(l,"__esModule",{value:!0});function c(h,f,d,p,w){p=p||{};var y=1.15,S=w.internal.scaleFactor,m=w.internal.getFontSize()/S,_=w.getLineHeightFactor?w.getLineHeightFactor():y,x=m*_,N=/\r\n|\r|\n/g,k="",O=1;if((p.valign==="middle"||p.valign==="bottom"||p.halign==="center"||p.halign==="right")&&(k=typeof h=="string"?h.split(N):h,O=k.length||1),d+=m*(2-y),p.valign==="middle"?d-=O/2*x:p.valign==="bottom"&&(d-=O*x),p.halign==="center"||p.halign==="right"){var I=m;if(p.halign==="center"&&(I*=.5),k&&O>=1){for(var A=0;A<k.length;A++)w.text(k[A],f-w.getStringUnitWidth(k[A])*I,d),d+=x;return w}f-=w.getStringUnitWidth(h)*I}return p.halign==="justify"?w.text(h,f,d,{maxWidth:p.maxWidth||100,align:"justify"}):w.text(h,f,d),w}l.default=c},420:function(a,l){Object.defineProperty(l,"__esModule",{value:!0}),l.getPageAvailableWidth=l.parseSpacing=l.getFillStyle=l.addTableBorder=l.getStringWidth=void 0;function c(w,y,S){S.applyStyles(y,!0);var m=Array.isArray(w)?w:[w],_=m.map(function(x){return S.getTextWidth(x)}).reduce(function(x,N){return Math.max(x,N)},0);return _}l.getStringWidth=c;function h(w,y,S,m){var _=y.settings.tableLineWidth,x=y.settings.tableLineColor;w.applyStyles({lineWidth:_,lineColor:x});var N=f(_,!1);N&&w.rect(S.x,S.y,y.getWidth(w.pageSize().width),m.y-S.y,N)}l.addTableBorder=h;function f(w,y){var S=w>0,m=y||y===0;return S&&m?"DF":S?"S":m?"F":null}l.getFillStyle=f;function d(w,y){var S,m,_,x;if(w=w||y,Array.isArray(w)){if(w.length>=4)return{top:w[0],right:w[1],bottom:w[2],left:w[3]};if(w.length===3)return{top:w[0],right:w[1],bottom:w[2],left:w[1]};if(w.length===2)return{top:w[0],right:w[1],bottom:w[0],left:w[1]};w.length===1?w=w[0]:w=y}return typeof w=="object"?(typeof w.vertical=="number"&&(w.top=w.vertical,w.bottom=w.vertical),typeof w.horizontal=="number"&&(w.right=w.horizontal,w.left=w.horizontal),{left:(S=w.left)!==null&&S!==void 0?S:y,top:(m=w.top)!==null&&m!==void 0?m:y,right:(_=w.right)!==null&&_!==void 0?_:y,bottom:(x=w.bottom)!==null&&x!==void 0?x:y}):(typeof w!="number"&&(w=y),{top:w,right:w,bottom:w,left:w})}l.parseSpacing=d;function p(w,y){var S=d(y.settings.margin,0);return w.pageSize().width-(S.left+S.right)}l.getPageAvailableWidth=p},796:function(a,l){var c=this&&this.__extends||function(){var p=function(w,y){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(S,m){S.__proto__=m}||function(S,m){for(var _ in m)Object.prototype.hasOwnProperty.call(m,_)&&(S[_]=m[_])},p(w,y)};return function(w,y){if(typeof y!="function"&&y!==null)throw new TypeError("Class extends value "+String(y)+" is not a constructor or null");p(w,y);function S(){this.constructor=w}w.prototype=y===null?Object.create(y):(S.prototype=y.prototype,new S)}}();Object.defineProperty(l,"__esModule",{value:!0}),l.getTheme=l.defaultStyles=l.HtmlRowInput=void 0;var h=function(p){c(w,p);function w(y){var S=p.call(this)||this;return S._element=y,S}return w}(Array);l.HtmlRowInput=h;function f(p){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/p,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}l.defaultStyles=f;function d(p){var w={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return w[p]}l.getTheme=d},903:function(a,l,c){Object.defineProperty(l,"__esModule",{value:!0}),l.parseCss=void 0;var h=c(420);function f(S,m,_,x,N){var k={},O=1.3333333333333333,I=p(m,function(G){return N.getComputedStyle(G).backgroundColor});I!=null&&(k.fillColor=I);var A=p(m,function(G){return N.getComputedStyle(G).color});A!=null&&(k.textColor=A);var U=y(x,_);U&&(k.cellPadding=U);var W="borderTopColor",E=O*_,P=x.borderTopWidth;if(x.borderBottomWidth===P&&x.borderRightWidth===P&&x.borderLeftWidth===P){var K=(parseFloat(P)||0)/E;K&&(k.lineWidth=K)}else k.lineWidth={top:(parseFloat(x.borderTopWidth)||0)/E,right:(parseFloat(x.borderRightWidth)||0)/E,bottom:(parseFloat(x.borderBottomWidth)||0)/E,left:(parseFloat(x.borderLeftWidth)||0)/E},k.lineWidth.top||(k.lineWidth.right?W="borderRightColor":k.lineWidth.bottom?W="borderBottomColor":k.lineWidth.left&&(W="borderLeftColor"));var D=p(m,function(G){return N.getComputedStyle(G)[W]});D!=null&&(k.lineColor=D);var Q=["left","right","center","justify"];Q.indexOf(x.textAlign)!==-1&&(k.halign=x.textAlign),Q=["middle","bottom","top"],Q.indexOf(x.verticalAlign)!==-1&&(k.valign=x.verticalAlign);var H=parseInt(x.fontSize||"");isNaN(H)||(k.fontSize=H/O);var $=d(x);$&&(k.fontStyle=$);var B=(x.fontFamily||"").toLowerCase();return S.indexOf(B)!==-1&&(k.font=B),k}l.parseCss=f;function d(S){var m="";return(S.fontWeight==="bold"||S.fontWeight==="bolder"||parseInt(S.fontWeight)>=700)&&(m="bold"),(S.fontStyle==="italic"||S.fontStyle==="oblique")&&(m+="italic"),m}function p(S,m){var _=w(S,m);if(!_)return null;var x=_.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!x||!Array.isArray(x))return null;var N=[parseInt(x[1]),parseInt(x[2]),parseInt(x[3])],k=parseInt(x[4]);return k===0||isNaN(N[0])||isNaN(N[1])||isNaN(N[2])?null:N}function w(S,m){var _=m(S);return _==="rgba(0, 0, 0, 0)"||_==="transparent"||_==="initial"||_==="inherit"?S.parentElement==null?null:w(S.parentElement,m):_}function y(S,m){var _=[S.paddingTop,S.paddingRight,S.paddingBottom,S.paddingLeft],x=96/(72/m),N=(parseInt(S.lineHeight)-parseInt(S.fontSize))/m/2,k=_.map(function(I){return parseInt(I||"0")/x}),O=(0,h.parseSpacing)(k,0);return N>O.top&&(O.top=N),N>O.bottom&&(O.bottom=N),O}},744:function(a,l){Object.defineProperty(l,"__esModule",{value:!0}),l.DocHandler=void 0;var c={},h=function(){function f(d){this.jsPDFDocument=d,this.userStyles={textColor:d.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:d.internal.getFontSize(),fontStyle:d.internal.getFont().fontStyle,font:d.internal.getFont().fontName,lineWidth:d.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:d.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return f.setDefaults=function(d,p){p===void 0&&(p=null),p?p.__autoTableDocumentDefaults=d:c=d},f.unifyColor=function(d){return Array.isArray(d)?d:typeof d=="number"?[d,d,d]:typeof d=="string"?[d]:null},f.prototype.applyStyles=function(d,p){var w,y,S;p===void 0&&(p=!1),d.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(d.fontStyle);var m=this.jsPDFDocument.internal.getFont(),_=m.fontStyle,x=m.fontName;if(d.font&&(x=d.font),d.fontStyle){_=d.fontStyle;var N=this.getFontList()[x];N&&N.indexOf(_)===-1&&(this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(N[0]),_=N[0])}if(this.jsPDFDocument.setFont(x,_),d.fontSize&&this.jsPDFDocument.setFontSize(d.fontSize),!p){var k=f.unifyColor(d.fillColor);k&&(w=this.jsPDFDocument).setFillColor.apply(w,k),k=f.unifyColor(d.textColor),k&&(y=this.jsPDFDocument).setTextColor.apply(y,k),k=f.unifyColor(d.lineColor),k&&(S=this.jsPDFDocument).setDrawColor.apply(S,k),typeof d.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(d.lineWidth)}},f.prototype.splitTextToSize=function(d,p,w){return this.jsPDFDocument.splitTextToSize(d,p,w)},f.prototype.rect=function(d,p,w,y,S){return this.jsPDFDocument.rect(d,p,w,y,S)},f.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},f.prototype.getTextWidth=function(d){return this.jsPDFDocument.getTextWidth(d)},f.prototype.getDocument=function(){return this.jsPDFDocument},f.prototype.setPage=function(d){this.jsPDFDocument.setPage(d)},f.prototype.addPage=function(){return this.jsPDFDocument.addPage()},f.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},f.prototype.getGlobalOptions=function(){return c||{}},f.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},f.prototype.pageSize=function(){var d=this.jsPDFDocument.internal.pageSize;return d.width==null&&(d={width:d.getWidth(),height:d.getHeight()}),d},f.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},f.prototype.getLineHeightFactor=function(){var d=this.jsPDFDocument;return d.getLineHeightFactor?d.getLineHeightFactor():1.15},f.prototype.getLineHeight=function(d){return d/this.scaleFactor()*this.getLineHeightFactor()},f.prototype.pageNumber=function(){var d=this.jsPDFDocument.internal.getCurrentPageInfo();return d?d.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},f}();l.DocHandler=h},4:function(a,l,c){Object.defineProperty(l,"__esModule",{value:!0}),l.parseHtml=void 0;var h=c(903),f=c(796);function d(y,S,m,_,x){var N,k;_===void 0&&(_=!1),x===void 0&&(x=!1);var O;typeof S=="string"?O=m.document.querySelector(S):O=S;var I=Object.keys(y.getFontList()),A=y.scaleFactor(),U=[],W=[],E=[];if(!O)return console.error("Html table could not be found with input: ",S),{head:U,body:W,foot:E};for(var P=0;P<O.rows.length;P++){var K=O.rows[P],D=(k=(N=K==null?void 0:K.parentElement)===null||N===void 0?void 0:N.tagName)===null||k===void 0?void 0:k.toLowerCase(),Q=p(I,A,m,K,_,x);Q&&(D==="thead"?U.push(Q):D==="tfoot"?E.push(Q):W.push(Q))}return{head:U,body:W,foot:E}}l.parseHtml=d;function p(y,S,m,_,x,N){for(var k=new f.HtmlRowInput(_),O=0;O<_.cells.length;O++){var I=_.cells[O],A=m.getComputedStyle(I);if(x||A.display!=="none"){var U=void 0;N&&(U=(0,h.parseCss)(y,I,S,A,m)),k.push({rowSpan:I.rowSpan,colSpan:I.colSpan,styles:U,_element:I,content:w(I)})}}var W=m.getComputedStyle(_);if(k.length>0&&(x||W.display!=="none"))return k}function w(y){var S=y.cloneNode(!0);return S.innerHTML=S.innerHTML.replace(/\n/g,"").replace(/ +/g," "),S.innerHTML=S.innerHTML.split(/<br.*?>/).map(function(m){return m.trim()}).join(`
`),S.innerText||S.textContent||""}},776:function(a,l,c){Object.defineProperty(l,"__esModule",{value:!0}),l.parseInput=void 0;var h=c(4),f=c(356),d=c(420),p=c(744),w=c(792);function y(O,I){var A=new p.DocHandler(O),U=A.getDocumentOptions(),W=A.getGlobalOptions();(0,w.default)(A,W,U,I);var E=(0,f.assign)({},W,U,I),P;typeof window<"u"&&(P=window);var K=S(W,U,I),D=m(W,U,I),Q=_(A,E),H=N(A,E,P);return{id:I.tableId,content:H,hooks:D,styles:K,settings:Q}}l.parseInput=y;function S(O,I,A){for(var U={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},W=function(D){if(D==="columnStyles"){var Q=O[D],H=I[D],$=A[D];U.columnStyles=(0,f.assign)({},Q,H,$)}else{var B=[O,I,A],G=B.map(function(ie){return ie[D]||{}});U[D]=(0,f.assign)({},G[0],G[1],G[2])}},E=0,P=Object.keys(U);E<P.length;E++){var K=P[E];W(K)}return U}function m(O,I,A){for(var U=[O,I,A],W={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},E=0,P=U;E<P.length;E++){var K=P[E];K.didParseCell&&W.didParseCell.push(K.didParseCell),K.willDrawCell&&W.willDrawCell.push(K.willDrawCell),K.didDrawCell&&W.didDrawCell.push(K.didDrawCell),K.willDrawPage&&W.willDrawPage.push(K.willDrawPage),K.didDrawPage&&W.didDrawPage.push(K.didDrawPage)}return W}function _(O,I){var A,U,W,E,P,K,D,Q,H,$,B,G,ie=(0,d.parseSpacing)(I.margin,40/O.scaleFactor()),ue=(A=x(O,I.startY))!==null&&A!==void 0?A:ie.top,L;I.showFoot===!0?L="everyPage":I.showFoot===!1?L="never":L=(U=I.showFoot)!==null&&U!==void 0?U:"everyPage";var q;I.showHead===!0?q="everyPage":I.showHead===!1?q="never":q=(W=I.showHead)!==null&&W!==void 0?W:"everyPage";var Y=(E=I.useCss)!==null&&E!==void 0?E:!1,J=I.theme||(Y?"plain":"striped"),j=!!I.horizontalPageBreak,ne=(P=I.horizontalPageBreakRepeat)!==null&&P!==void 0?P:null;return{includeHiddenHtml:(K=I.includeHiddenHtml)!==null&&K!==void 0?K:!1,useCss:Y,theme:J,startY:ue,margin:ie,pageBreak:(D=I.pageBreak)!==null&&D!==void 0?D:"auto",rowPageBreak:(Q=I.rowPageBreak)!==null&&Q!==void 0?Q:"auto",tableWidth:(H=I.tableWidth)!==null&&H!==void 0?H:"auto",showHead:q,showFoot:L,tableLineWidth:($=I.tableLineWidth)!==null&&$!==void 0?$:0,tableLineColor:(B=I.tableLineColor)!==null&&B!==void 0?B:200,horizontalPageBreak:j,horizontalPageBreakRepeat:ne,horizontalPageBreakBehaviour:(G=I.horizontalPageBreakBehaviour)!==null&&G!==void 0?G:"afterAllRows"}}function x(O,I){var A=O.getLastAutoTable(),U=O.scaleFactor(),W=O.pageNumber(),E=!1;if(A&&A.startPageNumber){var P=A.startPageNumber+A.pageNumber-1;E=P===W}return typeof I=="number"?I:(I==null||I===!1)&&E&&(A==null?void 0:A.finalY)!=null?A.finalY+20/U:null}function N(O,I,A){var U=I.head||[],W=I.body||[],E=I.foot||[];if(I.html){var P=I.includeHiddenHtml;if(A){var K=(0,h.parseHtml)(O,I.html,A,P,I.useCss)||{};U=K.head||U,W=K.body||U,E=K.foot||U}else console.error("Cannot parse html in non browser environment")}var D=I.columns||k(U,W,E);return{columns:D,head:U,body:W,foot:E}}function k(O,I,A){var U=O[0]||I[0]||A[0]||[],W=[];return Object.keys(U).filter(function(E){return E!=="_element"}).forEach(function(E){var P=1,K;Array.isArray(U)?K=U[parseInt(E)]:K=U[E],typeof K=="object"&&!Array.isArray(K)&&(P=(K==null?void 0:K.colSpan)||1);for(var D=0;D<P;D++){var Q=void 0;Array.isArray(U)?Q=W.length:Q=E+(D>0?"_".concat(D):"");var H={dataKey:Q};W.push(H)}}),W}},792:function(a,l){Object.defineProperty(l,"__esModule",{value:!0});function c(f,d,p,w){for(var y=function(x){x&&typeof x!="object"&&console.error("The options parameter should be of type object, is: "+typeof x),typeof x.extendWidth<"u"&&(x.tableWidth=x.extendWidth?"auto":"wrap",console.error("Use of deprecated option: extendWidth, use tableWidth instead.")),typeof x.margins<"u"&&(typeof x.margin>"u"&&(x.margin=x.margins),console.error("Use of deprecated option: margins, use margin instead.")),x.startY&&typeof x.startY!="number"&&(console.error("Invalid value for startY option",x.startY),delete x.startY),!x.didDrawPage&&(x.afterPageContent||x.beforePageContent||x.afterPageAdd)&&(console.error("The afterPageContent, beforePageContent and afterPageAdd hooks are deprecated. Use didDrawPage instead"),x.didDrawPage=function(E){f.applyStyles(f.userStyles),x.beforePageContent&&x.beforePageContent(E),f.applyStyles(f.userStyles),x.afterPageContent&&x.afterPageContent(E),f.applyStyles(f.userStyles),x.afterPageAdd&&E.pageNumber>1&&E.afterPageAdd(E),f.applyStyles(f.userStyles)}),["createdHeaderCell","drawHeaderRow","drawRow","drawHeaderCell"].forEach(function(E){x[E]&&console.error('The "'.concat(E,'" hook has changed in version 3.0, check the changelog for how to migrate.'))}),[["showFoot","showFooter"],["showHead","showHeader"],["didDrawPage","addPageContent"],["didParseCell","createdCell"],["headStyles","headerStyles"]].forEach(function(E){var P=E[0],K=E[1];x[K]&&(console.error("Use of deprecated option ".concat(K,". Use ").concat(P," instead")),x[P]=x[K])}),[["padding","cellPadding"],["lineHeight","rowHeight"],"fontSize","overflow"].forEach(function(E){var P=typeof E=="string"?E:E[0],K=typeof E=="string"?E:E[1];typeof x[P]<"u"&&(typeof x.styles[K]>"u"&&(x.styles[K]=x[P]),console.error("Use of deprecated option: "+P+", use the style "+K+" instead."))});for(var N=0,k=["styles","bodyStyles","headStyles","footStyles"];N<k.length;N++){var O=k[N];h(x[O]||{})}for(var I=x.columnStyles||{},A=0,U=Object.keys(I);A<U.length;A++){var W=U[A];h(I[W]||{})}},S=0,m=[d,p,w];S<m.length;S++){var _=m[S];y(_)}}l.default=c;function h(f){f.rowHeight?(console.error("Use of deprecated style rowHeight. It is renamed to minCellHeight."),f.minCellHeight||(f.minCellHeight=f.rowHeight)):f.columnWidth&&(console.error("Use of deprecated style columnWidth. It is renamed to cellWidth."),f.cellWidth||(f.cellWidth=f.columnWidth))}},260:function(a,l,c){Object.defineProperty(l,"__esModule",{value:!0}),l.Column=l.Cell=l.Row=l.Table=void 0;var h=c(796),f=c(172),d=c(420),p=function(){function m(_,x){this.pageNumber=1,this.pageCount=1,this.id=_.id,this.settings=_.settings,this.styles=_.styles,this.hooks=_.hooks,this.columns=x.columns,this.head=x.head,this.body=x.body,this.foot=x.foot}return m.prototype.getHeadHeight=function(_){return this.head.reduce(function(x,N){return x+N.getMaxCellHeight(_)},0)},m.prototype.getFootHeight=function(_){return this.foot.reduce(function(x,N){return x+N.getMaxCellHeight(_)},0)},m.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},m.prototype.callCellHooks=function(_,x,N,k,O,I){for(var A=0,U=x;A<U.length;A++){var W=U[A],E=new f.CellHookData(_,this,N,k,O,I),P=W(E)===!1;if(N.text=Array.isArray(N.text)?N.text:[N.text],P)return!1}return!0},m.prototype.callEndPageHooks=function(_,x){_.applyStyles(_.userStyles);for(var N=0,k=this.hooks.didDrawPage;N<k.length;N++){var O=k[N];O(new f.HookData(_,this,x))}},m.prototype.callWillDrawPageHooks=function(_,x){for(var N=0,k=this.hooks.willDrawPage;N<k.length;N++){var O=k[N];O(new f.HookData(_,this,x))}},m.prototype.getWidth=function(_){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var x=this.columns.reduce(function(k,O){return k+O.wrappedWidth},0);return x}else{var N=this.settings.margin;return _-N.left-N.right}},m}();l.Table=p;var w=function(){function m(_,x,N,k,O){O===void 0&&(O=!1),this.height=0,this.raw=_,_ instanceof h.HtmlRowInput&&(this.raw=_._element,this.element=_._element),this.index=x,this.section=N,this.cells=k,this.spansMultiplePages=O}return m.prototype.getMaxCellHeight=function(_){var x=this;return _.reduce(function(N,k){var O;return Math.max(N,((O=x.cells[k.index])===null||O===void 0?void 0:O.height)||0)},0)},m.prototype.hasRowSpan=function(_){var x=this;return _.filter(function(N){var k=x.cells[N.index];return k?k.rowSpan>1:!1}).length>0},m.prototype.canEntireRowFit=function(_,x){return this.getMaxCellHeight(x)<=_},m.prototype.getMinimumRowHeight=function(_,x){var N=this;return _.reduce(function(k,O){var I=N.cells[O.index];if(!I)return 0;var A=x.getLineHeight(I.styles.fontSize),U=I.padding("vertical"),W=U+A;return W>k?W:k},0)},m}();l.Row=w;var y=function(){function m(_,x,N){var k,O;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=x,this.section=N,this.raw=_;var I=_;_!=null&&typeof _=="object"&&!Array.isArray(_)?(this.rowSpan=_.rowSpan||1,this.colSpan=_.colSpan||1,I=(O=(k=_.content)!==null&&k!==void 0?k:_.title)!==null&&O!==void 0?O:_,_._element&&(this.raw=_._element)):(this.rowSpan=1,this.colSpan=1);var A=I!=null?""+I:"",U=/\r\n|\r|\n/g;this.text=A.split(U)}return m.prototype.getTextPos=function(){var _;if(this.styles.valign==="top")_=this.y+this.padding("top");else if(this.styles.valign==="bottom")_=this.y+this.height-this.padding("bottom");else{var x=this.height-this.padding("vertical");_=this.y+x/2+this.padding("top")}var N;if(this.styles.halign==="right")N=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var k=this.width-this.padding("horizontal");N=this.x+k/2+this.padding("left")}else N=this.x+this.padding("left");return{x:N,y:_}},m.prototype.getContentHeight=function(_,x){x===void 0&&(x=1.15);var N=Array.isArray(this.text)?this.text.length:1,k=this.styles.fontSize/_*x,O=N*k+this.padding("vertical");return Math.max(O,this.styles.minCellHeight)},m.prototype.padding=function(_){var x=(0,d.parseSpacing)(this.styles.cellPadding,0);return _==="vertical"?x.top+x.bottom:_==="horizontal"?x.left+x.right:x[_]},m}();l.Cell=y;var S=function(){function m(_,x,N){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=_,this.raw=x,this.index=N}return m.prototype.getMaxCustomCellWidth=function(_){for(var x=0,N=0,k=_.allRows();N<k.length;N++){var O=k[N],I=O.cells[this.index];I&&typeof I.styles.cellWidth=="number"&&(x=Math.max(x,I.styles.cellWidth))}return x},m}();l.Column=S},356:function(a,l){Object.defineProperty(l,"__esModule",{value:!0}),l.assign=void 0;function c(h,f,d,p,w){if(h==null)throw new TypeError("Cannot convert undefined or null to object");for(var y=Object(h),S=1;S<arguments.length;S++){var m=arguments[S];if(m!=null)for(var _ in m)Object.prototype.hasOwnProperty.call(m,_)&&(y[_]=m[_])}return y}l.assign=c},972:function(a,l,c){Object.defineProperty(l,"__esModule",{value:!0}),l.createTable=void 0;var h=c(744),f=c(260),d=c(324),p=c(796),w=c(356);function y(O,I){var A=new h.DocHandler(O),U=S(I,A.scaleFactor()),W=new f.Table(I,U);return(0,d.calculateWidths)(A,W),A.applyStyles(A.userStyles),W}l.createTable=y;function S(O,I){var A=O.content,U=N(A.columns);if(A.head.length===0){var W=_(U,"head");W&&A.head.push(W)}if(A.foot.length===0){var W=_(U,"foot");W&&A.foot.push(W)}var E=O.settings.theme,P=O.styles;return{columns:U,head:m("head",A.head,U,P,E,I),body:m("body",A.body,U,P,E,I),foot:m("foot",A.foot,U,P,E,I)}}function m(O,I,A,U,W,E){var P={},K=I.map(function(D,Q){for(var H=0,$={},B=0,G=0,ie=0,ue=A;ie<ue.length;ie++){var L=ue[ie];if(P[L.index]==null||P[L.index].left===0)if(G===0){var q=void 0;Array.isArray(D)?q=D[L.index-B-H]:q=D[L.dataKey];var Y={};typeof q=="object"&&!Array.isArray(q)&&(Y=(q==null?void 0:q.styles)||{});var J=k(O,L,Q,W,U,E,Y),j=new f.Cell(q,J,O);$[L.dataKey]=j,$[L.index]=j,G=j.colSpan-1,P[L.index]={left:j.rowSpan-1,times:G}}else G--,B++;else P[L.index].left--,G=P[L.index].times,H++}return new f.Row(D,Q,O,$)});return K}function _(O,I){var A={};return O.forEach(function(U){if(U.raw!=null){var W=x(I,U.raw);W!=null&&(A[U.dataKey]=W)}}),Object.keys(A).length>0?A:null}function x(O,I){if(O==="head"){if(typeof I=="object")return I.header||I.title||null;if(typeof I=="string"||typeof I=="number")return I}else if(O==="foot"&&typeof I=="object")return I.footer;return null}function N(O){return O.map(function(I,A){var U,W,E;return typeof I=="object"?E=(W=(U=I.dataKey)!==null&&U!==void 0?U:I.key)!==null&&W!==void 0?W:A:E=A,new f.Column(E,I,A)})}function k(O,I,A,U,W,E,P){var K=(0,p.getTheme)(U),D;O==="head"?D=W.headStyles:O==="body"?D=W.bodyStyles:O==="foot"&&(D=W.footStyles);var Q=(0,w.assign)({},K.table,K[O],W.styles,D),H=W.columnStyles[I.dataKey]||W.columnStyles[I.index]||{},$=O==="body"?H:{},B=O==="body"&&A%2===0?(0,w.assign)({},K.alternateRow,W.alternateRowStyles):{},G=(0,p.defaultStyles)(E),ie=(0,w.assign)({},G,Q,B,$);return(0,w.assign)(ie,P)}},664:function(a,l,c){Object.defineProperty(l,"__esModule",{value:!0}),l.addPage=l.drawTable=void 0;var h=c(420),f=c(260),d=c(744),p=c(356),w=c(136),y=c(224);function S(H,$){var B=$.settings,G=B.startY,ie=B.margin,ue={x:ie.left,y:G},L=$.getHeadHeight($.columns)+$.getFootHeight($.columns),q=G+ie.bottom+L;if(B.pageBreak==="avoid"){var Y=$.body,J=Y.reduce(function(re,le){return re+le.height},0);q+=J}var j=new d.DocHandler(H);(B.pageBreak==="always"||B.startY!=null&&q>j.pageSize().height)&&(Q(j),ue.y=ie.top),$.callWillDrawPageHooks(j,ue);var ne=(0,p.assign)({},ue);$.startPageNumber=j.pageNumber(),B.horizontalPageBreak?m(j,$,ne,ue):(j.applyStyles(j.userStyles),(B.showHead==="firstPage"||B.showHead==="everyPage")&&$.head.forEach(function(re){return W(j,$,re,ue,$.columns)}),j.applyStyles(j.userStyles),$.body.forEach(function(re,le){var ye=le===$.body.length-1;U(j,$,re,ye,ne,ue,$.columns)}),j.applyStyles(j.userStyles),(B.showFoot==="lastPage"||B.showFoot==="everyPage")&&$.foot.forEach(function(re){return W(j,$,re,ue,$.columns)})),(0,h.addTableBorder)(j,$,ne,ue),$.callEndPageHooks(j,ue),$.finalY=ue.y,H.lastAutoTable=$,H.previousAutoTable=$,H.autoTable&&(H.autoTable.previous=$),j.applyStyles(j.userStyles)}l.drawTable=S;function m(H,$,B,G){var ie=(0,y.calculateAllColumnsCanFitInPage)(H,$),ue=$.settings;if(ue.horizontalPageBreakBehaviour==="afterAllRows")ie.forEach(function(J,j){H.applyStyles(H.userStyles),j>0?D(H,$,B,G,J.columns,!0):_(H,$,G,J.columns),x(H,$,B,G,J.columns),k(H,$,G,J.columns)});else for(var L=-1,q=ie[0],Y=function(){var J=L;if(q){H.applyStyles(H.userStyles);var j=q.columns;L>=0?D(H,$,B,G,j,!0):_(H,$,G,j),J=N(H,$,L+1,G,j),k(H,$,G,j)}var ne=J-L;ie.slice(1).forEach(function(re){H.applyStyles(H.userStyles),D(H,$,B,G,re.columns,!0),N(H,$,L+1,G,re.columns,ne),k(H,$,G,re.columns)}),L=J};L<$.body.length-1;)Y()}function _(H,$,B,G){var ie=$.settings;H.applyStyles(H.userStyles),(ie.showHead==="firstPage"||ie.showHead==="everyPage")&&$.head.forEach(function(ue){return W(H,$,ue,B,G)})}function x(H,$,B,G,ie){H.applyStyles(H.userStyles),$.body.forEach(function(ue,L){var q=L===$.body.length-1;U(H,$,ue,q,B,G,ie)})}function N(H,$,B,G,ie,ue){H.applyStyles(H.userStyles),ue=ue??$.body.length;var L=Math.min(B+ue,$.body.length),q=-1;return $.body.slice(B,L).forEach(function(Y,J){var j=B+J===$.body.length-1,ne=K(H,$,j,G);Y.canEntireRowFit(ne,ie)&&(W(H,$,Y,G,ie),q=B+J)}),q}function k(H,$,B,G){var ie=$.settings;H.applyStyles(H.userStyles),(ie.showFoot==="lastPage"||ie.showFoot==="everyPage")&&$.foot.forEach(function(ue){return W(H,$,ue,B,G)})}function O(H,$,B){var G=B.getLineHeight(H.styles.fontSize),ie=H.padding("vertical"),ue=Math.floor(($-ie)/G);return Math.max(0,ue)}function I(H,$,B,G){var ie={};H.spansMultiplePages=!0,H.height=0;for(var ue=0,L=0,q=B.columns;L<q.length;L++){var Y=q[L],J=H.cells[Y.index];if(J){Array.isArray(J.text)||(J.text=[J.text]);var j=new f.Cell(J.raw,J.styles,J.section);j=(0,p.assign)(j,J),j.text=[];var ne=O(J,$,G);J.text.length>ne&&(j.text=J.text.splice(ne,J.text.length));var re=G.scaleFactor(),le=G.getLineHeightFactor();J.contentHeight=J.getContentHeight(re,le),J.contentHeight>=$&&(J.contentHeight=$,j.styles.minCellHeight-=$),J.contentHeight>H.height&&(H.height=J.contentHeight),j.contentHeight=j.getContentHeight(re,le),j.contentHeight>ue&&(ue=j.contentHeight),ie[Y.index]=j}}var ye=new f.Row(H.raw,-1,H.section,ie,!0);ye.height=ue;for(var me=0,Ce=B.columns;me<Ce.length;me++){var Y=Ce[me],j=ye.cells[Y.index];j&&(j.height=ye.height);var J=H.cells[Y.index];J&&(J.height=H.height)}return ye}function A(H,$,B,G){var ie=H.pageSize().height,ue=G.settings.margin,L=ue.top+ue.bottom,q=ie-L;$.section==="body"&&(q-=G.getHeadHeight(G.columns)+G.getFootHeight(G.columns));var Y=$.getMinimumRowHeight(G.columns,H),J=Y<B;if(Y>q)return console.error("Will not be able to print row ".concat($.index," correctly since it's minimum height is larger than page height")),!0;if(!J)return!1;var j=$.hasRowSpan(G.columns),ne=$.getMaxCellHeight(G.columns)>q;return ne?(j&&console.error("The content of row ".concat($.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(j||G.settings.rowPageBreak==="avoid")}function U(H,$,B,G,ie,ue,L){var q=K(H,$,G,ue);if(B.canEntireRowFit(q,L))W(H,$,B,ue,L);else if(A(H,B,q,$)){var Y=I(B,q,$,H);W(H,$,B,ue,L),D(H,$,ie,ue,L),U(H,$,Y,G,ie,ue,L)}else D(H,$,ie,ue,L),U(H,$,B,G,ie,ue,L)}function W(H,$,B,G,ie){G.x=$.settings.margin.left;for(var ue=0,L=ie;ue<L.length;ue++){var q=L[ue],Y=B.cells[q.index];if(!Y){G.x+=q.width;continue}H.applyStyles(Y.styles),Y.x=G.x,Y.y=G.y;var J=$.callCellHooks(H,$.hooks.willDrawCell,Y,B,q,G);if(J===!1){G.x+=q.width;continue}E(H,Y,G);var j=Y.getTextPos();(0,w.default)(Y.text,j.x,j.y,{halign:Y.styles.halign,valign:Y.styles.valign,maxWidth:Math.ceil(Y.width-Y.padding("left")-Y.padding("right"))},H.getDocument()),$.callCellHooks(H,$.hooks.didDrawCell,Y,B,q,G),G.x+=q.width}G.y+=B.height}function E(H,$,B){var G=$.styles;if(H.getDocument().setFillColor(H.getDocument().getFillColor()),typeof G.lineWidth=="number"){var ie=(0,h.getFillStyle)(G.lineWidth,G.fillColor);ie&&H.rect($.x,B.y,$.width,$.height,ie)}else typeof G.lineWidth=="object"&&(G.fillColor&&H.rect($.x,B.y,$.width,$.height,"F"),P(H,$,B,G.lineWidth))}function P(H,$,B,G){var ie,ue,L,q;G.top&&(ie=B.x,ue=B.y,L=B.x+$.width,q=B.y,G.right&&(L+=.5*G.right),G.left&&(ie-=.5*G.left),Y(G.top,ie,ue,L,q)),G.bottom&&(ie=B.x,ue=B.y+$.height,L=B.x+$.width,q=B.y+$.height,G.right&&(L+=.5*G.right),G.left&&(ie-=.5*G.left),Y(G.bottom,ie,ue,L,q)),G.left&&(ie=B.x,ue=B.y,L=B.x,q=B.y+$.height,G.top&&(ue-=.5*G.top),G.bottom&&(q+=.5*G.bottom),Y(G.left,ie,ue,L,q)),G.right&&(ie=B.x+$.width,ue=B.y,L=B.x+$.width,q=B.y+$.height,G.top&&(ue-=.5*G.top),G.bottom&&(q+=.5*G.bottom),Y(G.right,ie,ue,L,q));function Y(J,j,ne,re,le){H.getDocument().setLineWidth(J),H.getDocument().line(j,ne,re,le,"S")}}function K(H,$,B,G){var ie=$.settings.margin.bottom,ue=$.settings.showFoot;return(ue==="everyPage"||ue==="lastPage"&&B)&&(ie+=$.getFootHeight($.columns)),H.pageSize().height-G.y-ie}function D(H,$,B,G,ie,ue){ie===void 0&&(ie=[]),ue===void 0&&(ue=!1),H.applyStyles(H.userStyles),$.settings.showFoot==="everyPage"&&!ue&&$.foot.forEach(function(q){return W(H,$,q,G,ie)}),$.callEndPageHooks(H,G);var L=$.settings.margin;(0,h.addTableBorder)(H,$,B,G),Q(H),$.pageNumber++,$.pageCount++,G.x=L.left,G.y=L.top,B.y=L.top,$.callWillDrawPageHooks(H,G),$.settings.showHead==="everyPage"&&($.head.forEach(function(q){return W(H,$,q,G,ie)}),H.applyStyles(H.userStyles))}l.addPage=D;function Q(H){var $=H.pageNumber();H.setPage($+1);var B=H.pageNumber();return B===$?(H.addPage(),!0):!1}},224:function(a,l,c){Object.defineProperty(l,"__esModule",{value:!0}),l.calculateAllColumnsCanFitInPage=void 0;var h=c(420);function f(p,w,y){var S;y===void 0&&(y={});var m=(0,h.getPageAvailableWidth)(p,w),_=new Map,x=[],N=[],k=[];w.settings.horizontalPageBreakRepeat,Array.isArray(w.settings.horizontalPageBreakRepeat)?k=w.settings.horizontalPageBreakRepeat:(typeof w.settings.horizontalPageBreakRepeat=="string"||typeof w.settings.horizontalPageBreakRepeat=="number")&&(k=[w.settings.horizontalPageBreakRepeat]),k.forEach(function(U){var W=w.columns.find(function(E){return E.dataKey===U||E.index===U});W&&!_.has(W.index)&&(_.set(W.index,!0),x.push(W.index),N.push(w.columns[W.index]),m-=W.wrappedWidth)});for(var O=!0,I=(S=y==null?void 0:y.start)!==null&&S!==void 0?S:0;I<w.columns.length;){if(_.has(I)){I++;continue}var A=w.columns[I].wrappedWidth;if(O||m>=A)O=!1,x.push(I),N.push(w.columns[I]),m-=A;else break;I++}return{colIndexes:x,columns:N,lastIndex:I-1}}function d(p,w){for(var y=[],S=0;S<w.columns.length;S++){var m=f(p,w,{start:S});m.columns.length&&(y.push(m),S=m.lastIndex)}return y}l.calculateAllColumnsCanFitInPage=d},324:function(a,l,c){Object.defineProperty(l,"__esModule",{value:!0}),l.ellipsize=l.resizeColumns=l.calculateWidths=void 0;var h=c(420);function f(x,N){d(x,N);var k=[],O=0;N.columns.forEach(function(A){var U=A.getMaxCustomCellWidth(N);U?A.width=U:(A.width=A.wrappedWidth,k.push(A)),O+=A.width});var I=N.getWidth(x.pageSize().width)-O;I&&(I=p(k,I,function(A){return Math.max(A.minReadableWidth,A.minWidth)})),I&&(I=p(k,I,function(A){return A.minWidth})),I=Math.abs(I),!N.settings.horizontalPageBreak&&I>.1/x.scaleFactor()&&(I=I<1?I:Math.round(I),console.warn("Of the table content, ".concat(I," units width could not fit page"))),y(N),S(N,x),w(N)}l.calculateWidths=f;function d(x,N){var k=x.scaleFactor(),O=N.settings.horizontalPageBreak,I=(0,h.getPageAvailableWidth)(x,N);N.allRows().forEach(function(A){for(var U=0,W=N.columns;U<W.length;U++){var E=W[U],P=A.cells[E.index];if(P){var K=N.hooks.didParseCell;N.callCellHooks(x,K,P,A,E,null);var D=P.padding("horizontal");P.contentWidth=(0,h.getStringWidth)(P.text,P.styles,x)+D;var Q=(0,h.getStringWidth)(P.text.join(" ").split(/[^\S\u00A0]+/),P.styles,x);if(P.minReadableWidth=Q+P.padding("horizontal"),typeof P.styles.cellWidth=="number")P.minWidth=P.styles.cellWidth,P.wrappedWidth=P.styles.cellWidth;else if(P.styles.cellWidth==="wrap"||O===!0)P.contentWidth>I?(P.minWidth=I,P.wrappedWidth=I):(P.minWidth=P.contentWidth,P.wrappedWidth=P.contentWidth);else{var H=10/k;P.minWidth=P.styles.minCellWidth||H,P.wrappedWidth=P.contentWidth,P.minWidth>P.wrappedWidth&&(P.wrappedWidth=P.minWidth)}}}}),N.allRows().forEach(function(A){for(var U=0,W=N.columns;U<W.length;U++){var E=W[U],P=A.cells[E.index];if(P&&P.colSpan===1)E.wrappedWidth=Math.max(E.wrappedWidth,P.wrappedWidth),E.minWidth=Math.max(E.minWidth,P.minWidth),E.minReadableWidth=Math.max(E.minReadableWidth,P.minReadableWidth);else{var K=N.styles.columnStyles[E.dataKey]||N.styles.columnStyles[E.index]||{},D=K.cellWidth||K.minCellWidth;D&&typeof D=="number"&&(E.minWidth=D,E.wrappedWidth=D)}P&&(P.colSpan>1&&!E.minWidth&&(E.minWidth=P.minWidth),P.colSpan>1&&!E.wrappedWidth&&(E.wrappedWidth=P.minWidth))}})}function p(x,N,k){for(var O=N,I=x.reduce(function(H,$){return H+$.wrappedWidth},0),A=0;A<x.length;A++){var U=x[A],W=U.wrappedWidth/I,E=O*W,P=U.width+E,K=k(U),D=P<K?K:P;N-=D-U.width,U.width=D}if(N=Math.round(N*1e10)/1e10,N){var Q=x.filter(function(H){return N<0?H.width>k(H):!0});Q.length&&(N=p(Q,N,k))}return N}l.resizeColumns=p;function w(x){for(var N={},k=1,O=x.allRows(),I=0;I<O.length;I++)for(var A=O[I],U=0,W=x.columns;U<W.length;U++){var E=W[U],P=N[E.index];if(k>1)k--,delete A.cells[E.index];else if(P)P.cell.height+=A.height,k=P.cell.colSpan,delete A.cells[E.index],P.left--,P.left<=1&&delete N[E.index];else{var K=A.cells[E.index];if(!K)continue;if(K.height=A.height,K.rowSpan>1){var D=O.length-I,Q=K.rowSpan>D?D:K.rowSpan;N[E.index]={cell:K,left:Q,row:A}}}}}function y(x){for(var N=x.allRows(),k=0;k<N.length;k++)for(var O=N[k],I=null,A=0,U=0,W=0;W<x.columns.length;W++){var E=x.columns[W];if(U-=1,U>1&&x.columns[W+1])A+=E.width,delete O.cells[E.index];else if(I){var P=I;delete O.cells[E.index],I=null,P.width=E.width+A}else{var P=O.cells[E.index];if(!P)continue;if(U=P.colSpan,A=0,P.colSpan>1){I=P,A+=E.width;continue}P.width=E.width+A}}}function S(x,N){for(var k={count:0,height:0},O=0,I=x.allRows();O<I.length;O++){for(var A=I[O],U=0,W=x.columns;U<W.length;U++){var E=W[U],P=A.cells[E.index];if(P){N.applyStyles(P.styles,!0);var K=P.width-P.padding("horizontal");if(P.styles.overflow==="linebreak")P.text=N.splitTextToSize(P.text,K+1/N.scaleFactor(),{fontSize:P.styles.fontSize});else if(P.styles.overflow==="ellipsize")P.text=m(P.text,K,P.styles,N,"...");else if(P.styles.overflow==="hidden")P.text=m(P.text,K,P.styles,N,"");else if(typeof P.styles.overflow=="function"){var D=P.styles.overflow(P.text,K);typeof D=="string"?P.text=[D]:P.text=D}P.contentHeight=P.getContentHeight(N.scaleFactor(),N.getLineHeightFactor());var Q=P.contentHeight/P.rowSpan;P.rowSpan>1&&k.count*k.height<Q*P.rowSpan?k={height:Q,count:P.rowSpan}:k&&k.count>0&&k.height>Q&&(Q=k.height),Q>A.height&&(A.height=Q)}}k.count--}}function m(x,N,k,O,I){return x.map(function(A){return _(A,N,k,O,I)})}l.ellipsize=m;function _(x,N,k,O,I){var A=1e4*O.scaleFactor();if(N=Math.ceil(N*A)/A,N>=(0,h.getStringWidth)(x,k,O))return x;for(;N<(0,h.getStringWidth)(x+I,k,O)&&!(x.length<=1);)x=x.substring(0,x.length-1);return x.trim()+I}},964:function(a){if(typeof n>"u"){var l=new Error("Cannot find module 'undefined'");throw l.code="MODULE_NOT_FOUND",l}a.exports=n}},r={};function s(a){var l=r[a];if(l!==void 0)return l.exports;var c=r[a]={exports:{}};return i[a].call(c.exports,c,c.exports,s),c.exports}var o={};return function(){var a=o;Object.defineProperty(a,"__esModule",{value:!0}),a.Cell=a.Column=a.Row=a.Table=a.CellHookData=a.__drawTable=a.__createTable=a.applyPlugin=void 0;var l=s(340),c=s(776),h=s(664),f=s(972),d=s(260);Object.defineProperty(a,"Table",{enumerable:!0,get:function(){return d.Table}});var p=s(172);Object.defineProperty(a,"CellHookData",{enumerable:!0,get:function(){return p.CellHookData}});var w=s(260);Object.defineProperty(a,"Cell",{enumerable:!0,get:function(){return w.Cell}}),Object.defineProperty(a,"Column",{enumerable:!0,get:function(){return w.Column}}),Object.defineProperty(a,"Row",{enumerable:!0,get:function(){return w.Row}});function y(N){(0,l.default)(N)}a.applyPlugin=y;function S(N,k){var O=(0,c.parseInput)(N,k),I=(0,f.createTable)(N,O);(0,h.drawTable)(N,I)}function m(N,k){var O=(0,c.parseInput)(N,k);return(0,f.createTable)(N,O)}a.__createTable=m;function _(N,k){(0,h.drawTable)(N,k)}a.__drawTable=_;try{var x=s(964);x.jsPDF&&(x=x.jsPDF),y(x)}catch{}a.default=S}(),o}()})})(k9);const g1=Gy(Xc),Yu=n5(Xc);function E9({data:t,dates:e}){const[n,i]=we.useState(""),[r,s]=we.useState({date:"",line:"",head:"",issue:"",repaired:"",running:""}),[o,a]=we.useState(()=>new Map),[l,c]=we.useState(!1);we.useEffect(()=>{(async()=>{let k=[];if(Yu.currentUser)try{const A=await Va(Or(g1,`user-history/${Yu.currentUser.uid}`));A.exists()&&(k=A.val())}catch(A){console.error("Failed to load cloud history",A)}const O=localStorage.getItem("importedHistory");if(O)try{const A=JSON.parse(O);k=k.length?f(k,A):A}catch(A){console.error("Failed to parse local history",A)}const I=h(k);d(I)})()},[]);const h=N=>{const k=new Set;return N.filter(O=>{const I=O.id||`${O.date}-${O.line}-${O.head}-${O.issue}`;return k.has(I)?!1:(k.add(I),!0)})},f=(N,k)=>{const O=new Map;return[...N,...k].forEach(I=>{const A=I.id||`${I.date}-${I.line}-${I.head}-${I.issue}`;O.has(A)||O.set(A,I)}),Array.from(O.values())},d=N=>{const k=new Map;N.forEach(O=>{if(O.line&&O.head){const I=`${O.line}-Head ${O.head}`;k.set(I,(k.get(I)||0)+1)}}),a(k)},p=we.useCallback(N=>{var I;const k=(I=N.target.files)==null?void 0:I[0];if(!k)return;const O=new FileReader;O.onload=A=>{var U;try{const W=JSON.parse((U=A.target)==null?void 0:U.result);if(!Array.isArray(W))throw new Error("Expected an array of log entries.");localStorage.setItem("importedHistory",JSON.stringify(W)),d(W),alert(`Imported ${W.length} records.`)}catch(W){alert("Import failed: "+W.message)}},O.readAsText(k),N.target.value=""},[]),w=async()=>{if(!Yu.currentUser)return alert("Please wait for authentication.");const N=localStorage.getItem("importedHistory");if(!N)return alert("No history to save. Import a file first.");c(!0);try{const k=JSON.parse(N);if(!Array.isArray(k))throw new Error("Invalid history format.");const O=await Va(Or(g1,`user-history/${Yu.currentUser.uid}`)),I=O.exists()?O.val():[],A=f(I,k);await kg(Or(g1,`user-history/${Yu.currentUser.uid}`),A),localStorage.setItem("importedHistory",JSON.stringify(A)),d(A),alert(`History updated! Now ${A.length} total records.`)}catch(k){alert("Failed to save: "+k.message)}finally{c(!1)}},y=we.useMemo(()=>e.map(N=>{const k=t[N]||{},O=[];return Object.keys(k).forEach(I=>{const A=k[I]||{heads:[],machineNotes:"",running:!1};A.heads.filter(U=>U.offline!=="Active").forEach(U=>{O.push({date:N,line:I,head:U.head,issue:U.issue,notes:U.notes||"None",repaired:U.repaired,running:A.running?"Yes":"No"})}),A.machineNotes&&O.push({date:N,line:I,head:"",issue:"",notes:A.machineNotes,repaired:"",running:A.running?"Yes":"No"})}),O}).flat().sort((N,k)=>{const O=new Date(N.date)-new Date(k.date);if(O!==0)return O;const I=parseInt(N.line.replace("Line ",""),10),A=parseInt(k.line.replace("Line ",""),10);return I-A}),[t,e]),S=we.useMemo(()=>{const N={date:new Set,line:new Set,head:new Set,issue:new Set,repaired:new Set,running:new Set};return y.forEach(k=>{N.date.add(k.date),N.line.add(k.line),k.head&&N.head.add(String(k.head)),k.issue&&k.issue!=="None"&&N.issue.add(k.issue),k.repaired&&N.repaired.add(k.repaired),N.running.add(k.running)}),{date:["",...Array.from(N.date).sort()],line:["",...Array.from(N.line).sort((k,O)=>{const I=parseInt(k.replace("Line ",""),10),A=parseInt(O.replace("Line ",""),10);return I-A})],head:["",...Array.from(N.head).sort((k,O)=>Number(k)-Number(O))],issue:["","None",...Array.from(N.issue).sort()],repaired:["",...Array.from(N.repaired).sort()],running:["",...Array.from(N.running).sort()]}},[y]),m=we.useMemo(()=>{let N=y;if(n.trim()){const k=n.toLowerCase();N=N.filter(O=>Object.values(O).some(I=>String(I).toLowerCase().includes(k)))}return r.date&&(N=N.filter(k=>k.date===r.date)),r.line&&(N=N.filter(k=>k.line===r.line)),r.head&&(N=N.filter(k=>String(k.head)===r.head)),r.issue&&(N=N.filter(k=>k.issue===r.issue)),r.repaired&&(N=N.filter(k=>k.repaired===r.repaired)),r.running&&(N=N.filter(k=>k.running===r.running)),N},[y,n,r]),_=()=>{const N=new $e;N.text("Downtime Logger Summary",14,20),N.autoTable({startY:30,head:[["Date","Line","Head","Issue","Notes","Repaired","Running","Past Failures"]],body:m.map(k=>{const O=`${k.line}-Head ${k.head}`,I=k.head?o.get(O)||0:"-";return[k.date,k.line,k.head,k.issue,k.notes,k.repaired,k.running,I]}),theme:"striped",styles:{fontSize:9,cellPadding:2},headStyles:{fillColor:[66,66,66]}}),N.save("downtime-summary.pdf")},x=()=>{i(""),s({date:"",line:"",head:"",issue:"",repaired:"",running:""})};return ee.jsxs("div",{className:"max-w-6xl mx-auto p-6 bg-white rounded-lg shadow-md md:p-4 sm:p-2",children:[ee.jsx("h2",{className:"text-2xl font-semibold text-center mb-4 sm:text-xl",children:"Summary"}),ee.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center mb-4 gap-2",children:[ee.jsxs("div",{className:"flex gap-2 flex-wrap",children:[ee.jsx(oi,{to:"/logger",className:"px-4 py-2 bg-blue-500 text-white rounded sm:px-2 sm:py-1",children:"Back to Logger"}),ee.jsxs("label",{className:"px-4 py-2 bg-indigo-600 text-white rounded cursor-pointer sm:px-2 sm:py-1 text-center",children:["Import History",ee.jsx("input",{type:"file",accept:".json",onChange:p,className:"hidden"})]}),ee.jsx("button",{onClick:w,disabled:l,className:"px-4 py-2 bg-teal-600 text-white rounded sm:px-2 sm:py-1 disabled:opacity-50",children:l?"Saving...":"Save History to Cloud"}),ee.jsx(oi,{to:"/head-history",className:"px-4 py-2 bg-teal-700 text-white rounded sm:px-2 sm:py-1",children:"View Full Head History"})]}),ee.jsx("input",{type:"text",placeholder:"Global search...",value:n,onChange:N=>i(N.target.value),className:"border rounded px-3 py-1 w-full sm:w-64 focus:outline-none focus:ring-2 focus:ring-blue-400"}),ee.jsxs("div",{className:"flex gap-2",children:[ee.jsx("button",{onClick:_,className:"px-4 py-2 bg-green-500 text-white rounded sm:px-2 sm:py-1",children:"Export to PDF"}),ee.jsx(oi,{to:"/running",className:"px-4 py-2 bg-purple-500 text-white rounded sm:px-2 sm:py-1",children:"Running"})]})]}),ee.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-6 gap-2 mb-4",children:Object.keys(S).map(N=>ee.jsxs("select",{value:r[N],onChange:k=>s(O=>({...O,[N]:k.target.value})),className:"border rounded px-2 py-1 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",children:[ee.jsx("option",{value:"",children:N.charAt(0).toUpperCase()+N.slice(1)}),S[N].map(k=>ee.jsx("option",{value:k,children:k||"(empty)"},`${N}-${k}`))]},N))}),(n||Object.values(r).some(N=>N))&&ee.jsx("div",{className:"mb-4 text-right",children:ee.jsx("button",{onClick:x,className:"text-sm text-red-600 hover:underline",children:"Clear All Filters"})}),m.length===0?ee.jsx("p",{className:"text-center text-gray-600 sm:text-sm",children:n||Object.values(r).some(N=>N)?"No rows match your filters.":"No downtime data available."}):ee.jsx("div",{className:"overflow-x-auto",children:ee.jsxs("table",{className:"w-full table-auto border-collapse min-w-max",children:[ee.jsx("thead",{children:ee.jsx("tr",{className:"bg-gray-100",children:["Date","Line","Head","Issue","Notes","Repaired","Running","Past Failures"].map(N=>ee.jsx("th",{className:"p-2 text-center border sm:p-1 sm:text-sm",children:N},N))})}),ee.jsx("tbody",{children:m.map((N,k)=>{const O=`${N.line}-Head ${N.head}`,I=N.head&&o.get(O)||0;return ee.jsxs("tr",{className:N.repaired==="Fixed"?"bg-orange-200":N.repaired==="Not Fixed"?"bg-red-200":"bg-gray-50",children:[ee.jsx("td",{className:"p-2 text-center border sm:p-1 sm:text-sm",children:N.date}),ee.jsx("td",{className:"p-2 text-center border sm:p-1 sm:text-sm",children:N.line}),ee.jsx("td",{className:"p-2 text-center border sm:p-1 sm:text-sm",children:N.head}),ee.jsx("td",{className:"p-2 text-center border sm:p-1 sm:text-sm",children:N.issue}),ee.jsx("td",{className:"p-2 border sm:p-1 sm:text-sm max-w-xs whitespace-normal",children:N.notes}),ee.jsx("td",{className:"p-2 text-center border sm:p-1 sm:text-sm",children:N.repaired}),ee.jsx("td",{className:"p-2 text-center border sm:p-1 sm:text-sm",children:N.running}),ee.jsx("td",{className:"p-2 text-center border sm:p-1 sm:text-sm",children:I>0?ee.jsx(oi,{to:`/history/${encodeURIComponent(N.line)}/${N.head}`,className:"font-semibold text-red-600 hover:underline",onClick:()=>{const A=localStorage.getItem("importedHistory");A&&localStorage.setItem("currentHistoryView",A)},children:I}):ee.jsx("span",{className:"text-gray-400",children:"0"})})]},k)})})]})})]})}wf.register(ih,G4,q4);function P9({data:t,dates:e}){const n=[{name:"PC Line",lines:Array.from({length:7},(y,S)=>`Line ${S+1}`)},{name:"Pellet Line",lines:Array.from({length:3},(y,S)=>`Line ${S+8}`)},{name:"Extruded",lines:Array.from({length:6},(y,S)=>`Line ${S+11}`)},{name:"Hand Kettle",lines:Array.from({length:7},(y,S)=>`Line ${S+17}`)},{name:"Twin Screw",lines:Array.from({length:8},(y,S)=>`Line ${S+24}`)},{name:"Sheeted 1",lines:Array.from({length:6},(y,S)=>`Line ${S+32}`)},{name:"Sheeted 2",lines:Array.from({length:2},(y,S)=>`Line ${S+38}`)}],i=["None","Chute","Operator","Load Cell","Detached Head","Stepper Motor Error","Hopper Issues","Installed Wrong"],r={None:"#E0E0E0",Chute:"#FF6384",Operator:"#36A2EB","Load Cell":"#FFCE56","Detached Head":"#4BC0C0","Stepper Motor Error":"#9966FF","Hopper Issues":"#FF9F40","Installed Wrong":"#4CAF50"},[s,o]=we.useState([]),[a,l]=we.useState("All Days"),c=y=>{o(S=>S.includes(y)?S.filter(m=>m!==y):[...S,y])},h={},f={},d=a==="All Days"?i.reduce((y,S)=>({...y,[S]:0}),{}):e.reduce((y,S)=>({...y,[S]:i.reduce((m,_)=>({...m,[_]:0}),{})}),{});n.forEach(y=>{y.lines.forEach(k=>{h[k]={},(e||[]).forEach(O=>{const A=(t[O]||{})[k]||{heads:[]},U=A.heads.filter(E=>E.offline!=="Active").length,W=A.heads.filter(E=>E.offline!=="Active"&&E.repaired==="Fixed").length;h[k][O]={offline:U,fixed:W}})});let S=0,m=0,_=0;y.lines.forEach(k=>{if(a==="All Days")(e||[]).forEach(O=>{const A=(t[O]||{})[k]||{heads:[],running:!1};if(A.running){S+=14;const U=A.heads.filter(E=>E.offline!=="Active").length,W=A.heads.filter(E=>E.offline!=="Active"&&E.repaired==="Fixed").length;m+=14-U,_+=W,A.heads.filter(E=>E.offline!=="Active").forEach(E=>{d[E.issue]=(d[E.issue]||0)+1})}});else{const I=(t[a]||{})[k]||{heads:[],running:!1};if(I.running){S+=14;const A=I.heads.filter(W=>W.offline!=="Active").length,U=I.heads.filter(W=>W.offline!=="Active"&&W.repaired==="Fixed").length;m+=14-A,_+=U,I.heads.filter(W=>W.offline!=="Active").forEach(W=>{d[a][W.issue]=(d[a][W.issue]||0)+1})}}});const x=S>0?(m/S*100).toFixed(2):0,N=S>0?((m+_)/S*100).toFixed(2):0;f[y.name]={totalEfficiency:x,fixedEfficiency:N}});const p=a==="All Days"?{labels:i.filter(y=>d[y]>0),datasets:[{data:i.filter(y=>d[y]>0).map(y=>d[y]),backgroundColor:i.filter(y=>d[y]>0).map(y=>r[y]),hoverOffset:4}]}:{labels:i.filter(y=>d[a][y]>0),datasets:[{data:i.filter(y=>d[a][y]>0).map(y=>d[a][y]),backgroundColor:i.filter(y=>d[a][y]>0).map(y=>r[y]),hoverOffset:4}]},w=(e||[]).map(y=>{const S=i.reduce((m,_)=>({...m,[_]:0}),{});return n.forEach(m=>{m.lines.forEach(_=>{const N=(t[y]||{})[_]||{heads:[],running:!1};N.running&&N.heads.filter(k=>k.offline!=="Active").forEach(k=>{S[k.issue]=(S[k.issue]||0)+1})})}),{date:y,data:{labels:i.filter(m=>S[m]>0),datasets:[{data:i.filter(m=>S[m]>0).map(m=>S[m]),backgroundColor:i.filter(m=>S[m]>0).map(m=>r[m]),hoverOffset:4}]}}}).filter(y=>y.data.labels.length>0);return ee.jsxs("div",{className:"max-w-4xl mx-auto p-6 bg-white rounded-lg shadow-md md:p-4 sm:p-2",children:[ee.jsx("h2",{className:"text-2xl font-semibold text-center mb-4 sm:text-xl",children:"Dashboard"}),ee.jsxs("div",{className:"flex justify-between mb-4",children:[ee.jsx(oi,{to:"/logger",className:"px-4 py-2 bg-blue-500 text-white rounded sm:px-2 sm:py-1",children:"Back to Logger"}),ee.jsx(oi,{to:"/summary",className:"px-4 py-2 bg-blue-500 text-white rounded sm:px-2 sm:py-1",children:"View Summary"}),ee.jsx(oi,{to:"/running",className:"px-4 py-2 bg-purple-500 text-white rounded sm:px-2 sm:py-1",children:"Running"})]}),ee.jsxs("div",{className:"flex justify-center items-center mb-4 space-x-4 sm:flex-col sm:space-x-0 sm:space-y-2",children:[ee.jsx("label",{className:"font-medium",children:"Select Date:"}),ee.jsxs("select",{value:a,onChange:y=>l(y.target.value),className:"border p-2 rounded sm:w-full",children:[ee.jsx("option",{value:"All Days",children:"All Days"}),(e||[]).map(y=>ee.jsx("option",{value:y,children:y},y))]})]}),ee.jsxs("div",{className:"mt-6",children:[ee.jsx("h3",{className:"text-xl font-semibold mb-2 text-center sm:text-lg",children:"Heads Down Summary"}),Object.keys(h).length===0?ee.jsx("p",{className:"text-center text-gray-600 sm:text-sm",children:"No data to display."}):n.map(y=>ee.jsxs("div",{className:"mb-4",children:[ee.jsxs("div",{className:"flex items-center justify-between bg-gray-200 p-2 cursor-pointer rounded",onClick:()=>c(y.name),children:[ee.jsxs("h4",{className:"text-lg font-medium sm:text-base",children:[y.name," (Total: ",f[y.name].totalEfficiency,"%, Fixed: ",f[y.name].fixedEfficiency,"%)"]}),ee.jsx("svg",{className:`w-5 h-5 transition-transform ${s.includes(y.name)?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:ee.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})]}),s.includes(y.name)&&ee.jsx("div",{className:"mt-2 pl-4",children:y.lines.map(S=>Object.keys(h[S]).length>0&&ee.jsxs("div",{className:"mb-4",children:[ee.jsx("h5",{className:"text-base font-medium sm:text-sm",children:S}),ee.jsxs("table",{className:"w-full table-auto border-collapse",children:[ee.jsx("thead",{children:ee.jsxs("tr",{className:"bg-gray-100",children:[ee.jsx("th",{className:"p-2 text-center border sm:p-1 sm:text-sm",children:"Date"}),ee.jsx("th",{className:"p-2 text-center border sm:p-1 sm:text-sm",children:"Offline Heads"}),ee.jsx("th",{className:"p-2 text-center border sm:p-1 sm:text-sm",children:"Fixed Heads"})]})}),ee.jsx("tbody",{children:(a==="All Days"?Object.keys(h[S]):[a].filter(m=>h[S][m])).sort((m,_)=>new Date(m)-new Date(_)).map(m=>ee.jsxs("tr",{children:[ee.jsx("td",{className:"p-2 text-center border sm:p-1 sm:text-sm",children:m}),ee.jsx("td",{className:"p-2 text-center border sm:p-1 sm:text-sm",children:h[S][m].offline}),ee.jsx("td",{className:"p-2 text-center border sm:p-1 sm:text-sm",children:h[S][m].fixed})]},m))})]})]},S))})]},y.name)),ee.jsxs("div",{className:"mt-6",children:[ee.jsx("h3",{className:"text-xl font-semibold mb-2 text-center sm:text-lg",children:"Issue Type Distribution"}),Object.values(d).every(y=>y===0||typeof y=="object"&&Object.values(y).every(S=>S===0))?ee.jsx("p",{className:"text-center text-gray-600 sm:text-sm",children:"No issues to display."}):ee.jsx("div",{className:"max-w-md mx-auto",children:ee.jsx(ab,{data:p,options:{responsive:!0,plugins:{legend:{position:"top"},title:{display:!0,text:`Issue Types - ${a==="All Days"?"All Days":a}`}}}})})]}),ee.jsxs("div",{className:"mt-6",children:[ee.jsx("h3",{className:"text-xl font-semibold mb-2 text-center sm:text-lg",children:"Issue Type Distribution Per Day"}),w.length===0?ee.jsx("p",{className:"text-center text-gray-600 sm:text-sm",children:"No issues to display for any day."}):ee.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:w.map(y=>ee.jsxs("div",{className:"max-w-md mx-auto",children:[ee.jsx("h4",{className:"text-lg font-medium text-center sm:text-base mb-2",children:y.date}),ee.jsx(ab,{data:y.data,options:{responsive:!0,plugins:{legend:{position:"top"},title:{display:!0,text:`Issue Types - ${y.date}`}}}})]},y.date))})]})]})]})}const I9=Array.from({length:14},(t,e)=>({head:e+1,offline:"Active",issue:"None",repaired:"Not Fixed",notes:""}));function L9({data:t,dates:e}){const[n,i]=we.useState(localStorage.getItem("currentDay")||"2025-07-10"),[r,s]=we.useState({}),o=i4(),a=()=>{const f=e.map(S=>typeof S=="object"&&S.date?S.date:typeof S=="string"?S:"").filter(Boolean),d=f.length>0?f:["2025-07-10"],p=localStorage.getItem("currentDay"),w=d.includes(p)?p:d[0]||"2025-07-10";i(w);const y={};d.forEach(S=>{y[S]||(y[S]={});const m=t[S]||{};Object.keys(m).forEach(_=>{y[S][_]=m[_]||{heads:I9,running:!1}})}),s(y)};we.useEffect(()=>{a()},[t,e]);const l=(f,d)=>{o("/logger",{state:{selectedDate:n,selectedLine:f}})},c=r[n]||{},h=Object.keys(c).filter(f=>c[f].running).sort((f,d)=>parseInt(f.replace("Line ",""))-parseInt(d.replace("Line ","")));return ee.jsxs("div",{className:"max-w-4xl mx-auto p-6 bg-white rounded-lg shadow-md md:p-4 sm:p-2",children:[ee.jsx("h2",{className:"text-2xl font-semibold mb-4 text-center sm:text-xl",children:"Running Heads Status"}),ee.jsxs("div",{className:"flex justify-between mb-4",children:[ee.jsx(oi,{to:"/logger",className:"px-4 py-2 bg-blue-500 text-white rounded sm:px-2 sm:py-1",children:"Back to Logger"}),ee.jsx(oi,{to:"/summary",className:"px-4 py-2 bg-blue-500 text-white rounded sm:px-2 sm:py-1",children:"View Summary"}),ee.jsx(oi,{to:"/dashboard",className:"px-4 py-2 bg-indigo-500 text-white rounded sm:px-2 sm:py-1",children:"Dashboard"})]}),ee.jsxs("div",{className:"flex justify-center mb-6 space-x-4 sm:flex-col sm:space-x-0 sm:space-y-2",children:[ee.jsx("label",{className:"mr-2 font-medium sm:mr-0",children:"Date:"}),ee.jsx("select",{value:n,onChange:f=>i(f.target.value),className:"border p-1 rounded sm:w-full",children:e.map((f,d)=>ee.jsx("option",{value:f,children:`Day ${d+1}: ${f}`},f))}),ee.jsx("button",{onClick:a,className:"px-3 py-1 bg-blue-500 text-white rounded sm:px-2 sm:py-1",children:"Refresh"})]}),ee.jsx("div",{className:"space-y-6",children:h.length===0?ee.jsxs("p",{className:"text-center text-gray-600 sm:text-sm",children:["No running lines for ",n,"."]}):h.map(f=>{const d=c[f];return ee.jsxs("div",{children:[ee.jsx("h3",{className:"font-medium mb-2 sm:text-base",children:ee.jsx(oi,{to:"/logger",state:{selectedDate:n,selectedLine:f},className:"hover:underline",children:f})}),ee.jsx("div",{className:"flex space-x-2 flex-wrap",children:d.heads.map(p=>{const w=p.offline==="Active"?"bg-green-500":p.repaired==="Fixed"?"bg-orange-500":"bg-red-500";return ee.jsx("button",{onClick:()=>l(f,p.head),className:`${w} w-8 h-8 rounded flex items-center justify-center text-white font-semibold sm:w-6 sm:h-6 sm:text-xs`,title:`Line ${f}, Head ${p.head}: ${p.issue}`,children:p.head},p.head)})})]},f)})})]})}function T9(){const{line:t,head:e}=wI(),[n,i]=we.useState([]),[r,s]=we.useState(!0);return we.useEffect(()=>{const o=localStorage.getItem("currentHistoryView")||localStorage.getItem("importedHistory");if(o)try{const l=JSON.parse(o).filter(c=>c.line===t&&String(c.head)===e).sort((c,h)=>new Date(c.date)-new Date(h.date));i(l)}catch(a){console.error("Failed to parse history",a)}s(!1)},[t,e]),r?ee.jsx("div",{className:"text-center p-8",children:"Loading..."}):ee.jsxs("div",{className:"max-w-5xl mx-auto p-6 bg-white rounded-lg shadow-md",children:[ee.jsxs("div",{className:"flex justify-between items-center mb-6",children:[ee.jsxs("h2",{className:"text-2xl font-bold",children:["Failure History: ",t,"  Head ",e]}),ee.jsx(oi,{to:"/summary",className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:" Back to Summary"})]}),n.length===0?ee.jsx("p",{className:"text-center text-gray-600",children:"No historical failures found."}):ee.jsx("div",{className:"overflow-x-auto",children:ee.jsxs("table",{className:"w-full table-auto border-collapse",children:[ee.jsx("thead",{children:ee.jsxs("tr",{className:"bg-gray-100",children:[ee.jsx("th",{className:"p-2 border text-center",children:"Date"}),ee.jsx("th",{className:"p-2 border text-center",children:"Issue"}),ee.jsx("th",{className:"p-2 border text-center",children:"Repaired"}),ee.jsx("th",{className:"p-2 border text-center",children:"Notes"})]})}),ee.jsx("tbody",{children:n.map((o,a)=>ee.jsxs("tr",{className:o.repaired==="Fixed"?"bg-orange-100":"bg-red-100",children:[ee.jsx("td",{className:"p-2 border text-center",children:o.date}),ee.jsx("td",{className:"p-2 border text-center",children:o.issue}),ee.jsx("td",{className:"p-2 border text-center",children:o.repaired}),ee.jsx("td",{className:"p-2 border max-w-xs whitespace-normal",children:o.notes||""})]},a))})]})})]})}const sp=Gy(Xc),Ku=n5(Xc),R9=["None","Chute","Operator","Load Cell","Detached Head","Stepper Motor Error","Hopper Issues","Installed Wrong"];function O9(){const[t,e]=we.useState(""),[n,i]=we.useState({date:"",line:"",head:"",issue:"",repaired:""}),[r,s]=we.useState([]),[o,a]=we.useState(!0),[l,c]=we.useState(!1),[h,f]=we.useState(null),[d,p]=we.useState({}),[w,y]=we.useState(""),S=async()=>{a(!0);let D=[];if(Ku.currentUser)try{const B=await Va(Or(sp,`user-history/${Ku.currentUser.uid}`));B.exists()&&(D=B.val())}catch(B){console.error("Failed to load history from cloud",B)}const Q=localStorage.getItem("importedHistory");if(Q)try{const B=JSON.parse(Q);D=D.length?U(D,B):B}catch(B){console.error("Local parse failed",B)}const H=A(D),$=I(H);s($),a(!1)};we.useEffect(()=>{S()},[]);const m=async D=>{try{await kg(Or(sp,`user-history/${Ku.currentUser.uid}`),D),localStorage.setItem("importedHistory",JSON.stringify(D)),y("Saved!"),setTimeout(()=>y(""),2e3)}catch(Q){console.error("Save failed",Q),y("Save failed"),setTimeout(()=>y(""),3e3)}},_=async()=>{if(!Ku.currentUser){alert("Please wait for authentication.");return}c(!0);try{const D=await Va(Or(sp,"downtime-logger-data"));if(!D.exists()){alert("No downtime data found to add.");return}const{data:Q}=D.val();if(!Q){alert("No downtime data found.");return}const H=[];if(Object.keys(Q).forEach(ue=>{const L=Q[ue]||{};Object.keys(L).forEach(q=>{const Y=L[q];Y&&Y.running&&Y.heads.filter(J=>J.offline!=="Active").forEach(J=>{H.push({date:ue,line:q,head:J.head,issue:J.issue,repaired:J.repaired,notes:J.notes||""})})})}),H.length===0){alert("No new downtime entries to add.");return}let $=[];try{const ue=await Va(Or(sp,`user-history/${Ku.currentUser.uid}`));ue.exists()&&($=ue.val())}catch(ue){console.error("Failed to load existing history",ue)}const B=new Set,G=[];[...$,...H].forEach(ue=>{const L=`${ue.date}-${ue.line}-${ue.head}-${ue.issue}`;B.has(L)||(B.add(L),G.push(ue))});const ie=I(G);s(ie),await m(ie),alert(`Added ${H.length} new entries! Total: ${G.length}`)}catch(D){console.error("Failed to add downtime to history",D),alert("Failed to add: "+D.message)}finally{c(!1)}},x=D=>{f(D),p({...r[D]})},N=async()=>{if(h===null)return;const D=[...r];D[h]=d;const Q=I(D);s(Q),f(null),await m(Q),alert("Entry updated and saved!")},k=()=>{f(null),p({})},O=async D=>{if(!window.confirm("Delete this entry?"))return;const Q=r.filter(($,B)=>B!==D),H=I(Q);s(H),await m(H),alert("Entry deleted and saved.")},I=D=>D.sort((Q,H)=>{const $=new Date(H.date)-new Date(Q.date);if($!==0)return $;const B=parseInt(Q.line.replace("Line ",""),10),G=parseInt(H.line.replace("Line ",""),10);return B-G}),A=D=>{const Q=new Set;return D.filter(H=>{const $=H.id||`${H.date}-${H.line}-${H.head}-${H.issue}`;return Q.has($)?!1:(Q.add($),!0)})},U=(D,Q)=>{const H=new Map;return[...D,...Q].forEach($=>{const B=$.id||`${$.date}-${$.line}-${$.head}-${$.issue}`;H.has(B)||H.set(B,$)}),Array.from(H.values())},W=we.useMemo(()=>{let D=r;if(t.trim()){const Q=t.toLowerCase();D=D.filter(H=>Object.values(H).some($=>String($).toLowerCase().includes(Q)))}return n.date&&(D=D.filter(Q=>Q.date===n.date)),n.line&&(D=D.filter(Q=>Q.line===n.line)),n.head&&(D=D.filter(Q=>String(Q.head)===n.head)),n.issue&&(D=D.filter(Q=>Q.issue===n.issue)),n.repaired&&(D=D.filter(Q=>Q.repaired===n.repaired)),D},[r,t,n]),E=we.useMemo(()=>{const D={date:new Set,line:new Set,head:new Set,issue:new Set,repaired:new Set};return r.forEach(Q=>{D.date.add(Q.date),D.line.add(Q.line),Q.head&&D.head.add(String(Q.head)),Q.issue&&D.issue.add(Q.issue),Q.repaired&&D.repaired.add(Q.repaired)}),{date:["",...Array.from(D.date).sort()],line:["",...Array.from(D.line).sort((Q,H)=>{const $=parseInt(Q.replace("Line ",""),10),B=parseInt(H.replace("Line ",""),10);return $-B})],head:["",...Array.from(D.head).sort((Q,H)=>Number(Q)-Number(H))],issue:["",...Array.from(D.issue).sort()],repaired:["",...Array.from(D.repaired).sort()]}},[r]),P=()=>{const D=new Blob([JSON.stringify(W,null,2)],{type:"application/json"}),Q=URL.createObjectURL(D),H=document.createElement("a");H.href=Q,H.download=`head-history-${new Date().toISOString().split("T")[0]}.json`,H.click(),URL.revokeObjectURL(Q)},K=()=>{e(""),i({date:"",line:"",head:"",issue:"",repaired:""})};return ee.jsxs("div",{className:"max-w-6xl mx-auto p-6 bg-white rounded-lg shadow-md md:p-4 sm:p-2",children:[ee.jsx("h2",{className:"text-2xl font-semibold text-center mb-4 sm:text-xl",children:"Head Failure History"}),w&&ee.jsx("div",{className:`text-center mb-2 font-medium ${w==="Saved!"?"text-green-600":"text-red-600"}`,children:w}),ee.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center mb-4 gap-2",children:[ee.jsxs("div",{className:"flex gap-2",children:[ee.jsx(oi,{to:"/summary",className:"px-4 py-2 bg-blue-500 text-white rounded sm:px-2 sm:py-1",children:"Back to Summary"}),ee.jsx("button",{onClick:S,className:"px-4 py-2 bg-orange-600 text-white rounded sm:px-2 sm:py-1",children:"Force Refresh"}),ee.jsx("button",{onClick:_,disabled:l,className:"px-4 py-2 bg-teal-600 text-white rounded sm:px-2 sm:py-1 disabled:opacity-50",children:l?"Adding...":"Add Current Downtime"})]}),ee.jsx("button",{onClick:P,className:"px-4 py-2 bg-green-600 text-white rounded sm:px-2 sm:py-1",children:"Export to JSON"})]}),ee.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-5 gap-2 mb-4",children:Object.keys(E).map(D=>ee.jsxs("select",{value:n[D],onChange:Q=>i(H=>({...H,[D]:Q.target.value})),className:"border rounded px-2 py-1 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",children:[ee.jsx("option",{value:"",children:D.charAt(0).toUpperCase()+D.slice(1)}),E[D].map((Q,H)=>ee.jsx("option",{value:Q,children:Q||"(empty)"},`${D}-option-${H}`))]},D))}),(t||Object.values(n).some(D=>D))&&ee.jsx("div",{className:"mb-4 text-right",children:ee.jsx("button",{onClick:K,className:"text-sm text-red-600 hover:underline",children:"Clear All Filters"})}),o?ee.jsx("p",{className:"text-center text-gray-600",children:"Loading..."}):W.length===0?ee.jsx("p",{className:"text-center text-gray-600",children:"No history entries match your filters."}):ee.jsx("div",{className:"overflow-x-auto",children:ee.jsxs("table",{className:"w-full table-auto border-collapse min-w-max",children:[ee.jsx("thead",{children:ee.jsxs("tr",{className:"bg-gray-100",children:[ee.jsx("th",{className:"p-2 border text-center",children:"Date"}),ee.jsx("th",{className:"p-2 border text-center",children:"Line"}),ee.jsx("th",{className:"p-2 border text-center",children:"Head"}),ee.jsx("th",{className:"p-2 border text-center",children:"Issue"}),ee.jsx("th",{className:"p-2 border text-center",children:"Repaired"}),ee.jsx("th",{className:"p-2 border text-center",children:"Notes"}),ee.jsx("th",{className:"p-2 border text-center",children:"Actions"})]})}),ee.jsx("tbody",{children:W.map((D,Q)=>{const H=r.indexOf(D),$=h===H;return ee.jsx("tr",{className:D.repaired==="Fixed"?"bg-orange-100":"bg-red-100",children:$?ee.jsxs(ee.Fragment,{children:[ee.jsx("td",{className:"p-2 border",children:ee.jsx("input",{type:"date",value:d.date||"",onChange:B=>p(G=>({...G,date:B.target.value})),className:"w-full p-1 border rounded text-sm"})}),ee.jsx("td",{className:"p-2 border",children:ee.jsx("input",{value:d.line||"",onChange:B=>p(G=>({...G,line:B.target.value})),className:"w-full p-1 border rounded text-sm"})}),ee.jsx("td",{className:"p-2 border",children:ee.jsx("input",{type:"number",min:"1",max:"14",value:d.head||"",onChange:B=>p(G=>({...G,head:B.target.value})),className:"w-full p-1 border rounded text-sm"})}),ee.jsx("td",{className:"p-2 border",children:ee.jsx("select",{value:d.issue||"",onChange:B=>p(G=>({...G,issue:B.target.value})),className:"w-full p-1 border rounded text-sm",children:R9.map(B=>ee.jsx("option",{value:B,children:B},B))})}),ee.jsx("td",{className:"p-2 border",children:ee.jsxs("select",{value:d.repaired||"",onChange:B=>p(G=>({...G,repaired:B.target.value})),className:"w-full p-1 border rounded text-sm",children:[ee.jsx("option",{value:"Not Fixed",children:"Not Fixed"}),ee.jsx("option",{value:"Fixed",children:"Fixed"})]})}),ee.jsx("td",{className:"p-2 border",children:ee.jsx("input",{value:d.notes||"",onChange:B=>p(G=>({...G,notes:B.target.value})),className:"w-full p-1 border rounded text-sm"})}),ee.jsxs("td",{className:"p-2 border text-center",children:[ee.jsx("button",{onClick:N,className:"px-2 py-1 bg-green-500 text-white rounded text-xs mr-1",children:"Save"}),ee.jsx("button",{onClick:k,className:"px-2 py-1 bg-gray-500 text-white rounded text-xs",children:"Cancel"})]})]}):ee.jsxs(ee.Fragment,{children:[ee.jsx("td",{className:"p-2 border text-center",children:D.date}),ee.jsx("td",{className:"p-2 border text-center",children:D.line}),ee.jsx("td",{className:"p-2 border text-center",children:D.head}),ee.jsx("td",{className:"p-2 border text-center",children:D.issue}),ee.jsx("td",{className:"p-2 border text-center",children:D.repaired}),ee.jsx("td",{className:"p-2 border max-w-xs whitespace-normal",children:D.notes||""}),ee.jsxs("td",{className:"p-2 border text-center",children:[ee.jsx("button",{onClick:()=>x(H),className:"px-2 py-1 bg-blue-500 text-white rounded text-xs mr-1",children:"Edit"}),ee.jsx("button",{onClick:()=>O(H),className:"px-2 py-1 bg-red-500 text-white rounded text-xs",children:"Delete"})]})]})},H)})})]})})]})}function M9(){const[t,e]=we.useState(()=>{const r=localStorage.getItem("downtimeLoggerData");return r?JSON.parse(r):{}}),[n,i]=we.useState(()=>{const r=localStorage.getItem("downtimeLoggerDates");return r?JSON.parse(r):[]});return ee.jsx(WI,{children:ee.jsxs(DI,{children:[ee.jsx(_o,{path:"/",element:ee.jsx(gx,{data:t,setData:e,dates:n,setDates:i})}),ee.jsx(_o,{path:"/logger",element:ee.jsx(gx,{data:t,setData:e,dates:n,setDates:i})}),ee.jsx(_o,{path:"/summary",element:ee.jsx(E9,{data:t,dates:n})}),ee.jsx(_o,{path:"/dashboard",element:ee.jsx(P9,{data:t,dates:n})}),ee.jsx(_o,{path:"/running",element:ee.jsx(L9,{data:t,dates:n})}),ee.jsx(_o,{path:"/history/:line/:head",element:ee.jsx(T9,{})}),ee.jsx(_o,{path:"/head-history",element:ee.jsx(O9,{})})]})})}m1.createRoot(document.getElementById("root")).render(ee.jsx(Og.StrictMode,{children:ee.jsx(M9,{})}));export{Pt as _,o0 as c,mA as g};
