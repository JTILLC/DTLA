(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function t(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(s){if(s.ep)return;s.ep=!0;const a=t(s);fetch(s.href,a)}})();var AU=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function O3(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var L1={exports:{}},hd={};var m_;function yE(){if(m_)return hd;m_=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,s,a){var l=null;if(a!==void 0&&(l=""+a),s.key!==void 0&&(l=""+s.key),"key"in s){a={};for(var c in s)c!=="key"&&(a[c]=s[c])}else a=s;return s=a.ref,{$$typeof:n,type:i,key:l,ref:s!==void 0?s:null,props:a}}return hd.Fragment=e,hd.jsx=t,hd.jsxs=t,hd}var y_;function vE(){return y_||(y_=1,L1.exports=yE()),L1.exports}var A=vE(),R1={exports:{}},Ht={};var v_;function bE(){if(v_)return Ht;v_=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.for("react.activity"),b=Symbol.iterator;function y(F){return F===null||typeof F!="object"?null:(F=b&&F[b]||F["@@iterator"],typeof F=="function"?F:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,k={};function T(F,w,D){this.props=F,this.context=w,this.refs=k,this.updater=D||N}T.prototype.isReactComponent={},T.prototype.setState=function(F,w){if(typeof F!="object"&&typeof F!="function"&&F!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,F,w,"setState")},T.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};function j(){}j.prototype=T.prototype;function q(F,w,D){this.props=F,this.context=w,this.refs=k,this.updater=D||N}var H=q.prototype=new j;H.constructor=q,E(H,T.prototype),H.isPureReactComponent=!0;var V=Array.isArray;function oe(){}var ae={H:null,A:null,T:null,S:null},K=Object.prototype.hasOwnProperty;function Y(F,w,D){var z=D.ref;return{$$typeof:n,type:F,key:w,ref:z!==void 0?z:null,props:D}}function ue(F,w){return Y(F.type,w,F.props)}function P(F){return typeof F=="object"&&F!==null&&F.$$typeof===n}function M(F){var w={"=":"=0",":":"=2"};return"$"+F.replace(/[=:]/g,function(D){return w[D]})}var Q=/\/+/g;function ne(F,w){return typeof F=="object"&&F!==null&&F.key!=null?M(""+F.key):w.toString(36)}function pe(F){switch(F.status){case"fulfilled":return F.value;case"rejected":throw F.reason;default:switch(typeof F.status=="string"?F.then(oe,oe):(F.status="pending",F.then(function(w){F.status==="pending"&&(F.status="fulfilled",F.value=w)},function(w){F.status==="pending"&&(F.status="rejected",F.reason=w)})),F.status){case"fulfilled":return F.value;case"rejected":throw F.reason}}throw F}function $(F,w,D,z,Z){var le=typeof F;(le==="undefined"||le==="boolean")&&(F=null);var ve=!1;if(F===null)ve=!0;else switch(le){case"bigint":case"string":case"number":ve=!0;break;case"object":switch(F.$$typeof){case n:case e:ve=!0;break;case p:return ve=F._init,$(ve(F._payload),w,D,z,Z)}}if(ve)return Z=Z(F),ve=z===""?"."+ne(F,0):z,V(Z)?(D="",ve!=null&&(D=ve.replace(Q,"$&/")+"/"),$(Z,w,D,"",function(Pe){return Pe})):Z!=null&&(P(Z)&&(Z=ue(Z,D+(Z.key==null||F&&F.key===Z.key?"":(""+Z.key).replace(Q,"$&/")+"/")+ve)),w.push(Z)),1;ve=0;var Ne=z===""?".":z+":";if(V(F))for(var Ce=0;Ce<F.length;Ce++)z=F[Ce],le=Ne+ne(z,Ce),ve+=$(z,w,D,le,Z);else if(Ce=y(F),typeof Ce=="function")for(F=Ce.call(F),Ce=0;!(z=F.next()).done;)z=z.value,le=Ne+ne(z,Ce++),ve+=$(z,w,D,le,Z);else if(le==="object"){if(typeof F.then=="function")return $(pe(F),w,D,z,Z);throw w=String(F),Error("Objects are not valid as a React child (found: "+(w==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":w)+"). If you meant to render a collection of children, use an array instead.")}return ve}function re(F,w,D){if(F==null)return F;var z=[],Z=0;return $(F,z,"","",function(le){return w.call(D,le,Z++)}),z}function ce(F){if(F._status===-1){var w=F._result;w=w(),w.then(function(D){(F._status===0||F._status===-1)&&(F._status=1,F._result=D)},function(D){(F._status===0||F._status===-1)&&(F._status=2,F._result=D)}),F._status===-1&&(F._status=0,F._result=w)}if(F._status===1)return F._result.default;throw F._result}var J=typeof reportError=="function"?reportError:function(F){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var w=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof F=="object"&&F!==null&&typeof F.message=="string"?String(F.message):String(F),error:F});if(!window.dispatchEvent(w))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",F);return}console.error(F)},_e={map:re,forEach:function(F,w,D){re(F,function(){w.apply(this,arguments)},D)},count:function(F){var w=0;return re(F,function(){w++}),w},toArray:function(F){return re(F,function(w){return w})||[]},only:function(F){if(!P(F))throw Error("React.Children.only expected to receive a single React element child.");return F}};return Ht.Activity=m,Ht.Children=_e,Ht.Component=T,Ht.Fragment=t,Ht.Profiler=s,Ht.PureComponent=q,Ht.StrictMode=i,Ht.Suspense=h,Ht.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ae,Ht.__COMPILER_RUNTIME={__proto__:null,c:function(F){return ae.H.useMemoCache(F)}},Ht.cache=function(F){return function(){return F.apply(null,arguments)}},Ht.cacheSignal=function(){return null},Ht.cloneElement=function(F,w,D){if(F==null)throw Error("The argument must be a React element, but you passed "+F+".");var z=E({},F.props),Z=F.key;if(w!=null)for(le in w.key!==void 0&&(Z=""+w.key),w)!K.call(w,le)||le==="key"||le==="__self"||le==="__source"||le==="ref"&&w.ref===void 0||(z[le]=w[le]);var le=arguments.length-2;if(le===1)z.children=D;else if(1<le){for(var ve=Array(le),Ne=0;Ne<le;Ne++)ve[Ne]=arguments[Ne+2];z.children=ve}return Y(F.type,Z,z)},Ht.createContext=function(F){return F={$$typeof:l,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null},F.Provider=F,F.Consumer={$$typeof:a,_context:F},F},Ht.createElement=function(F,w,D){var z,Z={},le=null;if(w!=null)for(z in w.key!==void 0&&(le=""+w.key),w)K.call(w,z)&&z!=="key"&&z!=="__self"&&z!=="__source"&&(Z[z]=w[z]);var ve=arguments.length-2;if(ve===1)Z.children=D;else if(1<ve){for(var Ne=Array(ve),Ce=0;Ce<ve;Ce++)Ne[Ce]=arguments[Ce+2];Z.children=Ne}if(F&&F.defaultProps)for(z in ve=F.defaultProps,ve)Z[z]===void 0&&(Z[z]=ve[z]);return Y(F,le,Z)},Ht.createRef=function(){return{current:null}},Ht.forwardRef=function(F){return{$$typeof:c,render:F}},Ht.isValidElement=P,Ht.lazy=function(F){return{$$typeof:p,_payload:{_status:-1,_result:F},_init:ce}},Ht.memo=function(F,w){return{$$typeof:f,type:F,compare:w===void 0?null:w}},Ht.startTransition=function(F){var w=ae.T,D={};ae.T=D;try{var z=F(),Z=ae.S;Z!==null&&Z(D,z),typeof z=="object"&&z!==null&&typeof z.then=="function"&&z.then(oe,J)}catch(le){J(le)}finally{w!==null&&D.types!==null&&(w.types=D.types),ae.T=w}},Ht.unstable_useCacheRefresh=function(){return ae.H.useCacheRefresh()},Ht.use=function(F){return ae.H.use(F)},Ht.useActionState=function(F,w,D){return ae.H.useActionState(F,w,D)},Ht.useCallback=function(F,w){return ae.H.useCallback(F,w)},Ht.useContext=function(F){return ae.H.useContext(F)},Ht.useDebugValue=function(){},Ht.useDeferredValue=function(F,w){return ae.H.useDeferredValue(F,w)},Ht.useEffect=function(F,w){return ae.H.useEffect(F,w)},Ht.useEffectEvent=function(F){return ae.H.useEffectEvent(F)},Ht.useId=function(){return ae.H.useId()},Ht.useImperativeHandle=function(F,w,D){return ae.H.useImperativeHandle(F,w,D)},Ht.useInsertionEffect=function(F,w){return ae.H.useInsertionEffect(F,w)},Ht.useLayoutEffect=function(F,w){return ae.H.useLayoutEffect(F,w)},Ht.useMemo=function(F,w){return ae.H.useMemo(F,w)},Ht.useOptimistic=function(F,w){return ae.H.useOptimistic(F,w)},Ht.useReducer=function(F,w,D){return ae.H.useReducer(F,w,D)},Ht.useRef=function(F){return ae.H.useRef(F)},Ht.useState=function(F){return ae.H.useState(F)},Ht.useSyncExternalStore=function(F,w,D){return ae.H.useSyncExternalStore(F,w,D)},Ht.useTransition=function(){return ae.H.useTransition()},Ht.version="19.2.1",Ht}var b_;function Dy(){return b_||(b_=1,R1.exports=bE()),R1.exports}var de=Dy();const My=O3(de);var D1={exports:{}},fd={},M1={exports:{}},O1={};var __;function _E(){return __||(__=1,(function(n){function e($,re){var ce=$.length;$.push(re);e:for(;0<ce;){var J=ce-1>>>1,_e=$[J];if(0<s(_e,re))$[J]=re,$[ce]=_e,ce=J;else break e}}function t($){return $.length===0?null:$[0]}function i($){if($.length===0)return null;var re=$[0],ce=$.pop();if(ce!==re){$[0]=ce;e:for(var J=0,_e=$.length,F=_e>>>1;J<F;){var w=2*(J+1)-1,D=$[w],z=w+1,Z=$[z];if(0>s(D,ce))z<_e&&0>s(Z,D)?($[J]=Z,$[z]=ce,J=z):($[J]=D,$[w]=ce,J=w);else if(z<_e&&0>s(Z,ce))$[J]=Z,$[z]=ce,J=z;else break e}}return re}function s($,re){var ce=$.sortIndex-re.sortIndex;return ce!==0?ce:$.id-re.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var l=Date,c=l.now();n.unstable_now=function(){return l.now()-c}}var h=[],f=[],p=1,m=null,b=3,y=!1,N=!1,E=!1,k=!1,T=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,q=typeof setImmediate<"u"?setImmediate:null;function H($){for(var re=t(f);re!==null;){if(re.callback===null)i(f);else if(re.startTime<=$)i(f),re.sortIndex=re.expirationTime,e(h,re);else break;re=t(f)}}function V($){if(E=!1,H($),!N)if(t(h)!==null)N=!0,oe||(oe=!0,M());else{var re=t(f);re!==null&&pe(V,re.startTime-$)}}var oe=!1,ae=-1,K=5,Y=-1;function ue(){return k?!0:!(n.unstable_now()-Y<K)}function P(){if(k=!1,oe){var $=n.unstable_now();Y=$;var re=!0;try{e:{N=!1,E&&(E=!1,j(ae),ae=-1),y=!0;var ce=b;try{t:{for(H($),m=t(h);m!==null&&!(m.expirationTime>$&&ue());){var J=m.callback;if(typeof J=="function"){m.callback=null,b=m.priorityLevel;var _e=J(m.expirationTime<=$);if($=n.unstable_now(),typeof _e=="function"){m.callback=_e,H($),re=!0;break t}m===t(h)&&i(h),H($)}else i(h);m=t(h)}if(m!==null)re=!0;else{var F=t(f);F!==null&&pe(V,F.startTime-$),re=!1}}break e}finally{m=null,b=ce,y=!1}re=void 0}}finally{re?M():oe=!1}}}var M;if(typeof q=="function")M=function(){q(P)};else if(typeof MessageChannel<"u"){var Q=new MessageChannel,ne=Q.port2;Q.port1.onmessage=P,M=function(){ne.postMessage(null)}}else M=function(){T(P,0)};function pe($,re){ae=T(function(){$(n.unstable_now())},re)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function($){$.callback=null},n.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):K=0<$?Math.floor(1e3/$):5},n.unstable_getCurrentPriorityLevel=function(){return b},n.unstable_next=function($){switch(b){case 1:case 2:case 3:var re=3;break;default:re=b}var ce=b;b=re;try{return $()}finally{b=ce}},n.unstable_requestPaint=function(){k=!0},n.unstable_runWithPriority=function($,re){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var ce=b;b=$;try{return re()}finally{b=ce}},n.unstable_scheduleCallback=function($,re,ce){var J=n.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?J+ce:J):ce=J,$){case 1:var _e=-1;break;case 2:_e=250;break;case 5:_e=1073741823;break;case 4:_e=1e4;break;default:_e=5e3}return _e=ce+_e,$={id:p++,callback:re,priorityLevel:$,startTime:ce,expirationTime:_e,sortIndex:-1},ce>J?($.sortIndex=ce,e(f,$),t(h)===null&&$===t(f)&&(E?(j(ae),ae=-1):E=!0,pe(V,ce-J))):($.sortIndex=_e,e(h,$),N||y||(N=!0,oe||(oe=!0,M()))),$},n.unstable_shouldYield=ue,n.unstable_wrapCallback=function($){var re=b;return function(){var ce=b;b=re;try{return $.apply(this,arguments)}finally{b=ce}}}})(O1)),O1}var x_;function xE(){return x_||(x_=1,M1.exports=_E()),M1.exports}var I1={exports:{}},Ns={};var w_;function wE(){if(w_)return Ns;w_=1;var n=Dy();function e(h){var f="https://react.dev/errors/"+h;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)f+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+h+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},s=Symbol.for("react.portal");function a(h,f,p){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:m==null?null:""+m,children:h,containerInfo:f,implementation:p}}var l=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(h,f){if(h==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return Ns.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Ns.createPortal=function(h,f){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return a(h,f,null,p)},Ns.flushSync=function(h){var f=l.T,p=i.p;try{if(l.T=null,i.p=2,h)return h()}finally{l.T=f,i.p=p,i.d.f()}},Ns.preconnect=function(h,f){typeof h=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,i.d.C(h,f))},Ns.prefetchDNS=function(h){typeof h=="string"&&i.d.D(h)},Ns.preinit=function(h,f){if(typeof h=="string"&&f&&typeof f.as=="string"){var p=f.as,m=c(p,f.crossOrigin),b=typeof f.integrity=="string"?f.integrity:void 0,y=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;p==="style"?i.d.S(h,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:m,integrity:b,fetchPriority:y}):p==="script"&&i.d.X(h,{crossOrigin:m,integrity:b,fetchPriority:y,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},Ns.preinitModule=function(h,f){if(typeof h=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var p=c(f.as,f.crossOrigin);i.d.M(h,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&i.d.M(h)},Ns.preload=function(h,f){if(typeof h=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var p=f.as,m=c(p,f.crossOrigin);i.d.L(h,p,{crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},Ns.preloadModule=function(h,f){if(typeof h=="string")if(f){var p=c(f.as,f.crossOrigin);i.d.m(h,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else i.d.m(h)},Ns.requestFormReset=function(h){i.d.r(h)},Ns.unstable_batchedUpdates=function(h,f){return h(f)},Ns.useFormState=function(h,f,p){return l.H.useFormState(h,f,p)},Ns.useFormStatus=function(){return l.H.useHostTransitionStatus()},Ns.version="19.2.1",Ns}var S_;function SE(){if(S_)return I1.exports;S_=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),I1.exports=wE(),I1.exports}var N_;function NE(){if(N_)return fd;N_=1;var n=xE(),e=Dy(),t=SE();function i(r){var o="https://react.dev/errors/"+r;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+r+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function a(r){var o=r,u=r;if(r.alternate)for(;o.return;)o=o.return;else{r=o;do o=r,(o.flags&4098)!==0&&(u=o.return),r=o.return;while(r)}return o.tag===3?u:null}function l(r){if(r.tag===13){var o=r.memoizedState;if(o===null&&(r=r.alternate,r!==null&&(o=r.memoizedState)),o!==null)return o.dehydrated}return null}function c(r){if(r.tag===31){var o=r.memoizedState;if(o===null&&(r=r.alternate,r!==null&&(o=r.memoizedState)),o!==null)return o.dehydrated}return null}function h(r){if(a(r)!==r)throw Error(i(188))}function f(r){var o=r.alternate;if(!o){if(o=a(r),o===null)throw Error(i(188));return o!==r?null:r}for(var u=r,d=o;;){var v=u.return;if(v===null)break;var x=v.alternate;if(x===null){if(d=v.return,d!==null){u=d;continue}break}if(v.child===x.child){for(x=v.child;x;){if(x===u)return h(v),r;if(x===d)return h(v),o;x=x.sibling}throw Error(i(188))}if(u.return!==d.return)u=v,d=x;else{for(var R=!1,W=v.child;W;){if(W===u){R=!0,u=v,d=x;break}if(W===d){R=!0,d=v,u=x;break}W=W.sibling}if(!R){for(W=x.child;W;){if(W===u){R=!0,u=x,d=v;break}if(W===d){R=!0,d=x,u=v;break}W=W.sibling}if(!R)throw Error(i(189))}}if(u.alternate!==d)throw Error(i(190))}if(u.tag!==3)throw Error(i(188));return u.stateNode.current===u?r:o}function p(r){var o=r.tag;if(o===5||o===26||o===27||o===6)return r;for(r=r.child;r!==null;){if(o=p(r),o!==null)return o;r=r.sibling}return null}var m=Object.assign,b=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),N=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),j=Symbol.for("react.consumer"),q=Symbol.for("react.context"),H=Symbol.for("react.forward_ref"),V=Symbol.for("react.suspense"),oe=Symbol.for("react.suspense_list"),ae=Symbol.for("react.memo"),K=Symbol.for("react.lazy"),Y=Symbol.for("react.activity"),ue=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function M(r){return r===null||typeof r!="object"?null:(r=P&&r[P]||r["@@iterator"],typeof r=="function"?r:null)}var Q=Symbol.for("react.client.reference");function ne(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===Q?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case E:return"Fragment";case T:return"Profiler";case k:return"StrictMode";case V:return"Suspense";case oe:return"SuspenseList";case Y:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case N:return"Portal";case q:return r.displayName||"Context";case j:return(r._context.displayName||"Context")+".Consumer";case H:var o=r.render;return r=r.displayName,r||(r=o.displayName||o.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case ae:return o=r.displayName||null,o!==null?o:ne(r.type)||"Memo";case K:o=r._payload,r=r._init;try{return ne(r(o))}catch{}}return null}var pe=Array.isArray,$=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce={pending:!1,data:null,method:null,action:null},J=[],_e=-1;function F(r){return{current:r}}function w(r){0>_e||(r.current=J[_e],J[_e]=null,_e--)}function D(r,o){_e++,J[_e]=r.current,r.current=o}var z=F(null),Z=F(null),le=F(null),ve=F(null);function Ne(r,o){switch(D(le,o),D(Z,r),D(z,null),o.nodeType){case 9:case 11:r=(r=o.documentElement)&&(r=r.namespaceURI)?B5(r):0;break;default:if(r=o.tagName,o=o.namespaceURI)o=B5(o),r=z5(o,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}w(z),D(z,r)}function Ce(){w(z),w(Z),w(le)}function Pe(r){r.memoizedState!==null&&D(ve,r);var o=z.current,u=z5(o,r.type);o!==u&&(D(Z,r),D(z,u))}function $e(r){Z.current===r&&(w(z),w(Z)),ve.current===r&&(w(ve),od._currentValue=ce)}var tt,it;function ht(r){if(tt===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);tt=o&&o[1]||"",it=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+tt+r+it}var ee=!1;function nt(r,o){if(!r||ee)return"";ee=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var d={DetermineComponentFrameRoot:function(){try{if(o){var We=function(){throw Error()};if(Object.defineProperty(We.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(We,[])}catch(Me){var Re=Me}Reflect.construct(r,[],We)}else{try{We.call()}catch(Me){Re=Me}r.call(We.prototype)}}else{try{throw Error()}catch(Me){Re=Me}(We=r())&&typeof We.catch=="function"&&We.catch(function(){})}}catch(Me){if(Me&&Re&&typeof Me.stack=="string")return[Me.stack,Re.stack]}return[null,null]}};d.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var v=Object.getOwnPropertyDescriptor(d.DetermineComponentFrameRoot,"name");v&&v.configurable&&Object.defineProperty(d.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var x=d.DetermineComponentFrameRoot(),R=x[0],W=x[1];if(R&&W){var he=R.split(`
`),Te=W.split(`
`);for(v=d=0;d<he.length&&!he[d].includes("DetermineComponentFrameRoot");)d++;for(;v<Te.length&&!Te[v].includes("DetermineComponentFrameRoot");)v++;if(d===he.length||v===Te.length)for(d=he.length-1,v=Te.length-1;1<=d&&0<=v&&he[d]!==Te[v];)v--;for(;1<=d&&0<=v;d--,v--)if(he[d]!==Te[v]){if(d!==1||v!==1)do if(d--,v--,0>v||he[d]!==Te[v]){var Fe=`
`+he[d].replace(" at new "," at ");return r.displayName&&Fe.includes("<anonymous>")&&(Fe=Fe.replace("<anonymous>",r.displayName)),Fe}while(1<=d&&0<=v);break}}}finally{ee=!1,Error.prepareStackTrace=u}return(u=r?r.displayName||r.name:"")?ht(u):""}function Oe(r,o){switch(r.tag){case 26:case 27:case 5:return ht(r.type);case 16:return ht("Lazy");case 13:return r.child!==o&&o!==null?ht("Suspense Fallback"):ht("Suspense");case 19:return ht("SuspenseList");case 0:case 15:return nt(r.type,!1);case 11:return nt(r.type.render,!1);case 1:return nt(r.type,!0);case 31:return ht("Activity");default:return""}}function He(r){try{var o="",u=null;do o+=Oe(r,u),u=r,r=r.return;while(r);return o}catch(d){return`
Error generating stack: `+d.message+`
`+d.stack}}var Le=Object.prototype.hasOwnProperty,Je=n.unstable_scheduleCallback,Ge=n.unstable_cancelCallback,qe=n.unstable_shouldYield,st=n.unstable_requestPaint,vt=n.unstable_now,yt=n.unstable_getCurrentPriorityLevel,ct=n.unstable_ImmediatePriority,Bt=n.unstable_UserBlockingPriority,rt=n.unstable_NormalPriority,at=n.unstable_LowPriority,St=n.unstable_IdlePriority,pt=n.log,wn=n.unstable_setDisableYieldValue,me=null,De=null;function Xe(r){if(typeof pt=="function"&&wn(r),De&&typeof De.setStrictMode=="function")try{De.setStrictMode(me,r)}catch{}}var Ct=Math.clz32?Math.clz32:Rt,Ke=Math.log,Dn=Math.LN2;function Rt(r){return r>>>=0,r===0?32:31-(Ke(r)/Dn|0)|0}var It=256,Nn=262144,Wt=4194304;function xt(r){var o=r&42;if(o!==0)return o;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return r&261888;case 262144:case 524288:case 1048576:case 2097152:return r&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function rn(r,o,u){var d=r.pendingLanes;if(d===0)return 0;var v=0,x=r.suspendedLanes,R=r.pingedLanes;r=r.warmLanes;var W=d&134217727;return W!==0?(d=W&~x,d!==0?v=xt(d):(R&=W,R!==0?v=xt(R):u||(u=W&~r,u!==0&&(v=xt(u))))):(W=d&~x,W!==0?v=xt(W):R!==0?v=xt(R):u||(u=d&~r,u!==0&&(v=xt(u)))),v===0?0:o!==0&&o!==v&&(o&x)===0&&(x=v&-v,u=o&-o,x>=u||x===32&&(u&4194048)!==0)?o:v}function yr(r,o){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&o)===0}function Zi(r,o){switch(r){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Fr(){var r=Wt;return Wt<<=1,(Wt&62914560)===0&&(Wt=4194304),r}function Gs(r){for(var o=[],u=0;31>u;u++)o.push(r);return o}function Nt(r,o){r.pendingLanes|=o,o!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function ca(r,o,u,d,v,x){var R=r.pendingLanes;r.pendingLanes=u,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=u,r.entangledLanes&=u,r.errorRecoveryDisabledLanes&=u,r.shellSuspendCounter=0;var W=r.entanglements,he=r.expirationTimes,Te=r.hiddenUpdates;for(u=R&~u;0<u;){var Fe=31-Ct(u),We=1<<Fe;W[Fe]=0,he[Fe]=-1;var Re=Te[Fe];if(Re!==null)for(Te[Fe]=null,Fe=0;Fe<Re.length;Fe++){var Me=Re[Fe];Me!==null&&(Me.lane&=-536870913)}u&=~We}d!==0&&Br(r,d,0),x!==0&&v===0&&r.tag!==0&&(r.suspendedLanes|=x&~(R&~o))}function Br(r,o,u){r.pendingLanes|=o,r.suspendedLanes&=~o;var d=31-Ct(o);r.entangledLanes|=o,r.entanglements[d]=r.entanglements[d]|1073741824|u&261930}function Ms(r,o){var u=r.entangledLanes|=o;for(r=r.entanglements;u;){var d=31-Ct(u),v=1<<d;v&o|r[d]&o&&(r[d]|=o),u&=~v}}function Os(r,o){var u=o&-o;return u=(u&42)!==0?1:Vn(u),(u&(r.suspendedLanes|o))!==0?0:u}function Vn(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function pi(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function Oi(){var r=re.p;return r!==0?r:(r=window.event,r===void 0?32:c_(r.type))}function Ka(r,o){var u=re.p;try{return re.p=r,o()}finally{re.p=u}}var fs=Math.random().toString(36).slice(2),An="__reactFiber$"+fs,Yn="__reactProps$"+fs,es="__reactContainer$"+fs,Is="__reactEvents$"+fs,Ys="__reactListeners$"+fs,Ro="__reactHandles$"+fs,vr="__reactResources$"+fs,br="__reactMarker$"+fs;function Qa(r){delete r[An],delete r[Yn],delete r[Is],delete r[Ys],delete r[Ro]}function _r(r){var o=r[An];if(o)return o;for(var u=r.parentNode;u;){if(o=u[es]||u[An]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(r=Y5(r);r!==null;){if(u=r[An])return u;r=Y5(r)}return o}r=u,u=r.parentNode}return null}function xr(r){if(r=r[An]||r[es]){var o=r.tag;if(o===5||o===6||o===13||o===31||o===26||o===27||o===3)return r}return null}function Do(r){var o=r.tag;if(o===5||o===26||o===27||o===6)return r.stateNode;throw Error(i(33))}function zr(r){var o=r[vr];return o||(o=r[vr]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function oi(r){r[br]=!0}var zc=new Set,Ps={};function wr(r,o){ua(r,o),ua(r+"Capture",o)}function ua(r,o){for(Ps[r]=o,r=0;r<o.length;r++)zc.add(o[r])}var Uc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Hc={},qc={};function $u(r){return Le.call(qc,r)?!0:Le.call(Hc,r)?!1:Uc.test(r)?qc[r]=!0:(Hc[r]=!0,!1)}function js(r,o,u){if($u(o))if(u===null)r.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":r.removeAttribute(o);return;case"boolean":var d=o.toLowerCase().slice(0,5);if(d!=="data-"&&d!=="aria-"){r.removeAttribute(o);return}}r.setAttribute(o,""+u)}}function ha(r,o,u){if(u===null)r.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(o);return}r.setAttribute(o,""+u)}}function Sr(r,o,u,d){if(d===null)r.removeAttribute(u);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(u);return}r.setAttributeNS(o,u,""+d)}}function fn(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Wc(r){var o=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Ur(r,o,u){var d=Object.getOwnPropertyDescriptor(r.constructor.prototype,o);if(!r.hasOwnProperty(o)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var v=d.get,x=d.set;return Object.defineProperty(r,o,{configurable:!0,get:function(){return v.call(this)},set:function(R){u=""+R,x.call(this,R)}}),Object.defineProperty(r,o,{enumerable:d.enumerable}),{getValue:function(){return u},setValue:function(R){u=""+R},stopTracking:function(){r._valueTracker=null,delete r[o]}}}}function Ja(r){if(!r._valueTracker){var o=Wc(r)?"checked":"value";r._valueTracker=Ur(r,o,""+r[o])}}function Vc(r){if(!r)return!1;var o=r._valueTracker;if(!o)return!0;var u=o.getValue(),d="";return r&&(d=Wc(r)?r.checked?"true":"false":r.value),r=d,r!==u?(o.setValue(r),!0):!1}function ds(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var Ci=/[\n"\\]/g;function gi(r){return r.replace(Ci,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function Ml(r,o,u,d,v,x,R,W){r.name="",R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?r.type=R:r.removeAttribute("type"),o!=null?R==="number"?(o===0&&r.value===""||r.value!=o)&&(r.value=""+fn(o)):r.value!==""+fn(o)&&(r.value=""+fn(o)):R!=="submit"&&R!=="reset"||r.removeAttribute("value"),o!=null?Gc(r,R,fn(o)):u!=null?Gc(r,R,fn(u)):d!=null&&r.removeAttribute("value"),v==null&&x!=null&&(r.defaultChecked=!!x),v!=null&&(r.checked=v&&typeof v!="function"&&typeof v!="symbol"),W!=null&&typeof W!="function"&&typeof W!="symbol"&&typeof W!="boolean"?r.name=""+fn(W):r.removeAttribute("name")}function Xu(r,o,u,d,v,x,R,W){if(x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(r.type=x),o!=null||u!=null){if(!(x!=="submit"&&x!=="reset"||o!=null)){Ja(r);return}u=u!=null?""+fn(u):"",o=o!=null?""+fn(o):u,W||o===r.value||(r.value=o),r.defaultValue=o}d=d??v,d=typeof d!="function"&&typeof d!="symbol"&&!!d,r.checked=W?r.checked:!!d,r.defaultChecked=!!d,R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"&&(r.name=R),Ja(r)}function Gc(r,o,u){o==="number"&&ds(r.ownerDocument)===r||r.defaultValue===""+u||(r.defaultValue=""+u)}function ps(r,o,u,d){if(r=r.options,o){o={};for(var v=0;v<u.length;v++)o["$"+u[v]]=!0;for(u=0;u<r.length;u++)v=o.hasOwnProperty("$"+r[u].value),r[u].selected!==v&&(r[u].selected=v),v&&d&&(r[u].defaultSelected=!0)}else{for(u=""+fn(u),o=null,v=0;v<r.length;v++){if(r[v].value===u){r[v].selected=!0,d&&(r[v].defaultSelected=!0);return}o!==null||r[v].disabled||(o=r[v])}o!==null&&(o.selected=!0)}}function Yc(r,o,u){if(o!=null&&(o=""+fn(o),o!==r.value&&(r.value=o),u==null)){r.defaultValue!==o&&(r.defaultValue=o);return}r.defaultValue=u!=null?""+fn(u):""}function $c(r,o,u,d){if(o==null){if(d!=null){if(u!=null)throw Error(i(92));if(pe(d)){if(1<d.length)throw Error(i(93));d=d[0]}u=d}u==null&&(u=""),o=u}u=fn(o),r.defaultValue=u,d=r.textContent,d===u&&d!==""&&d!==null&&(r.value=d),Ja(r)}function Nr(r,o){if(o){var u=r.firstChild;if(u&&u===r.lastChild&&u.nodeType===3){u.nodeValue=o;return}}r.textContent=o}var Mo=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ku(r,o,u){var d=o.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?d?r.setProperty(o,""):o==="float"?r.cssFloat="":r[o]="":d?r.setProperty(o,u):typeof u!="number"||u===0||Mo.has(o)?o==="float"?r.cssFloat=u:r[o]=(""+u).trim():r[o]=u+"px"}function Qu(r,o,u){if(o!=null&&typeof o!="object")throw Error(i(62));if(r=r.style,u!=null){for(var d in u)!u.hasOwnProperty(d)||o!=null&&o.hasOwnProperty(d)||(d.indexOf("--")===0?r.setProperty(d,""):d==="float"?r.cssFloat="":r[d]="");for(var v in o)d=o[v],o.hasOwnProperty(v)&&u[v]!==d&&Ku(r,v,d)}else for(var x in o)o.hasOwnProperty(x)&&Ku(r,x,o[x])}function Xc(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Kc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ju=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function xs(r){return Ju.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}function Ar(){}var fa=null;function Oo(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Za=null,Tt=null;function Zu(r){var o=xr(r);if(o&&(r=o.stateNode)){var u=r[Yn]||null;e:switch(r=o.stateNode,o.type){case"input":if(Ml(r,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),o=u.name,u.type==="radio"&&o!=null){for(u=r;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+gi(""+o)+'"][type="radio"]'),o=0;o<u.length;o++){var d=u[o];if(d!==r&&d.form===r.form){var v=d[Yn]||null;if(!v)throw Error(i(90));Ml(d,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name)}}for(o=0;o<u.length;o++)d=u[o],d.form===r.form&&Vc(d)}break e;case"textarea":Yc(r,u.value,u.defaultValue);break e;case"select":o=u.value,o!=null&&ps(r,!!u.multiple,o,!1)}}}var Qc=!1;function eh(r,o,u){if(Qc)return r(o,u);Qc=!0;try{var d=r(o);return d}finally{if(Qc=!1,(Za!==null||Tt!==null)&&(Zp(),Za&&(o=Za,r=Tt,Tt=Za=null,Zu(o),r)))for(o=0;o<r.length;o++)Zu(r[o])}}function Fs(r,o){var u=r.stateNode;if(u===null)return null;var d=u[Yn]||null;if(d===null)return null;u=d[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(r=r.type,d=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!d;break e;default:r=!1}if(r)return null;if(u&&typeof u!="function")throw Error(i(231,o,typeof u));return u}var zi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Jc=!1;if(zi)try{var Io={};Object.defineProperty(Io,"passive",{get:function(){Jc=!0}}),window.addEventListener("test",Io,Io),window.removeEventListener("test",Io,Io)}catch{Jc=!1}var Bs=null,Po=null,Hr=null;function th(){if(Hr)return Hr;var r,o=Po,u=o.length,d,v="value"in Bs?Bs.value:Bs.textContent,x=v.length;for(r=0;r<u&&o[r]===v[r];r++);var R=u-r;for(d=1;d<=R&&o[u-d]===v[x-d];d++);return Hr=v.slice(r,1<d?1-d:void 0)}function $s(r){var o=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&o===13&&(r=13)):r=o,r===10&&(r=13),32<=r||r===13?r:0}function Ol(){return!0}function Il(){return!1}function Ii(r){function o(u,d,v,x,R){this._reactName=u,this._targetInst=v,this.type=d,this.nativeEvent=x,this.target=R,this.currentTarget=null;for(var W in r)r.hasOwnProperty(W)&&(u=r[W],this[W]=u?u(x):x[W]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?Ol:Il,this.isPropagationStopped=Il,this}return m(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Ol)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Ol)},persist:function(){},isPersistent:Ol}),o}var qr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xs=Ii(qr),da=m({},qr,{view:0,detail:0}),Pl=Ii(da),jo,pa,ga,Fo=m({},da,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Mt,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==ga&&(ga&&r.type==="mousemove"?(jo=r.screenX-ga.screenX,pa=r.screenY-ga.screenY):pa=jo=0,ga=r),jo)},movementY:function(r){return"movementY"in r?r.movementY:pa}}),Zc=Ii(Fo),ma=m({},Fo,{dataTransfer:0}),ya=Ii(ma),nh=m({},da,{relatedTarget:0}),va=Ii(nh),ih=m({},qr,{animationName:0,elapsedTime:0,pseudoElement:0}),S=Ii(ih),O=m({},qr,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),se=Ii(O),fe=m({},qr,{data:0}),xe=Ii(fe),Be={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ye={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ft={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bt(r){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(r):(r=ft[r])?!!o[r]:!1}function Mt(){return bt}var zt=m({},da,{key:function(r){if(r.key){var o=Be[r.key]||r.key;if(o!=="Unidentified")return o}return r.type==="keypress"?(r=$s(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Ye[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Mt,charCode:function(r){return r.type==="keypress"?$s(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?$s(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),an=Ii(zt),$n=m({},Fo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),li=Ii($n),Mn=m({},da,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Mt}),Ei=Ii(Mn),mi=m({},qr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ui=Ii(mi),ba=m({},Fo,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Cr=Ii(ba),_a=m({},qr,{newState:0,oldState:0}),eu=Ii(_a),jl=[9,13,27,32],Wr=zi&&"CompositionEvent"in window,Er=null;zi&&"documentMode"in document&&(Er=document.documentMode);var Bo=zi&&"TextEvent"in window&&!Er,xa=zi&&(!Wr||Er&&8<Er&&11>=Er),Pi=" ",eo=!1;function to(r,o){switch(r){case"keyup":return jl.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Fl(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Vr=!1;function gs(r,o){switch(r){case"compositionend":return Fl(o);case"keypress":return o.which!==32?null:(eo=!0,Pi);case"textInput":return r=o.data,r===Pi&&eo?null:r;default:return null}}function wa(r,o){if(Vr)return r==="compositionend"||!Wr&&to(r,o)?(r=th(),Hr=Po=Bs=null,Vr=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return xa&&o.locale!=="ko"?null:o.data;default:return null}}var Bl={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function tu(r){var o=r&&r.nodeName&&r.nodeName.toLowerCase();return o==="input"?!!Bl[r.type]:o==="textarea"}function zs(r,o,u,d){Za?Tt?Tt.push(d):Tt=[d]:Za=d,o=ag(o,"onChange"),0<o.length&&(u=new Xs("onChange","change",null,u,d),r.push({event:u,listeners:o}))}var kr=null,Sa=null;function nu(r){M5(r,0)}function Tr(r){var o=Do(r);if(Vc(o))return r}function no(r,o){if(r==="change")return o}var ws=!1;if(zi){var ms;if(zi){var Gr="oninput"in document;if(!Gr){var Yr=document.createElement("div");Yr.setAttribute("oninput","return;"),Gr=typeof Yr.oninput=="function"}ms=Gr}else ms=!1;ws=ms&&(!document.documentMode||9<document.documentMode)}function Na(){kr&&(kr.detachEvent("onpropertychange",zl),Sa=kr=null)}function zl(r){if(r.propertyName==="value"&&Tr(Sa)){var o=[];zs(o,Sa,r,Oo(r)),eh(nu,o)}}function Ul(r,o,u){r==="focusin"?(Na(),kr=o,Sa=u,kr.attachEvent("onpropertychange",zl)):r==="focusout"&&Na()}function ci(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Tr(Sa)}function sh(r,o){if(r==="click")return Tr(o)}function $r(r,o){if(r==="input"||r==="change")return Tr(o)}function Xr(r,o){return r===o&&(r!==0||1/r===1/o)||r!==r&&o!==o}var Hi=typeof Object.is=="function"?Object.is:Xr;function Aa(r,o){if(Hi(r,o))return!0;if(typeof r!="object"||r===null||typeof o!="object"||o===null)return!1;var u=Object.keys(r),d=Object.keys(o);if(u.length!==d.length)return!1;for(d=0;d<u.length;d++){var v=u[d];if(!Le.call(o,v)||!Hi(r[v],o[v]))return!1}return!0}function Hl(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function ql(r,o){var u=Hl(r);r=0;for(var d;u;){if(u.nodeType===3){if(d=r+u.textContent.length,r<=o&&d>=o)return{node:u,offset:o-r};r=d}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=Hl(u)}}function Ca(r,o){return r&&o?r===o?!0:r&&r.nodeType===3?!1:o&&o.nodeType===3?Ca(r,o.parentNode):"contains"in r?r.contains(o):r.compareDocumentPosition?!!(r.compareDocumentPosition(o)&16):!1:!1}function Ea(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var o=ds(r.document);o instanceof r.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)r=o.contentWindow;else break;o=ds(r.document)}return o}function Kr(r){var o=r&&r.nodeName&&r.nodeName.toLowerCase();return o&&(o==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||o==="textarea"||r.contentEditable==="true")}var zo=zi&&"documentMode"in document&&11>=document.documentMode,Us=null,ka=null,ts=null,Ks=!1;function dn(r,o,u){var d=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Ks||Us==null||Us!==ds(d)||(d=Us,"selectionStart"in d&&Kr(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),ts&&Aa(ts,d)||(ts=d,d=ag(ka,"onSelect"),0<d.length&&(o=new Xs("onSelect","select",null,o,u),r.push({event:o,listeners:d}),o.target=Us)))}function on(r,o){var u={};return u[r.toLowerCase()]=o.toLowerCase(),u["Webkit"+r]="webkit"+o,u["Moz"+r]="moz"+o,u}var On={animationend:on("Animation","AnimationEnd"),animationiteration:on("Animation","AnimationIteration"),animationstart:on("Animation","AnimationStart"),transitionrun:on("Transition","TransitionRun"),transitionstart:on("Transition","TransitionStart"),transitioncancel:on("Transition","TransitionCancel"),transitionend:on("Transition","TransitionEnd")},ui={},Qr={};zi&&(Qr=document.createElement("div").style,"AnimationEvent"in window||(delete On.animationend.animation,delete On.animationiteration.animation,delete On.animationstart.animation),"TransitionEvent"in window||delete On.transitionend.transition);function Lr(r){if(ui[r])return ui[r];if(!On[r])return r;var o=On[r],u;for(u in o)if(o.hasOwnProperty(u)&&u in Qr)return ui[r]=o[u];return r}var Uo=Lr("animationend"),iu=Lr("animationiteration"),Lf=Lr("animationstart"),Tp=Lr("transitionrun"),Lp=Lr("transitionstart"),Rp=Lr("transitioncancel"),Rf=Lr("transitionend"),Df=new Map,Ho="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ho.push("scrollEnd");function Qs(r,o){Df.set(r,o),wr(o,[r])}var su=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)},Hs=[],qo=0,rh=0;function ru(){for(var r=qo,o=rh=qo=0;o<r;){var u=Hs[o];Hs[o++]=null;var d=Hs[o];Hs[o++]=null;var v=Hs[o];Hs[o++]=null;var x=Hs[o];if(Hs[o++]=null,d!==null&&v!==null){var R=d.pending;R===null?v.next=v:(v.next=R.next,R.next=v),d.pending=v}x!==0&&ou(u,v,x)}}function au(r,o,u,d){Hs[qo++]=r,Hs[qo++]=o,Hs[qo++]=u,Hs[qo++]=d,rh|=d,r.lanes|=d,r=r.alternate,r!==null&&(r.lanes|=d)}function ah(r,o,u,d){return au(r,o,u,d),ns(r)}function Ta(r,o){return au(r,null,null,o),ns(r)}function ou(r,o,u){r.lanes|=u;var d=r.alternate;d!==null&&(d.lanes|=u);for(var v=!1,x=r.return;x!==null;)x.childLanes|=u,d=x.alternate,d!==null&&(d.childLanes|=u),x.tag===22&&(r=x.stateNode,r===null||r._visibility&1||(v=!0)),r=x,x=x.return;return r.tag===3?(x=r.stateNode,v&&o!==null&&(v=31-Ct(u),r=x.hiddenUpdates,d=r[v],d===null?r[v]=[o]:d.push(o),o.lane=u|536870912),x):null}function ns(r){if(50<ed)throw ed=0,e1=null,Error(i(185));for(var o=r.return;o!==null;)r=o,o=r.return;return r.tag===3?r.stateNode:null}var qi={};function oh(r,o,u,d){this.tag=r,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function is(r,o,u,d){return new oh(r,o,u,d)}function lh(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Js(r,o){var u=r.alternate;return u===null?(u=is(r.tag,o,r.key,r.mode),u.elementType=r.elementType,u.type=r.type,u.stateNode=r.stateNode,u.alternate=r,r.alternate=u):(u.pendingProps=o,u.type=r.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=r.flags&65011712,u.childLanes=r.childLanes,u.lanes=r.lanes,u.child=r.child,u.memoizedProps=r.memoizedProps,u.memoizedState=r.memoizedState,u.updateQueue=r.updateQueue,o=r.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=r.sibling,u.index=r.index,u.ref=r.ref,u.refCleanup=r.refCleanup,u}function lu(r,o){r.flags&=65011714;var u=r.alternate;return u===null?(r.childLanes=0,r.lanes=o,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=u.childLanes,r.lanes=u.lanes,r.child=u.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=u.memoizedProps,r.memoizedState=u.memoizedState,r.updateQueue=u.updateQueue,r.type=u.type,o=u.dependencies,r.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),r}function Wl(r,o,u,d,v,x){var R=0;if(d=r,typeof r=="function")lh(r)&&(R=1);else if(typeof r=="string")R=rE(r,u,z.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case Y:return r=is(31,u,o,v),r.elementType=Y,r.lanes=x,r;case E:return io(u.children,v,x,o);case k:R=8,v|=24;break;case T:return r=is(12,u,o,v|2),r.elementType=T,r.lanes=x,r;case V:return r=is(13,u,o,v),r.elementType=V,r.lanes=x,r;case oe:return r=is(19,u,o,v),r.elementType=oe,r.lanes=x,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case q:R=10;break e;case j:R=9;break e;case H:R=11;break e;case ae:R=14;break e;case K:R=16,d=null;break e}R=29,u=Error(i(130,r===null?"null":typeof r,"")),d=null}return o=is(R,u,o,v),o.elementType=r,o.type=d,o.lanes=x,o}function io(r,o,u,d){return r=is(7,r,d,o),r.lanes=u,r}function cu(r,o,u){return r=is(6,r,null,o),r.lanes=u,r}function ch(r){var o=is(18,null,null,0);return o.stateNode=r,o}function Vl(r,o,u){return o=is(4,r.children!==null?r.children:[],r.key,o),o.lanes=u,o.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},o}var uh=new WeakMap;function Zs(r,o){if(typeof r=="object"&&r!==null){var u=uh.get(r);return u!==void 0?u:(o={value:r,source:o,stack:He(o)},uh.set(r,o),o)}return{value:r,source:o,stack:He(o)}}var Gl=[],Wo=0,hh=null,uu=0,er=[],tr=0,so=null,nr=1,ir="";function qs(r,o){Gl[Wo++]=uu,Gl[Wo++]=hh,hh=r,uu=o}function Dp(r,o,u){er[tr++]=nr,er[tr++]=ir,er[tr++]=so,so=r;var d=nr;r=ir;var v=32-Ct(d)-1;d&=~(1<<v),u+=1;var x=32-Ct(o)+v;if(30<x){var R=v-v%5;x=(d&(1<<R)-1).toString(32),d>>=R,v-=R,nr=1<<32-Ct(o)+v|u<<v|d,ir=x+r}else nr=1<<x|u<<v|d,ir=r}function Mf(r){r.return!==null&&(qs(r,1),Dp(r,1,0))}function fh(r){for(;r===hh;)hh=Gl[--Wo],Gl[Wo]=null,uu=Gl[--Wo],Gl[Wo]=null;for(;r===so;)so=er[--tr],er[tr]=null,ir=er[--tr],er[tr]=null,nr=er[--tr],er[tr]=null}function Mp(r,o){er[tr++]=nr,er[tr++]=ir,er[tr++]=so,nr=o.id,ir=o.overflow,so=r}var Wi=null,zn=null,Qt=!1,ys=null,ni=!1,Rr=Error(i(519));function ro(r){var o=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Yl(Zs(o,r)),Rr}function Of(r){var o=r.stateNode,u=r.type,d=r.memoizedProps;switch(o[An]=r,o[Yn]=d,u){case"dialog":Zt("cancel",o),Zt("close",o);break;case"iframe":case"object":case"embed":Zt("load",o);break;case"video":case"audio":for(u=0;u<nd.length;u++)Zt(nd[u],o);break;case"source":Zt("error",o);break;case"img":case"image":case"link":Zt("error",o),Zt("load",o);break;case"details":Zt("toggle",o);break;case"input":Zt("invalid",o),Xu(o,d.value,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name,!0);break;case"select":Zt("invalid",o);break;case"textarea":Zt("invalid",o),$c(o,d.value,d.defaultValue,d.children)}u=d.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||o.textContent===""+u||d.suppressHydrationWarning===!0||j5(o.textContent,u)?(d.popover!=null&&(Zt("beforetoggle",o),Zt("toggle",o)),d.onScroll!=null&&Zt("scroll",o),d.onScrollEnd!=null&&Zt("scrollend",o),d.onClick!=null&&(o.onclick=Ar),o=!0):o=!1,o||ro(r,!0)}function La(r){for(Wi=r.return;Wi;)switch(Wi.tag){case 5:case 31:case 13:ni=!1;return;case 27:case 3:ni=!0;return;default:Wi=Wi.return}}function Vi(r){if(r!==Wi)return!1;if(!Qt)return La(r),Qt=!0,!1;var o=r.tag,u;if((u=o!==3&&o!==27)&&((u=o===5)&&(u=r.type,u=!(u!=="form"&&u!=="button")||g1(r.type,r.memoizedProps)),u=!u),u&&zn&&ro(r),La(r),o===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));zn=G5(r)}else if(o===31){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));zn=G5(r)}else o===27?(o=zn,oc(r.type)?(r=_1,_1=null,zn=r):zn=o):zn=Wi?ta(r.stateNode.nextSibling):null;return!0}function Vo(){zn=Wi=null,Qt=!1}function If(){var r=ys;return r!==null&&(cr===null?cr=r:cr.push.apply(cr,r),ys=null),r}function Yl(r){ys===null?ys=[r]:ys.push(r)}var dh=F(null),ao=null,Jr=null;function oo(r,o,u){D(dh,o._currentValue),o._currentValue=u}function sr(r){r._currentValue=dh.current,w(dh)}function $l(r,o,u){for(;r!==null;){var d=r.alternate;if((r.childLanes&o)!==o?(r.childLanes|=o,d!==null&&(d.childLanes|=o)):d!==null&&(d.childLanes&o)!==o&&(d.childLanes|=o),r===u)break;r=r.return}}function Go(r,o,u,d){var v=r.child;for(v!==null&&(v.return=r);v!==null;){var x=v.dependencies;if(x!==null){var R=v.child;x=x.firstContext;e:for(;x!==null;){var W=x;x=v;for(var he=0;he<o.length;he++)if(W.context===o[he]){x.lanes|=u,W=x.alternate,W!==null&&(W.lanes|=u),$l(x.return,u,r),d||(R=null);break e}x=W.next}}else if(v.tag===18){if(R=v.return,R===null)throw Error(i(341));R.lanes|=u,x=R.alternate,x!==null&&(x.lanes|=u),$l(R,u,r),R=null}else R=v.child;if(R!==null)R.return=v;else for(R=v;R!==null;){if(R===r){R=null;break}if(v=R.sibling,v!==null){v.return=R.return,R=v;break}R=R.return}v=R}}function lo(r,o,u,d){r=null;for(var v=o,x=!1;v!==null;){if(!x){if((v.flags&524288)!==0)x=!0;else if((v.flags&262144)!==0)break}if(v.tag===10){var R=v.alternate;if(R===null)throw Error(i(387));if(R=R.memoizedProps,R!==null){var W=v.type;Hi(v.pendingProps.value,R.value)||(r!==null?r.push(W):r=[W])}}else if(v===ve.current){if(R=v.alternate,R===null)throw Error(i(387));R.memoizedState.memoizedState!==v.memoizedState.memoizedState&&(r!==null?r.push(od):r=[od])}v=v.return}r!==null&&Go(o,r,u,d),o.flags|=262144}function ph(r){for(r=r.firstContext;r!==null;){if(!Hi(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function co(r){ao=r,Jr=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function Gi(r){return Op(ao,r)}function gh(r,o){return ao===null&&co(r),Op(r,o)}function Op(r,o){var u=o._currentValue;if(o={context:o,memoizedValue:u,next:null},Jr===null){if(r===null)throw Error(i(308));Jr=o,r.dependencies={lanes:0,firstContext:o},r.flags|=524288}else Jr=Jr.next=o;return u}var b0=typeof AbortController<"u"?AbortController:function(){var r=[],o=this.signal={aborted:!1,addEventListener:function(u,d){r.push(d)}};this.abort=function(){o.aborted=!0,r.forEach(function(u){return u()})}},_0=n.unstable_scheduleCallback,x0=n.unstable_NormalPriority,hi={$$typeof:q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Xl(){return{controller:new b0,data:new Map,refCount:0}}function hu(r){r.refCount--,r.refCount===0&&_0(x0,function(){r.controller.abort()})}var fu=null,mh=0,g=0,_=null;function C(r,o){if(fu===null){var u=fu=[];mh=0,g=a1(),_={status:"pending",value:void 0,then:function(d){u.push(d)}}}return mh++,o.then(L,L),o}function L(){if(--mh===0&&fu!==null){_!==null&&(_.status="fulfilled");var r=fu;fu=null,g=0,_=null;for(var o=0;o<r.length;o++)(0,r[o])()}}function I(r,o){var u=[],d={status:"pending",value:null,reason:null,then:function(v){u.push(v)}};return r.then(function(){d.status="fulfilled",d.value=o;for(var v=0;v<u.length;v++)(0,u[v])(o)},function(v){for(d.status="rejected",d.reason=v,v=0;v<u.length;v++)(0,u[v])(void 0)}),d}var B=$.S;$.S=function(r,o){o5=vt(),typeof o=="object"&&o!==null&&typeof o.then=="function"&&C(r,o),B!==null&&B(r,o)};var U=F(null);function G(){var r=U.current;return r!==null?r:Hn.pooledCache}function X(r,o){o===null?D(U,U.current):D(U,o.pool)}function ie(){var r=G();return r===null?null:{parent:hi._currentValue,pool:r}}var ge=Error(i(460)),Ee=Error(i(474)),te=Error(i(542)),be={then:function(){}};function Se(r){return r=r.status,r==="fulfilled"||r==="rejected"}function je(r,o,u){switch(u=r[u],u===void 0?r.push(o):u!==o&&(o.then(Ar,Ar),o=u),o.status){case"fulfilled":return o.value;case"rejected":throw r=o.reason,Qe(r),r;default:if(typeof o.status=="string")o.then(Ar,Ar);else{if(r=Hn,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=o,r.status="pending",r.then(function(d){if(o.status==="pending"){var v=o;v.status="fulfilled",v.value=d}},function(d){if(o.status==="pending"){var v=o;v.status="rejected",v.reason=d}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw r=o.reason,Qe(r),r}throw Ie=o,ge}}function Ae(r){try{var o=r._init;return o(r._payload)}catch(u){throw u!==null&&typeof u=="object"&&typeof u.then=="function"?(Ie=u,ge):u}}var Ie=null;function ze(){if(Ie===null)throw Error(i(459));var r=Ie;return Ie=null,r}function Qe(r){if(r===ge||r===te)throw Error(i(483))}var Ve=null,gt=0;function ot(r){var o=gt;return gt+=1,Ve===null&&(Ve=[]),je(Ve,r,o)}function Pt(r,o){o=o.props.ref,r.ref=o!==void 0?o:null}function ut(r,o){throw o.$$typeof===b?Error(i(525)):(r=Object.prototype.toString.call(o),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":r)))}function Xt(r){function o(we,ye){if(r){var ke=we.deletions;ke===null?(we.deletions=[ye],we.flags|=16):ke.push(ye)}}function u(we,ye){if(!r)return null;for(;ye!==null;)o(we,ye),ye=ye.sibling;return null}function d(we){for(var ye=new Map;we!==null;)we.key!==null?ye.set(we.key,we):ye.set(we.index,we),we=we.sibling;return ye}function v(we,ye){return we=Js(we,ye),we.index=0,we.sibling=null,we}function x(we,ye,ke){return we.index=ke,r?(ke=we.alternate,ke!==null?(ke=ke.index,ke<ye?(we.flags|=67108866,ye):ke):(we.flags|=67108866,ye)):(we.flags|=1048576,ye)}function R(we){return r&&we.alternate===null&&(we.flags|=67108866),we}function W(we,ye,ke,Ue){return ye===null||ye.tag!==6?(ye=cu(ke,we.mode,Ue),ye.return=we,ye):(ye=v(ye,ke),ye.return=we,ye)}function he(we,ye,ke,Ue){var kt=ke.type;return kt===E?Fe(we,ye,ke.props.children,Ue,ke.key):ye!==null&&(ye.elementType===kt||typeof kt=="object"&&kt!==null&&kt.$$typeof===K&&Ae(kt)===ye.type)?(ye=v(ye,ke.props),Pt(ye,ke),ye.return=we,ye):(ye=Wl(ke.type,ke.key,ke.props,null,we.mode,Ue),Pt(ye,ke),ye.return=we,ye)}function Te(we,ye,ke,Ue){return ye===null||ye.tag!==4||ye.stateNode.containerInfo!==ke.containerInfo||ye.stateNode.implementation!==ke.implementation?(ye=Vl(ke,we.mode,Ue),ye.return=we,ye):(ye=v(ye,ke.children||[]),ye.return=we,ye)}function Fe(we,ye,ke,Ue,kt){return ye===null||ye.tag!==7?(ye=io(ke,we.mode,Ue,kt),ye.return=we,ye):(ye=v(ye,ke),ye.return=we,ye)}function We(we,ye,ke){if(typeof ye=="string"&&ye!==""||typeof ye=="number"||typeof ye=="bigint")return ye=cu(""+ye,we.mode,ke),ye.return=we,ye;if(typeof ye=="object"&&ye!==null){switch(ye.$$typeof){case y:return ke=Wl(ye.type,ye.key,ye.props,null,we.mode,ke),Pt(ke,ye),ke.return=we,ke;case N:return ye=Vl(ye,we.mode,ke),ye.return=we,ye;case K:return ye=Ae(ye),We(we,ye,ke)}if(pe(ye)||M(ye))return ye=io(ye,we.mode,ke,null),ye.return=we,ye;if(typeof ye.then=="function")return We(we,ot(ye),ke);if(ye.$$typeof===q)return We(we,gh(we,ye),ke);ut(we,ye)}return null}function Re(we,ye,ke,Ue){var kt=ye!==null?ye.key:null;if(typeof ke=="string"&&ke!==""||typeof ke=="number"||typeof ke=="bigint")return kt!==null?null:W(we,ye,""+ke,Ue);if(typeof ke=="object"&&ke!==null){switch(ke.$$typeof){case y:return ke.key===kt?he(we,ye,ke,Ue):null;case N:return ke.key===kt?Te(we,ye,ke,Ue):null;case K:return ke=Ae(ke),Re(we,ye,ke,Ue)}if(pe(ke)||M(ke))return kt!==null?null:Fe(we,ye,ke,Ue,null);if(typeof ke.then=="function")return Re(we,ye,ot(ke),Ue);if(ke.$$typeof===q)return Re(we,ye,gh(we,ke),Ue);ut(we,ke)}return null}function Me(we,ye,ke,Ue,kt){if(typeof Ue=="string"&&Ue!==""||typeof Ue=="number"||typeof Ue=="bigint")return we=we.get(ke)||null,W(ye,we,""+Ue,kt);if(typeof Ue=="object"&&Ue!==null){switch(Ue.$$typeof){case y:return we=we.get(Ue.key===null?ke:Ue.key)||null,he(ye,we,Ue,kt);case N:return we=we.get(Ue.key===null?ke:Ue.key)||null,Te(ye,we,Ue,kt);case K:return Ue=Ae(Ue),Me(we,ye,ke,Ue,kt)}if(pe(Ue)||M(Ue))return we=we.get(ke)||null,Fe(ye,we,Ue,kt,null);if(typeof Ue.then=="function")return Me(we,ye,ke,ot(Ue),kt);if(Ue.$$typeof===q)return Me(we,ye,ke,gh(ye,Ue),kt);ut(ye,Ue)}return null}function dt(we,ye,ke,Ue){for(var kt=null,mn=null,_t=ye,Gt=ye=0,nn=null;_t!==null&&Gt<ke.length;Gt++){_t.index>Gt?(nn=_t,_t=null):nn=_t.sibling;var yn=Re(we,_t,ke[Gt],Ue);if(yn===null){_t===null&&(_t=nn);break}r&&_t&&yn.alternate===null&&o(we,_t),ye=x(yn,ye,Gt),mn===null?kt=yn:mn.sibling=yn,mn=yn,_t=nn}if(Gt===ke.length)return u(we,_t),Qt&&qs(we,Gt),kt;if(_t===null){for(;Gt<ke.length;Gt++)_t=We(we,ke[Gt],Ue),_t!==null&&(ye=x(_t,ye,Gt),mn===null?kt=_t:mn.sibling=_t,mn=_t);return Qt&&qs(we,Gt),kt}for(_t=d(_t);Gt<ke.length;Gt++)nn=Me(_t,we,Gt,ke[Gt],Ue),nn!==null&&(r&&nn.alternate!==null&&_t.delete(nn.key===null?Gt:nn.key),ye=x(nn,ye,Gt),mn===null?kt=nn:mn.sibling=nn,mn=nn);return r&&_t.forEach(function(fc){return o(we,fc)}),Qt&&qs(we,Gt),kt}function Dt(we,ye,ke,Ue){if(ke==null)throw Error(i(151));for(var kt=null,mn=null,_t=ye,Gt=ye=0,nn=null,yn=ke.next();_t!==null&&!yn.done;Gt++,yn=ke.next()){_t.index>Gt?(nn=_t,_t=null):nn=_t.sibling;var fc=Re(we,_t,yn.value,Ue);if(fc===null){_t===null&&(_t=nn);break}r&&_t&&fc.alternate===null&&o(we,_t),ye=x(fc,ye,Gt),mn===null?kt=fc:mn.sibling=fc,mn=fc,_t=nn}if(yn.done)return u(we,_t),Qt&&qs(we,Gt),kt;if(_t===null){for(;!yn.done;Gt++,yn=ke.next())yn=We(we,yn.value,Ue),yn!==null&&(ye=x(yn,ye,Gt),mn===null?kt=yn:mn.sibling=yn,mn=yn);return Qt&&qs(we,Gt),kt}for(_t=d(_t);!yn.done;Gt++,yn=ke.next())yn=Me(_t,we,Gt,yn.value,Ue),yn!==null&&(r&&yn.alternate!==null&&_t.delete(yn.key===null?Gt:yn.key),ye=x(yn,ye,Gt),mn===null?kt=yn:mn.sibling=yn,mn=yn);return r&&_t.forEach(function(mE){return o(we,mE)}),Qt&&qs(we,Gt),kt}function Fn(we,ye,ke,Ue){if(typeof ke=="object"&&ke!==null&&ke.type===E&&ke.key===null&&(ke=ke.props.children),typeof ke=="object"&&ke!==null){switch(ke.$$typeof){case y:e:{for(var kt=ke.key;ye!==null;){if(ye.key===kt){if(kt=ke.type,kt===E){if(ye.tag===7){u(we,ye.sibling),Ue=v(ye,ke.props.children),Ue.return=we,we=Ue;break e}}else if(ye.elementType===kt||typeof kt=="object"&&kt!==null&&kt.$$typeof===K&&Ae(kt)===ye.type){u(we,ye.sibling),Ue=v(ye,ke.props),Pt(Ue,ke),Ue.return=we,we=Ue;break e}u(we,ye);break}else o(we,ye);ye=ye.sibling}ke.type===E?(Ue=io(ke.props.children,we.mode,Ue,ke.key),Ue.return=we,we=Ue):(Ue=Wl(ke.type,ke.key,ke.props,null,we.mode,Ue),Pt(Ue,ke),Ue.return=we,we=Ue)}return R(we);case N:e:{for(kt=ke.key;ye!==null;){if(ye.key===kt)if(ye.tag===4&&ye.stateNode.containerInfo===ke.containerInfo&&ye.stateNode.implementation===ke.implementation){u(we,ye.sibling),Ue=v(ye,ke.children||[]),Ue.return=we,we=Ue;break e}else{u(we,ye);break}else o(we,ye);ye=ye.sibling}Ue=Vl(ke,we.mode,Ue),Ue.return=we,we=Ue}return R(we);case K:return ke=Ae(ke),Fn(we,ye,ke,Ue)}if(pe(ke))return dt(we,ye,ke,Ue);if(M(ke)){if(kt=M(ke),typeof kt!="function")throw Error(i(150));return ke=kt.call(ke),Dt(we,ye,ke,Ue)}if(typeof ke.then=="function")return Fn(we,ye,ot(ke),Ue);if(ke.$$typeof===q)return Fn(we,ye,gh(we,ke),Ue);ut(we,ke)}return typeof ke=="string"&&ke!==""||typeof ke=="number"||typeof ke=="bigint"?(ke=""+ke,ye!==null&&ye.tag===6?(u(we,ye.sibling),Ue=v(ye,ke),Ue.return=we,we=Ue):(u(we,ye),Ue=cu(ke,we.mode,Ue),Ue.return=we,we=Ue),R(we)):u(we,ye)}return function(we,ye,ke,Ue){try{gt=0;var kt=Fn(we,ye,ke,Ue);return Ve=null,kt}catch(_t){if(_t===ge||_t===te)throw _t;var mn=is(29,_t,null,we.mode);return mn.lanes=Ue,mn.return=we,mn}finally{}}}var Un=Xt(!0),Ut=Xt(!1),lt=!1;function et(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Xn(r,o){r=r.updateQueue,o.updateQueue===r&&(o.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function Lt(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function Vt(r,o,u){var d=r.updateQueue;if(d===null)return null;if(d=d.shared,(xn&2)!==0){var v=d.pending;return v===null?o.next=o:(o.next=v.next,v.next=o),d.pending=o,o=ns(r),ou(r,null,u),o}return au(r,d,o,u),ns(r)}function bn(r,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194048)!==0)){var d=o.lanes;d&=r.pendingLanes,u|=d,o.lanes=u,Ms(r,u)}}function ki(r,o){var u=r.updateQueue,d=r.alternate;if(d!==null&&(d=d.updateQueue,u===d)){var v=null,x=null;if(u=u.firstBaseUpdate,u!==null){do{var R={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};x===null?v=x=R:x=x.next=R,u=u.next}while(u!==null);x===null?v=x=o:x=x.next=o}else v=x=o;u={baseState:d.baseState,firstBaseUpdate:v,lastBaseUpdate:x,shared:d.shared,callbacks:d.callbacks},r.updateQueue=u;return}r=u.lastBaseUpdate,r===null?u.firstBaseUpdate=o:r.next=o,u.lastBaseUpdate=o}var Yi=!1;function In(){if(Yi){var r=_;if(r!==null)throw r}}function yi(r,o,u,d){Yi=!1;var v=r.updateQueue;lt=!1;var x=v.firstBaseUpdate,R=v.lastBaseUpdate,W=v.shared.pending;if(W!==null){v.shared.pending=null;var he=W,Te=he.next;he.next=null,R===null?x=Te:R.next=Te,R=he;var Fe=r.alternate;Fe!==null&&(Fe=Fe.updateQueue,W=Fe.lastBaseUpdate,W!==R&&(W===null?Fe.firstBaseUpdate=Te:W.next=Te,Fe.lastBaseUpdate=he))}if(x!==null){var We=v.baseState;R=0,Fe=Te=he=null,W=x;do{var Re=W.lane&-536870913,Me=Re!==W.lane;if(Me?(tn&Re)===Re:(d&Re)===Re){Re!==0&&Re===g&&(Yi=!0),Fe!==null&&(Fe=Fe.next={lane:0,tag:W.tag,payload:W.payload,callback:null,next:null});e:{var dt=r,Dt=W;Re=o;var Fn=u;switch(Dt.tag){case 1:if(dt=Dt.payload,typeof dt=="function"){We=dt.call(Fn,We,Re);break e}We=dt;break e;case 3:dt.flags=dt.flags&-65537|128;case 0:if(dt=Dt.payload,Re=typeof dt=="function"?dt.call(Fn,We,Re):dt,Re==null)break e;We=m({},We,Re);break e;case 2:lt=!0}}Re=W.callback,Re!==null&&(r.flags|=64,Me&&(r.flags|=8192),Me=v.callbacks,Me===null?v.callbacks=[Re]:Me.push(Re))}else Me={lane:Re,tag:W.tag,payload:W.payload,callback:W.callback,next:null},Fe===null?(Te=Fe=Me,he=We):Fe=Fe.next=Me,R|=Re;if(W=W.next,W===null){if(W=v.shared.pending,W===null)break;Me=W,W=Me.next,Me.next=null,v.lastBaseUpdate=Me,v.shared.pending=null}}while(!0);Fe===null&&(he=We),v.baseState=he,v.firstBaseUpdate=Te,v.lastBaseUpdate=Fe,x===null&&(v.shared.lanes=0),nc|=R,r.lanes=R,r.memoizedState=We}}function ss(r,o){if(typeof r!="function")throw Error(i(191,r));r.call(o)}function vi(r,o){var u=r.callbacks;if(u!==null)for(r.callbacks=null,r=0;r<u.length;r++)ss(u[r],o)}var Yt=F(null),cn=F(0);function Kn(r,o){r=nl,D(cn,r),D(Yt,o),nl=r|o.baseLanes}function pn(){D(cn,nl),D(Yt,Yt.current)}function Ti(){nl=cn.current,w(Yt),w(cn)}var Qn=F(null),un=null;function fi(r){var o=r.alternate;D(ln,ln.current&1),D(Qn,r),un===null&&(o===null||Yt.current!==null||o.memoizedState!==null)&&(un=r)}function _n(r){D(ln,ln.current),D(Qn,r),un===null&&(un=r)}function bi(r){r.tag===22?(D(ln,ln.current),D(Qn,r),un===null&&(un=r)):_i()}function _i(){D(ln,ln.current),D(Qn,Qn.current)}function Cn(r){w(Qn),un===r&&(un=null),w(ln)}var ln=F(0);function rs(r){for(var o=r;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||v1(u)||b1(u)))return o}else if(o.tag===19&&(o.memoizedProps.revealOrder==="forwards"||o.memoizedProps.revealOrder==="backwards"||o.memoizedProps.revealOrder==="unstable_legacy-backwards"||o.memoizedProps.revealOrder==="together")){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var ii=0,At=null,Et=null,hn=null,Ss=!1,rr=!1,vs=!1,xi=0,uo=0,ho=null,yh=0;function Pn(){throw Error(i(321))}function Pf(r,o){if(o===null)return!1;for(var u=0;u<o.length&&u<r.length;u++)if(!Hi(r[u],o[u]))return!1;return!0}function jf(r,o,u,d,v,x){return ii=x,At=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,$.H=r===null||r.memoizedState===null?vb:T0,vs=!1,x=u(d,v),vs=!1,rr&&(x=Ra(o,u,d,v)),vh(r),x}function vh(r){$.H=Vf;var o=Et!==null&&Et.next!==null;if(ii=0,hn=Et=At=null,Ss=!1,uo=0,ho=null,o)throw Error(i(300));r===null||Fi||(r=r.dependencies,r!==null&&ph(r)&&(Fi=!0))}function Ra(r,o,u,d){At=r;var v=0;do{if(rr&&(ho=null),uo=0,rr=!1,25<=v)throw Error(i(301));if(v+=1,hn=Et=null,r.updateQueue!=null){var x=r.updateQueue;x.lastEffect=null,x.events=null,x.stores=null,x.memoCache!=null&&(x.memoCache.index=0)}$.H=bb,x=o(u,d)}while(rr);return x}function w0(){var r=$.H,o=r.useState()[0];return o=typeof o.then=="function"?fo(o):o,r=r.useState()[0],(Et!==null?Et.memoizedState:null)!==r&&(At.flags|=1024),o}function Ff(){var r=xi!==0;return xi=0,r}function Bf(r,o,u){o.updateQueue=r.updateQueue,o.flags&=-2053,r.lanes&=~u}function bh(r){if(Ss){for(r=r.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}Ss=!1}ii=0,hn=Et=At=null,rr=!1,uo=xi=0,ho=null}function ji(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return hn===null?At.memoizedState=hn=r:hn=hn.next=r,hn}function si(){if(Et===null){var r=At.alternate;r=r!==null?r.memoizedState:null}else r=Et.next;var o=hn===null?At.memoizedState:hn.next;if(o!==null)hn=o,Et=r;else{if(r===null)throw At.alternate===null?Error(i(467)):Error(i(310));Et=r,r={memoizedState:Et.memoizedState,baseState:Et.baseState,baseQueue:Et.baseQueue,queue:Et.queue,next:null},hn===null?At.memoizedState=hn=r:hn=hn.next=r}return hn}function du(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function fo(r){var o=uo;return uo+=1,ho===null&&(ho=[]),r=je(ho,r,o),o=At,(hn===null?o.memoizedState:hn.next)===null&&(o=o.alternate,$.H=o===null||o.memoizedState===null?vb:T0),r}function Kl(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return fo(r);if(r.$$typeof===q)return Gi(r)}throw Error(i(438,String(r)))}function Yo(r){var o=null,u=At.updateQueue;if(u!==null&&(o=u.memoCache),o==null){var d=At.alternate;d!==null&&(d=d.updateQueue,d!==null&&(d=d.memoCache,d!=null&&(o={data:d.data.map(function(v){return v.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),u===null&&(u=du(),At.updateQueue=u),u.memoCache=o,u=o.data[o.index],u===void 0)for(u=o.data[o.index]=Array(r),d=0;d<r;d++)u[d]=ue;return o.index++,u}function Zr(r,o){return typeof o=="function"?o(r):o}function _h(r){var o=si();return Ql(o,Et,r)}function Ql(r,o,u){var d=r.queue;if(d===null)throw Error(i(311));d.lastRenderedReducer=u;var v=r.baseQueue,x=d.pending;if(x!==null){if(v!==null){var R=v.next;v.next=x.next,x.next=R}o.baseQueue=v=x,d.pending=null}if(x=r.baseState,v===null)r.memoizedState=x;else{o=v.next;var W=R=null,he=null,Te=o,Fe=!1;do{var We=Te.lane&-536870913;if(We!==Te.lane?(tn&We)===We:(ii&We)===We){var Re=Te.revertLane;if(Re===0)he!==null&&(he=he.next={lane:0,revertLane:0,gesture:null,action:Te.action,hasEagerState:Te.hasEagerState,eagerState:Te.eagerState,next:null}),We===g&&(Fe=!0);else if((ii&Re)===Re){Te=Te.next,Re===g&&(Fe=!0);continue}else We={lane:0,revertLane:Te.revertLane,gesture:null,action:Te.action,hasEagerState:Te.hasEagerState,eagerState:Te.eagerState,next:null},he===null?(W=he=We,R=x):he=he.next=We,At.lanes|=Re,nc|=Re;We=Te.action,vs&&u(x,We),x=Te.hasEagerState?Te.eagerState:u(x,We)}else Re={lane:We,revertLane:Te.revertLane,gesture:Te.gesture,action:Te.action,hasEagerState:Te.hasEagerState,eagerState:Te.eagerState,next:null},he===null?(W=he=Re,R=x):he=he.next=Re,At.lanes|=We,nc|=We;Te=Te.next}while(Te!==null&&Te!==o);if(he===null?R=x:he.next=W,!Hi(x,r.memoizedState)&&(Fi=!0,Fe&&(u=_,u!==null)))throw u;r.memoizedState=x,r.baseState=R,r.baseQueue=he,d.lastRenderedState=x}return v===null&&(d.lanes=0),[r.memoizedState,d.dispatch]}function xh(r){var o=si(),u=o.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=r;var d=u.dispatch,v=u.pending,x=o.memoizedState;if(v!==null){u.pending=null;var R=v=v.next;do x=r(x,R.action),R=R.next;while(R!==v);Hi(x,o.memoizedState)||(Fi=!0),o.memoizedState=x,o.baseQueue===null&&(o.baseState=x),u.lastRenderedState=x}return[x,d]}function wh(r,o,u){var d=At,v=si(),x=Qt;if(x){if(u===void 0)throw Error(i(407));u=u()}else u=o();var R=!Hi((Et||v).memoizedState,u);if(R&&(v.memoizedState=u,Fi=!0),v=v.queue,S0(Uf.bind(null,d,v,r),[r]),v.getSnapshot!==o||R||hn!==null&&hn.memoizedState.tag&1){if(d.flags|=2048,Xo(9,{destroy:void 0},zf.bind(null,d,v,u,o),null),Hn===null)throw Error(i(349));x||(ii&127)!==0||Da(d,o,u)}return u}function Da(r,o,u){r.flags|=16384,r={getSnapshot:o,value:u},o=At.updateQueue,o===null?(o=du(),At.updateQueue=o,o.stores=[r]):(u=o.stores,u===null?o.stores=[r]:u.push(r))}function zf(r,o,u,d){o.value=u,o.getSnapshot=d,Ip(o)&&Hf(r)}function Uf(r,o,u){return u(function(){Ip(o)&&Hf(r)})}function Ip(r){var o=r.getSnapshot;r=r.value;try{var u=o();return!Hi(r,u)}catch{return!0}}function Hf(r){var o=Ta(r,2);o!==null&&ur(o,r,2)}function po(r){var o=ji();if(typeof r=="function"){var u=r;if(r=u(),vs){Xe(!0);try{u()}finally{Xe(!1)}}}return o.memoizedState=o.baseState=r,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zr,lastRenderedState:r},o}function Pp(r,o,u,d){return r.baseState=u,Ql(r,Et,typeof d=="function"?d:Zr)}function jp(r,o,u,d,v){if(Up(r))throw Error(i(485));if(r=o.action,r!==null){var x={payload:v,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(R){x.listeners.push(R)}};$.T!==null?u(!0):x.isTransition=!1,d(x),u=o.pending,u===null?(x.next=o.pending=x,Fp(o,x)):(x.next=u.next,o.pending=u.next=x)}}function Fp(r,o){var u=o.action,d=o.payload,v=r.state;if(o.isTransition){var x=$.T,R={};$.T=R;try{var W=u(v,d),he=$.S;he!==null&&he(R,W),qf(r,o,W)}catch(Te){$o(r,o,Te)}finally{x!==null&&R.types!==null&&(x.types=R.types),$.T=x}}else try{x=u(v,d),qf(r,o,x)}catch(Te){$o(r,o,Te)}}function qf(r,o,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(d){Bp(r,o,d)},function(d){return $o(r,o,d)}):Bp(r,o,u)}function Bp(r,o,u){o.status="fulfilled",o.value=u,Sh(o),r.state=u,o=r.pending,o!==null&&(u=o.next,u===o?r.pending=null:(u=u.next,o.next=u,Fp(r,u)))}function $o(r,o,u){var d=r.pending;if(r.pending=null,d!==null){d=d.next;do o.status="rejected",o.reason=u,Sh(o),o=o.next;while(o!==d)}r.action=null}function Sh(r){r=r.listeners;for(var o=0;o<r.length;o++)(0,r[o])()}function pu(r,o){return o}function ea(r,o){if(Qt){var u=Hn.formState;if(u!==null){e:{var d=At;if(Qt){if(zn){t:{for(var v=zn,x=ni;v.nodeType!==8;){if(!x){v=null;break t}if(v=ta(v.nextSibling),v===null){v=null;break t}}x=v.data,v=x==="F!"||x==="F"?v:null}if(v){zn=ta(v.nextSibling),d=v.data==="F!";break e}}ro(d)}d=!1}d&&(o=u[0])}}return u=ji(),u.memoizedState=u.baseState=o,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:pu,lastRenderedState:o},u.queue=d,u=gb.bind(null,At,d),d.dispatch=u,d=po(!1),x=k0.bind(null,At,!1,d.queue),d=ji(),v={state:o,dispatch:null,action:r,pending:null},d.queue=v,u=jp.bind(null,At,v,x,u),v.dispatch=u,d.memoizedState=r,[o,u,!1]}function Ma(r){var o=si();return Oa(o,Et,r)}function Oa(r,o,u){if(o=Ql(r,o,pu)[0],r=_h(Zr)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var d=fo(o)}catch(R){throw R===ge?te:R}else d=o;o=si();var v=o.queue,x=v.dispatch;return u!==o.memoizedState&&(At.flags|=2048,Xo(9,{destroy:void 0},Nh.bind(null,v,u),null)),[d,x,r]}function Nh(r,o){r.action=o}function Ah(r){var o=si(),u=Et;if(u!==null)return Oa(o,u,r);si(),o=o.memoizedState,u=si();var d=u.queue.dispatch;return u.memoizedState=r,[o,d,!1]}function Xo(r,o,u,d){return r={tag:r,create:u,deps:d,inst:o,next:null},o=At.updateQueue,o===null&&(o=du(),At.updateQueue=o),u=o.lastEffect,u===null?o.lastEffect=r.next=r:(d=u.next,u.next=r,r.next=d,o.lastEffect=r),r}function zp(){return si().memoizedState}function Jl(r,o,u,d){var v=ji();At.flags|=r,v.memoizedState=Xo(1|o,{destroy:void 0},u,d===void 0?null:d)}function Zl(r,o,u,d){var v=si();d=d===void 0?null:d;var x=v.memoizedState.inst;Et!==null&&d!==null&&Pf(d,Et.memoizedState.deps)?v.memoizedState=Xo(o,x,u,d):(At.flags|=r,v.memoizedState=Xo(1|o,x,u,d))}function tb(r,o){Jl(8390656,8,r,o)}function S0(r,o){Zl(2048,8,r,o)}function uC(r){At.flags|=4;var o=At.updateQueue;if(o===null)o=du(),At.updateQueue=o,o.events=[r];else{var u=o.events;u===null?o.events=[r]:u.push(r)}}function nb(r){var o=si().memoizedState;return uC({ref:o,nextImpl:r}),function(){if((xn&2)!==0)throw Error(i(440));return o.impl.apply(void 0,arguments)}}function ib(r,o){return Zl(4,2,r,o)}function sb(r,o){return Zl(4,4,r,o)}function rb(r,o){if(typeof o=="function"){r=r();var u=o(r);return function(){typeof u=="function"?u():o(null)}}if(o!=null)return r=r(),o.current=r,function(){o.current=null}}function ab(r,o,u){u=u!=null?u.concat([r]):null,Zl(4,4,rb.bind(null,o,r),u)}function N0(){}function ob(r,o){var u=si();o=o===void 0?null:o;var d=u.memoizedState;return o!==null&&Pf(o,d[1])?d[0]:(u.memoizedState=[r,o],r)}function lb(r,o){var u=si();o=o===void 0?null:o;var d=u.memoizedState;if(o!==null&&Pf(o,d[1]))return d[0];if(d=r(),vs){Xe(!0);try{r()}finally{Xe(!1)}}return u.memoizedState=[d,o],d}function A0(r,o,u){return u===void 0||(ii&1073741824)!==0&&(tn&261930)===0?r.memoizedState=o:(r.memoizedState=u,r=c5(),At.lanes|=r,nc|=r,u)}function cb(r,o,u,d){return Hi(u,o)?u:Yt.current!==null?(r=A0(r,u,d),Hi(r,o)||(Fi=!0),r):(ii&42)===0||(ii&1073741824)!==0&&(tn&261930)===0?(Fi=!0,r.memoizedState=u):(r=c5(),At.lanes|=r,nc|=r,o)}function ub(r,o,u,d,v){var x=re.p;re.p=x!==0&&8>x?x:8;var R=$.T,W={};$.T=W,k0(r,!1,o,u);try{var he=v(),Te=$.S;if(Te!==null&&Te(W,he),he!==null&&typeof he=="object"&&typeof he.then=="function"){var Fe=I(he,d);Wf(r,o,Fe,Or(r))}else Wf(r,o,d,Or(r))}catch(We){Wf(r,o,{then:function(){},status:"rejected",reason:We},Or())}finally{re.p=x,R!==null&&W.types!==null&&(R.types=W.types),$.T=R}}function hC(){}function C0(r,o,u,d){if(r.tag!==5)throw Error(i(476));var v=hb(r).queue;ub(r,v,o,ce,u===null?hC:function(){return fb(r),u(d)})}function hb(r){var o=r.memoizedState;if(o!==null)return o;o={memoizedState:ce,baseState:ce,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zr,lastRenderedState:ce},next:null};var u={};return o.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zr,lastRenderedState:u},next:null},r.memoizedState=o,r=r.alternate,r!==null&&(r.memoizedState=o),o}function fb(r){var o=hb(r);o.next===null&&(o=r.alternate.memoizedState),Wf(r,o.next.queue,{},Or())}function E0(){return Gi(od)}function db(){return si().memoizedState}function pb(){return si().memoizedState}function fC(r){for(var o=r.return;o!==null;){switch(o.tag){case 24:case 3:var u=Or();r=Lt(u);var d=Vt(o,r,u);d!==null&&(ur(d,o,u),bn(d,o,u)),o={cache:Xl()},r.payload=o;return}o=o.return}}function dC(r,o,u){var d=Or();u={lane:d,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Up(r)?mb(o,u):(u=ah(r,o,u,d),u!==null&&(ur(u,r,d),yb(u,o,d)))}function gb(r,o,u){var d=Or();Wf(r,o,u,d)}function Wf(r,o,u,d){var v={lane:d,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null};if(Up(r))mb(o,v);else{var x=r.alternate;if(r.lanes===0&&(x===null||x.lanes===0)&&(x=o.lastRenderedReducer,x!==null))try{var R=o.lastRenderedState,W=x(R,u);if(v.hasEagerState=!0,v.eagerState=W,Hi(W,R))return au(r,o,v,0),Hn===null&&ru(),!1}catch{}finally{}if(u=ah(r,o,v,d),u!==null)return ur(u,r,d),yb(u,o,d),!0}return!1}function k0(r,o,u,d){if(d={lane:2,revertLane:a1(),gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null},Up(r)){if(o)throw Error(i(479))}else o=ah(r,u,d,2),o!==null&&ur(o,r,2)}function Up(r){var o=r.alternate;return r===At||o!==null&&o===At}function mb(r,o){rr=Ss=!0;var u=r.pending;u===null?o.next=o:(o.next=u.next,u.next=o),r.pending=o}function yb(r,o,u){if((u&4194048)!==0){var d=o.lanes;d&=r.pendingLanes,u|=d,o.lanes=u,Ms(r,u)}}var Vf={readContext:Gi,use:Kl,useCallback:Pn,useContext:Pn,useEffect:Pn,useImperativeHandle:Pn,useLayoutEffect:Pn,useInsertionEffect:Pn,useMemo:Pn,useReducer:Pn,useRef:Pn,useState:Pn,useDebugValue:Pn,useDeferredValue:Pn,useTransition:Pn,useSyncExternalStore:Pn,useId:Pn,useHostTransitionStatus:Pn,useFormState:Pn,useActionState:Pn,useOptimistic:Pn,useMemoCache:Pn,useCacheRefresh:Pn};Vf.useEffectEvent=Pn;var vb={readContext:Gi,use:Kl,useCallback:function(r,o){return ji().memoizedState=[r,o===void 0?null:o],r},useContext:Gi,useEffect:tb,useImperativeHandle:function(r,o,u){u=u!=null?u.concat([r]):null,Jl(4194308,4,rb.bind(null,o,r),u)},useLayoutEffect:function(r,o){return Jl(4194308,4,r,o)},useInsertionEffect:function(r,o){Jl(4,2,r,o)},useMemo:function(r,o){var u=ji();o=o===void 0?null:o;var d=r();if(vs){Xe(!0);try{r()}finally{Xe(!1)}}return u.memoizedState=[d,o],d},useReducer:function(r,o,u){var d=ji();if(u!==void 0){var v=u(o);if(vs){Xe(!0);try{u(o)}finally{Xe(!1)}}}else v=o;return d.memoizedState=d.baseState=v,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:v},d.queue=r,r=r.dispatch=dC.bind(null,At,r),[d.memoizedState,r]},useRef:function(r){var o=ji();return r={current:r},o.memoizedState=r},useState:function(r){r=po(r);var o=r.queue,u=gb.bind(null,At,o);return o.dispatch=u,[r.memoizedState,u]},useDebugValue:N0,useDeferredValue:function(r,o){var u=ji();return A0(u,r,o)},useTransition:function(){var r=po(!1);return r=ub.bind(null,At,r.queue,!0,!1),ji().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,o,u){var d=At,v=ji();if(Qt){if(u===void 0)throw Error(i(407));u=u()}else{if(u=o(),Hn===null)throw Error(i(349));(tn&127)!==0||Da(d,o,u)}v.memoizedState=u;var x={value:u,getSnapshot:o};return v.queue=x,tb(Uf.bind(null,d,x,r),[r]),d.flags|=2048,Xo(9,{destroy:void 0},zf.bind(null,d,x,u,o),null),u},useId:function(){var r=ji(),o=Hn.identifierPrefix;if(Qt){var u=ir,d=nr;u=(d&~(1<<32-Ct(d)-1)).toString(32)+u,o="_"+o+"R_"+u,u=xi++,0<u&&(o+="H"+u.toString(32)),o+="_"}else u=yh++,o="_"+o+"r_"+u.toString(32)+"_";return r.memoizedState=o},useHostTransitionStatus:E0,useFormState:ea,useActionState:ea,useOptimistic:function(r){var o=ji();o.memoizedState=o.baseState=r;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=u,o=k0.bind(null,At,!0,u),u.dispatch=o,[r,o]},useMemoCache:Yo,useCacheRefresh:function(){return ji().memoizedState=fC.bind(null,At)},useEffectEvent:function(r){var o=ji(),u={impl:r};return o.memoizedState=u,function(){if((xn&2)!==0)throw Error(i(440));return u.impl.apply(void 0,arguments)}}},T0={readContext:Gi,use:Kl,useCallback:ob,useContext:Gi,useEffect:S0,useImperativeHandle:ab,useInsertionEffect:ib,useLayoutEffect:sb,useMemo:lb,useReducer:_h,useRef:zp,useState:function(){return _h(Zr)},useDebugValue:N0,useDeferredValue:function(r,o){var u=si();return cb(u,Et.memoizedState,r,o)},useTransition:function(){var r=_h(Zr)[0],o=si().memoizedState;return[typeof r=="boolean"?r:fo(r),o]},useSyncExternalStore:wh,useId:db,useHostTransitionStatus:E0,useFormState:Ma,useActionState:Ma,useOptimistic:function(r,o){var u=si();return Pp(u,Et,r,o)},useMemoCache:Yo,useCacheRefresh:pb};T0.useEffectEvent=nb;var bb={readContext:Gi,use:Kl,useCallback:ob,useContext:Gi,useEffect:S0,useImperativeHandle:ab,useInsertionEffect:ib,useLayoutEffect:sb,useMemo:lb,useReducer:xh,useRef:zp,useState:function(){return xh(Zr)},useDebugValue:N0,useDeferredValue:function(r,o){var u=si();return Et===null?A0(u,r,o):cb(u,Et.memoizedState,r,o)},useTransition:function(){var r=xh(Zr)[0],o=si().memoizedState;return[typeof r=="boolean"?r:fo(r),o]},useSyncExternalStore:wh,useId:db,useHostTransitionStatus:E0,useFormState:Ah,useActionState:Ah,useOptimistic:function(r,o){var u=si();return Et!==null?Pp(u,Et,r,o):(u.baseState=r,[r,u.queue.dispatch])},useMemoCache:Yo,useCacheRefresh:pb};bb.useEffectEvent=nb;function L0(r,o,u,d){o=r.memoizedState,u=u(d,o),u=u==null?o:m({},o,u),r.memoizedState=u,r.lanes===0&&(r.updateQueue.baseState=u)}var R0={enqueueSetState:function(r,o,u){r=r._reactInternals;var d=Or(),v=Lt(d);v.payload=o,u!=null&&(v.callback=u),o=Vt(r,v,d),o!==null&&(ur(o,r,d),bn(o,r,d))},enqueueReplaceState:function(r,o,u){r=r._reactInternals;var d=Or(),v=Lt(d);v.tag=1,v.payload=o,u!=null&&(v.callback=u),o=Vt(r,v,d),o!==null&&(ur(o,r,d),bn(o,r,d))},enqueueForceUpdate:function(r,o){r=r._reactInternals;var u=Or(),d=Lt(u);d.tag=2,o!=null&&(d.callback=o),o=Vt(r,d,u),o!==null&&(ur(o,r,u),bn(o,r,u))}};function _b(r,o,u,d,v,x,R){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(d,x,R):o.prototype&&o.prototype.isPureReactComponent?!Aa(u,d)||!Aa(v,x):!0}function xb(r,o,u,d){r=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,d),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,d),o.state!==r&&R0.enqueueReplaceState(o,o.state,null)}function gu(r,o){var u=o;if("ref"in o){u={};for(var d in o)d!=="ref"&&(u[d]=o[d])}if(r=r.defaultProps){u===o&&(u=m({},u));for(var v in r)u[v]===void 0&&(u[v]=r[v])}return u}function wb(r){su(r)}function Sb(r){console.error(r)}function Nb(r){su(r)}function Hp(r,o){try{var u=r.onUncaughtError;u(o.value,{componentStack:o.stack})}catch(d){setTimeout(function(){throw d})}}function Ab(r,o,u){try{var d=r.onCaughtError;d(u.value,{componentStack:u.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(v){setTimeout(function(){throw v})}}function D0(r,o,u){return u=Lt(u),u.tag=3,u.payload={element:null},u.callback=function(){Hp(r,o)},u}function Cb(r){return r=Lt(r),r.tag=3,r}function Eb(r,o,u,d){var v=u.type.getDerivedStateFromError;if(typeof v=="function"){var x=d.value;r.payload=function(){return v(x)},r.callback=function(){Ab(o,u,d)}}var R=u.stateNode;R!==null&&typeof R.componentDidCatch=="function"&&(r.callback=function(){Ab(o,u,d),typeof v!="function"&&(ic===null?ic=new Set([this]):ic.add(this));var W=d.stack;this.componentDidCatch(d.value,{componentStack:W!==null?W:""})})}function pC(r,o,u,d,v){if(u.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){if(o=u.alternate,o!==null&&lo(o,u,v,!0),u=Qn.current,u!==null){switch(u.tag){case 31:case 13:return un===null?eg():u.alternate===null&&wi===0&&(wi=3),u.flags&=-257,u.flags|=65536,u.lanes=v,d===be?u.flags|=16384:(o=u.updateQueue,o===null?u.updateQueue=new Set([d]):o.add(d),i1(r,d,v)),!1;case 22:return u.flags|=65536,d===be?u.flags|=16384:(o=u.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([d])},u.updateQueue=o):(u=o.retryQueue,u===null?o.retryQueue=new Set([d]):u.add(d)),i1(r,d,v)),!1}throw Error(i(435,u.tag))}return i1(r,d,v),eg(),!1}if(Qt)return o=Qn.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=v,d!==Rr&&(r=Error(i(422),{cause:d}),Yl(Zs(r,u)))):(d!==Rr&&(o=Error(i(423),{cause:d}),Yl(Zs(o,u))),r=r.current.alternate,r.flags|=65536,v&=-v,r.lanes|=v,d=Zs(d,u),v=D0(r.stateNode,d,v),ki(r,v),wi!==4&&(wi=2)),!1;var x=Error(i(520),{cause:d});if(x=Zs(x,u),Zf===null?Zf=[x]:Zf.push(x),wi!==4&&(wi=2),o===null)return!0;d=Zs(d,u),u=o;do{switch(u.tag){case 3:return u.flags|=65536,r=v&-v,u.lanes|=r,r=D0(u.stateNode,d,r),ki(u,r),!1;case 1:if(o=u.type,x=u.stateNode,(u.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(ic===null||!ic.has(x))))return u.flags|=65536,v&=-v,u.lanes|=v,v=Cb(v),Eb(v,r,u,d),ki(u,v),!1}u=u.return}while(u!==null);return!1}var M0=Error(i(461)),Fi=!1;function bs(r,o,u,d){o.child=r===null?Ut(o,null,u,d):Un(o,r.child,u,d)}function kb(r,o,u,d,v){u=u.render;var x=o.ref;if("ref"in d){var R={};for(var W in d)W!=="ref"&&(R[W]=d[W])}else R=d;return co(o),d=jf(r,o,u,R,x,v),W=Ff(),r!==null&&!Fi?(Bf(r,o,v),Ko(r,o,v)):(Qt&&W&&Mf(o),o.flags|=1,bs(r,o,d,v),o.child)}function Tb(r,o,u,d,v){if(r===null){var x=u.type;return typeof x=="function"&&!lh(x)&&x.defaultProps===void 0&&u.compare===null?(o.tag=15,o.type=x,Lb(r,o,x,d,v)):(r=Wl(u.type,null,d,o,o.mode,v),r.ref=o.ref,r.return=o,o.child=r)}if(x=r.child,!U0(r,v)){var R=x.memoizedProps;if(u=u.compare,u=u!==null?u:Aa,u(R,d)&&r.ref===o.ref)return Ko(r,o,v)}return o.flags|=1,r=Js(x,d),r.ref=o.ref,r.return=o,o.child=r}function Lb(r,o,u,d,v){if(r!==null){var x=r.memoizedProps;if(Aa(x,d)&&r.ref===o.ref)if(Fi=!1,o.pendingProps=d=x,U0(r,v))(r.flags&131072)!==0&&(Fi=!0);else return o.lanes=r.lanes,Ko(r,o,v)}return O0(r,o,u,d,v)}function Rb(r,o,u,d){var v=d.children,x=r!==null?r.memoizedState:null;if(r===null&&o.stateNode===null&&(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),d.mode==="hidden"){if((o.flags&128)!==0){if(x=x!==null?x.baseLanes|u:u,r!==null){for(d=o.child=r.child,v=0;d!==null;)v=v|d.lanes|d.childLanes,d=d.sibling;d=v&~x}else d=0,o.child=null;return Db(r,o,x,u,d)}if((u&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},r!==null&&X(o,x!==null?x.cachePool:null),x!==null?Kn(o,x):pn(),bi(o);else return d=o.lanes=536870912,Db(r,o,x!==null?x.baseLanes|u:u,u,d)}else x!==null?(X(o,x.cachePool),Kn(o,x),_i(),o.memoizedState=null):(r!==null&&X(o,null),pn(),_i());return bs(r,o,v,u),o.child}function Gf(r,o){return r!==null&&r.tag===22||o.stateNode!==null||(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.sibling}function Db(r,o,u,d,v){var x=G();return x=x===null?null:{parent:hi._currentValue,pool:x},o.memoizedState={baseLanes:u,cachePool:x},r!==null&&X(o,null),pn(),bi(o),r!==null&&lo(r,o,d,!0),o.childLanes=v,null}function qp(r,o){return o=Vp({mode:o.mode,children:o.children},r.mode),o.ref=r.ref,r.child=o,o.return=r,o}function Mb(r,o,u){return Un(o,r.child,null,u),r=qp(o,o.pendingProps),r.flags|=2,Cn(o),o.memoizedState=null,r}function gC(r,o,u){var d=o.pendingProps,v=(o.flags&128)!==0;if(o.flags&=-129,r===null){if(Qt){if(d.mode==="hidden")return r=qp(o,d),o.lanes=536870912,Gf(null,r);if(_n(o),(r=zn)?(r=V5(r,ni),r=r!==null&&r.data==="&"?r:null,r!==null&&(o.memoizedState={dehydrated:r,treeContext:so!==null?{id:nr,overflow:ir}:null,retryLane:536870912,hydrationErrors:null},u=ch(r),u.return=o,o.child=u,Wi=o,zn=null)):r=null,r===null)throw ro(o);return o.lanes=536870912,null}return qp(o,d)}var x=r.memoizedState;if(x!==null){var R=x.dehydrated;if(_n(o),v)if(o.flags&256)o.flags&=-257,o=Mb(r,o,u);else if(o.memoizedState!==null)o.child=r.child,o.flags|=128,o=null;else throw Error(i(558));else if(Fi||lo(r,o,u,!1),v=(u&r.childLanes)!==0,Fi||v){if(d=Hn,d!==null&&(R=Os(d,u),R!==0&&R!==x.retryLane))throw x.retryLane=R,Ta(r,R),ur(d,r,R),M0;eg(),o=Mb(r,o,u)}else r=x.treeContext,zn=ta(R.nextSibling),Wi=o,Qt=!0,ys=null,ni=!1,r!==null&&Mp(o,r),o=qp(o,d),o.flags|=4096;return o}return r=Js(r.child,{mode:d.mode,children:d.children}),r.ref=o.ref,o.child=r,r.return=o,r}function Wp(r,o){var u=o.ref;if(u===null)r!==null&&r.ref!==null&&(o.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(i(284));(r===null||r.ref!==u)&&(o.flags|=4194816)}}function O0(r,o,u,d,v){return co(o),u=jf(r,o,u,d,void 0,v),d=Ff(),r!==null&&!Fi?(Bf(r,o,v),Ko(r,o,v)):(Qt&&d&&Mf(o),o.flags|=1,bs(r,o,u,v),o.child)}function Ob(r,o,u,d,v,x){return co(o),o.updateQueue=null,u=Ra(o,d,u,v),vh(r),d=Ff(),r!==null&&!Fi?(Bf(r,o,x),Ko(r,o,x)):(Qt&&d&&Mf(o),o.flags|=1,bs(r,o,u,x),o.child)}function Ib(r,o,u,d,v){if(co(o),o.stateNode===null){var x=qi,R=u.contextType;typeof R=="object"&&R!==null&&(x=Gi(R)),x=new u(d,x),o.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,x.updater=R0,o.stateNode=x,x._reactInternals=o,x=o.stateNode,x.props=d,x.state=o.memoizedState,x.refs={},et(o),R=u.contextType,x.context=typeof R=="object"&&R!==null?Gi(R):qi,x.state=o.memoizedState,R=u.getDerivedStateFromProps,typeof R=="function"&&(L0(o,u,R,d),x.state=o.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(R=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),R!==x.state&&R0.enqueueReplaceState(x,x.state,null),yi(o,d,x,v),In(),x.state=o.memoizedState),typeof x.componentDidMount=="function"&&(o.flags|=4194308),d=!0}else if(r===null){x=o.stateNode;var W=o.memoizedProps,he=gu(u,W);x.props=he;var Te=x.context,Fe=u.contextType;R=qi,typeof Fe=="object"&&Fe!==null&&(R=Gi(Fe));var We=u.getDerivedStateFromProps;Fe=typeof We=="function"||typeof x.getSnapshotBeforeUpdate=="function",W=o.pendingProps!==W,Fe||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(W||Te!==R)&&xb(o,x,d,R),lt=!1;var Re=o.memoizedState;x.state=Re,yi(o,d,x,v),In(),Te=o.memoizedState,W||Re!==Te||lt?(typeof We=="function"&&(L0(o,u,We,d),Te=o.memoizedState),(he=lt||_b(o,u,he,d,Re,Te,R))?(Fe||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(o.flags|=4194308)):(typeof x.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=d,o.memoizedState=Te),x.props=d,x.state=Te,x.context=R,d=he):(typeof x.componentDidMount=="function"&&(o.flags|=4194308),d=!1)}else{x=o.stateNode,Xn(r,o),R=o.memoizedProps,Fe=gu(u,R),x.props=Fe,We=o.pendingProps,Re=x.context,Te=u.contextType,he=qi,typeof Te=="object"&&Te!==null&&(he=Gi(Te)),W=u.getDerivedStateFromProps,(Te=typeof W=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(R!==We||Re!==he)&&xb(o,x,d,he),lt=!1,Re=o.memoizedState,x.state=Re,yi(o,d,x,v),In();var Me=o.memoizedState;R!==We||Re!==Me||lt||r!==null&&r.dependencies!==null&&ph(r.dependencies)?(typeof W=="function"&&(L0(o,u,W,d),Me=o.memoizedState),(Fe=lt||_b(o,u,Fe,d,Re,Me,he)||r!==null&&r.dependencies!==null&&ph(r.dependencies))?(Te||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(d,Me,he),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(d,Me,he)),typeof x.componentDidUpdate=="function"&&(o.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof x.componentDidUpdate!="function"||R===r.memoizedProps&&Re===r.memoizedState||(o.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||R===r.memoizedProps&&Re===r.memoizedState||(o.flags|=1024),o.memoizedProps=d,o.memoizedState=Me),x.props=d,x.state=Me,x.context=he,d=Fe):(typeof x.componentDidUpdate!="function"||R===r.memoizedProps&&Re===r.memoizedState||(o.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||R===r.memoizedProps&&Re===r.memoizedState||(o.flags|=1024),d=!1)}return x=d,Wp(r,o),d=(o.flags&128)!==0,x||d?(x=o.stateNode,u=d&&typeof u.getDerivedStateFromError!="function"?null:x.render(),o.flags|=1,r!==null&&d?(o.child=Un(o,r.child,null,v),o.child=Un(o,null,u,v)):bs(r,o,u,v),o.memoizedState=x.state,r=o.child):r=Ko(r,o,v),r}function Pb(r,o,u,d){return Vo(),o.flags|=256,bs(r,o,u,d),o.child}var I0={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function P0(r){return{baseLanes:r,cachePool:ie()}}function j0(r,o,u){return r=r!==null?r.childLanes&~u:0,o&&(r|=Mr),r}function jb(r,o,u){var d=o.pendingProps,v=!1,x=(o.flags&128)!==0,R;if((R=x)||(R=r!==null&&r.memoizedState===null?!1:(ln.current&2)!==0),R&&(v=!0,o.flags&=-129),R=(o.flags&32)!==0,o.flags&=-33,r===null){if(Qt){if(v?fi(o):_i(),(r=zn)?(r=V5(r,ni),r=r!==null&&r.data!=="&"?r:null,r!==null&&(o.memoizedState={dehydrated:r,treeContext:so!==null?{id:nr,overflow:ir}:null,retryLane:536870912,hydrationErrors:null},u=ch(r),u.return=o,o.child=u,Wi=o,zn=null)):r=null,r===null)throw ro(o);return b1(r)?o.lanes=32:o.lanes=536870912,null}var W=d.children;return d=d.fallback,v?(_i(),v=o.mode,W=Vp({mode:"hidden",children:W},v),d=io(d,v,u,null),W.return=o,d.return=o,W.sibling=d,o.child=W,d=o.child,d.memoizedState=P0(u),d.childLanes=j0(r,R,u),o.memoizedState=I0,Gf(null,d)):(fi(o),F0(o,W))}var he=r.memoizedState;if(he!==null&&(W=he.dehydrated,W!==null)){if(x)o.flags&256?(fi(o),o.flags&=-257,o=B0(r,o,u)):o.memoizedState!==null?(_i(),o.child=r.child,o.flags|=128,o=null):(_i(),W=d.fallback,v=o.mode,d=Vp({mode:"visible",children:d.children},v),W=io(W,v,u,null),W.flags|=2,d.return=o,W.return=o,d.sibling=W,o.child=d,Un(o,r.child,null,u),d=o.child,d.memoizedState=P0(u),d.childLanes=j0(r,R,u),o.memoizedState=I0,o=Gf(null,d));else if(fi(o),b1(W)){if(R=W.nextSibling&&W.nextSibling.dataset,R)var Te=R.dgst;R=Te,d=Error(i(419)),d.stack="",d.digest=R,Yl({value:d,source:null,stack:null}),o=B0(r,o,u)}else if(Fi||lo(r,o,u,!1),R=(u&r.childLanes)!==0,Fi||R){if(R=Hn,R!==null&&(d=Os(R,u),d!==0&&d!==he.retryLane))throw he.retryLane=d,Ta(r,d),ur(R,r,d),M0;v1(W)||eg(),o=B0(r,o,u)}else v1(W)?(o.flags|=192,o.child=r.child,o=null):(r=he.treeContext,zn=ta(W.nextSibling),Wi=o,Qt=!0,ys=null,ni=!1,r!==null&&Mp(o,r),o=F0(o,d.children),o.flags|=4096);return o}return v?(_i(),W=d.fallback,v=o.mode,he=r.child,Te=he.sibling,d=Js(he,{mode:"hidden",children:d.children}),d.subtreeFlags=he.subtreeFlags&65011712,Te!==null?W=Js(Te,W):(W=io(W,v,u,null),W.flags|=2),W.return=o,d.return=o,d.sibling=W,o.child=d,Gf(null,d),d=o.child,W=r.child.memoizedState,W===null?W=P0(u):(v=W.cachePool,v!==null?(he=hi._currentValue,v=v.parent!==he?{parent:he,pool:he}:v):v=ie(),W={baseLanes:W.baseLanes|u,cachePool:v}),d.memoizedState=W,d.childLanes=j0(r,R,u),o.memoizedState=I0,Gf(r.child,d)):(fi(o),u=r.child,r=u.sibling,u=Js(u,{mode:"visible",children:d.children}),u.return=o,u.sibling=null,r!==null&&(R=o.deletions,R===null?(o.deletions=[r],o.flags|=16):R.push(r)),o.child=u,o.memoizedState=null,u)}function F0(r,o){return o=Vp({mode:"visible",children:o},r.mode),o.return=r,r.child=o}function Vp(r,o){return r=is(22,r,null,o),r.lanes=0,r}function B0(r,o,u){return Un(o,r.child,null,u),r=F0(o,o.pendingProps.children),r.flags|=2,o.memoizedState=null,r}function Fb(r,o,u){r.lanes|=o;var d=r.alternate;d!==null&&(d.lanes|=o),$l(r.return,o,u)}function z0(r,o,u,d,v,x){var R=r.memoizedState;R===null?r.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:d,tail:u,tailMode:v,treeForkCount:x}:(R.isBackwards=o,R.rendering=null,R.renderingStartTime=0,R.last=d,R.tail=u,R.tailMode=v,R.treeForkCount=x)}function Bb(r,o,u){var d=o.pendingProps,v=d.revealOrder,x=d.tail;d=d.children;var R=ln.current,W=(R&2)!==0;if(W?(R=R&1|2,o.flags|=128):R&=1,D(ln,R),bs(r,o,d,u),d=Qt?uu:0,!W&&r!==null&&(r.flags&128)!==0)e:for(r=o.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Fb(r,u,o);else if(r.tag===19)Fb(r,u,o);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===o)break e;for(;r.sibling===null;){if(r.return===null||r.return===o)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}switch(v){case"forwards":for(u=o.child,v=null;u!==null;)r=u.alternate,r!==null&&rs(r)===null&&(v=u),u=u.sibling;u=v,u===null?(v=o.child,o.child=null):(v=u.sibling,u.sibling=null),z0(o,!1,v,u,x,d);break;case"backwards":case"unstable_legacy-backwards":for(u=null,v=o.child,o.child=null;v!==null;){if(r=v.alternate,r!==null&&rs(r)===null){o.child=v;break}r=v.sibling,v.sibling=u,u=v,v=r}z0(o,!0,u,null,x,d);break;case"together":z0(o,!1,null,null,void 0,d);break;default:o.memoizedState=null}return o.child}function Ko(r,o,u){if(r!==null&&(o.dependencies=r.dependencies),nc|=o.lanes,(u&o.childLanes)===0)if(r!==null){if(lo(r,o,u,!1),(u&o.childLanes)===0)return null}else return null;if(r!==null&&o.child!==r.child)throw Error(i(153));if(o.child!==null){for(r=o.child,u=Js(r,r.pendingProps),o.child=u,u.return=o;r.sibling!==null;)r=r.sibling,u=u.sibling=Js(r,r.pendingProps),u.return=o;u.sibling=null}return o.child}function U0(r,o){return(r.lanes&o)!==0?!0:(r=r.dependencies,!!(r!==null&&ph(r)))}function mC(r,o,u){switch(o.tag){case 3:Ne(o,o.stateNode.containerInfo),oo(o,hi,r.memoizedState.cache),Vo();break;case 27:case 5:Pe(o);break;case 4:Ne(o,o.stateNode.containerInfo);break;case 10:oo(o,o.type,o.memoizedProps.value);break;case 31:if(o.memoizedState!==null)return o.flags|=128,_n(o),null;break;case 13:var d=o.memoizedState;if(d!==null)return d.dehydrated!==null?(fi(o),o.flags|=128,null):(u&o.child.childLanes)!==0?jb(r,o,u):(fi(o),r=Ko(r,o,u),r!==null?r.sibling:null);fi(o);break;case 19:var v=(r.flags&128)!==0;if(d=(u&o.childLanes)!==0,d||(lo(r,o,u,!1),d=(u&o.childLanes)!==0),v){if(d)return Bb(r,o,u);o.flags|=128}if(v=o.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),D(ln,ln.current),d)break;return null;case 22:return o.lanes=0,Rb(r,o,u,o.pendingProps);case 24:oo(o,hi,r.memoizedState.cache)}return Ko(r,o,u)}function zb(r,o,u){if(r!==null)if(r.memoizedProps!==o.pendingProps)Fi=!0;else{if(!U0(r,u)&&(o.flags&128)===0)return Fi=!1,mC(r,o,u);Fi=(r.flags&131072)!==0}else Fi=!1,Qt&&(o.flags&1048576)!==0&&Dp(o,uu,o.index);switch(o.lanes=0,o.tag){case 16:e:{var d=o.pendingProps;if(r=Ae(o.elementType),o.type=r,typeof r=="function")lh(r)?(d=gu(r,d),o.tag=1,o=Ib(null,o,r,d,u)):(o.tag=0,o=O0(null,o,r,d,u));else{if(r!=null){var v=r.$$typeof;if(v===H){o.tag=11,o=kb(null,o,r,d,u);break e}else if(v===ae){o.tag=14,o=Tb(null,o,r,d,u);break e}}throw o=ne(r)||r,Error(i(306,o,""))}}return o;case 0:return O0(r,o,o.type,o.pendingProps,u);case 1:return d=o.type,v=gu(d,o.pendingProps),Ib(r,o,d,v,u);case 3:e:{if(Ne(o,o.stateNode.containerInfo),r===null)throw Error(i(387));d=o.pendingProps;var x=o.memoizedState;v=x.element,Xn(r,o),yi(o,d,null,u);var R=o.memoizedState;if(d=R.cache,oo(o,hi,d),d!==x.cache&&Go(o,[hi],u,!0),In(),d=R.element,x.isDehydrated)if(x={element:d,isDehydrated:!1,cache:R.cache},o.updateQueue.baseState=x,o.memoizedState=x,o.flags&256){o=Pb(r,o,d,u);break e}else if(d!==v){v=Zs(Error(i(424)),o),Yl(v),o=Pb(r,o,d,u);break e}else{switch(r=o.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(zn=ta(r.firstChild),Wi=o,Qt=!0,ys=null,ni=!0,u=Ut(o,null,d,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(Vo(),d===v){o=Ko(r,o,u);break e}bs(r,o,d,u)}o=o.child}return o;case 26:return Wp(r,o),r===null?(u=Q5(o.type,null,o.pendingProps,null))?o.memoizedState=u:Qt||(u=o.type,r=o.pendingProps,d=og(le.current).createElement(u),d[An]=o,d[Yn]=r,_s(d,u,r),oi(d),o.stateNode=d):o.memoizedState=Q5(o.type,r.memoizedProps,o.pendingProps,r.memoizedState),null;case 27:return Pe(o),r===null&&Qt&&(d=o.stateNode=$5(o.type,o.pendingProps,le.current),Wi=o,ni=!0,v=zn,oc(o.type)?(_1=v,zn=ta(d.firstChild)):zn=v),bs(r,o,o.pendingProps.children,u),Wp(r,o),r===null&&(o.flags|=4194304),o.child;case 5:return r===null&&Qt&&((v=d=zn)&&(d=GC(d,o.type,o.pendingProps,ni),d!==null?(o.stateNode=d,Wi=o,zn=ta(d.firstChild),ni=!1,v=!0):v=!1),v||ro(o)),Pe(o),v=o.type,x=o.pendingProps,R=r!==null?r.memoizedProps:null,d=x.children,g1(v,x)?d=null:R!==null&&g1(v,R)&&(o.flags|=32),o.memoizedState!==null&&(v=jf(r,o,w0,null,null,u),od._currentValue=v),Wp(r,o),bs(r,o,d,u),o.child;case 6:return r===null&&Qt&&((r=u=zn)&&(u=YC(u,o.pendingProps,ni),u!==null?(o.stateNode=u,Wi=o,zn=null,r=!0):r=!1),r||ro(o)),null;case 13:return jb(r,o,u);case 4:return Ne(o,o.stateNode.containerInfo),d=o.pendingProps,r===null?o.child=Un(o,null,d,u):bs(r,o,d,u),o.child;case 11:return kb(r,o,o.type,o.pendingProps,u);case 7:return bs(r,o,o.pendingProps,u),o.child;case 8:return bs(r,o,o.pendingProps.children,u),o.child;case 12:return bs(r,o,o.pendingProps.children,u),o.child;case 10:return d=o.pendingProps,oo(o,o.type,d.value),bs(r,o,d.children,u),o.child;case 9:return v=o.type._context,d=o.pendingProps.children,co(o),v=Gi(v),d=d(v),o.flags|=1,bs(r,o,d,u),o.child;case 14:return Tb(r,o,o.type,o.pendingProps,u);case 15:return Lb(r,o,o.type,o.pendingProps,u);case 19:return Bb(r,o,u);case 31:return gC(r,o,u);case 22:return Rb(r,o,u,o.pendingProps);case 24:return co(o),d=Gi(hi),r===null?(v=G(),v===null&&(v=Hn,x=Xl(),v.pooledCache=x,x.refCount++,x!==null&&(v.pooledCacheLanes|=u),v=x),o.memoizedState={parent:d,cache:v},et(o),oo(o,hi,v)):((r.lanes&u)!==0&&(Xn(r,o),yi(o,null,null,u),In()),v=r.memoizedState,x=o.memoizedState,v.parent!==d?(v={parent:d,cache:d},o.memoizedState=v,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=v),oo(o,hi,d)):(d=x.cache,oo(o,hi,d),d!==v.cache&&Go(o,[hi],u,!0))),bs(r,o,o.pendingProps.children,u),o.child;case 29:throw o.pendingProps}throw Error(i(156,o.tag))}function Qo(r){r.flags|=4}function H0(r,o,u,d,v){if((o=(r.mode&32)!==0)&&(o=!1),o){if(r.flags|=16777216,(v&335544128)===v)if(r.stateNode.complete)r.flags|=8192;else if(d5())r.flags|=8192;else throw Ie=be,Ee}else r.flags&=-16777217}function Ub(r,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!n_(o))if(d5())r.flags|=8192;else throw Ie=be,Ee}function Gp(r,o){o!==null&&(r.flags|=4),r.flags&16384&&(o=r.tag!==22?Fr():536870912,r.lanes|=o,Th|=o)}function Yf(r,o){if(!Qt)switch(r.tailMode){case"hidden":o=r.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?r.tail=null:u.sibling=null;break;case"collapsed":u=r.tail;for(var d=null;u!==null;)u.alternate!==null&&(d=u),u=u.sibling;d===null?o||r.tail===null?r.tail=null:r.tail.sibling=null:d.sibling=null}}function Jn(r){var o=r.alternate!==null&&r.alternate.child===r.child,u=0,d=0;if(o)for(var v=r.child;v!==null;)u|=v.lanes|v.childLanes,d|=v.subtreeFlags&65011712,d|=v.flags&65011712,v.return=r,v=v.sibling;else for(v=r.child;v!==null;)u|=v.lanes|v.childLanes,d|=v.subtreeFlags,d|=v.flags,v.return=r,v=v.sibling;return r.subtreeFlags|=d,r.childLanes=u,o}function yC(r,o,u){var d=o.pendingProps;switch(fh(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Jn(o),null;case 1:return Jn(o),null;case 3:return u=o.stateNode,d=null,r!==null&&(d=r.memoizedState.cache),o.memoizedState.cache!==d&&(o.flags|=2048),sr(hi),Ce(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(r===null||r.child===null)&&(Vi(o)?Qo(o):r===null||r.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,If())),Jn(o),null;case 26:var v=o.type,x=o.memoizedState;return r===null?(Qo(o),x!==null?(Jn(o),Ub(o,x)):(Jn(o),H0(o,v,null,d,u))):x?x!==r.memoizedState?(Qo(o),Jn(o),Ub(o,x)):(Jn(o),o.flags&=-16777217):(r=r.memoizedProps,r!==d&&Qo(o),Jn(o),H0(o,v,r,d,u)),null;case 27:if($e(o),u=le.current,v=o.type,r!==null&&o.stateNode!=null)r.memoizedProps!==d&&Qo(o);else{if(!d){if(o.stateNode===null)throw Error(i(166));return Jn(o),null}r=z.current,Vi(o)?Of(o):(r=$5(v,d,u),o.stateNode=r,Qo(o))}return Jn(o),null;case 5:if($e(o),v=o.type,r!==null&&o.stateNode!=null)r.memoizedProps!==d&&Qo(o);else{if(!d){if(o.stateNode===null)throw Error(i(166));return Jn(o),null}if(x=z.current,Vi(o))Of(o);else{var R=og(le.current);switch(x){case 1:x=R.createElementNS("http://www.w3.org/2000/svg",v);break;case 2:x=R.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;default:switch(v){case"svg":x=R.createElementNS("http://www.w3.org/2000/svg",v);break;case"math":x=R.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;case"script":x=R.createElement("div"),x.innerHTML="<script><\/script>",x=x.removeChild(x.firstChild);break;case"select":x=typeof d.is=="string"?R.createElement("select",{is:d.is}):R.createElement("select"),d.multiple?x.multiple=!0:d.size&&(x.size=d.size);break;default:x=typeof d.is=="string"?R.createElement(v,{is:d.is}):R.createElement(v)}}x[An]=o,x[Yn]=d;e:for(R=o.child;R!==null;){if(R.tag===5||R.tag===6)x.appendChild(R.stateNode);else if(R.tag!==4&&R.tag!==27&&R.child!==null){R.child.return=R,R=R.child;continue}if(R===o)break e;for(;R.sibling===null;){if(R.return===null||R.return===o)break e;R=R.return}R.sibling.return=R.return,R=R.sibling}o.stateNode=x;e:switch(_s(x,v,d),v){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}d&&Qo(o)}}return Jn(o),H0(o,o.type,r===null?null:r.memoizedProps,o.pendingProps,u),null;case 6:if(r&&o.stateNode!=null)r.memoizedProps!==d&&Qo(o);else{if(typeof d!="string"&&o.stateNode===null)throw Error(i(166));if(r=le.current,Vi(o)){if(r=o.stateNode,u=o.memoizedProps,d=null,v=Wi,v!==null)switch(v.tag){case 27:case 5:d=v.memoizedProps}r[An]=o,r=!!(r.nodeValue===u||d!==null&&d.suppressHydrationWarning===!0||j5(r.nodeValue,u)),r||ro(o,!0)}else r=og(r).createTextNode(d),r[An]=o,o.stateNode=r}return Jn(o),null;case 31:if(u=o.memoizedState,r===null||r.memoizedState!==null){if(d=Vi(o),u!==null){if(r===null){if(!d)throw Error(i(318));if(r=o.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(557));r[An]=o}else Vo(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Jn(o),r=!1}else u=If(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=u),r=!0;if(!r)return o.flags&256?(Cn(o),o):(Cn(o),null);if((o.flags&128)!==0)throw Error(i(558))}return Jn(o),null;case 13:if(d=o.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(v=Vi(o),d!==null&&d.dehydrated!==null){if(r===null){if(!v)throw Error(i(318));if(v=o.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(i(317));v[An]=o}else Vo(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Jn(o),v=!1}else v=If(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=v),v=!0;if(!v)return o.flags&256?(Cn(o),o):(Cn(o),null)}return Cn(o),(o.flags&128)!==0?(o.lanes=u,o):(u=d!==null,r=r!==null&&r.memoizedState!==null,u&&(d=o.child,v=null,d.alternate!==null&&d.alternate.memoizedState!==null&&d.alternate.memoizedState.cachePool!==null&&(v=d.alternate.memoizedState.cachePool.pool),x=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(x=d.memoizedState.cachePool.pool),x!==v&&(d.flags|=2048)),u!==r&&u&&(o.child.flags|=8192),Gp(o,o.updateQueue),Jn(o),null);case 4:return Ce(),r===null&&u1(o.stateNode.containerInfo),Jn(o),null;case 10:return sr(o.type),Jn(o),null;case 19:if(w(ln),d=o.memoizedState,d===null)return Jn(o),null;if(v=(o.flags&128)!==0,x=d.rendering,x===null)if(v)Yf(d,!1);else{if(wi!==0||r!==null&&(r.flags&128)!==0)for(r=o.child;r!==null;){if(x=rs(r),x!==null){for(o.flags|=128,Yf(d,!1),r=x.updateQueue,o.updateQueue=r,Gp(o,r),o.subtreeFlags=0,r=u,u=o.child;u!==null;)lu(u,r),u=u.sibling;return D(ln,ln.current&1|2),Qt&&qs(o,d.treeForkCount),o.child}r=r.sibling}d.tail!==null&&vt()>Qp&&(o.flags|=128,v=!0,Yf(d,!1),o.lanes=4194304)}else{if(!v)if(r=rs(x),r!==null){if(o.flags|=128,v=!0,r=r.updateQueue,o.updateQueue=r,Gp(o,r),Yf(d,!0),d.tail===null&&d.tailMode==="hidden"&&!x.alternate&&!Qt)return Jn(o),null}else 2*vt()-d.renderingStartTime>Qp&&u!==536870912&&(o.flags|=128,v=!0,Yf(d,!1),o.lanes=4194304);d.isBackwards?(x.sibling=o.child,o.child=x):(r=d.last,r!==null?r.sibling=x:o.child=x,d.last=x)}return d.tail!==null?(r=d.tail,d.rendering=r,d.tail=r.sibling,d.renderingStartTime=vt(),r.sibling=null,u=ln.current,D(ln,v?u&1|2:u&1),Qt&&qs(o,d.treeForkCount),r):(Jn(o),null);case 22:case 23:return Cn(o),Ti(),d=o.memoizedState!==null,r!==null?r.memoizedState!==null!==d&&(o.flags|=8192):d&&(o.flags|=8192),d?(u&536870912)!==0&&(o.flags&128)===0&&(Jn(o),o.subtreeFlags&6&&(o.flags|=8192)):Jn(o),u=o.updateQueue,u!==null&&Gp(o,u.retryQueue),u=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),d=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),d!==u&&(o.flags|=2048),r!==null&&w(U),null;case 24:return u=null,r!==null&&(u=r.memoizedState.cache),o.memoizedState.cache!==u&&(o.flags|=2048),sr(hi),Jn(o),null;case 25:return null;case 30:return null}throw Error(i(156,o.tag))}function vC(r,o){switch(fh(o),o.tag){case 1:return r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 3:return sr(hi),Ce(),r=o.flags,(r&65536)!==0&&(r&128)===0?(o.flags=r&-65537|128,o):null;case 26:case 27:case 5:return $e(o),null;case 31:if(o.memoizedState!==null){if(Cn(o),o.alternate===null)throw Error(i(340));Vo()}return r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 13:if(Cn(o),r=o.memoizedState,r!==null&&r.dehydrated!==null){if(o.alternate===null)throw Error(i(340));Vo()}return r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 19:return w(ln),null;case 4:return Ce(),null;case 10:return sr(o.type),null;case 22:case 23:return Cn(o),Ti(),r!==null&&w(U),r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 24:return sr(hi),null;case 25:return null;default:return null}}function Hb(r,o){switch(fh(o),o.tag){case 3:sr(hi),Ce();break;case 26:case 27:case 5:$e(o);break;case 4:Ce();break;case 31:o.memoizedState!==null&&Cn(o);break;case 13:Cn(o);break;case 19:w(ln);break;case 10:sr(o.type);break;case 22:case 23:Cn(o),Ti(),r!==null&&w(U);break;case 24:sr(hi)}}function $f(r,o){try{var u=o.updateQueue,d=u!==null?u.lastEffect:null;if(d!==null){var v=d.next;u=v;do{if((u.tag&r)===r){d=void 0;var x=u.create,R=u.inst;d=x(),R.destroy=d}u=u.next}while(u!==v)}}catch(W){kn(o,o.return,W)}}function ec(r,o,u){try{var d=o.updateQueue,v=d!==null?d.lastEffect:null;if(v!==null){var x=v.next;d=x;do{if((d.tag&r)===r){var R=d.inst,W=R.destroy;if(W!==void 0){R.destroy=void 0,v=o;var he=u,Te=W;try{Te()}catch(Fe){kn(v,he,Fe)}}}d=d.next}while(d!==x)}}catch(Fe){kn(o,o.return,Fe)}}function qb(r){var o=r.updateQueue;if(o!==null){var u=r.stateNode;try{vi(o,u)}catch(d){kn(r,r.return,d)}}}function Wb(r,o,u){u.props=gu(r.type,r.memoizedProps),u.state=r.memoizedState;try{u.componentWillUnmount()}catch(d){kn(r,o,d)}}function Xf(r,o){try{var u=r.ref;if(u!==null){switch(r.tag){case 26:case 27:case 5:var d=r.stateNode;break;case 30:d=r.stateNode;break;default:d=r.stateNode}typeof u=="function"?r.refCleanup=u(d):u.current=d}}catch(v){kn(r,o,v)}}function go(r,o){var u=r.ref,d=r.refCleanup;if(u!==null)if(typeof d=="function")try{d()}catch(v){kn(r,o,v)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(v){kn(r,o,v)}else u.current=null}function Vb(r){var o=r.type,u=r.memoizedProps,d=r.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":u.autoFocus&&d.focus();break e;case"img":u.src?d.src=u.src:u.srcSet&&(d.srcset=u.srcSet)}}catch(v){kn(r,r.return,v)}}function q0(r,o,u){try{var d=r.stateNode;zC(d,r.type,u,o),d[Yn]=o}catch(v){kn(r,r.return,v)}}function Gb(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&oc(r.type)||r.tag===4}function W0(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Gb(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&oc(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function V0(r,o,u){var d=r.tag;if(d===5||d===6)r=r.stateNode,o?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(r,o):(o=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,o.appendChild(r),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=Ar));else if(d!==4&&(d===27&&oc(r.type)&&(u=r.stateNode,o=null),r=r.child,r!==null))for(V0(r,o,u),r=r.sibling;r!==null;)V0(r,o,u),r=r.sibling}function Yp(r,o,u){var d=r.tag;if(d===5||d===6)r=r.stateNode,o?u.insertBefore(r,o):u.appendChild(r);else if(d!==4&&(d===27&&oc(r.type)&&(u=r.stateNode),r=r.child,r!==null))for(Yp(r,o,u),r=r.sibling;r!==null;)Yp(r,o,u),r=r.sibling}function Yb(r){var o=r.stateNode,u=r.memoizedProps;try{for(var d=r.type,v=o.attributes;v.length;)o.removeAttributeNode(v[0]);_s(o,d,u),o[An]=r,o[Yn]=u}catch(x){kn(r,r.return,x)}}var Jo=!1,Bi=!1,G0=!1,$b=typeof WeakSet=="function"?WeakSet:Set,as=null;function bC(r,o){if(r=r.containerInfo,d1=pg,r=Ea(r),Kr(r)){if("selectionStart"in r)var u={start:r.selectionStart,end:r.selectionEnd};else e:{u=(u=r.ownerDocument)&&u.defaultView||window;var d=u.getSelection&&u.getSelection();if(d&&d.rangeCount!==0){u=d.anchorNode;var v=d.anchorOffset,x=d.focusNode;d=d.focusOffset;try{u.nodeType,x.nodeType}catch{u=null;break e}var R=0,W=-1,he=-1,Te=0,Fe=0,We=r,Re=null;t:for(;;){for(var Me;We!==u||v!==0&&We.nodeType!==3||(W=R+v),We!==x||d!==0&&We.nodeType!==3||(he=R+d),We.nodeType===3&&(R+=We.nodeValue.length),(Me=We.firstChild)!==null;)Re=We,We=Me;for(;;){if(We===r)break t;if(Re===u&&++Te===v&&(W=R),Re===x&&++Fe===d&&(he=R),(Me=We.nextSibling)!==null)break;We=Re,Re=We.parentNode}We=Me}u=W===-1||he===-1?null:{start:W,end:he}}else u=null}u=u||{start:0,end:0}}else u=null;for(p1={focusedElem:r,selectionRange:u},pg=!1,as=o;as!==null;)if(o=as,r=o.child,(o.subtreeFlags&1028)!==0&&r!==null)r.return=o,as=r;else for(;as!==null;){switch(o=as,x=o.alternate,r=o.flags,o.tag){case 0:if((r&4)!==0&&(r=o.updateQueue,r=r!==null?r.events:null,r!==null))for(u=0;u<r.length;u++)v=r[u],v.ref.impl=v.nextImpl;break;case 11:case 15:break;case 1:if((r&1024)!==0&&x!==null){r=void 0,u=o,v=x.memoizedProps,x=x.memoizedState,d=u.stateNode;try{var dt=gu(u.type,v);r=d.getSnapshotBeforeUpdate(dt,x),d.__reactInternalSnapshotBeforeUpdate=r}catch(Dt){kn(u,u.return,Dt)}}break;case 3:if((r&1024)!==0){if(r=o.stateNode.containerInfo,u=r.nodeType,u===9)y1(r);else if(u===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":y1(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=o.sibling,r!==null){r.return=o.return,as=r;break}as=o.return}}function Xb(r,o,u){var d=u.flags;switch(u.tag){case 0:case 11:case 15:el(r,u),d&4&&$f(5,u);break;case 1:if(el(r,u),d&4)if(r=u.stateNode,o===null)try{r.componentDidMount()}catch(R){kn(u,u.return,R)}else{var v=gu(u.type,o.memoizedProps);o=o.memoizedState;try{r.componentDidUpdate(v,o,r.__reactInternalSnapshotBeforeUpdate)}catch(R){kn(u,u.return,R)}}d&64&&qb(u),d&512&&Xf(u,u.return);break;case 3:if(el(r,u),d&64&&(r=u.updateQueue,r!==null)){if(o=null,u.child!==null)switch(u.child.tag){case 27:case 5:o=u.child.stateNode;break;case 1:o=u.child.stateNode}try{vi(r,o)}catch(R){kn(u,u.return,R)}}break;case 27:o===null&&d&4&&Yb(u);case 26:case 5:el(r,u),o===null&&d&4&&Vb(u),d&512&&Xf(u,u.return);break;case 12:el(r,u);break;case 31:el(r,u),d&4&&Jb(r,u);break;case 13:el(r,u),d&4&&Zb(r,u),d&64&&(r=u.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(u=kC.bind(null,u),$C(r,u))));break;case 22:if(d=u.memoizedState!==null||Jo,!d){o=o!==null&&o.memoizedState!==null||Bi,v=Jo;var x=Bi;Jo=d,(Bi=o)&&!x?tl(r,u,(u.subtreeFlags&8772)!==0):el(r,u),Jo=v,Bi=x}break;case 30:break;default:el(r,u)}}function Kb(r){var o=r.alternate;o!==null&&(r.alternate=null,Kb(o)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(o=r.stateNode,o!==null&&Qa(o)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var ri=null,ar=!1;function Zo(r,o,u){for(u=u.child;u!==null;)Qb(r,o,u),u=u.sibling}function Qb(r,o,u){if(De&&typeof De.onCommitFiberUnmount=="function")try{De.onCommitFiberUnmount(me,u)}catch{}switch(u.tag){case 26:Bi||go(u,o),Zo(r,o,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:Bi||go(u,o);var d=ri,v=ar;oc(u.type)&&(ri=u.stateNode,ar=!1),Zo(r,o,u),sd(u.stateNode),ri=d,ar=v;break;case 5:Bi||go(u,o);case 6:if(d=ri,v=ar,ri=null,Zo(r,o,u),ri=d,ar=v,ri!==null)if(ar)try{(ri.nodeType===9?ri.body:ri.nodeName==="HTML"?ri.ownerDocument.body:ri).removeChild(u.stateNode)}catch(x){kn(u,o,x)}else try{ri.removeChild(u.stateNode)}catch(x){kn(u,o,x)}break;case 18:ri!==null&&(ar?(r=ri,q5(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,u.stateNode),jh(r)):q5(ri,u.stateNode));break;case 4:d=ri,v=ar,ri=u.stateNode.containerInfo,ar=!0,Zo(r,o,u),ri=d,ar=v;break;case 0:case 11:case 14:case 15:ec(2,u,o),Bi||ec(4,u,o),Zo(r,o,u);break;case 1:Bi||(go(u,o),d=u.stateNode,typeof d.componentWillUnmount=="function"&&Wb(u,o,d)),Zo(r,o,u);break;case 21:Zo(r,o,u);break;case 22:Bi=(d=Bi)||u.memoizedState!==null,Zo(r,o,u),Bi=d;break;default:Zo(r,o,u)}}function Jb(r,o){if(o.memoizedState===null&&(r=o.alternate,r!==null&&(r=r.memoizedState,r!==null))){r=r.dehydrated;try{jh(r)}catch(u){kn(o,o.return,u)}}}function Zb(r,o){if(o.memoizedState===null&&(r=o.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{jh(r)}catch(u){kn(o,o.return,u)}}function _C(r){switch(r.tag){case 31:case 13:case 19:var o=r.stateNode;return o===null&&(o=r.stateNode=new $b),o;case 22:return r=r.stateNode,o=r._retryCache,o===null&&(o=r._retryCache=new $b),o;default:throw Error(i(435,r.tag))}}function $p(r,o){var u=_C(r);o.forEach(function(d){if(!u.has(d)){u.add(d);var v=TC.bind(null,r,d);d.then(v,v)}})}function or(r,o){var u=o.deletions;if(u!==null)for(var d=0;d<u.length;d++){var v=u[d],x=r,R=o,W=R;e:for(;W!==null;){switch(W.tag){case 27:if(oc(W.type)){ri=W.stateNode,ar=!1;break e}break;case 5:ri=W.stateNode,ar=!1;break e;case 3:case 4:ri=W.stateNode.containerInfo,ar=!0;break e}W=W.return}if(ri===null)throw Error(i(160));Qb(x,R,v),ri=null,ar=!1,x=v.alternate,x!==null&&(x.return=null),v.return=null}if(o.subtreeFlags&13886)for(o=o.child;o!==null;)e5(o,r),o=o.sibling}var Ia=null;function e5(r,o){var u=r.alternate,d=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:or(o,r),lr(r),d&4&&(ec(3,r,r.return),$f(3,r),ec(5,r,r.return));break;case 1:or(o,r),lr(r),d&512&&(Bi||u===null||go(u,u.return)),d&64&&Jo&&(r=r.updateQueue,r!==null&&(d=r.callbacks,d!==null&&(u=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=u===null?d:u.concat(d))));break;case 26:var v=Ia;if(or(o,r),lr(r),d&512&&(Bi||u===null||go(u,u.return)),d&4){var x=u!==null?u.memoizedState:null;if(d=r.memoizedState,u===null)if(d===null)if(r.stateNode===null){e:{d=r.type,u=r.memoizedProps,v=v.ownerDocument||v;t:switch(d){case"title":x=v.getElementsByTagName("title")[0],(!x||x[br]||x[An]||x.namespaceURI==="http://www.w3.org/2000/svg"||x.hasAttribute("itemprop"))&&(x=v.createElement(d),v.head.insertBefore(x,v.querySelector("head > title"))),_s(x,d,u),x[An]=r,oi(x),d=x;break e;case"link":var R=e_("link","href",v).get(d+(u.href||""));if(R){for(var W=0;W<R.length;W++)if(x=R[W],x.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&x.getAttribute("rel")===(u.rel==null?null:u.rel)&&x.getAttribute("title")===(u.title==null?null:u.title)&&x.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){R.splice(W,1);break t}}x=v.createElement(d),_s(x,d,u),v.head.appendChild(x);break;case"meta":if(R=e_("meta","content",v).get(d+(u.content||""))){for(W=0;W<R.length;W++)if(x=R[W],x.getAttribute("content")===(u.content==null?null:""+u.content)&&x.getAttribute("name")===(u.name==null?null:u.name)&&x.getAttribute("property")===(u.property==null?null:u.property)&&x.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&x.getAttribute("charset")===(u.charSet==null?null:u.charSet)){R.splice(W,1);break t}}x=v.createElement(d),_s(x,d,u),v.head.appendChild(x);break;default:throw Error(i(468,d))}x[An]=r,oi(x),d=x}r.stateNode=d}else t_(v,r.type,r.stateNode);else r.stateNode=Z5(v,d,r.memoizedProps);else x!==d?(x===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):x.count--,d===null?t_(v,r.type,r.stateNode):Z5(v,d,r.memoizedProps)):d===null&&r.stateNode!==null&&q0(r,r.memoizedProps,u.memoizedProps)}break;case 27:or(o,r),lr(r),d&512&&(Bi||u===null||go(u,u.return)),u!==null&&d&4&&q0(r,r.memoizedProps,u.memoizedProps);break;case 5:if(or(o,r),lr(r),d&512&&(Bi||u===null||go(u,u.return)),r.flags&32){v=r.stateNode;try{Nr(v,"")}catch(dt){kn(r,r.return,dt)}}d&4&&r.stateNode!=null&&(v=r.memoizedProps,q0(r,v,u!==null?u.memoizedProps:v)),d&1024&&(G0=!0);break;case 6:if(or(o,r),lr(r),d&4){if(r.stateNode===null)throw Error(i(162));d=r.memoizedProps,u=r.stateNode;try{u.nodeValue=d}catch(dt){kn(r,r.return,dt)}}break;case 3:if(ug=null,v=Ia,Ia=lg(o.containerInfo),or(o,r),Ia=v,lr(r),d&4&&u!==null&&u.memoizedState.isDehydrated)try{jh(o.containerInfo)}catch(dt){kn(r,r.return,dt)}G0&&(G0=!1,t5(r));break;case 4:d=Ia,Ia=lg(r.stateNode.containerInfo),or(o,r),lr(r),Ia=d;break;case 12:or(o,r),lr(r);break;case 31:or(o,r),lr(r),d&4&&(d=r.updateQueue,d!==null&&(r.updateQueue=null,$p(r,d)));break;case 13:or(o,r),lr(r),r.child.flags&8192&&r.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(Kp=vt()),d&4&&(d=r.updateQueue,d!==null&&(r.updateQueue=null,$p(r,d)));break;case 22:v=r.memoizedState!==null;var he=u!==null&&u.memoizedState!==null,Te=Jo,Fe=Bi;if(Jo=Te||v,Bi=Fe||he,or(o,r),Bi=Fe,Jo=Te,lr(r),d&8192)e:for(o=r.stateNode,o._visibility=v?o._visibility&-2:o._visibility|1,v&&(u===null||he||Jo||Bi||mu(r)),u=null,o=r;;){if(o.tag===5||o.tag===26){if(u===null){he=u=o;try{if(x=he.stateNode,v)R=x.style,typeof R.setProperty=="function"?R.setProperty("display","none","important"):R.display="none";else{W=he.stateNode;var We=he.memoizedProps.style,Re=We!=null&&We.hasOwnProperty("display")?We.display:null;W.style.display=Re==null||typeof Re=="boolean"?"":(""+Re).trim()}}catch(dt){kn(he,he.return,dt)}}}else if(o.tag===6){if(u===null){he=o;try{he.stateNode.nodeValue=v?"":he.memoizedProps}catch(dt){kn(he,he.return,dt)}}}else if(o.tag===18){if(u===null){he=o;try{var Me=he.stateNode;v?W5(Me,!0):W5(he.stateNode,!1)}catch(dt){kn(he,he.return,dt)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===r)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break e;for(;o.sibling===null;){if(o.return===null||o.return===r)break e;u===o&&(u=null),o=o.return}u===o&&(u=null),o.sibling.return=o.return,o=o.sibling}d&4&&(d=r.updateQueue,d!==null&&(u=d.retryQueue,u!==null&&(d.retryQueue=null,$p(r,u))));break;case 19:or(o,r),lr(r),d&4&&(d=r.updateQueue,d!==null&&(r.updateQueue=null,$p(r,d)));break;case 30:break;case 21:break;default:or(o,r),lr(r)}}function lr(r){var o=r.flags;if(o&2){try{for(var u,d=r.return;d!==null;){if(Gb(d)){u=d;break}d=d.return}if(u==null)throw Error(i(160));switch(u.tag){case 27:var v=u.stateNode,x=W0(r);Yp(r,x,v);break;case 5:var R=u.stateNode;u.flags&32&&(Nr(R,""),u.flags&=-33);var W=W0(r);Yp(r,W,R);break;case 3:case 4:var he=u.stateNode.containerInfo,Te=W0(r);V0(r,Te,he);break;default:throw Error(i(161))}}catch(Fe){kn(r,r.return,Fe)}r.flags&=-3}o&4096&&(r.flags&=-4097)}function t5(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var o=r;t5(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),r=r.sibling}}function el(r,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)Xb(r,o.alternate,o),o=o.sibling}function mu(r){for(r=r.child;r!==null;){var o=r;switch(o.tag){case 0:case 11:case 14:case 15:ec(4,o,o.return),mu(o);break;case 1:go(o,o.return);var u=o.stateNode;typeof u.componentWillUnmount=="function"&&Wb(o,o.return,u),mu(o);break;case 27:sd(o.stateNode);case 26:case 5:go(o,o.return),mu(o);break;case 22:o.memoizedState===null&&mu(o);break;case 30:mu(o);break;default:mu(o)}r=r.sibling}}function tl(r,o,u){for(u=u&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var d=o.alternate,v=r,x=o,R=x.flags;switch(x.tag){case 0:case 11:case 15:tl(v,x,u),$f(4,x);break;case 1:if(tl(v,x,u),d=x,v=d.stateNode,typeof v.componentDidMount=="function")try{v.componentDidMount()}catch(Te){kn(d,d.return,Te)}if(d=x,v=d.updateQueue,v!==null){var W=d.stateNode;try{var he=v.shared.hiddenCallbacks;if(he!==null)for(v.shared.hiddenCallbacks=null,v=0;v<he.length;v++)ss(he[v],W)}catch(Te){kn(d,d.return,Te)}}u&&R&64&&qb(x),Xf(x,x.return);break;case 27:Yb(x);case 26:case 5:tl(v,x,u),u&&d===null&&R&4&&Vb(x),Xf(x,x.return);break;case 12:tl(v,x,u);break;case 31:tl(v,x,u),u&&R&4&&Jb(v,x);break;case 13:tl(v,x,u),u&&R&4&&Zb(v,x);break;case 22:x.memoizedState===null&&tl(v,x,u),Xf(x,x.return);break;case 30:break;default:tl(v,x,u)}o=o.sibling}}function Y0(r,o){var u=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),r=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(r=o.memoizedState.cachePool.pool),r!==u&&(r!=null&&r.refCount++,u!=null&&hu(u))}function $0(r,o){r=null,o.alternate!==null&&(r=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==r&&(o.refCount++,r!=null&&hu(r))}function Pa(r,o,u,d){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)n5(r,o,u,d),o=o.sibling}function n5(r,o,u,d){var v=o.flags;switch(o.tag){case 0:case 11:case 15:Pa(r,o,u,d),v&2048&&$f(9,o);break;case 1:Pa(r,o,u,d);break;case 3:Pa(r,o,u,d),v&2048&&(r=null,o.alternate!==null&&(r=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==r&&(o.refCount++,r!=null&&hu(r)));break;case 12:if(v&2048){Pa(r,o,u,d),r=o.stateNode;try{var x=o.memoizedProps,R=x.id,W=x.onPostCommit;typeof W=="function"&&W(R,o.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(he){kn(o,o.return,he)}}else Pa(r,o,u,d);break;case 31:Pa(r,o,u,d);break;case 13:Pa(r,o,u,d);break;case 23:break;case 22:x=o.stateNode,R=o.alternate,o.memoizedState!==null?x._visibility&2?Pa(r,o,u,d):Kf(r,o):x._visibility&2?Pa(r,o,u,d):(x._visibility|=2,Ch(r,o,u,d,(o.subtreeFlags&10256)!==0||!1)),v&2048&&Y0(R,o);break;case 24:Pa(r,o,u,d),v&2048&&$0(o.alternate,o);break;default:Pa(r,o,u,d)}}function Ch(r,o,u,d,v){for(v=v&&((o.subtreeFlags&10256)!==0||!1),o=o.child;o!==null;){var x=r,R=o,W=u,he=d,Te=R.flags;switch(R.tag){case 0:case 11:case 15:Ch(x,R,W,he,v),$f(8,R);break;case 23:break;case 22:var Fe=R.stateNode;R.memoizedState!==null?Fe._visibility&2?Ch(x,R,W,he,v):Kf(x,R):(Fe._visibility|=2,Ch(x,R,W,he,v)),v&&Te&2048&&Y0(R.alternate,R);break;case 24:Ch(x,R,W,he,v),v&&Te&2048&&$0(R.alternate,R);break;default:Ch(x,R,W,he,v)}o=o.sibling}}function Kf(r,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var u=r,d=o,v=d.flags;switch(d.tag){case 22:Kf(u,d),v&2048&&Y0(d.alternate,d);break;case 24:Kf(u,d),v&2048&&$0(d.alternate,d);break;default:Kf(u,d)}o=o.sibling}}var Qf=8192;function Eh(r,o,u){if(r.subtreeFlags&Qf)for(r=r.child;r!==null;)i5(r,o,u),r=r.sibling}function i5(r,o,u){switch(r.tag){case 26:Eh(r,o,u),r.flags&Qf&&r.memoizedState!==null&&aE(u,Ia,r.memoizedState,r.memoizedProps);break;case 5:Eh(r,o,u);break;case 3:case 4:var d=Ia;Ia=lg(r.stateNode.containerInfo),Eh(r,o,u),Ia=d;break;case 22:r.memoizedState===null&&(d=r.alternate,d!==null&&d.memoizedState!==null?(d=Qf,Qf=16777216,Eh(r,o,u),Qf=d):Eh(r,o,u));break;default:Eh(r,o,u)}}function s5(r){var o=r.alternate;if(o!==null&&(r=o.child,r!==null)){o.child=null;do o=r.sibling,r.sibling=null,r=o;while(r!==null)}}function Jf(r){var o=r.deletions;if((r.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var d=o[u];as=d,a5(d,r)}s5(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)r5(r),r=r.sibling}function r5(r){switch(r.tag){case 0:case 11:case 15:Jf(r),r.flags&2048&&ec(9,r,r.return);break;case 3:Jf(r);break;case 12:Jf(r);break;case 22:var o=r.stateNode;r.memoizedState!==null&&o._visibility&2&&(r.return===null||r.return.tag!==13)?(o._visibility&=-3,Xp(r)):Jf(r);break;default:Jf(r)}}function Xp(r){var o=r.deletions;if((r.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var d=o[u];as=d,a5(d,r)}s5(r)}for(r=r.child;r!==null;){switch(o=r,o.tag){case 0:case 11:case 15:ec(8,o,o.return),Xp(o);break;case 22:u=o.stateNode,u._visibility&2&&(u._visibility&=-3,Xp(o));break;default:Xp(o)}r=r.sibling}}function a5(r,o){for(;as!==null;){var u=as;switch(u.tag){case 0:case 11:case 15:ec(8,u,o);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var d=u.memoizedState.cachePool.pool;d!=null&&d.refCount++}break;case 24:hu(u.memoizedState.cache)}if(d=u.child,d!==null)d.return=u,as=d;else e:for(u=r;as!==null;){d=as;var v=d.sibling,x=d.return;if(Kb(d),d===u){as=null;break e}if(v!==null){v.return=x,as=v;break e}as=x}}}var xC={getCacheForType:function(r){var o=Gi(hi),u=o.data.get(r);return u===void 0&&(u=r(),o.data.set(r,u)),u},cacheSignal:function(){return Gi(hi).controller.signal}},wC=typeof WeakMap=="function"?WeakMap:Map,xn=0,Hn=null,Jt=null,tn=0,En=0,Dr=null,tc=!1,kh=!1,X0=!1,nl=0,wi=0,nc=0,yu=0,K0=0,Mr=0,Th=0,Zf=null,cr=null,Q0=!1,Kp=0,o5=0,Qp=1/0,Jp=null,ic=null,$i=0,sc=null,Lh=null,il=0,J0=0,Z0=null,l5=null,ed=0,e1=null;function Or(){return(xn&2)!==0&&tn!==0?tn&-tn:$.T!==null?a1():Oi()}function c5(){if(Mr===0)if((tn&536870912)===0||Qt){var r=Nn;Nn<<=1,(Nn&3932160)===0&&(Nn=262144),Mr=r}else Mr=536870912;return r=Qn.current,r!==null&&(r.flags|=32),Mr}function ur(r,o,u){(r===Hn&&(En===2||En===9)||r.cancelPendingCommit!==null)&&(Rh(r,0),rc(r,tn,Mr,!1)),Nt(r,u),((xn&2)===0||r!==Hn)&&(r===Hn&&((xn&2)===0&&(yu|=u),wi===4&&rc(r,tn,Mr,!1)),mo(r))}function u5(r,o,u){if((xn&6)!==0)throw Error(i(327));var d=!u&&(o&127)===0&&(o&r.expiredLanes)===0||yr(r,o),v=d?AC(r,o):n1(r,o,!0),x=d;do{if(v===0){kh&&!d&&rc(r,o,0,!1);break}else{if(u=r.current.alternate,x&&!SC(u)){v=n1(r,o,!1),x=!1;continue}if(v===2){if(x=o,r.errorRecoveryDisabledLanes&x)var R=0;else R=r.pendingLanes&-536870913,R=R!==0?R:R&536870912?536870912:0;if(R!==0){o=R;e:{var W=r;v=Zf;var he=W.current.memoizedState.isDehydrated;if(he&&(Rh(W,R).flags|=256),R=n1(W,R,!1),R!==2){if(X0&&!he){W.errorRecoveryDisabledLanes|=x,yu|=x,v=4;break e}x=cr,cr=v,x!==null&&(cr===null?cr=x:cr.push.apply(cr,x))}v=R}if(x=!1,v!==2)continue}}if(v===1){Rh(r,0),rc(r,o,0,!0);break}e:{switch(d=r,x=v,x){case 0:case 1:throw Error(i(345));case 4:if((o&4194048)!==o)break;case 6:rc(d,o,Mr,!tc);break e;case 2:cr=null;break;case 3:case 5:break;default:throw Error(i(329))}if((o&62914560)===o&&(v=Kp+300-vt(),10<v)){if(rc(d,o,Mr,!tc),rn(d,0,!0)!==0)break e;il=o,d.timeoutHandle=U5(h5.bind(null,d,u,cr,Jp,Q0,o,Mr,yu,Th,tc,x,"Throttled",-0,0),v);break e}h5(d,u,cr,Jp,Q0,o,Mr,yu,Th,tc,x,null,-0,0)}}break}while(!0);mo(r)}function h5(r,o,u,d,v,x,R,W,he,Te,Fe,We,Re,Me){if(r.timeoutHandle=-1,We=o.subtreeFlags,We&8192||(We&16785408)===16785408){We={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ar},i5(o,x,We);var dt=(x&62914560)===x?Kp-vt():(x&4194048)===x?o5-vt():0;if(dt=oE(We,dt),dt!==null){il=x,r.cancelPendingCommit=dt(b5.bind(null,r,o,x,u,d,v,R,W,he,Fe,We,null,Re,Me)),rc(r,x,R,!Te);return}}b5(r,o,x,u,d,v,R,W,he)}function SC(r){for(var o=r;;){var u=o.tag;if((u===0||u===11||u===15)&&o.flags&16384&&(u=o.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var d=0;d<u.length;d++){var v=u[d],x=v.getSnapshot;v=v.value;try{if(!Hi(x(),v))return!1}catch{return!1}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function rc(r,o,u,d){o&=~K0,o&=~yu,r.suspendedLanes|=o,r.pingedLanes&=~o,d&&(r.warmLanes|=o),d=r.expirationTimes;for(var v=o;0<v;){var x=31-Ct(v),R=1<<x;d[x]=-1,v&=~R}u!==0&&Br(r,u,o)}function Zp(){return(xn&6)===0?(td(0),!1):!0}function t1(){if(Jt!==null){if(En===0)var r=Jt.return;else r=Jt,Jr=ao=null,bh(r),Ve=null,gt=0,r=Jt;for(;r!==null;)Hb(r.alternate,r),r=r.return;Jt=null}}function Rh(r,o){var u=r.timeoutHandle;u!==-1&&(r.timeoutHandle=-1,qC(u)),u=r.cancelPendingCommit,u!==null&&(r.cancelPendingCommit=null,u()),il=0,t1(),Hn=r,Jt=u=Js(r.current,null),tn=o,En=0,Dr=null,tc=!1,kh=yr(r,o),X0=!1,Th=Mr=K0=yu=nc=wi=0,cr=Zf=null,Q0=!1,(o&8)!==0&&(o|=o&32);var d=r.entangledLanes;if(d!==0)for(r=r.entanglements,d&=o;0<d;){var v=31-Ct(d),x=1<<v;o|=r[v],d&=~x}return nl=o,ru(),u}function f5(r,o){At=null,$.H=Vf,o===ge||o===te?(o=ze(),En=3):o===Ee?(o=ze(),En=4):En=o===M0?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,Dr=o,Jt===null&&(wi=1,Hp(r,Zs(o,r.current)))}function d5(){var r=Qn.current;return r===null?!0:(tn&4194048)===tn?un===null:(tn&62914560)===tn||(tn&536870912)!==0?r===un:!1}function p5(){var r=$.H;return $.H=Vf,r===null?Vf:r}function g5(){var r=$.A;return $.A=xC,r}function eg(){wi=4,tc||(tn&4194048)!==tn&&Qn.current!==null||(kh=!0),(nc&134217727)===0&&(yu&134217727)===0||Hn===null||rc(Hn,tn,Mr,!1)}function n1(r,o,u){var d=xn;xn|=2;var v=p5(),x=g5();(Hn!==r||tn!==o)&&(Jp=null,Rh(r,o)),o=!1;var R=wi;e:do try{if(En!==0&&Jt!==null){var W=Jt,he=Dr;switch(En){case 8:t1(),R=6;break e;case 3:case 2:case 9:case 6:Qn.current===null&&(o=!0);var Te=En;if(En=0,Dr=null,Dh(r,W,he,Te),u&&kh){R=0;break e}break;default:Te=En,En=0,Dr=null,Dh(r,W,he,Te)}}NC(),R=wi;break}catch(Fe){f5(r,Fe)}while(!0);return o&&r.shellSuspendCounter++,Jr=ao=null,xn=d,$.H=v,$.A=x,Jt===null&&(Hn=null,tn=0,ru()),R}function NC(){for(;Jt!==null;)m5(Jt)}function AC(r,o){var u=xn;xn|=2;var d=p5(),v=g5();Hn!==r||tn!==o?(Jp=null,Qp=vt()+500,Rh(r,o)):kh=yr(r,o);e:do try{if(En!==0&&Jt!==null){o=Jt;var x=Dr;t:switch(En){case 1:En=0,Dr=null,Dh(r,o,x,1);break;case 2:case 9:if(Se(x)){En=0,Dr=null,y5(o);break}o=function(){En!==2&&En!==9||Hn!==r||(En=7),mo(r)},x.then(o,o);break e;case 3:En=7;break e;case 4:En=5;break e;case 7:Se(x)?(En=0,Dr=null,y5(o)):(En=0,Dr=null,Dh(r,o,x,7));break;case 5:var R=null;switch(Jt.tag){case 26:R=Jt.memoizedState;case 5:case 27:var W=Jt;if(R?n_(R):W.stateNode.complete){En=0,Dr=null;var he=W.sibling;if(he!==null)Jt=he;else{var Te=W.return;Te!==null?(Jt=Te,tg(Te)):Jt=null}break t}}En=0,Dr=null,Dh(r,o,x,5);break;case 6:En=0,Dr=null,Dh(r,o,x,6);break;case 8:t1(),wi=6;break e;default:throw Error(i(462))}}CC();break}catch(Fe){f5(r,Fe)}while(!0);return Jr=ao=null,$.H=d,$.A=v,xn=u,Jt!==null?0:(Hn=null,tn=0,ru(),wi)}function CC(){for(;Jt!==null&&!qe();)m5(Jt)}function m5(r){var o=zb(r.alternate,r,nl);r.memoizedProps=r.pendingProps,o===null?tg(r):Jt=o}function y5(r){var o=r,u=o.alternate;switch(o.tag){case 15:case 0:o=Ob(u,o,o.pendingProps,o.type,void 0,tn);break;case 11:o=Ob(u,o,o.pendingProps,o.type.render,o.ref,tn);break;case 5:bh(o);default:Hb(u,o),o=Jt=lu(o,nl),o=zb(u,o,nl)}r.memoizedProps=r.pendingProps,o===null?tg(r):Jt=o}function Dh(r,o,u,d){Jr=ao=null,bh(o),Ve=null,gt=0;var v=o.return;try{if(pC(r,v,o,u,tn)){wi=1,Hp(r,Zs(u,r.current)),Jt=null;return}}catch(x){if(v!==null)throw Jt=v,x;wi=1,Hp(r,Zs(u,r.current)),Jt=null;return}o.flags&32768?(Qt||d===1?r=!0:kh||(tn&536870912)!==0?r=!1:(tc=r=!0,(d===2||d===9||d===3||d===6)&&(d=Qn.current,d!==null&&d.tag===13&&(d.flags|=16384))),v5(o,r)):tg(o)}function tg(r){var o=r;do{if((o.flags&32768)!==0){v5(o,tc);return}r=o.return;var u=yC(o.alternate,o,nl);if(u!==null){Jt=u;return}if(o=o.sibling,o!==null){Jt=o;return}Jt=o=r}while(o!==null);wi===0&&(wi=5)}function v5(r,o){do{var u=vC(r.alternate,r);if(u!==null){u.flags&=32767,Jt=u;return}if(u=r.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!o&&(r=r.sibling,r!==null)){Jt=r;return}Jt=r=u}while(r!==null);wi=6,Jt=null}function b5(r,o,u,d,v,x,R,W,he){r.cancelPendingCommit=null;do ng();while($i!==0);if((xn&6)!==0)throw Error(i(327));if(o!==null){if(o===r.current)throw Error(i(177));if(x=o.lanes|o.childLanes,x|=rh,ca(r,u,x,R,W,he),r===Hn&&(Jt=Hn=null,tn=0),Lh=o,sc=r,il=u,J0=x,Z0=v,l5=d,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,LC(rt,function(){return N5(),null})):(r.callbackNode=null,r.callbackPriority=0),d=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||d){d=$.T,$.T=null,v=re.p,re.p=2,R=xn,xn|=4;try{bC(r,o,u)}finally{xn=R,re.p=v,$.T=d}}$i=1,_5(),x5(),w5()}}function _5(){if($i===1){$i=0;var r=sc,o=Lh,u=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||u){u=$.T,$.T=null;var d=re.p;re.p=2;var v=xn;xn|=4;try{e5(o,r);var x=p1,R=Ea(r.containerInfo),W=x.focusedElem,he=x.selectionRange;if(R!==W&&W&&W.ownerDocument&&Ca(W.ownerDocument.documentElement,W)){if(he!==null&&Kr(W)){var Te=he.start,Fe=he.end;if(Fe===void 0&&(Fe=Te),"selectionStart"in W)W.selectionStart=Te,W.selectionEnd=Math.min(Fe,W.value.length);else{var We=W.ownerDocument||document,Re=We&&We.defaultView||window;if(Re.getSelection){var Me=Re.getSelection(),dt=W.textContent.length,Dt=Math.min(he.start,dt),Fn=he.end===void 0?Dt:Math.min(he.end,dt);!Me.extend&&Dt>Fn&&(R=Fn,Fn=Dt,Dt=R);var we=ql(W,Dt),ye=ql(W,Fn);if(we&&ye&&(Me.rangeCount!==1||Me.anchorNode!==we.node||Me.anchorOffset!==we.offset||Me.focusNode!==ye.node||Me.focusOffset!==ye.offset)){var ke=We.createRange();ke.setStart(we.node,we.offset),Me.removeAllRanges(),Dt>Fn?(Me.addRange(ke),Me.extend(ye.node,ye.offset)):(ke.setEnd(ye.node,ye.offset),Me.addRange(ke))}}}}for(We=[],Me=W;Me=Me.parentNode;)Me.nodeType===1&&We.push({element:Me,left:Me.scrollLeft,top:Me.scrollTop});for(typeof W.focus=="function"&&W.focus(),W=0;W<We.length;W++){var Ue=We[W];Ue.element.scrollLeft=Ue.left,Ue.element.scrollTop=Ue.top}}pg=!!d1,p1=d1=null}finally{xn=v,re.p=d,$.T=u}}r.current=o,$i=2}}function x5(){if($i===2){$i=0;var r=sc,o=Lh,u=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||u){u=$.T,$.T=null;var d=re.p;re.p=2;var v=xn;xn|=4;try{Xb(r,o.alternate,o)}finally{xn=v,re.p=d,$.T=u}}$i=3}}function w5(){if($i===4||$i===3){$i=0,st();var r=sc,o=Lh,u=il,d=l5;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?$i=5:($i=0,Lh=sc=null,S5(r,r.pendingLanes));var v=r.pendingLanes;if(v===0&&(ic=null),pi(u),o=o.stateNode,De&&typeof De.onCommitFiberRoot=="function")try{De.onCommitFiberRoot(me,o,void 0,(o.current.flags&128)===128)}catch{}if(d!==null){o=$.T,v=re.p,re.p=2,$.T=null;try{for(var x=r.onRecoverableError,R=0;R<d.length;R++){var W=d[R];x(W.value,{componentStack:W.stack})}}finally{$.T=o,re.p=v}}(il&3)!==0&&ng(),mo(r),v=r.pendingLanes,(u&261930)!==0&&(v&42)!==0?r===e1?ed++:(ed=0,e1=r):ed=0,td(0)}}function S5(r,o){(r.pooledCacheLanes&=o)===0&&(o=r.pooledCache,o!=null&&(r.pooledCache=null,hu(o)))}function ng(){return _5(),x5(),w5(),N5()}function N5(){if($i!==5)return!1;var r=sc,o=J0;J0=0;var u=pi(il),d=$.T,v=re.p;try{re.p=32>u?32:u,$.T=null,u=Z0,Z0=null;var x=sc,R=il;if($i=0,Lh=sc=null,il=0,(xn&6)!==0)throw Error(i(331));var W=xn;if(xn|=4,r5(x.current),n5(x,x.current,R,u),xn=W,td(0,!1),De&&typeof De.onPostCommitFiberRoot=="function")try{De.onPostCommitFiberRoot(me,x)}catch{}return!0}finally{re.p=v,$.T=d,S5(r,o)}}function A5(r,o,u){o=Zs(u,o),o=D0(r.stateNode,o,2),r=Vt(r,o,2),r!==null&&(Nt(r,2),mo(r))}function kn(r,o,u){if(r.tag===3)A5(r,r,u);else for(;o!==null;){if(o.tag===3){A5(o,r,u);break}else if(o.tag===1){var d=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(ic===null||!ic.has(d))){r=Zs(u,r),u=Cb(2),d=Vt(o,u,2),d!==null&&(Eb(u,d,o,r),Nt(d,2),mo(d));break}}o=o.return}}function i1(r,o,u){var d=r.pingCache;if(d===null){d=r.pingCache=new wC;var v=new Set;d.set(o,v)}else v=d.get(o),v===void 0&&(v=new Set,d.set(o,v));v.has(u)||(X0=!0,v.add(u),r=EC.bind(null,r,o,u),o.then(r,r))}function EC(r,o,u){var d=r.pingCache;d!==null&&d.delete(o),r.pingedLanes|=r.suspendedLanes&u,r.warmLanes&=~u,Hn===r&&(tn&u)===u&&(wi===4||wi===3&&(tn&62914560)===tn&&300>vt()-Kp?(xn&2)===0&&Rh(r,0):K0|=u,Th===tn&&(Th=0)),mo(r)}function C5(r,o){o===0&&(o=Fr()),r=Ta(r,o),r!==null&&(Nt(r,o),mo(r))}function kC(r){var o=r.memoizedState,u=0;o!==null&&(u=o.retryLane),C5(r,u)}function TC(r,o){var u=0;switch(r.tag){case 31:case 13:var d=r.stateNode,v=r.memoizedState;v!==null&&(u=v.retryLane);break;case 19:d=r.stateNode;break;case 22:d=r.stateNode._retryCache;break;default:throw Error(i(314))}d!==null&&d.delete(o),C5(r,u)}function LC(r,o){return Je(r,o)}var ig=null,Mh=null,s1=!1,sg=!1,r1=!1,ac=0;function mo(r){r!==Mh&&r.next===null&&(Mh===null?ig=Mh=r:Mh=Mh.next=r),sg=!0,s1||(s1=!0,DC())}function td(r,o){if(!r1&&sg){r1=!0;do for(var u=!1,d=ig;d!==null;){if(r!==0){var v=d.pendingLanes;if(v===0)var x=0;else{var R=d.suspendedLanes,W=d.pingedLanes;x=(1<<31-Ct(42|r)+1)-1,x&=v&~(R&~W),x=x&201326741?x&201326741|1:x?x|2:0}x!==0&&(u=!0,L5(d,x))}else x=tn,x=rn(d,d===Hn?x:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),(x&3)===0||yr(d,x)||(u=!0,L5(d,x));d=d.next}while(u);r1=!1}}function RC(){E5()}function E5(){sg=s1=!1;var r=0;ac!==0&&HC()&&(r=ac);for(var o=vt(),u=null,d=ig;d!==null;){var v=d.next,x=k5(d,o);x===0?(d.next=null,u===null?ig=v:u.next=v,v===null&&(Mh=u)):(u=d,(r!==0||(x&3)!==0)&&(sg=!0)),d=v}$i!==0&&$i!==5||td(r),ac!==0&&(ac=0)}function k5(r,o){for(var u=r.suspendedLanes,d=r.pingedLanes,v=r.expirationTimes,x=r.pendingLanes&-62914561;0<x;){var R=31-Ct(x),W=1<<R,he=v[R];he===-1?((W&u)===0||(W&d)!==0)&&(v[R]=Zi(W,o)):he<=o&&(r.expiredLanes|=W),x&=~W}if(o=Hn,u=tn,u=rn(r,r===o?u:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),d=r.callbackNode,u===0||r===o&&(En===2||En===9)||r.cancelPendingCommit!==null)return d!==null&&d!==null&&Ge(d),r.callbackNode=null,r.callbackPriority=0;if((u&3)===0||yr(r,u)){if(o=u&-u,o===r.callbackPriority)return o;switch(d!==null&&Ge(d),pi(u)){case 2:case 8:u=Bt;break;case 32:u=rt;break;case 268435456:u=St;break;default:u=rt}return d=T5.bind(null,r),u=Je(u,d),r.callbackPriority=o,r.callbackNode=u,o}return d!==null&&d!==null&&Ge(d),r.callbackPriority=2,r.callbackNode=null,2}function T5(r,o){if($i!==0&&$i!==5)return r.callbackNode=null,r.callbackPriority=0,null;var u=r.callbackNode;if(ng()&&r.callbackNode!==u)return null;var d=tn;return d=rn(r,r===Hn?d:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),d===0?null:(u5(r,d,o),k5(r,vt()),r.callbackNode!=null&&r.callbackNode===u?T5.bind(null,r):null)}function L5(r,o){if(ng())return null;u5(r,o,!0)}function DC(){WC(function(){(xn&6)!==0?Je(ct,RC):E5()})}function a1(){if(ac===0){var r=g;r===0&&(r=It,It<<=1,(It&261888)===0&&(It=256)),ac=r}return ac}function R5(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:xs(""+r)}function D5(r,o){var u=o.ownerDocument.createElement("input");return u.name=o.name,u.value=o.value,r.id&&u.setAttribute("form",r.id),o.parentNode.insertBefore(u,o),r=new FormData(r),u.parentNode.removeChild(u),r}function MC(r,o,u,d,v){if(o==="submit"&&u&&u.stateNode===v){var x=R5((v[Yn]||null).action),R=d.submitter;R&&(o=(o=R[Yn]||null)?R5(o.formAction):R.getAttribute("formAction"),o!==null&&(x=o,R=null));var W=new Xs("action","action",null,d,v);r.push({event:W,listeners:[{instance:null,listener:function(){if(d.defaultPrevented){if(ac!==0){var he=R?D5(v,R):new FormData(v);C0(u,{pending:!0,data:he,method:v.method,action:x},null,he)}}else typeof x=="function"&&(W.preventDefault(),he=R?D5(v,R):new FormData(v),C0(u,{pending:!0,data:he,method:v.method,action:x},x,he))},currentTarget:v}]})}}for(var o1=0;o1<Ho.length;o1++){var l1=Ho[o1],OC=l1.toLowerCase(),IC=l1[0].toUpperCase()+l1.slice(1);Qs(OC,"on"+IC)}Qs(Uo,"onAnimationEnd"),Qs(iu,"onAnimationIteration"),Qs(Lf,"onAnimationStart"),Qs("dblclick","onDoubleClick"),Qs("focusin","onFocus"),Qs("focusout","onBlur"),Qs(Tp,"onTransitionRun"),Qs(Lp,"onTransitionStart"),Qs(Rp,"onTransitionCancel"),Qs(Rf,"onTransitionEnd"),ua("onMouseEnter",["mouseout","mouseover"]),ua("onMouseLeave",["mouseout","mouseover"]),ua("onPointerEnter",["pointerout","pointerover"]),ua("onPointerLeave",["pointerout","pointerover"]),wr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),wr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),wr("onBeforeInput",["compositionend","keypress","textInput","paste"]),wr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),wr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),wr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var nd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),PC=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(nd));function M5(r,o){o=(o&4)!==0;for(var u=0;u<r.length;u++){var d=r[u],v=d.event;d=d.listeners;e:{var x=void 0;if(o)for(var R=d.length-1;0<=R;R--){var W=d[R],he=W.instance,Te=W.currentTarget;if(W=W.listener,he!==x&&v.isPropagationStopped())break e;x=W,v.currentTarget=Te;try{x(v)}catch(Fe){su(Fe)}v.currentTarget=null,x=he}else for(R=0;R<d.length;R++){if(W=d[R],he=W.instance,Te=W.currentTarget,W=W.listener,he!==x&&v.isPropagationStopped())break e;x=W,v.currentTarget=Te;try{x(v)}catch(Fe){su(Fe)}v.currentTarget=null,x=he}}}}function Zt(r,o){var u=o[Is];u===void 0&&(u=o[Is]=new Set);var d=r+"__bubble";u.has(d)||(O5(o,r,2,!1),u.add(d))}function c1(r,o,u){var d=0;o&&(d|=4),O5(u,r,d,o)}var rg="_reactListening"+Math.random().toString(36).slice(2);function u1(r){if(!r[rg]){r[rg]=!0,zc.forEach(function(u){u!=="selectionchange"&&(PC.has(u)||c1(u,!1,r),c1(u,!0,r))});var o=r.nodeType===9?r:r.ownerDocument;o===null||o[rg]||(o[rg]=!0,c1("selectionchange",!1,o))}}function O5(r,o,u,d){switch(c_(o)){case 2:var v=uE;break;case 8:v=hE;break;default:v=A1}u=v.bind(null,o,u,r),v=void 0,!Jc||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(v=!0),d?v!==void 0?r.addEventListener(o,u,{capture:!0,passive:v}):r.addEventListener(o,u,!0):v!==void 0?r.addEventListener(o,u,{passive:v}):r.addEventListener(o,u,!1)}function h1(r,o,u,d,v){var x=d;if((o&1)===0&&(o&2)===0&&d!==null)e:for(;;){if(d===null)return;var R=d.tag;if(R===3||R===4){var W=d.stateNode.containerInfo;if(W===v)break;if(R===4)for(R=d.return;R!==null;){var he=R.tag;if((he===3||he===4)&&R.stateNode.containerInfo===v)return;R=R.return}for(;W!==null;){if(R=_r(W),R===null)return;if(he=R.tag,he===5||he===6||he===26||he===27){d=x=R;continue e}W=W.parentNode}}d=d.return}eh(function(){var Te=x,Fe=Oo(u),We=[];e:{var Re=Df.get(r);if(Re!==void 0){var Me=Xs,dt=r;switch(r){case"keypress":if($s(u)===0)break e;case"keydown":case"keyup":Me=an;break;case"focusin":dt="focus",Me=va;break;case"focusout":dt="blur",Me=va;break;case"beforeblur":case"afterblur":Me=va;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Me=Zc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Me=ya;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Me=Ei;break;case Uo:case iu:case Lf:Me=S;break;case Rf:Me=Ui;break;case"scroll":case"scrollend":Me=Pl;break;case"wheel":Me=Cr;break;case"copy":case"cut":case"paste":Me=se;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Me=li;break;case"toggle":case"beforetoggle":Me=eu}var Dt=(o&4)!==0,Fn=!Dt&&(r==="scroll"||r==="scrollend"),we=Dt?Re!==null?Re+"Capture":null:Re;Dt=[];for(var ye=Te,ke;ye!==null;){var Ue=ye;if(ke=Ue.stateNode,Ue=Ue.tag,Ue!==5&&Ue!==26&&Ue!==27||ke===null||we===null||(Ue=Fs(ye,we),Ue!=null&&Dt.push(id(ye,Ue,ke))),Fn)break;ye=ye.return}0<Dt.length&&(Re=new Me(Re,dt,null,u,Fe),We.push({event:Re,listeners:Dt}))}}if((o&7)===0){e:{if(Re=r==="mouseover"||r==="pointerover",Me=r==="mouseout"||r==="pointerout",Re&&u!==fa&&(dt=u.relatedTarget||u.fromElement)&&(_r(dt)||dt[es]))break e;if((Me||Re)&&(Re=Fe.window===Fe?Fe:(Re=Fe.ownerDocument)?Re.defaultView||Re.parentWindow:window,Me?(dt=u.relatedTarget||u.toElement,Me=Te,dt=dt?_r(dt):null,dt!==null&&(Fn=a(dt),Dt=dt.tag,dt!==Fn||Dt!==5&&Dt!==27&&Dt!==6)&&(dt=null)):(Me=null,dt=Te),Me!==dt)){if(Dt=Zc,Ue="onMouseLeave",we="onMouseEnter",ye="mouse",(r==="pointerout"||r==="pointerover")&&(Dt=li,Ue="onPointerLeave",we="onPointerEnter",ye="pointer"),Fn=Me==null?Re:Do(Me),ke=dt==null?Re:Do(dt),Re=new Dt(Ue,ye+"leave",Me,u,Fe),Re.target=Fn,Re.relatedTarget=ke,Ue=null,_r(Fe)===Te&&(Dt=new Dt(we,ye+"enter",dt,u,Fe),Dt.target=ke,Dt.relatedTarget=Fn,Ue=Dt),Fn=Ue,Me&&dt)t:{for(Dt=jC,we=Me,ye=dt,ke=0,Ue=we;Ue;Ue=Dt(Ue))ke++;Ue=0;for(var kt=ye;kt;kt=Dt(kt))Ue++;for(;0<ke-Ue;)we=Dt(we),ke--;for(;0<Ue-ke;)ye=Dt(ye),Ue--;for(;ke--;){if(we===ye||ye!==null&&we===ye.alternate){Dt=we;break t}we=Dt(we),ye=Dt(ye)}Dt=null}else Dt=null;Me!==null&&I5(We,Re,Me,Dt,!1),dt!==null&&Fn!==null&&I5(We,Fn,dt,Dt,!0)}}e:{if(Re=Te?Do(Te):window,Me=Re.nodeName&&Re.nodeName.toLowerCase(),Me==="select"||Me==="input"&&Re.type==="file")var mn=no;else if(tu(Re))if(ws)mn=$r;else{mn=ci;var _t=Ul}else Me=Re.nodeName,!Me||Me.toLowerCase()!=="input"||Re.type!=="checkbox"&&Re.type!=="radio"?Te&&Xc(Te.elementType)&&(mn=no):mn=sh;if(mn&&(mn=mn(r,Te))){zs(We,mn,u,Fe);break e}_t&&_t(r,Re,Te),r==="focusout"&&Te&&Re.type==="number"&&Te.memoizedProps.value!=null&&Gc(Re,"number",Re.value)}switch(_t=Te?Do(Te):window,r){case"focusin":(tu(_t)||_t.contentEditable==="true")&&(Us=_t,ka=Te,ts=null);break;case"focusout":ts=ka=Us=null;break;case"mousedown":Ks=!0;break;case"contextmenu":case"mouseup":case"dragend":Ks=!1,dn(We,u,Fe);break;case"selectionchange":if(zo)break;case"keydown":case"keyup":dn(We,u,Fe)}var Gt;if(Wr)e:{switch(r){case"compositionstart":var nn="onCompositionStart";break e;case"compositionend":nn="onCompositionEnd";break e;case"compositionupdate":nn="onCompositionUpdate";break e}nn=void 0}else Vr?to(r,u)&&(nn="onCompositionEnd"):r==="keydown"&&u.keyCode===229&&(nn="onCompositionStart");nn&&(xa&&u.locale!=="ko"&&(Vr||nn!=="onCompositionStart"?nn==="onCompositionEnd"&&Vr&&(Gt=th()):(Bs=Fe,Po="value"in Bs?Bs.value:Bs.textContent,Vr=!0)),_t=ag(Te,nn),0<_t.length&&(nn=new xe(nn,r,null,u,Fe),We.push({event:nn,listeners:_t}),Gt?nn.data=Gt:(Gt=Fl(u),Gt!==null&&(nn.data=Gt)))),(Gt=Bo?gs(r,u):wa(r,u))&&(nn=ag(Te,"onBeforeInput"),0<nn.length&&(_t=new xe("onBeforeInput","beforeinput",null,u,Fe),We.push({event:_t,listeners:nn}),_t.data=Gt)),MC(We,r,Te,u,Fe)}M5(We,o)})}function id(r,o,u){return{instance:r,listener:o,currentTarget:u}}function ag(r,o){for(var u=o+"Capture",d=[];r!==null;){var v=r,x=v.stateNode;if(v=v.tag,v!==5&&v!==26&&v!==27||x===null||(v=Fs(r,u),v!=null&&d.unshift(id(r,v,x)),v=Fs(r,o),v!=null&&d.push(id(r,v,x))),r.tag===3)return d;r=r.return}return[]}function jC(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function I5(r,o,u,d,v){for(var x=o._reactName,R=[];u!==null&&u!==d;){var W=u,he=W.alternate,Te=W.stateNode;if(W=W.tag,he!==null&&he===d)break;W!==5&&W!==26&&W!==27||Te===null||(he=Te,v?(Te=Fs(u,x),Te!=null&&R.unshift(id(u,Te,he))):v||(Te=Fs(u,x),Te!=null&&R.push(id(u,Te,he)))),u=u.return}R.length!==0&&r.push({event:o,listeners:R})}var FC=/\r\n?/g,BC=/\u0000|\uFFFD/g;function P5(r){return(typeof r=="string"?r:""+r).replace(FC,`
`).replace(BC,"")}function j5(r,o){return o=P5(o),P5(r)===o}function jn(r,o,u,d,v,x){switch(u){case"children":typeof d=="string"?o==="body"||o==="textarea"&&d===""||Nr(r,d):(typeof d=="number"||typeof d=="bigint")&&o!=="body"&&Nr(r,""+d);break;case"className":ha(r,"class",d);break;case"tabIndex":ha(r,"tabindex",d);break;case"dir":case"role":case"viewBox":case"width":case"height":ha(r,u,d);break;case"style":Qu(r,d,x);break;case"data":if(o!=="object"){ha(r,"data",d);break}case"src":case"href":if(d===""&&(o!=="a"||u!=="href")){r.removeAttribute(u);break}if(d==null||typeof d=="function"||typeof d=="symbol"||typeof d=="boolean"){r.removeAttribute(u);break}d=xs(""+d),r.setAttribute(u,d);break;case"action":case"formAction":if(typeof d=="function"){r.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof x=="function"&&(u==="formAction"?(o!=="input"&&jn(r,o,"name",v.name,v,null),jn(r,o,"formEncType",v.formEncType,v,null),jn(r,o,"formMethod",v.formMethod,v,null),jn(r,o,"formTarget",v.formTarget,v,null)):(jn(r,o,"encType",v.encType,v,null),jn(r,o,"method",v.method,v,null),jn(r,o,"target",v.target,v,null)));if(d==null||typeof d=="symbol"||typeof d=="boolean"){r.removeAttribute(u);break}d=xs(""+d),r.setAttribute(u,d);break;case"onClick":d!=null&&(r.onclick=Ar);break;case"onScroll":d!=null&&Zt("scroll",r);break;case"onScrollEnd":d!=null&&Zt("scrollend",r);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(i(61));if(u=d.__html,u!=null){if(v.children!=null)throw Error(i(60));r.innerHTML=u}}break;case"multiple":r.multiple=d&&typeof d!="function"&&typeof d!="symbol";break;case"muted":r.muted=d&&typeof d!="function"&&typeof d!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(d==null||typeof d=="function"||typeof d=="boolean"||typeof d=="symbol"){r.removeAttribute("xlink:href");break}u=xs(""+d),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":d!=null&&typeof d!="function"&&typeof d!="symbol"?r.setAttribute(u,""+d):r.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":d&&typeof d!="function"&&typeof d!="symbol"?r.setAttribute(u,""):r.removeAttribute(u);break;case"capture":case"download":d===!0?r.setAttribute(u,""):d!==!1&&d!=null&&typeof d!="function"&&typeof d!="symbol"?r.setAttribute(u,d):r.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":d!=null&&typeof d!="function"&&typeof d!="symbol"&&!isNaN(d)&&1<=d?r.setAttribute(u,d):r.removeAttribute(u);break;case"rowSpan":case"start":d==null||typeof d=="function"||typeof d=="symbol"||isNaN(d)?r.removeAttribute(u):r.setAttribute(u,d);break;case"popover":Zt("beforetoggle",r),Zt("toggle",r),js(r,"popover",d);break;case"xlinkActuate":Sr(r,"http://www.w3.org/1999/xlink","xlink:actuate",d);break;case"xlinkArcrole":Sr(r,"http://www.w3.org/1999/xlink","xlink:arcrole",d);break;case"xlinkRole":Sr(r,"http://www.w3.org/1999/xlink","xlink:role",d);break;case"xlinkShow":Sr(r,"http://www.w3.org/1999/xlink","xlink:show",d);break;case"xlinkTitle":Sr(r,"http://www.w3.org/1999/xlink","xlink:title",d);break;case"xlinkType":Sr(r,"http://www.w3.org/1999/xlink","xlink:type",d);break;case"xmlBase":Sr(r,"http://www.w3.org/XML/1998/namespace","xml:base",d);break;case"xmlLang":Sr(r,"http://www.w3.org/XML/1998/namespace","xml:lang",d);break;case"xmlSpace":Sr(r,"http://www.w3.org/XML/1998/namespace","xml:space",d);break;case"is":js(r,"is",d);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=Kc.get(u)||u,js(r,u,d))}}function f1(r,o,u,d,v,x){switch(u){case"style":Qu(r,d,x);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(i(61));if(u=d.__html,u!=null){if(v.children!=null)throw Error(i(60));r.innerHTML=u}}break;case"children":typeof d=="string"?Nr(r,d):(typeof d=="number"||typeof d=="bigint")&&Nr(r,""+d);break;case"onScroll":d!=null&&Zt("scroll",r);break;case"onScrollEnd":d!=null&&Zt("scrollend",r);break;case"onClick":d!=null&&(r.onclick=Ar);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ps.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(v=u.endsWith("Capture"),o=u.slice(2,v?u.length-7:void 0),x=r[Yn]||null,x=x!=null?x[u]:null,typeof x=="function"&&r.removeEventListener(o,x,v),typeof d=="function")){typeof x!="function"&&x!==null&&(u in r?r[u]=null:r.hasAttribute(u)&&r.removeAttribute(u)),r.addEventListener(o,d,v);break e}u in r?r[u]=d:d===!0?r.setAttribute(u,""):js(r,u,d)}}}function _s(r,o,u){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Zt("error",r),Zt("load",r);var d=!1,v=!1,x;for(x in u)if(u.hasOwnProperty(x)){var R=u[x];if(R!=null)switch(x){case"src":d=!0;break;case"srcSet":v=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,o));default:jn(r,o,x,R,u,null)}}v&&jn(r,o,"srcSet",u.srcSet,u,null),d&&jn(r,o,"src",u.src,u,null);return;case"input":Zt("invalid",r);var W=x=R=v=null,he=null,Te=null;for(d in u)if(u.hasOwnProperty(d)){var Fe=u[d];if(Fe!=null)switch(d){case"name":v=Fe;break;case"type":R=Fe;break;case"checked":he=Fe;break;case"defaultChecked":Te=Fe;break;case"value":x=Fe;break;case"defaultValue":W=Fe;break;case"children":case"dangerouslySetInnerHTML":if(Fe!=null)throw Error(i(137,o));break;default:jn(r,o,d,Fe,u,null)}}Xu(r,x,W,he,Te,R,v,!1);return;case"select":Zt("invalid",r),d=R=x=null;for(v in u)if(u.hasOwnProperty(v)&&(W=u[v],W!=null))switch(v){case"value":x=W;break;case"defaultValue":R=W;break;case"multiple":d=W;default:jn(r,o,v,W,u,null)}o=x,u=R,r.multiple=!!d,o!=null?ps(r,!!d,o,!1):u!=null&&ps(r,!!d,u,!0);return;case"textarea":Zt("invalid",r),x=v=d=null;for(R in u)if(u.hasOwnProperty(R)&&(W=u[R],W!=null))switch(R){case"value":d=W;break;case"defaultValue":v=W;break;case"children":x=W;break;case"dangerouslySetInnerHTML":if(W!=null)throw Error(i(91));break;default:jn(r,o,R,W,u,null)}$c(r,d,v,x);return;case"option":for(he in u)if(u.hasOwnProperty(he)&&(d=u[he],d!=null))switch(he){case"selected":r.selected=d&&typeof d!="function"&&typeof d!="symbol";break;default:jn(r,o,he,d,u,null)}return;case"dialog":Zt("beforetoggle",r),Zt("toggle",r),Zt("cancel",r),Zt("close",r);break;case"iframe":case"object":Zt("load",r);break;case"video":case"audio":for(d=0;d<nd.length;d++)Zt(nd[d],r);break;case"image":Zt("error",r),Zt("load",r);break;case"details":Zt("toggle",r);break;case"embed":case"source":case"link":Zt("error",r),Zt("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Te in u)if(u.hasOwnProperty(Te)&&(d=u[Te],d!=null))switch(Te){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,o));default:jn(r,o,Te,d,u,null)}return;default:if(Xc(o)){for(Fe in u)u.hasOwnProperty(Fe)&&(d=u[Fe],d!==void 0&&f1(r,o,Fe,d,u,void 0));return}}for(W in u)u.hasOwnProperty(W)&&(d=u[W],d!=null&&jn(r,o,W,d,u,null))}function zC(r,o,u,d){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var v=null,x=null,R=null,W=null,he=null,Te=null,Fe=null;for(Me in u){var We=u[Me];if(u.hasOwnProperty(Me)&&We!=null)switch(Me){case"checked":break;case"value":break;case"defaultValue":he=We;default:d.hasOwnProperty(Me)||jn(r,o,Me,null,d,We)}}for(var Re in d){var Me=d[Re];if(We=u[Re],d.hasOwnProperty(Re)&&(Me!=null||We!=null))switch(Re){case"type":x=Me;break;case"name":v=Me;break;case"checked":Te=Me;break;case"defaultChecked":Fe=Me;break;case"value":R=Me;break;case"defaultValue":W=Me;break;case"children":case"dangerouslySetInnerHTML":if(Me!=null)throw Error(i(137,o));break;default:Me!==We&&jn(r,o,Re,Me,d,We)}}Ml(r,R,W,he,Te,Fe,x,v);return;case"select":Me=R=W=Re=null;for(x in u)if(he=u[x],u.hasOwnProperty(x)&&he!=null)switch(x){case"value":break;case"multiple":Me=he;default:d.hasOwnProperty(x)||jn(r,o,x,null,d,he)}for(v in d)if(x=d[v],he=u[v],d.hasOwnProperty(v)&&(x!=null||he!=null))switch(v){case"value":Re=x;break;case"defaultValue":W=x;break;case"multiple":R=x;default:x!==he&&jn(r,o,v,x,d,he)}o=W,u=R,d=Me,Re!=null?ps(r,!!u,Re,!1):!!d!=!!u&&(o!=null?ps(r,!!u,o,!0):ps(r,!!u,u?[]:"",!1));return;case"textarea":Me=Re=null;for(W in u)if(v=u[W],u.hasOwnProperty(W)&&v!=null&&!d.hasOwnProperty(W))switch(W){case"value":break;case"children":break;default:jn(r,o,W,null,d,v)}for(R in d)if(v=d[R],x=u[R],d.hasOwnProperty(R)&&(v!=null||x!=null))switch(R){case"value":Re=v;break;case"defaultValue":Me=v;break;case"children":break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(i(91));break;default:v!==x&&jn(r,o,R,v,d,x)}Yc(r,Re,Me);return;case"option":for(var dt in u)if(Re=u[dt],u.hasOwnProperty(dt)&&Re!=null&&!d.hasOwnProperty(dt))switch(dt){case"selected":r.selected=!1;break;default:jn(r,o,dt,null,d,Re)}for(he in d)if(Re=d[he],Me=u[he],d.hasOwnProperty(he)&&Re!==Me&&(Re!=null||Me!=null))switch(he){case"selected":r.selected=Re&&typeof Re!="function"&&typeof Re!="symbol";break;default:jn(r,o,he,Re,d,Me)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Dt in u)Re=u[Dt],u.hasOwnProperty(Dt)&&Re!=null&&!d.hasOwnProperty(Dt)&&jn(r,o,Dt,null,d,Re);for(Te in d)if(Re=d[Te],Me=u[Te],d.hasOwnProperty(Te)&&Re!==Me&&(Re!=null||Me!=null))switch(Te){case"children":case"dangerouslySetInnerHTML":if(Re!=null)throw Error(i(137,o));break;default:jn(r,o,Te,Re,d,Me)}return;default:if(Xc(o)){for(var Fn in u)Re=u[Fn],u.hasOwnProperty(Fn)&&Re!==void 0&&!d.hasOwnProperty(Fn)&&f1(r,o,Fn,void 0,d,Re);for(Fe in d)Re=d[Fe],Me=u[Fe],!d.hasOwnProperty(Fe)||Re===Me||Re===void 0&&Me===void 0||f1(r,o,Fe,Re,d,Me);return}}for(var we in u)Re=u[we],u.hasOwnProperty(we)&&Re!=null&&!d.hasOwnProperty(we)&&jn(r,o,we,null,d,Re);for(We in d)Re=d[We],Me=u[We],!d.hasOwnProperty(We)||Re===Me||Re==null&&Me==null||jn(r,o,We,Re,d,Me)}function F5(r){switch(r){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function UC(){if(typeof performance.getEntriesByType=="function"){for(var r=0,o=0,u=performance.getEntriesByType("resource"),d=0;d<u.length;d++){var v=u[d],x=v.transferSize,R=v.initiatorType,W=v.duration;if(x&&W&&F5(R)){for(R=0,W=v.responseEnd,d+=1;d<u.length;d++){var he=u[d],Te=he.startTime;if(Te>W)break;var Fe=he.transferSize,We=he.initiatorType;Fe&&F5(We)&&(he=he.responseEnd,R+=Fe*(he<W?1:(W-Te)/(he-Te)))}if(--d,o+=8*(x+R)/(v.duration/1e3),r++,10<r)break}}if(0<r)return o/r/1e6}return navigator.connection&&(r=navigator.connection.downlink,typeof r=="number")?r:5}var d1=null,p1=null;function og(r){return r.nodeType===9?r:r.ownerDocument}function B5(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function z5(r,o){if(r===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&o==="foreignObject"?0:r}function g1(r,o){return r==="textarea"||r==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var m1=null;function HC(){var r=window.event;return r&&r.type==="popstate"?r===m1?!1:(m1=r,!0):(m1=null,!1)}var U5=typeof setTimeout=="function"?setTimeout:void 0,qC=typeof clearTimeout=="function"?clearTimeout:void 0,H5=typeof Promise=="function"?Promise:void 0,WC=typeof queueMicrotask=="function"?queueMicrotask:typeof H5<"u"?function(r){return H5.resolve(null).then(r).catch(VC)}:U5;function VC(r){setTimeout(function(){throw r})}function oc(r){return r==="head"}function q5(r,o){var u=o,d=0;do{var v=u.nextSibling;if(r.removeChild(u),v&&v.nodeType===8)if(u=v.data,u==="/$"||u==="/&"){if(d===0){r.removeChild(v),jh(o);return}d--}else if(u==="$"||u==="$?"||u==="$~"||u==="$!"||u==="&")d++;else if(u==="html")sd(r.ownerDocument.documentElement);else if(u==="head"){u=r.ownerDocument.head,sd(u);for(var x=u.firstChild;x;){var R=x.nextSibling,W=x.nodeName;x[br]||W==="SCRIPT"||W==="STYLE"||W==="LINK"&&x.rel.toLowerCase()==="stylesheet"||u.removeChild(x),x=R}}else u==="body"&&sd(r.ownerDocument.body);u=v}while(u);jh(o)}function W5(r,o){var u=r;r=0;do{var d=u.nextSibling;if(u.nodeType===1?o?(u._stashedDisplay=u.style.display,u.style.display="none"):(u.style.display=u._stashedDisplay||"",u.getAttribute("style")===""&&u.removeAttribute("style")):u.nodeType===3&&(o?(u._stashedText=u.nodeValue,u.nodeValue=""):u.nodeValue=u._stashedText||""),d&&d.nodeType===8)if(u=d.data,u==="/$"){if(r===0)break;r--}else u!=="$"&&u!=="$?"&&u!=="$~"&&u!=="$!"||r++;u=d}while(u)}function y1(r){var o=r.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var u=o;switch(o=o.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":y1(u),Qa(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}r.removeChild(u)}}function GC(r,o,u,d){for(;r.nodeType===1;){var v=u;if(r.nodeName.toLowerCase()!==o.toLowerCase()){if(!d&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(d){if(!r[br])switch(o){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(x=r.getAttribute("rel"),x==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(x!==v.rel||r.getAttribute("href")!==(v.href==null||v.href===""?null:v.href)||r.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin)||r.getAttribute("title")!==(v.title==null?null:v.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(x=r.getAttribute("src"),(x!==(v.src==null?null:v.src)||r.getAttribute("type")!==(v.type==null?null:v.type)||r.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin))&&x&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(o==="input"&&r.type==="hidden"){var x=v.name==null?null:""+v.name;if(v.type==="hidden"&&r.getAttribute("name")===x)return r}else return r;if(r=ta(r.nextSibling),r===null)break}return null}function YC(r,o,u){if(o==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!u||(r=ta(r.nextSibling),r===null))return null;return r}function V5(r,o){for(;r.nodeType!==8;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!o||(r=ta(r.nextSibling),r===null))return null;return r}function v1(r){return r.data==="$?"||r.data==="$~"}function b1(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState!=="loading"}function $C(r,o){var u=r.ownerDocument;if(r.data==="$~")r._reactRetry=o;else if(r.data!=="$?"||u.readyState!=="loading")o();else{var d=function(){o(),u.removeEventListener("DOMContentLoaded",d)};u.addEventListener("DOMContentLoaded",d),r._reactRetry=d}}function ta(r){for(;r!=null;r=r.nextSibling){var o=r.nodeType;if(o===1||o===3)break;if(o===8){if(o=r.data,o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"||o==="F!"||o==="F")break;if(o==="/$"||o==="/&")return null}}return r}var _1=null;function G5(r){r=r.nextSibling;for(var o=0;r;){if(r.nodeType===8){var u=r.data;if(u==="/$"||u==="/&"){if(o===0)return ta(r.nextSibling);o--}else u!=="$"&&u!=="$!"&&u!=="$?"&&u!=="$~"&&u!=="&"||o++}r=r.nextSibling}return null}function Y5(r){r=r.previousSibling;for(var o=0;r;){if(r.nodeType===8){var u=r.data;if(u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"){if(o===0)return r;o--}else u!=="/$"&&u!=="/&"||o++}r=r.previousSibling}return null}function $5(r,o,u){switch(o=og(u),r){case"html":if(r=o.documentElement,!r)throw Error(i(452));return r;case"head":if(r=o.head,!r)throw Error(i(453));return r;case"body":if(r=o.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}function sd(r){for(var o=r.attributes;o.length;)r.removeAttributeNode(o[0]);Qa(r)}var na=new Map,X5=new Set;function lg(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var sl=re.d;re.d={f:XC,r:KC,D:QC,C:JC,L:ZC,m:eE,X:nE,S:tE,M:iE};function XC(){var r=sl.f(),o=Zp();return r||o}function KC(r){var o=xr(r);o!==null&&o.tag===5&&o.type==="form"?fb(o):sl.r(r)}var Oh=typeof document>"u"?null:document;function K5(r,o,u){var d=Oh;if(d&&typeof o=="string"&&o){var v=gi(o);v='link[rel="'+r+'"][href="'+v+'"]',typeof u=="string"&&(v+='[crossorigin="'+u+'"]'),X5.has(v)||(X5.add(v),r={rel:r,crossOrigin:u,href:o},d.querySelector(v)===null&&(o=d.createElement("link"),_s(o,"link",r),oi(o),d.head.appendChild(o)))}}function QC(r){sl.D(r),K5("dns-prefetch",r,null)}function JC(r,o){sl.C(r,o),K5("preconnect",r,o)}function ZC(r,o,u){sl.L(r,o,u);var d=Oh;if(d&&r&&o){var v='link[rel="preload"][as="'+gi(o)+'"]';o==="image"&&u&&u.imageSrcSet?(v+='[imagesrcset="'+gi(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(v+='[imagesizes="'+gi(u.imageSizes)+'"]')):v+='[href="'+gi(r)+'"]';var x=v;switch(o){case"style":x=Ih(r);break;case"script":x=Ph(r)}na.has(x)||(r=m({rel:"preload",href:o==="image"&&u&&u.imageSrcSet?void 0:r,as:o},u),na.set(x,r),d.querySelector(v)!==null||o==="style"&&d.querySelector(rd(x))||o==="script"&&d.querySelector(ad(x))||(o=d.createElement("link"),_s(o,"link",r),oi(o),d.head.appendChild(o)))}}function eE(r,o){sl.m(r,o);var u=Oh;if(u&&r){var d=o&&typeof o.as=="string"?o.as:"script",v='link[rel="modulepreload"][as="'+gi(d)+'"][href="'+gi(r)+'"]',x=v;switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":x=Ph(r)}if(!na.has(x)&&(r=m({rel:"modulepreload",href:r},o),na.set(x,r),u.querySelector(v)===null)){switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(ad(x)))return}d=u.createElement("link"),_s(d,"link",r),oi(d),u.head.appendChild(d)}}}function tE(r,o,u){sl.S(r,o,u);var d=Oh;if(d&&r){var v=zr(d).hoistableStyles,x=Ih(r);o=o||"default";var R=v.get(x);if(!R){var W={loading:0,preload:null};if(R=d.querySelector(rd(x)))W.loading=5;else{r=m({rel:"stylesheet",href:r,"data-precedence":o},u),(u=na.get(x))&&x1(r,u);var he=R=d.createElement("link");oi(he),_s(he,"link",r),he._p=new Promise(function(Te,Fe){he.onload=Te,he.onerror=Fe}),he.addEventListener("load",function(){W.loading|=1}),he.addEventListener("error",function(){W.loading|=2}),W.loading|=4,cg(R,o,d)}R={type:"stylesheet",instance:R,count:1,state:W},v.set(x,R)}}}function nE(r,o){sl.X(r,o);var u=Oh;if(u&&r){var d=zr(u).hoistableScripts,v=Ph(r),x=d.get(v);x||(x=u.querySelector(ad(v)),x||(r=m({src:r,async:!0},o),(o=na.get(v))&&w1(r,o),x=u.createElement("script"),oi(x),_s(x,"link",r),u.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},d.set(v,x))}}function iE(r,o){sl.M(r,o);var u=Oh;if(u&&r){var d=zr(u).hoistableScripts,v=Ph(r),x=d.get(v);x||(x=u.querySelector(ad(v)),x||(r=m({src:r,async:!0,type:"module"},o),(o=na.get(v))&&w1(r,o),x=u.createElement("script"),oi(x),_s(x,"link",r),u.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},d.set(v,x))}}function Q5(r,o,u,d){var v=(v=le.current)?lg(v):null;if(!v)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(o=Ih(u.href),u=zr(v).hoistableStyles,d=u.get(o),d||(d={type:"style",instance:null,count:0,state:null},u.set(o,d)),d):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){r=Ih(u.href);var x=zr(v).hoistableStyles,R=x.get(r);if(R||(v=v.ownerDocument||v,R={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},x.set(r,R),(x=v.querySelector(rd(r)))&&!x._p&&(R.instance=x,R.state.loading=5),na.has(r)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},na.set(r,u),x||sE(v,r,u,R.state))),o&&d===null)throw Error(i(528,""));return R}if(o&&d!==null)throw Error(i(529,""));return null;case"script":return o=u.async,u=u.src,typeof u=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=Ph(u),u=zr(v).hoistableScripts,d=u.get(o),d||(d={type:"script",instance:null,count:0,state:null},u.set(o,d)),d):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function Ih(r){return'href="'+gi(r)+'"'}function rd(r){return'link[rel="stylesheet"]['+r+"]"}function J5(r){return m({},r,{"data-precedence":r.precedence,precedence:null})}function sE(r,o,u,d){r.querySelector('link[rel="preload"][as="style"]['+o+"]")?d.loading=1:(o=r.createElement("link"),d.preload=o,o.addEventListener("load",function(){return d.loading|=1}),o.addEventListener("error",function(){return d.loading|=2}),_s(o,"link",u),oi(o),r.head.appendChild(o))}function Ph(r){return'[src="'+gi(r)+'"]'}function ad(r){return"script[async]"+r}function Z5(r,o,u){if(o.count++,o.instance===null)switch(o.type){case"style":var d=r.querySelector('style[data-href~="'+gi(u.href)+'"]');if(d)return o.instance=d,oi(d),d;var v=m({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return d=(r.ownerDocument||r).createElement("style"),oi(d),_s(d,"style",v),cg(d,u.precedence,r),o.instance=d;case"stylesheet":v=Ih(u.href);var x=r.querySelector(rd(v));if(x)return o.state.loading|=4,o.instance=x,oi(x),x;d=J5(u),(v=na.get(v))&&x1(d,v),x=(r.ownerDocument||r).createElement("link"),oi(x);var R=x;return R._p=new Promise(function(W,he){R.onload=W,R.onerror=he}),_s(x,"link",d),o.state.loading|=4,cg(x,u.precedence,r),o.instance=x;case"script":return x=Ph(u.src),(v=r.querySelector(ad(x)))?(o.instance=v,oi(v),v):(d=u,(v=na.get(x))&&(d=m({},u),w1(d,v)),r=r.ownerDocument||r,v=r.createElement("script"),oi(v),_s(v,"link",d),r.head.appendChild(v),o.instance=v);case"void":return null;default:throw Error(i(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(d=o.instance,o.state.loading|=4,cg(d,u.precedence,r));return o.instance}function cg(r,o,u){for(var d=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),v=d.length?d[d.length-1]:null,x=v,R=0;R<d.length;R++){var W=d[R];if(W.dataset.precedence===o)x=W;else if(x!==v)break}x?x.parentNode.insertBefore(r,x.nextSibling):(o=u.nodeType===9?u.head:u,o.insertBefore(r,o.firstChild))}function x1(r,o){r.crossOrigin==null&&(r.crossOrigin=o.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=o.referrerPolicy),r.title==null&&(r.title=o.title)}function w1(r,o){r.crossOrigin==null&&(r.crossOrigin=o.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=o.referrerPolicy),r.integrity==null&&(r.integrity=o.integrity)}var ug=null;function e_(r,o,u){if(ug===null){var d=new Map,v=ug=new Map;v.set(u,d)}else v=ug,d=v.get(u),d||(d=new Map,v.set(u,d));if(d.has(r))return d;for(d.set(r,null),u=u.getElementsByTagName(r),v=0;v<u.length;v++){var x=u[v];if(!(x[br]||x[An]||r==="link"&&x.getAttribute("rel")==="stylesheet")&&x.namespaceURI!=="http://www.w3.org/2000/svg"){var R=x.getAttribute(o)||"";R=r+R;var W=d.get(R);W?W.push(x):d.set(R,[x])}}return d}function t_(r,o,u){r=r.ownerDocument||r,r.head.insertBefore(u,o==="title"?r.querySelector("head > title"):null)}function rE(r,o,u){if(u===1||o.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return r=o.disabled,typeof o.precedence=="string"&&r==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function n_(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}function aE(r,o,u,d){if(u.type==="stylesheet"&&(typeof d.media!="string"||matchMedia(d.media).matches!==!1)&&(u.state.loading&4)===0){if(u.instance===null){var v=Ih(d.href),x=o.querySelector(rd(v));if(x){o=x._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(r.count++,r=hg.bind(r),o.then(r,r)),u.state.loading|=4,u.instance=x,oi(x);return}x=o.ownerDocument||o,d=J5(d),(v=na.get(v))&&x1(d,v),x=x.createElement("link"),oi(x);var R=x;R._p=new Promise(function(W,he){R.onload=W,R.onerror=he}),_s(x,"link",d),u.instance=x}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(u,o),(o=u.state.preload)&&(u.state.loading&3)===0&&(r.count++,u=hg.bind(r),o.addEventListener("load",u),o.addEventListener("error",u))}}var S1=0;function oE(r,o){return r.stylesheets&&r.count===0&&dg(r,r.stylesheets),0<r.count||0<r.imgCount?function(u){var d=setTimeout(function(){if(r.stylesheets&&dg(r,r.stylesheets),r.unsuspend){var x=r.unsuspend;r.unsuspend=null,x()}},6e4+o);0<r.imgBytes&&S1===0&&(S1=62500*UC());var v=setTimeout(function(){if(r.waitingForImages=!1,r.count===0&&(r.stylesheets&&dg(r,r.stylesheets),r.unsuspend)){var x=r.unsuspend;r.unsuspend=null,x()}},(r.imgBytes>S1?50:800)+o);return r.unsuspend=u,function(){r.unsuspend=null,clearTimeout(d),clearTimeout(v)}}:null}function hg(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)dg(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var fg=null;function dg(r,o){r.stylesheets=null,r.unsuspend!==null&&(r.count++,fg=new Map,o.forEach(lE,r),fg=null,hg.call(r))}function lE(r,o){if(!(o.state.loading&4)){var u=fg.get(r);if(u)var d=u.get(null);else{u=new Map,fg.set(r,u);for(var v=r.querySelectorAll("link[data-precedence],style[data-precedence]"),x=0;x<v.length;x++){var R=v[x];(R.nodeName==="LINK"||R.getAttribute("media")!=="not all")&&(u.set(R.dataset.precedence,R),d=R)}d&&u.set(null,d)}v=o.instance,R=v.getAttribute("data-precedence"),x=u.get(R)||d,x===d&&u.set(null,v),u.set(R,v),this.count++,d=hg.bind(this),v.addEventListener("load",d),v.addEventListener("error",d),x?x.parentNode.insertBefore(v,x.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(v,r.firstChild)),o.state.loading|=4}}var od={$$typeof:q,Provider:null,Consumer:null,_currentValue:ce,_currentValue2:ce,_threadCount:0};function cE(r,o,u,d,v,x,R,W,he){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Gs(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gs(0),this.hiddenUpdates=Gs(null),this.identifierPrefix=d,this.onUncaughtError=v,this.onCaughtError=x,this.onRecoverableError=R,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=he,this.incompleteTransitions=new Map}function i_(r,o,u,d,v,x,R,W,he,Te,Fe,We){return r=new cE(r,o,u,R,he,Te,Fe,We,W),o=1,x===!0&&(o|=24),x=is(3,null,null,o),r.current=x,x.stateNode=r,o=Xl(),o.refCount++,r.pooledCache=o,o.refCount++,x.memoizedState={element:d,isDehydrated:u,cache:o},et(x),r}function s_(r){return r?(r=qi,r):qi}function r_(r,o,u,d,v,x){v=s_(v),d.context===null?d.context=v:d.pendingContext=v,d=Lt(o),d.payload={element:u},x=x===void 0?null:x,x!==null&&(d.callback=x),u=Vt(r,d,o),u!==null&&(ur(u,r,o),bn(u,r,o))}function a_(r,o){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var u=r.retryLane;r.retryLane=u!==0&&u<o?u:o}}function N1(r,o){a_(r,o),(r=r.alternate)&&a_(r,o)}function o_(r){if(r.tag===13||r.tag===31){var o=Ta(r,67108864);o!==null&&ur(o,r,67108864),N1(r,67108864)}}function l_(r){if(r.tag===13||r.tag===31){var o=Or();o=Vn(o);var u=Ta(r,o);u!==null&&ur(u,r,o),N1(r,o)}}var pg=!0;function uE(r,o,u,d){var v=$.T;$.T=null;var x=re.p;try{re.p=2,A1(r,o,u,d)}finally{re.p=x,$.T=v}}function hE(r,o,u,d){var v=$.T;$.T=null;var x=re.p;try{re.p=8,A1(r,o,u,d)}finally{re.p=x,$.T=v}}function A1(r,o,u,d){if(pg){var v=C1(d);if(v===null)h1(r,o,d,gg,u),u_(r,d);else if(dE(v,r,o,u,d))d.stopPropagation();else if(u_(r,d),o&4&&-1<fE.indexOf(r)){for(;v!==null;){var x=xr(v);if(x!==null)switch(x.tag){case 3:if(x=x.stateNode,x.current.memoizedState.isDehydrated){var R=xt(x.pendingLanes);if(R!==0){var W=x;for(W.pendingLanes|=2,W.entangledLanes|=2;R;){var he=1<<31-Ct(R);W.entanglements[1]|=he,R&=~he}mo(x),(xn&6)===0&&(Qp=vt()+500,td(0))}}break;case 31:case 13:W=Ta(x,2),W!==null&&ur(W,x,2),Zp(),N1(x,2)}if(x=C1(d),x===null&&h1(r,o,d,gg,u),x===v)break;v=x}v!==null&&d.stopPropagation()}else h1(r,o,d,null,u)}}function C1(r){return r=Oo(r),E1(r)}var gg=null;function E1(r){if(gg=null,r=_r(r),r!==null){var o=a(r);if(o===null)r=null;else{var u=o.tag;if(u===13){if(r=l(o),r!==null)return r;r=null}else if(u===31){if(r=c(o),r!==null)return r;r=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;r=null}else o!==r&&(r=null)}}return gg=r,null}function c_(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(yt()){case ct:return 2;case Bt:return 8;case rt:case at:return 32;case St:return 268435456;default:return 32}default:return 32}}var k1=!1,lc=null,cc=null,uc=null,ld=new Map,cd=new Map,hc=[],fE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function u_(r,o){switch(r){case"focusin":case"focusout":lc=null;break;case"dragenter":case"dragleave":cc=null;break;case"mouseover":case"mouseout":uc=null;break;case"pointerover":case"pointerout":ld.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":cd.delete(o.pointerId)}}function ud(r,o,u,d,v,x){return r===null||r.nativeEvent!==x?(r={blockedOn:o,domEventName:u,eventSystemFlags:d,nativeEvent:x,targetContainers:[v]},o!==null&&(o=xr(o),o!==null&&o_(o)),r):(r.eventSystemFlags|=d,o=r.targetContainers,v!==null&&o.indexOf(v)===-1&&o.push(v),r)}function dE(r,o,u,d,v){switch(o){case"focusin":return lc=ud(lc,r,o,u,d,v),!0;case"dragenter":return cc=ud(cc,r,o,u,d,v),!0;case"mouseover":return uc=ud(uc,r,o,u,d,v),!0;case"pointerover":var x=v.pointerId;return ld.set(x,ud(ld.get(x)||null,r,o,u,d,v)),!0;case"gotpointercapture":return x=v.pointerId,cd.set(x,ud(cd.get(x)||null,r,o,u,d,v)),!0}return!1}function h_(r){var o=_r(r.target);if(o!==null){var u=a(o);if(u!==null){if(o=u.tag,o===13){if(o=l(u),o!==null){r.blockedOn=o,Ka(r.priority,function(){l_(u)});return}}else if(o===31){if(o=c(u),o!==null){r.blockedOn=o,Ka(r.priority,function(){l_(u)});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){r.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}r.blockedOn=null}function mg(r){if(r.blockedOn!==null)return!1;for(var o=r.targetContainers;0<o.length;){var u=C1(r.nativeEvent);if(u===null){u=r.nativeEvent;var d=new u.constructor(u.type,u);fa=d,u.target.dispatchEvent(d),fa=null}else return o=xr(u),o!==null&&o_(o),r.blockedOn=u,!1;o.shift()}return!0}function f_(r,o,u){mg(r)&&u.delete(o)}function pE(){k1=!1,lc!==null&&mg(lc)&&(lc=null),cc!==null&&mg(cc)&&(cc=null),uc!==null&&mg(uc)&&(uc=null),ld.forEach(f_),cd.forEach(f_)}function yg(r,o){r.blockedOn===o&&(r.blockedOn=null,k1||(k1=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,pE)))}var vg=null;function d_(r){vg!==r&&(vg=r,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){vg===r&&(vg=null);for(var o=0;o<r.length;o+=3){var u=r[o],d=r[o+1],v=r[o+2];if(typeof d!="function"){if(E1(d||u)===null)continue;break}var x=xr(u);x!==null&&(r.splice(o,3),o-=3,C0(x,{pending:!0,data:v,method:u.method,action:d},d,v))}}))}function jh(r){function o(he){return yg(he,r)}lc!==null&&yg(lc,r),cc!==null&&yg(cc,r),uc!==null&&yg(uc,r),ld.forEach(o),cd.forEach(o);for(var u=0;u<hc.length;u++){var d=hc[u];d.blockedOn===r&&(d.blockedOn=null)}for(;0<hc.length&&(u=hc[0],u.blockedOn===null);)h_(u),u.blockedOn===null&&hc.shift();if(u=(r.ownerDocument||r).$$reactFormReplay,u!=null)for(d=0;d<u.length;d+=3){var v=u[d],x=u[d+1],R=v[Yn]||null;if(typeof x=="function")R||d_(u);else if(R){var W=null;if(x&&x.hasAttribute("formAction")){if(v=x,R=x[Yn]||null)W=R.formAction;else if(E1(v)!==null)continue}else W=R.action;typeof W=="function"?u[d+1]=W:(u.splice(d,3),d-=3),d_(u)}}}function p_(){function r(x){x.canIntercept&&x.info==="react-transition"&&x.intercept({handler:function(){return new Promise(function(R){return v=R})},focusReset:"manual",scroll:"manual"})}function o(){v!==null&&(v(),v=null),d||setTimeout(u,20)}function u(){if(!d&&!navigation.transition){var x=navigation.currentEntry;x&&x.url!=null&&navigation.navigate(x.url,{state:x.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var d=!1,v=null;return navigation.addEventListener("navigate",r),navigation.addEventListener("navigatesuccess",o),navigation.addEventListener("navigateerror",o),setTimeout(u,100),function(){d=!0,navigation.removeEventListener("navigate",r),navigation.removeEventListener("navigatesuccess",o),navigation.removeEventListener("navigateerror",o),v!==null&&(v(),v=null)}}}function T1(r){this._internalRoot=r}bg.prototype.render=T1.prototype.render=function(r){var o=this._internalRoot;if(o===null)throw Error(i(409));var u=o.current,d=Or();r_(u,d,r,o,null,null)},bg.prototype.unmount=T1.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var o=r.containerInfo;r_(r.current,2,null,r,null,null),Zp(),o[es]=null}};function bg(r){this._internalRoot=r}bg.prototype.unstable_scheduleHydration=function(r){if(r){var o=Oi();r={blockedOn:null,target:r,priority:o};for(var u=0;u<hc.length&&o!==0&&o<hc[u].priority;u++);hc.splice(u,0,r),u===0&&h_(r)}};var g_=e.version;if(g_!=="19.2.1")throw Error(i(527,g_,"19.2.1"));re.findDOMNode=function(r){var o=r._reactInternals;if(o===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=f(o),r=r!==null?p(r):null,r=r===null?null:r.stateNode,r};var gE={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _g=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_g.isDisabled&&_g.supportsFiber)try{me=_g.inject(gE),De=_g}catch{}}return fd.createRoot=function(r,o){if(!s(r))throw Error(i(299));var u=!1,d="",v=wb,x=Sb,R=Nb;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onUncaughtError!==void 0&&(v=o.onUncaughtError),o.onCaughtError!==void 0&&(x=o.onCaughtError),o.onRecoverableError!==void 0&&(R=o.onRecoverableError)),o=i_(r,1,!1,null,null,u,d,null,v,x,R,p_),r[es]=o.current,u1(r),new T1(o)},fd.hydrateRoot=function(r,o,u){if(!s(r))throw Error(i(299));var d=!1,v="",x=wb,R=Sb,W=Nb,he=null;return u!=null&&(u.unstable_strictMode===!0&&(d=!0),u.identifierPrefix!==void 0&&(v=u.identifierPrefix),u.onUncaughtError!==void 0&&(x=u.onUncaughtError),u.onCaughtError!==void 0&&(R=u.onCaughtError),u.onRecoverableError!==void 0&&(W=u.onRecoverableError),u.formState!==void 0&&(he=u.formState)),o=i_(r,1,!0,o,u??null,d,v,he,x,R,W,p_),o.context=s_(null),u=o.current,d=Or(),d=Vn(d),v=Lt(d),v.callback=null,Vt(u,v,d),u=d,o.current.lanes=u,Nt(o,u),mo(o),r[es]=o.current,u1(r),new bg(o)},fd.version="19.2.1",fd}var A_;function AE(){if(A_)return D1.exports;A_=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),D1.exports=NE(),D1.exports}var CE=AE();const EE=O3(CE);var C_="popstate";function kE(n={}){function e(i,s){let{pathname:a,search:l,hash:c}=i.location;return H2("",{pathname:a,search:l,hash:c},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(i,s){return typeof s=="string"?s:Wd(s)}return LE(e,t,null,n)}function di(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Va(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function TE(){return Math.random().toString(36).substring(2,10)}function E_(n,e){return{usr:n.state,key:n.key,idx:e}}function H2(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?yf(e):e,state:t,key:e&&e.key||i||TE()}}function Wd({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function yf(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function LE(n,e,t,i={}){let{window:s=document.defaultView,v5Compat:a=!1}=i,l=s.history,c="POP",h=null,f=p();f==null&&(f=0,l.replaceState({...l.state,idx:f},""));function p(){return(l.state||{idx:null}).idx}function m(){c="POP";let k=p(),T=k==null?null:k-f;f=k,h&&h({action:c,location:E.location,delta:T})}function b(k,T){c="PUSH";let j=H2(E.location,k,T);f=p()+1;let q=E_(j,f),H=E.createHref(j);try{l.pushState(q,"",H)}catch(V){if(V instanceof DOMException&&V.name==="DataCloneError")throw V;s.location.assign(H)}a&&h&&h({action:c,location:E.location,delta:1})}function y(k,T){c="REPLACE";let j=H2(E.location,k,T);f=p();let q=E_(j,f),H=E.createHref(j);l.replaceState(q,"",H),a&&h&&h({action:c,location:E.location,delta:0})}function N(k){return RE(k)}let E={get action(){return c},get location(){return n(s,l)},listen(k){if(h)throw new Error("A history only accepts one active listener");return s.addEventListener(C_,m),h=k,()=>{s.removeEventListener(C_,m),h=null}},createHref(k){return e(s,k)},createURL:N,encodeLocation(k){let T=N(k);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:b,replace:y,go(k){return l.go(k)}};return E}function RE(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),di(t,"No window.location.(origin|href) available to create URL");let i=typeof n=="string"?n:Wd(n);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=t+i),new URL(i,t)}function I3(n,e,t="/"){return DE(n,e,t,!1)}function DE(n,e,t,i){let s=typeof e=="string"?yf(e):e,a=Sl(s.pathname||"/",t);if(a==null)return null;let l=P3(n);ME(l);let c=null;for(let h=0;c==null&&h<l.length;++h){let f=WE(a);c=HE(l[h],f,i)}return c}function P3(n,e=[],t=[],i="",s=!1){let a=(l,c,h=s,f)=>{let p={relativePath:f===void 0?l.path||"":f,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};if(p.relativePath.startsWith("/")){if(!p.relativePath.startsWith(i)&&h)return;di(p.relativePath.startsWith(i),`Absolute route path "${p.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(i.length)}let m=xl([i,p.relativePath]),b=t.concat(p);l.children&&l.children.length>0&&(di(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),P3(l.children,e,b,m,h)),!(l.path==null&&!l.index)&&e.push({path:m,score:zE(m,l.index),routesMeta:b})};return n.forEach((l,c)=>{if(l.path===""||!l.path?.includes("?"))a(l,c);else for(let h of j3(l.path))a(l,c,!0,h)}),e}function j3(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,s=t.endsWith("?"),a=t.replace(/\?$/,"");if(i.length===0)return s?[a,""]:[a];let l=j3(i.join("/")),c=[];return c.push(...l.map(h=>h===""?a:[a,h].join("/"))),s&&c.push(...l),c.map(h=>n.startsWith("/")&&h===""?"/":h)}function ME(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:UE(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var OE=/^:[\w-]+$/,IE=3,PE=2,jE=1,FE=10,BE=-2,k_=n=>n==="*";function zE(n,e){let t=n.split("/"),i=t.length;return t.some(k_)&&(i+=BE),e&&(i+=PE),t.filter(s=>!k_(s)).reduce((s,a)=>s+(OE.test(a)?IE:a===""?jE:FE),i)}function UE(n,e){return n.length===e.length&&n.slice(0,-1).every((i,s)=>i===e[s])?n[n.length-1]-e[e.length-1]:0}function HE(n,e,t=!1){let{routesMeta:i}=n,s={},a="/",l=[];for(let c=0;c<i.length;++c){let h=i[c],f=c===i.length-1,p=a==="/"?e:e.slice(a.length)||"/",m=um({path:h.relativePath,caseSensitive:h.caseSensitive,end:f},p),b=h.route;if(!m&&f&&t&&!i[i.length-1].route.index&&(m=um({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},p)),!m)return null;Object.assign(s,m.params),l.push({params:s,pathname:xl([a,m.pathname]),pathnameBase:XE(xl([a,m.pathnameBase])),route:b}),m.pathnameBase!=="/"&&(a=xl([a,m.pathnameBase]))}return l}function um(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=qE(n.path,n.caseSensitive,n.end),s=e.match(t);if(!s)return null;let a=s[0],l=a.replace(/(.)\/+$/,"$1"),c=s.slice(1);return{params:i.reduce((f,{paramName:p,isOptional:m},b)=>{if(p==="*"){let N=c[b]||"";l=a.slice(0,a.length-N.length).replace(/(.)\/+$/,"$1")}const y=c[b];return m&&!y?f[p]=void 0:f[p]=(y||"").replace(/%2F/g,"/"),f},{}),pathname:a,pathnameBase:l,pattern:n}}function qE(n,e=!1,t=!0){Va(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,h)=>(i.push({paramName:c,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(i.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),i]}function WE(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Va(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Sl(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}var VE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,GE=n=>VE.test(n);function YE(n,e="/"){let{pathname:t,search:i="",hash:s=""}=typeof n=="string"?yf(n):n,a;if(t)if(GE(t))a=t;else{if(t.includes("//")){let l=t;t=t.replace(/\/\/+/g,"/"),Va(!1,`Pathnames cannot have embedded double slashes - normalizing ${l} -> ${t}`)}t.startsWith("/")?a=T_(t.substring(1),"/"):a=T_(t,e)}else a=e;return{pathname:a,search:KE(i),hash:QE(s)}}function T_(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function P1(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function $E(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function F3(n){let e=$E(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function B3(n,e,t,i=!1){let s;typeof n=="string"?s=yf(n):(s={...n},di(!s.pathname||!s.pathname.includes("?"),P1("?","pathname","search",s)),di(!s.pathname||!s.pathname.includes("#"),P1("#","pathname","hash",s)),di(!s.search||!s.search.includes("#"),P1("#","search","hash",s)));let a=n===""||s.pathname==="",l=a?"/":s.pathname,c;if(l==null)c=t;else{let m=e.length-1;if(!i&&l.startsWith("..")){let b=l.split("/");for(;b[0]==="..";)b.shift(),m-=1;s.pathname=b.join("/")}c=m>=0?e[m]:"/"}let h=YE(s,c),f=l&&l!=="/"&&l.endsWith("/"),p=(a||l===".")&&t.endsWith("/");return!h.pathname.endsWith("/")&&(f||p)&&(h.pathname+="/"),h}var xl=n=>n.join("/").replace(/\/\/+/g,"/"),XE=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),KE=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,QE=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function JE(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}function ZE(n){return n.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var z3=["POST","PUT","PATCH","DELETE"];new Set(z3);var ek=["GET",...z3];new Set(ek);var vf=de.createContext(null);vf.displayName="DataRouter";var Ym=de.createContext(null);Ym.displayName="DataRouterState";de.createContext(!1);var U3=de.createContext({isTransitioning:!1});U3.displayName="ViewTransition";var tk=de.createContext(new Map);tk.displayName="Fetchers";var nk=de.createContext(null);nk.displayName="Await";var Ya=de.createContext(null);Ya.displayName="Navigation";var dp=de.createContext(null);dp.displayName="Location";var ko=de.createContext({outlet:null,matches:[],isDataRoute:!1});ko.displayName="Route";var Oy=de.createContext(null);Oy.displayName="RouteError";function ik(n,{relative:e}={}){di(pp(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=de.useContext(Ya),{hash:s,pathname:a,search:l}=gp(n,{relative:e}),c=a;return t!=="/"&&(c=a==="/"?t:xl([t,a])),i.createHref({pathname:c,search:l,hash:s})}function pp(){return de.useContext(dp)!=null}function To(){return di(pp(),"useLocation() may be used only in the context of a <Router> component."),de.useContext(dp).location}var H3="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function q3(n){de.useContext(Ya).static||de.useLayoutEffect(n)}function $m(){let{isDataRoute:n}=de.useContext(ko);return n?yk():sk()}function sk(){di(pp(),"useNavigate() may be used only in the context of a <Router> component.");let n=de.useContext(vf),{basename:e,navigator:t}=de.useContext(Ya),{matches:i}=de.useContext(ko),{pathname:s}=To(),a=JSON.stringify(F3(i)),l=de.useRef(!1);return q3(()=>{l.current=!0}),de.useCallback((h,f={})=>{if(Va(l.current,H3),!l.current)return;if(typeof h=="number"){t.go(h);return}let p=B3(h,JSON.parse(a),s,f.relative==="path");n==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:xl([e,p.pathname])),(f.replace?t.replace:t.push)(p,f.state,f)},[e,t,a,s,n])}de.createContext(null);function rk(){let{matches:n}=de.useContext(ko),e=n[n.length-1];return e?e.params:{}}function gp(n,{relative:e}={}){let{matches:t}=de.useContext(ko),{pathname:i}=To(),s=JSON.stringify(F3(t));return de.useMemo(()=>B3(n,JSON.parse(s),i,e==="path"),[n,s,i,e])}function ak(n,e){return W3(n,e)}function W3(n,e,t,i,s){di(pp(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=de.useContext(Ya),{matches:l}=de.useContext(ko),c=l[l.length-1],h=c?c.params:{},f=c?c.pathname:"/",p=c?c.pathnameBase:"/",m=c&&c.route;{let j=m&&m.path||"";V3(f,!m||j.endsWith("*")||j.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${j}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${j}"> to <Route path="${j==="/"?"*":`${j}/*`}">.`)}let b=To(),y;if(e){let j=typeof e=="string"?yf(e):e;di(p==="/"||j.pathname?.startsWith(p),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${j.pathname}" was given in the \`location\` prop.`),y=j}else y=b;let N=y.pathname||"/",E=N;if(p!=="/"){let j=p.replace(/^\//,"").split("/");E="/"+N.replace(/^\//,"").split("/").slice(j.length).join("/")}let k=I3(n,{pathname:E});Va(m||k!=null,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),Va(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let T=hk(k&&k.map(j=>Object.assign({},j,{params:Object.assign({},h,j.params),pathname:xl([p,a.encodeLocation?a.encodeLocation(j.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?p:xl([p,a.encodeLocation?a.encodeLocation(j.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:j.pathnameBase])})),l,t,i,s);return e&&T?de.createElement(dp.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...y},navigationType:"POP"}},T):T}function ok(){let n=mk(),e=JE(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i},a={padding:"2px 4px",backgroundColor:i},l=null;return console.error("Error handled by React Router default ErrorBoundary:",n),l=de.createElement(de.Fragment,null,de.createElement("p",null," Hey developer "),de.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",de.createElement("code",{style:a},"ErrorBoundary")," or"," ",de.createElement("code",{style:a},"errorElement")," prop on your route.")),de.createElement(de.Fragment,null,de.createElement("h2",null,"Unexpected Application Error!"),de.createElement("h3",{style:{fontStyle:"italic"}},e),t?de.createElement("pre",{style:s},t):null,l)}var lk=de.createElement(ok,null),ck=class extends de.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.onError?this.props.onError(n,e):console.error("React Router caught the following error during render",n)}render(){return this.state.error!==void 0?de.createElement(ko.Provider,{value:this.props.routeContext},de.createElement(Oy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function uk({routeContext:n,match:e,children:t}){let i=de.useContext(vf);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),de.createElement(ko.Provider,{value:n},t)}function hk(n,e=[],t=null,i=null,s=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let a=n,l=t?.errors;if(l!=null){let p=a.findIndex(m=>m.route.id&&l?.[m.route.id]!==void 0);di(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),a=a.slice(0,Math.min(a.length,p+1))}let c=!1,h=-1;if(t)for(let p=0;p<a.length;p++){let m=a[p];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(h=p),m.route.id){let{loaderData:b,errors:y}=t,N=m.route.loader&&!b.hasOwnProperty(m.route.id)&&(!y||y[m.route.id]===void 0);if(m.route.lazy||N){c=!0,h>=0?a=a.slice(0,h+1):a=[a[0]];break}}}let f=t&&i?(p,m)=>{i(p,{location:t.location,params:t.matches?.[0]?.params??{},unstable_pattern:ZE(t.matches),errorInfo:m})}:void 0;return a.reduceRight((p,m,b)=>{let y,N=!1,E=null,k=null;t&&(y=l&&m.route.id?l[m.route.id]:void 0,E=m.route.errorElement||lk,c&&(h<0&&b===0?(V3("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),N=!0,k=null):h===b&&(N=!0,k=m.route.hydrateFallbackElement||null)));let T=e.concat(a.slice(0,b+1)),j=()=>{let q;return y?q=E:N?q=k:m.route.Component?q=de.createElement(m.route.Component,null):m.route.element?q=m.route.element:q=p,de.createElement(uk,{match:m,routeContext:{outlet:p,matches:T,isDataRoute:t!=null},children:q})};return t&&(m.route.ErrorBoundary||m.route.errorElement||b===0)?de.createElement(ck,{location:t.location,revalidation:t.revalidation,component:E,error:y,children:j(),routeContext:{outlet:null,matches:T,isDataRoute:!0},onError:f}):j()},null)}function Iy(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function fk(n){let e=de.useContext(vf);return di(e,Iy(n)),e}function dk(n){let e=de.useContext(Ym);return di(e,Iy(n)),e}function pk(n){let e=de.useContext(ko);return di(e,Iy(n)),e}function Py(n){let e=pk(n),t=e.matches[e.matches.length-1];return di(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function gk(){return Py("useRouteId")}function mk(){let n=de.useContext(Oy),e=dk("useRouteError"),t=Py("useRouteError");return n!==void 0?n:e.errors?.[t]}function yk(){let{router:n}=fk("useNavigate"),e=Py("useNavigate"),t=de.useRef(!1);return q3(()=>{t.current=!0}),de.useCallback(async(s,a={})=>{Va(t.current,H3),t.current&&(typeof s=="number"?await n.navigate(s):await n.navigate(s,{fromRouteId:e,...a}))},[n,e])}var L_={};function V3(n,e,t){!e&&!L_[n]&&(L_[n]=!0,Va(!1,t))}de.memo(vk);function vk({routes:n,future:e,state:t,unstable_onError:i}){return W3(n,void 0,t,i,e)}function hl(n){di(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function bk({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:s,static:a=!1,unstable_useTransitions:l}){di(!pp(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=n.replace(/^\/*/,"/"),h=de.useMemo(()=>({basename:c,navigator:s,static:a,unstable_useTransitions:l,future:{}}),[c,s,a,l]);typeof t=="string"&&(t=yf(t));let{pathname:f="/",search:p="",hash:m="",state:b=null,key:y="default"}=t,N=de.useMemo(()=>{let E=Sl(f,c);return E==null?null:{location:{pathname:E,search:p,hash:m,state:b,key:y},navigationType:i}},[c,f,p,m,b,y,i]);return Va(N!=null,`<Router basename="${c}"> is not able to match the URL "${f}${p}${m}" because it does not start with the basename, so the <Router> won't render anything.`),N==null?null:de.createElement(Ya.Provider,{value:h},de.createElement(dp.Provider,{children:e,value:N}))}function _k({children:n,location:e}){return ak(q2(n),e)}function q2(n,e=[]){let t=[];return de.Children.forEach(n,(i,s)=>{if(!de.isValidElement(i))return;let a=[...e,s];if(i.type===de.Fragment){t.push.apply(t,q2(i.props.children,a));return}di(i.type===hl,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),di(!i.props.index||!i.props.children,"An index route cannot have child routes.");let l={id:i.props.id||a.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(l.children=q2(i.props.children,a)),t.push(l)}),t}var Xg="get",Kg="application/x-www-form-urlencoded";function Xm(n){return typeof HTMLElement<"u"&&n instanceof HTMLElement}function xk(n){return Xm(n)&&n.tagName.toLowerCase()==="button"}function wk(n){return Xm(n)&&n.tagName.toLowerCase()==="form"}function Sk(n){return Xm(n)&&n.tagName.toLowerCase()==="input"}function Nk(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function Ak(n,e){return n.button===0&&(!e||e==="_self")&&!Nk(n)}var xg=null;function Ck(){if(xg===null)try{new FormData(document.createElement("form"),0),xg=!1}catch{xg=!0}return xg}var Ek=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function j1(n){return n!=null&&!Ek.has(n)?(Va(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Kg}"`),null):n}function kk(n,e){let t,i,s,a,l;if(wk(n)){let c=n.getAttribute("action");i=c?Sl(c,e):null,t=n.getAttribute("method")||Xg,s=j1(n.getAttribute("enctype"))||Kg,a=new FormData(n)}else if(xk(n)||Sk(n)&&(n.type==="submit"||n.type==="image")){let c=n.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=n.getAttribute("formaction")||c.getAttribute("action");if(i=h?Sl(h,e):null,t=n.getAttribute("formmethod")||c.getAttribute("method")||Xg,s=j1(n.getAttribute("formenctype"))||j1(c.getAttribute("enctype"))||Kg,a=new FormData(c,n),!Ck()){let{name:f,type:p,value:m}=n;if(p==="image"){let b=f?`${f}.`:"";a.append(`${b}x`,"0"),a.append(`${b}y`,"0")}else f&&a.append(f,m)}}else{if(Xm(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Xg,i=null,s=Kg,l=n}return a&&s==="text/plain"&&(l=a,a=void 0),{action:i,method:t.toLowerCase(),encType:s,formData:a,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function jy(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Tk(n,e,t){let i=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return i.pathname==="/"?i.pathname=`_root.${t}`:e&&Sl(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${t}`,i}async function Lk(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Rk(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function Dk(n,e,t){let i=await Promise.all(n.map(async s=>{let a=e.routes[s.route.id];if(a){let l=await Lk(a,t);return l.links?l.links():[]}return[]}));return Pk(i.flat(1).filter(Rk).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function R_(n,e,t,i,s,a){let l=(h,f)=>t[f]?h.route.id!==t[f].route.id:!0,c=(h,f)=>t[f].pathname!==h.pathname||t[f].route.path?.endsWith("*")&&t[f].params["*"]!==h.params["*"];return a==="assets"?e.filter((h,f)=>l(h,f)||c(h,f)):a==="data"?e.filter((h,f)=>{let p=i.routes[h.route.id];if(!p||!p.hasLoader)return!1;if(l(h,f)||c(h,f))return!0;if(h.route.shouldRevalidate){let m=h.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof m=="boolean")return m}return!0}):[]}function Mk(n,e,{includeHydrateFallback:t}={}){return Ok(n.map(i=>{let s=e.routes[i.route.id];if(!s)return[];let a=[s.module];return s.clientActionModule&&(a=a.concat(s.clientActionModule)),s.clientLoaderModule&&(a=a.concat(s.clientLoaderModule)),t&&s.hydrateFallbackModule&&(a=a.concat(s.hydrateFallbackModule)),s.imports&&(a=a.concat(s.imports)),a}).flat(1))}function Ok(n){return[...new Set(n)]}function Ik(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function Pk(n,e){let t=new Set;return new Set(e),n.reduce((i,s)=>{let a=JSON.stringify(Ik(s));return t.has(a)||(t.add(a),i.push({key:a,link:s})),i},[])}function G3(){let n=de.useContext(vf);return jy(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function jk(){let n=de.useContext(Ym);return jy(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Fy=de.createContext(void 0);Fy.displayName="FrameworkContext";function Y3(){let n=de.useContext(Fy);return jy(n,"You must render this element inside a <HydratedRouter> element"),n}function Fk(n,e){let t=de.useContext(Fy),[i,s]=de.useState(!1),[a,l]=de.useState(!1),{onFocus:c,onBlur:h,onMouseEnter:f,onMouseLeave:p,onTouchStart:m}=e,b=de.useRef(null);de.useEffect(()=>{if(n==="render"&&l(!0),n==="viewport"){let E=T=>{T.forEach(j=>{l(j.isIntersecting)})},k=new IntersectionObserver(E,{threshold:.5});return b.current&&k.observe(b.current),()=>{k.disconnect()}}},[n]),de.useEffect(()=>{if(i){let E=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(E)}}},[i]);let y=()=>{s(!0)},N=()=>{s(!1),l(!1)};return t?n!=="intent"?[a,b,{}]:[a,b,{onFocus:dd(c,y),onBlur:dd(h,N),onMouseEnter:dd(f,y),onMouseLeave:dd(p,N),onTouchStart:dd(m,y)}]:[!1,b,{}]}function dd(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function Bk({page:n,...e}){let{router:t}=G3(),i=de.useMemo(()=>I3(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?de.createElement(Uk,{page:n,matches:i,...e}):null}function zk(n){let{manifest:e,routeModules:t}=Y3(),[i,s]=de.useState([]);return de.useEffect(()=>{let a=!1;return Dk(n,e,t).then(l=>{a||s(l)}),()=>{a=!0}},[n,e,t]),i}function Uk({page:n,matches:e,...t}){let i=To(),{manifest:s,routeModules:a}=Y3(),{basename:l}=G3(),{loaderData:c,matches:h}=jk(),f=de.useMemo(()=>R_(n,e,h,s,i,"data"),[n,e,h,s,i]),p=de.useMemo(()=>R_(n,e,h,s,i,"assets"),[n,e,h,s,i]),m=de.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let N=new Set,E=!1;if(e.forEach(T=>{let j=s.routes[T.route.id];!j||!j.hasLoader||(!f.some(q=>q.route.id===T.route.id)&&T.route.id in c&&a[T.route.id]?.shouldRevalidate||j.hasClientLoader?E=!0:N.add(T.route.id))}),N.size===0)return[];let k=Tk(n,l,"data");return E&&N.size>0&&k.searchParams.set("_routes",e.filter(T=>N.has(T.route.id)).map(T=>T.route.id).join(",")),[k.pathname+k.search]},[l,c,i,s,f,e,n,a]),b=de.useMemo(()=>Mk(p,s),[p,s]),y=zk(p);return de.createElement(de.Fragment,null,m.map(N=>de.createElement("link",{key:N,rel:"prefetch",as:"fetch",href:N,...t})),b.map(N=>de.createElement("link",{key:N,rel:"modulepreload",href:N,...t})),y.map(({key:N,link:E})=>de.createElement("link",{key:N,nonce:t.nonce,...E})))}function Hk(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var $3=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{$3&&(window.__reactRouterVersion="7.10.1")}catch{}function qk({basename:n,children:e,unstable_useTransitions:t,window:i}){let s=de.useRef();s.current==null&&(s.current=kE({window:i,v5Compat:!0}));let a=s.current,[l,c]=de.useState({action:a.action,location:a.location}),h=de.useCallback(f=>{t===!1?c(f):de.startTransition(()=>c(f))},[t]);return de.useLayoutEffect(()=>a.listen(h),[a,h]),de.createElement(bk,{basename:n,children:e,location:l.location,navigationType:l.action,navigator:a,unstable_useTransitions:t===!0})}var X3=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,hs=de.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:s,reloadDocument:a,replace:l,state:c,target:h,to:f,preventScrollReset:p,viewTransition:m,...b},y){let{basename:N,unstable_useTransitions:E}=de.useContext(Ya),k=typeof f=="string"&&X3.test(f),T,j=!1;if(typeof f=="string"&&k&&(T=f,$3))try{let ue=new URL(window.location.href),P=f.startsWith("//")?new URL(ue.protocol+f):new URL(f),M=Sl(P.pathname,N);P.origin===ue.origin&&M!=null?f=M+P.search+P.hash:j=!0}catch{Va(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let q=ik(f,{relative:s}),[H,V,oe]=Fk(i,b),ae=Yk(f,{replace:l,state:c,target:h,preventScrollReset:p,relative:s,viewTransition:m,unstable_useTransitions:E});function K(ue){e&&e(ue),ue.defaultPrevented||ae(ue)}let Y=de.createElement("a",{...b,...oe,href:T||q,onClick:j||a?e:K,ref:Hk(y,V),target:h,"data-discover":!k&&t==="render"?"true":void 0});return H&&!k?de.createElement(de.Fragment,null,Y,de.createElement(Bk,{page:q})):Y});hs.displayName="Link";var Wk=de.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:s=!1,style:a,to:l,viewTransition:c,children:h,...f},p){let m=gp(l,{relative:f.relative}),b=To(),y=de.useContext(Ym),{navigator:N,basename:E}=de.useContext(Ya),k=y!=null&&Jk(m)&&c===!0,T=N.encodeLocation?N.encodeLocation(m).pathname:m.pathname,j=b.pathname,q=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;t||(j=j.toLowerCase(),q=q?q.toLowerCase():null,T=T.toLowerCase()),q&&E&&(q=Sl(q,E)||q);const H=T!=="/"&&T.endsWith("/")?T.length-1:T.length;let V=j===T||!s&&j.startsWith(T)&&j.charAt(H)==="/",oe=q!=null&&(q===T||!s&&q.startsWith(T)&&q.charAt(T.length)==="/"),ae={isActive:V,isPending:oe,isTransitioning:k},K=V?e:void 0,Y;typeof i=="function"?Y=i(ae):Y=[i,V?"active":null,oe?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let ue=typeof a=="function"?a(ae):a;return de.createElement(hs,{...f,"aria-current":K,className:Y,ref:p,style:ue,to:l,viewTransition:c},typeof h=="function"?h(ae):h)});Wk.displayName="NavLink";var Vk=de.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:s,state:a,method:l=Xg,action:c,onSubmit:h,relative:f,preventScrollReset:p,viewTransition:m,...b},y)=>{let{unstable_useTransitions:N}=de.useContext(Ya),E=Kk(),k=Qk(c,{relative:f}),T=l.toLowerCase()==="get"?"get":"post",j=typeof c=="string"&&X3.test(c),q=H=>{if(h&&h(H),H.defaultPrevented)return;H.preventDefault();let V=H.nativeEvent.submitter,oe=V?.getAttribute("formmethod")||l,ae=()=>E(V||H.currentTarget,{fetcherKey:e,method:oe,navigate:t,replace:s,state:a,relative:f,preventScrollReset:p,viewTransition:m});N&&t!==!1?de.startTransition(()=>ae()):ae()};return de.createElement("form",{ref:y,method:T,action:k,onSubmit:i?h:q,...b,"data-discover":!j&&n==="render"?"true":void 0})});Vk.displayName="Form";function Gk(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function K3(n){let e=de.useContext(vf);return di(e,Gk(n)),e}function Yk(n,{target:e,replace:t,state:i,preventScrollReset:s,relative:a,viewTransition:l,unstable_useTransitions:c}={}){let h=$m(),f=To(),p=gp(n,{relative:a});return de.useCallback(m=>{if(Ak(m,e)){m.preventDefault();let b=t!==void 0?t:Wd(f)===Wd(p),y=()=>h(n,{replace:b,state:i,preventScrollReset:s,relative:a,viewTransition:l});c?de.startTransition(()=>y()):y()}},[f,h,p,t,i,e,n,s,a,l,c])}var $k=0,Xk=()=>`__${String(++$k)}__`;function Kk(){let{router:n}=K3("useSubmit"),{basename:e}=de.useContext(Ya),t=gk(),i=n.fetch,s=n.navigate;return de.useCallback(async(a,l={})=>{let{action:c,method:h,encType:f,formData:p,body:m}=kk(a,e);if(l.navigate===!1){let b=l.fetcherKey||Xk();await i(b,t,l.action||c,{preventScrollReset:l.preventScrollReset,formData:p,body:m,formMethod:l.method||h,formEncType:l.encType||f,flushSync:l.flushSync})}else await s(l.action||c,{preventScrollReset:l.preventScrollReset,formData:p,body:m,formMethod:l.method||h,formEncType:l.encType||f,replace:l.replace,state:l.state,fromRouteId:t,flushSync:l.flushSync,viewTransition:l.viewTransition})},[i,s,e,t])}function Qk(n,{relative:e}={}){let{basename:t}=de.useContext(Ya),i=de.useContext(ko);di(i,"useFormAction must be used inside a RouteContext");let[s]=i.matches.slice(-1),a={...gp(n||".",{relative:e})},l=To();if(n==null){a.search=l.search;let c=new URLSearchParams(a.search),h=c.getAll("index");if(h.some(p=>p==="")){c.delete("index"),h.filter(m=>m).forEach(m=>c.append("index",m));let p=c.toString();a.search=p?`?${p}`:""}}return(!n||n===".")&&s.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(a.pathname=a.pathname==="/"?t:xl([t,a.pathname])),Wd(a)}function Jk(n,{relative:e}={}){let t=de.useContext(U3);di(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=K3("useViewTransitionState"),s=gp(n,{relative:e});if(!t.isTransitioning)return!1;let a=Sl(t.currentLocation.pathname,i)||t.currentLocation.pathname,l=Sl(t.nextLocation.pathname,i)||t.nextLocation.pathname;return um(s.pathname,l)!=null||um(s.pathname,a)!=null}const Zk="America/Phoenix",By=n=>new Intl.DateTimeFormat("en-CA",{timeZone:Zk,year:"numeric",month:"2-digit",day:"2-digit"}).format(n),D_=()=>{const n=new Date;return Array.from({length:5},(e,t)=>By(new Date(n.getTime()-t*864e5)))},M_=n=>{if(!n)return"";if(/^\d{4}-\d{2}-\d{2}$/.test(n))return n;const e=Date.parse(n);return isNaN(e)?String(n):By(new Date(e))},O_=n=>[...n].sort((e,t)=>new Date(t)-new Date(e)),Q3=de.createContext(null);function eT({children:n}){const[e,t]=de.useState(()=>{try{const l=JSON.parse(localStorage.getItem("downtimeLoggerDates")||"[]");return Array.isArray(l)&&l.length?l.map(M_):D_()}catch{return D_()}});de.useEffect(()=>{localStorage.setItem("downtimeLoggerDates",JSON.stringify(e))},[e]);const i=(l,c)=>{const h=M_(c);t(f=>{if(!h||f[l]===h)return f;const p=[...f];return p[l]=h,O_(Array.from(new Set(p)))})},s=l=>{const c=Object.keys(l||{});if(!c.length)return;const h=O_(c).slice(0,5);t(h)},a=de.useMemo(()=>({dates:e,setDates:t,updateDateAtIndex:i,replaceDatesFromDataKeys:s,toAzYmd:By}),[e]);return A.jsx(Q3.Provider,{value:a,children:n})}function J3(){const n=de.useContext(Q3);if(!n)throw new Error("useDates must be used within DatesProvider");return n}function mp(n){return n+.5|0}const xc=(n,e,t)=>Math.max(Math.min(n,t),e);function Ed(n){return xc(mp(n*2.55),0,255)}function Cc(n){return xc(mp(n*255),0,255)}function pl(n){return xc(mp(n/2.55)/100,0,1)}function I_(n){return xc(mp(n*100),0,100)}const ia={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},W2=[..."0123456789ABCDEF"],tT=n=>W2[n&15],nT=n=>W2[(n&240)>>4]+W2[n&15],wg=n=>(n&240)>>4===(n&15),iT=n=>wg(n.r)&&wg(n.g)&&wg(n.b)&&wg(n.a);function sT(n){var e=n.length,t;return n[0]==="#"&&(e===4||e===5?t={r:255&ia[n[1]]*17,g:255&ia[n[2]]*17,b:255&ia[n[3]]*17,a:e===5?ia[n[4]]*17:255}:(e===7||e===9)&&(t={r:ia[n[1]]<<4|ia[n[2]],g:ia[n[3]]<<4|ia[n[4]],b:ia[n[5]]<<4|ia[n[6]],a:e===9?ia[n[7]]<<4|ia[n[8]]:255})),t}const rT=(n,e)=>n<255?e(n):"";function aT(n){var e=iT(n)?tT:nT;return n?"#"+e(n.r)+e(n.g)+e(n.b)+rT(n.a,e):void 0}const oT=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Z3(n,e,t){const i=e*Math.min(t,1-t),s=(a,l=(a+n/30)%12)=>t-i*Math.max(Math.min(l-3,9-l,1),-1);return[s(0),s(8),s(4)]}function lT(n,e,t){const i=(s,a=(s+n/60)%6)=>t-t*e*Math.max(Math.min(a,4-a,1),0);return[i(5),i(3),i(1)]}function cT(n,e,t){const i=Z3(n,1,.5);let s;for(e+t>1&&(s=1/(e+t),e*=s,t*=s),s=0;s<3;s++)i[s]*=1-e-t,i[s]+=e;return i}function uT(n,e,t,i,s){return n===s?(e-t)/i+(e<t?6:0):e===s?(t-n)/i+2:(n-e)/i+4}function zy(n){const t=n.r/255,i=n.g/255,s=n.b/255,a=Math.max(t,i,s),l=Math.min(t,i,s),c=(a+l)/2;let h,f,p;return a!==l&&(p=a-l,f=c>.5?p/(2-a-l):p/(a+l),h=uT(t,i,s,p,a),h=h*60+.5),[h|0,f||0,c]}function Uy(n,e,t,i){return(Array.isArray(e)?n(e[0],e[1],e[2]):n(e,t,i)).map(Cc)}function Hy(n,e,t){return Uy(Z3,n,e,t)}function hT(n,e,t){return Uy(cT,n,e,t)}function fT(n,e,t){return Uy(lT,n,e,t)}function e4(n){return(n%360+360)%360}function dT(n){const e=oT.exec(n);let t=255,i;if(!e)return;e[5]!==i&&(t=e[6]?Ed(+e[5]):Cc(+e[5]));const s=e4(+e[2]),a=+e[3]/100,l=+e[4]/100;return e[1]==="hwb"?i=hT(s,a,l):e[1]==="hsv"?i=fT(s,a,l):i=Hy(s,a,l),{r:i[0],g:i[1],b:i[2],a:t}}function pT(n,e){var t=zy(n);t[0]=e4(t[0]+e),t=Hy(t),n.r=t[0],n.g=t[1],n.b=t[2]}function gT(n){if(!n)return;const e=zy(n),t=e[0],i=I_(e[1]),s=I_(e[2]);return n.a<255?`hsla(${t}, ${i}%, ${s}%, ${pl(n.a)})`:`hsl(${t}, ${i}%, ${s}%)`}const P_={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},j_={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function mT(){const n={},e=Object.keys(j_),t=Object.keys(P_);let i,s,a,l,c;for(i=0;i<e.length;i++){for(l=c=e[i],s=0;s<t.length;s++)a=t[s],c=c.replace(a,P_[a]);a=parseInt(j_[l],16),n[c]=[a>>16&255,a>>8&255,a&255]}return n}let Sg;function yT(n){Sg||(Sg=mT(),Sg.transparent=[0,0,0,0]);const e=Sg[n.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const vT=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function bT(n){const e=vT.exec(n);let t=255,i,s,a;if(e){if(e[7]!==i){const l=+e[7];t=e[8]?Ed(l):xc(l*255,0,255)}return i=+e[1],s=+e[3],a=+e[5],i=255&(e[2]?Ed(i):xc(i,0,255)),s=255&(e[4]?Ed(s):xc(s,0,255)),a=255&(e[6]?Ed(a):xc(a,0,255)),{r:i,g:s,b:a,a:t}}}function _T(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${pl(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const F1=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,Fh=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function xT(n,e,t){const i=Fh(pl(n.r)),s=Fh(pl(n.g)),a=Fh(pl(n.b));return{r:Cc(F1(i+t*(Fh(pl(e.r))-i))),g:Cc(F1(s+t*(Fh(pl(e.g))-s))),b:Cc(F1(a+t*(Fh(pl(e.b))-a))),a:n.a+t*(e.a-n.a)}}function Ng(n,e,t){if(n){let i=zy(n);i[e]=Math.max(0,Math.min(i[e]+i[e]*t,e===0?360:1)),i=Hy(i),n.r=i[0],n.g=i[1],n.b=i[2]}}function t4(n,e){return n&&Object.assign(e||{},n)}function F_(n){var e={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(e={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(e.a=Cc(n[3]))):(e=t4(n,{r:0,g:0,b:0,a:1}),e.a=Cc(e.a)),e}function wT(n){return n.charAt(0)==="r"?bT(n):dT(n)}class Vd{constructor(e){if(e instanceof Vd)return e;const t=typeof e;let i;t==="object"?i=F_(e):t==="string"&&(i=sT(e)||yT(e)||wT(e)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var e=t4(this._rgb);return e&&(e.a=pl(e.a)),e}set rgb(e){this._rgb=F_(e)}rgbString(){return this._valid?_T(this._rgb):void 0}hexString(){return this._valid?aT(this._rgb):void 0}hslString(){return this._valid?gT(this._rgb):void 0}mix(e,t){if(e){const i=this.rgb,s=e.rgb;let a;const l=t===a?.5:t,c=2*l-1,h=i.a-s.a,f=((c*h===-1?c:(c+h)/(1+c*h))+1)/2;a=1-f,i.r=255&f*i.r+a*s.r+.5,i.g=255&f*i.g+a*s.g+.5,i.b=255&f*i.b+a*s.b+.5,i.a=l*i.a+(1-l)*s.a,this.rgb=i}return this}interpolate(e,t){return e&&(this._rgb=xT(this._rgb,e._rgb,t)),this}clone(){return new Vd(this.rgb)}alpha(e){return this._rgb.a=Cc(e),this}clearer(e){const t=this._rgb;return t.a*=1-e,this}greyscale(){const e=this._rgb,t=mp(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=t,this}opaquer(e){const t=this._rgb;return t.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Ng(this._rgb,2,e),this}darken(e){return Ng(this._rgb,2,-e),this}saturate(e){return Ng(this._rgb,1,e),this}desaturate(e){return Ng(this._rgb,1,-e),this}rotate(e){return pT(this._rgb,e),this}}function rl(){}const ST=(()=>{let n=0;return()=>n++})();function Sn(n){return n==null}function Xi(n){if(Array.isArray&&Array.isArray(n))return!0;const e=Object.prototype.toString.call(n);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function gn(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function aa(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function yo(n,e){return aa(n)?n:e}function $t(n,e){return typeof n>"u"?e:n}const NT=(n,e)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100:+n/e,n4=(n,e)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*e:+n;function Zn(n,e,t){if(n&&typeof n.call=="function")return n.apply(t,e)}function Tn(n,e,t,i){let s,a,l;if(Xi(n))for(a=n.length,s=0;s<a;s++)e.call(t,n[s],s);else if(gn(n))for(l=Object.keys(n),a=l.length,s=0;s<a;s++)e.call(t,n[l[s]],l[s])}function hm(n,e){let t,i,s,a;if(!n||!e||n.length!==e.length)return!1;for(t=0,i=n.length;t<i;++t)if(s=n[t],a=e[t],s.datasetIndex!==a.datasetIndex||s.index!==a.index)return!1;return!0}function fm(n){if(Xi(n))return n.map(fm);if(gn(n)){const e=Object.create(null),t=Object.keys(n),i=t.length;let s=0;for(;s<i;++s)e[t[s]]=fm(n[t[s]]);return e}return n}function i4(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function AT(n,e,t,i){if(!i4(n))return;const s=e[n],a=t[n];gn(s)&&gn(a)?Gd(s,a,i):e[n]=fm(a)}function Gd(n,e,t){const i=Xi(e)?e:[e],s=i.length;if(!gn(n))return n;t=t||{};const a=t.merger||AT;let l;for(let c=0;c<s;++c){if(l=i[c],!gn(l))continue;const h=Object.keys(l);for(let f=0,p=h.length;f<p;++f)a(h[f],n,l,t)}return n}function Ld(n,e){return Gd(n,e,{merger:CT})}function CT(n,e,t){if(!i4(n))return;const i=e[n],s=t[n];gn(i)&&gn(s)?Ld(i,s):Object.prototype.hasOwnProperty.call(e,n)||(e[n]=fm(s))}const B_={"":n=>n,x:n=>n.x,y:n=>n.y};function ET(n){const e=n.split("."),t=[];let i="";for(const s of e)i+=s,i.endsWith("\\")?i=i.slice(0,-1)+".":(t.push(i),i="");return t}function kT(n){const e=ET(n);return t=>{for(const i of e){if(i==="")break;t=t&&t[i]}return t}}function Mu(n,e){return(B_[e]||(B_[e]=kT(e)))(n)}function qy(n){return n.charAt(0).toUpperCase()+n.slice(1)}const Yd=n=>typeof n<"u",Mc=n=>typeof n=="function",z_=(n,e)=>{if(n.size!==e.size)return!1;for(const t of n)if(!e.has(t))return!1;return!0};function TT(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const Rn=Math.PI,Ni=2*Rn,LT=Ni+Rn,dm=Number.POSITIVE_INFINITY,RT=Rn/180,Ji=Rn/2,vu=Rn/4,U_=Rn*2/3,s4=Math.log10,No=Math.sign;function Rd(n,e,t){return Math.abs(n-e)<t}function H_(n){const e=Math.round(n);n=Rd(n,e,n/1e3)?e:n;const t=Math.pow(10,Math.floor(s4(n))),i=n/t;return(i<=1?1:i<=2?2:i<=5?5:10)*t}function DT(n){const e=[],t=Math.sqrt(n);let i;for(i=1;i<t;i++)n%i===0&&(e.push(i),e.push(n/i));return t===(t|0)&&e.push(t),e.sort((s,a)=>s-a).pop(),e}function MT(n){return typeof n=="symbol"||typeof n=="object"&&n!==null&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}function $d(n){return!MT(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function OT(n,e){const t=Math.round(n);return t-e<=n&&t+e>=n}function IT(n,e,t){let i,s,a;for(i=0,s=n.length;i<s;i++)a=n[i][t],isNaN(a)||(e.min=Math.min(e.min,a),e.max=Math.max(e.max,a))}function ml(n){return n*(Rn/180)}function PT(n){return n*(180/Rn)}function q_(n){if(!aa(n))return;let e=1,t=0;for(;Math.round(n*e)/e!==n;)e*=10,t++;return t}function r4(n,e){const t=e.x-n.x,i=e.y-n.y,s=Math.sqrt(t*t+i*i);let a=Math.atan2(i,t);return a<-.5*Rn&&(a+=Ni),{angle:a,distance:s}}function V2(n,e){return Math.sqrt(Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2))}function jT(n,e){return(n-e+LT)%Ni-Rn}function Fa(n){return(n%Ni+Ni)%Ni}function Xd(n,e,t,i){const s=Fa(n),a=Fa(e),l=Fa(t),c=Fa(a-s),h=Fa(l-s),f=Fa(s-a),p=Fa(s-l);return s===a||s===l||i&&a===l||c>h&&f<p}function Rs(n,e,t){return Math.max(e,Math.min(t,n))}function FT(n){return Rs(n,-32768,32767)}function wc(n,e,t,i=1e-6){return n>=Math.min(e,t)-i&&n<=Math.max(e,t)+i}function Wy(n,e,t){t=t||(l=>n[l]<e);let i=n.length-1,s=0,a;for(;i-s>1;)a=s+i>>1,t(a)?s=a:i=a;return{lo:s,hi:i}}const ku=(n,e,t,i)=>Wy(n,t,i?s=>{const a=n[s][e];return a<t||a===t&&n[s+1][e]===t}:s=>n[s][e]<t),BT=(n,e,t)=>Wy(n,t,i=>n[i][e]>=t);function zT(n,e,t){let i=0,s=n.length;for(;i<s&&n[i]<e;)i++;for(;s>i&&n[s-1]>t;)s--;return i>0||s<n.length?n.slice(i,s):n}const a4=["push","pop","shift","splice","unshift"];function UT(n,e){if(n._chartjs){n._chartjs.listeners.push(e);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),a4.forEach(t=>{const i="_onData"+qy(t),s=n[t];Object.defineProperty(n,t,{configurable:!0,enumerable:!1,value(...a){const l=s.apply(this,a);return n._chartjs.listeners.forEach(c=>{typeof c[i]=="function"&&c[i](...a)}),l}})})}function W_(n,e){const t=n._chartjs;if(!t)return;const i=t.listeners,s=i.indexOf(e);s!==-1&&i.splice(s,1),!(i.length>0)&&(a4.forEach(a=>{delete n[a]}),delete n._chartjs)}function o4(n){const e=new Set(n);return e.size===n.length?n:Array.from(e)}const l4=(function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame})();function c4(n,e){let t=[],i=!1;return function(...s){t=s,i||(i=!0,l4.call(window,()=>{i=!1,n.apply(e,t)}))}}function HT(n,e){let t;return function(...i){return e?(clearTimeout(t),t=setTimeout(n,e,i)):n.apply(this,i),e}}const Vy=n=>n==="start"?"left":n==="end"?"right":"center",Ts=(n,e,t)=>n==="start"?e:n==="end"?t:(e+t)/2,qT=(n,e,t,i)=>n===(i?"left":"right")?t:n==="center"?(e+t)/2:e;function WT(n,e,t){const i=e.length;let s=0,a=i;if(n._sorted){const{iScale:l,vScale:c,_parsed:h}=n,f=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null,p=l.axis,{min:m,max:b,minDefined:y,maxDefined:N}=l.getUserBounds();if(y){if(s=Math.min(ku(h,p,m).lo,t?i:ku(e,p,l.getPixelForValue(m)).lo),f){const E=h.slice(0,s+1).reverse().findIndex(k=>!Sn(k[c.axis]));s-=Math.max(0,E)}s=Rs(s,0,i-1)}if(N){let E=Math.max(ku(h,l.axis,b,!0).hi+1,t?0:ku(e,p,l.getPixelForValue(b),!0).hi+1);if(f){const k=h.slice(E-1).findIndex(T=>!Sn(T[c.axis]));E+=Math.max(0,k)}a=Rs(E,s,i)-s}else a=i-s}return{start:s,count:a}}function VT(n){const{xScale:e,yScale:t,_scaleRanges:i}=n,s={xmin:e.min,xmax:e.max,ymin:t.min,ymax:t.max};if(!i)return n._scaleRanges=s,!0;const a=i.xmin!==e.min||i.xmax!==e.max||i.ymin!==t.min||i.ymax!==t.max;return Object.assign(i,s),a}const Ag=n=>n===0||n===1,V_=(n,e,t)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-e)*Ni/t)),G_=(n,e,t)=>Math.pow(2,-10*n)*Math.sin((n-e)*Ni/t)+1,Dd={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*Ji)+1,easeOutSine:n=>Math.sin(n*Ji),easeInOutSine:n=>-.5*(Math.cos(Rn*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>Ag(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>Ag(n)?n:V_(n,.075,.3),easeOutElastic:n=>Ag(n)?n:G_(n,.075,.3),easeInOutElastic(n){return Ag(n)?n:n<.5?.5*V_(n*2,.1125,.45):.5+.5*G_(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let e=1.70158;return(n/=.5)<1?.5*(n*n*(((e*=1.525)+1)*n-e)):.5*((n-=2)*n*(((e*=1.525)+1)*n+e)+2)},easeInBounce:n=>1-Dd.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?Dd.easeInBounce(n*2)*.5:Dd.easeOutBounce(n*2-1)*.5+.5};function Gy(n){if(n&&typeof n=="object"){const e=n.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function Y_(n){return Gy(n)?n:new Vd(n)}function B1(n){return Gy(n)?n:new Vd(n).saturate(.5).darken(.1).hexString()}const GT=["x","y","borderWidth","radius","tension"],YT=["color","borderColor","backgroundColor"];function $T(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),n.set("animations",{colors:{type:"color",properties:YT},numbers:{type:"number",properties:GT}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function XT(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const $_=new Map;function KT(n,e){e=e||{};const t=n+JSON.stringify(e);let i=$_.get(t);return i||(i=new Intl.NumberFormat(n,e),$_.set(t,i)),i}function Yy(n,e,t){return KT(e,t).format(n)}const QT={values(n){return Xi(n)?n:""+n},numeric(n,e,t){if(n===0)return"0";const i=this.chart.options.locale;let s,a=n;if(t.length>1){const f=Math.max(Math.abs(t[0].value),Math.abs(t[t.length-1].value));(f<1e-4||f>1e15)&&(s="scientific"),a=JT(n,t)}const l=s4(Math.abs(a)),c=isNaN(l)?1:Math.max(Math.min(-1*Math.floor(l),20),0),h={notation:s,minimumFractionDigits:c,maximumFractionDigits:c};return Object.assign(h,this.options.ticks.format),Yy(n,i,h)}};function JT(n,e){let t=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(t)>=1&&n!==Math.floor(n)&&(t=n-Math.floor(n)),t}var u4={formatters:QT};function ZT(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:u4.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const Ou=Object.create(null),G2=Object.create(null);function Md(n,e){if(!e)return n;const t=e.split(".");for(let i=0,s=t.length;i<s;++i){const a=t[i];n=n[a]||(n[a]=Object.create(null))}return n}function z1(n,e,t){return typeof e=="string"?Gd(Md(n,e),t):Gd(Md(n,""),e)}class e8{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,s)=>B1(s.backgroundColor),this.hoverBorderColor=(i,s)=>B1(s.borderColor),this.hoverColor=(i,s)=>B1(s.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return z1(this,e,t)}get(e){return Md(this,e)}describe(e,t){return z1(G2,e,t)}override(e,t){return z1(Ou,e,t)}route(e,t,i,s){const a=Md(this,e),l=Md(this,i),c="_"+t;Object.defineProperties(a,{[c]:{value:a[t],writable:!0},[t]:{enumerable:!0,get(){const h=this[c],f=l[s];return gn(h)?Object.assign({},f,h):$t(h,f)},set(h){this[c]=h}}})}apply(e){e.forEach(t=>t(this))}}var Mi=new e8({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[$T,XT,ZT]);function t8(n){return!n||Sn(n.size)||Sn(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function X_(n,e,t,i,s){let a=e[s];return a||(a=e[s]=n.measureText(s).width,t.push(s)),a>i&&(i=a),i}function bu(n,e,t){const i=n.currentDevicePixelRatio,s=t!==0?Math.max(t/2,.5):0;return Math.round((e-s)*i)/i+s}function K_(n,e){!e&&!n||(e=e||n.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,n.width,n.height),e.restore())}function Y2(n,e,t,i){h4(n,e,t,i,null)}function h4(n,e,t,i,s){let a,l,c,h,f,p,m,b;const y=e.pointStyle,N=e.rotation,E=e.radius;let k=(N||0)*RT;if(y&&typeof y=="object"&&(a=y.toString(),a==="[object HTMLImageElement]"||a==="[object HTMLCanvasElement]")){n.save(),n.translate(t,i),n.rotate(k),n.drawImage(y,-y.width/2,-y.height/2,y.width,y.height),n.restore();return}if(!(isNaN(E)||E<=0)){switch(n.beginPath(),y){default:s?n.ellipse(t,i,s/2,E,0,0,Ni):n.arc(t,i,E,0,Ni),n.closePath();break;case"triangle":p=s?s/2:E,n.moveTo(t+Math.sin(k)*p,i-Math.cos(k)*E),k+=U_,n.lineTo(t+Math.sin(k)*p,i-Math.cos(k)*E),k+=U_,n.lineTo(t+Math.sin(k)*p,i-Math.cos(k)*E),n.closePath();break;case"rectRounded":f=E*.516,h=E-f,l=Math.cos(k+vu)*h,m=Math.cos(k+vu)*(s?s/2-f:h),c=Math.sin(k+vu)*h,b=Math.sin(k+vu)*(s?s/2-f:h),n.arc(t-m,i-c,f,k-Rn,k-Ji),n.arc(t+b,i-l,f,k-Ji,k),n.arc(t+m,i+c,f,k,k+Ji),n.arc(t-b,i+l,f,k+Ji,k+Rn),n.closePath();break;case"rect":if(!N){h=Math.SQRT1_2*E,p=s?s/2:h,n.rect(t-p,i-h,2*p,2*h);break}k+=vu;case"rectRot":m=Math.cos(k)*(s?s/2:E),l=Math.cos(k)*E,c=Math.sin(k)*E,b=Math.sin(k)*(s?s/2:E),n.moveTo(t-m,i-c),n.lineTo(t+b,i-l),n.lineTo(t+m,i+c),n.lineTo(t-b,i+l),n.closePath();break;case"crossRot":k+=vu;case"cross":m=Math.cos(k)*(s?s/2:E),l=Math.cos(k)*E,c=Math.sin(k)*E,b=Math.sin(k)*(s?s/2:E),n.moveTo(t-m,i-c),n.lineTo(t+m,i+c),n.moveTo(t+b,i-l),n.lineTo(t-b,i+l);break;case"star":m=Math.cos(k)*(s?s/2:E),l=Math.cos(k)*E,c=Math.sin(k)*E,b=Math.sin(k)*(s?s/2:E),n.moveTo(t-m,i-c),n.lineTo(t+m,i+c),n.moveTo(t+b,i-l),n.lineTo(t-b,i+l),k+=vu,m=Math.cos(k)*(s?s/2:E),l=Math.cos(k)*E,c=Math.sin(k)*E,b=Math.sin(k)*(s?s/2:E),n.moveTo(t-m,i-c),n.lineTo(t+m,i+c),n.moveTo(t+b,i-l),n.lineTo(t-b,i+l);break;case"line":l=s?s/2:Math.cos(k)*E,c=Math.sin(k)*E,n.moveTo(t-l,i-c),n.lineTo(t+l,i+c);break;case"dash":n.moveTo(t,i),n.lineTo(t+Math.cos(k)*(s?s/2:E),i+Math.sin(k)*E);break;case!1:n.closePath();break}n.fill(),e.borderWidth>0&&n.stroke()}}function Kd(n,e,t){return t=t||.5,!e||n&&n.x>e.left-t&&n.x<e.right+t&&n.y>e.top-t&&n.y<e.bottom+t}function $y(n,e){n.save(),n.beginPath(),n.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),n.clip()}function Xy(n){n.restore()}function n8(n,e,t,i,s){if(!e)return n.lineTo(t.x,t.y);if(s==="middle"){const a=(e.x+t.x)/2;n.lineTo(a,e.y),n.lineTo(a,t.y)}else s==="after"!=!!i?n.lineTo(e.x,t.y):n.lineTo(t.x,e.y);n.lineTo(t.x,t.y)}function i8(n,e,t,i){if(!e)return n.lineTo(t.x,t.y);n.bezierCurveTo(i?e.cp1x:e.cp2x,i?e.cp1y:e.cp2y,i?t.cp2x:t.cp1x,i?t.cp2y:t.cp1y,t.x,t.y)}function s8(n,e){e.translation&&n.translate(e.translation[0],e.translation[1]),Sn(e.rotation)||n.rotate(e.rotation),e.color&&(n.fillStyle=e.color),e.textAlign&&(n.textAlign=e.textAlign),e.textBaseline&&(n.textBaseline=e.textBaseline)}function r8(n,e,t,i,s){if(s.strikethrough||s.underline){const a=n.measureText(i),l=e-a.actualBoundingBoxLeft,c=e+a.actualBoundingBoxRight,h=t-a.actualBoundingBoxAscent,f=t+a.actualBoundingBoxDescent,p=s.strikethrough?(h+f)/2:f;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=s.decorationWidth||2,n.moveTo(l,p),n.lineTo(c,p),n.stroke()}}function a8(n,e){const t=n.fillStyle;n.fillStyle=e.color,n.fillRect(e.left,e.top,e.width,e.height),n.fillStyle=t}function Qd(n,e,t,i,s,a={}){const l=Xi(e)?e:[e],c=a.strokeWidth>0&&a.strokeColor!=="";let h,f;for(n.save(),n.font=s.string,s8(n,a),h=0;h<l.length;++h)f=l[h],a.backdrop&&a8(n,a.backdrop),c&&(a.strokeColor&&(n.strokeStyle=a.strokeColor),Sn(a.strokeWidth)||(n.lineWidth=a.strokeWidth),n.strokeText(f,t,i,a.maxWidth)),n.fillText(f,t,i,a.maxWidth),r8(n,t,i,f,a),i+=Number(s.lineHeight);n.restore()}function pm(n,e){const{x:t,y:i,w:s,h:a,radius:l}=e;n.arc(t+l.topLeft,i+l.topLeft,l.topLeft,1.5*Rn,Rn,!0),n.lineTo(t,i+a-l.bottomLeft),n.arc(t+l.bottomLeft,i+a-l.bottomLeft,l.bottomLeft,Rn,Ji,!0),n.lineTo(t+s-l.bottomRight,i+a),n.arc(t+s-l.bottomRight,i+a-l.bottomRight,l.bottomRight,Ji,0,!0),n.lineTo(t+s,i+l.topRight),n.arc(t+s-l.topRight,i+l.topRight,l.topRight,0,-Ji,!0),n.lineTo(t+l.topLeft,i)}const o8=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,l8=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function c8(n,e){const t=(""+n).match(o8);if(!t||t[1]==="normal")return e*1.2;switch(n=+t[2],t[3]){case"px":return n;case"%":n/=100;break}return e*n}const u8=n=>+n||0;function Ky(n,e){const t={},i=gn(e),s=i?Object.keys(e):e,a=gn(n)?i?l=>$t(n[l],n[e[l]]):l=>n[l]:()=>n;for(const l of s)t[l]=u8(a(l));return t}function f4(n){return Ky(n,{top:"y",right:"x",bottom:"y",left:"x"})}function Xh(n){return Ky(n,["topLeft","topRight","bottomLeft","bottomRight"])}function oa(n){const e=f4(n);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Ds(n,e){n=n||{},e=e||Mi.font;let t=$t(n.size,e.size);typeof t=="string"&&(t=parseInt(t,10));let i=$t(n.style,e.style);i&&!(""+i).match(l8)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const s={family:$t(n.family,e.family),lineHeight:c8($t(n.lineHeight,e.lineHeight),t),size:t,style:i,weight:$t(n.weight,e.weight),string:""};return s.string=t8(s),s}function Cg(n,e,t,i){let s,a,l;for(s=0,a=n.length;s<a;++s)if(l=n[s],l!==void 0&&l!==void 0)return l}function h8(n,e,t){const{min:i,max:s}=n,a=n4(e,(s-i)/2),l=(c,h)=>t&&c===0?0:c+h;return{min:l(i,-Math.abs(a)),max:l(s,a)}}function qu(n,e){return Object.assign(Object.create(n),e)}function Qy(n,e=[""],t,i,s=()=>n[0]){const a=t||n;typeof i>"u"&&(i=m4("_fallback",n));const l={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:a,_fallback:i,_getTarget:s,override:c=>Qy([c,...n],e,a,i)};return new Proxy(l,{deleteProperty(c,h){return delete c[h],delete c._keys,delete n[0][h],!0},get(c,h){return p4(c,h,()=>b8(h,e,n,c))},getOwnPropertyDescriptor(c,h){return Reflect.getOwnPropertyDescriptor(c._scopes[0],h)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(c,h){return J_(c).includes(h)},ownKeys(c){return J_(c)},set(c,h,f){const p=c._storage||(c._storage=s());return c[h]=p[h]=f,delete c._keys,!0}})}function lf(n,e,t,i){const s={_cacheable:!1,_proxy:n,_context:e,_subProxy:t,_stack:new Set,_descriptors:d4(n,i),setContext:a=>lf(n,a,t,i),override:a=>lf(n.override(a),e,t,i)};return new Proxy(s,{deleteProperty(a,l){return delete a[l],delete n[l],!0},get(a,l,c){return p4(a,l,()=>d8(a,l,c))},getOwnPropertyDescriptor(a,l){return a._descriptors.allKeys?Reflect.has(n,l)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,l)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(a,l){return Reflect.has(n,l)},ownKeys(){return Reflect.ownKeys(n)},set(a,l,c){return n[l]=c,delete a[l],!0}})}function d4(n,e={scriptable:!0,indexable:!0}){const{_scriptable:t=e.scriptable,_indexable:i=e.indexable,_allKeys:s=e.allKeys}=n;return{allKeys:s,scriptable:t,indexable:i,isScriptable:Mc(t)?t:()=>t,isIndexable:Mc(i)?i:()=>i}}const f8=(n,e)=>n?n+qy(e):e,Jy=(n,e)=>gn(e)&&n!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function p4(n,e,t){if(Object.prototype.hasOwnProperty.call(n,e)||e==="constructor")return n[e];const i=t();return n[e]=i,i}function d8(n,e,t){const{_proxy:i,_context:s,_subProxy:a,_descriptors:l}=n;let c=i[e];return Mc(c)&&l.isScriptable(e)&&(c=p8(e,c,n,t)),Xi(c)&&c.length&&(c=g8(e,c,n,l.isIndexable)),Jy(e,c)&&(c=lf(c,s,a&&a[e],l)),c}function p8(n,e,t,i){const{_proxy:s,_context:a,_subProxy:l,_stack:c}=t;if(c.has(n))throw new Error("Recursion detected: "+Array.from(c).join("->")+"->"+n);c.add(n);let h=e(a,l||i);return c.delete(n),Jy(n,h)&&(h=Zy(s._scopes,s,n,h)),h}function g8(n,e,t,i){const{_proxy:s,_context:a,_subProxy:l,_descriptors:c}=t;if(typeof a.index<"u"&&i(n))return e[a.index%e.length];if(gn(e[0])){const h=e,f=s._scopes.filter(p=>p!==h);e=[];for(const p of h){const m=Zy(f,s,n,p);e.push(lf(m,a,l&&l[n],c))}}return e}function g4(n,e,t){return Mc(n)?n(e,t):n}const m8=(n,e)=>n===!0?e:typeof n=="string"?Mu(e,n):void 0;function y8(n,e,t,i,s){for(const a of e){const l=m8(t,a);if(l){n.add(l);const c=g4(l._fallback,t,s);if(typeof c<"u"&&c!==t&&c!==i)return c}else if(l===!1&&typeof i<"u"&&t!==i)return null}return!1}function Zy(n,e,t,i){const s=e._rootScopes,a=g4(e._fallback,t,i),l=[...n,...s],c=new Set;c.add(i);let h=Q_(c,l,t,a||t,i);return h===null||typeof a<"u"&&a!==t&&(h=Q_(c,l,a,h,i),h===null)?!1:Qy(Array.from(c),[""],s,a,()=>v8(e,t,i))}function Q_(n,e,t,i,s){for(;t;)t=y8(n,e,t,i,s);return t}function v8(n,e,t){const i=n._getTarget();e in i||(i[e]={});const s=i[e];return Xi(s)&&gn(t)?t:s||{}}function b8(n,e,t,i){let s;for(const a of e)if(s=m4(f8(a,n),t),typeof s<"u")return Jy(n,s)?Zy(t,i,n,s):s}function m4(n,e){for(const t of e){if(!t)continue;const i=t[n];if(typeof i<"u")return i}}function J_(n){let e=n._keys;return e||(e=n._keys=_8(n._scopes)),e}function _8(n){const e=new Set;for(const t of n)for(const i of Object.keys(t).filter(s=>!s.startsWith("_")))e.add(i);return Array.from(e)}const x8=Number.EPSILON||1e-14,cf=(n,e)=>e<n.length&&!n[e].skip&&n[e],y4=n=>n==="x"?"y":"x";function w8(n,e,t,i){const s=n.skip?e:n,a=e,l=t.skip?e:t,c=V2(a,s),h=V2(l,a);let f=c/(c+h),p=h/(c+h);f=isNaN(f)?0:f,p=isNaN(p)?0:p;const m=i*f,b=i*p;return{previous:{x:a.x-m*(l.x-s.x),y:a.y-m*(l.y-s.y)},next:{x:a.x+b*(l.x-s.x),y:a.y+b*(l.y-s.y)}}}function S8(n,e,t){const i=n.length;let s,a,l,c,h,f=cf(n,0);for(let p=0;p<i-1;++p)if(h=f,f=cf(n,p+1),!(!h||!f)){if(Rd(e[p],0,x8)){t[p]=t[p+1]=0;continue}s=t[p]/e[p],a=t[p+1]/e[p],c=Math.pow(s,2)+Math.pow(a,2),!(c<=9)&&(l=3/Math.sqrt(c),t[p]=s*l*e[p],t[p+1]=a*l*e[p])}}function N8(n,e,t="x"){const i=y4(t),s=n.length;let a,l,c,h=cf(n,0);for(let f=0;f<s;++f){if(l=c,c=h,h=cf(n,f+1),!c)continue;const p=c[t],m=c[i];l&&(a=(p-l[t])/3,c[`cp1${t}`]=p-a,c[`cp1${i}`]=m-a*e[f]),h&&(a=(h[t]-p)/3,c[`cp2${t}`]=p+a,c[`cp2${i}`]=m+a*e[f])}}function A8(n,e="x"){const t=y4(e),i=n.length,s=Array(i).fill(0),a=Array(i);let l,c,h,f=cf(n,0);for(l=0;l<i;++l)if(c=h,h=f,f=cf(n,l+1),!!h){if(f){const p=f[e]-h[e];s[l]=p!==0?(f[t]-h[t])/p:0}a[l]=c?f?No(s[l-1])!==No(s[l])?0:(s[l-1]+s[l])/2:s[l-1]:s[l]}S8(n,s,a),N8(n,a,e)}function Eg(n,e,t){return Math.max(Math.min(n,t),e)}function C8(n,e){let t,i,s,a,l,c=Kd(n[0],e);for(t=0,i=n.length;t<i;++t)l=a,a=c,c=t<i-1&&Kd(n[t+1],e),a&&(s=n[t],l&&(s.cp1x=Eg(s.cp1x,e.left,e.right),s.cp1y=Eg(s.cp1y,e.top,e.bottom)),c&&(s.cp2x=Eg(s.cp2x,e.left,e.right),s.cp2y=Eg(s.cp2y,e.top,e.bottom)))}function E8(n,e,t,i,s){let a,l,c,h;if(e.spanGaps&&(n=n.filter(f=>!f.skip)),e.cubicInterpolationMode==="monotone")A8(n,s);else{let f=i?n[n.length-1]:n[0];for(a=0,l=n.length;a<l;++a)c=n[a],h=w8(f,c,n[Math.min(a+1,l-(i?0:1))%l],e.tension),c.cp1x=h.previous.x,c.cp1y=h.previous.y,c.cp2x=h.next.x,c.cp2y=h.next.y,f=c}e.capBezierPoints&&C8(n,t)}function ev(){return typeof window<"u"&&typeof document<"u"}function tv(n){let e=n.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function gm(n,e,t){let i;return typeof n=="string"?(i=parseInt(n,10),n.indexOf("%")!==-1&&(i=i/100*e.parentNode[t])):i=n,i}const Km=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function k8(n,e){return Km(n).getPropertyValue(e)}const T8=["top","right","bottom","left"];function Ru(n,e,t){const i={};t=t?"-"+t:"";for(let s=0;s<4;s++){const a=T8[s];i[a]=parseFloat(n[e+"-"+a+t])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const L8=(n,e,t)=>(n>0||e>0)&&(!t||!t.shadowRoot);function R8(n,e){const t=n.touches,i=t&&t.length?t[0]:n,{offsetX:s,offsetY:a}=i;let l=!1,c,h;if(L8(s,a,n.target))c=s,h=a;else{const f=e.getBoundingClientRect();c=i.clientX-f.left,h=i.clientY-f.top,l=!0}return{x:c,y:h,box:l}}function wu(n,e){if("native"in n)return n;const{canvas:t,currentDevicePixelRatio:i}=e,s=Km(t),a=s.boxSizing==="border-box",l=Ru(s,"padding"),c=Ru(s,"border","width"),{x:h,y:f,box:p}=R8(n,t),m=l.left+(p&&c.left),b=l.top+(p&&c.top);let{width:y,height:N}=e;return a&&(y-=l.width+c.width,N-=l.height+c.height),{x:Math.round((h-m)/y*t.width/i),y:Math.round((f-b)/N*t.height/i)}}function D8(n,e,t){let i,s;if(e===void 0||t===void 0){const a=n&&tv(n);if(!a)e=n.clientWidth,t=n.clientHeight;else{const l=a.getBoundingClientRect(),c=Km(a),h=Ru(c,"border","width"),f=Ru(c,"padding");e=l.width-f.width-h.width,t=l.height-f.height-h.height,i=gm(c.maxWidth,a,"clientWidth"),s=gm(c.maxHeight,a,"clientHeight")}}return{width:e,height:t,maxWidth:i||dm,maxHeight:s||dm}}const Sc=n=>Math.round(n*10)/10;function M8(n,e,t,i){const s=Km(n),a=Ru(s,"margin"),l=gm(s.maxWidth,n,"clientWidth")||dm,c=gm(s.maxHeight,n,"clientHeight")||dm,h=D8(n,e,t);let{width:f,height:p}=h;if(s.boxSizing==="content-box"){const b=Ru(s,"border","width"),y=Ru(s,"padding");f-=y.width+b.width,p-=y.height+b.height}return f=Math.max(0,f-a.width),p=Math.max(0,i?f/i:p-a.height),f=Sc(Math.min(f,l,h.maxWidth)),p=Sc(Math.min(p,c,h.maxHeight)),f&&!p&&(p=Sc(f/2)),(e!==void 0||t!==void 0)&&i&&h.height&&p>h.height&&(p=h.height,f=Sc(Math.floor(p*i))),{width:f,height:p}}function Z_(n,e,t){const i=e||1,s=Sc(n.height*i),a=Sc(n.width*i);n.height=Sc(n.height),n.width=Sc(n.width);const l=n.canvas;return l.style&&(t||!l.style.height&&!l.style.width)&&(l.style.height=`${n.height}px`,l.style.width=`${n.width}px`),n.currentDevicePixelRatio!==i||l.height!==s||l.width!==a?(n.currentDevicePixelRatio=i,l.height=s,l.width=a,n.ctx.setTransform(i,0,0,i,0,0),!0):!1}const O8=(function(){let n=!1;try{const e={get passive(){return n=!0,!1}};ev()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return n})();function ex(n,e){const t=k8(n,e),i=t&&t.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function Su(n,e,t,i){return{x:n.x+t*(e.x-n.x),y:n.y+t*(e.y-n.y)}}function I8(n,e,t,i){return{x:n.x+t*(e.x-n.x),y:i==="middle"?t<.5?n.y:e.y:i==="after"?t<1?n.y:e.y:t>0?e.y:n.y}}function P8(n,e,t,i){const s={x:n.cp2x,y:n.cp2y},a={x:e.cp1x,y:e.cp1y},l=Su(n,s,t),c=Su(s,a,t),h=Su(a,e,t),f=Su(l,c,t),p=Su(c,h,t);return Su(f,p,t)}const j8=function(n,e){return{x(t){return n+n+e-t},setWidth(t){e=t},textAlign(t){return t==="center"?t:t==="right"?"left":"right"},xPlus(t,i){return t-i},leftForLtr(t,i){return t-i}}},F8=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,e){return n+e},leftForLtr(n,e){return n}}};function Kh(n,e,t){return n?j8(e,t):F8()}function v4(n,e){let t,i;(e==="ltr"||e==="rtl")&&(t=n.canvas.style,i=[t.getPropertyValue("direction"),t.getPropertyPriority("direction")],t.setProperty("direction",e,"important"),n.prevTextDirection=i)}function b4(n,e){e!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",e[0],e[1]))}function _4(n){return n==="angle"?{between:Xd,compare:jT,normalize:Fa}:{between:wc,compare:(e,t)=>e-t,normalize:e=>e}}function tx({start:n,end:e,count:t,loop:i,style:s}){return{start:n%t,end:e%t,loop:i&&(e-n+1)%t===0,style:s}}function B8(n,e,t){const{property:i,start:s,end:a}=t,{between:l,normalize:c}=_4(i),h=e.length;let{start:f,end:p,loop:m}=n,b,y;if(m){for(f+=h,p+=h,b=0,y=h;b<y&&l(c(e[f%h][i]),s,a);++b)f--,p--;f%=h,p%=h}return p<f&&(p+=h),{start:f,end:p,loop:m,style:n.style}}function z8(n,e,t){if(!t)return[n];const{property:i,start:s,end:a}=t,l=e.length,{compare:c,between:h,normalize:f}=_4(i),{start:p,end:m,loop:b,style:y}=B8(n,e,t),N=[];let E=!1,k=null,T,j,q;const H=()=>h(s,q,T)&&c(s,q)!==0,V=()=>c(a,T)===0||h(a,q,T),oe=()=>E||H(),ae=()=>!E||V();for(let K=p,Y=p;K<=m;++K)j=e[K%l],!j.skip&&(T=f(j[i]),T!==q&&(E=h(T,s,a),k===null&&oe()&&(k=c(T,s)===0?K:Y),k!==null&&ae()&&(N.push(tx({start:k,end:K,loop:b,count:l,style:y})),k=null),Y=K,q=T));return k!==null&&N.push(tx({start:k,end:m,loop:b,count:l,style:y})),N}function U8(n,e){const t=[],i=n.segments;for(let s=0;s<i.length;s++){const a=z8(i[s],n.points,e);a.length&&t.push(...a)}return t}function H8(n,e,t,i){let s=0,a=e-1;if(t&&!i)for(;s<e&&!n[s].skip;)s++;for(;s<e&&n[s].skip;)s++;for(s%=e,t&&(a+=s);a>s&&n[a%e].skip;)a--;return a%=e,{start:s,end:a}}function q8(n,e,t,i){const s=n.length,a=[];let l=e,c=n[e],h;for(h=e+1;h<=t;++h){const f=n[h%s];f.skip||f.stop?c.skip||(i=!1,a.push({start:e%s,end:(h-1)%s,loop:i}),e=l=f.stop?h:null):(l=h,c.skip&&(e=h)),c=f}return l!==null&&a.push({start:e%s,end:l%s,loop:i}),a}function W8(n,e){const t=n.points,i=n.options.spanGaps,s=t.length;if(!s)return[];const a=!!n._loop,{start:l,end:c}=H8(t,s,a,i);if(i===!0)return nx(n,[{start:l,end:c,loop:a}],t,e);const h=c<l?c+s:c,f=!!n._fullLoop&&l===0&&c===s-1;return nx(n,q8(t,l,h,f),t,e)}function nx(n,e,t,i){return!i||!i.setContext||!t?e:V8(n,e,t,i)}function V8(n,e,t,i){const s=n._chart.getContext(),a=ix(n.options),{_datasetIndex:l,options:{spanGaps:c}}=n,h=t.length,f=[];let p=a,m=e[0].start,b=m;function y(N,E,k,T){const j=c?-1:1;if(N!==E){for(N+=h;t[N%h].skip;)N-=j;for(;t[E%h].skip;)E+=j;N%h!==E%h&&(f.push({start:N%h,end:E%h,loop:k,style:T}),p=T,m=E%h)}}for(const N of e){m=c?m:N.start;let E=t[m%h],k;for(b=m+1;b<=N.end;b++){const T=t[b%h];k=ix(i.setContext(qu(s,{type:"segment",p0:E,p1:T,p0DataIndex:(b-1)%h,p1DataIndex:b%h,datasetIndex:l}))),G8(k,p)&&y(m,b-1,N.loop,p),E=T,p=k}m<b-1&&y(m,b-1,N.loop,p)}return f}function ix(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function G8(n,e){if(!e)return!1;const t=[],i=function(s,a){return Gy(a)?(t.includes(a)||t.push(a),t.indexOf(a)):a};return JSON.stringify(n,i)!==JSON.stringify(e,i)}function kg(n,e,t){return n.options.clip?n[t]:e[t]}function Y8(n,e){const{xScale:t,yScale:i}=n;return t&&i?{left:kg(t,e,"left"),right:kg(t,e,"right"),top:kg(i,e,"top"),bottom:kg(i,e,"bottom")}:e}function $8(n,e){const t=e._clip;if(t.disabled)return!1;const i=Y8(e,n.chartArea);return{left:t.left===!1?0:i.left-(t.left===!0?0:t.left),right:t.right===!1?n.width:i.right+(t.right===!0?0:t.right),top:t.top===!1?0:i.top-(t.top===!0?0:t.top),bottom:t.bottom===!1?n.height:i.bottom+(t.bottom===!0?0:t.bottom)}}class X8{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,i,s){const a=t.listeners[s],l=t.duration;a.forEach(c=>c({chart:e,initial:t.initial,numSteps:l,currentStep:Math.min(i-t.start,l)}))}_refresh(){this._request||(this._running=!0,this._request=l4.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let t=0;this._charts.forEach((i,s)=>{if(!i.running||!i.items.length)return;const a=i.items;let l=a.length-1,c=!1,h;for(;l>=0;--l)h=a[l],h._active?(h._total>i.duration&&(i.duration=h._total),h.tick(e),c=!0):(a[l]=a[a.length-1],a.pop());c&&(s.draw(),this._notify(s,i,e,"progress")),a.length||(i.running=!1,this._notify(s,i,e,"complete"),i.initial=!1),t+=a.length}),this._lastDate=e,t===0&&(this._running=!1)}_getAnims(e){const t=this._charts;let i=t.get(e);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,i)),i}listen(e,t,i){this._getAnims(e).listeners[t].push(i)}add(e,t){!t||!t.length||this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((i,s)=>Math.max(i,s._duration),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!(!t||!t.running||!t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const i=t.items;let s=i.length-1;for(;s>=0;--s)i[s].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var fl=new X8;const sx="transparent",K8={boolean(n,e,t){return t>.5?e:n},color(n,e,t){const i=Y_(n||sx),s=i.valid&&Y_(e||sx);return s&&s.valid?s.mix(i,t).hexString():e},number(n,e,t){return n+(e-n)*t}};class Q8{constructor(e,t,i,s){const a=t[i];s=Cg([e.to,s,a,e.from]);const l=Cg([e.from,a,s]);this._active=!0,this._fn=e.fn||K8[e.type||typeof l],this._easing=Dd[e.easing]||Dd.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=i,this._from=l,this._to=s,this._promises=void 0}active(){return this._active}update(e,t,i){if(this._active){this._notify(!1);const s=this._target[this._prop],a=i-this._start,l=this._duration-a;this._start=i,this._duration=Math.floor(Math.max(l,e.duration)),this._total+=a,this._loop=!!e.loop,this._to=Cg([e.to,t,s,e.from]),this._from=Cg([e.from,s,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,i=this._duration,s=this._prop,a=this._from,l=this._loop,c=this._to;let h;if(this._active=a!==c&&(l||t<i),!this._active){this._target[s]=c,this._notify(!0);return}if(t<0){this._target[s]=a;return}h=t/i%2,h=l&&h>1?2-h:h,h=this._easing(Math.min(1,Math.max(0,h))),this._target[s]=this._fn(a,c,h)}wait(){const e=this._promises||(this._promises=[]);return new Promise((t,i)=>{e.push({res:t,rej:i})})}_notify(e){const t=e?"res":"rej",i=this._promises||[];for(let s=0;s<i.length;s++)i[s][t]()}}class x4{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!gn(e))return;const t=Object.keys(Mi.animation),i=this._properties;Object.getOwnPropertyNames(e).forEach(s=>{const a=e[s];if(!gn(a))return;const l={};for(const c of t)l[c]=a[c];(Xi(a.properties)&&a.properties||[s]).forEach(c=>{(c===s||!i.has(c))&&i.set(c,l)})})}_animateOptions(e,t){const i=t.options,s=Z8(e,i);if(!s)return[];const a=this._createAnimations(s,i);return i.$shared&&J8(e.options.$animations,i).then(()=>{e.options=i},()=>{}),a}_createAnimations(e,t){const i=this._properties,s=[],a=e.$animations||(e.$animations={}),l=Object.keys(t),c=Date.now();let h;for(h=l.length-1;h>=0;--h){const f=l[h];if(f.charAt(0)==="$")continue;if(f==="options"){s.push(...this._animateOptions(e,t));continue}const p=t[f];let m=a[f];const b=i.get(f);if(m)if(b&&m.active()){m.update(b,p,c);continue}else m.cancel();if(!b||!b.duration){e[f]=p;continue}a[f]=m=new Q8(b,e,f,p),s.push(m)}return s}update(e,t){if(this._properties.size===0){Object.assign(e,t);return}const i=this._createAnimations(e,t);if(i.length)return fl.add(this._chart,i),!0}}function J8(n,e){const t=[],i=Object.keys(e);for(let s=0;s<i.length;s++){const a=n[i[s]];a&&a.active()&&t.push(a.wait())}return Promise.all(t)}function Z8(n,e){if(!e)return;let t=n.options;if(!t){n.options=e;return}return t.$shared&&(n.options=t=Object.assign({},t,{$shared:!1,$animations:{}})),t}function rx(n,e){const t=n&&n.options||{},i=t.reverse,s=t.min===void 0?e:0,a=t.max===void 0?e:0;return{start:i?a:s,end:i?s:a}}function eL(n,e,t){if(t===!1)return!1;const i=rx(n,t),s=rx(e,t);return{top:s.end,right:i.end,bottom:s.start,left:i.start}}function tL(n){let e,t,i,s;return gn(n)?(e=n.top,t=n.right,i=n.bottom,s=n.left):e=t=i=s=n,{top:e,right:t,bottom:i,left:s,disabled:n===!1}}function w4(n,e){const t=[],i=n._getSortedDatasetMetas(e);let s,a;for(s=0,a=i.length;s<a;++s)t.push(i[s].index);return t}function ax(n,e,t,i={}){const s=n.keys,a=i.mode==="single";let l,c,h,f;if(e===null)return;let p=!1;for(l=0,c=s.length;l<c;++l){if(h=+s[l],h===t){if(p=!0,i.all)continue;break}f=n.values[h],aa(f)&&(a||e===0||No(e)===No(f))&&(e+=f)}return!p&&!i.all?0:e}function nL(n,e){const{iScale:t,vScale:i}=e,s=t.axis==="x"?"x":"y",a=i.axis==="x"?"x":"y",l=Object.keys(n),c=new Array(l.length);let h,f,p;for(h=0,f=l.length;h<f;++h)p=l[h],c[h]={[s]:p,[a]:n[p]};return c}function U1(n,e){const t=n&&n.options.stacked;return t||t===void 0&&e.stack!==void 0}function iL(n,e,t){return`${n.id}.${e.id}.${t.stack||t.type}`}function sL(n){const{min:e,max:t,minDefined:i,maxDefined:s}=n.getUserBounds();return{min:i?e:Number.NEGATIVE_INFINITY,max:s?t:Number.POSITIVE_INFINITY}}function rL(n,e,t){const i=n[e]||(n[e]={});return i[t]||(i[t]={})}function ox(n,e,t,i){for(const s of e.getMatchingVisibleMetas(i).reverse()){const a=n[s.index];if(t&&a>0||!t&&a<0)return s.index}return null}function lx(n,e){const{chart:t,_cachedMeta:i}=n,s=t._stacks||(t._stacks={}),{iScale:a,vScale:l,index:c}=i,h=a.axis,f=l.axis,p=iL(a,l,i),m=e.length;let b;for(let y=0;y<m;++y){const N=e[y],{[h]:E,[f]:k}=N,T=N._stacks||(N._stacks={});b=T[f]=rL(s,p,E),b[c]=k,b._top=ox(b,l,!0,i.type),b._bottom=ox(b,l,!1,i.type);const j=b._visualValues||(b._visualValues={});j[c]=k}}function H1(n,e){const t=n.scales;return Object.keys(t).filter(i=>t[i].axis===e).shift()}function aL(n,e){return qu(n,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function oL(n,e,t){return qu(n,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:t,index:e,mode:"default",type:"data"})}function pd(n,e){const t=n.controller.index,i=n.vScale&&n.vScale.axis;if(i){e=e||n._parsed;for(const s of e){const a=s._stacks;if(!a||a[i]===void 0||a[i][t]===void 0)return;delete a[i][t],a[i]._visualValues!==void 0&&a[i]._visualValues[t]!==void 0&&delete a[i]._visualValues[t]}}}const q1=n=>n==="reset"||n==="none",cx=(n,e)=>e?n:Object.assign({},n),lL=(n,e,t)=>n&&!e.hidden&&e._stacked&&{keys:w4(t,!0),values:null};class Qm{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=U1(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&pd(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,i=this.getDataset(),s=(m,b,y,N)=>m==="x"?b:m==="r"?N:y,a=t.xAxisID=$t(i.xAxisID,H1(e,"x")),l=t.yAxisID=$t(i.yAxisID,H1(e,"y")),c=t.rAxisID=$t(i.rAxisID,H1(e,"r")),h=t.indexAxis,f=t.iAxisID=s(h,a,l,c),p=t.vAxisID=s(h,l,a,c);t.xScale=this.getScaleForId(a),t.yScale=this.getScaleForId(l),t.rScale=this.getScaleForId(c),t.iScale=this.getScaleForId(f),t.vScale=this.getScaleForId(p)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&W_(this._data,this),e._stacked&&pd(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),i=this._data;if(gn(t)){const s=this._cachedMeta;this._data=nL(t,s)}else if(i!==t){if(i){W_(i,this);const s=this._cachedMeta;pd(s),s._parsed=[]}t&&Object.isExtensible(t)&&UT(t,this),this._syncList=[],this._data=t}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,i=this.getDataset();let s=!1;this._dataCheck();const a=t._stacked;t._stacked=U1(t.vScale,t),t.stack!==i.stack&&(s=!0,pd(t),t.stack=i.stack),this._resyncElements(e),(s||a!==t._stacked)&&(lx(this,t._parsed),t._stacked=U1(t.vScale,t))}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),i=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:i,_data:s}=this,{iScale:a,_stacked:l}=i,c=a.axis;let h=e===0&&t===s.length?!0:i._sorted,f=e>0&&i._parsed[e-1],p,m,b;if(this._parsing===!1)i._parsed=s,i._sorted=!0,b=s;else{Xi(s[e])?b=this.parseArrayData(i,s,e,t):gn(s[e])?b=this.parseObjectData(i,s,e,t):b=this.parsePrimitiveData(i,s,e,t);const y=()=>m[c]===null||f&&m[c]<f[c];for(p=0;p<t;++p)i._parsed[p+e]=m=b[p],h&&(y()&&(h=!1),f=m);i._sorted=h}l&&lx(this,b)}parsePrimitiveData(e,t,i,s){const{iScale:a,vScale:l}=e,c=a.axis,h=l.axis,f=a.getLabels(),p=a===l,m=new Array(s);let b,y,N;for(b=0,y=s;b<y;++b)N=b+i,m[b]={[c]:p||a.parse(f[N],N),[h]:l.parse(t[N],N)};return m}parseArrayData(e,t,i,s){const{xScale:a,yScale:l}=e,c=new Array(s);let h,f,p,m;for(h=0,f=s;h<f;++h)p=h+i,m=t[p],c[h]={x:a.parse(m[0],p),y:l.parse(m[1],p)};return c}parseObjectData(e,t,i,s){const{xScale:a,yScale:l}=e,{xAxisKey:c="x",yAxisKey:h="y"}=this._parsing,f=new Array(s);let p,m,b,y;for(p=0,m=s;p<m;++p)b=p+i,y=t[b],f[p]={x:a.parse(Mu(y,c),b),y:l.parse(Mu(y,h),b)};return f}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,i){const s=this.chart,a=this._cachedMeta,l=t[e.axis],c={keys:w4(s,!0),values:t._stacks[e.axis]._visualValues};return ax(c,l,a.index,{mode:i})}updateRangeFromParsed(e,t,i,s){const a=i[t.axis];let l=a===null?NaN:a;const c=s&&i._stacks[t.axis];s&&c&&(s.values=c,l=ax(s,a,this._cachedMeta.index)),e.min=Math.min(e.min,l),e.max=Math.max(e.max,l)}getMinMax(e,t){const i=this._cachedMeta,s=i._parsed,a=i._sorted&&e===i.iScale,l=s.length,c=this._getOtherScale(e),h=lL(t,i,this.chart),f={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:p,max:m}=sL(c);let b,y;function N(){y=s[b];const E=y[c.axis];return!aa(y[e.axis])||p>E||m<E}for(b=0;b<l&&!(!N()&&(this.updateRangeFromParsed(f,e,y,h),a));++b);if(a){for(b=l-1;b>=0;--b)if(!N()){this.updateRangeFromParsed(f,e,y,h);break}}return f}getAllParsedValues(e){const t=this._cachedMeta._parsed,i=[];let s,a,l;for(s=0,a=t.length;s<a;++s)l=t[s][e.axis],aa(l)&&i.push(l);return i}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,i=t.iScale,s=t.vScale,a=this.getParsed(e);return{label:i?""+i.getLabelForValue(a[i.axis]):"",value:s?""+s.getLabelForValue(a[s.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=tL($t(this.options.clip,eL(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,i=this._cachedMeta,s=i.data||[],a=t.chartArea,l=[],c=this._drawStart||0,h=this._drawCount||s.length-c,f=this.options.drawActiveElementsOnTop;let p;for(i.dataset&&i.dataset.draw(e,a,c,h),p=c;p<c+h;++p){const m=s[p];m.hidden||(m.active&&f?l.push(m):m.draw(e,a))}for(p=0;p<l.length;++p)l[p].draw(e,a)}getStyle(e,t){const i=t?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(e||0,i)}getContext(e,t,i){const s=this.getDataset();let a;if(e>=0&&e<this._cachedMeta.data.length){const l=this._cachedMeta.data[e];a=l.$context||(l.$context=oL(this.getContext(),e,l)),a.parsed=this.getParsed(e),a.raw=s.data[e],a.index=a.dataIndex=e}else a=this.$context||(this.$context=aL(this.chart.getContext(),this.index)),a.dataset=s,a.index=a.datasetIndex=this.index;return a.active=!!t,a.mode=i,a}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e,t="default",i){const s=t==="active",a=this._cachedDataOpts,l=e+"-"+t,c=a[l],h=this.enableOptionSharing&&Yd(i);if(c)return cx(c,h);const f=this.chart.config,p=f.datasetElementScopeKeys(this._type,e),m=s?[`${e}Hover`,"hover",e,""]:[e,""],b=f.getOptionScopes(this.getDataset(),p),y=Object.keys(Mi.elements[e]),N=()=>this.getContext(i,s,t),E=f.resolveNamedOptions(b,y,N,m);return E.$shared&&(E.$shared=h,a[l]=Object.freeze(cx(E,h))),E}_resolveAnimations(e,t,i){const s=this.chart,a=this._cachedDataOpts,l=`animation-${t}`,c=a[l];if(c)return c;let h;if(s.options.animation!==!1){const p=this.chart.config,m=p.datasetAnimationScopeKeys(this._type,t),b=p.getOptionScopes(this.getDataset(),m);h=p.createResolver(b,this.getContext(e,i,t))}const f=new x4(s,h&&h.animations);return h&&h._cacheable&&(a[l]=Object.freeze(f)),f}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||q1(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const i=this.resolveDataElementOptions(e,t),s=this._sharedOptions,a=this.getSharedOptions(i),l=this.includeOptions(t,a)||a!==s;return this.updateSharedOptions(a,t,i),{sharedOptions:a,includeOptions:l}}updateElement(e,t,i,s){q1(s)?Object.assign(e,i):this._resolveAnimations(t,s).update(e,i)}updateSharedOptions(e,t,i){e&&!q1(t)&&this._resolveAnimations(void 0,t).update(e,i)}_setStyle(e,t,i,s){e.active=s;const a=this.getStyle(t,s);this._resolveAnimations(t,i,s).update(e,{options:!s&&this.getSharedOptions(a)||a})}removeHoverStyle(e,t,i){this._setStyle(e,i,"active",!1)}setHoverStyle(e,t,i){this._setStyle(e,i,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,i=this._cachedMeta.data;for(const[c,h,f]of this._syncList)this[c](h,f);this._syncList=[];const s=i.length,a=t.length,l=Math.min(a,s);l&&this.parse(0,l),a>s?this._insertElements(s,a-s,e):a<s&&this._removeElements(a,s-a)}_insertElements(e,t,i=!0){const s=this._cachedMeta,a=s.data,l=e+t;let c;const h=f=>{for(f.length+=t,c=f.length-1;c>=l;c--)f[c]=f[c-t]};for(h(a),c=e;c<l;++c)a[c]=new this.dataElementType;this._parsing&&h(s._parsed),this.parse(e,t),i&&this.updateElements(a,e,t,"reset")}updateElements(e,t,i,s){}_removeElements(e,t){const i=this._cachedMeta;if(this._parsing){const s=i._parsed.splice(e,t);i._stacked&&pd(i,s)}i.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,i,s]=e;this[t](i,s)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const i=arguments.length-2;i&&this._sync(["_insertElements",e,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function cL(n,e){if(!n._cache.$bar){const t=n.getMatchingVisibleMetas(e);let i=[];for(let s=0,a=t.length;s<a;s++)i=i.concat(t[s].controller.getAllParsedValues(n));n._cache.$bar=o4(i.sort((s,a)=>s-a))}return n._cache.$bar}function uL(n){const e=n.iScale,t=cL(e,n.type);let i=e._length,s,a,l,c;const h=()=>{l===32767||l===-32768||(Yd(c)&&(i=Math.min(i,Math.abs(l-c)||i)),c=l)};for(s=0,a=t.length;s<a;++s)l=e.getPixelForValue(t[s]),h();for(c=void 0,s=0,a=e.ticks.length;s<a;++s)l=e.getPixelForTick(s),h();return i}function hL(n,e,t,i){const s=t.barThickness;let a,l;return Sn(s)?(a=e.min*t.categoryPercentage,l=t.barPercentage):(a=s*i,l=1),{chunk:a/i,ratio:l,start:e.pixels[n]-a/2}}function fL(n,e,t,i){const s=e.pixels,a=s[n];let l=n>0?s[n-1]:null,c=n<s.length-1?s[n+1]:null;const h=t.categoryPercentage;l===null&&(l=a-(c===null?e.end-e.start:c-a)),c===null&&(c=a+a-l);const f=a-(a-Math.min(l,c))/2*h;return{chunk:Math.abs(c-l)/2*h/i,ratio:t.barPercentage,start:f}}function dL(n,e,t,i){const s=t.parse(n[0],i),a=t.parse(n[1],i),l=Math.min(s,a),c=Math.max(s,a);let h=l,f=c;Math.abs(l)>Math.abs(c)&&(h=c,f=l),e[t.axis]=f,e._custom={barStart:h,barEnd:f,start:s,end:a,min:l,max:c}}function S4(n,e,t,i){return Xi(n)?dL(n,e,t,i):e[t.axis]=t.parse(n,i),e}function ux(n,e,t,i){const s=n.iScale,a=n.vScale,l=s.getLabels(),c=s===a,h=[];let f,p,m,b;for(f=t,p=t+i;f<p;++f)b=e[f],m={},m[s.axis]=c||s.parse(l[f],f),h.push(S4(b,m,a,f));return h}function W1(n){return n&&n.barStart!==void 0&&n.barEnd!==void 0}function pL(n,e,t){return n!==0?No(n):(e.isHorizontal()?1:-1)*(e.min>=t?1:-1)}function gL(n){let e,t,i,s,a;return n.horizontal?(e=n.base>n.x,t="left",i="right"):(e=n.base<n.y,t="bottom",i="top"),e?(s="end",a="start"):(s="start",a="end"),{start:t,end:i,reverse:e,top:s,bottom:a}}function mL(n,e,t,i){let s=e.borderSkipped;const a={};if(!s){n.borderSkipped=a;return}if(s===!0){n.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:l,end:c,reverse:h,top:f,bottom:p}=gL(n);s==="middle"&&t&&(n.enableBorderRadius=!0,(t._top||0)===i?s=f:(t._bottom||0)===i?s=p:(a[hx(p,l,c,h)]=!0,s=f)),a[hx(s,l,c,h)]=!0,n.borderSkipped=a}function hx(n,e,t,i){return i?(n=yL(n,e,t),n=fx(n,t,e)):n=fx(n,e,t),n}function yL(n,e,t){return n===e?t:n===t?e:n}function fx(n,e,t){return n==="start"?e:n==="end"?t:n}function vL(n,{inflateAmount:e},t){n.inflateAmount=e==="auto"?t===1?.33:0:e}class bL extends Qm{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(e,t,i,s){return ux(e,t,i,s)}parseArrayData(e,t,i,s){return ux(e,t,i,s)}parseObjectData(e,t,i,s){const{iScale:a,vScale:l}=e,{xAxisKey:c="x",yAxisKey:h="y"}=this._parsing,f=a.axis==="x"?c:h,p=l.axis==="x"?c:h,m=[];let b,y,N,E;for(b=i,y=i+s;b<y;++b)E=t[b],N={},N[a.axis]=a.parse(Mu(E,f),b),m.push(S4(Mu(E,p),N,l,b));return m}updateRangeFromParsed(e,t,i,s){super.updateRangeFromParsed(e,t,i,s);const a=i._custom;a&&t===this._cachedMeta.vScale&&(e.min=Math.min(e.min,a.min),e.max=Math.max(e.max,a.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const t=this._cachedMeta,{iScale:i,vScale:s}=t,a=this.getParsed(e),l=a._custom,c=W1(l)?"["+l.start+", "+l.end+"]":""+s.getLabelForValue(a[s.axis]);return{label:""+i.getLabelForValue(a[i.axis]),value:c}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const t=this._cachedMeta;this.updateElements(t.data,0,t.data.length,e)}updateElements(e,t,i,s){const a=s==="reset",{index:l,_cachedMeta:{vScale:c}}=this,h=c.getBasePixel(),f=c.isHorizontal(),p=this._getRuler(),{sharedOptions:m,includeOptions:b}=this._getSharedOptions(t,s);for(let y=t;y<t+i;y++){const N=this.getParsed(y),E=a||Sn(N[c.axis])?{base:h,head:h}:this._calculateBarValuePixels(y),k=this._calculateBarIndexPixels(y,p),T=(N._stacks||{})[c.axis],j={horizontal:f,base:E.base,enableBorderRadius:!T||W1(N._custom)||l===T._top||l===T._bottom,x:f?E.head:k.center,y:f?k.center:E.head,height:f?k.size:Math.abs(E.size),width:f?Math.abs(E.size):k.size};b&&(j.options=m||this.resolveDataElementOptions(y,e[y].active?"active":s));const q=j.options||e[y].options;mL(j,q,T,l),vL(j,q,p.ratio),this.updateElement(e[y],y,j,s)}}_getStacks(e,t){const{iScale:i}=this._cachedMeta,s=i.getMatchingVisibleMetas(this._type).filter(p=>p.controller.options.grouped),a=i.options.stacked,l=[],c=this._cachedMeta.controller.getParsed(t),h=c&&c[i.axis],f=p=>{const m=p._parsed.find(y=>y[i.axis]===h),b=m&&m[p.vScale.axis];if(Sn(b)||isNaN(b))return!0};for(const p of s)if(!(t!==void 0&&f(p))&&((a===!1||l.indexOf(p.stack)===-1||a===void 0&&p.stack===void 0)&&l.push(p.stack),p.index===e))break;return l.length||l.push(void 0),l}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,t=this.chart.options.indexAxis;return Object.keys(e).filter(i=>e[i].axis===t).shift()}_getAxis(){const e={},t=this.getFirstScaleIdForIndexAxis();for(const i of this.chart.data.datasets)e[$t(this.chart.options.indexAxis==="x"?i.xAxisID:i.yAxisID,t)]=!0;return Object.keys(e)}_getStackIndex(e,t,i){const s=this._getStacks(e,i),a=t!==void 0?s.indexOf(t):-1;return a===-1?s.length-1:a}_getRuler(){const e=this.options,t=this._cachedMeta,i=t.iScale,s=[];let a,l;for(a=0,l=t.data.length;a<l;++a)s.push(i.getPixelForValue(this.getParsed(a)[i.axis],a));const c=e.barThickness;return{min:c||uL(t),pixels:s,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:e.grouped,ratio:c?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:t,_stacked:i,index:s},options:{base:a,minBarLength:l}}=this,c=a||0,h=this.getParsed(e),f=h._custom,p=W1(f);let m=h[t.axis],b=0,y=i?this.applyStack(t,h,i):m,N,E;y!==m&&(b=y-m,y=m),p&&(m=f.barStart,y=f.barEnd-f.barStart,m!==0&&No(m)!==No(f.barEnd)&&(b=0),b+=m);const k=!Sn(a)&&!p?a:b;let T=t.getPixelForValue(k);if(this.chart.getDataVisibility(e)?N=t.getPixelForValue(b+y):N=T,E=N-T,Math.abs(E)<l){E=pL(E,t,c)*l,m===c&&(T-=E/2);const j=t.getPixelForDecimal(0),q=t.getPixelForDecimal(1),H=Math.min(j,q),V=Math.max(j,q);T=Math.max(Math.min(T,V),H),N=T+E,i&&!p&&(h._stacks[t.axis]._visualValues[s]=t.getValueForPixel(N)-t.getValueForPixel(T))}if(T===t.getPixelForValue(c)){const j=No(E)*t.getLineWidthForValue(c)/2;T+=j,E-=j}return{size:E,base:T,head:N,center:N+E/2}}_calculateBarIndexPixels(e,t){const i=t.scale,s=this.options,a=s.skipNull,l=$t(s.maxBarThickness,1/0);let c,h;const f=this._getAxisCount();if(t.grouped){const p=a?this._getStackCount(e):t.stackCount,m=s.barThickness==="flex"?fL(e,t,s,p*f):hL(e,t,s,p*f),b=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,y=this._getAxis().indexOf($t(b,this.getFirstScaleIdForIndexAxis())),N=this._getStackIndex(this.index,this._cachedMeta.stack,a?e:void 0)+y;c=m.start+m.chunk*N+m.chunk/2,h=Math.min(l,m.chunk*m.ratio)}else c=i.getPixelForValue(this.getParsed(e)[i.axis],e),h=Math.min(l,t.min*t.ratio);return{base:c-h/2,head:c+h/2,center:c,size:h}}draw(){const e=this._cachedMeta,t=e.vScale,i=e.data,s=i.length;let a=0;for(;a<s;++a)this.getParsed(a)[t.axis]!==null&&!i[a].hidden&&i[a].draw(this._ctx)}}function _L(n,e,t){let i=1,s=1,a=0,l=0;if(e<Ni){const c=n,h=c+e,f=Math.cos(c),p=Math.sin(c),m=Math.cos(h),b=Math.sin(h),y=(q,H,V)=>Xd(q,c,h,!0)?1:Math.max(H,H*t,V,V*t),N=(q,H,V)=>Xd(q,c,h,!0)?-1:Math.min(H,H*t,V,V*t),E=y(0,f,m),k=y(Ji,p,b),T=N(Rn,f,m),j=N(Rn+Ji,p,b);i=(E-T)/2,s=(k-j)/2,a=-(E+T)/2,l=-(k+j)/2}return{ratioX:i,ratioY:s,offsetX:a,offsetY:l}}class xL extends Qm{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data,{labels:{pointStyle:i,textAlign:s,color:a,useBorderRadius:l,borderRadius:c}}=e.legend.options;return t.labels.length&&t.datasets.length?t.labels.map((h,f)=>{const m=e.getDatasetMeta(0).controller.getStyle(f);return{text:h,fillStyle:m.backgroundColor,fontColor:a,hidden:!e.getDataVisibility(f),lineDash:m.borderDash,lineDashOffset:m.borderDashOffset,lineJoin:m.borderJoinStyle,lineWidth:m.borderWidth,strokeStyle:m.borderColor,textAlign:s,pointStyle:i,borderRadius:l&&(c||m.borderRadius),index:f}}):[]}},onClick(e,t,i){i.chart.toggleDataVisibility(t.index),i.chart.update()}}}};constructor(e,t){super(e,t),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,t){const i=this.getDataset().data,s=this._cachedMeta;if(this._parsing===!1)s._parsed=i;else{let a=h=>+i[h];if(gn(i[e])){const{key:h="value"}=this._parsing;a=f=>+Mu(i[f],h)}let l,c;for(l=e,c=e+t;l<c;++l)s._parsed[l]=a(l)}}_getRotation(){return ml(this.options.rotation-90)}_getCircumference(){return ml(this.options.circumference)}_getRotationExtents(){let e=Ni,t=-Ni;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const s=this.chart.getDatasetMeta(i).controller,a=s._getRotation(),l=s._getCircumference();e=Math.min(e,a),t=Math.max(t,a+l)}return{rotation:e,circumference:t-e}}update(e){const t=this.chart,{chartArea:i}=t,s=this._cachedMeta,a=s.data,l=this.getMaxBorderWidth()+this.getMaxOffset(a)+this.options.spacing,c=Math.max((Math.min(i.width,i.height)-l)/2,0),h=Math.min(NT(this.options.cutout,c),1),f=this._getRingWeight(this.index),{circumference:p,rotation:m}=this._getRotationExtents(),{ratioX:b,ratioY:y,offsetX:N,offsetY:E}=_L(m,p,h),k=(i.width-l)/b,T=(i.height-l)/y,j=Math.max(Math.min(k,T)/2,0),q=n4(this.options.radius,j),H=Math.max(q*h,0),V=(q-H)/this._getVisibleDatasetWeightTotal();this.offsetX=N*q,this.offsetY=E*q,s.total=this.calculateTotal(),this.outerRadius=q-V*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-V*f,0),this.updateElements(a,0,a.length,e)}_circumference(e,t){const i=this.options,s=this._cachedMeta,a=this._getCircumference();return t&&i.animation.animateRotate||!this.chart.getDataVisibility(e)||s._parsed[e]===null||s.data[e].hidden?0:this.calculateCircumference(s._parsed[e]*a/Ni)}updateElements(e,t,i,s){const a=s==="reset",l=this.chart,c=l.chartArea,f=l.options.animation,p=(c.left+c.right)/2,m=(c.top+c.bottom)/2,b=a&&f.animateScale,y=b?0:this.innerRadius,N=b?0:this.outerRadius,{sharedOptions:E,includeOptions:k}=this._getSharedOptions(t,s);let T=this._getRotation(),j;for(j=0;j<t;++j)T+=this._circumference(j,a);for(j=t;j<t+i;++j){const q=this._circumference(j,a),H=e[j],V={x:p+this.offsetX,y:m+this.offsetY,startAngle:T,endAngle:T+q,circumference:q,outerRadius:N,innerRadius:y};k&&(V.options=E||this.resolveDataElementOptions(j,H.active?"active":s)),T+=q,this.updateElement(H,j,V,s)}}calculateTotal(){const e=this._cachedMeta,t=e.data;let i=0,s;for(s=0;s<t.length;s++){const a=e._parsed[s];a!==null&&!isNaN(a)&&this.chart.getDataVisibility(s)&&!t[s].hidden&&(i+=Math.abs(a))}return i}calculateCircumference(e){const t=this._cachedMeta.total;return t>0&&!isNaN(e)?Ni*(Math.abs(e)/t):0}getLabelAndValue(e){const t=this._cachedMeta,i=this.chart,s=i.data.labels||[],a=Yy(t._parsed[e],i.options.locale);return{label:s[e]||"",value:a}}getMaxBorderWidth(e){let t=0;const i=this.chart;let s,a,l,c,h;if(!e){for(s=0,a=i.data.datasets.length;s<a;++s)if(i.isDatasetVisible(s)){l=i.getDatasetMeta(s),e=l.data,c=l.controller;break}}if(!e)return 0;for(s=0,a=e.length;s<a;++s)h=c.resolveDataElementOptions(s),h.borderAlign!=="inner"&&(t=Math.max(t,h.borderWidth||0,h.hoverBorderWidth||0));return t}getMaxOffset(e){let t=0;for(let i=0,s=e.length;i<s;++i){const a=this.resolveDataElementOptions(i);t=Math.max(t,a.offset||0,a.hoverOffset||0)}return t}_getRingWeightOffset(e){let t=0;for(let i=0;i<e;++i)this.chart.isDatasetVisible(i)&&(t+=this._getRingWeight(i));return t}_getRingWeight(e){return Math.max($t(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class wL extends Qm{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const t=this._cachedMeta,{dataset:i,data:s=[],_dataset:a}=t,l=this.chart._animationsDisabled;let{start:c,count:h}=WT(t,s,l);this._drawStart=c,this._drawCount=h,VT(t)&&(c=0,h=s.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!a._decimated,i.points=s;const f=this.resolveDatasetElementOptions(e);this.options.showLine||(f.borderWidth=0),f.segment=this.options.segment,this.updateElement(i,void 0,{animated:!l,options:f},e),this.updateElements(s,c,h,e)}updateElements(e,t,i,s){const a=s==="reset",{iScale:l,vScale:c,_stacked:h,_dataset:f}=this._cachedMeta,{sharedOptions:p,includeOptions:m}=this._getSharedOptions(t,s),b=l.axis,y=c.axis,{spanGaps:N,segment:E}=this.options,k=$d(N)?N:Number.POSITIVE_INFINITY,T=this.chart._animationsDisabled||a||s==="none",j=t+i,q=e.length;let H=t>0&&this.getParsed(t-1);for(let V=0;V<q;++V){const oe=e[V],ae=T?oe:{};if(V<t||V>=j){ae.skip=!0;continue}const K=this.getParsed(V),Y=Sn(K[y]),ue=ae[b]=l.getPixelForValue(K[b],V),P=ae[y]=a||Y?c.getBasePixel():c.getPixelForValue(h?this.applyStack(c,K,h):K[y],V);ae.skip=isNaN(ue)||isNaN(P)||Y,ae.stop=V>0&&Math.abs(K[b]-H[b])>k,E&&(ae.parsed=K,ae.raw=f.data[V]),m&&(ae.options=p||this.resolveDataElementOptions(V,oe.active?"active":s)),T||this.updateElement(oe,V,ae,s),H=K}}getMaxOverflow(){const e=this._cachedMeta,t=e.dataset,i=t.options&&t.options.borderWidth||0,s=e.data||[];if(!s.length)return i;const a=s[0].size(this.resolveDataElementOptions(0)),l=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(i,a,l)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}class SL extends xL{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}function _u(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class nv{static override(e){Object.assign(nv.prototype,e)}options;constructor(e){this.options=e||{}}init(){}formats(){return _u()}parse(){return _u()}format(){return _u()}add(){return _u()}diff(){return _u()}startOf(){return _u()}endOf(){return _u()}}var NL={_date:nv};function AL(n,e,t,i){const{controller:s,data:a,_sorted:l}=n,c=s._cachedMeta.iScale,h=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(c&&e===c.axis&&e!=="r"&&l&&a.length){const f=c._reversePixels?BT:ku;if(i){if(s._sharedOptions){const p=a[0],m=typeof p.getRange=="function"&&p.getRange(e);if(m){const b=f(a,e,t-m),y=f(a,e,t+m);return{lo:b.lo,hi:y.hi}}}}else{const p=f(a,e,t);if(h){const{vScale:m}=s._cachedMeta,{_parsed:b}=n,y=b.slice(0,p.lo+1).reverse().findIndex(E=>!Sn(E[m.axis]));p.lo-=Math.max(0,y);const N=b.slice(p.hi).findIndex(E=>!Sn(E[m.axis]));p.hi+=Math.max(0,N)}return p}}return{lo:0,hi:a.length-1}}function Jm(n,e,t,i,s){const a=n.getSortedVisibleDatasetMetas(),l=t[e];for(let c=0,h=a.length;c<h;++c){const{index:f,data:p}=a[c],{lo:m,hi:b}=AL(a[c],e,l,s);for(let y=m;y<=b;++y){const N=p[y];N.skip||i(N,f,y)}}}function CL(n){const e=n.indexOf("x")!==-1,t=n.indexOf("y")!==-1;return function(i,s){const a=e?Math.abs(i.x-s.x):0,l=t?Math.abs(i.y-s.y):0;return Math.sqrt(Math.pow(a,2)+Math.pow(l,2))}}function V1(n,e,t,i,s){const a=[];return!s&&!n.isPointInArea(e)||Jm(n,t,e,function(c,h,f){!s&&!Kd(c,n.chartArea,0)||c.inRange(e.x,e.y,i)&&a.push({element:c,datasetIndex:h,index:f})},!0),a}function EL(n,e,t,i){let s=[];function a(l,c,h){const{startAngle:f,endAngle:p}=l.getProps(["startAngle","endAngle"],i),{angle:m}=r4(l,{x:e.x,y:e.y});Xd(m,f,p)&&s.push({element:l,datasetIndex:c,index:h})}return Jm(n,t,e,a),s}function kL(n,e,t,i,s,a){let l=[];const c=CL(t);let h=Number.POSITIVE_INFINITY;function f(p,m,b){const y=p.inRange(e.x,e.y,s);if(i&&!y)return;const N=p.getCenterPoint(s);if(!(!!a||n.isPointInArea(N))&&!y)return;const k=c(e,N);k<h?(l=[{element:p,datasetIndex:m,index:b}],h=k):k===h&&l.push({element:p,datasetIndex:m,index:b})}return Jm(n,t,e,f),l}function G1(n,e,t,i,s,a){return!a&&!n.isPointInArea(e)?[]:t==="r"&&!i?EL(n,e,t,s):kL(n,e,t,i,s,a)}function dx(n,e,t,i,s){const a=[],l=t==="x"?"inXRange":"inYRange";let c=!1;return Jm(n,t,e,(h,f,p)=>{h[l]&&h[l](e[t],s)&&(a.push({element:h,datasetIndex:f,index:p}),c=c||h.inRange(e.x,e.y,s))}),i&&!c?[]:a}var TL={modes:{index(n,e,t,i){const s=wu(e,n),a=t.axis||"x",l=t.includeInvisible||!1,c=t.intersect?V1(n,s,a,i,l):G1(n,s,a,!1,i,l),h=[];return c.length?(n.getSortedVisibleDatasetMetas().forEach(f=>{const p=c[0].index,m=f.data[p];m&&!m.skip&&h.push({element:m,datasetIndex:f.index,index:p})}),h):[]},dataset(n,e,t,i){const s=wu(e,n),a=t.axis||"xy",l=t.includeInvisible||!1;let c=t.intersect?V1(n,s,a,i,l):G1(n,s,a,!1,i,l);if(c.length>0){const h=c[0].datasetIndex,f=n.getDatasetMeta(h).data;c=[];for(let p=0;p<f.length;++p)c.push({element:f[p],datasetIndex:h,index:p})}return c},point(n,e,t,i){const s=wu(e,n),a=t.axis||"xy",l=t.includeInvisible||!1;return V1(n,s,a,i,l)},nearest(n,e,t,i){const s=wu(e,n),a=t.axis||"xy",l=t.includeInvisible||!1;return G1(n,s,a,t.intersect,i,l)},x(n,e,t,i){const s=wu(e,n);return dx(n,s,"x",t.intersect,i)},y(n,e,t,i){const s=wu(e,n);return dx(n,s,"y",t.intersect,i)}}};const N4=["left","top","right","bottom"];function gd(n,e){return n.filter(t=>t.pos===e)}function px(n,e){return n.filter(t=>N4.indexOf(t.pos)===-1&&t.box.axis===e)}function md(n,e){return n.sort((t,i)=>{const s=e?i:t,a=e?t:i;return s.weight===a.weight?s.index-a.index:s.weight-a.weight})}function LL(n){const e=[];let t,i,s,a,l,c;for(t=0,i=(n||[]).length;t<i;++t)s=n[t],{position:a,options:{stack:l,stackWeight:c=1}}=s,e.push({index:t,box:s,pos:a,horizontal:s.isHorizontal(),weight:s.weight,stack:l&&a+l,stackWeight:c});return e}function RL(n){const e={};for(const t of n){const{stack:i,pos:s,stackWeight:a}=t;if(!i||!N4.includes(s))continue;const l=e[i]||(e[i]={count:0,placed:0,weight:0,size:0});l.count++,l.weight+=a}return e}function DL(n,e){const t=RL(n),{vBoxMaxWidth:i,hBoxMaxHeight:s}=e;let a,l,c;for(a=0,l=n.length;a<l;++a){c=n[a];const{fullSize:h}=c.box,f=t[c.stack],p=f&&c.stackWeight/f.weight;c.horizontal?(c.width=p?p*i:h&&e.availableWidth,c.height=s):(c.width=i,c.height=p?p*s:h&&e.availableHeight)}return t}function ML(n){const e=LL(n),t=md(e.filter(f=>f.box.fullSize),!0),i=md(gd(e,"left"),!0),s=md(gd(e,"right")),a=md(gd(e,"top"),!0),l=md(gd(e,"bottom")),c=px(e,"x"),h=px(e,"y");return{fullSize:t,leftAndTop:i.concat(a),rightAndBottom:s.concat(h).concat(l).concat(c),chartArea:gd(e,"chartArea"),vertical:i.concat(s).concat(h),horizontal:a.concat(l).concat(c)}}function gx(n,e,t,i){return Math.max(n[t],e[t])+Math.max(n[i],e[i])}function A4(n,e){n.top=Math.max(n.top,e.top),n.left=Math.max(n.left,e.left),n.bottom=Math.max(n.bottom,e.bottom),n.right=Math.max(n.right,e.right)}function OL(n,e,t,i){const{pos:s,box:a}=t,l=n.maxPadding;if(!gn(s)){t.size&&(n[s]-=t.size);const m=i[t.stack]||{size:0,count:1};m.size=Math.max(m.size,t.horizontal?a.height:a.width),t.size=m.size/m.count,n[s]+=t.size}a.getPadding&&A4(l,a.getPadding());const c=Math.max(0,e.outerWidth-gx(l,n,"left","right")),h=Math.max(0,e.outerHeight-gx(l,n,"top","bottom")),f=c!==n.w,p=h!==n.h;return n.w=c,n.h=h,t.horizontal?{same:f,other:p}:{same:p,other:f}}function IL(n){const e=n.maxPadding;function t(i){const s=Math.max(e[i]-n[i],0);return n[i]+=s,s}n.y+=t("top"),n.x+=t("left"),t("right"),t("bottom")}function PL(n,e){const t=e.maxPadding;function i(s){const a={left:0,top:0,right:0,bottom:0};return s.forEach(l=>{a[l]=Math.max(e[l],t[l])}),a}return i(n?["left","right"]:["top","bottom"])}function kd(n,e,t,i){const s=[];let a,l,c,h,f,p;for(a=0,l=n.length,f=0;a<l;++a){c=n[a],h=c.box,h.update(c.width||e.w,c.height||e.h,PL(c.horizontal,e));const{same:m,other:b}=OL(e,t,c,i);f|=m&&s.length,p=p||b,h.fullSize||s.push(c)}return f&&kd(s,e,t,i)||p}function Tg(n,e,t,i,s){n.top=t,n.left=e,n.right=e+i,n.bottom=t+s,n.width=i,n.height=s}function mx(n,e,t,i){const s=t.padding;let{x:a,y:l}=e;for(const c of n){const h=c.box,f=i[c.stack]||{placed:0,weight:1},p=c.stackWeight/f.weight||1;if(c.horizontal){const m=e.w*p,b=f.size||h.height;Yd(f.start)&&(l=f.start),h.fullSize?Tg(h,s.left,l,t.outerWidth-s.right-s.left,b):Tg(h,e.left+f.placed,l,m,b),f.start=l,f.placed+=m,l=h.bottom}else{const m=e.h*p,b=f.size||h.width;Yd(f.start)&&(a=f.start),h.fullSize?Tg(h,a,s.top,b,t.outerHeight-s.bottom-s.top):Tg(h,a,e.top+f.placed,b,m),f.start=a,f.placed+=m,a=h.right}}e.x=a,e.y=l}var ra={addBox(n,e){n.boxes||(n.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},n.boxes.push(e)},removeBox(n,e){const t=n.boxes?n.boxes.indexOf(e):-1;t!==-1&&n.boxes.splice(t,1)},configure(n,e,t){e.fullSize=t.fullSize,e.position=t.position,e.weight=t.weight},update(n,e,t,i){if(!n)return;const s=oa(n.options.layout.padding),a=Math.max(e-s.width,0),l=Math.max(t-s.height,0),c=ML(n.boxes),h=c.vertical,f=c.horizontal;Tn(n.boxes,E=>{typeof E.beforeLayout=="function"&&E.beforeLayout()});const p=h.reduce((E,k)=>k.box.options&&k.box.options.display===!1?E:E+1,0)||1,m=Object.freeze({outerWidth:e,outerHeight:t,padding:s,availableWidth:a,availableHeight:l,vBoxMaxWidth:a/2/p,hBoxMaxHeight:l/2}),b=Object.assign({},s);A4(b,oa(i));const y=Object.assign({maxPadding:b,w:a,h:l,x:s.left,y:s.top},s),N=DL(h.concat(f),m);kd(c.fullSize,y,m,N),kd(h,y,m,N),kd(f,y,m,N)&&kd(h,y,m,N),IL(y),mx(c.leftAndTop,y,m,N),y.x+=y.w,y.y+=y.h,mx(c.rightAndBottom,y,m,N),n.chartArea={left:y.left,top:y.top,right:y.left+y.w,bottom:y.top+y.h,height:y.h,width:y.w},Tn(c.chartArea,E=>{const k=E.box;Object.assign(k,n.chartArea),k.update(y.w,y.h,{left:0,top:0,right:0,bottom:0})})}};class C4{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,i){}removeEventListener(e,t,i){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,i,s){return t=Math.max(0,t||e.width),i=i||e.height,{width:t,height:Math.max(0,s?Math.floor(t/s):i)}}isAttached(e){return!0}updateConfig(e){}}class jL extends C4{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Qg="$chartjs",FL={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},yx=n=>n===null||n==="";function BL(n,e){const t=n.style,i=n.getAttribute("height"),s=n.getAttribute("width");if(n[Qg]={initial:{height:i,width:s,style:{display:t.display,height:t.height,width:t.width}}},t.display=t.display||"block",t.boxSizing=t.boxSizing||"border-box",yx(s)){const a=ex(n,"width");a!==void 0&&(n.width=a)}if(yx(i))if(n.style.height==="")n.height=n.width/(e||2);else{const a=ex(n,"height");a!==void 0&&(n.height=a)}return n}const E4=O8?{passive:!0}:!1;function zL(n,e,t){n&&n.addEventListener(e,t,E4)}function UL(n,e,t){n&&n.canvas&&n.canvas.removeEventListener(e,t,E4)}function HL(n,e){const t=FL[n.type]||n.type,{x:i,y:s}=wu(n,e);return{type:t,chart:e,native:n,x:i!==void 0?i:null,y:s!==void 0?s:null}}function mm(n,e){for(const t of n)if(t===e||t.contains(e))return!0}function qL(n,e,t){const i=n.canvas,s=new MutationObserver(a=>{let l=!1;for(const c of a)l=l||mm(c.addedNodes,i),l=l&&!mm(c.removedNodes,i);l&&t()});return s.observe(document,{childList:!0,subtree:!0}),s}function WL(n,e,t){const i=n.canvas,s=new MutationObserver(a=>{let l=!1;for(const c of a)l=l||mm(c.removedNodes,i),l=l&&!mm(c.addedNodes,i);l&&t()});return s.observe(document,{childList:!0,subtree:!0}),s}const Jd=new Map;let vx=0;function k4(){const n=window.devicePixelRatio;n!==vx&&(vx=n,Jd.forEach((e,t)=>{t.currentDevicePixelRatio!==n&&e()}))}function VL(n,e){Jd.size||window.addEventListener("resize",k4),Jd.set(n,e)}function GL(n){Jd.delete(n),Jd.size||window.removeEventListener("resize",k4)}function YL(n,e,t){const i=n.canvas,s=i&&tv(i);if(!s)return;const a=c4((c,h)=>{const f=s.clientWidth;t(c,h),f<s.clientWidth&&t()},window),l=new ResizeObserver(c=>{const h=c[0],f=h.contentRect.width,p=h.contentRect.height;f===0&&p===0||a(f,p)});return l.observe(s),VL(n,a),l}function Y1(n,e,t){t&&t.disconnect(),e==="resize"&&GL(n)}function $L(n,e,t){const i=n.canvas,s=c4(a=>{n.ctx!==null&&t(HL(a,n))},n);return zL(i,e,s),s}class XL extends C4{acquireContext(e,t){const i=e&&e.getContext&&e.getContext("2d");return i&&i.canvas===e?(BL(e,t),i):null}releaseContext(e){const t=e.canvas;if(!t[Qg])return!1;const i=t[Qg].initial;["height","width"].forEach(a=>{const l=i[a];Sn(l)?t.removeAttribute(a):t.setAttribute(a,l)});const s=i.style||{};return Object.keys(s).forEach(a=>{t.style[a]=s[a]}),t.width=t.width,delete t[Qg],!0}addEventListener(e,t,i){this.removeEventListener(e,t);const s=e.$proxies||(e.$proxies={}),l={attach:qL,detach:WL,resize:YL}[t]||$L;s[t]=l(e,t,i)}removeEventListener(e,t){const i=e.$proxies||(e.$proxies={}),s=i[t];if(!s)return;({attach:Y1,detach:Y1,resize:Y1}[t]||UL)(e,t,s),i[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,i,s){return M8(e,t,i,s)}isAttached(e){const t=e&&tv(e);return!!(t&&t.isConnected)}}function KL(n){return!ev()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?jL:XL}class Tl{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(e){const{x:t,y:i}=this.getProps(["x","y"],e);return{x:t,y:i}}hasValue(){return $d(this.x)&&$d(this.y)}getProps(e,t){const i=this.$animations;if(!t||!i)return this;const s={};return e.forEach(a=>{s[a]=i[a]&&i[a].active()?i[a]._to:this[a]}),s}}function QL(n,e){const t=n.options.ticks,i=JL(n),s=Math.min(t.maxTicksLimit||i,i),a=t.major.enabled?eR(e):[],l=a.length,c=a[0],h=a[l-1],f=[];if(l>s)return tR(e,f,a,l/s),f;const p=ZL(a,e,s);if(l>0){let m,b;const y=l>1?Math.round((h-c)/(l-1)):null;for(Lg(e,f,p,Sn(y)?0:c-y,c),m=0,b=l-1;m<b;m++)Lg(e,f,p,a[m],a[m+1]);return Lg(e,f,p,h,Sn(y)?e.length:h+y),f}return Lg(e,f,p),f}function JL(n){const e=n.options.offset,t=n._tickSize(),i=n._length/t+(e?0:1),s=n._maxLength/t;return Math.floor(Math.min(i,s))}function ZL(n,e,t){const i=nR(n),s=e.length/t;if(!i)return Math.max(s,1);const a=DT(i);for(let l=0,c=a.length-1;l<c;l++){const h=a[l];if(h>s)return h}return Math.max(s,1)}function eR(n){const e=[];let t,i;for(t=0,i=n.length;t<i;t++)n[t].major&&e.push(t);return e}function tR(n,e,t,i){let s=0,a=t[0],l;for(i=Math.ceil(i),l=0;l<n.length;l++)l===a&&(e.push(n[l]),s++,a=t[s*i])}function Lg(n,e,t,i,s){const a=$t(i,0),l=Math.min($t(s,n.length),n.length);let c=0,h,f,p;for(t=Math.ceil(t),s&&(h=s-i,t=h/Math.floor(h/t)),p=a;p<0;)c++,p=Math.round(a+c*t);for(f=Math.max(a,0);f<l;f++)f===p&&(e.push(n[f]),c++,p=Math.round(a+c*t))}function nR(n){const e=n.length;let t,i;if(e<2)return!1;for(i=n[0],t=1;t<e;++t)if(n[t]-n[t-1]!==i)return!1;return i}const iR=n=>n==="left"?"right":n==="right"?"left":n,bx=(n,e,t)=>e==="top"||e==="left"?n[e]+t:n[e]-t,_x=(n,e)=>Math.min(e||n,n);function xx(n,e){const t=[],i=n.length/e,s=n.length;let a=0;for(;a<s;a+=i)t.push(n[Math.floor(a)]);return t}function sR(n,e,t){const i=n.ticks.length,s=Math.min(e,i-1),a=n._startPixel,l=n._endPixel,c=1e-6;let h=n.getPixelForTick(s),f;if(!(t&&(i===1?f=Math.max(h-a,l-h):e===0?f=(n.getPixelForTick(1)-h)/2:f=(h-n.getPixelForTick(s-1))/2,h+=s<e?f:-f,h<a-c||h>l+c)))return h}function rR(n,e){Tn(n,t=>{const i=t.gc,s=i.length/2;let a;if(s>e){for(a=0;a<s;++a)delete t.data[i[a]];i.splice(0,s)}})}function yd(n){return n.drawTicks?n.tickLength:0}function wx(n,e){if(!n.display)return 0;const t=Ds(n.font,e),i=oa(n.padding);return(Xi(n.text)?n.text.length:1)*t.lineHeight+i.height}function aR(n,e){return qu(n,{scale:e,type:"scale"})}function oR(n,e,t){return qu(n,{tick:t,index:e,type:"tick"})}function lR(n,e,t){let i=Vy(n);return(t&&e!=="right"||!t&&e==="right")&&(i=iR(i)),i}function cR(n,e,t,i){const{top:s,left:a,bottom:l,right:c,chart:h}=n,{chartArea:f,scales:p}=h;let m=0,b,y,N;const E=l-s,k=c-a;if(n.isHorizontal()){if(y=Ts(i,a,c),gn(t)){const T=Object.keys(t)[0],j=t[T];N=p[T].getPixelForValue(j)+E-e}else t==="center"?N=(f.bottom+f.top)/2+E-e:N=bx(n,t,e);b=c-a}else{if(gn(t)){const T=Object.keys(t)[0],j=t[T];y=p[T].getPixelForValue(j)-k+e}else t==="center"?y=(f.left+f.right)/2-k+e:y=bx(n,t,e);N=Ts(i,l,s),m=t==="left"?-Ji:Ji}return{titleX:y,titleY:N,maxWidth:b,rotation:m}}class bf extends Tl{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:i,_suggestedMax:s}=this;return e=yo(e,Number.POSITIVE_INFINITY),t=yo(t,Number.NEGATIVE_INFINITY),i=yo(i,Number.POSITIVE_INFINITY),s=yo(s,Number.NEGATIVE_INFINITY),{min:yo(e,i),max:yo(t,s),minDefined:aa(e),maxDefined:aa(t)}}getMinMax(e){let{min:t,max:i,minDefined:s,maxDefined:a}=this.getUserBounds(),l;if(s&&a)return{min:t,max:i};const c=this.getMatchingVisibleMetas();for(let h=0,f=c.length;h<f;++h)l=c[h].controller.getMinMax(this,e),s||(t=Math.min(t,l.min)),a||(i=Math.max(i,l.max));return t=a&&t>i?i:t,i=s&&t>i?t:i,{min:yo(t,yo(i,t)),max:yo(i,yo(t,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Zn(this.options.beforeUpdate,[this])}update(e,t,i){const{beginAtZero:s,grace:a,ticks:l}=this.options,c=l.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=h8(this,a,s),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const h=c<this.ticks.length;this._convertTicksToLabels(h?xx(this.ticks,c):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),l.display&&(l.autoSkip||l.source==="auto")&&(this.ticks=QL(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),h&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,t,i;this.isHorizontal()?(t=this.left,i=this.right):(t=this.top,i=this.bottom,e=!e),this._startPixel=t,this._endPixel=i,this._reversePixels=e,this._length=i-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Zn(this.options.afterUpdate,[this])}beforeSetDimensions(){Zn(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Zn(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Zn(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Zn(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let i,s,a;for(i=0,s=e.length;i<s;i++)a=e[i],a.label=Zn(t.callback,[a.value,i,e],this)}afterTickToLabelConversion(){Zn(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Zn(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,i=_x(this.ticks.length,e.ticks.maxTicksLimit),s=t.minRotation||0,a=t.maxRotation;let l=s,c,h,f;if(!this._isVisible()||!t.display||s>=a||i<=1||!this.isHorizontal()){this.labelRotation=s;return}const p=this._getLabelSizes(),m=p.widest.width,b=p.highest.height,y=Rs(this.chart.width-m,0,this.maxWidth);c=e.offset?this.maxWidth/i:y/(i-1),m+6>c&&(c=y/(i-(e.offset?.5:1)),h=this.maxHeight-yd(e.grid)-t.padding-wx(e.title,this.chart.options.font),f=Math.sqrt(m*m+b*b),l=PT(Math.min(Math.asin(Rs((p.highest.height+6)/c,-1,1)),Math.asin(Rs(h/f,-1,1))-Math.asin(Rs(b/f,-1,1)))),l=Math.max(s,Math.min(a,l))),this.labelRotation=l}afterCalculateLabelRotation(){Zn(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Zn(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:i,title:s,grid:a}}=this,l=this._isVisible(),c=this.isHorizontal();if(l){const h=wx(s,t.options.font);if(c?(e.width=this.maxWidth,e.height=yd(a)+h):(e.height=this.maxHeight,e.width=yd(a)+h),i.display&&this.ticks.length){const{first:f,last:p,widest:m,highest:b}=this._getLabelSizes(),y=i.padding*2,N=ml(this.labelRotation),E=Math.cos(N),k=Math.sin(N);if(c){const T=i.mirror?0:k*m.width+E*b.height;e.height=Math.min(this.maxHeight,e.height+T+y)}else{const T=i.mirror?0:E*m.width+k*b.height;e.width=Math.min(this.maxWidth,e.width+T+y)}this._calculatePadding(f,p,k,E)}}this._handleMargins(),c?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,i,s){const{ticks:{align:a,padding:l},position:c}=this.options,h=this.labelRotation!==0,f=c!=="top"&&this.axis==="x";if(this.isHorizontal()){const p=this.getPixelForTick(0)-this.left,m=this.right-this.getPixelForTick(this.ticks.length-1);let b=0,y=0;h?f?(b=s*e.width,y=i*t.height):(b=i*e.height,y=s*t.width):a==="start"?y=t.width:a==="end"?b=e.width:a!=="inner"&&(b=e.width/2,y=t.width/2),this.paddingLeft=Math.max((b-p+l)*this.width/(this.width-p),0),this.paddingRight=Math.max((y-m+l)*this.width/(this.width-m),0)}else{let p=t.height/2,m=e.height/2;a==="start"?(p=0,m=e.height):a==="end"&&(p=t.height,m=0),this.paddingTop=p+l,this.paddingBottom=m+l}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Zn(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return t==="top"||t==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let t,i;for(t=0,i=e.length;t<i;t++)Sn(e[t].label)&&(e.splice(t,1),i--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let i=this.ticks;t<i.length&&(i=xx(i,t)),this._labelSizes=e=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,i){const{ctx:s,_longestTextCache:a}=this,l=[],c=[],h=Math.floor(t/_x(t,i));let f=0,p=0,m,b,y,N,E,k,T,j,q,H,V;for(m=0;m<t;m+=h){if(N=e[m].label,E=this._resolveTickFontOptions(m),s.font=k=E.string,T=a[k]=a[k]||{data:{},gc:[]},j=E.lineHeight,q=H=0,!Sn(N)&&!Xi(N))q=X_(s,T.data,T.gc,q,N),H=j;else if(Xi(N))for(b=0,y=N.length;b<y;++b)V=N[b],!Sn(V)&&!Xi(V)&&(q=X_(s,T.data,T.gc,q,V),H+=j);l.push(q),c.push(H),f=Math.max(q,f),p=Math.max(H,p)}rR(a,t);const oe=l.indexOf(f),ae=c.indexOf(p),K=Y=>({width:l[Y]||0,height:c[Y]||0});return{first:K(0),last:K(t-1),widest:K(oe),highest:K(ae),widths:l,heights:c}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return FT(this._alignToPixels?bu(this.chart,t,0):t)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const i=t[e];return i.$context||(i.$context=oR(this.getContext(),e,i))}return this.$context||(this.$context=aR(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,t=ml(this.labelRotation),i=Math.abs(Math.cos(t)),s=Math.abs(Math.sin(t)),a=this._getLabelSizes(),l=e.autoSkipPadding||0,c=a?a.widest.width+l:0,h=a?a.highest.height+l:0;return this.isHorizontal()?h*i>c*s?c/i:h/s:h*s<c*i?h/i:c/s}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,i=this.chart,s=this.options,{grid:a,position:l,border:c}=s,h=a.offset,f=this.isHorizontal(),m=this.ticks.length+(h?1:0),b=yd(a),y=[],N=c.setContext(this.getContext()),E=N.display?N.width:0,k=E/2,T=function($){return bu(i,$,E)};let j,q,H,V,oe,ae,K,Y,ue,P,M,Q;if(l==="top")j=T(this.bottom),ae=this.bottom-b,Y=j-k,P=T(e.top)+k,Q=e.bottom;else if(l==="bottom")j=T(this.top),P=e.top,Q=T(e.bottom)-k,ae=j+k,Y=this.top+b;else if(l==="left")j=T(this.right),oe=this.right-b,K=j-k,ue=T(e.left)+k,M=e.right;else if(l==="right")j=T(this.left),ue=e.left,M=T(e.right)-k,oe=j+k,K=this.left+b;else if(t==="x"){if(l==="center")j=T((e.top+e.bottom)/2+.5);else if(gn(l)){const $=Object.keys(l)[0],re=l[$];j=T(this.chart.scales[$].getPixelForValue(re))}P=e.top,Q=e.bottom,ae=j+k,Y=ae+b}else if(t==="y"){if(l==="center")j=T((e.left+e.right)/2);else if(gn(l)){const $=Object.keys(l)[0],re=l[$];j=T(this.chart.scales[$].getPixelForValue(re))}oe=j-k,K=oe-b,ue=e.left,M=e.right}const ne=$t(s.ticks.maxTicksLimit,m),pe=Math.max(1,Math.ceil(m/ne));for(q=0;q<m;q+=pe){const $=this.getContext(q),re=a.setContext($),ce=c.setContext($),J=re.lineWidth,_e=re.color,F=ce.dash||[],w=ce.dashOffset,D=re.tickWidth,z=re.tickColor,Z=re.tickBorderDash||[],le=re.tickBorderDashOffset;H=sR(this,q,h),H!==void 0&&(V=bu(i,H,J),f?oe=K=ue=M=V:ae=Y=P=Q=V,y.push({tx1:oe,ty1:ae,tx2:K,ty2:Y,x1:ue,y1:P,x2:M,y2:Q,width:J,color:_e,borderDash:F,borderDashOffset:w,tickWidth:D,tickColor:z,tickBorderDash:Z,tickBorderDashOffset:le}))}return this._ticksLength=m,this._borderValue=j,y}_computeLabelItems(e){const t=this.axis,i=this.options,{position:s,ticks:a}=i,l=this.isHorizontal(),c=this.ticks,{align:h,crossAlign:f,padding:p,mirror:m}=a,b=yd(i.grid),y=b+p,N=m?-p:y,E=-ml(this.labelRotation),k=[];let T,j,q,H,V,oe,ae,K,Y,ue,P,M,Q="middle";if(s==="top")oe=this.bottom-N,ae=this._getXAxisLabelAlignment();else if(s==="bottom")oe=this.top+N,ae=this._getXAxisLabelAlignment();else if(s==="left"){const pe=this._getYAxisLabelAlignment(b);ae=pe.textAlign,V=pe.x}else if(s==="right"){const pe=this._getYAxisLabelAlignment(b);ae=pe.textAlign,V=pe.x}else if(t==="x"){if(s==="center")oe=(e.top+e.bottom)/2+y;else if(gn(s)){const pe=Object.keys(s)[0],$=s[pe];oe=this.chart.scales[pe].getPixelForValue($)+y}ae=this._getXAxisLabelAlignment()}else if(t==="y"){if(s==="center")V=(e.left+e.right)/2-y;else if(gn(s)){const pe=Object.keys(s)[0],$=s[pe];V=this.chart.scales[pe].getPixelForValue($)}ae=this._getYAxisLabelAlignment(b).textAlign}t==="y"&&(h==="start"?Q="top":h==="end"&&(Q="bottom"));const ne=this._getLabelSizes();for(T=0,j=c.length;T<j;++T){q=c[T],H=q.label;const pe=a.setContext(this.getContext(T));K=this.getPixelForTick(T)+a.labelOffset,Y=this._resolveTickFontOptions(T),ue=Y.lineHeight,P=Xi(H)?H.length:1;const $=P/2,re=pe.color,ce=pe.textStrokeColor,J=pe.textStrokeWidth;let _e=ae;l?(V=K,ae==="inner"&&(T===j-1?_e=this.options.reverse?"left":"right":T===0?_e=this.options.reverse?"right":"left":_e="center"),s==="top"?f==="near"||E!==0?M=-P*ue+ue/2:f==="center"?M=-ne.highest.height/2-$*ue+ue:M=-ne.highest.height+ue/2:f==="near"||E!==0?M=ue/2:f==="center"?M=ne.highest.height/2-$*ue:M=ne.highest.height-P*ue,m&&(M*=-1),E!==0&&!pe.showLabelBackdrop&&(V+=ue/2*Math.sin(E))):(oe=K,M=(1-P)*ue/2);let F;if(pe.showLabelBackdrop){const w=oa(pe.backdropPadding),D=ne.heights[T],z=ne.widths[T];let Z=M-w.top,le=0-w.left;switch(Q){case"middle":Z-=D/2;break;case"bottom":Z-=D;break}switch(ae){case"center":le-=z/2;break;case"right":le-=z;break;case"inner":T===j-1?le-=z:T>0&&(le-=z/2);break}F={left:le,top:Z,width:z+w.width,height:D+w.height,color:pe.backdropColor}}k.push({label:H,font:Y,textOffset:M,options:{rotation:E,color:re,strokeColor:ce,strokeWidth:J,textAlign:_e,textBaseline:Q,translation:[V,oe],backdrop:F}})}return k}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-ml(this.labelRotation))return e==="top"?"left":"right";let s="center";return t.align==="start"?s="left":t.align==="end"?s="right":t.align==="inner"&&(s="inner"),s}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:i,mirror:s,padding:a}}=this.options,l=this._getLabelSizes(),c=e+a,h=l.widest.width;let f,p;return t==="left"?s?(p=this.right+a,i==="near"?f="left":i==="center"?(f="center",p+=h/2):(f="right",p+=h)):(p=this.right-c,i==="near"?f="right":i==="center"?(f="center",p-=h/2):(f="left",p=this.left)):t==="right"?s?(p=this.left+a,i==="near"?f="right":i==="center"?(f="center",p-=h/2):(f="left",p-=h)):(p=this.left+c,i==="near"?f="left":i==="center"?(f="center",p+=h/2):(f="right",p=this.right)):f="right",{textAlign:f,x:p}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;if(t==="left"||t==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(t==="top"||t==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:i,top:s,width:a,height:l}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(i,s,a,l),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const s=this.ticks.findIndex(a=>a.value===e);return s>=0?t.setContext(this.getContext(s)).lineWidth:0}drawGrid(e){const t=this.options.grid,i=this.ctx,s=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let a,l;const c=(h,f,p)=>{!p.width||!p.color||(i.save(),i.lineWidth=p.width,i.strokeStyle=p.color,i.setLineDash(p.borderDash||[]),i.lineDashOffset=p.borderDashOffset,i.beginPath(),i.moveTo(h.x,h.y),i.lineTo(f.x,f.y),i.stroke(),i.restore())};if(t.display)for(a=0,l=s.length;a<l;++a){const h=s[a];t.drawOnChartArea&&c({x:h.x1,y:h.y1},{x:h.x2,y:h.y2},h),t.drawTicks&&c({x:h.tx1,y:h.ty1},{x:h.tx2,y:h.ty2},{color:h.tickColor,width:h.tickWidth,borderDash:h.tickBorderDash,borderDashOffset:h.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{border:i,grid:s}}=this,a=i.setContext(this.getContext()),l=i.display?a.width:0;if(!l)return;const c=s.setContext(this.getContext(0)).lineWidth,h=this._borderValue;let f,p,m,b;this.isHorizontal()?(f=bu(e,this.left,l)-l/2,p=bu(e,this.right,c)+c/2,m=b=h):(m=bu(e,this.top,l)-l/2,b=bu(e,this.bottom,c)+c/2,f=p=h),t.save(),t.lineWidth=a.width,t.strokeStyle=a.color,t.beginPath(),t.moveTo(f,m),t.lineTo(p,b),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const i=this.ctx,s=this._computeLabelArea();s&&$y(i,s);const a=this.getLabelItems(e);for(const l of a){const c=l.options,h=l.font,f=l.label,p=l.textOffset;Qd(i,f,0,p,h,c)}s&&Xy(i)}drawTitle(){const{ctx:e,options:{position:t,title:i,reverse:s}}=this;if(!i.display)return;const a=Ds(i.font),l=oa(i.padding),c=i.align;let h=a.lineHeight/2;t==="bottom"||t==="center"||gn(t)?(h+=l.bottom,Xi(i.text)&&(h+=a.lineHeight*(i.text.length-1))):h+=l.top;const{titleX:f,titleY:p,maxWidth:m,rotation:b}=cR(this,h,t,c);Qd(e,i.text,0,0,a,{color:i.color,maxWidth:m,rotation:b,textAlign:lR(c,t,s),textBaseline:"middle",translation:[f,p]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,i=$t(e.grid&&e.grid.z,-1),s=$t(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==bf.prototype.draw?[{z:t,draw:a=>{this.draw(a)}}]:[{z:i,draw:a=>{this.drawBackground(),this.drawGrid(a),this.drawTitle()}},{z:s,draw:()=>{this.drawBorder()}},{z:t,draw:a=>{this.drawLabels(a)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",s=[];let a,l;for(a=0,l=t.length;a<l;++a){const c=t[a];c[i]===this.id&&(!e||c.type===e)&&s.push(c)}return s}_resolveTickFontOptions(e){const t=this.options.ticks.setContext(this.getContext(e));return Ds(t.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Rg{constructor(e,t,i){this.type=e,this.scope=t,this.override=i,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let i;fR(t)&&(i=this.register(t));const s=this.items,a=e.id,l=this.scope+"."+a;if(!a)throw new Error("class does not have id: "+e);return a in s||(s[a]=e,uR(e,l,i),this.override&&Mi.override(e.id,e.overrides)),l}get(e){return this.items[e]}unregister(e){const t=this.items,i=e.id,s=this.scope;i in t&&delete t[i],s&&i in Mi[s]&&(delete Mi[s][i],this.override&&delete Ou[i])}}function uR(n,e,t){const i=Gd(Object.create(null),[t?Mi.get(t):{},Mi.get(e),n.defaults]);Mi.set(e,i),n.defaultRoutes&&hR(e,n.defaultRoutes),n.descriptors&&Mi.describe(e,n.descriptors)}function hR(n,e){Object.keys(e).forEach(t=>{const i=t.split("."),s=i.pop(),a=[n].concat(i).join("."),l=e[t].split("."),c=l.pop(),h=l.join(".");Mi.route(a,s,h,c)})}function fR(n){return"id"in n&&"defaults"in n}class dR{constructor(){this.controllers=new Rg(Qm,"datasets",!0),this.elements=new Rg(Tl,"elements"),this.plugins=new Rg(Object,"plugins"),this.scales=new Rg(bf,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,t,i){[...t].forEach(s=>{const a=i||this._getRegistryForType(s);i||a.isForType(s)||a===this.plugins&&s.id?this._exec(e,a,s):Tn(s,l=>{const c=i||this._getRegistryForType(l);this._exec(e,c,l)})})}_exec(e,t,i){const s=qy(e);Zn(i["before"+s],[],i),t[e](i),Zn(i["after"+s],[],i)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const i=this._typedRegistries[t];if(i.isForType(e))return i}return this.plugins}_get(e,t,i){const s=t.get(e);if(s===void 0)throw new Error('"'+e+'" is not a registered '+i+".");return s}}var wo=new dR;class pR{constructor(){this._init=void 0}notify(e,t,i,s){if(t==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install")),this._init===void 0)return;const a=s?this._descriptors(e).filter(s):this._descriptors(e),l=this._notify(a,e,t,i);return t==="afterDestroy"&&(this._notify(a,e,"stop"),this._notify(this._init,e,"uninstall"),this._init=void 0),l}_notify(e,t,i,s){s=s||{};for(const a of e){const l=a.plugin,c=l[i],h=[t,s,a.options];if(Zn(c,h,l)===!1&&s.cancelable)return!1}return!0}invalidate(){Sn(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const i=e&&e.config,s=$t(i.options&&i.options.plugins,{}),a=gR(i);return s===!1&&!t?[]:yR(e,a,s,t)}_notifyStateChanges(e){const t=this._oldCache||[],i=this._cache,s=(a,l)=>a.filter(c=>!l.some(h=>c.plugin.id===h.plugin.id));this._notify(s(t,i),e,"stop"),this._notify(s(i,t),e,"start")}}function gR(n){const e={},t=[],i=Object.keys(wo.plugins.items);for(let a=0;a<i.length;a++)t.push(wo.getPlugin(i[a]));const s=n.plugins||[];for(let a=0;a<s.length;a++){const l=s[a];t.indexOf(l)===-1&&(t.push(l),e[l.id]=!0)}return{plugins:t,localIds:e}}function mR(n,e){return!e&&n===!1?null:n===!0?{}:n}function yR(n,{plugins:e,localIds:t},i,s){const a=[],l=n.getContext();for(const c of e){const h=c.id,f=mR(i[h],s);f!==null&&a.push({plugin:c,options:vR(n.config,{plugin:c,local:t[h]},f,l)})}return a}function vR(n,{plugin:e,local:t},i,s){const a=n.pluginScopeKeys(e),l=n.getOptionScopes(i,a);return t&&e.defaults&&l.push(e.defaults),n.createResolver(l,s,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function $2(n,e){const t=Mi.datasets[n]||{};return((e.datasets||{})[n]||{}).indexAxis||e.indexAxis||t.indexAxis||"x"}function bR(n,e){let t=n;return n==="_index_"?t=e:n==="_value_"&&(t=e==="x"?"y":"x"),t}function _R(n,e){return n===e?"_index_":"_value_"}function Sx(n){if(n==="x"||n==="y"||n==="r")return n}function xR(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function X2(n,...e){if(Sx(n))return n;for(const t of e){const i=t.axis||xR(t.position)||n.length>1&&Sx(n[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function Nx(n,e,t){if(t[e+"AxisID"]===n)return{axis:e}}function wR(n,e){if(e.data&&e.data.datasets){const t=e.data.datasets.filter(i=>i.xAxisID===n||i.yAxisID===n);if(t.length)return Nx(n,"x",t[0])||Nx(n,"y",t[0])}return{}}function SR(n,e){const t=Ou[n.type]||{scales:{}},i=e.scales||{},s=$2(n.type,e),a=Object.create(null);return Object.keys(i).forEach(l=>{const c=i[l];if(!gn(c))return console.error(`Invalid scale configuration for scale: ${l}`);if(c._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${l}`);const h=X2(l,c,wR(l,n),Mi.scales[c.type]),f=_R(h,s),p=t.scales||{};a[l]=Ld(Object.create(null),[{axis:h},c,p[h],p[f]])}),n.data.datasets.forEach(l=>{const c=l.type||n.type,h=l.indexAxis||$2(c,e),p=(Ou[c]||{}).scales||{};Object.keys(p).forEach(m=>{const b=bR(m,h),y=l[b+"AxisID"]||b;a[y]=a[y]||Object.create(null),Ld(a[y],[{axis:b},i[y],p[m]])})}),Object.keys(a).forEach(l=>{const c=a[l];Ld(c,[Mi.scales[c.type],Mi.scale])}),a}function T4(n){const e=n.options||(n.options={});e.plugins=$t(e.plugins,{}),e.scales=SR(n,e)}function L4(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function NR(n){return n=n||{},n.data=L4(n.data),T4(n),n}const Ax=new Map,R4=new Set;function Dg(n,e){let t=Ax.get(n);return t||(t=e(),Ax.set(n,t),R4.add(t)),t}const vd=(n,e,t)=>{const i=Mu(e,t);i!==void 0&&n.add(i)};class AR{constructor(e){this._config=NR(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=L4(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),T4(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Dg(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,t){return Dg(`${e}.transition.${t}`,()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,t){return Dg(`${e}-${t}`,()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]])}pluginScopeKeys(e){const t=e.id,i=this.type;return Dg(`${i}-plugin-${t}`,()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,t){const i=this._scopeCache;let s=i.get(e);return(!s||t)&&(s=new Map,i.set(e,s)),s}getOptionScopes(e,t,i){const{options:s,type:a}=this,l=this._cachedScopes(e,i),c=l.get(t);if(c)return c;const h=new Set;t.forEach(p=>{e&&(h.add(e),p.forEach(m=>vd(h,e,m))),p.forEach(m=>vd(h,s,m)),p.forEach(m=>vd(h,Ou[a]||{},m)),p.forEach(m=>vd(h,Mi,m)),p.forEach(m=>vd(h,G2,m))});const f=Array.from(h);return f.length===0&&f.push(Object.create(null)),R4.has(t)&&l.set(t,f),f}chartOptionScopes(){const{options:e,type:t}=this;return[e,Ou[t]||{},Mi.datasets[t]||{},{type:t},Mi,G2]}resolveNamedOptions(e,t,i,s=[""]){const a={$shared:!0},{resolver:l,subPrefixes:c}=Cx(this._resolverCache,e,s);let h=l;if(ER(l,t)){a.$shared=!1,i=Mc(i)?i():i;const f=this.createResolver(e,i,c);h=lf(l,i,f)}for(const f of t)a[f]=h[f];return a}createResolver(e,t,i=[""],s){const{resolver:a}=Cx(this._resolverCache,e,i);return gn(t)?lf(a,t,void 0,s):a}}function Cx(n,e,t){let i=n.get(e);i||(i=new Map,n.set(e,i));const s=t.join();let a=i.get(s);return a||(a={resolver:Qy(e,t),subPrefixes:t.filter(c=>!c.toLowerCase().includes("hover"))},i.set(s,a)),a}const CR=n=>gn(n)&&Object.getOwnPropertyNames(n).some(e=>Mc(n[e]));function ER(n,e){const{isScriptable:t,isIndexable:i}=d4(n);for(const s of e){const a=t(s),l=i(s),c=(l||a)&&n[s];if(a&&(Mc(c)||CR(c))||l&&Xi(c))return!0}return!1}var kR="4.5.1";const TR=["top","bottom","left","right","chartArea"];function Ex(n,e){return n==="top"||n==="bottom"||TR.indexOf(n)===-1&&e==="x"}function kx(n,e){return function(t,i){return t[n]===i[n]?t[e]-i[e]:t[n]-i[n]}}function Tx(n){const e=n.chart,t=e.options.animation;e.notifyPlugins("afterRender"),Zn(t&&t.onComplete,[n],e)}function LR(n){const e=n.chart,t=e.options.animation;Zn(t&&t.onProgress,[n],e)}function D4(n){return ev()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const Jg={},Lx=n=>{const e=D4(n);return Object.values(Jg).filter(t=>t.canvas===e).pop()};function RR(n,e,t){const i=Object.keys(n);for(const s of i){const a=+s;if(a>=e){const l=n[s];delete n[s],(t>0||a>e)&&(n[a+t]=l)}}}function DR(n,e,t,i){return!t||n.type==="mouseout"?null:i?e:n}let _f=class{static defaults=Mi;static instances=Jg;static overrides=Ou;static registry=wo;static version=kR;static getChart=Lx;static register(...e){wo.add(...e),Rx()}static unregister(...e){wo.remove(...e),Rx()}constructor(e,t){const i=this.config=new AR(t),s=D4(e),a=Lx(s);if(a)throw new Error("Canvas is already in use. Chart with ID '"+a.id+"' must be destroyed before the canvas with ID '"+a.canvas.id+"' can be reused.");const l=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||KL(s)),this.platform.updateConfig(i);const c=this.platform.acquireContext(s,l.aspectRatio),h=c&&c.canvas,f=h&&h.height,p=h&&h.width;if(this.id=ST(),this.ctx=c,this.canvas=h,this.width=p,this.height=f,this._options=l,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new pR,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=HT(m=>this.update(m),l.resizeDelay||0),this._dataChanges=[],Jg[this.id]=this,!c||!h){console.error("Failed to create chart: can't acquire context from the given item");return}fl.listen(this,"complete",Tx),fl.listen(this,"progress",LR),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:i,height:s,_aspectRatio:a}=this;return Sn(e)?t&&a?a:s?i/s:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return wo}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Z_(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return K_(this.canvas,this.ctx),this}stop(){return fl.stop(this),this}resize(e,t){fl.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const i=this.options,s=this.canvas,a=i.maintainAspectRatio&&this.aspectRatio,l=this.platform.getMaximumSize(s,e,t,a),c=i.devicePixelRatio||this.platform.getDevicePixelRatio(),h=this.width?"resize":"attach";this.width=l.width,this.height=l.height,this._aspectRatio=this.aspectRatio,Z_(this,c,!0)&&(this.notifyPlugins("resize",{size:l}),Zn(i.onResize,[this,l],this),this.attached&&this._doResize(h)&&this.render())}ensureScalesHaveIDs(){const t=this.options.scales||{};Tn(t,(i,s)=>{i.id=s})}buildOrUpdateScales(){const e=this.options,t=e.scales,i=this.scales,s=Object.keys(i).reduce((l,c)=>(l[c]=!1,l),{});let a=[];t&&(a=a.concat(Object.keys(t).map(l=>{const c=t[l],h=X2(l,c),f=h==="r",p=h==="x";return{options:c,dposition:f?"chartArea":p?"bottom":"left",dtype:f?"radialLinear":p?"category":"linear"}}))),Tn(a,l=>{const c=l.options,h=c.id,f=X2(h,c),p=$t(c.type,l.dtype);(c.position===void 0||Ex(c.position,f)!==Ex(l.dposition))&&(c.position=l.dposition),s[h]=!0;let m=null;if(h in i&&i[h].type===p)m=i[h];else{const b=wo.getScale(p);m=new b({id:h,type:p,ctx:this.ctx,chart:this}),i[m.id]=m}m.init(c,e)}),Tn(s,(l,c)=>{l||delete i[c]}),Tn(i,l=>{ra.configure(this,l,l.options),ra.addBox(this,l)})}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,i=e.length;if(e.sort((s,a)=>s.index-a.index),i>t){for(let s=t;s<i;++s)this._destroyDatasetMeta(s);e.splice(t,i-t)}this._sortedMetasets=e.slice(0).sort(kx("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach((i,s)=>{t.filter(a=>a===i._dataset).length===0&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let i,s;for(this._removeUnreferencedMetasets(),i=0,s=t.length;i<s;i++){const a=t[i];let l=this.getDatasetMeta(i);const c=a.type||this.config.type;if(l.type&&l.type!==c&&(this._destroyDatasetMeta(i),l=this.getDatasetMeta(i)),l.type=c,l.indexAxis=a.indexAxis||$2(c,this.options),l.order=a.order||0,l.index=i,l.label=""+a.label,l.visible=this.isDatasetVisible(i),l.controller)l.controller.updateIndex(i),l.controller.linkScales();else{const h=wo.getController(c),{datasetElementType:f,dataElementType:p}=Mi.datasets[c];Object.assign(h,{dataElementType:wo.getElement(p),datasetElementType:f&&wo.getElement(f)}),l.controller=new h(this,i),e.push(l.controller)}}return this._updateMetasets(),e}_resetElements(){Tn(this.data.datasets,(e,t)=>{this.getDatasetMeta(t).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const i=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const a=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let l=0;for(let f=0,p=this.data.datasets.length;f<p;f++){const{controller:m}=this.getDatasetMeta(f),b=!s&&a.indexOf(m)===-1;m.buildOrUpdateElements(b),l=Math.max(+m.getMaxOverflow(),l)}l=this._minPadding=i.layout.autoPadding?l:0,this._updateLayout(l),s||Tn(a,f=>{f.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(kx("z","_idx"));const{_active:c,_lastEvent:h}=this;h?this._eventHandler(h,!0):c.length&&this._updateHoverStyles(c,c,!0),this.render()}_updateScales(){Tn(this.scales,e=>{ra.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),i=new Set(e.events);(!z_(t,i)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:i,start:s,count:a}of t){const l=i==="_removeElements"?-a:a;RR(e,s,l)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,i=a=>new Set(e.filter(l=>l[0]===a).map((l,c)=>c+","+l.splice(1).join(","))),s=i(0);for(let a=1;a<t;a++)if(!z_(s,i(a)))return;return Array.from(s).map(a=>a.split(",")).map(a=>({method:a[1],start:+a[2],count:+a[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;ra.update(this,this.width,this.height,e);const t=this.chartArea,i=t.width<=0||t.height<=0;this._layers=[],Tn(this.boxes,s=>{i&&s.position==="chartArea"||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,a)=>{s._idx=a}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let t=0,i=this.data.datasets.length;t<i;++t)this.getDatasetMeta(t).controller.configure();for(let t=0,i=this.data.datasets.length;t<i;++t)this._updateDataset(t,Mc(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const i=this.getDatasetMeta(e),s={meta:i,index:e,mode:t,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",s)!==!1&&(i.controller._update(t),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(fl.has(this)?this.attached&&!fl.running(this)&&fl.start(this):(this.draw(),Tx({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:i,height:s}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,s)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,i=[];let s,a;for(s=0,a=t.length;s<a;++s){const l=t[s];(!e||l.visible)&&i.push(l)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,i={meta:e,index:e.index,cancelable:!0},s=$8(this,e);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(s&&$y(t,s),e.controller.draw(),s&&Xy(t),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(e){return Kd(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,i,s){const a=TL.modes[t];return typeof a=="function"?a(this,e,i,s):[]}getDatasetMeta(e){const t=this.data.datasets[e],i=this._metasets;let s=i.filter(a=>a&&a._dataset===t).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},i.push(s)),s}getContext(){return this.$context||(this.$context=qu(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const i=this.getDatasetMeta(e);return typeof i.hidden=="boolean"?!i.hidden:!t.hidden}setDatasetVisibility(e,t){const i=this.getDatasetMeta(e);i.hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,i){const s=i?"show":"hide",a=this.getDatasetMeta(e),l=a.controller._resolveAnimations(void 0,s);Yd(t)?(a.data[t].hidden=!i,this.update()):(this.setDatasetVisibility(e,i),l.update(a,{visible:i}),this.update(c=>c.datasetIndex===e?s:void 0))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),fl.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),K_(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete Jg[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,i=(a,l)=>{t.addEventListener(this,a,l),e[a]=l},s=(a,l,c)=>{a.offsetX=l,a.offsetY=c,this._eventHandler(a)};Tn(this.options.events,a=>i(a,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,i=(h,f)=>{t.addEventListener(this,h,f),e[h]=f},s=(h,f)=>{e[h]&&(t.removeEventListener(this,h,f),delete e[h])},a=(h,f)=>{this.canvas&&this.resize(h,f)};let l;const c=()=>{s("attach",c),this.attached=!0,this.resize(),i("resize",a),i("detach",l)};l=()=>{this.attached=!1,s("resize",a),this._stop(),this._resize(0,0),i("attach",c)},t.isAttached(this.canvas)?c():l()}unbindEvents(){Tn(this._listeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._listeners={},Tn(this._responsiveListeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,t,i){const s=i?"set":"remove";let a,l,c,h;for(t==="dataset"&&(a=this.getDatasetMeta(e[0].datasetIndex),a.controller["_"+s+"DatasetHoverStyle"]()),c=0,h=e.length;c<h;++c){l=e[c];const f=l&&this.getDatasetMeta(l.datasetIndex).controller;f&&f[s+"HoverStyle"](l.element,l.datasetIndex,l.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],i=e.map(({datasetIndex:a,index:l})=>{const c=this.getDatasetMeta(a);if(!c)throw new Error("No dataset found at index "+a);return{datasetIndex:a,element:c.data[l],index:l}});!hm(i,t)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,t))}notifyPlugins(e,t,i){return this._plugins.notify(this,e,t,i)}isPluginEnabled(e){return this._plugins._cache.filter(t=>t.plugin.id===e).length===1}_updateHoverStyles(e,t,i){const s=this.options.hover,a=(h,f)=>h.filter(p=>!f.some(m=>p.datasetIndex===m.datasetIndex&&p.index===m.index)),l=a(t,e),c=i?e:a(e,t);l.length&&this.updateHoverStyle(l,s.mode,!1),c.length&&s.mode&&this.updateHoverStyle(c,s.mode,!0)}_eventHandler(e,t){const i={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},s=l=>(l.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",i,s)===!1)return;const a=this._handleEvent(e,t,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,s),(a||i.changed)&&this.render(),this}_handleEvent(e,t,i){const{_active:s=[],options:a}=this,l=t,c=this._getActiveElements(e,s,i,l),h=TT(e),f=DR(e,this._lastEvent,i,h);i&&(this._lastEvent=null,Zn(a.onHover,[e,c,this],this),h&&Zn(a.onClick,[e,c,this],this));const p=!hm(c,s);return(p||t)&&(this._active=c,this._updateHoverStyles(c,s,t)),this._lastEvent=f,p}_getActiveElements(e,t,i,s){if(e.type==="mouseout")return[];if(!i)return t;const a=this.options.hover;return this.getElementsAtEventForMode(e,a.mode,a,s)}};function Rx(){return Tn(_f.instances,n=>n._plugins.invalidate())}function MR(n,e,t){const{startAngle:i,x:s,y:a,outerRadius:l,innerRadius:c,options:h}=e,{borderWidth:f,borderJoinStyle:p}=h,m=Math.min(f/l,Fa(i-t));if(n.beginPath(),n.arc(s,a,l-f/2,i+m/2,t-m/2),c>0){const b=Math.min(f/c,Fa(i-t));n.arc(s,a,c+f/2,t-b/2,i+b/2,!0)}else{const b=Math.min(f/2,l*Fa(i-t));if(p==="round")n.arc(s,a,b,t-Rn/2,i+Rn/2,!0);else if(p==="bevel"){const y=2*b*b,N=-y*Math.cos(t+Rn/2)+s,E=-y*Math.sin(t+Rn/2)+a,k=y*Math.cos(i+Rn/2)+s,T=y*Math.sin(i+Rn/2)+a;n.lineTo(N,E),n.lineTo(k,T)}}n.closePath(),n.moveTo(0,0),n.rect(0,0,n.canvas.width,n.canvas.height),n.clip("evenodd")}function OR(n,e,t){const{startAngle:i,pixelMargin:s,x:a,y:l,outerRadius:c,innerRadius:h}=e;let f=s/c;n.beginPath(),n.arc(a,l,c,i-f,t+f),h>s?(f=s/h,n.arc(a,l,h,t+f,i-f,!0)):n.arc(a,l,s,t+Ji,i-Ji),n.closePath(),n.clip()}function IR(n){return Ky(n,["outerStart","outerEnd","innerStart","innerEnd"])}function PR(n,e,t,i){const s=IR(n.options.borderRadius),a=(t-e)/2,l=Math.min(a,i*e/2),c=h=>{const f=(t-Math.min(a,h))*i/2;return Rs(h,0,Math.min(a,f))};return{outerStart:c(s.outerStart),outerEnd:c(s.outerEnd),innerStart:Rs(s.innerStart,0,l),innerEnd:Rs(s.innerEnd,0,l)}}function Bh(n,e,t,i){return{x:t+n*Math.cos(e),y:i+n*Math.sin(e)}}function ym(n,e,t,i,s,a){const{x:l,y:c,startAngle:h,pixelMargin:f,innerRadius:p}=e,m=Math.max(e.outerRadius+i+t-f,0),b=p>0?p+i+t+f:0;let y=0;const N=s-h;if(i){const pe=p>0?p-i:0,$=m>0?m-i:0,re=(pe+$)/2,ce=re!==0?N*re/(re+i):N;y=(N-ce)/2}const E=Math.max(.001,N*m-t/Rn)/m,k=(N-E)/2,T=h+k+y,j=s-k-y,{outerStart:q,outerEnd:H,innerStart:V,innerEnd:oe}=PR(e,b,m,j-T),ae=m-q,K=m-H,Y=T+q/ae,ue=j-H/K,P=b+V,M=b+oe,Q=T+V/P,ne=j-oe/M;if(n.beginPath(),a){const pe=(Y+ue)/2;if(n.arc(l,c,m,Y,pe),n.arc(l,c,m,pe,ue),H>0){const J=Bh(K,ue,l,c);n.arc(J.x,J.y,H,ue,j+Ji)}const $=Bh(M,j,l,c);if(n.lineTo($.x,$.y),oe>0){const J=Bh(M,ne,l,c);n.arc(J.x,J.y,oe,j+Ji,ne+Math.PI)}const re=(j-oe/b+(T+V/b))/2;if(n.arc(l,c,b,j-oe/b,re,!0),n.arc(l,c,b,re,T+V/b,!0),V>0){const J=Bh(P,Q,l,c);n.arc(J.x,J.y,V,Q+Math.PI,T-Ji)}const ce=Bh(ae,T,l,c);if(n.lineTo(ce.x,ce.y),q>0){const J=Bh(ae,Y,l,c);n.arc(J.x,J.y,q,T-Ji,Y)}}else{n.moveTo(l,c);const pe=Math.cos(Y)*m+l,$=Math.sin(Y)*m+c;n.lineTo(pe,$);const re=Math.cos(ue)*m+l,ce=Math.sin(ue)*m+c;n.lineTo(re,ce)}n.closePath()}function jR(n,e,t,i,s){const{fullCircles:a,startAngle:l,circumference:c}=e;let h=e.endAngle;if(a){ym(n,e,t,i,h,s);for(let f=0;f<a;++f)n.fill();isNaN(c)||(h=l+(c%Ni||Ni))}return ym(n,e,t,i,h,s),n.fill(),h}function FR(n,e,t,i,s){const{fullCircles:a,startAngle:l,circumference:c,options:h}=e,{borderWidth:f,borderJoinStyle:p,borderDash:m,borderDashOffset:b,borderRadius:y}=h,N=h.borderAlign==="inner";if(!f)return;n.setLineDash(m||[]),n.lineDashOffset=b,N?(n.lineWidth=f*2,n.lineJoin=p||"round"):(n.lineWidth=f,n.lineJoin=p||"bevel");let E=e.endAngle;if(a){ym(n,e,t,i,E,s);for(let k=0;k<a;++k)n.stroke();isNaN(c)||(E=l+(c%Ni||Ni))}N&&OR(n,e,E),h.selfJoin&&E-l>=Rn&&y===0&&p!=="miter"&&MR(n,e,E),a||(ym(n,e,t,i,E,s),n.stroke())}class BR extends Tl{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(e){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,t,i){const s=this.getProps(["x","y"],i),{angle:a,distance:l}=r4(s,{x:e,y:t}),{startAngle:c,endAngle:h,innerRadius:f,outerRadius:p,circumference:m}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),b=(this.options.spacing+this.options.borderWidth)/2,y=$t(m,h-c),N=Xd(a,c,h)&&c!==h,E=y>=Ni||N,k=wc(l,f+b,p+b);return E&&k}getCenterPoint(e){const{x:t,y:i,startAngle:s,endAngle:a,innerRadius:l,outerRadius:c}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:h,spacing:f}=this.options,p=(s+a)/2,m=(l+c+f+h)/2;return{x:t+Math.cos(p)*m,y:i+Math.sin(p)*m}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:t,circumference:i}=this,s=(t.offset||0)/4,a=(t.spacing||0)/2,l=t.circular;if(this.pixelMargin=t.borderAlign==="inner"?.33:0,this.fullCircles=i>Ni?Math.floor(i/Ni):0,i===0||this.innerRadius<0||this.outerRadius<0)return;e.save();const c=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(c)*s,Math.sin(c)*s);const h=1-Math.sin(Math.min(Rn,i||0)),f=s*h;e.fillStyle=t.backgroundColor,e.strokeStyle=t.borderColor,jR(e,this,f,a,l),FR(e,this,f,a,l),e.restore()}}function M4(n,e,t=e){n.lineCap=$t(t.borderCapStyle,e.borderCapStyle),n.setLineDash($t(t.borderDash,e.borderDash)),n.lineDashOffset=$t(t.borderDashOffset,e.borderDashOffset),n.lineJoin=$t(t.borderJoinStyle,e.borderJoinStyle),n.lineWidth=$t(t.borderWidth,e.borderWidth),n.strokeStyle=$t(t.borderColor,e.borderColor)}function zR(n,e,t){n.lineTo(t.x,t.y)}function UR(n){return n.stepped?n8:n.tension||n.cubicInterpolationMode==="monotone"?i8:zR}function O4(n,e,t={}){const i=n.length,{start:s=0,end:a=i-1}=t,{start:l,end:c}=e,h=Math.max(s,l),f=Math.min(a,c),p=s<l&&a<l||s>c&&a>c;return{count:i,start:h,loop:e.loop,ilen:f<h&&!p?i+f-h:f-h}}function HR(n,e,t,i){const{points:s,options:a}=e,{count:l,start:c,loop:h,ilen:f}=O4(s,t,i),p=UR(a);let{move:m=!0,reverse:b}=i||{},y,N,E;for(y=0;y<=f;++y)N=s[(c+(b?f-y:y))%l],!N.skip&&(m?(n.moveTo(N.x,N.y),m=!1):p(n,E,N,b,a.stepped),E=N);return h&&(N=s[(c+(b?f:0))%l],p(n,E,N,b,a.stepped)),!!h}function qR(n,e,t,i){const s=e.points,{count:a,start:l,ilen:c}=O4(s,t,i),{move:h=!0,reverse:f}=i||{};let p=0,m=0,b,y,N,E,k,T;const j=H=>(l+(f?c-H:H))%a,q=()=>{E!==k&&(n.lineTo(p,k),n.lineTo(p,E),n.lineTo(p,T))};for(h&&(y=s[j(0)],n.moveTo(y.x,y.y)),b=0;b<=c;++b){if(y=s[j(b)],y.skip)continue;const H=y.x,V=y.y,oe=H|0;oe===N?(V<E?E=V:V>k&&(k=V),p=(m*p+H)/++m):(q(),n.lineTo(H,V),N=oe,m=0,E=k=V),T=V}q()}function K2(n){const e=n.options,t=e.borderDash&&e.borderDash.length;return!n._decimated&&!n._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!t?qR:HR}function WR(n){return n.stepped?I8:n.tension||n.cubicInterpolationMode==="monotone"?P8:Su}function VR(n,e,t,i){let s=e._path;s||(s=e._path=new Path2D,e.path(s,t,i)&&s.closePath()),M4(n,e.options),n.stroke(s)}function GR(n,e,t,i){const{segments:s,options:a}=e,l=K2(e);for(const c of s)M4(n,a,c.style),n.beginPath(),l(n,e,c,{start:t,end:t+i-1})&&n.closePath(),n.stroke()}const YR=typeof Path2D=="function";function $R(n,e,t,i){YR&&!e.options.segment?VR(n,e,t,i):GR(n,e,t,i)}class XR extends Tl{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"};constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,t){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const s=i.spanGaps?this._loop:this._fullLoop;E8(this._points,i,e,s,t),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=W8(this,this.options.segment))}first(){const e=this.segments,t=this.points;return e.length&&t[e[0].start]}last(){const e=this.segments,t=this.points,i=e.length;return i&&t[e[i-1].end]}interpolate(e,t){const i=this.options,s=e[t],a=this.points,l=U8(this,{property:t,start:s,end:s});if(!l.length)return;const c=[],h=WR(i);let f,p;for(f=0,p=l.length;f<p;++f){const{start:m,end:b}=l[f],y=a[m],N=a[b];if(y===N){c.push(y);continue}const E=Math.abs((s-y[t])/(N[t]-y[t])),k=h(y,N,E,i.stepped);k[t]=e[t],c.push(k)}return c.length===1?c[0]:c}pathSegment(e,t,i){return K2(this)(e,this,t,i)}path(e,t,i){const s=this.segments,a=K2(this);let l=this._loop;t=t||0,i=i||this.points.length-t;for(const c of s)l&=a(e,this,c,{start:t,end:t+i-1});return!!l}draw(e,t,i,s){const a=this.options||{};(this.points||[]).length&&a.borderWidth&&(e.save(),$R(e,this,i,s),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function Dx(n,e,t,i){const s=n.options,{[t]:a}=n.getProps([t],i);return Math.abs(e-a)<s.radius+s.hitRadius}class KR extends Tl{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,t,i){const s=this.options,{x:a,y:l}=this.getProps(["x","y"],i);return Math.pow(e-a,2)+Math.pow(t-l,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(e,t){return Dx(this,e,"x",t)}inYRange(e,t){return Dx(this,e,"y",t)}getCenterPoint(e){const{x:t,y:i}=this.getProps(["x","y"],e);return{x:t,y:i}}size(e){e=e||this.options||{};let t=e.radius||0;t=Math.max(t,t&&e.hoverRadius||0);const i=t&&e.borderWidth||0;return(t+i)*2}draw(e,t){const i=this.options;this.skip||i.radius<.1||!Kd(this,t,this.size(i)/2)||(e.strokeStyle=i.borderColor,e.lineWidth=i.borderWidth,e.fillStyle=i.backgroundColor,Y2(e,i,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}function I4(n,e){const{x:t,y:i,base:s,width:a,height:l}=n.getProps(["x","y","base","width","height"],e);let c,h,f,p,m;return n.horizontal?(m=l/2,c=Math.min(t,s),h=Math.max(t,s),f=i-m,p=i+m):(m=a/2,c=t-m,h=t+m,f=Math.min(i,s),p=Math.max(i,s)),{left:c,top:f,right:h,bottom:p}}function Nc(n,e,t,i){return n?0:Rs(e,t,i)}function QR(n,e,t){const i=n.options.borderWidth,s=n.borderSkipped,a=f4(i);return{t:Nc(s.top,a.top,0,t),r:Nc(s.right,a.right,0,e),b:Nc(s.bottom,a.bottom,0,t),l:Nc(s.left,a.left,0,e)}}function JR(n,e,t){const{enableBorderRadius:i}=n.getProps(["enableBorderRadius"]),s=n.options.borderRadius,a=Xh(s),l=Math.min(e,t),c=n.borderSkipped,h=i||gn(s);return{topLeft:Nc(!h||c.top||c.left,a.topLeft,0,l),topRight:Nc(!h||c.top||c.right,a.topRight,0,l),bottomLeft:Nc(!h||c.bottom||c.left,a.bottomLeft,0,l),bottomRight:Nc(!h||c.bottom||c.right,a.bottomRight,0,l)}}function ZR(n){const e=I4(n),t=e.right-e.left,i=e.bottom-e.top,s=QR(n,t/2,i/2),a=JR(n,t/2,i/2);return{outer:{x:e.left,y:e.top,w:t,h:i,radius:a},inner:{x:e.left+s.l,y:e.top+s.t,w:t-s.l-s.r,h:i-s.t-s.b,radius:{topLeft:Math.max(0,a.topLeft-Math.max(s.t,s.l)),topRight:Math.max(0,a.topRight-Math.max(s.t,s.r)),bottomLeft:Math.max(0,a.bottomLeft-Math.max(s.b,s.l)),bottomRight:Math.max(0,a.bottomRight-Math.max(s.b,s.r))}}}}function $1(n,e,t,i){const s=e===null,a=t===null,c=n&&!(s&&a)&&I4(n,i);return c&&(s||wc(e,c.left,c.right))&&(a||wc(t,c.top,c.bottom))}function e7(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}function t7(n,e){n.rect(e.x,e.y,e.w,e.h)}function X1(n,e,t={}){const i=n.x!==t.x?-e:0,s=n.y!==t.y?-e:0,a=(n.x+n.w!==t.x+t.w?e:0)-i,l=(n.y+n.h!==t.y+t.h?e:0)-s;return{x:n.x+i,y:n.y+s,w:n.w+a,h:n.h+l,radius:n.radius}}class P4 extends Tl{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:t,options:{borderColor:i,backgroundColor:s}}=this,{inner:a,outer:l}=ZR(this),c=e7(l.radius)?pm:t7;e.save(),(l.w!==a.w||l.h!==a.h)&&(e.beginPath(),c(e,X1(l,t,a)),e.clip(),c(e,X1(a,-t,l)),e.fillStyle=i,e.fill("evenodd")),e.beginPath(),c(e,X1(a,t)),e.fillStyle=s,e.fill(),e.restore()}inRange(e,t,i){return $1(this,e,t,i)}inXRange(e,t){return $1(this,e,null,t)}inYRange(e,t){return $1(this,null,e,t)}getCenterPoint(e){const{x:t,y:i,base:s,horizontal:a}=this.getProps(["x","y","base","horizontal"],e);return{x:a?(t+s)/2:t,y:a?i:(i+s)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}const Mx=(n,e)=>{let{boxHeight:t=e,boxWidth:i=e}=n;return n.usePointStyle&&(t=Math.min(t,e),i=n.pointStyleWidth||Math.min(i,e)),{boxWidth:i,boxHeight:t,itemHeight:Math.max(e,t)}},n7=(n,e)=>n!==null&&e!==null&&n.datasetIndex===e.datasetIndex&&n.index===e.index;class Ox extends Tl{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,i){this.maxWidth=e,this.maxHeight=t,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=Zn(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter(i=>e.filter(i,this.chart.data))),e.sort&&(t=t.sort((i,s)=>e.sort(i,s,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display){this.width=this.height=0;return}const i=e.labels,s=Ds(i.font),a=s.size,l=this._computeTitleHeight(),{boxWidth:c,itemHeight:h}=Mx(i,a);let f,p;t.font=s.string,this.isHorizontal()?(f=this.maxWidth,p=this._fitRows(l,a,c,h)+10):(p=this.maxHeight,f=this._fitCols(l,s,c,h)+10),this.width=Math.min(f,e.maxWidth||this.maxWidth),this.height=Math.min(p,e.maxHeight||this.maxHeight)}_fitRows(e,t,i,s){const{ctx:a,maxWidth:l,options:{labels:{padding:c}}}=this,h=this.legendHitBoxes=[],f=this.lineWidths=[0],p=s+c;let m=e;a.textAlign="left",a.textBaseline="middle";let b=-1,y=-p;return this.legendItems.forEach((N,E)=>{const k=i+t/2+a.measureText(N.text).width;(E===0||f[f.length-1]+k+2*c>l)&&(m+=p,f[f.length-(E>0?0:1)]=0,y+=p,b++),h[E]={left:0,top:y,row:b,width:k,height:s},f[f.length-1]+=k+c}),m}_fitCols(e,t,i,s){const{ctx:a,maxHeight:l,options:{labels:{padding:c}}}=this,h=this.legendHitBoxes=[],f=this.columnSizes=[],p=l-e;let m=c,b=0,y=0,N=0,E=0;return this.legendItems.forEach((k,T)=>{const{itemWidth:j,itemHeight:q}=i7(i,t,a,k,s);T>0&&y+q+2*c>p&&(m+=b+c,f.push({width:b,height:y}),N+=b+c,E++,b=y=0),h[T]={left:N,top:y,col:E,width:j,height:q},b=Math.max(b,j),y+=q+c}),m+=b,f.push({width:b,height:y}),m}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:i,labels:{padding:s},rtl:a}}=this,l=Kh(a,this.left,this.width);if(this.isHorizontal()){let c=0,h=Ts(i,this.left+s,this.right-this.lineWidths[c]);for(const f of t)c!==f.row&&(c=f.row,h=Ts(i,this.left+s,this.right-this.lineWidths[c])),f.top+=this.top+e+s,f.left=l.leftForLtr(l.x(h),f.width),h+=f.width+s}else{let c=0,h=Ts(i,this.top+e+s,this.bottom-this.columnSizes[c].height);for(const f of t)f.col!==c&&(c=f.col,h=Ts(i,this.top+e+s,this.bottom-this.columnSizes[c].height)),f.top=h,f.left+=this.left+s,f.left=l.leftForLtr(l.x(f.left),f.width),h+=f.height+s}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;$y(e,this),this._draw(),Xy(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:i,ctx:s}=this,{align:a,labels:l}=e,c=Mi.color,h=Kh(e.rtl,this.left,this.width),f=Ds(l.font),{padding:p}=l,m=f.size,b=m/2;let y;this.drawTitle(),s.textAlign=h.textAlign("left"),s.textBaseline="middle",s.lineWidth=.5,s.font=f.string;const{boxWidth:N,boxHeight:E,itemHeight:k}=Mx(l,m),T=function(oe,ae,K){if(isNaN(N)||N<=0||isNaN(E)||E<0)return;s.save();const Y=$t(K.lineWidth,1);if(s.fillStyle=$t(K.fillStyle,c),s.lineCap=$t(K.lineCap,"butt"),s.lineDashOffset=$t(K.lineDashOffset,0),s.lineJoin=$t(K.lineJoin,"miter"),s.lineWidth=Y,s.strokeStyle=$t(K.strokeStyle,c),s.setLineDash($t(K.lineDash,[])),l.usePointStyle){const ue={radius:E*Math.SQRT2/2,pointStyle:K.pointStyle,rotation:K.rotation,borderWidth:Y},P=h.xPlus(oe,N/2),M=ae+b;h4(s,ue,P,M,l.pointStyleWidth&&N)}else{const ue=ae+Math.max((m-E)/2,0),P=h.leftForLtr(oe,N),M=Xh(K.borderRadius);s.beginPath(),Object.values(M).some(Q=>Q!==0)?pm(s,{x:P,y:ue,w:N,h:E,radius:M}):s.rect(P,ue,N,E),s.fill(),Y!==0&&s.stroke()}s.restore()},j=function(oe,ae,K){Qd(s,K.text,oe,ae+k/2,f,{strikethrough:K.hidden,textAlign:h.textAlign(K.textAlign)})},q=this.isHorizontal(),H=this._computeTitleHeight();q?y={x:Ts(a,this.left+p,this.right-i[0]),y:this.top+p+H,line:0}:y={x:this.left+p,y:Ts(a,this.top+H+p,this.bottom-t[0].height),line:0},v4(this.ctx,e.textDirection);const V=k+p;this.legendItems.forEach((oe,ae)=>{s.strokeStyle=oe.fontColor,s.fillStyle=oe.fontColor;const K=s.measureText(oe.text).width,Y=h.textAlign(oe.textAlign||(oe.textAlign=l.textAlign)),ue=N+b+K;let P=y.x,M=y.y;h.setWidth(this.width),q?ae>0&&P+ue+p>this.right&&(M=y.y+=V,y.line++,P=y.x=Ts(a,this.left+p,this.right-i[y.line])):ae>0&&M+V>this.bottom&&(P=y.x=P+t[y.line].width+p,y.line++,M=y.y=Ts(a,this.top+H+p,this.bottom-t[y.line].height));const Q=h.x(P);if(T(Q,M,oe),P=qT(Y,P+N+b,q?P+ue:this.right,e.rtl),j(h.x(P),M,oe),q)y.x+=ue+p;else if(typeof oe.text!="string"){const ne=f.lineHeight;y.y+=j4(oe,ne)+p}else y.y+=V}),b4(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,i=Ds(t.font),s=oa(t.padding);if(!t.display)return;const a=Kh(e.rtl,this.left,this.width),l=this.ctx,c=t.position,h=i.size/2,f=s.top+h;let p,m=this.left,b=this.width;if(this.isHorizontal())b=Math.max(...this.lineWidths),p=this.top+f,m=Ts(e.align,m,this.right-b);else{const N=this.columnSizes.reduce((E,k)=>Math.max(E,k.height),0);p=f+Ts(e.align,this.top,this.bottom-N-e.labels.padding-this._computeTitleHeight())}const y=Ts(c,m,m+b);l.textAlign=a.textAlign(Vy(c)),l.textBaseline="middle",l.strokeStyle=t.color,l.fillStyle=t.color,l.font=i.string,Qd(l,t.text,y,p,i)}_computeTitleHeight(){const e=this.options.title,t=Ds(e.font),i=oa(e.padding);return e.display?t.lineHeight+i.height:0}_getLegendItemAt(e,t){let i,s,a;if(wc(e,this.left,this.right)&&wc(t,this.top,this.bottom)){for(a=this.legendHitBoxes,i=0;i<a.length;++i)if(s=a[i],wc(e,s.left,s.left+s.width)&&wc(t,s.top,s.top+s.height))return this.legendItems[i]}return null}handleEvent(e){const t=this.options;if(!a7(e.type,t))return;const i=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const s=this._hoveredItem,a=n7(s,i);s&&!a&&Zn(t.onLeave,[e,s,this],this),this._hoveredItem=i,i&&!a&&Zn(t.onHover,[e,i,this],this)}else i&&Zn(t.onClick,[e,i,this],this)}}function i7(n,e,t,i,s){const a=s7(i,n,e,t),l=r7(s,i,e.lineHeight);return{itemWidth:a,itemHeight:l}}function s7(n,e,t,i){let s=n.text;return s&&typeof s!="string"&&(s=s.reduce((a,l)=>a.length>l.length?a:l)),e+t.size/2+i.measureText(s).width}function r7(n,e,t){let i=n;return typeof e.text!="string"&&(i=j4(e,t)),i}function j4(n,e){const t=n.text?n.text.length:0;return e*t}function a7(n,e){return!!((n==="mousemove"||n==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(n==="click"||n==="mouseup"))}var iv={id:"legend",_element:Ox,start(n,e,t){const i=n.legend=new Ox({ctx:n.ctx,options:t,chart:n});ra.configure(n,i,t),ra.addBox(n,i)},stop(n){ra.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,e,t){const i=n.legend;ra.configure(n,i,t),i.options=t},afterUpdate(n){const e=n.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(n,e){e.replay||n.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,e,t){const i=e.datasetIndex,s=t.chart;s.isDatasetVisible(i)?(s.hide(i),e.hidden=!0):(s.show(i),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const e=n.data.datasets,{labels:{usePointStyle:t,pointStyle:i,textAlign:s,color:a,useBorderRadius:l,borderRadius:c}}=n.legend.options;return n._getSortedDatasetMetas().map(h=>{const f=h.controller.getStyle(t?0:void 0),p=oa(f.borderWidth);return{text:e[h.index].label,fillStyle:f.backgroundColor,fontColor:a,hidden:!h.visible,lineCap:f.borderCapStyle,lineDash:f.borderDash,lineDashOffset:f.borderDashOffset,lineJoin:f.borderJoinStyle,lineWidth:(p.width+p.height)/4,strokeStyle:f.borderColor,pointStyle:i||f.pointStyle,rotation:f.rotation,textAlign:s||f.textAlign,borderRadius:l&&(c||f.borderRadius),datasetIndex:h.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};class F4 extends Tl{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=t;const s=Xi(i.text)?i.text.length:1;this._padding=oa(i.padding);const a=s*Ds(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=a:this.width=a}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:t,left:i,bottom:s,right:a,options:l}=this,c=l.align;let h=0,f,p,m;return this.isHorizontal()?(p=Ts(c,i,a),m=t+e,f=a-i):(l.position==="left"?(p=i+e,m=Ts(c,s,t),h=Rn*-.5):(p=a-e,m=Ts(c,t,s),h=Rn*.5),f=s-t),{titleX:p,titleY:m,maxWidth:f,rotation:h}}draw(){const e=this.ctx,t=this.options;if(!t.display)return;const i=Ds(t.font),a=i.lineHeight/2+this._padding.top,{titleX:l,titleY:c,maxWidth:h,rotation:f}=this._drawArgs(a);Qd(e,t.text,0,0,i,{color:t.color,maxWidth:h,rotation:f,textAlign:Vy(t.align),textBaseline:"middle",translation:[l,c]})}}function o7(n,e){const t=new F4({ctx:n.ctx,options:e,chart:n});ra.configure(n,t,e),ra.addBox(n,t),n.titleBlock=t}var B4={id:"title",_element:F4,start(n,e,t){o7(n,t)},stop(n){const e=n.titleBlock;ra.removeBox(n,e),delete n.titleBlock},beforeUpdate(n,e,t){const i=n.titleBlock;ra.configure(n,i,t),i.options=t},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Td={average(n){if(!n.length)return!1;let e,t,i=new Set,s=0,a=0;for(e=0,t=n.length;e<t;++e){const c=n[e].element;if(c&&c.hasValue()){const h=c.tooltipPosition();i.add(h.x),s+=h.y,++a}}return a===0||i.size===0?!1:{x:[...i].reduce((c,h)=>c+h)/i.size,y:s/a}},nearest(n,e){if(!n.length)return!1;let t=e.x,i=e.y,s=Number.POSITIVE_INFINITY,a,l,c;for(a=0,l=n.length;a<l;++a){const h=n[a].element;if(h&&h.hasValue()){const f=h.getCenterPoint(),p=V2(e,f);p<s&&(s=p,c=h)}}if(c){const h=c.tooltipPosition();t=h.x,i=h.y}return{x:t,y:i}}};function _o(n,e){return e&&(Xi(e)?Array.prototype.push.apply(n,e):n.push(e)),n}function dl(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function l7(n,e){const{element:t,datasetIndex:i,index:s}=e,a=n.getDatasetMeta(i).controller,{label:l,value:c}=a.getLabelAndValue(s);return{chart:n,label:l,parsed:a.getParsed(s),raw:n.data.datasets[i].data[s],formattedValue:c,dataset:a.getDataset(),dataIndex:s,datasetIndex:i,element:t}}function Ix(n,e){const t=n.chart.ctx,{body:i,footer:s,title:a}=n,{boxWidth:l,boxHeight:c}=e,h=Ds(e.bodyFont),f=Ds(e.titleFont),p=Ds(e.footerFont),m=a.length,b=s.length,y=i.length,N=oa(e.padding);let E=N.height,k=0,T=i.reduce((H,V)=>H+V.before.length+V.lines.length+V.after.length,0);if(T+=n.beforeBody.length+n.afterBody.length,m&&(E+=m*f.lineHeight+(m-1)*e.titleSpacing+e.titleMarginBottom),T){const H=e.displayColors?Math.max(c,h.lineHeight):h.lineHeight;E+=y*H+(T-y)*h.lineHeight+(T-1)*e.bodySpacing}b&&(E+=e.footerMarginTop+b*p.lineHeight+(b-1)*e.footerSpacing);let j=0;const q=function(H){k=Math.max(k,t.measureText(H).width+j)};return t.save(),t.font=f.string,Tn(n.title,q),t.font=h.string,Tn(n.beforeBody.concat(n.afterBody),q),j=e.displayColors?l+2+e.boxPadding:0,Tn(i,H=>{Tn(H.before,q),Tn(H.lines,q),Tn(H.after,q)}),j=0,t.font=p.string,Tn(n.footer,q),t.restore(),k+=N.width,{width:k,height:E}}function c7(n,e){const{y:t,height:i}=e;return t<i/2?"top":t>n.height-i/2?"bottom":"center"}function u7(n,e,t,i){const{x:s,width:a}=i,l=t.caretSize+t.caretPadding;if(n==="left"&&s+a+l>e.width||n==="right"&&s-a-l<0)return!0}function h7(n,e,t,i){const{x:s,width:a}=t,{width:l,chartArea:{left:c,right:h}}=n;let f="center";return i==="center"?f=s<=(c+h)/2?"left":"right":s<=a/2?f="left":s>=l-a/2&&(f="right"),u7(f,n,e,t)&&(f="center"),f}function Px(n,e,t){const i=t.yAlign||e.yAlign||c7(n,t);return{xAlign:t.xAlign||e.xAlign||h7(n,e,t,i),yAlign:i}}function f7(n,e){let{x:t,width:i}=n;return e==="right"?t-=i:e==="center"&&(t-=i/2),t}function d7(n,e,t){let{y:i,height:s}=n;return e==="top"?i+=t:e==="bottom"?i-=s+t:i-=s/2,i}function jx(n,e,t,i){const{caretSize:s,caretPadding:a,cornerRadius:l}=n,{xAlign:c,yAlign:h}=t,f=s+a,{topLeft:p,topRight:m,bottomLeft:b,bottomRight:y}=Xh(l);let N=f7(e,c);const E=d7(e,h,f);return h==="center"?c==="left"?N+=f:c==="right"&&(N-=f):c==="left"?N-=Math.max(p,b)+s:c==="right"&&(N+=Math.max(m,y)+s),{x:Rs(N,0,i.width-e.width),y:Rs(E,0,i.height-e.height)}}function Mg(n,e,t){const i=oa(t.padding);return e==="center"?n.x+n.width/2:e==="right"?n.x+n.width-i.right:n.x+i.left}function Fx(n){return _o([],dl(n))}function p7(n,e,t){return qu(n,{tooltip:e,tooltipItems:t,type:"tooltip"})}function Bx(n,e){const t=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return t?n.override(t):n}const z4={beforeTitle:rl,title(n){if(n.length>0){const e=n[0],t=e.chart.data.labels,i=t?t.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(i>0&&e.dataIndex<i)return t[e.dataIndex]}return""},afterTitle:rl,beforeBody:rl,beforeLabel:rl,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let e=n.dataset.label||"";e&&(e+=": ");const t=n.formattedValue;return Sn(t)||(e+=t),e},labelColor(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:rl,afterBody:rl,beforeFooter:rl,footer:rl,afterFooter:rl};function hr(n,e,t,i){const s=n[e].call(t,i);return typeof s>"u"?z4[e].call(t,i):s}class zx extends Tl{static positioners=Td;constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,i=this.options.setContext(this.getContext()),s=i.enabled&&t.options.animation&&i.animations,a=new x4(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(a)),a}getContext(){return this.$context||(this.$context=p7(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,t){const{callbacks:i}=t,s=hr(i,"beforeTitle",this,e),a=hr(i,"title",this,e),l=hr(i,"afterTitle",this,e);let c=[];return c=_o(c,dl(s)),c=_o(c,dl(a)),c=_o(c,dl(l)),c}getBeforeBody(e,t){return Fx(hr(t.callbacks,"beforeBody",this,e))}getBody(e,t){const{callbacks:i}=t,s=[];return Tn(e,a=>{const l={before:[],lines:[],after:[]},c=Bx(i,a);_o(l.before,dl(hr(c,"beforeLabel",this,a))),_o(l.lines,hr(c,"label",this,a)),_o(l.after,dl(hr(c,"afterLabel",this,a))),s.push(l)}),s}getAfterBody(e,t){return Fx(hr(t.callbacks,"afterBody",this,e))}getFooter(e,t){const{callbacks:i}=t,s=hr(i,"beforeFooter",this,e),a=hr(i,"footer",this,e),l=hr(i,"afterFooter",this,e);let c=[];return c=_o(c,dl(s)),c=_o(c,dl(a)),c=_o(c,dl(l)),c}_createItems(e){const t=this._active,i=this.chart.data,s=[],a=[],l=[];let c=[],h,f;for(h=0,f=t.length;h<f;++h)c.push(l7(this.chart,t[h]));return e.filter&&(c=c.filter((p,m,b)=>e.filter(p,m,b,i))),e.itemSort&&(c=c.sort((p,m)=>e.itemSort(p,m,i))),Tn(c,p=>{const m=Bx(e.callbacks,p);s.push(hr(m,"labelColor",this,p)),a.push(hr(m,"labelPointStyle",this,p)),l.push(hr(m,"labelTextColor",this,p))}),this.labelColors=s,this.labelPointStyles=a,this.labelTextColors=l,this.dataPoints=c,c}update(e,t){const i=this.options.setContext(this.getContext()),s=this._active;let a,l=[];if(!s.length)this.opacity!==0&&(a={opacity:0});else{const c=Td[i.position].call(this,s,this._eventPosition);l=this._createItems(i),this.title=this.getTitle(l,i),this.beforeBody=this.getBeforeBody(l,i),this.body=this.getBody(l,i),this.afterBody=this.getAfterBody(l,i),this.footer=this.getFooter(l,i);const h=this._size=Ix(this,i),f=Object.assign({},c,h),p=Px(this.chart,i,f),m=jx(i,f,p,this.chart);this.xAlign=p.xAlign,this.yAlign=p.yAlign,a={opacity:1,x:m.x,y:m.y,width:h.width,height:h.height,caretX:c.x,caretY:c.y}}this._tooltipItems=l,this.$context=void 0,a&&this._resolveAnimations().update(this,a),e&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,i,s){const a=this.getCaretPosition(e,i,s);t.lineTo(a.x1,a.y1),t.lineTo(a.x2,a.y2),t.lineTo(a.x3,a.y3)}getCaretPosition(e,t,i){const{xAlign:s,yAlign:a}=this,{caretSize:l,cornerRadius:c}=i,{topLeft:h,topRight:f,bottomLeft:p,bottomRight:m}=Xh(c),{x:b,y}=e,{width:N,height:E}=t;let k,T,j,q,H,V;return a==="center"?(H=y+E/2,s==="left"?(k=b,T=k-l,q=H+l,V=H-l):(k=b+N,T=k+l,q=H-l,V=H+l),j=k):(s==="left"?T=b+Math.max(h,p)+l:s==="right"?T=b+N-Math.max(f,m)-l:T=this.caretX,a==="top"?(q=y,H=q-l,k=T-l,j=T+l):(q=y+E,H=q+l,k=T+l,j=T-l),V=q),{x1:k,x2:T,x3:j,y1:q,y2:H,y3:V}}drawTitle(e,t,i){const s=this.title,a=s.length;let l,c,h;if(a){const f=Kh(i.rtl,this.x,this.width);for(e.x=Mg(this,i.titleAlign,i),t.textAlign=f.textAlign(i.titleAlign),t.textBaseline="middle",l=Ds(i.titleFont),c=i.titleSpacing,t.fillStyle=i.titleColor,t.font=l.string,h=0;h<a;++h)t.fillText(s[h],f.x(e.x),e.y+l.lineHeight/2),e.y+=l.lineHeight+c,h+1===a&&(e.y+=i.titleMarginBottom-c)}}_drawColorBox(e,t,i,s,a){const l=this.labelColors[i],c=this.labelPointStyles[i],{boxHeight:h,boxWidth:f}=a,p=Ds(a.bodyFont),m=Mg(this,"left",a),b=s.x(m),y=h<p.lineHeight?(p.lineHeight-h)/2:0,N=t.y+y;if(a.usePointStyle){const E={radius:Math.min(f,h)/2,pointStyle:c.pointStyle,rotation:c.rotation,borderWidth:1},k=s.leftForLtr(b,f)+f/2,T=N+h/2;e.strokeStyle=a.multiKeyBackground,e.fillStyle=a.multiKeyBackground,Y2(e,E,k,T),e.strokeStyle=l.borderColor,e.fillStyle=l.backgroundColor,Y2(e,E,k,T)}else{e.lineWidth=gn(l.borderWidth)?Math.max(...Object.values(l.borderWidth)):l.borderWidth||1,e.strokeStyle=l.borderColor,e.setLineDash(l.borderDash||[]),e.lineDashOffset=l.borderDashOffset||0;const E=s.leftForLtr(b,f),k=s.leftForLtr(s.xPlus(b,1),f-2),T=Xh(l.borderRadius);Object.values(T).some(j=>j!==0)?(e.beginPath(),e.fillStyle=a.multiKeyBackground,pm(e,{x:E,y:N,w:f,h,radius:T}),e.fill(),e.stroke(),e.fillStyle=l.backgroundColor,e.beginPath(),pm(e,{x:k,y:N+1,w:f-2,h:h-2,radius:T}),e.fill()):(e.fillStyle=a.multiKeyBackground,e.fillRect(E,N,f,h),e.strokeRect(E,N,f,h),e.fillStyle=l.backgroundColor,e.fillRect(k,N+1,f-2,h-2))}e.fillStyle=this.labelTextColors[i]}drawBody(e,t,i){const{body:s}=this,{bodySpacing:a,bodyAlign:l,displayColors:c,boxHeight:h,boxWidth:f,boxPadding:p}=i,m=Ds(i.bodyFont);let b=m.lineHeight,y=0;const N=Kh(i.rtl,this.x,this.width),E=function(K){t.fillText(K,N.x(e.x+y),e.y+b/2),e.y+=b+a},k=N.textAlign(l);let T,j,q,H,V,oe,ae;for(t.textAlign=l,t.textBaseline="middle",t.font=m.string,e.x=Mg(this,k,i),t.fillStyle=i.bodyColor,Tn(this.beforeBody,E),y=c&&k!=="right"?l==="center"?f/2+p:f+2+p:0,H=0,oe=s.length;H<oe;++H){for(T=s[H],j=this.labelTextColors[H],t.fillStyle=j,Tn(T.before,E),q=T.lines,c&&q.length&&(this._drawColorBox(t,e,H,N,i),b=Math.max(m.lineHeight,h)),V=0,ae=q.length;V<ae;++V)E(q[V]),b=m.lineHeight;Tn(T.after,E)}y=0,b=m.lineHeight,Tn(this.afterBody,E),e.y-=a}drawFooter(e,t,i){const s=this.footer,a=s.length;let l,c;if(a){const h=Kh(i.rtl,this.x,this.width);for(e.x=Mg(this,i.footerAlign,i),e.y+=i.footerMarginTop,t.textAlign=h.textAlign(i.footerAlign),t.textBaseline="middle",l=Ds(i.footerFont),t.fillStyle=i.footerColor,t.font=l.string,c=0;c<a;++c)t.fillText(s[c],h.x(e.x),e.y+l.lineHeight/2),e.y+=l.lineHeight+i.footerSpacing}}drawBackground(e,t,i,s){const{xAlign:a,yAlign:l}=this,{x:c,y:h}=e,{width:f,height:p}=i,{topLeft:m,topRight:b,bottomLeft:y,bottomRight:N}=Xh(s.cornerRadius);t.fillStyle=s.backgroundColor,t.strokeStyle=s.borderColor,t.lineWidth=s.borderWidth,t.beginPath(),t.moveTo(c+m,h),l==="top"&&this.drawCaret(e,t,i,s),t.lineTo(c+f-b,h),t.quadraticCurveTo(c+f,h,c+f,h+b),l==="center"&&a==="right"&&this.drawCaret(e,t,i,s),t.lineTo(c+f,h+p-N),t.quadraticCurveTo(c+f,h+p,c+f-N,h+p),l==="bottom"&&this.drawCaret(e,t,i,s),t.lineTo(c+y,h+p),t.quadraticCurveTo(c,h+p,c,h+p-y),l==="center"&&a==="left"&&this.drawCaret(e,t,i,s),t.lineTo(c,h+m),t.quadraticCurveTo(c,h,c+m,h),t.closePath(),t.fill(),s.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,i=this.$animations,s=i&&i.x,a=i&&i.y;if(s||a){const l=Td[e.position].call(this,this._active,this._eventPosition);if(!l)return;const c=this._size=Ix(this,e),h=Object.assign({},l,this._size),f=Px(t,e,h),p=jx(e,h,f,t);(s._to!==p.x||a._to!==p.y)&&(this.xAlign=f.xAlign,this.yAlign=f.yAlign,this.width=c.width,this.height=c.height,this.caretX=l.x,this.caretY=l.y,this._resolveAnimations().update(this,p))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(t);const s={width:this.width,height:this.height},a={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const l=oa(t.padding),c=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&c&&(e.save(),e.globalAlpha=i,this.drawBackground(a,e,s,t),v4(e,t.textDirection),a.y+=l.top,this.drawTitle(a,e,t),this.drawBody(a,e,t),this.drawFooter(a,e,t),b4(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const i=this._active,s=e.map(({datasetIndex:c,index:h})=>{const f=this.chart.getDatasetMeta(c);if(!f)throw new Error("Cannot find a dataset at index "+c);return{datasetIndex:c,element:f.data[h],index:h}}),a=!hm(i,s),l=this._positionChanged(s,t);(a||l)&&(this._active=s,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t,i=!0){if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const s=this.options,a=this._active||[],l=this._getActiveElements(e,a,t,i),c=this._positionChanged(l,e),h=t||!hm(l,a)||c;return h&&(this._active=l,(s.enabled||s.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),h}_getActiveElements(e,t,i,s){const a=this.options;if(e.type==="mouseout")return[];if(!s)return t.filter(c=>this.chart.data.datasets[c.datasetIndex]&&this.chart.getDatasetMeta(c.datasetIndex).controller.getParsed(c.index)!==void 0);const l=this.chart.getElementsAtEventForMode(e,a.mode,a,i);return a.reverse&&l.reverse(),l}_positionChanged(e,t){const{caretX:i,caretY:s,options:a}=this,l=Td[a.position].call(this,e,t);return l!==!1&&(i!==l.x||s!==l.y)}}var sv={id:"tooltip",_element:zx,positioners:Td,afterInit(n,e,t){t&&(n.tooltip=new zx({chart:n,options:t}))},beforeUpdate(n,e,t){n.tooltip&&n.tooltip.initialize(t)},reset(n,e,t){n.tooltip&&n.tooltip.initialize(t)},afterDraw(n){const e=n.tooltip;if(e&&e._willRender()){const t={tooltip:e};if(n.notifyPlugins("beforeTooltipDraw",{...t,cancelable:!0})===!1)return;e.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",t)}},afterEvent(n,e){if(n.tooltip){const t=e.replay;n.tooltip.handleEvent(e.event,t,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,e)=>e.bodyFont.size,boxWidth:(n,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:z4},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const g7=(n,e,t,i)=>(typeof e=="string"?(t=n.push(e)-1,i.unshift({index:t,label:e})):isNaN(e)&&(t=null),t);function m7(n,e,t,i){const s=n.indexOf(e);if(s===-1)return g7(n,e,t,i);const a=n.lastIndexOf(e);return s!==a?t:s}const y7=(n,e)=>n===null?null:Rs(Math.round(n),0,e);function Ux(n){const e=this.getLabels();return n>=0&&n<e.length?e[n]:n}class U4 extends bf{static id="category";static defaults={ticks:{callback:Ux}};constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const t=this._addedLabels;if(t.length){const i=this.getLabels();for(const{index:s,label:a}of t)i[s]===a&&i.splice(s,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(Sn(e))return null;const i=this.getLabels();return t=isFinite(t)&&i[t]===e?t:m7(i,e,$t(t,e),this._addedLabels),y7(t,i.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let{min:i,max:s}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(i=0),t||(s=this.getLabels().length-1)),this.min=i,this.max=s}buildTicks(){const e=this.min,t=this.max,i=this.options.offset,s=[];let a=this.getLabels();a=e===0&&t===a.length-1?a:a.slice(e,t+1),this._valueRange=Math.max(a.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let l=e;l<=t;l++)s.push({value:l});return s}getLabelForValue(e){return Ux.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}function v7(n,e){const t=[],{bounds:s,step:a,min:l,max:c,precision:h,count:f,maxTicks:p,maxDigits:m,includeBounds:b}=n,y=a||1,N=p-1,{min:E,max:k}=e,T=!Sn(l),j=!Sn(c),q=!Sn(f),H=(k-E)/(m+1);let V=H_((k-E)/N/y)*y,oe,ae,K,Y;if(V<1e-14&&!T&&!j)return[{value:E},{value:k}];Y=Math.ceil(k/V)-Math.floor(E/V),Y>N&&(V=H_(Y*V/N/y)*y),Sn(h)||(oe=Math.pow(10,h),V=Math.ceil(V*oe)/oe),s==="ticks"?(ae=Math.floor(E/V)*V,K=Math.ceil(k/V)*V):(ae=E,K=k),T&&j&&a&&OT((c-l)/a,V/1e3)?(Y=Math.round(Math.min((c-l)/V,p)),V=(c-l)/Y,ae=l,K=c):q?(ae=T?l:ae,K=j?c:K,Y=f-1,V=(K-ae)/Y):(Y=(K-ae)/V,Rd(Y,Math.round(Y),V/1e3)?Y=Math.round(Y):Y=Math.ceil(Y));const ue=Math.max(q_(V),q_(ae));oe=Math.pow(10,Sn(h)?ue:h),ae=Math.round(ae*oe)/oe,K=Math.round(K*oe)/oe;let P=0;for(T&&(b&&ae!==l?(t.push({value:l}),ae<l&&P++,Rd(Math.round((ae+P*V)*oe)/oe,l,Hx(l,H,n))&&P++):ae<l&&P++);P<Y;++P){const M=Math.round((ae+P*V)*oe)/oe;if(j&&M>c)break;t.push({value:M})}return j&&b&&K!==c?t.length&&Rd(t[t.length-1].value,c,Hx(c,H,n))?t[t.length-1].value=c:t.push({value:c}):(!j||K===c)&&t.push({value:K}),t}function Hx(n,e,{horizontal:t,minRotation:i}){const s=ml(i),a=(t?Math.sin(s):Math.cos(s))||.001,l=.75*e*(""+n).length;return Math.min(e/a,l)}class b7 extends bf{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return Sn(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:i}=this.getUserBounds();let{min:s,max:a}=this;const l=h=>s=t?s:h,c=h=>a=i?a:h;if(e){const h=No(s),f=No(a);h<0&&f<0?c(0):h>0&&f>0&&l(0)}if(s===a){let h=a===0?1:Math.abs(a*.05);c(a+h),e||l(s-h)}this.min=s,this.max=a}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:t,stepSize:i}=e,s;return i?(s=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,s>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${s} ticks. Limiting to 1000.`),s=1e3)):(s=this.computeTickLimit(),t=t||11),t&&(s=Math.min(t,s)),s}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let i=this.getTickLimit();i=Math.max(2,i);const s={maxTicks:i,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:t.includeBounds!==!1},a=this._range||this,l=v7(s,a);return e.bounds==="ticks"&&IT(l,this,"value"),e.reverse?(l.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),l}configure(){const e=this.ticks;let t=this.min,i=this.max;if(super.configure(),this.options.offset&&e.length){const s=(i-t)/Math.max(e.length-1,1)/2;t-=s,i+=s}this._startValue=t,this._endValue=i,this._valueRange=i-t}getLabelForValue(e){return Yy(e,this.chart.options.locale,this.options.ticks.format)}}class H4 extends b7{static id="linear";static defaults={ticks:{callback:u4.formatters.numeric}};determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=aa(e)?e:0,this.max=aa(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,i=ml(this.options.ticks.minRotation),s=(e?Math.sin(i):Math.cos(i))||.001,a=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,a.lineHeight/s))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}const Zm={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},fr=Object.keys(Zm);function qx(n,e){return n-e}function Wx(n,e){if(Sn(e))return null;const t=n._adapter,{parser:i,round:s,isoWeekday:a}=n._parseOpts;let l=e;return typeof i=="function"&&(l=i(l)),aa(l)||(l=typeof i=="string"?t.parse(l,i):t.parse(l)),l===null?null:(s&&(l=s==="week"&&($d(a)||a===!0)?t.startOf(l,"isoWeek",a):t.startOf(l,s)),+l)}function Vx(n,e,t,i){const s=fr.length;for(let a=fr.indexOf(n);a<s-1;++a){const l=Zm[fr[a]],c=l.steps?l.steps:Number.MAX_SAFE_INTEGER;if(l.common&&Math.ceil((t-e)/(c*l.size))<=i)return fr[a]}return fr[s-1]}function _7(n,e,t,i,s){for(let a=fr.length-1;a>=fr.indexOf(t);a--){const l=fr[a];if(Zm[l].common&&n._adapter.diff(s,i,l)>=e-1)return l}return fr[t?fr.indexOf(t):0]}function x7(n){for(let e=fr.indexOf(n)+1,t=fr.length;e<t;++e)if(Zm[fr[e]].common)return fr[e]}function Gx(n,e,t){if(!t)n[e]=!0;else if(t.length){const{lo:i,hi:s}=Wy(t,e),a=t[i]>=e?t[i]:t[s];n[a]=!0}}function w7(n,e,t,i){const s=n._adapter,a=+s.startOf(e[0].value,i),l=e[e.length-1].value;let c,h;for(c=a;c<=l;c=+s.add(c,1,i))h=t[c],h>=0&&(e[h].major=!0);return e}function Yx(n,e,t){const i=[],s={},a=e.length;let l,c;for(l=0;l<a;++l)c=e[l],s[c]=l,i.push({value:c,major:!1});return a===0||!t?i:w7(n,i,s,t)}class $x extends bf{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,t={}){const i=e.time||(e.time={}),s=this._adapter=new NL._date(e.adapters.date);s.init(t),Ld(i.displayFormats,s.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return e===void 0?null:Wx(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,i=e.time.unit||"day";let{min:s,max:a,minDefined:l,maxDefined:c}=this.getUserBounds();function h(f){!l&&!isNaN(f.min)&&(s=Math.min(s,f.min)),!c&&!isNaN(f.max)&&(a=Math.max(a,f.max))}(!l||!c)&&(h(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&h(this.getMinMax(!1))),s=aa(s)&&!isNaN(s)?s:+t.startOf(Date.now(),i),a=aa(a)&&!isNaN(a)?a:+t.endOf(Date.now(),i)+1,this.min=Math.min(s,a-1),this.max=Math.max(s+1,a)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],i=e[e.length-1]),{min:t,max:i}}buildTicks(){const e=this.options,t=e.time,i=e.ticks,s=i.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);const a=this.min,l=this.max,c=zT(s,a,l);return this._unit=t.unit||(i.autoSkip?Vx(t.minUnit,this.min,this.max,this._getLabelCapacity(a)):_7(this,c.length,t.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:x7(this._unit),this.initOffsets(s),e.reverse&&c.reverse(),Yx(this,c,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let t=0,i=0,s,a;this.options.offset&&e.length&&(s=this.getDecimalForValue(e[0]),e.length===1?t=1-s:t=(this.getDecimalForValue(e[1])-s)/2,a=this.getDecimalForValue(e[e.length-1]),e.length===1?i=a:i=(a-this.getDecimalForValue(e[e.length-2]))/2);const l=e.length<3?.5:.25;t=Rs(t,0,l),i=Rs(i,0,l),this._offsets={start:t,end:i,factor:1/(t+1+i)}}_generate(){const e=this._adapter,t=this.min,i=this.max,s=this.options,a=s.time,l=a.unit||Vx(a.minUnit,t,i,this._getLabelCapacity(t)),c=$t(s.ticks.stepSize,1),h=l==="week"?a.isoWeekday:!1,f=$d(h)||h===!0,p={};let m=t,b,y;if(f&&(m=+e.startOf(m,"isoWeek",h)),m=+e.startOf(m,f?"day":l),e.diff(i,t,l)>1e5*c)throw new Error(t+" and "+i+" are too far apart with stepSize of "+c+" "+l);const N=s.ticks.source==="data"&&this.getDataTimestamps();for(b=m,y=0;b<i;b=+e.add(b,c,l),y++)Gx(p,b,N);return(b===i||s.bounds==="ticks"||y===1)&&Gx(p,b,N),Object.keys(p).sort(qx).map(E=>+E)}getLabelForValue(e){const t=this._adapter,i=this.options.time;return i.tooltipFormat?t.format(e,i.tooltipFormat):t.format(e,i.displayFormats.datetime)}format(e,t){const s=this.options.time.displayFormats,a=this._unit,l=t||s[a];return this._adapter.format(e,l)}_tickFormatFunction(e,t,i,s){const a=this.options,l=a.ticks.callback;if(l)return Zn(l,[e,t,i],this);const c=a.time.displayFormats,h=this._unit,f=this._majorUnit,p=h&&c[h],m=f&&c[f],b=i[t],y=f&&m&&b&&b.major;return this._adapter.format(e,s||(y?m:p))}generateTickLabels(e){let t,i,s;for(t=0,i=e.length;t<i;++t)s=e[t],s.label=this._tickFormatFunction(s.value,t,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,i=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+i)*t.factor)}getValueForPixel(e){const t=this._offsets,i=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+i*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,i=this.ctx.measureText(e).width,s=ml(this.isHorizontal()?t.maxRotation:t.minRotation),a=Math.cos(s),l=Math.sin(s),c=this._resolveTickFontOptions(0).size;return{w:i*a+c*l,h:i*l+c*a}}_getLabelCapacity(e){const t=this.options.time,i=t.displayFormats,s=i[t.unit]||i.millisecond,a=this._tickFormatFunction(e,0,Yx(this,[e],this._majorUnit),s),l=this._getLabelSize(a),c=Math.floor(this.isHorizontal()?this.width/l.w:this.height/l.h)-1;return c>0?c:1}getDataTimestamps(){let e=this._cache.data||[],t,i;if(e.length)return e;const s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(t=0,i=s.length;t<i;++t)e=e.concat(s[t].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let t,i;if(e.length)return e;const s=this.getLabels();for(t=0,i=s.length;t<i;++t)e.push(Wx(this,s[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return o4(e.sort(qx))}}function Og(n,e,t){let i=0,s=n.length-1,a,l,c,h;t?(e>=n[i].pos&&e<=n[s].pos&&({lo:i,hi:s}=ku(n,"pos",e)),{pos:a,time:c}=n[i],{pos:l,time:h}=n[s]):(e>=n[i].time&&e<=n[s].time&&({lo:i,hi:s}=ku(n,"time",e)),{time:a,pos:c}=n[i],{time:l,pos:h}=n[s]);const f=l-a;return f?c+(h-c)*(e-a)/f:c}class EU extends $x{static id="timeseries";static defaults=$x.defaults;constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=Og(t,this.min),this._tableRange=Og(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:t,max:i}=this,s=[],a=[];let l,c,h,f,p;for(l=0,c=e.length;l<c;++l)f=e[l],f>=t&&f<=i&&s.push(f);if(s.length<2)return[{time:t,pos:0},{time:i,pos:1}];for(l=0,c=s.length;l<c;++l)p=s[l+1],h=s[l-1],f=s[l],Math.round((p+h)/2)!==f&&a.push({time:f,pos:l/(c-1)});return a}_generate(){const e=this.min,t=this.max;let i=super.getDataTimestamps();return(!i.includes(e)||!i.length)&&i.splice(0,0,e),(!i.includes(t)||i.length===1)&&i.push(t),i.sort((s,a)=>s-a)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const t=this.getDataTimestamps(),i=this.getLabelTimestamps();return t.length&&i.length?e=this.normalize(t.concat(i)):e=t.length?t:i,e=this._cache.all=e,e}getDecimalForValue(e){return(Og(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const t=this._offsets,i=this.getDecimalForPixel(e)/t.factor-t.end;return Og(this._table,i*this._tableRange+this._minPos,!0)}}const q4="label";function Xx(n,e){typeof n=="function"?n(e):n&&(n.current=e)}function S7(n,e){const t=n.options;t&&e&&Object.assign(t,e)}function W4(n,e){n.labels=e}function V4(n,e,t=q4){const i=[];n.datasets=e.map(s=>{const a=n.datasets.find(l=>l[t]===s[t]);return!a||!s.data||i.includes(a)?{...s}:(i.push(a),Object.assign(a,s),a)})}function N7(n,e=q4){const t={labels:[],datasets:[]};return W4(t,n.labels),V4(t,n.datasets,e),t}function A7(n,e){const{height:t=150,width:i=300,redraw:s=!1,datasetIdKey:a,type:l,data:c,options:h,plugins:f=[],fallbackContent:p,updateMode:m,...b}=n,y=de.useRef(null),N=de.useRef(null),E=()=>{y.current&&(N.current=new _f(y.current,{type:l,data:N7(c,a),options:h&&{...h},plugins:f}),Xx(e,N.current))},k=()=>{Xx(e,null),N.current&&(N.current.destroy(),N.current=null)};return de.useEffect(()=>{!s&&N.current&&h&&S7(N.current,h)},[s,h]),de.useEffect(()=>{!s&&N.current&&W4(N.current.config.data,c.labels)},[s,c.labels]),de.useEffect(()=>{!s&&N.current&&c.datasets&&V4(N.current.config.data,c.datasets,a)},[s,c.datasets]),de.useEffect(()=>{N.current&&(s?(k(),setTimeout(E)):N.current.update(m))},[s,h,c.labels,c.datasets,m]),de.useEffect(()=>{N.current&&(k(),setTimeout(E))},[l]),de.useEffect(()=>(E(),()=>k()),[]),A.jsx("canvas",{ref:y,role:"img",height:t,width:i,...b,children:p})}const C7=de.forwardRef(A7);function rv(n,e){return _f.register(e),de.forwardRef((t,i)=>A.jsx(C7,{...t,ref:i,type:n}))}const E7=rv("line",wL),G4=rv("bar",bL),Kx=rv("pie",SL),k7=()=>{};var Qx={};const Y4={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};const Ze=function(n,e){if(!n)throw xf(e)},xf=function(n){return new Error("Firebase Database ("+Y4.SDK_VERSION+") INTERNAL ASSERT FAILED: "+n)};const $4=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let s=n.charCodeAt(i);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},T7=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const s=n[t++];if(s<128)e[i++]=String.fromCharCode(s);else if(s>191&&s<224){const a=n[t++];e[i++]=String.fromCharCode((s&31)<<6|a&63)}else if(s>239&&s<365){const a=n[t++],l=n[t++],c=n[t++],h=((s&7)<<18|(a&63)<<12|(l&63)<<6|c&63)-65536;e[i++]=String.fromCharCode(55296+(h>>10)),e[i++]=String.fromCharCode(56320+(h&1023))}else{const a=n[t++],l=n[t++];e[i++]=String.fromCharCode((s&15)<<12|(a&63)<<6|l&63)}}return e.join("")},av={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<n.length;s+=3){const a=n[s],l=s+1<n.length,c=l?n[s+1]:0,h=s+2<n.length,f=h?n[s+2]:0,p=a>>2,m=(a&3)<<4|c>>4;let b=(c&15)<<2|f>>6,y=f&63;h||(y=64,l||(b=64)),i.push(t[p],t[m],t[b],t[y])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray($4(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):T7(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<n.length;){const a=t[n.charAt(s++)],c=s<n.length?t[n.charAt(s)]:0;++s;const f=s<n.length?t[n.charAt(s)]:64;++s;const m=s<n.length?t[n.charAt(s)]:64;if(++s,a==null||c==null||f==null||m==null)throw new L7;const b=a<<2|c>>4;if(i.push(b),f!==64){const y=c<<4&240|f>>2;if(i.push(y),m!==64){const N=f<<6&192|m;i.push(N)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class L7 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const X4=function(n){const e=$4(n);return av.encodeByteArray(e,!0)},vm=function(n){return X4(n).replace(/\./g,"")},bm=function(n){try{return av.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function R7(n){return K4(void 0,n)}function K4(n,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const t=e;return new Date(t.getTime());case Object:n===void 0&&(n={});break;case Array:n=[];break;default:return e}for(const t in e)!e.hasOwnProperty(t)||!D7(t)||(n[t]=K4(n[t],e[t]));return n}function D7(n){return n!=="__proto__"}function M7(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const O7=()=>M7().__FIREBASE_DEFAULTS__,I7=()=>{if(typeof process>"u"||typeof Qx>"u")return;const n=Qx.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},P7=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&bm(n[1]);return e&&JSON.parse(e)},ov=()=>{try{return k7()||O7()||I7()||P7()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Q4=n=>ov()?.emulatorHosts?.[n],j7=n=>{const e=Q4(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},J4=()=>ov()?.config,Z4=n=>ov()?.[`_${n}`];class e0{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}function wf(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function eN(n){return(await fetch(n,{credentials:"include"})).ok}function F7(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",s=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l={iss:`https://securetoken.google.com/${i}`,aud:i,iat:s,exp:s+3600,auth_time:s,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...n};return[vm(JSON.stringify(t)),vm(JSON.stringify(l)),""].join(".")}const Od={};function B7(){const n={prod:[],emulator:[]};for(const e of Object.keys(Od))Od[e]?n.emulator.push(e):n.prod.push(e);return n}function z7(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let Jx=!1;function tN(n,e){if(typeof window>"u"||typeof document>"u"||!wf(window.location.host)||Od[n]===e||Od[n]||Jx)return;Od[n]=e;function t(b){return`__firebase__banner__${b}`}const i="__firebase__banner",a=B7().prod.length>0;function l(){const b=document.getElementById(i);b&&b.remove()}function c(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function h(b,y){b.setAttribute("width","24"),b.setAttribute("id",y),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function f(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{Jx=!0,l()},b}function p(b,y){b.setAttribute("id",y),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function m(){const b=z7(i),y=t("text"),N=document.getElementById(y)||document.createElement("span"),E=t("learnmore"),k=document.getElementById(E)||document.createElement("a"),T=t("preprendIcon"),j=document.getElementById(T)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const q=b.element;c(q),p(k,E);const H=f();h(j,T),q.append(j,N,k,H),document.body.appendChild(q)}a?(N.innerText="Preview backend disconnected.",j.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(j.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,N.innerText="Preview backend running in this workspace."),N.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",m):m()}function Vs(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function lv(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Vs())}function U7(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function H7(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function nN(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function q7(){const n=Vs();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function W7(){return Y4.NODE_ADMIN===!0}function V7(){try{return typeof indexedDB=="object"}catch{return!1}}function G7(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{e(s.error?.message||"")}}catch(t){e(t)}})}const Y7="FirebaseError";class Bc extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=Y7,Object.setPrototypeOf(this,Bc.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,yp.prototype.create)}}class yp{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},s=`${this.service}/${e}`,a=this.errors[e],l=a?$7(a,i):"Error",c=`${this.serviceName}: ${l} (${s}).`;return new Bc(s,c,i)}}function $7(n,e){return n.replace(X7,(t,i)=>{const s=e[i];return s!=null?String(s):`<${i}?>`})}const X7=/\{\$([^}]+)}/g;function Zd(n){return JSON.parse(n)}function Ki(n){return JSON.stringify(n)}const iN=function(n){let e={},t={},i={},s="";try{const a=n.split(".");e=Zd(bm(a[0])||""),t=Zd(bm(a[1])||""),s=a[2],i=t.d||{},delete t.d}catch{}return{header:e,claims:t,data:i,signature:s}},K7=function(n){const e=iN(n),t=e.claims;return!!t&&typeof t=="object"&&t.hasOwnProperty("iat")},Q7=function(n){const e=iN(n).claims;return typeof e=="object"&&e.admin===!0};function Ll(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function uf(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]}function Q2(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function _m(n,e,t){const i={};for(const s in n)Object.prototype.hasOwnProperty.call(n,s)&&(i[s]=e.call(t,n[s],s,n));return i}function Iu(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const s of t){if(!i.includes(s))return!1;const a=n[s],l=e[s];if(Zx(a)&&Zx(l)){if(!Iu(a,l))return!1}else if(a!==l)return!1}for(const s of i)if(!t.includes(s))return!1;return!0}function Zx(n){return n!==null&&typeof n=="object"}function Sf(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(s=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}class J7{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);const i=this.W_;if(typeof e=="string")for(let m=0;m<16;m++)i[m]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let m=0;m<16;m++)i[m]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let m=16;m<80;m++){const b=i[m-3]^i[m-8]^i[m-14]^i[m-16];i[m]=(b<<1|b>>>31)&4294967295}let s=this.chain_[0],a=this.chain_[1],l=this.chain_[2],c=this.chain_[3],h=this.chain_[4],f,p;for(let m=0;m<80;m++){m<40?m<20?(f=c^a&(l^c),p=1518500249):(f=a^l^c,p=1859775393):m<60?(f=a&l|c&(a|l),p=2400959708):(f=a^l^c,p=3395469782);const b=(s<<5|s>>>27)+f+h+p+i[m]&4294967295;h=c,c=l,l=(a<<30|a>>>2)&4294967295,a=s,s=b}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+a&4294967295,this.chain_[2]=this.chain_[2]+l&4294967295,this.chain_[3]=this.chain_[3]+c&4294967295,this.chain_[4]=this.chain_[4]+h&4294967295}update(e,t){if(e==null)return;t===void 0&&(t=e.length);const i=t-this.blockSize;let s=0;const a=this.buf_;let l=this.inbuf_;for(;s<t;){if(l===0)for(;s<=i;)this.compress_(e,s),s+=this.blockSize;if(typeof e=="string"){for(;s<t;)if(a[l]=e.charCodeAt(s),++l,++s,l===this.blockSize){this.compress_(a),l=0;break}}else for(;s<t;)if(a[l]=e[s],++l,++s,l===this.blockSize){this.compress_(a),l=0;break}}this.inbuf_=l,this.total_+=t}digest(){const e=[];let t=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let s=this.blockSize-1;s>=56;s--)this.buf_[s]=t&255,t/=256;this.compress_(this.buf_);let i=0;for(let s=0;s<5;s++)for(let a=24;a>=0;a-=8)e[i]=this.chain_[s]>>a&255,++i;return e}}function Z7(n,e){const t=new eD(n,e);return t.subscribe.bind(t)}class eD{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let s;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");tD(e,["next","error","complete"])?s=e:s={next:e,error:t,complete:i},s.next===void 0&&(s.next=K1),s.error===void 0&&(s.error=K1),s.complete===void 0&&(s.complete=K1);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function tD(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function K1(){}function cv(n,e){return`${n} failed: ${e} argument `}const nD=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let s=n.charCodeAt(i);if(s>=55296&&s<=56319){const a=s-55296;i++,Ze(i<n.length,"Surrogate pair missing trail surrogate.");const l=n.charCodeAt(i)-56320;s=65536+(a<<10)+l}s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):s<65536?(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},t0=function(n){let e=0;for(let t=0;t<n.length;t++){const i=n.charCodeAt(t);i<128?e++:i<2048?e+=2:i>=55296&&i<=56319?(e+=4,t++):e+=3}return e};function jr(n){return n&&n._delegate?n._delegate:n}class Pu{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Nu="[DEFAULT]";class iD{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new e0;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&i.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),i=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(rD(e))try{this.getOrInitializeService({instanceIdentifier:Nu})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:s});i.resolve(a)}catch{}}}}clearInstance(e=Nu){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Nu){return this.instances.has(e)}getOptions(e=Nu){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[a,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(a);i===c&&l.resolve(s)}return s}onInit(e,t){const i=this.normalizeInstanceIdentifier(t),s=this.onInitCallbacks.get(i)??new Set;s.add(e),this.onInitCallbacks.set(i,s);const a=this.instances.get(i);return a&&e(a,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const s of i)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:sD(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Nu){return this.component?this.component.multipleInstances?e:Nu:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function sD(n){return n===Nu?void 0:n}function rD(n){return n.instantiationMode==="EAGER"}class aD{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new iD(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}var Bn;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Bn||(Bn={}));const oD={debug:Bn.DEBUG,verbose:Bn.VERBOSE,info:Bn.INFO,warn:Bn.WARN,error:Bn.ERROR,silent:Bn.SILENT},lD=Bn.INFO,cD={[Bn.DEBUG]:"log",[Bn.VERBOSE]:"log",[Bn.INFO]:"info",[Bn.WARN]:"warn",[Bn.ERROR]:"error"},uD=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),s=cD[e];if(s)console[s](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class uv{constructor(e){this.name=e,this._logLevel=lD,this._logHandler=uD,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Bn))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?oD[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Bn.DEBUG,...e),this._logHandler(this,Bn.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Bn.VERBOSE,...e),this._logHandler(this,Bn.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Bn.INFO,...e),this._logHandler(this,Bn.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Bn.WARN,...e),this._logHandler(this,Bn.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Bn.ERROR,...e),this._logHandler(this,Bn.ERROR,...e)}}const hD=(n,e)=>e.some(t=>n instanceof t);let ew,tw;function fD(){return ew||(ew=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function dD(){return tw||(tw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const sN=new WeakMap,J2=new WeakMap,rN=new WeakMap,Q1=new WeakMap,hv=new WeakMap;function pD(n){const e=new Promise((t,i)=>{const s=()=>{n.removeEventListener("success",a),n.removeEventListener("error",l)},a=()=>{t(Ec(n.result)),s()},l=()=>{i(n.error),s()};n.addEventListener("success",a),n.addEventListener("error",l)});return e.then(t=>{t instanceof IDBCursor&&sN.set(t,n)}).catch(()=>{}),hv.set(e,n),e}function gD(n){if(J2.has(n))return;const e=new Promise((t,i)=>{const s=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",l),n.removeEventListener("abort",l)},a=()=>{t(),s()},l=()=>{i(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",a),n.addEventListener("error",l),n.addEventListener("abort",l)});J2.set(n,e)}let Z2={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return J2.get(n);if(e==="objectStoreNames")return n.objectStoreNames||rN.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ec(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function mD(n){Z2=n(Z2)}function yD(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(J1(this),e,...t);return rN.set(i,e.sort?e.sort():[e]),Ec(i)}:dD().includes(n)?function(...e){return n.apply(J1(this),e),Ec(sN.get(this))}:function(...e){return Ec(n.apply(J1(this),e))}}function vD(n){return typeof n=="function"?yD(n):(n instanceof IDBTransaction&&gD(n),hD(n,fD())?new Proxy(n,Z2):n)}function Ec(n){if(n instanceof IDBRequest)return pD(n);if(Q1.has(n))return Q1.get(n);const e=vD(n);return e!==n&&(Q1.set(n,e),hv.set(e,n)),e}const J1=n=>hv.get(n);function bD(n,e,{blocked:t,upgrade:i,blocking:s,terminated:a}={}){const l=indexedDB.open(n,e),c=Ec(l);return i&&l.addEventListener("upgradeneeded",h=>{i(Ec(l.result),h.oldVersion,h.newVersion,Ec(l.transaction),h)}),t&&l.addEventListener("blocked",h=>t(h.oldVersion,h.newVersion,h)),c.then(h=>{a&&h.addEventListener("close",()=>a()),s&&h.addEventListener("versionchange",f=>s(f.oldVersion,f.newVersion,f))}).catch(()=>{}),c}const _D=["get","getKey","getAll","getAllKeys","count"],xD=["put","add","delete","clear"],Z1=new Map;function nw(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Z1.get(e))return Z1.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,s=xD.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(s||_D.includes(t)))return;const a=async function(l,...c){const h=this.transaction(l,s?"readwrite":"readonly");let f=h.store;return i&&(f=f.index(c.shift())),(await Promise.all([f[t](...c),s&&h.done]))[0]};return Z1.set(e,a),a}mD(n=>({...n,get:(e,t,i)=>nw(e,t)||n.get(e,t,i),has:(e,t)=>!!nw(e,t)||n.has(e,t)}));class wD{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(SD(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function SD(n){return n.getComponent()?.type==="VERSION"}const ey="@firebase/app",iw="0.14.6";const Nl=new uv("@firebase/app"),ND="@firebase/app-compat",AD="@firebase/analytics-compat",CD="@firebase/analytics",ED="@firebase/app-check-compat",kD="@firebase/app-check",TD="@firebase/auth",LD="@firebase/auth-compat",RD="@firebase/database",DD="@firebase/data-connect",MD="@firebase/database-compat",OD="@firebase/functions",ID="@firebase/functions-compat",PD="@firebase/installations",jD="@firebase/installations-compat",FD="@firebase/messaging",BD="@firebase/messaging-compat",zD="@firebase/performance",UD="@firebase/performance-compat",HD="@firebase/remote-config",qD="@firebase/remote-config-compat",WD="@firebase/storage",VD="@firebase/storage-compat",GD="@firebase/firestore",YD="@firebase/ai",$D="@firebase/firestore-compat",XD="firebase",KD="12.6.0";const ty="[DEFAULT]",QD={[ey]:"fire-core",[ND]:"fire-core-compat",[CD]:"fire-analytics",[AD]:"fire-analytics-compat",[kD]:"fire-app-check",[ED]:"fire-app-check-compat",[TD]:"fire-auth",[LD]:"fire-auth-compat",[RD]:"fire-rtdb",[DD]:"fire-data-connect",[MD]:"fire-rtdb-compat",[OD]:"fire-fn",[ID]:"fire-fn-compat",[PD]:"fire-iid",[jD]:"fire-iid-compat",[FD]:"fire-fcm",[BD]:"fire-fcm-compat",[zD]:"fire-perf",[UD]:"fire-perf-compat",[HD]:"fire-rc",[qD]:"fire-rc-compat",[WD]:"fire-gcs",[VD]:"fire-gcs-compat",[GD]:"fire-fst",[$D]:"fire-fst-compat",[YD]:"fire-vertex","fire-js":"fire-js",[XD]:"fire-js-all"};const xm=new Map,JD=new Map,ny=new Map;function sw(n,e){try{n.container.addComponent(e)}catch(t){Nl.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function hf(n){const e=n.name;if(ny.has(e))return Nl.debug(`There were multiple attempts to register component ${e}.`),!1;ny.set(e,n);for(const t of xm.values())sw(t,n);for(const t of JD.values())sw(t,n);return!0}function fv(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Ba(n){return n==null?!1:n.settings!==void 0}const ZD={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},kc=new yp("app","Firebase",ZD);class eM{constructor(e,t,i){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Pu("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw kc.create("app-deleted",{appName:this._name})}}const Nf=KD;function aN(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i={name:ty,automaticDataCollectionEnabled:!0,...e},s=i.name;if(typeof s!="string"||!s)throw kc.create("bad-app-name",{appName:String(s)});if(t||(t=J4()),!t)throw kc.create("no-options");const a=xm.get(s);if(a){if(Iu(t,a.options)&&Iu(i,a.config))return a;throw kc.create("duplicate-app",{appName:s})}const l=new aD(s);for(const h of ny.values())l.addComponent(h);const c=new eM(t,i,l);return xm.set(s,c),c}function oN(n=ty){const e=xm.get(n);if(!e&&n===ty&&J4())return aN();if(!e)throw kc.create("no-app",{appName:n});return e}function Tc(n,e,t){let i=QD[n]??n;t&&(i+=`-${t}`);const s=i.match(/\s|\//),a=e.match(/\s|\//);if(s||a){const l=[`Unable to register library "${i}" with version "${e}":`];s&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&a&&l.push("and"),a&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Nl.warn(l.join(" "));return}hf(new Pu(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const tM="firebase-heartbeat-database",nM=1,ep="firebase-heartbeat-store";let e2=null;function lN(){return e2||(e2=bD(tM,nM,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(ep)}catch(t){console.warn(t)}}}}).catch(n=>{throw kc.create("idb-open",{originalErrorMessage:n.message})})),e2}async function iM(n){try{const t=(await lN()).transaction(ep),i=await t.objectStore(ep).get(cN(n));return await t.done,i}catch(e){if(e instanceof Bc)Nl.warn(e.message);else{const t=kc.create("idb-get",{originalErrorMessage:e?.message});Nl.warn(t.message)}}}async function rw(n,e){try{const i=(await lN()).transaction(ep,"readwrite");await i.objectStore(ep).put(e,cN(n)),await i.done}catch(t){if(t instanceof Bc)Nl.warn(t.message);else{const i=kc.create("idb-set",{originalErrorMessage:t?.message});Nl.warn(i.message)}}}function cN(n){return`${n.name}!${n.options.appId}`}const sM=1024,rM=30;class aM{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new lM(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=aw();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(s=>s.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:t}),this._heartbeatsCache.heartbeats.length>rM){const s=cM(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Nl.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=aw(),{heartbeatsToSend:t,unsentEntries:i}=oM(this._heartbeatsCache.heartbeats),s=vm(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(e){return Nl.warn(e),""}}}function aw(){return new Date().toISOString().substring(0,10)}function oM(n,e=sM){const t=[];let i=n.slice();for(const s of n){const a=t.find(l=>l.agent===s.agent);if(a){if(a.dates.push(s.date),ow(t)>e){a.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),ow(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class lM{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return V7()?G7().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await iM(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return rw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return rw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function ow(n){return vm(JSON.stringify({version:2,heartbeats:n})).length}function cM(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let i=1;i<n.length;i++)n[i].date<t&&(t=n[i].date,e=i);return e}function uM(n){hf(new Pu("platform-logger",e=>new wD(e),"PRIVATE")),hf(new Pu("heartbeat",e=>new aM(e),"PRIVATE")),Tc(ey,iw,n),Tc(ey,iw,"esm2020"),Tc("fire-js","")}uM("");var lw={};const cw="@firebase/database",uw="1.1.0";let uN="";function hM(n){uN=n}class fM{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){t==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Ki(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return t==null?null:Zd(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class dM{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){t==null?delete this.cache_[e]:this.cache_[e]=t}get(e){return Ll(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const hN=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const e=window[n];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new fM(e)}}catch{}return new dM},Tu=hN("localStorage"),pM=hN("sessionStorage");const Qh=new uv("@firebase/database"),gM=(function(){let n=1;return function(){return n++}})(),fN=function(n){const e=nD(n),t=new J7;t.update(e);const i=t.digest();return av.encodeByteArray(i)},vp=function(...n){let e="";for(let t=0;t<n.length;t++){const i=n[t];Array.isArray(i)||i&&typeof i=="object"&&typeof i.length=="number"?e+=vp.apply(null,i):typeof i=="object"?e+=Ki(i):e+=i,e+=" "}return e};let Id=null,hw=!0;const mM=function(n,e){Ze(!0,"Can't turn on custom loggers persistently."),Qh.logLevel=Bn.VERBOSE,Id=Qh.log.bind(Qh)},Ls=function(...n){if(hw===!0&&(hw=!1,Id===null&&pM.get("logging_enabled")===!0&&mM()),Id){const e=vp.apply(null,n);Id(e)}},bp=function(n){return function(...e){Ls(n,...e)}},iy=function(...n){const e="FIREBASE INTERNAL ERROR: "+vp(...n);Qh.error(e)},Al=function(...n){const e=`FIREBASE FATAL ERROR: ${vp(...n)}`;throw Qh.error(e),new Error(e)},pr=function(...n){const e="FIREBASE WARNING: "+vp(...n);Qh.warn(e)},yM=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&pr("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},dN=function(n){return typeof n=="number"&&(n!==n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},vM=function(n){if(document.readyState==="complete")n();else{let e=!1;const t=function(){if(!document.body){setTimeout(t,Math.floor(10));return}e||(e=!0,n())};document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&t()}),window.attachEvent("onload",t))}},ff="[MIN_NAME]",ju="[MAX_NAME]",Af=function(n,e){if(n===e)return 0;if(n===ff||e===ju)return-1;if(e===ff||n===ju)return 1;{const t=fw(n),i=fw(e);return t!==null?i!==null?t-i===0?n.length-e.length:t-i:-1:i!==null?1:n<e?-1:1}},bM=function(n,e){return n===e?0:n<e?-1:1},bd=function(n,e){if(e&&n in e)return e[n];throw new Error("Missing required key ("+n+") in object: "+Ki(e))},dv=function(n){if(typeof n!="object"||n===null)return Ki(n);const e=[];for(const i in n)e.push(i);e.sort();let t="{";for(let i=0;i<e.length;i++)i!==0&&(t+=","),t+=Ki(e[i]),t+=":",t+=dv(n[e[i]]);return t+="}",t},pN=function(n,e){const t=n.length;if(t<=e)return[n];const i=[];for(let s=0;s<t;s+=e)s+e>t?i.push(n.substring(s,t)):i.push(n.substring(s,s+e));return i};function gr(n,e){for(const t in n)n.hasOwnProperty(t)&&e(t,n[t])}const gN=function(n){Ze(!dN(n),"Invalid JSON number");const e=11,t=52,i=(1<<e-1)-1;let s,a,l,c,h;n===0?(a=0,l=0,s=1/n===-1/0?1:0):(s=n<0,n=Math.abs(n),n>=Math.pow(2,1-i)?(c=Math.min(Math.floor(Math.log(n)/Math.LN2),i),a=c+i,l=Math.round(n*Math.pow(2,t-c)-Math.pow(2,t))):(a=0,l=Math.round(n/Math.pow(2,1-i-t))));const f=[];for(h=t;h;h-=1)f.push(l%2?1:0),l=Math.floor(l/2);for(h=e;h;h-=1)f.push(a%2?1:0),a=Math.floor(a/2);f.push(s?1:0),f.reverse();const p=f.join("");let m="";for(h=0;h<64;h+=8){let b=parseInt(p.substr(h,8),2).toString(16);b.length===1&&(b="0"+b),m=m+b}return m.toLowerCase()},_M=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},xM=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function wM(n,e){let t="Unknown Error";n==="too_big"?t="The data requested exceeds the maximum size that can be accessed with a single request.":n==="permission_denied"?t="Client doesn't have permission to access the desired data.":n==="unavailable"&&(t="The service is unavailable");const i=new Error(n+" at "+e._path.toString()+": "+t);return i.code=n.toUpperCase(),i}const SM=new RegExp("^-?(0*)\\d{1,10}$"),NM=-2147483648,AM=2147483647,fw=function(n){if(SM.test(n)){const e=Number(n);if(e>=NM&&e<=AM)return e}return null},Cf=function(n){try{n()}catch(e){setTimeout(()=>{const t=e.stack||"";throw pr("Exception was thrown by user callback.",t),e},Math.floor(0))}},CM=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Pd=function(n,e){const t=setTimeout(n,e);return typeof t=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(t):typeof t=="object"&&t.unref&&t.unref(),t};class EM{constructor(e,t){this.appCheckProvider=t,this.appName=e.name,Ba(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=t?.getImmediate({optional:!0}),this.appCheck||t?.get().then(i=>this.appCheck=i)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((t,i)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,i):t(null)},0)})}addTokenChangeListener(e){this.appCheckProvider?.get().then(t=>t.addTokenListener(e))}notifyForInvalidToken(){pr(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}class kM{constructor(e,t,i){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(s=>this.auth_=s)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(t=>t&&t.code==="auth/token-not-initialized"?(Ls("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)):new Promise((t,i)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,i):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',pr(e)}}class Zg{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Zg.OWNER="owner";const pv="5",mN="v",yN="s",vN="r",bN="f",_N=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,xN="ls",wN="p",sy="ac",SN="websocket",NN="long_polling";class AN{constructor(e,t,i,s,a=!1,l="",c=!1,h=!1,f=null){this.secure=t,this.namespace=i,this.webSocketOnly=s,this.nodeAdmin=a,this.persistenceKey=l,this.includeNamespaceInQueryParams=c,this.isUsingEmulator=h,this.emulatorOptions=f,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Tu.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Tu.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${t}`}}function TM(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams}function CN(n,e,t){Ze(typeof e=="string","typeof type must == string"),Ze(typeof t=="object","typeof params must == object");let i;if(e===SN)i=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else if(e===NN)i=(n.secure?"https://":"http://")+n.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);TM(n)&&(t.ns=n.namespace);const s=[];return gr(t,(a,l)=>{s.push(a+"="+l)}),i+s.join("&")}class LM{constructor(){this.counters_={}}incrementCounter(e,t=1){Ll(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return R7(this.counters_)}}const t2={},n2={};function gv(n){const e=n.toString();return t2[e]||(t2[e]=new LM),t2[e]}function RM(n,e){const t=n.toString();return n2[t]||(n2[t]=e()),n2[t]}class DM{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let s=0;s<i.length;++s)i[s]&&Cf(()=>{this.onMessage_(i[s])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}const dw="start",MM="close",OM="pLPCommand",IM="pRTLPCB",EN="id",kN="pw",TN="ser",PM="cb",jM="seg",FM="ts",BM="d",zM="dframe",LN=1870,RN=30,UM=LN-RN,HM=25e3,qM=3e4;class Gh{constructor(e,t,i,s,a,l,c){this.connId=e,this.repoInfo=t,this.applicationId=i,this.appCheckToken=s,this.authToken=a,this.transportSessionId=l,this.lastSessionId=c,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=bp(e),this.stats_=gv(t),this.urlFn=h=>(this.appCheckToken&&(h[sy]=this.appCheckToken),CN(t,NN,h))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new DM(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(qM)),vM(()=>{if(this.isClosed_)return;this.scriptTagHolder=new mv((...a)=>{const[l,c,h,f,p]=a;if(this.incrementIncomingBytes_(a),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,l===dw)this.id=c,this.password=h;else if(l===MM)c?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(c,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+l)},(...a)=>{const[l,c]=a;this.incrementIncomingBytes_(a),this.myPacketOrderer.handleResponse(l,c)},()=>{this.onClosed_()},this.urlFn);const i={};i[dw]="t",i[TN]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(i[PM]=this.scriptTagHolder.uniqueCallbackIdentifier),i[mN]=pv,this.transportSessionId&&(i[yN]=this.transportSessionId),this.lastSessionId&&(i[xN]=this.lastSessionId),this.applicationId&&(i[wN]=this.applicationId),this.appCheckToken&&(i[sy]=this.appCheckToken),typeof location<"u"&&location.hostname&&_N.test(location.hostname)&&(i[vN]=bN);const s=this.urlFn(i);this.log_("Connecting via long-poll to "+s),this.scriptTagHolder.addTag(s,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Gh.forceAllow_=!0}static forceDisallow(){Gh.forceDisallow_=!0}static isAvailable(){return Gh.forceAllow_?!0:!Gh.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!_M()&&!xM()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=Ki(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const i=X4(t),s=pN(i,UM);for(let a=0;a<s.length;a++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,s.length,s[a]),this.curSegmentNum++}addDisconnectPingFrame(e,t){this.myDisconnFrame=document.createElement("iframe");const i={};i[zM]="t",i[EN]=e,i[kN]=t,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=Ki(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class mv{constructor(e,t,i,s){this.onDisconnect=i,this.urlFn=s,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=gM(),window[OM+this.uniqueCallbackIdentifier]=e,window[IM+this.uniqueCallbackIdentifier]=t,this.myIFrame=mv.createIFrame_();let a="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(a='<script>document.domain="'+document.domain+'";<\/script>');const l="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(l),this.myIFrame.doc.close()}catch(c){Ls("frame writing exception"),c.stack&&Ls(c.stack),Ls(c)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Ls("No IE domain setting required")}catch{const i=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[EN]=this.myID,e[kN]=this.myPW,e[TN]=this.currentSerial;let t=this.urlFn(e),i="",s=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+RN+i.length<=LN;){const l=this.pendingSegs.shift();i=i+"&"+jM+s+"="+l.seg+"&"+FM+s+"="+l.ts+"&"+BM+s+"="+l.d,s++}return t=t+i,this.addLongPollTag_(t,this.currentSerial),!0}else return!1}enqueueSegment(e,t,i){this.pendingSegs.push({seg:e,ts:t,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const i=()=>{this.outstandingRequests.delete(t),this.newRequest_()},s=setTimeout(i,Math.floor(HM)),a=()=>{clearTimeout(s),i()};this.addTag(e,a)}addTag(e,t){setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){const s=i.readyState;(!s||s==="loaded"||s==="complete")&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),t())},i.onerror=()=>{Ls("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}const WM=16384,VM=45e3;let wm=null;typeof MozWebSocket<"u"?wm=MozWebSocket:typeof WebSocket<"u"&&(wm=WebSocket);class za{constructor(e,t,i,s,a,l,c){this.connId=e,this.applicationId=i,this.appCheckToken=s,this.authToken=a,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=bp(this.connId),this.stats_=gv(t),this.connURL=za.connectionURL_(t,l,c,s,i),this.nodeAdmin=t.nodeAdmin}static connectionURL_(e,t,i,s,a){const l={};return l[mN]=pv,typeof location<"u"&&location.hostname&&_N.test(location.hostname)&&(l[vN]=bN),t&&(l[yN]=t),i&&(l[xN]=i),s&&(l[sy]=s),a&&(l[wN]=a),CN(e,SN,l)}open(e,t){this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Tu.set("previous_websocket_failure",!0);try{let i;W7(),this.mySock=new wm(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const s=i.message||i.data;s&&this.log_(s),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const s=i.message||i.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){za.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const t=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(t);i&&i.length>1&&parseFloat(i[1])<4.4&&(e=!0)}return!e&&wm!==null&&!za.forceDisallow_}static previouslyFailed(){return Tu.isInMemoryStorage||Tu.get("previous_websocket_failure")===!0}markConnectionHealthy(){Tu.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const t=this.frames.join("");this.frames=null;const i=Zd(t);this.onMessage(i)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(Ze(this.frames===null,"We already have a frame buffer"),e.length<=6){const t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(t);else{const i=this.extractFrameCount_(t);i!==null&&this.appendFrame_(i)}}send(e){this.resetKeepAlive();const t=Ki(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const i=pN(t,WM);i.length>1&&this.sendString_(String(i.length));for(let s=0;s<i.length;s++)this.sendString_(i[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(VM))}sendString_(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}za.responsesRequiredToBeHealthy=2;za.healthyTimeout=3e4;class tp{static get ALL_TRANSPORTS(){return[Gh,za]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const t=za&&za.isAvailable();let i=t&&!za.previouslyFailed();if(e.webSocketOnly&&(t||pr("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[za];else{const s=this.transports_=[];for(const a of tp.ALL_TRANSPORTS)a&&a.isAvailable()&&s.push(a);tp.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}tp.globalTransportInitialized_=!1;const GM=6e4,YM=5e3,$M=10*1024,XM=100*1024,i2="t",pw="d",KM="s",gw="r",QM="e",mw="o",yw="a",vw="n",bw="p",JM="h";class ZM{constructor(e,t,i,s,a,l,c,h,f,p){this.id=e,this.repoInfo_=t,this.applicationId_=i,this.appCheckToken_=s,this.authToken_=a,this.onMessage_=l,this.onReady_=c,this.onDisconnect_=h,this.onKill_=f,this.lastSessionId=p,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=bp("c:"+this.id+":"),this.transportManager_=new tp(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,i)},Math.floor(0));const s=e.healthyTimeout||0;s>0&&(this.healthyTimeout_=Pd(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>XM?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>$M?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(s)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){const t={t:"d",d:e};this.sendData_(t)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(i2 in e){const t=e[i2];t===yw?this.upgradeIfSecondaryHealthy_():t===gw?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):t===mw&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=bd("t",e),i=bd("d",e);if(t==="c")this.onSecondaryControl_(i);else if(t==="d")this.pendingDataMessages.push(i);else throw new Error("Unknown protocol layer: "+t)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:bw,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:yw,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:vw,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=bd("t",e),i=bd("d",e);t==="c"?this.onControl_(i):t==="d"&&this.onDataMessage_(i)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=bd(i2,e);if(pw in e){const i=e[pw];if(t===JM){const s={...i};this.repoInfo_.isUsingEmulator&&(s.h=this.repoInfo_.host),this.onHandshake_(s)}else if(t===vw){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let s=0;s<this.pendingDataMessages.length;++s)this.onDataMessage_(this.pendingDataMessages[s]);this.pendingDataMessages=[],this.tryCleanupConnection()}else t===KM?this.onConnectionShutdown_(i):t===gw?this.onReset_(i):t===QM?iy("Server Error: "+i):t===mw?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):iy("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,i=e.v,s=e.h;this.sessionId=e.s,this.repoInfo_.host=s,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),pv!==i&&pr("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,i),Pd(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(GM))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Pd(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(YM))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:bw,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Tu.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class DN{put(e,t,i,s){}merge(e,t,i,s){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,i){}onDisconnectMerge(e,t,i){}onDisconnectCancel(e,t){}reportStats(e){}}class MN{constructor(e){this.allowedEvents_=e,this.listeners_={},Ze(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(let s=0;s<i.length;s++)i[s].callback.apply(i[s].context,t)}}on(e,t,i){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:i});const s=this.getInitialEvent(e);s&&t.apply(i,s)}off(e,t,i){this.validateEventType_(e);const s=this.listeners_[e]||[];for(let a=0;a<s.length;a++)if(s[a].callback===t&&(!i||i===s[a].context)){s.splice(a,1);return}}validateEventType_(e){Ze(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}class Sm extends MN{static getInstance(){return new Sm}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!lv()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return Ze(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}const _w=32,xw=768;class Wn{constructor(e,t){if(t===void 0){this.pieces_=e.split("/");let i=0;for(let s=0;s<this.pieces_.length;s++)this.pieces_[s].length>0&&(this.pieces_[i]=this.pieces_[s],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)this.pieces_[t]!==""&&(e+="/"+this.pieces_[t]);return e||"/"}}function vn(){return new Wn("")}function sn(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function Oc(n){return n.pieces_.length-n.pieceNum_}function Gn(n){let e=n.pieceNum_;return e<n.pieces_.length&&e++,new Wn(n.pieces_,e)}function ON(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function eO(n){let e="";for(let t=n.pieceNum_;t<n.pieces_.length;t++)n.pieces_[t]!==""&&(e+="/"+encodeURIComponent(String(n.pieces_[t])));return e||"/"}function IN(n,e=0){return n.pieces_.slice(n.pieceNum_+e)}function PN(n){if(n.pieceNum_>=n.pieces_.length)return null;const e=[];for(let t=n.pieceNum_;t<n.pieces_.length-1;t++)e.push(n.pieces_[t]);return new Wn(e,0)}function Qi(n,e){const t=[];for(let i=n.pieceNum_;i<n.pieces_.length;i++)t.push(n.pieces_[i]);if(e instanceof Wn)for(let i=e.pieceNum_;i<e.pieces_.length;i++)t.push(e.pieces_[i]);else{const i=e.split("/");for(let s=0;s<i.length;s++)i[s].length>0&&t.push(i[s])}return new Wn(t,0)}function en(n){return n.pieceNum_>=n.pieces_.length}function Ws(n,e){const t=sn(n),i=sn(e);if(t===null)return e;if(t===i)return Ws(Gn(n),Gn(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+n+")")}function jN(n,e){if(Oc(n)!==Oc(e))return!1;for(let t=n.pieceNum_,i=e.pieceNum_;t<=n.pieces_.length;t++,i++)if(n.pieces_[t]!==e.pieces_[i])return!1;return!0}function Ua(n,e){let t=n.pieceNum_,i=e.pieceNum_;if(Oc(n)>Oc(e))return!1;for(;t<n.pieces_.length;){if(n.pieces_[t]!==e.pieces_[i])return!1;++t,++i}return!0}class tO{constructor(e,t){this.errorPrefix_=t,this.parts_=IN(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=t0(this.parts_[i]);FN(this)}}function nO(n,e){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(e),n.byteLength_+=t0(e),FN(n)}function iO(n){const e=n.parts_.pop();n.byteLength_-=t0(e),n.parts_.length>0&&(n.byteLength_-=1)}function FN(n){if(n.byteLength_>xw)throw new Error(n.errorPrefix_+"has a key path longer than "+xw+" bytes ("+n.byteLength_+").");if(n.parts_.length>_w)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+_w+") or object contains a cycle "+Au(n))}function Au(n){return n.parts_.length===0?"":"in property '"+n.parts_.join(".")+"'"}class yv extends MN{static getInstance(){return new yv}constructor(){super(["visible"]);let e,t;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(t="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(t="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(t="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const i=!document[e];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}getInitialEvent(e){return Ze(e==="visible","Unknown event type: "+e),[this.visible_]}}const _d=1e3,sO=300*1e3,ww=30*1e3,rO=1.3,aO=3e4,oO="server_kill",Sw=3;class wl extends DN{constructor(e,t,i,s,a,l,c,h){if(super(),this.repoInfo_=e,this.applicationId_=t,this.onDataUpdate_=i,this.onConnectStatus_=s,this.onServerInfoUpdate_=a,this.authTokenProvider_=l,this.appCheckTokenProvider_=c,this.authOverride_=h,this.id=wl.nextPersistentConnectionId_++,this.log_=bp("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=_d,this.maxReconnectDelay_=sO,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,h)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");yv.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Sm.getInstance().on("online",this.onOnline_,this)}sendRequest(e,t,i){const s=++this.requestNumber_,a={r:s,a:e,b:t};this.log_(Ki(a)),Ze(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(a),i&&(this.requestCBHash_[s]=i)}get(e){this.initConnection_();const t=new e0,s={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:l=>{const c=l.d;l.s==="ok"?t.resolve(c):t.reject(c)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;const a=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(a),t.promise}listen(e,t,i,s){this.initConnection_();const a=e._queryIdentifier,l=e._path.toString();this.log_("Listen called for "+l+" "+a),this.listens.has(l)||this.listens.set(l,new Map),Ze(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Ze(!this.listens.get(l).has(a),"listen() called twice for same path/queryId.");const c={onComplete:s,hashFn:t,query:e,tag:i};this.listens.get(l).set(a,c),this.connected_&&this.sendListen_(c)}sendGet_(e){const t=this.outstandingGets_[e];this.sendRequest("g",t.request,i=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),t.onComplete&&t.onComplete(i)})}sendListen_(e){const t=e.query,i=t._path.toString(),s=t._queryIdentifier;this.log_("Listen on "+i+" for "+s);const a={p:i},l="q";e.tag&&(a.q=t._queryObject,a.t=e.tag),a.h=e.hashFn(),this.sendRequest(l,a,c=>{const h=c.d,f=c.s;wl.warnOnListenWarnings_(h,t),(this.listens.get(i)&&this.listens.get(i).get(s))===e&&(this.log_("listen response",c),f!=="ok"&&this.removeListen_(i,s),e.onComplete&&e.onComplete(f,h))})}static warnOnListenWarnings_(e,t){if(e&&typeof e=="object"&&Ll(e,"w")){const i=uf(e,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const s='".indexOn": "'+t._queryParams.getIndex().toString()+'"',a=t._path.toString();pr(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${a} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||Q7(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=ww)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,t=K7(e)?"auth":"gauth",i={cred:e};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(t,i,s=>{const a=s.s,l=s.d||"error";this.authToken_===e&&(a==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(a,l))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const t=e.s,i=e.d||"error";t==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(t,i)})}unlisten(e,t){const i=e._path.toString(),s=e._queryIdentifier;this.log_("Unlisten called for "+i+" "+s),Ze(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,s)&&this.connected_&&this.sendUnlisten_(i,s,e._queryObject,t)}sendUnlisten_(e,t,i,s){this.log_("Unlisten on "+e+" for "+t);const a={p:e},l="n";s&&(a.q=i,a.t=s),this.sendRequest(l,a)}onDisconnectPut(e,t,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:i})}onDisconnectMerge(e,t,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:i})}onDisconnectCancel(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}sendOnDisconnect_(e,t,i,s){const a={p:t,d:i};this.log_("onDisconnect "+e,a),this.sendRequest(e,a,l=>{s&&setTimeout(()=>{s(l.s,l.d)},Math.floor(0))})}put(e,t,i,s){this.putInternal("p",e,t,i,s)}merge(e,t,i,s){this.putInternal("m",e,t,i,s)}putInternal(e,t,i,s,a){this.initConnection_();const l={p:t,d:i};a!==void 0&&(l.h=a),this.outstandingPuts_.push({action:e,request:l,onComplete:s}),this.outstandingPutCount_++;const c=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(c):this.log_("Buffering put: "+t)}sendPut_(e){const t=this.outstandingPuts_[e].action,i=this.outstandingPuts_[e].request,s=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(t,i,a=>{this.log_(t+" response",a),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),s&&s(a.s,a.d)})}reportStats(e){if(this.connected_){const t={c:e};this.log_("reportStats",t),this.sendRequest("s",t,i=>{if(i.s!=="ok"){const a=i.d;this.log_("reportStats","Error sending stats: "+a)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Ki(e));const t=e.r,i=this.requestCBHash_[t];i&&(delete this.requestCBHash_[t],i(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,t){this.log_("handleServerMessage",e,t),e==="d"?this.onDataUpdate_(t.p,t.d,!1,t.t):e==="m"?this.onDataUpdate_(t.p,t.d,!0,t.t):e==="c"?this.onListenRevoked_(t.p,t.q):e==="ac"?this.onAuthRevoked_(t.s,t.d):e==="apc"?this.onAppCheckRevoked_(t.s,t.d):e==="sd"?this.onSecurityDebugPacket_(t):iy("Unrecognized action received from server: "+Ki(e)+`
Are you using the latest client?`)}onReady_(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){Ze(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=_d,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=_d,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>aO&&(this.reconnectDelay_=_d),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*rO)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),t=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+wl.nextConnectionId_++,a=this.lastSessionId;let l=!1,c=null;const h=function(){c?c.close():(l=!0,i())},f=function(m){Ze(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(m)};this.realtime_={close:h,sendRequest:f};const p=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[m,b]=await Promise.all([this.authTokenProvider_.getToken(p),this.appCheckTokenProvider_.getToken(p)]);l?Ls("getToken() completed but was canceled"):(Ls("getToken() completed. Creating connection."),this.authToken_=m&&m.accessToken,this.appCheckToken_=b&&b.token,c=new ZM(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,t,i,y=>{pr(y+" ("+this.repoInfo_.toString()+")"),this.interrupt(oO)},a))}catch(m){this.log_("Failed to get token: "+m),l||(this.repoInfo_.nodeAdmin&&pr(m),h())}}}interrupt(e){Ls("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Ls("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Q2(this.interruptReasons_)&&(this.reconnectDelay_=_d,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const t=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,t){let i;t?i=t.map(a=>dv(a)).join("$"):i="default";const s=this.removeListen_(e,i);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(e,t){const i=new Wn(e).toString();let s;if(this.listens.has(i)){const a=this.listens.get(i);s=a.get(t),a.delete(t),a.size===0&&this.listens.delete(i)}else s=void 0;return s}onAuthRevoked_(e,t){Ls("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Sw&&(this.reconnectDelay_=ww,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,t){Ls("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Sw&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const t of e.values())this.sendListen_(t);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let t="js";e["sdk."+t+"."+uN.replace(/\./g,"-")]=1,lv()?e["framework.cordova"]=1:nN()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Sm.getInstance().currentlyOnline();return Q2(this.interruptReasons_)&&e}}wl.nextPersistentConnectionId_=0;wl.nextConnectionId_=0;class Kt{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new Kt(e,t)}}class n0{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const i=new Kt(ff,e),s=new Kt(ff,t);return this.compare(i,s)!==0}minPost(){return Kt.MIN}}let Ig;class BN extends n0{static get __EMPTY_NODE(){return Ig}static set __EMPTY_NODE(e){Ig=e}compare(e,t){return Af(e.name,t.name)}isDefinedOn(e){throw xf("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return Kt.MIN}maxPost(){return new Kt(ju,Ig)}makePost(e,t){return Ze(typeof e=="string","KeyIndex indexValue must always be a string."),new Kt(e,Ig)}toString(){return".key"}}const Jh=new BN;class Pg{constructor(e,t,i,s,a=null){this.isReverse_=s,this.resultGenerator_=a,this.nodeStack_=[];let l=1;for(;!e.isEmpty();)if(e=e,l=t?i(e.key,t):1,s&&(l*=-1),l<0)this.isReverse_?e=e.left:e=e.right;else if(l===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),t;if(this.resultGenerator_?t=this.resultGenerator_(e.key,e.value):t={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class ls{constructor(e,t,i,s,a){this.key=e,this.value=t,this.color=i??ls.RED,this.left=s??dr.EMPTY_NODE,this.right=a??dr.EMPTY_NODE}copy(e,t,i,s,a){return new ls(e??this.key,t??this.value,i??this.color,s??this.left,a??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let s=this;const a=i(e,s.key);return a<0?s=s.copy(null,null,null,s.left.insert(e,t,i),null):a===0?s=s.copy(null,t,null,null,null):s=s.copy(null,null,null,null,s.right.insert(e,t,i)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return dr.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,t){let i,s;if(i=this,t(e,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),t(e,i.key)===0){if(i.right.isEmpty())return dr.EMPTY_NODE;s=i.right.min_(),i=i.copy(s.key,s.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,ls.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,ls.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}ls.RED=!0;ls.BLACK=!1;class lO{copy(e,t,i,s,a){return this}insert(e,t,i){return new ls(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class dr{constructor(e,t=dr.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new dr(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,ls.BLACK,null,null))}remove(e){return new dr(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,ls.BLACK,null,null))}get(e){let t,i=this.root_;for(;!i.isEmpty();){if(t=this.comparator_(e,i.key),t===0)return i.value;t<0?i=i.left:t>0&&(i=i.right)}return null}getPredecessorKey(e){let t,i=this.root_,s=null;for(;!i.isEmpty();)if(t=this.comparator_(e,i.key),t===0){if(i.left.isEmpty())return s?s.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}else t<0?i=i.left:t>0&&(s=i,i=i.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Pg(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new Pg(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new Pg(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new Pg(this.root_,null,this.comparator_,!0,e)}}dr.EMPTY_NODE=new lO;function cO(n,e){return Af(n.name,e.name)}function vv(n,e){return Af(n,e)}let ry;function uO(n){ry=n}const zN=function(n){return typeof n=="number"?"number:"+gN(n):"string:"+n},UN=function(n){if(n.isLeafNode()){const e=n.val();Ze(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Ll(e,".sv"),"Priority must be a string or number.")}else Ze(n===ry||n.isEmpty(),"priority of unexpected type.");Ze(n===ry||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let Nw;class os{static set __childrenNodeConstructor(e){Nw=e}static get __childrenNodeConstructor(){return Nw}constructor(e,t=os.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=t,this.lazyHash_=null,Ze(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),UN(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new os(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:os.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return en(e)?this:sn(e)===".priority"?this.priorityNode_:os.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,t){return null}updateImmediateChild(e,t){return e===".priority"?this.updatePriority(t):t.isEmpty()&&e!==".priority"?this:os.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,t).updatePriority(this.priorityNode_)}updateChild(e,t){const i=sn(e);return i===null?t:t.isEmpty()&&i!==".priority"?this:(Ze(i!==".priority"||Oc(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,os.__childrenNodeConstructor.EMPTY_NODE.updateChild(Gn(e),t)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,t){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+zN(this.priorityNode_.val())+":");const t=typeof this.value_;e+=t+":",t==="number"?e+=gN(this.value_):e+=this.value_,this.lazyHash_=fN(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===os.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof os.__childrenNodeConstructor?-1:(Ze(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const t=typeof e.value_,i=typeof this.value_,s=os.VALUE_TYPE_ORDER.indexOf(t),a=os.VALUE_TYPE_ORDER.indexOf(i);return Ze(s>=0,"Unknown leaf type: "+t),Ze(a>=0,"Unknown leaf type: "+i),s===a?i==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:a-s}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}else return!1}}os.VALUE_TYPE_ORDER=["object","boolean","number","string"];let HN,qN;function hO(n){HN=n}function fO(n){qN=n}class dO extends n0{compare(e,t){const i=e.node.getPriority(),s=t.node.getPriority(),a=i.compareTo(s);return a===0?Af(e.name,t.name):a}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return Kt.MIN}maxPost(){return new Kt(ju,new os("[PRIORITY-POST]",qN))}makePost(e,t){const i=HN(e);return new Kt(t,new os("[PRIORITY-POST]",i))}toString(){return".priority"}}const Ai=new dO;const pO=Math.log(2);class gO{constructor(e){const t=a=>parseInt(Math.log(a)/pO,10),i=a=>parseInt(Array(a+1).join("1"),2);this.count=t(e+1),this.current_=this.count-1;const s=i(this.count);this.bits_=e+1&s}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Nm=function(n,e,t,i){n.sort(e);const s=function(h,f){const p=f-h;let m,b;if(p===0)return null;if(p===1)return m=n[h],b=t?t(m):m,new ls(b,m.node,ls.BLACK,null,null);{const y=parseInt(p/2,10)+h,N=s(h,y),E=s(y+1,f);return m=n[y],b=t?t(m):m,new ls(b,m.node,ls.BLACK,N,E)}},a=function(h){let f=null,p=null,m=n.length;const b=function(N,E){const k=m-N,T=m;m-=N;const j=s(k+1,T),q=n[k],H=t?t(q):q;y(new ls(H,q.node,E,null,j))},y=function(N){f?(f.left=N,f=N):(p=N,f=N)};for(let N=0;N<h.count;++N){const E=h.nextBitIsOne(),k=Math.pow(2,h.count-(N+1));E?b(k,ls.BLACK):(b(k,ls.BLACK),b(k,ls.RED))}return p},l=new gO(n.length),c=a(l);return new dr(i||e,c)};let s2;const zh={};class yl{static get Default(){return Ze(zh&&Ai,"ChildrenNode.ts has not been loaded"),s2=s2||new yl({".priority":zh},{".priority":Ai}),s2}constructor(e,t){this.indexes_=e,this.indexSet_=t}get(e){const t=uf(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof dr?t:null}hasIndex(e){return Ll(this.indexSet_,e.toString())}addIndex(e,t){Ze(e!==Jh,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let s=!1;const a=t.getIterator(Kt.Wrap);let l=a.getNext();for(;l;)s=s||e.isDefinedOn(l.node),i.push(l),l=a.getNext();let c;s?c=Nm(i,e.getCompare()):c=zh;const h=e.toString(),f={...this.indexSet_};f[h]=e;const p={...this.indexes_};return p[h]=c,new yl(p,f)}addToIndexes(e,t){const i=_m(this.indexes_,(s,a)=>{const l=uf(this.indexSet_,a);if(Ze(l,"Missing index implementation for "+a),s===zh)if(l.isDefinedOn(e.node)){const c=[],h=t.getIterator(Kt.Wrap);let f=h.getNext();for(;f;)f.name!==e.name&&c.push(f),f=h.getNext();return c.push(e),Nm(c,l.getCompare())}else return zh;else{const c=t.get(e.name);let h=s;return c&&(h=h.remove(new Kt(e.name,c))),h.insert(e,e.node)}});return new yl(i,this.indexSet_)}removeFromIndexes(e,t){const i=_m(this.indexes_,s=>{if(s===zh)return s;{const a=t.get(e.name);return a?s.remove(new Kt(e.name,a)):s}});return new yl(i,this.indexSet_)}}let xd;class Ot{static get EMPTY_NODE(){return xd||(xd=new Ot(new dr(vv),null,yl.Default))}constructor(e,t,i){this.children_=e,this.priorityNode_=t,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&UN(this.priorityNode_),this.children_.isEmpty()&&Ze(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||xd}updatePriority(e){return this.children_.isEmpty()?this:new Ot(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const t=this.children_.get(e);return t===null?xd:t}}getChild(e){const t=sn(e);return t===null?this:this.getImmediateChild(t).getChild(Gn(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,t){if(Ze(t,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(t);{const i=new Kt(e,t);let s,a;t.isEmpty()?(s=this.children_.remove(e),a=this.indexMap_.removeFromIndexes(i,this.children_)):(s=this.children_.insert(e,t),a=this.indexMap_.addToIndexes(i,this.children_));const l=s.isEmpty()?xd:this.priorityNode_;return new Ot(s,l,a)}}updateChild(e,t){const i=sn(e);if(i===null)return t;{Ze(sn(e)!==".priority"||Oc(e)===1,".priority must be the last token in a path");const s=this.getImmediateChild(i).updateChild(Gn(e),t);return this.updateImmediateChild(i,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const t={};let i=0,s=0,a=!0;if(this.forEachChild(Ai,(l,c)=>{t[l]=c.val(e),i++,a&&Ot.INTEGER_REGEXP_.test(l)?s=Math.max(s,Number(l)):a=!1}),!e&&a&&s<2*i){const l=[];for(const c in t)l[c]=t[c];return l}else return e&&!this.getPriority().isEmpty()&&(t[".priority"]=this.getPriority().val()),t}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+zN(this.getPriority().val())+":"),this.forEachChild(Ai,(t,i)=>{const s=i.hash();s!==""&&(e+=":"+t+":"+s)}),this.lazyHash_=e===""?"":fN(e)}return this.lazyHash_}getPredecessorChildName(e,t,i){const s=this.resolveIndex_(i);if(s){const a=s.getPredecessorKey(new Kt(e,t));return a?a.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const t=this.resolveIndex_(e);if(t){const i=t.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(e){const t=this.getFirstChildName(e);return t?new Kt(t,this.children_.get(t)):null}getLastChildName(e){const t=this.resolveIndex_(e);if(t){const i=t.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(e){const t=this.getLastChildName(e);return t?new Kt(t,this.children_.get(t)):null}forEachChild(e,t){const i=this.resolveIndex_(e);return i?i.inorderTraversal(s=>t(s.name,s.node)):this.children_.inorderTraversal(t)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,t){const i=this.resolveIndex_(t);if(i)return i.getIteratorFrom(e,s=>s);{const s=this.children_.getIteratorFrom(e.name,Kt.Wrap);let a=s.peek();for(;a!=null&&t.compare(a,e)<0;)s.getNext(),a=s.peek();return s}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,t){const i=this.resolveIndex_(t);if(i)return i.getReverseIteratorFrom(e,s=>s);{const s=this.children_.getReverseIteratorFrom(e.name,Kt.Wrap);let a=s.peek();for(;a!=null&&t.compare(a,e)>0;)s.getNext(),a=s.peek();return s}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===_p?-1:0}withIndex(e){if(e===Jh||this.indexMap_.hasIndex(e))return this;{const t=this.indexMap_.addIndex(e,this.children_);return new Ot(this.children_,this.priorityNode_,t)}}isIndexed(e){return e===Jh||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const t=e;if(this.getPriority().equals(t.getPriority()))if(this.children_.count()===t.children_.count()){const i=this.getIterator(Ai),s=t.getIterator(Ai);let a=i.getNext(),l=s.getNext();for(;a&&l;){if(a.name!==l.name||!a.node.equals(l.node))return!1;a=i.getNext(),l=s.getNext()}return a===null&&l===null}else return!1;else return!1}}resolveIndex_(e){return e===Jh?null:this.indexMap_.get(e.toString())}}Ot.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class mO extends Ot{constructor(){super(new dr(vv),Ot.EMPTY_NODE,yl.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Ot.EMPTY_NODE}isEmpty(){return!1}}const _p=new mO;Object.defineProperties(Kt,{MIN:{value:new Kt(ff,Ot.EMPTY_NODE)},MAX:{value:new Kt(ju,_p)}});BN.__EMPTY_NODE=Ot.EMPTY_NODE;os.__childrenNodeConstructor=Ot;uO(_p);fO(_p);const yO=!0;function us(n,e=null){if(n===null)return Ot.EMPTY_NODE;if(typeof n=="object"&&".priority"in n&&(e=n[".priority"]),Ze(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof n=="object"&&".value"in n&&n[".value"]!==null&&(n=n[".value"]),typeof n!="object"||".sv"in n){const t=n;return new os(t,us(e))}if(!(n instanceof Array)&&yO){const t=[];let i=!1;if(gr(n,(l,c)=>{if(l.substring(0,1)!=="."){const h=us(c);h.isEmpty()||(i=i||!h.getPriority().isEmpty(),t.push(new Kt(l,h)))}}),t.length===0)return Ot.EMPTY_NODE;const a=Nm(t,cO,l=>l.name,vv);if(i){const l=Nm(t,Ai.getCompare());return new Ot(a,us(e),new yl({".priority":l},{".priority":Ai}))}else return new Ot(a,us(e),yl.Default)}else{let t=Ot.EMPTY_NODE;return gr(n,(i,s)=>{if(Ll(n,i)&&i.substring(0,1)!=="."){const a=us(s);(a.isLeafNode()||!a.isEmpty())&&(t=t.updateImmediateChild(i,a))}}),t.updatePriority(us(e))}}hO(us);class vO extends n0{constructor(e){super(),this.indexPath_=e,Ze(!en(e)&&sn(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const i=this.extractChild(e.node),s=this.extractChild(t.node),a=i.compareTo(s);return a===0?Af(e.name,t.name):a}makePost(e,t){const i=us(e),s=Ot.EMPTY_NODE.updateChild(this.indexPath_,i);return new Kt(t,s)}maxPost(){const e=Ot.EMPTY_NODE.updateChild(this.indexPath_,_p);return new Kt(ju,e)}toString(){return IN(this.indexPath_,0).join("/")}}class bO extends n0{compare(e,t){const i=e.node.compareTo(t.node);return i===0?Af(e.name,t.name):i}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return Kt.MIN}maxPost(){return Kt.MAX}makePost(e,t){const i=us(e);return new Kt(t,i)}toString(){return".value"}}const _O=new bO;function WN(n){return{type:"value",snapshotNode:n}}function df(n,e){return{type:"child_added",snapshotNode:e,childName:n}}function np(n,e){return{type:"child_removed",snapshotNode:e,childName:n}}function ip(n,e,t){return{type:"child_changed",snapshotNode:e,childName:n,oldSnap:t}}function xO(n,e){return{type:"child_moved",snapshotNode:e,childName:n}}class bv{constructor(e){this.index_=e}updateChild(e,t,i,s,a,l){Ze(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const c=e.getImmediateChild(t);return c.getChild(s).equals(i.getChild(s))&&c.isEmpty()===i.isEmpty()||(l!=null&&(i.isEmpty()?e.hasChild(t)?l.trackChildChange(np(t,c)):Ze(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):c.isEmpty()?l.trackChildChange(df(t,i)):l.trackChildChange(ip(t,i,c))),e.isLeafNode()&&i.isEmpty())?e:e.updateImmediateChild(t,i).withIndex(this.index_)}updateFullNode(e,t,i){return i!=null&&(e.isLeafNode()||e.forEachChild(Ai,(s,a)=>{t.hasChild(s)||i.trackChildChange(np(s,a))}),t.isLeafNode()||t.forEachChild(Ai,(s,a)=>{if(e.hasChild(s)){const l=e.getImmediateChild(s);l.equals(a)||i.trackChildChange(ip(s,a,l))}else i.trackChildChange(df(s,a))})),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?Ot.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class sp{constructor(e){this.indexedFilter_=new bv(e.getIndex()),this.index_=e.getIndex(),this.startPost_=sp.getStartPost_(e),this.endPost_=sp.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const t=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,i=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return t&&i}updateChild(e,t,i,s,a,l){return this.matches(new Kt(t,i))||(i=Ot.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,i,s,a,l)}updateFullNode(e,t,i){t.isLeafNode()&&(t=Ot.EMPTY_NODE);let s=t.withIndex(this.index_);s=s.updatePriority(Ot.EMPTY_NODE);const a=this;return t.forEachChild(Ai,(l,c)=>{a.matches(new Kt(l,c))||(s=s.updateImmediateChild(l,Ot.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,s,i)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}else return e.getIndex().maxPost()}}class wO{constructor(e){this.withinDirectionalStart=t=>this.reverse_?this.withinEndPost(t):this.withinStartPost(t),this.withinDirectionalEnd=t=>this.reverse_?this.withinStartPost(t):this.withinEndPost(t),this.withinStartPost=t=>{const i=this.index_.compare(this.rangedFilter_.getStartPost(),t);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=t=>{const i=this.index_.compare(t,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new sp(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,t,i,s,a,l){return this.rangedFilter_.matches(new Kt(t,i))||(i=Ot.EMPTY_NODE),e.getImmediateChild(t).equals(i)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,i,s,a,l):this.fullLimitUpdateChild_(e,t,i,a,l)}updateFullNode(e,t,i){let s;if(t.isLeafNode()||t.isEmpty())s=Ot.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<t.numChildren()&&t.isIndexed(this.index_)){s=Ot.EMPTY_NODE.withIndex(this.index_);let a;this.reverse_?a=t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):a=t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let l=0;for(;a.hasNext()&&l<this.limit_;){const c=a.getNext();if(this.withinDirectionalStart(c))if(this.withinDirectionalEnd(c))s=s.updateImmediateChild(c.name,c.node),l++;else break;else continue}}else{s=t.withIndex(this.index_),s=s.updatePriority(Ot.EMPTY_NODE);let a;this.reverse_?a=s.getReverseIterator(this.index_):a=s.getIterator(this.index_);let l=0;for(;a.hasNext();){const c=a.getNext();l<this.limit_&&this.withinDirectionalStart(c)&&this.withinDirectionalEnd(c)?l++:s=s.updateImmediateChild(c.name,Ot.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,s,i)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,i,s,a){let l;if(this.reverse_){const m=this.index_.getCompare();l=(b,y)=>m(y,b)}else l=this.index_.getCompare();const c=e;Ze(c.numChildren()===this.limit_,"");const h=new Kt(t,i),f=this.reverse_?c.getFirstChild(this.index_):c.getLastChild(this.index_),p=this.rangedFilter_.matches(h);if(c.hasChild(t)){const m=c.getImmediateChild(t);let b=s.getChildAfterChild(this.index_,f,this.reverse_);for(;b!=null&&(b.name===t||c.hasChild(b.name));)b=s.getChildAfterChild(this.index_,b,this.reverse_);const y=b==null?1:l(b,h);if(p&&!i.isEmpty()&&y>=0)return a?.trackChildChange(ip(t,i,m)),c.updateImmediateChild(t,i);{a?.trackChildChange(np(t,m));const E=c.updateImmediateChild(t,Ot.EMPTY_NODE);return b!=null&&this.rangedFilter_.matches(b)?(a?.trackChildChange(df(b.name,b.node)),E.updateImmediateChild(b.name,b.node)):E}}else return i.isEmpty()?e:p&&l(f,h)>=0?(a!=null&&(a.trackChildChange(np(f.name,f.node)),a.trackChildChange(df(t,i))),c.updateImmediateChild(t,i).updateImmediateChild(f.name,Ot.EMPTY_NODE)):e}}class _v{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ai}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return Ze(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return Ze(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:ff}hasEnd(){return this.endSet_}getIndexEndValue(){return Ze(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return Ze(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:ju}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return Ze(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Ai}copy(){const e=new _v;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function SO(n){return n.loadsAllData()?new bv(n.getIndex()):n.hasLimit()?new wO(n):new sp(n)}function Aw(n){const e={};if(n.isDefault())return e;let t;if(n.index_===Ai?t="$priority":n.index_===_O?t="$value":n.index_===Jh?t="$key":(Ze(n.index_ instanceof vO,"Unrecognized index type!"),t=n.index_.toString()),e.orderBy=Ki(t),n.startSet_){const i=n.startAfterSet_?"startAfter":"startAt";e[i]=Ki(n.indexStartValue_),n.startNameSet_&&(e[i]+=","+Ki(n.indexStartName_))}if(n.endSet_){const i=n.endBeforeSet_?"endBefore":"endAt";e[i]=Ki(n.indexEndValue_),n.endNameSet_&&(e[i]+=","+Ki(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?e.limitToFirst=n.limit_:e.limitToLast=n.limit_),e}function Cw(n){const e={};if(n.startSet_&&(e.sp=n.indexStartValue_,n.startNameSet_&&(e.sn=n.indexStartName_),e.sin=!n.startAfterSet_),n.endSet_&&(e.ep=n.indexEndValue_,n.endNameSet_&&(e.en=n.indexEndName_),e.ein=!n.endBeforeSet_),n.limitSet_){e.l=n.limit_;let t=n.viewFrom_;t===""&&(n.isViewFromLeft()?t="l":t="r"),e.vf=t}return n.index_!==Ai&&(e.i=n.index_.toString()),e}class Am extends DN{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return t!==void 0?"tag$"+t:(Ze(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,t,i,s){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=i,this.appCheckTokenProvider_=s,this.log_=bp("p:rest:"),this.listens_={}}listen(e,t,i,s){const a=e._path.toString();this.log_("Listen called for "+a+" "+e._queryIdentifier);const l=Am.getListenId_(e,i),c={};this.listens_[l]=c;const h=Aw(e._queryParams);this.restRequest_(a+".json",h,(f,p)=>{let m=p;if(f===404&&(m=null,f=null),f===null&&this.onDataUpdate_(a,m,!1,i),uf(this.listens_,l)===c){let b;f?f===401?b="permission_denied":b="rest_error:"+f:b="ok",s(b,null)}})}unlisten(e,t){const i=Am.getListenId_(e,t);delete this.listens_[i]}get(e){const t=Aw(e._queryParams),i=e._path.toString(),s=new e0;return this.restRequest_(i+".json",t,(a,l)=>{let c=l;a===404&&(c=null,a=null),a===null?(this.onDataUpdate_(i,c,!1,null),s.resolve(c)):s.reject(new Error(c))}),s.promise}refreshAuthToken(e){}restRequest_(e,t={},i){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([s,a])=>{s&&s.accessToken&&(t.auth=s.accessToken),a&&a.token&&(t.ac=a.token);const l=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Sf(t);this.log_("Sending REST request for "+l);const c=new XMLHttpRequest;c.onreadystatechange=()=>{if(i&&c.readyState===4){this.log_("REST Response for "+l+" received. status:",c.status,"response:",c.responseText);let h=null;if(c.status>=200&&c.status<300){try{h=Zd(c.responseText)}catch{pr("Failed to parse JSON response for "+l+": "+c.responseText)}i(null,h)}else c.status!==401&&c.status!==404&&pr("Got unsuccessful REST response for "+l+" Status: "+c.status),i(c.status);i=null}},c.open("GET",l,!0),c.send()})}}class NO{constructor(){this.rootNode_=Ot.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function Cm(){return{value:null,children:new Map}}function VN(n,e,t){if(en(e))n.value=t,n.children.clear();else if(n.value!==null)n.value=n.value.updateChild(e,t);else{const i=sn(e);n.children.has(i)||n.children.set(i,Cm());const s=n.children.get(i);e=Gn(e),VN(s,e,t)}}function ay(n,e,t){n.value!==null?t(e,n.value):AO(n,(i,s)=>{const a=new Wn(e.toString()+"/"+i);ay(s,a,t)})}function AO(n,e){n.children.forEach((t,i)=>{e(i,t)})}class CO{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t={...e};return this.last_&&gr(this.last_,(i,s)=>{t[i]=t[i]-s}),this.last_=e,t}}const Ew=10*1e3,EO=30*1e3,kO=300*1e3;class TO{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new CO(e);const i=Ew+(EO-Ew)*Math.random();Pd(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const e=this.statsListener_.get(),t={};let i=!1;gr(e,(s,a)=>{a>0&&Ll(this.statsToReport_,s)&&(t[s]=a,i=!0)}),i&&this.server_.reportStats(t),Pd(this.reportStats_.bind(this),Math.floor(Math.random()*2*kO))}}var Ha;(function(n){n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Ha||(Ha={}));function GN(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function xv(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function wv(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class Em{constructor(e,t,i){this.path=e,this.affectedTree=t,this.revert=i,this.type=Ha.ACK_USER_WRITE,this.source=GN()}operationForChild(e){if(en(this.path)){if(this.affectedTree.value!=null)return Ze(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new Wn(e));return new Em(vn(),t,this.revert)}}else return Ze(sn(this.path)===e,"operationForChild called for unrelated child."),new Em(Gn(this.path),this.affectedTree,this.revert)}}class rp{constructor(e,t){this.source=e,this.path=t,this.type=Ha.LISTEN_COMPLETE}operationForChild(e){return en(this.path)?new rp(this.source,vn()):new rp(this.source,Gn(this.path))}}class Fu{constructor(e,t,i){this.source=e,this.path=t,this.snap=i,this.type=Ha.OVERWRITE}operationForChild(e){return en(this.path)?new Fu(this.source,vn(),this.snap.getImmediateChild(e)):new Fu(this.source,Gn(this.path),this.snap)}}class ap{constructor(e,t,i){this.source=e,this.path=t,this.children=i,this.type=Ha.MERGE}operationForChild(e){if(en(this.path)){const t=this.children.subtree(new Wn(e));return t.isEmpty()?null:t.value?new Fu(this.source,vn(),t.value):new ap(this.source,vn(),t)}else return Ze(sn(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new ap(this.source,Gn(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Ic{constructor(e,t,i){this.node_=e,this.fullyInitialized_=t,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(en(e))return this.isFullyInitialized()&&!this.filtered_;const t=sn(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}class LO{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function RO(n,e,t,i){const s=[],a=[];return e.forEach(l=>{l.type==="child_changed"&&n.index_.indexedValueChanged(l.oldSnap,l.snapshotNode)&&a.push(xO(l.childName,l.snapshotNode))}),wd(n,s,"child_removed",e,i,t),wd(n,s,"child_added",e,i,t),wd(n,s,"child_moved",a,i,t),wd(n,s,"child_changed",e,i,t),wd(n,s,"value",e,i,t),s}function wd(n,e,t,i,s,a){const l=i.filter(c=>c.type===t);l.sort((c,h)=>MO(n,c,h)),l.forEach(c=>{const h=DO(n,c,a);s.forEach(f=>{f.respondsTo(c.type)&&e.push(f.createEvent(h,n.query_))})})}function DO(n,e,t){return e.type==="value"||e.type==="child_removed"||(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,n.index_)),e}function MO(n,e,t){if(e.childName==null||t.childName==null)throw xf("Should only compare child_ events.");const i=new Kt(e.childName,e.snapshotNode),s=new Kt(t.childName,t.snapshotNode);return n.index_.compare(i,s)}function i0(n,e){return{eventCache:n,serverCache:e}}function jd(n,e,t,i){return i0(new Ic(e,t,i),n.serverCache)}function YN(n,e,t,i){return i0(n.eventCache,new Ic(e,t,i))}function km(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function Bu(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let r2;const OO=()=>(r2||(r2=new dr(bM)),r2);class ei{static fromObject(e){let t=new ei(null);return gr(e,(i,s)=>{t=t.set(new Wn(i),s)}),t}constructor(e,t=OO()){this.value=e,this.children=t}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(this.value!=null&&t(this.value))return{path:vn(),value:this.value};if(en(e))return null;{const i=sn(e),s=this.children.get(i);if(s!==null){const a=s.findRootMostMatchingPathAndValue(Gn(e),t);return a!=null?{path:Qi(new Wn(i),a.path),value:a.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(en(e))return this;{const t=sn(e),i=this.children.get(t);return i!==null?i.subtree(Gn(e)):new ei(null)}}set(e,t){if(en(e))return new ei(t,this.children);{const i=sn(e),a=(this.children.get(i)||new ei(null)).set(Gn(e),t),l=this.children.insert(i,a);return new ei(this.value,l)}}remove(e){if(en(e))return this.children.isEmpty()?new ei(null):new ei(null,this.children);{const t=sn(e),i=this.children.get(t);if(i){const s=i.remove(Gn(e));let a;return s.isEmpty()?a=this.children.remove(t):a=this.children.insert(t,s),this.value===null&&a.isEmpty()?new ei(null):new ei(this.value,a)}else return this}}get(e){if(en(e))return this.value;{const t=sn(e),i=this.children.get(t);return i?i.get(Gn(e)):null}}setTree(e,t){if(en(e))return t;{const i=sn(e),a=(this.children.get(i)||new ei(null)).setTree(Gn(e),t);let l;return a.isEmpty()?l=this.children.remove(i):l=this.children.insert(i,a),new ei(this.value,l)}}fold(e){return this.fold_(vn(),e)}fold_(e,t){const i={};return this.children.inorderTraversal((s,a)=>{i[s]=a.fold_(Qi(e,s),t)}),t(e,this.value,i)}findOnPath(e,t){return this.findOnPath_(e,vn(),t)}findOnPath_(e,t,i){const s=this.value?i(t,this.value):!1;if(s)return s;if(en(e))return null;{const a=sn(e),l=this.children.get(a);return l?l.findOnPath_(Gn(e),Qi(t,a),i):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,vn(),t)}foreachOnPath_(e,t,i){if(en(e))return this;{this.value&&i(t,this.value);const s=sn(e),a=this.children.get(s);return a?a.foreachOnPath_(Gn(e),Qi(t,s),i):new ei(null)}}foreach(e){this.foreach_(vn(),e)}foreach_(e,t){this.children.inorderTraversal((i,s)=>{s.foreach_(Qi(e,i),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,i)=>{i.value&&e(t,i.value)})}}class Wa{constructor(e){this.writeTree_=e}static empty(){return new Wa(new ei(null))}}function Fd(n,e,t){if(en(e))return new Wa(new ei(t));{const i=n.writeTree_.findRootMostValueAndPath(e);if(i!=null){const s=i.path;let a=i.value;const l=Ws(s,e);return a=a.updateChild(l,t),new Wa(n.writeTree_.set(s,a))}else{const s=new ei(t),a=n.writeTree_.setTree(e,s);return new Wa(a)}}}function kw(n,e,t){let i=n;return gr(t,(s,a)=>{i=Fd(i,Qi(e,s),a)}),i}function Tw(n,e){if(en(e))return Wa.empty();{const t=n.writeTree_.setTree(e,new ei(null));return new Wa(t)}}function oy(n,e){return Wu(n,e)!=null}function Wu(n,e){const t=n.writeTree_.findRootMostValueAndPath(e);return t!=null?n.writeTree_.get(t.path).getChild(Ws(t.path,e)):null}function Lw(n){const e=[],t=n.writeTree_.value;return t!=null?t.isLeafNode()||t.forEachChild(Ai,(i,s)=>{e.push(new Kt(i,s))}):n.writeTree_.children.inorderTraversal((i,s)=>{s.value!=null&&e.push(new Kt(i,s.value))}),e}function Lc(n,e){if(en(e))return n;{const t=Wu(n,e);return t!=null?new Wa(new ei(t)):new Wa(n.writeTree_.subtree(e))}}function ly(n){return n.writeTree_.isEmpty()}function pf(n,e){return $N(vn(),n.writeTree_,e)}function $N(n,e,t){if(e.value!=null)return t.updateChild(n,e.value);{let i=null;return e.children.inorderTraversal((s,a)=>{s===".priority"?(Ze(a.value!==null,"Priority writes must always be leaf nodes"),i=a.value):t=$N(Qi(n,s),a,t)}),!t.getChild(n).isEmpty()&&i!==null&&(t=t.updateChild(Qi(n,".priority"),i)),t}}function s0(n,e){return JN(e,n)}function IO(n,e,t,i,s){Ze(i>n.lastWriteId,"Stacking an older write on top of newer ones"),s===void 0&&(s=!0),n.allWrites.push({path:e,snap:t,writeId:i,visible:s}),s&&(n.visibleWrites=Fd(n.visibleWrites,e,t)),n.lastWriteId=i}function PO(n,e){for(let t=0;t<n.allWrites.length;t++){const i=n.allWrites[t];if(i.writeId===e)return i}return null}function jO(n,e){const t=n.allWrites.findIndex(c=>c.writeId===e);Ze(t>=0,"removeWrite called with nonexistent writeId.");const i=n.allWrites[t];n.allWrites.splice(t,1);let s=i.visible,a=!1,l=n.allWrites.length-1;for(;s&&l>=0;){const c=n.allWrites[l];c.visible&&(l>=t&&FO(c,i.path)?s=!1:Ua(i.path,c.path)&&(a=!0)),l--}if(s){if(a)return BO(n),!0;if(i.snap)n.visibleWrites=Tw(n.visibleWrites,i.path);else{const c=i.children;gr(c,h=>{n.visibleWrites=Tw(n.visibleWrites,Qi(i.path,h))})}return!0}else return!1}function FO(n,e){if(n.snap)return Ua(n.path,e);for(const t in n.children)if(n.children.hasOwnProperty(t)&&Ua(Qi(n.path,t),e))return!0;return!1}function BO(n){n.visibleWrites=XN(n.allWrites,zO,vn()),n.allWrites.length>0?n.lastWriteId=n.allWrites[n.allWrites.length-1].writeId:n.lastWriteId=-1}function zO(n){return n.visible}function XN(n,e,t){let i=Wa.empty();for(let s=0;s<n.length;++s){const a=n[s];if(e(a)){const l=a.path;let c;if(a.snap)Ua(t,l)?(c=Ws(t,l),i=Fd(i,c,a.snap)):Ua(l,t)&&(c=Ws(l,t),i=Fd(i,vn(),a.snap.getChild(c)));else if(a.children){if(Ua(t,l))c=Ws(t,l),i=kw(i,c,a.children);else if(Ua(l,t))if(c=Ws(l,t),en(c))i=kw(i,vn(),a.children);else{const h=uf(a.children,sn(c));if(h){const f=h.getChild(Gn(c));i=Fd(i,vn(),f)}}}else throw xf("WriteRecord should have .snap or .children")}}return i}function KN(n,e,t,i,s){if(!i&&!s){const a=Wu(n.visibleWrites,e);if(a!=null)return a;{const l=Lc(n.visibleWrites,e);if(ly(l))return t;if(t==null&&!oy(l,vn()))return null;{const c=t||Ot.EMPTY_NODE;return pf(l,c)}}}else{const a=Lc(n.visibleWrites,e);if(!s&&ly(a))return t;if(!s&&t==null&&!oy(a,vn()))return null;{const l=function(f){return(f.visible||s)&&(!i||!~i.indexOf(f.writeId))&&(Ua(f.path,e)||Ua(e,f.path))},c=XN(n.allWrites,l,e),h=t||Ot.EMPTY_NODE;return pf(c,h)}}}function UO(n,e,t){let i=Ot.EMPTY_NODE;const s=Wu(n.visibleWrites,e);if(s)return s.isLeafNode()||s.forEachChild(Ai,(a,l)=>{i=i.updateImmediateChild(a,l)}),i;if(t){const a=Lc(n.visibleWrites,e);return t.forEachChild(Ai,(l,c)=>{const h=pf(Lc(a,new Wn(l)),c);i=i.updateImmediateChild(l,h)}),Lw(a).forEach(l=>{i=i.updateImmediateChild(l.name,l.node)}),i}else{const a=Lc(n.visibleWrites,e);return Lw(a).forEach(l=>{i=i.updateImmediateChild(l.name,l.node)}),i}}function HO(n,e,t,i,s){Ze(i||s,"Either existingEventSnap or existingServerSnap must exist");const a=Qi(e,t);if(oy(n.visibleWrites,a))return null;{const l=Lc(n.visibleWrites,a);return ly(l)?s.getChild(t):pf(l,s.getChild(t))}}function qO(n,e,t,i){const s=Qi(e,t),a=Wu(n.visibleWrites,s);if(a!=null)return a;if(i.isCompleteForChild(t)){const l=Lc(n.visibleWrites,s);return pf(l,i.getNode().getImmediateChild(t))}else return null}function WO(n,e){return Wu(n.visibleWrites,e)}function VO(n,e,t,i,s,a,l){let c;const h=Lc(n.visibleWrites,e),f=Wu(h,vn());if(f!=null)c=f;else if(t!=null)c=pf(h,t);else return[];if(c=c.withIndex(l),!c.isEmpty()&&!c.isLeafNode()){const p=[],m=l.getCompare(),b=a?c.getReverseIteratorFrom(i,l):c.getIteratorFrom(i,l);let y=b.getNext();for(;y&&p.length<s;)m(y,i)!==0&&p.push(y),y=b.getNext();return p}else return[]}function GO(){return{visibleWrites:Wa.empty(),allWrites:[],lastWriteId:-1}}function Tm(n,e,t,i){return KN(n.writeTree,n.treePath,e,t,i)}function Sv(n,e){return UO(n.writeTree,n.treePath,e)}function Rw(n,e,t,i){return HO(n.writeTree,n.treePath,e,t,i)}function Lm(n,e){return WO(n.writeTree,Qi(n.treePath,e))}function YO(n,e,t,i,s,a){return VO(n.writeTree,n.treePath,e,t,i,s,a)}function Nv(n,e,t){return qO(n.writeTree,n.treePath,e,t)}function QN(n,e){return JN(Qi(n.treePath,e),n.writeTree)}function JN(n,e){return{treePath:n,writeTree:e}}class $O{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,i=e.childName;Ze(t==="child_added"||t==="child_changed"||t==="child_removed","Only child changes supported for tracking"),Ze(i!==".priority","Only non-priority child changes can be tracked.");const s=this.changeMap.get(i);if(s){const a=s.type;if(t==="child_added"&&a==="child_removed")this.changeMap.set(i,ip(i,e.snapshotNode,s.snapshotNode));else if(t==="child_removed"&&a==="child_added")this.changeMap.delete(i);else if(t==="child_removed"&&a==="child_changed")this.changeMap.set(i,np(i,s.oldSnap));else if(t==="child_changed"&&a==="child_added")this.changeMap.set(i,df(i,e.snapshotNode));else if(t==="child_changed"&&a==="child_changed")this.changeMap.set(i,ip(i,e.snapshotNode,s.oldSnap));else throw xf("Illegal combination of changes: "+e+" occurred after "+s)}else this.changeMap.set(i,e)}getChanges(){return Array.from(this.changeMap.values())}}class XO{getCompleteChild(e){return null}getChildAfterChild(e,t,i){return null}}const ZN=new XO;class Av{constructor(e,t,i=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=i}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const i=this.optCompleteServerCache_!=null?new Ic(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Nv(this.writes_,e,i)}}getChildAfterChild(e,t,i){const s=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Bu(this.viewCache_),a=YO(this.writes_,s,t,1,i,e);return a.length===0?null:a[0]}}function KO(n){return{filter:n}}function QO(n,e){Ze(e.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),Ze(e.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}function JO(n,e,t,i,s){const a=new $O;let l,c;if(t.type===Ha.OVERWRITE){const f=t;f.source.fromUser?l=cy(n,e,f.path,f.snap,i,s,a):(Ze(f.source.fromServer,"Unknown source."),c=f.source.tagged||e.serverCache.isFiltered()&&!en(f.path),l=Rm(n,e,f.path,f.snap,i,s,c,a))}else if(t.type===Ha.MERGE){const f=t;f.source.fromUser?l=eI(n,e,f.path,f.children,i,s,a):(Ze(f.source.fromServer,"Unknown source."),c=f.source.tagged||e.serverCache.isFiltered(),l=uy(n,e,f.path,f.children,i,s,c,a))}else if(t.type===Ha.ACK_USER_WRITE){const f=t;f.revert?l=iI(n,e,f.path,i,s,a):l=tI(n,e,f.path,f.affectedTree,i,s,a)}else if(t.type===Ha.LISTEN_COMPLETE)l=nI(n,e,t.path,i,a);else throw xf("Unknown operation type: "+t.type);const h=a.getChanges();return ZO(e,l,h),{viewCache:l,changes:h}}function ZO(n,e,t){const i=e.eventCache;if(i.isFullyInitialized()){const s=i.getNode().isLeafNode()||i.getNode().isEmpty(),a=km(n);(t.length>0||!n.eventCache.isFullyInitialized()||s&&!i.getNode().equals(a)||!i.getNode().getPriority().equals(a.getPriority()))&&t.push(WN(km(e)))}}function eA(n,e,t,i,s,a){const l=e.eventCache;if(Lm(i,t)!=null)return e;{let c,h;if(en(t))if(Ze(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const f=Bu(e),p=f instanceof Ot?f:Ot.EMPTY_NODE,m=Sv(i,p);c=n.filter.updateFullNode(e.eventCache.getNode(),m,a)}else{const f=Tm(i,Bu(e));c=n.filter.updateFullNode(e.eventCache.getNode(),f,a)}else{const f=sn(t);if(f===".priority"){Ze(Oc(t)===1,"Can't have a priority with additional path components");const p=l.getNode();h=e.serverCache.getNode();const m=Rw(i,t,p,h);m!=null?c=n.filter.updatePriority(p,m):c=l.getNode()}else{const p=Gn(t);let m;if(l.isCompleteForChild(f)){h=e.serverCache.getNode();const b=Rw(i,t,l.getNode(),h);b!=null?m=l.getNode().getImmediateChild(f).updateChild(p,b):m=l.getNode().getImmediateChild(f)}else m=Nv(i,f,e.serverCache);m!=null?c=n.filter.updateChild(l.getNode(),f,m,p,s,a):c=l.getNode()}}return jd(e,c,l.isFullyInitialized()||en(t),n.filter.filtersNodes())}}function Rm(n,e,t,i,s,a,l,c){const h=e.serverCache;let f;const p=l?n.filter:n.filter.getIndexedFilter();if(en(t))f=p.updateFullNode(h.getNode(),i,null);else if(p.filtersNodes()&&!h.isFiltered()){const y=h.getNode().updateChild(t,i);f=p.updateFullNode(h.getNode(),y,null)}else{const y=sn(t);if(!h.isCompleteForPath(t)&&Oc(t)>1)return e;const N=Gn(t),k=h.getNode().getImmediateChild(y).updateChild(N,i);y===".priority"?f=p.updatePriority(h.getNode(),k):f=p.updateChild(h.getNode(),y,k,N,ZN,null)}const m=YN(e,f,h.isFullyInitialized()||en(t),p.filtersNodes()),b=new Av(s,m,a);return eA(n,m,t,s,b,c)}function cy(n,e,t,i,s,a,l){const c=e.eventCache;let h,f;const p=new Av(s,e,a);if(en(t))f=n.filter.updateFullNode(e.eventCache.getNode(),i,l),h=jd(e,f,!0,n.filter.filtersNodes());else{const m=sn(t);if(m===".priority")f=n.filter.updatePriority(e.eventCache.getNode(),i),h=jd(e,f,c.isFullyInitialized(),c.isFiltered());else{const b=Gn(t),y=c.getNode().getImmediateChild(m);let N;if(en(b))N=i;else{const E=p.getCompleteChild(m);E!=null?ON(b)===".priority"&&E.getChild(PN(b)).isEmpty()?N=E:N=E.updateChild(b,i):N=Ot.EMPTY_NODE}if(y.equals(N))h=e;else{const E=n.filter.updateChild(c.getNode(),m,N,b,p,l);h=jd(e,E,c.isFullyInitialized(),n.filter.filtersNodes())}}}return h}function Dw(n,e){return n.eventCache.isCompleteForChild(e)}function eI(n,e,t,i,s,a,l){let c=e;return i.foreach((h,f)=>{const p=Qi(t,h);Dw(e,sn(p))&&(c=cy(n,c,p,f,s,a,l))}),i.foreach((h,f)=>{const p=Qi(t,h);Dw(e,sn(p))||(c=cy(n,c,p,f,s,a,l))}),c}function Mw(n,e,t){return t.foreach((i,s)=>{e=e.updateChild(i,s)}),e}function uy(n,e,t,i,s,a,l,c){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let h=e,f;en(t)?f=i:f=new ei(null).setTree(t,i);const p=e.serverCache.getNode();return f.children.inorderTraversal((m,b)=>{if(p.hasChild(m)){const y=e.serverCache.getNode().getImmediateChild(m),N=Mw(n,y,b);h=Rm(n,h,new Wn(m),N,s,a,l,c)}}),f.children.inorderTraversal((m,b)=>{const y=!e.serverCache.isCompleteForChild(m)&&b.value===null;if(!p.hasChild(m)&&!y){const N=e.serverCache.getNode().getImmediateChild(m),E=Mw(n,N,b);h=Rm(n,h,new Wn(m),E,s,a,l,c)}}),h}function tI(n,e,t,i,s,a,l){if(Lm(s,t)!=null)return e;const c=e.serverCache.isFiltered(),h=e.serverCache;if(i.value!=null){if(en(t)&&h.isFullyInitialized()||h.isCompleteForPath(t))return Rm(n,e,t,h.getNode().getChild(t),s,a,c,l);if(en(t)){let f=new ei(null);return h.getNode().forEachChild(Jh,(p,m)=>{f=f.set(new Wn(p),m)}),uy(n,e,t,f,s,a,c,l)}else return e}else{let f=new ei(null);return i.foreach((p,m)=>{const b=Qi(t,p);h.isCompleteForPath(b)&&(f=f.set(p,h.getNode().getChild(b)))}),uy(n,e,t,f,s,a,c,l)}}function nI(n,e,t,i,s){const a=e.serverCache,l=YN(e,a.getNode(),a.isFullyInitialized()||en(t),a.isFiltered());return eA(n,l,t,i,ZN,s)}function iI(n,e,t,i,s,a){let l;if(Lm(i,t)!=null)return e;{const c=new Av(i,e,s),h=e.eventCache.getNode();let f;if(en(t)||sn(t)===".priority"){let p;if(e.serverCache.isFullyInitialized())p=Tm(i,Bu(e));else{const m=e.serverCache.getNode();Ze(m instanceof Ot,"serverChildren would be complete if leaf node"),p=Sv(i,m)}p=p,f=n.filter.updateFullNode(h,p,a)}else{const p=sn(t);let m=Nv(i,p,e.serverCache);m==null&&e.serverCache.isCompleteForChild(p)&&(m=h.getImmediateChild(p)),m!=null?f=n.filter.updateChild(h,p,m,Gn(t),c,a):e.eventCache.getNode().hasChild(p)?f=n.filter.updateChild(h,p,Ot.EMPTY_NODE,Gn(t),c,a):f=h,f.isEmpty()&&e.serverCache.isFullyInitialized()&&(l=Tm(i,Bu(e)),l.isLeafNode()&&(f=n.filter.updateFullNode(f,l,a)))}return l=e.serverCache.isFullyInitialized()||Lm(i,vn())!=null,jd(e,f,l,n.filter.filtersNodes())}}class sI{constructor(e,t){this.query_=e,this.eventRegistrations_=[];const i=this.query_._queryParams,s=new bv(i.getIndex()),a=SO(i);this.processor_=KO(a);const l=t.serverCache,c=t.eventCache,h=s.updateFullNode(Ot.EMPTY_NODE,l.getNode(),null),f=a.updateFullNode(Ot.EMPTY_NODE,c.getNode(),null),p=new Ic(h,l.isFullyInitialized(),s.filtersNodes()),m=new Ic(f,c.isFullyInitialized(),a.filtersNodes());this.viewCache_=i0(m,p),this.eventGenerator_=new LO(this.query_)}get query(){return this.query_}}function rI(n){return n.viewCache_.serverCache.getNode()}function aI(n){return km(n.viewCache_)}function oI(n,e){const t=Bu(n.viewCache_);return t&&(n.query._queryParams.loadsAllData()||!en(e)&&!t.getImmediateChild(sn(e)).isEmpty())?t.getChild(e):null}function Ow(n){return n.eventRegistrations_.length===0}function lI(n,e){n.eventRegistrations_.push(e)}function Iw(n,e,t){const i=[];if(t){Ze(e==null,"A cancel should cancel all event registrations.");const s=n.query._path;n.eventRegistrations_.forEach(a=>{const l=a.createCancelEvent(t,s);l&&i.push(l)})}if(e){let s=[];for(let a=0;a<n.eventRegistrations_.length;++a){const l=n.eventRegistrations_[a];if(!l.matches(e))s.push(l);else if(e.hasAnyCallback()){s=s.concat(n.eventRegistrations_.slice(a+1));break}}n.eventRegistrations_=s}else n.eventRegistrations_=[];return i}function Pw(n,e,t,i){e.type===Ha.MERGE&&e.source.queryId!==null&&(Ze(Bu(n.viewCache_),"We should always have a full cache before handling merges"),Ze(km(n.viewCache_),"Missing event cache, even though we have a server cache"));const s=n.viewCache_,a=JO(n.processor_,s,e,t,i);return QO(n.processor_,a.viewCache),Ze(a.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=a.viewCache,tA(n,a.changes,a.viewCache.eventCache.getNode(),null)}function cI(n,e){const t=n.viewCache_.eventCache,i=[];return t.getNode().isLeafNode()||t.getNode().forEachChild(Ai,(a,l)=>{i.push(df(a,l))}),t.isFullyInitialized()&&i.push(WN(t.getNode())),tA(n,i,t.getNode(),e)}function tA(n,e,t,i){const s=i?[i]:n.eventRegistrations_;return RO(n.eventGenerator_,e,t,s)}let Dm;class nA{constructor(){this.views=new Map}}function uI(n){Ze(!Dm,"__referenceConstructor has already been defined"),Dm=n}function hI(){return Ze(Dm,"Reference.ts has not been loaded"),Dm}function fI(n){return n.views.size===0}function Cv(n,e,t,i){const s=e.source.queryId;if(s!==null){const a=n.views.get(s);return Ze(a!=null,"SyncTree gave us an op for an invalid query."),Pw(a,e,t,i)}else{let a=[];for(const l of n.views.values())a=a.concat(Pw(l,e,t,i));return a}}function iA(n,e,t,i,s){const a=e._queryIdentifier,l=n.views.get(a);if(!l){let c=Tm(t,s?i:null),h=!1;c?h=!0:i instanceof Ot?(c=Sv(t,i),h=!1):(c=Ot.EMPTY_NODE,h=!1);const f=i0(new Ic(c,h,!1),new Ic(i,s,!1));return new sI(e,f)}return l}function dI(n,e,t,i,s,a){const l=iA(n,e,i,s,a);return n.views.has(e._queryIdentifier)||n.views.set(e._queryIdentifier,l),lI(l,t),cI(l,t)}function pI(n,e,t,i){const s=e._queryIdentifier,a=[];let l=[];const c=Pc(n);if(s==="default")for(const[h,f]of n.views.entries())l=l.concat(Iw(f,t,i)),Ow(f)&&(n.views.delete(h),f.query._queryParams.loadsAllData()||a.push(f.query));else{const h=n.views.get(s);h&&(l=l.concat(Iw(h,t,i)),Ow(h)&&(n.views.delete(s),h.query._queryParams.loadsAllData()||a.push(h.query)))}return c&&!Pc(n)&&a.push(new(hI())(e._repo,e._path)),{removed:a,events:l}}function sA(n){const e=[];for(const t of n.views.values())t.query._queryParams.loadsAllData()||e.push(t);return e}function Rc(n,e){let t=null;for(const i of n.views.values())t=t||oI(i,e);return t}function rA(n,e){if(e._queryParams.loadsAllData())return r0(n);{const i=e._queryIdentifier;return n.views.get(i)}}function aA(n,e){return rA(n,e)!=null}function Pc(n){return r0(n)!=null}function r0(n){for(const e of n.views.values())if(e.query._queryParams.loadsAllData())return e;return null}let Mm;function gI(n){Ze(!Mm,"__referenceConstructor has already been defined"),Mm=n}function mI(){return Ze(Mm,"Reference.ts has not been loaded"),Mm}let yI=1;class jw{constructor(e){this.listenProvider_=e,this.syncPointTree_=new ei(null),this.pendingWriteTree_=GO(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function oA(n,e,t,i,s){return IO(n.pendingWriteTree_,e,t,i,s),s?wp(n,new Fu(GN(),e,t)):[]}function Lu(n,e,t=!1){const i=PO(n.pendingWriteTree_,e);if(jO(n.pendingWriteTree_,e)){let a=new ei(null);return i.snap!=null?a=a.set(vn(),!0):gr(i.children,l=>{a=a.set(new Wn(l),!0)}),wp(n,new Em(i.path,a,t))}else return[]}function xp(n,e,t){return wp(n,new Fu(xv(),e,t))}function vI(n,e,t){const i=ei.fromObject(t);return wp(n,new ap(xv(),e,i))}function bI(n,e){return wp(n,new rp(xv(),e))}function _I(n,e,t){const i=kv(n,t);if(i){const s=Tv(i),a=s.path,l=s.queryId,c=Ws(a,e),h=new rp(wv(l),c);return Lv(n,a,h)}else return[]}function lA(n,e,t,i,s=!1){const a=e._path,l=n.syncPointTree_.get(a);let c=[];if(l&&(e._queryIdentifier==="default"||aA(l,e))){const h=pI(l,e,t,i);fI(l)&&(n.syncPointTree_=n.syncPointTree_.remove(a));const f=h.removed;if(c=h.events,!s){const p=f.findIndex(b=>b._queryParams.loadsAllData())!==-1,m=n.syncPointTree_.findOnPath(a,(b,y)=>Pc(y));if(p&&!m){const b=n.syncPointTree_.subtree(a);if(!b.isEmpty()){const y=NI(b);for(let N=0;N<y.length;++N){const E=y[N],k=E.query,T=fA(n,E);n.listenProvider_.startListening(Bd(k),op(n,k),T.hashFn,T.onComplete)}}}!m&&f.length>0&&!i&&(p?n.listenProvider_.stopListening(Bd(e),null):f.forEach(b=>{const y=n.queryToTagMap.get(a0(b));n.listenProvider_.stopListening(Bd(b),y)}))}AI(n,f)}return c}function cA(n,e,t,i){const s=kv(n,i);if(s!=null){const a=Tv(s),l=a.path,c=a.queryId,h=Ws(l,e),f=new Fu(wv(c),h,t);return Lv(n,l,f)}else return[]}function xI(n,e,t,i){const s=kv(n,i);if(s){const a=Tv(s),l=a.path,c=a.queryId,h=Ws(l,e),f=ei.fromObject(t),p=new ap(wv(c),h,f);return Lv(n,l,p)}else return[]}function wI(n,e,t,i=!1){const s=e._path;let a=null,l=!1;n.syncPointTree_.foreachOnPath(s,(b,y)=>{const N=Ws(b,s);a=a||Rc(y,N),l=l||Pc(y)});let c=n.syncPointTree_.get(s);c?(l=l||Pc(c),a=a||Rc(c,vn())):(c=new nA,n.syncPointTree_=n.syncPointTree_.set(s,c));let h;a!=null?h=!0:(h=!1,a=Ot.EMPTY_NODE,n.syncPointTree_.subtree(s).foreachChild((y,N)=>{const E=Rc(N,vn());E&&(a=a.updateImmediateChild(y,E))}));const f=aA(c,e);if(!f&&!e._queryParams.loadsAllData()){const b=a0(e);Ze(!n.queryToTagMap.has(b),"View does not exist, but we have a tag");const y=CI();n.queryToTagMap.set(b,y),n.tagToQueryMap.set(y,b)}const p=s0(n.pendingWriteTree_,s);let m=dI(c,e,t,p,a,h);if(!f&&!l&&!i){const b=rA(c,e);m=m.concat(EI(n,e,b))}return m}function Ev(n,e,t){const s=n.pendingWriteTree_,a=n.syncPointTree_.findOnPath(e,(l,c)=>{const h=Ws(l,e),f=Rc(c,h);if(f)return f});return KN(s,e,a,t,!0)}function SI(n,e){const t=e._path;let i=null;n.syncPointTree_.foreachOnPath(t,(f,p)=>{const m=Ws(f,t);i=i||Rc(p,m)});let s=n.syncPointTree_.get(t);s?i=i||Rc(s,vn()):(s=new nA,n.syncPointTree_=n.syncPointTree_.set(t,s));const a=i!=null,l=a?new Ic(i,!0,!1):null,c=s0(n.pendingWriteTree_,e._path),h=iA(s,e,c,a?l.getNode():Ot.EMPTY_NODE,a);return aI(h)}function wp(n,e){return uA(e,n.syncPointTree_,null,s0(n.pendingWriteTree_,vn()))}function uA(n,e,t,i){if(en(n.path))return hA(n,e,t,i);{const s=e.get(vn());t==null&&s!=null&&(t=Rc(s,vn()));let a=[];const l=sn(n.path),c=n.operationForChild(l),h=e.children.get(l);if(h&&c){const f=t?t.getImmediateChild(l):null,p=QN(i,l);a=a.concat(uA(c,h,f,p))}return s&&(a=a.concat(Cv(s,n,i,t))),a}}function hA(n,e,t,i){const s=e.get(vn());t==null&&s!=null&&(t=Rc(s,vn()));let a=[];return e.children.inorderTraversal((l,c)=>{const h=t?t.getImmediateChild(l):null,f=QN(i,l),p=n.operationForChild(l);p&&(a=a.concat(hA(p,c,h,f)))}),s&&(a=a.concat(Cv(s,n,i,t))),a}function fA(n,e){const t=e.query,i=op(n,t);return{hashFn:()=>(rI(e)||Ot.EMPTY_NODE).hash(),onComplete:s=>{if(s==="ok")return i?_I(n,t._path,i):bI(n,t._path);{const a=wM(s,t);return lA(n,t,null,a)}}}}function op(n,e){const t=a0(e);return n.queryToTagMap.get(t)}function a0(n){return n._path.toString()+"$"+n._queryIdentifier}function kv(n,e){return n.tagToQueryMap.get(e)}function Tv(n){const e=n.indexOf("$");return Ze(e!==-1&&e<n.length-1,"Bad queryKey."),{queryId:n.substr(e+1),path:new Wn(n.substr(0,e))}}function Lv(n,e,t){const i=n.syncPointTree_.get(e);Ze(i,"Missing sync point for query tag that we're tracking");const s=s0(n.pendingWriteTree_,e);return Cv(i,t,s,null)}function NI(n){return n.fold((e,t,i)=>{if(t&&Pc(t))return[r0(t)];{let s=[];return t&&(s=sA(t)),gr(i,(a,l)=>{s=s.concat(l)}),s}})}function Bd(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(mI())(n._repo,n._path):n}function AI(n,e){for(let t=0;t<e.length;++t){const i=e[t];if(!i._queryParams.loadsAllData()){const s=a0(i),a=n.queryToTagMap.get(s);n.queryToTagMap.delete(s),n.tagToQueryMap.delete(a)}}}function CI(){return yI++}function EI(n,e,t){const i=e._path,s=op(n,e),a=fA(n,t),l=n.listenProvider_.startListening(Bd(e),s,a.hashFn,a.onComplete),c=n.syncPointTree_.subtree(i);if(s)Ze(!Pc(c.value),"If we're adding a query, it shouldn't be shadowed");else{const h=c.fold((f,p,m)=>{if(!en(f)&&p&&Pc(p))return[r0(p).query];{let b=[];return p&&(b=b.concat(sA(p).map(y=>y.query))),gr(m,(y,N)=>{b=b.concat(N)}),b}});for(let f=0;f<h.length;++f){const p=h[f];n.listenProvider_.stopListening(Bd(p),op(n,p))}}return l}class Rv{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new Rv(t)}node(){return this.node_}}class Dv{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=Qi(this.path_,e);return new Dv(this.syncTree_,t)}node(){return Ev(this.syncTree_,this.path_)}}const kI=function(n){return n=n||{},n.timestamp=n.timestamp||new Date().getTime(),n},Fw=function(n,e,t){if(!n||typeof n!="object")return n;if(Ze(".sv"in n,"Unexpected leaf node or priority contents"),typeof n[".sv"]=="string")return TI(n[".sv"],e,t);if(typeof n[".sv"]=="object")return LI(n[".sv"],e);Ze(!1,"Unexpected server value: "+JSON.stringify(n,null,2))},TI=function(n,e,t){switch(n){case"timestamp":return t.timestamp;default:Ze(!1,"Unexpected server value: "+n)}},LI=function(n,e,t){n.hasOwnProperty("increment")||Ze(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const i=n.increment;typeof i!="number"&&Ze(!1,"Unexpected increment value: "+i);const s=e.node();if(Ze(s!==null&&typeof s<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!s.isLeafNode())return i;const l=s.getValue();return typeof l!="number"?i:l+i},RI=function(n,e,t,i){return Mv(e,new Dv(t,n),i)},dA=function(n,e,t){return Mv(n,new Rv(e),t)};function Mv(n,e,t){const i=n.getPriority().val(),s=Fw(i,e.getImmediateChild(".priority"),t);let a;if(n.isLeafNode()){const l=n,c=Fw(l.getValue(),e,t);return c!==l.getValue()||s!==l.getPriority().val()?new os(c,us(s)):n}else{const l=n;return a=l,s!==l.getPriority().val()&&(a=a.updatePriority(new os(s))),l.forEachChild(Ai,(c,h)=>{const f=Mv(h,e.getImmediateChild(c),t);f!==h&&(a=a.updateImmediateChild(c,f))}),a}}class Ov{constructor(e="",t=null,i={children:{},childCount:0}){this.name=e,this.parent=t,this.node=i}}function Iv(n,e){let t=e instanceof Wn?e:new Wn(e),i=n,s=sn(t);for(;s!==null;){const a=uf(i.node.children,s)||{children:{},childCount:0};i=new Ov(s,i,a),t=Gn(t),s=sn(t)}return i}function Ef(n){return n.node.value}function pA(n,e){n.node.value=e,hy(n)}function gA(n){return n.node.childCount>0}function DI(n){return Ef(n)===void 0&&!gA(n)}function o0(n,e){gr(n.node.children,(t,i)=>{e(new Ov(t,n,i))})}function mA(n,e,t,i){t&&e(n),o0(n,s=>{mA(s,e,!0)})}function MI(n,e,t){let i=n.parent;for(;i!==null;){if(e(i))return!0;i=i.parent}return!1}function Sp(n){return new Wn(n.parent===null?n.name:Sp(n.parent)+"/"+n.name)}function hy(n){n.parent!==null&&OI(n.parent,n.name,n)}function OI(n,e,t){const i=DI(t),s=Ll(n.node.children,e);i&&s?(delete n.node.children[e],n.node.childCount--,hy(n)):!i&&!s&&(n.node.children[e]=t.node,n.node.childCount++,hy(n))}const II=/[\[\].#$\/\u0000-\u001F\u007F]/,PI=/[\[\].#$\u0000-\u001F\u007F]/,a2=10*1024*1024,yA=function(n){return typeof n=="string"&&n.length!==0&&!II.test(n)},vA=function(n){return typeof n=="string"&&n.length!==0&&!PI.test(n)},jI=function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),vA(n)},FI=function(n,e,t,i){Pv(cv(n,"value"),e,t)},Pv=function(n,e,t){const i=t instanceof Wn?new tO(t,n):t;if(e===void 0)throw new Error(n+"contains undefined "+Au(i));if(typeof e=="function")throw new Error(n+"contains a function "+Au(i)+" with contents = "+e.toString());if(dN(e))throw new Error(n+"contains "+e.toString()+" "+Au(i));if(typeof e=="string"&&e.length>a2/3&&t0(e)>a2)throw new Error(n+"contains a string greater than "+a2+" utf8 bytes "+Au(i)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let s=!1,a=!1;if(gr(e,(l,c)=>{if(l===".value")s=!0;else if(l!==".priority"&&l!==".sv"&&(a=!0,!yA(l)))throw new Error(n+" contains an invalid key ("+l+") "+Au(i)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);nO(i,l),Pv(n,c,i),iO(i)}),s&&a)throw new Error(n+' contains ".value" child '+Au(i)+" in addition to actual children.")}},bA=function(n,e,t,i){if(!vA(t))throw new Error(cv(n,e)+'was an invalid path = "'+t+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},BI=function(n,e,t,i){t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),bA(n,e,t)},zI=function(n,e){if(sn(e)===".info")throw new Error(n+" failed = Can't modify data under /.info/")},UI=function(n,e){const t=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!yA(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||t.length!==0&&!jI(t))throw new Error(cv(n,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};class HI{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function _A(n,e){let t=null;for(let i=0;i<e.length;i++){const s=e[i],a=s.getPath();t!==null&&!jN(a,t.path)&&(n.eventLists_.push(t),t=null),t===null&&(t={events:[],path:a}),t.events.push(s)}t&&n.eventLists_.push(t)}function Eo(n,e,t){_A(n,t),qI(n,i=>Ua(i,e)||Ua(e,i))}function qI(n,e){n.recursionDepth_++;let t=!0;for(let i=0;i<n.eventLists_.length;i++){const s=n.eventLists_[i];if(s){const a=s.path;e(a)?(WI(n.eventLists_[i]),n.eventLists_[i]=null):t=!1}}t&&(n.eventLists_=[]),n.recursionDepth_--}function WI(n){for(let e=0;e<n.events.length;e++){const t=n.events[e];if(t!==null){n.events[e]=null;const i=t.getEventRunner();Id&&Ls("event: "+t.toString()),Cf(i)}}}const VI="repo_interrupt",GI=25;class YI{constructor(e,t,i,s){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=i,this.appCheckProvider_=s,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new HI,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Cm(),this.transactionQueueTree_=new Ov,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function $I(n,e,t){if(n.stats_=gv(n.repoInfo_),n.forceRestClient_||CM())n.server_=new Am(n.repoInfo_,(i,s,a,l)=>{Bw(n,i,s,a,l)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>zw(n,!0),0);else{if(typeof t<"u"&&t!==null){if(typeof t!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Ki(t)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}n.persistentConnection_=new wl(n.repoInfo_,e,(i,s,a,l)=>{Bw(n,i,s,a,l)},i=>{zw(n,i)},i=>{KI(n,i)},n.authTokenProvider_,n.appCheckProvider_,t),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(i=>{n.server_.refreshAuthToken(i)}),n.appCheckProvider_.addTokenChangeListener(i=>{n.server_.refreshAppCheckToken(i.token)}),n.statsReporter_=RM(n.repoInfo_,()=>new TO(n.stats_,n.server_)),n.infoData_=new NO,n.infoSyncTree_=new jw({startListening:(i,s,a,l)=>{let c=[];const h=n.infoData_.getNode(i._path);return h.isEmpty()||(c=xp(n.infoSyncTree_,i._path,h),setTimeout(()=>{l("ok")},0)),c},stopListening:()=>{}}),Fv(n,"connected",!1),n.serverSyncTree_=new jw({startListening:(i,s,a,l)=>(n.server_.listen(i,a,s,(c,h)=>{const f=l(c,h);Eo(n.eventQueue_,i._path,f)}),[]),stopListening:(i,s)=>{n.server_.unlisten(i,s)}})}function XI(n){const t=n.infoData_.getNode(new Wn(".info/serverTimeOffset")).val()||0;return new Date().getTime()+t}function jv(n){return kI({timestamp:XI(n)})}function Bw(n,e,t,i,s){n.dataUpdateCount++;const a=new Wn(e);t=n.interceptServerDataCallback_?n.interceptServerDataCallback_(e,t):t;let l=[];if(s)if(i){const h=_m(t,f=>us(f));l=xI(n.serverSyncTree_,a,h,s)}else{const h=us(t);l=cA(n.serverSyncTree_,a,h,s)}else if(i){const h=_m(t,f=>us(f));l=vI(n.serverSyncTree_,a,h)}else{const h=us(t);l=xp(n.serverSyncTree_,a,h)}let c=a;l.length>0&&(c=c0(n,a)),Eo(n.eventQueue_,c,l)}function zw(n,e){Fv(n,"connected",e),e===!1&&ZI(n)}function KI(n,e){gr(e,(t,i)=>{Fv(n,t,i)})}function Fv(n,e,t){const i=new Wn("/.info/"+e),s=us(t);n.infoData_.updateSnapshot(i,s);const a=xp(n.infoSyncTree_,i,s);Eo(n.eventQueue_,i,a)}function xA(n){return n.nextWriteId_++}function QI(n,e,t){const i=SI(n.serverSyncTree_,e);return i!=null?Promise.resolve(i):n.server_.get(e).then(s=>{const a=us(s).withIndex(e._queryParams.getIndex());wI(n.serverSyncTree_,e,t,!0);let l;if(e._queryParams.loadsAllData())l=xp(n.serverSyncTree_,e._path,a);else{const c=op(n.serverSyncTree_,e);l=cA(n.serverSyncTree_,e._path,a,c)}return Eo(n.eventQueue_,e._path,l),lA(n.serverSyncTree_,e,t,null,!0),a},s=>(l0(n,"get for query "+Ki(e)+" failed: "+s),Promise.reject(new Error(s))))}function JI(n,e,t,i,s){l0(n,"set",{path:e.toString(),value:t,priority:i});const a=jv(n),l=us(t,i),c=Ev(n.serverSyncTree_,e),h=dA(l,c,a),f=xA(n),p=oA(n.serverSyncTree_,e,h,f,!0);_A(n.eventQueue_,p),n.server_.put(e.toString(),l.val(!0),(b,y)=>{const N=b==="ok";N||pr("set at "+e+" failed: "+b);const E=Lu(n.serverSyncTree_,f,!N);Eo(n.eventQueue_,e,E),tP(n,s,b,y)});const m=CA(n,e);c0(n,m),Eo(n.eventQueue_,m,[])}function ZI(n){l0(n,"onDisconnectEvents");const e=jv(n),t=Cm();ay(n.onDisconnect_,vn(),(s,a)=>{const l=RI(s,a,n.serverSyncTree_,e);VN(t,s,l)});let i=[];ay(t,vn(),(s,a)=>{i=i.concat(xp(n.serverSyncTree_,s,a));const l=CA(n,s);c0(n,l)}),n.onDisconnect_=Cm(),Eo(n.eventQueue_,vn(),i)}function eP(n){n.persistentConnection_&&n.persistentConnection_.interrupt(VI)}function l0(n,...e){let t="";n.persistentConnection_&&(t=n.persistentConnection_.id+":"),Ls(t,...e)}function tP(n,e,t,i){e&&Cf(()=>{if(t==="ok")e(null);else{const s=(t||"error").toUpperCase();let a=s;i&&(a+=": "+i);const l=new Error(a);l.code=s,e(l)}})}function wA(n,e,t){return Ev(n.serverSyncTree_,e,t)||Ot.EMPTY_NODE}function Bv(n,e=n.transactionQueueTree_){if(e||u0(n,e),Ef(e)){const t=NA(n,e);Ze(t.length>0,"Sending zero length transaction queue"),t.every(s=>s.status===0)&&nP(n,Sp(e),t)}else gA(e)&&o0(e,t=>{Bv(n,t)})}function nP(n,e,t){const i=t.map(f=>f.currentWriteId),s=wA(n,e,i);let a=s;const l=s.hash();for(let f=0;f<t.length;f++){const p=t[f];Ze(p.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),p.status=1,p.retryCount++;const m=Ws(e,p.path);a=a.updateChild(m,p.currentOutputSnapshotRaw)}const c=a.val(!0),h=e;n.server_.put(h.toString(),c,f=>{l0(n,"transaction put response",{path:h.toString(),status:f});let p=[];if(f==="ok"){const m=[];for(let b=0;b<t.length;b++)t[b].status=2,p=p.concat(Lu(n.serverSyncTree_,t[b].currentWriteId)),t[b].onComplete&&m.push(()=>t[b].onComplete(null,!0,t[b].currentOutputSnapshotResolved)),t[b].unwatcher();u0(n,Iv(n.transactionQueueTree_,e)),Bv(n,n.transactionQueueTree_),Eo(n.eventQueue_,e,p);for(let b=0;b<m.length;b++)Cf(m[b])}else{if(f==="datastale")for(let m=0;m<t.length;m++)t[m].status===3?t[m].status=4:t[m].status=0;else{pr("transaction at "+h.toString()+" failed: "+f);for(let m=0;m<t.length;m++)t[m].status=4,t[m].abortReason=f}c0(n,e)}},l)}function c0(n,e){const t=SA(n,e),i=Sp(t),s=NA(n,t);return iP(n,s,i),i}function iP(n,e,t){if(e.length===0)return;const i=[];let s=[];const l=e.filter(c=>c.status===0).map(c=>c.currentWriteId);for(let c=0;c<e.length;c++){const h=e[c],f=Ws(t,h.path);let p=!1,m;if(Ze(f!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),h.status===4)p=!0,m=h.abortReason,s=s.concat(Lu(n.serverSyncTree_,h.currentWriteId,!0));else if(h.status===0)if(h.retryCount>=GI)p=!0,m="maxretry",s=s.concat(Lu(n.serverSyncTree_,h.currentWriteId,!0));else{const b=wA(n,h.path,l);h.currentInputSnapshot=b;const y=e[c].update(b.val());if(y!==void 0){Pv("transaction failed: Data returned ",y,h.path);let N=us(y);typeof y=="object"&&y!=null&&Ll(y,".priority")||(N=N.updatePriority(b.getPriority()));const k=h.currentWriteId,T=jv(n),j=dA(N,b,T);h.currentOutputSnapshotRaw=N,h.currentOutputSnapshotResolved=j,h.currentWriteId=xA(n),l.splice(l.indexOf(k),1),s=s.concat(oA(n.serverSyncTree_,h.path,j,h.currentWriteId,h.applyLocally)),s=s.concat(Lu(n.serverSyncTree_,k,!0))}else p=!0,m="nodata",s=s.concat(Lu(n.serverSyncTree_,h.currentWriteId,!0))}Eo(n.eventQueue_,t,s),s=[],p&&(e[c].status=2,(function(b){setTimeout(b,Math.floor(0))})(e[c].unwatcher),e[c].onComplete&&(m==="nodata"?i.push(()=>e[c].onComplete(null,!1,e[c].currentInputSnapshot)):i.push(()=>e[c].onComplete(new Error(m),!1,null))))}u0(n,n.transactionQueueTree_);for(let c=0;c<i.length;c++)Cf(i[c]);Bv(n,n.transactionQueueTree_)}function SA(n,e){let t,i=n.transactionQueueTree_;for(t=sn(e);t!==null&&Ef(i)===void 0;)i=Iv(i,t),e=Gn(e),t=sn(e);return i}function NA(n,e){const t=[];return AA(n,e,t),t.sort((i,s)=>i.order-s.order),t}function AA(n,e,t){const i=Ef(e);if(i)for(let s=0;s<i.length;s++)t.push(i[s]);o0(e,s=>{AA(n,s,t)})}function u0(n,e){const t=Ef(e);if(t){let i=0;for(let s=0;s<t.length;s++)t[s].status!==2&&(t[i]=t[s],i++);t.length=i,pA(e,t.length>0?t:void 0)}o0(e,i=>{u0(n,i)})}function CA(n,e){const t=Sp(SA(n,e)),i=Iv(n.transactionQueueTree_,e);return MI(i,s=>{o2(n,s)}),o2(n,i),mA(i,s=>{o2(n,s)}),t}function o2(n,e){const t=Ef(e);if(t){const i=[];let s=[],a=-1;for(let l=0;l<t.length;l++)t[l].status===3||(t[l].status===1?(Ze(a===l-1,"All SENT items should be at beginning of queue."),a=l,t[l].status=3,t[l].abortReason="set"):(Ze(t[l].status===0,"Unexpected transaction status in abort"),t[l].unwatcher(),s=s.concat(Lu(n.serverSyncTree_,t[l].currentWriteId,!0)),t[l].onComplete&&i.push(t[l].onComplete.bind(null,new Error("set"),!1,null))));a===-1?pA(e,void 0):t.length=a+1,Eo(n.eventQueue_,Sp(e),s);for(let l=0;l<i.length;l++)Cf(i[l])}}function sP(n){let e="";const t=n.split("/");for(let i=0;i<t.length;i++)if(t[i].length>0){let s=t[i];try{s=decodeURIComponent(s.replace(/\+/g," "))}catch{}e+="/"+s}return e}function rP(n){const e={};n.charAt(0)==="?"&&(n=n.substring(1));for(const t of n.split("&")){if(t.length===0)continue;const i=t.split("=");i.length===2?e[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):pr(`Invalid query segment '${t}' in query '${n}'`)}return e}const Uw=function(n,e){const t=aP(n),i=t.namespace;t.domain==="firebase.com"&&Al(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||i==="undefined")&&t.domain!=="localhost"&&Al("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||yM();const s=t.scheme==="ws"||t.scheme==="wss";return{repoInfo:new AN(t.host,t.secure,i,s,e,"",i!==t.subdomain),path:new Wn(t.pathString)}},aP=function(n){let e="",t="",i="",s="",a="",l=!0,c="https",h=443;if(typeof n=="string"){let f=n.indexOf("//");f>=0&&(c=n.substring(0,f-1),n=n.substring(f+2));let p=n.indexOf("/");p===-1&&(p=n.length);let m=n.indexOf("?");m===-1&&(m=n.length),e=n.substring(0,Math.min(p,m)),p<m&&(s=sP(n.substring(p,m)));const b=rP(n.substring(Math.min(n.length,m)));f=e.indexOf(":"),f>=0?(l=c==="https"||c==="wss",h=parseInt(e.substring(f+1),10)):f=e.length;const y=e.slice(0,f);if(y.toLowerCase()==="localhost")t="localhost";else if(y.split(".").length<=2)t=y;else{const N=e.indexOf(".");i=e.substring(0,N).toLowerCase(),t=e.substring(N+1),a=i}"ns"in b&&(a=b.ns)}return{host:e,port:h,domain:t,subdomain:i,secure:l,scheme:c,pathString:s,namespace:a}};class oP{constructor(e,t,i,s){this.eventType=e,this.eventRegistration=t,this.snapshot=i,this.prevName=s}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Ki(this.snapshot.exportVal())}}class lP{constructor(e,t,i){this.eventRegistration=e,this.error=t,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class cP{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return Ze(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}class zv{constructor(e,t,i,s){this._repo=e,this._path=t,this._queryParams=i,this._orderByCalled=s}get key(){return en(this._path)?null:ON(this._path)}get ref(){return new Rl(this._repo,this._path)}get _queryIdentifier(){const e=Cw(this._queryParams),t=dv(e);return t==="{}"?"default":t}get _queryObject(){return Cw(this._queryParams)}isEqual(e){if(e=jr(e),!(e instanceof zv))return!1;const t=this._repo===e._repo,i=jN(this._path,e._path),s=this._queryIdentifier===e._queryIdentifier;return t&&i&&s}toJSON(){return this.toString()}toString(){return this._repo.toString()+eO(this._path)}}class Rl extends zv{constructor(e,t){super(e,t,new _v,!1)}get parent(){const e=PN(this._path);return e===null?null:new Rl(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class lp{constructor(e,t,i){this._node=e,this.ref=t,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const t=new Wn(e),i=fy(this.ref,e);return new lp(this._node.getChild(t),i,Ai)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(i,s)=>e(new lp(s,fy(this.ref,i),Ai)))}hasChild(e){const t=new Wn(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function cp(n,e){return n=jr(n),n._checkNotDeleted("ref"),e!==void 0?fy(n._root,e):n._root}function fy(n,e){return n=jr(n),sn(n._path)===null?BI("child","path",e):bA("child","path",e),new Rl(n._repo,Qi(n._path,e))}function Uv(n,e){n=jr(n),zI("set",n._path),FI("set",e,n._path);const t=new e0;return JI(n._repo,n._path,e,null,t.wrapCallback(()=>{})),t.promise}function gf(n){n=jr(n);const e=new cP(()=>{}),t=new Hv(e);return QI(n._repo,n,t).then(i=>new lp(i,new Rl(n._repo,n._path),n._queryParams.getIndex()))}class Hv{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,t){const i=t._queryParams.getIndex();return new oP("value",this,new lp(e.snapshotNode,new Rl(t._repo,t._path),i))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new lP(this,e,t):null}matches(e){return e instanceof Hv?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}uI(Rl);gI(Rl);const uP="FIREBASE_DATABASE_EMULATOR_HOST",dy={};let hP=!1;function fP(n,e,t,i){const s=e.lastIndexOf(":"),a=e.substring(0,s),l=wf(a);n.repoInfo_=new AN(e,l,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams,!0,t),i&&(n.authTokenProvider_=i)}function dP(n,e,t,i,s){let a=i||n.options.databaseURL;a===void 0&&(n.options.projectId||Al("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Ls("Using default host for project ",n.options.projectId),a=`${n.options.projectId}-default-rtdb.firebaseio.com`);let l=Uw(a,s),c=l.repoInfo,h;typeof process<"u"&&lw&&(h=lw[uP]),h?(a=`http://${h}?ns=${c.namespace}`,l=Uw(a,s),c=l.repoInfo):l.repoInfo.secure;const f=new kM(n.name,n.options,e);UI("Invalid Firebase Database URL",l),en(l.path)||Al("Database URL must point to the root of a Firebase Database (not including a child path).");const p=gP(c,n,f,new EM(n,t));return new mP(p,n)}function pP(n,e){const t=dy[e];(!t||t[n.key]!==n)&&Al(`Database ${e}(${n.repoInfo_}) has already been deleted.`),eP(n),delete t[n.key]}function gP(n,e,t,i){let s=dy[e.name];s||(s={},dy[e.name]=s);let a=s[n.toURLString()];return a&&Al("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),a=new YI(n,hP,t,i),s[n.toURLString()]=a,a}class mP{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||($I(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Rl(this._repo,vn())),this._rootInternal}_delete(){return this._rootInternal!==null&&(pP(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Al("Cannot call "+e+" on a deleted database.")}}function h0(n=oN(),e){const t=fv(n,"database").getImmediate({identifier:e});if(!t._instanceStarted){const i=j7("database");i&&yP(t,...i)}return t}function yP(n,e,t,i={}){n=jr(n),n._checkNotDeleted("useEmulator");const s=`${e}:${t}`,a=n._repoInternal;if(n._instanceStarted){if(s===n._repoInternal.repoInfo_.host&&Iu(i,a.repoInfo_.emulatorOptions))return;Al("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let l;if(a.repoInfo_.nodeAdmin)i.mockUserToken&&Al('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),l=new Zg(Zg.OWNER);else if(i.mockUserToken){const c=typeof i.mockUserToken=="string"?i.mockUserToken:F7(i.mockUserToken,n.app.options.projectId);l=new Zg(c)}wf(e)&&(eN(e),tN("Database",!0)),fP(a,s,i,l)}function vP(n){hM(Nf),hf(new Pu("database",(e,{instanceIdentifier:t})=>{const i=e.getProvider("app").getImmediate(),s=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return dP(i,s,a,t)},"PUBLIC").setMultipleInstances(!0)),Tc(cw,uw,n),Tc(cw,uw,"esm2020")}wl.prototype.simpleListen=function(n,e){this.sendRequest("q",{p:n},e)};wl.prototype.echo=function(n,e){this.sendRequest("echo",{d:n},e)};vP();function EA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const bP=EA,kA=new yp("auth","Firebase",EA());const Om=new uv("@firebase/auth");function _P(n,...e){Om.logLevel<=Bn.WARN&&Om.warn(`Auth (${Nf}): ${n}`,...e)}function em(n,...e){Om.logLevel<=Bn.ERROR&&Om.error(`Auth (${Nf}): ${n}`,...e)}function Cl(n,...e){throw qv(n,...e)}function Ao(n,...e){return qv(n,...e)}function TA(n,e,t){const i={...bP(),[e]:t};return new yp("auth","Firebase",i).create(e,{appName:n.name})}function Dc(n){return TA(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function qv(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return kA.create(n,...e)}function Ft(n,e,...t){if(!n)throw qv(e,...t)}function vl(n){const e="INTERNAL ASSERTION FAILED: "+n;throw em(e),new Error(e)}function El(n,e){n||vl(e)}function py(){return typeof self<"u"&&self.location?.href||""}function xP(){return Hw()==="http:"||Hw()==="https:"}function Hw(){return typeof self<"u"&&self.location?.protocol||null}function wP(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(xP()||H7()||"connection"in navigator)?navigator.onLine:!0}function SP(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}class Np{constructor(e,t){this.shortDelay=e,this.longDelay=t,El(t>e,"Short delay should be less than long delay!"),this.isMobile=lv()||nN()}get(){return wP()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Wv(n,e){El(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class LA{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;vl("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;vl("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;vl("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const NP={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const AP=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],CP=new Np(3e4,6e4);function f0(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function kf(n,e,t,i,s={}){return RA(n,s,async()=>{let a={},l={};i&&(e==="GET"?l=i:a={body:JSON.stringify(i)});const c=Sf({key:n.config.apiKey,...l}).slice(1),h=await n._getAdditionalHeaders();h["Content-Type"]="application/json",n.languageCode&&(h["X-Firebase-Locale"]=n.languageCode);const f={method:e,headers:h,...a};return U7()||(f.referrerPolicy="no-referrer"),n.emulatorConfig&&wf(n.emulatorConfig.host)&&(f.credentials="include"),LA.fetch()(await MA(n,n.config.apiHost,t,c),f)})}async function RA(n,e,t){n._canInitEmulator=!1;const i={...NP,...e};try{const s=new EP(n),a=await Promise.race([t(),s.promise]);s.clearNetworkTimeout();const l=await a.json();if("needConfirmation"in l)throw jg(n,"account-exists-with-different-credential",l);if(a.ok&&!("errorMessage"in l))return l;{const c=a.ok?l.errorMessage:l.error.message,[h,f]=c.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw jg(n,"credential-already-in-use",l);if(h==="EMAIL_EXISTS")throw jg(n,"email-already-in-use",l);if(h==="USER_DISABLED")throw jg(n,"user-disabled",l);const p=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw TA(n,p,f);Cl(n,p)}}catch(s){if(s instanceof Bc)throw s;Cl(n,"network-request-failed",{message:String(s)})}}async function DA(n,e,t,i,s={}){const a=await kf(n,e,t,i,s);return"mfaPendingCredential"in a&&Cl(n,"multi-factor-auth-required",{_serverResponse:a}),a}async function MA(n,e,t,i){const s=`${e}${t}?${i}`,a=n,l=a.config.emulator?Wv(n.config,s):`${n.config.apiScheme}://${s}`;return AP.includes(t)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(l).toString():l}class EP{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(Ao(this.auth,"network-request-failed")),CP.get())})}}function jg(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const s=Ao(n,e,i);return s.customData._tokenResponse=t,s}async function kP(n,e){return kf(n,"POST","/v1/accounts:delete",e)}async function Im(n,e){return kf(n,"POST","/v1/accounts:lookup",e)}function zd(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function TP(n,e=!1){const t=jr(n),i=await t.getIdToken(e),s=Vv(i);Ft(s&&s.exp&&s.auth_time&&s.iat,t.auth,"internal-error");const a=typeof s.firebase=="object"?s.firebase:void 0,l=a?.sign_in_provider;return{claims:s,token:i,authTime:zd(l2(s.auth_time)),issuedAtTime:zd(l2(s.iat)),expirationTime:zd(l2(s.exp)),signInProvider:l||null,signInSecondFactor:a?.sign_in_second_factor||null}}function l2(n){return Number(n)*1e3}function Vv(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return em("JWT malformed, contained fewer than 3 sections"),null;try{const s=bm(t);return s?JSON.parse(s):(em("Failed to decode base64 JWT payload"),null)}catch(s){return em("Caught error parsing JWT payload as JSON",s?.toString()),null}}function qw(n){const e=Vv(n);return Ft(e,"internal-error"),Ft(typeof e.exp<"u","internal-error"),Ft(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function up(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof Bc&&LP(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function LP({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}class RP{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class gy{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=zd(this.lastLoginAt),this.creationTime=zd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Pm(n){const e=n.auth,t=await n.getIdToken(),i=await up(n,Im(e,{idToken:t}));Ft(i?.users.length,e,"internal-error");const s=i.users[0];n._notifyReloadListener(s);const a=s.providerUserInfo?.length?OA(s.providerUserInfo):[],l=MP(n.providerData,a),c=n.isAnonymous,h=!(n.email&&s.passwordHash)&&!l?.length,f=c?h:!1,p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new gy(s.createdAt,s.lastLoginAt),isAnonymous:f};Object.assign(n,p)}async function DP(n){const e=jr(n);await Pm(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function MP(n,e){return[...n.filter(i=>!e.some(s=>s.providerId===i.providerId)),...e]}function OA(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}async function OP(n,e){const t=await RA(n,{},async()=>{const i=Sf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:a}=n.config,l=await MA(n,s,"/v1/token",`key=${a}`),c=await n._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";const h={method:"POST",headers:c,body:i};return n.emulatorConfig&&wf(n.emulatorConfig.host)&&(h.credentials="include"),LA.fetch()(l,h)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function IP(n,e){return kf(n,"POST","/v2/accounts:revokeToken",f0(n,e))}class Zh{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ft(e.idToken,"internal-error"),Ft(typeof e.idToken<"u","internal-error"),Ft(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):qw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ft(e.length!==0,"internal-error");const t=qw(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ft(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:s,expiresIn:a}=await OP(e,t);this.updateTokensAndExpiration(i,s,Number(a))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:s,expirationTime:a}=t,l=new Zh;return i&&(Ft(typeof i=="string","internal-error",{appName:e}),l.refreshToken=i),s&&(Ft(typeof s=="string","internal-error",{appName:e}),l.accessToken=s),a&&(Ft(typeof a=="number","internal-error",{appName:e}),l.expirationTime=a),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Zh,this.toJSON())}_performRefresh(){return vl("not implemented")}}function dc(n,e){Ft(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class qa{constructor({uid:e,auth:t,stsTokenManager:i,...s}){this.providerId="firebase",this.proactiveRefresh=new RP(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new gy(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const t=await up(this,this.stsTokenManager.getToken(this.auth,e));return Ft(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return TP(this,e)}reload(){return DP(this)}_assign(e){this!==e&&(Ft(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new qa({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Ft(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await Pm(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ba(this.auth.app))return Promise.reject(Dc(this.auth));const e=await this.getIdToken();return await up(this,kP(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const i=t.displayName??void 0,s=t.email??void 0,a=t.phoneNumber??void 0,l=t.photoURL??void 0,c=t.tenantId??void 0,h=t._redirectEventId??void 0,f=t.createdAt??void 0,p=t.lastLoginAt??void 0,{uid:m,emailVerified:b,isAnonymous:y,providerData:N,stsTokenManager:E}=t;Ft(m&&E,e,"internal-error");const k=Zh.fromJSON(this.name,E);Ft(typeof m=="string",e,"internal-error"),dc(i,e.name),dc(s,e.name),Ft(typeof b=="boolean",e,"internal-error"),Ft(typeof y=="boolean",e,"internal-error"),dc(a,e.name),dc(l,e.name),dc(c,e.name),dc(h,e.name),dc(f,e.name),dc(p,e.name);const T=new qa({uid:m,auth:e,email:s,emailVerified:b,displayName:i,isAnonymous:y,photoURL:l,phoneNumber:a,tenantId:c,stsTokenManager:k,createdAt:f,lastLoginAt:p});return N&&Array.isArray(N)&&(T.providerData=N.map(j=>({...j}))),h&&(T._redirectEventId=h),T}static async _fromIdTokenResponse(e,t,i=!1){const s=new Zh;s.updateFromServerResponse(t);const a=new qa({uid:t.localId,auth:e,stsTokenManager:s,isAnonymous:i});return await Pm(a),a}static async _fromGetAccountInfoResponse(e,t,i){const s=t.users[0];Ft(s.localId!==void 0,"internal-error");const a=s.providerUserInfo!==void 0?OA(s.providerUserInfo):[],l=!(s.email&&s.passwordHash)&&!a?.length,c=new Zh;c.updateFromIdToken(i);const h=new qa({uid:s.localId,auth:e,stsTokenManager:c,isAnonymous:l}),f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new gy(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!a?.length};return Object.assign(h,f),h}}const Ww=new Map;function bl(n){El(n instanceof Function,"Expected a class definition");let e=Ww.get(n);return e?(El(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Ww.set(n,e),e)}class IA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}IA.type="NONE";const Vw=IA;function tm(n,e,t){return`firebase:${n}:${e}:${t}`}class ef{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:s,name:a}=this.auth;this.fullUserKey=tm(this.userKey,s.apiKey,a),this.fullPersistenceKey=tm("persistence",s.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Im(this.auth,{idToken:e}).catch(()=>{});return t?qa._fromGetAccountInfoResponse(this.auth,t,e):null}return qa._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new ef(bl(Vw),e,i);const s=(await Promise.all(t.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let a=s[0]||bl(Vw);const l=tm(i,e.config.apiKey,e.name);let c=null;for(const f of t)try{const p=await f._get(l);if(p){let m;if(typeof p=="string"){const b=await Im(e,{idToken:p}).catch(()=>{});if(!b)break;m=await qa._fromGetAccountInfoResponse(e,b,p)}else m=qa._fromJSON(e,p);f!==a&&(c=m),a=f;break}}catch{}const h=s.filter(f=>f._shouldAllowMigration);return!a._shouldAllowMigration||!h.length?new ef(a,e,i):(a=h[0],c&&await a._set(l,c.toJSON()),await Promise.all(t.map(async f=>{if(f!==a)try{await f._remove(l)}catch{}})),new ef(a,e,i))}}function Gw(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(BA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(PA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(UA(e))return"Blackberry";if(HA(e))return"Webos";if(jA(e))return"Safari";if((e.includes("chrome/")||FA(e))&&!e.includes("edge/"))return"Chrome";if(zA(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if(i?.length===2)return i[1]}return"Other"}function PA(n=Vs()){return/firefox\//i.test(n)}function jA(n=Vs()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function FA(n=Vs()){return/crios\//i.test(n)}function BA(n=Vs()){return/iemobile/i.test(n)}function zA(n=Vs()){return/android/i.test(n)}function UA(n=Vs()){return/blackberry/i.test(n)}function HA(n=Vs()){return/webos/i.test(n)}function Gv(n=Vs()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function PP(n=Vs()){return Gv(n)&&!!window.navigator?.standalone}function jP(){return q7()&&document.documentMode===10}function qA(n=Vs()){return Gv(n)||zA(n)||HA(n)||UA(n)||/windows phone/i.test(n)||BA(n)}function WA(n,e=[]){let t;switch(n){case"Browser":t=Gw(Vs());break;case"Worker":t=`${Gw(Vs())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Nf}/${i}`}class FP{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=a=>new Promise((l,c)=>{try{const h=e(a);l(h)}catch(h){c(h)}});i.onAbort=t,this.queue.push(i);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const s of t)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}async function BP(n,e={}){return kf(n,"GET","/v2/passwordPolicy",f0(n,e))}const zP=6;class UP{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??zP,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),s&&(t.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let s=0;s<e.length;s++)i=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,s,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}class HP{constructor(e,t,i,s){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Yw(this),this.idTokenSubscription=new Yw(this),this.beforeStateQueue=new FP(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=kA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=bl(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await ef.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Im(this,{idToken:e}),i=await qa._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Ba(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(l,l))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let i=t,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=this.redirectUser?._redirectEventId,l=i?._redirectEventId,c=await this.tryRedirectSignIn(e);(!a||a===l)&&c?.user&&(i=c.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(a){i=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ft(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Pm(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=SP()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ba(this.app))return Promise.reject(Dc(this));const t=e?jr(e):null;return t&&Ft(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ft(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ba(this.app)?Promise.reject(Dc(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ba(this.app)?Promise.reject(Dc(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(bl(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await BP(this),t=new UP(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new yp("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await IP(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&bl(e)||this._popupRedirectResolver;Ft(t,this,"argument-error"),this.redirectPersistenceManager=await ef.create(this,[bl(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,s){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let l=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ft(c,this,"internal-error"),c.then(()=>{l||a(this.currentUser)}),typeof t=="function"){const h=e.addObserver(t,i,s);return()=>{l=!0,h()}}else{const h=e.addObserver(t);return()=>{l=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ft(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=WA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){if(Ba(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&_P(`Error while retrieving App Check token: ${e.error}`),e?.token}}function d0(n){return jr(n)}class Yw{constructor(e){this.auth=e,this.observer=null,this.addObserver=Z7(t=>this.observer=t)}get next(){return Ft(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Yv={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function qP(n){Yv=n}function WP(n){return Yv.loadJS(n)}function VP(){return Yv.gapiScript}function GP(n){return`__${n}${Math.floor(Math.random()*1e6)}`}function YP(n,e){const t=fv(n,"auth");if(t.isInitialized()){const s=t.getImmediate(),a=t.getOptions();if(Iu(a,e??{}))return s;Cl(s,"already-initialized")}return t.initialize({options:e})}function $P(n,e){const t=e?.persistence||[],i=(Array.isArray(t)?t:[t]).map(bl);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e?.popupRedirectResolver)}function XP(n,e,t){const i=d0(n);Ft(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const s=!1,a=VA(e),{host:l,port:c}=KP(e),h=c===null?"":`:${c}`,f={url:`${a}//${l}${h}/`},p=Object.freeze({host:l,port:c,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!i._canInitEmulator){Ft(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Ft(Iu(f,i.config.emulator)&&Iu(p,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=f,i.emulatorConfig=p,i.settings.appVerificationDisabledForTesting=!0,wf(l)?(eN(`${a}//${l}${h}`),tN("Auth",!0)):QP()}function VA(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function KP(n){const e=VA(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(i);if(s){const a=s[1];return{host:a,port:$w(i.substr(a.length+1))}}else{const[a,l]=i.split(":");return{host:a,port:$w(l)}}}function $w(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function QP(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}class GA{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return vl("not implemented")}_getIdTokenResponse(e){return vl("not implemented")}_linkToIdToken(e,t){return vl("not implemented")}_getReauthenticationResolver(e){return vl("not implemented")}}async function tf(n,e){return DA(n,"POST","/v1/accounts:signInWithIdp",f0(n,e))}const JP="http://localhost";class zu extends GA{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new zu(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Cl("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:s,...a}=t;if(!i||!s)return null;const l=new zu(i,s);return l.idToken=a.idToken||void 0,l.accessToken=a.accessToken||void 0,l.secret=a.secret,l.nonce=a.nonce,l.pendingToken=a.pendingToken||null,l}_getIdTokenResponse(e){const t=this.buildRequest();return tf(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,tf(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,tf(e,t)}buildRequest(){const e={requestUri:JP,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Sf(t)}return e}}class YA{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Ap extends YA{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class yc extends Ap{constructor(){super("facebook.com")}static credential(e){return zu._fromParams({providerId:yc.PROVIDER_ID,signInMethod:yc.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return yc.credentialFromTaggedObject(e)}static credentialFromError(e){return yc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return yc.credential(e.oauthAccessToken)}catch{return null}}}yc.FACEBOOK_SIGN_IN_METHOD="facebook.com";yc.PROVIDER_ID="facebook.com";class vc extends Ap{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return zu._fromParams({providerId:vc.PROVIDER_ID,signInMethod:vc.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return vc.credentialFromTaggedObject(e)}static credentialFromError(e){return vc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return vc.credential(t,i)}catch{return null}}}vc.GOOGLE_SIGN_IN_METHOD="google.com";vc.PROVIDER_ID="google.com";class bc extends Ap{constructor(){super("github.com")}static credential(e){return zu._fromParams({providerId:bc.PROVIDER_ID,signInMethod:bc.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return bc.credentialFromTaggedObject(e)}static credentialFromError(e){return bc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return bc.credential(e.oauthAccessToken)}catch{return null}}}bc.GITHUB_SIGN_IN_METHOD="github.com";bc.PROVIDER_ID="github.com";class _c extends Ap{constructor(){super("twitter.com")}static credential(e,t){return zu._fromParams({providerId:_c.PROVIDER_ID,signInMethod:_c.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return _c.credentialFromTaggedObject(e)}static credentialFromError(e){return _c.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return _c.credential(t,i)}catch{return null}}}_c.TWITTER_SIGN_IN_METHOD="twitter.com";_c.PROVIDER_ID="twitter.com";async function ZP(n,e){return DA(n,"POST","/v1/accounts:signUp",f0(n,e))}class jc{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,s=!1){const a=await qa._fromIdTokenResponse(e,i,s),l=Xw(i);return new jc({user:a,providerId:l,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const s=Xw(i);return new jc({user:e,providerId:s,_tokenResponse:i,operationType:t})}}function Xw(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}async function mf(n){if(Ba(n.app))return Promise.reject(Dc(n));const e=d0(n);if(await e._initializationPromise,e.currentUser?.isAnonymous)return new jc({user:e.currentUser,providerId:null,operationType:"signIn"});const t=await ZP(e,{returnSecureToken:!0}),i=await jc._fromIdTokenResponse(e,"signIn",t,!0);return await e._updateCurrentUser(i.user),i}class jm extends Bc{constructor(e,t,i,s){super(t.code,t.message),this.operationType=i,this.user=s,Object.setPrototypeOf(this,jm.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,s){return new jm(e,t,i,s)}}function $A(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?jm._fromErrorAndOperation(n,a,e,i):a})}async function ej(n,e,t=!1){const i=await up(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return jc._forOperation(n,"link",i)}async function tj(n,e,t=!1){const{auth:i}=n;if(Ba(i.app))return Promise.reject(Dc(i));const s="reauthenticate";try{const a=await up(n,$A(i,s,e,n),t);Ft(a.idToken,i,"internal-error");const l=Vv(a.idToken);Ft(l,i,"internal-error");const{sub:c}=l;return Ft(n.uid===c,i,"user-mismatch"),jc._forOperation(n,s,a)}catch(a){throw a?.code==="auth/user-not-found"&&Cl(i,"user-mismatch"),a}}async function nj(n,e,t=!1){if(Ba(n.app))return Promise.reject(Dc(n));const i="signIn",s=await $A(n,i,e),a=await jc._fromIdTokenResponse(n,i,s);return t||await n._updateCurrentUser(a.user),a}function ij(n,e,t,i){return jr(n).onIdTokenChanged(e,t,i)}function sj(n,e,t){return jr(n).beforeAuthStateChanged(e,t)}function rj(n,e,t,i){return jr(n).onAuthStateChanged(e,t,i)}const Fm="__sak";class XA{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Fm,"1"),this.storage.removeItem(Fm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const aj=1e3,oj=10;class KA extends XA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=qA(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),s=this.localCache[t];i!==s&&e(t,s,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((l,c,h)=>{this.notifyListeners(l,h)});return}const i=e.key;t?this.detachListener():this.stopPolling();const s=()=>{const l=this.storage.getItem(i);!t&&this.localCache[i]===l||this.notifyListeners(i,l)},a=this.storage.getItem(i);jP()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,oj):s()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},aj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}KA.type="LOCAL";const lj=KA;class QA extends XA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}QA.type="SESSION";const JA=QA;function cj(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}class p0{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(s=>s.isListeningto(e));if(t)return t;const i=new p0(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:s,data:a}=t.data,l=this.handlersMap[s];if(!l?.size)return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:s});const c=Array.from(l).map(async f=>f(t.origin,a)),h=await cj(c);t.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:h})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}p0.receivers=[];function $v(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}class uj{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let a,l;return new Promise((c,h)=>{const f=$v("",20);s.port1.start();const p=setTimeout(()=>{h(new Error("unsupported_event"))},i);l={messageChannel:s,onMessage(m){const b=m;if(b.data.eventId===f)switch(b.data.status){case"ack":clearTimeout(p),a=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),c(b.data.response);break;default:clearTimeout(p),clearTimeout(a),h(new Error("invalid_response"));break}}},this.handlers.add(l),s.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:f,data:t},[s.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}function Co(){return window}function hj(n){Co().location.href=n}function ZA(){return typeof Co().WorkerGlobalScope<"u"&&typeof Co().importScripts=="function"}async function fj(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function dj(){return navigator?.serviceWorker?.controller||null}function pj(){return ZA()?self:null}const e6="firebaseLocalStorageDb",gj=1,Bm="firebaseLocalStorage",t6="fbase_key";class Cp{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function g0(n,e){return n.transaction([Bm],e?"readwrite":"readonly").objectStore(Bm)}function mj(){const n=indexedDB.deleteDatabase(e6);return new Cp(n).toPromise()}function my(){const n=indexedDB.open(e6,gj);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(Bm,{keyPath:t6})}catch(s){t(s)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(Bm)?e(i):(i.close(),await mj(),e(await my()))})})}async function Kw(n,e,t){const i=g0(n,!0).put({[t6]:e,value:t});return new Cp(i).toPromise()}async function yj(n,e){const t=g0(n,!1).get(e),i=await new Cp(t).toPromise();return i===void 0?null:i.value}function Qw(n,e){const t=g0(n,!0).delete(e);return new Cp(t).toPromise()}const vj=800,bj=3;class n6{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await my(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>bj)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ZA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=p0._getInstance(pj()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await fj(),!this.activeServiceWorker)return;this.sender=new uj(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||dj()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await my();return await Kw(e,Fm,"1"),await Qw(e,Fm),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>Kw(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>yj(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Qw(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const a=g0(s,!1).getAll();return new Cp(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:s,value:a}of e)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(a)&&(this.notifyListeners(s,a),t.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),t.push(s));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),vj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}n6.type="LOCAL";const _j=n6;new Np(3e4,6e4);function xj(n,e){return e?bl(e):(Ft(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}class Xv extends GA{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return tf(e,this._buildIdpRequest())}_linkToIdToken(e,t){return tf(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return tf(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function wj(n){return nj(n.auth,new Xv(n),n.bypassAuthState)}function Sj(n){const{auth:e,user:t}=n;return Ft(t,e,"internal-error"),tj(t,new Xv(n),n.bypassAuthState)}async function Nj(n){const{auth:e,user:t}=n;return Ft(t,e,"internal-error"),ej(t,new Xv(n),n.bypassAuthState)}class i6{constructor(e,t,i,s,a=!1){this.auth=e,this.resolver=i,this.user=s,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:s,tenantId:a,error:l,type:c}=e;if(l){this.reject(l);return}const h={auth:this.auth,requestUri:t,sessionId:i,tenantId:a||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(h))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return wj;case"linkViaPopup":case"linkViaRedirect":return Nj;case"reauthViaPopup":case"reauthViaRedirect":return Sj;default:Cl(this.auth,"internal-error")}}resolve(e){El(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){El(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Aj=new Np(2e3,1e4);class Yh extends i6{constructor(e,t,i,s,a){super(e,t,s,a),this.provider=i,this.authWindow=null,this.pollId=null,Yh.currentPopupAction&&Yh.currentPopupAction.cancel(),Yh.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ft(e,this.auth,"internal-error"),e}async onExecution(){El(this.filter.length===1,"Popup operations only handle one event");const e=$v();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Ao(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ao(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Yh.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ao(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Aj.get())};e()}}Yh.currentPopupAction=null;const Cj="pendingRedirect",nm=new Map;class Ej extends i6{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=nm.get(this.auth._key());if(!e){try{const i=await kj(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}nm.set(this.auth._key(),e)}return this.bypassAuthState||nm.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function kj(n,e){const t=Rj(e),i=Lj(n);if(!await i._isAvailable())return!1;const s=await i._get(t)==="true";return await i._remove(t),s}function Tj(n,e){nm.set(n._key(),e)}function Lj(n){return bl(n._redirectPersistence)}function Rj(n){return tm(Cj,n.config.apiKey,n.name)}async function Dj(n,e,t=!1){if(Ba(n.app))return Promise.reject(Dc(n));const i=d0(n),s=xj(i,e),l=await new Ej(i,s,t).execute();return l&&!t&&(delete l.user._redirectEventId,await i._persistUserIfCurrent(l.user),await i._setRedirectUser(null,e)),l}const Mj=600*1e3;class Oj{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Ij(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!s6(e)){const i=e.error.code?.split("auth/")[1]||"internal-error";t.onError(Ao(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Mj&&this.cachedEventUids.clear(),this.cachedEventUids.has(Jw(e))}saveEventToCache(e){this.cachedEventUids.add(Jw(e)),this.lastProcessedEventTime=Date.now()}}function Jw(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function s6({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function Ij(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return s6(n);default:return!1}}async function Pj(n,e={}){return kf(n,"GET","/v1/projects",e)}const jj=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Fj=/^https?/;async function Bj(n){if(n.config.emulator)return;const{authorizedDomains:e}=await Pj(n);for(const t of e)try{if(zj(t))return}catch{}Cl(n,"unauthorized-domain")}function zj(n){const e=py(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const l=new URL(n);return l.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&l.hostname===i}if(!Fj.test(t))return!1;if(jj.test(n))return i===n;const s=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(i)}const Uj=new Np(3e4,6e4);function Zw(){const n=Co().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function Hj(n){return new Promise((e,t)=>{function i(){Zw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Zw(),t(Ao(n,"network-request-failed"))},timeout:Uj.get()})}if(Co().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Co().gapi?.load)i();else{const s=GP("iframefcb");return Co()[s]=()=>{gapi.load?i():t(Ao(n,"network-request-failed"))},WP(`${VP()}?onload=${s}`).catch(a=>t(a))}}).catch(e=>{throw im=null,e})}let im=null;function qj(n){return im=im||Hj(n),im}const Wj=new Np(5e3,15e3),Vj="__/auth/iframe",Gj="emulator/auth/iframe",Yj={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},$j=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Xj(n){const e=n.config;Ft(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Wv(e,Gj):`https://${n.config.authDomain}/${Vj}`,i={apiKey:e.apiKey,appName:n.name,v:Nf},s=$j.get(n.config.apiHost);s&&(i.eid=s);const a=n._getFrameworks();return a.length&&(i.fw=a.join(",")),`${t}?${Sf(i).slice(1)}`}async function Kj(n){const e=await qj(n),t=Co().gapi;return Ft(t,n,"internal-error"),e.open({where:document.body,url:Xj(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Yj,dontclear:!0},i=>new Promise(async(s,a)=>{await i.restyle({setHideOnLeave:!1});const l=Ao(n,"network-request-failed"),c=Co().setTimeout(()=>{a(l)},Wj.get());function h(){Co().clearTimeout(c),s(i)}i.ping(h).then(h,()=>{a(l)})}))}const Qj={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Jj=500,Zj=600,eF="_blank",tF="http://localhost";class eS{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function nF(n,e,t,i=Jj,s=Zj){const a=Math.max((window.screen.availHeight-s)/2,0).toString(),l=Math.max((window.screen.availWidth-i)/2,0).toString();let c="";const h={...Qj,width:i.toString(),height:s.toString(),top:a,left:l},f=Vs().toLowerCase();t&&(c=FA(f)?eF:t),PA(f)&&(e=e||tF,h.scrollbars="yes");const p=Object.entries(h).reduce((b,[y,N])=>`${b}${y}=${N},`,"");if(PP(f)&&c!=="_self")return iF(e||"",c),new eS(null);const m=window.open(e||"",c,p);Ft(m,n,"popup-blocked");try{m.focus()}catch{}return new eS(m)}function iF(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}const sF="__/auth/handler",rF="emulator/auth/handler",aF=encodeURIComponent("fac");async function tS(n,e,t,i,s,a){Ft(n.config.authDomain,n,"auth-domain-config-required"),Ft(n.config.apiKey,n,"invalid-api-key");const l={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:Nf,eventId:s};if(e instanceof YA){e.setDefaultLanguage(n.languageCode),l.providerId=e.providerId||"",Q2(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,m]of Object.entries({}))l[p]=m}if(e instanceof Ap){const p=e.getScopes().filter(m=>m!=="");p.length>0&&(l.scopes=p.join(","))}n.tenantId&&(l.tid=n.tenantId);const c=l;for(const p of Object.keys(c))c[p]===void 0&&delete c[p];const h=await n._getAppCheckToken(),f=h?`#${aF}=${encodeURIComponent(h)}`:"";return`${oF(n)}?${Sf(c).slice(1)}${f}`}function oF({config:n}){return n.emulator?Wv(n,rF):`https://${n.authDomain}/${sF}`}const c2="webStorageSupport";class lF{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=JA,this._completeRedirectFn=Dj,this._overrideRedirectResult=Tj}async _openPopup(e,t,i,s){El(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const a=await tS(e,t,i,py(),s);return nF(e,a,$v())}async _openRedirect(e,t,i,s){await this._originValidation(e);const a=await tS(e,t,i,py(),s);return hj(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:s,promise:a}=this.eventManagers[t];return s?Promise.resolve(s):(El(a,"If manager is not set, promise should be"),a)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await Kj(e),i=new Oj(e);return t.register("authEvent",s=>(Ft(s?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(c2,{type:c2},s=>{const a=s?.[0]?.[c2];a!==void 0&&t(!!a),Cl(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Bj(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return qA()||jA()||Gv()}}const cF=lF;var nS="@firebase/auth",iS="1.11.1";class uF{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ft(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function hF(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function fF(n){hf(new Pu("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:l,authDomain:c}=i.options;Ft(l&&!l.includes(":"),"invalid-api-key",{appName:i.name});const h={apiKey:l,authDomain:c,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:WA(n)},f=new HP(i,s,a,h);return $P(f,t),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),hf(new Pu("auth-internal",e=>{const t=d0(e.getProvider("auth").getImmediate());return(i=>new uF(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Tc(nS,iS,hF(n)),Tc(nS,iS,"esm2020")}const dF=300,pF=Z4("authIdTokenMaxAge")||dF;let sS=null;const gF=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>pF)return;const s=t?.token;sS!==s&&(sS=s,await fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function Ep(n=oN()){const e=fv(n,"auth");if(e.isInitialized())return e.getImmediate();const t=YP(n,{popupRedirectResolver:cF,persistence:[_j,lj,JA]}),i=Z4("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(i,location.origin);if(location.origin===a.origin){const l=gF(a.toString());sj(t,l,()=>l(t.currentUser)),ij(t,c=>l(c))}}const s=Q4("auth");return s&&XP(t,`http://${s}`),t}function mF(){return document.getElementsByTagName("head")?.[0]??document}qP({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=s=>{const a=Ao("internal-error");a.customData=s,t(a)},i.type="text/javascript",i.charset="UTF-8",mF().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});fF("Browser");var yF="firebase",vF="12.6.0";Tc(yF,vF,"app");const bF={apiKey:"AIzaSyDXtvrCHrjU_e0v46BbWiBb-e-lAviCSR0",authDomain:"shearers-4c4b4.firebaseapp.com",databaseURL:"https://shearers-4c4b4-default-rtdb.firebaseio.com",projectId:"shearers-4c4b4",storageBucket:"shearers-4c4b4.firebasestorage.app",messagingSenderId:"178658388175",appId:"1:178658388175:web:f85bf8ecb0c88570222fba",measurementId:"G-DG6MNF459P"},Dl=aN(bF),rS=Ep(Dl),aS=[{to:"/logger",label:"Logger",icon:"home"},{to:"/summary",label:"Summary",icon:"list"},{to:"/dashboard",label:"Dashboard",icon:"chart-bar"},{to:"/running",label:"Running",icon:"play"},{to:"/head-history",label:"History",icon:"history"},{to:"/issues-chart",label:"Issues Chart",icon:"chart-line"}];function Vu({children:n}){const e=To(),t=$m(),[i,s]=de.useState(null),[a,l]=de.useState(!1),[c,h]=de.useState(!1),[f,p]=de.useState(()=>localStorage.getItem("darkMode")==="true");de.useEffect(()=>{f?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),localStorage.setItem("darkMode",f.toString())},[f]),de.useEffect(()=>{const N=rj(rS,E=>s(E));return()=>N()},[]);const b=e.pathname.split("/").filter(N=>N),y=b.map((N,E)=>{const k="/"+b.slice(0,E+1).join("/"),T=N==="history"?`Head ${b[E+2]}`:N.charAt(0).toUpperCase()+N.slice(1);return{to:k,label:T}});return A.jsxs("div",{className:"min-h-screen flex flex-col bg-gray-50 dark:bg-gray-900",children:[A.jsx("header",{className:"bg-white dark:bg-gray-800 shadow-sm border-b border-gray-200 dark:border-gray-700 sticky top-0 z-40",children:A.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 flex items-center justify-between h-16",children:[A.jsxs("div",{className:"flex items-center space-x-3",children:[A.jsx("button",{onClick:()=>l(!a),className:"lg:hidden p-2 rounded-md text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700",children:A.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),A.jsxs(hs,{to:"/logger",className:"flex items-center space-x-2",children:[A.jsx("img",{src:"/Logo.png",alt:"Shearers Logger",className:"w-8 h-8 rounded-full object-cover"}),A.jsx("span",{className:"font-semibold text-xl text-gray-800 dark:text-gray-100 hidden sm:inline",children:"Shearers Logger"})]})]}),A.jsxs("nav",{className:"hidden md:flex items-center space-x-1 text-sm text-gray-600 dark:text-gray-400",children:[A.jsx(hs,{to:"/logger",className:"hover:text-indigo-600 dark:hover:text-indigo-400",children:"Home"}),y.map((N,E)=>A.jsxs(My.Fragment,{children:[A.jsx("span",{className:"mx-1",children:"/"}),A.jsx(hs,{to:N.to,className:"hover:text-indigo-600 dark:hover:text-indigo-400",children:N.label})]},N.to))]}),A.jsxs("div",{className:"flex items-center space-x-3",children:[c&&A.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full animate-pulse",title:"Unsaved changes"}),A.jsx("button",{onClick:()=>p(!f),className:"p-2 rounded-md text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",title:f?"Switch to Light Mode":"Switch to Dark Mode",children:f?A.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"})}):A.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"})})}),A.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-300 hidden sm:inline",children:i?i.displayName||i.email:"Guest"})]})]})}),A.jsx("aside",{className:`fixed inset-y-0 left-0 z-30 w-64 bg-white dark:bg-gray-800 shadow-lg transform transition-transform lg:translate-x-0 ${a?"translate-x-0":"-translate-x-full"}`,children:A.jsxs("div",{className:"flex flex-col h-full pt-20 lg:pt-16",children:[A.jsx("nav",{className:"flex-1 px-4 pb-4 space-y-1",children:aS.map(N=>A.jsxs(hs,{to:N.to,onClick:()=>l(!1),className:`flex items-center space-x-3 px-3 py-2 rounded-md text-sm font-medium transition-colors ${e.pathname===N.to?"bg-indigo-100 dark:bg-indigo-900 text-indigo-700 dark:text-indigo-300":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:[A.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[N.icon==="home"&&A.jsx("path",{d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"}),N.icon==="list"&&A.jsx("path",{d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"}),N.icon==="chart-bar"&&A.jsx("path",{d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0v-6a2 2 0 012-2h2a2 2 0 012 2v6a2 2 0 01-2 2h-2a2 2 0 01-2-2zM9 9v-2a2 2 0 00-2-2H5a2 2 0 00-2 2v2a2 2 0 002 2h2a2 2 0 002-2zm10 0v-2a2 2 0 00-2-2h-2a2 2 0 00-2 2v2a2 2 0 002 2h2a2 2 0 002-2z"}),N.icon==="play"&&A.jsx("path",{d:"M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"}),N.icon==="history"&&A.jsx("path",{d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"}),N.icon==="chart-line"&&A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 12l3-3 3 3 4-4M8 21l4-4 4 4M3 4h18M4 4h16v12a1 1 0 01-1 1H5a1 1 0 01-1-1V4z"})]}),A.jsx("span",{children:N.label})]},N.to))}),A.jsx("div",{className:"border-t border-gray-200 dark:border-gray-700 p-4",children:A.jsxs("button",{onClick:()=>rS.signOut().then(()=>t("/")),className:"w-full flex items-center justify-center space-x-2 px-3 py-2 rounded-md text-sm font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700",children:[A.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),A.jsx("span",{children:"Logout"})]})})]})}),A.jsx("main",{className:"flex-1 overflow-y-auto lg:ml-64",children:A.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:n})}),A.jsx("nav",{className:"lg:hidden fixed bottom-0 left-0 right-0 bg-white dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700 z-40",children:A.jsx("div",{className:"grid grid-cols-6",children:aS.map(N=>A.jsxs(hs,{to:N.to,className:`flex flex-col items-center py-2 text-xs font-medium transition-colors ${e.pathname===N.to?"text-indigo-600 dark:text-indigo-400":"text-gray-600 dark:text-gray-400"}`,children:[A.jsxs("svg",{className:"w-6 h-6 mb-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[N.icon==="home"&&A.jsx("path",{d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"}),N.icon==="list"&&A.jsx("path",{d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"}),N.icon==="chart-bar"&&A.jsx("path",{d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0v-6a2 2 0 012-2h2a2 2 0 012 2v6a2 2 0 01-2 2h-2a2 2 0 01-2-2zM9 9v-2a2 2 0 00-2-2H5a2 2 0 00-2 2v2a2 2 0 002 2h2a2 2 0 002-2zm10 0v-2a2 2 0 00-2-2h-2a2 2 0 00-2 2v2a2 2 0 002 2h2a2 2 0 002-2z"}),N.icon==="play"&&A.jsx("path",{d:"M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"}),N.icon==="history"&&A.jsx("path",{d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"}),N.icon==="chart-line"&&A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 12l3-3 3 3 4-4M8 21l4-4 4 4M3 4h18M4 4h16v12a1 1 0 01-1 1H5a1 1 0 01-1-1V4z"})]}),N.label]},N.to))})}),A.jsx(_F.Provider,{value:h})]})}const _F=de.createContext(()=>{});_f.register(U4,H4,P4,B4,sv,iv);const oS=h0(Dl),xF=Ep(Dl),wF="jti-downtime",SF=`${wF}/main-logger`,lS=`${SF}/data`,NF=14,sa=()=>Array.from({length:NF},(n,e)=>({head:e+1,offline:"Active",issue:"None",issues:[],repaired:"Not Fixed",notes:"",replacementReason:""})),pc=["None","Chute","Operator","Load Cell","Detached Head","Stepper Motor Error","Hopper Issues","Installed Wrong","WDU Replacement","Other"],r6=n=>{const e=n.getFullYear(),t=String(n.getMonth()+1).padStart(2,"0"),i=String(n.getDate()).padStart(2,"0");return`${e}-${t}-${i}`},Sd=()=>{const n=new Date;return Array.from({length:5},(e,t)=>{const i=new Date(n);return i.setDate(n.getDate()-t),r6(i)})};function cS({data:n,setData:e,dates:t,setDates:i}){const[s,a]=de.useState(()=>{const Oe=localStorage.getItem("downtimeLoggerData");return Oe?JSON.parse(Oe):{}}),[l,c]=de.useState(()=>{const Oe=localStorage.getItem("downtimeLoggerDates");if(Oe)try{const He=JSON.parse(Oe);if(Array.isArray(He)&&He.length===5)return He}catch{}return Sd()}),h=n??s,f=e??a,p=t??l,m=i??c,{state:b}=To(),[y,N]=de.useState(()=>b?.selectedDate||p[0]),[E,k]=de.useState(b?.selectedLine||"Line 1"),[T,j]=de.useState(()=>new Set([b?.selectedDate||p[0]])),[q,H]=de.useState(""),[V,oe]=de.useState(null),[ae,K]=de.useState(!1),[Y,ue]=de.useState({}),[P,M]=de.useState(()=>window.innerWidth<=768?"cards":"table"),[Q,ne]=de.useState(null),pe=My.useRef({});de.useEffect(()=>{mf(xF).then(()=>oe(null)).catch(Oe=>oe(Oe.message))},[]),de.useEffect(()=>{if(!Array.isArray(p)||p.length!==5){const Oe=Sd();m(Oe)}},[p,m]),de.useEffect(()=>{y&&!p.includes(y)&&(N(p[0]),j(new Set([p[0]])))},[p,y]),de.useEffect(()=>{if(b?.selectedHead){const Oe=b.selectedHead;ne(Oe),setTimeout(()=>{const He=pe.current[Oe];He&&He.scrollIntoView({behavior:"smooth",block:"center"})},300),setTimeout(()=>ne(null),3e3)}},[b?.selectedHead]),de.useEffect(()=>{try{localStorage.setItem("downtimeLoggerData",JSON.stringify(h))}catch{}},[h]),de.useEffect(()=>{try{localStorage.setItem("downtimeLoggerDates",JSON.stringify(p))}catch{}},[p]);const $=Oe=>{H(Oe),setTimeout(()=>H(""),1200)},re=async()=>{try{await Uv(cp(oS,lS),{data:h,dates:p}),$("Saved")}catch(Oe){console.error(Oe),$("Failed")}},ce=async()=>{try{const Oe=await gf(cp(oS,lS));if(!Oe.exists())return alert("No cloud data");const He=Oe.val()||{},Le=He.data||{},Je=Array.isArray(He.dates)&&He.dates.length===5?He.dates:Object.keys(Le).sort((Ge,qe)=>new Date(qe)-new Date(Ge)).slice(0,5);f(Le),m(Je),N(Je[0]),j(new Set([Je[0]])),alert("Loaded from cloud")}catch(Oe){alert("Load failed: "+Oe.message)}},J=Oe=>{const He=Oe.target.files?.[0];if(!He)return;const Le=new FileReader;Le.onload=()=>{try{const Je=JSON.parse(Le.result),Ge=Je?.data??Je;if(!Ge||typeof Ge!="object")throw new Error("Invalid payload");f(Ge);const st=Object.keys(Ge).sort((vt,yt)=>new Date(yt)-new Date(vt)).slice(0,5);m(st.length===5?st:Sd()),N(st[0]||Sd()[0]),j(new Set([st[0]||Sd()[0]])),alert("Imported!")}catch(Je){alert("Invalid file: "+Je.message)}},Le.readAsText(He),Oe.target.value=""},_e=()=>{const Oe=new Blob([JSON.stringify({data:h,dates:p},null,2)],{type:"application/json"}),He=URL.createObjectURL(Oe),Le=document.createElement("a");Le.href=He,Le.download=`downtime-${p?.[0]||r6(new Date)}.json`,Le.click(),URL.revokeObjectURL(He)},F=Oe=>h?.[Oe]||{},w=(Oe,He)=>{f(Le=>({...Le,[Oe]:{...Le?.[Oe]||{},...He}}))},D=(Oe,He,Le)=>{const Je=$e(Oe),Ge=Je.heads[He];let qe=[];Array.isArray(Ge.issues)?qe=Ge.issues:Ge.issue&&Ge.issue!=="None"&&(qe=[{type:Ge.issue,repaired:Ge.repaired||"Not Fixed",replacementReason:Ge.replacementReason||""}]),qe.findIndex(yt=>yt.type===Le)>=0?qe=qe.filter(yt=>yt.type!==Le):qe=[...qe,{type:Le,repaired:"Not Fixed",replacementReason:""}];const vt=Je.heads.map((yt,ct)=>ct===He?{...yt,issues:qe,issue:qe.length>0?qe[0].type:"None",repaired:qe.some(Bt=>Bt.repaired==="Not Fixed")?"Not Fixed":qe.every(Bt=>Bt.repaired==="Fixed")&&qe.length>0?"Fixed":"Not Fixed",replacementReason:qe.length>0&&qe[0].type==="WDU Replacement"?qe[0].replacementReason:""}:yt);w(Oe,{[E]:{...Je,heads:vt}})},z=(Oe,He,Le)=>{const Je=$e(Oe),Ge=Je.heads[He];let qe=[];Array.isArray(Ge.issues)?qe=[...Ge.issues]:Ge.issue&&Ge.issue!=="None"&&(qe=[{type:Ge.issue,repaired:Ge.repaired||"Not Fixed",replacementReason:Ge.replacementReason||""}]),qe=qe.map(vt=>{if(vt.type===Le){const yt=vt.repaired==="Not Fixed"?"Fixed":"Not Fixed";return{...vt,repaired:yt}}return vt});const st=Je.heads.map((vt,yt)=>yt===He?{...vt,issues:qe,issue:qe.length>0?qe[0].type:"None",repaired:qe.some(ct=>ct.repaired==="Not Fixed")?"Not Fixed":qe.every(ct=>ct.repaired==="Fixed")&&qe.length>0?"Fixed":"Not Fixed",replacementReason:qe.length>0&&qe[0].type==="WDU Replacement"?qe[0].replacementReason:""}:vt);w(Oe,{[E]:{...Je,heads:st}})},Z=(Oe,He,Le,Je)=>{const Ge=$e(Oe),qe=Ge.heads[He];let st=[];Array.isArray(qe.issues)?st=[...qe.issues]:qe.issue&&qe.issue!=="None"&&(st=[{type:qe.issue,repaired:qe.repaired||"Not Fixed",replacementReason:qe.replacementReason||""}]),st=st.map(yt=>yt.type===Le?{...yt,replacementReason:Je}:yt);const vt=Ge.heads.map((yt,ct)=>ct===He?{...yt,issues:st,replacementReason:st.length>0&&st[0].type==="WDU Replacement"?st[0].replacementReason:""}:yt);w(Oe,{[E]:{...Ge,heads:vt}})},le=(Oe,He)=>{const Le=p[Oe];if(!He||Le===He)return;f(Ge=>{const qe={...Ge};return qe[Le]&&(qe[He]={...qe[He]||{},...qe[Le]},delete qe[Le]),qe});const Je=[...p];Je[Oe]=He,Je.sort((Ge,qe)=>new Date(qe)-new Date(Ge)),m(Je),y===Le&&N(He),j(Ge=>{const qe=new Set(Ge);return qe.delete(Le),qe.add(He),qe})},ve=Oe=>{j(He=>{const Le=new Set(He);return Le.has(Oe)?Le.delete(Oe):Le.add(Oe),Le}),N(Oe)},Ne=Array.from({length:39},(Oe,He)=>`Line ${He+1}`),Ce=()=>k(Ne[(Ne.indexOf(E)-1+Ne.length)%Ne.length]),Pe=()=>k(Ne[(Ne.indexOf(E)+1)%Ne.length]),$e=Oe=>F(Oe)[E]||{heads:sa(),machineNotes:"",running:!1},tt=Oe=>{if(Oe.offline==="Active")return"bg-green-500";let He=!1;return Array.isArray(Oe.issues)?He=Oe.issues.some(Le=>Le.type==="WDU Replacement"):Oe.issue==="WDU Replacement"&&(He=!0),He?"bg-purple-500":Oe.repaired==="Fixed"?"bg-orange-500":"bg-red-500"},it=Oe=>{const Le=F(Oe)[E]||{running:!1};w(Oe,{[E]:{...Le,heads:sa(),machineNotes:""}})},ht=Oe=>{const He={};for(let Le=1;Le<=39;Le++){const Je=`Line ${Le}`;He[Je]={heads:sa(),machineNotes:"",running:!1}}w(Oe,He)},ee=()=>{confirm(`Reset ALL days and ALL lines back to default?
This clears heads & notes for every line on all 5 days, and sets Running = OFF everywhere.`)&&(f(He=>{const Le={...He};return(p||[]).forEach(Je=>{const Ge={};for(let qe=1;qe<=39;qe++){const st=`Line ${qe}`;Ge[st]={heads:sa(),machineNotes:"",running:!1}}Le[Je]=Ge}),Le}),$("All days reset"))};de.useMemo(()=>($e(y).heads||sa()).filter(He=>He.offline!=="Active").length,[y,E,h]),de.useMemo(()=>($e(y).heads||sa()).filter(He=>He.offline!=="Active"&&He.repaired==="Fixed").length,[y,E,h]);const nt=de.useMemo(()=>({labels:p||[],datasets:[{label:"Offline",data:(p||[]).map(Oe=>($e(Oe).heads||sa()).filter(He=>He.offline!=="Active").length),backgroundColor:"#EF4444"},{label:"Fixed",data:(p||[]).map(Oe=>($e(Oe).heads||sa()).filter(He=>He.offline!=="Active"&&He.repaired==="Fixed").length),backgroundColor:"#3B82F6"}]}),[p,E,h]);return A.jsx(Vu,{children:A.jsxs("div",{className:"relative max-w-4xl mx-auto p-6 bg-white dark:bg-gray-800 rounded-lg shadow-md md:p-4 sm:p-2",children:[q&&A.jsx("div",{className:"absolute top-2 right-2 px-3 py-1 rounded text-white text-xs shadow bg-slate-700/90 pointer-events-none",children:q}),A.jsx("h2",{className:"text-2xl font-semibold text-center mb-4 sm:text-xl dark:text-gray-100",children:"Downtime Logger"}),A.jsx("div",{className:"flex justify-end mb-4 relative",children:A.jsxs("div",{className:"relative",children:[A.jsx("button",{onClick:()=>K(Oe=>!Oe),className:"px-4 py-2 bg-gray-200 dark:bg-gray-700 dark:text-gray-200 rounded text-sm hover:bg-gray-300 dark:hover:bg-gray-600",title:"Actions menu",children:"Actions "}),ae&&A.jsxs("div",{className:"absolute right-0 mt-2 w-56 bg-white dark:bg-gray-800 border dark:border-gray-700 rounded shadow-lg z-20",children:[A.jsx("label",{htmlFor:"import-json",className:"w-full text-left px-3 py-2 hover:bg-gray-100 dark:hover:bg-gray-700 dark:text-gray-200 cursor-pointer block",children:"Import JSON"}),A.jsx("input",{id:"import-json",type:"file",accept:".json",hidden:!0,onChange:J}),A.jsx("button",{onClick:()=>{K(!1),_e()},className:"w-full text-left px-3 py-2 hover:bg-gray-100 dark:hover:bg-gray-700 dark:text-gray-200",children:"Export JSON"}),A.jsx("button",{onClick:()=>{K(!1),re()},className:"w-full text-left px-3 py-2 hover:bg-gray-100 dark:hover:bg-gray-700 dark:text-gray-200",children:"Save to Cloud"}),A.jsx("button",{onClick:()=>{K(!1),ce()},className:"w-full text-left px-3 py-2 hover:bg-gray-100 dark:hover:bg-gray-700 dark:text-gray-200",children:"Load from Cloud"}),A.jsx("div",{className:"border-t dark:border-gray-700 my-1"}),A.jsx("button",{onClick:()=>{K(!1),confirm(`Reset ${E} for ${y}? Heads & notes will be cleared.`)&&it(y)},className:"w-full text-left px-3 py-2 hover:bg-gray-100 dark:hover:bg-gray-700 dark:text-gray-200",children:"Reset Line (current day)"}),A.jsx("button",{onClick:()=>{K(!1),confirm(`Reset ALL lines for ${y}? Heads & notes will be cleared and Running set to OFF.`)&&ht(y)},className:"w-full text-left px-3 py-2 hover:bg-gray-100 dark:hover:bg-gray-700 dark:text-gray-200",children:"Reset Day (all lines)"}),A.jsx("button",{onClick:()=>{K(!1),ee()},className:"w-full text-left px-3 py-2 hover:bg-gray-100 dark:hover:bg-gray-700 text-red-700 dark:text-red-400",children:"Reset ALL Days"})]})]})}),A.jsx("div",{className:"space-y-2",children:(p||[]).map((Oe,He)=>{const Le=T.has(Oe),Je=F(Oe),Ge=Je[E]||{heads:sa(),machineNotes:"",running:!1},{heads:qe,machineNotes:st,running:vt}=Ge,yt=rt=>{w(Oe,{[E]:typeof rt=="function"?rt(Ge):{...Ge,...rt}})},ct=(rt,at,St)=>{const pt=(qe||sa()).map((wn,me)=>me===rt?{...wn,[at]:St}:wn);yt({heads:pt})},Bt=(()=>{const rt=(qe||sa()).filter(St=>St.offline!=="Active"),at=rt.filter(St=>St.repaired==="Fixed");return{notFixed:rt.length-at.length,fixed:at.length}})();return A.jsxs("div",{className:"border dark:border-gray-700 rounded-lg overflow-hidden",children:[A.jsx("button",{onClick:()=>ve(Oe),className:"w-full px-4 py-3 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 dark:text-gray-200",children:A.jsxs("div",{className:"flex items-center justify-between gap-2 flex-wrap",children:[A.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[A.jsx("label",{className:"text-sm font-medium whitespace-nowrap",children:"Date"}),A.jsx("input",{type:"date",value:Oe,onChange:rt=>{rt.stopPropagation(),le(He,rt.target.value)},onClick:rt=>rt.stopPropagation(),className:"text-sm border dark:border-gray-600 dark:bg-gray-700 dark:text-gray-200 rounded px-2 py-1"}),A.jsx("span",{className:"font-medium text-left leading-tight sm:text-sm",children:Oe})]}),A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400 whitespace-nowrap",children:[Object.keys(Je).filter(rt=>Je[rt]?.running).length," active"]}),A.jsx("svg",{className:`w-5 h-5 transition-transform ${Le?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})]})}),Le&&A.jsxs("div",{className:"p-4 bg-white dark:bg-gray-800 space-y-4",children:[A.jsx("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-3 items-center",children:A.jsxs("div",{className:"md:col-span-8 flex flex-wrap items-center gap-3",children:[A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx("span",{className:"font-medium whitespace-nowrap dark:text-gray-200",children:"Line:"}),A.jsx("select",{value:E,onChange:rt=>k(rt.target.value),className:"border dark:border-gray-600 dark:bg-gray-700 dark:text-gray-200 p-2 rounded sm:w-44 w-48",children:Array.from({length:39},(rt,at)=>`Line ${at+1}`).map(rt=>A.jsx("option",{value:rt,children:rt},rt))}),A.jsxs("span",{className:"px-2 py-1 rounded text-white text-xs",style:{background:"#EF4444"},children:["Not Fixed: ",A.jsx("b",{children:Bt.notFixed})]}),A.jsxs("span",{className:"px-2 py-1 rounded text-white text-xs",style:{background:"#3B82F6"},children:["Fixed: ",A.jsx("b",{children:Bt.fixed})]})]}),A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx("span",{className:"sm:text-sm dark:text-gray-200",children:"Running:"}),A.jsx("button",{onClick:()=>yt(rt=>({...rt,running:!rt.running})),className:"px-4 py-1 rounded text-white "+(vt?"bg-green-500":"bg-red-500")+" sm:px-3 sm:py-1 sm:text-sm",children:vt?"ON":"OFF"})]}),A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx("button",{onClick:Ce,className:"px-3 py-1 bg-gray-200 dark:bg-gray-700 dark:text-gray-200 rounded sm:px-2 sm:py-1",children:"Prev"}),A.jsx("button",{onClick:Pe,className:"px-3 py-1 bg-gray-200 dark:bg-gray-700 dark:text-gray-200 rounded sm:px-2 sm:py-1",children:"Next"})]})]})}),A.jsx("div",{className:"flex justify-end mb-3",children:A.jsxs("div",{className:"inline-flex rounded-md shadow-sm",role:"group",children:[A.jsx("button",{onClick:()=>M("table"),className:`px-4 py-2 text-sm font-medium border ${P==="table"?"bg-blue-600 text-white border-blue-600":"bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-200 border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-600"} rounded-l-lg`,children:"Table"}),A.jsx("button",{onClick:()=>M("cards"),className:`px-4 py-2 text-sm font-medium border-t border-b border-r ${P==="cards"?"bg-blue-600 text-white border-blue-600":"bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-200 border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-600"} rounded-r-lg`,children:"Cards"})]})}),(()=>{const rt=qe||sa(),at=rt.map((me,De)=>({...me,index:De})).filter(me=>me.offline!=="Active"),St=rt.map((me,De)=>({...me,index:De})).filter(me=>me.offline==="Active"),pt=`${Oe}-${E}`,wn=Y[pt]??!1;return A.jsxs(A.Fragment,{children:[A.jsxs("div",{className:"mb-4 p-3 bg-gray-50 dark:bg-gray-700 rounded-lg border dark:border-gray-600",children:[A.jsx("h6",{className:"mb-2 font-semibold text-sm dark:text-gray-200",children:"Quick Head Toggle"}),A.jsx("div",{className:"grid grid-cols-7 gap-2 max-w-2xl mx-auto",children:rt.map((me,De)=>{let Xe="bg-green-500",Ct=!1;return Array.isArray(me.issues)?Ct=me.issues.some(Ke=>Ke.type==="WDU Replacement"):me.issue==="WDU Replacement"&&(Ct=!0),Ct?Xe="bg-purple-500":me.repaired==="Fixed"?Xe="bg-orange-500":me.offline!=="Active"&&(Xe="bg-red-500"),A.jsx("button",{onClick:()=>ct(De,"offline",me.offline==="Active"?"Offline":"Active"),className:`${Xe} text-white font-bold py-2 rounded hover:opacity-90 transition`,title:`Head ${me.head}: ${Ct?"WDU Replacement":me.repaired==="Fixed"?"Fixed":me.offline==="Active"?"Click to set Offline":"Click to set Active"}`,children:me.head},De)})}),A.jsxs("div",{className:"text-xs text-gray-600 dark:text-gray-400 text-center mt-2",children:[A.jsx("span",{className:"inline-block bg-green-500 text-white px-2 py-0.5 rounded mr-1",children:"Green"})," Active",A.jsx("span",{className:"inline-block bg-red-500 text-white px-2 py-0.5 rounded mx-1 ml-2",children:"Red"})," Offline",A.jsx("span",{className:"inline-block bg-orange-500 text-white px-2 py-0.5 rounded ml-2",children:"Orange"})," Fixed",A.jsx("span",{className:"inline-block bg-purple-500 text-white px-2 py-0.5 rounded ml-2",children:"Purple"})," WDU"]})]}),at.length>0&&A.jsxs("div",{className:"mb-4",children:[A.jsxs("h6",{className:"font-semibold text-red-600 dark:text-red-400 mb-2",children:["Offline Heads (",at.length,")"]}),P==="table"?A.jsx("div",{className:"overflow-x-auto",children:A.jsxs("table",{className:"w-full table-auto border-collapse min-w-max",children:[A.jsx("thead",{children:A.jsx("tr",{className:"bg-gray-100 dark:bg-gray-700",children:["Head","Status","Issue","Repaired","Notes"].map(me=>A.jsx("th",{className:"p-2 text-center border dark:border-gray-600 dark:text-gray-200 sm:p-1 sm:text-sm",children:me},me))})}),A.jsx("tbody",{children:at.map(me=>A.jsxs("tr",{ref:De=>{De&&(pe.current[me.head]=De)},className:`${tt(me)} ${Q===me.head?"ring-4 ring-blue-500 ring-opacity-50":""} transition-all duration-300`,children:[A.jsx("td",{className:"p-2 text-center sm:p-1 sm:text-sm",children:me.head}),A.jsx("td",{className:"p-2 text-center sm:p-1 sm:text-sm",children:me.offline!=="Active"&&me.repaired==="Not Fixed"?A.jsx("span",{className:"text-white font-semibold",children:me.offline}):A.jsx("button",{onClick:()=>ct(me.index,"offline",me.offline==="Active"?"Offline":"Active"),className:"px-4 py-1 rounded text-white "+(me.offline==="Active"?"bg-green-500":"bg-red-500")+" sm:px-2 sm:py-1 sm:text-sm",children:me.offline})}),A.jsx("td",{className:"p-2 text-center sm:p-1 sm:text-sm",children:A.jsxs("div",{className:"flex flex-col gap-1",children:[(()=>{let De=[];return Array.isArray(me.issues)?De=me.issues:me.issue&&me.issue!=="None"&&(De=[{type:me.issue,repaired:me.repaired||"Not Fixed",replacementReason:me.replacementReason||""}]),De.map((Xe,Ct)=>A.jsxs("div",{className:"flex items-center gap-1 text-xs",children:[A.jsx("span",{className:"flex-1 text-left text-white font-medium",children:Xe.type}),Xe.type==="WDU Replacement"&&A.jsxs("select",{value:Xe.replacementReason||"",onChange:Ke=>Z(Oe,me.index,Xe.type,Ke.target.value),className:"text-xs p-1 border dark:border-gray-600 dark:bg-gray-700 dark:text-gray-200 rounded",onClick:Ke=>Ke.stopPropagation(),children:[A.jsx("option",{value:"",children:"Reason..."}),pc.filter(Ke=>Ke!=="None"&&Ke!=="WDU Replacement").map(Ke=>A.jsx("option",{value:Ke,children:Ke},Ke))]}),A.jsx("button",{onClick:()=>z(Oe,me.index,Xe.type),className:"px-2 py-0.5 text-xs rounded text-white "+(Xe.repaired==="Fixed"?"bg-green-500":"bg-red-500"),title:"Click to toggle Fixed/Not Fixed",children:Xe.repaired==="Fixed"?"Fixed":"Not Fixed"}),A.jsx("button",{onClick:()=>D(Oe,me.index,Xe.type),className:"px-2 py-0.5 text-xs bg-red-500 text-white rounded hover:bg-red-600",title:"Remove issue",children:""})]},Ct))})(),A.jsxs("select",{value:"",onChange:De=>{De.target.value&&(D(Oe,me.index,De.target.value),De.target.value="")},className:"text-xs p-1 border dark:border-gray-600 dark:bg-gray-700 dark:text-gray-200 rounded",children:[A.jsx("option",{value:"",children:"+ Add Issue"}),pc.filter(De=>De!=="None").map(De=>{let Xe=[];return Array.isArray(me.issues)?Xe=me.issues:me.issue&&me.issue!=="None"&&(Xe=[{type:me.issue}]),!Xe.some(Ke=>Ke.type===De)&&A.jsx("option",{value:De,children:De},De)})]})]})}),A.jsx("td",{className:"p-2 text-center sm:p-1 sm:text-sm",children:A.jsx("button",{onClick:()=>ct(me.index,"repaired",me.repaired==="Fixed"?"Not Fixed":"Fixed"),className:"px-4 py-1 rounded text-white "+(me.repaired==="Fixed"?"bg-green-500":"bg-red-500")+" sm:px-2 sm:py-1 sm:text-sm",children:me.repaired})}),A.jsx("td",{className:"p-2 sm:p-1 sm:text-sm",children:A.jsx("input",{value:me.notes,onChange:De=>ct(me.index,"notes",De.target.value),className:"w-full p-1 border dark:border-gray-600 dark:bg-gray-700 dark:text-gray-200 rounded sm:text-sm"})})]},me.index))})]})}):A.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:at.map(me=>A.jsx("div",{ref:De=>{De&&(pe.current[me.head]=De)},className:`${tt(me)} border dark:border-gray-600 rounded-lg p-3 shadow-sm ${Q===me.head?"ring-4 ring-blue-500 ring-opacity-50":""} transition-all duration-300`,children:A.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm mb-2",children:[A.jsxs("div",{children:[A.jsx("span",{className:"font-semibold",children:"Head:"})," ",me.head]}),A.jsxs("div",{children:[A.jsx("span",{className:"font-semibold",children:"Status:"})," ",me.offline!=="Active"&&me.repaired==="Not Fixed"?A.jsx("span",{className:"text-white font-semibold text-xs",children:me.offline}):A.jsx("button",{onClick:()=>ct(me.index,"offline",me.offline==="Active"?"Offline":"Active"),className:"px-3 py-1 rounded text-white text-xs "+(me.offline==="Active"?"bg-green-500":"bg-red-500"),children:me.offline})]}),A.jsxs("div",{className:"col-span-2",children:[A.jsx("span",{className:"font-semibold",children:"Issues:"}),A.jsxs("div",{className:"flex flex-col gap-1 mt-1",children:[(()=>{let De=[];return Array.isArray(me.issues)?De=me.issues:me.issue&&me.issue!=="None"&&(De=[{type:me.issue,repaired:me.repaired||"Not Fixed",replacementReason:me.replacementReason||""}]),De.map((Xe,Ct)=>A.jsxs("div",{className:"flex flex-col gap-1 p-2 bg-gray-100 dark:bg-gray-600 rounded",children:[A.jsxs("div",{className:"flex items-center justify-between gap-1",children:[A.jsx("span",{className:"text-xs font-medium",children:Xe.type}),A.jsxs("div",{className:"flex gap-1",children:[A.jsx("button",{onClick:()=>z(Oe,me.index,Xe.type),className:"px-2 py-0.5 text-xs rounded text-white "+(Xe.repaired==="Fixed"?"bg-green-500":"bg-red-500"),title:"Click to toggle Fixed/Not Fixed",children:Xe.repaired==="Fixed"?"Fixed":"Not Fixed"}),A.jsx("button",{onClick:()=>D(Oe,me.index,Xe.type),className:"px-2 py-0.5 text-xs bg-red-500 text-white rounded hover:bg-red-600",title:"Remove issue",children:""})]})]}),Xe.type==="WDU Replacement"&&A.jsxs("div",{children:[A.jsx("span",{className:"font-semibold text-xs",children:"Reason:"})," ",A.jsxs("select",{value:Xe.replacementReason||"",onChange:Ke=>Z(Oe,me.index,Xe.type,Ke.target.value),className:"text-xs border dark:border-gray-600 dark:bg-gray-700 dark:text-gray-200 rounded px-1 py-0.5",children:[A.jsx("option",{value:"",children:"Select..."}),pc.filter(Ke=>Ke!=="None"&&Ke!=="WDU Replacement").map(Ke=>A.jsx("option",{value:Ke,children:Ke},Ke))]})]})]},Ct))})(),A.jsxs("select",{value:"",onChange:De=>{De.target.value&&(D(Oe,me.index,De.target.value),De.target.value="")},className:"text-xs p-1 border dark:border-gray-600 dark:bg-gray-700 dark:text-gray-200 rounded",children:[A.jsx("option",{value:"",children:"+ Add Issue"}),pc.filter(De=>De!=="None").map(De=>{let Xe=[];return Array.isArray(me.issues)?Xe=me.issues:me.issue&&me.issue!=="None"&&(Xe=[{type:me.issue}]),!Xe.some(Ke=>Ke.type===De)&&A.jsx("option",{value:De,children:De},De)})]})]})]}),A.jsxs("div",{children:[A.jsx("span",{className:"font-semibold",children:"Repaired:"})," ",A.jsx("button",{onClick:()=>ct(me.index,"repaired",me.repaired==="Fixed"?"Not Fixed":"Fixed"),className:"px-3 py-1 rounded text-white text-xs "+(me.repaired==="Fixed"?"bg-green-500":"bg-red-500"),children:me.repaired})]}),A.jsxs("div",{className:"col-span-2",children:[A.jsx("span",{className:"font-semibold",children:"Notes:"}),A.jsx("input",{value:me.notes,onChange:De=>ct(me.index,"notes",De.target.value),className:"w-full p-1 border dark:border-gray-600 dark:bg-gray-700 dark:text-gray-200 rounded text-sm mt-1",placeholder:"Enter notes..."})]})]})},me.index))})]}),St.length>0&&A.jsxs("div",{className:"mb-4",children:[A.jsxs("h6",{className:"font-semibold text-green-600 dark:text-green-400 mb-2 cursor-pointer select-none flex items-center gap-1",onClick:()=>ue(me=>({...me,[pt]:!wn})),children:["Active Heads (",St.length,") ",wn?"":""]}),wn&&(P==="table"?A.jsx("div",{className:"overflow-x-auto",children:A.jsxs("table",{className:"w-full table-auto border-collapse min-w-max",children:[A.jsx("thead",{children:A.jsx("tr",{className:"bg-gray-100 dark:bg-gray-700",children:["Head","Status","Issue","Repaired","Notes"].map(me=>A.jsx("th",{className:"p-2 text-center border dark:border-gray-600 dark:text-gray-200 sm:p-1 sm:text-sm",children:me},me))})}),A.jsx("tbody",{children:St.map(me=>A.jsxs("tr",{ref:De=>{De&&(pe.current[me.head]=De)},className:`${tt(me)} ${Q===me.head?"ring-4 ring-blue-500 ring-opacity-50":""} transition-all duration-300`,children:[A.jsx("td",{className:"p-2 text-center sm:p-1 sm:text-sm",children:me.head}),A.jsx("td",{className:"p-2 text-center sm:p-1 sm:text-sm",children:A.jsx("button",{onClick:()=>ct(me.index,"offline",me.offline==="Active"?"Offline":"Active"),className:"px-4 py-1 rounded text-white "+(me.offline==="Active"?"bg-green-500":"bg-red-500")+" sm:px-2 sm:py-1 sm:text-sm",children:me.offline})}),A.jsx("td",{className:"p-2 text-center sm:p-1 sm:text-sm",children:A.jsxs("div",{className:"flex flex-col gap-1",children:[(()=>{let De=[];return Array.isArray(me.issues)?De=me.issues:me.issue&&me.issue!=="None"&&(De=[{type:me.issue,repaired:me.repaired||"Not Fixed",replacementReason:me.replacementReason||""}]),De.map((Xe,Ct)=>A.jsxs("div",{className:"flex items-center gap-1 text-xs",children:[A.jsx("span",{className:"flex-1 text-left text-white font-medium",children:Xe.type}),Xe.type==="WDU Replacement"&&A.jsxs("select",{value:Xe.replacementReason||"",onChange:Ke=>Z(Oe,me.index,Xe.type,Ke.target.value),className:"text-xs p-1 border dark:border-gray-600 dark:bg-gray-700 dark:text-gray-200 rounded",onClick:Ke=>Ke.stopPropagation(),children:[A.jsx("option",{value:"",children:"Reason..."}),pc.filter(Ke=>Ke!=="None"&&Ke!=="WDU Replacement").map(Ke=>A.jsx("option",{value:Ke,children:Ke},Ke))]}),A.jsx("button",{onClick:()=>z(Oe,me.index,Xe.type),className:"px-2 py-0.5 text-xs rounded text-white "+(Xe.repaired==="Fixed"?"bg-green-500":"bg-red-500"),title:"Click to toggle Fixed/Not Fixed",children:Xe.repaired==="Fixed"?"Fixed":"Not Fixed"}),A.jsx("button",{onClick:()=>D(Oe,me.index,Xe.type),className:"px-2 py-0.5 text-xs bg-red-500 text-white rounded hover:bg-red-600",title:"Remove issue",children:""})]},Ct))})(),A.jsxs("select",{value:"",onChange:De=>{De.target.value&&(D(Oe,me.index,De.target.value),De.target.value="")},className:"text-xs p-1 border dark:border-gray-600 dark:bg-gray-700 dark:text-gray-200 rounded",children:[A.jsx("option",{value:"",children:"+ Add Issue"}),pc.filter(De=>De!=="None").map(De=>{let Xe=[];return Array.isArray(me.issues)?Xe=me.issues:me.issue&&me.issue!=="None"&&(Xe=[{type:me.issue}]),!Xe.some(Ke=>Ke.type===De)&&A.jsx("option",{value:De,children:De},De)})]})]})}),A.jsx("td",{className:"p-2 text-center sm:p-1 sm:text-sm",children:A.jsx("button",{onClick:()=>ct(me.index,"repaired",me.repaired==="Fixed"?"Not Fixed":"Fixed"),className:"px-4 py-1 rounded text-white "+(me.repaired==="Fixed"?"bg-green-500":"bg-red-500")+" sm:px-2 sm:py-1 sm:text-sm",children:me.repaired})}),A.jsx("td",{className:"p-2 sm:p-1 sm:text-sm",children:A.jsx("input",{value:me.notes,onChange:De=>ct(me.index,"notes",De.target.value),className:"w-full p-1 border dark:border-gray-600 dark:bg-gray-700 dark:text-gray-200 rounded sm:text-sm"})})]},me.index))})]})}):A.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:St.map(me=>A.jsx("div",{ref:De=>{De&&(pe.current[me.head]=De)},className:`${tt(me)} border dark:border-gray-600 rounded-lg p-3 shadow-sm ${Q===me.head?"ring-4 ring-blue-500 ring-opacity-50":""} transition-all duration-300`,children:A.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm mb-2",children:[A.jsxs("div",{children:[A.jsx("span",{className:"font-semibold",children:"Head:"})," ",me.head]}),A.jsxs("div",{children:[A.jsx("span",{className:"font-semibold",children:"Status:"})," ",A.jsx("button",{onClick:()=>ct(me.index,"offline",me.offline==="Active"?"Offline":"Active"),className:"px-3 py-1 rounded text-white text-xs "+(me.offline==="Active"?"bg-green-500":"bg-red-500"),children:me.offline})]}),A.jsxs("div",{className:"col-span-2",children:[A.jsx("span",{className:"font-semibold",children:"Issues:"}),A.jsxs("div",{className:"flex flex-col gap-1 mt-1",children:[(()=>{let De=[];return Array.isArray(me.issues)?De=me.issues:me.issue&&me.issue!=="None"&&(De=[{type:me.issue,repaired:me.repaired||"Not Fixed",replacementReason:me.replacementReason||""}]),De.map((Xe,Ct)=>A.jsxs("div",{className:"flex flex-col gap-1 p-2 bg-gray-100 dark:bg-gray-600 rounded",children:[A.jsxs("div",{className:"flex items-center justify-between gap-1",children:[A.jsx("span",{className:"text-xs font-medium",children:Xe.type}),A.jsxs("div",{className:"flex gap-1",children:[A.jsx("button",{onClick:()=>z(Oe,me.index,Xe.type),className:"px-2 py-0.5 text-xs rounded text-white "+(Xe.repaired==="Fixed"?"bg-green-500":"bg-red-500"),title:"Click to toggle Fixed/Not Fixed",children:Xe.repaired==="Fixed"?"Fixed":"Not Fixed"}),A.jsx("button",{onClick:()=>D(Oe,me.index,Xe.type),className:"px-2 py-0.5 text-xs bg-red-500 text-white rounded hover:bg-red-600",title:"Remove issue",children:""})]})]}),Xe.type==="WDU Replacement"&&A.jsxs("div",{children:[A.jsx("span",{className:"font-semibold text-xs",children:"Reason:"})," ",A.jsxs("select",{value:Xe.replacementReason||"",onChange:Ke=>Z(Oe,me.index,Xe.type,Ke.target.value),className:"text-xs border dark:border-gray-600 dark:bg-gray-700 dark:text-gray-200 rounded px-1 py-0.5",children:[A.jsx("option",{value:"",children:"Select..."}),pc.filter(Ke=>Ke!=="None"&&Ke!=="WDU Replacement").map(Ke=>A.jsx("option",{value:Ke,children:Ke},Ke))]})]})]},Ct))})(),A.jsxs("select",{value:"",onChange:De=>{De.target.value&&(D(Oe,me.index,De.target.value),De.target.value="")},className:"text-xs p-1 border dark:border-gray-600 dark:bg-gray-700 dark:text-gray-200 rounded",children:[A.jsx("option",{value:"",children:"+ Add Issue"}),pc.filter(De=>De!=="None").map(De=>{let Xe=[];return Array.isArray(me.issues)?Xe=me.issues:me.issue&&me.issue!=="None"&&(Xe=[{type:me.issue}]),!Xe.some(Ke=>Ke.type===De)&&A.jsx("option",{value:De,children:De},De)})]})]})]}),A.jsxs("div",{children:[A.jsx("span",{className:"font-semibold",children:"Repaired:"})," ",A.jsx("button",{onClick:()=>ct(me.index,"repaired",me.repaired==="Fixed"?"Not Fixed":"Fixed"),className:"px-3 py-1 rounded text-white text-xs "+(me.repaired==="Fixed"?"bg-green-500":"bg-red-500"),children:me.repaired})]}),A.jsxs("div",{className:"col-span-2",children:[A.jsx("span",{className:"font-semibold",children:"Notes:"}),A.jsx("input",{value:me.notes,onChange:De=>ct(me.index,"notes",De.target.value),className:"w-full p-1 border dark:border-gray-600 dark:bg-gray-700 dark:text-gray-200 rounded text-sm mt-1",placeholder:"Enter notes..."})]})]})},me.index))}))]})]})})(),A.jsxs("div",{children:[A.jsx("label",{className:"block mb-1 font-medium sm:text-sm dark:text-gray-200",children:"Machine Notes:"}),A.jsx("textarea",{rows:3,value:st,onChange:rt=>yt({machineNotes:rt.target.value}),className:"w-full border dark:border-gray-600 dark:bg-gray-700 dark:text-gray-200 p-2 rounded sm:text-sm"})]})]})]},Oe)})}),A.jsxs("div",{className:"mt-6",children:[A.jsx("h3",{className:"text-xl font-semibold mb-2 text-center sm:text-lg dark:text-gray-100",children:"Heads Down Per Day"}),A.jsx(G4,{data:nt,options:{responsive:!0,plugins:{legend:{position:"top"},title:{display:!0,text:`Heads Status for ${E}`}},scales:{y:{beginAtZero:!0,ticks:{precision:0}}}}})]}),V&&A.jsx("p",{className:"text-red-500 text-center mt-4",children:V})]})})}const AF="modulepreload",CF=function(n){return"/"+n},uS={},u2=function(e,t,i){let s=Promise.resolve();if(t&&t.length>0){let h=function(f){return Promise.all(f.map(p=>Promise.resolve(p).then(m=>({status:"fulfilled",value:m}),m=>({status:"rejected",reason:m}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),c=l?.nonce||l?.getAttribute("nonce");s=h(t.map(f=>{if(f=CF(f),f in uS)return;uS[f]=!0;const p=f.endsWith(".css"),m=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${m}`))return;const b=document.createElement("link");if(b.rel=p?"stylesheet":AF,p||(b.as="script"),b.crossOrigin="",b.href=f,c&&b.setAttribute("nonce",c),document.head.appendChild(b),p)return new Promise((y,N)=>{b.addEventListener("load",y),b.addEventListener("error",()=>N(new Error(`Unable to preload CSS for ${f}`)))})}))}function a(l){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=l,window.dispatchEvent(c),!c.defaultPrevented)throw l}return s.then(l=>{for(const c of l||[])c.status==="rejected"&&a(c.reason);return e().catch(a)})};function Ln(n){"@babel/helpers - typeof";return Ln=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ln(n)}var Ga=Uint8Array,Pr=Uint16Array,Kv=Int32Array,Qv=new Ga([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Jv=new Ga([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),hS=new Ga([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),a6=function(n,e){for(var t=new Pr(31),i=0;i<31;++i)t[i]=e+=1<<n[i-1];for(var s=new Kv(t[30]),i=1;i<30;++i)for(var a=t[i];a<t[i+1];++a)s[a]=a-t[i]<<5|i;return{b:t,r:s}},o6=a6(Qv,2),EF=o6.b,yy=o6.r;EF[28]=258,yy[258]=28;var kF=a6(Jv,0),fS=kF.r,vy=new Pr(32768);for(var ti=0;ti<32768;++ti){var gc=(ti&43690)>>1|(ti&21845)<<1;gc=(gc&52428)>>2|(gc&13107)<<2,gc=(gc&61680)>>4|(gc&3855)<<4,vy[ti]=((gc&65280)>>8|(gc&255)<<8)>>1}var Ud=(function(n,e,t){for(var i=n.length,s=0,a=new Pr(e);s<i;++s)n[s]&&++a[n[s]-1];var l=new Pr(e);for(s=1;s<e;++s)l[s]=l[s-1]+a[s-1]<<1;var c;if(t){c=new Pr(1<<e);var h=15-e;for(s=0;s<i;++s)if(n[s])for(var f=s<<4|n[s],p=e-n[s],m=l[n[s]-1]++<<p,b=m|(1<<p)-1;m<=b;++m)c[vy[m]>>h]=f}else for(c=new Pr(i),s=0;s<i;++s)n[s]&&(c[s]=vy[l[n[s]-1]++]>>15-n[s]);return c}),Uu=new Ga(288);for(var ti=0;ti<144;++ti)Uu[ti]=8;for(var ti=144;ti<256;++ti)Uu[ti]=9;for(var ti=256;ti<280;++ti)Uu[ti]=7;for(var ti=280;ti<288;++ti)Uu[ti]=8;var zm=new Ga(32);for(var ti=0;ti<32;++ti)zm[ti]=5;var TF=Ud(Uu,9,0),LF=Ud(zm,5,0),l6=function(n){return(n+7)/8|0},RF=function(n,e,t){return(t==null||t>n.length)&&(t=n.length),new Ga(n.subarray(e,t))},al=function(n,e,t){t<<=e&7;var i=e/8|0;n[i]|=t,n[i+1]|=t>>8},Nd=function(n,e,t){t<<=e&7;var i=e/8|0;n[i]|=t,n[i+1]|=t>>8,n[i+2]|=t>>16},h2=function(n,e){for(var t=[],i=0;i<n.length;++i)n[i]&&t.push({s:i,f:n[i]});var s=t.length,a=t.slice();if(!s)return{t:u6,l:0};if(s==1){var l=new Ga(t[0].s+1);return l[t[0].s]=1,{t:l,l:1}}t.sort(function(V,oe){return V.f-oe.f}),t.push({s:-1,f:25001});var c=t[0],h=t[1],f=0,p=1,m=2;for(t[0]={s:-1,f:c.f+h.f,l:c,r:h};p!=s-1;)c=t[t[f].f<t[m].f?f++:m++],h=t[f!=p&&t[f].f<t[m].f?f++:m++],t[p++]={s:-1,f:c.f+h.f,l:c,r:h};for(var b=a[0].s,i=1;i<s;++i)a[i].s>b&&(b=a[i].s);var y=new Pr(b+1),N=by(t[p-1],y,0);if(N>e){var i=0,E=0,k=N-e,T=1<<k;for(a.sort(function(oe,ae){return y[ae.s]-y[oe.s]||oe.f-ae.f});i<s;++i){var j=a[i].s;if(y[j]>e)E+=T-(1<<N-y[j]),y[j]=e;else break}for(E>>=k;E>0;){var q=a[i].s;y[q]<e?E-=1<<e-y[q]++-1:++i}for(;i>=0&&E;--i){var H=a[i].s;y[H]==e&&(--y[H],++E)}N=e}return{t:new Ga(y),l:N}},by=function(n,e,t){return n.s==-1?Math.max(by(n.l,e,t+1),by(n.r,e,t+1)):e[n.s]=t},dS=function(n){for(var e=n.length;e&&!n[--e];);for(var t=new Pr(++e),i=0,s=n[0],a=1,l=function(h){t[i++]=h},c=1;c<=e;++c)if(n[c]==s&&c!=e)++a;else{if(!s&&a>2){for(;a>138;a-=138)l(32754);a>2&&(l(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(l(s),--a;a>6;a-=6)l(8304);a>2&&(l(a-3<<5|8208),a=0)}for(;a--;)l(s);a=1,s=n[c]}return{c:t.subarray(0,i),n:e}},Ad=function(n,e){for(var t=0,i=0;i<e.length;++i)t+=n[i]*e[i];return t},c6=function(n,e,t){var i=t.length,s=l6(e+2);n[s]=i&255,n[s+1]=i>>8,n[s+2]=n[s]^255,n[s+3]=n[s+1]^255;for(var a=0;a<i;++a)n[s+a+4]=t[a];return(s+4+i)*8},pS=function(n,e,t,i,s,a,l,c,h,f,p){al(e,p++,t),++s[256];for(var m=h2(s,15),b=m.t,y=m.l,N=h2(a,15),E=N.t,k=N.l,T=dS(b),j=T.c,q=T.n,H=dS(E),V=H.c,oe=H.n,ae=new Pr(19),K=0;K<j.length;++K)++ae[j[K]&31];for(var K=0;K<V.length;++K)++ae[V[K]&31];for(var Y=h2(ae,7),ue=Y.t,P=Y.l,M=19;M>4&&!ue[hS[M-1]];--M);var Q=f+5<<3,ne=Ad(s,Uu)+Ad(a,zm)+l,pe=Ad(s,b)+Ad(a,E)+l+14+3*M+Ad(ae,ue)+2*ae[16]+3*ae[17]+7*ae[18];if(h>=0&&Q<=ne&&Q<=pe)return c6(e,p,n.subarray(h,h+f));var $,re,ce,J;if(al(e,p,1+(pe<ne)),p+=2,pe<ne){$=Ud(b,y,0),re=b,ce=Ud(E,k,0),J=E;var _e=Ud(ue,P,0);al(e,p,q-257),al(e,p+5,oe-1),al(e,p+10,M-4),p+=14;for(var K=0;K<M;++K)al(e,p+3*K,ue[hS[K]]);p+=3*M;for(var F=[j,V],w=0;w<2;++w)for(var D=F[w],K=0;K<D.length;++K){var z=D[K]&31;al(e,p,_e[z]),p+=ue[z],z>15&&(al(e,p,D[K]>>5&127),p+=D[K]>>12)}}else $=TF,re=Uu,ce=LF,J=zm;for(var K=0;K<c;++K){var Z=i[K];if(Z>255){var z=Z>>18&31;Nd(e,p,$[z+257]),p+=re[z+257],z>7&&(al(e,p,Z>>23&31),p+=Qv[z]);var le=Z&31;Nd(e,p,ce[le]),p+=J[le],le>3&&(Nd(e,p,Z>>5&8191),p+=Jv[le])}else Nd(e,p,$[Z]),p+=re[Z]}return Nd(e,p,$[256]),p+re[256]},DF=new Kv([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),u6=new Ga(0),MF=function(n,e,t,i,s,a){var l=a.z||n.length,c=new Ga(i+l+5*(1+Math.ceil(l/7e3))+s),h=c.subarray(i,c.length-s),f=a.l,p=(a.r||0)&7;if(e){p&&(h[0]=a.r>>3);for(var m=DF[e-1],b=m>>13,y=m&8191,N=(1<<t)-1,E=a.p||new Pr(32768),k=a.h||new Pr(N+1),T=Math.ceil(t/3),j=2*T,q=function(ht){return(n[ht]^n[ht+1]<<T^n[ht+2]<<j)&N},H=new Kv(25e3),V=new Pr(288),oe=new Pr(32),ae=0,K=0,Y=a.i||0,ue=0,P=a.w||0,M=0;Y+2<l;++Y){var Q=q(Y),ne=Y&32767,pe=k[Q];if(E[ne]=pe,k[Q]=ne,P<=Y){var $=l-Y;if((ae>7e3||ue>24576)&&($>423||!f)){p=pS(n,h,0,H,V,oe,K,ue,M,Y-M,p),ue=ae=K=0,M=Y;for(var re=0;re<286;++re)V[re]=0;for(var re=0;re<30;++re)oe[re]=0}var ce=2,J=0,_e=y,F=ne-pe&32767;if($>2&&Q==q(Y-F))for(var w=Math.min(b,$)-1,D=Math.min(32767,Y),z=Math.min(258,$);F<=D&&--_e&&ne!=pe;){if(n[Y+ce]==n[Y+ce-F]){for(var Z=0;Z<z&&n[Y+Z]==n[Y+Z-F];++Z);if(Z>ce){if(ce=Z,J=F,Z>w)break;for(var le=Math.min(F,Z-2),ve=0,re=0;re<le;++re){var Ne=Y-F+re&32767,Ce=E[Ne],Pe=Ne-Ce&32767;Pe>ve&&(ve=Pe,pe=Ne)}}}ne=pe,pe=E[ne],F+=ne-pe&32767}if(J){H[ue++]=268435456|yy[ce]<<18|fS[J];var $e=yy[ce]&31,tt=fS[J]&31;K+=Qv[$e]+Jv[tt],++V[257+$e],++oe[tt],P=Y+ce,++ae}else H[ue++]=n[Y],++V[n[Y]]}}for(Y=Math.max(Y,P);Y<l;++Y)H[ue++]=n[Y],++V[n[Y]];p=pS(n,h,f,H,V,oe,K,ue,M,Y-M,p),f||(a.r=p&7|h[p/8|0]<<3,p-=7,a.h=k,a.p=E,a.i=Y,a.w=P)}else{for(var Y=a.w||0;Y<l+f;Y+=65535){var it=Y+65535;it>=l&&(h[p/8|0]=f,it=l),p=c6(h,p+1,n.subarray(Y,it))}a.i=l}return RF(c,0,i+l6(p)+s)},h6=function(){var n=1,e=0;return{p:function(t){for(var i=n,s=e,a=t.length|0,l=0;l!=a;){for(var c=Math.min(l+2655,a);l<c;++l)s+=i+=t[l];i=(i&65535)+15*(i>>16),s=(s&65535)+15*(s>>16)}n=i,e=s},d:function(){return n%=65521,e%=65521,(n&255)<<24|(n&65280)<<8|(e&255)<<8|e>>8}}},OF=function(n,e,t,i,s){if(!s&&(s={l:1},e.dictionary)){var a=e.dictionary.subarray(-32768),l=new Ga(a.length+n.length);l.set(a),l.set(n,a.length),n=l,s.w=a.length}return MF(n,e.level==null?6:e.level,e.mem==null?s.l?Math.ceil(Math.max(8,Math.min(13,Math.log(n.length)))*1.5):20:12+e.mem,t,i,s)},f6=function(n,e,t){for(;t;++e)n[e]=t,t>>>=8},IF=function(n,e){var t=e.level,i=t==0?0:t<6?1:t==9?3:2;if(n[0]=120,n[1]=i<<6|(e.dictionary&&32),n[1]|=31-(n[0]<<8|n[1])%31,e.dictionary){var s=h6();s.p(e.dictionary),f6(n,2,s.d())}};function _y(n,e){e||(e={});var t=h6();t.p(n);var i=OF(n,e,e.dictionary?6:2,4);return IF(i,e),f6(i,i.length-4,t.d()),i}var PF=typeof TextDecoder<"u"&&new TextDecoder,jF=0;try{PF.decode(u6,{stream:!0}),jF=1}catch{}function FF(n){if(Array.isArray(n))return n}function BF(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var i,s,a,l,c=[],h=!0,f=!1;try{if(a=(t=t.call(n)).next,e!==0)for(;!(h=(i=a.call(t)).done)&&(c.push(i.value),c.length!==e);h=!0);}catch(p){f=!0,s=p}finally{try{if(!h&&t.return!=null&&(l=t.return(),Object(l)!==l))return}finally{if(f)throw s}}return c}}function gS(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,i=Array(e);t<e;t++)i[t]=n[t];return i}function zF(n,e){if(n){if(typeof n=="string")return gS(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?gS(n,e):void 0}}function UF(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mS(n,e){return FF(n)||BF(n,e)||zF(n,e)||UF()}function yS(n,e="utf8"){return new TextDecoder(e).decode(n)}const HF=new TextEncoder;function qF(n){return HF.encode(n)}const WF=1024*8,VF=(()=>{const n=new Uint8Array(4),e=new Uint32Array(n.buffer);return!((e[0]=1)&n[0])})(),f2={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class Zv{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(e=WF,t={}){let i=!1;typeof e=="number"?e=new ArrayBuffer(e):(i=!0,this.lastWrittenByte=e.byteLength);const s=t.offset?t.offset>>>0:0,a=e.byteLength-s;let l=s;(ArrayBuffer.isView(e)||e instanceof Zv)&&(e.byteLength!==e.buffer.byteLength&&(l=e.byteOffset+s),e=e.buffer),i?this.lastWrittenByte=a:this.lastWrittenByte=0,this.buffer=e,this.length=a,this.byteLength=a,this.byteOffset=l,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,l,a),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const i=(this.offset+e)*2,s=new Uint8Array(i);s.set(new Uint8Array(this.buffer)),this.buffer=s.buffer,this.length=i,this.byteLength=i,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,t){const i=f2[t].BYTES_PER_ELEMENT*e,s=this.byteOffset+this.offset,a=this.buffer.slice(s,s+i);if(this.littleEndian===VF&&t!=="uint8"&&t!=="int8"){const c=new Uint8Array(this.buffer.slice(s,s+i));c.reverse();const h=new f2[t](c.buffer);return this.offset+=i,h.reverse(),h}const l=new f2[t](a);return this.offset+=i,l}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let t="";for(let i=0;i<e;i++)t+=this.readChar();return t}readUtf8(e=1){return yS(this.readBytes(e))}decodeText(e=1,t="utf8"){return yS(this.readBytes(e),t)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let t=0;t<e.length;t++)this._data.setUint8(this.offset++,e[t]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let t=0;t<e.length;t++)this.writeUint8(e.charCodeAt(t));return this}writeUtf8(e){return this.writeBytes(qF(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function Tf(n){let e=n.length;for(;--e>=0;)n[e]=0}const GF=3,YF=258,d6=29,$F=256,XF=$F+1+d6,p6=30,KF=512,QF=new Array((XF+2)*2);Tf(QF);const JF=new Array(p6*2);Tf(JF);const ZF=new Array(KF);Tf(ZF);const e9=new Array(YF-GF+1);Tf(e9);const t9=new Array(d6);Tf(t9);const n9=new Array(p6);Tf(n9);const i9=(n,e,t,i)=>{let s=n&65535|0,a=n>>>16&65535|0,l=0;for(;t!==0;){l=t>2e3?2e3:t,t-=l;do s=s+e[i++]|0,a=a+s|0;while(--l);s%=65521,a%=65521}return s|a<<16|0};var xy=i9;const s9=()=>{let n,e=[];for(var t=0;t<256;t++){n=t;for(var i=0;i<8;i++)n=n&1?3988292384^n>>>1:n>>>1;e[t]=n}return e},r9=new Uint32Array(s9()),a9=(n,e,t,i)=>{const s=r9,a=i+t;n^=-1;for(let l=i;l<a;l++)n=n>>>8^s[(n^e[l])&255];return n^-1};var vo=a9,wy={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},g6={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const o9=(n,e)=>Object.prototype.hasOwnProperty.call(n,e);var l9=function(n){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const t=e.shift();if(t){if(typeof t!="object")throw new TypeError(t+"must be non-object");for(const i in t)o9(t,i)&&(n[i]=t[i])}}return n},c9=n=>{let e=0;for(let i=0,s=n.length;i<s;i++)e+=n[i].length;const t=new Uint8Array(e);for(let i=0,s=0,a=n.length;i<a;i++){let l=n[i];t.set(l,s),s+=l.length}return t},m6={assign:l9,flattenChunks:c9};let y6=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{y6=!1}const hp=new Uint8Array(256);for(let n=0;n<256;n++)hp[n]=n>=252?6:n>=248?5:n>=240?4:n>=224?3:n>=192?2:1;hp[254]=hp[254]=1;var u9=n=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(n);let e,t,i,s,a,l=n.length,c=0;for(s=0;s<l;s++)t=n.charCodeAt(s),(t&64512)===55296&&s+1<l&&(i=n.charCodeAt(s+1),(i&64512)===56320&&(t=65536+(t-55296<<10)+(i-56320),s++)),c+=t<128?1:t<2048?2:t<65536?3:4;for(e=new Uint8Array(c),a=0,s=0;a<c;s++)t=n.charCodeAt(s),(t&64512)===55296&&s+1<l&&(i=n.charCodeAt(s+1),(i&64512)===56320&&(t=65536+(t-55296<<10)+(i-56320),s++)),t<128?e[a++]=t:t<2048?(e[a++]=192|t>>>6,e[a++]=128|t&63):t<65536?(e[a++]=224|t>>>12,e[a++]=128|t>>>6&63,e[a++]=128|t&63):(e[a++]=240|t>>>18,e[a++]=128|t>>>12&63,e[a++]=128|t>>>6&63,e[a++]=128|t&63);return e};const h9=(n,e)=>{if(e<65534&&n.subarray&&y6)return String.fromCharCode.apply(null,n.length===e?n:n.subarray(0,e));let t="";for(let i=0;i<e;i++)t+=String.fromCharCode(n[i]);return t};var f9=(n,e)=>{const t=e||n.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(n.subarray(0,e));let i,s;const a=new Array(t*2);for(s=0,i=0;i<t;){let l=n[i++];if(l<128){a[s++]=l;continue}let c=hp[l];if(c>4){a[s++]=65533,i+=c-1;continue}for(l&=c===2?31:c===3?15:7;c>1&&i<t;)l=l<<6|n[i++]&63,c--;if(c>1){a[s++]=65533;continue}l<65536?a[s++]=l:(l-=65536,a[s++]=55296|l>>10&1023,a[s++]=56320|l&1023)}return h9(a,s)},d9=(n,e)=>{e=e||n.length,e>n.length&&(e=n.length);let t=e-1;for(;t>=0&&(n[t]&192)===128;)t--;return t<0||t===0?e:t+hp[n[t]]>e?t:e},Sy={string2buf:u9,buf2string:f9,utf8border:d9};function p9(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var g9=p9;const Fg=16209,m9=16191;var y9=function(e,t){let i,s,a,l,c,h,f,p,m,b,y,N,E,k,T,j,q,H,V,oe,ae,K,Y,ue;const P=e.state;i=e.next_in,Y=e.input,s=i+(e.avail_in-5),a=e.next_out,ue=e.output,l=a-(t-e.avail_out),c=a+(e.avail_out-257),h=P.dmax,f=P.wsize,p=P.whave,m=P.wnext,b=P.window,y=P.hold,N=P.bits,E=P.lencode,k=P.distcode,T=(1<<P.lenbits)-1,j=(1<<P.distbits)-1;e:do{N<15&&(y+=Y[i++]<<N,N+=8,y+=Y[i++]<<N,N+=8),q=E[y&T];t:for(;;){if(H=q>>>24,y>>>=H,N-=H,H=q>>>16&255,H===0)ue[a++]=q&65535;else if(H&16){V=q&65535,H&=15,H&&(N<H&&(y+=Y[i++]<<N,N+=8),V+=y&(1<<H)-1,y>>>=H,N-=H),N<15&&(y+=Y[i++]<<N,N+=8,y+=Y[i++]<<N,N+=8),q=k[y&j];n:for(;;){if(H=q>>>24,y>>>=H,N-=H,H=q>>>16&255,H&16){if(oe=q&65535,H&=15,N<H&&(y+=Y[i++]<<N,N+=8,N<H&&(y+=Y[i++]<<N,N+=8)),oe+=y&(1<<H)-1,oe>h){e.msg="invalid distance too far back",P.mode=Fg;break e}if(y>>>=H,N-=H,H=a-l,oe>H){if(H=oe-H,H>p&&P.sane){e.msg="invalid distance too far back",P.mode=Fg;break e}if(ae=0,K=b,m===0){if(ae+=f-H,H<V){V-=H;do ue[a++]=b[ae++];while(--H);ae=a-oe,K=ue}}else if(m<H){if(ae+=f+m-H,H-=m,H<V){V-=H;do ue[a++]=b[ae++];while(--H);if(ae=0,m<V){H=m,V-=H;do ue[a++]=b[ae++];while(--H);ae=a-oe,K=ue}}}else if(ae+=m-H,H<V){V-=H;do ue[a++]=b[ae++];while(--H);ae=a-oe,K=ue}for(;V>2;)ue[a++]=K[ae++],ue[a++]=K[ae++],ue[a++]=K[ae++],V-=3;V&&(ue[a++]=K[ae++],V>1&&(ue[a++]=K[ae++]))}else{ae=a-oe;do ue[a++]=ue[ae++],ue[a++]=ue[ae++],ue[a++]=ue[ae++],V-=3;while(V>2);V&&(ue[a++]=ue[ae++],V>1&&(ue[a++]=ue[ae++]))}}else if((H&64)===0){q=k[(q&65535)+(y&(1<<H)-1)];continue n}else{e.msg="invalid distance code",P.mode=Fg;break e}break}}else if((H&64)===0){q=E[(q&65535)+(y&(1<<H)-1)];continue t}else if(H&32){P.mode=m9;break e}else{e.msg="invalid literal/length code",P.mode=Fg;break e}break}}while(i<s&&a<c);V=N>>3,i-=V,N-=V<<3,y&=(1<<N)-1,e.next_in=i,e.next_out=a,e.avail_in=i<s?5+(s-i):5-(i-s),e.avail_out=a<c?257+(c-a):257-(a-c),P.hold=y,P.bits=N};const Uh=15,vS=852,bS=592,_S=0,d2=1,xS=2,v9=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),b9=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),_9=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),x9=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),w9=(n,e,t,i,s,a,l,c)=>{const h=c.bits;let f=0,p=0,m=0,b=0,y=0,N=0,E=0,k=0,T=0,j=0,q,H,V,oe,ae,K=null,Y;const ue=new Uint16Array(Uh+1),P=new Uint16Array(Uh+1);let M=null,Q,ne,pe;for(f=0;f<=Uh;f++)ue[f]=0;for(p=0;p<i;p++)ue[e[t+p]]++;for(y=h,b=Uh;b>=1&&ue[b]===0;b--);if(y>b&&(y=b),b===0)return s[a++]=1<<24|64<<16|0,s[a++]=1<<24|64<<16|0,c.bits=1,0;for(m=1;m<b&&ue[m]===0;m++);for(y<m&&(y=m),k=1,f=1;f<=Uh;f++)if(k<<=1,k-=ue[f],k<0)return-1;if(k>0&&(n===_S||b!==1))return-1;for(P[1]=0,f=1;f<Uh;f++)P[f+1]=P[f]+ue[f];for(p=0;p<i;p++)e[t+p]!==0&&(l[P[e[t+p]]++]=p);if(n===_S?(K=M=l,Y=20):n===d2?(K=v9,M=b9,Y=257):(K=_9,M=x9,Y=0),j=0,p=0,f=m,ae=a,N=y,E=0,V=-1,T=1<<y,oe=T-1,n===d2&&T>vS||n===xS&&T>bS)return 1;for(;;){Q=f-E,l[p]+1<Y?(ne=0,pe=l[p]):l[p]>=Y?(ne=M[l[p]-Y],pe=K[l[p]-Y]):(ne=96,pe=0),q=1<<f-E,H=1<<N,m=H;do H-=q,s[ae+(j>>E)+H]=Q<<24|ne<<16|pe|0;while(H!==0);for(q=1<<f-1;j&q;)q>>=1;if(q!==0?(j&=q-1,j+=q):j=0,p++,--ue[f]===0){if(f===b)break;f=e[t+l[p]]}if(f>y&&(j&oe)!==V){for(E===0&&(E=y),ae+=m,N=f-E,k=1<<N;N+E<b&&(k-=ue[N+E],!(k<=0));)N++,k<<=1;if(T+=1<<N,n===d2&&T>vS||n===xS&&T>bS)return 1;V=j&oe,s[V]=y<<24|N<<16|ae-a|0}}return j!==0&&(s[ae+j]=f-E<<24|64<<16|0),c.bits=y,0};var Hd=w9;const S9=0,v6=1,b6=2,{Z_FINISH:wS,Z_BLOCK:N9,Z_TREES:Bg,Z_OK:Hu,Z_STREAM_END:A9,Z_NEED_DICT:C9,Z_STREAM_ERROR:la,Z_DATA_ERROR:_6,Z_MEM_ERROR:x6,Z_BUF_ERROR:E9,Z_DEFLATED:SS}=g6,m0=16180,NS=16181,AS=16182,CS=16183,ES=16184,kS=16185,TS=16186,LS=16187,RS=16188,DS=16189,Um=16190,ol=16191,p2=16192,MS=16193,g2=16194,OS=16195,IS=16196,PS=16197,jS=16198,zg=16199,Ug=16200,FS=16201,BS=16202,zS=16203,US=16204,HS=16205,m2=16206,qS=16207,WS=16208,ai=16209,w6=16210,S6=16211,k9=852,T9=592,L9=15,R9=L9,VS=n=>(n>>>24&255)+(n>>>8&65280)+((n&65280)<<8)+((n&255)<<24);function D9(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Gu=n=>{if(!n)return 1;const e=n.state;return!e||e.strm!==n||e.mode<m0||e.mode>S6?1:0},N6=n=>{if(Gu(n))return la;const e=n.state;return n.total_in=n.total_out=e.total=0,n.msg="",e.wrap&&(n.adler=e.wrap&1),e.mode=m0,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(k9),e.distcode=e.distdyn=new Int32Array(T9),e.sane=1,e.back=-1,Hu},A6=n=>{if(Gu(n))return la;const e=n.state;return e.wsize=0,e.whave=0,e.wnext=0,N6(n)},C6=(n,e)=>{let t;if(Gu(n))return la;const i=n.state;return e<0?(t=0,e=-e):(t=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?la:(i.window!==null&&i.wbits!==e&&(i.window=null),i.wrap=t,i.wbits=e,A6(n))},E6=(n,e)=>{if(!n)return la;const t=new D9;n.state=t,t.strm=n,t.window=null,t.mode=m0;const i=C6(n,e);return i!==Hu&&(n.state=null),i},M9=n=>E6(n,R9);let GS=!0,y2,v2;const O9=n=>{if(GS){y2=new Int32Array(512),v2=new Int32Array(32);let e=0;for(;e<144;)n.lens[e++]=8;for(;e<256;)n.lens[e++]=9;for(;e<280;)n.lens[e++]=7;for(;e<288;)n.lens[e++]=8;for(Hd(v6,n.lens,0,288,y2,0,n.work,{bits:9}),e=0;e<32;)n.lens[e++]=5;Hd(b6,n.lens,0,32,v2,0,n.work,{bits:5}),GS=!1}n.lencode=y2,n.lenbits=9,n.distcode=v2,n.distbits=5},k6=(n,e,t,i)=>{let s;const a=n.state;return a.window===null&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new Uint8Array(a.wsize)),i>=a.wsize?(a.window.set(e.subarray(t-a.wsize,t),0),a.wnext=0,a.whave=a.wsize):(s=a.wsize-a.wnext,s>i&&(s=i),a.window.set(e.subarray(t-i,t-i+s),a.wnext),i-=s,i?(a.window.set(e.subarray(t-i,t),0),a.wnext=i,a.whave=a.wsize):(a.wnext+=s,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=s))),0},I9=(n,e)=>{let t,i,s,a,l,c,h,f,p,m,b,y,N,E,k=0,T,j,q,H,V,oe,ae,K;const Y=new Uint8Array(4);let ue,P;const M=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Gu(n)||!n.output||!n.input&&n.avail_in!==0)return la;t=n.state,t.mode===ol&&(t.mode=p2),l=n.next_out,s=n.output,h=n.avail_out,a=n.next_in,i=n.input,c=n.avail_in,f=t.hold,p=t.bits,m=c,b=h,K=Hu;e:for(;;)switch(t.mode){case m0:if(t.wrap===0){t.mode=p2;break}for(;p<16;){if(c===0)break e;c--,f+=i[a++]<<p,p+=8}if(t.wrap&2&&f===35615){t.wbits===0&&(t.wbits=15),t.check=0,Y[0]=f&255,Y[1]=f>>>8&255,t.check=vo(t.check,Y,2,0),f=0,p=0,t.mode=NS;break}if(t.head&&(t.head.done=!1),!(t.wrap&1)||(((f&255)<<8)+(f>>8))%31){n.msg="incorrect header check",t.mode=ai;break}if((f&15)!==SS){n.msg="unknown compression method",t.mode=ai;break}if(f>>>=4,p-=4,ae=(f&15)+8,t.wbits===0&&(t.wbits=ae),ae>15||ae>t.wbits){n.msg="invalid window size",t.mode=ai;break}t.dmax=1<<t.wbits,t.flags=0,n.adler=t.check=1,t.mode=f&512?DS:ol,f=0,p=0;break;case NS:for(;p<16;){if(c===0)break e;c--,f+=i[a++]<<p,p+=8}if(t.flags=f,(t.flags&255)!==SS){n.msg="unknown compression method",t.mode=ai;break}if(t.flags&57344){n.msg="unknown header flags set",t.mode=ai;break}t.head&&(t.head.text=f>>8&1),t.flags&512&&t.wrap&4&&(Y[0]=f&255,Y[1]=f>>>8&255,t.check=vo(t.check,Y,2,0)),f=0,p=0,t.mode=AS;case AS:for(;p<32;){if(c===0)break e;c--,f+=i[a++]<<p,p+=8}t.head&&(t.head.time=f),t.flags&512&&t.wrap&4&&(Y[0]=f&255,Y[1]=f>>>8&255,Y[2]=f>>>16&255,Y[3]=f>>>24&255,t.check=vo(t.check,Y,4,0)),f=0,p=0,t.mode=CS;case CS:for(;p<16;){if(c===0)break e;c--,f+=i[a++]<<p,p+=8}t.head&&(t.head.xflags=f&255,t.head.os=f>>8),t.flags&512&&t.wrap&4&&(Y[0]=f&255,Y[1]=f>>>8&255,t.check=vo(t.check,Y,2,0)),f=0,p=0,t.mode=ES;case ES:if(t.flags&1024){for(;p<16;){if(c===0)break e;c--,f+=i[a++]<<p,p+=8}t.length=f,t.head&&(t.head.extra_len=f),t.flags&512&&t.wrap&4&&(Y[0]=f&255,Y[1]=f>>>8&255,t.check=vo(t.check,Y,2,0)),f=0,p=0}else t.head&&(t.head.extra=null);t.mode=kS;case kS:if(t.flags&1024&&(y=t.length,y>c&&(y=c),y&&(t.head&&(ae=t.head.extra_len-t.length,t.head.extra||(t.head.extra=new Uint8Array(t.head.extra_len)),t.head.extra.set(i.subarray(a,a+y),ae)),t.flags&512&&t.wrap&4&&(t.check=vo(t.check,i,y,a)),c-=y,a+=y,t.length-=y),t.length))break e;t.length=0,t.mode=TS;case TS:if(t.flags&2048){if(c===0)break e;y=0;do ae=i[a+y++],t.head&&ae&&t.length<65536&&(t.head.name+=String.fromCharCode(ae));while(ae&&y<c);if(t.flags&512&&t.wrap&4&&(t.check=vo(t.check,i,y,a)),c-=y,a+=y,ae)break e}else t.head&&(t.head.name=null);t.length=0,t.mode=LS;case LS:if(t.flags&4096){if(c===0)break e;y=0;do ae=i[a+y++],t.head&&ae&&t.length<65536&&(t.head.comment+=String.fromCharCode(ae));while(ae&&y<c);if(t.flags&512&&t.wrap&4&&(t.check=vo(t.check,i,y,a)),c-=y,a+=y,ae)break e}else t.head&&(t.head.comment=null);t.mode=RS;case RS:if(t.flags&512){for(;p<16;){if(c===0)break e;c--,f+=i[a++]<<p,p+=8}if(t.wrap&4&&f!==(t.check&65535)){n.msg="header crc mismatch",t.mode=ai;break}f=0,p=0}t.head&&(t.head.hcrc=t.flags>>9&1,t.head.done=!0),n.adler=t.check=0,t.mode=ol;break;case DS:for(;p<32;){if(c===0)break e;c--,f+=i[a++]<<p,p+=8}n.adler=t.check=VS(f),f=0,p=0,t.mode=Um;case Um:if(t.havedict===0)return n.next_out=l,n.avail_out=h,n.next_in=a,n.avail_in=c,t.hold=f,t.bits=p,C9;n.adler=t.check=1,t.mode=ol;case ol:if(e===N9||e===Bg)break e;case p2:if(t.last){f>>>=p&7,p-=p&7,t.mode=m2;break}for(;p<3;){if(c===0)break e;c--,f+=i[a++]<<p,p+=8}switch(t.last=f&1,f>>>=1,p-=1,f&3){case 0:t.mode=MS;break;case 1:if(O9(t),t.mode=zg,e===Bg){f>>>=2,p-=2;break e}break;case 2:t.mode=IS;break;case 3:n.msg="invalid block type",t.mode=ai}f>>>=2,p-=2;break;case MS:for(f>>>=p&7,p-=p&7;p<32;){if(c===0)break e;c--,f+=i[a++]<<p,p+=8}if((f&65535)!==(f>>>16^65535)){n.msg="invalid stored block lengths",t.mode=ai;break}if(t.length=f&65535,f=0,p=0,t.mode=g2,e===Bg)break e;case g2:t.mode=OS;case OS:if(y=t.length,y){if(y>c&&(y=c),y>h&&(y=h),y===0)break e;s.set(i.subarray(a,a+y),l),c-=y,a+=y,h-=y,l+=y,t.length-=y;break}t.mode=ol;break;case IS:for(;p<14;){if(c===0)break e;c--,f+=i[a++]<<p,p+=8}if(t.nlen=(f&31)+257,f>>>=5,p-=5,t.ndist=(f&31)+1,f>>>=5,p-=5,t.ncode=(f&15)+4,f>>>=4,p-=4,t.nlen>286||t.ndist>30){n.msg="too many length or distance symbols",t.mode=ai;break}t.have=0,t.mode=PS;case PS:for(;t.have<t.ncode;){for(;p<3;){if(c===0)break e;c--,f+=i[a++]<<p,p+=8}t.lens[M[t.have++]]=f&7,f>>>=3,p-=3}for(;t.have<19;)t.lens[M[t.have++]]=0;if(t.lencode=t.lendyn,t.lenbits=7,ue={bits:t.lenbits},K=Hd(S9,t.lens,0,19,t.lencode,0,t.work,ue),t.lenbits=ue.bits,K){n.msg="invalid code lengths set",t.mode=ai;break}t.have=0,t.mode=jS;case jS:for(;t.have<t.nlen+t.ndist;){for(;k=t.lencode[f&(1<<t.lenbits)-1],T=k>>>24,j=k>>>16&255,q=k&65535,!(T<=p);){if(c===0)break e;c--,f+=i[a++]<<p,p+=8}if(q<16)f>>>=T,p-=T,t.lens[t.have++]=q;else{if(q===16){for(P=T+2;p<P;){if(c===0)break e;c--,f+=i[a++]<<p,p+=8}if(f>>>=T,p-=T,t.have===0){n.msg="invalid bit length repeat",t.mode=ai;break}ae=t.lens[t.have-1],y=3+(f&3),f>>>=2,p-=2}else if(q===17){for(P=T+3;p<P;){if(c===0)break e;c--,f+=i[a++]<<p,p+=8}f>>>=T,p-=T,ae=0,y=3+(f&7),f>>>=3,p-=3}else{for(P=T+7;p<P;){if(c===0)break e;c--,f+=i[a++]<<p,p+=8}f>>>=T,p-=T,ae=0,y=11+(f&127),f>>>=7,p-=7}if(t.have+y>t.nlen+t.ndist){n.msg="invalid bit length repeat",t.mode=ai;break}for(;y--;)t.lens[t.have++]=ae}}if(t.mode===ai)break;if(t.lens[256]===0){n.msg="invalid code -- missing end-of-block",t.mode=ai;break}if(t.lenbits=9,ue={bits:t.lenbits},K=Hd(v6,t.lens,0,t.nlen,t.lencode,0,t.work,ue),t.lenbits=ue.bits,K){n.msg="invalid literal/lengths set",t.mode=ai;break}if(t.distbits=6,t.distcode=t.distdyn,ue={bits:t.distbits},K=Hd(b6,t.lens,t.nlen,t.ndist,t.distcode,0,t.work,ue),t.distbits=ue.bits,K){n.msg="invalid distances set",t.mode=ai;break}if(t.mode=zg,e===Bg)break e;case zg:t.mode=Ug;case Ug:if(c>=6&&h>=258){n.next_out=l,n.avail_out=h,n.next_in=a,n.avail_in=c,t.hold=f,t.bits=p,y9(n,b),l=n.next_out,s=n.output,h=n.avail_out,a=n.next_in,i=n.input,c=n.avail_in,f=t.hold,p=t.bits,t.mode===ol&&(t.back=-1);break}for(t.back=0;k=t.lencode[f&(1<<t.lenbits)-1],T=k>>>24,j=k>>>16&255,q=k&65535,!(T<=p);){if(c===0)break e;c--,f+=i[a++]<<p,p+=8}if(j&&(j&240)===0){for(H=T,V=j,oe=q;k=t.lencode[oe+((f&(1<<H+V)-1)>>H)],T=k>>>24,j=k>>>16&255,q=k&65535,!(H+T<=p);){if(c===0)break e;c--,f+=i[a++]<<p,p+=8}f>>>=H,p-=H,t.back+=H}if(f>>>=T,p-=T,t.back+=T,t.length=q,j===0){t.mode=HS;break}if(j&32){t.back=-1,t.mode=ol;break}if(j&64){n.msg="invalid literal/length code",t.mode=ai;break}t.extra=j&15,t.mode=FS;case FS:if(t.extra){for(P=t.extra;p<P;){if(c===0)break e;c--,f+=i[a++]<<p,p+=8}t.length+=f&(1<<t.extra)-1,f>>>=t.extra,p-=t.extra,t.back+=t.extra}t.was=t.length,t.mode=BS;case BS:for(;k=t.distcode[f&(1<<t.distbits)-1],T=k>>>24,j=k>>>16&255,q=k&65535,!(T<=p);){if(c===0)break e;c--,f+=i[a++]<<p,p+=8}if((j&240)===0){for(H=T,V=j,oe=q;k=t.distcode[oe+((f&(1<<H+V)-1)>>H)],T=k>>>24,j=k>>>16&255,q=k&65535,!(H+T<=p);){if(c===0)break e;c--,f+=i[a++]<<p,p+=8}f>>>=H,p-=H,t.back+=H}if(f>>>=T,p-=T,t.back+=T,j&64){n.msg="invalid distance code",t.mode=ai;break}t.offset=q,t.extra=j&15,t.mode=zS;case zS:if(t.extra){for(P=t.extra;p<P;){if(c===0)break e;c--,f+=i[a++]<<p,p+=8}t.offset+=f&(1<<t.extra)-1,f>>>=t.extra,p-=t.extra,t.back+=t.extra}if(t.offset>t.dmax){n.msg="invalid distance too far back",t.mode=ai;break}t.mode=US;case US:if(h===0)break e;if(y=b-h,t.offset>y){if(y=t.offset-y,y>t.whave&&t.sane){n.msg="invalid distance too far back",t.mode=ai;break}y>t.wnext?(y-=t.wnext,N=t.wsize-y):N=t.wnext-y,y>t.length&&(y=t.length),E=t.window}else E=s,N=l-t.offset,y=t.length;y>h&&(y=h),h-=y,t.length-=y;do s[l++]=E[N++];while(--y);t.length===0&&(t.mode=Ug);break;case HS:if(h===0)break e;s[l++]=t.length,h--,t.mode=Ug;break;case m2:if(t.wrap){for(;p<32;){if(c===0)break e;c--,f|=i[a++]<<p,p+=8}if(b-=h,n.total_out+=b,t.total+=b,t.wrap&4&&b&&(n.adler=t.check=t.flags?vo(t.check,s,b,l-b):xy(t.check,s,b,l-b)),b=h,t.wrap&4&&(t.flags?f:VS(f))!==t.check){n.msg="incorrect data check",t.mode=ai;break}f=0,p=0}t.mode=qS;case qS:if(t.wrap&&t.flags){for(;p<32;){if(c===0)break e;c--,f+=i[a++]<<p,p+=8}if(t.wrap&4&&f!==(t.total&4294967295)){n.msg="incorrect length check",t.mode=ai;break}f=0,p=0}t.mode=WS;case WS:K=A9;break e;case ai:K=_6;break e;case w6:return x6;case S6:default:return la}return n.next_out=l,n.avail_out=h,n.next_in=a,n.avail_in=c,t.hold=f,t.bits=p,(t.wsize||b!==n.avail_out&&t.mode<ai&&(t.mode<m2||e!==wS))&&k6(n,n.output,n.next_out,b-n.avail_out),m-=n.avail_in,b-=n.avail_out,n.total_in+=m,n.total_out+=b,t.total+=b,t.wrap&4&&b&&(n.adler=t.check=t.flags?vo(t.check,s,b,n.next_out-b):xy(t.check,s,b,n.next_out-b)),n.data_type=t.bits+(t.last?64:0)+(t.mode===ol?128:0)+(t.mode===zg||t.mode===g2?256:0),(m===0&&b===0||e===wS)&&K===Hu&&(K=E9),K},P9=n=>{if(Gu(n))return la;let e=n.state;return e.window&&(e.window=null),n.state=null,Hu},j9=(n,e)=>{if(Gu(n))return la;const t=n.state;return(t.wrap&2)===0?la:(t.head=e,e.done=!1,Hu)},F9=(n,e)=>{const t=e.length;let i,s,a;return Gu(n)||(i=n.state,i.wrap!==0&&i.mode!==Um)?la:i.mode===Um&&(s=1,s=xy(s,e,t,0),s!==i.check)?_6:(a=k6(n,e,t,t),a?(i.mode=w6,x6):(i.havedict=1,Hu))};var B9=A6,z9=C6,U9=N6,H9=M9,q9=E6,W9=I9,V9=P9,G9=j9,Y9=F9,$9="pako inflate (from Nodeca project)",gl={inflateReset:B9,inflateReset2:z9,inflateResetKeep:U9,inflateInit:H9,inflateInit2:q9,inflate:W9,inflateEnd:V9,inflateGetHeader:G9,inflateSetDictionary:Y9,inflateInfo:$9};function X9(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var K9=X9;const T6=Object.prototype.toString,{Z_NO_FLUSH:Q9,Z_FINISH:J9,Z_OK:fp,Z_STREAM_END:b2,Z_NEED_DICT:_2,Z_STREAM_ERROR:Z9,Z_DATA_ERROR:YS,Z_MEM_ERROR:eB}=g6;function kp(n){this.options=m6.assign({chunkSize:1024*64,windowBits:15,to:""},n||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(n&&n.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new g9,this.strm.avail_out=0;let t=gl.inflateInit2(this.strm,e.windowBits);if(t!==fp)throw new Error(wy[t]);if(this.header=new K9,gl.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=Sy.string2buf(e.dictionary):T6.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(t=gl.inflateSetDictionary(this.strm,e.dictionary),t!==fp)))throw new Error(wy[t])}kp.prototype.push=function(n,e){const t=this.strm,i=this.options.chunkSize,s=this.options.dictionary;let a,l,c;if(this.ended)return!1;for(e===~~e?l=e:l=e===!0?J9:Q9,T6.call(n)==="[object ArrayBuffer]"?t.input=new Uint8Array(n):t.input=n,t.next_in=0,t.avail_in=t.input.length;;){for(t.avail_out===0&&(t.output=new Uint8Array(i),t.next_out=0,t.avail_out=i),a=gl.inflate(t,l),a===_2&&s&&(a=gl.inflateSetDictionary(t,s),a===fp?a=gl.inflate(t,l):a===YS&&(a=_2));t.avail_in>0&&a===b2&&t.state.wrap>0&&n[t.next_in]!==0;)gl.inflateReset(t),a=gl.inflate(t,l);switch(a){case Z9:case YS:case _2:case eB:return this.onEnd(a),this.ended=!0,!1}if(c=t.avail_out,t.next_out&&(t.avail_out===0||a===b2))if(this.options.to==="string"){let h=Sy.utf8border(t.output,t.next_out),f=t.next_out-h,p=Sy.buf2string(t.output,h);t.next_out=f,t.avail_out=i-f,f&&t.output.set(t.output.subarray(h,h+f),0),this.onData(p)}else this.onData(t.output.length===t.next_out?t.output:t.output.subarray(0,t.next_out));if(!(a===fp&&c===0)){if(a===b2)return a=gl.inflateEnd(this.strm),this.onEnd(a),this.ended=!0,!0;if(t.avail_in===0)break}}return!0};kp.prototype.onData=function(n){this.chunks.push(n)};kp.prototype.onEnd=function(n){n===fp&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=m6.flattenChunks(this.chunks)),this.chunks=[],this.err=n,this.msg=this.strm.msg};function tB(n,e){const t=new kp(e);if(t.push(n),t.err)throw t.msg||wy[t.err];return t.result}var nB=kp,iB=tB,sB={Inflate:nB,inflate:iB};const{Inflate:rB,inflate:aB}=sB;var $S=rB,oB=aB;const L6=[];for(let n=0;n<256;n++){let e=n;for(let t=0;t<8;t++)e&1?e=3988292384^e>>>1:e=e>>>1;L6[n]=e}const XS=4294967295;function lB(n,e,t){let i=n;for(let s=0;s<t;s++)i=L6[(i^e[s])&255]^i>>>8;return i}function cB(n,e){return(lB(XS,n,e)^XS)>>>0}function KS(n,e,t){const i=n.readUint32(),s=cB(new Uint8Array(n.buffer,n.byteOffset+n.offset-e-4,e),e);if(s!==i)throw new Error(`CRC mismatch for chunk ${t}. Expected ${i}, found ${s}`)}function R6(n,e,t){for(let i=0;i<t;i++)e[i]=n[i]}function D6(n,e,t,i){let s=0;for(;s<i;s++)e[s]=n[s];for(;s<t;s++)e[s]=n[s]+e[s-i]&255}function M6(n,e,t,i){let s=0;if(t.length===0)for(;s<i;s++)e[s]=n[s];else for(;s<i;s++)e[s]=n[s]+t[s]&255}function O6(n,e,t,i,s){let a=0;if(t.length===0){for(;a<s;a++)e[a]=n[a];for(;a<i;a++)e[a]=n[a]+(e[a-s]>>1)&255}else{for(;a<s;a++)e[a]=n[a]+(t[a]>>1)&255;for(;a<i;a++)e[a]=n[a]+(e[a-s]+t[a]>>1)&255}}function I6(n,e,t,i,s){let a=0;if(t.length===0){for(;a<s;a++)e[a]=n[a];for(;a<i;a++)e[a]=n[a]+e[a-s]&255}else{for(;a<s;a++)e[a]=n[a]+t[a]&255;for(;a<i;a++)e[a]=n[a]+uB(e[a-s],t[a],t[a-s])&255}}function uB(n,e,t){const i=n+e-t,s=Math.abs(i-n),a=Math.abs(i-e),l=Math.abs(i-t);return s<=a&&s<=l?n:a<=l?e:t}function hB(n,e,t,i,s,a){switch(n){case 0:R6(e,t,s);break;case 1:D6(e,t,s,a);break;case 2:M6(e,t,i,s);break;case 3:O6(e,t,i,s,a);break;case 4:I6(e,t,i,s,a);break;default:throw new Error(`Unsupported filter: ${n}`)}}const fB=new Uint16Array([255]),dB=new Uint8Array(fB.buffer),pB=dB[0]===255;function gB(n){const{data:e,width:t,height:i,channels:s,depth:a}=n,l=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],c=Math.ceil(a/8)*s,h=new Uint8Array(i*t*c);let f=0;for(let p=0;p<7;p++){const m=l[p],b=Math.ceil((t-m.x)/m.xStep),y=Math.ceil((i-m.y)/m.yStep);if(b<=0||y<=0)continue;const N=b*c,E=new Uint8Array(N);for(let k=0;k<y;k++){const T=e[f++],j=e.subarray(f,f+N);f+=N;const q=new Uint8Array(N);hB(T,j,q,E,N,c),E.set(q);for(let H=0;H<b;H++){const V=m.x+H*m.xStep,oe=m.y+k*m.yStep;if(!(V>=t||oe>=i))for(let ae=0;ae<c;ae++)h[(oe*t+V)*c+ae]=q[H*c+ae]}}}if(a===16){const p=new Uint16Array(h.buffer);if(pB)for(let m=0;m<p.length;m++)p[m]=mB(p[m]);return p}else return h}function mB(n){return(n&255)<<8|n>>8&255}const yB=new Uint16Array([255]),vB=new Uint8Array(yB.buffer),bB=vB[0]===255,_B=new Uint8Array(0);function QS(n){const{data:e,width:t,height:i,channels:s,depth:a}=n,l=Math.ceil(a/8)*s,c=Math.ceil(a/8*s*t),h=new Uint8Array(i*c);let f=_B,p=0,m,b;for(let y=0;y<i;y++){switch(m=e.subarray(p+1,p+1+c),b=h.subarray(y*c,(y+1)*c),e[p]){case 0:R6(m,b,c);break;case 1:D6(m,b,c,l);break;case 2:M6(m,b,f,c);break;case 3:O6(m,b,f,c,l);break;case 4:I6(m,b,f,c,l);break;default:throw new Error(`Unsupported filter: ${e[p]}`)}f=b,p+=c+1}if(a===16){const y=new Uint16Array(h.buffer);if(bB)for(let N=0;N<y.length;N++)y[N]=xB(y[N]);return y}else return h}function xB(n){return(n&255)<<8|n>>8&255}const sm=Uint8Array.of(137,80,78,71,13,10,26,10);function JS(n){if(!wB(n.readBytes(sm.length)))throw new Error("wrong PNG signature")}function wB(n){if(n.length<sm.length)return!1;for(let e=0;e<sm.length;e++)if(n[e]!==sm[e])return!1;return!0}const SB="tEXt",NB=0,P6=new TextDecoder("latin1");function AB(n){if(EB(n),n.length===0||n.length>79)throw new Error("keyword length must be between 1 and 79")}const CB=/^[\u0000-\u00FF]*$/;function EB(n){if(!CB.test(n))throw new Error("invalid latin1 text")}function kB(n,e,t){const i=j6(e);n[i]=TB(e,t-i.length-1)}function j6(n){for(n.mark();n.readByte()!==NB;);const e=n.offset;n.reset();const t=P6.decode(n.readBytes(e-n.offset-1));return n.skip(1),AB(t),t}function TB(n,e){return P6.decode(n.readBytes(e))}const Ir={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},x2={UNKNOWN:-1,DEFLATE:0},ZS={UNKNOWN:-1,ADAPTIVE:0},w2={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},Hg={NONE:0,BACKGROUND:1,PREVIOUS:2},S2={SOURCE:0,OVER:1};class LB extends Zv{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(e,t={}){super(e);const{checkCrc:i=!1}=t;this._checkCrc=i,this._inflator=new $S,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=x2.UNKNOWN,this._filterMethod=ZS.UNKNOWN,this._interlaceMethod=w2.UNKNOWN,this._colorType=Ir.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(JS(this);!this._end;){const e=this.readUint32(),t=this.readChars(4);this.decodeChunk(e,t)}return this.decodeImage(),this._png}decodeApng(){for(JS(this);!this._end;){const e=this.readUint32(),t=this.readChars(4);this.decodeApngChunk(e,t)}return this.decodeApngImage(),this._apng}decodeChunk(e,t){const i=this.offset;switch(t){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(e);break;case"IDAT":this.decodeIDAT(e);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(e);break;case"iCCP":this.decodeiCCP(e);break;case SB:kB(this._png.text,this,e);break;case"pHYs":this.decodepHYs();break;default:this.skip(e);break}if(this.offset-i!==e)throw new Error(`Length mismatch while decoding chunk ${t}`);this._checkCrc?KS(this,e+4,t):this.skip(4)}decodeApngChunk(e,t){const i=this.offset;switch(t!=="fdAT"&&t!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),t){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(e);break;default:this.decodeChunk(e,t),this.offset=i+e;break}if(this.offset-i!==e)throw new Error(`Length mismatch while decoding chunk ${t}`);this._checkCrc?KS(this,e+4,t):this.skip(4)}decodeIHDR(){const e=this._png;e.width=this.readUint32(),e.height=this.readUint32(),e.depth=RB(this.readUint8());const t=this.readUint8();this._colorType=t;let i;switch(t){case Ir.GREYSCALE:i=1;break;case Ir.TRUECOLOUR:i=3;break;case Ir.INDEXED_COLOUR:i=1;break;case Ir.GREYSCALE_ALPHA:i=2;break;case Ir.TRUECOLOUR_ALPHA:i=4;break;case Ir.UNKNOWN:default:throw new Error(`Unknown color type: ${t}`)}if(this._png.channels=i,this._compressionMethod=this.readUint8(),this._compressionMethod!==x2.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const e={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(e)}decodePLTE(e){if(e%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${e}`);const t=e/3;this._hasPalette=!0;const i=[];this._palette=i;for(let s=0;s<t;s++)i.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(e){this._writingDataChunks=!0;const t=e,i=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,i,t)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodeFDAT(e){this._writingDataChunks=!0;let t=e,i=this.offset+this.byteOffset;if(i+=4,t-=4,this._inflator.push(new Uint8Array(this.buffer,i,t)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodetRNS(e){switch(this._colorType){case Ir.GREYSCALE:case Ir.TRUECOLOUR:{if(e%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${e}`);if(e/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${e/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(e/2);for(let t=0;t<e/2;t++)this._transparency[t]=this.readUint16();break}case Ir.INDEXED_COLOUR:{if(e>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${e} vs ${this._palette.length})`);let t=0;for(;t<e;t++){const i=this.readByte();this._palette[t].push(i)}for(;t<this._palette.length;t++)this._palette[t].push(255);break}case Ir.UNKNOWN:case Ir.GREYSCALE_ALPHA:case Ir.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(e){const t=j6(this),i=this.readUint8();if(i!==x2.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${i}`);const s=this.readBytes(e-t.length-2);this._png.iccEmbeddedProfile={name:t,profile:oB(s)}}decodepHYs(){const e=this.readUint32(),t=this.readUint32(),i=this.readByte();this._png.resolution={x:e,y:t,unit:i}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let e=0;e<this._numberOfFrames;e++){const t={sequenceNumber:this._frames[e].sequenceNumber,delayNumber:this._frames[e].delayNumber,delayDenominator:this._frames[e].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},i=this._frames.at(e);if(i){if(i.data=QS({data:i.data,width:i.width,height:i.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),e===0||i.xOffset===0&&i.yOffset===0&&i.width===this._png.width&&i.height===this._png.height)t.data=i.data;else{const s=this._apng.frames.at(e-1);this.disposeFrame(i,s,t),this.addFrameDataToCanvas(t,i)}this._apng.frames.push(t)}}return this._apng}disposeFrame(e,t,i){switch(e.disposeOp){case Hg.NONE:break;case Hg.BACKGROUND:for(let s=0;s<this._png.height;s++)for(let a=0;a<this._png.width;a++){const l=(s*e.width+a)*this._png.channels;for(let c=0;c<this._png.channels;c++)i.data[l+c]=0}break;case Hg.PREVIOUS:i.data.set(t.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(e,t){const i=1<<this._png.depth,s=(a,l)=>{const c=((a+t.yOffset)*this._png.width+t.xOffset+l)*this._png.channels,h=(a*t.width+l)*this._png.channels;return{index:c,frameIndex:h}};switch(t.blendOp){case S2.SOURCE:for(let a=0;a<t.height;a++)for(let l=0;l<t.width;l++){const{index:c,frameIndex:h}=s(a,l);for(let f=0;f<this._png.channels;f++)e.data[c+f]=t.data[h+f]}break;case S2.OVER:for(let a=0;a<t.height;a++)for(let l=0;l<t.width;l++){const{index:c,frameIndex:h}=s(a,l);for(let f=0;f<this._png.channels;f++){const p=t.data[h+this._png.channels-1]/i,m=f%(this._png.channels-1)===0?1:t.data[h+f],b=Math.floor(p*m+(1-p)*e.data[c+f]);e.data[c+f]+=b}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const e=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==ZS.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===w2.NO_INTERLACE)this._png.data=QS({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===w2.ADAM7)this._png.data=gB({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const e=this._inflator.result,t=this._frames.at(-1);t?t.data=e:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:Hg.NONE,blendOp:S2.SOURCE,data:e}),this._inflator=new $S,this._writingDataChunks=!1}}function RB(n){if(n!==1&&n!==2&&n!==4&&n!==8&&n!==16)throw new Error(`invalid bit depth: ${n}`);return n}var e3;(function(n){n[n.UNKNOWN=0]="UNKNOWN",n[n.METRE=1]="METRE"})(e3||(e3={}));function DB(n,e){return new LB(n,e).decode()}var jt=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function N2(){jt.console&&typeof jt.console.log=="function"&&jt.console.log.apply(jt.console,arguments)}var qn={log:N2,warn:function(n){jt.console&&(typeof jt.console.warn=="function"?jt.console.warn.apply(jt.console,arguments):N2.call(null,arguments))},error:function(n){jt.console&&(typeof jt.console.error=="function"?jt.console.error.apply(jt.console,arguments):N2(n))}};function A2(n,e,t){var i=new XMLHttpRequest;i.open("GET",n),i.responseType="blob",i.onload=function(){Cu(i.response,e,t)},i.onerror=function(){qn.error("could not download file")},i.send()}function t3(n){var e=new XMLHttpRequest;e.open("HEAD",n,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function qg(n){try{n.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),n.dispatchEvent(e)}}var Cu=jt.saveAs||((typeof window>"u"?"undefined":Ln(window))!=="object"||window!==jt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(n,e,t){var i=jt.URL||jt.webkitURL,s=document.createElement("a");e=e||n.name||"download",s.download=e,s.rel="noopener",typeof n=="string"?(s.href=n,s.origin!==location.origin?t3(s.href)?A2(n,e,t):qg(s,s.target="_blank"):qg(s)):(s.href=i.createObjectURL(n),setTimeout(function(){i.revokeObjectURL(s.href)},4e4),setTimeout(function(){qg(s)},0))}:"msSaveOrOpenBlob"in navigator?function(n,e,t){if(e=e||n.name||"download",typeof n=="string")if(t3(n))A2(n,e,t);else{var i=document.createElement("a");i.href=n,i.target="_blank",setTimeout(function(){qg(i)})}else navigator.msSaveOrOpenBlob((function(s,a){return a===void 0?a={autoBom:!1}:Ln(a)!=="object"&&(qn.warn("Deprecated: Expected third argument to be a object"),a={autoBom:!a}),a.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(s.type)?new Blob(["\uFEFF",s],{type:s.type}):s})(n,t),e)}:function(n,e,t,i){if((i=i||open("","_blank"))&&(i.document.title=i.document.body.innerText="downloading..."),typeof n=="string")return A2(n,e,t);var s=n.type==="application/octet-stream",a=/constructor/i.test(jt.HTMLElement)||jt.safari,l=/CriOS\/[\d]+/.test(navigator.userAgent);if((l||s&&a)&&(typeof FileReader>"u"?"undefined":Ln(FileReader))==="object"){var c=new FileReader;c.onloadend=function(){var p=c.result;p=l?p:p.replace(/^data:[^;]*;/,"data:attachment/file;"),i?i.location.href=p:location=p,i=null},c.readAsDataURL(n)}else{var h=jt.URL||jt.webkitURL,f=h.createObjectURL(n);i?i.location=f:location.href=f,i=null,setTimeout(function(){h.revokeObjectURL(f)},4e4)}});function F6(n){var e;n=n||"",this.ok=!1,n.charAt(0)=="#"&&(n=n.substr(1,6)),n={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[n=(n=n.replace(/ /g,"")).toLowerCase()]||n;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(c){return[parseInt(c[1]),parseInt(c[2]),parseInt(c[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(c){return[parseInt(c[1],16),parseInt(c[2],16),parseInt(c[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(c){return[parseInt(c[1]+c[1],16),parseInt(c[2]+c[2],16),parseInt(c[3]+c[3],16)]}}],i=0;i<t.length;i++){var s=t[i].re,a=t[i].process,l=s.exec(n);l&&(e=a(l),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var c=this.r.toString(16),h=this.g.toString(16),f=this.b.toString(16);return c.length==1&&(c="0"+c),h.length==1&&(h="0"+h),f.length==1&&(f="0"+f),"#"+c+h+f}}var rm=jt.atob.bind(jt),n3=jt.btoa.bind(jt);function C2(n,e){var t=n[0],i=n[1],s=n[2],a=n[3];t=As(t,i,s,a,e[0],7,-680876936),a=As(a,t,i,s,e[1],12,-389564586),s=As(s,a,t,i,e[2],17,606105819),i=As(i,s,a,t,e[3],22,-1044525330),t=As(t,i,s,a,e[4],7,-176418897),a=As(a,t,i,s,e[5],12,1200080426),s=As(s,a,t,i,e[6],17,-1473231341),i=As(i,s,a,t,e[7],22,-45705983),t=As(t,i,s,a,e[8],7,1770035416),a=As(a,t,i,s,e[9],12,-1958414417),s=As(s,a,t,i,e[10],17,-42063),i=As(i,s,a,t,e[11],22,-1990404162),t=As(t,i,s,a,e[12],7,1804603682),a=As(a,t,i,s,e[13],12,-40341101),s=As(s,a,t,i,e[14],17,-1502002290),t=Cs(t,i=As(i,s,a,t,e[15],22,1236535329),s,a,e[1],5,-165796510),a=Cs(a,t,i,s,e[6],9,-1069501632),s=Cs(s,a,t,i,e[11],14,643717713),i=Cs(i,s,a,t,e[0],20,-373897302),t=Cs(t,i,s,a,e[5],5,-701558691),a=Cs(a,t,i,s,e[10],9,38016083),s=Cs(s,a,t,i,e[15],14,-660478335),i=Cs(i,s,a,t,e[4],20,-405537848),t=Cs(t,i,s,a,e[9],5,568446438),a=Cs(a,t,i,s,e[14],9,-1019803690),s=Cs(s,a,t,i,e[3],14,-187363961),i=Cs(i,s,a,t,e[8],20,1163531501),t=Cs(t,i,s,a,e[13],5,-1444681467),a=Cs(a,t,i,s,e[2],9,-51403784),s=Cs(s,a,t,i,e[7],14,1735328473),t=Es(t,i=Cs(i,s,a,t,e[12],20,-1926607734),s,a,e[5],4,-378558),a=Es(a,t,i,s,e[8],11,-2022574463),s=Es(s,a,t,i,e[11],16,1839030562),i=Es(i,s,a,t,e[14],23,-35309556),t=Es(t,i,s,a,e[1],4,-1530992060),a=Es(a,t,i,s,e[4],11,1272893353),s=Es(s,a,t,i,e[7],16,-155497632),i=Es(i,s,a,t,e[10],23,-1094730640),t=Es(t,i,s,a,e[13],4,681279174),a=Es(a,t,i,s,e[0],11,-358537222),s=Es(s,a,t,i,e[3],16,-722521979),i=Es(i,s,a,t,e[6],23,76029189),t=Es(t,i,s,a,e[9],4,-640364487),a=Es(a,t,i,s,e[12],11,-421815835),s=Es(s,a,t,i,e[15],16,530742520),t=ks(t,i=Es(i,s,a,t,e[2],23,-995338651),s,a,e[0],6,-198630844),a=ks(a,t,i,s,e[7],10,1126891415),s=ks(s,a,t,i,e[14],15,-1416354905),i=ks(i,s,a,t,e[5],21,-57434055),t=ks(t,i,s,a,e[12],6,1700485571),a=ks(a,t,i,s,e[3],10,-1894986606),s=ks(s,a,t,i,e[10],15,-1051523),i=ks(i,s,a,t,e[1],21,-2054922799),t=ks(t,i,s,a,e[8],6,1873313359),a=ks(a,t,i,s,e[15],10,-30611744),s=ks(s,a,t,i,e[6],15,-1560198380),i=ks(i,s,a,t,e[13],21,1309151649),t=ks(t,i,s,a,e[4],6,-145523070),a=ks(a,t,i,s,e[11],10,-1120210379),s=ks(s,a,t,i,e[2],15,718787259),i=ks(i,s,a,t,e[9],21,-343485551),n[0]=Ac(t,n[0]),n[1]=Ac(i,n[1]),n[2]=Ac(s,n[2]),n[3]=Ac(a,n[3])}function y0(n,e,t,i,s,a){return e=Ac(Ac(e,n),Ac(i,a)),Ac(e<<s|e>>>32-s,t)}function As(n,e,t,i,s,a,l){return y0(e&t|~e&i,n,e,s,a,l)}function Cs(n,e,t,i,s,a,l){return y0(e&i|t&~i,n,e,s,a,l)}function Es(n,e,t,i,s,a,l){return y0(e^t^i,n,e,s,a,l)}function ks(n,e,t,i,s,a,l){return y0(t^(e|~i),n,e,s,a,l)}function B6(n){var e,t=n.length,i=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=n.length;e+=64)C2(i,MB(n.substring(e-64,e)));n=n.substring(e-64);var s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<n.length;e++)s[e>>2]|=n.charCodeAt(e)<<(e%4<<3);if(s[e>>2]|=128<<(e%4<<3),e>55)for(C2(i,s),e=0;e<16;e++)s[e]=0;return s[14]=8*t,C2(i,s),i}function MB(n){var e,t=[];for(e=0;e<64;e+=4)t[e>>2]=n.charCodeAt(e)+(n.charCodeAt(e+1)<<8)+(n.charCodeAt(e+2)<<16)+(n.charCodeAt(e+3)<<24);return t}var i3="0123456789abcdef".split("");function OB(n){for(var e="",t=0;t<4;t++)e+=i3[n>>8*t+4&15]+i3[n>>8*t&15];return e}function IB(n){return String.fromCharCode(255&n,(65280&n)>>8,(16711680&n)>>16,(4278190080&n)>>24)}function Ny(n){return B6(n).map(IB).join("")}var PB=(function(n){for(var e=0;e<n.length;e++)n[e]=OB(n[e]);return n.join("")})(B6("hello"))!="5d41402abc4b2a76b9719d911017c592";function Ac(n,e){if(PB){var t=(65535&n)+(65535&e);return(n>>16)+(e>>16)+(t>>16)<<16|65535&t}return n+e&4294967295}function Ay(n,e){var t,i,s,a;if(n!==t){for(var l=(s=n,a=1+(256/n.length|0),new Array(a+1).join(s)),c=[],h=0;h<256;h++)c[h]=h;var f=0;for(h=0;h<256;h++){var p=c[h];f=(f+p+l.charCodeAt(h))%256,c[h]=c[f],c[f]=p}t=n,i=c}else c=i;var m=e.length,b=0,y=0,N="";for(h=0;h<m;h++)y=(y+(p=c[b=(b+1)%256]))%256,c[b]=c[y],c[y]=p,l=c[(c[b]+c[y])%256],N+=String.fromCharCode(e.charCodeAt(h)^l);return N}var s3={print:4,modify:8,copy:16,"annot-forms":32};function Wh(n,e,t,i){this.v=1,this.r=2;var s=192;n.forEach(function(c){if(s3.perm!==void 0)throw new Error("Invalid permission: "+c);s+=s3[c]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var a=(e+this.padding).substr(0,32),l=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(a,l),this.P=-(1+(255^s)),this.encryptionKey=Ny(a+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(i)).substr(0,5),this.U=Ay(this.encryptionKey,this.padding)}function Vh(n){if(/[^\u0000-\u00ff]/.test(n))throw new Error("Invalid PDF Name Object: "+n+", Only accept ASCII characters.");for(var e="",t=n.length,i=0;i<t;i++){var s=n.charCodeAt(i);e+=s<33||s===35||s===37||s===40||s===41||s===47||s===60||s===62||s===91||s===93||s===123||s===125||s>126?"#"+("0"+s.toString(16)).slice(-2):n[i]}return e}function r3(n){if(Ln(n)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(t,i,s){if(s=s||!1,typeof t!="string"||typeof i!="function"||typeof s!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(t)||(e[t]={});var a=Math.random().toString(35);return e[t][a]=[i,!!s],a},this.unsubscribe=function(t){for(var i in e)if(e[i][t])return delete e[i][t],Object.keys(e[i]).length===0&&delete e[i],!0;return!1},this.publish=function(t){if(e.hasOwnProperty(t)){var i=Array.prototype.slice.call(arguments,1),s=[];for(var a in e[t]){var l=e[t][a];try{l[0].apply(n,i)}catch(c){jt.console&&qn.error("jsPDF PubSub Error",c.message,c)}l[1]&&s.push(a)}s.length&&s.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function Hm(n){if(!(this instanceof Hm))return new Hm(n);var e="opacity,stroke-opacity".split(",");for(var t in n)n.hasOwnProperty(t)&&e.indexOf(t)>=0&&(this[t]=n[t]);this.id="",this.objectNumber=-1}function z6(n,e){this.gState=n,this.matrix=e,this.id="",this.objectNumber=-1}function Eu(n,e,t,i,s){if(!(this instanceof Eu))return new Eu(n,e,t,i,s);this.type=n==="axial"?2:3,this.coords=e,this.colors=t,z6.call(this,i,s)}function $h(n,e,t,i,s){if(!(this instanceof $h))return new $h(n,e,t,i,s);this.boundingBox=n,this.xStep=e,this.yStep=t,this.stream="",this.cloneIndex=0,z6.call(this,i,s)}function wt(n){var e,t=typeof arguments[0]=="string"?arguments[0]:"p",i=arguments[1],s=arguments[2],a=arguments[3],l=[],c=1,h=16,f="S",p=null;Ln(n=n||{})==="object"&&(t=n.orientation,i=n.unit||i,s=n.format||s,a=n.compress||n.compressPdf||a,(p=n.encryption||null)!==null&&(p.userPassword=p.userPassword||"",p.ownerPassword=p.ownerPassword||"",p.userPermissions=p.userPermissions||[]),c=typeof n.userUnit=="number"?Math.abs(n.userUnit):1,n.precision!==void 0&&(e=n.precision),n.floatPrecision!==void 0&&(h=n.floatPrecision),f=n.defaultPathOperation||"S"),l=n.filters||(a===!0?["FlateEncode"]:l),i=i||"mm",t=(""+(t||"P")).toLowerCase();var m=n.putOnlyUsedFonts||!1,b={},y={internal:{},__private__:{}};y.__private__.PubSub=r3;var N="1.3",E=y.__private__.getPdfVersion=function(){return N};y.__private__.setPdfVersion=function(S){N=S};var k={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};y.__private__.getPageFormats=function(){return k};var T=y.__private__.getPageFormat=function(S){return k[S]};s=s||"a4";var j="compat",q="advanced",H=j;function V(){this.saveGraphicsState(),ee(new Nt(St,0,0,-St,0,va()*St).toString()+" cm"),this.setFontSize(this.getFontSize()/St),f="n",H=q}function oe(){this.restoreGraphicsState(),f="S",H=j}var ae=y.__private__.combineFontStyleAndFontWeight=function(S,O){if(S=="bold"&&O=="normal"||S=="bold"&&O==400||S=="normal"&&O=="italic"||S=="bold"&&O=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return O&&(S=O==400||O==="normal"?S==="italic"?"italic":"normal":O!=700&&O!=="bold"||S!=="normal"?(O==700?"bold":O)+""+S:"bold"),S};y.advancedAPI=function(S){var O=H===j;return O&&V.call(this),typeof S!="function"||(S(this),O&&oe.call(this)),this},y.compatAPI=function(S){var O=H===q;return O&&oe.call(this),typeof S!="function"||(S(this),O&&V.call(this)),this},y.isAdvancedAPI=function(){return H===q};var K,Y=function(S){if(H!==q)throw new Error(S+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},ue=y.roundToPrecision=y.__private__.roundToPrecision=function(S,O){var se=e||O;if(isNaN(S)||isNaN(se))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return S.toFixed(se).replace(/0+$/,"")};K=y.hpf=y.__private__.hpf=typeof h=="number"?function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.hpf");return ue(S,h)}:h==="smart"?function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.hpf");return ue(S,S>-1&&S<1?16:5)}:function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.hpf");return ue(S,16)};var P=y.f2=y.__private__.f2=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.f2");return ue(S,2)},M=y.__private__.f3=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.f3");return ue(S,3)},Q=y.scale=y.__private__.scale=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.scale");return H===j?S*St:H===q?S:void 0},ne=function(S){return Q((function(O){return H===j?va()-O:H===q?O:void 0})(S))};y.__private__.setPrecision=y.setPrecision=function(S){typeof parseInt(S,10)=="number"&&(e=parseInt(S,10))};var pe,$="00000000000000000000000000000000",re=y.__private__.getFileId=function(){return $},ce=y.__private__.setFileId=function(S){return $=S!==void 0&&/^[a-fA-F0-9]{32}$/.test(S)?S.toUpperCase():$.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),p!==null&&(Ci=new Wh(p.userPermissions,p.userPassword,p.ownerPassword,$)),$};y.setFileId=function(S){return ce(S),this},y.getFileId=function(){return re()};var J=y.__private__.convertDateToPDFDate=function(S){var O=S.getTimezoneOffset(),se=O<0?"+":"-",fe=Math.floor(Math.abs(O/60)),xe=Math.abs(O%60),Be=[se,z(fe),"'",z(xe),"'"].join("");return["D:",S.getFullYear(),z(S.getMonth()+1),z(S.getDate()),z(S.getHours()),z(S.getMinutes()),z(S.getSeconds()),Be].join("")},_e=y.__private__.convertPDFDateToDate=function(S){var O=parseInt(S.substr(2,4),10),se=parseInt(S.substr(6,2),10)-1,fe=parseInt(S.substr(8,2),10),xe=parseInt(S.substr(10,2),10),Be=parseInt(S.substr(12,2),10),Ye=parseInt(S.substr(14,2),10);return new Date(O,se,fe,xe,Be,Ye,0)},F=y.__private__.setCreationDate=function(S){var O;if(S===void 0&&(S=new Date),S instanceof Date)O=J(S);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(S))throw new Error("Invalid argument passed to jsPDF.setCreationDate");O=S}return pe=O},w=y.__private__.getCreationDate=function(S){var O=pe;return S==="jsDate"&&(O=_e(pe)),O};y.setCreationDate=function(S){return F(S),this},y.getCreationDate=function(S){return w(S)};var D,z=y.__private__.padd2=function(S){return("0"+parseInt(S)).slice(-2)},Z=y.__private__.padd2Hex=function(S){return("00"+(S=S.toString())).substr(S.length)},le=0,ve=[],Ne=[],Ce=0,Pe=[],$e=[],tt=!1,it=Ne;y.__private__.setCustomOutputDestination=function(S){tt=!0,it=S};var ht=function(S){tt||(it=S)};y.__private__.resetCustomOutputDestination=function(){tt=!1,it=Ne};var ee=y.__private__.out=function(S){return S=S.toString(),Ce+=S.length+1,it.push(S),it},nt=y.__private__.write=function(S){return ee(arguments.length===1?S.toString():Array.prototype.join.call(arguments," "))},Oe=y.__private__.getArrayBuffer=function(S){for(var O=S.length,se=new ArrayBuffer(O),fe=new Uint8Array(se);O--;)fe[O]=S.charCodeAt(O);return se},He=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];y.__private__.getStandardFonts=function(){return He};var Le=n.fontSize||16;y.__private__.setFontSize=y.setFontSize=function(S){return Le=H===q?S/St:S,this};var Je,Ge=y.__private__.getFontSize=y.getFontSize=function(){return H===j?Le:Le*St},qe=n.R2L||!1;y.__private__.setR2L=y.setR2L=function(S){return qe=S,this},y.__private__.getR2L=y.getR2L=function(){return qe};var st,vt=y.__private__.setZoomMode=function(S){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(S))Je=S;else if(isNaN(S)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(S)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+S+'" is not recognized.');Je=S}else Je=parseInt(S,10)};y.__private__.getZoomMode=function(){return Je};var yt,ct=y.__private__.setPageMode=function(S){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(S)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+S+'" is not recognized.');st=S};y.__private__.getPageMode=function(){return st};var Bt=y.__private__.setLayoutMode=function(S){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(S)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+S+'" is not recognized.');yt=S};y.__private__.getLayoutMode=function(){return yt},y.__private__.setDisplayMode=y.setDisplayMode=function(S,O,se){return vt(S),Bt(O),ct(se),this};var rt={title:"",subject:"",author:"",keywords:"",creator:""};y.__private__.getDocumentProperty=function(S){if(Object.keys(rt).indexOf(S)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return rt[S]},y.__private__.getDocumentProperties=function(){return rt},y.__private__.setDocumentProperties=y.setProperties=y.setDocumentProperties=function(S){for(var O in rt)rt.hasOwnProperty(O)&&S[O]&&(rt[O]=S[O]);return this},y.__private__.setDocumentProperty=function(S,O){if(Object.keys(rt).indexOf(S)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return rt[S]=O};var at,St,pt,wn,me,De={},Xe={},Ct=[],Ke={},Dn={},Rt={},It={},Nn=null,Wt=0,xt=[],rn=new r3(y),yr=n.hotfixes||[],Zi={},Fr={},Gs=[],Nt=function S(O,se,fe,xe,Be,Ye){if(!(this instanceof S))return new S(O,se,fe,xe,Be,Ye);isNaN(O)&&(O=1),isNaN(se)&&(se=0),isNaN(fe)&&(fe=0),isNaN(xe)&&(xe=1),isNaN(Be)&&(Be=0),isNaN(Ye)&&(Ye=0),this._matrix=[O,se,fe,xe,Be,Ye]};Object.defineProperty(Nt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(S){this._matrix[0]=S}}),Object.defineProperty(Nt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(S){this._matrix[1]=S}}),Object.defineProperty(Nt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(S){this._matrix[2]=S}}),Object.defineProperty(Nt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(S){this._matrix[3]=S}}),Object.defineProperty(Nt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(S){this._matrix[4]=S}}),Object.defineProperty(Nt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(S){this._matrix[5]=S}}),Object.defineProperty(Nt.prototype,"a",{get:function(){return this._matrix[0]},set:function(S){this._matrix[0]=S}}),Object.defineProperty(Nt.prototype,"b",{get:function(){return this._matrix[1]},set:function(S){this._matrix[1]=S}}),Object.defineProperty(Nt.prototype,"c",{get:function(){return this._matrix[2]},set:function(S){this._matrix[2]=S}}),Object.defineProperty(Nt.prototype,"d",{get:function(){return this._matrix[3]},set:function(S){this._matrix[3]=S}}),Object.defineProperty(Nt.prototype,"e",{get:function(){return this._matrix[4]},set:function(S){this._matrix[4]=S}}),Object.defineProperty(Nt.prototype,"f",{get:function(){return this._matrix[5]},set:function(S){this._matrix[5]=S}}),Object.defineProperty(Nt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Nt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Nt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Nt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Nt.prototype.join=function(S){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(K).join(S)},Nt.prototype.multiply=function(S){var O=S.sx*this.sx+S.shy*this.shx,se=S.sx*this.shy+S.shy*this.sy,fe=S.shx*this.sx+S.sy*this.shx,xe=S.shx*this.shy+S.sy*this.sy,Be=S.tx*this.sx+S.ty*this.shx+this.tx,Ye=S.tx*this.shy+S.ty*this.sy+this.ty;return new Nt(O,se,fe,xe,Be,Ye)},Nt.prototype.decompose=function(){var S=this.sx,O=this.shy,se=this.shx,fe=this.sy,xe=this.tx,Be=this.ty,Ye=Math.sqrt(S*S+O*O),ft=(S/=Ye)*se+(O/=Ye)*fe;se-=S*ft,fe-=O*ft;var bt=Math.sqrt(se*se+fe*fe);return ft/=bt,S*(fe/=bt)<O*(se/=bt)&&(S=-S,O=-O,ft=-ft,Ye=-Ye),{scale:new Nt(Ye,0,0,bt,0,0),translate:new Nt(1,0,0,1,xe,Be),rotate:new Nt(S,O,-O,S,0,0),skew:new Nt(1,0,ft,1,0,0)}},Nt.prototype.toString=function(S){return this.join(" ")},Nt.prototype.inversed=function(){var S=this.sx,O=this.shy,se=this.shx,fe=this.sy,xe=this.tx,Be=this.ty,Ye=1/(S*fe-O*se),ft=fe*Ye,bt=-O*Ye,Mt=-se*Ye,zt=S*Ye;return new Nt(ft,bt,Mt,zt,-ft*xe-Mt*Be,-bt*xe-zt*Be)},Nt.prototype.applyToPoint=function(S){var O=S.x*this.sx+S.y*this.shx+this.tx,se=S.x*this.shy+S.y*this.sy+this.ty;return new Xs(O,se)},Nt.prototype.applyToRectangle=function(S){var O=this.applyToPoint(S),se=this.applyToPoint(new Xs(S.x+S.w,S.y+S.h));return new da(O.x,O.y,se.x-O.x,se.y-O.y)},Nt.prototype.clone=function(){var S=this.sx,O=this.shy,se=this.shx,fe=this.sy,xe=this.tx,Be=this.ty;return new Nt(S,O,se,fe,xe,Be)},y.Matrix=Nt;var ca=y.matrixMult=function(S,O){return O.multiply(S)},Br=new Nt(1,0,0,1,0,0);y.unitMatrix=y.identityMatrix=Br;var Ms=function(S,O){if(!Dn[S]){var se=(O instanceof Eu?"Sh":"P")+(Object.keys(Ke).length+1).toString(10);O.id=se,Dn[S]=se,Ke[se]=O,rn.publish("addPattern",O)}};y.ShadingPattern=Eu,y.TilingPattern=$h,y.addShadingPattern=function(S,O){return Y("addShadingPattern()"),Ms(S,O),this},y.beginTilingPattern=function(S){Y("beginTilingPattern()"),jo(S.boundingBox[0],S.boundingBox[1],S.boundingBox[2]-S.boundingBox[0],S.boundingBox[3]-S.boundingBox[1],S.matrix)},y.endTilingPattern=function(S,O){Y("endTilingPattern()"),O.stream=$e[D].join(`
`),Ms(S,O),rn.publish("endTilingPattern",O),Gs.pop().restore()};var Os,Vn=y.__private__.newObject=function(){var S=pi();return Oi(S,!0),S},pi=y.__private__.newObjectDeferred=function(){return le++,ve[le]=function(){return Ce},le},Oi=function(S,O){return O=typeof O=="boolean"&&O,ve[S]=Ce,O&&ee(S+" 0 obj"),S},Ka=y.__private__.newAdditionalObject=function(){var S={objId:pi(),content:""};return Pe.push(S),S},fs=pi(),An=pi(),Yn=y.__private__.decodeColorString=function(S){var O=S.split(" ");if(O.length!==2||O[1]!=="g"&&O[1]!=="G")O.length!==5||O[4]!=="k"&&O[4]!=="K"||(O=[(1-O[0])*(1-O[3]),(1-O[1])*(1-O[3]),(1-O[2])*(1-O[3]),"r"]);else{var se=parseFloat(O[0]);O=[se,se,se,"r"]}for(var fe="#",xe=0;xe<3;xe++)fe+=("0"+Math.floor(255*parseFloat(O[xe])).toString(16)).slice(-2);return fe},es=y.__private__.encodeColorString=function(S){var O;typeof S=="string"&&(S={ch1:S});var se=S.ch1,fe=S.ch2,xe=S.ch3,Be=S.ch4,Ye=S.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof se=="string"&&se.charAt(0)!=="#"){var ft=new F6(se);if(ft.ok)se=ft.toHex();else if(!/^\d*\.?\d*$/.test(se))throw new Error('Invalid color "'+se+'" passed to jsPDF.encodeColorString.')}if(typeof se=="string"&&/^#[0-9A-Fa-f]{3}$/.test(se)&&(se="#"+se[1]+se[1]+se[2]+se[2]+se[3]+se[3]),typeof se=="string"&&/^#[0-9A-Fa-f]{6}$/.test(se)){var bt=parseInt(se.substr(1),16);se=bt>>16&255,fe=bt>>8&255,xe=255&bt}if(fe===void 0||Be===void 0&&se===fe&&fe===xe)O=typeof se=="string"?se+" "+Ye[0]:S.precision===2?P(se/255)+" "+Ye[0]:M(se/255)+" "+Ye[0];else if(Be===void 0||Ln(Be)==="object"){if(Be&&!isNaN(Be.a)&&Be.a===0)return["1.","1.","1.",Ye[1]].join(" ");O=typeof se=="string"?[se,fe,xe,Ye[1]].join(" "):S.precision===2?[P(se/255),P(fe/255),P(xe/255),Ye[1]].join(" "):[M(se/255),M(fe/255),M(xe/255),Ye[1]].join(" ")}else O=typeof se=="string"?[se,fe,xe,Be,Ye[2]].join(" "):S.precision===2?[P(se),P(fe),P(xe),P(Be),Ye[2]].join(" "):[M(se),M(fe),M(xe),M(Be),Ye[2]].join(" ");return O},Is=y.__private__.getFilters=function(){return l},Ys=y.__private__.putStream=function(S){var O=(S=S||{}).data||"",se=S.filters||Is(),fe=S.alreadyAppliedFilters||[],xe=S.addLength1||!1,Be=O.length,Ye=S.objectId,ft=function(Ei){return Ei};if(p!==null&&Ye===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");p!==null&&(ft=Ci.encryptor(Ye,0));var bt={};se===!0&&(se=["FlateEncode"]);var Mt=S.additionalKeyValues||[],zt=(bt=wt.API.processDataByFilters!==void 0?wt.API.processDataByFilters(O,se):{data:O,reverseChain:[]}).reverseChain+(Array.isArray(fe)?fe.join(" "):fe.toString());if(bt.data.length!==0&&(Mt.push({key:"Length",value:bt.data.length}),xe===!0&&Mt.push({key:"Length1",value:Be})),zt.length!=0)if(zt.split("/").length-1==1)Mt.push({key:"Filter",value:zt});else{Mt.push({key:"Filter",value:"["+zt+"]"});for(var an=0;an<Mt.length;an+=1)if(Mt[an].key==="DecodeParms"){for(var $n=[],li=0;li<bt.reverseChain.split("/").length-1;li+=1)$n.push("null");$n.push(Mt[an].value),Mt[an].value="["+$n.join(" ")+"]"}}ee("<<");for(var Mn=0;Mn<Mt.length;Mn++)ee("/"+Mt[Mn].key+" "+Mt[Mn].value);ee(">>"),bt.data.length!==0&&(ee("stream"),ee(ft(bt.data)),ee("endstream"))},Ro=y.__private__.putPage=function(S){var O=S.number,se=S.data,fe=S.objId,xe=S.contentsObjId;Oi(fe,!0),ee("<</Type /Page"),ee("/Parent "+S.rootDictionaryObjId+" 0 R"),ee("/Resources "+S.resourceDictionaryObjId+" 0 R"),ee("/MediaBox ["+parseFloat(K(S.mediaBox.bottomLeftX))+" "+parseFloat(K(S.mediaBox.bottomLeftY))+" "+K(S.mediaBox.topRightX)+" "+K(S.mediaBox.topRightY)+"]"),S.cropBox!==null&&ee("/CropBox ["+K(S.cropBox.bottomLeftX)+" "+K(S.cropBox.bottomLeftY)+" "+K(S.cropBox.topRightX)+" "+K(S.cropBox.topRightY)+"]"),S.bleedBox!==null&&ee("/BleedBox ["+K(S.bleedBox.bottomLeftX)+" "+K(S.bleedBox.bottomLeftY)+" "+K(S.bleedBox.topRightX)+" "+K(S.bleedBox.topRightY)+"]"),S.trimBox!==null&&ee("/TrimBox ["+K(S.trimBox.bottomLeftX)+" "+K(S.trimBox.bottomLeftY)+" "+K(S.trimBox.topRightX)+" "+K(S.trimBox.topRightY)+"]"),S.artBox!==null&&ee("/ArtBox ["+K(S.artBox.bottomLeftX)+" "+K(S.artBox.bottomLeftY)+" "+K(S.artBox.topRightX)+" "+K(S.artBox.topRightY)+"]"),typeof S.userUnit=="number"&&S.userUnit!==1&&ee("/UserUnit "+S.userUnit),rn.publish("putPage",{objId:fe,pageContext:xt[O],pageNumber:O,page:se}),ee("/Contents "+xe+" 0 R"),ee(">>"),ee("endobj");var Be=se.join(`
`);return H===q&&(Be+=`
Q`),Oi(xe,!0),Ys({data:Be,filters:Is(),objectId:xe}),ee("endobj"),fe},vr=y.__private__.putPages=function(){var S,O,se=[];for(S=1;S<=Wt;S++)xt[S].objId=pi(),xt[S].contentsObjId=pi();for(S=1;S<=Wt;S++)se.push(Ro({number:S,data:$e[S],objId:xt[S].objId,contentsObjId:xt[S].contentsObjId,mediaBox:xt[S].mediaBox,cropBox:xt[S].cropBox,bleedBox:xt[S].bleedBox,trimBox:xt[S].trimBox,artBox:xt[S].artBox,userUnit:xt[S].userUnit,rootDictionaryObjId:fs,resourceDictionaryObjId:An}));Oi(fs,!0),ee("<</Type /Pages");var fe="/Kids [";for(O=0;O<Wt;O++)fe+=se[O]+" 0 R ";ee(fe+"]"),ee("/Count "+Wt),ee(">>"),ee("endobj"),rn.publish("postPutPages")},br=function(S){rn.publish("putFont",{font:S,out:ee,newObject:Vn,putStream:Ys}),S.isAlreadyPutted!==!0&&(S.objectNumber=Vn(),ee("<<"),ee("/Type /Font"),ee("/BaseFont /"+Vh(S.postScriptName)),ee("/Subtype /Type1"),typeof S.encoding=="string"&&ee("/Encoding /"+S.encoding),ee("/FirstChar 32"),ee("/LastChar 255"),ee(">>"),ee("endobj"))},Qa=function(S){S.objectNumber=Vn();var O=[];O.push({key:"Type",value:"/XObject"}),O.push({key:"Subtype",value:"/Form"}),O.push({key:"BBox",value:"["+[K(S.x),K(S.y),K(S.x+S.width),K(S.y+S.height)].join(" ")+"]"}),O.push({key:"Matrix",value:"["+S.matrix.toString()+"]"});var se=S.pages[1].join(`
`);Ys({data:se,additionalKeyValues:O,objectId:S.objectNumber}),ee("endobj")},_r=function(S,O){O||(O=21);var se=Vn(),fe=(function(Ye,ft){var bt,Mt=[],zt=1/(ft-1);for(bt=0;bt<1;bt+=zt)Mt.push(bt);if(Mt.push(1),Ye[0].offset!=0){var an={offset:0,color:Ye[0].color};Ye.unshift(an)}if(Ye[Ye.length-1].offset!=1){var $n={offset:1,color:Ye[Ye.length-1].color};Ye.push($n)}for(var li="",Mn=0,Ei=0;Ei<Mt.length;Ei++){for(bt=Mt[Ei];bt>Ye[Mn+1].offset;)Mn++;var mi=Ye[Mn].offset,Ui=(bt-mi)/(Ye[Mn+1].offset-mi),ba=Ye[Mn].color,Cr=Ye[Mn+1].color;li+=Z(Math.round((1-Ui)*ba[0]+Ui*Cr[0]).toString(16))+Z(Math.round((1-Ui)*ba[1]+Ui*Cr[1]).toString(16))+Z(Math.round((1-Ui)*ba[2]+Ui*Cr[2]).toString(16))}return li.trim()})(S.colors,O),xe=[];xe.push({key:"FunctionType",value:"0"}),xe.push({key:"Domain",value:"[0.0 1.0]"}),xe.push({key:"Size",value:"["+O+"]"}),xe.push({key:"BitsPerSample",value:"8"}),xe.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),xe.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ys({data:fe,additionalKeyValues:xe,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:se}),ee("endobj"),S.objectNumber=Vn(),ee("<< /ShadingType "+S.type),ee("/ColorSpace /DeviceRGB");var Be="/Coords ["+K(parseFloat(S.coords[0]))+" "+K(parseFloat(S.coords[1]))+" ";S.type===2?Be+=K(parseFloat(S.coords[2]))+" "+K(parseFloat(S.coords[3])):Be+=K(parseFloat(S.coords[2]))+" "+K(parseFloat(S.coords[3]))+" "+K(parseFloat(S.coords[4]))+" "+K(parseFloat(S.coords[5])),ee(Be+="]"),S.matrix&&ee("/Matrix ["+S.matrix.toString()+"]"),ee("/Function "+se+" 0 R"),ee("/Extend [true true]"),ee(">>"),ee("endobj")},xr=function(S,O){var se=pi(),fe=Vn();O.push({resourcesOid:se,objectOid:fe}),S.objectNumber=fe;var xe=[];xe.push({key:"Type",value:"/Pattern"}),xe.push({key:"PatternType",value:"1"}),xe.push({key:"PaintType",value:"1"}),xe.push({key:"TilingType",value:"1"}),xe.push({key:"BBox",value:"["+S.boundingBox.map(K).join(" ")+"]"}),xe.push({key:"XStep",value:K(S.xStep)}),xe.push({key:"YStep",value:K(S.yStep)}),xe.push({key:"Resources",value:se+" 0 R"}),S.matrix&&xe.push({key:"Matrix",value:"["+S.matrix.toString()+"]"}),Ys({data:S.stream,additionalKeyValues:xe,objectId:S.objectNumber}),ee("endobj")},Do=function(S){for(var O in S.objectNumber=Vn(),ee("<<"),S)switch(O){case"opacity":ee("/ca "+P(S[O]));break;case"stroke-opacity":ee("/CA "+P(S[O]))}ee(">>"),ee("endobj")},zr=function(S){Oi(S.resourcesOid,!0),ee("<<"),ee("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var O in ee("/Font <<"),De)De.hasOwnProperty(O)&&(m===!1||m===!0&&b.hasOwnProperty(O))&&ee("/"+O+" "+De[O].objectNumber+" 0 R");ee(">>")})(),(function(){if(Object.keys(Ke).length>0){for(var O in ee("/Shading <<"),Ke)Ke.hasOwnProperty(O)&&Ke[O]instanceof Eu&&Ke[O].objectNumber>=0&&ee("/"+O+" "+Ke[O].objectNumber+" 0 R");rn.publish("putShadingPatternDict"),ee(">>")}})(),(function(O){if(Object.keys(Ke).length>0){for(var se in ee("/Pattern <<"),Ke)Ke.hasOwnProperty(se)&&Ke[se]instanceof y.TilingPattern&&Ke[se].objectNumber>=0&&Ke[se].objectNumber<O&&ee("/"+se+" "+Ke[se].objectNumber+" 0 R");rn.publish("putTilingPatternDict"),ee(">>")}})(S.objectOid),(function(){if(Object.keys(Rt).length>0){var O;for(O in ee("/ExtGState <<"),Rt)Rt.hasOwnProperty(O)&&Rt[O].objectNumber>=0&&ee("/"+O+" "+Rt[O].objectNumber+" 0 R");rn.publish("putGStateDict"),ee(">>")}})(),(function(){for(var O in ee("/XObject <<"),Zi)Zi.hasOwnProperty(O)&&Zi[O].objectNumber>=0&&ee("/"+O+" "+Zi[O].objectNumber+" 0 R");rn.publish("putXobjectDict"),ee(">>")})(),ee(">>"),ee("endobj")},oi=function(S){Xe[S.fontName]=Xe[S.fontName]||{},Xe[S.fontName][S.fontStyle]=S.id},zc=function(S,O,se,fe,xe){var Be={id:"F"+(Object.keys(De).length+1).toString(10),postScriptName:S,fontName:O,fontStyle:se,encoding:fe,isStandardFont:xe||!1,metadata:{}};return rn.publish("addFont",{font:Be,instance:this}),De[Be.id]=Be,oi(Be),Be.id},Ps=y.__private__.pdfEscape=y.pdfEscape=function(S,O){return(function(se,fe){var xe,Be,Ye,ft,bt,Mt,zt,an,$n;if(Ye=(fe=fe||{}).sourceEncoding||"Unicode",bt=fe.outputEncoding,(fe.autoencode||bt)&&De[at].metadata&&De[at].metadata[Ye]&&De[at].metadata[Ye].encoding&&(ft=De[at].metadata[Ye].encoding,!bt&&De[at].encoding&&(bt=De[at].encoding),!bt&&ft.codePages&&(bt=ft.codePages[0]),typeof bt=="string"&&(bt=ft[bt]),bt)){for(zt=!1,Mt=[],xe=0,Be=se.length;xe<Be;xe++)(an=bt[se.charCodeAt(xe)])?Mt.push(String.fromCharCode(an)):Mt.push(se[xe]),Mt[xe].charCodeAt(0)>>8&&(zt=!0);se=Mt.join("")}for(xe=se.length;zt===void 0&&xe!==0;)se.charCodeAt(xe-1)>>8&&(zt=!0),xe--;if(!zt)return se;for(Mt=fe.noBOM?[]:[254,255],xe=0,Be=se.length;xe<Be;xe++){if(($n=(an=se.charCodeAt(xe))>>8)>>8)throw new Error("Character at position "+xe+" of string '"+se+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Mt.push($n),Mt.push(an-($n<<8))}return String.fromCharCode.apply(void 0,Mt)})(S,O).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},wr=y.__private__.beginPage=function(S){$e[++Wt]=[],xt[Wt]={objId:0,contentsObjId:0,userUnit:Number(c),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(S[0]),topRightY:Number(S[1])}},Hc(Wt),ht($e[D])},ua=function(S,O){var se,fe,xe;switch(t=O||t,typeof S=="string"&&(se=T(S.toLowerCase()),Array.isArray(se)&&(fe=se[0],xe=se[1])),Array.isArray(S)&&(fe=S[0]*St,xe=S[1]*St),isNaN(fe)&&(fe=s[0],xe=s[1]),(fe>14400||xe>14400)&&(qn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),fe=Math.min(14400,fe),xe=Math.min(14400,xe)),s=[fe,xe],t.substr(0,1)){case"l":xe>fe&&(s=[xe,fe]);break;case"p":fe>xe&&(s=[xe,fe])}wr(s),Tt(Oo),ee(Bs),Il!==0&&ee(Il+" J"),Ii!==0&&ee(Ii+" j"),rn.publish("addPage",{pageNumber:Wt})},Uc=function(S){S>0&&S<=Wt&&($e.splice(S,1),xt.splice(S,1),Wt--,D>Wt&&(D=Wt),this.setPage(D))},Hc=function(S){S>0&&S<=Wt&&(D=S)},qc=y.__private__.getNumberOfPages=y.getNumberOfPages=function(){return $e.length-1},$u=function(S,O,se){var fe,xe=void 0;return se=se||{},S=S!==void 0?S:De[at].fontName,O=O!==void 0?O:De[at].fontStyle,fe=S.toLowerCase(),Xe[fe]!==void 0&&Xe[fe][O]!==void 0?xe=Xe[fe][O]:Xe[S]!==void 0&&Xe[S][O]!==void 0?xe=Xe[S][O]:se.disableWarning===!1&&qn.warn("Unable to look up font label for font '"+S+"', '"+O+"'. Refer to getFontList() for available fonts."),xe||se.noFallback||(xe=Xe.times[O])==null&&(xe=Xe.times.normal),xe},js=y.__private__.putInfo=function(){var S=Vn(),O=function(fe){return fe};for(var se in p!==null&&(O=Ci.encryptor(S,0)),ee("<<"),ee("/Producer ("+Ps(O("jsPDF "+wt.version))+")"),rt)rt.hasOwnProperty(se)&&rt[se]&&ee("/"+se.substr(0,1).toUpperCase()+se.substr(1)+" ("+Ps(O(rt[se]))+")");ee("/CreationDate ("+Ps(O(pe))+")"),ee(">>"),ee("endobj")},ha=y.__private__.putCatalog=function(S){var O=(S=S||{}).rootDictionaryObjId||fs;switch(Vn(),ee("<<"),ee("/Type /Catalog"),ee("/Pages "+O+" 0 R"),Je||(Je="fullwidth"),Je){case"fullwidth":ee("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ee("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ee("/OpenAction [3 0 R /Fit]");break;case"original":ee("/OpenAction [3 0 R /XYZ null null 1]");break;default:var se=""+Je;se.substr(se.length-1)==="%"&&(Je=parseInt(Je)/100),typeof Je=="number"&&ee("/OpenAction [3 0 R /XYZ null null "+P(Je)+"]")}switch(yt||(yt="continuous"),yt){case"continuous":ee("/PageLayout /OneColumn");break;case"single":ee("/PageLayout /SinglePage");break;case"two":case"twoleft":ee("/PageLayout /TwoColumnLeft");break;case"tworight":ee("/PageLayout /TwoColumnRight")}st&&ee("/PageMode /"+st),rn.publish("putCatalog"),ee(">>"),ee("endobj")},Sr=y.__private__.putTrailer=function(){ee("trailer"),ee("<<"),ee("/Size "+(le+1)),ee("/Root "+le+" 0 R"),ee("/Info "+(le-1)+" 0 R"),p!==null&&ee("/Encrypt "+Ci.oid+" 0 R"),ee("/ID [ <"+$+"> <"+$+"> ]"),ee(">>")},fn=y.__private__.putHeader=function(){ee("%PDF-"+N),ee("%")},Wc=y.__private__.putXRef=function(){var S="0000000000";ee("xref"),ee("0 "+(le+1)),ee("0000000000 65535 f ");for(var O=1;O<=le;O++)typeof ve[O]=="function"?ee((S+ve[O]()).slice(-10)+" 00000 n "):ve[O]!==void 0?ee((S+ve[O]).slice(-10)+" 00000 n "):ee("0000000000 00000 n ")},Ur=y.__private__.buildDocument=function(){var S;le=0,Ce=0,Ne=[],ve=[],Pe=[],fs=pi(),An=pi(),ht(Ne),rn.publish("buildDocument"),fn(),vr(),(function(){rn.publish("putAdditionalObjects");for(var se=0;se<Pe.length;se++){var fe=Pe[se];Oi(fe.objId,!0),ee(fe.content),ee("endobj")}rn.publish("postPutAdditionalObjects")})(),S=[],(function(){for(var se in De)De.hasOwnProperty(se)&&(m===!1||m===!0&&b.hasOwnProperty(se))&&br(De[se])})(),(function(){var se;for(se in Rt)Rt.hasOwnProperty(se)&&Do(Rt[se])})(),(function(){for(var se in Zi)Zi.hasOwnProperty(se)&&Qa(Zi[se])})(),(function(se){var fe;for(fe in Ke)Ke.hasOwnProperty(fe)&&(Ke[fe]instanceof Eu?_r(Ke[fe]):Ke[fe]instanceof $h&&xr(Ke[fe],se))})(S),rn.publish("putResources"),S.forEach(zr),zr({resourcesOid:An,objectOid:Number.MAX_SAFE_INTEGER}),rn.publish("postPutResources"),p!==null&&(Ci.oid=Vn(),ee("<<"),ee("/Filter /Standard"),ee("/V "+Ci.v),ee("/R "+Ci.r),ee("/U <"+Ci.toHexString(Ci.U)+">"),ee("/O <"+Ci.toHexString(Ci.O)+">"),ee("/P "+Ci.P),ee(">>"),ee("endobj")),js(),ha();var O=Ce;return Wc(),Sr(),ee("startxref"),ee(""+O),ee("%%EOF"),ht($e[D]),Ne.join(`
`)},Ja=y.__private__.getBlob=function(S){return new Blob([Oe(S)],{type:"application/pdf"})},Vc=y.output=y.__private__.output=(Os=function(S,O){switch(typeof(O=O||{})=="string"?O={filename:O}:O.filename=O.filename||"generated.pdf",S){case void 0:return Ur();case"save":y.save(O.filename);break;case"arraybuffer":return Oe(Ur());case"blob":return Ja(Ur());case"bloburi":case"bloburl":if(jt.URL!==void 0&&typeof jt.URL.createObjectURL=="function")return jt.URL&&jt.URL.createObjectURL(Ja(Ur()))||void 0;qn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var se="",fe=Ur();try{se=n3(fe)}catch{se=n3(unescape(encodeURIComponent(fe)))}return"data:application/pdf;filename="+O.filename+";base64,"+se;case"pdfobjectnewwindow":if(Object.prototype.toString.call(jt)==="[object Window]"){var xe="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Be=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';O.pdfObjectUrl&&(xe=O.pdfObjectUrl,Be="");var Ye='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+xe+'"'+Be+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(O)+");<\/script></body></html>",ft=jt.open();return ft!==null&&ft.document.write(Ye),ft}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(jt)==="[object Window]"){var bt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(O.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+O.filename+'" width="500px" height="400px" /></body></html>',Mt=jt.open();if(Mt!==null){Mt.document.write(bt);var zt=this;Mt.document.documentElement.querySelector("#pdfViewer").onload=function(){Mt.document.title=O.filename,Mt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(zt.output("bloburl"))}}return Mt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(jt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var an='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",O)+'"></iframe></body></html>',$n=jt.open();if($n!==null&&($n.document.write(an),$n.document.title=O.filename),$n||typeof safari>"u")return $n;break;case"datauri":case"dataurl":return jt.document.location.href=this.output("datauristring",O);default:return null}},Os.foo=function(){try{return Os.apply(this,arguments)}catch(se){var S=se.stack||"";~S.indexOf(" at ")&&(S=S.split(" at ")[1]);var O="Error in function "+S.split(`
`)[0].split("<")[0]+": "+se.message;if(!jt.console)throw new Error(O);jt.console.error(O,se),jt.alert&&alert(O)}},Os.foo.bar=Os,Os.foo),ds=function(S){return Array.isArray(yr)===!0&&yr.indexOf(S)>-1};switch(i){case"pt":St=1;break;case"mm":St=72/25.4;break;case"cm":St=72/2.54;break;case"in":St=72;break;case"px":St=ds("px_scaling")==1?.75:96/72;break;case"pc":case"em":St=12;break;case"ex":St=6;break;default:if(typeof i!="number")throw new Error("Invalid unit: "+i);St=i}var Ci=null;F(),ce();var gi=y.__private__.getPageInfo=y.getPageInfo=function(S){if(isNaN(S)||S%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:xt[S].objId,pageNumber:S,pageContext:xt[S]}},Ml=y.__private__.getPageInfoByObjId=function(S){if(isNaN(S)||S%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var O in xt)if(xt[O].objId===S)break;return gi(O)},Xu=y.__private__.getCurrentPageInfo=y.getCurrentPageInfo=function(){return{objId:xt[D].objId,pageNumber:D,pageContext:xt[D]}};y.addPage=function(){return ua.apply(this,arguments),this},y.setPage=function(){return Hc.apply(this,arguments),ht.call(this,$e[D]),this},y.insertPage=function(S){return this.addPage(),this.movePage(D,S),this},y.movePage=function(S,O){var se,fe;if(S>O){se=$e[S],fe=xt[S];for(var xe=S;xe>O;xe--)$e[xe]=$e[xe-1],xt[xe]=xt[xe-1];$e[O]=se,xt[O]=fe,this.setPage(O)}else if(S<O){se=$e[S],fe=xt[S];for(var Be=S;Be<O;Be++)$e[Be]=$e[Be+1],xt[Be]=xt[Be+1];$e[O]=se,xt[O]=fe,this.setPage(O)}return this},y.deletePage=function(){return Uc.apply(this,arguments),this},y.__private__.text=y.text=function(S,O,se,fe,xe){var Be,Ye,ft,bt,Mt,zt,an,$n,li,Mn=(fe=fe||{}).scope||this;if(typeof S=="number"&&typeof O=="number"&&(typeof se=="string"||Array.isArray(se))){var Ei=se;se=O,O=S,S=Ei}if(arguments[3]instanceof Nt==0?(ft=arguments[4],bt=arguments[5],Ln(an=arguments[3])==="object"&&an!==null||(typeof ft=="string"&&(bt=ft,ft=null),typeof an=="string"&&(bt=an,an=null),typeof an=="number"&&(ft=an,an=null),fe={flags:an,angle:ft,align:bt})):(Y("The transform parameter of text() with a Matrix value"),li=xe),isNaN(O)||isNaN(se)||S==null)throw new Error("Invalid arguments passed to jsPDF.text");if(S.length===0)return Mn;var mi,Ui="",ba=typeof fe.lineHeightFactor=="number"?fe.lineHeightFactor:fa,Cr=Mn.internal.scaleFactor;function _a(dn){return dn=dn.split("	").join(Array(fe.TabLen||9).join(" ")),Ps(dn,an)}function eu(dn){for(var on,On=dn.concat(),ui=[],Qr=On.length;Qr--;)typeof(on=On.shift())=="string"?ui.push(on):Array.isArray(dn)&&(on.length===1||on[1]===void 0&&on[2]===void 0)?ui.push(on[0]):ui.push([on[0],on[1],on[2]]);return ui}function jl(dn,on){var On;if(typeof dn=="string")On=on(dn)[0];else if(Array.isArray(dn)){for(var ui,Qr,Lr=dn.concat(),Uo=[],iu=Lr.length;iu--;)typeof(ui=Lr.shift())=="string"?Uo.push(on(ui)[0]):Array.isArray(ui)&&typeof ui[0]=="string"&&(Qr=on(ui[0],ui[1],ui[2]),Uo.push([Qr[0],Qr[1],Qr[2]]));On=Uo}return On}var Wr=!1,Er=!0;if(typeof S=="string")Wr=!0;else if(Array.isArray(S)){var Bo=S.concat();Ye=[];for(var xa,Pi=Bo.length;Pi--;)(typeof(xa=Bo.shift())!="string"||Array.isArray(xa)&&typeof xa[0]!="string")&&(Er=!1);Wr=Er}if(Wr===!1)throw new Error('Type of text must be string or Array. "'+S+'" is not recognized.');typeof S=="string"&&(S=S.match(/[\r?\n]/)?S.split(/\r\n|\r|\n/g):[S]);var eo=Le/Mn.internal.scaleFactor,to=eo*(ba-1);switch(fe.baseline){case"bottom":se-=to;break;case"top":se+=eo-to;break;case"hanging":se+=eo-2*to;break;case"middle":se+=eo/2-to}if((zt=fe.maxWidth||0)>0&&(typeof S=="string"?S=Mn.splitTextToSize(S,zt):Object.prototype.toString.call(S)==="[object Array]"&&(S=S.reduce(function(dn,on){return dn.concat(Mn.splitTextToSize(on,zt))},[]))),Be={text:S,x:O,y:se,options:fe,mutex:{pdfEscape:Ps,activeFontKey:at,fonts:De,activeFontSize:Le}},rn.publish("preProcessText",Be),S=Be.text,ft=(fe=Be.options).angle,li instanceof Nt==0&&ft&&typeof ft=="number"){ft*=Math.PI/180,fe.rotationDirection===0&&(ft=-ft),H===q&&(ft=-ft);var Fl=Math.cos(ft),Vr=Math.sin(ft);li=new Nt(Fl,Vr,-Vr,Fl,0,0)}else ft&&ft instanceof Nt&&(li=ft);H!==q||li||(li=Br),(Mt=fe.charSpace||$s)!==void 0&&(Ui+=K(Q(Mt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),($n=fe.horizontalScale)!==void 0&&(Ui+=K(100*$n)+` Tz
`),fe.lang;var gs=-1,wa=fe.renderingMode!==void 0?fe.renderingMode:fe.stroke,Bl=Mn.internal.getCurrentPageInfo().pageContext;switch(wa){case 0:case!1:case"fill":gs=0;break;case 1:case!0:case"stroke":gs=1;break;case 2:case"fillThenStroke":gs=2;break;case 3:case"invisible":gs=3;break;case 4:case"fillAndAddForClipping":gs=4;break;case 5:case"strokeAndAddPathForClipping":gs=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":gs=6;break;case 7:case"addToPathForClipping":gs=7}var tu=Bl.usedRenderingMode!==void 0?Bl.usedRenderingMode:-1;gs!==-1?Ui+=gs+` Tr
`:tu!==-1&&(Ui+=`0 Tr
`),gs!==-1&&(Bl.usedRenderingMode=gs),bt=fe.align||"left";var zs,kr=Le*ba,Sa=Mn.internal.pageSize.getWidth(),nu=De[at];Mt=fe.charSpace||$s,zt=fe.maxWidth||0,an=Object.assign({autoencode:!0,noBOM:!0},fe.flags);var Tr=[],no=function(dn){return Mn.getStringUnitWidth(dn,{font:nu,charSpace:Mt,fontSize:Le,doKerning:!1})*Le/Cr};if(Object.prototype.toString.call(S)==="[object Array]"){var ws;Ye=eu(S),bt!=="left"&&(zs=Ye.map(no));var ms,Gr=0;if(bt==="right"){O-=zs[0],S=[],Pi=Ye.length;for(var Yr=0;Yr<Pi;Yr++)Yr===0?(ms=Fs(O),ws=zi(se)):(ms=Q(Gr-zs[Yr]),ws=-kr),S.push([Ye[Yr],ms,ws]),Gr=zs[Yr]}else if(bt==="center"){O-=zs[0]/2,S=[],Pi=Ye.length;for(var Na=0;Na<Pi;Na++)Na===0?(ms=Fs(O),ws=zi(se)):(ms=Q((Gr-zs[Na])/2),ws=-kr),S.push([Ye[Na],ms,ws]),Gr=zs[Na]}else if(bt==="left"){S=[],Pi=Ye.length;for(var zl=0;zl<Pi;zl++)S.push(Ye[zl])}else if(bt==="justify"&&nu.encoding==="Identity-H"){S=[],Pi=Ye.length,zt=zt!==0?zt:Sa;for(var Ul=0,ci=0;ci<Pi;ci++)if(ws=ci===0?zi(se):-kr,ms=ci===0?Fs(O):Ul,ci<Pi-1){var sh=Q((zt-zs[ci])/(Ye[ci].split(" ").length-1)),$r=Ye[ci].split(" ");S.push([$r[0]+" ",ms,ws]),Ul=0;for(var Xr=1;Xr<$r.length;Xr++){var Hi=(no($r[Xr-1]+" "+$r[Xr])-no($r[Xr]))*Cr+sh;Xr==$r.length-1?S.push([$r[Xr],Hi,0]):S.push([$r[Xr]+" ",Hi,0]),Ul-=Hi}}else S.push([Ye[ci],ms,ws]);S.push(["",Ul,0])}else{if(bt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(S=[],Pi=Ye.length,zt=zt!==0?zt:Sa,ci=0;ci<Pi;ci++){ws=ci===0?zi(se):-kr,ms=ci===0?Fs(O):0;var Aa=Ye[ci].split(" ").length-1,Hl=Aa>0?(zt-zs[ci])/Aa:0;ci<Pi-1?Tr.push(K(Q(Hl))):Tr.push(0),S.push([Ye[ci],ms,ws])}}}(typeof fe.R2L=="boolean"?fe.R2L:qe)===!0&&(S=jl(S,function(dn,on,On){return[dn.split("").reverse().join(""),on,On]})),Be={text:S,x:O,y:se,options:fe,mutex:{pdfEscape:Ps,activeFontKey:at,fonts:De,activeFontSize:Le}},rn.publish("postProcessText",Be),S=Be.text,mi=Be.mutex.isHex||!1;var ql=De[at].encoding;ql!=="WinAnsiEncoding"&&ql!=="StandardEncoding"||(S=jl(S,function(dn,on,On){return[_a(dn),on,On]})),Ye=eu(S),S=[];for(var Ca,Ea,Kr,zo=Array.isArray(Ye[0])?1:0,Us="",ka=function(dn,on,On){var ui="";return On instanceof Nt?(On=typeof fe.angle=="number"?ca(On,new Nt(1,0,0,1,dn,on)):ca(new Nt(1,0,0,1,dn,on),On),H===q&&(On=ca(new Nt(1,0,0,-1,0,0),On)),ui=On.join(" ")+` Tm
`):ui=K(dn)+" "+K(on)+` Td
`,ui},ts=0;ts<Ye.length;ts++){switch(Us="",zo){case 1:Kr=(mi?"<":"(")+Ye[ts][0]+(mi?">":")"),Ca=parseFloat(Ye[ts][1]),Ea=parseFloat(Ye[ts][2]);break;case 0:Kr=(mi?"<":"(")+Ye[ts]+(mi?">":")"),Ca=Fs(O),Ea=zi(se)}Tr!==void 0&&Tr[ts]!==void 0&&(Us=Tr[ts]+` Tw
`),ts===0?S.push(Us+ka(Ca,Ea,li)+Kr):zo===0?S.push(Us+Kr):zo===1&&S.push(Us+ka(Ca,Ea,li)+Kr)}S=zo===0?S.join(` Tj
T* `):S.join(` Tj
`),S+=` Tj
`;var Ks=`BT
/`;return Ks+=at+" "+Le+` Tf
`,Ks+=K(Le*ba)+` TL
`,Ks+=Hr+`
`,Ks+=Ui,Ks+=S,ee(Ks+="ET"),b[at]=!0,Mn};var Gc=y.__private__.clip=y.clip=function(S){return ee(S==="evenodd"?"W*":"W"),this};y.clipEvenOdd=function(){return Gc("evenodd")},y.__private__.discardPath=y.discardPath=function(){return ee("n"),this};var ps=y.__private__.isValidStyle=function(S){var O=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(S)!==-1&&(O=!0),O};y.__private__.setDefaultPathOperation=y.setDefaultPathOperation=function(S){return ps(S)&&(f=S),this};var Yc=y.__private__.getStyle=y.getStyle=function(S){var O=f;switch(S){case"D":case"S":O="S";break;case"F":O="f";break;case"FD":case"DF":O="B";break;case"f":case"f*":case"B":case"B*":O=S}return O},$c=y.close=function(){return ee("h"),this};y.stroke=function(){return ee("S"),this},y.fill=function(S){return Nr("f",S),this},y.fillEvenOdd=function(S){return Nr("f*",S),this},y.fillStroke=function(S){return Nr("B",S),this},y.fillStrokeEvenOdd=function(S){return Nr("B*",S),this};var Nr=function(S,O){Ln(O)==="object"?Qu(O,S):ee(S)},Mo=function(S){S===null||H===q&&S===void 0||(S=Yc(S),ee(S))};function Ku(S,O,se,fe,xe){var Be=new $h(O||this.boundingBox,se||this.xStep,fe||this.yStep,this.gState,xe||this.matrix);Be.stream=this.stream;var Ye=S+"$$"+this.cloneIndex+++"$$";return Ms(Ye,Be),Be}var Qu=function(S,O){var se=Dn[S.key],fe=Ke[se];if(fe instanceof Eu)ee("q"),ee(Xc(O)),fe.gState&&y.setGState(fe.gState),ee(S.matrix.toString()+" cm"),ee("/"+se+" sh"),ee("Q");else if(fe instanceof $h){var xe=new Nt(1,0,0,-1,0,va());S.matrix&&(xe=xe.multiply(S.matrix||Br),se=Ku.call(fe,S.key,S.boundingBox,S.xStep,S.yStep,xe).id),ee("q"),ee("/Pattern cs"),ee("/"+se+" scn"),fe.gState&&y.setGState(fe.gState),ee(O),ee("Q")}},Xc=function(S){switch(S){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Kc=y.moveTo=function(S,O){return ee(K(Q(S))+" "+K(ne(O))+" m"),this},Ju=y.lineTo=function(S,O){return ee(K(Q(S))+" "+K(ne(O))+" l"),this},xs=y.curveTo=function(S,O,se,fe,xe,Be){return ee([K(Q(S)),K(ne(O)),K(Q(se)),K(ne(fe)),K(Q(xe)),K(ne(Be)),"c"].join(" ")),this};y.__private__.line=y.line=function(S,O,se,fe,xe){if(isNaN(S)||isNaN(O)||isNaN(se)||isNaN(fe)||!ps(xe))throw new Error("Invalid arguments passed to jsPDF.line");return H===j?this.lines([[se-S,fe-O]],S,O,[1,1],xe||"S"):this.lines([[se-S,fe-O]],S,O,[1,1]).stroke()},y.__private__.lines=y.lines=function(S,O,se,fe,xe,Be){var Ye,ft,bt,Mt,zt,an,$n,li,Mn,Ei,mi,Ui;if(typeof S=="number"&&(Ui=se,se=O,O=S,S=Ui),fe=fe||[1,1],Be=Be||!1,isNaN(O)||isNaN(se)||!Array.isArray(S)||!Array.isArray(fe)||!ps(xe)||typeof Be!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Kc(O,se),Ye=fe[0],ft=fe[1],Mt=S.length,Ei=O,mi=se,bt=0;bt<Mt;bt++)(zt=S[bt]).length===2?(Ei=zt[0]*Ye+Ei,mi=zt[1]*ft+mi,Ju(Ei,mi)):(an=zt[0]*Ye+Ei,$n=zt[1]*ft+mi,li=zt[2]*Ye+Ei,Mn=zt[3]*ft+mi,Ei=zt[4]*Ye+Ei,mi=zt[5]*ft+mi,xs(an,$n,li,Mn,Ei,mi));return Be&&$c(),Mo(xe),this},y.path=function(S){for(var O=0;O<S.length;O++){var se=S[O],fe=se.c;switch(se.op){case"m":Kc(fe[0],fe[1]);break;case"l":Ju(fe[0],fe[1]);break;case"c":xs.apply(this,fe);break;case"h":$c()}}return this},y.__private__.rect=y.rect=function(S,O,se,fe,xe){if(isNaN(S)||isNaN(O)||isNaN(se)||isNaN(fe)||!ps(xe))throw new Error("Invalid arguments passed to jsPDF.rect");return H===j&&(fe=-fe),ee([K(Q(S)),K(ne(O)),K(Q(se)),K(Q(fe)),"re"].join(" ")),Mo(xe),this},y.__private__.triangle=y.triangle=function(S,O,se,fe,xe,Be,Ye){if(isNaN(S)||isNaN(O)||isNaN(se)||isNaN(fe)||isNaN(xe)||isNaN(Be)||!ps(Ye))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[se-S,fe-O],[xe-se,Be-fe],[S-xe,O-Be]],S,O,[1,1],Ye,!0),this},y.__private__.roundedRect=y.roundedRect=function(S,O,se,fe,xe,Be,Ye){if(isNaN(S)||isNaN(O)||isNaN(se)||isNaN(fe)||isNaN(xe)||isNaN(Be)||!ps(Ye))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var ft=4/3*(Math.SQRT2-1);return xe=Math.min(xe,.5*se),Be=Math.min(Be,.5*fe),this.lines([[se-2*xe,0],[xe*ft,0,xe,Be-Be*ft,xe,Be],[0,fe-2*Be],[0,Be*ft,-xe*ft,Be,-xe,Be],[2*xe-se,0],[-xe*ft,0,-xe,-Be*ft,-xe,-Be],[0,2*Be-fe],[0,-Be*ft,xe*ft,-Be,xe,-Be]],S+xe,O,[1,1],Ye,!0),this},y.__private__.ellipse=y.ellipse=function(S,O,se,fe,xe){if(isNaN(S)||isNaN(O)||isNaN(se)||isNaN(fe)||!ps(xe))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Be=4/3*(Math.SQRT2-1)*se,Ye=4/3*(Math.SQRT2-1)*fe;return Kc(S+se,O),xs(S+se,O-Ye,S+Be,O-fe,S,O-fe),xs(S-Be,O-fe,S-se,O-Ye,S-se,O),xs(S-se,O+Ye,S-Be,O+fe,S,O+fe),xs(S+Be,O+fe,S+se,O+Ye,S+se,O),Mo(xe),this},y.__private__.circle=y.circle=function(S,O,se,fe){if(isNaN(S)||isNaN(O)||isNaN(se)||!ps(fe))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(S,O,se,se,fe)},y.setFont=function(S,O,se){return se&&(O=ae(O,se)),at=$u(S,O,{disableWarning:!1}),this};var Ar=y.__private__.getFont=y.getFont=function(){return De[$u.apply(y,arguments)]};y.__private__.getFontList=y.getFontList=function(){var S,O,se={};for(S in Xe)if(Xe.hasOwnProperty(S))for(O in se[S]=[],Xe[S])Xe[S].hasOwnProperty(O)&&se[S].push(O);return se},y.addFont=function(S,O,se,fe,xe){var Be=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Be.indexOf(arguments[3])!==-1?xe=arguments[3]:arguments[3]&&Be.indexOf(arguments[3])==-1&&(se=ae(se,fe)),zc.call(this,S,O,se,xe=xe||"Identity-H")};var fa,Oo=n.lineWidth||.200025,Za=y.__private__.getLineWidth=y.getLineWidth=function(){return Oo},Tt=y.__private__.setLineWidth=y.setLineWidth=function(S){return Oo=S,ee(K(Q(S))+" w"),this};y.__private__.setLineDash=wt.API.setLineDash=wt.API.setLineDashPattern=function(S,O){if(S=S||[],O=O||0,isNaN(O)||!Array.isArray(S))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return S=S.map(function(se){return K(Q(se))}).join(" "),O=K(Q(O)),ee("["+S+"] "+O+" d"),this};var Zu=y.__private__.getLineHeight=y.getLineHeight=function(){return Le*fa};y.__private__.getLineHeight=y.getLineHeight=function(){return Le*fa};var Qc=y.__private__.setLineHeightFactor=y.setLineHeightFactor=function(S){return typeof(S=S||1.15)=="number"&&(fa=S),this},eh=y.__private__.getLineHeightFactor=y.getLineHeightFactor=function(){return fa};Qc(n.lineHeight);var Fs=y.__private__.getHorizontalCoordinate=function(S){return Q(S)},zi=y.__private__.getVerticalCoordinate=function(S){return H===q?S:xt[D].mediaBox.topRightY-xt[D].mediaBox.bottomLeftY-Q(S)},Jc=y.__private__.getHorizontalCoordinateString=y.getHorizontalCoordinateString=function(S){return K(Fs(S))},Io=y.__private__.getVerticalCoordinateString=y.getVerticalCoordinateString=function(S){return K(zi(S))},Bs=n.strokeColor||"0 G";y.__private__.getStrokeColor=y.getDrawColor=function(){return Yn(Bs)},y.__private__.setStrokeColor=y.setDrawColor=function(S,O,se,fe){return Bs=es({ch1:S,ch2:O,ch3:se,ch4:fe,pdfColorType:"draw",precision:2}),ee(Bs),this};var Po=n.fillColor||"0 g";y.__private__.getFillColor=y.getFillColor=function(){return Yn(Po)},y.__private__.setFillColor=y.setFillColor=function(S,O,se,fe){return Po=es({ch1:S,ch2:O,ch3:se,ch4:fe,pdfColorType:"fill",precision:2}),ee(Po),this};var Hr=n.textColor||"0 g",th=y.__private__.getTextColor=y.getTextColor=function(){return Yn(Hr)};y.__private__.setTextColor=y.setTextColor=function(S,O,se,fe){return Hr=es({ch1:S,ch2:O,ch3:se,ch4:fe,pdfColorType:"text",precision:3}),this};var $s=n.charSpace,Ol=y.__private__.getCharSpace=y.getCharSpace=function(){return parseFloat($s||0)};y.__private__.setCharSpace=y.setCharSpace=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return $s=S,this};var Il=0;y.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},y.__private__.setLineCap=y.setLineCap=function(S){var O=y.CapJoinStyles[S];if(O===void 0)throw new Error("Line cap style of '"+S+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Il=O,ee(O+" J"),this};var Ii=0;y.__private__.setLineJoin=y.setLineJoin=function(S){var O=y.CapJoinStyles[S];if(O===void 0)throw new Error("Line join style of '"+S+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Ii=O,ee(O+" j"),this},y.__private__.setLineMiterLimit=y.__private__.setMiterLimit=y.setLineMiterLimit=y.setMiterLimit=function(S){if(S=S||0,isNaN(S))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ee(K(Q(S))+" M"),this},y.GState=Hm,y.setGState=function(S){(S=typeof S=="string"?Rt[It[S]]:qr(null,S)).equals(Nn)||(ee("/"+S.id+" gs"),Nn=S)};var qr=function(S,O){if(!S||!It[S]){var se=!1;for(var fe in Rt)if(Rt.hasOwnProperty(fe)&&Rt[fe].equals(O)){se=!0;break}if(se)O=Rt[fe];else{var xe="GS"+(Object.keys(Rt).length+1).toString(10);Rt[xe]=O,O.id=xe}return S&&(It[S]=O.id),rn.publish("addGState",O),O}};y.addGState=function(S,O){return qr(S,O),this},y.saveGraphicsState=function(){return ee("q"),Ct.push({key:at,size:Le,color:Hr}),this},y.restoreGraphicsState=function(){ee("Q");var S=Ct.pop();return at=S.key,Le=S.size,Hr=S.color,Nn=null,this},y.setCurrentTransformationMatrix=function(S){return ee(S.toString()+" cm"),this},y.comment=function(S){return ee("#"+S),this};var Xs=function(S,O){var se=S||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return se},set:function(Be){isNaN(Be)||(se=parseFloat(Be))}});var fe=O||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return fe},set:function(Be){isNaN(Be)||(fe=parseFloat(Be))}});var xe="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return xe},set:function(Be){xe=Be.toString()}}),this},da=function(S,O,se,fe){Xs.call(this,S,O),this.type="rect";var xe=se||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return xe},set:function(Ye){isNaN(Ye)||(xe=parseFloat(Ye))}});var Be=fe||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Be},set:function(Ye){isNaN(Ye)||(Be=parseFloat(Ye))}}),this},Pl=function(){this.page=Wt,this.currentPage=D,this.pages=$e.slice(0),this.pagesContext=xt.slice(0),this.x=pt,this.y=wn,this.matrix=me,this.width=ga(D),this.height=Zc(D),this.outputDestination=it,this.id="",this.objectNumber=-1};Pl.prototype.restore=function(){Wt=this.page,D=this.currentPage,xt=this.pagesContext,$e=this.pages,pt=this.x,wn=this.y,me=this.matrix,Fo(D,this.width),ma(D,this.height),it=this.outputDestination};var jo=function(S,O,se,fe,xe){Gs.push(new Pl),Wt=D=0,$e=[],pt=S,wn=O,me=xe,wr([se,fe])};for(var pa in y.beginFormObject=function(S,O,se,fe,xe){return jo(S,O,se,fe,xe),this},y.endFormObject=function(S){return(function(O){if(Fr[O])Gs.pop().restore();else{var se=new Pl,fe="Xo"+(Object.keys(Zi).length+1).toString(10);se.id=fe,Fr[O]=fe,Zi[fe]=se,rn.publish("addFormObject",se),Gs.pop().restore()}})(S),this},y.doFormObject=function(S,O){var se=Zi[Fr[S]];return ee("q"),ee(O.toString()+" cm"),ee("/"+se.id+" Do"),ee("Q"),this},y.getFormObject=function(S){var O=Zi[Fr[S]];return{x:O.x,y:O.y,width:O.width,height:O.height,matrix:O.matrix}},y.save=function(S,O){return S=S||"generated.pdf",(O=O||{}).returnPromise=O.returnPromise||!1,O.returnPromise===!1?(Cu(Ja(Ur()),S),typeof Cu.unload=="function"&&jt.setTimeout&&setTimeout(Cu.unload,911),this):new Promise(function(se,fe){try{var xe=Cu(Ja(Ur()),S);typeof Cu.unload=="function"&&jt.setTimeout&&setTimeout(Cu.unload,911),se(xe)}catch(Be){fe(Be.message)}})},wt.API)wt.API.hasOwnProperty(pa)&&(pa==="events"&&wt.API.events.length?(function(S,O){var se,fe,xe;for(xe=O.length-1;xe!==-1;xe--)se=O[xe][0],fe=O[xe][1],S.subscribe.apply(S,[se].concat(typeof fe=="function"?[fe]:fe))})(rn,wt.API.events):y[pa]=wt.API[pa]);function ga(S){return xt[S].mediaBox.topRightX-xt[S].mediaBox.bottomLeftX}function Fo(S,O){xt[S].mediaBox.topRightX=O+xt[S].mediaBox.bottomLeftX}function Zc(S){return xt[S].mediaBox.topRightY-xt[S].mediaBox.bottomLeftY}function ma(S,O){xt[S].mediaBox.topRightY=O+xt[S].mediaBox.bottomLeftY}var ya=y.getPageWidth=function(S){return ga(S=S||D)/St},nh=y.setPageWidth=function(S,O){Fo(S,O*St)},va=y.getPageHeight=function(S){return Zc(S=S||D)/St},ih=y.setPageHeight=function(S,O){ma(S,O*St)};return y.internal={pdfEscape:Ps,getStyle:Yc,getFont:Ar,getFontSize:Ge,getCharSpace:Ol,getTextColor:th,getLineHeight:Zu,getLineHeightFactor:eh,getLineWidth:Za,write:nt,getHorizontalCoordinate:Fs,getVerticalCoordinate:zi,getCoordinateString:Jc,getVerticalCoordinateString:Io,collections:{},newObject:Vn,newAdditionalObject:Ka,newObjectDeferred:pi,newObjectDeferredBegin:Oi,getFilters:Is,putStream:Ys,events:rn,scaleFactor:St,pageSize:{getWidth:function(){return ya(D)},setWidth:function(S){nh(D,S)},getHeight:function(){return va(D)},setHeight:function(S){ih(D,S)}},encryptionOptions:p,encryption:Ci,getEncryptor:function(S){return p!==null?Ci.encryptor(S,0):function(O){return O}},output:Vc,getNumberOfPages:qc,get pages(){return $e},out:ee,f2:P,f3:M,getPageInfo:gi,getPageInfoByObjId:Ml,getCurrentPageInfo:Xu,getPDFVersion:E,Point:Xs,Rectangle:da,Matrix:Nt,hasHotfix:ds},Object.defineProperty(y.internal.pageSize,"width",{get:function(){return ya(D)},set:function(S){nh(D,S)},enumerable:!0,configurable:!0}),Object.defineProperty(y.internal.pageSize,"height",{get:function(){return va(D)},set:function(S){ih(D,S)},enumerable:!0,configurable:!0}),(function(S){for(var O=0,se=He.length;O<se;O++){var fe=zc.call(this,S[O][0],S[O][1],S[O][2],He[O][3],!0);m===!1&&(b[fe]=!0);var xe=S[O][0].split("-");oi({id:fe,fontName:xe[0],fontStyle:xe[1]||""})}rn.publish("addFonts",{fonts:De,dictionary:Xe})}).call(y,He),at="F1",ua(s,t),rn.publish("initialized"),y}Wh.prototype.lsbFirstWord=function(n){return String.fromCharCode(255&n,n>>8&255,n>>16&255,n>>24&255)},Wh.prototype.toHexString=function(n){return n.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Wh.prototype.hexToBytes=function(n){for(var e=[],t=0;t<n.length;t+=2)e.push(String.fromCharCode(parseInt(n.substr(t,2),16)));return e.join("")},Wh.prototype.processOwnerPassword=function(n,e){return Ay(Ny(e).substr(0,5),n)},Wh.prototype.encryptor=function(n,e){var t=Ny(this.encryptionKey+String.fromCharCode(255&n,n>>8&255,n>>16&255,255&e,e>>8&255)).substr(0,10);return function(i){return Ay(t,i)}},Hm.prototype.equals=function(n){var e,t="id,objectNumber,equals";if(!n||Ln(n)!==Ln(this))return!1;var i=0;for(e in this)if(!(t.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!n.hasOwnProperty(e)||this[e]!==n[e])return!1;i++}for(e in n)n.hasOwnProperty(e)&&t.indexOf(e)<0&&i--;return i===0},wt.API={events:[]},wt.version="3.0.4";var Si=wt.API,eb=1,Yu=function(n){return n.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Hh=function(n){return n.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},qt=function(n){return n.toFixed(2)},mc=function(n){return n.toFixed(5)};Si.__acroform__={};var mr=function(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n},a3=function(n){return n*eb},xo=function(n){var e=new H6,t=mt.internal.getHeight(n)||0,i=mt.internal.getWidth(n)||0;return e.BBox=[0,0,Number(qt(i)),Number(qt(t))],e},jB=Si.__acroform__.setBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return n|1<<e},FB=Si.__acroform__.clearBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return n&~(1<<e)},BB=Si.__acroform__.getBit=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return n&1<<e?1:0},Li=Si.__acroform__.getBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return BB(n,e-1)},Ri=Si.__acroform__.setBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return jB(n,e-1)},Di=Si.__acroform__.clearBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return FB(n,e-1)},zB=Si.__acroform__.calculateCoordinates=function(n,e){var t=e.internal.getHorizontalCoordinate,i=e.internal.getVerticalCoordinate,s=n[0],a=n[1],l=n[2],c=n[3],h={};return h.lowerLeft_X=t(s)||0,h.lowerLeft_Y=i(a+c)||0,h.upperRight_X=t(s+l)||0,h.upperRight_Y=i(a)||0,[Number(qt(h.lowerLeft_X)),Number(qt(h.lowerLeft_Y)),Number(qt(h.upperRight_X)),Number(qt(h.upperRight_Y))]},UB=function(n){if(n.appearanceStreamContent)return n.appearanceStreamContent;if(n.V||n.DV){var e=[],t=n._V||n.DV,i=Cy(n,t),s=n.scope.internal.getFont(n.fontName,n.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(n.scope.__private__.encodeColorString(n.color)),e.push("/"+s+" "+qt(i.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(i.text),e.push("ET"),e.push("Q"),e.push("EMC");var a=xo(n);return a.scope=n.scope,a.stream=e.join(`
`),a}},Cy=function(n,e){var t=n.fontSize===0?n.maxFontSize:n.fontSize,i={text:"",fontSize:""},s=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");s=n.multiline?s.map(function(P){return P.split(`
`)}):s.map(function(P){return[P]});var a=t,l=mt.internal.getHeight(n)||0;l=l<0?-l:l;var c=mt.internal.getWidth(n)||0;c=c<0?-c:c;var h=function(P,M,Q){if(P+1<s.length){var ne=M+" "+s[P+1][0];return Wg(ne,n,Q).width<=c-4}return!1};a++;e:for(;a>0;){e="",a--;var f,p,m=Wg("3",n,a).height,b=n.multiline?l-a:(l-m)/2,y=b+=2,N=0,E=0,k=0;if(a<=0){e=`(...) Tj
`,e+="% Width of Text: "+Wg(e,n,a=12).width+", FieldWidth:"+c+`
`;break}for(var T="",j=0,q=0;q<s.length;q++)if(s.hasOwnProperty(q)){var H=!1;if(s[q].length!==1&&k!==s[q].length-1){if((m+2)*(j+2)+2>l)continue e;T+=s[q][k],H=!0,E=q,q--}else{T=(T+=s[q][k]+" ").substr(T.length-1)==" "?T.substr(0,T.length-1):T;var V=parseInt(q),oe=h(V,T,a),ae=q>=s.length-1;if(oe&&!ae){T+=" ",k=0;continue}if(oe||ae){if(ae)E=V;else if(n.multiline&&(m+2)*(j+2)+2>l)continue e}else{if(!n.multiline||(m+2)*(j+2)+2>l)continue e;E=V}}for(var K="",Y=N;Y<=E;Y++){var ue=s[Y];if(n.multiline){if(Y===E){K+=ue[k]+" ",k=(k+1)%ue.length;continue}if(Y===N){K+=ue[ue.length-1]+" ";continue}}K+=ue[0]+" "}switch(K=K.substr(K.length-1)==" "?K.substr(0,K.length-1):K,p=Wg(K,n,a).width,n.textAlign){case"right":f=c-p-2;break;case"center":f=(c-p)/2;break;default:f=2}e+=qt(f)+" "+qt(y)+` Td
`,e+="("+Yu(K)+`) Tj
`,e+=-qt(f)+` 0 Td
`,y=-(a+2),p=0,N=H?E:E+1,j++,T=""}break}return i.text=e,i.fontSize=a,i},Wg=function(n,e,t){var i=e.scope.internal.getFont(e.fontName,e.fontStyle),s=e.scope.getStringUnitWidth(n,{font:i,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:e.scope.getStringUnitWidth("3",{font:i,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:s}},HB={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},qB=function(n,e){var t={type:"reference",object:n};e.internal.getPageInfo(n.page).pageContext.annotations.find(function(i){return i.type===t.type&&i.object===t.object})===void 0&&e.internal.getPageInfo(n.page).pageContext.annotations.push(t)},WB=function(n,e){if(e.scope=n,n.internal!==void 0&&(n.internal.acroformPlugin===void 0||n.internal.acroformPlugin.isInitialized===!1)){if($a.FieldNum=0,n.internal.acroformPlugin=JSON.parse(JSON.stringify(HB)),n.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");eb=n.internal.scaleFactor,n.internal.acroformPlugin.acroFormDictionaryRoot=new q6,n.internal.acroformPlugin.acroFormDictionaryRoot.scope=n,n.internal.acroformPlugin.acroFormDictionaryRoot._eventID=n.internal.events.subscribe("postPutResources",function(){(function(t){t.internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0})(n)}),n.internal.events.subscribe("buildDocument",function(){(function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var i=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var s in i)if(i.hasOwnProperty(s)){var a=i[s];a.objId=void 0,a.hasAnnotation&&qB(a,t)}})(n)}),n.internal.events.subscribe("putCatalog",function(){(function(t){if(t.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(n)}),n.internal.events.subscribe("postPutPages",function(t){(function(i,s){var a=!i;for(var l in i||(s.internal.newObjectDeferredBegin(s.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),s.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),i=i||s.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(i.hasOwnProperty(l)){var c=i[l],h=[],f=c.Rect;if(c.Rect&&(c.Rect=zB(c.Rect,s)),s.internal.newObjectDeferredBegin(c.objId,!0),c.DA=mt.createDefaultAppearanceStream(c),Ln(c)==="object"&&typeof c.getKeyValueListForStream=="function"&&(h=c.getKeyValueListForStream()),c.Rect=f,c.hasAppearanceStream&&!c.appearanceStreamContent){var p=UB(c);h.push({key:"AP",value:"<</N "+p+">>"}),s.internal.acroformPlugin.xForms.push(p)}if(c.appearanceStreamContent){var m="";for(var b in c.appearanceStreamContent)if(c.appearanceStreamContent.hasOwnProperty(b)){var y=c.appearanceStreamContent[b];if(m+="/"+b+" ",m+="<<",Object.keys(y).length>=1||Array.isArray(y)){for(var l in y)if(y.hasOwnProperty(l)){var N=y[l];typeof N=="function"&&(N=N.call(s,c)),m+="/"+l+" "+N+" ",s.internal.acroformPlugin.xForms.indexOf(N)>=0||s.internal.acroformPlugin.xForms.push(N)}}else typeof(N=y)=="function"&&(N=N.call(s,c)),m+="/"+l+" "+N,s.internal.acroformPlugin.xForms.indexOf(N)>=0||s.internal.acroformPlugin.xForms.push(N);m+=">>"}h.push({key:"AP",value:`<<
`+m+">>"})}s.internal.putStream({additionalKeyValues:h,objectId:c.objId}),s.internal.out("endobj")}a&&(function(E,k){for(var T in E)if(E.hasOwnProperty(T)){var j=T,q=E[T];k.internal.newObjectDeferredBegin(q.objId,!0),Ln(q)==="object"&&typeof q.putStream=="function"&&q.putStream(),delete E[j]}})(s.internal.acroformPlugin.xForms,s)})(t,n)}),n.internal.acroformPlugin.isInitialized=!0}},U6=Si.__acroform__.arrayToPdfArray=function(n,e,t){var i=function(l){return l};if(Array.isArray(n)){for(var s="[",a=0;a<n.length;a++)switch(a!==0&&(s+=" "),Ln(n[a])){case"boolean":case"number":case"object":s+=n[a].toString();break;case"string":n[a].substr(0,1)!=="/"?(e!==void 0&&t&&(i=t.internal.getEncryptor(e)),s+="("+Yu(i(n[a].toString()))+")"):s+=n[a].toString()}return s+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},E2=function(n,e,t){var i=function(s){return s};return e!==void 0&&t&&(i=t.internal.getEncryptor(e)),(n=n||"").toString(),"("+Yu(i(n))+")"},So=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(n){this._objId=n}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};So.prototype.toString=function(){return this.objId+" 0 R"},So.prototype.putStream=function(){var n=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:n,objectId:this.objId}),this.scope.internal.out("endobj")},So.prototype.getKeyValueListForStream=function(){var n=[],e=Object.getOwnPropertyNames(this).filter(function(a){return a!="content"&&a!="appearanceStreamContent"&&a!="scope"&&a!="objId"&&a.substring(0,1)!="_"});for(var t in e)if(Object.getOwnPropertyDescriptor(this,e[t]).configurable===!1){var i=e[t],s=this[i];s&&(Array.isArray(s)?n.push({key:i,value:U6(s,this.objId,this.scope)}):s instanceof So?(s.scope=this.scope,n.push({key:i,value:s.objId+" 0 R"})):typeof s!="function"&&n.push({key:i,value:s}))}return n};var H6=function(){So.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var n,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){n=t.trim()},get:function(){return n||null}})};mr(H6,So);var q6=function(){So.call(this);var n,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(n){var t=function(i){return i};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+Yu(t(n))+")"}},set:function(t){n=t}})};mr(q6,So);var $a=function n(){So.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(T){if(isNaN(T))throw new Error('Invalid value "'+T+'" for attribute F supplied.');e=T}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Li(e,3)},set:function(T){T?this.F=Ri(e,3):this.F=Di(e,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(T){if(isNaN(T))throw new Error('Invalid value "'+T+'" for attribute Ff supplied.');t=T}});var i=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(i.length!==0)return i},set:function(T){i=T!==void 0?T:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[0])?0:i[0]},set:function(T){i[0]=T}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[1])?0:i[1]},set:function(T){i[1]=T}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[2])?0:i[2]},set:function(T){i[2]=T}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[3])?0:i[3]},set:function(T){i[3]=T}});var s="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return s},set:function(T){switch(T){case"/Btn":case"/Tx":case"/Ch":case"/Sig":s=T;break;default:throw new Error('Invalid value "'+T+'" for attribute FT supplied.')}}});var a=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!a||a.length<1){if(this instanceof qm)return;a="FieldObject"+n.FieldNum++}var T=function(j){return j};return this.scope&&(T=this.scope.internal.getEncryptor(this.objId)),"("+Yu(T(a))+")"},set:function(T){a=T.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return a},set:function(T){a=T}});var l="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return l},set:function(T){l=T}});var c="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return c},set:function(T){c=T}});var h=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return h},set:function(T){h=T}});var f=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return f===void 0?50/eb:f},set:function(T){f=T}});var p="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return p},set:function(T){p=T}});var m="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!m||this instanceof qm||this instanceof Du))return E2(m,this.objId,this.scope)},set:function(T){T=T.toString(),m=T}});var b=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(b)return this instanceof cs==0?E2(b,this.objId,this.scope):b},set:function(T){T=T.toString(),b=this instanceof cs==0?T.substr(0,1)==="("?Hh(T.substr(1,T.length-2)):Hh(T):T}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof cs==1?Hh(b.substr(1,b.length-1)):b},set:function(T){T=T.toString(),b=this instanceof cs==1?"/"+T:T}});var y=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(y)return y},set:function(T){this.V=T}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(y)return this instanceof cs==0?E2(y,this.objId,this.scope):y},set:function(T){T=T.toString(),y=this instanceof cs==0?T.substr(0,1)==="("?Hh(T.substr(1,T.length-2)):Hh(T):T}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof cs==1?Hh(y.substr(1,y.length-1)):y},set:function(T){T=T.toString(),y=this instanceof cs==1?"/"+T:T}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var N,E=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return E},set:function(T){T=!!T,E=T}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(N)return N},set:function(T){N=T}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Li(this.Ff,1)},set:function(T){T?this.Ff=Ri(this.Ff,1):this.Ff=Di(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Li(this.Ff,2)},set:function(T){T?this.Ff=Ri(this.Ff,2):this.Ff=Di(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Li(this.Ff,3)},set:function(T){T?this.Ff=Ri(this.Ff,3):this.Ff=Di(this.Ff,3)}});var k=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(k!==null)return k},set:function(T){if([0,1,2].indexOf(T)===-1)throw new Error('Invalid value "'+T+'" for attribute Q supplied.');k=T}}),Object.defineProperty(this,"textAlign",{get:function(){var T;switch(k){case 0:default:T="left";break;case 1:T="center";break;case 2:T="right"}return T},configurable:!0,enumerable:!0,set:function(T){switch(T){case"right":case 2:k=2;break;case"center":case 1:k=1;break;default:k=0}}})};mr($a,So);var nf=function(){$a.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var n=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return n},set:function(t){n=t}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return U6(e,this.objId,this.scope)},set:function(t){var i,s;s=[],typeof(i=t)=="string"&&(s=(function(a,l,c){c||(c=1);for(var h,f=[];h=l.exec(a);)f.push(h[c]);return f})(i,/\((.*?)\)/g)),e=s}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,i){for(i=i||!1,t=(t=t||"").toString();e.indexOf(t)!==-1&&(e.splice(e.indexOf(t),1),i!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Li(this.Ff,18)},set:function(t){t?this.Ff=Ri(this.Ff,18):this.Ff=Di(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Li(this.Ff,19)},set:function(t){this.combo===!0&&(t?this.Ff=Ri(this.Ff,19):this.Ff=Di(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Li(this.Ff,20)},set:function(t){t?(this.Ff=Ri(this.Ff,20),e.sort()):this.Ff=Di(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Li(this.Ff,22)},set:function(t){t?this.Ff=Ri(this.Ff,22):this.Ff=Di(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Li(this.Ff,23)},set:function(t){t?this.Ff=Ri(this.Ff,23):this.Ff=Di(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Li(this.Ff,27)},set:function(t){t?this.Ff=Ri(this.Ff,27):this.Ff=Di(this.Ff,27)}}),this.hasAppearanceStream=!1};mr(nf,$a);var sf=function(){nf.call(this),this.fontName="helvetica",this.combo=!1};mr(sf,nf);var rf=function(){sf.call(this),this.combo=!0};mr(rf,sf);var am=function(){rf.call(this),this.edit=!0};mr(am,rf);var cs=function(){$a.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Li(this.Ff,15)},set:function(t){t?this.Ff=Ri(this.Ff,15):this.Ff=Di(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Li(this.Ff,16)},set:function(t){t?this.Ff=Ri(this.Ff,16):this.Ff=Di(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Li(this.Ff,17)},set:function(t){t?this.Ff=Ri(this.Ff,17):this.Ff=Di(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Li(this.Ff,26)},set:function(t){t?this.Ff=Ri(this.Ff,26):this.Ff=Di(this.Ff,26)}});var n,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(a){return a};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var i,s=[];for(i in s.push("<<"),e)s.push("/"+i+" ("+Yu(t(e[i]))+")");return s.push(">>"),s.join(`
`)}},set:function(t){Ln(t)==="object"&&(e=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(t){typeof t=="string"&&(e.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(t){n="/"+t}})};mr(cs,$a);var om=function(){cs.call(this),this.pushButton=!0};mr(om,cs);var af=function(){cs.call(this),this.radio=!0,this.pushButton=!1;var n=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e!==void 0?e:[]}})};mr(af,cs);var qm=function(){var n,e;$a.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return n},set:function(s){n=s}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(s){e=s}});var t,i={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var s=function(c){return c};this.scope&&(s=this.scope.internal.getEncryptor(this.objId));var a,l=[];for(a in l.push("<<"),i)l.push("/"+a+" ("+Yu(s(i[a]))+")");return l.push(">>"),l.join(`
`)},set:function(s){Ln(s)==="object"&&(i=s)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return i.CA||""},set:function(s){typeof s=="string"&&(i.CA=s)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(s){t=s}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(s){t="/"+s}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=mt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};mr(qm,$a),af.prototype.setAppearance=function(n){if(!("createAppearanceStream"in n)||!("getCA"in n))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var t=this.Kids[e];t.appearanceStreamContent=n.createAppearanceStream(t.optionName),t.caption=n.getCA()}},af.prototype.createOption=function(n){var e=new qm;return e.Parent=this,e.optionName=n,this.Kids.push(e),VB.call(this.scope,e),e};var lm=function(){cs.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=mt.CheckBox.createAppearanceStream()};mr(lm,cs);var Du=function(){$a.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Li(this.Ff,13)},set:function(e){e?this.Ff=Ri(this.Ff,13):this.Ff=Di(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Li(this.Ff,21)},set:function(e){e?this.Ff=Ri(this.Ff,21):this.Ff=Di(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Li(this.Ff,23)},set:function(e){e?this.Ff=Ri(this.Ff,23):this.Ff=Di(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Li(this.Ff,24)},set:function(e){e?this.Ff=Ri(this.Ff,24):this.Ff=Di(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Li(this.Ff,25)},set:function(e){e?this.Ff=Ri(this.Ff,25):this.Ff=Di(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Li(this.Ff,26)},set:function(e){e?this.Ff=Ri(this.Ff,26):this.Ff=Di(this.Ff,26)}});var n=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return n},set:function(e){Number.isInteger(e)&&(n=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};mr(Du,$a);var cm=function(){Du.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Li(this.Ff,14)},set:function(n){n?this.Ff=Ri(this.Ff,14):this.Ff=Di(this.Ff,14)}}),this.password=!0};mr(cm,Du);var mt={CheckBox:{createAppearanceStream:function(){return{N:{On:mt.CheckBox.YesNormal},D:{On:mt.CheckBox.YesPushDown,Off:mt.CheckBox.OffPushDown}}},YesPushDown:function(n){var e=xo(n);e.scope=n.scope;var t=[],i=n.scope.internal.getFont(n.fontName,n.fontStyle).id,s=n.scope.__private__.encodeColorString(n.color),a=Cy(n,n.caption);return t.push("0.749023 g"),t.push("0 0 "+qt(mt.internal.getWidth(n))+" "+qt(mt.internal.getHeight(n))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+i+" "+qt(a.fontSize)+" Tf "+s),t.push("BT"),t.push(a.text),t.push("ET"),t.push("Q"),t.push("EMC"),e.stream=t.join(`
`),e},YesNormal:function(n){var e=xo(n);e.scope=n.scope;var t=n.scope.internal.getFont(n.fontName,n.fontStyle).id,i=n.scope.__private__.encodeColorString(n.color),s=[],a=mt.internal.getHeight(n),l=mt.internal.getWidth(n),c=Cy(n,n.caption);return s.push("1 g"),s.push("0 0 "+qt(l)+" "+qt(a)+" re"),s.push("f"),s.push("q"),s.push("0 0 1 rg"),s.push("0 0 "+qt(l-1)+" "+qt(a-1)+" re"),s.push("W"),s.push("n"),s.push("0 g"),s.push("BT"),s.push("/"+t+" "+qt(c.fontSize)+" Tf "+i),s.push(c.text),s.push("ET"),s.push("Q"),e.stream=s.join(`
`),e},OffPushDown:function(n){var e=xo(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+qt(mt.internal.getWidth(n))+" "+qt(mt.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(n){var e={D:{Off:mt.RadioButton.Circle.OffPushDown},N:{}};return e.N[n]=mt.RadioButton.Circle.YesNormal,e.D[n]=mt.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(n){var e=xo(n);e.scope=n.scope;var t=[],i=mt.internal.getWidth(n)<=mt.internal.getHeight(n)?mt.internal.getWidth(n)/4:mt.internal.getHeight(n)/4;i=Number((.9*i).toFixed(5));var s=mt.internal.Bezier_C,a=Number((i*s).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+mc(mt.internal.getWidth(n)/2)+" "+mc(mt.internal.getHeight(n)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),t.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),t.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),t.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=xo(n);e.scope=n.scope;var t=[],i=mt.internal.getWidth(n)<=mt.internal.getHeight(n)?mt.internal.getWidth(n)/4:mt.internal.getHeight(n)/4;i=Number((.9*i).toFixed(5));var s=Number((2*i).toFixed(5)),a=Number((s*mt.internal.Bezier_C).toFixed(5)),l=Number((i*mt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+mc(mt.internal.getWidth(n)/2)+" "+mc(mt.internal.getHeight(n)/2)+" cm"),t.push(s+" 0 m"),t.push(s+" "+a+" "+a+" "+s+" 0 "+s+" c"),t.push("-"+a+" "+s+" -"+s+" "+a+" -"+s+" 0 c"),t.push("-"+s+" -"+a+" -"+a+" -"+s+" 0 -"+s+" c"),t.push(a+" -"+s+" "+s+" -"+a+" "+s+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+mc(mt.internal.getWidth(n)/2)+" "+mc(mt.internal.getHeight(n)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+l+" "+l+" "+i+" 0 "+i+" c"),t.push("-"+l+" "+i+" -"+i+" "+l+" -"+i+" 0 c"),t.push("-"+i+" -"+l+" -"+l+" -"+i+" 0 -"+i+" c"),t.push(l+" -"+i+" "+i+" -"+l+" "+i+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},OffPushDown:function(n){var e=xo(n);e.scope=n.scope;var t=[],i=mt.internal.getWidth(n)<=mt.internal.getHeight(n)?mt.internal.getWidth(n)/4:mt.internal.getHeight(n)/4;i=Number((.9*i).toFixed(5));var s=Number((2*i).toFixed(5)),a=Number((s*mt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+mc(mt.internal.getWidth(n)/2)+" "+mc(mt.internal.getHeight(n)/2)+" cm"),t.push(s+" 0 m"),t.push(s+" "+a+" "+a+" "+s+" 0 "+s+" c"),t.push("-"+a+" "+s+" -"+s+" "+a+" -"+s+" 0 c"),t.push("-"+s+" -"+a+" -"+a+" -"+s+" 0 -"+s+" c"),t.push(a+" -"+s+" "+s+" -"+a+" "+s+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e}},Cross:{createAppearanceStream:function(n){var e={D:{Off:mt.RadioButton.Cross.OffPushDown},N:{}};return e.N[n]=mt.RadioButton.Cross.YesNormal,e.D[n]=mt.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(n){var e=xo(n);e.scope=n.scope;var t=[],i=mt.internal.calculateCross(n);return t.push("q"),t.push("1 1 "+qt(mt.internal.getWidth(n)-2)+" "+qt(mt.internal.getHeight(n)-2)+" re"),t.push("W"),t.push("n"),t.push(qt(i.x1.x)+" "+qt(i.x1.y)+" m"),t.push(qt(i.x2.x)+" "+qt(i.x2.y)+" l"),t.push(qt(i.x4.x)+" "+qt(i.x4.y)+" m"),t.push(qt(i.x3.x)+" "+qt(i.x3.y)+" l"),t.push("s"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=xo(n);e.scope=n.scope;var t=mt.internal.calculateCross(n),i=[];return i.push("0.749023 g"),i.push("0 0 "+qt(mt.internal.getWidth(n))+" "+qt(mt.internal.getHeight(n))+" re"),i.push("f"),i.push("q"),i.push("1 1 "+qt(mt.internal.getWidth(n)-2)+" "+qt(mt.internal.getHeight(n)-2)+" re"),i.push("W"),i.push("n"),i.push(qt(t.x1.x)+" "+qt(t.x1.y)+" m"),i.push(qt(t.x2.x)+" "+qt(t.x2.y)+" l"),i.push(qt(t.x4.x)+" "+qt(t.x4.y)+" m"),i.push(qt(t.x3.x)+" "+qt(t.x3.y)+" l"),i.push("s"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(n){var e=xo(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+qt(mt.internal.getWidth(n))+" "+qt(mt.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}}},createDefaultAppearanceStream:function(n){var e=n.scope.internal.getFont(n.fontName,n.fontStyle).id,t=n.scope.__private__.encodeColorString(n.color);return"/"+e+" "+n.fontSize+" Tf "+t}};mt.internal={Bezier_C:.551915024494,calculateCross:function(n){var e=mt.internal.getWidth(n),t=mt.internal.getHeight(n),i=Math.min(e,t);return{x1:{x:(e-i)/2,y:(t-i)/2+i},x2:{x:(e-i)/2+i,y:(t-i)/2},x3:{x:(e-i)/2,y:(t-i)/2},x4:{x:(e-i)/2+i,y:(t-i)/2+i}}}},mt.internal.getWidth=function(n){var e=0;return Ln(n)==="object"&&(e=a3(n.Rect[2])),e},mt.internal.getHeight=function(n){var e=0;return Ln(n)==="object"&&(e=a3(n.Rect[3])),e};var VB=Si.addField=function(n){if(WB(this,n),!(n instanceof $a))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=n).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),n.page=n.scope.internal.getCurrentPageInfo().pageNumber,this};Si.AcroFormChoiceField=nf,Si.AcroFormListBox=sf,Si.AcroFormComboBox=rf,Si.AcroFormEditBox=am,Si.AcroFormButton=cs,Si.AcroFormPushButton=om,Si.AcroFormRadioButton=af,Si.AcroFormCheckBox=lm,Si.AcroFormTextField=Du,Si.AcroFormPasswordField=cm,Si.AcroFormAppearance=mt,Si.AcroForm={ChoiceField:nf,ListBox:sf,ComboBox:rf,EditBox:am,Button:cs,PushButton:om,RadioButton:af,CheckBox:lm,TextField:Du,PasswordField:cm,Appearance:mt},wt.AcroForm={ChoiceField:nf,ListBox:sf,ComboBox:rf,EditBox:am,Button:cs,PushButton:om,RadioButton:af,CheckBox:lm,TextField:Du,PasswordField:cm,Appearance:mt};wt.AcroForm;function W6(n){return n.reduce(function(e,t,i){return e[t]=i,e},{})}(function(n){var e="addImage_";n.__addimage__={};var t="UNKNOWN",i={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},s=n.__addimage__.getImageFileTypeByImageData=function(P,M){var Q,ne,pe,$,re,ce=t;if((M=M||t)==="RGBA"||P.data!==void 0&&P.data instanceof Uint8ClampedArray&&"height"in P&&"width"in P)return"RGBA";if(oe(P))for(re in i)for(pe=i[re],Q=0;Q<pe.length;Q+=1){for($=!0,ne=0;ne<pe[Q].length;ne+=1)if(pe[Q][ne]!==void 0&&pe[Q][ne]!==P[ne]){$=!1;break}if($===!0){ce=re;break}}else for(re in i)for(pe=i[re],Q=0;Q<pe.length;Q+=1){for($=!0,ne=0;ne<pe[Q].length;ne+=1)if(pe[Q][ne]!==void 0&&pe[Q][ne]!==P.charCodeAt(ne)){$=!1;break}if($===!0){ce=re;break}}return ce===t&&M!==t&&(ce=M),ce},a=function P(M){for(var Q=this.internal.write,ne=this.internal.putStream,pe=(0,this.internal.getFilters)();pe.indexOf("FlateEncode")!==-1;)pe.splice(pe.indexOf("FlateEncode"),1);M.objectId=this.internal.newObject();var $=[];if($.push({key:"Type",value:"/XObject"}),$.push({key:"Subtype",value:"/Image"}),$.push({key:"Width",value:M.width}),$.push({key:"Height",value:M.height}),M.colorSpace===T.INDEXED?$.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(M.palette.length/3-1)+" "+("sMask"in M&&M.sMask!==void 0?M.objectId+2:M.objectId+1)+" 0 R]"}):($.push({key:"ColorSpace",value:"/"+M.colorSpace}),M.colorSpace===T.DEVICE_CMYK&&$.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),$.push({key:"BitsPerComponent",value:M.bitsPerComponent}),"decodeParameters"in M&&M.decodeParameters!==void 0&&$.push({key:"DecodeParms",value:"<<"+M.decodeParameters+">>"}),"transparency"in M&&Array.isArray(M.transparency)&&M.transparency.length>0){for(var re="",ce=0,J=M.transparency.length;ce<J;ce++)re+=M.transparency[ce]+" "+M.transparency[ce]+" ";$.push({key:"Mask",value:"["+re+"]"})}M.sMask!==void 0&&$.push({key:"SMask",value:M.objectId+1+" 0 R"});var _e=M.filter!==void 0?["/"+M.filter]:void 0;if(ne({data:M.data,additionalKeyValues:$,alreadyAppliedFilters:_e,objectId:M.objectId}),Q("endobj"),"sMask"in M&&M.sMask!==void 0){var F,w=(F=M.sMaskBitsPerComponent)!==null&&F!==void 0?F:M.bitsPerComponent,D={width:M.width,height:M.height,colorSpace:"DeviceGray",bitsPerComponent:w,data:M.sMask};"filter"in M&&(D.decodeParameters="/Predictor ".concat(M.predictor," /Colors 1 /BitsPerComponent ").concat(w," /Columns ").concat(M.width),D.filter=M.filter),P.call(this,D)}if(M.colorSpace===T.INDEXED){var z=this.internal.newObject();ne({data:K(new Uint8Array(M.palette)),objectId:z}),Q("endobj")}},l=function(){var P=this.internal.collections[e+"images"];for(var M in P)a.call(this,P[M])},c=function(){var P,M=this.internal.collections[e+"images"],Q=this.internal.write;for(var ne in M)Q("/I"+(P=M[ne]).index,P.objectId,"0","R")},h=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",l),this.internal.events.subscribe("putXobjectDict",c))},f=function(){var P=this.internal.collections[e+"images"];return h.call(this),P},p=function(){return Object.keys(this.internal.collections[e+"images"]).length},m=function(P){return typeof n["process"+P.toUpperCase()]=="function"},b=function(P){return Ln(P)==="object"&&P.nodeType===1},y=function(P,M){if(P.nodeName==="IMG"&&P.hasAttribute("src")){var Q=""+P.getAttribute("src");if(Q.indexOf("data:image/")===0)return rm(unescape(Q).split("base64,").pop());var ne=n.loadFile(Q,!0);if(ne!==void 0)return ne}if(P.nodeName==="CANVAS"){if(P.width===0||P.height===0)throw new Error("Given canvas must have data. Canvas width: "+P.width+", height: "+P.height);var pe;switch(M){case"PNG":pe="image/png";break;case"WEBP":pe="image/webp";break;default:pe="image/jpeg"}return rm(P.toDataURL(pe,1).split("base64,").pop())}},N=function(P){var M=this.internal.collections[e+"images"];if(M){for(var Q in M)if(P===M[Q].alias)return M[Q]}},E=function(P,M,Q){return P||M||(P=-96,M=-96),P<0&&(P=-1*Q.width*72/P/this.internal.scaleFactor),M<0&&(M=-1*Q.height*72/M/this.internal.scaleFactor),P===0&&(P=M*Q.width/Q.height),M===0&&(M=P*Q.height/Q.width),[P,M]},k=function(P,M,Q,ne,pe,$){var re=E.call(this,Q,ne,pe),ce=this.internal.getCoordinateString,J=this.internal.getVerticalCoordinateString,_e=f.call(this);if(Q=re[0],ne=re[1],_e[pe.index]=pe,$){$*=Math.PI/180;var F=Math.cos($),w=Math.sin($),D=function(Z){return Z.toFixed(4)},z=[D(F),D(w),D(-1*w),D(F),0,0,"cm"]}this.internal.write("q"),$?(this.internal.write([1,"0","0",1,ce(P),J(M+ne),"cm"].join(" ")),this.internal.write(z.join(" ")),this.internal.write([ce(Q),"0","0",ce(ne),"0","0","cm"].join(" "))):this.internal.write([ce(Q),"0","0",ce(ne),ce(P),J(M+ne),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+pe.index+" Do"),this.internal.write("Q")},T=n.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};n.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var j=n.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},q=n.__addimage__.sHashCode=function(P){var M,Q,ne=0;if(typeof P=="string")for(Q=P.length,M=0;M<Q;M++)ne=(ne<<5)-ne+P.charCodeAt(M),ne|=0;else if(oe(P))for(Q=P.byteLength/2,M=0;M<Q;M++)ne=(ne<<5)-ne+P[M],ne|=0;return ne},H=n.__addimage__.validateStringAsBase64=function(P){(P=P||"").toString().trim();var M=!0;return P.length===0&&(M=!1),P.length%4!=0&&(M=!1),/^[A-Za-z0-9+/]+$/.test(P.substr(0,P.length-2))===!1&&(M=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(P.substr(-2))===!1&&(M=!1),M},V=n.__addimage__.extractImageFromDataUrl=function(P){if(P==null||!(P=P.trim()).startsWith("data:"))return null;var M=P.indexOf(",");return M<0?null:P.substring(0,M).trim().endsWith("base64")?P.substring(M+1):null};n.__addimage__.isArrayBuffer=function(P){return P instanceof ArrayBuffer};var oe=n.__addimage__.isArrayBufferView=function(P){return P instanceof Int8Array||P instanceof Uint8Array||P instanceof Uint8ClampedArray||P instanceof Int16Array||P instanceof Uint16Array||P instanceof Int32Array||P instanceof Uint32Array||P instanceof Float32Array||P instanceof Float64Array},ae=n.__addimage__.binaryStringToUint8Array=function(P){for(var M=P.length,Q=new Uint8Array(M),ne=0;ne<M;ne++)Q[ne]=P.charCodeAt(ne);return Q},K=n.__addimage__.arrayBufferToBinaryString=function(P){for(var M="",Q=oe(P)?P:new Uint8Array(P),ne=0;ne<Q.length;ne+=8192)M+=String.fromCharCode.apply(null,Q.subarray(ne,ne+8192));return M};n.addImage=function(){var P,M,Q,ne,pe,$,re,ce,J;if(typeof arguments[1]=="number"?(M=t,Q=arguments[1],ne=arguments[2],pe=arguments[3],$=arguments[4],re=arguments[5],ce=arguments[6],J=arguments[7]):(M=arguments[1],Q=arguments[2],ne=arguments[3],pe=arguments[4],$=arguments[5],re=arguments[6],ce=arguments[7],J=arguments[8]),Ln(P=arguments[0])==="object"&&!b(P)&&"imageData"in P){var _e=P;P=_e.imageData,M=_e.format||M||t,Q=_e.x||Q||0,ne=_e.y||ne||0,pe=_e.w||_e.width||pe,$=_e.h||_e.height||$,re=_e.alias||re,ce=_e.compression||ce,J=_e.rotation||_e.angle||J}var F=this.internal.getFilters();if(ce===void 0&&F.indexOf("FlateEncode")!==-1&&(ce="SLOW"),isNaN(Q)||isNaN(ne))throw new Error("Invalid coordinates passed to jsPDF.addImage");h.call(this);var w=Y.call(this,P,M,re,ce);return k.call(this,Q,ne,pe,$,w,J),this};var Y=function(P,M,Q,ne){var pe,$,re;if(typeof P=="string"&&s(P)===t){P=unescape(P);var ce=ue(P,!1);(ce!==""||(ce=n.loadFile(P,!0))!==void 0)&&(P=ce)}if(b(P)&&(P=y(P,M)),M=s(P,M),!m(M))throw new Error("addImage does not support files of type '"+M+"', please ensure that a plugin for '"+M+"' support is added.");if(((re=Q)==null||re.length===0)&&(Q=(function(J){return typeof J=="string"||oe(J)?q(J):oe(J.data)?q(J.data):null})(P)),(pe=N.call(this,Q))||(P instanceof Uint8Array||M==="RGBA"||($=P,P=ae(P)),pe=this["process"+M.toUpperCase()](P,p.call(this),Q,(function(J){return J&&typeof J=="string"&&(J=J.toUpperCase()),J in n.image_compression?J:j.NONE})(ne),$)),!pe)throw new Error("An unknown error occurred whilst processing the image.");return pe},ue=n.__addimage__.convertBase64ToBinaryString=function(P,M){M=typeof M!="boolean"||M;var Q,ne="";if(typeof P=="string"){var pe;Q=(pe=V(P))!==null&&pe!==void 0?pe:P;try{ne=rm(Q)}catch($){if(M)throw H(Q)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+$.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return ne};n.getImageProperties=function(P){var M,Q,ne="";if(b(P)&&(P=y(P)),typeof P=="string"&&s(P)===t&&((ne=ue(P,!1))===""&&(ne=n.loadFile(P)||""),P=ne),Q=s(P),!m(Q))throw new Error("addImage does not support files of type '"+Q+"', please ensure that a plugin for '"+Q+"' support is added.");if(P instanceof Uint8Array||(P=ae(P)),!(M=this["process"+Q.toUpperCase()](P)))throw new Error("An unknown error occurred whilst processing the image");return M.fileType=Q,M}})(wt.API),(function(n){var e=function(t){if(t!==void 0&&t!="")return!0};wt.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),n.events.push(["putPage",function(t){for(var i,s,a,l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString,h=this.internal.getPageInfoByObjId(t.objId),f=t.pageContext.annotations,p=!1,m=0;m<f.length&&!p;m++)switch((i=f[m]).type){case"link":(e(i.options.url)||e(i.options.pageNumber))&&(p=!0);break;case"reference":case"text":case"freetext":p=!0}if(p!=0){this.internal.write("/Annots [");for(var b=0;b<f.length;b++){i=f[b];var y=this.internal.pdfEscape,N=this.internal.getEncryptor(t.objId);switch(i.type){case"reference":this.internal.write(" "+i.object.objId+" 0 R ");break;case"text":var E=this.internal.newAdditionalObject(),k=this.internal.newAdditionalObject(),T=this.internal.getEncryptor(E.objId),j=i.title||"Note";a="<</Type /Annot /Subtype /Text "+(s="/Rect ["+l(i.bounds.x)+" "+c(i.bounds.y+i.bounds.h)+" "+l(i.bounds.x+i.bounds.w)+" "+c(i.bounds.y)+"] ")+"/Contents ("+y(T(i.contents))+")",a+=" /Popup "+k.objId+" 0 R",a+=" /P "+h.objId+" 0 R",a+=" /T ("+y(T(j))+") >>",E.content=a;var q=E.objId+" 0 R";a="<</Type /Annot /Subtype /Popup "+(s="/Rect ["+l(i.bounds.x+30)+" "+c(i.bounds.y+i.bounds.h)+" "+l(i.bounds.x+i.bounds.w+30)+" "+c(i.bounds.y)+"] ")+" /Parent "+q,i.open&&(a+=" /Open true"),a+=" >>",k.content=a,this.internal.write(E.objId,"0 R",k.objId,"0 R");break;case"freetext":s="/Rect ["+l(i.bounds.x)+" "+c(i.bounds.y)+" "+l(i.bounds.x+i.bounds.w)+" "+c(i.bounds.y+i.bounds.h)+"] ";var H=i.color||"#000000";a="<</Type /Annot /Subtype /FreeText "+s+"/Contents ("+y(N(i.contents))+")",a+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+H+")",a+=" /Border [0 0 0]",a+=" >>",this.internal.write(a);break;case"link":if(i.options.name){var V=this.annotations._nameMap[i.options.name];i.options.pageNumber=V.page,i.options.top=V.y}else i.options.top||(i.options.top=0);if(s="/Rect ["+i.finalBounds.x+" "+i.finalBounds.y+" "+i.finalBounds.w+" "+i.finalBounds.h+"] ",a="",i.options.url)a="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /A <</S /URI /URI ("+y(N(i.options.url))+") >>";else if(i.options.pageNumber)switch(a="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(i.options.pageNumber).objId+" 0 R",i.options.magFactor=i.options.magFactor||"XYZ",i.options.magFactor){case"Fit":a+=" /Fit]";break;case"FitH":a+=" /FitH "+i.options.top+"]";break;case"FitV":i.options.left=i.options.left||0,a+=" /FitV "+i.options.left+"]";break;default:var oe=c(i.options.top);i.options.left=i.options.left||0,i.options.zoom===void 0&&(i.options.zoom=0),a+=" /XYZ "+i.options.left+" "+oe+" "+i.options.zoom+"]"}a!=""&&(a+=" >>",this.internal.write(a))}}this.internal.write("]")}}]),n.createAnnotation=function(t){var i=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":i.pageContext.annotations.push(t)}},n.link=function(t,i,s,a,l){var c=this.internal.getCurrentPageInfo(),h=this.internal.getCoordinateString,f=this.internal.getVerticalCoordinateString;c.pageContext.annotations.push({finalBounds:{x:h(t),y:f(i),w:h(t+s),h:f(i+a)},options:l,type:"link"})},n.textWithLink=function(t,i,s,a){var l,c,h=this.getTextWidth(t),f=this.internal.getLineHeight()/this.internal.scaleFactor;if(a.maxWidth!==void 0){c=a.maxWidth;var p=this.splitTextToSize(t,c).length;l=Math.ceil(f*p)}else c=h,l=f;return this.text(t,i,s,a),s+=.2*f,a.align==="center"&&(i-=h/2),a.align==="right"&&(i-=h),this.link(i,s-f,c,l,a),h},n.getTextWidth=function(t){var i=this.internal.getFontSize();return this.getStringUnitWidth(t)*i/this.internal.scaleFactor}})(wt.API),(function(n){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},i={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},s=[1570,1571,1573,1575];n.__arabicParser__={};var a=n.__arabicParser__.isInArabicSubstitutionA=function(E){return e[E.charCodeAt(0)]!==void 0},l=n.__arabicParser__.isArabicLetter=function(E){return typeof E=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(E)},c=n.__arabicParser__.isArabicEndLetter=function(E){return l(E)&&a(E)&&e[E.charCodeAt(0)].length<=2},h=n.__arabicParser__.isArabicAlfLetter=function(E){return l(E)&&s.indexOf(E.charCodeAt(0))>=0};n.__arabicParser__.arabicLetterHasIsolatedForm=function(E){return l(E)&&a(E)&&e[E.charCodeAt(0)].length>=1};var f=n.__arabicParser__.arabicLetterHasFinalForm=function(E){return l(E)&&a(E)&&e[E.charCodeAt(0)].length>=2};n.__arabicParser__.arabicLetterHasInitialForm=function(E){return l(E)&&a(E)&&e[E.charCodeAt(0)].length>=3};var p=n.__arabicParser__.arabicLetterHasMedialForm=function(E){return l(E)&&a(E)&&e[E.charCodeAt(0)].length==4},m=n.__arabicParser__.resolveLigatures=function(E){var k=0,T=t,j="",q=0;for(k=0;k<E.length;k+=1)T[E.charCodeAt(k)]!==void 0?(q++,typeof(T=T[E.charCodeAt(k)])=="number"&&(j+=String.fromCharCode(T),T=t,q=0),k===E.length-1&&(T=t,j+=E.charAt(k-(q-1)),k-=q-1,q=0)):(T=t,j+=E.charAt(k-q),k-=q,q=0);return j};n.__arabicParser__.isArabicDiacritic=function(E){return E!==void 0&&i[E.charCodeAt(0)]!==void 0};var b=n.__arabicParser__.getCorrectForm=function(E,k,T){return l(E)?a(E)===!1?-1:!f(E)||!l(k)&&!l(T)||!l(T)&&c(k)||c(E)&&!l(k)||c(E)&&h(k)||c(E)&&c(k)?0:p(E)&&l(k)&&!c(k)&&l(T)&&f(T)?3:c(E)||!l(T)?1:2:-1},y=function(E){var k=0,T=0,j=0,q="",H="",V="",oe=(E=E||"").split("\\s+"),ae=[];for(k=0;k<oe.length;k+=1){for(ae.push(""),T=0;T<oe[k].length;T+=1)q=oe[k][T],H=oe[k][T-1],V=oe[k][T+1],l(q)?(j=b(q,H,V),ae[k]+=j!==-1?String.fromCharCode(e[q.charCodeAt(0)][j]):q):ae[k]+=q;ae[k]=m(ae[k])}return ae.join(" ")},N=n.__arabicParser__.processArabic=n.processArabic=function(){var E,k=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,T=[];if(Array.isArray(k)){var j=0;for(T=[],j=0;j<k.length;j+=1)Array.isArray(k[j])?T.push([y(k[j][0]),k[j][1],k[j][2]]):T.push([y(k[j])]);E=T}else E=y(k);return typeof arguments[0]=="string"?E:(arguments[0].text=E,arguments[0])};n.events.push(["preProcessText",N])})(wt.API),wt.API.autoPrint=function(n){var e;return(n=n||{}).variant=n.variant||"non-conform",n.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},(function(n){var e=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(c){t=c}});var i=150;Object.defineProperty(this,"width",{get:function(){return i},set:function(c){i=isNaN(c)||Number.isInteger(c)===!1||c<0?150:c,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=i+1)}});var s=300;Object.defineProperty(this,"height",{get:function(){return s},set:function(c){s=isNaN(c)||Number.isInteger(c)===!1||c<0?300:c,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=s+1)}});var a=[];Object.defineProperty(this,"childNodes",{get:function(){return a},set:function(c){a=c}});var l={};Object.defineProperty(this,"style",{get:function(){return l},set:function(c){l=c}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(t,i){var s;if((t=t||"2d")!=="2d")return null;for(s in i)this.pdf.context2d.hasOwnProperty(s)&&(this.pdf.context2d[s]=i[s]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},n.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])})(wt.API),(function(n){var e={left:0,top:0,bottom:0,right:0},t=!1,i=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),s.call(this))},s=function(){this.internal.__cell__.lastCell=new a,this.internal.__cell__.pages=1},a=function(){var h=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return h},set:function(E){h=E}});var f=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return f},set:function(E){f=E}});var p=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return p},set:function(E){p=E}});var m=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return m},set:function(E){m=E}});var b=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return b},set:function(E){b=E}});var y=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return y},set:function(E){y=E}});var N=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return N},set:function(E){N=E}}),this};a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},a.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},n.setHeaderFunction=function(h){return i.call(this),this.internal.__cell__.headerFunction=typeof h=="function"?h:void 0,this},n.getTextDimensions=function(h,f){i.call(this);var p=(f=f||{}).fontSize||this.getFontSize(),m=f.font||this.getFont(),b=f.scaleFactor||this.internal.scaleFactor,y=0,N=0,E=0,k=this;if(!Array.isArray(h)&&typeof h!="string"){if(typeof h!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");h=String(h)}var T=f.maxWidth;T>0?typeof h=="string"?h=this.splitTextToSize(h,T):Object.prototype.toString.call(h)==="[object Array]"&&(h=h.reduce(function(q,H){return q.concat(k.splitTextToSize(H,T))},[])):h=Array.isArray(h)?h:[h];for(var j=0;j<h.length;j++)y<(E=this.getStringUnitWidth(h[j],{font:m})*p)&&(y=E);return y!==0&&(N=h.length),{w:y/=b,h:Math.max((N*p*this.getLineHeightFactor()-p*(this.getLineHeightFactor()-1))/b,0)}},n.cellAddPage=function(){i.call(this),this.addPage();var h=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new a(h.left,h.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var l=n.cell=function(){var h;h=arguments[0]instanceof a?arguments[0]:new a(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),i.call(this);var f=this.internal.__cell__.lastCell,p=this.internal.__cell__.padding,m=this.internal.__cell__.margins||e,b=this.internal.__cell__.tableHeaderRow,y=this.internal.__cell__.printHeaders;return f.lineNumber!==void 0&&(f.lineNumber===h.lineNumber?(h.x=(f.x||0)+(f.width||0),h.y=f.y||0):f.y+f.height+h.height+m.bottom>this.getPageHeight()?(this.cellAddPage(),h.y=m.top,y&&b&&(this.printHeaderRow(h.lineNumber,!0),h.y+=b[0].height)):h.y=f.y+f.height||h.y),h.text[0]!==void 0&&(this.rect(h.x,h.y,h.width,h.height,t===!0?"FD":void 0),h.align==="right"?this.text(h.text,h.x+h.width-p,h.y+p,{align:"right",baseline:"top"}):h.align==="center"?this.text(h.text,h.x+h.width/2,h.y+p,{align:"center",baseline:"top",maxWidth:h.width-p-p}):this.text(h.text,h.x+p,h.y+p,{align:"left",baseline:"top",maxWidth:h.width-p-p})),this.internal.__cell__.lastCell=h,this};n.table=function(h,f,p,m,b){if(i.call(this),!p)throw new Error("No data for PDF table.");var y,N,E,k,T=[],j=[],q=[],H={},V={},oe=[],ae=[],K=(b=b||{}).autoSize||!1,Y=b.printHeaders!==!1,ue=b.css&&b.css["font-size"]!==void 0?16*b.css["font-size"]:b.fontSize||12,P=b.margins||Object.assign({width:this.getPageWidth()},e),M=typeof b.padding=="number"?b.padding:3,Q=b.headerBackgroundColor||"#c8c8c8",ne=b.headerTextColor||"#000";if(s.call(this),this.internal.__cell__.printHeaders=Y,this.internal.__cell__.margins=P,this.internal.__cell__.table_font_size=ue,this.internal.__cell__.padding=M,this.internal.__cell__.headerBackgroundColor=Q,this.internal.__cell__.headerTextColor=ne,this.setFontSize(ue),m==null)j=T=Object.keys(p[0]),q=T.map(function(){return"left"});else if(Array.isArray(m)&&Ln(m[0])==="object")for(T=m.map(function(_e){return _e.name}),j=m.map(function(_e){return _e.prompt||_e.name||""}),q=m.map(function(_e){return _e.align||"left"}),y=0;y<m.length;y+=1)V[m[y].name]=.7499990551181103*m[y].width;else Array.isArray(m)&&typeof m[0]=="string"&&(j=T=m,q=T.map(function(){return"left"}));if(K||Array.isArray(m)&&typeof m[0]=="string")for(y=0;y<T.length;y+=1){for(H[k=T[y]]=p.map(function(_e){return _e[k]}),this.setFont(void 0,"bold"),oe.push(this.getTextDimensions(j[y],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),N=H[k],this.setFont(void 0,"normal"),E=0;E<N.length;E+=1)oe.push(this.getTextDimensions(N[E],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);V[k]=Math.max.apply(null,oe)+M+M,oe=[]}if(Y){var pe={};for(y=0;y<T.length;y+=1)pe[T[y]]={},pe[T[y]].text=j[y],pe[T[y]].align=q[y];var $=c.call(this,pe,V);ae=T.map(function(_e){return new a(h,f,V[_e],$,pe[_e].text,void 0,pe[_e].align)}),this.setTableHeaderRow(ae),this.printHeaderRow(1,!1)}var re=m.reduce(function(_e,F){return _e[F.name]=F.align,_e},{});for(y=0;y<p.length;y+=1){"rowStart"in b&&b.rowStart instanceof Function&&b.rowStart({row:y,data:p[y]},this);var ce=c.call(this,p[y],V);for(E=0;E<T.length;E+=1){var J=p[y][T[E]];"cellStart"in b&&b.cellStart instanceof Function&&b.cellStart({row:y,col:E,data:J},this),l.call(this,new a(h,f,V[T[E]],ce,J,y+2,re[T[E]]))}}return this.internal.__cell__.table_x=h,this.internal.__cell__.table_y=f,this};var c=function(h,f){var p=this.internal.__cell__.padding,m=this.internal.__cell__.table_font_size,b=this.internal.scaleFactor;return Object.keys(h).map(function(y){var N=h[y];return this.splitTextToSize(N.hasOwnProperty("text")?N.text:N,f[y]-p-p)},this).map(function(y){return this.getLineHeightFactor()*y.length*m/b+p+p},this).reduce(function(y,N){return Math.max(y,N)},0)};n.setTableHeaderRow=function(h){i.call(this),this.internal.__cell__.tableHeaderRow=h},n.printHeaderRow=function(h,f){if(i.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var p;if(t=!0,typeof this.internal.__cell__.headerFunction=="function"){var m=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new a(m[0],m[1],m[2],m[3],void 0,-1)}this.setFont(void 0,"bold");for(var b=[],y=0;y<this.internal.__cell__.tableHeaderRow.length;y+=1){p=this.internal.__cell__.tableHeaderRow[y].clone(),f&&(p.y=this.internal.__cell__.margins.top||0,b.push(p)),p.lineNumber=h;var N=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),l.call(this,p),this.setTextColor(N)}b.length>0&&this.setTableHeaderRow(b),this.setFont(void 0,"normal"),t=!1}})(wt.API);var V6={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},G6=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Ey=W6(G6),Y6=[100,200,300,400,500,600,700,800,900],GB=W6(Y6);function k2(n){var e=n.family.replace(/"|'/g,"").toLowerCase(),t=(function(a){return V6[a=a||"normal"]?a:"normal"})(n.style),i=(function(a){return a?typeof a=="number"?a>=100&&a<=900&&a%100==0?a:400:/^\d00$/.test(a)?parseInt(a):a==="bold"?700:400:400})(n.weight),s=(function(a){return typeof Ey[a=a||"normal"]=="number"?a:"normal"})(n.stretch);return{family:e,style:t,weight:i,stretch:s,src:n.src||[],ref:n.ref||{name:e,style:[s,t,i].join(" ")}}}function o3(n,e,t,i){var s;for(s=t;s>=0&&s<e.length;s+=i)if(n[e[s]])return n[e[s]];for(s=t;s>=0&&s<e.length;s-=i)if(n[e[s]])return n[e[s]]}var YB={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},l3={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function c3(n){return[n.stretch,n.style,n.weight,n.family].join(" ")}function u3(n){return n.trimLeft()}function $B(n,e){for(var t=0;t<n.length;){if(n.charAt(t)===e)return[n.substring(0,t),n.substring(t+1)];t+=1}return null}function XB(n){var e=n.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],n.substring(e[0].length)]}var Vg,h3,f3,qh,Gg,d3,p3,g3,T2=["times"];function m3(n,e,t,i,s){var a=4,l=v3;switch(s){case wt.API.image_compression.FAST:a=1,l=y3;break;case wt.API.image_compression.MEDIUM:a=6,l=b3;break;case wt.API.image_compression.SLOW:a=9,l=_3}n=(function(h,f,p,m){for(var b,y=h.length/f,N=new Uint8Array(h.length+y),E=[KB,y3,v3,b3,_3],k=0;k<y;k+=1){var T=k*f,j=h.subarray(T,T+f);if(m)N.set(m(j,p,b),T+k);else{for(var q=E.length,H=[],V=0;V<q;V+=1)H[V]=E[V](j,p,b);var oe=JB(H.concat());N.set(H[oe],T+k)}b=j}return N})(n,e,Math.ceil(t*i/8),l);var c=_y(n,{level:a});return wt.API.__addimage__.arrayBufferToBinaryString(c)}function KB(n){var e=Array.apply([],n);return e.unshift(0),e}function y3(n,e){var t=n.length,i=[];i[0]=1;for(var s=0;s<t;s+=1){var a=n[s-e]||0;i[s+1]=n[s]-a+256&255}return i}function v3(n,e,t){var i=n.length,s=[];s[0]=2;for(var a=0;a<i;a+=1){var l=t&&t[a]||0;s[a+1]=n[a]-l+256&255}return s}function b3(n,e,t){var i=n.length,s=[];s[0]=3;for(var a=0;a<i;a+=1){var l=n[a-e]||0,c=t&&t[a]||0;s[a+1]=n[a]+256-(l+c>>>1)&255}return s}function _3(n,e,t){var i=n.length,s=[];s[0]=4;for(var a=0;a<i;a+=1){var l=QB(n[a-e]||0,t&&t[a]||0,t&&t[a-e]||0);s[a+1]=n[a]-l+256&255}return s}function QB(n,e,t){if(n===e&&e===t)return n;var i=Math.abs(e-t),s=Math.abs(n-t),a=Math.abs(n+e-t-t);return i<=s&&i<=a?n:s<=a?e:t}function JB(n){var e=n.map(function(t){return t.reduce(function(i,s){return i+Math.abs(s)},0)});return e.indexOf(Math.min.apply(null,e))}function L2(n,e,t){var i=e*t,s=Math.floor(i/8),a=16-(i-8*s+t),l=(1<<t)-1;return $6(n,s)>>a&l}function x3(n,e,t,i){var s=t*i,a=Math.floor(s/8),l=16-(s-8*a+i),c=(1<<i)-1,h=(e&c)<<l;(function(f,p,m){if(p+1<f.byteLength)f.setUint16(p,m,!1);else{var b=m>>8&255;f.setUint8(p,b)}})(n,a,$6(n,a)&~(c<<l)&65535|h)}function $6(n,e){return e+1<n.byteLength?n.getUint16(e,!1):n.getUint8(e)<<8}function ZB(n){var e=0;if(n[e++]!==71||n[e++]!==73||n[e++]!==70||n[e++]!==56||(n[e++]+1&253)!=56||n[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var t=n[e++]|n[e++]<<8,i=n[e++]|n[e++]<<8,s=n[e++],a=s>>7,l=1<<1+(7&s);n[e++],n[e++];var c=null,h=null;a&&(c=e,h=l,e+=3*l);var f=!0,p=[],m=0,b=null,y=0,N=null;for(this.width=t,this.height=i;f&&e<n.length;)switch(n[e++]){case 33:switch(n[e++]){case 255:if(n[e]!==11||n[e+1]==78&&n[e+2]==69&&n[e+3]==84&&n[e+4]==83&&n[e+5]==67&&n[e+6]==65&&n[e+7]==80&&n[e+8]==69&&n[e+9]==50&&n[e+10]==46&&n[e+11]==48&&n[e+12]==3&&n[e+13]==1&&n[e+16]==0)e+=14,N=n[e++]|n[e++]<<8,e++;else for(e+=12;;){if(!((P=n[e++])>=0))throw Error("Invalid block size");if(P===0)break;e+=P}break;case 249:if(n[e++]!==4||n[e+4]!==0)throw new Error("Invalid graphics extension block.");var E=n[e++];m=n[e++]|n[e++]<<8,b=n[e++],1&E||(b=null),y=E>>2&7,e++;break;case 254:for(;;){if(!((P=n[e++])>=0))throw Error("Invalid block size");if(P===0)break;e+=P}break;default:throw new Error("Unknown graphic control label: 0x"+n[e-1].toString(16))}break;case 44:var k=n[e++]|n[e++]<<8,T=n[e++]|n[e++]<<8,j=n[e++]|n[e++]<<8,q=n[e++]|n[e++]<<8,H=n[e++],V=H>>6&1,oe=1<<1+(7&H),ae=c,K=h,Y=!1;H>>7&&(Y=!0,ae=e,K=oe,e+=3*oe);var ue=e;for(e++;;){var P;if(!((P=n[e++])>=0))throw Error("Invalid block size");if(P===0)break;e+=P}p.push({x:k,y:T,width:j,height:q,has_local_palette:Y,palette_offset:ae,palette_size:K,data_offset:ue,data_length:e-ue,transparent_index:b,interlaced:!!V,delay:m,disposal:y});break;case 59:f=!1;break;default:throw new Error("Unknown gif block: 0x"+n[e-1].toString(16))}this.numFrames=function(){return p.length},this.loopCount=function(){return N},this.frameInfo=function(M){if(M<0||M>=p.length)throw new Error("Frame index out of range.");return p[M]},this.decodeAndBlitFrameBGRA=function(M,Q){var ne=this.frameInfo(M),pe=ne.width*ne.height,$=new Uint8Array(pe);w3(n,ne.data_offset,$,pe);var re=ne.palette_offset,ce=ne.transparent_index;ce===null&&(ce=256);var J=ne.width,_e=t-J,F=J,w=4*(ne.y*t+ne.x),D=4*((ne.y+ne.height)*t+ne.x),z=w,Z=4*_e;ne.interlaced===!0&&(Z+=4*t*7);for(var le=8,ve=0,Ne=$.length;ve<Ne;++ve){var Ce=$[ve];if(F===0&&(F=J,(z+=Z)>=D&&(Z=4*_e+4*t*(le-1),z=w+(J+_e)*(le<<1),le>>=1)),Ce===ce)z+=4;else{var Pe=n[re+3*Ce],$e=n[re+3*Ce+1],tt=n[re+3*Ce+2];Q[z++]=tt,Q[z++]=$e,Q[z++]=Pe,Q[z++]=255}--F}},this.decodeAndBlitFrameRGBA=function(M,Q){var ne=this.frameInfo(M),pe=ne.width*ne.height,$=new Uint8Array(pe);w3(n,ne.data_offset,$,pe);var re=ne.palette_offset,ce=ne.transparent_index;ce===null&&(ce=256);var J=ne.width,_e=t-J,F=J,w=4*(ne.y*t+ne.x),D=4*((ne.y+ne.height)*t+ne.x),z=w,Z=4*_e;ne.interlaced===!0&&(Z+=4*t*7);for(var le=8,ve=0,Ne=$.length;ve<Ne;++ve){var Ce=$[ve];if(F===0&&(F=J,(z+=Z)>=D&&(Z=4*_e+4*t*(le-1),z=w+(J+_e)*(le<<1),le>>=1)),Ce===ce)z+=4;else{var Pe=n[re+3*Ce],$e=n[re+3*Ce+1],tt=n[re+3*Ce+2];Q[z++]=Pe,Q[z++]=$e,Q[z++]=tt,Q[z++]=255}--F}}}function w3(n,e,t,i){for(var s=n[e++],a=1<<s,l=a+1,c=l+1,h=s+1,f=(1<<h)-1,p=0,m=0,b=0,y=n[e++],N=new Int32Array(4096),E=null;;){for(;p<16&&y!==0;)m|=n[e++]<<p,p+=8,y===1?y=n[e++]:--y;if(p<h)break;var k=m&f;if(m>>=h,p-=h,k!==a){if(k===l)break;for(var T=k<c?k:E,j=0,q=T;q>a;)q=N[q]>>8,++j;var H=q;if(b+j+(T!==k?1:0)>i)return void qn.log("Warning, gif stream longer than expected.");t[b++]=H;var V=b+=j;for(T!==k&&(t[b++]=H),q=T;j--;)q=N[q],t[--V]=255&q,q>>=8;E!==null&&c<4096&&(N[c++]=E<<8|H,c>=f+1&&h<12&&(++h,f=f<<1|1)),E=k}else c=l+1,f=(1<<(h=s+1))-1,E=null}return b!==i&&qn.log("Warning, gif stream shorter than expected."),t}function R2(n){var e,t,i,s,a,l=Math.floor,c=new Array(64),h=new Array(64),f=new Array(64),p=new Array(64),m=new Array(65535),b=new Array(65535),y=new Array(64),N=new Array(64),E=[],k=0,T=7,j=new Array(64),q=new Array(64),H=new Array(64),V=new Array(256),oe=new Array(2048),ae=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],K=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],Y=[0,1,2,3,4,5,6,7,8,9,10,11],ue=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],P=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],M=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],Q=[0,1,2,3,4,5,6,7,8,9,10,11],ne=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],pe=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function $(w,D){for(var z=0,Z=0,le=new Array,ve=1;ve<=16;ve++){for(var Ne=1;Ne<=w[ve];Ne++)le[D[Z]]=[],le[D[Z]][0]=z,le[D[Z]][1]=ve,Z++,z++;z*=2}return le}function re(w){for(var D=w[0],z=w[1]-1;z>=0;)D&1<<z&&(k|=1<<T),z--,--T<0&&(k==255?(ce(255),ce(0)):ce(k),T=7,k=0)}function ce(w){E.push(w)}function J(w){ce(w>>8&255),ce(255&w)}function _e(w,D,z,Z,le){for(var ve,Ne=le[0],Ce=le[240],Pe=(function(Le,Je){var Ge,qe,st,vt,yt,ct,Bt,rt,at,St,pt=0;for(at=0;at<8;++at){Ge=Le[pt],qe=Le[pt+1],st=Le[pt+2],vt=Le[pt+3],yt=Le[pt+4],ct=Le[pt+5],Bt=Le[pt+6];var wn=Ge+(rt=Le[pt+7]),me=Ge-rt,De=qe+Bt,Xe=qe-Bt,Ct=st+ct,Ke=st-ct,Dn=vt+yt,Rt=vt-yt,It=wn+Dn,Nn=wn-Dn,Wt=De+Ct,xt=De-Ct;Le[pt]=It+Wt,Le[pt+4]=It-Wt;var rn=.707106781*(xt+Nn);Le[pt+2]=Nn+rn,Le[pt+6]=Nn-rn;var yr=.382683433*((It=Rt+Ke)-(xt=Xe+me)),Zi=.5411961*It+yr,Fr=1.306562965*xt+yr,Gs=.707106781*(Wt=Ke+Xe),Nt=me+Gs,ca=me-Gs;Le[pt+5]=ca+Zi,Le[pt+3]=ca-Zi,Le[pt+1]=Nt+Fr,Le[pt+7]=Nt-Fr,pt+=8}for(pt=0,at=0;at<8;++at){Ge=Le[pt],qe=Le[pt+8],st=Le[pt+16],vt=Le[pt+24],yt=Le[pt+32],ct=Le[pt+40],Bt=Le[pt+48];var Br=Ge+(rt=Le[pt+56]),Ms=Ge-rt,Os=qe+Bt,Vn=qe-Bt,pi=st+ct,Oi=st-ct,Ka=vt+yt,fs=vt-yt,An=Br+Ka,Yn=Br-Ka,es=Os+pi,Is=Os-pi;Le[pt]=An+es,Le[pt+32]=An-es;var Ys=.707106781*(Is+Yn);Le[pt+16]=Yn+Ys,Le[pt+48]=Yn-Ys;var Ro=.382683433*((An=fs+Oi)-(Is=Vn+Ms)),vr=.5411961*An+Ro,br=1.306562965*Is+Ro,Qa=.707106781*(es=Oi+Vn),_r=Ms+Qa,xr=Ms-Qa;Le[pt+40]=xr+vr,Le[pt+24]=xr-vr,Le[pt+8]=_r+br,Le[pt+56]=_r-br,pt++}for(at=0;at<64;++at)St=Le[at]*Je[at],y[at]=St>0?St+.5|0:St-.5|0;return y})(w,D),$e=0;$e<64;++$e)N[ae[$e]]=Pe[$e];var tt=N[0]-z;z=N[0],tt==0?re(Z[0]):(re(Z[b[ve=32767+tt]]),re(m[ve]));for(var it=63;it>0&&N[it]==0;)it--;if(it==0)return re(Ne),z;for(var ht,ee=1;ee<=it;){for(var nt=ee;N[ee]==0&&ee<=it;)++ee;var Oe=ee-nt;if(Oe>=16){ht=Oe>>4;for(var He=1;He<=ht;++He)re(Ce);Oe&=15}ve=32767+N[ee],re(le[(Oe<<4)+b[ve]]),re(m[ve]),ee++}return it!=63&&re(Ne),z}function F(w){w=Math.min(Math.max(w,1),100),a!=w&&((function(D){for(var z=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],Z=0;Z<64;Z++){var le=l((z[Z]*D+50)/100);le=Math.min(Math.max(le,1),255),c[ae[Z]]=le}for(var ve=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Ne=0;Ne<64;Ne++){var Ce=l((ve[Ne]*D+50)/100);Ce=Math.min(Math.max(Ce,1),255),h[ae[Ne]]=Ce}for(var Pe=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],$e=0,tt=0;tt<8;tt++)for(var it=0;it<8;it++)f[$e]=1/(c[ae[$e]]*Pe[tt]*Pe[it]*8),p[$e]=1/(h[ae[$e]]*Pe[tt]*Pe[it]*8),$e++})(w<50?Math.floor(5e3/w):Math.floor(200-2*w)),a=w)}this.encode=function(w,D){D&&F(D),E=new Array,k=0,T=7,J(65496),J(65504),J(16),ce(74),ce(70),ce(73),ce(70),ce(0),ce(1),ce(1),ce(0),J(1),J(1),ce(0),ce(0),(function(){J(65499),J(132),ce(0);for(var qe=0;qe<64;qe++)ce(c[qe]);ce(1);for(var st=0;st<64;st++)ce(h[st])})(),(function(qe,st){J(65472),J(17),ce(8),J(st),J(qe),ce(3),ce(1),ce(17),ce(0),ce(2),ce(17),ce(1),ce(3),ce(17),ce(1)})(w.width,w.height),(function(){J(65476),J(418),ce(0);for(var qe=0;qe<16;qe++)ce(K[qe+1]);for(var st=0;st<=11;st++)ce(Y[st]);ce(16);for(var vt=0;vt<16;vt++)ce(ue[vt+1]);for(var yt=0;yt<=161;yt++)ce(P[yt]);ce(1);for(var ct=0;ct<16;ct++)ce(M[ct+1]);for(var Bt=0;Bt<=11;Bt++)ce(Q[Bt]);ce(17);for(var rt=0;rt<16;rt++)ce(ne[rt+1]);for(var at=0;at<=161;at++)ce(pe[at])})(),J(65498),J(12),ce(3),ce(1),ce(0),ce(2),ce(17),ce(3),ce(17),ce(0),ce(63),ce(0);var z=0,Z=0,le=0;k=0,T=7,this.encode.displayName="_encode_";for(var ve,Ne,Ce,Pe,$e,tt,it,ht,ee,nt=w.data,Oe=w.width,He=w.height,Le=4*Oe,Je=0;Je<He;){for(ve=0;ve<Le;){for($e=Le*Je+ve,it=-1,ht=0,ee=0;ee<64;ee++)tt=$e+(ht=ee>>3)*Le+(it=4*(7&ee)),Je+ht>=He&&(tt-=Le*(Je+1+ht-He)),ve+it>=Le&&(tt-=ve+it-Le+4),Ne=nt[tt++],Ce=nt[tt++],Pe=nt[tt++],j[ee]=(oe[Ne]+oe[Ce+256|0]+oe[Pe+512|0]>>16)-128,q[ee]=(oe[Ne+768|0]+oe[Ce+1024|0]+oe[Pe+1280|0]>>16)-128,H[ee]=(oe[Ne+1280|0]+oe[Ce+1536|0]+oe[Pe+1792|0]>>16)-128;z=_e(j,f,z,e,i),Z=_e(q,p,Z,t,s),le=_e(H,p,le,t,s),ve+=32}Je+=8}if(T>=0){var Ge=[];Ge[1]=T+1,Ge[0]=(1<<T+1)-1,re(Ge)}return J(65497),new Uint8Array(E)},n=n||50,(function(){for(var w=String.fromCharCode,D=0;D<256;D++)V[D]=w(D)})(),e=$(K,Y),t=$(M,Q),i=$(ue,P),s=$(ne,pe),(function(){for(var w=1,D=2,z=1;z<=15;z++){for(var Z=w;Z<D;Z++)b[32767+Z]=z,m[32767+Z]=[],m[32767+Z][1]=z,m[32767+Z][0]=Z;for(var le=-(D-1);le<=-w;le++)b[32767+le]=z,m[32767+le]=[],m[32767+le][1]=z,m[32767+le][0]=D-1+le;w<<=1,D<<=1}})(),(function(){for(var w=0;w<256;w++)oe[w]=19595*w,oe[w+256|0]=38470*w,oe[w+512|0]=7471*w+32768,oe[w+768|0]=-11059*w,oe[w+1024|0]=-21709*w,oe[w+1280|0]=32768*w+8421375,oe[w+1536|0]=-27439*w,oe[w+1792|0]=-5329*w})(),F(n)}function ja(n,e){if(this.pos=0,this.buffer=n,this.datav=new DataView(n.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function S3(n){function e(Y){if(!Y)throw Error("assert :P")}function t(Y,ue,P){for(var M=0;4>M;M++)if(Y[ue+M]!=P.charCodeAt(M))return!0;return!1}function i(Y,ue,P,M,Q){for(var ne=0;ne<Q;ne++)Y[ue+ne]=P[M+ne]}function s(Y,ue,P,M){for(var Q=0;Q<M;Q++)Y[ue+Q]=P}function a(Y){return new Int32Array(Y)}function l(Y,ue){for(var P=[],M=0;M<Y;M++)P.push(new ue);return P}function c(Y,ue){var P=[];return(function M(Q,ne,pe){for(var $=pe[ne],re=0;re<$&&(Q.push(pe.length>ne+1?[]:new ue),!(pe.length<ne+1));re++)M(Q[re],ne+1,pe)})(P,0,Y),P}var h=function(){var Y=this;function ue(g,_){for(var C=1<<_-1>>>0;g&C;)C>>>=1;return C?(g&C-1)+C:g}function P(g,_,C,L,I){e(!(L%C));do g[_+(L-=C)]=I;while(0<L)}function M(g,_,C,L,I){if(e(2328>=I),512>=I)var B=a(512);else if((B=a(I))==null)return 0;return(function(U,G,X,ie,ge,Ee){var te,be,Se=G,je=1<<X,Ae=a(16),Ie=a(16);for(e(ge!=0),e(ie!=null),e(U!=null),e(0<X),be=0;be<ge;++be){if(15<ie[be])return 0;++Ae[ie[be]]}if(Ae[0]==ge)return 0;for(Ie[1]=0,te=1;15>te;++te){if(Ae[te]>1<<te)return 0;Ie[te+1]=Ie[te]+Ae[te]}for(be=0;be<ge;++be)te=ie[be],0<ie[be]&&(Ee[Ie[te]++]=be);if(Ie[15]==1)return(ie=new Q).g=0,ie.value=Ee[0],P(U,Se,1,je,ie),je;var ze,Qe=-1,Ve=je-1,gt=0,ot=1,Pt=1,ut=1<<X;for(be=0,te=1,ge=2;te<=X;++te,ge<<=1){if(ot+=Pt<<=1,0>(Pt-=Ae[te]))return 0;for(;0<Ae[te];--Ae[te])(ie=new Q).g=te,ie.value=Ee[be++],P(U,Se+gt,ge,ut,ie),gt=ue(gt,te)}for(te=X+1,ge=2;15>=te;++te,ge<<=1){if(ot+=Pt<<=1,0>(Pt-=Ae[te]))return 0;for(;0<Ae[te];--Ae[te]){if(ie=new Q,(gt&Ve)!=Qe){for(Se+=ut,ze=1<<(Qe=te)-X;15>Qe&&!(0>=(ze-=Ae[Qe]));)++Qe,ze<<=1;je+=ut=1<<(ze=Qe-X),U[G+(Qe=gt&Ve)].g=ze+X,U[G+Qe].value=Se-G-Qe}ie.g=te-X,ie.value=Ee[be++],P(U,Se+(gt>>X),ge,ut,ie),gt=ue(gt,te)}}return ot!=2*Ie[15]-1?0:je})(g,_,C,L,I,B)}function Q(){this.value=this.g=0}function ne(){this.value=this.g=0}function pe(){this.G=l(5,Q),this.H=a(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=l(no,ne)}function $(g,_,C,L){e(g!=null),e(_!=null),e(2147483648>L),g.Ca=254,g.I=0,g.b=-8,g.Ka=0,g.oa=_,g.pa=C,g.Jd=_,g.Yc=C+L,g.Zc=4<=L?C+L-4+1:C,Ne(g)}function re(g,_){for(var C=0;0<_--;)C|=Pe(g,128)<<_;return C}function ce(g,_){var C=re(g,_);return Ce(g)?-C:C}function J(g,_,C,L){var I,B=0;for(e(g!=null),e(_!=null),e(4294967288>L),g.Sb=L,g.Ra=0,g.u=0,g.h=0,4<L&&(L=4),I=0;I<L;++I)B+=_[C+I]<<8*I;g.Ra=B,g.bb=L,g.oa=_,g.pa=C}function _e(g){for(;8<=g.u&&g.bb<g.Sb;)g.Ra>>>=8,g.Ra+=g.oa[g.pa+g.bb]<<Gr-8>>>0,++g.bb,g.u-=8;Z(g)&&(g.h=1,g.u=0)}function F(g,_){if(e(0<=_),!g.h&&_<=ms){var C=z(g)&ws[_];return g.u+=_,_e(g),C}return g.h=1,g.u=0}function w(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function D(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function z(g){return g.Ra>>>(g.u&Gr-1)>>>0}function Z(g){return e(g.bb<=g.Sb),g.h||g.bb==g.Sb&&g.u>Gr}function le(g,_){g.u=_,g.h=Z(g)}function ve(g){g.u>=Yr&&(e(g.u>=Yr),_e(g))}function Ne(g){e(g!=null&&g.oa!=null),g.pa<g.Zc?(g.I=(g.oa[g.pa++]|g.I<<8)>>>0,g.b+=8):(e(g!=null&&g.oa!=null),g.pa<g.Yc?(g.b+=8,g.I=g.oa[g.pa++]|g.I<<8):g.Ka?g.b=0:(g.I<<=8,g.b+=8,g.Ka=1))}function Ce(g){return re(g,1)}function Pe(g,_){var C=g.Ca;0>g.b&&Ne(g);var L=g.b,I=C*_>>>8,B=(g.I>>>L>I)+0;for(B?(C-=I,g.I-=I+1<<L>>>0):C=I+1,L=C,I=0;256<=L;)I+=8,L>>=8;return L=7^I+Na[L],g.b-=L,g.Ca=(C<<L)-1,B}function $e(g,_,C){g[_+0]=C>>24&255,g[_+1]=C>>16&255,g[_+2]=C>>8&255,g[_+3]=255&C}function tt(g,_){return g[_+0]|g[_+1]<<8}function it(g,_){return tt(g,_)|g[_+2]<<16}function ht(g,_){return tt(g,_)|tt(g,_+2)<<16}function ee(g,_){var C=1<<_;return e(g!=null),e(0<_),g.X=a(C),g.X==null?0:(g.Mb=32-_,g.Xa=_,1)}function nt(g,_){e(g!=null),e(_!=null),e(g.Xa==_.Xa),i(_.X,0,g.X,0,1<<_.Xa)}function Oe(){this.X=[],this.Xa=this.Mb=0}function He(g,_,C,L){e(C!=null),e(L!=null);var I=C[0],B=L[0];return I==0&&(I=(g*B+_/2)/_),B==0&&(B=(_*I+g/2)/g),0>=I||0>=B?0:(C[0]=I,L[0]=B,1)}function Le(g,_){return g+(1<<_)-1>>>_}function Je(g,_){return((4278255360&g)+(4278255360&_)>>>0&4278255360)+((16711935&g)+(16711935&_)>>>0&16711935)>>>0}function Ge(g,_){Y[_]=function(C,L,I,B,U,G,X){var ie;for(ie=0;ie<U;++ie){var ge=Y[g](G[X+ie-1],I,B+ie);G[X+ie]=Je(C[L+ie],ge)}}}function qe(){this.ud=this.hd=this.jd=0}function st(g,_){return((4278124286&(g^_))>>>1)+(g&_)>>>0}function vt(g){return 0<=g&&256>g?g:0>g?0:255<g?255:void 0}function yt(g,_){return vt(g+(g-_+.5>>1))}function ct(g,_,C){return Math.abs(_-C)-Math.abs(g-C)}function Bt(g,_,C,L,I,B,U){for(L=B[U-1],C=0;C<I;++C)B[U+C]=L=Je(g[_+C],L)}function rt(g,_,C,L,I){var B;for(B=0;B<C;++B){var U=g[_+B],G=U>>8&255,X=16711935&(X=(X=16711935&U)+((G<<16)+G));L[I+B]=(4278255360&U)+X>>>0}}function at(g,_){_.jd=255&g,_.hd=g>>8&255,_.ud=g>>16&255}function St(g,_,C,L,I,B){var U;for(U=0;U<L;++U){var G=_[C+U],X=G>>>8,ie=G,ge=255&(ge=(ge=G>>>16)+((g.jd<<24>>24)*(X<<24>>24)>>>5));ie=255&(ie=(ie+=(g.hd<<24>>24)*(X<<24>>24)>>>5)+((g.ud<<24>>24)*(ge<<24>>24)>>>5)),I[B+U]=(4278255360&G)+(ge<<16)+ie}}function pt(g,_,C,L,I){Y[_]=function(B,U,G,X,ie,ge,Ee,te,be){for(X=Ee;X<te;++X)for(Ee=0;Ee<be;++Ee)ie[ge++]=I(G[L(B[U++])])},Y[g]=function(B,U,G,X,ie,ge,Ee){var te=8>>B.b,be=B.Ea,Se=B.K[0],je=B.w;if(8>te)for(B=(1<<B.b)-1,je=(1<<te)-1;U<G;++U){var Ae,Ie=0;for(Ae=0;Ae<be;++Ae)Ae&B||(Ie=L(X[ie++])),ge[Ee++]=I(Se[Ie&je]),Ie>>=te}else Y["VP8LMapColor"+C](X,ie,Se,je,ge,Ee,U,G,be)}}function wn(g,_,C,L,I){for(C=_+C;_<C;){var B=g[_++];L[I++]=B>>16&255,L[I++]=B>>8&255,L[I++]=255&B}}function me(g,_,C,L,I){for(C=_+C;_<C;){var B=g[_++];L[I++]=B>>16&255,L[I++]=B>>8&255,L[I++]=255&B,L[I++]=B>>24&255}}function De(g,_,C,L,I){for(C=_+C;_<C;){var B=(U=g[_++])>>16&240|U>>12&15,U=240&U|U>>28&15;L[I++]=B,L[I++]=U}}function Xe(g,_,C,L,I){for(C=_+C;_<C;){var B=(U=g[_++])>>16&248|U>>13&7,U=U>>5&224|U>>3&31;L[I++]=B,L[I++]=U}}function Ct(g,_,C,L,I){for(C=_+C;_<C;){var B=g[_++];L[I++]=255&B,L[I++]=B>>8&255,L[I++]=B>>16&255}}function Ke(g,_,C,L,I,B){if(B==0)for(C=_+C;_<C;)$e(L,((B=g[_++])[0]>>24|B[1]>>8&65280|B[2]<<8&16711680|B[3]<<24)>>>0),I+=32;else i(L,I,g,_,C)}function Dn(g,_){Y[_][0]=Y[g+"0"],Y[_][1]=Y[g+"1"],Y[_][2]=Y[g+"2"],Y[_][3]=Y[g+"3"],Y[_][4]=Y[g+"4"],Y[_][5]=Y[g+"5"],Y[_][6]=Y[g+"6"],Y[_][7]=Y[g+"7"],Y[_][8]=Y[g+"8"],Y[_][9]=Y[g+"9"],Y[_][10]=Y[g+"10"],Y[_][11]=Y[g+"11"],Y[_][12]=Y[g+"12"],Y[_][13]=Y[g+"13"],Y[_][14]=Y[g+"0"],Y[_][15]=Y[g+"0"]}function Rt(g){return g==cu||g==ch||g==Vl||g==uh}function It(){this.eb=[],this.size=this.A=this.fb=0}function Nn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Wt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new It,this.f.kb=new Nn,this.sd=null}function xt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function rn(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function yr(g){return alert("todo:WebPSamplerProcessPlane"),g.T}function Zi(g,_){var C=g.T,L=_.ba.f.RGBA,I=L.eb,B=L.fb+g.ka*L.A,U=Vi[_.ba.S],G=g.y,X=g.O,ie=g.f,ge=g.N,Ee=g.ea,te=g.W,be=_.cc,Se=_.dc,je=_.Mc,Ae=_.Nc,Ie=g.ka,ze=g.ka+g.T,Qe=g.U,Ve=Qe+1>>1;for(Ie==0?U(G,X,null,null,ie,ge,Ee,te,ie,ge,Ee,te,I,B,null,null,Qe):(U(_.ec,_.fc,G,X,be,Se,je,Ae,ie,ge,Ee,te,I,B-L.A,I,B,Qe),++C);Ie+2<ze;Ie+=2)be=ie,Se=ge,je=Ee,Ae=te,ge+=g.Rc,te+=g.Rc,B+=2*L.A,U(G,(X+=2*g.fa)-g.fa,G,X,be,Se,je,Ae,ie,ge,Ee,te,I,B-L.A,I,B,Qe);return X+=g.fa,g.j+ze<g.o?(i(_.ec,_.fc,G,X,Qe),i(_.cc,_.dc,ie,ge,Ve),i(_.Mc,_.Nc,Ee,te,Ve),C--):1&ze||U(G,X,null,null,ie,ge,Ee,te,ie,ge,Ee,te,I,B+L.A,null,null,Qe),C}function Fr(g,_,C){var L=g.F,I=[g.J];if(L!=null){var B=g.U,U=_.ba.S,G=U==lu||U==Vl;_=_.ba.f.RGBA;var X=[0],ie=g.ka;X[0]=g.T,g.Kb&&(ie==0?--X[0]:(--ie,I[0]-=g.width),g.j+g.ka+g.T==g.o&&(X[0]=g.o-g.j-ie));var ge=_.eb;ie=_.fb+ie*_.A,g=su(L,I[0],g.width,B,X,ge,ie+(G?0:3),_.A),e(C==X),g&&Rt(U)&&Ho(ge,ie,G,B,X,_.A)}return 0}function Gs(g){var _=g.ma,C=_.ba.S,L=11>C,I=C==is||C==Js||C==lu||C==Wl||C==12||Rt(C);if(_.memory=null,_.Ib=null,_.Jb=null,_.Nd=null,!Sa(_.Oa,g,I?11:12))return 0;if(I&&Rt(C)&&eu(),g.da)alert("todo:use_scaling");else{if(L){if(_.Ib=yr,g.Kb){if(C=g.U+1>>1,_.memory=a(g.U+2*C),_.memory==null)return 0;_.ec=_.memory,_.fc=0,_.cc=_.ec,_.dc=_.fc+g.U,_.Mc=_.cc,_.Nc=_.dc+C,_.Ib=Zi,eu()}}else alert("todo:EmitYUV");I&&(_.Jb=Fr,L&&Cr())}if(L&&!co){for(g=0;256>g;++g)Gi[g]=89858*(g-128)+$l>>sr,b0[g]=-22014*(g-128)+$l,Op[g]=-45773*(g-128),gh[g]=113618*(g-128)+$l>>sr;for(g=Go;g<lo;++g)_=76283*(g-16)+$l>>sr,_0[g-Go]=js(_,255),x0[g-Go]=js(_+8>>4,15);co=1}return 1}function Nt(g){var _=g.ma,C=g.U,L=g.T;return e(!(1&g.ka)),0>=C||0>=L?0:(C=_.Ib(g,_),_.Jb!=null&&_.Jb(g,_,C),_.Dc+=C,1)}function ca(g){g.ma.memory=null}function Br(g,_,C,L){return F(g,8)!=47?0:(_[0]=F(g,14)+1,C[0]=F(g,14)+1,L[0]=F(g,1),F(g,3)!=0?0:!g.h)}function Ms(g,_){if(4>g)return g+1;var C=g-2>>1;return(2+(1&g)<<C)+F(_,C)+1}function Os(g,_){return 120<_?_-120:1<=(C=((C=er[_-1])>>4)*g+(8-(15&C)))?C:1;var C}function Vn(g,_,C){var L=z(C),I=g[_+=255&L].g-8;return 0<I&&(le(C,C.u+8),L=z(C),_+=g[_].value,_+=L&(1<<I)-1),le(C,C.u+g[_].g),g[_].value}function pi(g,_,C){return C.g+=g.g,C.value+=g.value<<_>>>0,e(8>=C.g),g.g}function Oi(g,_,C){var L=g.xc;return e((_=L==0?0:g.vc[g.md*(C>>L)+(_>>L)])<g.Wb),g.Ya[_]}function Ka(g,_,C,L){var I=g.ab,B=g.c*_,U=g.C;_=U+_;var G=C,X=L;for(L=g.Ta,C=g.Ua;0<I--;){var ie=g.gc[I],ge=U,Ee=_,te=G,be=X,Se=(X=L,G=C,ie.Ea);switch(e(ge<Ee),e(Ee<=ie.nc),ie.hc){case 2:ci(te,be,(Ee-ge)*Se,X,G);break;case 0:var je=ge,Ae=Ee,Ie=X,ze=G,Qe=(ut=ie).Ea;je==0&&(zl(te,be,null,null,1,Ie,ze),Bt(te,be+1,0,0,Qe-1,Ie,ze+1),be+=Qe,ze+=Qe,++je);for(var Ve=1<<ut.b,gt=Ve-1,ot=Le(Qe,ut.b),Pt=ut.K,ut=ut.w+(je>>ut.b)*ot;je<Ae;){var Xt=Pt,Un=ut,Ut=1;for(Ul(te,be,Ie,ze-Qe,1,Ie,ze);Ut<Qe;){var lt=(Ut&~gt)+Ve;lt>Qe&&(lt=Qe),(0,Aa[Xt[Un++]>>8&15])(te,be+ +Ut,Ie,ze+Ut-Qe,lt-Ut,Ie,ze+Ut),Ut=lt}be+=Qe,ze+=Qe,++je&gt||(ut+=ot)}Ee!=ie.nc&&i(X,G-Se,X,G+(Ee-ge-1)*Se,Se);break;case 1:for(Se=te,Ae=be,Qe=(te=ie.Ea)-(ze=te&~(Ie=(be=1<<ie.b)-1)),je=Le(te,ie.b),Ve=ie.K,ie=ie.w+(ge>>ie.b)*je;ge<Ee;){for(gt=Ve,ot=ie,Pt=new qe,ut=Ae+ze,Xt=Ae+te;Ae<ut;)at(gt[ot++],Pt),Hl(Pt,Se,Ae,be,X,G),Ae+=be,G+=be;Ae<Xt&&(at(gt[ot++],Pt),Hl(Pt,Se,Ae,Qe,X,G),Ae+=Qe,G+=Qe),++ge&Ie||(ie+=je)}break;case 3:if(te==X&&be==G&&0<ie.b){for(Ae=X,te=Se=G+(Ee-ge)*Se-(ze=(Ee-ge)*Le(ie.Ea,ie.b)),be=X,Ie=G,je=[],ze=(Qe=ze)-1;0<=ze;--ze)je[ze]=be[Ie+ze];for(ze=Qe-1;0<=ze;--ze)Ae[te+ze]=je[ze];sh(ie,ge,Ee,X,Se,X,G)}else sh(ie,ge,Ee,te,be,X,G)}G=L,X=C}X!=C&&i(L,C,G,X,B)}function fs(g,_){var C=g.V,L=g.Ba+g.c*g.C,I=_-g.C;if(e(_<=g.l.o),e(16>=I),0<I){var B=g.l,U=g.Ta,G=g.Ua,X=B.width;if(Ka(g,I,C,L),I=G=[G],e((C=g.C)<(L=_)),e(B.v<B.va),L>B.o&&(L=B.o),C<B.j){var ie=B.j-C;C=B.j,I[0]+=ie*X}if(C>=L?C=0:(I[0]+=4*B.v,B.ka=C-B.j,B.U=B.va-B.v,B.T=L-C,C=1),C){if(G=G[0],11>(C=g.ca).S){var ge=C.f.RGBA,Ee=(L=C.S,I=B.U,B=B.T,ie=ge.eb,ge.A),te=B;for(ge=ge.fb+g.Ma*ge.A;0<te--;){var be=U,Se=G,je=I,Ae=ie,Ie=ge;switch(L){case oh:ql(be,Se,je,Ae,Ie);break;case is:Ca(be,Se,je,Ae,Ie);break;case cu:Ca(be,Se,je,Ae,Ie),Ho(Ae,Ie,0,je,1,0);break;case lh:zo(be,Se,je,Ae,Ie);break;case Js:Ke(be,Se,je,Ae,Ie,1);break;case ch:Ke(be,Se,je,Ae,Ie,1),Ho(Ae,Ie,0,je,1,0);break;case lu:Ke(be,Se,je,Ae,Ie,0);break;case Vl:Ke(be,Se,je,Ae,Ie,0),Ho(Ae,Ie,1,je,1,0);break;case Wl:Ea(be,Se,je,Ae,Ie);break;case uh:Ea(be,Se,je,Ae,Ie),Qs(Ae,Ie,je,1,0);break;case io:Kr(be,Se,je,Ae,Ie);break;default:e(0)}G+=X,ge+=Ee}g.Ma+=B}else alert("todo:EmitRescaledRowsYUVA");e(g.Ma<=C.height)}}g.C=_,e(g.C<=g.i)}function An(g){var _;if(0<g.ua)return 0;for(_=0;_<g.Wb;++_){var C=g.Ya[_].G,L=g.Ya[_].H;if(0<C[1][L[1]+0].g||0<C[2][L[2]+0].g||0<C[3][L[3]+0].g)return 0}return 1}function Yn(g,_,C,L,I,B){if(g.Z!=0){var U=g.qd,G=g.rd;for(e(La[g.Z]!=null);_<C;++_)La[g.Z](U,G,L,I,L,I,B),U=L,G=I,I+=B;g.qd=U,g.rd=G}}function es(g,_){var C=g.l.ma,L=C.Z==0||C.Z==1?g.l.j:g.C;if(L=g.C<L?L:g.C,e(_<=g.l.o),_>L){var I=g.l.width,B=C.ca,U=C.tb+I*L,G=g.V,X=g.Ba+g.c*L,ie=g.gc;e(g.ab==1),e(ie[0].hc==3),Xr(ie[0],L,_,G,X,B,U),Yn(C,L,_,B,U,I)}g.C=g.Ma=_}function Is(g,_,C,L,I,B,U){var G=g.$/L,X=g.$%L,ie=g.m,ge=g.s,Ee=C+g.$,te=Ee;I=C+L*I;var be=C+L*B,Se=280+ge.ua,je=g.Pb?G:16777216,Ae=0<ge.ua?ge.Wa:null,Ie=ge.wc,ze=Ee<be?Oi(ge,X,G):null;e(g.C<B),e(be<=I);var Qe=!1;e:for(;;){for(;Qe||Ee<be;){var Ve=0;if(G>=je){var gt=Ee-C;e((je=g).Pb),je.wd=je.m,je.xd=gt,0<je.s.ua&&nt(je.s.Wa,je.s.vb),je=G+so}if(X&Ie||(ze=Oi(ge,X,G)),e(ze!=null),ze.Qb&&(_[Ee]=ze.qb,Qe=!0),!Qe)if(ve(ie),ze.jc){Ve=ie,gt=_;var ot=Ee,Pt=ze.pd[z(Ve)&no-1];e(ze.jc),256>Pt.g?(le(Ve,Ve.u+Pt.g),gt[ot]=Pt.value,Ve=0):(le(Ve,Ve.u+Pt.g-256),e(256<=Pt.value),Ve=Pt.value),Ve==0&&(Qe=!0)}else Ve=Vn(ze.G[0],ze.H[0],ie);if(ie.h)break;if(Qe||256>Ve){if(!Qe)if(ze.nd)_[Ee]=(ze.qb|Ve<<8)>>>0;else{if(ve(ie),Qe=Vn(ze.G[1],ze.H[1],ie),ve(ie),gt=Vn(ze.G[2],ze.H[2],ie),ot=Vn(ze.G[3],ze.H[3],ie),ie.h)break;_[Ee]=(ot<<24|Qe<<16|Ve<<8|gt)>>>0}if(Qe=!1,++Ee,++X>=L&&(X=0,++G,U!=null&&G<=B&&!(G%16)&&U(g,G),Ae!=null))for(;te<Ee;)Ve=_[te++],Ae.X[(506832829*Ve&4294967295)>>>Ae.Mb]=Ve}else if(280>Ve){if(Ve=Ms(Ve-256,ie),gt=Vn(ze.G[4],ze.H[4],ie),ve(ie),gt=Os(L,gt=Ms(gt,ie)),ie.h)break;if(Ee-C<gt||I-Ee<Ve)break e;for(ot=0;ot<Ve;++ot)_[Ee+ot]=_[Ee+ot-gt];for(Ee+=Ve,X+=Ve;X>=L;)X-=L,++G,U!=null&&G<=B&&!(G%16)&&U(g,G);if(e(Ee<=I),X&Ie&&(ze=Oi(ge,X,G)),Ae!=null)for(;te<Ee;)Ve=_[te++],Ae.X[(506832829*Ve&4294967295)>>>Ae.Mb]=Ve}else{if(!(Ve<Se))break e;for(Qe=Ve-280,e(Ae!=null);te<Ee;)Ve=_[te++],Ae.X[(506832829*Ve&4294967295)>>>Ae.Mb]=Ve;Ve=Ee,e(!(Qe>>>(gt=Ae).Xa)),_[Ve]=gt.X[Qe],Qe=!0}Qe||e(ie.h==Z(ie))}if(g.Pb&&ie.h&&Ee<I)e(g.m.h),g.a=5,g.m=g.wd,g.$=g.xd,0<g.s.ua&&nt(g.s.vb,g.s.Wa);else{if(ie.h)break e;U?.(g,G>B?B:G),g.a=0,g.$=Ee-C}return 1}return g.a=3,0}function Ys(g){e(g!=null),g.vc=null,g.yc=null,g.Ya=null;var _=g.Wa;_!=null&&(_.X=null),g.vb=null,e(g!=null)}function Ro(){var g=new Mt;return g==null?null:(g.a=0,g.xb=Of,Dn("Predictor","VP8LPredictors"),Dn("Predictor","VP8LPredictors_C"),Dn("PredictorAdd","VP8LPredictorsAdd"),Dn("PredictorAdd","VP8LPredictorsAdd_C"),ci=rt,Hl=St,ql=wn,Ca=me,Ea=De,Kr=Xe,zo=Ct,Y.VP8LMapColor32b=$r,Y.VP8LMapColor8b=Hi,g)}function vr(g,_,C,L,I){var B=1,U=[g],G=[_],X=L.m,ie=L.s,ge=null,Ee=0;e:for(;;){if(C)for(;B&&F(X,1);){var te=U,be=G,Se=L,je=1,Ae=Se.m,Ie=Se.gc[Se.ab],ze=F(Ae,2);if(Se.Oc&1<<ze)B=0;else{switch(Se.Oc|=1<<ze,Ie.hc=ze,Ie.Ea=te[0],Ie.nc=be[0],Ie.K=[null],++Se.ab,e(4>=Se.ab),ze){case 0:case 1:Ie.b=F(Ae,3)+2,je=vr(Le(Ie.Ea,Ie.b),Le(Ie.nc,Ie.b),0,Se,Ie.K),Ie.K=Ie.K[0];break;case 3:var Qe,Ve=F(Ae,8)+1,gt=16<Ve?0:4<Ve?1:2<Ve?2:3;if(te[0]=Le(Ie.Ea,gt),Ie.b=gt,Qe=je=vr(Ve,1,0,Se,Ie.K)){var ot,Pt=Ve,ut=Ie,Xt=1<<(8>>ut.b),Un=a(Xt);if(Un==null)Qe=0;else{var Ut=ut.K[0],lt=ut.w;for(Un[0]=ut.K[0][0],ot=1;ot<1*Pt;++ot)Un[ot]=Je(Ut[lt+ot],Un[ot-1]);for(;ot<4*Xt;++ot)Un[ot]=0;ut.K[0]=null,ut.K[0]=Un,Qe=1}}je=Qe;break;case 2:break;default:e(0)}B=je}}if(U=U[0],G=G[0],B&&F(X,1)&&!(B=1<=(Ee=F(X,4))&&11>=Ee)){L.a=3;break e}var et;if(et=B)t:{var Xn,Lt,Vt,bn=L,ki=U,Yi=G,In=Ee,yi=C,ss=bn.m,vi=bn.s,Yt=[null],cn=1,Kn=0,pn=tr[In];n:for(;;){if(yi&&F(ss,1)){var Ti=F(ss,3)+2,Qn=Le(ki,Ti),un=Le(Yi,Ti),fi=Qn*un;if(!vr(Qn,un,0,bn,Yt))break n;for(Yt=Yt[0],vi.xc=Ti,Xn=0;Xn<fi;++Xn){var _n=Yt[Xn]>>8&65535;Yt[Xn]=_n,_n>=cn&&(cn=_n+1)}}if(ss.h)break n;for(Lt=0;5>Lt;++Lt){var bi=Wo[Lt];!Lt&&0<In&&(bi+=1<<In),Kn<bi&&(Kn=bi)}var _i=l(cn*pn,Q),Cn=cn,ln=l(Cn,pe);if(ln==null)var rs=null;else e(65536>=Cn),rs=ln;var ii=a(Kn);if(rs==null||ii==null||_i==null){bn.a=1;break n}var At=_i;for(Xn=Vt=0;Xn<cn;++Xn){var Et=rs[Xn],hn=Et.G,Ss=Et.H,rr=0,vs=1,xi=0;for(Lt=0;5>Lt;++Lt){bi=Wo[Lt],hn[Lt]=At,Ss[Lt]=Vt,!Lt&&0<In&&(bi+=1<<In);s:{var uo,ho=bi,yh=bn,Pn=ii,Pf=At,jf=Vt,vh=0,Ra=yh.m,w0=F(Ra,1);if(s(Pn,0,0,ho),w0){var Ff=F(Ra,1)+1,Bf=F(Ra,1),bh=F(Ra,Bf==0?1:8);Pn[bh]=1,Ff==2&&(Pn[bh=F(Ra,8)]=1);var ji=1}else{var si=a(19),du=F(Ra,4)+4;if(19<du){yh.a=3;var fo=0;break s}for(uo=0;uo<du;++uo)si[uu[uo]]=F(Ra,3);var Kl=void 0,Yo=void 0,Zr=yh,_h=si,Ql=ho,xh=Pn,wh=0,Da=Zr.m,zf=8,Uf=l(128,Q);i:for(;M(Uf,0,7,_h,19);){if(F(Da,1)){var Ip=2+2*F(Da,3);if((Kl=2+F(Da,Ip))>Ql)break i}else Kl=Ql;for(Yo=0;Yo<Ql&&Kl--;){ve(Da);var Hf=Uf[0+(127&z(Da))];le(Da,Da.u+Hf.g);var po=Hf.value;if(16>po)xh[Yo++]=po,po!=0&&(zf=po);else{var Pp=po==16,jp=po-16,Fp=Gl[jp],qf=F(Da,Zs[jp])+Fp;if(Yo+qf>Ql)break i;for(var Bp=Pp?zf:0;0<qf--;)xh[Yo++]=Bp}}wh=1;break i}wh||(Zr.a=3),ji=wh}(ji=ji&&!Ra.h)&&(vh=M(Pf,jf,8,Pn,ho)),ji&&vh!=0?fo=vh:(yh.a=3,fo=0)}if(fo==0)break n;if(vs&&hh[Lt]==1&&(vs=At[Vt].g==0),rr+=At[Vt].g,Vt+=fo,3>=Lt){var $o,Sh=ii[0];for($o=1;$o<bi;++$o)ii[$o]>Sh&&(Sh=ii[$o]);xi+=Sh}}if(Et.nd=vs,Et.Qb=0,vs&&(Et.qb=(hn[3][Ss[3]+0].value<<24|hn[1][Ss[1]+0].value<<16|hn[2][Ss[2]+0].value)>>>0,rr==0&&256>hn[0][Ss[0]+0].value&&(Et.Qb=1,Et.qb+=hn[0][Ss[0]+0].value<<8)),Et.jc=!Et.Qb&&6>xi,Et.jc){var pu,ea=Et;for(pu=0;pu<no;++pu){var Ma=pu,Oa=ea.pd[Ma],Nh=ea.G[0][ea.H[0]+Ma];256<=Nh.value?(Oa.g=Nh.g+256,Oa.value=Nh.value):(Oa.g=0,Oa.value=0,Ma>>=pi(Nh,8,Oa),Ma>>=pi(ea.G[1][ea.H[1]+Ma],16,Oa),Ma>>=pi(ea.G[2][ea.H[2]+Ma],0,Oa),pi(ea.G[3][ea.H[3]+Ma],24,Oa))}}}vi.vc=Yt,vi.Wb=cn,vi.Ya=rs,vi.yc=_i,et=1;break t}et=0}if(!(B=et)){L.a=3;break e}if(0<Ee){if(ie.ua=1<<Ee,!ee(ie.Wa,Ee)){L.a=1,B=0;break e}}else ie.ua=0;var Ah=L,Xo=U,zp=G,Jl=Ah.s,Zl=Jl.xc;if(Ah.c=Xo,Ah.i=zp,Jl.md=Le(Xo,Zl),Jl.wc=Zl==0?-1:(1<<Zl)-1,C){L.xb=ro;break e}if((ge=a(U*G))==null){L.a=1,B=0;break e}B=(B=Is(L,ge,0,U,G,G,null))&&!X.h;break e}return B?(I!=null?I[0]=ge:(e(ge==null),e(C)),L.$=0,C||Ys(ie)):Ys(ie),B}function br(g,_){var C=g.c*g.i,L=C+_+16*_;return e(g.c<=_),g.V=a(L),g.V==null?(g.Ta=null,g.Ua=0,g.a=1,0):(g.Ta=g.V,g.Ua=g.Ba+C+_,1)}function Qa(g,_){var C=g.C,L=_-C,I=g.V,B=g.Ba+g.c*C;for(e(_<=g.l.o);0<L;){var U=16<L?16:L,G=g.l.ma,X=g.l.width,ie=X*U,ge=G.ca,Ee=G.tb+X*C,te=g.Ta,be=g.Ua;Ka(g,U,I,B),Hs(te,be,ge,Ee,ie),Yn(G,C,C+U,ge,Ee,X),L-=U,I+=U*g.c,C+=U}e(C==_),g.C=g.Ma=_}function _r(){this.ub=this.yd=this.td=this.Rb=0}function xr(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Do(){this.Fb=this.Bb=this.Cb=0,this.Zb=a(4),this.Lb=a(4)}function zr(){this.Yb=(function(){var g=[];return(function _(C,L,I){for(var B=I[L],U=0;U<B&&(C.push(I.length>L+1?[]:0),!(I.length<L+1));U++)_(C[U],L+1,I)})(g,0,[3,11]),g})()}function oi(){this.jb=a(3),this.Wc=c([4,8],zr),this.Xc=c([4,17],zr)}function zc(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new a(4),this.od=new a(4)}function Ps(){this.ld=this.La=this.dd=this.tc=0}function wr(){this.Na=this.la=0}function ua(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Uc(){this.ad=a(384),this.Za=0,this.Ob=a(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Hc(){this.uc=this.M=this.Nb=0,this.wa=Array(new Ps),this.Y=0,this.ya=Array(new Uc),this.aa=0,this.l=new ha}function qc(){this.y=a(16),this.f=a(8),this.ea=a(8)}function $u(){this.cb=this.a=0,this.sc="",this.m=new w,this.Od=new _r,this.Kc=new xr,this.ed=new zc,this.Qa=new Do,this.Ic=this.$c=this.Aa=0,this.D=new Hc,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=l(8,w),this.ia=0,this.pb=l(4,ua),this.Pa=new oi,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new qc),this.Hd=0,this.rb=Array(new wr),this.sb=0,this.wa=Array(new Ps),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Uc),this.L=this.aa=0,this.gd=c([4,2],Ps),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function js(g,_){return 0>g?0:g>_?_:g}function ha(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Sr(){var g=new $u;return g!=null&&(g.a=0,g.sc="OK",g.cb=0,g.Xb=0,qs||(qs=Ja)),g}function fn(g,_,C){return g.a==0&&(g.a=_,g.sc=C,g.cb=0),0}function Wc(g,_,C){return 3<=C&&g[_+0]==157&&g[_+1]==1&&g[_+2]==42}function Ur(g,_){if(g==null)return 0;if(g.a=0,g.sc="OK",_==null)return fn(g,2,"null VP8Io passed to VP8GetHeaders()");var C=_.data,L=_.w,I=_.ha;if(4>I)return fn(g,7,"Truncated header.");var B=C[L+0]|C[L+1]<<8|C[L+2]<<16,U=g.Od;if(U.Rb=!(1&B),U.td=B>>1&7,U.yd=B>>4&1,U.ub=B>>5,3<U.td)return fn(g,3,"Incorrect keyframe parameters.");if(!U.yd)return fn(g,4,"Frame not displayable.");L+=3,I-=3;var G=g.Kc;if(U.Rb){if(7>I)return fn(g,7,"cannot parse picture header");if(!Wc(C,L,I))return fn(g,3,"Bad code word");G.c=16383&(C[L+4]<<8|C[L+3]),G.Td=C[L+4]>>6,G.i=16383&(C[L+6]<<8|C[L+5]),G.Ud=C[L+6]>>6,L+=7,I-=7,g.za=G.c+15>>4,g.Ub=G.i+15>>4,_.width=G.c,_.height=G.i,_.Da=0,_.j=0,_.v=0,_.va=_.width,_.o=_.height,_.da=0,_.ib=_.width,_.hb=_.height,_.U=_.width,_.T=_.height,s((B=g.Pa).jb,0,255,B.jb.length),e((B=g.Qa)!=null),B.Cb=0,B.Bb=0,B.Fb=1,s(B.Zb,0,0,B.Zb.length),s(B.Lb,0,0,B.Lb)}if(U.ub>I)return fn(g,7,"bad partition length");$(B=g.m,C,L,U.ub),L+=U.ub,I-=U.ub,U.Rb&&(G.Ld=Ce(B),G.Kd=Ce(B)),G=g.Qa;var X,ie=g.Pa;if(e(B!=null),e(G!=null),G.Cb=Ce(B),G.Cb){if(G.Bb=Ce(B),Ce(B)){for(G.Fb=Ce(B),X=0;4>X;++X)G.Zb[X]=Ce(B)?ce(B,7):0;for(X=0;4>X;++X)G.Lb[X]=Ce(B)?ce(B,6):0}if(G.Bb)for(X=0;3>X;++X)ie.jb[X]=Ce(B)?re(B,8):255}else G.Bb=0;if(B.Ka)return fn(g,3,"cannot parse segment header");if((G=g.ed).zd=Ce(B),G.Tb=re(B,6),G.wb=re(B,3),G.Pc=Ce(B),G.Pc&&Ce(B)){for(ie=0;4>ie;++ie)Ce(B)&&(G.vd[ie]=ce(B,6));for(ie=0;4>ie;++ie)Ce(B)&&(G.od[ie]=ce(B,6))}if(g.L=G.Tb==0?0:G.zd?1:2,B.Ka)return fn(g,3,"cannot parse filter header");var ge=I;if(I=X=L,L=X+ge,G=ge,g.Xb=(1<<re(g.m,2))-1,ge<3*(ie=g.Xb))C=7;else{for(X+=3*ie,G-=3*ie,ge=0;ge<ie;++ge){var Ee=C[I+0]|C[I+1]<<8|C[I+2]<<16;Ee>G&&(Ee=G),$(g.Jc[+ge],C,X,Ee),X+=Ee,G-=Ee,I+=3}$(g.Jc[+ie],C,X,G),C=X<L?0:5}if(C!=0)return fn(g,C,"cannot parse partitions");for(C=re(X=g.m,7),I=Ce(X)?ce(X,4):0,L=Ce(X)?ce(X,4):0,G=Ce(X)?ce(X,4):0,ie=Ce(X)?ce(X,4):0,X=Ce(X)?ce(X,4):0,ge=g.Qa,Ee=0;4>Ee;++Ee){if(ge.Cb){var te=ge.Zb[Ee];ge.Fb||(te+=C)}else{if(0<Ee){g.pb[Ee]=g.pb[0];continue}te=C}var be=g.pb[Ee];be.Sc[0]=nr[js(te+I,127)],be.Sc[1]=ir[js(te+0,127)],be.Eb[0]=2*nr[js(te+L,127)],be.Eb[1]=101581*ir[js(te+G,127)]>>16,8>be.Eb[1]&&(be.Eb[1]=8),be.Qc[0]=nr[js(te+ie,117)],be.Qc[1]=ir[js(te+X,127)],be.lc=te+X}if(!U.Rb)return fn(g,4,"Not a key frame.");for(Ce(B),U=g.Pa,C=0;4>C;++C){for(I=0;8>I;++I)for(L=0;3>L;++L)for(G=0;11>G;++G)ie=Pe(B,zn[C][I][L][G])?re(B,8):Mp[C][I][L][G],U.Wc[C][I].Yb[L][G]=ie;for(I=0;17>I;++I)U.Xc[C][I]=U.Wc[C][Qt[I]]}return g.kc=Ce(B),g.kc&&(g.Bd=re(B,8)),g.cb=1}function Ja(g,_,C,L,I,B,U){var G=_[I].Yb[C];for(C=0;16>I;++I){if(!Pe(g,G[C+0]))return I;for(;!Pe(g,G[C+1]);)if(G=_[++I].Yb[0],C=0,I==16)return 16;var X=_[I+1].Yb;if(Pe(g,G[C+2])){var ie=g,ge=0;if(Pe(ie,(te=G)[(Ee=C)+3]))if(Pe(ie,te[Ee+6])){for(G=0,Ee=2*(ge=Pe(ie,te[Ee+8]))+(te=Pe(ie,te[Ee+9+ge])),ge=0,te=Dp[Ee];te[G];++G)ge+=ge+Pe(ie,te[G]);ge+=3+(8<<Ee)}else Pe(ie,te[Ee+7])?(ge=7+2*Pe(ie,165),ge+=Pe(ie,145)):ge=5+Pe(ie,159);else ge=Pe(ie,te[Ee+4])?3+Pe(ie,te[Ee+5]):2;G=X[2]}else ge=1,G=X[1];X=U+Mf[I],0>(ie=g).b&&Ne(ie);var Ee,te=ie.b,be=(Ee=ie.Ca>>1)-(ie.I>>te)>>31;--ie.b,ie.Ca+=be,ie.Ca|=1,ie.I-=(Ee+1&be)<<te,B[X]=((ge^be)-be)*L[(0<I)+0]}return 16}function Vc(g){var _=g.rb[g.sb-1];_.la=0,_.Na=0,s(g.zc,0,0,g.zc.length),g.ja=0}function ds(g,_,C,L,I){I=g[_+C+32*L]+(I>>3),g[_+C+32*L]=-256&I?0>I?0:255:I}function Ci(g,_,C,L,I,B){ds(g,_,0,C,L+I),ds(g,_,1,C,L+B),ds(g,_,2,C,L-B),ds(g,_,3,C,L-I)}function gi(g){return(20091*g>>16)+g}function Ml(g,_,C,L){var I,B=0,U=a(16);for(I=0;4>I;++I){var G=g[_+0]+g[_+8],X=g[_+0]-g[_+8],ie=(35468*g[_+4]>>16)-gi(g[_+12]),ge=gi(g[_+4])+(35468*g[_+12]>>16);U[B+0]=G+ge,U[B+1]=X+ie,U[B+2]=X-ie,U[B+3]=G-ge,B+=4,_++}for(I=B=0;4>I;++I)G=(g=U[B+0]+4)+U[B+8],X=g-U[B+8],ie=(35468*U[B+4]>>16)-gi(U[B+12]),ds(C,L,0,0,G+(ge=gi(U[B+4])+(35468*U[B+12]>>16))),ds(C,L,1,0,X+ie),ds(C,L,2,0,X-ie),ds(C,L,3,0,G-ge),B++,L+=32}function Xu(g,_,C,L){var I=g[_+0]+4,B=35468*g[_+4]>>16,U=gi(g[_+4]),G=35468*g[_+1]>>16;Ci(C,L,0,I+U,g=gi(g[_+1]),G),Ci(C,L,1,I+B,g,G),Ci(C,L,2,I-B,g,G),Ci(C,L,3,I-U,g,G)}function Gc(g,_,C,L,I){Ml(g,_,C,L),I&&Ml(g,_+16,C,L+4)}function ps(g,_,C,L){ka(g,_+0,C,L,1),ka(g,_+32,C,L+128,1)}function Yc(g,_,C,L){var I;for(g=g[_+0]+4,I=0;4>I;++I)for(_=0;4>_;++_)ds(C,L,_,I,g)}function $c(g,_,C,L){g[_+0]&&dn(g,_+0,C,L),g[_+16]&&dn(g,_+16,C,L+4),g[_+32]&&dn(g,_+32,C,L+128),g[_+48]&&dn(g,_+48,C,L+128+4)}function Nr(g,_,C,L){var I,B=a(16);for(I=0;4>I;++I){var U=g[_+0+I]+g[_+12+I],G=g[_+4+I]+g[_+8+I],X=g[_+4+I]-g[_+8+I],ie=g[_+0+I]-g[_+12+I];B[0+I]=U+G,B[8+I]=U-G,B[4+I]=ie+X,B[12+I]=ie-X}for(I=0;4>I;++I)U=(g=B[0+4*I]+3)+B[3+4*I],G=B[1+4*I]+B[2+4*I],X=B[1+4*I]-B[2+4*I],ie=g-B[3+4*I],C[L+0]=U+G>>3,C[L+16]=ie+X>>3,C[L+32]=U-G>>3,C[L+48]=ie-X>>3,L+=64}function Mo(g,_,C){var L,I=_-32,B=ns,U=255-g[I-1];for(L=0;L<C;++L){var G,X=B,ie=U+g[_-1];for(G=0;G<C;++G)g[_+G]=X[ie+g[I+G]];_+=32}}function Ku(g,_){Mo(g,_,4)}function Qu(g,_){Mo(g,_,8)}function Xc(g,_){Mo(g,_,16)}function Kc(g,_){var C;for(C=0;16>C;++C)i(g,_+32*C,g,_-32,16)}function Ju(g,_){var C;for(C=16;0<C;--C)s(g,_,g[_-1],16),_+=32}function xs(g,_,C){var L;for(L=0;16>L;++L)s(_,C+32*L,g,16)}function Ar(g,_){var C,L=16;for(C=0;16>C;++C)L+=g[_-1+32*C]+g[_+C-32];xs(L>>5,g,_)}function fa(g,_){var C,L=8;for(C=0;16>C;++C)L+=g[_-1+32*C];xs(L>>4,g,_)}function Oo(g,_){var C,L=8;for(C=0;16>C;++C)L+=g[_+C-32];xs(L>>4,g,_)}function Za(g,_){xs(128,g,_)}function Tt(g,_,C){return g+2*_+C+2>>2}function Zu(g,_){var C,L=_-32;for(L=new Uint8Array([Tt(g[L-1],g[L+0],g[L+1]),Tt(g[L+0],g[L+1],g[L+2]),Tt(g[L+1],g[L+2],g[L+3]),Tt(g[L+2],g[L+3],g[L+4])]),C=0;4>C;++C)i(g,_+32*C,L,0,L.length)}function Qc(g,_){var C=g[_-1],L=g[_-1+32],I=g[_-1+64],B=g[_-1+96];$e(g,_+0,16843009*Tt(g[_-1-32],C,L)),$e(g,_+32,16843009*Tt(C,L,I)),$e(g,_+64,16843009*Tt(L,I,B)),$e(g,_+96,16843009*Tt(I,B,B))}function eh(g,_){var C,L=4;for(C=0;4>C;++C)L+=g[_+C-32]+g[_-1+32*C];for(L>>=3,C=0;4>C;++C)s(g,_+32*C,L,4)}function Fs(g,_){var C=g[_-1+0],L=g[_-1+32],I=g[_-1+64],B=g[_-1-32],U=g[_+0-32],G=g[_+1-32],X=g[_+2-32],ie=g[_+3-32];g[_+0+96]=Tt(L,I,g[_-1+96]),g[_+1+96]=g[_+0+64]=Tt(C,L,I),g[_+2+96]=g[_+1+64]=g[_+0+32]=Tt(B,C,L),g[_+3+96]=g[_+2+64]=g[_+1+32]=g[_+0+0]=Tt(U,B,C),g[_+3+64]=g[_+2+32]=g[_+1+0]=Tt(G,U,B),g[_+3+32]=g[_+2+0]=Tt(X,G,U),g[_+3+0]=Tt(ie,X,G)}function zi(g,_){var C=g[_+1-32],L=g[_+2-32],I=g[_+3-32],B=g[_+4-32],U=g[_+5-32],G=g[_+6-32],X=g[_+7-32];g[_+0+0]=Tt(g[_+0-32],C,L),g[_+1+0]=g[_+0+32]=Tt(C,L,I),g[_+2+0]=g[_+1+32]=g[_+0+64]=Tt(L,I,B),g[_+3+0]=g[_+2+32]=g[_+1+64]=g[_+0+96]=Tt(I,B,U),g[_+3+32]=g[_+2+64]=g[_+1+96]=Tt(B,U,G),g[_+3+64]=g[_+2+96]=Tt(U,G,X),g[_+3+96]=Tt(G,X,X)}function Jc(g,_){var C=g[_-1+0],L=g[_-1+32],I=g[_-1+64],B=g[_-1-32],U=g[_+0-32],G=g[_+1-32],X=g[_+2-32],ie=g[_+3-32];g[_+0+0]=g[_+1+64]=B+U+1>>1,g[_+1+0]=g[_+2+64]=U+G+1>>1,g[_+2+0]=g[_+3+64]=G+X+1>>1,g[_+3+0]=X+ie+1>>1,g[_+0+96]=Tt(I,L,C),g[_+0+64]=Tt(L,C,B),g[_+0+32]=g[_+1+96]=Tt(C,B,U),g[_+1+32]=g[_+2+96]=Tt(B,U,G),g[_+2+32]=g[_+3+96]=Tt(U,G,X),g[_+3+32]=Tt(G,X,ie)}function Io(g,_){var C=g[_+0-32],L=g[_+1-32],I=g[_+2-32],B=g[_+3-32],U=g[_+4-32],G=g[_+5-32],X=g[_+6-32],ie=g[_+7-32];g[_+0+0]=C+L+1>>1,g[_+1+0]=g[_+0+64]=L+I+1>>1,g[_+2+0]=g[_+1+64]=I+B+1>>1,g[_+3+0]=g[_+2+64]=B+U+1>>1,g[_+0+32]=Tt(C,L,I),g[_+1+32]=g[_+0+96]=Tt(L,I,B),g[_+2+32]=g[_+1+96]=Tt(I,B,U),g[_+3+32]=g[_+2+96]=Tt(B,U,G),g[_+3+64]=Tt(U,G,X),g[_+3+96]=Tt(G,X,ie)}function Bs(g,_){var C=g[_-1+0],L=g[_-1+32],I=g[_-1+64],B=g[_-1+96];g[_+0+0]=C+L+1>>1,g[_+2+0]=g[_+0+32]=L+I+1>>1,g[_+2+32]=g[_+0+64]=I+B+1>>1,g[_+1+0]=Tt(C,L,I),g[_+3+0]=g[_+1+32]=Tt(L,I,B),g[_+3+32]=g[_+1+64]=Tt(I,B,B),g[_+3+64]=g[_+2+64]=g[_+0+96]=g[_+1+96]=g[_+2+96]=g[_+3+96]=B}function Po(g,_){var C=g[_-1+0],L=g[_-1+32],I=g[_-1+64],B=g[_-1+96],U=g[_-1-32],G=g[_+0-32],X=g[_+1-32],ie=g[_+2-32];g[_+0+0]=g[_+2+32]=C+U+1>>1,g[_+0+32]=g[_+2+64]=L+C+1>>1,g[_+0+64]=g[_+2+96]=I+L+1>>1,g[_+0+96]=B+I+1>>1,g[_+3+0]=Tt(G,X,ie),g[_+2+0]=Tt(U,G,X),g[_+1+0]=g[_+3+32]=Tt(C,U,G),g[_+1+32]=g[_+3+64]=Tt(L,C,U),g[_+1+64]=g[_+3+96]=Tt(I,L,C),g[_+1+96]=Tt(B,I,L)}function Hr(g,_){var C;for(C=0;8>C;++C)i(g,_+32*C,g,_-32,8)}function th(g,_){var C;for(C=0;8>C;++C)s(g,_,g[_-1],8),_+=32}function $s(g,_,C){var L;for(L=0;8>L;++L)s(_,C+32*L,g,8)}function Ol(g,_){var C,L=8;for(C=0;8>C;++C)L+=g[_+C-32]+g[_-1+32*C];$s(L>>4,g,_)}function Il(g,_){var C,L=4;for(C=0;8>C;++C)L+=g[_+C-32];$s(L>>3,g,_)}function Ii(g,_){var C,L=4;for(C=0;8>C;++C)L+=g[_-1+32*C];$s(L>>3,g,_)}function qr(g,_){$s(128,g,_)}function Xs(g,_,C){var L=g[_-C],I=g[_+0],B=3*(I-L)+Ta[1020+g[_-2*C]-g[_+C]],U=ou[112+(B+4>>3)];g[_-C]=ns[255+L+ou[112+(B+3>>3)]],g[_+0]=ns[255+I-U]}function da(g,_,C,L){var I=g[_+0],B=g[_+C];return qi[255+g[_-2*C]-g[_-C]]>L||qi[255+B-I]>L}function Pl(g,_,C,L){return 4*qi[255+g[_-C]-g[_+0]]+qi[255+g[_-2*C]-g[_+C]]<=L}function jo(g,_,C,L,I){var B=g[_-3*C],U=g[_-2*C],G=g[_-C],X=g[_+0],ie=g[_+C],ge=g[_+2*C],Ee=g[_+3*C];return 4*qi[255+G-X]+qi[255+U-ie]>L?0:qi[255+g[_-4*C]-B]<=I&&qi[255+B-U]<=I&&qi[255+U-G]<=I&&qi[255+Ee-ge]<=I&&qi[255+ge-ie]<=I&&qi[255+ie-X]<=I}function pa(g,_,C,L){var I=2*L+1;for(L=0;16>L;++L)Pl(g,_+L,C,I)&&Xs(g,_+L,C)}function ga(g,_,C,L){var I=2*L+1;for(L=0;16>L;++L)Pl(g,_+L*C,1,I)&&Xs(g,_+L*C,1)}function Fo(g,_,C,L){var I;for(I=3;0<I;--I)pa(g,_+=4*C,C,L)}function Zc(g,_,C,L){var I;for(I=3;0<I;--I)ga(g,_+=4,C,L)}function ma(g,_,C,L,I,B,U,G){for(B=2*B+1;0<I--;){if(jo(g,_,C,B,U))if(da(g,_,C,G))Xs(g,_,C);else{var X=g,ie=_,ge=C,Ee=X[ie-2*ge],te=X[ie-ge],be=X[ie+0],Se=X[ie+ge],je=X[ie+2*ge],Ae=27*(ze=Ta[1020+3*(be-te)+Ta[1020+Ee-Se]])+63>>7,Ie=18*ze+63>>7,ze=9*ze+63>>7;X[ie-3*ge]=ns[255+X[ie-3*ge]+ze],X[ie-2*ge]=ns[255+Ee+Ie],X[ie-ge]=ns[255+te+Ae],X[ie+0]=ns[255+be-Ae],X[ie+ge]=ns[255+Se-Ie],X[ie+2*ge]=ns[255+je-ze]}_+=L}}function ya(g,_,C,L,I,B,U,G){for(B=2*B+1;0<I--;){if(jo(g,_,C,B,U))if(da(g,_,C,G))Xs(g,_,C);else{var X=g,ie=_,ge=C,Ee=X[ie-ge],te=X[ie+0],be=X[ie+ge],Se=ou[112+(4+(je=3*(te-Ee))>>3)],je=ou[112+(je+3>>3)],Ae=Se+1>>1;X[ie-2*ge]=ns[255+X[ie-2*ge]+Ae],X[ie-ge]=ns[255+Ee+je],X[ie+0]=ns[255+te-Se],X[ie+ge]=ns[255+be-Ae]}_+=L}}function nh(g,_,C,L,I,B){ma(g,_,C,1,16,L,I,B)}function va(g,_,C,L,I,B){ma(g,_,1,C,16,L,I,B)}function ih(g,_,C,L,I,B){var U;for(U=3;0<U;--U)ya(g,_+=4*C,C,1,16,L,I,B)}function S(g,_,C,L,I,B){var U;for(U=3;0<U;--U)ya(g,_+=4,1,C,16,L,I,B)}function O(g,_,C,L,I,B,U,G){ma(g,_,I,1,8,B,U,G),ma(C,L,I,1,8,B,U,G)}function se(g,_,C,L,I,B,U,G){ma(g,_,1,I,8,B,U,G),ma(C,L,1,I,8,B,U,G)}function fe(g,_,C,L,I,B,U,G){ya(g,_+4*I,I,1,8,B,U,G),ya(C,L+4*I,I,1,8,B,U,G)}function xe(g,_,C,L,I,B,U,G){ya(g,_+4,1,I,8,B,U,G),ya(C,L+4,1,I,8,B,U,G)}function Be(){this.ba=new Wt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new rn,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Ye(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function ft(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function bt(){this.ua=0,this.Wa=new Oe,this.vb=new Oe,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new pe,this.yc=new Q}function Mt(){this.xb=this.a=0,this.l=new ha,this.ca=new Wt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new D,this.Pb=0,this.wd=new D,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new bt,this.ab=0,this.gc=l(4,ft),this.Oc=0}function zt(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new ha,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function an(g,_,C,L,I,B,U){for(g=g==null?0:g[_+0],_=0;_<U;++_)I[B+_]=g+C[L+_]&255,g=I[B+_]}function $n(g,_,C,L,I,B,U){var G;if(g==null)an(null,null,C,L,I,B,U);else for(G=0;G<U;++G)I[B+G]=g[_+G]+C[L+G]&255}function li(g,_,C,L,I,B,U){if(g==null)an(null,null,C,L,I,B,U);else{var G,X=g[_+0],ie=X,ge=X;for(G=0;G<U;++G)ie=ge+(X=g[_+G])-ie,ge=C[L+G]+(-256&ie?0>ie?0:255:ie)&255,ie=X,I[B+G]=ge}}function Mn(g,_,C,L){var I=_.width,B=_.o;if(e(g!=null&&_!=null),0>C||0>=L||C+L>B)return null;if(!g.Cc){if(g.ga==null){var U;if(g.ga=new zt,(U=g.ga==null)||(U=_.width*_.o,e(g.Gb.length==0),g.Gb=a(U),g.Uc=0,g.Gb==null?U=0:(g.mb=g.Gb,g.nb=g.Uc,g.rc=null,U=1),U=!U),!U){U=g.ga;var G=g.Fa,X=g.P,ie=g.qc,ge=g.mb,Ee=g.nb,te=X+1,be=ie-1,Se=U.l;if(e(G!=null&&ge!=null&&_!=null),La[0]=null,La[1]=an,La[2]=$n,La[3]=li,U.ca=ge,U.tb=Ee,U.c=_.width,U.i=_.height,e(0<U.c&&0<U.i),1>=ie)_=0;else if(U.$a=3&G[X+0],U.Z=G[X+0]>>2&3,U.Lc=G[X+0]>>4&3,X=G[X+0]>>6&3,0>U.$a||1<U.$a||4<=U.Z||1<U.Lc||X)_=0;else if(Se.put=Nt,Se.ac=Gs,Se.bc=ca,Se.ma=U,Se.width=_.width,Se.height=_.height,Se.Da=_.Da,Se.v=_.v,Se.va=_.va,Se.j=_.j,Se.o=_.o,U.$a)e:{e(U.$a==1),_=Ro();t:for(;;){if(_==null){_=0;break e}if(e(U!=null),U.mc=_,_.c=U.c,_.i=U.i,_.l=U.l,_.l.ma=U,_.l.width=U.c,_.l.height=U.i,_.a=0,J(_.m,G,te,be),!vr(U.c,U.i,1,_,null)||(_.ab==1&&_.gc[0].hc==3&&An(_.s)?(U.ic=1,G=_.c*_.i,_.Ta=null,_.Ua=0,_.V=a(G),_.Ba=0,_.V==null?(_.a=1,_=0):_=1):(U.ic=0,_=br(_,U.c)),!_))break t;_=1;break e}U.mc=null,_=0}else _=be>=U.c*U.i;U=!_}if(U)return null;g.ga.Lc!=1?g.Ga=0:L=B-C}e(g.ga!=null),e(C+L<=B);e:{if(_=(G=g.ga).c,B=G.l.o,G.$a==0){if(te=g.rc,be=g.Vc,Se=g.Fa,X=g.P+1+C*_,ie=g.mb,ge=g.nb+C*_,e(X<=g.P+g.qc),G.Z!=0)for(e(La[G.Z]!=null),U=0;U<L;++U)La[G.Z](te,be,Se,X,ie,ge,_),te=ie,be=ge,ge+=_,X+=_;else for(U=0;U<L;++U)i(ie,ge,Se,X,_),te=ie,be=ge,ge+=_,X+=_;g.rc=te,g.Vc=be}else{if(e(G.mc!=null),_=C+L,e((U=G.mc)!=null),e(_<=U.i),U.C>=_)_=1;else if(G.ic||Cr(),G.ic){G=U.V,te=U.Ba,be=U.c;var je=U.i,Ae=(Se=1,X=U.$/be,ie=U.$%be,ge=U.m,Ee=U.s,U.$),Ie=be*je,ze=be*_,Qe=Ee.wc,Ve=Ae<ze?Oi(Ee,ie,X):null;e(Ae<=Ie),e(_<=je),e(An(Ee));t:for(;;){for(;!ge.h&&Ae<ze;){if(ie&Qe||(Ve=Oi(Ee,ie,X)),e(Ve!=null),ve(ge),256>(je=Vn(Ve.G[0],Ve.H[0],ge)))G[te+Ae]=je,++Ae,++ie>=be&&(ie=0,++X<=_&&!(X%16)&&es(U,X));else{if(!(280>je)){Se=0;break t}je=Ms(je-256,ge);var gt,ot=Vn(Ve.G[4],Ve.H[4],ge);if(ve(ge),!(Ae>=(ot=Os(be,ot=Ms(ot,ge)))&&Ie-Ae>=je)){Se=0;break t}for(gt=0;gt<je;++gt)G[te+Ae+gt]=G[te+Ae+gt-ot];for(Ae+=je,ie+=je;ie>=be;)ie-=be,++X<=_&&!(X%16)&&es(U,X);Ae<ze&&ie&Qe&&(Ve=Oi(Ee,ie,X))}e(ge.h==Z(ge))}es(U,X>_?_:X);break t}!Se||ge.h&&Ae<Ie?(Se=0,U.a=ge.h?5:3):U.$=Ae,_=Se}else _=Is(U,U.V,U.Ba,U.c,U.i,_,Qa);if(!_){L=0;break e}}C+L>=B&&(g.Cc=1),L=1}if(!L)return null;if(g.Cc&&((L=g.ga)!=null&&(L.mc=null),g.ga=null,0<g.Ga))return alert("todo:WebPDequantizeLevels"),null}return g.nb+C*I}function Ei(g,_,C,L,I,B){for(;0<I--;){var U,G=g,X=_+(C?1:0),ie=g,ge=_+(C?0:3);for(U=0;U<L;++U){var Ee=ie[ge+4*U];Ee!=255&&(Ee*=32897,G[X+4*U+0]=G[X+4*U+0]*Ee>>23,G[X+4*U+1]=G[X+4*U+1]*Ee>>23,G[X+4*U+2]=G[X+4*U+2]*Ee>>23)}_+=B}}function mi(g,_,C,L,I){for(;0<L--;){var B;for(B=0;B<C;++B){var U=g[_+2*B+0],G=15&(ie=g[_+2*B+1]),X=4369*G,ie=(240&ie|ie>>4)*X>>16;g[_+2*B+0]=(240&U|U>>4)*X>>16&240|(15&U|U<<4)*X>>16>>4&15,g[_+2*B+1]=240&ie|G}_+=I}}function Ui(g,_,C,L,I,B,U,G){var X,ie,ge=255;for(ie=0;ie<I;++ie){for(X=0;X<L;++X){var Ee=g[_+X];B[U+4*X]=Ee,ge&=Ee}_+=C,U+=G}return ge!=255}function ba(g,_,C,L,I){var B;for(B=0;B<I;++B)C[L+B]=g[_+B]>>8}function Cr(){Ho=Ei,Qs=mi,su=Ui,Hs=ba}function _a(g,_,C){Y[g]=function(L,I,B,U,G,X,ie,ge,Ee,te,be,Se,je,Ae,Ie,ze,Qe){var Ve,gt=Qe-1>>1,ot=G[X+0]|ie[ge+0]<<16,Pt=Ee[te+0]|be[Se+0]<<16;e(L!=null);var ut=3*ot+Pt+131074>>2;for(_(L[I+0],255&ut,ut>>16,je,Ae),B!=null&&(ut=3*Pt+ot+131074>>2,_(B[U+0],255&ut,ut>>16,Ie,ze)),Ve=1;Ve<=gt;++Ve){var Xt=G[X+Ve]|ie[ge+Ve]<<16,Un=Ee[te+Ve]|be[Se+Ve]<<16,Ut=ot+Xt+Pt+Un+524296,lt=Ut+2*(Xt+Pt)>>3;ut=lt+ot>>1,ot=(Ut=Ut+2*(ot+Un)>>3)+Xt>>1,_(L[I+2*Ve-1],255&ut,ut>>16,je,Ae+(2*Ve-1)*C),_(L[I+2*Ve-0],255&ot,ot>>16,je,Ae+(2*Ve-0)*C),B!=null&&(ut=Ut+Pt>>1,ot=lt+Un>>1,_(B[U+2*Ve-1],255&ut,ut>>16,Ie,ze+(2*Ve-1)*C),_(B[U+2*Ve+0],255&ot,ot>>16,Ie,ze+(2*Ve+0)*C)),ot=Xt,Pt=Un}1&Qe||(ut=3*ot+Pt+131074>>2,_(L[I+Qe-1],255&ut,ut>>16,je,Ae+(Qe-1)*C),B!=null&&(ut=3*Pt+ot+131074>>2,_(B[U+Qe-1],255&ut,ut>>16,Ie,ze+(Qe-1)*C)))}}function eu(){Vi[oh]=Vo,Vi[is]=Yl,Vi[lh]=If,Vi[Js]=dh,Vi[lu]=ao,Vi[Wl]=Jr,Vi[io]=oo,Vi[cu]=Yl,Vi[ch]=dh,Vi[Vl]=ao,Vi[uh]=Jr}function jl(g){return g&-16384?0>g?0:255:g>>ph}function Wr(g,_){return jl((19077*g>>8)+(26149*_>>8)-14234)}function Er(g,_,C){return jl((19077*g>>8)-(6419*_>>8)-(13320*C>>8)+8708)}function Bo(g,_){return jl((19077*g>>8)+(33050*_>>8)-17685)}function xa(g,_,C,L,I){L[I+0]=Wr(g,C),L[I+1]=Er(g,_,C),L[I+2]=Bo(g,_)}function Pi(g,_,C,L,I){L[I+0]=Bo(g,_),L[I+1]=Er(g,_,C),L[I+2]=Wr(g,C)}function eo(g,_,C,L,I){var B=Er(g,_,C);_=B<<3&224|Bo(g,_)>>3,L[I+0]=248&Wr(g,C)|B>>5,L[I+1]=_}function to(g,_,C,L,I){var B=240&Bo(g,_)|15;L[I+0]=240&Wr(g,C)|Er(g,_,C)>>4,L[I+1]=B}function Fl(g,_,C,L,I){L[I+0]=255,xa(g,_,C,L,I+1)}function Vr(g,_,C,L,I){Pi(g,_,C,L,I),L[I+3]=255}function gs(g,_,C,L,I){xa(g,_,C,L,I),L[I+3]=255}function wa(g,_,C){Y[g]=function(L,I,B,U,G,X,ie,ge,Ee){for(var te=ge+(-2&Ee)*C;ge!=te;)_(L[I+0],B[U+0],G[X+0],ie,ge),_(L[I+1],B[U+0],G[X+0],ie,ge+C),I+=2,++U,++X,ge+=2*C;1&Ee&&_(L[I+0],B[U+0],G[X+0],ie,ge)}}function Bl(g,_,C){return C==0?g==0?_==0?6:5:_==0?4:0:C}function tu(g,_,C,L,I){switch(g>>>30){case 3:ka(_,C,L,I,0);break;case 2:ts(_,C,L,I);break;case 1:dn(_,C,L,I)}}function zs(g,_){var C,L,I=_.M,B=_.Nb,U=g.oc,G=g.pc+40,X=g.oc,ie=g.pc+584,ge=g.oc,Ee=g.pc+600;for(C=0;16>C;++C)U[G+32*C-1]=129;for(C=0;8>C;++C)X[ie+32*C-1]=129,ge[Ee+32*C-1]=129;for(0<I?U[G-1-32]=X[ie-1-32]=ge[Ee-1-32]=129:(s(U,G-32-1,127,21),s(X,ie-32-1,127,9),s(ge,Ee-32-1,127,9)),L=0;L<g.za;++L){var te=_.ya[_.aa+L];if(0<L){for(C=-1;16>C;++C)i(U,G+32*C-4,U,G+32*C+12,4);for(C=-1;8>C;++C)i(X,ie+32*C-4,X,ie+32*C+4,4),i(ge,Ee+32*C-4,ge,Ee+32*C+4,4)}var be=g.Gd,Se=g.Hd+L,je=te.ad,Ae=te.Hc;if(0<I&&(i(U,G-32,be[Se].y,0,16),i(X,ie-32,be[Se].f,0,8),i(ge,Ee-32,be[Se].ea,0,8)),te.Za){var Ie=U,ze=G-32+16;for(0<I&&(L>=g.za-1?s(Ie,ze,be[Se].y[15],4):i(Ie,ze,be[Se+1].y,0,4)),C=0;4>C;C++)Ie[ze+128+C]=Ie[ze+256+C]=Ie[ze+384+C]=Ie[ze+0+C];for(C=0;16>C;++C,Ae<<=2)Ie=U,ze=G+hi[C],ni[te.Ob[C]](Ie,ze),tu(Ae,je,16*+C,Ie,ze)}else if(Ie=Bl(L,I,te.Ob[0]),ys[Ie](U,G),Ae!=0)for(C=0;16>C;++C,Ae<<=2)tu(Ae,je,16*+C,U,G+hi[C]);for(C=te.Gc,Ie=Bl(L,I,te.Dd),Rr[Ie](X,ie),Rr[Ie](ge,Ee),Ae=je,Ie=X,ze=ie,255&(te=0|C)&&(170&te?Ks(Ae,256,Ie,ze):on(Ae,256,Ie,ze)),te=ge,Ae=Ee,255&(C>>=8)&&(170&C?Ks(je,320,te,Ae):on(je,320,te,Ae)),I<g.Ub-1&&(i(be[Se].y,0,U,G+480,16),i(be[Se].f,0,X,ie+224,8),i(be[Se].ea,0,ge,Ee+224,8)),C=8*B*g.B,be=g.sa,Se=g.ta+16*L+16*B*g.R,je=g.qa,te=g.ra+8*L+C,Ae=g.Ha,Ie=g.Ia+8*L+C,C=0;16>C;++C)i(be,Se+C*g.R,U,G+32*C,16);for(C=0;8>C;++C)i(je,te+C*g.B,X,ie+32*C,8),i(Ae,Ie+C*g.B,ge,Ee+32*C,8)}}function kr(g,_,C,L,I,B,U,G,X){var ie=[0],ge=[0],Ee=0,te=X!=null?X.kd:0,be=X??new Ye;if(g==null||12>C)return 7;be.data=g,be.w=_,be.ha=C,_=[_],C=[C],be.gb=[be.gb];e:{var Se=_,je=C,Ae=be.gb;if(e(g!=null),e(je!=null),e(Ae!=null),Ae[0]=0,12<=je[0]&&!t(g,Se[0],"RIFF")){if(t(g,Se[0]+8,"WEBP")){Ae=3;break e}var Ie=ht(g,Se[0]+4);if(12>Ie||4294967286<Ie){Ae=3;break e}if(te&&Ie>je[0]-8){Ae=7;break e}Ae[0]=Ie,Se[0]+=12,je[0]-=12}Ae=0}if(Ae!=0)return Ae;for(Ie=0<be.gb[0],C=C[0];;){e:{var ze=g;je=_,Ae=C;var Qe=ie,Ve=ge,gt=Se=[0];if((ut=Ee=[Ee])[0]=0,8>Ae[0])Ae=7;else{if(!t(ze,je[0],"VP8X")){if(ht(ze,je[0]+4)!=10){Ae=3;break e}if(18>Ae[0]){Ae=7;break e}var ot=ht(ze,je[0]+8),Pt=1+it(ze,je[0]+12);if(2147483648<=Pt*(ze=1+it(ze,je[0]+15))){Ae=3;break e}gt!=null&&(gt[0]=ot),Qe!=null&&(Qe[0]=Pt),Ve!=null&&(Ve[0]=ze),je[0]+=18,Ae[0]-=18,ut[0]=1}Ae=0}}if(Ee=Ee[0],Se=Se[0],Ae!=0)return Ae;if(je=!!(2&Se),!Ie&&Ee)return 3;if(B!=null&&(B[0]=!!(16&Se)),U!=null&&(U[0]=je),G!=null&&(G[0]=0),U=ie[0],Se=ge[0],Ee&&je&&X==null){Ae=0;break}if(4>C){Ae=7;break}if(Ie&&Ee||!Ie&&!Ee&&!t(g,_[0],"ALPH")){C=[C],be.na=[be.na],be.P=[be.P],be.Sa=[be.Sa];e:{ot=g,Ae=_,Ie=C;var ut=be.gb;Qe=be.na,Ve=be.P,gt=be.Sa,Pt=22,e(ot!=null),e(Ie!=null),ze=Ae[0];var Xt=Ie[0];for(e(Qe!=null),e(gt!=null),Qe[0]=null,Ve[0]=null,gt[0]=0;;){if(Ae[0]=ze,Ie[0]=Xt,8>Xt){Ae=7;break e}var Un=ht(ot,ze+4);if(4294967286<Un){Ae=3;break e}var Ut=8+Un+1&-2;if(Pt+=Ut,0<ut&&Pt>ut){Ae=3;break e}if(!t(ot,ze,"VP8 ")||!t(ot,ze,"VP8L")){Ae=0;break e}if(Xt[0]<Ut){Ae=7;break e}t(ot,ze,"ALPH")||(Qe[0]=ot,Ve[0]=ze+8,gt[0]=Un),ze+=Ut,Xt-=Ut}}if(C=C[0],be.na=be.na[0],be.P=be.P[0],be.Sa=be.Sa[0],Ae!=0)break}C=[C],be.Ja=[be.Ja],be.xa=[be.xa];e:if(ut=g,Ae=_,Ie=C,Qe=be.gb[0],Ve=be.Ja,gt=be.xa,ot=Ae[0],ze=!t(ut,ot,"VP8 "),Pt=!t(ut,ot,"VP8L"),e(ut!=null),e(Ie!=null),e(Ve!=null),e(gt!=null),8>Ie[0])Ae=7;else{if(ze||Pt){if(ut=ht(ut,ot+4),12<=Qe&&ut>Qe-12){Ae=3;break e}if(te&&ut>Ie[0]-8){Ae=7;break e}Ve[0]=ut,Ae[0]+=8,Ie[0]-=8,gt[0]=Pt}else gt[0]=5<=Ie[0]&&ut[ot+0]==47&&!(ut[ot+4]>>5),Ve[0]=Ie[0];Ae=0}if(C=C[0],be.Ja=be.Ja[0],be.xa=be.xa[0],_=_[0],Ae!=0)break;if(4294967286<be.Ja)return 3;if(G==null||je||(G[0]=be.xa?2:1),U=[U],Se=[Se],be.xa){if(5>C){Ae=7;break}G=U,te=Se,je=B,g==null||5>C?g=0:5<=C&&g[_+0]==47&&!(g[_+4]>>5)?(Ie=[0],ut=[0],Qe=[0],J(Ve=new D,g,_,C),Br(Ve,Ie,ut,Qe)?(G!=null&&(G[0]=Ie[0]),te!=null&&(te[0]=ut[0]),je!=null&&(je[0]=Qe[0]),g=1):g=0):g=0}else{if(10>C){Ae=7;break}G=Se,g==null||10>C||!Wc(g,_+3,C-3)?g=0:(te=g[_+0]|g[_+1]<<8|g[_+2]<<16,je=16383&(g[_+7]<<8|g[_+6]),g=16383&(g[_+9]<<8|g[_+8]),1&te||3<(te>>1&7)||!(te>>4&1)||te>>5>=be.Ja||!je||!g?g=0:(U&&(U[0]=je),G&&(G[0]=g),g=1))}if(!g||(U=U[0],Se=Se[0],Ee&&(ie[0]!=U||ge[0]!=Se)))return 3;X!=null&&(X[0]=be,X.offset=_-X.w,e(4294967286>_-X.w),e(X.offset==X.ha-C));break}return Ae==0||Ae==7&&Ee&&X==null?(B!=null&&(B[0]|=be.na!=null&&0<be.na.length),L!=null&&(L[0]=U),I!=null&&(I[0]=Se),0):Ae}function Sa(g,_,C){var L=_.width,I=_.height,B=0,U=0,G=L,X=I;if(_.Da=g!=null&&0<g.Da,_.Da&&(G=g.cd,X=g.bd,B=g.v,U=g.j,11>C||(B&=-2,U&=-2),0>B||0>U||0>=G||0>=X||B+G>L||U+X>I))return 0;if(_.v=B,_.j=U,_.va=B+G,_.o=U+X,_.U=G,_.T=X,_.da=g!=null&&0<g.da,_.da){if(!He(G,X,C=[g.ib],B=[g.hb]))return 0;_.ib=C[0],_.hb=B[0]}return _.ob=g!=null&&g.ob,_.Kb=g==null||!g.Sd,_.da&&(_.ob=_.ib<3*L/4&&_.hb<3*I/4,_.Kb=0),1}function nu(g){if(g==null)return 2;if(11>g.S){var _=g.f.RGBA;_.fb+=(g.height-1)*_.A,_.A=-_.A}else _=g.f.kb,g=g.height,_.O+=(g-1)*_.fa,_.fa=-_.fa,_.N+=(g-1>>1)*_.Ab,_.Ab=-_.Ab,_.W+=(g-1>>1)*_.Db,_.Db=-_.Db,_.F!=null&&(_.J+=(g-1)*_.lb,_.lb=-_.lb);return 0}function Tr(g,_,C,L){if(L==null||0>=g||0>=_)return 2;if(C!=null){if(C.Da){var I=C.cd,B=C.bd,U=-2&C.v,G=-2&C.j;if(0>U||0>G||0>=I||0>=B||U+I>g||G+B>_)return 2;g=I,_=B}if(C.da){if(!He(g,_,I=[C.ib],B=[C.hb]))return 2;g=I[0],_=B[0]}}L.width=g,L.height=_;e:{var X=L.width,ie=L.height;if(g=L.S,0>=X||0>=ie||!(g>=oh&&13>g))g=2;else{if(0>=L.Rd&&L.sd==null){U=B=I=_=0;var ge=(G=X*mh[g])*ie;if(11>g||(B=(ie+1)/2*(_=(X+1)/2),g==12&&(U=(I=X)*ie)),(ie=a(ge+2*B+U))==null){g=1;break e}L.sd=ie,11>g?((X=L.f.RGBA).eb=ie,X.fb=0,X.A=G,X.size=ge):((X=L.f.kb).y=ie,X.O=0,X.fa=G,X.Fd=ge,X.f=ie,X.N=0+ge,X.Ab=_,X.Cd=B,X.ea=ie,X.W=0+ge+B,X.Db=_,X.Ed=B,g==12&&(X.F=ie,X.J=0+ge+2*B),X.Tc=U,X.lb=I)}if(_=1,I=L.S,B=L.width,U=L.height,I>=oh&&13>I)if(11>I)g=L.f.RGBA,_&=(G=Math.abs(g.A))*(U-1)+B<=g.size,_&=G>=B*mh[I],_&=g.eb!=null;else{g=L.f.kb,G=(B+1)/2,ge=(U+1)/2,X=Math.abs(g.fa),ie=Math.abs(g.Ab);var Ee=Math.abs(g.Db),te=Math.abs(g.lb),be=te*(U-1)+B;_&=X*(U-1)+B<=g.Fd,_&=ie*(ge-1)+G<=g.Cd,_=(_&=Ee*(ge-1)+G<=g.Ed)&X>=B&ie>=G&Ee>=G,_&=g.y!=null,_&=g.f!=null,_&=g.ea!=null,I==12&&(_&=te>=B,_&=be<=g.Tc,_&=g.F!=null)}else _=0;g=_?0:2}}return g!=0||C!=null&&C.fd&&(g=nu(L)),g}var no=64,ws=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],ms=24,Gr=32,Yr=8,Na=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Ge("Predictor0","PredictorAdd0"),Y.Predictor0=function(){return 4278190080},Y.Predictor1=function(g){return g},Y.Predictor2=function(g,_,C){return _[C+0]},Y.Predictor3=function(g,_,C){return _[C+1]},Y.Predictor4=function(g,_,C){return _[C-1]},Y.Predictor5=function(g,_,C){return st(st(g,_[C+1]),_[C+0])},Y.Predictor6=function(g,_,C){return st(g,_[C-1])},Y.Predictor7=function(g,_,C){return st(g,_[C+0])},Y.Predictor8=function(g,_,C){return st(_[C-1],_[C+0])},Y.Predictor9=function(g,_,C){return st(_[C+0],_[C+1])},Y.Predictor10=function(g,_,C){return st(st(g,_[C-1]),st(_[C+0],_[C+1]))},Y.Predictor11=function(g,_,C){var L=_[C+0];return 0>=ct(L>>24&255,g>>24&255,(_=_[C-1])>>24&255)+ct(L>>16&255,g>>16&255,_>>16&255)+ct(L>>8&255,g>>8&255,_>>8&255)+ct(255&L,255&g,255&_)?L:g},Y.Predictor12=function(g,_,C){var L=_[C+0];return(vt((g>>24&255)+(L>>24&255)-((_=_[C-1])>>24&255))<<24|vt((g>>16&255)+(L>>16&255)-(_>>16&255))<<16|vt((g>>8&255)+(L>>8&255)-(_>>8&255))<<8|vt((255&g)+(255&L)-(255&_)))>>>0},Y.Predictor13=function(g,_,C){var L=_[C-1];return(yt((g=st(g,_[C+0]))>>24&255,L>>24&255)<<24|yt(g>>16&255,L>>16&255)<<16|yt(g>>8&255,L>>8&255)<<8|yt(255&g,255&L))>>>0};var zl=Y.PredictorAdd0;Y.PredictorAdd1=Bt,Ge("Predictor2","PredictorAdd2"),Ge("Predictor3","PredictorAdd3"),Ge("Predictor4","PredictorAdd4"),Ge("Predictor5","PredictorAdd5"),Ge("Predictor6","PredictorAdd6"),Ge("Predictor7","PredictorAdd7"),Ge("Predictor8","PredictorAdd8"),Ge("Predictor9","PredictorAdd9"),Ge("Predictor10","PredictorAdd10"),Ge("Predictor11","PredictorAdd11"),Ge("Predictor12","PredictorAdd12"),Ge("Predictor13","PredictorAdd13");var Ul=Y.PredictorAdd2;pt("ColorIndexInverseTransform","MapARGB","32b",function(g){return g>>8&255},function(g){return g}),pt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(g){return g},function(g){return g>>8&255});var ci,sh=Y.ColorIndexInverseTransform,$r=Y.MapARGB,Xr=Y.VP8LColorIndexInverseTransformAlpha,Hi=Y.MapAlpha,Aa=Y.VP8LPredictorsAdd=[];Aa.length=16,(Y.VP8LPredictors=[]).length=16,(Y.VP8LPredictorsAdd_C=[]).length=16,(Y.VP8LPredictors_C=[]).length=16;var Hl,ql,Ca,Ea,Kr,zo,Us,ka,ts,Ks,dn,on,On,ui,Qr,Lr,Uo,iu,Lf,Tp,Lp,Rp,Rf,Df,Ho,Qs,su,Hs,qo=a(511),rh=a(2041),ru=a(225),au=a(767),ah=0,Ta=rh,ou=ru,ns=au,qi=qo,oh=0,is=1,lh=2,Js=3,lu=4,Wl=5,io=6,cu=7,ch=8,Vl=9,uh=10,Zs=[2,3,7],Gl=[3,3,11],Wo=[280,256,256,256,40],hh=[0,1,1,1,0],uu=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],er=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],tr=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],so=8,nr=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],ir=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],qs=null,Dp=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Mf=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],fh=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Mp=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Wi=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],zn=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Qt=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],ys=[],ni=[],Rr=[],ro=1,Of=2,La=[],Vi=[];_a("UpsampleRgbLinePair",xa,3),_a("UpsampleBgrLinePair",Pi,3),_a("UpsampleRgbaLinePair",gs,4),_a("UpsampleBgraLinePair",Vr,4),_a("UpsampleArgbLinePair",Fl,4),_a("UpsampleRgba4444LinePair",to,2),_a("UpsampleRgb565LinePair",eo,2);var Vo=Y.UpsampleRgbLinePair,If=Y.UpsampleBgrLinePair,Yl=Y.UpsampleRgbaLinePair,dh=Y.UpsampleBgraLinePair,ao=Y.UpsampleArgbLinePair,Jr=Y.UpsampleRgba4444LinePair,oo=Y.UpsampleRgb565LinePair,sr=16,$l=1<<sr-1,Go=-227,lo=482,ph=6,co=0,Gi=a(256),gh=a(256),Op=a(256),b0=a(256),_0=a(lo-Go),x0=a(lo-Go);wa("YuvToRgbRow",xa,3),wa("YuvToBgrRow",Pi,3),wa("YuvToRgbaRow",gs,4),wa("YuvToBgraRow",Vr,4),wa("YuvToArgbRow",Fl,4),wa("YuvToRgba4444Row",to,2),wa("YuvToRgb565Row",eo,2);var hi=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Xl=[0,2,8],hu=[8,7,6,4,4,2,2,2,1,1,1,1],fu=1;this.WebPDecodeRGBA=function(g,_,C,L,I){var B=is,U=new Be,G=new Wt;U.ba=G,G.S=B,G.width=[G.width],G.height=[G.height];var X=G.width,ie=G.height,ge=new xt;if(ge==null||g==null)var Ee=2;else e(ge!=null),Ee=kr(g,_,C,ge.width,ge.height,ge.Pd,ge.Qd,ge.format,null);if(Ee!=0?X=0:(X!=null&&(X[0]=ge.width[0]),ie!=null&&(ie[0]=ge.height[0]),X=1),X){G.width=G.width[0],G.height=G.height[0],L!=null&&(L[0]=G.width),I!=null&&(I[0]=G.height);e:{if(L=new ha,(I=new Ye).data=g,I.w=_,I.ha=C,I.kd=1,_=[0],e(I!=null),((g=kr(I.data,I.w,I.ha,null,null,null,_,null,I))==0||g==7)&&_[0]&&(g=4),(_=g)==0){if(e(U!=null),L.data=I.data,L.w=I.w+I.offset,L.ha=I.ha-I.offset,L.put=Nt,L.ac=Gs,L.bc=ca,L.ma=U,I.xa){if((g=Ro())==null){U=1;break e}if((function(te,be){var Se=[0],je=[0],Ae=[0];t:for(;;){if(te==null)return 0;if(be==null)return te.a=2,0;if(te.l=be,te.a=0,J(te.m,be.data,be.w,be.ha),!Br(te.m,Se,je,Ae)){te.a=3;break t}if(te.xb=Of,be.width=Se[0],be.height=je[0],!vr(Se[0],je[0],1,te,null))break t;return 1}return e(te.a!=0),0})(g,L)){if(L=(_=Tr(L.width,L.height,U.Oa,U.ba))==0){t:{L=g;n:for(;;){if(L==null){L=0;break t}if(e(L.s.yc!=null),e(L.s.Ya!=null),e(0<L.s.Wb),e((C=L.l)!=null),e((I=C.ma)!=null),L.xb!=0){if(L.ca=I.ba,L.tb=I.tb,e(L.ca!=null),!Sa(I.Oa,C,Js)){L.a=2;break n}if(!br(L,C.width)||C.da)break n;if((C.da||Rt(L.ca.S))&&Cr(),11>L.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),L.ca.f.kb.F!=null&&Cr()),L.Pb&&0<L.s.ua&&L.s.vb.X==null&&!ee(L.s.vb,L.s.Wa.Xa)){L.a=1;break n}L.xb=0}if(!Is(L,L.V,L.Ba,L.c,L.i,C.o,fs))break n;I.Dc=L.Ma,L=1;break t}e(L.a!=0),L=0}L=!L}L&&(_=g.a)}else _=g.a}else{if((g=new Sr)==null){U=1;break e}if(g.Fa=I.na,g.P=I.P,g.qc=I.Sa,Ur(g,L)){if((_=Tr(L.width,L.height,U.Oa,U.ba))==0){if(g.Aa=0,C=U.Oa,e((I=g)!=null),C!=null){if(0<(X=0>(X=C.Md)?0:100<X?255:255*X/100)){for(ie=ge=0;4>ie;++ie)12>(Ee=I.pb[ie]).lc&&(Ee.ia=X*hu[0>Ee.lc?0:Ee.lc]>>3),ge|=Ee.ia;ge&&(alert("todo:VP8InitRandom"),I.ia=1)}I.Ga=C.Id,100<I.Ga?I.Ga=100:0>I.Ga&&(I.Ga=0)}(function(te,be){if(te==null)return 0;if(be==null)return fn(te,2,"NULL VP8Io parameter in VP8Decode().");if(!te.cb&&!Ur(te,be))return 0;if(e(te.cb),be.ac==null||be.ac(be)){be.ob&&(te.L=0);var Se=Xl[te.L];if(te.L==2?(te.yb=0,te.zb=0):(te.yb=be.v-Se>>4,te.zb=be.j-Se>>4,0>te.yb&&(te.yb=0),0>te.zb&&(te.zb=0)),te.Va=be.o+15+Se>>4,te.Hb=be.va+15+Se>>4,te.Hb>te.za&&(te.Hb=te.za),te.Va>te.Ub&&(te.Va=te.Ub),0<te.L){var je=te.ed;for(Se=0;4>Se;++Se){var Ae;if(te.Qa.Cb){var Ie=te.Qa.Lb[Se];te.Qa.Fb||(Ie+=je.Tb)}else Ie=je.Tb;for(Ae=0;1>=Ae;++Ae){var ze=te.gd[Se][Ae],Qe=Ie;if(je.Pc&&(Qe+=je.vd[0],Ae&&(Qe+=je.od[0])),0<(Qe=0>Qe?0:63<Qe?63:Qe)){var Ve=Qe;0<je.wb&&(Ve=4<je.wb?Ve>>2:Ve>>1)>9-je.wb&&(Ve=9-je.wb),1>Ve&&(Ve=1),ze.dd=Ve,ze.tc=2*Qe+Ve,ze.ld=40<=Qe?2:15<=Qe?1:0}else ze.tc=0;ze.La=Ae}}}Se=0}else fn(te,6,"Frame setup failed"),Se=te.a;if(Se=Se==0){if(Se){te.$c=0,0<te.Aa||(te.Ic=fu);t:{Se=te.Ic,je=4*(Ve=te.za);var gt=32*Ve,ot=Ve+1,Pt=0<te.L?Ve*(0<te.Aa?2:1):0,ut=(te.Aa==2?2:1)*Ve;if((ze=je+832+(Ae=3*(16*Se+Xl[te.L])/2*gt)+(Ie=te.Fa!=null&&0<te.Fa.length?te.Kc.c*te.Kc.i:0))!=ze)Se=0;else{if(ze>te.Vb){if(te.Vb=0,te.Ec=a(ze),te.Fc=0,te.Ec==null){Se=fn(te,1,"no memory during frame initialization.");break t}te.Vb=ze}ze=te.Ec,Qe=te.Fc,te.Ac=ze,te.Bc=Qe,Qe+=je,te.Gd=l(gt,qc),te.Hd=0,te.rb=l(ot+1,wr),te.sb=1,te.wa=Pt?l(Pt,Ps):null,te.Y=0,te.D.Nb=0,te.D.wa=te.wa,te.D.Y=te.Y,0<te.Aa&&(te.D.Y+=Ve),e(!0),te.oc=ze,te.pc=Qe,Qe+=832,te.ya=l(ut,Uc),te.aa=0,te.D.ya=te.ya,te.D.aa=te.aa,te.Aa==2&&(te.D.aa+=Ve),te.R=16*Ve,te.B=8*Ve,Ve=(gt=Xl[te.L])*te.R,gt=gt/2*te.B,te.sa=ze,te.ta=Qe+Ve,te.qa=te.sa,te.ra=te.ta+16*Se*te.R+gt,te.Ha=te.qa,te.Ia=te.ra+8*Se*te.B+gt,te.$c=0,Qe+=Ae,te.mb=Ie?ze:null,te.nb=Ie?Qe:null,e(Qe+Ie<=te.Fc+te.Vb),Vc(te),s(te.Ac,te.Bc,0,je),Se=1}}if(Se){if(be.ka=0,be.y=te.sa,be.O=te.ta,be.f=te.qa,be.N=te.ra,be.ea=te.Ha,be.Vd=te.Ia,be.fa=te.R,be.Rc=te.B,be.F=null,be.J=0,!ah){for(Se=-255;255>=Se;++Se)qo[255+Se]=0>Se?-Se:Se;for(Se=-1020;1020>=Se;++Se)rh[1020+Se]=-128>Se?-128:127<Se?127:Se;for(Se=-112;112>=Se;++Se)ru[112+Se]=-16>Se?-16:15<Se?15:Se;for(Se=-255;510>=Se;++Se)au[255+Se]=0>Se?0:255<Se?255:Se;ah=1}Us=Nr,ka=Gc,Ks=ps,dn=Yc,on=$c,ts=Xu,On=nh,ui=va,Qr=O,Lr=se,Uo=ih,iu=S,Lf=fe,Tp=xe,Lp=pa,Rp=ga,Rf=Fo,Df=Zc,ni[0]=eh,ni[1]=Ku,ni[2]=Zu,ni[3]=Qc,ni[4]=Fs,ni[5]=Jc,ni[6]=zi,ni[7]=Io,ni[8]=Po,ni[9]=Bs,ys[0]=Ar,ys[1]=Xc,ys[2]=Kc,ys[3]=Ju,ys[4]=fa,ys[5]=Oo,ys[6]=Za,Rr[0]=Ol,Rr[1]=Qu,Rr[2]=Hr,Rr[3]=th,Rr[4]=Ii,Rr[5]=Il,Rr[6]=qr,Se=1}else Se=0}Se&&(Se=(function(Xt,Un){for(Xt.M=0;Xt.M<Xt.Va;++Xt.M){var Ut,lt=Xt.Jc[Xt.M&Xt.Xb],et=Xt.m,Xn=Xt;for(Ut=0;Ut<Xn.za;++Ut){var Lt=et,Vt=Xn,bn=Vt.Ac,ki=Vt.Bc+4*Ut,Yi=Vt.zc,In=Vt.ya[Vt.aa+Ut];if(Vt.Qa.Bb?In.$b=Pe(Lt,Vt.Pa.jb[0])?2+Pe(Lt,Vt.Pa.jb[2]):Pe(Lt,Vt.Pa.jb[1]):In.$b=0,Vt.kc&&(In.Ad=Pe(Lt,Vt.Bd)),In.Za=!Pe(Lt,145)+0,In.Za){var yi=In.Ob,ss=0;for(Vt=0;4>Vt;++Vt){var vi,Yt=Yi[0+Vt];for(vi=0;4>vi;++vi){Yt=Wi[bn[ki+vi]][Yt];for(var cn=fh[Pe(Lt,Yt[0])];0<cn;)cn=fh[2*cn+Pe(Lt,Yt[cn])];Yt=-cn,bn[ki+vi]=Yt}i(yi,ss,bn,ki,4),ss+=4,Yi[0+Vt]=Yt}}else Yt=Pe(Lt,156)?Pe(Lt,128)?1:3:Pe(Lt,163)?2:0,In.Ob[0]=Yt,s(bn,ki,Yt,4),s(Yi,0,Yt,4);In.Dd=Pe(Lt,142)?Pe(Lt,114)?Pe(Lt,183)?1:3:2:0}if(Xn.m.Ka)return fn(Xt,7,"Premature end-of-partition0 encountered.");for(;Xt.ja<Xt.za;++Xt.ja){if(Xn=lt,Lt=(et=Xt).rb[et.sb-1],bn=et.rb[et.sb+et.ja],Ut=et.ya[et.aa+et.ja],ki=et.kc?Ut.Ad:0)Lt.la=bn.la=0,Ut.Za||(Lt.Na=bn.Na=0),Ut.Hc=0,Ut.Gc=0,Ut.ia=0;else{var Kn,pn;if(Lt=bn,bn=Xn,ki=et.Pa.Xc,Yi=et.ya[et.aa+et.ja],In=et.pb[Yi.$b],Vt=Yi.ad,yi=0,ss=et.rb[et.sb-1],Yt=vi=0,s(Vt,yi,0,384),Yi.Za)var Ti=0,Qn=ki[3];else{cn=a(16);var un=Lt.Na+ss.Na;if(un=qs(bn,ki[1],un,In.Eb,0,cn,0),Lt.Na=ss.Na=(0<un)+0,1<un)Us(cn,0,Vt,yi);else{var fi=cn[0]+3>>3;for(cn=0;256>cn;cn+=16)Vt[yi+cn]=fi}Ti=1,Qn=ki[0]}var _n=15&Lt.la,bi=15&ss.la;for(cn=0;4>cn;++cn){var _i=1&bi;for(fi=pn=0;4>fi;++fi)_n=_n>>1|(_i=(un=qs(bn,Qn,un=_i+(1&_n),In.Sc,Ti,Vt,yi))>Ti)<<7,pn=pn<<2|(3<un?3:1<un?2:Vt[yi+0]!=0),yi+=16;_n>>=4,bi=bi>>1|_i<<7,vi=(vi<<8|pn)>>>0}for(Qn=_n,Ti=bi>>4,Kn=0;4>Kn;Kn+=2){for(pn=0,_n=Lt.la>>4+Kn,bi=ss.la>>4+Kn,cn=0;2>cn;++cn){for(_i=1&bi,fi=0;2>fi;++fi)un=_i+(1&_n),_n=_n>>1|(_i=0<(un=qs(bn,ki[2],un,In.Qc,0,Vt,yi)))<<3,pn=pn<<2|(3<un?3:1<un?2:Vt[yi+0]!=0),yi+=16;_n>>=2,bi=bi>>1|_i<<5}Yt|=pn<<4*Kn,Qn|=_n<<4<<Kn,Ti|=(240&bi)<<Kn}Lt.la=Qn,ss.la=Ti,Yi.Hc=vi,Yi.Gc=Yt,Yi.ia=43690&Yt?0:In.ia,ki=!(vi|Yt)}if(0<et.L&&(et.wa[et.Y+et.ja]=et.gd[Ut.$b][Ut.Za],et.wa[et.Y+et.ja].La|=!ki),Xn.Ka)return fn(Xt,7,"Premature end-of-file encountered.")}if(Vc(Xt),et=Un,Xn=1,Ut=(lt=Xt).D,Lt=0<lt.L&&lt.M>=lt.zb&&lt.M<=lt.Va,lt.Aa==0)t:{if(Ut.M=lt.M,Ut.uc=Lt,zs(lt,Ut),Xn=1,Ut=(pn=lt.D).Nb,Lt=(Yt=Xl[lt.L])*lt.R,bn=Yt/2*lt.B,cn=16*Ut*lt.R,fi=8*Ut*lt.B,ki=lt.sa,Yi=lt.ta-Lt+cn,In=lt.qa,Vt=lt.ra-bn+fi,yi=lt.Ha,ss=lt.Ia-bn+fi,bi=(_n=pn.M)==0,vi=_n>=lt.Va-1,lt.Aa==2&&zs(lt,pn),pn.uc)for(_i=(un=lt).D.M,e(un.D.uc),pn=un.yb;pn<un.Hb;++pn){Ti=pn,Qn=_i;var Cn=(ln=(xi=un).D).Nb;Kn=xi.R;var ln=ln.wa[ln.Y+Ti],rs=xi.sa,ii=xi.ta+16*Cn*Kn+16*Ti,At=ln.dd,Et=ln.tc;if(Et!=0)if(e(3<=Et),xi.L==1)0<Ti&&Rp(rs,ii,Kn,Et+4),ln.La&&Df(rs,ii,Kn,Et),0<Qn&&Lp(rs,ii,Kn,Et+4),ln.La&&Rf(rs,ii,Kn,Et);else{var hn=xi.B,Ss=xi.qa,rr=xi.ra+8*Cn*hn+8*Ti,vs=xi.Ha,xi=xi.Ia+8*Cn*hn+8*Ti;Cn=ln.ld,0<Ti&&(ui(rs,ii,Kn,Et+4,At,Cn),Lr(Ss,rr,vs,xi,hn,Et+4,At,Cn)),ln.La&&(iu(rs,ii,Kn,Et,At,Cn),Tp(Ss,rr,vs,xi,hn,Et,At,Cn)),0<Qn&&(On(rs,ii,Kn,Et+4,At,Cn),Qr(Ss,rr,vs,xi,hn,Et+4,At,Cn)),ln.La&&(Uo(rs,ii,Kn,Et,At,Cn),Lf(Ss,rr,vs,xi,hn,Et,At,Cn))}}if(lt.ia&&alert("todo:DitherRow"),et.put!=null){if(pn=16*_n,_n=16*(_n+1),bi?(et.y=lt.sa,et.O=lt.ta+cn,et.f=lt.qa,et.N=lt.ra+fi,et.ea=lt.Ha,et.W=lt.Ia+fi):(pn-=Yt,et.y=ki,et.O=Yi,et.f=In,et.N=Vt,et.ea=yi,et.W=ss),vi||(_n-=Yt),_n>et.o&&(_n=et.o),et.F=null,et.J=null,lt.Fa!=null&&0<lt.Fa.length&&pn<_n&&(et.J=Mn(lt,et,pn,_n-pn),et.F=lt.mb,et.F==null&&et.F.length==0)){Xn=fn(lt,3,"Could not decode alpha data.");break t}pn<et.j&&(Yt=et.j-pn,pn=et.j,e(!(1&Yt)),et.O+=lt.R*Yt,et.N+=lt.B*(Yt>>1),et.W+=lt.B*(Yt>>1),et.F!=null&&(et.J+=et.width*Yt)),pn<_n&&(et.O+=et.v,et.N+=et.v>>1,et.W+=et.v>>1,et.F!=null&&(et.J+=et.v),et.ka=pn-et.j,et.U=et.va-et.v,et.T=_n-pn,Xn=et.put(et))}Ut+1!=lt.Ic||vi||(i(lt.sa,lt.ta-Lt,ki,Yi+16*lt.R,Lt),i(lt.qa,lt.ra-bn,In,Vt+8*lt.B,bn),i(lt.Ha,lt.Ia-bn,yi,ss+8*lt.B,bn))}if(!Xn)return fn(Xt,6,"Output aborted.")}return 1})(te,be)),be.bc!=null&&be.bc(be),Se&=1}return Se?(te.cb=0,Se):0})(g,L)||(_=g.a)}}else _=g.a}_==0&&U.Oa!=null&&U.Oa.fd&&(_=nu(U.ba))}U=_}B=U!=0?null:11>B?G.f.RGBA.eb:G.f.kb.y}else B=null;return B};var mh=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function f(Y,ue){for(var P="",M=0;M<4;M++)P+=String.fromCharCode(Y[ue++]);return P}function p(Y,ue){return Y[ue+0]|Y[ue+1]<<8}function m(Y,ue){return(Y[ue+0]|Y[ue+1]<<8|Y[ue+2]<<16)>>>0}function b(Y,ue){return(Y[ue+0]|Y[ue+1]<<8|Y[ue+2]<<16|Y[ue+3]<<24)>>>0}new h;var y=[0],N=[0],E=[],k=new h,T=n,j=(function(Y,ue){var P={},M=0,Q=!1,ne=0,pe=0;if(P.frames=[],!(function(w,D){for(var z=0;z<4;z++)if(w[D+z]!="RIFF".charCodeAt(z))return!0;return!1})(Y,ue)){for(b(Y,ue+=4),ue+=8;ue<Y.length;){var $=f(Y,ue),re=b(Y,ue+=4);ue+=4;var ce=re+(1&re);switch($){case"VP8 ":case"VP8L":P.frames[M]===void 0&&(P.frames[M]={}),(F=P.frames[M]).src_off=Q?pe:ue-8,F.src_size=ne+re+8,M++,Q&&(Q=!1,ne=0,pe=0);break;case"VP8X":(F=P.header={}).feature_flags=Y[ue];var J=ue+4;F.canvas_width=1+m(Y,J),J+=3,F.canvas_height=1+m(Y,J),J+=3;break;case"ALPH":Q=!0,ne=ce+8,pe=ue-8;break;case"ANIM":(F=P.header).bgcolor=b(Y,ue),J=ue+4,F.loop_count=p(Y,J),J+=2;break;case"ANMF":var _e,F;(F=P.frames[M]={}).offset_x=2*m(Y,ue),ue+=3,F.offset_y=2*m(Y,ue),ue+=3,F.width=1+m(Y,ue),ue+=3,F.height=1+m(Y,ue),ue+=3,F.duration=m(Y,ue),ue+=3,_e=Y[ue++],F.dispose=1&_e,F.blend=_e>>1&1}$!="ANMF"&&(ue+=ce)}return P}})(T,0);j.response=T,j.rgbaoutput=!0,j.dataurl=!1;var q=j.header?j.header:null,H=j.frames?j.frames:null;if(q){q.loop_counter=q.loop_count,y=[q.canvas_height],N=[q.canvas_width];for(var V=0;V<H.length&&H[V].blend!=0;V++);}var oe=H[0],ae=k.WebPDecodeRGBA(T,oe.src_off,oe.src_size,N,y);oe.rgba=ae,oe.imgwidth=N[0],oe.imgheight=y[0];for(var K=0;K<N[0]*y[0]*4;K++)E[K]=ae[K];return this.width=N,this.height=y,this.data=E,this}(function(n){var e,t,i,s,a,l,c,h,f,p=function(w){return w=w||{},this.isStrokeTransparent=w.isStrokeTransparent||!1,this.strokeOpacity=w.strokeOpacity||1,this.strokeStyle=w.strokeStyle||"#000000",this.fillStyle=w.fillStyle||"#000000",this.isFillTransparent=w.isFillTransparent||!1,this.fillOpacity=w.fillOpacity||1,this.font=w.font||"10px sans-serif",this.textBaseline=w.textBaseline||"alphabetic",this.textAlign=w.textAlign||"left",this.lineWidth=w.lineWidth||1,this.lineJoin=w.lineJoin||"miter",this.lineCap=w.lineCap||"butt",this.path=w.path||[],this.transform=w.transform!==void 0?w.transform.clone():new h,this.globalCompositeOperation=w.globalCompositeOperation||"normal",this.globalAlpha=w.globalAlpha||1,this.clip_path=w.clip_path||[],this.currentPoint=w.currentPoint||new l,this.miterLimit=w.miterLimit||10,this.lastPoint=w.lastPoint||new l,this.lineDashOffset=w.lineDashOffset||0,this.lineDash=w.lineDash||[],this.margin=w.margin||[0,0,0,0],this.prevPageLastElemOffset=w.prevPageLastElemOffset||0,this.ignoreClearRect=typeof w.ignoreClearRect!="boolean"||w.ignoreClearRect,this};n.events.push(["initialized",function(){this.context2d=new m(this),e=this.internal.f2,t=this.internal.getCoordinateString,i=this.internal.getVerticalCoordinateString,s=this.internal.getHorizontalCoordinate,a=this.internal.getVerticalCoordinate,l=this.internal.Point,c=this.internal.Rectangle,h=this.internal.Matrix,f=new p}]);var m=function(w){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var D=w;Object.defineProperty(this,"pdf",{get:function(){return D}});var z=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return z},set:function(ee){z=!!ee}});var Z=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return Z},set:function(ee){Z=!!ee}});var le=0;Object.defineProperty(this,"posX",{get:function(){return le},set:function(ee){isNaN(ee)||(le=ee)}});var ve=0;Object.defineProperty(this,"posY",{get:function(){return ve},set:function(ee){isNaN(ee)||(ve=ee)}}),Object.defineProperty(this,"margin",{get:function(){return f.margin},set:function(ee){var nt;typeof ee=="number"?nt=[ee,ee,ee,ee]:((nt=new Array(4))[0]=ee[0],nt[1]=ee.length>=2?ee[1]:nt[0],nt[2]=ee.length>=3?ee[2]:nt[0],nt[3]=ee.length>=4?ee[3]:nt[1]),f.margin=nt}});var Ne=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Ne},set:function(ee){Ne=ee}});var Ce=0;Object.defineProperty(this,"lastBreak",{get:function(){return Ce},set:function(ee){Ce=ee}});var Pe=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Pe},set:function(ee){Pe=ee}}),Object.defineProperty(this,"ctx",{get:function(){return f},set:function(ee){ee instanceof p&&(f=ee)}}),Object.defineProperty(this,"path",{get:function(){return f.path},set:function(ee){f.path=ee}});var $e=[];Object.defineProperty(this,"ctxStack",{get:function(){return $e},set:function(ee){$e=ee}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(ee){var nt;nt=b(ee),this.ctx.fillStyle=nt.style,this.ctx.isFillTransparent=nt.a===0,this.ctx.fillOpacity=nt.a,this.pdf.setFillColor(nt.r,nt.g,nt.b,{a:nt.a}),this.pdf.setTextColor(nt.r,nt.g,nt.b,{a:nt.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(ee){var nt=b(ee);this.ctx.strokeStyle=nt.style,this.ctx.isStrokeTransparent=nt.a===0,this.ctx.strokeOpacity=nt.a,nt.a===0?this.pdf.setDrawColor(255,255,255):(nt.a,this.pdf.setDrawColor(nt.r,nt.g,nt.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(ee){["butt","round","square"].indexOf(ee)!==-1&&(this.ctx.lineCap=ee,this.pdf.setLineCap(ee))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(ee){isNaN(ee)||(this.ctx.lineWidth=ee,this.pdf.setLineWidth(ee))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(ee){["bevel","round","miter"].indexOf(ee)!==-1&&(this.ctx.lineJoin=ee,this.pdf.setLineJoin(ee))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(ee){isNaN(ee)||(this.ctx.miterLimit=ee,this.pdf.setMiterLimit(ee))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(ee){this.ctx.textBaseline=ee}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(ee){["right","end","center","left","start"].indexOf(ee)!==-1&&(this.ctx.textAlign=ee)}});var tt=null,it=null,ht=null;Object.defineProperty(this,"fontFaces",{get:function(){return ht},set:function(ee){tt=null,it=null,ht=ee}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(ee){var nt;if(this.ctx.font=ee,(nt=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(ee))!==null){var Oe=nt[1];nt[2];var He=nt[3],Le=nt[4];nt[5];var Je=nt[6],Ge=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Le)[2];Le=Math.floor(Ge==="px"?parseFloat(Le)*this.pdf.internal.scaleFactor:Ge==="em"?parseFloat(Le)*this.pdf.getFontSize():parseFloat(Le)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Le);var qe=(function(pt){var wn,me,De=[],Xe=pt.trim();if(Xe==="")return T2;if(Xe in l3)return[l3[Xe]];for(;Xe!=="";){switch(me=null,wn=(Xe=u3(Xe)).charAt(0)){case'"':case"'":me=$B(Xe.substring(1),wn);break;default:me=XB(Xe)}if(me===null||(De.push(me[0]),(Xe=u3(me[1]))!==""&&Xe.charAt(0)!==","))return T2;Xe=Xe.replace(/^,/,"")}return De})(Je);if(this.fontFaces){var st=(function(pt,wn){var me=pt.getFontList(),De=JSON.stringify(me);if(tt===null||it!==De){var Xe=(function(Ct){var Ke=[];return Object.keys(Ct).forEach(function(Dn){Ct[Dn].forEach(function(Rt){var It=null;switch(Rt){case"bold":It={family:Dn,weight:"bold"};break;case"italic":It={family:Dn,style:"italic"};break;case"bolditalic":It={family:Dn,weight:"bold",style:"italic"};break;case"":case"normal":It={family:Dn}}It!==null&&(It.ref={name:Dn,style:Rt},Ke.push(It))})}),Ke})(me);tt=(function(Ct){for(var Ke={},Dn=0;Dn<Ct.length;++Dn){var Rt=k2(Ct[Dn]),It=Rt.family,Nn=Rt.stretch,Wt=Rt.style,xt=Rt.weight;Ke[It]=Ke[It]||{},Ke[It][Nn]=Ke[It][Nn]||{},Ke[It][Nn][Wt]=Ke[It][Nn][Wt]||{},Ke[It][Nn][Wt][xt]=Rt}return Ke})(Xe.concat(wn)),it=De}return tt})(this.pdf,this.fontFaces),vt=qe.map(function(pt){return{family:pt,stretch:"normal",weight:He,style:Oe}}),yt=(function(pt,wn,me){for(var De=(me=me||{}).defaultFontFamily||"times",Xe=Object.assign({},YB,me.genericFontFamilies||{}),Ct=null,Ke=null,Dn=0;Dn<wn.length;++Dn)if(Xe[(Ct=k2(wn[Dn])).family]&&(Ct.family=Xe[Ct.family]),pt.hasOwnProperty(Ct.family)){Ke=pt[Ct.family];break}if(!(Ke=Ke||pt[De]))throw new Error("Could not find a font-family for the rule '"+c3(Ct)+"' and default family '"+De+"'.");if(Ke=(function(Rt,It){if(It[Rt])return It[Rt];var Nn=Ey[Rt],Wt=Nn<=Ey.normal?-1:1,xt=o3(It,G6,Nn,Wt);if(!xt)throw new Error("Could not find a matching font-stretch value for "+Rt);return xt})(Ct.stretch,Ke),Ke=(function(Rt,It){if(It[Rt])return It[Rt];for(var Nn=V6[Rt],Wt=0;Wt<Nn.length;++Wt)if(It[Nn[Wt]])return It[Nn[Wt]];throw new Error("Could not find a matching font-style for "+Rt)})(Ct.style,Ke),!(Ke=(function(Rt,It){if(It[Rt])return It[Rt];if(Rt===400&&It[500])return It[500];if(Rt===500&&It[400])return It[400];var Nn=GB[Rt],Wt=o3(It,Y6,Nn,Rt<400?-1:1);if(!Wt)throw new Error("Could not find a matching font-weight for value "+Rt);return Wt})(Ct.weight,Ke)))throw new Error("Failed to resolve a font for the rule '"+c3(Ct)+"'.");return Ke})(st,vt);this.pdf.setFont(yt.ref.name,yt.ref.style)}else{var ct="";(He==="bold"||parseInt(He,10)>=700||Oe==="bold")&&(ct="bold"),Oe==="italic"&&(ct+="italic"),ct.length===0&&(ct="normal");for(var Bt="",rt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},at=0;at<qe.length;at++){if(this.pdf.internal.getFont(qe[at],ct,{noFallback:!0,disableWarning:!0})!==void 0){Bt=qe[at];break}if(ct==="bolditalic"&&this.pdf.internal.getFont(qe[at],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Bt=qe[at],ct="bold";else if(this.pdf.internal.getFont(qe[at],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Bt=qe[at],ct="normal";break}}if(Bt===""){for(var St=0;St<qe.length;St++)if(rt[qe[St]]){Bt=rt[qe[St]];break}}Bt=Bt===""?"Times":Bt,this.pdf.setFont(Bt,ct)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(ee){this.ctx.globalCompositeOperation=ee}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(ee){this.ctx.globalAlpha=ee}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(ee){this.ctx.lineDashOffset=ee,F.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(ee){this.ctx.lineDash=ee,F.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(ee){this.ctx.ignoreClearRect=!!ee}})};m.prototype.setLineDash=function(w){this.lineDash=w},m.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},m.prototype.fill=function(){H.call(this,"fill",!1)},m.prototype.stroke=function(){H.call(this,"stroke",!1)},m.prototype.beginPath=function(){this.path=[{type:"begin"}]},m.prototype.moveTo=function(w,D){if(isNaN(w)||isNaN(D))throw qn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var z=this.ctx.transform.applyToPoint(new l(w,D));this.path.push({type:"mt",x:z.x,y:z.y}),this.ctx.lastPoint=new l(w,D)},m.prototype.closePath=function(){var w=new l(0,0),D=0;for(D=this.path.length-1;D!==-1;D--)if(this.path[D].type==="begin"&&Ln(this.path[D+1])==="object"&&typeof this.path[D+1].x=="number"){w=new l(this.path[D+1].x,this.path[D+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new l(w.x,w.y)},m.prototype.lineTo=function(w,D){if(isNaN(w)||isNaN(D))throw qn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var z=this.ctx.transform.applyToPoint(new l(w,D));this.path.push({type:"lt",x:z.x,y:z.y}),this.ctx.lastPoint=new l(z.x,z.y)},m.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),H.call(this,null,!0)},m.prototype.quadraticCurveTo=function(w,D,z,Z){if(isNaN(z)||isNaN(Z)||isNaN(w)||isNaN(D))throw qn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var le=this.ctx.transform.applyToPoint(new l(z,Z)),ve=this.ctx.transform.applyToPoint(new l(w,D));this.path.push({type:"qct",x1:ve.x,y1:ve.y,x:le.x,y:le.y}),this.ctx.lastPoint=new l(le.x,le.y)},m.prototype.bezierCurveTo=function(w,D,z,Z,le,ve){if(isNaN(le)||isNaN(ve)||isNaN(w)||isNaN(D)||isNaN(z)||isNaN(Z))throw qn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Ne=this.ctx.transform.applyToPoint(new l(le,ve)),Ce=this.ctx.transform.applyToPoint(new l(w,D)),Pe=this.ctx.transform.applyToPoint(new l(z,Z));this.path.push({type:"bct",x1:Ce.x,y1:Ce.y,x2:Pe.x,y2:Pe.y,x:Ne.x,y:Ne.y}),this.ctx.lastPoint=new l(Ne.x,Ne.y)},m.prototype.arc=function(w,D,z,Z,le,ve){if(isNaN(w)||isNaN(D)||isNaN(z)||isNaN(Z)||isNaN(le))throw qn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ve=!!ve,!this.ctx.transform.isIdentity){var Ne=this.ctx.transform.applyToPoint(new l(w,D));w=Ne.x,D=Ne.y;var Ce=this.ctx.transform.applyToPoint(new l(0,z)),Pe=this.ctx.transform.applyToPoint(new l(0,0));z=Math.sqrt(Math.pow(Ce.x-Pe.x,2)+Math.pow(Ce.y-Pe.y,2))}Math.abs(le-Z)>=2*Math.PI&&(Z=0,le=2*Math.PI),this.path.push({type:"arc",x:w,y:D,radius:z,startAngle:Z,endAngle:le,counterclockwise:ve})},m.prototype.arcTo=function(w,D,z,Z,le){throw new Error("arcTo not implemented.")},m.prototype.rect=function(w,D,z,Z){if(isNaN(w)||isNaN(D)||isNaN(z)||isNaN(Z))throw qn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(w,D),this.lineTo(w+z,D),this.lineTo(w+z,D+Z),this.lineTo(w,D+Z),this.lineTo(w,D),this.lineTo(w+z,D),this.lineTo(w,D)},m.prototype.fillRect=function(w,D,z,Z){if(isNaN(w)||isNaN(D)||isNaN(z)||isNaN(Z))throw qn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!y.call(this)){var le={};this.lineCap!=="butt"&&(le.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(le.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(w,D,z,Z),this.fill(),le.hasOwnProperty("lineCap")&&(this.lineCap=le.lineCap),le.hasOwnProperty("lineJoin")&&(this.lineJoin=le.lineJoin)}},m.prototype.strokeRect=function(w,D,z,Z){if(isNaN(w)||isNaN(D)||isNaN(z)||isNaN(Z))throw qn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");N.call(this)||(this.beginPath(),this.rect(w,D,z,Z),this.stroke())},m.prototype.clearRect=function(w,D,z,Z){if(isNaN(w)||isNaN(D)||isNaN(z)||isNaN(Z))throw qn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(w,D,z,Z))},m.prototype.save=function(w){w=typeof w!="boolean"||w;for(var D=this.pdf.internal.getCurrentPageInfo().pageNumber,z=0;z<this.pdf.internal.getNumberOfPages();z++)this.pdf.setPage(z+1),this.pdf.internal.out("q");if(this.pdf.setPage(D),w){this.ctx.fontSize=this.pdf.internal.getFontSize();var Z=new p(this.ctx);this.ctxStack.push(this.ctx),this.ctx=Z}},m.prototype.restore=function(w){w=typeof w!="boolean"||w;for(var D=this.pdf.internal.getCurrentPageInfo().pageNumber,z=0;z<this.pdf.internal.getNumberOfPages();z++)this.pdf.setPage(z+1),this.pdf.internal.out("Q");this.pdf.setPage(D),w&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},m.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var b=function(w){var D,z,Z,le;if(w.isCanvasGradient===!0&&(w=w.getColor()),!w)return{r:0,g:0,b:0,a:0,style:w};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(w))D=0,z=0,Z=0,le=0;else{var ve=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(w);if(ve!==null)D=parseInt(ve[1]),z=parseInt(ve[2]),Z=parseInt(ve[3]),le=1;else if((ve=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(w))!==null)D=parseInt(ve[1]),z=parseInt(ve[2]),Z=parseInt(ve[3]),le=parseFloat(ve[4]);else{if(le=1,typeof w=="string"&&w.charAt(0)!=="#"){var Ne=new F6(w);w=Ne.ok?Ne.toHex():"#000000"}w.length===4?(D=w.substring(1,2),D+=D,z=w.substring(2,3),z+=z,Z=w.substring(3,4),Z+=Z):(D=w.substring(1,3),z=w.substring(3,5),Z=w.substring(5,7)),D=parseInt(D,16),z=parseInt(z,16),Z=parseInt(Z,16)}}return{r:D,g:z,b:Z,a:le,style:w}},y=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},N=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};m.prototype.fillText=function(w,D,z,Z){if(isNaN(D)||isNaN(z)||typeof w!="string")throw qn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(Z=isNaN(Z)?void 0:Z,!y.call(this)){var le=ce(this.ctx.transform.rotation),ve=this.ctx.transform.scaleX;M.call(this,{text:w,x:D,y:z,scale:ve,angle:le,align:this.textAlign,maxWidth:Z})}},m.prototype.strokeText=function(w,D,z,Z){if(isNaN(D)||isNaN(z)||typeof w!="string")throw qn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!N.call(this)){Z=isNaN(Z)?void 0:Z;var le=ce(this.ctx.transform.rotation),ve=this.ctx.transform.scaleX;M.call(this,{text:w,x:D,y:z,scale:ve,renderingMode:"stroke",angle:le,align:this.textAlign,maxWidth:Z})}},m.prototype.measureText=function(w){if(typeof w!="string")throw qn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var D=this.pdf,z=this.pdf.internal.scaleFactor,Z=D.internal.getFontSize(),le=D.getStringUnitWidth(w)*Z/D.internal.scaleFactor;return new function(ve){var Ne=(ve=ve||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Ne}}),this}({width:le*=Math.round(96*z/72*1e4)/1e4})},m.prototype.scale=function(w,D){if(isNaN(w)||isNaN(D))throw qn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var z=new h(w,0,0,D,0,0);this.ctx.transform=this.ctx.transform.multiply(z)},m.prototype.rotate=function(w){if(isNaN(w))throw qn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var D=new h(Math.cos(w),Math.sin(w),-Math.sin(w),Math.cos(w),0,0);this.ctx.transform=this.ctx.transform.multiply(D)},m.prototype.translate=function(w,D){if(isNaN(w)||isNaN(D))throw qn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var z=new h(1,0,0,1,w,D);this.ctx.transform=this.ctx.transform.multiply(z)},m.prototype.transform=function(w,D,z,Z,le,ve){if(isNaN(w)||isNaN(D)||isNaN(z)||isNaN(Z)||isNaN(le)||isNaN(ve))throw qn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Ne=new h(w,D,z,Z,le,ve);this.ctx.transform=this.ctx.transform.multiply(Ne)},m.prototype.setTransform=function(w,D,z,Z,le,ve){w=isNaN(w)?1:w,D=isNaN(D)?0:D,z=isNaN(z)?0:z,Z=isNaN(Z)?1:Z,le=isNaN(le)?0:le,ve=isNaN(ve)?0:ve,this.ctx.transform=new h(w,D,z,Z,le,ve)};var E=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};m.prototype.drawImage=function(w,D,z,Z,le,ve,Ne,Ce,Pe){var $e=this.pdf.getImageProperties(w),tt=1,it=1,ht=1,ee=1;Z!==void 0&&Ce!==void 0&&(ht=Ce/Z,ee=Pe/le,tt=$e.width/Z*Ce/Z,it=$e.height/le*Pe/le),ve===void 0&&(ve=D,Ne=z,D=0,z=0),Z!==void 0&&Ce===void 0&&(Ce=Z,Pe=le),Z===void 0&&Ce===void 0&&(Ce=$e.width,Pe=$e.height);var nt=this.ctx.transform.decompose(),Oe=ce(nt.rotate.shx),He=new h,Le=(He=(He=(He=He.multiply(nt.translate)).multiply(nt.skew)).multiply(nt.scale)).applyToRectangle(new c(ve-D*ht,Ne-z*ee,Z*tt,le*it));if(this.autoPaging){for(var Je,Ge=k.call(this,Le),qe=[],st=0;st<Ge.length;st+=1)qe.indexOf(Ge[st])===-1&&qe.push(Ge[st]);q(qe);for(var vt=qe[0],yt=qe[qe.length-1],ct=vt;ct<yt+1;ct++){this.pdf.setPage(ct);var Bt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],rt=ct===1?this.posY+this.margin[0]:this.margin[0],at=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],St=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],pt=ct===1?0:at+(ct-2)*St;if(this.ctx.clip_path.length!==0){var wn=this.path;Je=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=j(Je,this.posX+this.margin[3],-pt+rt+this.ctx.prevPageLastElemOffset),V.call(this,"fill",!0),this.path=wn}var me=JSON.parse(JSON.stringify(Le));me=j([me],this.posX+this.margin[3],-pt+rt+this.ctx.prevPageLastElemOffset)[0];var De=(ct>vt||ct<yt)&&E.call(this);De&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Bt,St,null).clip().discardPath()),this.pdf.addImage(w,"JPEG",me.x,me.y,me.w,me.h,null,null,Oe),De&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(w,"JPEG",Le.x,Le.y,Le.w,Le.h,null,null,Oe)};var k=function(w,D,z){var Z=[];D=D||this.pdf.internal.pageSize.width,z=z||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var le=this.posY+this.ctx.prevPageLastElemOffset;switch(w.type){default:case"mt":case"lt":Z.push(Math.floor((w.y+le)/z)+1);break;case"arc":Z.push(Math.floor((w.y+le-w.radius)/z)+1),Z.push(Math.floor((w.y+le+w.radius)/z)+1);break;case"qct":var ve=J(this.ctx.lastPoint.x,this.ctx.lastPoint.y,w.x1,w.y1,w.x,w.y);Z.push(Math.floor((ve.y+le)/z)+1),Z.push(Math.floor((ve.y+ve.h+le)/z)+1);break;case"bct":var Ne=_e(this.ctx.lastPoint.x,this.ctx.lastPoint.y,w.x1,w.y1,w.x2,w.y2,w.x,w.y);Z.push(Math.floor((Ne.y+le)/z)+1),Z.push(Math.floor((Ne.y+Ne.h+le)/z)+1);break;case"rect":Z.push(Math.floor((w.y+le)/z)+1),Z.push(Math.floor((w.y+w.h+le)/z)+1)}for(var Ce=0;Ce<Z.length;Ce+=1)for(;this.pdf.internal.getNumberOfPages()<Z[Ce];)T.call(this);return Z},T=function(){var w=this.fillStyle,D=this.strokeStyle,z=this.font,Z=this.lineCap,le=this.lineWidth,ve=this.lineJoin;this.pdf.addPage(),this.fillStyle=w,this.strokeStyle=D,this.font=z,this.lineCap=Z,this.lineWidth=le,this.lineJoin=ve},j=function(w,D,z){for(var Z=0;Z<w.length;Z++)switch(w[Z].type){case"bct":w[Z].x2+=D,w[Z].y2+=z;case"qct":w[Z].x1+=D,w[Z].y1+=z;default:w[Z].x+=D,w[Z].y+=z}return w},q=function(w){return w.sort(function(D,z){return D-z})},H=function(w,D){var z=this.fillStyle,Z=this.strokeStyle,le=this.lineCap,ve=this.lineWidth,Ne=Math.abs(ve*this.ctx.transform.scaleX),Ce=this.lineJoin;if(this.autoPaging){for(var Pe,$e,tt=JSON.parse(JSON.stringify(this.path)),it=JSON.parse(JSON.stringify(this.path)),ht=[],ee=0;ee<it.length;ee++)if(it[ee].x!==void 0)for(var nt=k.call(this,it[ee]),Oe=0;Oe<nt.length;Oe+=1)ht.indexOf(nt[Oe])===-1&&ht.push(nt[Oe]);for(var He=0;He<ht.length;He++)for(;this.pdf.internal.getNumberOfPages()<ht[He];)T.call(this);q(ht);for(var Le=ht[0],Je=ht[ht.length-1],Ge=Le;Ge<Je+1;Ge++){this.pdf.setPage(Ge),this.fillStyle=z,this.strokeStyle=Z,this.lineCap=le,this.lineWidth=Ne,this.lineJoin=Ce;var qe=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],st=Ge===1?this.posY+this.margin[0]:this.margin[0],vt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],yt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ct=Ge===1?0:vt+(Ge-2)*yt;if(this.ctx.clip_path.length!==0){var Bt=this.path;Pe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=j(Pe,this.posX+this.margin[3],-ct+st+this.ctx.prevPageLastElemOffset),V.call(this,w,!0),this.path=Bt}if($e=JSON.parse(JSON.stringify(tt)),this.path=j($e,this.posX+this.margin[3],-ct+st+this.ctx.prevPageLastElemOffset),D===!1||Ge===0){var rt=(Ge>Le||Ge<Je)&&E.call(this);rt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],qe,yt,null).clip().discardPath()),V.call(this,w,D),rt&&this.pdf.restoreGraphicsState()}this.lineWidth=ve}this.path=tt}else this.lineWidth=Ne,V.call(this,w,D),this.lineWidth=ve},V=function(w,D){if((w!=="stroke"||D||!N.call(this))&&(w==="stroke"||D||!y.call(this))){for(var z,Z,le=[],ve=this.path,Ne=0;Ne<ve.length;Ne++){var Ce=ve[Ne];switch(Ce.type){case"begin":le.push({begin:!0});break;case"close":le.push({close:!0});break;case"mt":le.push({start:Ce,deltas:[],abs:[]});break;case"lt":var Pe=le.length;if(ve[Ne-1]&&!isNaN(ve[Ne-1].x)&&(z=[Ce.x-ve[Ne-1].x,Ce.y-ve[Ne-1].y],Pe>0)){for(;Pe>=0;Pe--)if(le[Pe-1].close!==!0&&le[Pe-1].begin!==!0){le[Pe-1].deltas.push(z),le[Pe-1].abs.push(Ce);break}}break;case"bct":z=[Ce.x1-ve[Ne-1].x,Ce.y1-ve[Ne-1].y,Ce.x2-ve[Ne-1].x,Ce.y2-ve[Ne-1].y,Ce.x-ve[Ne-1].x,Ce.y-ve[Ne-1].y],le[le.length-1].deltas.push(z);break;case"qct":var $e=ve[Ne-1].x+2/3*(Ce.x1-ve[Ne-1].x),tt=ve[Ne-1].y+2/3*(Ce.y1-ve[Ne-1].y),it=Ce.x+2/3*(Ce.x1-Ce.x),ht=Ce.y+2/3*(Ce.y1-Ce.y),ee=Ce.x,nt=Ce.y;z=[$e-ve[Ne-1].x,tt-ve[Ne-1].y,it-ve[Ne-1].x,ht-ve[Ne-1].y,ee-ve[Ne-1].x,nt-ve[Ne-1].y],le[le.length-1].deltas.push(z);break;case"arc":le.push({deltas:[],abs:[],arc:!0}),Array.isArray(le[le.length-1].abs)&&le[le.length-1].abs.push(Ce)}}Z=D?null:w==="stroke"?"stroke":"fill";for(var Oe=!1,He=0;He<le.length;He++)if(le[He].arc)for(var Le=le[He].abs,Je=0;Je<Le.length;Je++){var Ge=Le[Je];Ge.type==="arc"?K.call(this,Ge.x,Ge.y,Ge.radius,Ge.startAngle,Ge.endAngle,Ge.counterclockwise,void 0,D,!Oe):Q.call(this,Ge.x,Ge.y),Oe=!0}else if(le[He].close===!0)this.pdf.internal.out("h"),Oe=!1;else if(le[He].begin!==!0){var qe=le[He].start.x,st=le[He].start.y;ne.call(this,le[He].deltas,qe,st),Oe=!0}Z&&Y.call(this,Z),D&&ue.call(this)}},oe=function(w){var D=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,z=D*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return w-z;case"top":return w+D-z;case"hanging":return w+D-2*z;case"middle":return w+D/2-z;default:return w}},ae=function(w){return w+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};m.prototype.createLinearGradient=function(){var w=function(){};return w.colorStops=[],w.addColorStop=function(D,z){this.colorStops.push([D,z])},w.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},w.isCanvasGradient=!0,w},m.prototype.createPattern=function(){return this.createLinearGradient()},m.prototype.createRadialGradient=function(){return this.createLinearGradient()};var K=function(w,D,z,Z,le,ve,Ne,Ce,Pe){for(var $e=$.call(this,z,Z,le,ve),tt=0;tt<$e.length;tt++){var it=$e[tt];tt===0&&(Pe?P.call(this,it.x1+w,it.y1+D):Q.call(this,it.x1+w,it.y1+D)),pe.call(this,w,D,it.x2,it.y2,it.x3,it.y3,it.x4,it.y4)}Ce?ue.call(this):Y.call(this,Ne)},Y=function(w){switch(w){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},ue=function(){this.pdf.clip(),this.pdf.discardPath()},P=function(w,D){this.pdf.internal.out(t(w)+" "+i(D)+" m")},M=function(w){var D;switch(w.align){case"right":case"end":D="right";break;case"center":D="center";break;default:D="left"}var z,Z,le,ve=this.pdf.getTextDimensions(w.text),Ne=oe.call(this,w.y),Ce=ae.call(this,Ne)-ve.h,Pe=this.ctx.transform.applyToPoint(new l(w.x,Ne));if(this.autoPaging){var $e=this.ctx.transform.decompose(),tt=new h;tt=(tt=(tt=tt.multiply($e.translate)).multiply($e.skew)).multiply($e.scale);for(var it=this.ctx.transform.applyToRectangle(new c(w.x,Ne,ve.w,ve.h)),ht=tt.applyToRectangle(new c(w.x,Ce,ve.w,ve.h)),ee=k.call(this,ht),nt=[],Oe=0;Oe<ee.length;Oe+=1)nt.indexOf(ee[Oe])===-1&&nt.push(ee[Oe]);q(nt);for(var He=nt[0],Le=nt[nt.length-1],Je=He;Je<Le+1;Je++){this.pdf.setPage(Je);var Ge=Je===1?this.posY+this.margin[0]:this.margin[0],qe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],st=this.pdf.internal.pageSize.height-this.margin[2],vt=st-this.margin[0],yt=this.pdf.internal.pageSize.width-this.margin[1],ct=yt-this.margin[3],Bt=Je===1?0:qe+(Je-2)*vt;if(this.ctx.clip_path.length!==0){var rt=this.path;z=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=j(z,this.posX+this.margin[3],-1*Bt+Ge),V.call(this,"fill",!0),this.path=rt}var at=j([JSON.parse(JSON.stringify(ht))],this.posX+this.margin[3],-Bt+Ge+this.ctx.prevPageLastElemOffset)[0];w.scale>=.01&&(Z=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Z*w.scale),le=this.lineWidth,this.lineWidth=le*w.scale);var St=this.autoPaging!=="text";if(St||at.y+at.h<=st){if(St||at.y>=Ge&&at.x<=yt){var pt=St?w.text:this.pdf.splitTextToSize(w.text,w.maxWidth||yt-at.x)[0],wn=j([JSON.parse(JSON.stringify(it))],this.posX+this.margin[3],-Bt+Ge+this.ctx.prevPageLastElemOffset)[0],me=St&&(Je>He||Je<Le)&&E.call(this);me&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ct,vt,null).clip().discardPath()),this.pdf.text(pt,wn.x,wn.y,{angle:w.angle,align:D,renderingMode:w.renderingMode}),me&&this.pdf.restoreGraphicsState()}}else at.y<st&&(this.ctx.prevPageLastElemOffset+=st-at.y);w.scale>=.01&&(this.pdf.setFontSize(Z),this.lineWidth=le)}}else w.scale>=.01&&(Z=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Z*w.scale),le=this.lineWidth,this.lineWidth=le*w.scale),this.pdf.text(w.text,Pe.x+this.posX,Pe.y+this.posY,{angle:w.angle,align:D,renderingMode:w.renderingMode,maxWidth:w.maxWidth}),w.scale>=.01&&(this.pdf.setFontSize(Z),this.lineWidth=le)},Q=function(w,D,z,Z){z=z||0,Z=Z||0,this.pdf.internal.out(t(w+z)+" "+i(D+Z)+" l")},ne=function(w,D,z){return this.pdf.lines(w,D,z,null,null)},pe=function(w,D,z,Z,le,ve,Ne,Ce){this.pdf.internal.out([e(s(z+w)),e(a(Z+D)),e(s(le+w)),e(a(ve+D)),e(s(Ne+w)),e(a(Ce+D)),"c"].join(" "))},$=function(w,D,z,Z){for(var le=2*Math.PI,ve=Math.PI/2;D>z;)D-=le;var Ne=Math.abs(z-D);Ne<le&&Z&&(Ne=le-Ne);for(var Ce=[],Pe=Z?-1:1,$e=D;Ne>1e-5;){var tt=$e+Pe*Math.min(Ne,ve);Ce.push(re.call(this,w,$e,tt)),Ne-=Math.abs(tt-$e),$e=tt}return Ce},re=function(w,D,z){var Z=(z-D)/2,le=w*Math.cos(Z),ve=w*Math.sin(Z),Ne=le,Ce=-ve,Pe=Ne*Ne+Ce*Ce,$e=Pe+Ne*le+Ce*ve,tt=4/3*(Math.sqrt(2*Pe*$e)-$e)/(Ne*ve-Ce*le),it=Ne-tt*Ce,ht=Ce+tt*Ne,ee=it,nt=-ht,Oe=Z+D,He=Math.cos(Oe),Le=Math.sin(Oe);return{x1:w*Math.cos(D),y1:w*Math.sin(D),x2:it*He-ht*Le,y2:it*Le+ht*He,x3:ee*He-nt*Le,y3:ee*Le+nt*He,x4:w*Math.cos(z),y4:w*Math.sin(z)}},ce=function(w){return 180*w/Math.PI},J=function(w,D,z,Z,le,ve){var Ne=w+.5*(z-w),Ce=D+.5*(Z-D),Pe=le+.5*(z-le),$e=ve+.5*(Z-ve),tt=Math.min(w,le,Ne,Pe),it=Math.max(w,le,Ne,Pe),ht=Math.min(D,ve,Ce,$e),ee=Math.max(D,ve,Ce,$e);return new c(tt,ht,it-tt,ee-ht)},_e=function(w,D,z,Z,le,ve,Ne,Ce){var Pe,$e,tt,it,ht,ee,nt,Oe,He,Le,Je,Ge,qe,st,vt=z-w,yt=Z-D,ct=le-z,Bt=ve-Z,rt=Ne-le,at=Ce-ve;for($e=0;$e<41;$e++)He=(nt=(tt=w+(Pe=$e/40)*vt)+Pe*((ht=z+Pe*ct)-tt))+Pe*(ht+Pe*(le+Pe*rt-ht)-nt),Le=(Oe=(it=D+Pe*yt)+Pe*((ee=Z+Pe*Bt)-it))+Pe*(ee+Pe*(ve+Pe*at-ee)-Oe),$e==0?(Je=He,Ge=Le,qe=He,st=Le):(Je=Math.min(Je,He),Ge=Math.min(Ge,Le),qe=Math.max(qe,He),st=Math.max(st,Le));return new c(Math.round(Je),Math.round(Ge),Math.round(qe-Je),Math.round(st-Ge))},F=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var w,D,z=(w=this.ctx.lineDash,D=this.ctx.lineDashOffset,JSON.stringify({lineDash:w,lineDashOffset:D}));this.prevLineDash!==z&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=z)}}})(wt.API),(function(n){var e=function(l){var c,h,f,p,m,b,y,N,E,k;for(h=[],f=0,p=(l+=c="\0\0\0\0".slice(l.length%4||4)).length;p>f;f+=4)(m=(l.charCodeAt(f)<<24)+(l.charCodeAt(f+1)<<16)+(l.charCodeAt(f+2)<<8)+l.charCodeAt(f+3))!==0?(b=(m=((m=((m=((m=(m-(k=m%85))/85)-(E=m%85))/85)-(N=m%85))/85)-(y=m%85))/85)%85,h.push(b+33,y+33,N+33,E+33,k+33)):h.push(122);return(function(T,j){for(var q=j;q>0;q--)T.pop()})(h,c.length),String.fromCharCode.apply(String,h)+"~>"},t=function(l){var c,h,f,p,m,b=String,y="length",N=255,E="charCodeAt",k="slice",T="replace";for(l[k](-2),l=l[k](0,-2)[T](/\s/g,"")[T]("z","!!!!!"),f=[],p=0,m=(l+=c="uuuuu"[k](l[y]%5||5))[y];m>p;p+=5)h=52200625*(l[E](p)-33)+614125*(l[E](p+1)-33)+7225*(l[E](p+2)-33)+85*(l[E](p+3)-33)+(l[E](p+4)-33),f.push(N&h>>24,N&h>>16,N&h>>8,N&h);return(function(j,q){for(var H=q;H>0;H--)j.pop()})(f,c[y]),b.fromCharCode.apply(b,f)},i=function(l){return l.split("").map(function(c){return("0"+c.charCodeAt().toString(16)).slice(-2)}).join("")+">"},s=function(l){var c=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((l=l.replace(/\s/g,"")).indexOf(">")!==-1&&(l=l.substr(0,l.indexOf(">"))),l.length%2&&(l+="0"),c.test(l)===!1)return"";for(var h="",f=0;f<l.length;f+=2)h+=String.fromCharCode("0x"+(l[f]+l[f+1]));return h},a=function(l){for(var c=new Uint8Array(l.length),h=l.length;h--;)c[h]=l.charCodeAt(h);return(c=_y(c)).reduce(function(f,p){return f+String.fromCharCode(p)},"")};n.processDataByFilters=function(l,c){var h=0,f=l||"",p=[];for(typeof(c=c||[])=="string"&&(c=[c]),h=0;h<c.length;h+=1)switch(c[h]){case"ASCII85Decode":case"/ASCII85Decode":f=t(f),p.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":f=e(f),p.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":f=s(f),p.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":f=i(f),p.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":f=a(f),p.push("/FlateDecode");break;default:throw new Error('The filter: "'+c[h]+'" is not implemented')}return{data:f,reverseChain:p.reverse().join(" ")}}})(wt.API),(function(n){n.loadFile=function(e,t,i){return(function(s,a,l){a=a!==!1,l=typeof l=="function"?l:function(){};var c=void 0;try{c=(function(h,f,p){var m=new XMLHttpRequest,b=0,y=function(N){var E=N.length,k=[],T=String.fromCharCode;for(b=0;b<E;b+=1)k.push(T(255&N.charCodeAt(b)));return k.join("")};if(m.open("GET",h,!f),m.overrideMimeType("text/plain; charset=x-user-defined"),f===!1&&(m.onload=function(){m.status===200?p(y(this.responseText)):p(void 0)}),m.send(null),f&&m.status===200)return y(m.responseText)})(s,a,l)}catch{}return c})(e,t,i)},n.loadImageFile=n.loadFile})(wt.API),(function(n){function e(){return(jt.html2canvas?Promise.resolve(jt.html2canvas):u2(()=>import("./html2canvas.esm-Ge7aVWlp.js"),[])).catch(function(c){return Promise.reject(new Error("Could not load html2canvas: "+c))}).then(function(c){return c.default?c.default:c})}function t(){return(jt.DOMPurify?Promise.resolve(jt.DOMPurify):u2(()=>import("./purify.es-C65SP4u9.js"),[])).catch(function(c){return Promise.reject(new Error("Could not load dompurify: "+c))}).then(function(c){return c.default?c.default:c})}var i=function(c){var h=Ln(c);return h==="undefined"?"undefined":h==="string"||c instanceof String?"string":h==="number"||c instanceof Number?"number":h==="function"||c instanceof Function?"function":c&&c.constructor===Array?"array":c&&c.nodeType===1?"element":h==="object"?"object":"unknown"},s=function(c,h){var f=document.createElement(c);for(var p in h.className&&(f.className=h.className),h.innerHTML&&h.dompurify&&(f.innerHTML=h.dompurify.sanitize(h.innerHTML)),h.style)f.style[p]=h.style[p];return f},a=function c(h,f){for(var p=h.nodeType===3?document.createTextNode(h.nodeValue):h.cloneNode(!1),m=h.firstChild;m;m=m.nextSibling)f!==!0&&m.nodeType===1&&m.nodeName==="SCRIPT"||p.appendChild(c(m,f));return h.nodeType===1&&(h.nodeName==="CANVAS"?(p.width=h.width,p.height=h.height,p.getContext("2d").drawImage(h,0,0)):h.nodeName!=="TEXTAREA"&&h.nodeName!=="SELECT"||(p.value=h.value),p.addEventListener("load",function(){p.scrollTop=h.scrollTop,p.scrollLeft=h.scrollLeft},!0)),p},l=function c(h){var f=Object.assign(c.convert(Promise.resolve()),JSON.parse(JSON.stringify(c.template))),p=c.convert(Promise.resolve(),f);return(p=p.setProgress(1,c,1,[c])).set(h)};(l.prototype=Object.create(Promise.prototype)).constructor=l,l.convert=function(c,h){return c.__proto__=h||l.prototype,c},l.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},l.prototype.from=function(c,h){return this.then(function(){switch(h=h||(function(f){switch(i(f)){case"string":return"string";case"element":return f.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(c),h){case"string":return this.then(t).then(function(f){return this.set({src:s("div",{innerHTML:c,dompurify:f})})});case"element":return this.set({src:c});case"canvas":return this.set({canvas:c});case"img":return this.set({img:c});default:return this.error("Unknown source type.")}})},l.prototype.to=function(c){switch(c){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},l.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var c={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},h=a(this.prop.src,this.opt.html2canvas.javascriptEnabled);h.tagName==="BODY"&&(c.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=s("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=s("div",{className:"html2pdf__container",style:c}),this.prop.container.appendChild(h),this.prop.container.firstChild.appendChild(s("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},l.prototype.toCanvas=function(){var c=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(c).then(e).then(function(h){var f=Object.assign({},this.opt.html2canvas);return delete f.onrendered,h(this.prop.container,f)}).then(function(h){(this.opt.html2canvas.onrendered||function(){})(h),this.prop.canvas=h,document.body.removeChild(this.prop.overlay)})},l.prototype.toContext2d=function(){var c=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(c).then(e).then(function(h){var f=this.opt.jsPDF,p=this.opt.fontFaces,m=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,b=Object.assign({async:!0,allowTaint:!0,scale:m,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete b.onrendered,f.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,f.context2d.posX=this.opt.x,f.context2d.posY=this.opt.y,f.context2d.margin=this.opt.margin,f.context2d.fontFaces=p,p)for(var y=0;y<p.length;++y){var N=p[y],E=N.src.find(function(k){return k.format==="truetype"});E&&f.addFont(E.url,N.ref.name,N.ref.style)}return b.windowHeight=b.windowHeight||0,b.windowHeight=b.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):b.windowHeight,f.context2d.save(!0),h(this.prop.container,b)}).then(function(h){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(h),this.prop.canvas=h,document.body.removeChild(this.prop.overlay)})},l.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var c=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=c})},l.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},l.prototype.output=function(c,h,f){return(f=f||"pdf").toLowerCase()==="img"||f.toLowerCase()==="image"?this.outputImg(c,h):this.outputPdf(c,h)},l.prototype.outputPdf=function(c,h){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(c,h)})},l.prototype.outputImg=function(c){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(c){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+c+'" is not supported.'}})},l.prototype.save=function(c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(c?{filename:c}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},l.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},l.prototype.set=function(c){if(i(c)!=="object")return this;var h=Object.keys(c||{}).map(function(f){if(f in l.template.prop)return function(){this.prop[f]=c[f]};switch(f){case"margin":return this.setMargin.bind(this,c.margin);case"jsPDF":return function(){return this.opt.jsPDF=c.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,c.pageSize);default:return function(){this.opt[f]=c[f]}}},this);return this.then(function(){return this.thenList(h)})},l.prototype.get=function(c,h){return this.then(function(){var f=c in l.template.prop?this.prop[c]:this.opt[c];return h?h(f):f})},l.prototype.setMargin=function(c){return this.then(function(){switch(i(c)){case"number":c=[c,c,c,c];case"array":if(c.length===2&&(c=[c[0],c[1],c[0],c[1]]),c.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=c}).then(this.setPageSize)},l.prototype.setPageSize=function(c){function h(f,p){return Math.floor(f*p/72*96)}return this.then(function(){(c=c||wt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(c.inner={width:c.width-this.opt.margin[1]-this.opt.margin[3],height:c.height-this.opt.margin[0]-this.opt.margin[2]},c.inner.px={width:h(c.inner.width,c.k),height:h(c.inner.height,c.k)},c.inner.ratio=c.inner.height/c.inner.width),this.prop.pageSize=c})},l.prototype.setProgress=function(c,h,f,p){return c!=null&&(this.progress.val=c),h!=null&&(this.progress.state=h),f!=null&&(this.progress.n=f),p!=null&&(this.progress.stack=p),this.progress.ratio=this.progress.val/this.progress.state,this},l.prototype.updateProgress=function(c,h,f,p){return this.setProgress(c?this.progress.val+c:null,h||null,f?this.progress.n+f:null,p?this.progress.stack.concat(p):null)},l.prototype.then=function(c,h){var f=this;return this.thenCore(c,h,function(p,m){return f.updateProgress(null,null,1,[p]),Promise.prototype.then.call(this,function(b){return f.updateProgress(null,p),b}).then(p,m).then(function(b){return f.updateProgress(1),b})})},l.prototype.thenCore=function(c,h,f){f=f||Promise.prototype.then;var p=this;c&&(c=c.bind(p)),h&&(h=h.bind(p));var m=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?p:l.convert(Object.assign({},p),Promise.prototype),b=f.call(m,c,h);return l.convert(b,p.__proto__)},l.prototype.thenExternal=function(c,h){return Promise.prototype.then.call(this,c,h)},l.prototype.thenList=function(c){var h=this;return c.forEach(function(f){h=h.thenCore(f)}),h},l.prototype.catch=function(c){c&&(c=c.bind(this));var h=Promise.prototype.catch.call(this,c);return l.convert(h,this)},l.prototype.catchExternal=function(c){return Promise.prototype.catch.call(this,c)},l.prototype.error=function(c){return this.then(function(){throw new Error(c)})},l.prototype.using=l.prototype.set,l.prototype.saveAs=l.prototype.save,l.prototype.export=l.prototype.output,l.prototype.run=l.prototype.then,wt.getPageSize=function(c,h,f){if(Ln(c)==="object"){var p=c;c=p.orientation,h=p.unit||h,f=p.format||f}h=h||"mm",f=f||"a4",c=(""+(c||"P")).toLowerCase();var m,b=(""+f).toLowerCase(),y={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(h){case"pt":m=1;break;case"mm":m=72/25.4;break;case"cm":m=72/2.54;break;case"in":m=72;break;case"px":m=.75;break;case"pc":case"em":m=12;break;case"ex":m=6;break;default:throw"Invalid unit: "+h}var N,E=0,k=0;if(y.hasOwnProperty(b))E=y[b][1]/m,k=y[b][0]/m;else try{E=f[1],k=f[0]}catch{throw new Error("Invalid format: "+f)}if(c==="p"||c==="portrait")c="p",k>E&&(N=k,k=E,E=N);else{if(c!=="l"&&c!=="landscape")throw"Invalid orientation: "+c;c="l",E>k&&(N=k,k=E,E=N)}return{width:k,height:E,unit:h,k:m,orientation:c}},n.html=function(c,h){(h=h||{}).callback=h.callback||function(){},h.html2canvas=h.html2canvas||{},h.html2canvas.canvas=h.html2canvas.canvas||this.canvas,h.jsPDF=h.jsPDF||this,h.fontFaces=h.fontFaces?h.fontFaces.map(k2):null;var f=new l(h);return h.worker?f:f.from(c).doCallback()}})(wt.API),wt.API.addJS=function(n){return f3=n,this.internal.events.subscribe("postPutResources",function(){Vg=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Vg+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),h3=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+f3+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Vg!==void 0&&h3!==void 0&&this.internal.out("/Names <</JavaScript "+Vg+" 0 R>>")}),this},(function(n){var e;n.events.push(["postPutResources",function(){var t=this,i=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var s=t.outline.render().split(/\r\n/),a=0;a<s.length;a++){var l=s[a],c=i.exec(l);if(c!=null){var h=c[1];t.internal.newObjectDeferredBegin(h,!1)}t.internal.write(l)}if(this.outline.createNamedDestinations){var f=this.internal.pages.length,p=[];for(a=0;a<f;a++){var m=t.internal.newObject();p.push(m);var b=t.internal.getPageInfo(a+1);t.internal.write("<< /D["+b.objId+" 0 R /XYZ null null null]>> endobj")}var y=t.internal.newObject();for(t.internal.write("<< /Names [ "),a=0;a<p.length;a++)t.internal.write("(page_"+(a+1)+")"+p[a]+" 0 R");t.internal.write(" ] >>","endobj"),e=t.internal.newObject(),t.internal.write("<< /Dests "+y+" 0 R"),t.internal.write(">>","endobj")}}]),n.events.push(["putCatalog",function(){var t=this;t.outline.root.children.length>0&&(t.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&t.internal.write("/Names "+e+" 0 R"))}]),n.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(i,s,a){var l={title:s,options:a,children:[]};return i==null&&(i=this.root),i.children.push(l),l},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(i){i.id=t.internal.newObjectDeferred();for(var s=0;s<i.children.length;s++)this.genIds_r(i.children[s])},t.outline.renderRoot=function(i){this.objStart(i),this.line("/Type /Outlines"),i.children.length>0&&(this.line("/First "+this.makeRef(i.children[0])),this.line("/Last "+this.makeRef(i.children[i.children.length-1]))),this.line("/Count "+this.count_r({count:0},i)),this.objEnd()},t.outline.renderItems=function(i){for(var s=this.ctx.pdf.internal.getVerticalCoordinateString,a=0;a<i.children.length;a++){var l=i.children[a];this.objStart(l),this.line("/Title "+this.makeString(l.title)),this.line("/Parent "+this.makeRef(i)),a>0&&this.line("/Prev "+this.makeRef(i.children[a-1])),a<i.children.length-1&&this.line("/Next "+this.makeRef(i.children[a+1])),l.children.length>0&&(this.line("/First "+this.makeRef(l.children[0])),this.line("/Last "+this.makeRef(l.children[l.children.length-1])));var c=this.count=this.count_r({count:0},l);if(c>0&&this.line("/Count "+c),l.options&&l.options.pageNumber){var h=t.internal.getPageInfo(l.options.pageNumber);this.line("/Dest ["+h.objId+" 0 R /XYZ 0 "+s(0)+" 0]")}this.objEnd()}for(var f=0;f<i.children.length;f++)this.renderItems(i.children[f])},t.outline.line=function(i){this.ctx.val+=i+`\r
`},t.outline.makeRef=function(i){return i.id+" 0 R"},t.outline.makeString=function(i){return"("+t.internal.pdfEscape(i)+")"},t.outline.objStart=function(i){this.ctx.val+=`\r
`+i.id+` 0 obj\r
<<\r
`},t.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},t.outline.count_r=function(i,s){for(var a=0;a<s.children.length;a++)i.count++,this.count_r(i,s.children[a]);return i.count}}])})(wt.API),(function(n){var e=[192,193,194,195,196,197,198,199];n.processJPEG=function(t,i,s,a,l,c){var h,f=this.decode.DCT_DECODE,p=null;if(typeof t=="string"||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=l||t,t=this.__addimage__.isArrayBuffer(t)?new Uint8Array(t):t,h=(function(m){for(var b,y=256*m.charCodeAt(4)+m.charCodeAt(5),N=m.length,E={width:0,height:0,numcomponents:1},k=4;k<N;k+=2){if(k+=y,e.indexOf(m.charCodeAt(k+1))!==-1){b=256*m.charCodeAt(k+5)+m.charCodeAt(k+6),E={width:256*m.charCodeAt(k+7)+m.charCodeAt(k+8),height:b,numcomponents:m.charCodeAt(k+9)};break}y=256*m.charCodeAt(k+2)+m.charCodeAt(k+3)}return E})(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t),h.numcomponents){case 1:c=this.color_spaces.DEVICE_GRAY;break;case 4:c=this.color_spaces.DEVICE_CMYK;break;case 3:c=this.color_spaces.DEVICE_RGB}p={data:t,width:h.width,height:h.height,colorSpace:c,bitsPerComponent:8,filter:f,index:i,alias:s}}return p}})(wt.API),wt.API.processPNG=function(n,e,t,i){if(this.__addimage__.isArrayBuffer(n)&&(n=new Uint8Array(n)),this.__addimage__.isArrayBufferView(n)){var s,a=DB(n,{checkCrc:!0}),l=a.width,c=a.height,h=a.channels,f=a.palette,p=a.depth;s=f&&h===1?(function(K){for(var Y=K.width,ue=K.height,P=K.data,M=K.palette,Q=K.depth,ne=!1,pe=[],$=[],re=void 0,ce=!1,J=0,_e=0;_e<M.length;_e++){var F=mS(M[_e],4),w=F[0],D=F[1],z=F[2],Z=F[3];pe.push(w,D,z),Z!=null&&(Z===0?(J++,$.length<1&&$.push(_e)):Z<255&&(ce=!0))}if(ce||J>1){ne=!0,$=void 0;var le=Y*ue;re=new Uint8Array(le);for(var ve=new DataView(P.buffer),Ne=0;Ne<le;Ne++){var Ce=L2(ve,Ne,Q),Pe=mS(M[Ce],4)[3];re[Ne]=Pe}}else J===0&&($=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:ne?8:void 0,colorBytes:P,alphaBytes:re,needSMask:ne,palette:pe,mask:$}})(a):h===2||h===4?(function(K){for(var Y=K.data,ue=K.width,P=K.height,M=K.channels,Q=K.depth,ne=M===2?"DeviceGray":"DeviceRGB",pe=M-1,$=ue*P,re=pe,ce=$*re,J=1*$,_e=Math.ceil(ce*Q/8),F=Math.ceil(J*Q/8),w=new Uint8Array(_e),D=new Uint8Array(F),z=new DataView(Y.buffer),Z=new DataView(w.buffer),le=new DataView(D.buffer),ve=!1,Ne=0;Ne<$;Ne++){for(var Ce=Ne*M,Pe=0;Pe<re;Pe++)x3(Z,L2(z,Ce+Pe,Q),Ne*re+Pe,Q);var $e=L2(z,Ce+re,Q);$e<(1<<Q)-1&&(ve=!0),x3(le,$e,1*Ne,Q)}return{colorSpace:ne,colorsPerPixel:pe,sMaskBitsPerComponent:ve?Q:void 0,colorBytes:w,alphaBytes:D,needSMask:ve}})(a):(function(K){var Y=K.data,ue=K.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:ue,colorsPerPixel:ue==="DeviceGray"?1:3,colorBytes:Y instanceof Uint16Array?(function(P){for(var M=P.length,Q=new Uint8Array(2*M),ne=new DataView(Q.buffer,Q.byteOffset,Q.byteLength),pe=0;pe<M;pe++)ne.setUint16(2*pe,P[pe],!1);return Q})(Y):Y,needSMask:!1}})(a);var m,b,y,N=s,E=N.colorSpace,k=N.colorsPerPixel,T=N.sMaskBitsPerComponent,j=N.colorBytes,q=N.alphaBytes,H=N.needSMask,V=N.palette,oe=N.mask,ae=null;return i!==wt.API.image_compression.NONE&&typeof _y=="function"?(ae=(function(K){var Y;switch(K){case wt.API.image_compression.FAST:Y=11;break;case wt.API.image_compression.MEDIUM:Y=13;break;case wt.API.image_compression.SLOW:Y=14;break;default:Y=12}return Y})(i),m=this.decode.FLATE_DECODE,b="/Predictor ".concat(ae," /Colors ").concat(k," /BitsPerComponent ").concat(p," /Columns ").concat(l),n=m3(j,Math.ceil(l*k*p/8),k,p,i),H&&(y=m3(q,Math.ceil(l*T/8),1,T,i))):(m=void 0,b=void 0,n=j,H&&(y=q)),(this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n))&&(n=this.__addimage__.arrayBufferToBinaryString(n)),(y&&this.__addimage__.isArrayBuffer(y)||this.__addimage__.isArrayBufferView(y))&&(y=this.__addimage__.arrayBufferToBinaryString(y)),{alias:t,data:n,index:e,filter:m,decodeParameters:b,transparency:oe,palette:V,sMask:y,predictor:ae,width:l,height:c,bitsPerComponent:p,sMaskBitsPerComponent:T,colorSpace:E}}},(function(n){n.processGIF89A=function(e,t,i,s){var a=new ZB(e),l=a.width,c=a.height,h=[];a.decodeAndBlitFrameRGBA(0,h);var f={data:h,width:l,height:c},p=new R2(100).encode(f,100);return n.processJPEG.call(this,p,t,i,s)},n.processGIF87A=n.processGIF89A})(wt.API),ja.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var n=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(n);for(var e=0;e<n;e++){var t=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:s,green:i,blue:t,quad:a}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},ja.prototype.parseBGR=function(){this.pos=this.offset;try{var n="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[n]()}catch(t){qn.log("bit decode error:"+t)}},ja.prototype.bit1=function(){var n,e=Math.ceil(this.width/8),t=e%4;for(n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,s=0;s<e;s++)for(var a=this.datav.getUint8(this.pos++,!0),l=i*this.width*4+8*s*4,c=0;c<8&&8*s+c<this.width;c++){var h=this.palette[a>>7-c&1];this.data[l+4*c]=h.blue,this.data[l+4*c+1]=h.green,this.data[l+4*c+2]=h.red,this.data[l+4*c+3]=255}t!==0&&(this.pos+=4-t)}},ja.prototype.bit4=function(){for(var n=Math.ceil(this.width/2),e=n%4,t=this.height-1;t>=0;t--){for(var i=this.bottom_up?t:this.height-1-t,s=0;s<n;s++){var a=this.datav.getUint8(this.pos++,!0),l=i*this.width*4+2*s*4,c=a>>4,h=15&a,f=this.palette[c];if(this.data[l]=f.blue,this.data[l+1]=f.green,this.data[l+2]=f.red,this.data[l+3]=255,2*s+1>=this.width)break;f=this.palette[h],this.data[l+4]=f.blue,this.data[l+4+1]=f.green,this.data[l+4+2]=f.red,this.data[l+4+3]=255}e!==0&&(this.pos+=4-e)}},ja.prototype.bit8=function(){for(var n=this.width%4,e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,i=0;i<this.width;i++){var s=this.datav.getUint8(this.pos++,!0),a=t*this.width*4+4*i;if(s<this.palette.length){var l=this.palette[s];this.data[a]=l.red,this.data[a+1]=l.green,this.data[a+2]=l.blue,this.data[a+3]=255}else this.data[a]=255,this.data[a+1]=255,this.data[a+2]=255,this.data[a+3]=255}n!==0&&(this.pos+=4-n)}},ja.prototype.bit15=function(){for(var n=this.width%3,e=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var i=this.bottom_up?t:this.height-1-t,s=0;s<this.width;s++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(a&e)/e*255|0,c=(a>>5&e)/e*255|0,h=(a>>10&e)/e*255|0,f=a>>15?255:0,p=i*this.width*4+4*s;this.data[p]=h,this.data[p+1]=c,this.data[p+2]=l,this.data[p+3]=f}this.pos+=n}},ja.prototype.bit16=function(){for(var n=this.width%3,e=parseInt("11111",2),t=parseInt("111111",2),i=this.height-1;i>=0;i--){for(var s=this.bottom_up?i:this.height-1-i,a=0;a<this.width;a++){var l=this.datav.getUint16(this.pos,!0);this.pos+=2;var c=(l&e)/e*255|0,h=(l>>5&t)/t*255|0,f=(l>>11)/e*255|0,p=s*this.width*4+4*a;this.data[p]=f,this.data[p+1]=h,this.data[p+2]=c,this.data[p+3]=255}this.pos+=n}},ja.prototype.bit24=function(){for(var n=this.height-1;n>=0;n--){for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),l=e*this.width*4+4*t;this.data[l]=a,this.data[l+1]=s,this.data[l+2]=i,this.data[l+3]=255}this.pos+=this.width%4}},ja.prototype.bit32=function(){for(var n=this.height-1;n>=0;n--)for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),l=this.datav.getUint8(this.pos++,!0),c=e*this.width*4+4*t;this.data[c]=a,this.data[c+1]=s,this.data[c+2]=i,this.data[c+3]=l}},ja.prototype.getData=function(){return this.data},(function(n){n.processBMP=function(e,t,i,s){var a=new ja(e,!1),l=a.width,c=a.height,h={data:a.getData(),width:l,height:c},f=new R2(100).encode(h,100);return n.processJPEG.call(this,f,t,i,s)}})(wt.API),S3.prototype.getData=function(){return this.data},(function(n){n.processWEBP=function(e,t,i,s){var a=new S3(e),l=a.width,c=a.height,h={data:a.getData(),width:l,height:c},f=new R2(100).encode(h,100);return n.processJPEG.call(this,f,t,i,s)}})(wt.API),wt.API.processRGBA=function(n,e,t){for(var i=n.data,s=i.length,a=new Uint8Array(s/4*3),l=new Uint8Array(s/4),c=0,h=0,f=0;f<s;f+=4){var p=i[f],m=i[f+1],b=i[f+2],y=i[f+3];a[c++]=p,a[c++]=m,a[c++]=b,l[h++]=y}var N=this.__addimage__.arrayBufferToBinaryString(a);return{alpha:this.__addimage__.arrayBufferToBinaryString(l),data:N,index:e,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:n.width,height:n.height}},wt.API.setLanguage=function(n){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[n]!==void 0&&(this.internal.languageSettings.languageCode=n,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},qh=wt.API,Gg=qh.getCharWidthsArray=function(n,e){var t,i,s=(e=e||{}).font||this.internal.getFont(),a=e.fontSize||this.internal.getFontSize(),l=e.charSpace||this.internal.getCharSpace(),c=e.widths?e.widths:s.metadata.Unicode.widths,h=c.fof?c.fof:1,f=e.kerning?e.kerning:s.metadata.Unicode.kerning,p=f.fof?f.fof:1,m=e.doKerning!==!1,b=0,y=n.length,N=0,E=c[0]||h,k=[];for(t=0;t<y;t++)i=n.charCodeAt(t),typeof s.metadata.widthOfString=="function"?k.push((s.metadata.widthOfGlyph(s.metadata.characterToGlyph(i))+l*(1e3/a)||0)/1e3):(b=m&&Ln(f[i])==="object"&&!isNaN(parseInt(f[i][N],10))?f[i][N]/p:0,k.push((c[i]||E)/h+b)),N=i;return k},d3=qh.getStringUnitWidth=function(n,e){var t=(e=e||{}).fontSize||this.internal.getFontSize(),i=e.font||this.internal.getFont(),s=e.charSpace||this.internal.getCharSpace();return qh.processArabic&&(n=qh.processArabic(n)),typeof i.metadata.widthOfString=="function"?i.metadata.widthOfString(n,t,s)/t:Gg.apply(this,arguments).reduce(function(a,l){return a+l},0)},p3=function(n,e,t,i){for(var s=[],a=0,l=n.length,c=0;a!==l&&c+e[a]<t;)c+=e[a],a++;s.push(n.slice(0,a));var h=a;for(c=0;a!==l;)c+e[a]>i&&(s.push(n.slice(h,a)),c=0,h=a),c+=e[a],a++;return h!==a&&s.push(n.slice(h,a)),s},g3=function(n,e,t){t||(t={});var i,s,a,l,c,h,f,p=[],m=[p],b=t.textIndent||0,y=0,N=0,E=n.split(" "),k=Gg.apply(this,[" ",t])[0];if(h=t.lineIndent===-1?E[0].length+2:t.lineIndent||0){var T=Array(h).join(" "),j=[];E.map(function(H){(H=H.split(/\s*\n/)).length>1?j=j.concat(H.map(function(V,oe){return(oe&&V.length?`
`:"")+V})):j.push(H[0])}),E=j,h=d3.apply(this,[T,t])}for(a=0,l=E.length;a<l;a++){var q=0;if(i=E[a],h&&i[0]==`
`&&(i=i.substr(1),q=1),b+y+(N=(s=Gg.apply(this,[i,t])).reduce(function(H,V){return H+V},0))>e||q){if(N>e){for(c=p3.apply(this,[i,s,e-(b+y),e]),p.push(c.shift()),p=[c.pop()];c.length;)m.push([c.shift()]);N=s.slice(i.length-(p[0]?p[0].length:0)).reduce(function(H,V){return H+V},0)}else p=[i];m.push(p),b=N+h,y=k}else p.push(i),b+=y+N,y=k}return f=h?function(H,V){return(V?T:"")+H.join(" ")}:function(H){return H.join(" ")},m.map(f)},qh.splitTextToSize=function(n,e,t){var i,s=(t=t||{}).fontSize||this.internal.getFontSize(),a=(function(p){if(p.widths&&p.kerning)return{widths:p.widths,kerning:p.kerning};var m=this.internal.getFont(p.fontName,p.fontStyle),b="Unicode";return m.metadata[b]?{widths:m.metadata[b].widths||{0:1},kerning:m.metadata[b].kerning||{}}:{font:m.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,t);i=Array.isArray(n)?n:String(n).split(/\r?\n/);var l=1*this.internal.scaleFactor*e/s;a.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/s:0,a.lineIndent=t.lineIndent;var c,h,f=[];for(c=0,h=i.length;c<h;c++)f=f.concat(g3.apply(this,[i[c],l,a]));return f},(function(n){n.__fontmetrics__=n.__fontmetrics__||{};for(var e="0123456789abcdef",t="klmnopqrstuvwxyz",i={},s={},a=0;a<16;a++)i[t[a]]=e[a],s[e[a]]=t[a];var l=function(b){return"0x"+parseInt(b,10).toString(16)},c=n.__fontmetrics__.compress=function(b){var y,N,E,k,T=["{"];for(var j in b){if(y=b[j],isNaN(parseInt(j,10))?N="'"+j+"'":(j=parseInt(j,10),N=(N=l(j).slice(2)).slice(0,-1)+s[N.slice(-1)]),typeof y=="number")y<0?(E=l(y).slice(3),k="-"):(E=l(y).slice(2),k=""),E=k+E.slice(0,-1)+s[E.slice(-1)];else{if(Ln(y)!=="object")throw new Error("Don't know what to do with value type "+Ln(y)+".");E=c(y)}T.push(N+E)}return T.push("}"),T.join("")},h=n.__fontmetrics__.uncompress=function(b){if(typeof b!="string")throw new Error("Invalid argument passed to uncompress.");for(var y,N,E,k,T={},j=1,q=T,H=[],V="",oe="",ae=b.length-1,K=1;K<ae;K+=1)(k=b[K])=="'"?y?(E=y.join(""),y=void 0):y=[]:y?y.push(k):k=="{"?(H.push([q,E]),q={},E=void 0):k=="}"?((N=H.pop())[0][N[1]]=q,E=void 0,q=N[0]):k=="-"?j=-1:E===void 0?i.hasOwnProperty(k)?(V+=i[k],E=parseInt(V,16)*j,j=1,V=""):V+=k:i.hasOwnProperty(k)?(oe+=i[k],q[E]=parseInt(oe,16)*j,j=1,E=void 0,oe=""):oe+=k;return T},f={codePages:["WinAnsiEncoding"],WinAnsiEncoding:h("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},p={Unicode:{Courier:f,"Courier-Bold":f,"Courier-BoldOblique":f,"Courier-Oblique":f,Helvetica:f,"Helvetica-Bold":f,"Helvetica-BoldOblique":f,"Helvetica-Oblique":f,"Times-Roman":f,"Times-Bold":f,"Times-BoldItalic":f,"Times-Italic":f}},m={Unicode:{"Courier-Oblique":h("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":h("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":h("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:h("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":h("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":h("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:h("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:h("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":h("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:h("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":h("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":h("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":h("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":h("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};n.events.push(["addFont",function(b){var y=b.font,N=m.Unicode[y.postScriptName];N&&(y.metadata.Unicode={},y.metadata.Unicode.widths=N.widths,y.metadata.Unicode.kerning=N.kerning);var E=p.Unicode[y.postScriptName];E&&(y.metadata.Unicode.encoding=E,y.encoding=E.codePages[0])}])})(wt.API),(function(n){var e=function(t){for(var i=t.length,s=new Uint8Array(i),a=0;a<i;a++)s[a]=t.charCodeAt(a);return s};n.API.events.push(["addFont",function(t){var i=void 0,s=t.font,a=t.instance;if(!s.isStandardFont){if(a===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");if(typeof(i=a.existsFileInVFS(s.postScriptName)===!1?a.loadFile(s.postScriptName):a.getFileFromVFS(s.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");(function(l,c){c=/^\x00\x01\x00\x00/.test(c)?e(c):e(rm(c)),l.metadata=n.API.TTFFont.open(c),l.metadata.Unicode=l.metadata.Unicode||{encoding:{},kerning:{},widths:[]},l.metadata.glyIdsUsed=[0]})(s,i)}}])})(wt),wt.API.addSvgAsImage=function(n,e,t,i,s,a,l,c){if(isNaN(e)||isNaN(t))throw qn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(i)||isNaN(s))throw qn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var h=document.createElement("canvas");h.width=i,h.height=s;var f=h.getContext("2d");f.fillStyle="#fff",f.fillRect(0,0,h.width,h.height);var p={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},m=this;return(jt.canvg?Promise.resolve(jt.canvg):u2(()=>import("./index.es-BSUssd_9.js"),[])).catch(function(b){return Promise.reject(new Error("Could not load canvg: "+b))}).then(function(b){return b.default?b.default:b}).then(function(b){return b.fromString(f,n,p)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(b){return b.render(p)}).then(function(){m.addImage(h.toDataURL("image/jpeg",1),e,t,i,s,l,c)})},wt.API.putTotalPages=function(n){var e,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(n,"g"),t=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(n,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var i=1;i<=this.internal.getNumberOfPages();i++)for(var s=0;s<this.internal.pages[i].length;s++)this.internal.pages[i][s]=this.internal.pages[i][s].replace(e,t);return this},wt.API.viewerPreferences=function(n,e){var t;n=n||{},e=e||!1;var i,s,a,l={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},c=Object.keys(l),h=[],f=0,p=0,m=0;function b(N,E){var k,T=!1;for(k=0;k<N.length;k+=1)N[k]===E&&(T=!0);return T}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(l)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,n==="reset"||e===!0){var y=c.length;for(m=0;m<y;m+=1)t[c[m]].value=t[c[m]].defaultValue,t[c[m]].explicitSet=!1}if(Ln(n)==="object"){for(s in n)if(a=n[s],b(c,s)&&a!==void 0){if(t[s].type==="boolean"&&typeof a=="boolean")t[s].value=a;else if(t[s].type==="name"&&b(t[s].valueSet,a))t[s].value=a;else if(t[s].type==="integer"&&Number.isInteger(a))t[s].value=a;else if(t[s].type==="array"){for(f=0;f<a.length;f+=1)if(i=!0,a[f].length===1&&typeof a[f][0]=="number")h.push(String(a[f]-1));else if(a[f].length>1){for(p=0;p<a[f].length;p+=1)typeof a[f][p]!="number"&&(i=!1);i===!0&&h.push([a[f][0]-1,a[f][1]-1].join(" "))}t[s].value="["+h.join(" ")+"]"}else t[s].value=t[s].defaultValue;t[s].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var N,E=[];for(N in t)t[N].explicitSet===!0&&(t[N].type==="name"?E.push("/"+N+" /"+t[N].value):E.push("/"+N+" "+t[N].value));E.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+E.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},(function(n){var e=function(){var i='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',s=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),a=unescape(encodeURIComponent(i)),l=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),c=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),h=unescape(encodeURIComponent("</x:xmpmeta>")),f=a.length+l.length+c.length+s.length+h.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+f+" >>"),this.internal.write("stream"),this.internal.write(s+a+l+c+h),this.internal.write("endstream"),this.internal.write("endobj")},t=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};n.addMetadata=function(i,s){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:i,namespaceuri:s||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",t),this.internal.events.subscribe("postPutResources",e)),this}})(wt.API),(function(n){var e=n.API,t=e.pdfEscape16=function(a,l){for(var c,h=l.metadata.Unicode.widths,f=["","0","00","000","0000"],p=[""],m=0,b=a.length;m<b;++m){if(c=l.metadata.characterToGlyph(a.charCodeAt(m)),l.metadata.glyIdsUsed.push(c),l.metadata.toUnicode[c]=a.charCodeAt(m),h.indexOf(c)==-1&&(h.push(c),h.push([parseInt(l.metadata.widthOfGlyph(c),10)])),c=="0")return p.join("");c=c.toString(16),p.push(f[4-c.length],c)}return p.join("")},i=function(a){var l,c,h,f,p,m,b;for(p=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,h=[],m=0,b=(c=Object.keys(a).sort(function(y,N){return y-N})).length;m<b;m++)l=c[m],h.length>=100&&(p+=`
`+h.length+` beginbfchar
`+h.join(`
`)+`
endbfchar`,h=[]),a[l]!==void 0&&a[l]!==null&&typeof a[l].toString=="function"&&(f=("0000"+a[l].toString(16)).slice(-4),l=("0000"+(+l).toString(16)).slice(-4),h.push("<"+l+"><"+f+">"));return h.length&&(p+=`
`+h.length+` beginbfchar
`+h.join(`
`)+`
endbfchar
`),p+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(a){(function(l){var c=l.font,h=l.out,f=l.newObject,p=l.putStream;if(c.metadata instanceof n.API.TTFFont&&c.encoding==="Identity-H"){for(var m=c.metadata.Unicode.widths,b=c.metadata.subset.encode(c.metadata.glyIdsUsed,1),y="",N=0;N<b.length;N++)y+=String.fromCharCode(b[N]);var E=f();p({data:y,addLength1:!0,objectId:E}),h("endobj");var k=f();p({data:i(c.metadata.toUnicode),addLength1:!0,objectId:k}),h("endobj");var T=f();h("<<"),h("/Type /FontDescriptor"),h("/FontName /"+Vh(c.fontName)),h("/FontFile2 "+E+" 0 R"),h("/FontBBox "+n.API.PDFObject.convert(c.metadata.bbox)),h("/Flags "+c.metadata.flags),h("/StemV "+c.metadata.stemV),h("/ItalicAngle "+c.metadata.italicAngle),h("/Ascent "+c.metadata.ascender),h("/Descent "+c.metadata.decender),h("/CapHeight "+c.metadata.capHeight),h(">>"),h("endobj");var j=f();h("<<"),h("/Type /Font"),h("/BaseFont /"+Vh(c.fontName)),h("/FontDescriptor "+T+" 0 R"),h("/W "+n.API.PDFObject.convert(m)),h("/CIDToGIDMap /Identity"),h("/DW 1000"),h("/Subtype /CIDFontType2"),h("/CIDSystemInfo"),h("<<"),h("/Supplement 0"),h("/Registry (Adobe)"),h("/Ordering ("+c.encoding+")"),h(">>"),h(">>"),h("endobj"),c.objectNumber=f(),h("<<"),h("/Type /Font"),h("/Subtype /Type0"),h("/ToUnicode "+k+" 0 R"),h("/BaseFont /"+Vh(c.fontName)),h("/Encoding /"+c.encoding),h("/DescendantFonts ["+j+" 0 R]"),h(">>"),h("endobj"),c.isAlreadyPutted=!0}})(a)}]),e.events.push(["putFont",function(a){(function(l){var c=l.font,h=l.out,f=l.newObject,p=l.putStream;if(c.metadata instanceof n.API.TTFFont&&c.encoding==="WinAnsiEncoding"){for(var m=c.metadata.rawData,b="",y=0;y<m.length;y++)b+=String.fromCharCode(m[y]);var N=f();p({data:b,addLength1:!0,objectId:N}),h("endobj");var E=f();p({data:i(c.metadata.toUnicode),addLength1:!0,objectId:E}),h("endobj");var k=f();h("<<"),h("/Descent "+c.metadata.decender),h("/CapHeight "+c.metadata.capHeight),h("/StemV "+c.metadata.stemV),h("/Type /FontDescriptor"),h("/FontFile2 "+N+" 0 R"),h("/Flags 96"),h("/FontBBox "+n.API.PDFObject.convert(c.metadata.bbox)),h("/FontName /"+Vh(c.fontName)),h("/ItalicAngle "+c.metadata.italicAngle),h("/Ascent "+c.metadata.ascender),h(">>"),h("endobj"),c.objectNumber=f();for(var T=0;T<c.metadata.hmtx.widths.length;T++)c.metadata.hmtx.widths[T]=parseInt(c.metadata.hmtx.widths[T]*(1e3/c.metadata.head.unitsPerEm));h("<</Subtype/TrueType/Type/Font/ToUnicode "+E+" 0 R/BaseFont/"+Vh(c.fontName)+"/FontDescriptor "+k+" 0 R/Encoding/"+c.encoding+" /FirstChar 29 /LastChar 255 /Widths "+n.API.PDFObject.convert(c.metadata.hmtx.widths)+">>"),h("endobj"),c.isAlreadyPutted=!0}})(a)}]);var s=function(a){var l,c=a.text||"",h=a.x,f=a.y,p=a.options||{},m=a.mutex||{},b=m.pdfEscape,y=m.activeFontKey,N=m.fonts,E=y,k="",T=0,j="",q=N[E].encoding;if(N[E].encoding!=="Identity-H")return{text:c,x:h,y:f,options:p,mutex:m};for(j=c,E=y,Array.isArray(c)&&(j=c[0]),T=0;T<j.length;T+=1)N[E].metadata.hasOwnProperty("cmap")&&(l=N[E].metadata.cmap.unicode.codeMap[j[T].charCodeAt(0)]),l||j[T].charCodeAt(0)<256&&N[E].metadata.hasOwnProperty("Unicode")?k+=j[T]:k+="";var H="";return parseInt(E.slice(1))<14||q==="WinAnsiEncoding"?H=b(k,E).split("").map(function(V){return V.charCodeAt(0).toString(16)}).join(""):q==="Identity-H"&&(H=t(k,N[E])),m.isHex=!0,{text:H,x:h,y:f,options:p,mutex:m}};e.events.push(["postProcessText",function(a){var l=a.text||"",c=[],h={text:l,x:a.x,y:a.y,options:a.options,mutex:a.mutex};if(Array.isArray(l)){var f=0;for(f=0;f<l.length;f+=1)Array.isArray(l[f])&&l[f].length===3?c.push([s(Object.assign({},h,{text:l[f][0]})).text,l[f][1],l[f][2]]):c.push(s(Object.assign({},h,{text:l[f]})).text);a.text=c}else a.text=s(Object.assign({},h,{text:l})).text}])})(wt),(function(n){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};n.existsFileInVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0},n.addFileToVFS=function(t,i){return e.call(this),this.internal.vFS[t]=i,this},n.getFileFromVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0?this.internal.vFS[t]:null}})(wt.API),(function(n){n.__bidiEngine__=n.prototype.__bidiEngine__=function(i){var s,a,l,c,h,f,p,m=e,b=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],y=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],N={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},E={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},k=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],T=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),j=!1,q=0;this.__bidiEngine__={};var H=function(P){var M=P.charCodeAt(),Q=M>>8,ne=E[Q];return ne!==void 0?m[256*ne+(255&M)]:Q===252||Q===253?"AL":T.test(Q)?"L":Q===8?"R":"N"},V=function(P){for(var M,Q=0;Q<P.length;Q++){if((M=H(P.charAt(Q)))==="L")return!1;if(M==="R")return!0}return!1},oe=function(P,M,Q,ne){var pe,$,re,ce,J=M[ne];switch(J){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":j=!1;break;case"N":case"AN":break;case"EN":j&&(J="AN");break;case"AL":j=!0,J="R";break;case"WS":case"BN":J="N";break;case"CS":ne<1||ne+1>=M.length||(pe=Q[ne-1])!=="EN"&&pe!=="AN"||($=M[ne+1])!=="EN"&&$!=="AN"?J="N":j&&($="AN"),J=$===pe?$:"N";break;case"ES":J=(pe=ne>0?Q[ne-1]:"B")==="EN"&&ne+1<M.length&&M[ne+1]==="EN"?"EN":"N";break;case"ET":if(ne>0&&Q[ne-1]==="EN"){J="EN";break}if(j){J="N";break}for(re=ne+1,ce=M.length;re<ce&&M[re]==="ET";)re++;J=re<ce&&M[re]==="EN"?"EN":"N";break;case"NSM":if(l&&!c){for(ce=M.length,re=ne+1;re<ce&&M[re]==="NSM";)re++;if(re<ce){var _e=P[ne],F=_e>=1425&&_e<=2303||_e===64286;if(pe=M[re],F&&(pe==="R"||pe==="AL")){J="R";break}}}J=ne<1||(pe=M[ne-1])==="B"?"N":Q[ne-1];break;case"B":j=!1,s=!0,J=q;break;case"S":a=!0,J="N"}return J},ae=function(P,M,Q){var ne=P.split("");return Q&&K(ne,Q,{hiLevel:q}),ne.reverse(),M&&M.reverse(),ne.join("")},K=function(P,M,Q){var ne,pe,$,re,ce,J=-1,_e=P.length,F=0,w=[],D=q?y:b,z=[];for(j=!1,s=!1,a=!1,pe=0;pe<_e;pe++)z[pe]=H(P[pe]);for($=0;$<_e;$++){if(ce=F,w[$]=oe(P,z,w,$),ne=240&(F=D[ce][N[w[$]]]),F&=15,M[$]=re=D[F][5],ne>0)if(ne===16){for(pe=J;pe<$;pe++)M[pe]=1;J=-1}else J=-1;if(D[F][6])J===-1&&(J=$);else if(J>-1){for(pe=J;pe<$;pe++)M[pe]=re;J=-1}z[$]==="B"&&(M[$]=0),Q.hiLevel|=re}a&&(function(Z,le,ve){for(var Ne=0;Ne<ve;Ne++)if(Z[Ne]==="S"){le[Ne]=q;for(var Ce=Ne-1;Ce>=0&&Z[Ce]==="WS";Ce--)le[Ce]=q}})(z,M,_e)},Y=function(P,M,Q,ne,pe){if(!(pe.hiLevel<P)){if(P===1&&q===1&&!s)return M.reverse(),void(Q&&Q.reverse());for(var $,re,ce,J,_e=M.length,F=0;F<_e;){if(ne[F]>=P){for(ce=F+1;ce<_e&&ne[ce]>=P;)ce++;for(J=F,re=ce-1;J<re;J++,re--)$=M[J],M[J]=M[re],M[re]=$,Q&&($=Q[J],Q[J]=Q[re],Q[re]=$);F=ce}F++}}},ue=function(P,M,Q){var ne=P.split(""),pe={hiLevel:q};return Q||(Q=[]),K(ne,Q,pe),(function($,re,ce){if(ce.hiLevel!==0&&p)for(var J,_e=0;_e<$.length;_e++)re[_e]===1&&(J=k.indexOf($[_e]))>=0&&($[_e]=k[J+1])})(ne,Q,pe),Y(2,ne,M,Q,pe),Y(1,ne,M,Q,pe),ne.join("")};return this.__bidiEngine__.doBidiReorder=function(P,M,Q){if((function(pe,$){if($)for(var re=0;re<pe.length;re++)$[re]=re;c===void 0&&(c=V(pe)),f===void 0&&(f=V(pe))})(P,M),l||!h||f)if(l&&h&&c^f)q=c?1:0,P=ae(P,M,Q);else if(!l&&h&&f)q=c?1:0,P=ue(P,M,Q),P=ae(P,M);else if(!l||c||h||f){if(l&&!h&&c^f)P=ae(P,M),c?(q=0,P=ue(P,M,Q)):(q=1,P=ue(P,M,Q),P=ae(P,M));else if(l&&c&&!h&&f)q=1,P=ue(P,M,Q),P=ae(P,M);else if(!l&&!h&&c^f){var ne=p;c?(q=1,P=ue(P,M,Q),q=0,p=!1,P=ue(P,M,Q),p=ne):(q=0,P=ue(P,M,Q),P=ae(P,M),q=1,p=!1,P=ue(P,M,Q),p=ne,P=ae(P,M))}}else q=0,P=ue(P,M,Q);else q=c?1:0,P=ue(P,M,Q);return P},this.__bidiEngine__.setOptions=function(P){P&&(l=P.isInputVisual,h=P.isOutputVisual,c=P.isInputRtl,f=P.isOutputRtl,p=P.isSymmetricSwapping)},this.__bidiEngine__.setOptions(i),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new n.__bidiEngine__({isInputVisual:!0});n.API.events.push(["postProcessText",function(i){var s=i.text;i.x,i.y;var a=i.options||{};i.mutex,a.lang;var l=[];if(a.isInputVisual=typeof a.isInputVisual!="boolean"||a.isInputVisual,t.setOptions(a),Object.prototype.toString.call(s)==="[object Array]"){var c=0;for(l=[],c=0;c<s.length;c+=1)Object.prototype.toString.call(s[c])==="[object Array]"?l.push([t.doBidiReorder(s[c][0]),s[c][1],s[c][2]]):l.push([t.doBidiReorder(s[c])]);i.text=l}else i.text=t.doBidiReorder(s);t.setOptions({isInputVisual:!0})}])})(wt),wt.API.TTFFont=(function(){function n(e){var t;if(this.rawData=e,t=this.contents=new Fc(e),this.contents.pos=4,t.readString(4)==="ttcf")throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new pz(this),this.registerTTF()}return n.open=function(e){return new n(e)},n.prototype.parse=function(){return this.directory=new ez(this.contents),this.head=new nz(this),this.name=new oz(this),this.cmap=new X6(this),this.toUnicode={},this.hhea=new iz(this),this.maxp=new lz(this),this.hmtx=new cz(this),this.post=new rz(this),this.os2=new sz(this),this.loca=new dz(this),this.glyf=new uz(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},n.prototype.registerTTF=function(){var e,t,i,s,a;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var l,c,h,f;for(f=[],l=0,c=(h=this.bbox).length;l<c;l++)e=h[l],f.push(Math.round(e*this.scaleFactor));return f}).call(this),this.stemV=0,this.post.exists?(i=255&(s=this.post.italic_angle),32768&(t=s>>16)&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+i)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(a=this.familyClass)===1||a===2||a===3||a===4||a===5||a===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},n.prototype.characterToGlyph=function(e){var t;return((t=this.cmap.unicode)!=null?t.codeMap[e]:void 0)||0},n.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},n.prototype.widthOfString=function(e,t,i){var s,a,l,c;for(l=0,a=0,c=(e=""+e).length;0<=c?a<c:a>c;a=0<=c?++a:--a)s=e.charCodeAt(a),l+=this.widthOfGlyph(this.characterToGlyph(s))+i*(1e3/t)||0;return l*(t/1e3)},n.prototype.lineHeight=function(e,t){var i;return t==null&&(t=!1),i=t?this.lineGap:0,(this.ascender+i-this.decender)/1e3*e},n})();var Xa,Fc=(function(){function n(e){this.data=e??[],this.pos=0,this.length=this.data.length}return n.prototype.readByte=function(){return this.data[this.pos++]},n.prototype.writeByte=function(e){return this.data[this.pos++]=e},n.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},n.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},n.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},n.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},n.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},n.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},n.prototype.readString=function(e){var t,i;for(i=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)i[t]=String.fromCharCode(this.readByte());return i.join("")},n.prototype.writeString=function(e){var t,i,s;for(s=[],t=0,i=e.length;0<=i?t<i:t>i;t=0<=i?++t:--t)s.push(this.writeByte(e.charCodeAt(t)));return s},n.prototype.readShort=function(){return this.readInt16()},n.prototype.writeShort=function(e){return this.writeInt16(e)},n.prototype.readLongLong=function(){var e,t,i,s,a,l,c,h;return e=this.readByte(),t=this.readByte(),i=this.readByte(),s=this.readByte(),a=this.readByte(),l=this.readByte(),c=this.readByte(),h=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^i)+4294967296*(255^s)+16777216*(255^a)+65536*(255^l)+256*(255^c)+(255^h)+1):72057594037927940*e+281474976710656*t+1099511627776*i+4294967296*s+16777216*a+65536*l+256*c+h},n.prototype.writeLongLong=function(e){var t,i;return t=Math.floor(e/4294967296),i=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(i>>24&255),this.writeByte(i>>16&255),this.writeByte(i>>8&255),this.writeByte(255&i)},n.prototype.readInt=function(){return this.readInt32()},n.prototype.writeInt=function(e){return this.writeInt32(e)},n.prototype.read=function(e){var t,i;for(t=[],i=0;0<=e?i<e:i>e;i=0<=e?++i:--i)t.push(this.readByte());return t},n.prototype.write=function(e){var t,i,s,a;for(a=[],i=0,s=e.length;i<s;i++)t=e[i],a.push(this.writeByte(t));return a},n})(),ez=(function(){var n;function e(t){var i,s,a;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},s=0,a=this.tableCount;0<=a?s<a:s>a;s=0<=a?++s:--s)i={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[i.tag]=i}return e.prototype.encode=function(t){var i,s,a,l,c,h,f,p,m,b,y,N,E;for(E in y=Object.keys(t).length,h=Math.log(2),m=16*Math.floor(Math.log(y)/h),l=Math.floor(m/h),p=16*y-m,(s=new Fc).writeInt(this.scalarType),s.writeShort(y),s.writeShort(m),s.writeShort(l),s.writeShort(p),a=16*y,f=s.pos+a,c=null,N=[],t)for(b=t[E],s.writeString(E),s.writeInt(n(b)),s.writeInt(f),s.writeInt(b.length),N=N.concat(b),E==="head"&&(c=f),f+=b.length;f%4;)N.push(0),f++;return s.write(N),i=2981146554-n(s.data),s.pos=c+8,s.writeUInt32(i),s.data},n=function(t){var i,s,a,l;for(t=K6.call(t);t.length%4;)t.push(0);for(a=new Fc(t),s=0,i=0,l=t.length;i<l;i=i+=4)s+=a.readUInt32();return 4294967295&s},e})(),tz={}.hasOwnProperty,Lo=function(n,e){for(var t in e)tz.call(e,t)&&(n[t]=e[t]);function i(){this.constructor=n}return i.prototype=e.prototype,n.prototype=new i,n.__super__=e.prototype,n};Xa=(function(){function n(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return n.prototype.parse=function(){},n.prototype.encode=function(){},n.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},n})();var nz=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Lo(n,Xa),n.prototype.tag="head",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},n.prototype.encode=function(e){var t;return(t=new Fc).writeInt(this.version),t.writeInt(this.revision),t.writeInt(this.checkSumAdjustment),t.writeInt(this.magicNumber),t.writeShort(this.flags),t.writeShort(this.unitsPerEm),t.writeLongLong(this.created),t.writeLongLong(this.modified),t.writeShort(this.xMin),t.writeShort(this.yMin),t.writeShort(this.xMax),t.writeShort(this.yMax),t.writeShort(this.macStyle),t.writeShort(this.lowestRecPPEM),t.writeShort(this.fontDirectionHint),t.writeShort(e),t.writeShort(this.glyphDataFormat),t.data},n})(),N3=(function(){function n(e,t){var i,s,a,l,c,h,f,p,m,b,y,N,E,k,T,j,q;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),m=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(h=0;h<256;++h)this.codeMap[h]=e.readByte();break;case 4:for(y=e.readUInt16(),b=y/2,e.pos+=6,a=(function(){var H,V;for(V=[],h=H=0;0<=b?H<b:H>b;h=0<=b?++H:--H)V.push(e.readUInt16());return V})(),e.pos+=2,E=(function(){var H,V;for(V=[],h=H=0;0<=b?H<b:H>b;h=0<=b?++H:--H)V.push(e.readUInt16());return V})(),f=(function(){var H,V;for(V=[],h=H=0;0<=b?H<b:H>b;h=0<=b?++H:--H)V.push(e.readUInt16());return V})(),p=(function(){var H,V;for(V=[],h=H=0;0<=b?H<b:H>b;h=0<=b?++H:--H)V.push(e.readUInt16());return V})(),s=(this.length-e.pos+this.offset)/2,c=(function(){var H,V;for(V=[],h=H=0;0<=s?H<s:H>s;h=0<=s?++H:--H)V.push(e.readUInt16());return V})(),h=T=0,q=a.length;T<q;h=++T)for(k=a[h],i=j=N=E[h];N<=k?j<=k:j>=k;i=N<=k?++j:--j)p[h]===0?l=i+f[h]:(l=c[p[h]/2+(i-N)-(b-h)]||0)!==0&&(l+=f[h]),this.codeMap[i]=65535&l}e.pos=m}return n.encode=function(e,t){var i,s,a,l,c,h,f,p,m,b,y,N,E,k,T,j,q,H,V,oe,ae,K,Y,ue,P,M,Q,ne,pe,$,re,ce,J,_e,F,w,D,z,Z,le,ve,Ne,Ce,Pe,$e,tt;switch(ne=new Fc,l=Object.keys(e).sort(function(it,ht){return it-ht}),t){case"macroman":for(E=0,k=(function(){var it=[];for(N=0;N<256;++N)it.push(0);return it})(),j={0:0},a={},pe=0,J=l.length;pe<J;pe++)j[Ce=e[s=l[pe]]]==null&&(j[Ce]=++E),a[s]={old:e[s],new:j[e[s]]},k[s]=j[e[s]];return ne.writeUInt16(1),ne.writeUInt16(0),ne.writeUInt32(12),ne.writeUInt16(0),ne.writeUInt16(262),ne.writeUInt16(0),ne.write(k),{charMap:a,subtable:ne.data,maxGlyphID:E+1};case"unicode":for(M=[],m=[],q=0,j={},i={},T=f=null,$=0,_e=l.length;$<_e;$++)j[V=e[s=l[$]]]==null&&(j[V]=++q),i[s]={old:V,new:j[V]},c=j[V]-s,T!=null&&c===f||(T&&m.push(T),M.push(s),f=c),T=s;for(T&&m.push(T),m.push(65535),M.push(65535),ue=2*(Y=M.length),K=2*Math.pow(Math.log(Y)/Math.LN2,2),b=Math.log(K/2)/Math.LN2,ae=2*Y-K,h=[],oe=[],y=[],N=re=0,F=M.length;re<F;N=++re){if(P=M[N],p=m[N],P===65535){h.push(0),oe.push(0);break}if(P-(Q=i[P].new)>=32768)for(h.push(0),oe.push(2*(y.length+Y-N)),s=ce=P;P<=p?ce<=p:ce>=p;s=P<=p?++ce:--ce)y.push(i[s].new);else h.push(Q-P),oe.push(0)}for(ne.writeUInt16(3),ne.writeUInt16(1),ne.writeUInt32(12),ne.writeUInt16(4),ne.writeUInt16(16+8*Y+2*y.length),ne.writeUInt16(0),ne.writeUInt16(ue),ne.writeUInt16(K),ne.writeUInt16(b),ne.writeUInt16(ae),ve=0,w=m.length;ve<w;ve++)s=m[ve],ne.writeUInt16(s);for(ne.writeUInt16(0),Ne=0,D=M.length;Ne<D;Ne++)s=M[Ne],ne.writeUInt16(s);for(Pe=0,z=h.length;Pe<z;Pe++)c=h[Pe],ne.writeUInt16(c);for($e=0,Z=oe.length;$e<Z;$e++)H=oe[$e],ne.writeUInt16(H);for(tt=0,le=y.length;tt<le;tt++)E=y[tt],ne.writeUInt16(E);return{charMap:i,subtable:ne.data,maxGlyphID:q+1}}},n})(),X6=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Lo(n,Xa),n.prototype.tag="cmap",n.prototype.parse=function(e){var t,i,s;for(e.pos=this.offset,this.version=e.readUInt16(),s=e.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=s?i<s:i>s;i=0<=s?++i:--i)t=new N3(e,this.offset),this.tables.push(t),t.isUnicode&&this.unicode==null&&(this.unicode=t);return!0},n.encode=function(e,t){var i,s;return t==null&&(t="macroman"),i=N3.encode(e,t),(s=new Fc).writeUInt16(0),s.writeUInt16(1),i.table=s.data.concat(i.subtable),i},n})(),iz=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Lo(n,Xa),n.prototype.tag="hhea",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},n})(),sz=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Lo(n,Xa),n.prototype.tag="OS/2",n.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=(function(){var t,i;for(i=[],t=0;t<10;++t)i.push(e.readByte());return i})(),this.charRange=(function(){var t,i;for(i=[],t=0;t<4;++t)i.push(e.readInt());return i})(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=(function(){var t,i;for(i=[],t=0;t<2;t=++t)i.push(e.readInt());return i})(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},n})(),rz=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Lo(n,Xa),n.prototype.tag="post",n.prototype.parse=function(e){var t,i,s;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var a;for(i=e.readUInt16(),this.glyphNameIndex=[],a=0;0<=i?a<i:a>i;a=0<=i?++a:--a)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],s=[];e.pos<this.offset+this.length;)t=e.readByte(),s.push(this.names.push(e.readString(t)));return s;case 151552:return i=e.readUInt16(),this.offsets=e.read(i);case 262144:return this.map=(function(){var l,c,h;for(h=[],a=l=0,c=this.file.maxp.numGlyphs;0<=c?l<c:l>c;a=0<=c?++l:--l)h.push(e.readUInt32());return h}).call(this)}},n})(),az=function(n,e){this.raw=n,this.length=n.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},oz=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Lo(n,Xa),n.prototype.tag="name",n.prototype.parse=function(e){var t,i,s,a,l,c,h,f,p,m,b;for(e.pos=this.offset,e.readShort(),t=e.readShort(),c=e.readShort(),i=[],a=0;0<=t?a<t:a>t;a=0<=t?++a:--a)i.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+c+e.readShort()});for(h={},a=p=0,m=i.length;p<m;a=++p)s=i[a],e.pos=s.offset,f=e.readString(s.length),l=new az(f,s),h[b=s.nameID]==null&&(h[b]=[]),h[s.nameID].push(l);this.strings=h,this.copyright=h[0],this.fontFamily=h[1],this.fontSubfamily=h[2],this.uniqueSubfamily=h[3],this.fontName=h[4],this.version=h[5];try{this.postscriptName=h[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=h[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=h[7],this.manufacturer=h[8],this.designer=h[9],this.description=h[10],this.vendorUrl=h[11],this.designerUrl=h[12],this.license=h[13],this.licenseUrl=h[14],this.preferredFamily=h[15],this.preferredSubfamily=h[17],this.compatibleFull=h[18],this.sampleText=h[19]},n})(),lz=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Lo(n,Xa),n.prototype.tag="maxp",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},n})(),cz=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Lo(n,Xa),n.prototype.tag="hmtx",n.prototype.parse=function(e){var t,i,s,a,l,c,h;for(e.pos=this.offset,this.metrics=[],t=0,c=this.file.hhea.numberOfMetrics;0<=c?t<c:t>c;t=0<=c?++t:--t)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var f,p;for(p=[],t=f=0;0<=s?f<s:f>s;t=0<=s?++f:--f)p.push(e.readInt16());return p})(),this.widths=(function(){var f,p,m,b;for(b=[],f=0,p=(m=this.metrics).length;f<p;f++)a=m[f],b.push(a.advance);return b}).call(this),i=this.widths[this.widths.length-1],h=[],t=l=0;0<=s?l<s:l>s;t=0<=s?++l:--l)h.push(this.widths.push(i));return h},n.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},n})(),K6=[].slice,uz=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Lo(n,Xa),n.prototype.tag="glyf",n.prototype.parse=function(){return this.cache={}},n.prototype.glyphFor=function(e){var t,i,s,a,l,c,h,f,p,m;return e in this.cache?this.cache[e]:(a=this.file.loca,t=this.file.contents,i=a.indexOf(e),(s=a.lengthOf(e))===0?this.cache[e]=null:(t.pos=this.offset+i,l=(c=new Fc(t.read(s))).readShort(),f=c.readShort(),m=c.readShort(),h=c.readShort(),p=c.readShort(),this.cache[e]=l===-1?new fz(c,f,m,h,p):new hz(c,l,f,m,h,p),this.cache[e]))},n.prototype.encode=function(e,t,i){var s,a,l,c,h;for(l=[],a=[],c=0,h=t.length;c<h;c++)s=e[t[c]],a.push(l.length),s&&(l=l.concat(s.encode(i)));return a.push(l.length),{table:l,offsets:a}},n})(),hz=(function(){function n(e,t,i,s,a,l){this.raw=e,this.numberOfContours=t,this.xMin=i,this.yMin=s,this.xMax=a,this.yMax=l,this.compound=!1}return n.prototype.encode=function(){return this.raw.data},n})(),fz=(function(){function n(e,t,i,s,a){var l,c;for(this.raw=e,this.xMin=t,this.yMin=i,this.xMax=s,this.yMax=a,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],l=this.raw;c=l.readShort(),this.glyphOffsets.push(l.pos),this.glyphIDs.push(l.readUInt16()),32&c;)l.pos+=1&c?4:2,128&c?l.pos+=8:64&c?l.pos+=4:8&c&&(l.pos+=2)}return n.prototype.encode=function(){var e,t,i;for(t=new Fc(K6.call(this.raw.data)),e=0,i=this.glyphIDs.length;e<i;++e)t.pos=this.glyphOffsets[e];return t.data},n})(),dz=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Lo(n,Xa),n.prototype.tag="loca",n.prototype.parse=function(e){var t,i;return e.pos=this.offset,t=this.file.head.indexToLocFormat,this.offsets=t===0?(function(){var s,a;for(a=[],i=0,s=this.length;i<s;i+=2)a.push(2*e.readUInt16());return a}).call(this):(function(){var s,a;for(a=[],i=0,s=this.length;i<s;i+=4)a.push(e.readUInt32());return a}).call(this)},n.prototype.indexOf=function(e){return this.offsets[e]},n.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},n.prototype.encode=function(e,t){for(var i=new Uint32Array(this.offsets.length),s=0,a=0,l=0;l<i.length;++l)if(i[l]=s,a<t.length&&t[a]==l){++a,i[l]=s;var c=this.offsets[l],h=this.offsets[l+1]-c;h>0&&(s+=h)}for(var f=new Array(4*i.length),p=0;p<i.length;++p)f[4*p+3]=255&i[p],f[4*p+2]=(65280&i[p])>>8,f[4*p+1]=(16711680&i[p])>>16,f[4*p]=(4278190080&i[p])>>24;return f},n})(),pz=(function(){function n(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return n.prototype.generateCmap=function(){var e,t,i,s,a;for(t in s=this.font.cmap.tables[0].codeMap,e={},a=this.subset)i=a[t],e[t]=s[i];return e},n.prototype.glyphsFor=function(e){var t,i,s,a,l,c,h;for(s={},l=0,c=e.length;l<c;l++)s[a=e[l]]=this.font.glyf.glyphFor(a);for(a in t=[],s)(i=s[a])!=null&&i.compound&&t.push.apply(t,i.glyphIDs);if(t.length>0)for(a in h=this.glyphsFor(t))i=h[a],s[a]=i;return s},n.prototype.encode=function(e,t){var i,s,a,l,c,h,f,p,m,b,y,N,E,k,T;for(s in i=X6.encode(this.generateCmap(),"unicode"),l=this.glyphsFor(e),y={0:0},T=i.charMap)y[(h=T[s]).old]=h.new;for(N in b=i.maxGlyphID,l)N in y||(y[N]=b++);return p=(function(j){var q,H;for(q in H={},j)H[j[q]]=q;return H})(y),m=Object.keys(p).sort(function(j,q){return j-q}),E=(function(){var j,q,H;for(H=[],j=0,q=m.length;j<q;j++)c=m[j],H.push(p[c]);return H})(),a=this.font.glyf.encode(l,E,y),f=this.font.loca.encode(a.offsets,E),k={cmap:this.font.cmap.raw(),glyf:a.table,loca:f,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(k["OS/2"]=this.font.os2.raw()),this.font.directory.encode(k)},n})();wt.API.PDFObject=(function(){var n;function e(){}return n=function(t,i){return(Array(i+1).join("0")+t).slice(-i)},e.convert=function(t){var i,s,a,l;if(Array.isArray(t))return"["+(function(){var c,h,f;for(f=[],c=0,h=t.length;c<h;c++)i=t[c],f.push(e.convert(i));return f})().join(" ")+"]";if(typeof t=="string")return"/"+t;if(t?.isString)return"("+t+")";if(t instanceof Date)return"(D:"+n(t.getUTCFullYear(),4)+n(t.getUTCMonth(),2)+n(t.getUTCDate(),2)+n(t.getUTCHours(),2)+n(t.getUTCMinutes(),2)+n(t.getUTCSeconds(),2)+"Z)";if({}.toString.call(t)==="[object Object]"){for(s in a=["<<"],t)l=t[s],a.push("/"+s+" "+e.convert(l));return a.push(">>"),a.join(`
`)}return""+t},e})();function Q6(n,e,t,i,s){i=i||{};var a=1.15,l=s.internal.scaleFactor,c=s.internal.getFontSize()/l,h=s.getLineHeightFactor?s.getLineHeightFactor():a,f=c*h,p=/\r\n|\r|\n/g,m="",b=1;if((i.valign==="middle"||i.valign==="bottom"||i.halign==="center"||i.halign==="right")&&(m=typeof n=="string"?n.split(p):n,b=m.length||1),t+=c*(2-a),i.valign==="middle"?t-=b/2*f:i.valign==="bottom"&&(t-=b*f),i.halign==="center"||i.halign==="right"){var y=c;if(i.halign==="center"&&(y*=.5),m&&b>=1){for(var N=0;N<m.length;N++)s.text(m[N],e-s.getStringUnitWidth(m[N])*y,t),t+=f;return s}e-=s.getStringUnitWidth(n)*y}return i.halign==="justify"?s.text(n,e,t,{maxWidth:i.maxWidth||100,align:"justify"}):s.text(n,e,t),s}var A3={},of=(function(){function n(e){this.jsPDFDocument=e,this.userStyles={textColor:e.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:e.internal.getFontSize(),fontStyle:e.internal.getFont().fontStyle,font:e.internal.getFont().fontName,lineWidth:e.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:e.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return n.setDefaults=function(e,t){t===void 0&&(t=null),t?t.__autoTableDocumentDefaults=e:A3=e},n.unifyColor=function(e){return Array.isArray(e)?e:typeof e=="number"?[e,e,e]:typeof e=="string"?[e]:null},n.prototype.applyStyles=function(e,t){var i,s,a;t===void 0&&(t=!1),e.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(e.fontStyle);var l=this.jsPDFDocument.internal.getFont(),c=l.fontStyle,h=l.fontName;if(e.font&&(h=e.font),e.fontStyle){c=e.fontStyle;var f=this.getFontList()[h];f&&f.indexOf(c)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(f[0]),c=f[0])}if(this.jsPDFDocument.setFont(h,c),e.fontSize&&this.jsPDFDocument.setFontSize(e.fontSize),!t){var p=n.unifyColor(e.fillColor);p&&(i=this.jsPDFDocument).setFillColor.apply(i,p),p=n.unifyColor(e.textColor),p&&(s=this.jsPDFDocument).setTextColor.apply(s,p),p=n.unifyColor(e.lineColor),p&&(a=this.jsPDFDocument).setDrawColor.apply(a,p),typeof e.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(e.lineWidth)}},n.prototype.splitTextToSize=function(e,t,i){return this.jsPDFDocument.splitTextToSize(e,t,i)},n.prototype.rect=function(e,t,i,s,a){return this.jsPDFDocument.rect(e,t,i,s,a)},n.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},n.prototype.getTextWidth=function(e){return this.jsPDFDocument.getTextWidth(e)},n.prototype.getDocument=function(){return this.jsPDFDocument},n.prototype.setPage=function(e){this.jsPDFDocument.setPage(e)},n.prototype.addPage=function(){return this.jsPDFDocument.addPage()},n.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},n.prototype.getGlobalOptions=function(){return A3||{}},n.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},n.prototype.pageSize=function(){var e=this.jsPDFDocument.internal.pageSize;return e.width==null&&(e={width:e.getWidth(),height:e.getHeight()}),e},n.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},n.prototype.getLineHeightFactor=function(){var e=this.jsPDFDocument;return e.getLineHeightFactor?e.getLineHeightFactor():1.15},n.prototype.getLineHeight=function(e){return e/this.scaleFactor()*this.getLineHeightFactor()},n.prototype.pageNumber=function(){var e=this.jsPDFDocument.internal.getCurrentPageInfo();return e?e.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},n})(),ky=function(n,e){return ky=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])},ky(n,e)};function J6(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");ky(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var Z6=(function(n){J6(e,n);function e(t){var i=n.call(this)||this;return i._element=t,i}return e})(Array);function gz(n){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/n,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function mz(n){var e={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return e[n]}function Wm(n,e,t){t.applyStyles(e,!0);var i=Array.isArray(n)?n:[n],s=i.map(function(a){return t.getTextWidth(a)}).reduce(function(a,l){return Math.max(a,l)},0);return s}function eC(n,e,t,i){var s=e.settings.tableLineWidth,a=e.settings.tableLineColor;n.applyStyles({lineWidth:s,lineColor:a});var l=tC(s,!1);l&&n.rect(t.x,t.y,e.getWidth(n.pageSize().width),i.y-t.y,l)}function tC(n,e){var t=n>0,i=e||e===0;return t&&i?"DF":t?"S":i?"F":null}function v0(n,e){var t,i,s,a;if(n=n||e,Array.isArray(n)){if(n.length>=4)return{top:n[0],right:n[1],bottom:n[2],left:n[3]};if(n.length===3)return{top:n[0],right:n[1],bottom:n[2],left:n[1]};if(n.length===2)return{top:n[0],right:n[1],bottom:n[0],left:n[1]};n.length===1?n=n[0]:n=e}return typeof n=="object"?(typeof n.vertical=="number"&&(n.top=n.vertical,n.bottom=n.vertical),typeof n.horizontal=="number"&&(n.right=n.horizontal,n.left=n.horizontal),{left:(t=n.left)!==null&&t!==void 0?t:e,top:(i=n.top)!==null&&i!==void 0?i:e,right:(s=n.right)!==null&&s!==void 0?s:e,bottom:(a=n.bottom)!==null&&a!==void 0?a:e}):(typeof n!="number"&&(n=e),{top:n,right:n,bottom:n,left:n})}function nC(n,e){var t=v0(e.settings.margin,0);return n.pageSize().width-(t.left+t.right)}function yz(n,e,t,i,s){var a={},l=1.3333333333333333,c=D2(e,function(q){return s.getComputedStyle(q).backgroundColor});c!=null&&(a.fillColor=c);var h=D2(e,function(q){return s.getComputedStyle(q).color});h!=null&&(a.textColor=h);var f=bz(i,t);f&&(a.cellPadding=f);var p="borderTopColor",m=l*t,b=i.borderTopWidth;if(i.borderBottomWidth===b&&i.borderRightWidth===b&&i.borderLeftWidth===b){var y=(parseFloat(b)||0)/m;y&&(a.lineWidth=y)}else a.lineWidth={top:(parseFloat(i.borderTopWidth)||0)/m,right:(parseFloat(i.borderRightWidth)||0)/m,bottom:(parseFloat(i.borderBottomWidth)||0)/m,left:(parseFloat(i.borderLeftWidth)||0)/m},a.lineWidth.top||(a.lineWidth.right?p="borderRightColor":a.lineWidth.bottom?p="borderBottomColor":a.lineWidth.left&&(p="borderLeftColor"));var N=D2(e,function(q){return s.getComputedStyle(q)[p]});N!=null&&(a.lineColor=N);var E=["left","right","center","justify"];E.indexOf(i.textAlign)!==-1&&(a.halign=i.textAlign),E=["middle","bottom","top"],E.indexOf(i.verticalAlign)!==-1&&(a.valign=i.verticalAlign);var k=parseInt(i.fontSize||"");isNaN(k)||(a.fontSize=k/l);var T=vz(i);T&&(a.fontStyle=T);var j=(i.fontFamily||"").toLowerCase();return n.indexOf(j)!==-1&&(a.font=j),a}function vz(n){var e="";return(n.fontWeight==="bold"||n.fontWeight==="bolder"||parseInt(n.fontWeight)>=700)&&(e="bold"),(n.fontStyle==="italic"||n.fontStyle==="oblique")&&(e+="italic"),e}function D2(n,e){var t=iC(n,e);if(!t)return null;var i=t.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!i||!Array.isArray(i))return null;var s=[parseInt(i[1]),parseInt(i[2]),parseInt(i[3])],a=parseInt(i[4]);return a===0||isNaN(s[0])||isNaN(s[1])||isNaN(s[2])?null:s}function iC(n,e){var t=e(n);return t==="rgba(0, 0, 0, 0)"||t==="transparent"||t==="initial"||t==="inherit"?n.parentElement==null?null:iC(n.parentElement,e):t}function bz(n,e){var t=[n.paddingTop,n.paddingRight,n.paddingBottom,n.paddingLeft],i=96/(72/e),s=(parseInt(n.lineHeight)-parseInt(n.fontSize))/e/2,a=t.map(function(c){return parseInt(c||"0")/i}),l=v0(a,0);return s>l.top&&(l.top=s),s>l.bottom&&(l.bottom=s),l}function sC(n,e,t,i,s){var a,l;i===void 0&&(i=!1),s===void 0&&(s=!1);var c;typeof e=="string"?c=t.document.querySelector(e):c=e;var h=Object.keys(n.getFontList()),f=n.scaleFactor(),p=[],m=[],b=[];if(!c)return console.error("Html table could not be found with input: ",e),{head:p,body:m,foot:b};for(var y=0;y<c.rows.length;y++){var N=c.rows[y],E=(l=(a=N?.parentElement)===null||a===void 0?void 0:a.tagName)===null||l===void 0?void 0:l.toLowerCase(),k=_z(h,f,t,N,i,s);k&&(E==="thead"?p.push(k):E==="tfoot"?b.push(k):m.push(k))}return{head:p,body:m,foot:b}}function _z(n,e,t,i,s,a){for(var l=new Z6(i),c=0;c<i.cells.length;c++){var h=i.cells[c],f=t.getComputedStyle(h);if(s||f.display!=="none"){var p=void 0;a&&(p=yz(n,h,e,f,t)),l.push({rowSpan:h.rowSpan,colSpan:h.colSpan,styles:p,_element:h,content:xz(h)})}}var m=t.getComputedStyle(i);if(l.length>0&&(s||m.display!=="none"))return l}function xz(n){var e=n.cloneNode(!0);return e.innerHTML=e.innerHTML.replace(/\n/g,"").replace(/ +/g," "),e.innerHTML=e.innerHTML.split(/<br.*?>/).map(function(t){return t.trim()}).join(`
`),e.innerText||e.textContent||""}function wz(n,e,t){for(var i=0,s=[n,e,t];i<s.length;i++){var a=s[i];a&&typeof a!="object"&&console.error("The options parameter should be of type object, is: "+typeof a),a.startY&&typeof a.startY!="number"&&(console.error("Invalid value for startY option",a.startY),delete a.startY)}}function _l(n,e,t,i,s){if(n==null)throw new TypeError("Cannot convert undefined or null to object");for(var a=Object(n),l=1;l<arguments.length;l++){var c=arguments[l];if(c!=null)for(var h in c)Object.prototype.hasOwnProperty.call(c,h)&&(a[h]=c[h])}return a}function Sz(n,e){var t=new of(n),i=t.getDocumentOptions(),s=t.getGlobalOptions();wz(s,i,e);var a=_l({},s,i,e),l;typeof window<"u"&&(l=window);var c=Nz(s,i,e),h=Az(s,i,e),f=Cz(t,a),p=kz(t,a,l);return{id:e.tableId,content:p,hooks:h,styles:c,settings:f}}function Nz(n,e,t){for(var i={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},s=function(h){if(h==="columnStyles"){var f=n[h],p=e[h],m=t[h];i.columnStyles=_l({},f,p,m)}else{var b=[n,e,t],y=b.map(function(N){return N[h]||{}});i[h]=_l({},y[0],y[1],y[2])}},a=0,l=Object.keys(i);a<l.length;a++){var c=l[a];s(c)}return i}function Az(n,e,t){for(var i=[n,e,t],s={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},a=0,l=i;a<l.length;a++){var c=l[a];c.didParseCell&&s.didParseCell.push(c.didParseCell),c.willDrawCell&&s.willDrawCell.push(c.willDrawCell),c.didDrawCell&&s.didDrawCell.push(c.didDrawCell),c.willDrawPage&&s.willDrawPage.push(c.willDrawPage),c.didDrawPage&&s.didDrawPage.push(c.didDrawPage)}return s}function Cz(n,e){var t,i,s,a,l,c,h,f,p,m,b,y,N=v0(e.margin,40/n.scaleFactor()),E=(t=Ez(n,e.startY))!==null&&t!==void 0?t:N.top,k;e.showFoot===!0?k="everyPage":e.showFoot===!1?k="never":k=(i=e.showFoot)!==null&&i!==void 0?i:"everyPage";var T;e.showHead===!0?T="everyPage":e.showHead===!1?T="never":T=(s=e.showHead)!==null&&s!==void 0?s:"everyPage";var j=(a=e.useCss)!==null&&a!==void 0?a:!1,q=e.theme||(j?"plain":"striped"),H=!!e.horizontalPageBreak,V=(l=e.horizontalPageBreakRepeat)!==null&&l!==void 0?l:null;return{includeHiddenHtml:(c=e.includeHiddenHtml)!==null&&c!==void 0?c:!1,useCss:j,theme:q,startY:E,margin:N,pageBreak:(h=e.pageBreak)!==null&&h!==void 0?h:"auto",rowPageBreak:(f=e.rowPageBreak)!==null&&f!==void 0?f:"auto",tableWidth:(p=e.tableWidth)!==null&&p!==void 0?p:"auto",showHead:T,showFoot:k,tableLineWidth:(m=e.tableLineWidth)!==null&&m!==void 0?m:0,tableLineColor:(b=e.tableLineColor)!==null&&b!==void 0?b:200,horizontalPageBreak:H,horizontalPageBreakRepeat:V,horizontalPageBreakBehaviour:(y=e.horizontalPageBreakBehaviour)!==null&&y!==void 0?y:"afterAllRows"}}function Ez(n,e){var t=n.getLastAutoTable(),i=n.scaleFactor(),s=n.pageNumber(),a=!1;if(t&&t.startPageNumber){var l=t.startPageNumber+t.pageNumber-1;a=l===s}return typeof e=="number"?e:(e==null||e===!1)&&a&&t?.finalY!=null?t.finalY+20/i:null}function kz(n,e,t){var i=e.head||[],s=e.body||[],a=e.foot||[];if(e.html){var l=e.includeHiddenHtml;if(t){var c=sC(n,e.html,t,l,e.useCss)||{};i=c.head||i,s=c.body||i,a=c.foot||i}else console.error("Cannot parse html in non browser environment")}var h=e.columns||Tz(i,s,a);return{columns:h,head:i,body:s,foot:a}}function Tz(n,e,t){var i=n[0]||e[0]||t[0]||[],s=[];return Object.keys(i).filter(function(a){return a!=="_element"}).forEach(function(a){var l=1,c;Array.isArray(i)?c=i[parseInt(a)]:c=i[a],typeof c=="object"&&!Array.isArray(c)&&(l=c?.colSpan||1);for(var h=0;h<l;h++){var f=void 0;Array.isArray(i)?f=s.length:f=a+(h>0?"_".concat(h):"");var p={dataKey:f};s.push(p)}}),s}var Ty=(function(){function n(e,t,i){this.table=t,this.pageNumber=t.pageNumber,this.settings=t.settings,this.cursor=i,this.doc=e.getDocument()}return n})(),Lz=(function(n){J6(e,n);function e(t,i,s,a,l,c){var h=n.call(this,t,i,c)||this;return h.cell=s,h.row=a,h.column=l,h.section=a.section,h}return e})(Ty),Rz=(function(){function n(e,t){this.pageNumber=1,this.id=e.id,this.settings=e.settings,this.styles=e.styles,this.hooks=e.hooks,this.columns=t.columns,this.head=t.head,this.body=t.body,this.foot=t.foot}return n.prototype.getHeadHeight=function(e){return this.head.reduce(function(t,i){return t+i.getMaxCellHeight(e)},0)},n.prototype.getFootHeight=function(e){return this.foot.reduce(function(t,i){return t+i.getMaxCellHeight(e)},0)},n.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},n.prototype.callCellHooks=function(e,t,i,s,a,l){for(var c=0,h=t;c<h.length;c++){var f=h[c],p=new Lz(e,this,i,s,a,l),m=f(p)===!1;if(i.text=Array.isArray(i.text)?i.text:[i.text],m)return!1}return!0},n.prototype.callEndPageHooks=function(e,t){e.applyStyles(e.userStyles);for(var i=0,s=this.hooks.didDrawPage;i<s.length;i++){var a=s[i];a(new Ty(e,this,t))}},n.prototype.callWillDrawPageHooks=function(e,t){for(var i=0,s=this.hooks.willDrawPage;i<s.length;i++){var a=s[i];a(new Ty(e,this,t))}},n.prototype.getWidth=function(e){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var t=this.columns.reduce(function(s,a){return s+a.wrappedWidth},0);return t}else{var i=this.settings.margin;return e-i.left-i.right}},n})(),rC=(function(){function n(e,t,i,s,a){a===void 0&&(a=!1),this.height=0,this.raw=e,e instanceof Z6&&(this.raw=e._element,this.element=e._element),this.index=t,this.section=i,this.cells=s,this.spansMultiplePages=a}return n.prototype.getMaxCellHeight=function(e){var t=this;return e.reduce(function(i,s){var a;return Math.max(i,((a=t.cells[s.index])===null||a===void 0?void 0:a.height)||0)},0)},n.prototype.hasRowSpan=function(e){var t=this;return e.filter(function(i){var s=t.cells[i.index];return s?s.rowSpan>1:!1}).length>0},n.prototype.canEntireRowFit=function(e,t){return this.getMaxCellHeight(t)<=e},n.prototype.getMinimumRowHeight=function(e,t){var i=this;return e.reduce(function(s,a){var l=i.cells[a.index];if(!l)return 0;var c=t.getLineHeight(l.styles.fontSize),h=l.padding("vertical"),f=h+c;return f>s?f:s},0)},n})(),aC=(function(){function n(e,t,i){var s;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=t,this.section=i,this.raw=e;var a=e;e!=null&&typeof e=="object"&&!Array.isArray(e)?(this.rowSpan=e.rowSpan||1,this.colSpan=e.colSpan||1,a=(s=e.content)!==null&&s!==void 0?s:e,e._element&&(this.raw=e._element)):(this.rowSpan=1,this.colSpan=1);var l=a!=null?""+a:"",c=/\r\n|\r|\n/g;this.text=l.split(c)}return n.prototype.getTextPos=function(){var e;if(this.styles.valign==="top")e=this.y+this.padding("top");else if(this.styles.valign==="bottom")e=this.y+this.height-this.padding("bottom");else{var t=this.height-this.padding("vertical");e=this.y+t/2+this.padding("top")}var i;if(this.styles.halign==="right")i=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var s=this.width-this.padding("horizontal");i=this.x+s/2+this.padding("left")}else i=this.x+this.padding("left");return{x:i,y:e}},n.prototype.getContentHeight=function(e,t){t===void 0&&(t=1.15);var i=Array.isArray(this.text)?this.text.length:1,s=this.styles.fontSize/e*t,a=i*s+this.padding("vertical");return Math.max(a,this.styles.minCellHeight)},n.prototype.padding=function(e){var t=v0(this.styles.cellPadding,0);return e==="vertical"?t.top+t.bottom:e==="horizontal"?t.left+t.right:t[e]},n})(),Dz=(function(){function n(e,t,i){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=e,this.raw=t,this.index=i}return n.prototype.getMaxCustomCellWidth=function(e){for(var t=0,i=0,s=e.allRows();i<s.length;i++){var a=s[i],l=a.cells[this.index];l&&typeof l.styles.cellWidth=="number"&&(t=Math.max(t,l.styles.cellWidth))}return t},n})();function Mz(n,e){Oz(n,e);var t=[],i=0;e.columns.forEach(function(a){var l=a.getMaxCustomCellWidth(e);l?a.width=l:(a.width=a.wrappedWidth,t.push(a)),i+=a.width});var s=e.getWidth(n.pageSize().width)-i;s&&(s=Ly(t,s,function(a){return Math.max(a.minReadableWidth,a.minWidth)})),s&&(s=Ly(t,s,function(a){return a.minWidth})),s=Math.abs(s),!e.settings.horizontalPageBreak&&s>.1/n.scaleFactor()&&(s=s<1?s:Math.round(s),console.warn("Of the table content, ".concat(s," units width could not fit page"))),Pz(e),jz(e,n),Iz(e)}function Oz(n,e){var t=n.scaleFactor(),i=e.settings.horizontalPageBreak,s=nC(n,e);e.allRows().forEach(function(a){for(var l=0,c=e.columns;l<c.length;l++){var h=c[l],f=a.cells[h.index];if(f){var p=e.hooks.didParseCell;e.callCellHooks(n,p,f,a,h,null);var m=f.padding("horizontal");f.contentWidth=Wm(f.text,f.styles,n)+m;var b=Wm(f.text.join(" ").split(/[^\S\u00A0]+/),f.styles,n);if(f.minReadableWidth=b+f.padding("horizontal"),typeof f.styles.cellWidth=="number")f.minWidth=f.styles.cellWidth,f.wrappedWidth=f.styles.cellWidth;else if(f.styles.cellWidth==="wrap"||i===!0)f.contentWidth>s?(f.minWidth=s,f.wrappedWidth=s):(f.minWidth=f.contentWidth,f.wrappedWidth=f.contentWidth);else{var y=10/t;f.minWidth=f.styles.minCellWidth||y,f.wrappedWidth=f.contentWidth,f.minWidth>f.wrappedWidth&&(f.wrappedWidth=f.minWidth)}}}}),e.allRows().forEach(function(a){for(var l=0,c=e.columns;l<c.length;l++){var h=c[l],f=a.cells[h.index];if(f&&f.colSpan===1)h.wrappedWidth=Math.max(h.wrappedWidth,f.wrappedWidth),h.minWidth=Math.max(h.minWidth,f.minWidth),h.minReadableWidth=Math.max(h.minReadableWidth,f.minReadableWidth);else{var p=e.styles.columnStyles[h.dataKey]||e.styles.columnStyles[h.index]||{},m=p.cellWidth||p.minCellWidth;m&&typeof m=="number"&&(h.minWidth=m,h.wrappedWidth=m)}f&&(f.colSpan>1&&!h.minWidth&&(h.minWidth=f.minWidth),f.colSpan>1&&!h.wrappedWidth&&(h.wrappedWidth=f.minWidth))}})}function Ly(n,e,t){for(var i=e,s=n.reduce(function(y,N){return y+N.wrappedWidth},0),a=0;a<n.length;a++){var l=n[a],c=l.wrappedWidth/s,h=i*c,f=l.width+h,p=t(l),m=f<p?p:f;e-=m-l.width,l.width=m}if(e=Math.round(e*1e10)/1e10,e){var b=n.filter(function(y){return e<0?y.width>t(y):!0});b.length&&(e=Ly(b,e,t))}return e}function Iz(n){for(var e={},t=1,i=n.allRows(),s=0;s<i.length;s++)for(var a=i[s],l=0,c=n.columns;l<c.length;l++){var h=c[l],f=e[h.index];if(t>1)t--,delete a.cells[h.index];else if(f)f.cell.height+=a.height,t=f.cell.colSpan,delete a.cells[h.index],f.left--,f.left<=1&&delete e[h.index];else{var p=a.cells[h.index];if(!p)continue;if(p.height=a.height,p.rowSpan>1){var m=i.length-s,b=p.rowSpan>m?m:p.rowSpan;e[h.index]={cell:p,left:b,row:a}}}}}function Pz(n){for(var e=n.allRows(),t=0;t<e.length;t++)for(var i=e[t],s=null,a=0,l=0,c=0;c<n.columns.length;c++){var h=n.columns[c];if(l-=1,l>1&&n.columns[c+1])a+=h.width,delete i.cells[h.index];else if(s){var f=s;delete i.cells[h.index],s=null,f.width=h.width+a}else{var f=i.cells[h.index];if(!f)continue;if(l=f.colSpan,a=0,f.colSpan>1){s=f,a+=h.width;continue}f.width=h.width+a}}}function jz(n,e){for(var t={count:0,height:0},i=0,s=n.allRows();i<s.length;i++){for(var a=s[i],l=0,c=n.columns;l<c.length;l++){var h=c[l],f=a.cells[h.index];if(f){e.applyStyles(f.styles,!0);var p=f.width-f.padding("horizontal");if(f.styles.overflow==="linebreak")f.text=e.splitTextToSize(f.text,p+1/e.scaleFactor(),{fontSize:f.styles.fontSize});else if(f.styles.overflow==="ellipsize")f.text=C3(f.text,p,f.styles,e,"...");else if(f.styles.overflow==="hidden")f.text=C3(f.text,p,f.styles,e,"");else if(typeof f.styles.overflow=="function"){var m=f.styles.overflow(f.text,p);typeof m=="string"?f.text=[m]:f.text=m}f.contentHeight=f.getContentHeight(e.scaleFactor(),e.getLineHeightFactor());var b=f.contentHeight/f.rowSpan;f.rowSpan>1&&t.count*t.height<b*f.rowSpan?t={height:b,count:f.rowSpan}:t&&t.count>0&&t.height>b&&(b=t.height),b>a.height&&(a.height=b)}}t.count--}}function C3(n,e,t,i,s){return n.map(function(a){return Fz(a,e,t,i,s)})}function Fz(n,e,t,i,s){var a=1e4*i.scaleFactor();if(e=Math.ceil(e*a)/a,e>=Wm(n,t,i))return n;for(;e<Wm(n+s,t,i)&&!(n.length<=1);)n=n.substring(0,n.length-1);return n.trim()+s}function Bz(n,e){var t=new of(n),i=zz(e,t.scaleFactor()),s=new Rz(e,i);return Mz(t,s),t.applyStyles(t.userStyles),s}function zz(n,e){var t=n.content,i=Hz(t.columns);if(t.head.length===0){var s=E3(i,"head");s&&t.head.push(s)}if(t.foot.length===0){var s=E3(i,"foot");s&&t.foot.push(s)}var a=n.settings.theme,l=n.styles;return{columns:i,head:M2("head",t.head,i,l,a,e),body:M2("body",t.body,i,l,a,e),foot:M2("foot",t.foot,i,l,a,e)}}function M2(n,e,t,i,s,a){var l={},c=e.map(function(h,f){for(var p=0,m={},b=0,y=0,N=0,E=t;N<E.length;N++){var k=E[N];if(l[k.index]==null||l[k.index].left===0)if(y===0){var T=void 0;Array.isArray(h)?T=h[k.index-b-p]:T=h[k.dataKey];var j={};typeof T=="object"&&!Array.isArray(T)&&(j=T?.styles||{});var q=qz(n,k,f,s,i,a,j),H=new aC(T,q,n);m[k.dataKey]=H,m[k.index]=H,y=H.colSpan-1,l[k.index]={left:H.rowSpan-1,times:y}}else y--,b++;else l[k.index].left--,y=l[k.index].times,p++}return new rC(h,f,n,m)});return c}function E3(n,e){var t={};return n.forEach(function(i){if(i.raw!=null){var s=Uz(e,i.raw);s!=null&&(t[i.dataKey]=s)}}),Object.keys(t).length>0?t:null}function Uz(n,e){if(n==="head"){if(typeof e=="object")return e.header||null;if(typeof e=="string"||typeof e=="number")return e}else if(n==="foot"&&typeof e=="object")return e.footer;return null}function Hz(n){return n.map(function(e,t){var i,s;return typeof e=="object"?s=(i=e.dataKey)!==null&&i!==void 0?i:t:s=t,new Dz(s,e,t)})}function qz(n,e,t,i,s,a,l){var c=mz(i),h;n==="head"?h=s.headStyles:n==="body"?h=s.bodyStyles:n==="foot"&&(h=s.footStyles);var f=_l({},c.table,c[n],s.styles,h),p=s.columnStyles[e.dataKey]||s.columnStyles[e.index]||{},m=n==="body"?p:{},b=n==="body"&&t%2===0?_l({},c.alternateRow,s.alternateRowStyles):{},y=gz(a),N=_l({},y,f,b,m);return _l(N,l)}function Wz(n,e,t){var i;t===void 0&&(t={});var s=nC(n,e),a=new Map,l=[],c=[],h=[];Array.isArray(e.settings.horizontalPageBreakRepeat)?h=e.settings.horizontalPageBreakRepeat:(typeof e.settings.horizontalPageBreakRepeat=="string"||typeof e.settings.horizontalPageBreakRepeat=="number")&&(h=[e.settings.horizontalPageBreakRepeat]),h.forEach(function(b){var y=e.columns.find(function(N){return N.dataKey===b||N.index===b});y&&!a.has(y.index)&&(a.set(y.index,!0),l.push(y.index),c.push(e.columns[y.index]),s-=y.wrappedWidth)});for(var f=!0,p=(i=t?.start)!==null&&i!==void 0?i:0;p<e.columns.length;){if(a.has(p)){p++;continue}var m=e.columns[p].wrappedWidth;if(f||s>=m)f=!1,l.push(p),c.push(e.columns[p]),s-=m;else break;p++}return{colIndexes:l,columns:c,lastIndex:p-1}}function Vz(n,e){for(var t=[],i=0;i<e.columns.length;i++){var s=Wz(n,e,{start:i});s.columns.length&&(t.push(s),i=s.lastIndex)}return t}function Gz(n,e){var t=e.settings,i=t.startY,s=t.margin,a={x:s.left,y:i},l=e.getHeadHeight(e.columns)+e.getFootHeight(e.columns),c=i+s.bottom+l;if(t.pageBreak==="avoid"){var h=e.body,f=h.reduce(function(b,y){return b+y.height},0);c+=f}var p=new of(n);(t.pageBreak==="always"||t.startY!=null&&c>p.pageSize().height)&&(lC(p),a.y=s.top),e.callWillDrawPageHooks(p,a);var m=_l({},a);e.startPageNumber=p.pageNumber(),t.horizontalPageBreak?Yz(p,e,m,a):(p.applyStyles(p.userStyles),(t.showHead==="firstPage"||t.showHead==="everyPage")&&e.head.forEach(function(b){return kl(p,e,b,a,e.columns)}),p.applyStyles(p.userStyles),e.body.forEach(function(b,y){var N=y===e.body.length-1;Vm(p,e,b,N,m,a,e.columns)}),p.applyStyles(p.userStyles),(t.showFoot==="lastPage"||t.showFoot==="everyPage")&&e.foot.forEach(function(b){return kl(p,e,b,a,e.columns)})),eC(p,e,m,a),e.callEndPageHooks(p,a),e.finalY=a.y,n.lastAutoTable=e,p.applyStyles(p.userStyles)}function Yz(n,e,t,i){var s=Vz(n,e),a=e.settings;if(a.horizontalPageBreakBehaviour==="afterAllRows")s.forEach(function(f,p){n.applyStyles(n.userStyles),p>0?qd(n,e,t,i,f.columns,!0):k3(n,e,i,f.columns),$z(n,e,t,i,f.columns),O2(n,e,i,f.columns)});else for(var l=-1,c=s[0],h=function(){var f=l;if(c){n.applyStyles(n.userStyles);var p=c.columns;l>=0?qd(n,e,t,i,p,!0):k3(n,e,i,p),f=T3(n,e,l+1,i,p),O2(n,e,i,p)}var m=f-l;s.slice(1).forEach(function(b){n.applyStyles(n.userStyles),qd(n,e,t,i,b.columns,!0),T3(n,e,l+1,i,b.columns,m),O2(n,e,i,b.columns)}),l=f};l<e.body.length-1;)h()}function k3(n,e,t,i){var s=e.settings;n.applyStyles(n.userStyles),(s.showHead==="firstPage"||s.showHead==="everyPage")&&e.head.forEach(function(a){return kl(n,e,a,t,i)})}function $z(n,e,t,i,s){n.applyStyles(n.userStyles),e.body.forEach(function(a,l){var c=l===e.body.length-1;Vm(n,e,a,c,t,i,s)})}function T3(n,e,t,i,s,a){n.applyStyles(n.userStyles),a=a??e.body.length;var l=Math.min(t+a,e.body.length),c=-1;return e.body.slice(t,l).forEach(function(h,f){var p=t+f===e.body.length-1,m=oC(n,e,p,i);h.canEntireRowFit(m,s)&&(kl(n,e,h,i,s),c=t+f)}),c}function O2(n,e,t,i){var s=e.settings;n.applyStyles(n.userStyles),(s.showFoot==="lastPage"||s.showFoot==="everyPage")&&e.foot.forEach(function(a){return kl(n,e,a,t,i)})}function Xz(n,e,t){var i=t.getLineHeight(n.styles.fontSize),s=n.padding("vertical"),a=Math.floor((e-s)/i);return Math.max(0,a)}function Kz(n,e,t,i){var s={};n.spansMultiplePages=!0,n.height=0;for(var a=0,l=0,c=t.columns;l<c.length;l++){var h=c[l],f=n.cells[h.index];if(f){Array.isArray(f.text)||(f.text=[f.text]);var p=new aC(f.raw,f.styles,f.section);p=_l(p,f),p.text=[];var m=Xz(f,e,i);f.text.length>m&&(p.text=f.text.splice(m,f.text.length));var b=i.scaleFactor(),y=i.getLineHeightFactor();f.contentHeight=f.getContentHeight(b,y),f.contentHeight>=e&&(f.contentHeight=e,p.styles.minCellHeight-=e),f.contentHeight>n.height&&(n.height=f.contentHeight),p.contentHeight=p.getContentHeight(b,y),p.contentHeight>a&&(a=p.contentHeight),s[h.index]=p}}var N=new rC(n.raw,-1,n.section,s,!0);N.height=a;for(var E=0,k=t.columns;E<k.length;E++){var h=k[E],p=N.cells[h.index];p&&(p.height=N.height);var f=n.cells[h.index];f&&(f.height=n.height)}return N}function Qz(n,e,t,i){var s=n.pageSize().height,a=i.settings.margin,l=a.top+a.bottom,c=s-l;e.section==="body"&&(c-=i.getHeadHeight(i.columns)+i.getFootHeight(i.columns));var h=e.getMinimumRowHeight(i.columns,n),f=h<t;if(h>c)return console.error("Will not be able to print row ".concat(e.index," correctly since it's minimum height is larger than page height")),!0;if(!f)return!1;var p=e.hasRowSpan(i.columns),m=e.getMaxCellHeight(i.columns)>c;return m?(p&&console.error("The content of row ".concat(e.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(p||i.settings.rowPageBreak==="avoid")}function Vm(n,e,t,i,s,a,l){var c=oC(n,e,i,a);if(t.canEntireRowFit(c,l))kl(n,e,t,a,l);else if(Qz(n,t,c,e)){var h=Kz(t,c,e,n);kl(n,e,t,a,l),qd(n,e,s,a,l),Vm(n,e,h,i,s,a,l)}else qd(n,e,s,a,l),Vm(n,e,t,i,s,a,l)}function kl(n,e,t,i,s){i.x=e.settings.margin.left;for(var a=0,l=s;a<l.length;a++){var c=l[a],h=t.cells[c.index];if(!h){i.x+=c.width;continue}n.applyStyles(h.styles),h.x=i.x,h.y=i.y;var f=e.callCellHooks(n,e.hooks.willDrawCell,h,t,c,i);if(f===!1){i.x+=c.width;continue}Jz(n,h,i);var p=h.getTextPos();Q6(h.text,p.x,p.y,{halign:h.styles.halign,valign:h.styles.valign,maxWidth:Math.ceil(h.width-h.padding("left")-h.padding("right"))},n.getDocument()),e.callCellHooks(n,e.hooks.didDrawCell,h,t,c,i),i.x+=c.width}i.y+=t.height}function Jz(n,e,t){var i=e.styles;if(n.getDocument().setFillColor(n.getDocument().getFillColor()),typeof i.lineWidth=="number"){var s=tC(i.lineWidth,i.fillColor);s&&n.rect(e.x,t.y,e.width,e.height,s)}else typeof i.lineWidth=="object"&&(i.fillColor&&n.rect(e.x,t.y,e.width,e.height,"F"),Zz(n,e,t,i.lineWidth))}function Zz(n,e,t,i){var s,a,l,c;i.top&&(s=t.x,a=t.y,l=t.x+e.width,c=t.y,i.right&&(l+=.5*i.right),i.left&&(s-=.5*i.left),h(i.top,s,a,l,c)),i.bottom&&(s=t.x,a=t.y+e.height,l=t.x+e.width,c=t.y+e.height,i.right&&(l+=.5*i.right),i.left&&(s-=.5*i.left),h(i.bottom,s,a,l,c)),i.left&&(s=t.x,a=t.y,l=t.x,c=t.y+e.height,i.top&&(a-=.5*i.top),i.bottom&&(c+=.5*i.bottom),h(i.left,s,a,l,c)),i.right&&(s=t.x+e.width,a=t.y,l=t.x+e.width,c=t.y+e.height,i.top&&(a-=.5*i.top),i.bottom&&(c+=.5*i.bottom),h(i.right,s,a,l,c));function h(f,p,m,b,y){n.getDocument().setLineWidth(f),n.getDocument().line(p,m,b,y,"S")}}function oC(n,e,t,i){var s=e.settings.margin.bottom,a=e.settings.showFoot;return(a==="everyPage"||a==="lastPage"&&t)&&(s+=e.getFootHeight(e.columns)),n.pageSize().height-i.y-s}function qd(n,e,t,i,s,a){s===void 0&&(s=[]),a===void 0&&(a=!1),n.applyStyles(n.userStyles),e.settings.showFoot==="everyPage"&&!a&&e.foot.forEach(function(c){return kl(n,e,c,i,s)}),e.callEndPageHooks(n,i);var l=e.settings.margin;eC(n,e,t,i),lC(n),e.pageNumber++,i.x=l.left,i.y=l.top,t.y=l.top,e.callWillDrawPageHooks(n,i),e.settings.showHead==="everyPage"&&(e.head.forEach(function(c){return kl(n,e,c,i,s)}),n.applyStyles(n.userStyles))}function lC(n){var e=n.pageNumber();n.setPage(e+1);var t=n.pageNumber();return t===e?(n.addPage(),!0):!1}function eU(n){n.API.autoTable=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var i=e[0],s=Sz(this,i),a=Bz(this,s);return Gz(this,a),this},n.API.lastAutoTable=!1,n.API.autoTableText=function(e,t,i,s){Q6(e,t,i,s,this)},n.API.autoTableSetDefaults=function(e){return of.setDefaults(e,this),this},n.autoTableSetDefaults=function(e,t){of.setDefaults(e,t)},n.API.autoTableHtmlToJson=function(e,t){var i;if(t===void 0&&(t=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var s=new of(this),a=sC(s,e,window,t,!1),l=a.head,c=a.body,h=((i=l[0])===null||i===void 0?void 0:i.map(function(f){return f.content}))||[];return{columns:h,rows:c,data:c}}}var I2;try{if(typeof window<"u"&&window){var L3=window,R3=L3.jsPDF||((I2=L3.jspdf)===null||I2===void 0?void 0:I2.jsPDF);R3&&eU(R3)}}catch(n){console.error("Could not apply autoTable plugin",n)}const tU=h0(Dl),Yg=Ep(Dl),nU="jti-downtime/head-history",P2=()=>cp(tU,nU),iU=n=>{const e=(n.date??"").trim(),t=(n.line??"").trim(),i=n.head===""||n.head===void 0||n.head===null?"":String(n.head).trim(),s=(n.issue??"").trim(),a=(n.repaired??"").trim(),l=(n.notes??"").trim();return i?`H|${e}|${t}|${i}|${s}|${a}|${l}`:`MN|${e}|${t}|${l}`},sU=n=>{let e=5381;for(let t=0;t<n.length;t++)e=(e<<5)+e^n.charCodeAt(t);return(e>>>0).toString(16)},rU=n=>{const e=iU(n);return`${e.startsWith("MN|")?"MN":"H"}_${sU(e)}`},aU=n=>(String(n?.offline??"").toLowerCase()||"active")!=="active";function oU({data:n}){const{dates:e}=J3(),[t,i]=de.useState(""),[s,a]=de.useState(()=>new Set),[l,c]=de.useState(!1),[h,f]=de.useState(""),[p,m]=de.useState(()=>window.innerWidth<=768?"cards":"table"),[b,y]=de.useState(new Map),[N,E]=de.useState([]),[k,T]=de.useState(!1),[j,q]=de.useState(""),[H,V]=de.useState([]);de.useEffect(()=>{let M=!1;return(async()=>{try{Yg.currentUser||await mf(Yg),M||c(!0)}catch(Q){M||(c(!0),f("Auth failed (anonymous). Some cloud features may be disabled."),console.error("Anonymous auth failed:",Q))}})(),()=>{M=!0}},[]),de.useEffect(()=>{if(!l)return;let M=!1;return(async()=>{try{const Q=await gf(P2());if(!Q.exists()){M||(y(new Map),E([]));return}const ne=Q.val(),pe=Array.isArray(ne)?ne.filter(Boolean):Object.values(ne||{}),$=new Map;pe.forEach(re=>{if(re?.line&&re?.head!=null&&re.head!==""){const ce=`${re.line}-Head ${re.head}`;$.set(ce,($.get(ce)||0)+1)}}),M||(y($),E(pe.filter(re=>re&&re.date).sort((re,ce)=>new Date(ce.date)-new Date(re.date))),f(""))}catch(Q){console.warn("Head History read failed:",Q),M||(y(new Map),E([]),f("Cannot read Head History (permission denied). Past Failures will show as 0."))}})(),()=>{M=!0}},[l]);const oe=de.useMemo(()=>{const M=[];if(Object.keys(n||{}).sort((ne,pe)=>new Date(pe)-new Date(ne)).forEach(ne=>{const pe=n?.[ne]||{};Object.keys(pe).forEach($=>{const re=pe[$]||{},ce=!!re.running;ce&&(re.heads||[]).filter(aU).forEach(J=>{let _e=[];Array.isArray(J.issues)&&J.issues.length>0?_e=J.issues:J.issue&&J.issue!=="None"&&(_e=[{type:J.issue,repaired:J.repaired||"Not Fixed",replacementReason:J.replacementReason||""}]),_e.forEach((F,w)=>{const D=F.type==="WDU Replacement"&&F.replacementReason?`${F.type} (${F.replacementReason})`:F.type;M.push({key:`${ne}|${$}|${J.head}|${w}|H`,date:ne,line:$,head:J.head,issue:D,notes:J.notes||"",repaired:F.repaired||"Not Fixed",running:"Yes",_exportable:{date:ne,line:$,head:J.head,issue:D,repaired:F.repaired||"Not Fixed",notes:J.notes||""}})})}),ce&&re.machineNotes&&re.machineNotes.trim()&&M.push({key:`${ne}|${$}|MN|M`,date:ne,line:$,head:"",issue:"",notes:re.machineNotes.trim(),repaired:"",running:"Yes",_exportable:{date:ne,line:$,head:"",issue:"",repaired:"",notes:`Machine note: ${re.machineNotes.trim()}`}})})}),M.sort((ne,pe)=>{const $=new Date(ne.date)-new Date(pe.date);if($!==0)return $;const re=parseInt(ne.line.replace("Line ","")||"0",10),ce=parseInt(pe.line.replace("Line ","")||"0",10);return re-ce}),t.trim()){const ne=t.toLowerCase();return M.filter(pe=>Object.values(pe).some($=>String($).toLowerCase().includes(ne)))}return M},[n,t]),ae=()=>a(new Set(oe.map(M=>M.key))),K=()=>a(new Set),Y=()=>{const M=new wt;M.text("Downtime Summary",14,20),M.autoTable({startY:30,head:[["","Date","Line","Head","Issue","Notes","Repaired","Running","Past Failures"]],body:oe.map(Q=>{const ne=Q.head?`${Q.line}-Head ${Q.head}`:"",pe=Q.head?b.get(ne)||0:"-";return[s.has(Q.key)?"":"",Q.date,Q.line,Q.head||"",Q.issue||"",Q.notes||"",Q.repaired||"",Q.running,pe]}),theme:"striped",styles:{fontSize:9,cellPadding:2},headStyles:{fillColor:[66,66,66]}}),M.save("downtime-summary.pdf")},ue=de.useCallback(async()=>{const M=oe.filter(Q=>s.has(Q.key)).map(Q=>Q._exportable);if(!M.length){alert("No rows selected.");return}try{Yg.currentUser||await mf(Yg);const Q=await gf(P2()),pe={...(Q.exists()?Q.val():{})||{}};M.forEach($=>{pe[rU($)]=$}),await Uv(P2(),pe),alert(`Added ${M.length} entr${M.length===1?"y":"ies"} to Head History`),f("")}catch(Q){console.warn("Add to Head History failed:",Q),String(Q?.message||"").toLowerCase().includes("permission")?(alert("Cannot write to Head History (permission denied)."),f("Cannot write to Head History (permission denied).")):(alert("Failed to add to Head History: "+Q.message),f("Failed to add to Head History."))}},[oe,s]),P=(M,Q)=>{const ne=`${M}-Head ${Q}`;if(!(b.get(ne)||0))return;const $=N.filter(re=>re.line===M&&String(re.head)===String(Q)).sort((re,ce)=>new Date(ce.date)-new Date(re.date));q(`${M}  Head ${Q}  Past Failures (${$.length})`),V($),T(!0)};return A.jsx(Vu,{children:A.jsxs("div",{className:"max-w-6xl mx-auto p-6 bg-white dark:bg-gray-800 rounded-lg shadow-md md:p-4 sm:p-2",children:[A.jsx("h2",{className:"text-2xl font-semibold text-center mb-2 sm:text-xl dark:text-gray-100",children:"Summary"}),h&&A.jsx("div",{className:"mb-3 text-sm text-yellow-800 dark:text-yellow-200 bg-yellow-50 dark:bg-yellow-900/30 border border-yellow-200 dark:border-yellow-700 rounded px-3 py-2",children:h}),A.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center mb-4 gap-2",children:[A.jsxs("div",{className:"flex gap-2 flex-wrap",children:[A.jsx(hs,{to:"/logger",className:"px-4 py-2 bg-blue-500 text-white rounded sm:px-2 sm:py-1",children:"Back to Logger"}),A.jsx(hs,{to:"/head-history",className:"px-4 py-2 bg-teal-600 text-white rounded sm:px-2 sm:py-1",children:"View Head History"})]}),A.jsx("input",{type:"text",placeholder:"Search rows",value:t,onChange:M=>i(M.target.value),className:"border dark:border-gray-600 dark:bg-gray-700 dark:text-gray-200 rounded px-3 py-1 w-full sm:w-64 focus:outline-none focus:ring-2 focus:ring-blue-400"}),A.jsxs("div",{className:"flex gap-2",children:[A.jsx("button",{onClick:Y,className:"px-4 py-2 bg-green-600 text-white rounded sm:px-2 sm:py-1",children:"Export PDF"}),A.jsx("button",{onClick:ae,className:"px-3 py-2 bg-blue-600 text-white rounded text-sm",children:"Select All"}),A.jsx("button",{onClick:K,className:"px-3 py-2 bg-gray-500 text-white rounded text-sm",children:"Clear Selection"}),A.jsx("button",{onClick:ue,disabled:!l,className:"px-3 py-2 bg-indigo-600 text-white rounded text-sm disabled:opacity-50",children:"Add Selected to Head History"})]})]}),A.jsx("div",{className:"flex justify-end mb-3",children:A.jsxs("div",{className:"inline-flex rounded-md shadow-sm",role:"group",children:[A.jsx("button",{onClick:()=>m("table"),className:`px-4 py-2 text-sm font-medium border ${p==="table"?"bg-blue-600 text-white border-blue-600":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"} rounded-l-lg`,children:"Table"}),A.jsx("button",{onClick:()=>m("cards"),className:`px-4 py-2 text-sm font-medium border-t border-b border-r ${p==="cards"?"bg-blue-600 text-white border-blue-600":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"} rounded-r-lg`,children:"Cards"})]})}),oe.length===0?A.jsx("p",{className:"text-center text-gray-600 dark:text-gray-400 sm:text-sm",children:"No downtime entries found."}):p==="table"?A.jsx("div",{className:"overflow-x-auto",children:A.jsxs("table",{className:"w-full table-auto border-collapse min-w-max",children:[A.jsx("thead",{children:A.jsxs("tr",{className:"bg-gray-100 dark:bg-gray-700",children:[A.jsx("th",{className:"p-2 text-center border dark:border-gray-600 dark:text-gray-200 sm:p-1 sm:text-sm",children:A.jsx("input",{type:"checkbox",checked:s.size===oe.length&&oe.length>0,onChange:M=>{M.target.checked?a(new Set(oe.map(Q=>Q.key))):a(new Set)},title:"Select All"})}),["Date","Line","Head","Issue","Notes","Repaired","Running","Past Failures"].map(M=>A.jsx("th",{className:"p-2 text-center border dark:border-gray-600 dark:text-gray-200 sm:p-1 sm:text-sm",children:M},M))]})}),A.jsx("tbody",{children:oe.map(M=>{const Q=s.has(M.key),ne=M.head?`${M.line}-Head ${M.head}`:"";M.head&&b.get(ne);const pe=M.head===""?"bg-yellow-50":M.issue.includes("WDU Replacement")?"bg-purple-500":M.repaired==="Fixed"?"bg-orange-500":"bg-red-500",$=M.issue.includes("WDU Replacement");M.repaired==="Not Fixed"&&!$&&M.head,M.repaired==="Fixed"&&!$&&M.head;const re=M.head!==""?"text-white font-medium":"";return A.jsxs("tr",{className:pe,children:[A.jsx("td",{className:"p-2 text-center border",children:A.jsx("input",{type:"checkbox",checked:Q,onChange:()=>a(ce=>{const J=new Set(ce);return J.has(M.key)?J.delete(M.key):J.add(M.key),J})})}),A.jsx("td",{className:`p-2 text-center border dark:border-gray-600 sm:p-1 sm:text-sm ${re}`,children:M.date}),A.jsx("td",{className:`p-2 text-center border dark:border-gray-600 sm:p-1 sm:text-sm ${re}`,children:M.line}),A.jsx("td",{className:`p-2 text-center border dark:border-gray-600 sm:p-1 sm:text-sm ${re}`,children:M.head||""}),A.jsx("td",{className:`p-2 text-center border dark:border-gray-600 sm:p-1 sm:text-sm ${re}`,children:M.issue||""}),A.jsx("td",{className:`p-2 border dark:border-gray-600 sm:p-1 sm:text-sm max-w-xs whitespace-normal ${re}`,children:M.notes||""}),A.jsx("td",{className:`p-2 text-center border dark:border-gray-600 sm:p-1 sm:text-sm ${re}`,children:M.repaired||""}),A.jsx("td",{className:`p-2 text-center border dark:border-gray-600 sm:p-1 sm:text-sm ${re}`,children:M.running}),A.jsx("td",{className:"p-2 text-center border dark:border-gray-600 sm:p-1 sm:text-sm",children:M.head?(b.get(`${M.line}-Head ${M.head}`)||0)>0?A.jsx("button",{onClick:()=>P(M.line,M.head),className:"underline text-blue-700 hover:text-blue-900",title:"Show past failures",children:b.get(`${M.line}-Head ${M.head}`)}):"0":"-"})]},M.key)})})]})}):A.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:oe.map(M=>{const Q=s.has(M.key),ne=M.head?`${M.line}-Head ${M.head}`:"";M.head&&b.get(ne);const pe=M.head===""?"bg-yellow-50":M.issue.includes("WDU Replacement")?"bg-purple-500":M.repaired==="Fixed"?"bg-orange-500":"bg-red-500",$=M.issue.includes("WDU Replacement");M.repaired==="Not Fixed"&&!$&&M.head,M.repaired==="Fixed"&&!$&&M.head;const re=M.head!==""?"text-white":"";return A.jsx("div",{className:`${pe} border dark:border-gray-600 rounded-lg p-4 shadow-sm ${re}`,children:A.jsxs("div",{className:"flex items-start justify-between mb-3",children:[A.jsx("input",{type:"checkbox",checked:Q,onChange:()=>a(ce=>{const J=new Set(ce);return J.has(M.key)?J.delete(M.key):J.add(M.key),J}),className:"mt-1"}),A.jsx("div",{className:"flex-1 ml-3",children:A.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[A.jsxs("div",{children:[A.jsx("span",{className:"font-semibold",children:"Date:"})," ",M.date]}),A.jsxs("div",{children:[A.jsx("span",{className:"font-semibold",children:"Line:"})," ",M.line]}),A.jsxs("div",{children:[A.jsx("span",{className:"font-semibold",children:"Head:"})," ",M.head||""]}),A.jsxs("div",{children:[A.jsx("span",{className:"font-semibold",children:"Issue:"})," ",M.issue||""]}),A.jsxs("div",{children:[A.jsx("span",{className:"font-semibold",children:"Running:"})," ",M.running]}),A.jsxs("div",{children:[A.jsx("span",{className:"font-semibold",children:"Repaired:"})," ",M.repaired||""]}),A.jsxs("div",{children:[A.jsx("span",{className:"font-semibold",children:"Past Failures:"})," ",M.head?(b.get(`${M.line}-Head ${M.head}`)||0)>0?A.jsx("button",{onClick:()=>P(M.line,M.head),className:"underline text-blue-700 hover:text-blue-900",title:"Show past failures",children:b.get(`${M.line}-Head ${M.head}`)}):"0":"-"]}),A.jsx("div",{}),A.jsxs("div",{className:"col-span-2",children:[A.jsx("span",{className:"font-semibold",children:"Notes:"})," ",M.notes||""]})]})})]})},M.key)})}),k&&A.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-[1000] p-4",children:A.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-2xl w-full",children:[A.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[A.jsx("h3",{className:"font-semibold dark:text-gray-100",children:j}),A.jsx("button",{onClick:()=>T(!1),className:"px-2 py-1 rounded hover:bg-gray-100 dark:hover:bg-gray-700 dark:text-gray-200",children:""})]}),A.jsx("div",{className:"p-4 max-h-[60vh] overflow-auto",children:H.length===0?A.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"No entries."}):A.jsxs("table",{className:"w-full table-auto border-collapse",children:[A.jsx("thead",{children:A.jsxs("tr",{className:"bg-gray-100 dark:bg-gray-700 text-sm",children:[A.jsx("th",{className:"border dark:border-gray-600 dark:text-gray-200 p-2",children:"Date"}),A.jsx("th",{className:"border dark:border-gray-600 dark:text-gray-200 p-2",children:"Issue"}),A.jsx("th",{className:"border dark:border-gray-600 dark:text-gray-200 p-2",children:"Repaired"}),A.jsx("th",{className:"border dark:border-gray-600 dark:text-gray-200 p-2",children:"Notes"})]})}),A.jsx("tbody",{children:H.map((M,Q)=>A.jsxs("tr",{className:"text-sm",children:[A.jsx("td",{className:"border dark:border-gray-600 dark:text-gray-200 p-2 text-center",children:M.date}),A.jsx("td",{className:"border dark:border-gray-600 dark:text-gray-200 p-2 text-center",children:M.issue||"None"}),A.jsx("td",{className:"border dark:border-gray-600 dark:text-gray-200 p-2 text-center",children:M.repaired||"Not Fixed"}),A.jsx("td",{className:"border dark:border-gray-600 dark:text-gray-200 p-2",children:M.notes||""})]},Q))})]})}),A.jsx("div",{className:"p-3 border-t text-right",children:A.jsx("button",{onClick:()=>T(!1),className:"px-3 py-1 bg-blue-600 text-white rounded",children:"Close"})})]})})]})})}let Gm=null;try{Gm=require("../context/DatesContext").useDates}catch{Gm=null}_f.register(BR,sv,iv);const Ry=14,j2=[{name:"PC Line",lines:Array.from({length:7},(n,e)=>`Line ${e+1}`)},{name:"Pellet Line",lines:Array.from({length:3},(n,e)=>`Line ${e+8}`)},{name:"Extruded",lines:Array.from({length:6},(n,e)=>`Line ${e+11}`)},{name:"Hand Kettle",lines:Array.from({length:7},(n,e)=>`Line ${e+17}`)},{name:"Twin Screw",lines:Array.from({length:8},(n,e)=>`Line ${e+24}`)},{name:"Sheeted 1",lines:Array.from({length:6},(n,e)=>`Line ${e+32}`)},{name:"Sheeted 2",lines:Array.from({length:2},(n,e)=>`Line ${e+38}`)}],bo=["None","Chute","Operator","Load Cell","Detached Head","Stepper Motor Error","Hopper Issues","Installed Wrong","Other"],F2={None:"#E0E0E0",Chute:"#FF6384",Operator:"#36A2EB","Load Cell":"#FFCE56","Detached Head":"#4BC0C0","Stepper Motor Error":"#9966FF","Hopper Issues":"#FF9F40","Installed Wrong":"#4CAF50",Other:"#9CA3AF"},B2=()=>Array.from({length:Ry},(n,e)=>({head:e+1,offline:"Active",issue:"None",repaired:"Not Fixed",notes:""}));function lU({data:n={},dates:e=[]}){let t;try{Gm&&(t=Gm()?.dates)}catch{t=void 0}let i=[];try{const V=localStorage.getItem("downtimeLoggerDates"),oe=V?JSON.parse(V):[];Array.isArray(oe)&&(i=oe)}catch{}const s=Object.keys(n||{}).sort((V,oe)=>new Date(oe)-new Date(V)).slice(0,5),a=Array.isArray(t)&&t.length?t:Array.isArray(e)&&e.length?e:i.length?i:s,[l,c]=de.useState(a.length?a[0]:"");de.useEffect(()=>{a&&a.length>0&&!a.includes(l)&&c(a[0])},[a,l]);const h=V=>n?.[V]||{},f=(V,oe)=>h(V)?.[oe]||{heads:B2(),running:!1},{headsDownData:p,perSectionTotals:m,efficiencies:b,totals:y,issueCountsAllDays:N,issueCountsPerDay:E}=de.useMemo(()=>{const V=a.length?l==="All Days"?a:[l]:[],oe={},ae={},K={},Y={offline:0,fixed:0,notFixed:0},ue=bo.reduce((M,Q)=>(M[Q]=0,M),{}),P={};return(a||[]).forEach(M=>{P[M]=bo.reduce((Q,ne)=>(Q[ne]=0,Q),{})}),j2.forEach(M=>{ae[M.name]={offline:0,fixed:0,notFixed:0};let Q=0,ne=0,pe=0;M.lines.forEach(ce=>{oe[ce]=oe[ce]||{},V.forEach(J=>{const _e=f(J,ce),F=_e.heads?.length?_e.heads:B2();if(!_e.running){oe[ce][J]={offline:0,fixed:0,notFixed:0};return}const w=F.filter(Z=>(Z.offline??"Active")!=="Active").length,D=F.filter(Z=>(Z.offline??"Active")!=="Active"&&(Z.repaired??"Not Fixed")==="Fixed").length,z=w-D;oe[ce][J]={offline:w,fixed:D,notFixed:z},Y.offline+=w,Y.fixed+=D,Y.notFixed+=z,ae[M.name].offline+=w,ae[M.name].fixed+=D,ae[M.name].notFixed+=z,Q+=Ry,ne+=Ry-w,pe+=D,F.filter(Z=>(Z.offline??"Active")!=="Active").forEach(Z=>{const le=Z.issue||"None";ue[le]=(ue[le]||0)+1,P[J][le]=(P[J][le]||0)+1})})});const $=Q>0?(ne/Q*100).toFixed(2):"0.00",re=Q>0?((ne+pe)/Q*100).toFixed(2):"0.00";K[M.name]={totalEfficiency:$,fixedEfficiency:re}}),{headsDownData:oe,perSectionTotals:ae,efficiencies:K,totals:Y,issueCountsAllDays:ue,issueCountsPerDay:P}},[n,a,l]),[k,T]=de.useState([]),j=V=>T(oe=>oe.includes(V)?oe.filter(ae=>ae!==V):[...oe,V]),q=l==="All Days"?{labels:bo.filter(V=>(N[V]||0)>0),datasets:[{data:bo.filter(V=>(N[V]||0)>0).map(V=>N[V]),backgroundColor:bo.filter(V=>(N[V]||0)>0).map(V=>F2[V]),hoverOffset:4}]}:{labels:bo.filter(V=>(E[l]?.[V]||0)>0),datasets:[{data:bo.filter(V=>(E[l]?.[V]||0)>0).map(V=>E[l][V]),backgroundColor:bo.filter(V=>(E[l]?.[V]||0)>0).map(V=>F2[V]),hoverOffset:4}]},H=de.useMemo(()=>(a||[]).map(V=>{const oe=bo.reduce((K,Y)=>(K[Y]=0,K),{});j2.forEach(K=>{K.lines.forEach(Y=>{const ue=f(V,Y);if(!ue.running)return;(ue.heads?.length?ue.heads:B2()).filter(M=>(M.offline??"Active")!=="Active").forEach(M=>{const Q=M.issue||"None";oe[Q]=(oe[Q]||0)+1})})});const ae=bo.filter(K=>(oe[K]||0)>0);return ae.length?{date:V,data:{labels:ae,datasets:[{data:ae.map(K=>oe[K]),backgroundColor:ae.map(K=>F2[K]),hoverOffset:4}]}}:null}).filter(Boolean),[n,a]);return A.jsx(Vu,{children:A.jsxs("div",{className:"max-w-4xl mx-auto p-6 bg-white dark:bg-gray-800 rounded-lg shadow-md md:p-4 sm:p-2",children:[A.jsx("h2",{className:"text-2xl font-semibold text-center mb-4 sm:text-xl dark:text-gray-100",children:"Dashboard"}),A.jsxs("div",{className:"flex flex-wrap justify-center gap-4 mb-6 text-center",children:[A.jsxs("div",{className:"bg-red-100 text-red-700 px-4 py-2 rounded-lg shadow",children:[A.jsx("p",{className:"font-bold text-lg",children:y.offline}),A.jsx("p",{children:"Heads Offline"})]}),A.jsxs("div",{className:"bg-blue-100 text-blue-700 px-4 py-2 rounded-lg shadow",children:[A.jsx("p",{className:"font-bold text-lg",children:y.fixed}),A.jsx("p",{children:"Heads Fixed"})]}),A.jsxs("div",{className:"bg-yellow-100 text-yellow-700 px-4 py-2 rounded-lg shadow",children:[A.jsx("p",{className:"font-bold text-lg",children:y.notFixed}),A.jsx("p",{children:"Not Fixed"})]})]}),A.jsxs("div",{className:"flex justify-between mb-4",children:[A.jsx(hs,{to:"/logger",className:"px-4 py-2 bg-blue-500 text-white rounded sm:px-2 sm:py-1",children:"Back to Logger"}),A.jsx(hs,{to:"/summary",className:"px-4 py-2 bg-blue-500 text-white rounded sm:px-2 sm:py-1",children:"View Summary"}),A.jsx(hs,{to:"/running",className:"px-4 py-2 bg-purple-500 text-white rounded sm:px-2 sm:py-1",children:"Running"})]}),A.jsxs("div",{className:"flex justify-center items-center mb-4 space-x-4 sm:flex-col sm:space-x-0 sm:space-y-2",children:[A.jsx("label",{className:"font-medium dark:text-gray-200",children:"Select Date:"}),A.jsxs("select",{value:l,onChange:V=>c(V.target.value),className:"border dark:border-gray-600 dark:bg-gray-700 dark:text-gray-200 p-2 rounded sm:w-full",children:[a.length?A.jsx("option",{value:"All Days",children:"All Days"}):null,(a||[]).map(V=>A.jsx("option",{value:V,children:V},V)),!a.length&&A.jsx("option",{value:"",children:"No dates"})]})]}),A.jsxs("div",{className:"mt-6",children:[A.jsx("h3",{className:"text-xl font-semibold mb-2 text-center sm:text-lg dark:text-gray-100",children:"Heads Down Summary"}),a.length?j2.map(V=>A.jsxs("div",{className:"mb-4",children:[A.jsxs("div",{className:"flex flex-wrap items-center justify-between bg-gray-200 dark:bg-gray-700 p-2 cursor-pointer rounded gap-2",onClick:()=>j(V.name),children:[A.jsxs("h4",{className:"text-lg font-medium sm:text-base dark:text-gray-100",children:[V.name," (Total: ",b[V.name]?.totalEfficiency??"0.00","%, Fixed: ",b[V.name]?.fixedEfficiency??"0.00","%)"]}),A.jsxs("div",{className:"flex flex-wrap gap-2",children:[A.jsxs("span",{className:"bg-red-100 text-red-700 px-2 py-1 rounded text-sm",children:["Offline: ",A.jsx("b",{children:m[V.name]?.offline??0})]}),A.jsxs("span",{className:"bg-blue-100 text-blue-700 px-2 py-1 rounded text-sm",children:["Fixed: ",A.jsx("b",{children:m[V.name]?.fixed??0})]}),A.jsxs("span",{className:"bg-yellow-100 text-yellow-700 px-2 py-1 rounded text-sm",children:["Not Fixed: ",A.jsx("b",{children:m[V.name]?.notFixed??0})]})]}),A.jsx("svg",{className:`w-5 h-5 transition-transform ${k.includes(V.name)?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})]}),k.includes(V.name)&&A.jsx("div",{className:"mt-2 pl-4",children:V.lines.map(oe=>{const ae=l==="All Days"?(a||[]).filter(K=>p[oe]?.[K]):p[oe]?.[l]?[l]:[];return ae.length?A.jsxs("div",{className:"mb-4",children:[A.jsx("h5",{className:"text-base font-medium sm:text-sm dark:text-gray-100",children:oe}),A.jsxs("table",{className:"w-full table-auto border-collapse",children:[A.jsx("thead",{children:A.jsxs("tr",{className:"bg-gray-100 dark:bg-gray-700",children:[A.jsx("th",{className:"p-2 text-center border dark:border-gray-600 dark:text-gray-200 sm:p-1 sm:text-sm",children:"Date"}),A.jsx("th",{className:"p-2 text-center border dark:border-gray-600 dark:text-gray-200 sm:p-1 sm:text-sm",children:"Offline Heads"}),A.jsx("th",{className:"p-2 text-center border dark:border-gray-600 dark:text-gray-200 sm:p-1 sm:text-sm",children:"Fixed Heads"}),A.jsx("th",{className:"p-2 text-center border dark:border-gray-600 dark:text-gray-200 sm:p-1 sm:text-sm",children:"Not Fixed"})]})}),A.jsx("tbody",{children:ae.slice().sort((K,Y)=>new Date(K)-new Date(Y)).map(K=>A.jsxs("tr",{children:[A.jsx("td",{className:"p-2 text-center border dark:border-gray-600 dark:text-gray-200 sm:p-1 sm:text-sm",children:K}),A.jsx("td",{className:"p-2 text-center border dark:border-gray-600 dark:text-gray-200 sm:p-1 sm:text-sm",children:p[oe][K].offline}),A.jsx("td",{className:"p-2 text-center border dark:border-gray-600 dark:text-gray-200 sm:p-1 sm:text-sm",children:p[oe][K].fixed}),A.jsx("td",{className:"p-2 text-center border dark:border-gray-600 dark:text-gray-200 sm:p-1 sm:text-sm",children:p[oe][K].notFixed})]},K))})]})]},oe):null})})]},V.name)):A.jsx("p",{className:"text-center text-gray-600 dark:text-gray-400 sm:text-sm",children:"No dates found. Enter data in Main Logger first."})]}),A.jsxs("div",{className:"mt-6",children:[A.jsx("h3",{className:"text-xl font-semibold mb-2 text-center sm:text-lg dark:text-gray-100",children:"Issue Type Distribution"}),q.labels?.length?A.jsx("div",{className:"max-w-md mx-auto",children:A.jsx(Kx,{data:q,options:{responsive:!0,plugins:{legend:{position:"top"},title:{display:!0,text:`Issue Types  ${l==="All Days"?"All Days":l}`}}}})}):A.jsx("p",{className:"text-center text-gray-600 dark:text-gray-400 sm:text-sm",children:"No issues to display."})]}),A.jsxs("div",{className:"mt-6",children:[A.jsx("h3",{className:"text-xl font-semibold mb-2 text-center sm:text-lg dark:text-gray-100",children:"Issue Type Distribution Per Day"}),H.length===0?A.jsx("p",{className:"text-center text-gray-600 dark:text-gray-400 sm:text-sm",children:"No issues to display for any day."}):A.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:H.map(V=>A.jsxs("div",{className:"max-w-md mx-auto",children:[A.jsx("h4",{className:"text-lg font-medium text-center sm:text-base mb-2 dark:text-gray-100",children:V.date}),A.jsx(Kx,{data:V.data,options:{responsive:!0,plugins:{legend:{position:"top"},title:{display:!0,text:`Issue Types  ${V.date}`}}}})]},V.date))})]})]})})}const cC=14,cU=()=>Array.from({length:cC},(n,e)=>({head:e+1,offline:"Active",issue:"None",repaired:"Not Fixed",notes:""})),uU=n=>(n?.offline??"Active")==="Active"?"bg-green-500":(n?.issue??"None")==="WDU Replacement"?"bg-purple-500":(n?.repaired??"Not Fixed")==="Fixed"?"bg-orange-500":"bg-red-500";function hU({data:n={},dates:e}){let t;try{t=J3()}catch{t=null}const i=t?.dates??e??[],s=$m(),[a,l]=de.useState(()=>i?.[0]||"");de.useEffect(()=>{i&&i.length>0&&!i.includes(a)&&l(i[0])},[i,a]);const c=de.useMemo(()=>Array.from({length:39},(m,b)=>`Line ${b+1}`),[]),h=n?.[a]||{},f=de.useMemo(()=>c.map(m=>{const b=h?.[m]||{};if(!b?.running)return null;const y=b.heads&&b.heads.length?b.heads:cU(),N=y.filter(k=>(k.offline??"Active")!=="Active"),E=N.filter(k=>(k.repaired??"Not Fixed")==="Fixed");return{line:m,heads:y,offlineCount:N.length,fixedCount:E.length,notFixedCount:N.length-E.length}}).filter(Boolean),[c,h]),p=(m,b=null)=>{s("/logger",{state:{selectedDate:a,selectedLine:m,selectedHead:b}})};return A.jsx(Vu,{children:A.jsxs("div",{className:"max-w-6xl mx-auto p-6 bg-white dark:bg-gray-800 rounded-lg shadow-md md:p-4 sm:p-2",children:[A.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-2 mb-4",children:[A.jsx("h2",{className:"text-2xl font-semibold sm:text-xl dark:text-gray-100",children:"Running Heads"}),A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx("label",{className:"font-medium text-sm dark:text-gray-200",children:"Date:"}),A.jsx("select",{value:a,onChange:m=>l(m.target.value),className:"border dark:border-gray-600 dark:bg-gray-700 dark:text-gray-200 p-2 rounded sm:p-1 sm:text-sm",children:(i||[]).map(m=>A.jsx("option",{value:m,children:m},m))})]})]}),A.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-4",children:[A.jsx(hs,{to:"/logger",className:"px-4 py-2 bg-blue-500 text-white rounded sm:px-2 sm:py-1",children:"Back to Logger"}),A.jsx(hs,{to:"/summary",className:"px-4 py-2 bg-emerald-600 text-white rounded sm:px-2 sm:py-1",children:"Summary"}),A.jsx(hs,{to:"/dashboard",className:"px-4 py-2 bg-indigo-600 text-white rounded sm:px-2 sm:py-1",children:"Dashboard"})]}),!a||f.length===0?A.jsx("p",{className:"text-center text-gray-600 dark:text-gray-400 sm:text-sm",children:a?"No lines marked Running for this date.":"Please select a date."}):A.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:f.map(({line:m,heads:b,offlineCount:y,fixedCount:N,notFixedCount:E})=>A.jsxs("div",{className:"border dark:border-gray-600 rounded-lg p-4 hover:shadow cursor-pointer transition",onClick:()=>p(m),children:[A.jsxs("div",{className:"flex items-center justify-between gap-2 mb-3",children:[A.jsx("h3",{className:"text-lg font-semibold dark:text-gray-100",children:m}),A.jsxs("div",{className:"flex flex-wrap gap-2 text-sm",children:[A.jsxs("span",{className:"bg-red-100 text-red-700 px-2 py-1 rounded",children:["Offline: ",A.jsx("b",{children:y})]}),A.jsxs("span",{className:"bg-orange-100 text-orange-700 px-2 py-1 rounded",children:["Fixed: ",A.jsx("b",{children:N})]}),A.jsxs("span",{className:"bg-yellow-100 text-yellow-700 px-2 py-1 rounded",children:["Not Fixed: ",A.jsx("b",{children:E})]})]})]}),A.jsx("div",{className:"grid grid-cols-7 gap-2",children:b.slice(0,cC).map(k=>A.jsx("button",{onClick:T=>{T.stopPropagation(),p(m,k.head)},className:`h-7 rounded-full flex items-center justify-center text-white text-xs hover:opacity-80 transition ${uU(k)}`,title:`Head ${k.head}  ${k.offline==="Active"?"Active":k.repaired==="Fixed"?"Fixed":"Offline"}  ${k.issue||"None"}  Click to view in logger`,children:k.head},k.head))})]},m))})]})})}function fU(){const{line:n,head:e}=rk(),[t,i]=de.useState([]),[s,a]=de.useState(!0);return de.useEffect(()=>{const l=localStorage.getItem("currentHistoryView")||localStorage.getItem("importedHistory");if(l)try{const h=JSON.parse(l).filter(f=>f.line===n&&String(f.head)===e).sort((f,p)=>new Date(f.date)-new Date(p.date));i(h)}catch(c){console.error("Failed to parse history",c)}a(!1)},[n,e]),s?A.jsx("div",{className:"text-center p-8",children:"Loading..."}):A.jsx(Vu,{children:A.jsxs("div",{className:"max-w-5xl mx-auto p-6 bg-white dark:bg-gray-800 rounded-lg shadow-md",children:[A.jsxs("div",{className:"flex justify-between items-center mb-6",children:[A.jsxs("h2",{className:"text-2xl font-bold dark:text-gray-100",children:["Failure History: ",n,"  Head ",e]}),A.jsx(hs,{to:"/summary",className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:" Back to Summary"})]}),t.length===0?A.jsx("p",{className:"text-center text-gray-600 dark:text-gray-400",children:"No historical failures found."}):A.jsx("div",{className:"overflow-x-auto",children:A.jsxs("table",{className:"w-full table-auto border-collapse",children:[A.jsx("thead",{children:A.jsxs("tr",{className:"bg-gray-100",children:[A.jsx("th",{className:"p-2 border text-center",children:"Date"}),A.jsx("th",{className:"p-2 border text-center",children:"Issue"}),A.jsx("th",{className:"p-2 border text-center",children:"Repaired"}),A.jsx("th",{className:"p-2 border text-center",children:"Notes"})]})}),A.jsx("tbody",{children:t.map((l,c)=>A.jsxs("tr",{className:l.repaired==="Fixed"?"bg-orange-100":"bg-red-100",children:[A.jsx("td",{className:"p-2 border text-center",children:l.date}),A.jsx("td",{className:"p-2 border text-center",children:l.issue}),A.jsx("td",{className:"p-2 border text-center",children:l.repaired}),A.jsx("td",{className:"p-2 border max-w-xs whitespace-normal",children:l.notes||""})]},c))})]})})]})})}const dU=h0(Dl),$g=Ep(Dl),pU="jti-downtime",gU=`${pU}/head-history`,z2=()=>cp(dU,gU),Cd=["None","Chute","Operator","Load Cell","Detached Head","Stepper Motor Error","Hopper Issues","Installed Wrong","WDU Replacement","Other"],U2=["Not Fixed","Fixed"],mU=n=>{const e=(n.date??"").trim(),t=(n.line??"").trim(),i=n.head===""||n.head===void 0||n.head===null?"":String(n.head).trim(),s=(n.issue??"").trim(),a=(n.repaired??"").trim(),l=(n.notes??"").trim(),c=(n.replacementReason??"").trim();return i?`H|${e}|${t}|${i}|${s}|${a}|${l}|${c}`:`MN|${e}|${t}|${l}`},yU=n=>{let e=5381;for(let t=0;t<n.length;t++)e=(e<<5)+e^n.charCodeAt(t);return(e>>>0).toString(16)},xu=n=>{const e=mU(n);return`${e.startsWith("MN|")?"MN":"H"}_${yU(e)}`},D3=n=>n&&typeof n=="object"&&n.date&&n.line&&("head"in n||n.notes),ll=n=>({date:(n.date??"").trim(),line:(n.line??"").trim(),head:n.head===""||n.head===void 0||n.head===null?"":String(n.head).trim(),issue:(n.issue??(n.head?"None":"")).trim(),repaired:(n.repaired??(n.head?"Not Fixed":"")).trim(),notes:(n.notes??"").trim(),replacementReason:(n.replacementReason??"").trim()});function vU(){const[n,e]=de.useState({}),[t,i]=de.useState(!1),[s,a]=de.useState(""),[l,c]=de.useState(!1),[h,f]=de.useState(""),[p,m]=de.useState({date:"",line:"",head:"",issue:"",repaired:""}),[b,y]=de.useState(!1),[N,E]=de.useState(()=>window.innerWidth<=768?"cards":"table"),[k,T]=de.useState(!1),[j,q]=de.useState(!1),[H,V]=de.useState(null),[oe,ae]=de.useState(null),[K,Y]=de.useState({date:"",line:"Line 1",head:"",issue:"None",repaired:"Not Fixed",notes:"",replacementReason:""}),[ue,P]=de.useState({date:"",line:"Line 1",notes:""});de.useEffect(()=>{let w=!1;return(async()=>{try{$g.currentUser||await mf($g),w||i(!0)}catch(D){console.warn("Anonymous auth failed:",D),w||(i(!0),a("Anonymous auth failed; cloud features may be limited."))}})(),()=>{w=!0}},[]),de.useEffect(()=>{if(!t)return;let w=!1;return(async()=>{c(!0);try{const D=await gf(z2());if(!D.exists()){w||(e({}),a(""));return}const z=D.val(),Z=Array.isArray(z)?Object.fromEntries(z.filter(Boolean).map(le=>[xu(le),ll(le)])):Object.fromEntries(Object.entries(z||{}).map(([le,ve])=>[le,ll(ve)]));w||(e(Z),a(""))}catch(D){console.warn("Load head-history failed:",D),w||a("Cannot read Head History (permission denied or network).")}finally{w||c(!1)}})(),()=>{w=!0}},[t]);const M=de.useMemo(()=>{const w=Object.entries(n).map(([z,Z])=>({id:z,...Z})),D=z=>{if(b&&(z.head??"")!==""||p.date&&z.date!==p.date||p.line&&z.line!==p.line||p.head&&String(z.head??"")!==String(p.head)||p.issue&&(z.issue??"")!==p.issue||p.repaired&&(z.repaired??"")!==p.repaired)return!1;if(h.trim()){const Z=h.toLowerCase();if(!`${z.date} ${z.line} ${z.head??""} ${z.issue??""} ${z.repaired??""} ${z.notes??""}`.toLowerCase().includes(Z))return!1}return!0};return w.filter(D).sort((z,Z)=>{const le=new Date(Z.date)-new Date(z.date);if(le!==0)return le;const ve=parseInt((z.line||"").replace("Line ",""),10)||0,Ne=parseInt((Z.line||"").replace("Line ",""),10)||0;if(ve!==Ne)return ve-Ne;const Ce=parseInt(z.head||"0",10)||0,Pe=parseInt(Z.head||"0",10)||0;return Ce-Pe})},[n,p,h,b]),Q=w=>{const D=w.target.files?.[0];if(!D)return;const z=new FileReader;z.onload=()=>{try{const Z=JSON.parse(z.result);let le={};if(Array.isArray(Z))Z.forEach(Ne=>{if(!D3(Ne))return;const Ce=xu(Ne);le[Ce]=ll(Ne)});else if(Z&&typeof Z=="object"){const Ne=Z.data&&typeof Z.data=="object"?Z.data:Z;Object.entries(Ne).forEach(([Ce,Pe])=>{if(!D3(Pe))return;const $e=Ce||xu(Pe);le[$e]=ll(Pe)})}else throw new Error("Unrecognized JSON format.");const ve=Object.keys(le).length;if(!ve){alert("No valid entries found in file."),w.target.value="";return}e(Ne=>({...Ne,...le})),alert(`Imported ${ve} entries to local history (not yet saved to cloud).`)}catch(Z){alert("Import failed: "+Z.message)}finally{w.target.value=""}},z.readAsText(D)},ne=()=>{const w=n,D=new Blob([JSON.stringify(w,null,2)],{type:"application/json"}),z=URL.createObjectURL(D),Z=document.createElement("a");Z.href=z,Z.download="head-history.json",Z.click(),URL.revokeObjectURL(z)},pe=async()=>{try{$g.currentUser||await mf($g),await Uv(z2(),n),alert(`Saved ${Object.keys(n).length} entries to cloud.`),a("")}catch(w){console.warn("Save to cloud failed:",w),a("Save failed (permission/network)."),alert("Save failed: "+w.message)}},$=async()=>{if(confirm("Load from cloud and replace the in-memory list? (This will NOT delete cloud data.)"))try{c(!0);const w=await gf(z2());if(!w.exists()){e({}),alert("No cloud history found.");return}const D=w.val(),z=Array.isArray(D)?Object.fromEntries(D.filter(Boolean).map(Z=>[xu(Z),ll(Z)])):Object.fromEntries(Object.entries(D||{}).map(([Z,le])=>[Z,ll(le)]));e(z),a(""),alert(`Loaded ${Object.keys(z).length} entries from cloud.`)}catch(w){console.warn("Refresh failed:",w),a("Refresh failed (permission/network)."),alert("Refresh failed: "+w.message)}finally{c(!1)}},re=()=>{const w=ll(K);if(!w.date||!w.line||!w.head){alert("Please fill Date, Line, and Head.");return}const D=xu(w);e(z=>({...z,[D]:w})),T(!1)},ce=()=>{const w=ll({...ue,head:""});if(!w.date||!w.line||!w.notes){alert("Please fill Date, Line, and Notes.");return}const D=xu(w);e(z=>({...z,[D]:w})),q(!1)},J=()=>{V(null),ae(null)},_e=()=>{if(!oe)return;const w=ll(oe);if(!w.date||!w.line||w.head===""&&!w.notes){w.head===""?alert("Please fill Date, Line, and Notes for a machine note."):alert("Please fill Date, Line, and Head.");return}const D=xu(w);e(z=>{const Z={...z};return delete Z[H],Z[D]=w,Z}),J()},F=w=>{confirm("Delete this entry from local list? (Save to push changes to cloud)")&&e(D=>{const z={...D};return delete z[w],z})};return A.jsx(Vu,{children:A.jsxs("div",{className:"max-w-6xl mx-auto p-6 bg-white dark:bg-gray-800 rounded-lg shadow-md md:p-4 sm:p-2",children:[A.jsx("h2",{className:"text-2xl font-semibold text-center mb-2 sm:text-xl dark:text-gray-100",children:"Head History"}),s&&A.jsx("div",{className:"mb-3 text-sm text-yellow-800 bg-yellow-50 border border-yellow-200 rounded px-3 py-2",children:s}),A.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2 mb-3",children:[A.jsxs("div",{className:"flex gap-2 flex-wrap",children:[A.jsx(hs,{to:"/logger",className:"px-4 py-2 bg-blue-500 text-white rounded sm:px-2 sm:py-1",children:"Back to Logger"}),A.jsx(hs,{to:"/summary",className:"px-4 py-2 bg-indigo-600 text-white rounded sm:px-2 sm:py-1",children:"Back to Summary"})]}),A.jsx("input",{type:"text",placeholder:"Search",className:"border dark:border-gray-600 dark:bg-gray-700 dark:text-gray-200 rounded px-3 py-1 w-full sm:w-72",value:h,onChange:w=>f(w.target.value)}),A.jsxs("div",{className:"flex gap-2 flex-wrap",children:[A.jsx("label",{htmlFor:"import-json",className:"px-3 py-2 bg-green-600 text-white rounded text-sm cursor-pointer",children:"Import JSON"}),A.jsx("input",{id:"import-json",type:"file",accept:".json",hidden:!0,onChange:Q}),A.jsx("button",{onClick:ne,className:"px-3 py-2 bg-sky-600 text-white rounded text-sm",children:"Export JSON"}),A.jsx("button",{onClick:pe,disabled:!t,className:"px-3 py-2 bg-emerald-600 text-white rounded text-sm disabled:opacity-50",children:"Save"}),A.jsx("button",{onClick:$,className:"px-3 py-2 bg-cyan-600 text-white rounded text-sm",children:l?"Loading":"Refresh"})]})]}),A.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-3",children:[A.jsx("input",{type:"date",className:"border dark:border-gray-600 dark:bg-gray-700 dark:text-gray-200 rounded px-2 py-1",value:p.date,onChange:w=>m(D=>({...D,date:w.target.value}))}),A.jsxs("select",{className:"border dark:border-gray-600 dark:bg-gray-700 dark:text-gray-200 rounded px-2 py-1",value:p.line,onChange:w=>m(D=>({...D,line:w.target.value})),children:[A.jsx("option",{value:"",children:"All Lines"}),Array.from({length:39},(w,D)=>`Line ${D+1}`).map(w=>A.jsx("option",{value:w,children:w},w))]}),A.jsx("input",{type:"number",min:"1",placeholder:"Head #",className:"border dark:border-gray-600 dark:bg-gray-700 dark:text-gray-200 rounded px-2 py-1 w-24",value:p.head,onChange:w=>m(D=>({...D,head:w.target.value}))}),A.jsxs("select",{className:"border dark:border-gray-600 dark:bg-gray-700 dark:text-gray-200 rounded px-2 py-1",value:p.issue,onChange:w=>m(D=>({...D,issue:w.target.value})),children:[A.jsx("option",{value:"",children:"All Issues"}),Cd.map(w=>A.jsx("option",{value:w,children:w},w))]}),A.jsxs("select",{className:"border dark:border-gray-600 dark:bg-gray-700 dark:text-gray-200 rounded px-2 py-1",value:p.repaired,onChange:w=>m(D=>({...D,repaired:w.target.value})),children:[A.jsx("option",{value:"",children:"Repaired: Any"}),U2.map(w=>A.jsx("option",{value:w,children:w},w))]}),A.jsxs("label",{className:"flex items-center gap-2 ml-2",children:[A.jsx("input",{type:"checkbox",checked:b,onChange:w=>y(w.target.checked)}),A.jsx("span",{className:"text-sm dark:text-gray-200",children:"Machine notes only"})]}),A.jsx("button",{className:"ml-auto px-3 py-1 bg-gray-200 rounded text-sm",onClick:()=>{m({date:"",line:"",head:"",issue:"",repaired:""}),f(""),y(!1)},children:"Clear Filters"})]}),A.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[A.jsx("button",{className:"px-3 py-2 bg-purple-600 text-white rounded text-sm",onClick:()=>T(!0),children:"+ Add Head Entry"}),A.jsx("button",{className:"px-3 py-2 bg-amber-600 text-white rounded text-sm",onClick:()=>q(!0),children:"+ Add Machine Note"})]}),A.jsx("div",{className:"flex justify-end mb-3",children:A.jsxs("div",{className:"inline-flex rounded-md shadow-sm",role:"group",children:[A.jsx("button",{onClick:()=>E("table"),className:`px-4 py-2 text-sm font-medium border ${N==="table"?"bg-blue-600 text-white border-blue-600":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"} rounded-l-lg`,children:"Table"}),A.jsx("button",{onClick:()=>E("cards"),className:`px-4 py-2 text-sm font-medium border-t border-b border-r ${N==="cards"?"bg-blue-600 text-white border-blue-600":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"} rounded-r-lg`,children:"Cards"})]})}),M.length===0?A.jsx("p",{className:"text-center text-gray-600 dark:text-gray-400 sm:text-sm",children:"No history to display."}):N==="table"?A.jsx("div",{className:"overflow-x-auto",children:A.jsxs("table",{className:"w-full table-auto border-collapse min-w-max",children:[A.jsx("thead",{children:A.jsx("tr",{className:"bg-gray-100 dark:bg-gray-700",children:["Date","Line","Head","Issue","Repaired","Notes","Actions"].map(w=>A.jsx("th",{className:"p-2 text-center border dark:border-gray-600 dark:text-gray-200 sm:p-1 sm:text-sm",children:w},w))})}),A.jsx("tbody",{children:M.map(w=>{const D=(w.head??"")==="",z=D?"bg-yellow-50":w.issue==="WDU Replacement"?"bg-purple-500":w.repaired==="Fixed"?"bg-orange-200":"bg-red-200";return A.jsxs("tr",{className:z,children:[A.jsx("td",{className:"p-2 text-center border dark:border-gray-600 sm:p-1 sm:text-sm",children:w.date}),A.jsx("td",{className:"p-2 text-center border dark:border-gray-600 sm:p-1 sm:text-sm",children:w.line}),A.jsx("td",{className:"p-2 text-center border dark:border-gray-600 sm:p-1 sm:text-sm",children:D?"":w.head}),A.jsxs("td",{className:"p-2 text-center border dark:border-gray-600 sm:p-1 sm:text-sm",children:[D?"":w.issue||"None",w.issue==="WDU Replacement"&&w.replacementReason&&A.jsxs("div",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1",children:["(",w.replacementReason,")"]})]}),A.jsx("td",{className:"p-2 text-center border dark:border-gray-600 sm:p-1 sm:text-sm",children:D?"":w.repaired||"Not Fixed"}),A.jsx("td",{className:"p-2 border sm:p-1 sm:text-sm max-w-md whitespace-normal",children:w.notes||(D?"(Machine Note)":"")}),A.jsx("td",{className:"p-2 text-center border dark:border-gray-600 sm:p-1 sm:text-sm",children:A.jsxs("div",{className:"flex justify-center gap-2",children:[A.jsx("button",{className:"px-2 py-1 bg-gray-700 text-white rounded text-xs",onClick:()=>{V(w.id),ae({date:w.date,line:w.line,head:w.head??"",issue:w.head?w.issue||"None":"",repaired:w.head?w.repaired||"Not Fixed":"",notes:w.notes||"",replacementReason:w.replacementReason||""})},children:"Edit"}),A.jsx("button",{className:"px-2 py-1 bg-rose-600 text-white rounded text-xs",onClick:()=>F(w.id),children:"Delete"})]})})]},w.id)})})]})}):A.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:M.map(w=>{const D=(w.head??"")==="",z=D?"bg-yellow-50":w.issue==="WDU Replacement"?"bg-purple-500":w.repaired==="Fixed"?"bg-orange-200":"bg-red-200";return A.jsxs("div",{className:`${z} border dark:border-gray-600 rounded-lg p-4 shadow-sm`,children:[A.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm mb-3",children:[A.jsxs("div",{children:[A.jsx("span",{className:"font-semibold",children:"Date:"})," ",w.date]}),A.jsxs("div",{children:[A.jsx("span",{className:"font-semibold",children:"Line:"})," ",w.line]}),A.jsxs("div",{children:[A.jsx("span",{className:"font-semibold",children:"Head:"})," ",D?"":w.head]}),A.jsxs("div",{className:"col-span-2",children:[A.jsx("span",{className:"font-semibold",children:"Issue:"})," ",D?"":w.issue||"None",w.issue==="WDU Replacement"&&w.replacementReason&&A.jsxs("span",{className:"text-xs text-gray-600 dark:text-gray-400 ml-2",children:["(",w.replacementReason,")"]})]}),A.jsxs("div",{children:[A.jsx("span",{className:"font-semibold",children:"Repaired:"})," ",D?"":w.repaired||"Not Fixed"]}),A.jsx("div",{}),A.jsx("div",{}),A.jsxs("div",{className:"col-span-2",children:[A.jsx("span",{className:"font-semibold",children:"Notes:"})," ",w.notes||(D?"(Machine Note)":"")]})]}),A.jsxs("div",{className:"flex gap-2 pt-2 border-t",children:[A.jsx("button",{className:"px-3 py-1 bg-gray-700 text-white rounded text-sm flex-1",onClick:()=>{V(w.id),ae({date:w.date,line:w.line,head:w.head??"",issue:w.head?w.issue||"None":"",repaired:w.head?w.repaired||"Not Fixed":"",notes:w.notes||"",replacementReason:w.replacementReason||""})},children:"Edit"}),A.jsx("button",{className:"px-3 py-1 bg-rose-600 text-white rounded text-sm flex-1",onClick:()=>F(w.id),children:"Delete"})]})]},w.id)})}),k&&A.jsx("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center p-4 z-50",children:A.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-4 w-full max-w-md",children:[A.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Add Head Entry"}),A.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[A.jsxs("div",{className:"col-span-2",children:[A.jsx("label",{className:"block text-sm font-medium mb-1",children:"Date"}),A.jsx("input",{type:"date",className:"w-full border dark:border-gray-600 dark:bg-gray-700 dark:text-gray-200 rounded px-2 py-1",value:K.date,onChange:w=>Y(D=>({...D,date:w.target.value}))})]}),A.jsxs("div",{className:"col-span-2",children:[A.jsx("label",{className:"block text-sm font-medium mb-1",children:"Line"}),A.jsx("select",{className:"w-full border dark:border-gray-600 dark:bg-gray-700 dark:text-gray-200 rounded px-2 py-1",value:K.line,onChange:w=>Y(D=>({...D,line:w.target.value})),children:Array.from({length:39},(w,D)=>`Line ${D+1}`).map(w=>A.jsx("option",{value:w,children:w},w))})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium mb-1",children:"Head #"}),A.jsx("input",{type:"number",min:"1",className:"w-full border dark:border-gray-600 dark:bg-gray-700 dark:text-gray-200 rounded px-2 py-1",value:K.head,onChange:w=>Y(D=>({...D,head:w.target.value}))})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium mb-1",children:"Repaired"}),A.jsx("select",{className:"w-full border dark:border-gray-600 dark:bg-gray-700 dark:text-gray-200 rounded px-2 py-1",value:K.repaired,onChange:w=>Y(D=>({...D,repaired:w.target.value})),children:U2.map(w=>A.jsx("option",{value:w,children:w},w))})]}),A.jsxs("div",{className:"col-span-2",children:[A.jsx("label",{className:"block text-sm font-medium mb-1",children:"Issue"}),A.jsx("select",{className:"w-full border dark:border-gray-600 dark:bg-gray-700 dark:text-gray-200 rounded px-2 py-1",value:K.issue,onChange:w=>Y(D=>({...D,issue:w.target.value,replacementReason:w.target.value==="WDU Replacement"?D.replacementReason:""})),children:Cd.map(w=>A.jsx("option",{value:w,children:w},w))})]}),K.issue==="WDU Replacement"&&A.jsxs("div",{className:"col-span-2",children:[A.jsx("label",{className:"block text-sm font-medium mb-1",children:"Replacement Reason"}),A.jsxs("select",{className:"w-full border dark:border-gray-600 dark:bg-gray-700 dark:text-gray-200 rounded px-2 py-1",value:K.replacementReason,onChange:w=>Y(D=>({...D,replacementReason:w.target.value})),children:[A.jsx("option",{value:"",children:"Select reason..."}),Cd.filter(w=>w!=="None"&&w!=="WDU Replacement").map(w=>A.jsx("option",{value:w,children:w},w))]})]}),A.jsxs("div",{className:"col-span-2",children:[A.jsx("label",{className:"block text-sm font-medium mb-1",children:"Notes"}),A.jsx("textarea",{rows:3,className:"w-full border dark:border-gray-600 dark:bg-gray-700 dark:text-gray-200 rounded px-2 py-1",value:K.notes,onChange:w=>Y(D=>({...D,notes:w.target.value}))})]})]}),A.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[A.jsx("button",{className:"px-3 py-1 bg-gray-200 rounded",onClick:()=>T(!1),children:"Cancel"}),A.jsx("button",{className:"px-3 py-1 bg-purple-600 text-white rounded",onClick:re,children:"Add"})]})]})}),j&&A.jsx("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center p-4 z-50",children:A.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-4 w-full max-w-md",children:[A.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Add Machine Note"}),A.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[A.jsxs("div",{className:"col-span-2",children:[A.jsx("label",{className:"block text-sm font-medium mb-1",children:"Date"}),A.jsx("input",{type:"date",className:"w-full border dark:border-gray-600 dark:bg-gray-700 dark:text-gray-200 rounded px-2 py-1",value:ue.date,onChange:w=>P(D=>({...D,date:w.target.value}))})]}),A.jsxs("div",{className:"col-span-2",children:[A.jsx("label",{className:"block text-sm font-medium mb-1",children:"Line"}),A.jsx("select",{className:"w-full border dark:border-gray-600 dark:bg-gray-700 dark:text-gray-200 rounded px-2 py-1",value:ue.line,onChange:w=>P(D=>({...D,line:w.target.value})),children:Array.from({length:39},(w,D)=>`Line ${D+1}`).map(w=>A.jsx("option",{value:w,children:w},w))})]}),A.jsxs("div",{className:"col-span-2",children:[A.jsx("label",{className:"block text-sm font-medium mb-1",children:"Notes"}),A.jsx("textarea",{rows:4,className:"w-full border dark:border-gray-600 dark:bg-gray-700 dark:text-gray-200 rounded px-2 py-1",value:ue.notes,onChange:w=>P(D=>({...D,notes:w.target.value}))})]})]}),A.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[A.jsx("button",{className:"px-3 py-1 bg-gray-200 rounded",onClick:()=>q(!1),children:"Cancel"}),A.jsx("button",{className:"px-3 py-1 bg-amber-600 text-white rounded",onClick:ce,children:"Add"})]})]})}),H&&oe&&A.jsx("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center p-4 z-50",children:A.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-4 w-full max-w-md",children:[A.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Edit Entry"}),A.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[A.jsxs("div",{className:"col-span-2",children:[A.jsx("label",{className:"block text-sm font-medium mb-1",children:"Date"}),A.jsx("input",{type:"date",className:"w-full border dark:border-gray-600 dark:bg-gray-700 dark:text-gray-200 rounded px-2 py-1",value:oe.date,onChange:w=>ae(D=>({...D,date:w.target.value}))})]}),A.jsxs("div",{className:"col-span-2",children:[A.jsx("label",{className:"block text-sm font-medium mb-1",children:"Line"}),A.jsx("select",{className:"w-full border dark:border-gray-600 dark:bg-gray-700 dark:text-gray-200 rounded px-2 py-1",value:oe.line,onChange:w=>ae(D=>({...D,line:w.target.value})),children:Array.from({length:39},(w,D)=>`Line ${D+1}`).map(w=>A.jsx("option",{value:w,children:w},w))})]}),oe.head===""?A.jsx(A.Fragment,{children:A.jsxs("div",{className:"col-span-2",children:[A.jsx("label",{className:"block text-sm font-medium mb-1",children:"Notes"}),A.jsx("textarea",{rows:4,className:"w-full border dark:border-gray-600 dark:bg-gray-700 dark:text-gray-200 rounded px-2 py-1",value:oe.notes,onChange:w=>ae(D=>({...D,notes:w.target.value}))})]})}):A.jsxs(A.Fragment,{children:[A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium mb-1",children:"Head #"}),A.jsx("input",{type:"number",min:"1",className:"w-full border dark:border-gray-600 dark:bg-gray-700 dark:text-gray-200 rounded px-2 py-1",value:oe.head,onChange:w=>ae(D=>({...D,head:w.target.value}))})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium mb-1",children:"Repaired"}),A.jsx("select",{className:"w-full border dark:border-gray-600 dark:bg-gray-700 dark:text-gray-200 rounded px-2 py-1",value:oe.repaired,onChange:w=>ae(D=>({...D,repaired:w.target.value})),children:U2.map(w=>A.jsx("option",{value:w,children:w},w))})]}),A.jsxs("div",{className:"col-span-2",children:[A.jsx("label",{className:"block text-sm font-medium mb-1",children:"Issue"}),A.jsx("select",{className:"w-full border dark:border-gray-600 dark:bg-gray-700 dark:text-gray-200 rounded px-2 py-1",value:oe.issue,onChange:w=>ae(D=>({...D,issue:w.target.value,replacementReason:w.target.value==="WDU Replacement"?D.replacementReason:""})),children:Cd.map(w=>A.jsx("option",{value:w,children:w},w))})]}),oe.issue==="WDU Replacement"&&A.jsxs("div",{className:"col-span-2",children:[A.jsx("label",{className:"block text-sm font-medium mb-1",children:"Replacement Reason"}),A.jsxs("select",{className:"w-full border dark:border-gray-600 dark:bg-gray-700 dark:text-gray-200 rounded px-2 py-1",value:oe.replacementReason,onChange:w=>ae(D=>({...D,replacementReason:w.target.value})),children:[A.jsx("option",{value:"",children:"Select reason..."}),Cd.filter(w=>w!=="None"&&w!=="WDU Replacement").map(w=>A.jsx("option",{value:w,children:w},w))]})]}),A.jsxs("div",{className:"col-span-2",children:[A.jsx("label",{className:"block text-sm font-medium mb-1",children:"Notes"}),A.jsx("textarea",{rows:3,className:"w-full border dark:border-gray-600 dark:bg-gray-700 dark:text-gray-200 rounded px-2 py-1",value:oe.notes,onChange:w=>ae(D=>({...D,notes:w.target.value}))})]})]})]}),A.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[A.jsx("button",{className:"px-3 py-1 bg-gray-200 rounded",onClick:J,children:"Cancel"}),A.jsx("button",{className:"px-3 py-1 bg-blue-600 text-white rounded",onClick:_e,children:"Save"})]})]})})]})})}_f.register(U4,H4,P4,XR,KR,B4,sv,iv);const bU=h0(Dl),_U=Ep(Dl),xU="jti-downtime",wU=`${xU}/head-history`,M3=[{value:"issues-by-type",label:"Issues by Type Over Time"},{value:"error-type-breakdown",label:"Error Type Breakdown"},{value:"issues-per-head",label:"Issues per Head Number"},{value:"issues-per-line",label:"Issues per Line"},{value:"fixed-vs-not-fixed",label:"Fixed vs Not Fixed Trend"},{value:"avg-heads-down",label:"Average Heads Down Per Day"}],cl=["Chute","Operator","Load Cell","Detached Head","Stepper Motor Error","Hopper Issues","Installed Wrong","WDU Replacement","Other"],ul={Chute:"#ef4444",Operator:"#f97316","Load Cell":"#eab308","Detached Head":"#84cc16","Stepper Motor Error":"#22c55e","Hopper Issues":"#14b8a6","Installed Wrong":"#06b6d4","WDU Replacement":"#a855f7",Other:"#8b5cf6",Fixed:"#10b981","Not Fixed":"#ef4444"};function SU(){const n=To(),e=$m(),[t,i]=de.useState([]),[s,a]=de.useState(!0),[l,c]=de.useState(""),[h,f]=de.useState("issues-by-type"),[p,m]=de.useState(()=>{const J=new Date;return J.setDate(J.getDate()-30),J.toISOString().split("T")[0]}),[b,y]=de.useState(()=>new Date().toISOString().split("T")[0]),[N,E]=de.useState(n.state?.line||"all"),[k,T]=de.useState("all"),[j,q]=de.useState(()=>document.documentElement.classList.contains("dark"));de.useEffect(()=>{mf(_U).catch(J=>c(J.message))},[]),de.useEffect(()=>{const J=new MutationObserver(()=>{q(document.documentElement.classList.contains("dark"))});return J.observe(document.documentElement,{attributes:!0,attributeFilter:["class"]}),()=>J.disconnect()},[]),de.useEffect(()=>{(async()=>{a(!0);try{const _e=await gf(cp(bU,wU));if(_e.exists()){const F=_e.val(),w=Object.entries(F).map(([D,z])=>({id:D,...z})).filter(D=>D.head);i(w)}}catch(_e){c("Failed to load data: "+_e.message)}finally{a(!1)}})()},[]);const H=de.useMemo(()=>t.filter(J=>{const _e=J.date;return!(_e<p||_e>b||N!=="all"&&J.line!==N||k!=="all"&&String(J.head)!==String(k)||J.issue==="None")}),[t,p,b,N,k]),V=de.useMemo(()=>{const J=new Set(t.map(F=>F.line));return["all",...Array.from(J).sort((F,w)=>{if(F==="Unknown")return 1;if(w==="Unknown")return-1;const D=parseInt(F.match(/\d+/)?.[0]||"0"),z=parseInt(w.match(/\d+/)?.[0]||"0");return D-z})]},[t]),oe=de.useMemo(()=>{const J=new Set(t.map(_e=>String(_e.head)).filter(_e=>_e&&_e!=="undefined"));return["all",...Array.from(J).sort((_e,F)=>Number(_e)-Number(F))]},[t]),ae=de.useMemo(()=>{const J={};return cl.forEach(_e=>J[_e]=0),H.forEach(_e=>{cl.includes(_e.issue)&&J[_e.issue]++}),J},[H]),K=()=>{const J=new Date;J.setDate(J.getDate()-30),m(J.toISOString().split("T")[0]),y(new Date().toISOString().split("T")[0]),E("all"),T("all"),f("issues-by-type")},Y=()=>{const J={};H.forEach(w=>{J[w.date]||(J[w.date]={},cl.forEach(D=>J[w.date][D]=0)),cl.includes(w.issue)&&J[w.date][w.issue]++});const _e=Object.keys(J).sort(),F=cl.map(w=>({label:w,data:_e.map(D=>J[D][w]),backgroundColor:ul[w],borderColor:ul[w],borderWidth:1}));return{labels:_e,datasets:F}},ue=()=>{const J={};H.forEach(F=>{const w=F.head||"Unknown";J[w]=(J[w]||0)+1});const _e=Object.keys(J).sort((F,w)=>F==="Unknown"?1:w==="Unknown"?-1:Number(F)-Number(w));return{labels:_e.map(F=>`Head ${F}`),datasets:[{label:"Total Issues",data:_e.map(F=>J[F]),backgroundColor:"#3b82f6",borderColor:"#2563eb",borderWidth:1}]}},P=()=>{const J={};H.forEach(F=>{const w=F.line||"Unknown";J[w]=(J[w]||0)+1});const _e=Object.keys(J).sort((F,w)=>{if(F==="Unknown")return 1;if(w==="Unknown")return-1;const D=parseInt(F.match(/\d+/)?.[0]||"0"),z=parseInt(w.match(/\d+/)?.[0]||"0");return D-z});return{labels:_e,datasets:[{label:"Total Issues",data:_e.map(F=>J[F]),backgroundColor:"#10b981",borderColor:"#059669",borderWidth:1}]}},M=()=>{const J={};H.forEach(F=>{J[F.date]||(J[F.date]={Fixed:0,"Not Fixed":0});const w=F.repaired==="Fixed"?"Fixed":"Not Fixed";J[F.date][w]++});const _e=Object.keys(J).sort();return{labels:_e,datasets:[{label:"Fixed",data:_e.map(F=>J[F].Fixed),backgroundColor:ul.Fixed,borderColor:ul.Fixed,borderWidth:2,fill:!1},{label:"Not Fixed",data:_e.map(F=>J[F]["Not Fixed"]),backgroundColor:ul["Not Fixed"],borderColor:ul["Not Fixed"],borderWidth:2,fill:!1}]}},Q=()=>{const J={};H.forEach(w=>{const D=`${w.date}-${w.line}`;J[D]||(J[D]={date:w.date,line:w.line,heads:new Set}),J[D].heads.add(w.head)});const _e={};Object.values(J).forEach(({date:w,heads:D})=>{_e[w]||(_e[w]={totalHeads:0,lineCount:0}),_e[w].totalHeads+=D.size,_e[w].lineCount+=1});const F=Object.keys(_e).sort();return{labels:F,datasets:[{label:"Avg Heads Down Per Day",data:F.map(w=>{const D=_e[w].totalHeads/_e[w].lineCount;return parseFloat(D.toFixed(2))}),backgroundColor:"#3b82f6",borderColor:"#2563eb",borderWidth:2,fill:!1}]}},ne=()=>{const J={};cl.forEach(F=>J[F]=0),H.forEach(F=>{cl.includes(F.issue)&&J[F.issue]++});const _e=cl.filter(F=>J[F]>0);return{labels:_e,datasets:[{label:"Error Count",data:_e.map(F=>J[F]),backgroundColor:_e.map(F=>ul[F]),borderColor:_e.map(F=>ul[F]),borderWidth:1}]}},$=(()=>{switch(h){case"issues-by-type":return Y();case"error-type-breakdown":return ne();case"issues-per-head":return ue();case"issues-per-line":return P();case"fixed-vs-not-fixed":return M();case"avg-heads-down":return Q();default:return{labels:[],datasets:[]}}})(),re=h==="fixed-vs-not-fixed"||h==="avg-heads-down"?E7:G4,ce=de.useMemo(()=>{const J=j?"#e5e7eb":"#1f2937",_e=j?"#4b5563":"#e5e7eb";return{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top",labels:{color:J}},title:{display:!0,text:M3.find(F=>F.value===h)?.label||"Head Issues Chart",font:{size:16},color:J},tooltip:{mode:"index",intersect:!1}},scales:{x:{stacked:h==="issues-by-type",grid:{display:!1,color:_e},ticks:{color:J}},y:{stacked:h==="issues-by-type",beginAtZero:!0,ticks:{stepSize:1,color:J},grid:{color:_e}}}}},[h,j]);return A.jsx(Vu,{children:A.jsxs("div",{className:"p-6 bg-white dark:bg-gray-800 rounded-lg shadow-md max-w-7xl mx-auto",children:[A.jsxs("div",{className:"mb-5 flex justify-between items-center flex-wrap gap-4",children:[A.jsx("h1",{className:"m-0 text-2xl font-semibold dark:text-gray-100",children:"Head Issues Analysis"}),A.jsx("button",{onClick:()=>e("/logger"),className:"px-4 py-2 bg-gray-600 dark:bg-gray-700 text-white border-none rounded-md cursor-pointer hover:bg-gray-700 dark:hover:bg-gray-600",children:" Back to Logger"})]}),A.jsxs("div",{className:"bg-white dark:bg-gray-700 p-5 rounded-lg shadow mb-5",children:[A.jsxs("div",{className:"grid grid-cols-[repeat(auto-fit,minmax(200px,1fr))] gap-4",children:[A.jsxs("div",{children:[A.jsx("label",{className:"block mb-1 text-sm font-medium dark:text-gray-200",children:"Chart Type"}),A.jsx("select",{value:h,onChange:J=>f(J.target.value),className:"w-full p-2 border dark:border-gray-600 dark:bg-gray-600 dark:text-gray-200 rounded-md text-sm",children:M3.map(J=>A.jsx("option",{value:J.value,children:J.label},J.value))})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block mb-1 text-sm font-medium dark:text-gray-200",children:"Start Date"}),A.jsx("input",{type:"date",value:p,onChange:J=>m(J.target.value),className:"w-full p-2 border dark:border-gray-600 dark:bg-gray-600 dark:text-gray-200 rounded-md text-sm"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block mb-1 text-sm font-medium dark:text-gray-200",children:"End Date"}),A.jsx("input",{type:"date",value:b,onChange:J=>y(J.target.value),className:"w-full p-2 border dark:border-gray-600 dark:bg-gray-600 dark:text-gray-200 rounded-md text-sm"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block mb-1 text-sm font-medium dark:text-gray-200",children:"Line"}),A.jsx("select",{value:N,onChange:J=>E(J.target.value),className:"w-full p-2 border dark:border-gray-600 dark:bg-gray-600 dark:text-gray-200 rounded-md text-sm",children:V.map(J=>A.jsx("option",{value:J,children:J==="all"?"All Lines":J},J))})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block mb-1 text-sm font-medium dark:text-gray-200",children:"Head"}),A.jsx("select",{value:k,onChange:J=>T(J.target.value),className:"w-full p-2 border dark:border-gray-600 dark:bg-gray-600 dark:text-gray-200 rounded-md text-sm",children:oe.map(J=>A.jsx("option",{value:J,children:J==="all"?"All Heads":`Head ${J}`},J))})]})]}),A.jsxs("div",{className:"mt-4 flex justify-between items-start flex-wrap gap-4",children:[A.jsxs("div",{className:"flex-1 min-w-[200px]",children:[A.jsxs("div",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:["Total Issues: ",H.length]}),A.jsx("div",{className:"grid grid-cols-2 gap-2 text-xs text-gray-600 dark:text-gray-400",children:cl.map(J=>ae[J]>0&&A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx("span",{className:"inline-block w-3 h-3 rounded-sm",style:{backgroundColor:ul[J]}}),A.jsxs("span",{children:[J,": ",ae[J]]})]},J))})]}),A.jsx("button",{onClick:K,className:"px-4 py-2 bg-blue-600 dark:bg-blue-700 text-white text-sm font-medium border-none rounded-md cursor-pointer hover:bg-blue-700 dark:hover:bg-blue-600",children:"Reset Filters"})]})]}),A.jsx("div",{className:"bg-white dark:bg-gray-700 p-5 rounded-lg shadow h-[500px]",children:s?A.jsx("div",{className:"flex items-center justify-center h-full dark:text-gray-200",children:"Loading data..."}):l?A.jsx("div",{className:"flex items-center justify-center h-full text-red-500 dark:text-red-400",children:l}):H.length===0?A.jsx("div",{className:"flex items-center justify-center h-full text-gray-600 dark:text-gray-400",children:"No data available for the selected filters"}):A.jsx(re,{data:$,options:ce},j?"dark":"light")})]})})}function NU(){const[n,e]=de.useState(()=>{const t=localStorage.getItem("downtimeLoggerData");return t?JSON.parse(t):{}});return de.useEffect(()=>{localStorage.setItem("downtimeLoggerData",JSON.stringify(n))},[n]),A.jsx(qk,{children:A.jsx(eT,{children:A.jsxs(_k,{children:[A.jsx(hl,{path:"/",element:A.jsx(cS,{data:n,setData:e})}),A.jsx(hl,{path:"/logger",element:A.jsx(cS,{data:n,setData:e})}),A.jsx(hl,{path:"/summary",element:A.jsx(oU,{data:n})}),A.jsx(hl,{path:"/dashboard",element:A.jsx(lU,{data:n})}),A.jsx(hl,{path:"/running",element:A.jsx(hU,{data:n})}),A.jsx(hl,{path:"/history/:line/:head",element:A.jsx(fU,{})}),A.jsx(hl,{path:"/head-history",element:A.jsx(vU,{})}),A.jsx(hl,{path:"/issues-chart",element:A.jsx(SU,{})})]})})})}EE.createRoot(document.getElementById("root")).render(A.jsx(My.StrictMode,{children:A.jsx(NU,{})}));export{Ln as _,AU as c,O3 as g};
