(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function t(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=t(s);fetch(s.href,o)}})();var YL=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function QS(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var qg={exports:{}},xh={};var Qy;function XS(){if(Qy)return xh;Qy=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,s,o){var u=null;if(o!==void 0&&(u=""+o),s.key!==void 0&&(u=""+s.key),"key"in s){o={};for(var c in s)c!=="key"&&(o[c]=s[c])}else o=s;return s=o.ref,{$$typeof:n,type:r,key:u,ref:s!==void 0?s:null,props:o}}return xh.Fragment=e,xh.jsx=t,xh.jsxs=t,xh}var Xy;function JS(){return Xy||(Xy=1,qg.exports=XS()),qg.exports}var I=JS(),Hg={exports:{}},pn={};var Jy;function ZS(){if(Jy)return pn;Jy=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),S=Symbol.iterator;function w(Y){return Y===null||typeof Y!="object"?null:(Y=S&&Y[S]||Y["@@iterator"],typeof Y=="function"?Y:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},M=Object.assign,j={};function D(Y,P,K){this.props=Y,this.context=P,this.refs=j,this.updater=K||T}D.prototype.isReactComponent={},D.prototype.setState=function(Y,P){if(typeof Y!="object"&&typeof Y!="function"&&Y!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Y,P,"setState")},D.prototype.forceUpdate=function(Y){this.updater.enqueueForceUpdate(this,Y,"forceUpdate")};function Q(){}Q.prototype=D.prototype;function W(Y,P,K){this.props=Y,this.context=P,this.refs=j,this.updater=K||T}var re=W.prototype=new Q;re.constructor=W,M(re,D.prototype),re.isPureReactComponent=!0;var ye=Array.isArray;function _e(){}var z={H:null,A:null,T:null,S:null},V=Object.prototype.hasOwnProperty;function L(Y,P,K){var te=K.ref;return{$$typeof:n,type:Y,key:P,ref:te!==void 0?te:null,props:K}}function H(Y,P){return L(Y.type,P,Y.props)}function N(Y){return typeof Y=="object"&&Y!==null&&Y.$$typeof===n}function O(Y){var P={"=":"=0",":":"=2"};return"$"+Y.replace(/[=:]/g,function(K){return P[K]})}var F=/\/+/g;function ce(Y,P){return typeof Y=="object"&&Y!==null&&Y.key!=null?O(""+Y.key):P.toString(36)}function Ce(Y){switch(Y.status){case"fulfilled":return Y.value;case"rejected":throw Y.reason;default:switch(typeof Y.status=="string"?Y.then(_e,_e):(Y.status="pending",Y.then(function(P){Y.status==="pending"&&(Y.status="fulfilled",Y.value=P)},function(P){Y.status==="pending"&&(Y.status="rejected",Y.reason=P)})),Y.status){case"fulfilled":return Y.value;case"rejected":throw Y.reason}}throw Y}function le(Y,P,K,te,ue){var fe=typeof Y;(fe==="undefined"||fe==="boolean")&&(Y=null);var ve=!1;if(Y===null)ve=!0;else switch(fe){case"bigint":case"string":case"number":ve=!0;break;case"object":switch(Y.$$typeof){case n:case e:ve=!0;break;case g:return ve=Y._init,le(ve(Y._payload),P,K,te,ue)}}if(ve)return ue=ue(Y),ve=te===""?"."+ce(Y,0):te,ye(ue)?(K="",ve!=null&&(K=ve.replace(F,"$&/")+"/"),le(ue,P,K,"",function($e){return $e})):ue!=null&&(N(ue)&&(ue=H(ue,K+(ue.key==null||Y&&Y.key===ue.key?"":(""+ue.key).replace(F,"$&/")+"/")+ve)),P.push(ue)),1;ve=0;var Te=te===""?".":te+":";if(ye(Y))for(var Me=0;Me<Y.length;Me++)te=Y[Me],fe=Te+ce(te,Me),ve+=le(te,P,K,fe,ue);else if(Me=w(Y),typeof Me=="function")for(Y=Me.call(Y),Me=0;!(te=Y.next()).done;)te=te.value,fe=Te+ce(te,Me++),ve+=le(te,P,K,fe,ue);else if(fe==="object"){if(typeof Y.then=="function")return le(Ce(Y),P,K,te,ue);throw P=String(Y),Error("Objects are not valid as a React child (found: "+(P==="[object Object]"?"object with keys {"+Object.keys(Y).join(", ")+"}":P)+"). If you meant to render a collection of children, use an array instead.")}return ve}function me(Y,P,K){if(Y==null)return Y;var te=[],ue=0;return le(Y,te,"","",function(fe){return P.call(K,fe,ue++)}),te}function de(Y){if(Y._status===-1){var P=Y._result;P=P(),P.then(function(K){(Y._status===0||Y._status===-1)&&(Y._status=1,Y._result=K)},function(K){(Y._status===0||Y._status===-1)&&(Y._status=2,Y._result=K)}),Y._status===-1&&(Y._status=0,Y._result=P)}if(Y._status===1)return Y._result.default;throw Y._result}var Ie=typeof reportError=="function"?reportError:function(Y){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var P=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof Y=="object"&&Y!==null&&typeof Y.message=="string"?String(Y.message):String(Y),error:Y});if(!window.dispatchEvent(P))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",Y);return}console.error(Y)},Xe={map:me,forEach:function(Y,P,K){me(Y,function(){P.apply(this,arguments)},K)},count:function(Y){var P=0;return me(Y,function(){P++}),P},toArray:function(Y){return me(Y,function(P){return P})||[]},only:function(Y){if(!N(Y))throw Error("React.Children.only expected to receive a single React element child.");return Y}};return pn.Activity=_,pn.Children=Xe,pn.Component=D,pn.Fragment=t,pn.Profiler=s,pn.PureComponent=W,pn.StrictMode=r,pn.Suspense=h,pn.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=z,pn.__COMPILER_RUNTIME={__proto__:null,c:function(Y){return z.H.useMemoCache(Y)}},pn.cache=function(Y){return function(){return Y.apply(null,arguments)}},pn.cacheSignal=function(){return null},pn.cloneElement=function(Y,P,K){if(Y==null)throw Error("The argument must be a React element, but you passed "+Y+".");var te=M({},Y.props),ue=Y.key;if(P!=null)for(fe in P.key!==void 0&&(ue=""+P.key),P)!V.call(P,fe)||fe==="key"||fe==="__self"||fe==="__source"||fe==="ref"&&P.ref===void 0||(te[fe]=P[fe]);var fe=arguments.length-2;if(fe===1)te.children=K;else if(1<fe){for(var ve=Array(fe),Te=0;Te<fe;Te++)ve[Te]=arguments[Te+2];te.children=ve}return L(Y.type,ue,te)},pn.createContext=function(Y){return Y={$$typeof:u,_currentValue:Y,_currentValue2:Y,_threadCount:0,Provider:null,Consumer:null},Y.Provider=Y,Y.Consumer={$$typeof:o,_context:Y},Y},pn.createElement=function(Y,P,K){var te,ue={},fe=null;if(P!=null)for(te in P.key!==void 0&&(fe=""+P.key),P)V.call(P,te)&&te!=="key"&&te!=="__self"&&te!=="__source"&&(ue[te]=P[te]);var ve=arguments.length-2;if(ve===1)ue.children=K;else if(1<ve){for(var Te=Array(ve),Me=0;Me<ve;Me++)Te[Me]=arguments[Me+2];ue.children=Te}if(Y&&Y.defaultProps)for(te in ve=Y.defaultProps,ve)ue[te]===void 0&&(ue[te]=ve[te]);return L(Y,fe,ue)},pn.createRef=function(){return{current:null}},pn.forwardRef=function(Y){return{$$typeof:c,render:Y}},pn.isValidElement=N,pn.lazy=function(Y){return{$$typeof:g,_payload:{_status:-1,_result:Y},_init:de}},pn.memo=function(Y,P){return{$$typeof:d,type:Y,compare:P===void 0?null:P}},pn.startTransition=function(Y){var P=z.T,K={};z.T=K;try{var te=Y(),ue=z.S;ue!==null&&ue(K,te),typeof te=="object"&&te!==null&&typeof te.then=="function"&&te.then(_e,Ie)}catch(fe){Ie(fe)}finally{P!==null&&K.types!==null&&(P.types=K.types),z.T=P}},pn.unstable_useCacheRefresh=function(){return z.H.useCacheRefresh()},pn.use=function(Y){return z.H.use(Y)},pn.useActionState=function(Y,P,K){return z.H.useActionState(Y,P,K)},pn.useCallback=function(Y,P){return z.H.useCallback(Y,P)},pn.useContext=function(Y){return z.H.useContext(Y)},pn.useDebugValue=function(){},pn.useDeferredValue=function(Y,P){return z.H.useDeferredValue(Y,P)},pn.useEffect=function(Y,P){return z.H.useEffect(Y,P)},pn.useEffectEvent=function(Y){return z.H.useEffectEvent(Y)},pn.useId=function(){return z.H.useId()},pn.useImperativeHandle=function(Y,P,K){return z.H.useImperativeHandle(Y,P,K)},pn.useInsertionEffect=function(Y,P){return z.H.useInsertionEffect(Y,P)},pn.useLayoutEffect=function(Y,P){return z.H.useLayoutEffect(Y,P)},pn.useMemo=function(Y,P){return z.H.useMemo(Y,P)},pn.useOptimistic=function(Y,P){return z.H.useOptimistic(Y,P)},pn.useReducer=function(Y,P,K){return z.H.useReducer(Y,P,K)},pn.useRef=function(Y){return z.H.useRef(Y)},pn.useState=function(Y){return z.H.useState(Y)},pn.useSyncExternalStore=function(Y,P,K){return z.H.useSyncExternalStore(Y,P,K)},pn.useTransition=function(){return z.H.useTransition()},pn.version="19.2.1",pn}var Zy;function D1(){return Zy||(Zy=1,Hg.exports=ZS()),Hg.exports}var ke=D1();const eA=QS(ke);var $g={exports:{}},Sh={},Gg={exports:{}},Yg={};var e5;function tA(){return e5||(e5=1,(function(n){function e(le,me){var de=le.length;le.push(me);e:for(;0<de;){var Ie=de-1>>>1,Xe=le[Ie];if(0<s(Xe,me))le[Ie]=me,le[de]=Xe,de=Ie;else break e}}function t(le){return le.length===0?null:le[0]}function r(le){if(le.length===0)return null;var me=le[0],de=le.pop();if(de!==me){le[0]=de;e:for(var Ie=0,Xe=le.length,Y=Xe>>>1;Ie<Y;){var P=2*(Ie+1)-1,K=le[P],te=P+1,ue=le[te];if(0>s(K,de))te<Xe&&0>s(ue,K)?(le[Ie]=ue,le[te]=de,Ie=te):(le[Ie]=K,le[P]=de,Ie=P);else if(te<Xe&&0>s(ue,de))le[Ie]=ue,le[te]=de,Ie=te;else break e}}return me}function s(le,me){var de=le.sortIndex-me.sortIndex;return de!==0?de:le.id-me.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var u=Date,c=u.now();n.unstable_now=function(){return u.now()-c}}var h=[],d=[],g=1,_=null,S=3,w=!1,T=!1,M=!1,j=!1,D=typeof setTimeout=="function"?setTimeout:null,Q=typeof clearTimeout=="function"?clearTimeout:null,W=typeof setImmediate<"u"?setImmediate:null;function re(le){for(var me=t(d);me!==null;){if(me.callback===null)r(d);else if(me.startTime<=le)r(d),me.sortIndex=me.expirationTime,e(h,me);else break;me=t(d)}}function ye(le){if(M=!1,re(le),!T)if(t(h)!==null)T=!0,_e||(_e=!0,O());else{var me=t(d);me!==null&&Ce(ye,me.startTime-le)}}var _e=!1,z=-1,V=5,L=-1;function H(){return j?!0:!(n.unstable_now()-L<V)}function N(){if(j=!1,_e){var le=n.unstable_now();L=le;var me=!0;try{e:{T=!1,M&&(M=!1,Q(z),z=-1),w=!0;var de=S;try{t:{for(re(le),_=t(h);_!==null&&!(_.expirationTime>le&&H());){var Ie=_.callback;if(typeof Ie=="function"){_.callback=null,S=_.priorityLevel;var Xe=Ie(_.expirationTime<=le);if(le=n.unstable_now(),typeof Xe=="function"){_.callback=Xe,re(le),me=!0;break t}_===t(h)&&r(h),re(le)}else r(h);_=t(h)}if(_!==null)me=!0;else{var Y=t(d);Y!==null&&Ce(ye,Y.startTime-le),me=!1}}break e}finally{_=null,S=de,w=!1}me=void 0}}finally{me?O():_e=!1}}}var O;if(typeof W=="function")O=function(){W(N)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,ce=F.port2;F.port1.onmessage=N,O=function(){ce.postMessage(null)}}else O=function(){D(N,0)};function Ce(le,me){z=D(function(){le(n.unstable_now())},me)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(le){le.callback=null},n.unstable_forceFrameRate=function(le){0>le||125<le?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<le?Math.floor(1e3/le):5},n.unstable_getCurrentPriorityLevel=function(){return S},n.unstable_next=function(le){switch(S){case 1:case 2:case 3:var me=3;break;default:me=S}var de=S;S=me;try{return le()}finally{S=de}},n.unstable_requestPaint=function(){j=!0},n.unstable_runWithPriority=function(le,me){switch(le){case 1:case 2:case 3:case 4:case 5:break;default:le=3}var de=S;S=le;try{return me()}finally{S=de}},n.unstable_scheduleCallback=function(le,me,de){var Ie=n.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?Ie+de:Ie):de=Ie,le){case 1:var Xe=-1;break;case 2:Xe=250;break;case 5:Xe=1073741823;break;case 4:Xe=1e4;break;default:Xe=5e3}return Xe=de+Xe,le={id:g++,callback:me,priorityLevel:le,startTime:de,expirationTime:Xe,sortIndex:-1},de>Ie?(le.sortIndex=de,e(d,le),t(h)===null&&le===t(d)&&(M?(Q(z),z=-1):M=!0,Ce(ye,de-Ie))):(le.sortIndex=Xe,e(h,le),T||w||(T=!0,_e||(_e=!0,O()))),le},n.unstable_shouldYield=H,n.unstable_wrapCallback=function(le){var me=S;return function(){var de=S;S=me;try{return le.apply(this,arguments)}finally{S=de}}}})(Yg)),Yg}var t5;function nA(){return t5||(t5=1,Gg.exports=tA()),Gg.exports}var Wg={exports:{}},da={};var n5;function rA(){if(n5)return da;n5=1;var n=D1();function e(h){var d="https://react.dev/errors/"+h;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)d+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+h+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},s=Symbol.for("react.portal");function o(h,d,g){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:_==null?null:""+_,children:h,containerInfo:d,implementation:g}}var u=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(h,d){if(h==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return da.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,da.createPortal=function(h,d){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return o(h,d,null,g)},da.flushSync=function(h){var d=u.T,g=r.p;try{if(u.T=null,r.p=2,h)return h()}finally{u.T=d,r.p=g,r.d.f()}},da.preconnect=function(h,d){typeof h=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,r.d.C(h,d))},da.prefetchDNS=function(h){typeof h=="string"&&r.d.D(h)},da.preinit=function(h,d){if(typeof h=="string"&&d&&typeof d.as=="string"){var g=d.as,_=c(g,d.crossOrigin),S=typeof d.integrity=="string"?d.integrity:void 0,w=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;g==="style"?r.d.S(h,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:_,integrity:S,fetchPriority:w}):g==="script"&&r.d.X(h,{crossOrigin:_,integrity:S,fetchPriority:w,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},da.preinitModule=function(h,d){if(typeof h=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var g=c(d.as,d.crossOrigin);r.d.M(h,{crossOrigin:g,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&r.d.M(h)},da.preload=function(h,d){if(typeof h=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var g=d.as,_=c(g,d.crossOrigin);r.d.L(h,g,{crossOrigin:_,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},da.preloadModule=function(h,d){if(typeof h=="string")if(d){var g=c(d.as,d.crossOrigin);r.d.m(h,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:g,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else r.d.m(h)},da.requestFormReset=function(h){r.d.r(h)},da.unstable_batchedUpdates=function(h,d){return h(d)},da.useFormState=function(h,d,g){return u.H.useFormState(h,d,g)},da.useFormStatus=function(){return u.H.useHostTransitionStatus()},da.version="19.2.1",da}var r5;function iA(){if(r5)return Wg.exports;r5=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Wg.exports=rA(),Wg.exports}var i5;function aA(){if(i5)return Sh;i5=1;var n=nA(),e=D1(),t=iA();function r(i){var a="https://react.dev/errors/"+i;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)a+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+i+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function o(i){var a=i,l=i;if(i.alternate)for(;a.return;)a=a.return;else{i=a;do a=i,(a.flags&4098)!==0&&(l=a.return),i=a.return;while(i)}return a.tag===3?l:null}function u(i){if(i.tag===13){var a=i.memoizedState;if(a===null&&(i=i.alternate,i!==null&&(a=i.memoizedState)),a!==null)return a.dehydrated}return null}function c(i){if(i.tag===31){var a=i.memoizedState;if(a===null&&(i=i.alternate,i!==null&&(a=i.memoizedState)),a!==null)return a.dehydrated}return null}function h(i){if(o(i)!==i)throw Error(r(188))}function d(i){var a=i.alternate;if(!a){if(a=o(i),a===null)throw Error(r(188));return a!==i?null:i}for(var l=i,f=a;;){var v=l.return;if(v===null)break;var b=v.alternate;if(b===null){if(f=v.return,f!==null){l=f;continue}break}if(v.child===b.child){for(b=v.child;b;){if(b===l)return h(v),i;if(b===f)return h(v),a;b=b.sibling}throw Error(r(188))}if(l.return!==f.return)l=v,f=b;else{for(var R=!1,X=v.child;X;){if(X===l){R=!0,l=v,f=b;break}if(X===f){R=!0,f=v,l=b;break}X=X.sibling}if(!R){for(X=b.child;X;){if(X===l){R=!0,l=b,f=v;break}if(X===f){R=!0,f=b,l=v;break}X=X.sibling}if(!R)throw Error(r(189))}}if(l.alternate!==f)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?i:a}function g(i){var a=i.tag;if(a===5||a===26||a===27||a===6)return i;for(i=i.child;i!==null;){if(a=g(i),a!==null)return a;i=i.sibling}return null}var _=Object.assign,S=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),T=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),D=Symbol.for("react.profiler"),Q=Symbol.for("react.consumer"),W=Symbol.for("react.context"),re=Symbol.for("react.forward_ref"),ye=Symbol.for("react.suspense"),_e=Symbol.for("react.suspense_list"),z=Symbol.for("react.memo"),V=Symbol.for("react.lazy"),L=Symbol.for("react.activity"),H=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function O(i){return i===null||typeof i!="object"?null:(i=N&&i[N]||i["@@iterator"],typeof i=="function"?i:null)}var F=Symbol.for("react.client.reference");function ce(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===F?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case M:return"Fragment";case D:return"Profiler";case j:return"StrictMode";case ye:return"Suspense";case _e:return"SuspenseList";case L:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case T:return"Portal";case W:return i.displayName||"Context";case Q:return(i._context.displayName||"Context")+".Consumer";case re:var a=i.render;return i=i.displayName,i||(i=a.displayName||a.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case z:return a=i.displayName||null,a!==null?a:ce(i.type)||"Memo";case V:a=i._payload,i=i._init;try{return ce(i(a))}catch{}}return null}var Ce=Array.isArray,le=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de={pending:!1,data:null,method:null,action:null},Ie=[],Xe=-1;function Y(i){return{current:i}}function P(i){0>Xe||(i.current=Ie[Xe],Ie[Xe]=null,Xe--)}function K(i,a){Xe++,Ie[Xe]=i.current,i.current=a}var te=Y(null),ue=Y(null),fe=Y(null),ve=Y(null);function Te(i,a){switch(K(fe,a),K(ue,i),K(te,null),a.nodeType){case 9:case 11:i=(i=a.documentElement)&&(i=i.namespaceURI)?by(i):0;break;default:if(i=a.tagName,a=a.namespaceURI)a=by(a),i=wy(a,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}P(te),K(te,i)}function Me(){P(te),P(ue),P(fe)}function $e(i){i.memoizedState!==null&&K(ve,i);var a=te.current,l=wy(a,i.type);a!==l&&(K(ue,i),K(te,l))}function ut(i){ue.current===i&&(P(te),P(ue)),ve.current===i&&(P(ve),yh._currentValue=de)}var pt,mt;function _t(i){if(pt===void 0)try{throw Error()}catch(l){var a=l.stack.trim().match(/\n( *(at )?)/);pt=a&&a[1]||"",mt=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+pt+i+mt}var q=!1;function Oe(i,a){if(!i||q)return"";q=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var f={DetermineComponentFrameRoot:function(){try{if(a){var rt=function(){throw Error()};if(Object.defineProperty(rt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(rt,[])}catch(qe){var Ue=qe}Reflect.construct(i,[],rt)}else{try{rt.call()}catch(qe){Ue=qe}i.call(rt.prototype)}}else{try{throw Error()}catch(qe){Ue=qe}(rt=i())&&typeof rt.catch=="function"&&rt.catch(function(){})}}catch(qe){if(qe&&Ue&&typeof qe.stack=="string")return[qe.stack,Ue.stack]}return[null,null]}};f.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var v=Object.getOwnPropertyDescriptor(f.DetermineComponentFrameRoot,"name");v&&v.configurable&&Object.defineProperty(f.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var b=f.DetermineComponentFrameRoot(),R=b[0],X=b[1];if(R&&X){var he=R.split(`
`),Ve=X.split(`
`);for(v=f=0;f<he.length&&!he[f].includes("DetermineComponentFrameRoot");)f++;for(;v<Ve.length&&!Ve[v].includes("DetermineComponentFrameRoot");)v++;if(f===he.length||v===Ve.length)for(f=he.length-1,v=Ve.length-1;1<=f&&0<=v&&he[f]!==Ve[v];)v--;for(;1<=f&&0<=v;f--,v--)if(he[f]!==Ve[v]){if(f!==1||v!==1)do if(f--,v--,0>v||he[f]!==Ve[v]){var Qe=`
`+he[f].replace(" at new "," at ");return i.displayName&&Qe.includes("<anonymous>")&&(Qe=Qe.replace("<anonymous>",i.displayName)),Qe}while(1<=f&&0<=v);break}}}finally{q=!1,Error.prepareStackTrace=l}return(l=i?i.displayName||i.name:"")?_t(l):""}function it(i,a){switch(i.tag){case 26:case 27:case 5:return _t(i.type);case 16:return _t("Lazy");case 13:return i.child!==a&&a!==null?_t("Suspense Fallback"):_t("Suspense");case 19:return _t("SuspenseList");case 0:case 15:return Oe(i.type,!1);case 11:return Oe(i.type.render,!1);case 1:return Oe(i.type,!0);case 31:return _t("Activity");default:return""}}function Fe(i){try{var a="",l=null;do a+=it(i,l),l=i,i=i.return;while(i);return a}catch(f){return`
Error generating stack: `+f.message+`
`+f.stack}}var De=Object.prototype.hasOwnProperty,ft=n.unstable_scheduleCallback,ht=n.unstable_cancelCallback,vt=n.unstable_shouldYield,xt=n.unstable_requestPaint,Ut=n.unstable_now,Gt=n.unstable_getCurrentPriorityLevel,$t=n.unstable_ImmediatePriority,fn=n.unstable_UserBlockingPriority,sn=n.unstable_NormalPriority,Et=n.unstable_LowPriority,rn=n.unstable_IdlePriority,Ct=n.log,Kn=n.unstable_setDisableYieldValue,Yt=null,jt=null;function yt(i){if(typeof Ct=="function"&&Kn(i),jt&&typeof jt.setStrictMode=="function")try{jt.setStrictMode(Yt,i)}catch{}}var tn=Math.clz32?Math.clz32:zt,Lt=Math.log,Tn=Math.LN2;function zt(i){return i>>>=0,i===0?32:31-(Lt(i)/Tn|0)|0}var qt=256,vn=262144,Pt=4194304;function Rt(i){var a=i&42;if(a!==0)return a;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function J(i,a,l){var f=i.pendingLanes;if(f===0)return 0;var v=0,b=i.suspendedLanes,R=i.pingedLanes;i=i.warmLanes;var X=f&134217727;return X!==0?(f=X&~b,f!==0?v=Rt(f):(R&=X,R!==0?v=Rt(R):l||(l=X&~i,l!==0&&(v=Rt(l))))):(X=f&~b,X!==0?v=Rt(X):R!==0?v=Rt(R):l||(l=f&~i,l!==0&&(v=Rt(l)))),v===0?0:a!==0&&a!==v&&(a&b)===0&&(b=v&-v,l=a&-a,b>=l||b===32&&(l&4194048)!==0)?a:v}function ie(i,a){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&a)===0}function we(i,a){switch(i){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ze(){var i=Pt;return Pt<<=1,(Pt&62914560)===0&&(Pt=4194304),i}function lt(i){for(var a=[],l=0;31>l;l++)a.push(i);return a}function Ge(i,a){i.pendingLanes|=a,a!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Ft(i,a,l,f,v,b){var R=i.pendingLanes;i.pendingLanes=l,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=l,i.entangledLanes&=l,i.errorRecoveryDisabledLanes&=l,i.shellSuspendCounter=0;var X=i.entanglements,he=i.expirationTimes,Ve=i.hiddenUpdates;for(l=R&~l;0<l;){var Qe=31-tn(l),rt=1<<Qe;X[Qe]=0,he[Qe]=-1;var Ue=Ve[Qe];if(Ue!==null)for(Ve[Qe]=null,Qe=0;Qe<Ue.length;Qe++){var qe=Ue[Qe];qe!==null&&(qe.lane&=-536870913)}l&=~rt}f!==0&&Ae(i,f,0),b!==0&&v===0&&i.tag!==0&&(i.suspendedLanes|=b&~(R&~a))}function Ae(i,a,l){i.pendingLanes|=a,i.suspendedLanes&=~a;var f=31-tn(a);i.entangledLanes|=a,i.entanglements[f]=i.entanglements[f]|1073741824|l&261930}function Je(i,a){var l=i.entangledLanes|=a;for(i=i.entanglements;l;){var f=31-tn(l),v=1<<f;v&a|i[f]&a&&(i[f]|=a),l&=~v}}function We(i,a){var l=a&-a;return l=(l&42)!==0?1:Ze(l),(l&(i.suspendedLanes|a))!==0?0:l}function Ze(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function bt(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function en(){var i=me.p;return i!==0?i:(i=window.event,i===void 0?32:qy(i.type))}function On(i,a){var l=me.p;try{return me.p=i,a()}finally{me.p=l}}var lr=Math.random().toString(36).slice(2),bn="__reactFiber$"+lr,Qn="__reactProps$"+lr,_r="__reactContainer$"+lr,li="__reactEvents$"+lr,Mi="__reactListeners$"+lr,Oa="__reactHandles$"+lr,$i="__reactResources$"+lr,ui="__reactMarker$"+lr;function Sa(i){delete i[bn],delete i[Qn],delete i[li],delete i[Mi],delete i[Oa]}function _i(i){var a=i[bn];if(a)return a;for(var l=i.parentNode;l;){if(a=l[_r]||l[bn]){if(l=a.alternate,a.child!==null||l!==null&&l.child!==null)for(i=Ny(i);i!==null;){if(l=i[bn])return l;i=Ny(i)}return a}i=l,l=i.parentNode}return null}function Zr(i){if(i=i[bn]||i[_r]){var a=i.tag;if(a===5||a===6||a===13||a===31||a===26||a===27||a===3)return i}return null}function Gi(i){var a=i.tag;if(a===5||a===26||a===27||a===6)return i.stateNode;throw Error(r(33))}function oa(i){var a=i[$i];return a||(a=i[$i]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function Sr(i){i[ui]=!0}var xo=new Set,ki={};function la(i,a){Aa(i,a),Aa(i+"Capture",a)}function Aa(i,a){for(ki[i]=a,i=0;i<a.length;i++)xo.add(a[i])}var Ys=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),So={},Ao={};function nl(i){return De.call(Ao,i)?!0:De.call(So,i)?!1:Ys.test(i)?Ao[i]=!0:(So[i]=!0,!1)}function Yi(i,a,l){if(nl(a))if(l===null)i.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":i.removeAttribute(a);return;case"boolean":var f=a.toLowerCase().slice(0,5);if(f!=="data-"&&f!=="aria-"){i.removeAttribute(a);return}}i.setAttribute(a,""+l)}}function ci(i,a,l){if(l===null)i.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(a);return}i.setAttribute(a,""+l)}}function Rr(i,a,l,f){if(f===null)i.removeAttribute(l);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(l);return}i.setAttributeNS(a,l,""+f)}}function Sn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function ss(i){var a=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function ua(i,a,l){var f=Object.getOwnPropertyDescriptor(i.constructor.prototype,a);if(!i.hasOwnProperty(a)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var v=f.get,b=f.set;return Object.defineProperty(i,a,{configurable:!0,get:function(){return v.call(this)},set:function(R){l=""+R,b.call(this,R)}}),Object.defineProperty(i,a,{enumerable:f.enumerable}),{getValue:function(){return l},setValue:function(R){l=""+R},stopTracking:function(){i._valueTracker=null,delete i[a]}}}}function Rn(i){if(!i._valueTracker){var a=ss(i)?"checked":"value";i._valueTracker=ua(i,a,""+i[a])}}function As(i){if(!i)return!1;var a=i._valueTracker;if(!a)return!0;var l=a.getValue(),f="";return i&&(f=ss(i)?i.checked?"true":"false":i.value),i=f,i!==l?(a.setValue(i),!0):!1}function jr(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var gr=/[\n"\\]/g;function Ir(i){return i.replace(gr,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function Ws(i,a,l,f,v,b,R,X){i.name="",R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?i.type=R:i.removeAttribute("type"),a!=null?R==="number"?(a===0&&i.value===""||i.value!=a)&&(i.value=""+Sn(a)):i.value!==""+Sn(a)&&(i.value=""+Sn(a)):R!=="submit"&&R!=="reset"||i.removeAttribute("value"),a!=null?rl(i,R,Sn(a)):l!=null?rl(i,R,Sn(l)):f!=null&&i.removeAttribute("value"),v==null&&b!=null&&(i.defaultChecked=!!b),v!=null&&(i.checked=v&&typeof v!="function"&&typeof v!="symbol"),X!=null&&typeof X!="function"&&typeof X!="symbol"&&typeof X!="boolean"?i.name=""+Sn(X):i.removeAttribute("name")}function zl(i,a,l,f,v,b,R,X){if(b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(i.type=b),a!=null||l!=null){if(!(b!=="submit"&&b!=="reset"||a!=null)){Rn(i);return}l=l!=null?""+Sn(l):"",a=a!=null?""+Sn(a):l,X||a===i.value||(i.value=a),i.defaultValue=a}f=f??v,f=typeof f!="function"&&typeof f!="symbol"&&!!f,i.checked=X?i.checked:!!f,i.defaultChecked=!!f,R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"&&(i.name=R),Rn(i)}function rl(i,a,l){a==="number"&&jr(i.ownerDocument)===i||i.defaultValue===""+l||(i.defaultValue=""+l)}function xi(i,a,l,f){if(i=i.options,a){a={};for(var v=0;v<l.length;v++)a["$"+l[v]]=!0;for(l=0;l<i.length;l++)v=a.hasOwnProperty("$"+i[l].value),i[l].selected!==v&&(i[l].selected=v),v&&f&&(i[l].defaultSelected=!0)}else{for(l=""+Sn(l),a=null,v=0;v<i.length;v++){if(i[v].value===l){i[v].selected=!0,f&&(i[v].defaultSelected=!0);return}a!==null||i[v].disabled||(a=i[v])}a!==null&&(a.selected=!0)}}function il(i,a,l){if(a!=null&&(a=""+Sn(a),a!==i.value&&(i.value=a),l==null)){i.defaultValue!==a&&(i.defaultValue=a);return}i.defaultValue=l!=null?""+Sn(l):""}function os(i,a,l,f){if(a==null){if(f!=null){if(l!=null)throw Error(r(92));if(Ce(f)){if(1<f.length)throw Error(r(93));f=f[0]}l=f}l==null&&(l=""),a=l}l=Sn(a),i.defaultValue=l,f=i.textContent,f===l&&f!==""&&f!==null&&(i.value=f),Rn(i)}function ei(i,a){if(a){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=a;return}}i.textContent=a}var Es=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function al(i,a,l){var f=a.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?f?i.setProperty(a,""):a==="float"?i.cssFloat="":i[a]="":f?i.setProperty(a,l):typeof l!="number"||l===0||Es.has(a)?a==="float"?i.cssFloat=l:i[a]=(""+l).trim():i[a]=l+"px"}function sl(i,a,l){if(a!=null&&typeof a!="object")throw Error(r(62));if(i=i.style,l!=null){for(var f in l)!l.hasOwnProperty(f)||a!=null&&a.hasOwnProperty(f)||(f.indexOf("--")===0?i.setProperty(f,""):f==="float"?i.cssFloat="":i[f]="");for(var v in a)f=a[v],a.hasOwnProperty(v)&&l[v]!==f&&al(i,v,f)}else for(var b in a)a.hasOwnProperty(b)&&al(i,b,a[b])}function Eo(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var To=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ls=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Oi(i){return ls.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function Ea(){}var us=null;function Pi(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Ts=null,Wt=null;function Ks(i){var a=Zr(i);if(a&&(i=a.stateNode)){var l=i[Qn]||null;e:switch(i=a.stateNode,a.type){case"input":if(Ws(i,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),a=l.name,l.type==="radio"&&a!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Ir(""+a)+'"][type="radio"]'),a=0;a<l.length;a++){var f=l[a];if(f!==i&&f.form===i.form){var v=f[Qn]||null;if(!v)throw Error(r(90));Ws(f,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name)}}for(a=0;a<l.length;a++)f=l[a],f.form===i.form&&As(f)}break e;case"textarea":il(i,l.value,l.defaultValue);break e;case"select":a=l.value,a!=null&&xi(i,!!l.multiple,a,!1)}}}var No=!1;function Ns(i,a,l){if(No)return i(a,l);No=!0;try{var f=i(a);return f}finally{if(No=!1,(Ts!==null||Wt!==null)&&(Pd(),Ts&&(a=Ts,i=Wt,Wt=Ts=null,Ks(a),i)))for(a=0;a<i.length;a++)Ks(i[a])}}function ti(i,a){var l=i.stateNode;if(l===null)return null;var f=l[Qn]||null;if(f===null)return null;l=f[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(i=i.type,f=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!f;break e;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(r(231,a,typeof l));return l}var $r=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Qs=!1;if($r)try{var $n={};Object.defineProperty($n,"passive",{get:function(){Qs=!0}}),window.addEventListener("test",$n,$n),window.removeEventListener("test",$n,$n)}catch{Qs=!1}var Wi=null,Xs=null,Ta=null;function ol(){if(Ta)return Ta;var i,a=Xs,l=a.length,f,v="value"in Wi?Wi.value:Wi.textContent,b=v.length;for(i=0;i<l&&a[i]===v[i];i++);var R=l-i;for(f=1;f<=R&&a[l-f]===v[b-f];f++);return Ta=v.slice(i,1<f?1-f:void 0)}function Ki(i){var a=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&a===13&&(i=13)):i=a,i===10&&(i=13),32<=i||i===13?i:0}function cs(){return!0}function Qi(){return!1}function Fr(i){function a(l,f,v,b,R){this._reactName=l,this._targetInst=v,this.type=f,this.nativeEvent=b,this.target=R,this.currentTarget=null;for(var X in i)i.hasOwnProperty(X)&&(l=i[X],this[X]=l?l(b):b[X]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?cs:Qi,this.isPropagationStopped=Qi,this}return _(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=cs)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=cs)},persist:function(){},isPersistent:cs}),a}var Pa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fi=Fr(Pa),ja=_({},Pa,{view:0,detail:0}),Cs=Fr(ja),Fa,Va,ca,Js=_({},ja,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qt,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==ca&&(ca&&i.type==="mousemove"?(Fa=i.screenX-ca.screenX,Va=i.screenY-ca.screenY):Va=Fa=0,ca=i),Fa)},movementY:function(i){return"movementY"in i?i.movementY:Va}}),Co=Fr(Js),Xi=_({},Js,{dataTransfer:0}),Ba=Fr(Xi),ll=_({},ja,{relatedTarget:0}),Na=Fr(ll),Do=_({},Pa,{animationName:0,elapsedTime:0,pseudoElement:0}),x=Fr(Do),B=_({},Pa,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),se=Fr(B),pe=_({},Pa,{data:0}),Se=Fr(pe),Ke={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},st={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tt={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Mt(i){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(i):(i=Tt[i])?!!a[i]:!1}function Qt(){return Mt}var Ht=_({},ja,{key:function(i){if(i.key){var a=Ke[i.key]||i.key;if(a!=="Unidentified")return a}return i.type==="keypress"?(i=Ki(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?st[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qt,charCode:function(i){return i.type==="keypress"?Ki(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Ki(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),An=Fr(Ht),ur=_({},Js,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),tr=Fr(ur),m=_({},ja,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qt}),E=Fr(m),k=_({},Pa,{propertyName:0,elapsedTime:0,pseudoElement:0}),ee=Fr(k),Ne=_({},Js,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Be=Fr(Ne),dt=_({},Pa,{newState:0,oldState:0}),ln=Fr(dt),cr=[9,13,27,32],_n=$r&&"CompositionEvent"in window,Gn=null;$r&&"documentMode"in document&&(Gn=document.documentMode);var hi=$r&&"TextEvent"in window&&!Gn,Si=$r&&(!_n||Gn&&8<Gn&&11>=Gn),rr=" ",Ai=!1;function Ca(i,a){switch(i){case"keyup":return cr.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ds(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Rs=!1;function Ji(i,a){switch(i){case"compositionend":return Ds(a);case"keypress":return a.which!==32?null:(Ai=!0,rr);case"textInput":return i=a.data,i===rr&&Ai?null:i;default:return null}}function Zs(i,a){if(Rs)return i==="compositionend"||!_n&&Ca(i,a)?(i=ol(),Ta=Xs=Wi=null,Rs=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Si&&a.locale!=="ko"?null:a.data;default:return null}}var ql={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Fu(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a==="input"?!!ql[i.type]:a==="textarea"}function Da(i,a,l,f){Ts?Wt?Wt.push(f):Wt=[f]:Ts=f,a=qd(a,"onChange"),0<a.length&&(l=new fi("onChange","change",null,l,f),i.push({event:l,listeners:a}))}var fs=null,eo=null;function Vu(i){dy(i,0)}function hs(i){var a=Gi(i);if(As(a))return i}function Ro(i,a){if(i==="change")return a}var fa=!1;if($r){var Zi;if($r){var Is="oninput"in document;if(!Is){var Ls=document.createElement("div");Ls.setAttribute("oninput","return;"),Is=typeof Ls.oninput=="function"}Zi=Is}else Zi=!1;fa=Zi&&(!document.documentMode||9<document.documentMode)}function to(){fs&&(fs.detachEvent("onpropertychange",Hl),eo=fs=null)}function Hl(i){if(i.propertyName==="value"&&hs(eo)){var a=[];Da(a,eo,i,Pi(i)),Ns(Vu,a)}}function $l(i,a,l){i==="focusin"?(to(),fs=a,eo=l,fs.attachEvent("onpropertychange",Hl)):i==="focusout"&&to()}function Vr(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return hs(eo)}function xc(i,a){if(i==="click")return hs(a)}function Ms(i,a){if(i==="input"||i==="change")return hs(a)}function ks(i,a){return i===a&&(i!==0||1/i===1/a)||i!==i&&a!==a}var Ei=typeof Object.is=="function"?Object.is:ks;function no(i,a){if(Ei(i,a))return!0;if(typeof i!="object"||i===null||typeof a!="object"||a===null)return!1;var l=Object.keys(i),f=Object.keys(a);if(l.length!==f.length)return!1;for(f=0;f<l.length;f++){var v=l[f];if(!De.call(a,v)||!Ei(i[v],a[v]))return!1}return!0}function Gl(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Yl(i,a){var l=Gl(i);i=0;for(var f;l;){if(l.nodeType===3){if(f=i+l.textContent.length,i<=a&&f>=a)return{node:l,offset:a-i};i=f}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Gl(l)}}function ro(i,a){return i&&a?i===a?!0:i&&i.nodeType===3?!1:a&&a.nodeType===3?ro(i,a.parentNode):"contains"in i?i.contains(a):i.compareDocumentPosition?!!(i.compareDocumentPosition(a)&16):!1:!1}function io(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var a=jr(i.document);a instanceof i.HTMLIFrameElement;){try{var l=typeof a.contentWindow.location.href=="string"}catch{l=!1}if(l)i=a.contentWindow;else break;a=jr(i.document)}return a}function Os(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a&&(a==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||a==="textarea"||i.contentEditable==="true")}var ul=$r&&"documentMode"in document&&11>=document.documentMode,Ra=null,ao=null,ji=null,Ua=!1;function qn(i,a,l){var f=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Ua||Ra==null||Ra!==jr(f)||(f=Ra,"selectionStart"in f&&Os(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),ji&&no(ji,f)||(ji=f,f=qd(ao,"onSelect"),0<f.length&&(a=new fi("onSelect","select",null,a,l),i.push({event:a,listeners:f}),a.target=Ra)))}function Pn(i,a){var l={};return l[i.toLowerCase()]=a.toLowerCase(),l["Webkit"+i]="webkit"+a,l["Moz"+i]="moz"+a,l}var fr={animationend:Pn("Animation","AnimationEnd"),animationiteration:Pn("Animation","AnimationIteration"),animationstart:Pn("Animation","AnimationStart"),transitionrun:Pn("Transition","TransitionRun"),transitionstart:Pn("Transition","TransitionStart"),transitioncancel:Pn("Transition","TransitionCancel"),transitionend:Pn("Transition","TransitionEnd")},Br={},Ps={};$r&&(Ps=document.createElement("div").style,"AnimationEvent"in window||(delete fr.animationend.animation,delete fr.animationiteration.animation,delete fr.animationstart.animation),"TransitionEvent"in window||delete fr.transitionend.transition);function ds(i){if(Br[i])return Br[i];if(!fr[i])return i;var a=fr[i],l;for(l in a)if(a.hasOwnProperty(l)&&l in Ps)return Br[i]=a[l];return i}var cl=ds("animationend"),Bu=ds("animationiteration"),Uf=ds("animationstart"),hd=ds("transitionrun"),dd=ds("transitionstart"),pd=ds("transitioncancel"),zf=ds("transitionend"),qf=new Map,fl="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");fl.push("scrollEnd");function za(i,a){qf.set(i,a),la(a,[i])}var Uu=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},Ia=[],hl=0,Sc=0;function zu(){for(var i=hl,a=Sc=hl=0;a<i;){var l=Ia[a];Ia[a++]=null;var f=Ia[a];Ia[a++]=null;var v=Ia[a];Ia[a++]=null;var b=Ia[a];if(Ia[a++]=null,f!==null&&v!==null){var R=f.pending;R===null?v.next=v:(v.next=R.next,R.next=v),f.pending=v}b!==0&&Hu(l,v,b)}}function qu(i,a,l,f){Ia[hl++]=i,Ia[hl++]=a,Ia[hl++]=l,Ia[hl++]=f,Sc|=f,i.lanes|=f,i=i.alternate,i!==null&&(i.lanes|=f)}function Ac(i,a,l,f){return qu(i,a,l,f),Fi(i)}function so(i,a){return qu(i,null,null,a),Fi(i)}function Hu(i,a,l){i.lanes|=l;var f=i.alternate;f!==null&&(f.lanes|=l);for(var v=!1,b=i.return;b!==null;)b.childLanes|=l,f=b.alternate,f!==null&&(f.childLanes|=l),b.tag===22&&(i=b.stateNode,i===null||i._visibility&1||(v=!0)),i=b,b=b.return;return i.tag===3?(b=i.stateNode,v&&a!==null&&(v=31-tn(l),i=b.hiddenUpdates,f=i[v],f===null?i[v]=[a]:f.push(a),a.lane=l|536870912),b):null}function Fi(i){if(50<fh)throw fh=0,dg=null,Error(r(185));for(var a=i.return;a!==null;)i=a,a=i.return;return i.tag===3?i.stateNode:null}var Ti={};function Ec(i,a,l,f){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vi(i,a,l,f){return new Ec(i,a,l,f)}function Tc(i){return i=i.prototype,!(!i||!i.isReactComponent)}function qa(i,a){var l=i.alternate;return l===null?(l=Vi(i.tag,a,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=a,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&65011712,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,a=i.dependencies,l.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l.refCleanup=i.refCleanup,l}function $u(i,a){i.flags&=65011714;var l=i.alternate;return l===null?(i.childLanes=0,i.lanes=a,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,a=l.dependencies,i.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),i}function Wl(i,a,l,f,v,b){var R=0;if(f=i,typeof i=="function")Tc(i)&&(R=1);else if(typeof i=="string")R=FS(i,l,te.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case L:return i=Vi(31,l,a,v),i.elementType=L,i.lanes=b,i;case M:return Io(l.children,v,b,a);case j:R=8,v|=24;break;case D:return i=Vi(12,l,a,v|2),i.elementType=D,i.lanes=b,i;case ye:return i=Vi(13,l,a,v),i.elementType=ye,i.lanes=b,i;case _e:return i=Vi(19,l,a,v),i.elementType=_e,i.lanes=b,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case W:R=10;break e;case Q:R=9;break e;case re:R=11;break e;case z:R=14;break e;case V:R=16,f=null;break e}R=29,l=Error(r(130,i===null?"null":typeof i,"")),f=null}return a=Vi(R,l,a,v),a.elementType=i,a.type=f,a.lanes=b,a}function Io(i,a,l,f){return i=Vi(7,i,f,a),i.lanes=l,i}function Gu(i,a,l){return i=Vi(6,i,null,a),i.lanes=l,i}function Nc(i){var a=Vi(18,null,null,0);return a.stateNode=i,a}function Kl(i,a,l){return a=Vi(4,i.children!==null?i.children:[],i.key,a),a.lanes=l,a.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},a}var Cc=new WeakMap;function Ha(i,a){if(typeof i=="object"&&i!==null){var l=Cc.get(i);return l!==void 0?l:(a={value:i,source:a,stack:Fe(a)},Cc.set(i,a),a)}return{value:i,source:a,stack:Fe(a)}}var Ql=[],dl=0,Dc=null,Yu=0,$a=[],Ga=0,Lo=null,Ya=1,Wa="";function La(i,a){Ql[dl++]=Yu,Ql[dl++]=Dc,Dc=i,Yu=a}function md(i,a,l){$a[Ga++]=Ya,$a[Ga++]=Wa,$a[Ga++]=Lo,Lo=i;var f=Ya;i=Wa;var v=32-tn(f)-1;f&=~(1<<v),l+=1;var b=32-tn(a)+v;if(30<b){var R=v-v%5;b=(f&(1<<R)-1).toString(32),f>>=R,v-=R,Ya=1<<32-tn(a)+v|l<<v|f,Wa=b+i}else Ya=1<<b|l<<v|f,Wa=i}function Hf(i){i.return!==null&&(La(i,1),md(i,1,0))}function Rc(i){for(;i===Dc;)Dc=Ql[--dl],Ql[dl]=null,Yu=Ql[--dl],Ql[dl]=null;for(;i===Lo;)Lo=$a[--Ga],$a[Ga]=null,Wa=$a[--Ga],$a[Ga]=null,Ya=$a[--Ga],$a[Ga]=null}function gd(i,a){$a[Ga++]=Ya,$a[Ga++]=Wa,$a[Ga++]=Lo,Ya=a.id,Wa=a.overflow,Lo=i}var Ni=null,vr=null,Nn=!1,ea=null,Lr=!1,ps=Error(r(519));function Mo(i){var a=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Xl(Ha(a,i)),ps}function $f(i){var a=i.stateNode,l=i.type,f=i.memoizedProps;switch(a[bn]=i,a[Qn]=f,l){case"dialog":Dn("cancel",a),Dn("close",a);break;case"iframe":case"object":case"embed":Dn("load",a);break;case"video":case"audio":for(l=0;l<dh.length;l++)Dn(dh[l],a);break;case"source":Dn("error",a);break;case"img":case"image":case"link":Dn("error",a),Dn("load",a);break;case"details":Dn("toggle",a);break;case"input":Dn("invalid",a),zl(a,f.value,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name,!0);break;case"select":Dn("invalid",a);break;case"textarea":Dn("invalid",a),os(a,f.value,f.defaultValue,f.children)}l=f.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||a.textContent===""+l||f.suppressHydrationWarning===!0||vy(a.textContent,l)?(f.popover!=null&&(Dn("beforetoggle",a),Dn("toggle",a)),f.onScroll!=null&&Dn("scroll",a),f.onScrollEnd!=null&&Dn("scrollend",a),f.onClick!=null&&(a.onclick=Ea),a=!0):a=!1,a||Mo(i,!0)}function oo(i){for(Ni=i.return;Ni;)switch(Ni.tag){case 5:case 31:case 13:Lr=!1;return;case 27:case 3:Lr=!0;return;default:Ni=Ni.return}}function Ci(i){if(i!==Ni)return!1;if(!Nn)return oo(i),Nn=!0,!1;var a=i.tag,l;if((l=a!==3&&a!==27)&&((l=a===5)&&(l=i.type,l=!(l!=="form"&&l!=="button")||Cg(i.type,i.memoizedProps)),l=!l),l&&vr&&Mo(i),oo(i),a===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));vr=Ty(i)}else if(a===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));vr=Ty(i)}else a===27?(a=vr,fu(i.type)?(i=Mg,Mg=null,vr=i):vr=a):vr=Ni?Bs(i.stateNode.nextSibling):null;return!0}function pl(){vr=Ni=null,Nn=!1}function Gf(){var i=ea;return i!==null&&(es===null?es=i:es.push.apply(es,i),ea=null),i}function Xl(i){ea===null?ea=[i]:ea.push(i)}var Ic=Y(null),ko=null,js=null;function Oo(i,a,l){K(Ic,a._currentValue),a._currentValue=l}function Ka(i){i._currentValue=Ic.current,P(Ic)}function Jl(i,a,l){for(;i!==null;){var f=i.alternate;if((i.childLanes&a)!==a?(i.childLanes|=a,f!==null&&(f.childLanes|=a)):f!==null&&(f.childLanes&a)!==a&&(f.childLanes|=a),i===l)break;i=i.return}}function ml(i,a,l,f){var v=i.child;for(v!==null&&(v.return=i);v!==null;){var b=v.dependencies;if(b!==null){var R=v.child;b=b.firstContext;e:for(;b!==null;){var X=b;b=v;for(var he=0;he<a.length;he++)if(X.context===a[he]){b.lanes|=l,X=b.alternate,X!==null&&(X.lanes|=l),Jl(b.return,l,i),f||(R=null);break e}b=X.next}}else if(v.tag===18){if(R=v.return,R===null)throw Error(r(341));R.lanes|=l,b=R.alternate,b!==null&&(b.lanes|=l),Jl(R,l,i),R=null}else R=v.child;if(R!==null)R.return=v;else for(R=v;R!==null;){if(R===i){R=null;break}if(v=R.sibling,v!==null){v.return=R.return,R=v;break}R=R.return}v=R}}function Po(i,a,l,f){i=null;for(var v=a,b=!1;v!==null;){if(!b){if((v.flags&524288)!==0)b=!0;else if((v.flags&262144)!==0)break}if(v.tag===10){var R=v.alternate;if(R===null)throw Error(r(387));if(R=R.memoizedProps,R!==null){var X=v.type;Ei(v.pendingProps.value,R.value)||(i!==null?i.push(X):i=[X])}}else if(v===ve.current){if(R=v.alternate,R===null)throw Error(r(387));R.memoizedState.memoizedState!==v.memoizedState.memoizedState&&(i!==null?i.push(yh):i=[yh])}v=v.return}i!==null&&ml(a,i,l,f),a.flags|=262144}function Lc(i){for(i=i.firstContext;i!==null;){if(!Ei(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function jo(i){ko=i,js=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Di(i){return vd(ko,i)}function Mc(i,a){return ko===null&&jo(i),vd(i,a)}function vd(i,a){var l=a._currentValue;if(a={context:a,memoizedValue:l,next:null},js===null){if(i===null)throw Error(r(308));js=a,i.dependencies={lanes:0,firstContext:a},i.flags|=524288}else js=js.next=a;return l}var Lm=typeof AbortController<"u"?AbortController:function(){var i=[],a=this.signal={aborted:!1,addEventListener:function(l,f){i.push(f)}};this.abort=function(){a.aborted=!0,i.forEach(function(l){return l()})}},Mm=n.unstable_scheduleCallback,km=n.unstable_NormalPriority,Ur={$$typeof:W,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Zl(){return{controller:new Lm,data:new Map,refCount:0}}function Wu(i){i.refCount--,i.refCount===0&&Mm(km,function(){i.controller.abort()})}var Ku=null,kc=0,p=0,y=null;function A(i,a){if(Ku===null){var l=Ku=[];kc=0,p=bg(),y={status:"pending",value:void 0,then:function(f){l.push(f)}}}return kc++,a.then(C,C),a}function C(){if(--kc===0&&Ku!==null){y!==null&&(y.status="fulfilled");var i=Ku;Ku=null,p=0,y=null;for(var a=0;a<i.length;a++)(0,i[a])()}}function U(i,a){var l=[],f={status:"pending",value:null,reason:null,then:function(v){l.push(v)}};return i.then(function(){f.status="fulfilled",f.value=a;for(var v=0;v<l.length;v++)(0,l[v])(a)},function(v){for(f.status="rejected",f.reason=v,v=0;v<l.length;v++)(0,l[v])(void 0)}),f}var $=le.S;le.S=function(i,a){Uv=Ut(),typeof a=="object"&&a!==null&&typeof a.then=="function"&&A(i,a),$!==null&&$(i,a)};var G=Y(null);function Z(){var i=G.current;return i!==null?i:br.pooledCache}function ne(i,a){a===null?K(G,G.current):K(G,a.pool)}function oe(){var i=Z();return i===null?null:{parent:Ur._currentValue,pool:i}}var ge=Error(r(460)),Pe=Error(r(474)),ae=Error(r(542)),xe={then:function(){}};function Re(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Ye(i,a,l){switch(l=i[l],l===void 0?i.push(a):l!==a&&(a.then(Ea,Ea),a=l),a.status){case"fulfilled":return a.value;case"rejected":throw i=a.reason,ct(i),i;default:if(typeof a.status=="string")a.then(Ea,Ea);else{if(i=br,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=a,i.status="pending",i.then(function(f){if(a.status==="pending"){var v=a;v.status="fulfilled",v.value=f}},function(f){if(a.status==="pending"){var v=a;v.status="rejected",v.reason=f}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw i=a.reason,ct(i),i}throw He=a,ge}}function Le(i){try{var a=i._init;return a(i._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(He=l,ge):l}}var He=null;function et(){if(He===null)throw Error(r(459));var i=He;return He=null,i}function ct(i){if(i===ge||i===ae)throw Error(r(483))}var at=null,kt=0;function St(i){var a=kt;return kt+=1,at===null&&(at=[]),Ye(at,i,a)}function un(i,a){a=a.props.ref,i.ref=a!==void 0?a:null}function Dt(i,a){throw a.$$typeof===S?Error(r(525)):(i=Object.prototype.toString.call(a),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":i)))}function En(i){function a(Ee,be){if(i){var je=Ee.deletions;je===null?(Ee.deletions=[be],Ee.flags|=16):je.push(be)}}function l(Ee,be){if(!i)return null;for(;be!==null;)a(Ee,be),be=be.sibling;return null}function f(Ee){for(var be=new Map;Ee!==null;)Ee.key!==null?be.set(Ee.key,Ee):be.set(Ee.index,Ee),Ee=Ee.sibling;return be}function v(Ee,be){return Ee=qa(Ee,be),Ee.index=0,Ee.sibling=null,Ee}function b(Ee,be,je){return Ee.index=je,i?(je=Ee.alternate,je!==null?(je=je.index,je<be?(Ee.flags|=67108866,be):je):(Ee.flags|=67108866,be)):(Ee.flags|=1048576,be)}function R(Ee){return i&&Ee.alternate===null&&(Ee.flags|=67108866),Ee}function X(Ee,be,je,tt){return be===null||be.tag!==6?(be=Gu(je,Ee.mode,tt),be.return=Ee,be):(be=v(be,je),be.return=Ee,be)}function he(Ee,be,je,tt){var Jt=je.type;return Jt===M?Qe(Ee,be,je.props.children,tt,je.key):be!==null&&(be.elementType===Jt||typeof Jt=="object"&&Jt!==null&&Jt.$$typeof===V&&Le(Jt)===be.type)?(be=v(be,je.props),un(be,je),be.return=Ee,be):(be=Wl(je.type,je.key,je.props,null,Ee.mode,tt),un(be,je),be.return=Ee,be)}function Ve(Ee,be,je,tt){return be===null||be.tag!==4||be.stateNode.containerInfo!==je.containerInfo||be.stateNode.implementation!==je.implementation?(be=Kl(je,Ee.mode,tt),be.return=Ee,be):(be=v(be,je.children||[]),be.return=Ee,be)}function Qe(Ee,be,je,tt,Jt){return be===null||be.tag!==7?(be=Io(je,Ee.mode,tt,Jt),be.return=Ee,be):(be=v(be,je),be.return=Ee,be)}function rt(Ee,be,je){if(typeof be=="string"&&be!==""||typeof be=="number"||typeof be=="bigint")return be=Gu(""+be,Ee.mode,je),be.return=Ee,be;if(typeof be=="object"&&be!==null){switch(be.$$typeof){case w:return je=Wl(be.type,be.key,be.props,null,Ee.mode,je),un(je,be),je.return=Ee,je;case T:return be=Kl(be,Ee.mode,je),be.return=Ee,be;case V:return be=Le(be),rt(Ee,be,je)}if(Ce(be)||O(be))return be=Io(be,Ee.mode,je,null),be.return=Ee,be;if(typeof be.then=="function")return rt(Ee,St(be),je);if(be.$$typeof===W)return rt(Ee,Mc(Ee,be),je);Dt(Ee,be)}return null}function Ue(Ee,be,je,tt){var Jt=be!==null?be.key:null;if(typeof je=="string"&&je!==""||typeof je=="number"||typeof je=="bigint")return Jt!==null?null:X(Ee,be,""+je,tt);if(typeof je=="object"&&je!==null){switch(je.$$typeof){case w:return je.key===Jt?he(Ee,be,je,tt):null;case T:return je.key===Jt?Ve(Ee,be,je,tt):null;case V:return je=Le(je),Ue(Ee,be,je,tt)}if(Ce(je)||O(je))return Jt!==null?null:Qe(Ee,be,je,tt,null);if(typeof je.then=="function")return Ue(Ee,be,St(je),tt);if(je.$$typeof===W)return Ue(Ee,be,Mc(Ee,je),tt);Dt(Ee,je)}return null}function qe(Ee,be,je,tt,Jt){if(typeof tt=="string"&&tt!==""||typeof tt=="number"||typeof tt=="bigint")return Ee=Ee.get(je)||null,X(be,Ee,""+tt,Jt);if(typeof tt=="object"&&tt!==null){switch(tt.$$typeof){case w:return Ee=Ee.get(tt.key===null?je:tt.key)||null,he(be,Ee,tt,Jt);case T:return Ee=Ee.get(tt.key===null?je:tt.key)||null,Ve(be,Ee,tt,Jt);case V:return tt=Le(tt),qe(Ee,be,je,tt,Jt)}if(Ce(tt)||O(tt))return Ee=Ee.get(je)||null,Qe(be,Ee,tt,Jt,null);if(typeof tt.then=="function")return qe(Ee,be,je,St(tt),Jt);if(tt.$$typeof===W)return qe(Ee,be,je,Mc(be,tt),Jt);Dt(be,tt)}return null}function It(Ee,be,je,tt){for(var Jt=null,Yn=null,Vt=be,wn=be=0,Ln=null;Vt!==null&&wn<je.length;wn++){Vt.index>wn?(Ln=Vt,Vt=null):Ln=Vt.sibling;var Wn=Ue(Ee,Vt,je[wn],tt);if(Wn===null){Vt===null&&(Vt=Ln);break}i&&Vt&&Wn.alternate===null&&a(Ee,Vt),be=b(Wn,be,wn),Yn===null?Jt=Wn:Yn.sibling=Wn,Yn=Wn,Vt=Ln}if(wn===je.length)return l(Ee,Vt),Nn&&La(Ee,wn),Jt;if(Vt===null){for(;wn<je.length;wn++)Vt=rt(Ee,je[wn],tt),Vt!==null&&(be=b(Vt,be,wn),Yn===null?Jt=Vt:Yn.sibling=Vt,Yn=Vt);return Nn&&La(Ee,wn),Jt}for(Vt=f(Vt);wn<je.length;wn++)Ln=qe(Vt,Ee,wn,je[wn],tt),Ln!==null&&(i&&Ln.alternate!==null&&Vt.delete(Ln.key===null?wn:Ln.key),be=b(Ln,be,wn),Yn===null?Jt=Ln:Yn.sibling=Ln,Yn=Ln);return i&&Vt.forEach(function(gu){return a(Ee,gu)}),Nn&&La(Ee,wn),Jt}function an(Ee,be,je,tt){if(je==null)throw Error(r(151));for(var Jt=null,Yn=null,Vt=be,wn=be=0,Ln=null,Wn=je.next();Vt!==null&&!Wn.done;wn++,Wn=je.next()){Vt.index>wn?(Ln=Vt,Vt=null):Ln=Vt.sibling;var gu=Ue(Ee,Vt,Wn.value,tt);if(gu===null){Vt===null&&(Vt=Ln);break}i&&Vt&&gu.alternate===null&&a(Ee,Vt),be=b(gu,be,wn),Yn===null?Jt=gu:Yn.sibling=gu,Yn=gu,Vt=Ln}if(Wn.done)return l(Ee,Vt),Nn&&La(Ee,wn),Jt;if(Vt===null){for(;!Wn.done;wn++,Wn=je.next())Wn=rt(Ee,Wn.value,tt),Wn!==null&&(be=b(Wn,be,wn),Yn===null?Jt=Wn:Yn.sibling=Wn,Yn=Wn);return Nn&&La(Ee,wn),Jt}for(Vt=f(Vt);!Wn.done;wn++,Wn=je.next())Wn=qe(Vt,Ee,wn,Wn.value,tt),Wn!==null&&(i&&Wn.alternate!==null&&Vt.delete(Wn.key===null?wn:Wn.key),be=b(Wn,be,wn),Yn===null?Jt=Wn:Yn.sibling=Wn,Yn=Wn);return i&&Vt.forEach(function(KS){return a(Ee,KS)}),Nn&&La(Ee,wn),Jt}function mr(Ee,be,je,tt){if(typeof je=="object"&&je!==null&&je.type===M&&je.key===null&&(je=je.props.children),typeof je=="object"&&je!==null){switch(je.$$typeof){case w:e:{for(var Jt=je.key;be!==null;){if(be.key===Jt){if(Jt=je.type,Jt===M){if(be.tag===7){l(Ee,be.sibling),tt=v(be,je.props.children),tt.return=Ee,Ee=tt;break e}}else if(be.elementType===Jt||typeof Jt=="object"&&Jt!==null&&Jt.$$typeof===V&&Le(Jt)===be.type){l(Ee,be.sibling),tt=v(be,je.props),un(tt,je),tt.return=Ee,Ee=tt;break e}l(Ee,be);break}else a(Ee,be);be=be.sibling}je.type===M?(tt=Io(je.props.children,Ee.mode,tt,je.key),tt.return=Ee,Ee=tt):(tt=Wl(je.type,je.key,je.props,null,Ee.mode,tt),un(tt,je),tt.return=Ee,Ee=tt)}return R(Ee);case T:e:{for(Jt=je.key;be!==null;){if(be.key===Jt)if(be.tag===4&&be.stateNode.containerInfo===je.containerInfo&&be.stateNode.implementation===je.implementation){l(Ee,be.sibling),tt=v(be,je.children||[]),tt.return=Ee,Ee=tt;break e}else{l(Ee,be);break}else a(Ee,be);be=be.sibling}tt=Kl(je,Ee.mode,tt),tt.return=Ee,Ee=tt}return R(Ee);case V:return je=Le(je),mr(Ee,be,je,tt)}if(Ce(je))return It(Ee,be,je,tt);if(O(je)){if(Jt=O(je),typeof Jt!="function")throw Error(r(150));return je=Jt.call(je),an(Ee,be,je,tt)}if(typeof je.then=="function")return mr(Ee,be,St(je),tt);if(je.$$typeof===W)return mr(Ee,be,Mc(Ee,je),tt);Dt(Ee,je)}return typeof je=="string"&&je!==""||typeof je=="number"||typeof je=="bigint"?(je=""+je,be!==null&&be.tag===6?(l(Ee,be.sibling),tt=v(be,je),tt.return=Ee,Ee=tt):(l(Ee,be),tt=Gu(je,Ee.mode,tt),tt.return=Ee,Ee=tt),R(Ee)):l(Ee,be)}return function(Ee,be,je,tt){try{kt=0;var Jt=mr(Ee,be,je,tt);return at=null,Jt}catch(Vt){if(Vt===ge||Vt===ae)throw Vt;var Yn=Vi(29,Vt,null,Ee.mode);return Yn.lanes=tt,Yn.return=Ee,Yn}finally{}}}var yr=En(!0),dn=En(!1),At=!1;function gt(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ar(i,a){i=i.updateQueue,a.updateQueue===i&&(a.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function nn(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function yn(i,a,l){var f=i.updateQueue;if(f===null)return null;if(f=f.shared,(Zn&2)!==0){var v=f.pending;return v===null?a.next=a:(a.next=v.next,v.next=a),f.pending=a,a=Fi(i),Hu(i,null,l),a}return qu(i,f,a,l),Fi(i)}function Xn(i,a,l){if(a=a.updateQueue,a!==null&&(a=a.shared,(l&4194048)!==0)){var f=a.lanes;f&=i.pendingLanes,l|=f,a.lanes=l,Je(i,l)}}function ni(i,a){var l=i.updateQueue,f=i.alternate;if(f!==null&&(f=f.updateQueue,l===f)){var v=null,b=null;if(l=l.firstBaseUpdate,l!==null){do{var R={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};b===null?v=b=R:b=b.next=R,l=l.next}while(l!==null);b===null?v=b=a:b=b.next=a}else v=b=a;l={baseState:f.baseState,firstBaseUpdate:v,lastBaseUpdate:b,shared:f.shared,callbacks:f.callbacks},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=a:i.next=a,l.lastBaseUpdate=a}var Ri=!1;function hr(){if(Ri){var i=y;if(i!==null)throw i}}function Gr(i,a,l,f){Ri=!1;var v=i.updateQueue;At=!1;var b=v.firstBaseUpdate,R=v.lastBaseUpdate,X=v.shared.pending;if(X!==null){v.shared.pending=null;var he=X,Ve=he.next;he.next=null,R===null?b=Ve:R.next=Ve,R=he;var Qe=i.alternate;Qe!==null&&(Qe=Qe.updateQueue,X=Qe.lastBaseUpdate,X!==R&&(X===null?Qe.firstBaseUpdate=Ve:X.next=Ve,Qe.lastBaseUpdate=he))}if(b!==null){var rt=v.baseState;R=0,Qe=Ve=he=null,X=b;do{var Ue=X.lane&-536870913,qe=Ue!==X.lane;if(qe?(In&Ue)===Ue:(f&Ue)===Ue){Ue!==0&&Ue===p&&(Ri=!0),Qe!==null&&(Qe=Qe.next={lane:0,tag:X.tag,payload:X.payload,callback:null,next:null});e:{var It=i,an=X;Ue=a;var mr=l;switch(an.tag){case 1:if(It=an.payload,typeof It=="function"){rt=It.call(mr,rt,Ue);break e}rt=It;break e;case 3:It.flags=It.flags&-65537|128;case 0:if(It=an.payload,Ue=typeof It=="function"?It.call(mr,rt,Ue):It,Ue==null)break e;rt=_({},rt,Ue);break e;case 2:At=!0}}Ue=X.callback,Ue!==null&&(i.flags|=64,qe&&(i.flags|=8192),qe=v.callbacks,qe===null?v.callbacks=[Ue]:qe.push(Ue))}else qe={lane:Ue,tag:X.tag,payload:X.payload,callback:X.callback,next:null},Qe===null?(Ve=Qe=qe,he=rt):Qe=Qe.next=qe,R|=Ue;if(X=X.next,X===null){if(X=v.shared.pending,X===null)break;qe=X,X=qe.next,qe.next=null,v.lastBaseUpdate=qe,v.shared.pending=null}}while(!0);Qe===null&&(he=rt),v.baseState=he,v.firstBaseUpdate=Ve,v.lastBaseUpdate=Qe,b===null&&(v.shared.lanes=0),su|=R,i.lanes=R,i.memoizedState=rt}}function Bi(i,a){if(typeof i!="function")throw Error(r(191,i));i.call(a)}function Yr(i,a){var l=i.callbacks;if(l!==null)for(i.callbacks=null,i=0;i<l.length;i++)Bi(l[i],a)}var xn=Y(null),Fn=Y(0);function Er(i,a){i=El,K(Fn,i),K(xn,a),El=i|a.baseLanes}function Hn(){K(Fn,El),K(xn,xn.current)}function ri(){El=Fn.current,P(xn),P(Fn)}var Tr=Y(null),Vn=null;function zr(i){var a=i.alternate;K(jn,jn.current&1),K(Tr,i),Vn===null&&(a===null||xn.current!==null||a.memoizedState!==null)&&(Vn=i)}function Jn(i){K(jn,jn.current),K(Tr,i),Vn===null&&(Vn=i)}function Wr(i){i.tag===22?(K(jn,jn.current),K(Tr,i),Vn===null&&(Vn=i)):Kr()}function Kr(){K(jn,jn.current),K(Tr,Tr.current)}function ir(i){P(Tr),Vn===i&&(Vn=null),P(jn)}var jn=Y(0);function Ui(i){for(var a=i;a!==null;){if(a.tag===13){var l=a.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||Ig(l)||Lg(l)))return a}else if(a.tag===19&&(a.memoizedProps.revealOrder==="forwards"||a.memoizedProps.revealOrder==="backwards"||a.memoizedProps.revealOrder==="unstable_legacy-backwards"||a.memoizedProps.revealOrder==="together")){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Mr=0,Kt=null,Xt=null,Bn=null,ha=!1,Qa=!1,ta=!1,Qr=0,Fo=0,Vo=null,Oc=0;function dr(){throw Error(r(321))}function Yf(i,a){if(a===null)return!1;for(var l=0;l<a.length&&l<i.length;l++)if(!Ei(i[l],a[l]))return!1;return!0}function Wf(i,a,l,f,v,b){return Mr=b,Kt=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,le.H=i===null||i.memoizedState===null?J2:zm,ta=!1,b=l(f,v),ta=!1,Qa&&(b=lo(a,l,f,v)),Pc(i),b}function Pc(i){le.H=nh;var a=Xt!==null&&Xt.next!==null;if(Mr=0,Bn=Xt=Kt=null,ha=!1,Fo=0,Vo=null,a)throw Error(r(300));i===null||pi||(i=i.dependencies,i!==null&&Lc(i)&&(pi=!0))}function lo(i,a,l,f){Kt=i;var v=0;do{if(Qa&&(Vo=null),Fo=0,Qa=!1,25<=v)throw Error(r(301));if(v+=1,Bn=Xt=null,i.updateQueue!=null){var b=i.updateQueue;b.lastEffect=null,b.events=null,b.stores=null,b.memoCache!=null&&(b.memoCache.index=0)}le.H=Z2,b=a(l,f)}while(Qa);return b}function Om(){var i=le.H,a=i.useState()[0];return a=typeof a.then=="function"?Bo(a):a,i=i.useState()[0],(Xt!==null?Xt.memoizedState:null)!==i&&(Kt.flags|=1024),a}function Kf(){var i=Qr!==0;return Qr=0,i}function Qf(i,a,l){a.updateQueue=i.updateQueue,a.flags&=-2053,i.lanes&=~l}function jc(i){if(ha){for(i=i.memoizedState;i!==null;){var a=i.queue;a!==null&&(a.pending=null),i=i.next}ha=!1}Mr=0,Bn=Xt=Kt=null,Qa=!1,Fo=Qr=0,Vo=null}function di(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Bn===null?Kt.memoizedState=Bn=i:Bn=Bn.next=i,Bn}function kr(){if(Xt===null){var i=Kt.alternate;i=i!==null?i.memoizedState:null}else i=Xt.next;var a=Bn===null?Kt.memoizedState:Bn.next;if(a!==null)Bn=a,Xt=i;else{if(i===null)throw Kt.alternate===null?Error(r(467)):Error(r(310));Xt=i,i={memoizedState:Xt.memoizedState,baseState:Xt.baseState,baseQueue:Xt.baseQueue,queue:Xt.queue,next:null},Bn===null?Kt.memoizedState=Bn=i:Bn=Bn.next=i}return Bn}function Qu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Bo(i){var a=Fo;return Fo+=1,Vo===null&&(Vo=[]),i=Ye(Vo,i,a),a=Kt,(Bn===null?a.memoizedState:Bn.next)===null&&(a=a.alternate,le.H=a===null||a.memoizedState===null?J2:zm),i}function eu(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Bo(i);if(i.$$typeof===W)return Di(i)}throw Error(r(438,String(i)))}function gl(i){var a=null,l=Kt.updateQueue;if(l!==null&&(a=l.memoCache),a==null){var f=Kt.alternate;f!==null&&(f=f.updateQueue,f!==null&&(f=f.memoCache,f!=null&&(a={data:f.data.map(function(v){return v.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),l===null&&(l=Qu(),Kt.updateQueue=l),l.memoCache=a,l=a.data[a.index],l===void 0)for(l=a.data[a.index]=Array(i),f=0;f<i;f++)l[f]=H;return a.index++,l}function Fs(i,a){return typeof a=="function"?a(i):a}function Fc(i){var a=kr();return tu(a,Xt,i)}function tu(i,a,l){var f=i.queue;if(f===null)throw Error(r(311));f.lastRenderedReducer=l;var v=i.baseQueue,b=f.pending;if(b!==null){if(v!==null){var R=v.next;v.next=b.next,b.next=R}a.baseQueue=v=b,f.pending=null}if(b=i.baseState,v===null)i.memoizedState=b;else{a=v.next;var X=R=null,he=null,Ve=a,Qe=!1;do{var rt=Ve.lane&-536870913;if(rt!==Ve.lane?(In&rt)===rt:(Mr&rt)===rt){var Ue=Ve.revertLane;if(Ue===0)he!==null&&(he=he.next={lane:0,revertLane:0,gesture:null,action:Ve.action,hasEagerState:Ve.hasEagerState,eagerState:Ve.eagerState,next:null}),rt===p&&(Qe=!0);else if((Mr&Ue)===Ue){Ve=Ve.next,Ue===p&&(Qe=!0);continue}else rt={lane:0,revertLane:Ve.revertLane,gesture:null,action:Ve.action,hasEagerState:Ve.hasEagerState,eagerState:Ve.eagerState,next:null},he===null?(X=he=rt,R=b):he=he.next=rt,Kt.lanes|=Ue,su|=Ue;rt=Ve.action,ta&&l(b,rt),b=Ve.hasEagerState?Ve.eagerState:l(b,rt)}else Ue={lane:rt,revertLane:Ve.revertLane,gesture:Ve.gesture,action:Ve.action,hasEagerState:Ve.hasEagerState,eagerState:Ve.eagerState,next:null},he===null?(X=he=Ue,R=b):he=he.next=Ue,Kt.lanes|=rt,su|=rt;Ve=Ve.next}while(Ve!==null&&Ve!==a);if(he===null?R=b:he.next=X,!Ei(b,i.memoizedState)&&(pi=!0,Qe&&(l=y,l!==null)))throw l;i.memoizedState=b,i.baseState=R,i.baseQueue=he,f.lastRenderedState=b}return v===null&&(f.lanes=0),[i.memoizedState,f.dispatch]}function Vc(i){var a=kr(),l=a.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=i;var f=l.dispatch,v=l.pending,b=a.memoizedState;if(v!==null){l.pending=null;var R=v=v.next;do b=i(b,R.action),R=R.next;while(R!==v);Ei(b,a.memoizedState)||(pi=!0),a.memoizedState=b,a.baseQueue===null&&(a.baseState=b),l.lastRenderedState=b}return[b,f]}function Bc(i,a,l){var f=Kt,v=kr(),b=Nn;if(b){if(l===void 0)throw Error(r(407));l=l()}else l=a();var R=!Ei((Xt||v).memoizedState,l);if(R&&(v.memoizedState=l,pi=!0),v=v.queue,Pm(Jf.bind(null,f,v,i),[i]),v.getSnapshot!==a||R||Bn!==null&&Bn.memoizedState.tag&1){if(f.flags|=2048,yl(9,{destroy:void 0},Xf.bind(null,f,v,l,a),null),br===null)throw Error(r(349));b||(Mr&127)!==0||uo(f,a,l)}return l}function uo(i,a,l){i.flags|=16384,i={getSnapshot:a,value:l},a=Kt.updateQueue,a===null?(a=Qu(),Kt.updateQueue=a,a.stores=[i]):(l=a.stores,l===null?a.stores=[i]:l.push(i))}function Xf(i,a,l,f){a.value=l,a.getSnapshot=f,yd(a)&&Zf(i)}function Jf(i,a,l){return l(function(){yd(a)&&Zf(i)})}function yd(i){var a=i.getSnapshot;i=i.value;try{var l=a();return!Ei(i,l)}catch{return!0}}function Zf(i){var a=so(i,2);a!==null&&ts(a,i,2)}function Uo(i){var a=di();if(typeof i=="function"){var l=i;if(i=l(),ta){yt(!0);try{l()}finally{yt(!1)}}}return a.memoizedState=a.baseState=i,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fs,lastRenderedState:i},a}function bd(i,a,l,f){return i.baseState=l,tu(i,Xt,typeof f=="function"?f:Fs)}function wd(i,a,l,f,v){if(Ad(i))throw Error(r(485));if(i=a.action,i!==null){var b={payload:v,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(R){b.listeners.push(R)}};le.T!==null?l(!0):b.isTransition=!1,f(b),l=a.pending,l===null?(b.next=a.pending=b,_d(a,b)):(b.next=l.next,a.pending=l.next=b)}}function _d(i,a){var l=a.action,f=a.payload,v=i.state;if(a.isTransition){var b=le.T,R={};le.T=R;try{var X=l(v,f),he=le.S;he!==null&&he(R,X),eh(i,a,X)}catch(Ve){vl(i,a,Ve)}finally{b!==null&&R.types!==null&&(b.types=R.types),le.T=b}}else try{b=l(v,f),eh(i,a,b)}catch(Ve){vl(i,a,Ve)}}function eh(i,a,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(f){xd(i,a,f)},function(f){return vl(i,a,f)}):xd(i,a,l)}function xd(i,a,l){a.status="fulfilled",a.value=l,Uc(a),i.state=l,a=i.pending,a!==null&&(l=a.next,l===a?i.pending=null:(l=l.next,a.next=l,_d(i,l)))}function vl(i,a,l){var f=i.pending;if(i.pending=null,f!==null){f=f.next;do a.status="rejected",a.reason=l,Uc(a),a=a.next;while(a!==f)}i.action=null}function Uc(i){i=i.listeners;for(var a=0;a<i.length;a++)(0,i[a])()}function Xu(i,a){return a}function Vs(i,a){if(Nn){var l=br.formState;if(l!==null){e:{var f=Kt;if(Nn){if(vr){t:{for(var v=vr,b=Lr;v.nodeType!==8;){if(!b){v=null;break t}if(v=Bs(v.nextSibling),v===null){v=null;break t}}b=v.data,v=b==="F!"||b==="F"?v:null}if(v){vr=Bs(v.nextSibling),f=v.data==="F!";break e}}Mo(f)}f=!1}f&&(a=l[0])}}return l=di(),l.memoizedState=l.baseState=a,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xu,lastRenderedState:a},l.queue=f,l=K2.bind(null,Kt,f),f.dispatch=l,f=Uo(!1),b=Um.bind(null,Kt,!1,f.queue),f=di(),v={state:a,dispatch:null,action:i,pending:null},f.queue=v,l=wd.bind(null,Kt,v,b,l),v.dispatch=l,f.memoizedState=i,[a,l,!1]}function co(i){var a=kr();return fo(a,Xt,i)}function fo(i,a,l){if(a=tu(i,a,Xu)[0],i=Fc(Fs)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var f=Bo(a)}catch(R){throw R===ge?ae:R}else f=a;a=kr();var v=a.queue,b=v.dispatch;return l!==a.memoizedState&&(Kt.flags|=2048,yl(9,{destroy:void 0},zc.bind(null,v,l),null)),[f,b,i]}function zc(i,a){i.action=a}function qc(i){var a=kr(),l=Xt;if(l!==null)return fo(a,l,i);kr(),a=a.memoizedState,l=kr();var f=l.queue.dispatch;return l.memoizedState=i,[a,f,!1]}function yl(i,a,l,f){return i={tag:i,create:l,deps:f,inst:a,next:null},a=Kt.updateQueue,a===null&&(a=Qu(),Kt.updateQueue=a),l=a.lastEffect,l===null?a.lastEffect=i.next=i:(f=l.next,l.next=i,i.next=f,a.lastEffect=i),i}function Sd(){return kr().memoizedState}function nu(i,a,l,f){var v=di();Kt.flags|=i,v.memoizedState=yl(1|a,{destroy:void 0},l,f===void 0?null:f)}function ru(i,a,l,f){var v=kr();f=f===void 0?null:f;var b=v.memoizedState.inst;Xt!==null&&f!==null&&Yf(f,Xt.memoizedState.deps)?v.memoizedState=yl(a,b,l,f):(Kt.flags|=i,v.memoizedState=yl(1|a,b,l,f))}function O2(i,a){nu(8390656,8,i,a)}function Pm(i,a){ru(2048,8,i,a)}function qx(i){Kt.flags|=4;var a=Kt.updateQueue;if(a===null)a=Qu(),Kt.updateQueue=a,a.events=[i];else{var l=a.events;l===null?a.events=[i]:l.push(i)}}function P2(i){var a=kr().memoizedState;return qx({ref:a,nextImpl:i}),function(){if((Zn&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}function j2(i,a){return ru(4,2,i,a)}function F2(i,a){return ru(4,4,i,a)}function V2(i,a){if(typeof a=="function"){i=i();var l=a(i);return function(){typeof l=="function"?l():a(null)}}if(a!=null)return i=i(),a.current=i,function(){a.current=null}}function B2(i,a,l){l=l!=null?l.concat([i]):null,ru(4,4,V2.bind(null,a,i),l)}function jm(){}function U2(i,a){var l=kr();a=a===void 0?null:a;var f=l.memoizedState;return a!==null&&Yf(a,f[1])?f[0]:(l.memoizedState=[i,a],i)}function z2(i,a){var l=kr();a=a===void 0?null:a;var f=l.memoizedState;if(a!==null&&Yf(a,f[1]))return f[0];if(f=i(),ta){yt(!0);try{i()}finally{yt(!1)}}return l.memoizedState=[f,a],f}function Fm(i,a,l){return l===void 0||(Mr&1073741824)!==0&&(In&261930)===0?i.memoizedState=a:(i.memoizedState=l,i=qv(),Kt.lanes|=i,su|=i,l)}function q2(i,a,l,f){return Ei(l,a)?l:xn.current!==null?(i=Fm(i,l,f),Ei(i,a)||(pi=!0),i):(Mr&42)===0||(Mr&1073741824)!==0&&(In&261930)===0?(pi=!0,i.memoizedState=l):(i=qv(),Kt.lanes|=i,su|=i,a)}function H2(i,a,l,f,v){var b=me.p;me.p=b!==0&&8>b?b:8;var R=le.T,X={};le.T=X,Um(i,!1,a,l);try{var he=v(),Ve=le.S;if(Ve!==null&&Ve(X,he),he!==null&&typeof he=="object"&&typeof he.then=="function"){var Qe=U(he,f);th(i,a,Qe,vs(i))}else th(i,a,f,vs(i))}catch(rt){th(i,a,{then:function(){},status:"rejected",reason:rt},vs())}finally{me.p=b,R!==null&&X.types!==null&&(R.types=X.types),le.T=R}}function Hx(){}function Vm(i,a,l,f){if(i.tag!==5)throw Error(r(476));var v=$2(i).queue;H2(i,v,a,de,l===null?Hx:function(){return G2(i),l(f)})}function $2(i){var a=i.memoizedState;if(a!==null)return a;a={memoizedState:de,baseState:de,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fs,lastRenderedState:de},next:null};var l={};return a.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fs,lastRenderedState:l},next:null},i.memoizedState=a,i=i.alternate,i!==null&&(i.memoizedState=a),a}function G2(i){var a=$2(i);a.next===null&&(a=i.alternate.memoizedState),th(i,a.next.queue,{},vs())}function Bm(){return Di(yh)}function Y2(){return kr().memoizedState}function W2(){return kr().memoizedState}function $x(i){for(var a=i.return;a!==null;){switch(a.tag){case 24:case 3:var l=vs();i=nn(l);var f=yn(a,i,l);f!==null&&(ts(f,a,l),Xn(f,a,l)),a={cache:Zl()},i.payload=a;return}a=a.return}}function Gx(i,a,l){var f=vs();l={lane:f,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Ad(i)?Q2(a,l):(l=Ac(i,a,l,f),l!==null&&(ts(l,i,f),X2(l,a,f)))}function K2(i,a,l){var f=vs();th(i,a,l,f)}function th(i,a,l,f){var v={lane:f,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(Ad(i))Q2(a,v);else{var b=i.alternate;if(i.lanes===0&&(b===null||b.lanes===0)&&(b=a.lastRenderedReducer,b!==null))try{var R=a.lastRenderedState,X=b(R,l);if(v.hasEagerState=!0,v.eagerState=X,Ei(X,R))return qu(i,a,v,0),br===null&&zu(),!1}catch{}finally{}if(l=Ac(i,a,v,f),l!==null)return ts(l,i,f),X2(l,a,f),!0}return!1}function Um(i,a,l,f){if(f={lane:2,revertLane:bg(),gesture:null,action:f,hasEagerState:!1,eagerState:null,next:null},Ad(i)){if(a)throw Error(r(479))}else a=Ac(i,l,f,2),a!==null&&ts(a,i,2)}function Ad(i){var a=i.alternate;return i===Kt||a!==null&&a===Kt}function Q2(i,a){Qa=ha=!0;var l=i.pending;l===null?a.next=a:(a.next=l.next,l.next=a),i.pending=a}function X2(i,a,l){if((l&4194048)!==0){var f=a.lanes;f&=i.pendingLanes,l|=f,a.lanes=l,Je(i,l)}}var nh={readContext:Di,use:eu,useCallback:dr,useContext:dr,useEffect:dr,useImperativeHandle:dr,useLayoutEffect:dr,useInsertionEffect:dr,useMemo:dr,useReducer:dr,useRef:dr,useState:dr,useDebugValue:dr,useDeferredValue:dr,useTransition:dr,useSyncExternalStore:dr,useId:dr,useHostTransitionStatus:dr,useFormState:dr,useActionState:dr,useOptimistic:dr,useMemoCache:dr,useCacheRefresh:dr};nh.useEffectEvent=dr;var J2={readContext:Di,use:eu,useCallback:function(i,a){return di().memoizedState=[i,a===void 0?null:a],i},useContext:Di,useEffect:O2,useImperativeHandle:function(i,a,l){l=l!=null?l.concat([i]):null,nu(4194308,4,V2.bind(null,a,i),l)},useLayoutEffect:function(i,a){return nu(4194308,4,i,a)},useInsertionEffect:function(i,a){nu(4,2,i,a)},useMemo:function(i,a){var l=di();a=a===void 0?null:a;var f=i();if(ta){yt(!0);try{i()}finally{yt(!1)}}return l.memoizedState=[f,a],f},useReducer:function(i,a,l){var f=di();if(l!==void 0){var v=l(a);if(ta){yt(!0);try{l(a)}finally{yt(!1)}}}else v=a;return f.memoizedState=f.baseState=v,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:v},f.queue=i,i=i.dispatch=Gx.bind(null,Kt,i),[f.memoizedState,i]},useRef:function(i){var a=di();return i={current:i},a.memoizedState=i},useState:function(i){i=Uo(i);var a=i.queue,l=K2.bind(null,Kt,a);return a.dispatch=l,[i.memoizedState,l]},useDebugValue:jm,useDeferredValue:function(i,a){var l=di();return Fm(l,i,a)},useTransition:function(){var i=Uo(!1);return i=H2.bind(null,Kt,i.queue,!0,!1),di().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,a,l){var f=Kt,v=di();if(Nn){if(l===void 0)throw Error(r(407));l=l()}else{if(l=a(),br===null)throw Error(r(349));(In&127)!==0||uo(f,a,l)}v.memoizedState=l;var b={value:l,getSnapshot:a};return v.queue=b,O2(Jf.bind(null,f,b,i),[i]),f.flags|=2048,yl(9,{destroy:void 0},Xf.bind(null,f,b,l,a),null),l},useId:function(){var i=di(),a=br.identifierPrefix;if(Nn){var l=Wa,f=Ya;l=(f&~(1<<32-tn(f)-1)).toString(32)+l,a="_"+a+"R_"+l,l=Qr++,0<l&&(a+="H"+l.toString(32)),a+="_"}else l=Oc++,a="_"+a+"r_"+l.toString(32)+"_";return i.memoizedState=a},useHostTransitionStatus:Bm,useFormState:Vs,useActionState:Vs,useOptimistic:function(i){var a=di();a.memoizedState=a.baseState=i;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=l,a=Um.bind(null,Kt,!0,l),l.dispatch=a,[i,a]},useMemoCache:gl,useCacheRefresh:function(){return di().memoizedState=$x.bind(null,Kt)},useEffectEvent:function(i){var a=di(),l={impl:i};return a.memoizedState=l,function(){if((Zn&2)!==0)throw Error(r(440));return l.impl.apply(void 0,arguments)}}},zm={readContext:Di,use:eu,useCallback:U2,useContext:Di,useEffect:Pm,useImperativeHandle:B2,useInsertionEffect:j2,useLayoutEffect:F2,useMemo:z2,useReducer:Fc,useRef:Sd,useState:function(){return Fc(Fs)},useDebugValue:jm,useDeferredValue:function(i,a){var l=kr();return q2(l,Xt.memoizedState,i,a)},useTransition:function(){var i=Fc(Fs)[0],a=kr().memoizedState;return[typeof i=="boolean"?i:Bo(i),a]},useSyncExternalStore:Bc,useId:Y2,useHostTransitionStatus:Bm,useFormState:co,useActionState:co,useOptimistic:function(i,a){var l=kr();return bd(l,Xt,i,a)},useMemoCache:gl,useCacheRefresh:W2};zm.useEffectEvent=P2;var Z2={readContext:Di,use:eu,useCallback:U2,useContext:Di,useEffect:Pm,useImperativeHandle:B2,useInsertionEffect:j2,useLayoutEffect:F2,useMemo:z2,useReducer:Vc,useRef:Sd,useState:function(){return Vc(Fs)},useDebugValue:jm,useDeferredValue:function(i,a){var l=kr();return Xt===null?Fm(l,i,a):q2(l,Xt.memoizedState,i,a)},useTransition:function(){var i=Vc(Fs)[0],a=kr().memoizedState;return[typeof i=="boolean"?i:Bo(i),a]},useSyncExternalStore:Bc,useId:Y2,useHostTransitionStatus:Bm,useFormState:qc,useActionState:qc,useOptimistic:function(i,a){var l=kr();return Xt!==null?bd(l,Xt,i,a):(l.baseState=i,[i,l.queue.dispatch])},useMemoCache:gl,useCacheRefresh:W2};Z2.useEffectEvent=P2;function qm(i,a,l,f){a=i.memoizedState,l=l(f,a),l=l==null?a:_({},a,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var Hm={enqueueSetState:function(i,a,l){i=i._reactInternals;var f=vs(),v=nn(f);v.payload=a,l!=null&&(v.callback=l),a=yn(i,v,f),a!==null&&(ts(a,i,f),Xn(a,i,f))},enqueueReplaceState:function(i,a,l){i=i._reactInternals;var f=vs(),v=nn(f);v.tag=1,v.payload=a,l!=null&&(v.callback=l),a=yn(i,v,f),a!==null&&(ts(a,i,f),Xn(a,i,f))},enqueueForceUpdate:function(i,a){i=i._reactInternals;var l=vs(),f=nn(l);f.tag=2,a!=null&&(f.callback=a),a=yn(i,f,l),a!==null&&(ts(a,i,l),Xn(a,i,l))}};function ev(i,a,l,f,v,b,R){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(f,b,R):a.prototype&&a.prototype.isPureReactComponent?!no(l,f)||!no(v,b):!0}function tv(i,a,l,f){i=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(l,f),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(l,f),a.state!==i&&Hm.enqueueReplaceState(a,a.state,null)}function Ju(i,a){var l=a;if("ref"in a){l={};for(var f in a)f!=="ref"&&(l[f]=a[f])}if(i=i.defaultProps){l===a&&(l=_({},l));for(var v in i)l[v]===void 0&&(l[v]=i[v])}return l}function nv(i){Uu(i)}function rv(i){console.error(i)}function iv(i){Uu(i)}function Ed(i,a){try{var l=i.onUncaughtError;l(a.value,{componentStack:a.stack})}catch(f){setTimeout(function(){throw f})}}function av(i,a,l){try{var f=i.onCaughtError;f(l.value,{componentStack:l.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(v){setTimeout(function(){throw v})}}function $m(i,a,l){return l=nn(l),l.tag=3,l.payload={element:null},l.callback=function(){Ed(i,a)},l}function sv(i){return i=nn(i),i.tag=3,i}function ov(i,a,l,f){var v=l.type.getDerivedStateFromError;if(typeof v=="function"){var b=f.value;i.payload=function(){return v(b)},i.callback=function(){av(a,l,f)}}var R=l.stateNode;R!==null&&typeof R.componentDidCatch=="function"&&(i.callback=function(){av(a,l,f),typeof v!="function"&&(ou===null?ou=new Set([this]):ou.add(this));var X=f.stack;this.componentDidCatch(f.value,{componentStack:X!==null?X:""})})}function Yx(i,a,l,f,v){if(l.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){if(a=l.alternate,a!==null&&Po(a,l,v,!0),l=Tr.current,l!==null){switch(l.tag){case 31:case 13:return Vn===null?jd():l.alternate===null&&Xr===0&&(Xr=3),l.flags&=-257,l.flags|=65536,l.lanes=v,f===xe?l.flags|=16384:(a=l.updateQueue,a===null?l.updateQueue=new Set([f]):a.add(f),gg(i,f,v)),!1;case 22:return l.flags|=65536,f===xe?l.flags|=16384:(a=l.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([f])},l.updateQueue=a):(l=a.retryQueue,l===null?a.retryQueue=new Set([f]):l.add(f)),gg(i,f,v)),!1}throw Error(r(435,l.tag))}return gg(i,f,v),jd(),!1}if(Nn)return a=Tr.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=v,f!==ps&&(i=Error(r(422),{cause:f}),Xl(Ha(i,l)))):(f!==ps&&(a=Error(r(423),{cause:f}),Xl(Ha(a,l))),i=i.current.alternate,i.flags|=65536,v&=-v,i.lanes|=v,f=Ha(f,l),v=$m(i.stateNode,f,v),ni(i,v),Xr!==4&&(Xr=2)),!1;var b=Error(r(520),{cause:f});if(b=Ha(b,l),ch===null?ch=[b]:ch.push(b),Xr!==4&&(Xr=2),a===null)return!0;f=Ha(f,l),l=a;do{switch(l.tag){case 3:return l.flags|=65536,i=v&-v,l.lanes|=i,i=$m(l.stateNode,f,i),ni(l,i),!1;case 1:if(a=l.type,b=l.stateNode,(l.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(ou===null||!ou.has(b))))return l.flags|=65536,v&=-v,l.lanes|=v,v=sv(v),ov(v,i,l,f),ni(l,v),!1}l=l.return}while(l!==null);return!1}var Gm=Error(r(461)),pi=!1;function na(i,a,l,f){a.child=i===null?dn(a,null,l,f):yr(a,i.child,l,f)}function lv(i,a,l,f,v){l=l.render;var b=a.ref;if("ref"in f){var R={};for(var X in f)X!=="ref"&&(R[X]=f[X])}else R=f;return jo(a),f=Wf(i,a,l,R,b,v),X=Kf(),i!==null&&!pi?(Qf(i,a,v),bl(i,a,v)):(Nn&&X&&Hf(a),a.flags|=1,na(i,a,f,v),a.child)}function uv(i,a,l,f,v){if(i===null){var b=l.type;return typeof b=="function"&&!Tc(b)&&b.defaultProps===void 0&&l.compare===null?(a.tag=15,a.type=b,cv(i,a,b,f,v)):(i=Wl(l.type,null,f,a,a.mode,v),i.ref=a.ref,i.return=a,a.child=i)}if(b=i.child,!eg(i,v)){var R=b.memoizedProps;if(l=l.compare,l=l!==null?l:no,l(R,f)&&i.ref===a.ref)return bl(i,a,v)}return a.flags|=1,i=qa(b,f),i.ref=a.ref,i.return=a,a.child=i}function cv(i,a,l,f,v){if(i!==null){var b=i.memoizedProps;if(no(b,f)&&i.ref===a.ref)if(pi=!1,a.pendingProps=f=b,eg(i,v))(i.flags&131072)!==0&&(pi=!0);else return a.lanes=i.lanes,bl(i,a,v)}return Ym(i,a,l,f,v)}function fv(i,a,l,f){var v=f.children,b=i!==null?i.memoizedState:null;if(i===null&&a.stateNode===null&&(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),f.mode==="hidden"){if((a.flags&128)!==0){if(b=b!==null?b.baseLanes|l:l,i!==null){for(f=a.child=i.child,v=0;f!==null;)v=v|f.lanes|f.childLanes,f=f.sibling;f=v&~b}else f=0,a.child=null;return hv(i,a,b,l,f)}if((l&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},i!==null&&ne(a,b!==null?b.cachePool:null),b!==null?Er(a,b):Hn(),Wr(a);else return f=a.lanes=536870912,hv(i,a,b!==null?b.baseLanes|l:l,l,f)}else b!==null?(ne(a,b.cachePool),Er(a,b),Kr(),a.memoizedState=null):(i!==null&&ne(a,null),Hn(),Kr());return na(i,a,v,l),a.child}function rh(i,a){return i!==null&&i.tag===22||a.stateNode!==null||(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.sibling}function hv(i,a,l,f,v){var b=Z();return b=b===null?null:{parent:Ur._currentValue,pool:b},a.memoizedState={baseLanes:l,cachePool:b},i!==null&&ne(a,null),Hn(),Wr(a),i!==null&&Po(i,a,f,!0),a.childLanes=v,null}function Td(i,a){return a=Cd({mode:a.mode,children:a.children},i.mode),a.ref=i.ref,i.child=a,a.return=i,a}function dv(i,a,l){return yr(a,i.child,null,l),i=Td(a,a.pendingProps),i.flags|=2,ir(a),a.memoizedState=null,i}function Wx(i,a,l){var f=a.pendingProps,v=(a.flags&128)!==0;if(a.flags&=-129,i===null){if(Nn){if(f.mode==="hidden")return i=Td(a,f),a.lanes=536870912,rh(null,i);if(Jn(a),(i=vr)?(i=Ey(i,Lr),i=i!==null&&i.data==="&"?i:null,i!==null&&(a.memoizedState={dehydrated:i,treeContext:Lo!==null?{id:Ya,overflow:Wa}:null,retryLane:536870912,hydrationErrors:null},l=Nc(i),l.return=a,a.child=l,Ni=a,vr=null)):i=null,i===null)throw Mo(a);return a.lanes=536870912,null}return Td(a,f)}var b=i.memoizedState;if(b!==null){var R=b.dehydrated;if(Jn(a),v)if(a.flags&256)a.flags&=-257,a=dv(i,a,l);else if(a.memoizedState!==null)a.child=i.child,a.flags|=128,a=null;else throw Error(r(558));else if(pi||Po(i,a,l,!1),v=(l&i.childLanes)!==0,pi||v){if(f=br,f!==null&&(R=We(f,l),R!==0&&R!==b.retryLane))throw b.retryLane=R,so(i,R),ts(f,i,R),Gm;jd(),a=dv(i,a,l)}else i=b.treeContext,vr=Bs(R.nextSibling),Ni=a,Nn=!0,ea=null,Lr=!1,i!==null&&gd(a,i),a=Td(a,f),a.flags|=4096;return a}return i=qa(i.child,{mode:f.mode,children:f.children}),i.ref=a.ref,a.child=i,i.return=a,i}function Nd(i,a){var l=a.ref;if(l===null)i!==null&&i.ref!==null&&(a.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(r(284));(i===null||i.ref!==l)&&(a.flags|=4194816)}}function Ym(i,a,l,f,v){return jo(a),l=Wf(i,a,l,f,void 0,v),f=Kf(),i!==null&&!pi?(Qf(i,a,v),bl(i,a,v)):(Nn&&f&&Hf(a),a.flags|=1,na(i,a,l,v),a.child)}function pv(i,a,l,f,v,b){return jo(a),a.updateQueue=null,l=lo(a,f,l,v),Pc(i),f=Kf(),i!==null&&!pi?(Qf(i,a,b),bl(i,a,b)):(Nn&&f&&Hf(a),a.flags|=1,na(i,a,l,b),a.child)}function mv(i,a,l,f,v){if(jo(a),a.stateNode===null){var b=Ti,R=l.contextType;typeof R=="object"&&R!==null&&(b=Di(R)),b=new l(f,b),a.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=Hm,a.stateNode=b,b._reactInternals=a,b=a.stateNode,b.props=f,b.state=a.memoizedState,b.refs={},gt(a),R=l.contextType,b.context=typeof R=="object"&&R!==null?Di(R):Ti,b.state=a.memoizedState,R=l.getDerivedStateFromProps,typeof R=="function"&&(qm(a,l,R,f),b.state=a.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(R=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),R!==b.state&&Hm.enqueueReplaceState(b,b.state,null),Gr(a,f,b,v),hr(),b.state=a.memoizedState),typeof b.componentDidMount=="function"&&(a.flags|=4194308),f=!0}else if(i===null){b=a.stateNode;var X=a.memoizedProps,he=Ju(l,X);b.props=he;var Ve=b.context,Qe=l.contextType;R=Ti,typeof Qe=="object"&&Qe!==null&&(R=Di(Qe));var rt=l.getDerivedStateFromProps;Qe=typeof rt=="function"||typeof b.getSnapshotBeforeUpdate=="function",X=a.pendingProps!==X,Qe||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(X||Ve!==R)&&tv(a,b,f,R),At=!1;var Ue=a.memoizedState;b.state=Ue,Gr(a,f,b,v),hr(),Ve=a.memoizedState,X||Ue!==Ve||At?(typeof rt=="function"&&(qm(a,l,rt,f),Ve=a.memoizedState),(he=At||ev(a,l,he,f,Ue,Ve,R))?(Qe||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(a.flags|=4194308)):(typeof b.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=f,a.memoizedState=Ve),b.props=f,b.state=Ve,b.context=R,f=he):(typeof b.componentDidMount=="function"&&(a.flags|=4194308),f=!1)}else{b=a.stateNode,Ar(i,a),R=a.memoizedProps,Qe=Ju(l,R),b.props=Qe,rt=a.pendingProps,Ue=b.context,Ve=l.contextType,he=Ti,typeof Ve=="object"&&Ve!==null&&(he=Di(Ve)),X=l.getDerivedStateFromProps,(Ve=typeof X=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(R!==rt||Ue!==he)&&tv(a,b,f,he),At=!1,Ue=a.memoizedState,b.state=Ue,Gr(a,f,b,v),hr();var qe=a.memoizedState;R!==rt||Ue!==qe||At||i!==null&&i.dependencies!==null&&Lc(i.dependencies)?(typeof X=="function"&&(qm(a,l,X,f),qe=a.memoizedState),(Qe=At||ev(a,l,Qe,f,Ue,qe,he)||i!==null&&i.dependencies!==null&&Lc(i.dependencies))?(Ve||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(f,qe,he),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(f,qe,he)),typeof b.componentDidUpdate=="function"&&(a.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof b.componentDidUpdate!="function"||R===i.memoizedProps&&Ue===i.memoizedState||(a.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||R===i.memoizedProps&&Ue===i.memoizedState||(a.flags|=1024),a.memoizedProps=f,a.memoizedState=qe),b.props=f,b.state=qe,b.context=he,f=Qe):(typeof b.componentDidUpdate!="function"||R===i.memoizedProps&&Ue===i.memoizedState||(a.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||R===i.memoizedProps&&Ue===i.memoizedState||(a.flags|=1024),f=!1)}return b=f,Nd(i,a),f=(a.flags&128)!==0,b||f?(b=a.stateNode,l=f&&typeof l.getDerivedStateFromError!="function"?null:b.render(),a.flags|=1,i!==null&&f?(a.child=yr(a,i.child,null,v),a.child=yr(a,null,l,v)):na(i,a,l,v),a.memoizedState=b.state,i=a.child):i=bl(i,a,v),i}function gv(i,a,l,f){return pl(),a.flags|=256,na(i,a,l,f),a.child}var Wm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Km(i){return{baseLanes:i,cachePool:oe()}}function Qm(i,a,l){return i=i!==null?i.childLanes&~l:0,a&&(i|=gs),i}function vv(i,a,l){var f=a.pendingProps,v=!1,b=(a.flags&128)!==0,R;if((R=b)||(R=i!==null&&i.memoizedState===null?!1:(jn.current&2)!==0),R&&(v=!0,a.flags&=-129),R=(a.flags&32)!==0,a.flags&=-33,i===null){if(Nn){if(v?zr(a):Kr(),(i=vr)?(i=Ey(i,Lr),i=i!==null&&i.data!=="&"?i:null,i!==null&&(a.memoizedState={dehydrated:i,treeContext:Lo!==null?{id:Ya,overflow:Wa}:null,retryLane:536870912,hydrationErrors:null},l=Nc(i),l.return=a,a.child=l,Ni=a,vr=null)):i=null,i===null)throw Mo(a);return Lg(i)?a.lanes=32:a.lanes=536870912,null}var X=f.children;return f=f.fallback,v?(Kr(),v=a.mode,X=Cd({mode:"hidden",children:X},v),f=Io(f,v,l,null),X.return=a,f.return=a,X.sibling=f,a.child=X,f=a.child,f.memoizedState=Km(l),f.childLanes=Qm(i,R,l),a.memoizedState=Wm,rh(null,f)):(zr(a),Xm(a,X))}var he=i.memoizedState;if(he!==null&&(X=he.dehydrated,X!==null)){if(b)a.flags&256?(zr(a),a.flags&=-257,a=Jm(i,a,l)):a.memoizedState!==null?(Kr(),a.child=i.child,a.flags|=128,a=null):(Kr(),X=f.fallback,v=a.mode,f=Cd({mode:"visible",children:f.children},v),X=Io(X,v,l,null),X.flags|=2,f.return=a,X.return=a,f.sibling=X,a.child=f,yr(a,i.child,null,l),f=a.child,f.memoizedState=Km(l),f.childLanes=Qm(i,R,l),a.memoizedState=Wm,a=rh(null,f));else if(zr(a),Lg(X)){if(R=X.nextSibling&&X.nextSibling.dataset,R)var Ve=R.dgst;R=Ve,f=Error(r(419)),f.stack="",f.digest=R,Xl({value:f,source:null,stack:null}),a=Jm(i,a,l)}else if(pi||Po(i,a,l,!1),R=(l&i.childLanes)!==0,pi||R){if(R=br,R!==null&&(f=We(R,l),f!==0&&f!==he.retryLane))throw he.retryLane=f,so(i,f),ts(R,i,f),Gm;Ig(X)||jd(),a=Jm(i,a,l)}else Ig(X)?(a.flags|=192,a.child=i.child,a=null):(i=he.treeContext,vr=Bs(X.nextSibling),Ni=a,Nn=!0,ea=null,Lr=!1,i!==null&&gd(a,i),a=Xm(a,f.children),a.flags|=4096);return a}return v?(Kr(),X=f.fallback,v=a.mode,he=i.child,Ve=he.sibling,f=qa(he,{mode:"hidden",children:f.children}),f.subtreeFlags=he.subtreeFlags&65011712,Ve!==null?X=qa(Ve,X):(X=Io(X,v,l,null),X.flags|=2),X.return=a,f.return=a,f.sibling=X,a.child=f,rh(null,f),f=a.child,X=i.child.memoizedState,X===null?X=Km(l):(v=X.cachePool,v!==null?(he=Ur._currentValue,v=v.parent!==he?{parent:he,pool:he}:v):v=oe(),X={baseLanes:X.baseLanes|l,cachePool:v}),f.memoizedState=X,f.childLanes=Qm(i,R,l),a.memoizedState=Wm,rh(i.child,f)):(zr(a),l=i.child,i=l.sibling,l=qa(l,{mode:"visible",children:f.children}),l.return=a,l.sibling=null,i!==null&&(R=a.deletions,R===null?(a.deletions=[i],a.flags|=16):R.push(i)),a.child=l,a.memoizedState=null,l)}function Xm(i,a){return a=Cd({mode:"visible",children:a},i.mode),a.return=i,i.child=a}function Cd(i,a){return i=Vi(22,i,null,a),i.lanes=0,i}function Jm(i,a,l){return yr(a,i.child,null,l),i=Xm(a,a.pendingProps.children),i.flags|=2,a.memoizedState=null,i}function yv(i,a,l){i.lanes|=a;var f=i.alternate;f!==null&&(f.lanes|=a),Jl(i.return,a,l)}function Zm(i,a,l,f,v,b){var R=i.memoizedState;R===null?i.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:f,tail:l,tailMode:v,treeForkCount:b}:(R.isBackwards=a,R.rendering=null,R.renderingStartTime=0,R.last=f,R.tail=l,R.tailMode=v,R.treeForkCount=b)}function bv(i,a,l){var f=a.pendingProps,v=f.revealOrder,b=f.tail;f=f.children;var R=jn.current,X=(R&2)!==0;if(X?(R=R&1|2,a.flags|=128):R&=1,K(jn,R),na(i,a,f,l),f=Nn?Yu:0,!X&&i!==null&&(i.flags&128)!==0)e:for(i=a.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&yv(i,l,a);else if(i.tag===19)yv(i,l,a);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===a)break e;for(;i.sibling===null;){if(i.return===null||i.return===a)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(v){case"forwards":for(l=a.child,v=null;l!==null;)i=l.alternate,i!==null&&Ui(i)===null&&(v=l),l=l.sibling;l=v,l===null?(v=a.child,a.child=null):(v=l.sibling,l.sibling=null),Zm(a,!1,v,l,b,f);break;case"backwards":case"unstable_legacy-backwards":for(l=null,v=a.child,a.child=null;v!==null;){if(i=v.alternate,i!==null&&Ui(i)===null){a.child=v;break}i=v.sibling,v.sibling=l,l=v,v=i}Zm(a,!0,l,null,b,f);break;case"together":Zm(a,!1,null,null,void 0,f);break;default:a.memoizedState=null}return a.child}function bl(i,a,l){if(i!==null&&(a.dependencies=i.dependencies),su|=a.lanes,(l&a.childLanes)===0)if(i!==null){if(Po(i,a,l,!1),(l&a.childLanes)===0)return null}else return null;if(i!==null&&a.child!==i.child)throw Error(r(153));if(a.child!==null){for(i=a.child,l=qa(i,i.pendingProps),a.child=l,l.return=a;i.sibling!==null;)i=i.sibling,l=l.sibling=qa(i,i.pendingProps),l.return=a;l.sibling=null}return a.child}function eg(i,a){return(i.lanes&a)!==0?!0:(i=i.dependencies,!!(i!==null&&Lc(i)))}function Kx(i,a,l){switch(a.tag){case 3:Te(a,a.stateNode.containerInfo),Oo(a,Ur,i.memoizedState.cache),pl();break;case 27:case 5:$e(a);break;case 4:Te(a,a.stateNode.containerInfo);break;case 10:Oo(a,a.type,a.memoizedProps.value);break;case 31:if(a.memoizedState!==null)return a.flags|=128,Jn(a),null;break;case 13:var f=a.memoizedState;if(f!==null)return f.dehydrated!==null?(zr(a),a.flags|=128,null):(l&a.child.childLanes)!==0?vv(i,a,l):(zr(a),i=bl(i,a,l),i!==null?i.sibling:null);zr(a);break;case 19:var v=(i.flags&128)!==0;if(f=(l&a.childLanes)!==0,f||(Po(i,a,l,!1),f=(l&a.childLanes)!==0),v){if(f)return bv(i,a,l);a.flags|=128}if(v=a.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),K(jn,jn.current),f)break;return null;case 22:return a.lanes=0,fv(i,a,l,a.pendingProps);case 24:Oo(a,Ur,i.memoizedState.cache)}return bl(i,a,l)}function wv(i,a,l){if(i!==null)if(i.memoizedProps!==a.pendingProps)pi=!0;else{if(!eg(i,l)&&(a.flags&128)===0)return pi=!1,Kx(i,a,l);pi=(i.flags&131072)!==0}else pi=!1,Nn&&(a.flags&1048576)!==0&&md(a,Yu,a.index);switch(a.lanes=0,a.tag){case 16:e:{var f=a.pendingProps;if(i=Le(a.elementType),a.type=i,typeof i=="function")Tc(i)?(f=Ju(i,f),a.tag=1,a=mv(null,a,i,f,l)):(a.tag=0,a=Ym(null,a,i,f,l));else{if(i!=null){var v=i.$$typeof;if(v===re){a.tag=11,a=lv(null,a,i,f,l);break e}else if(v===z){a.tag=14,a=uv(null,a,i,f,l);break e}}throw a=ce(i)||i,Error(r(306,a,""))}}return a;case 0:return Ym(i,a,a.type,a.pendingProps,l);case 1:return f=a.type,v=Ju(f,a.pendingProps),mv(i,a,f,v,l);case 3:e:{if(Te(a,a.stateNode.containerInfo),i===null)throw Error(r(387));f=a.pendingProps;var b=a.memoizedState;v=b.element,Ar(i,a),Gr(a,f,null,l);var R=a.memoizedState;if(f=R.cache,Oo(a,Ur,f),f!==b.cache&&ml(a,[Ur],l,!0),hr(),f=R.element,b.isDehydrated)if(b={element:f,isDehydrated:!1,cache:R.cache},a.updateQueue.baseState=b,a.memoizedState=b,a.flags&256){a=gv(i,a,f,l);break e}else if(f!==v){v=Ha(Error(r(424)),a),Xl(v),a=gv(i,a,f,l);break e}else{switch(i=a.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(vr=Bs(i.firstChild),Ni=a,Nn=!0,ea=null,Lr=!0,l=dn(a,null,f,l),a.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(pl(),f===v){a=bl(i,a,l);break e}na(i,a,f,l)}a=a.child}return a;case 26:return Nd(i,a),i===null?(l=Iy(a.type,null,a.pendingProps,null))?a.memoizedState=l:Nn||(l=a.type,i=a.pendingProps,f=Hd(fe.current).createElement(l),f[bn]=a,f[Qn]=i,ra(f,l,i),Sr(f),a.stateNode=f):a.memoizedState=Iy(a.type,i.memoizedProps,a.pendingProps,i.memoizedState),null;case 27:return $e(a),i===null&&Nn&&(f=a.stateNode=Cy(a.type,a.pendingProps,fe.current),Ni=a,Lr=!0,v=vr,fu(a.type)?(Mg=v,vr=Bs(f.firstChild)):vr=v),na(i,a,a.pendingProps.children,l),Nd(i,a),i===null&&(a.flags|=4194304),a.child;case 5:return i===null&&Nn&&((v=f=vr)&&(f=ES(f,a.type,a.pendingProps,Lr),f!==null?(a.stateNode=f,Ni=a,vr=Bs(f.firstChild),Lr=!1,v=!0):v=!1),v||Mo(a)),$e(a),v=a.type,b=a.pendingProps,R=i!==null?i.memoizedProps:null,f=b.children,Cg(v,b)?f=null:R!==null&&Cg(v,R)&&(a.flags|=32),a.memoizedState!==null&&(v=Wf(i,a,Om,null,null,l),yh._currentValue=v),Nd(i,a),na(i,a,f,l),a.child;case 6:return i===null&&Nn&&((i=l=vr)&&(l=TS(l,a.pendingProps,Lr),l!==null?(a.stateNode=l,Ni=a,vr=null,i=!0):i=!1),i||Mo(a)),null;case 13:return vv(i,a,l);case 4:return Te(a,a.stateNode.containerInfo),f=a.pendingProps,i===null?a.child=yr(a,null,f,l):na(i,a,f,l),a.child;case 11:return lv(i,a,a.type,a.pendingProps,l);case 7:return na(i,a,a.pendingProps,l),a.child;case 8:return na(i,a,a.pendingProps.children,l),a.child;case 12:return na(i,a,a.pendingProps.children,l),a.child;case 10:return f=a.pendingProps,Oo(a,a.type,f.value),na(i,a,f.children,l),a.child;case 9:return v=a.type._context,f=a.pendingProps.children,jo(a),v=Di(v),f=f(v),a.flags|=1,na(i,a,f,l),a.child;case 14:return uv(i,a,a.type,a.pendingProps,l);case 15:return cv(i,a,a.type,a.pendingProps,l);case 19:return bv(i,a,l);case 31:return Wx(i,a,l);case 22:return fv(i,a,l,a.pendingProps);case 24:return jo(a),f=Di(Ur),i===null?(v=Z(),v===null&&(v=br,b=Zl(),v.pooledCache=b,b.refCount++,b!==null&&(v.pooledCacheLanes|=l),v=b),a.memoizedState={parent:f,cache:v},gt(a),Oo(a,Ur,v)):((i.lanes&l)!==0&&(Ar(i,a),Gr(a,null,null,l),hr()),v=i.memoizedState,b=a.memoizedState,v.parent!==f?(v={parent:f,cache:f},a.memoizedState=v,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=v),Oo(a,Ur,f)):(f=b.cache,Oo(a,Ur,f),f!==v.cache&&ml(a,[Ur],l,!0))),na(i,a,a.pendingProps.children,l),a.child;case 29:throw a.pendingProps}throw Error(r(156,a.tag))}function wl(i){i.flags|=4}function tg(i,a,l,f,v){if((a=(i.mode&32)!==0)&&(a=!1),a){if(i.flags|=16777216,(v&335544128)===v)if(i.stateNode.complete)i.flags|=8192;else if(Yv())i.flags|=8192;else throw He=xe,Pe}else i.flags&=-16777217}function _v(i,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!Py(a))if(Yv())i.flags|=8192;else throw He=xe,Pe}function Dd(i,a){a!==null&&(i.flags|=4),i.flags&16384&&(a=i.tag!==22?ze():536870912,i.lanes|=a,Yc|=a)}function ih(i,a){if(!Nn)switch(i.tailMode){case"hidden":a=i.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var f=null;l!==null;)l.alternate!==null&&(f=l),l=l.sibling;f===null?a||i.tail===null?i.tail=null:i.tail.sibling=null:f.sibling=null}}function Nr(i){var a=i.alternate!==null&&i.alternate.child===i.child,l=0,f=0;if(a)for(var v=i.child;v!==null;)l|=v.lanes|v.childLanes,f|=v.subtreeFlags&65011712,f|=v.flags&65011712,v.return=i,v=v.sibling;else for(v=i.child;v!==null;)l|=v.lanes|v.childLanes,f|=v.subtreeFlags,f|=v.flags,v.return=i,v=v.sibling;return i.subtreeFlags|=f,i.childLanes=l,a}function Qx(i,a,l){var f=a.pendingProps;switch(Rc(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Nr(a),null;case 1:return Nr(a),null;case 3:return l=a.stateNode,f=null,i!==null&&(f=i.memoizedState.cache),a.memoizedState.cache!==f&&(a.flags|=2048),Ka(Ur),Me(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(i===null||i.child===null)&&(Ci(a)?wl(a):i===null||i.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Gf())),Nr(a),null;case 26:var v=a.type,b=a.memoizedState;return i===null?(wl(a),b!==null?(Nr(a),_v(a,b)):(Nr(a),tg(a,v,null,f,l))):b?b!==i.memoizedState?(wl(a),Nr(a),_v(a,b)):(Nr(a),a.flags&=-16777217):(i=i.memoizedProps,i!==f&&wl(a),Nr(a),tg(a,v,i,f,l)),null;case 27:if(ut(a),l=fe.current,v=a.type,i!==null&&a.stateNode!=null)i.memoizedProps!==f&&wl(a);else{if(!f){if(a.stateNode===null)throw Error(r(166));return Nr(a),null}i=te.current,Ci(a)?$f(a):(i=Cy(v,f,l),a.stateNode=i,wl(a))}return Nr(a),null;case 5:if(ut(a),v=a.type,i!==null&&a.stateNode!=null)i.memoizedProps!==f&&wl(a);else{if(!f){if(a.stateNode===null)throw Error(r(166));return Nr(a),null}if(b=te.current,Ci(a))$f(a);else{var R=Hd(fe.current);switch(b){case 1:b=R.createElementNS("http://www.w3.org/2000/svg",v);break;case 2:b=R.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;default:switch(v){case"svg":b=R.createElementNS("http://www.w3.org/2000/svg",v);break;case"math":b=R.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;case"script":b=R.createElement("div"),b.innerHTML="<script><\/script>",b=b.removeChild(b.firstChild);break;case"select":b=typeof f.is=="string"?R.createElement("select",{is:f.is}):R.createElement("select"),f.multiple?b.multiple=!0:f.size&&(b.size=f.size);break;default:b=typeof f.is=="string"?R.createElement(v,{is:f.is}):R.createElement(v)}}b[bn]=a,b[Qn]=f;e:for(R=a.child;R!==null;){if(R.tag===5||R.tag===6)b.appendChild(R.stateNode);else if(R.tag!==4&&R.tag!==27&&R.child!==null){R.child.return=R,R=R.child;continue}if(R===a)break e;for(;R.sibling===null;){if(R.return===null||R.return===a)break e;R=R.return}R.sibling.return=R.return,R=R.sibling}a.stateNode=b;e:switch(ra(b,v,f),v){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}f&&wl(a)}}return Nr(a),tg(a,a.type,i===null?null:i.memoizedProps,a.pendingProps,l),null;case 6:if(i&&a.stateNode!=null)i.memoizedProps!==f&&wl(a);else{if(typeof f!="string"&&a.stateNode===null)throw Error(r(166));if(i=fe.current,Ci(a)){if(i=a.stateNode,l=a.memoizedProps,f=null,v=Ni,v!==null)switch(v.tag){case 27:case 5:f=v.memoizedProps}i[bn]=a,i=!!(i.nodeValue===l||f!==null&&f.suppressHydrationWarning===!0||vy(i.nodeValue,l)),i||Mo(a,!0)}else i=Hd(i).createTextNode(f),i[bn]=a,a.stateNode=i}return Nr(a),null;case 31:if(l=a.memoizedState,i===null||i.memoizedState!==null){if(f=Ci(a),l!==null){if(i===null){if(!f)throw Error(r(318));if(i=a.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(557));i[bn]=a}else pl(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Nr(a),i=!1}else l=Gf(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=l),i=!0;if(!i)return a.flags&256?(ir(a),a):(ir(a),null);if((a.flags&128)!==0)throw Error(r(558))}return Nr(a),null;case 13:if(f=a.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(v=Ci(a),f!==null&&f.dehydrated!==null){if(i===null){if(!v)throw Error(r(318));if(v=a.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(r(317));v[bn]=a}else pl(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Nr(a),v=!1}else v=Gf(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=v),v=!0;if(!v)return a.flags&256?(ir(a),a):(ir(a),null)}return ir(a),(a.flags&128)!==0?(a.lanes=l,a):(l=f!==null,i=i!==null&&i.memoizedState!==null,l&&(f=a.child,v=null,f.alternate!==null&&f.alternate.memoizedState!==null&&f.alternate.memoizedState.cachePool!==null&&(v=f.alternate.memoizedState.cachePool.pool),b=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(b=f.memoizedState.cachePool.pool),b!==v&&(f.flags|=2048)),l!==i&&l&&(a.child.flags|=8192),Dd(a,a.updateQueue),Nr(a),null);case 4:return Me(),i===null&&Sg(a.stateNode.containerInfo),Nr(a),null;case 10:return Ka(a.type),Nr(a),null;case 19:if(P(jn),f=a.memoizedState,f===null)return Nr(a),null;if(v=(a.flags&128)!==0,b=f.rendering,b===null)if(v)ih(f,!1);else{if(Xr!==0||i!==null&&(i.flags&128)!==0)for(i=a.child;i!==null;){if(b=Ui(i),b!==null){for(a.flags|=128,ih(f,!1),i=b.updateQueue,a.updateQueue=i,Dd(a,i),a.subtreeFlags=0,i=l,l=a.child;l!==null;)$u(l,i),l=l.sibling;return K(jn,jn.current&1|2),Nn&&La(a,f.treeForkCount),a.child}i=i.sibling}f.tail!==null&&Ut()>kd&&(a.flags|=128,v=!0,ih(f,!1),a.lanes=4194304)}else{if(!v)if(i=Ui(b),i!==null){if(a.flags|=128,v=!0,i=i.updateQueue,a.updateQueue=i,Dd(a,i),ih(f,!0),f.tail===null&&f.tailMode==="hidden"&&!b.alternate&&!Nn)return Nr(a),null}else 2*Ut()-f.renderingStartTime>kd&&l!==536870912&&(a.flags|=128,v=!0,ih(f,!1),a.lanes=4194304);f.isBackwards?(b.sibling=a.child,a.child=b):(i=f.last,i!==null?i.sibling=b:a.child=b,f.last=b)}return f.tail!==null?(i=f.tail,f.rendering=i,f.tail=i.sibling,f.renderingStartTime=Ut(),i.sibling=null,l=jn.current,K(jn,v?l&1|2:l&1),Nn&&La(a,f.treeForkCount),i):(Nr(a),null);case 22:case 23:return ir(a),ri(),f=a.memoizedState!==null,i!==null?i.memoizedState!==null!==f&&(a.flags|=8192):f&&(a.flags|=8192),f?(l&536870912)!==0&&(a.flags&128)===0&&(Nr(a),a.subtreeFlags&6&&(a.flags|=8192)):Nr(a),l=a.updateQueue,l!==null&&Dd(a,l.retryQueue),l=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),f=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(f=a.memoizedState.cachePool.pool),f!==l&&(a.flags|=2048),i!==null&&P(G),null;case 24:return l=null,i!==null&&(l=i.memoizedState.cache),a.memoizedState.cache!==l&&(a.flags|=2048),Ka(Ur),Nr(a),null;case 25:return null;case 30:return null}throw Error(r(156,a.tag))}function Xx(i,a){switch(Rc(a),a.tag){case 1:return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 3:return Ka(Ur),Me(),i=a.flags,(i&65536)!==0&&(i&128)===0?(a.flags=i&-65537|128,a):null;case 26:case 27:case 5:return ut(a),null;case 31:if(a.memoizedState!==null){if(ir(a),a.alternate===null)throw Error(r(340));pl()}return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 13:if(ir(a),i=a.memoizedState,i!==null&&i.dehydrated!==null){if(a.alternate===null)throw Error(r(340));pl()}return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 19:return P(jn),null;case 4:return Me(),null;case 10:return Ka(a.type),null;case 22:case 23:return ir(a),ri(),i!==null&&P(G),i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 24:return Ka(Ur),null;case 25:return null;default:return null}}function xv(i,a){switch(Rc(a),a.tag){case 3:Ka(Ur),Me();break;case 26:case 27:case 5:ut(a);break;case 4:Me();break;case 31:a.memoizedState!==null&&ir(a);break;case 13:ir(a);break;case 19:P(jn);break;case 10:Ka(a.type);break;case 22:case 23:ir(a),ri(),i!==null&&P(G);break;case 24:Ka(Ur)}}function ah(i,a){try{var l=a.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var v=f.next;l=v;do{if((l.tag&i)===i){f=void 0;var b=l.create,R=l.inst;f=b(),R.destroy=f}l=l.next}while(l!==v)}}catch(X){sr(a,a.return,X)}}function iu(i,a,l){try{var f=a.updateQueue,v=f!==null?f.lastEffect:null;if(v!==null){var b=v.next;f=b;do{if((f.tag&i)===i){var R=f.inst,X=R.destroy;if(X!==void 0){R.destroy=void 0,v=a;var he=l,Ve=X;try{Ve()}catch(Qe){sr(v,he,Qe)}}}f=f.next}while(f!==b)}}catch(Qe){sr(a,a.return,Qe)}}function Sv(i){var a=i.updateQueue;if(a!==null){var l=i.stateNode;try{Yr(a,l)}catch(f){sr(i,i.return,f)}}}function Av(i,a,l){l.props=Ju(i.type,i.memoizedProps),l.state=i.memoizedState;try{l.componentWillUnmount()}catch(f){sr(i,a,f)}}function sh(i,a){try{var l=i.ref;if(l!==null){switch(i.tag){case 26:case 27:case 5:var f=i.stateNode;break;case 30:f=i.stateNode;break;default:f=i.stateNode}typeof l=="function"?i.refCleanup=l(f):l.current=f}}catch(v){sr(i,a,v)}}function zo(i,a){var l=i.ref,f=i.refCleanup;if(l!==null)if(typeof f=="function")try{f()}catch(v){sr(i,a,v)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(v){sr(i,a,v)}else l.current=null}function Ev(i){var a=i.type,l=i.memoizedProps,f=i.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":l.autoFocus&&f.focus();break e;case"img":l.src?f.src=l.src:l.srcSet&&(f.srcset=l.srcSet)}}catch(v){sr(i,i.return,v)}}function ng(i,a,l){try{var f=i.stateNode;bS(f,i.type,l,a),f[Qn]=a}catch(v){sr(i,i.return,v)}}function Tv(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&fu(i.type)||i.tag===4}function rg(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Tv(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&fu(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function ig(i,a,l){var f=i.tag;if(f===5||f===6)i=i.stateNode,a?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(i,a):(a=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,a.appendChild(i),l=l._reactRootContainer,l!=null||a.onclick!==null||(a.onclick=Ea));else if(f!==4&&(f===27&&fu(i.type)&&(l=i.stateNode,a=null),i=i.child,i!==null))for(ig(i,a,l),i=i.sibling;i!==null;)ig(i,a,l),i=i.sibling}function Rd(i,a,l){var f=i.tag;if(f===5||f===6)i=i.stateNode,a?l.insertBefore(i,a):l.appendChild(i);else if(f!==4&&(f===27&&fu(i.type)&&(l=i.stateNode),i=i.child,i!==null))for(Rd(i,a,l),i=i.sibling;i!==null;)Rd(i,a,l),i=i.sibling}function Nv(i){var a=i.stateNode,l=i.memoizedProps;try{for(var f=i.type,v=a.attributes;v.length;)a.removeAttributeNode(v[0]);ra(a,f,l),a[bn]=i,a[Qn]=l}catch(b){sr(i,i.return,b)}}var _l=!1,mi=!1,ag=!1,Cv=typeof WeakSet=="function"?WeakSet:Set,zi=null;function Jx(i,a){if(i=i.containerInfo,Tg=Xd,i=io(i),Os(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else e:{l=(l=i.ownerDocument)&&l.defaultView||window;var f=l.getSelection&&l.getSelection();if(f&&f.rangeCount!==0){l=f.anchorNode;var v=f.anchorOffset,b=f.focusNode;f=f.focusOffset;try{l.nodeType,b.nodeType}catch{l=null;break e}var R=0,X=-1,he=-1,Ve=0,Qe=0,rt=i,Ue=null;t:for(;;){for(var qe;rt!==l||v!==0&&rt.nodeType!==3||(X=R+v),rt!==b||f!==0&&rt.nodeType!==3||(he=R+f),rt.nodeType===3&&(R+=rt.nodeValue.length),(qe=rt.firstChild)!==null;)Ue=rt,rt=qe;for(;;){if(rt===i)break t;if(Ue===l&&++Ve===v&&(X=R),Ue===b&&++Qe===f&&(he=R),(qe=rt.nextSibling)!==null)break;rt=Ue,Ue=rt.parentNode}rt=qe}l=X===-1||he===-1?null:{start:X,end:he}}else l=null}l=l||{start:0,end:0}}else l=null;for(Ng={focusedElem:i,selectionRange:l},Xd=!1,zi=a;zi!==null;)if(a=zi,i=a.child,(a.subtreeFlags&1028)!==0&&i!==null)i.return=a,zi=i;else for(;zi!==null;){switch(a=zi,b=a.alternate,i=a.flags,a.tag){case 0:if((i&4)!==0&&(i=a.updateQueue,i=i!==null?i.events:null,i!==null))for(l=0;l<i.length;l++)v=i[l],v.ref.impl=v.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&b!==null){i=void 0,l=a,v=b.memoizedProps,b=b.memoizedState,f=l.stateNode;try{var It=Ju(l.type,v);i=f.getSnapshotBeforeUpdate(It,b),f.__reactInternalSnapshotBeforeUpdate=i}catch(an){sr(l,l.return,an)}}break;case 3:if((i&1024)!==0){if(i=a.stateNode.containerInfo,l=i.nodeType,l===9)Rg(i);else if(l===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Rg(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=a.sibling,i!==null){i.return=a.return,zi=i;break}zi=a.return}}function Dv(i,a,l){var f=l.flags;switch(l.tag){case 0:case 11:case 15:Sl(i,l),f&4&&ah(5,l);break;case 1:if(Sl(i,l),f&4)if(i=l.stateNode,a===null)try{i.componentDidMount()}catch(R){sr(l,l.return,R)}else{var v=Ju(l.type,a.memoizedProps);a=a.memoizedState;try{i.componentDidUpdate(v,a,i.__reactInternalSnapshotBeforeUpdate)}catch(R){sr(l,l.return,R)}}f&64&&Sv(l),f&512&&sh(l,l.return);break;case 3:if(Sl(i,l),f&64&&(i=l.updateQueue,i!==null)){if(a=null,l.child!==null)switch(l.child.tag){case 27:case 5:a=l.child.stateNode;break;case 1:a=l.child.stateNode}try{Yr(i,a)}catch(R){sr(l,l.return,R)}}break;case 27:a===null&&f&4&&Nv(l);case 26:case 5:Sl(i,l),a===null&&f&4&&Ev(l),f&512&&sh(l,l.return);break;case 12:Sl(i,l);break;case 31:Sl(i,l),f&4&&Lv(i,l);break;case 13:Sl(i,l),f&4&&Mv(i,l),f&64&&(i=l.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(l=oS.bind(null,l),NS(i,l))));break;case 22:if(f=l.memoizedState!==null||_l,!f){a=a!==null&&a.memoizedState!==null||mi,v=_l;var b=mi;_l=f,(mi=a)&&!b?Al(i,l,(l.subtreeFlags&8772)!==0):Sl(i,l),_l=v,mi=b}break;case 30:break;default:Sl(i,l)}}function Rv(i){var a=i.alternate;a!==null&&(i.alternate=null,Rv(a)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(a=i.stateNode,a!==null&&Sa(a)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Or=null,Xa=!1;function xl(i,a,l){for(l=l.child;l!==null;)Iv(i,a,l),l=l.sibling}function Iv(i,a,l){if(jt&&typeof jt.onCommitFiberUnmount=="function")try{jt.onCommitFiberUnmount(Yt,l)}catch{}switch(l.tag){case 26:mi||zo(l,a),xl(i,a,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:mi||zo(l,a);var f=Or,v=Xa;fu(l.type)&&(Or=l.stateNode,Xa=!1),xl(i,a,l),mh(l.stateNode),Or=f,Xa=v;break;case 5:mi||zo(l,a);case 6:if(f=Or,v=Xa,Or=null,xl(i,a,l),Or=f,Xa=v,Or!==null)if(Xa)try{(Or.nodeType===9?Or.body:Or.nodeName==="HTML"?Or.ownerDocument.body:Or).removeChild(l.stateNode)}catch(b){sr(l,a,b)}else try{Or.removeChild(l.stateNode)}catch(b){sr(l,a,b)}break;case 18:Or!==null&&(Xa?(i=Or,Sy(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,l.stateNode),tf(i)):Sy(Or,l.stateNode));break;case 4:f=Or,v=Xa,Or=l.stateNode.containerInfo,Xa=!0,xl(i,a,l),Or=f,Xa=v;break;case 0:case 11:case 14:case 15:iu(2,l,a),mi||iu(4,l,a),xl(i,a,l);break;case 1:mi||(zo(l,a),f=l.stateNode,typeof f.componentWillUnmount=="function"&&Av(l,a,f)),xl(i,a,l);break;case 21:xl(i,a,l);break;case 22:mi=(f=mi)||l.memoizedState!==null,xl(i,a,l),mi=f;break;default:xl(i,a,l)}}function Lv(i,a){if(a.memoizedState===null&&(i=a.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{tf(i)}catch(l){sr(a,a.return,l)}}}function Mv(i,a){if(a.memoizedState===null&&(i=a.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{tf(i)}catch(l){sr(a,a.return,l)}}function Zx(i){switch(i.tag){case 31:case 13:case 19:var a=i.stateNode;return a===null&&(a=i.stateNode=new Cv),a;case 22:return i=i.stateNode,a=i._retryCache,a===null&&(a=i._retryCache=new Cv),a;default:throw Error(r(435,i.tag))}}function Id(i,a){var l=Zx(i);a.forEach(function(f){if(!l.has(f)){l.add(f);var v=lS.bind(null,i,f);f.then(v,v)}})}function Ja(i,a){var l=a.deletions;if(l!==null)for(var f=0;f<l.length;f++){var v=l[f],b=i,R=a,X=R;e:for(;X!==null;){switch(X.tag){case 27:if(fu(X.type)){Or=X.stateNode,Xa=!1;break e}break;case 5:Or=X.stateNode,Xa=!1;break e;case 3:case 4:Or=X.stateNode.containerInfo,Xa=!0;break e}X=X.return}if(Or===null)throw Error(r(160));Iv(b,R,v),Or=null,Xa=!1,b=v.alternate,b!==null&&(b.return=null),v.return=null}if(a.subtreeFlags&13886)for(a=a.child;a!==null;)kv(a,i),a=a.sibling}var ho=null;function kv(i,a){var l=i.alternate,f=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Ja(a,i),Za(i),f&4&&(iu(3,i,i.return),ah(3,i),iu(5,i,i.return));break;case 1:Ja(a,i),Za(i),f&512&&(mi||l===null||zo(l,l.return)),f&64&&_l&&(i=i.updateQueue,i!==null&&(f=i.callbacks,f!==null&&(l=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=l===null?f:l.concat(f))));break;case 26:var v=ho;if(Ja(a,i),Za(i),f&512&&(mi||l===null||zo(l,l.return)),f&4){var b=l!==null?l.memoizedState:null;if(f=i.memoizedState,l===null)if(f===null)if(i.stateNode===null){e:{f=i.type,l=i.memoizedProps,v=v.ownerDocument||v;t:switch(f){case"title":b=v.getElementsByTagName("title")[0],(!b||b[ui]||b[bn]||b.namespaceURI==="http://www.w3.org/2000/svg"||b.hasAttribute("itemprop"))&&(b=v.createElement(f),v.head.insertBefore(b,v.querySelector("head > title"))),ra(b,f,l),b[bn]=i,Sr(b),f=b;break e;case"link":var R=ky("link","href",v).get(f+(l.href||""));if(R){for(var X=0;X<R.length;X++)if(b=R[X],b.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&b.getAttribute("rel")===(l.rel==null?null:l.rel)&&b.getAttribute("title")===(l.title==null?null:l.title)&&b.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){R.splice(X,1);break t}}b=v.createElement(f),ra(b,f,l),v.head.appendChild(b);break;case"meta":if(R=ky("meta","content",v).get(f+(l.content||""))){for(X=0;X<R.length;X++)if(b=R[X],b.getAttribute("content")===(l.content==null?null:""+l.content)&&b.getAttribute("name")===(l.name==null?null:l.name)&&b.getAttribute("property")===(l.property==null?null:l.property)&&b.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&b.getAttribute("charset")===(l.charSet==null?null:l.charSet)){R.splice(X,1);break t}}b=v.createElement(f),ra(b,f,l),v.head.appendChild(b);break;default:throw Error(r(468,f))}b[bn]=i,Sr(b),f=b}i.stateNode=f}else Oy(v,i.type,i.stateNode);else i.stateNode=My(v,f,i.memoizedProps);else b!==f?(b===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):b.count--,f===null?Oy(v,i.type,i.stateNode):My(v,f,i.memoizedProps)):f===null&&i.stateNode!==null&&ng(i,i.memoizedProps,l.memoizedProps)}break;case 27:Ja(a,i),Za(i),f&512&&(mi||l===null||zo(l,l.return)),l!==null&&f&4&&ng(i,i.memoizedProps,l.memoizedProps);break;case 5:if(Ja(a,i),Za(i),f&512&&(mi||l===null||zo(l,l.return)),i.flags&32){v=i.stateNode;try{ei(v,"")}catch(It){sr(i,i.return,It)}}f&4&&i.stateNode!=null&&(v=i.memoizedProps,ng(i,v,l!==null?l.memoizedProps:v)),f&1024&&(ag=!0);break;case 6:if(Ja(a,i),Za(i),f&4){if(i.stateNode===null)throw Error(r(162));f=i.memoizedProps,l=i.stateNode;try{l.nodeValue=f}catch(It){sr(i,i.return,It)}}break;case 3:if(Yd=null,v=ho,ho=$d(a.containerInfo),Ja(a,i),ho=v,Za(i),f&4&&l!==null&&l.memoizedState.isDehydrated)try{tf(a.containerInfo)}catch(It){sr(i,i.return,It)}ag&&(ag=!1,Ov(i));break;case 4:f=ho,ho=$d(i.stateNode.containerInfo),Ja(a,i),Za(i),ho=f;break;case 12:Ja(a,i),Za(i);break;case 31:Ja(a,i),Za(i),f&4&&(f=i.updateQueue,f!==null&&(i.updateQueue=null,Id(i,f)));break;case 13:Ja(a,i),Za(i),i.child.flags&8192&&i.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Md=Ut()),f&4&&(f=i.updateQueue,f!==null&&(i.updateQueue=null,Id(i,f)));break;case 22:v=i.memoizedState!==null;var he=l!==null&&l.memoizedState!==null,Ve=_l,Qe=mi;if(_l=Ve||v,mi=Qe||he,Ja(a,i),mi=Qe,_l=Ve,Za(i),f&8192)e:for(a=i.stateNode,a._visibility=v?a._visibility&-2:a._visibility|1,v&&(l===null||he||_l||mi||Zu(i)),l=null,a=i;;){if(a.tag===5||a.tag===26){if(l===null){he=l=a;try{if(b=he.stateNode,v)R=b.style,typeof R.setProperty=="function"?R.setProperty("display","none","important"):R.display="none";else{X=he.stateNode;var rt=he.memoizedProps.style,Ue=rt!=null&&rt.hasOwnProperty("display")?rt.display:null;X.style.display=Ue==null||typeof Ue=="boolean"?"":(""+Ue).trim()}}catch(It){sr(he,he.return,It)}}}else if(a.tag===6){if(l===null){he=a;try{he.stateNode.nodeValue=v?"":he.memoizedProps}catch(It){sr(he,he.return,It)}}}else if(a.tag===18){if(l===null){he=a;try{var qe=he.stateNode;v?Ay(qe,!0):Ay(he.stateNode,!1)}catch(It){sr(he,he.return,It)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===i)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break e;for(;a.sibling===null;){if(a.return===null||a.return===i)break e;l===a&&(l=null),a=a.return}l===a&&(l=null),a.sibling.return=a.return,a=a.sibling}f&4&&(f=i.updateQueue,f!==null&&(l=f.retryQueue,l!==null&&(f.retryQueue=null,Id(i,l))));break;case 19:Ja(a,i),Za(i),f&4&&(f=i.updateQueue,f!==null&&(i.updateQueue=null,Id(i,f)));break;case 30:break;case 21:break;default:Ja(a,i),Za(i)}}function Za(i){var a=i.flags;if(a&2){try{for(var l,f=i.return;f!==null;){if(Tv(f)){l=f;break}f=f.return}if(l==null)throw Error(r(160));switch(l.tag){case 27:var v=l.stateNode,b=rg(i);Rd(i,b,v);break;case 5:var R=l.stateNode;l.flags&32&&(ei(R,""),l.flags&=-33);var X=rg(i);Rd(i,X,R);break;case 3:case 4:var he=l.stateNode.containerInfo,Ve=rg(i);ig(i,Ve,he);break;default:throw Error(r(161))}}catch(Qe){sr(i,i.return,Qe)}i.flags&=-3}a&4096&&(i.flags&=-4097)}function Ov(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var a=i;Ov(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),i=i.sibling}}function Sl(i,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)Dv(i,a.alternate,a),a=a.sibling}function Zu(i){for(i=i.child;i!==null;){var a=i;switch(a.tag){case 0:case 11:case 14:case 15:iu(4,a,a.return),Zu(a);break;case 1:zo(a,a.return);var l=a.stateNode;typeof l.componentWillUnmount=="function"&&Av(a,a.return,l),Zu(a);break;case 27:mh(a.stateNode);case 26:case 5:zo(a,a.return),Zu(a);break;case 22:a.memoizedState===null&&Zu(a);break;case 30:Zu(a);break;default:Zu(a)}i=i.sibling}}function Al(i,a,l){for(l=l&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var f=a.alternate,v=i,b=a,R=b.flags;switch(b.tag){case 0:case 11:case 15:Al(v,b,l),ah(4,b);break;case 1:if(Al(v,b,l),f=b,v=f.stateNode,typeof v.componentDidMount=="function")try{v.componentDidMount()}catch(Ve){sr(f,f.return,Ve)}if(f=b,v=f.updateQueue,v!==null){var X=f.stateNode;try{var he=v.shared.hiddenCallbacks;if(he!==null)for(v.shared.hiddenCallbacks=null,v=0;v<he.length;v++)Bi(he[v],X)}catch(Ve){sr(f,f.return,Ve)}}l&&R&64&&Sv(b),sh(b,b.return);break;case 27:Nv(b);case 26:case 5:Al(v,b,l),l&&f===null&&R&4&&Ev(b),sh(b,b.return);break;case 12:Al(v,b,l);break;case 31:Al(v,b,l),l&&R&4&&Lv(v,b);break;case 13:Al(v,b,l),l&&R&4&&Mv(v,b);break;case 22:b.memoizedState===null&&Al(v,b,l),sh(b,b.return);break;case 30:break;default:Al(v,b,l)}a=a.sibling}}function sg(i,a){var l=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),i=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(i=a.memoizedState.cachePool.pool),i!==l&&(i!=null&&i.refCount++,l!=null&&Wu(l))}function og(i,a){i=null,a.alternate!==null&&(i=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==i&&(a.refCount++,i!=null&&Wu(i))}function po(i,a,l,f){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)Pv(i,a,l,f),a=a.sibling}function Pv(i,a,l,f){var v=a.flags;switch(a.tag){case 0:case 11:case 15:po(i,a,l,f),v&2048&&ah(9,a);break;case 1:po(i,a,l,f);break;case 3:po(i,a,l,f),v&2048&&(i=null,a.alternate!==null&&(i=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==i&&(a.refCount++,i!=null&&Wu(i)));break;case 12:if(v&2048){po(i,a,l,f),i=a.stateNode;try{var b=a.memoizedProps,R=b.id,X=b.onPostCommit;typeof X=="function"&&X(R,a.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(he){sr(a,a.return,he)}}else po(i,a,l,f);break;case 31:po(i,a,l,f);break;case 13:po(i,a,l,f);break;case 23:break;case 22:b=a.stateNode,R=a.alternate,a.memoizedState!==null?b._visibility&2?po(i,a,l,f):oh(i,a):b._visibility&2?po(i,a,l,f):(b._visibility|=2,Hc(i,a,l,f,(a.subtreeFlags&10256)!==0||!1)),v&2048&&sg(R,a);break;case 24:po(i,a,l,f),v&2048&&og(a.alternate,a);break;default:po(i,a,l,f)}}function Hc(i,a,l,f,v){for(v=v&&((a.subtreeFlags&10256)!==0||!1),a=a.child;a!==null;){var b=i,R=a,X=l,he=f,Ve=R.flags;switch(R.tag){case 0:case 11:case 15:Hc(b,R,X,he,v),ah(8,R);break;case 23:break;case 22:var Qe=R.stateNode;R.memoizedState!==null?Qe._visibility&2?Hc(b,R,X,he,v):oh(b,R):(Qe._visibility|=2,Hc(b,R,X,he,v)),v&&Ve&2048&&sg(R.alternate,R);break;case 24:Hc(b,R,X,he,v),v&&Ve&2048&&og(R.alternate,R);break;default:Hc(b,R,X,he,v)}a=a.sibling}}function oh(i,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var l=i,f=a,v=f.flags;switch(f.tag){case 22:oh(l,f),v&2048&&sg(f.alternate,f);break;case 24:oh(l,f),v&2048&&og(f.alternate,f);break;default:oh(l,f)}a=a.sibling}}var lh=8192;function $c(i,a,l){if(i.subtreeFlags&lh)for(i=i.child;i!==null;)jv(i,a,l),i=i.sibling}function jv(i,a,l){switch(i.tag){case 26:$c(i,a,l),i.flags&lh&&i.memoizedState!==null&&VS(l,ho,i.memoizedState,i.memoizedProps);break;case 5:$c(i,a,l);break;case 3:case 4:var f=ho;ho=$d(i.stateNode.containerInfo),$c(i,a,l),ho=f;break;case 22:i.memoizedState===null&&(f=i.alternate,f!==null&&f.memoizedState!==null?(f=lh,lh=16777216,$c(i,a,l),lh=f):$c(i,a,l));break;default:$c(i,a,l)}}function Fv(i){var a=i.alternate;if(a!==null&&(i=a.child,i!==null)){a.child=null;do a=i.sibling,i.sibling=null,i=a;while(i!==null)}}function uh(i){var a=i.deletions;if((i.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var f=a[l];zi=f,Bv(f,i)}Fv(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Vv(i),i=i.sibling}function Vv(i){switch(i.tag){case 0:case 11:case 15:uh(i),i.flags&2048&&iu(9,i,i.return);break;case 3:uh(i);break;case 12:uh(i);break;case 22:var a=i.stateNode;i.memoizedState!==null&&a._visibility&2&&(i.return===null||i.return.tag!==13)?(a._visibility&=-3,Ld(i)):uh(i);break;default:uh(i)}}function Ld(i){var a=i.deletions;if((i.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var f=a[l];zi=f,Bv(f,i)}Fv(i)}for(i=i.child;i!==null;){switch(a=i,a.tag){case 0:case 11:case 15:iu(8,a,a.return),Ld(a);break;case 22:l=a.stateNode,l._visibility&2&&(l._visibility&=-3,Ld(a));break;default:Ld(a)}i=i.sibling}}function Bv(i,a){for(;zi!==null;){var l=zi;switch(l.tag){case 0:case 11:case 15:iu(8,l,a);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var f=l.memoizedState.cachePool.pool;f!=null&&f.refCount++}break;case 24:Wu(l.memoizedState.cache)}if(f=l.child,f!==null)f.return=l,zi=f;else e:for(l=i;zi!==null;){f=zi;var v=f.sibling,b=f.return;if(Rv(f),f===l){zi=null;break e}if(v!==null){v.return=b,zi=v;break e}zi=b}}}var eS={getCacheForType:function(i){var a=Di(Ur),l=a.data.get(i);return l===void 0&&(l=i(),a.data.set(i,l)),l},cacheSignal:function(){return Di(Ur).controller.signal}},tS=typeof WeakMap=="function"?WeakMap:Map,Zn=0,br=null,Cn=null,In=0,ar=0,ms=null,au=!1,Gc=!1,lg=!1,El=0,Xr=0,su=0,ec=0,ug=0,gs=0,Yc=0,ch=null,es=null,cg=!1,Md=0,Uv=0,kd=1/0,Od=null,ou=null,Ii=0,lu=null,Wc=null,Tl=0,fg=0,hg=null,zv=null,fh=0,dg=null;function vs(){return(Zn&2)!==0&&In!==0?In&-In:le.T!==null?bg():en()}function qv(){if(gs===0)if((In&536870912)===0||Nn){var i=vn;vn<<=1,(vn&3932160)===0&&(vn=262144),gs=i}else gs=536870912;return i=Tr.current,i!==null&&(i.flags|=32),gs}function ts(i,a,l){(i===br&&(ar===2||ar===9)||i.cancelPendingCommit!==null)&&(Kc(i,0),uu(i,In,gs,!1)),Ge(i,l),((Zn&2)===0||i!==br)&&(i===br&&((Zn&2)===0&&(ec|=l),Xr===4&&uu(i,In,gs,!1)),qo(i))}function Hv(i,a,l){if((Zn&6)!==0)throw Error(r(327));var f=!l&&(a&127)===0&&(a&i.expiredLanes)===0||ie(i,a),v=f?iS(i,a):mg(i,a,!0),b=f;do{if(v===0){Gc&&!f&&uu(i,a,0,!1);break}else{if(l=i.current.alternate,b&&!nS(l)){v=mg(i,a,!1),b=!1;continue}if(v===2){if(b=a,i.errorRecoveryDisabledLanes&b)var R=0;else R=i.pendingLanes&-536870913,R=R!==0?R:R&536870912?536870912:0;if(R!==0){a=R;e:{var X=i;v=ch;var he=X.current.memoizedState.isDehydrated;if(he&&(Kc(X,R).flags|=256),R=mg(X,R,!1),R!==2){if(lg&&!he){X.errorRecoveryDisabledLanes|=b,ec|=b,v=4;break e}b=es,es=v,b!==null&&(es===null?es=b:es.push.apply(es,b))}v=R}if(b=!1,v!==2)continue}}if(v===1){Kc(i,0),uu(i,a,0,!0);break}e:{switch(f=i,b=v,b){case 0:case 1:throw Error(r(345));case 4:if((a&4194048)!==a)break;case 6:uu(f,a,gs,!au);break e;case 2:es=null;break;case 3:case 5:break;default:throw Error(r(329))}if((a&62914560)===a&&(v=Md+300-Ut(),10<v)){if(uu(f,a,gs,!au),J(f,0,!0)!==0)break e;Tl=a,f.timeoutHandle=_y($v.bind(null,f,l,es,Od,cg,a,gs,ec,Yc,au,b,"Throttled",-0,0),v);break e}$v(f,l,es,Od,cg,a,gs,ec,Yc,au,b,null,-0,0)}}break}while(!0);qo(i)}function $v(i,a,l,f,v,b,R,X,he,Ve,Qe,rt,Ue,qe){if(i.timeoutHandle=-1,rt=a.subtreeFlags,rt&8192||(rt&16785408)===16785408){rt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ea},jv(a,b,rt);var It=(b&62914560)===b?Md-Ut():(b&4194048)===b?Uv-Ut():0;if(It=BS(rt,It),It!==null){Tl=b,i.cancelPendingCommit=It(Zv.bind(null,i,a,b,l,f,v,R,X,he,Qe,rt,null,Ue,qe)),uu(i,b,R,!Ve);return}}Zv(i,a,b,l,f,v,R,X,he)}function nS(i){for(var a=i;;){var l=a.tag;if((l===0||l===11||l===15)&&a.flags&16384&&(l=a.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var f=0;f<l.length;f++){var v=l[f],b=v.getSnapshot;v=v.value;try{if(!Ei(b(),v))return!1}catch{return!1}}if(l=a.child,a.subtreeFlags&16384&&l!==null)l.return=a,a=l;else{if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function uu(i,a,l,f){a&=~ug,a&=~ec,i.suspendedLanes|=a,i.pingedLanes&=~a,f&&(i.warmLanes|=a),f=i.expirationTimes;for(var v=a;0<v;){var b=31-tn(v),R=1<<b;f[b]=-1,v&=~R}l!==0&&Ae(i,l,a)}function Pd(){return(Zn&6)===0?(hh(0),!1):!0}function pg(){if(Cn!==null){if(ar===0)var i=Cn.return;else i=Cn,js=ko=null,jc(i),at=null,kt=0,i=Cn;for(;i!==null;)xv(i.alternate,i),i=i.return;Cn=null}}function Kc(i,a){var l=i.timeoutHandle;l!==-1&&(i.timeoutHandle=-1,xS(l)),l=i.cancelPendingCommit,l!==null&&(i.cancelPendingCommit=null,l()),Tl=0,pg(),br=i,Cn=l=qa(i.current,null),In=a,ar=0,ms=null,au=!1,Gc=ie(i,a),lg=!1,Yc=gs=ug=ec=su=Xr=0,es=ch=null,cg=!1,(a&8)!==0&&(a|=a&32);var f=i.entangledLanes;if(f!==0)for(i=i.entanglements,f&=a;0<f;){var v=31-tn(f),b=1<<v;a|=i[v],f&=~b}return El=a,zu(),l}function Gv(i,a){Kt=null,le.H=nh,a===ge||a===ae?(a=et(),ar=3):a===Pe?(a=et(),ar=4):ar=a===Gm?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,ms=a,Cn===null&&(Xr=1,Ed(i,Ha(a,i.current)))}function Yv(){var i=Tr.current;return i===null?!0:(In&4194048)===In?Vn===null:(In&62914560)===In||(In&536870912)!==0?i===Vn:!1}function Wv(){var i=le.H;return le.H=nh,i===null?nh:i}function Kv(){var i=le.A;return le.A=eS,i}function jd(){Xr=4,au||(In&4194048)!==In&&Tr.current!==null||(Gc=!0),(su&134217727)===0&&(ec&134217727)===0||br===null||uu(br,In,gs,!1)}function mg(i,a,l){var f=Zn;Zn|=2;var v=Wv(),b=Kv();(br!==i||In!==a)&&(Od=null,Kc(i,a)),a=!1;var R=Xr;e:do try{if(ar!==0&&Cn!==null){var X=Cn,he=ms;switch(ar){case 8:pg(),R=6;break e;case 3:case 2:case 9:case 6:Tr.current===null&&(a=!0);var Ve=ar;if(ar=0,ms=null,Qc(i,X,he,Ve),l&&Gc){R=0;break e}break;default:Ve=ar,ar=0,ms=null,Qc(i,X,he,Ve)}}rS(),R=Xr;break}catch(Qe){Gv(i,Qe)}while(!0);return a&&i.shellSuspendCounter++,js=ko=null,Zn=f,le.H=v,le.A=b,Cn===null&&(br=null,In=0,zu()),R}function rS(){for(;Cn!==null;)Qv(Cn)}function iS(i,a){var l=Zn;Zn|=2;var f=Wv(),v=Kv();br!==i||In!==a?(Od=null,kd=Ut()+500,Kc(i,a)):Gc=ie(i,a);e:do try{if(ar!==0&&Cn!==null){a=Cn;var b=ms;t:switch(ar){case 1:ar=0,ms=null,Qc(i,a,b,1);break;case 2:case 9:if(Re(b)){ar=0,ms=null,Xv(a);break}a=function(){ar!==2&&ar!==9||br!==i||(ar=7),qo(i)},b.then(a,a);break e;case 3:ar=7;break e;case 4:ar=5;break e;case 7:Re(b)?(ar=0,ms=null,Xv(a)):(ar=0,ms=null,Qc(i,a,b,7));break;case 5:var R=null;switch(Cn.tag){case 26:R=Cn.memoizedState;case 5:case 27:var X=Cn;if(R?Py(R):X.stateNode.complete){ar=0,ms=null;var he=X.sibling;if(he!==null)Cn=he;else{var Ve=X.return;Ve!==null?(Cn=Ve,Fd(Ve)):Cn=null}break t}}ar=0,ms=null,Qc(i,a,b,5);break;case 6:ar=0,ms=null,Qc(i,a,b,6);break;case 8:pg(),Xr=6;break e;default:throw Error(r(462))}}aS();break}catch(Qe){Gv(i,Qe)}while(!0);return js=ko=null,le.H=f,le.A=v,Zn=l,Cn!==null?0:(br=null,In=0,zu(),Xr)}function aS(){for(;Cn!==null&&!vt();)Qv(Cn)}function Qv(i){var a=wv(i.alternate,i,El);i.memoizedProps=i.pendingProps,a===null?Fd(i):Cn=a}function Xv(i){var a=i,l=a.alternate;switch(a.tag){case 15:case 0:a=pv(l,a,a.pendingProps,a.type,void 0,In);break;case 11:a=pv(l,a,a.pendingProps,a.type.render,a.ref,In);break;case 5:jc(a);default:xv(l,a),a=Cn=$u(a,El),a=wv(l,a,El)}i.memoizedProps=i.pendingProps,a===null?Fd(i):Cn=a}function Qc(i,a,l,f){js=ko=null,jc(a),at=null,kt=0;var v=a.return;try{if(Yx(i,v,a,l,In)){Xr=1,Ed(i,Ha(l,i.current)),Cn=null;return}}catch(b){if(v!==null)throw Cn=v,b;Xr=1,Ed(i,Ha(l,i.current)),Cn=null;return}a.flags&32768?(Nn||f===1?i=!0:Gc||(In&536870912)!==0?i=!1:(au=i=!0,(f===2||f===9||f===3||f===6)&&(f=Tr.current,f!==null&&f.tag===13&&(f.flags|=16384))),Jv(a,i)):Fd(a)}function Fd(i){var a=i;do{if((a.flags&32768)!==0){Jv(a,au);return}i=a.return;var l=Qx(a.alternate,a,El);if(l!==null){Cn=l;return}if(a=a.sibling,a!==null){Cn=a;return}Cn=a=i}while(a!==null);Xr===0&&(Xr=5)}function Jv(i,a){do{var l=Xx(i.alternate,i);if(l!==null){l.flags&=32767,Cn=l;return}if(l=i.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!a&&(i=i.sibling,i!==null)){Cn=i;return}Cn=i=l}while(i!==null);Xr=6,Cn=null}function Zv(i,a,l,f,v,b,R,X,he){i.cancelPendingCommit=null;do Vd();while(Ii!==0);if((Zn&6)!==0)throw Error(r(327));if(a!==null){if(a===i.current)throw Error(r(177));if(b=a.lanes|a.childLanes,b|=Sc,Ft(i,l,b,R,X,he),i===br&&(Cn=br=null,In=0),Wc=a,lu=i,Tl=l,fg=b,hg=v,zv=f,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,uS(sn,function(){return iy(),null})):(i.callbackNode=null,i.callbackPriority=0),f=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||f){f=le.T,le.T=null,v=me.p,me.p=2,R=Zn,Zn|=4;try{Jx(i,a,l)}finally{Zn=R,me.p=v,le.T=f}}Ii=1,ey(),ty(),ny()}}function ey(){if(Ii===1){Ii=0;var i=lu,a=Wc,l=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||l){l=le.T,le.T=null;var f=me.p;me.p=2;var v=Zn;Zn|=4;try{kv(a,i);var b=Ng,R=io(i.containerInfo),X=b.focusedElem,he=b.selectionRange;if(R!==X&&X&&X.ownerDocument&&ro(X.ownerDocument.documentElement,X)){if(he!==null&&Os(X)){var Ve=he.start,Qe=he.end;if(Qe===void 0&&(Qe=Ve),"selectionStart"in X)X.selectionStart=Ve,X.selectionEnd=Math.min(Qe,X.value.length);else{var rt=X.ownerDocument||document,Ue=rt&&rt.defaultView||window;if(Ue.getSelection){var qe=Ue.getSelection(),It=X.textContent.length,an=Math.min(he.start,It),mr=he.end===void 0?an:Math.min(he.end,It);!qe.extend&&an>mr&&(R=mr,mr=an,an=R);var Ee=Yl(X,an),be=Yl(X,mr);if(Ee&&be&&(qe.rangeCount!==1||qe.anchorNode!==Ee.node||qe.anchorOffset!==Ee.offset||qe.focusNode!==be.node||qe.focusOffset!==be.offset)){var je=rt.createRange();je.setStart(Ee.node,Ee.offset),qe.removeAllRanges(),an>mr?(qe.addRange(je),qe.extend(be.node,be.offset)):(je.setEnd(be.node,be.offset),qe.addRange(je))}}}}for(rt=[],qe=X;qe=qe.parentNode;)qe.nodeType===1&&rt.push({element:qe,left:qe.scrollLeft,top:qe.scrollTop});for(typeof X.focus=="function"&&X.focus(),X=0;X<rt.length;X++){var tt=rt[X];tt.element.scrollLeft=tt.left,tt.element.scrollTop=tt.top}}Xd=!!Tg,Ng=Tg=null}finally{Zn=v,me.p=f,le.T=l}}i.current=a,Ii=2}}function ty(){if(Ii===2){Ii=0;var i=lu,a=Wc,l=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||l){l=le.T,le.T=null;var f=me.p;me.p=2;var v=Zn;Zn|=4;try{Dv(i,a.alternate,a)}finally{Zn=v,me.p=f,le.T=l}}Ii=3}}function ny(){if(Ii===4||Ii===3){Ii=0,xt();var i=lu,a=Wc,l=Tl,f=zv;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?Ii=5:(Ii=0,Wc=lu=null,ry(i,i.pendingLanes));var v=i.pendingLanes;if(v===0&&(ou=null),bt(l),a=a.stateNode,jt&&typeof jt.onCommitFiberRoot=="function")try{jt.onCommitFiberRoot(Yt,a,void 0,(a.current.flags&128)===128)}catch{}if(f!==null){a=le.T,v=me.p,me.p=2,le.T=null;try{for(var b=i.onRecoverableError,R=0;R<f.length;R++){var X=f[R];b(X.value,{componentStack:X.stack})}}finally{le.T=a,me.p=v}}(Tl&3)!==0&&Vd(),qo(i),v=i.pendingLanes,(l&261930)!==0&&(v&42)!==0?i===dg?fh++:(fh=0,dg=i):fh=0,hh(0)}}function ry(i,a){(i.pooledCacheLanes&=a)===0&&(a=i.pooledCache,a!=null&&(i.pooledCache=null,Wu(a)))}function Vd(){return ey(),ty(),ny(),iy()}function iy(){if(Ii!==5)return!1;var i=lu,a=fg;fg=0;var l=bt(Tl),f=le.T,v=me.p;try{me.p=32>l?32:l,le.T=null,l=hg,hg=null;var b=lu,R=Tl;if(Ii=0,Wc=lu=null,Tl=0,(Zn&6)!==0)throw Error(r(331));var X=Zn;if(Zn|=4,Vv(b.current),Pv(b,b.current,R,l),Zn=X,hh(0,!1),jt&&typeof jt.onPostCommitFiberRoot=="function")try{jt.onPostCommitFiberRoot(Yt,b)}catch{}return!0}finally{me.p=v,le.T=f,ry(i,a)}}function ay(i,a,l){a=Ha(l,a),a=$m(i.stateNode,a,2),i=yn(i,a,2),i!==null&&(Ge(i,2),qo(i))}function sr(i,a,l){if(i.tag===3)ay(i,i,l);else for(;a!==null;){if(a.tag===3){ay(a,i,l);break}else if(a.tag===1){var f=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(ou===null||!ou.has(f))){i=Ha(l,i),l=sv(2),f=yn(a,l,2),f!==null&&(ov(l,f,a,i),Ge(f,2),qo(f));break}}a=a.return}}function gg(i,a,l){var f=i.pingCache;if(f===null){f=i.pingCache=new tS;var v=new Set;f.set(a,v)}else v=f.get(a),v===void 0&&(v=new Set,f.set(a,v));v.has(l)||(lg=!0,v.add(l),i=sS.bind(null,i,a,l),a.then(i,i))}function sS(i,a,l){var f=i.pingCache;f!==null&&f.delete(a),i.pingedLanes|=i.suspendedLanes&l,i.warmLanes&=~l,br===i&&(In&l)===l&&(Xr===4||Xr===3&&(In&62914560)===In&&300>Ut()-Md?(Zn&2)===0&&Kc(i,0):ug|=l,Yc===In&&(Yc=0)),qo(i)}function sy(i,a){a===0&&(a=ze()),i=so(i,a),i!==null&&(Ge(i,a),qo(i))}function oS(i){var a=i.memoizedState,l=0;a!==null&&(l=a.retryLane),sy(i,l)}function lS(i,a){var l=0;switch(i.tag){case 31:case 13:var f=i.stateNode,v=i.memoizedState;v!==null&&(l=v.retryLane);break;case 19:f=i.stateNode;break;case 22:f=i.stateNode._retryCache;break;default:throw Error(r(314))}f!==null&&f.delete(a),sy(i,l)}function uS(i,a){return ft(i,a)}var Bd=null,Xc=null,vg=!1,Ud=!1,yg=!1,cu=0;function qo(i){i!==Xc&&i.next===null&&(Xc===null?Bd=Xc=i:Xc=Xc.next=i),Ud=!0,vg||(vg=!0,fS())}function hh(i,a){if(!yg&&Ud){yg=!0;do for(var l=!1,f=Bd;f!==null;){if(i!==0){var v=f.pendingLanes;if(v===0)var b=0;else{var R=f.suspendedLanes,X=f.pingedLanes;b=(1<<31-tn(42|i)+1)-1,b&=v&~(R&~X),b=b&201326741?b&201326741|1:b?b|2:0}b!==0&&(l=!0,cy(f,b))}else b=In,b=J(f,f===br?b:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),(b&3)===0||ie(f,b)||(l=!0,cy(f,b));f=f.next}while(l);yg=!1}}function cS(){oy()}function oy(){Ud=vg=!1;var i=0;cu!==0&&_S()&&(i=cu);for(var a=Ut(),l=null,f=Bd;f!==null;){var v=f.next,b=ly(f,a);b===0?(f.next=null,l===null?Bd=v:l.next=v,v===null&&(Xc=l)):(l=f,(i!==0||(b&3)!==0)&&(Ud=!0)),f=v}Ii!==0&&Ii!==5||hh(i),cu!==0&&(cu=0)}function ly(i,a){for(var l=i.suspendedLanes,f=i.pingedLanes,v=i.expirationTimes,b=i.pendingLanes&-62914561;0<b;){var R=31-tn(b),X=1<<R,he=v[R];he===-1?((X&l)===0||(X&f)!==0)&&(v[R]=we(X,a)):he<=a&&(i.expiredLanes|=X),b&=~X}if(a=br,l=In,l=J(i,i===a?l:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),f=i.callbackNode,l===0||i===a&&(ar===2||ar===9)||i.cancelPendingCommit!==null)return f!==null&&f!==null&&ht(f),i.callbackNode=null,i.callbackPriority=0;if((l&3)===0||ie(i,l)){if(a=l&-l,a===i.callbackPriority)return a;switch(f!==null&&ht(f),bt(l)){case 2:case 8:l=fn;break;case 32:l=sn;break;case 268435456:l=rn;break;default:l=sn}return f=uy.bind(null,i),l=ft(l,f),i.callbackPriority=a,i.callbackNode=l,a}return f!==null&&f!==null&&ht(f),i.callbackPriority=2,i.callbackNode=null,2}function uy(i,a){if(Ii!==0&&Ii!==5)return i.callbackNode=null,i.callbackPriority=0,null;var l=i.callbackNode;if(Vd()&&i.callbackNode!==l)return null;var f=In;return f=J(i,i===br?f:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),f===0?null:(Hv(i,f,a),ly(i,Ut()),i.callbackNode!=null&&i.callbackNode===l?uy.bind(null,i):null)}function cy(i,a){if(Vd())return null;Hv(i,a,!0)}function fS(){SS(function(){(Zn&6)!==0?ft($t,cS):oy()})}function bg(){if(cu===0){var i=p;i===0&&(i=qt,qt<<=1,(qt&261888)===0&&(qt=256)),cu=i}return cu}function fy(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Oi(""+i)}function hy(i,a){var l=a.ownerDocument.createElement("input");return l.name=a.name,l.value=a.value,i.id&&l.setAttribute("form",i.id),a.parentNode.insertBefore(l,a),i=new FormData(i),l.parentNode.removeChild(l),i}function hS(i,a,l,f,v){if(a==="submit"&&l&&l.stateNode===v){var b=fy((v[Qn]||null).action),R=f.submitter;R&&(a=(a=R[Qn]||null)?fy(a.formAction):R.getAttribute("formAction"),a!==null&&(b=a,R=null));var X=new fi("action","action",null,f,v);i.push({event:X,listeners:[{instance:null,listener:function(){if(f.defaultPrevented){if(cu!==0){var he=R?hy(v,R):new FormData(v);Vm(l,{pending:!0,data:he,method:v.method,action:b},null,he)}}else typeof b=="function"&&(X.preventDefault(),he=R?hy(v,R):new FormData(v),Vm(l,{pending:!0,data:he,method:v.method,action:b},b,he))},currentTarget:v}]})}}for(var wg=0;wg<fl.length;wg++){var _g=fl[wg],dS=_g.toLowerCase(),pS=_g[0].toUpperCase()+_g.slice(1);za(dS,"on"+pS)}za(cl,"onAnimationEnd"),za(Bu,"onAnimationIteration"),za(Uf,"onAnimationStart"),za("dblclick","onDoubleClick"),za("focusin","onFocus"),za("focusout","onBlur"),za(hd,"onTransitionRun"),za(dd,"onTransitionStart"),za(pd,"onTransitionCancel"),za(zf,"onTransitionEnd"),Aa("onMouseEnter",["mouseout","mouseover"]),Aa("onMouseLeave",["mouseout","mouseover"]),Aa("onPointerEnter",["pointerout","pointerover"]),Aa("onPointerLeave",["pointerout","pointerover"]),la("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),la("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),la("onBeforeInput",["compositionend","keypress","textInput","paste"]),la("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),la("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),la("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var dh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(dh));function dy(i,a){a=(a&4)!==0;for(var l=0;l<i.length;l++){var f=i[l],v=f.event;f=f.listeners;e:{var b=void 0;if(a)for(var R=f.length-1;0<=R;R--){var X=f[R],he=X.instance,Ve=X.currentTarget;if(X=X.listener,he!==b&&v.isPropagationStopped())break e;b=X,v.currentTarget=Ve;try{b(v)}catch(Qe){Uu(Qe)}v.currentTarget=null,b=he}else for(R=0;R<f.length;R++){if(X=f[R],he=X.instance,Ve=X.currentTarget,X=X.listener,he!==b&&v.isPropagationStopped())break e;b=X,v.currentTarget=Ve;try{b(v)}catch(Qe){Uu(Qe)}v.currentTarget=null,b=he}}}}function Dn(i,a){var l=a[li];l===void 0&&(l=a[li]=new Set);var f=i+"__bubble";l.has(f)||(py(a,i,2,!1),l.add(f))}function xg(i,a,l){var f=0;a&&(f|=4),py(l,i,f,a)}var zd="_reactListening"+Math.random().toString(36).slice(2);function Sg(i){if(!i[zd]){i[zd]=!0,xo.forEach(function(l){l!=="selectionchange"&&(mS.has(l)||xg(l,!1,i),xg(l,!0,i))});var a=i.nodeType===9?i:i.ownerDocument;a===null||a[zd]||(a[zd]=!0,xg("selectionchange",!1,a))}}function py(i,a,l,f){switch(qy(a)){case 2:var v=qS;break;case 8:v=HS;break;default:v=Fg}l=v.bind(null,a,l,i),v=void 0,!Qs||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(v=!0),f?v!==void 0?i.addEventListener(a,l,{capture:!0,passive:v}):i.addEventListener(a,l,!0):v!==void 0?i.addEventListener(a,l,{passive:v}):i.addEventListener(a,l,!1)}function Ag(i,a,l,f,v){var b=f;if((a&1)===0&&(a&2)===0&&f!==null)e:for(;;){if(f===null)return;var R=f.tag;if(R===3||R===4){var X=f.stateNode.containerInfo;if(X===v)break;if(R===4)for(R=f.return;R!==null;){var he=R.tag;if((he===3||he===4)&&R.stateNode.containerInfo===v)return;R=R.return}for(;X!==null;){if(R=_i(X),R===null)return;if(he=R.tag,he===5||he===6||he===26||he===27){f=b=R;continue e}X=X.parentNode}}f=f.return}Ns(function(){var Ve=b,Qe=Pi(l),rt=[];e:{var Ue=qf.get(i);if(Ue!==void 0){var qe=fi,It=i;switch(i){case"keypress":if(Ki(l)===0)break e;case"keydown":case"keyup":qe=An;break;case"focusin":It="focus",qe=Na;break;case"focusout":It="blur",qe=Na;break;case"beforeblur":case"afterblur":qe=Na;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":qe=Co;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":qe=Ba;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":qe=E;break;case cl:case Bu:case Uf:qe=x;break;case zf:qe=ee;break;case"scroll":case"scrollend":qe=Cs;break;case"wheel":qe=Be;break;case"copy":case"cut":case"paste":qe=se;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":qe=tr;break;case"toggle":case"beforetoggle":qe=ln}var an=(a&4)!==0,mr=!an&&(i==="scroll"||i==="scrollend"),Ee=an?Ue!==null?Ue+"Capture":null:Ue;an=[];for(var be=Ve,je;be!==null;){var tt=be;if(je=tt.stateNode,tt=tt.tag,tt!==5&&tt!==26&&tt!==27||je===null||Ee===null||(tt=ti(be,Ee),tt!=null&&an.push(ph(be,tt,je))),mr)break;be=be.return}0<an.length&&(Ue=new qe(Ue,It,null,l,Qe),rt.push({event:Ue,listeners:an}))}}if((a&7)===0){e:{if(Ue=i==="mouseover"||i==="pointerover",qe=i==="mouseout"||i==="pointerout",Ue&&l!==us&&(It=l.relatedTarget||l.fromElement)&&(_i(It)||It[_r]))break e;if((qe||Ue)&&(Ue=Qe.window===Qe?Qe:(Ue=Qe.ownerDocument)?Ue.defaultView||Ue.parentWindow:window,qe?(It=l.relatedTarget||l.toElement,qe=Ve,It=It?_i(It):null,It!==null&&(mr=o(It),an=It.tag,It!==mr||an!==5&&an!==27&&an!==6)&&(It=null)):(qe=null,It=Ve),qe!==It)){if(an=Co,tt="onMouseLeave",Ee="onMouseEnter",be="mouse",(i==="pointerout"||i==="pointerover")&&(an=tr,tt="onPointerLeave",Ee="onPointerEnter",be="pointer"),mr=qe==null?Ue:Gi(qe),je=It==null?Ue:Gi(It),Ue=new an(tt,be+"leave",qe,l,Qe),Ue.target=mr,Ue.relatedTarget=je,tt=null,_i(Qe)===Ve&&(an=new an(Ee,be+"enter",It,l,Qe),an.target=je,an.relatedTarget=mr,tt=an),mr=tt,qe&&It)t:{for(an=gS,Ee=qe,be=It,je=0,tt=Ee;tt;tt=an(tt))je++;tt=0;for(var Jt=be;Jt;Jt=an(Jt))tt++;for(;0<je-tt;)Ee=an(Ee),je--;for(;0<tt-je;)be=an(be),tt--;for(;je--;){if(Ee===be||be!==null&&Ee===be.alternate){an=Ee;break t}Ee=an(Ee),be=an(be)}an=null}else an=null;qe!==null&&my(rt,Ue,qe,an,!1),It!==null&&mr!==null&&my(rt,mr,It,an,!0)}}e:{if(Ue=Ve?Gi(Ve):window,qe=Ue.nodeName&&Ue.nodeName.toLowerCase(),qe==="select"||qe==="input"&&Ue.type==="file")var Yn=Ro;else if(Fu(Ue))if(fa)Yn=Ms;else{Yn=Vr;var Vt=$l}else qe=Ue.nodeName,!qe||qe.toLowerCase()!=="input"||Ue.type!=="checkbox"&&Ue.type!=="radio"?Ve&&Eo(Ve.elementType)&&(Yn=Ro):Yn=xc;if(Yn&&(Yn=Yn(i,Ve))){Da(rt,Yn,l,Qe);break e}Vt&&Vt(i,Ue,Ve),i==="focusout"&&Ve&&Ue.type==="number"&&Ve.memoizedProps.value!=null&&rl(Ue,"number",Ue.value)}switch(Vt=Ve?Gi(Ve):window,i){case"focusin":(Fu(Vt)||Vt.contentEditable==="true")&&(Ra=Vt,ao=Ve,ji=null);break;case"focusout":ji=ao=Ra=null;break;case"mousedown":Ua=!0;break;case"contextmenu":case"mouseup":case"dragend":Ua=!1,qn(rt,l,Qe);break;case"selectionchange":if(ul)break;case"keydown":case"keyup":qn(rt,l,Qe)}var wn;if(_n)e:{switch(i){case"compositionstart":var Ln="onCompositionStart";break e;case"compositionend":Ln="onCompositionEnd";break e;case"compositionupdate":Ln="onCompositionUpdate";break e}Ln=void 0}else Rs?Ca(i,l)&&(Ln="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(Ln="onCompositionStart");Ln&&(Si&&l.locale!=="ko"&&(Rs||Ln!=="onCompositionStart"?Ln==="onCompositionEnd"&&Rs&&(wn=ol()):(Wi=Qe,Xs="value"in Wi?Wi.value:Wi.textContent,Rs=!0)),Vt=qd(Ve,Ln),0<Vt.length&&(Ln=new Se(Ln,i,null,l,Qe),rt.push({event:Ln,listeners:Vt}),wn?Ln.data=wn:(wn=Ds(l),wn!==null&&(Ln.data=wn)))),(wn=hi?Ji(i,l):Zs(i,l))&&(Ln=qd(Ve,"onBeforeInput"),0<Ln.length&&(Vt=new Se("onBeforeInput","beforeinput",null,l,Qe),rt.push({event:Vt,listeners:Ln}),Vt.data=wn)),hS(rt,i,Ve,l,Qe)}dy(rt,a)})}function ph(i,a,l){return{instance:i,listener:a,currentTarget:l}}function qd(i,a){for(var l=a+"Capture",f=[];i!==null;){var v=i,b=v.stateNode;if(v=v.tag,v!==5&&v!==26&&v!==27||b===null||(v=ti(i,l),v!=null&&f.unshift(ph(i,v,b)),v=ti(i,a),v!=null&&f.push(ph(i,v,b))),i.tag===3)return f;i=i.return}return[]}function gS(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function my(i,a,l,f,v){for(var b=a._reactName,R=[];l!==null&&l!==f;){var X=l,he=X.alternate,Ve=X.stateNode;if(X=X.tag,he!==null&&he===f)break;X!==5&&X!==26&&X!==27||Ve===null||(he=Ve,v?(Ve=ti(l,b),Ve!=null&&R.unshift(ph(l,Ve,he))):v||(Ve=ti(l,b),Ve!=null&&R.push(ph(l,Ve,he)))),l=l.return}R.length!==0&&i.push({event:a,listeners:R})}var vS=/\r\n?/g,yS=/\u0000|\uFFFD/g;function gy(i){return(typeof i=="string"?i:""+i).replace(vS,`
`).replace(yS,"")}function vy(i,a){return a=gy(a),gy(i)===a}function pr(i,a,l,f,v,b){switch(l){case"children":typeof f=="string"?a==="body"||a==="textarea"&&f===""||ei(i,f):(typeof f=="number"||typeof f=="bigint")&&a!=="body"&&ei(i,""+f);break;case"className":ci(i,"class",f);break;case"tabIndex":ci(i,"tabindex",f);break;case"dir":case"role":case"viewBox":case"width":case"height":ci(i,l,f);break;case"style":sl(i,f,b);break;case"data":if(a!=="object"){ci(i,"data",f);break}case"src":case"href":if(f===""&&(a!=="a"||l!=="href")){i.removeAttribute(l);break}if(f==null||typeof f=="function"||typeof f=="symbol"||typeof f=="boolean"){i.removeAttribute(l);break}f=Oi(""+f),i.setAttribute(l,f);break;case"action":case"formAction":if(typeof f=="function"){i.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof b=="function"&&(l==="formAction"?(a!=="input"&&pr(i,a,"name",v.name,v,null),pr(i,a,"formEncType",v.formEncType,v,null),pr(i,a,"formMethod",v.formMethod,v,null),pr(i,a,"formTarget",v.formTarget,v,null)):(pr(i,a,"encType",v.encType,v,null),pr(i,a,"method",v.method,v,null),pr(i,a,"target",v.target,v,null)));if(f==null||typeof f=="symbol"||typeof f=="boolean"){i.removeAttribute(l);break}f=Oi(""+f),i.setAttribute(l,f);break;case"onClick":f!=null&&(i.onclick=Ea);break;case"onScroll":f!=null&&Dn("scroll",i);break;case"onScrollEnd":f!=null&&Dn("scrollend",i);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(r(61));if(l=f.__html,l!=null){if(v.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"multiple":i.multiple=f&&typeof f!="function"&&typeof f!="symbol";break;case"muted":i.muted=f&&typeof f!="function"&&typeof f!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(f==null||typeof f=="function"||typeof f=="boolean"||typeof f=="symbol"){i.removeAttribute("xlink:href");break}l=Oi(""+f),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":f!=null&&typeof f!="function"&&typeof f!="symbol"?i.setAttribute(l,""+f):i.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":f&&typeof f!="function"&&typeof f!="symbol"?i.setAttribute(l,""):i.removeAttribute(l);break;case"capture":case"download":f===!0?i.setAttribute(l,""):f!==!1&&f!=null&&typeof f!="function"&&typeof f!="symbol"?i.setAttribute(l,f):i.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":f!=null&&typeof f!="function"&&typeof f!="symbol"&&!isNaN(f)&&1<=f?i.setAttribute(l,f):i.removeAttribute(l);break;case"rowSpan":case"start":f==null||typeof f=="function"||typeof f=="symbol"||isNaN(f)?i.removeAttribute(l):i.setAttribute(l,f);break;case"popover":Dn("beforetoggle",i),Dn("toggle",i),Yi(i,"popover",f);break;case"xlinkActuate":Rr(i,"http://www.w3.org/1999/xlink","xlink:actuate",f);break;case"xlinkArcrole":Rr(i,"http://www.w3.org/1999/xlink","xlink:arcrole",f);break;case"xlinkRole":Rr(i,"http://www.w3.org/1999/xlink","xlink:role",f);break;case"xlinkShow":Rr(i,"http://www.w3.org/1999/xlink","xlink:show",f);break;case"xlinkTitle":Rr(i,"http://www.w3.org/1999/xlink","xlink:title",f);break;case"xlinkType":Rr(i,"http://www.w3.org/1999/xlink","xlink:type",f);break;case"xmlBase":Rr(i,"http://www.w3.org/XML/1998/namespace","xml:base",f);break;case"xmlLang":Rr(i,"http://www.w3.org/XML/1998/namespace","xml:lang",f);break;case"xmlSpace":Rr(i,"http://www.w3.org/XML/1998/namespace","xml:space",f);break;case"is":Yi(i,"is",f);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=To.get(l)||l,Yi(i,l,f))}}function Eg(i,a,l,f,v,b){switch(l){case"style":sl(i,f,b);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(r(61));if(l=f.__html,l!=null){if(v.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"children":typeof f=="string"?ei(i,f):(typeof f=="number"||typeof f=="bigint")&&ei(i,""+f);break;case"onScroll":f!=null&&Dn("scroll",i);break;case"onScrollEnd":f!=null&&Dn("scrollend",i);break;case"onClick":f!=null&&(i.onclick=Ea);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ki.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(v=l.endsWith("Capture"),a=l.slice(2,v?l.length-7:void 0),b=i[Qn]||null,b=b!=null?b[l]:null,typeof b=="function"&&i.removeEventListener(a,b,v),typeof f=="function")){typeof b!="function"&&b!==null&&(l in i?i[l]=null:i.hasAttribute(l)&&i.removeAttribute(l)),i.addEventListener(a,f,v);break e}l in i?i[l]=f:f===!0?i.setAttribute(l,""):Yi(i,l,f)}}}function ra(i,a,l){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Dn("error",i),Dn("load",i);var f=!1,v=!1,b;for(b in l)if(l.hasOwnProperty(b)){var R=l[b];if(R!=null)switch(b){case"src":f=!0;break;case"srcSet":v=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:pr(i,a,b,R,l,null)}}v&&pr(i,a,"srcSet",l.srcSet,l,null),f&&pr(i,a,"src",l.src,l,null);return;case"input":Dn("invalid",i);var X=b=R=v=null,he=null,Ve=null;for(f in l)if(l.hasOwnProperty(f)){var Qe=l[f];if(Qe!=null)switch(f){case"name":v=Qe;break;case"type":R=Qe;break;case"checked":he=Qe;break;case"defaultChecked":Ve=Qe;break;case"value":b=Qe;break;case"defaultValue":X=Qe;break;case"children":case"dangerouslySetInnerHTML":if(Qe!=null)throw Error(r(137,a));break;default:pr(i,a,f,Qe,l,null)}}zl(i,b,X,he,Ve,R,v,!1);return;case"select":Dn("invalid",i),f=R=b=null;for(v in l)if(l.hasOwnProperty(v)&&(X=l[v],X!=null))switch(v){case"value":b=X;break;case"defaultValue":R=X;break;case"multiple":f=X;default:pr(i,a,v,X,l,null)}a=b,l=R,i.multiple=!!f,a!=null?xi(i,!!f,a,!1):l!=null&&xi(i,!!f,l,!0);return;case"textarea":Dn("invalid",i),b=v=f=null;for(R in l)if(l.hasOwnProperty(R)&&(X=l[R],X!=null))switch(R){case"value":f=X;break;case"defaultValue":v=X;break;case"children":b=X;break;case"dangerouslySetInnerHTML":if(X!=null)throw Error(r(91));break;default:pr(i,a,R,X,l,null)}os(i,f,v,b);return;case"option":for(he in l)if(l.hasOwnProperty(he)&&(f=l[he],f!=null))switch(he){case"selected":i.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:pr(i,a,he,f,l,null)}return;case"dialog":Dn("beforetoggle",i),Dn("toggle",i),Dn("cancel",i),Dn("close",i);break;case"iframe":case"object":Dn("load",i);break;case"video":case"audio":for(f=0;f<dh.length;f++)Dn(dh[f],i);break;case"image":Dn("error",i),Dn("load",i);break;case"details":Dn("toggle",i);break;case"embed":case"source":case"link":Dn("error",i),Dn("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Ve in l)if(l.hasOwnProperty(Ve)&&(f=l[Ve],f!=null))switch(Ve){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:pr(i,a,Ve,f,l,null)}return;default:if(Eo(a)){for(Qe in l)l.hasOwnProperty(Qe)&&(f=l[Qe],f!==void 0&&Eg(i,a,Qe,f,l,void 0));return}}for(X in l)l.hasOwnProperty(X)&&(f=l[X],f!=null&&pr(i,a,X,f,l,null))}function bS(i,a,l,f){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var v=null,b=null,R=null,X=null,he=null,Ve=null,Qe=null;for(qe in l){var rt=l[qe];if(l.hasOwnProperty(qe)&&rt!=null)switch(qe){case"checked":break;case"value":break;case"defaultValue":he=rt;default:f.hasOwnProperty(qe)||pr(i,a,qe,null,f,rt)}}for(var Ue in f){var qe=f[Ue];if(rt=l[Ue],f.hasOwnProperty(Ue)&&(qe!=null||rt!=null))switch(Ue){case"type":b=qe;break;case"name":v=qe;break;case"checked":Ve=qe;break;case"defaultChecked":Qe=qe;break;case"value":R=qe;break;case"defaultValue":X=qe;break;case"children":case"dangerouslySetInnerHTML":if(qe!=null)throw Error(r(137,a));break;default:qe!==rt&&pr(i,a,Ue,qe,f,rt)}}Ws(i,R,X,he,Ve,Qe,b,v);return;case"select":qe=R=X=Ue=null;for(b in l)if(he=l[b],l.hasOwnProperty(b)&&he!=null)switch(b){case"value":break;case"multiple":qe=he;default:f.hasOwnProperty(b)||pr(i,a,b,null,f,he)}for(v in f)if(b=f[v],he=l[v],f.hasOwnProperty(v)&&(b!=null||he!=null))switch(v){case"value":Ue=b;break;case"defaultValue":X=b;break;case"multiple":R=b;default:b!==he&&pr(i,a,v,b,f,he)}a=X,l=R,f=qe,Ue!=null?xi(i,!!l,Ue,!1):!!f!=!!l&&(a!=null?xi(i,!!l,a,!0):xi(i,!!l,l?[]:"",!1));return;case"textarea":qe=Ue=null;for(X in l)if(v=l[X],l.hasOwnProperty(X)&&v!=null&&!f.hasOwnProperty(X))switch(X){case"value":break;case"children":break;default:pr(i,a,X,null,f,v)}for(R in f)if(v=f[R],b=l[R],f.hasOwnProperty(R)&&(v!=null||b!=null))switch(R){case"value":Ue=v;break;case"defaultValue":qe=v;break;case"children":break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(r(91));break;default:v!==b&&pr(i,a,R,v,f,b)}il(i,Ue,qe);return;case"option":for(var It in l)if(Ue=l[It],l.hasOwnProperty(It)&&Ue!=null&&!f.hasOwnProperty(It))switch(It){case"selected":i.selected=!1;break;default:pr(i,a,It,null,f,Ue)}for(he in f)if(Ue=f[he],qe=l[he],f.hasOwnProperty(he)&&Ue!==qe&&(Ue!=null||qe!=null))switch(he){case"selected":i.selected=Ue&&typeof Ue!="function"&&typeof Ue!="symbol";break;default:pr(i,a,he,Ue,f,qe)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var an in l)Ue=l[an],l.hasOwnProperty(an)&&Ue!=null&&!f.hasOwnProperty(an)&&pr(i,a,an,null,f,Ue);for(Ve in f)if(Ue=f[Ve],qe=l[Ve],f.hasOwnProperty(Ve)&&Ue!==qe&&(Ue!=null||qe!=null))switch(Ve){case"children":case"dangerouslySetInnerHTML":if(Ue!=null)throw Error(r(137,a));break;default:pr(i,a,Ve,Ue,f,qe)}return;default:if(Eo(a)){for(var mr in l)Ue=l[mr],l.hasOwnProperty(mr)&&Ue!==void 0&&!f.hasOwnProperty(mr)&&Eg(i,a,mr,void 0,f,Ue);for(Qe in f)Ue=f[Qe],qe=l[Qe],!f.hasOwnProperty(Qe)||Ue===qe||Ue===void 0&&qe===void 0||Eg(i,a,Qe,Ue,f,qe);return}}for(var Ee in l)Ue=l[Ee],l.hasOwnProperty(Ee)&&Ue!=null&&!f.hasOwnProperty(Ee)&&pr(i,a,Ee,null,f,Ue);for(rt in f)Ue=f[rt],qe=l[rt],!f.hasOwnProperty(rt)||Ue===qe||Ue==null&&qe==null||pr(i,a,rt,Ue,f,qe)}function yy(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function wS(){if(typeof performance.getEntriesByType=="function"){for(var i=0,a=0,l=performance.getEntriesByType("resource"),f=0;f<l.length;f++){var v=l[f],b=v.transferSize,R=v.initiatorType,X=v.duration;if(b&&X&&yy(R)){for(R=0,X=v.responseEnd,f+=1;f<l.length;f++){var he=l[f],Ve=he.startTime;if(Ve>X)break;var Qe=he.transferSize,rt=he.initiatorType;Qe&&yy(rt)&&(he=he.responseEnd,R+=Qe*(he<X?1:(X-Ve)/(he-Ve)))}if(--f,a+=8*(b+R)/(v.duration/1e3),i++,10<i)break}}if(0<i)return a/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var Tg=null,Ng=null;function Hd(i){return i.nodeType===9?i:i.ownerDocument}function by(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function wy(i,a){if(i===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&a==="foreignObject"?0:i}function Cg(i,a){return i==="textarea"||i==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Dg=null;function _S(){var i=window.event;return i&&i.type==="popstate"?i===Dg?!1:(Dg=i,!0):(Dg=null,!1)}var _y=typeof setTimeout=="function"?setTimeout:void 0,xS=typeof clearTimeout=="function"?clearTimeout:void 0,xy=typeof Promise=="function"?Promise:void 0,SS=typeof queueMicrotask=="function"?queueMicrotask:typeof xy<"u"?function(i){return xy.resolve(null).then(i).catch(AS)}:_y;function AS(i){setTimeout(function(){throw i})}function fu(i){return i==="head"}function Sy(i,a){var l=a,f=0;do{var v=l.nextSibling;if(i.removeChild(l),v&&v.nodeType===8)if(l=v.data,l==="/$"||l==="/&"){if(f===0){i.removeChild(v),tf(a);return}f--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")f++;else if(l==="html")mh(i.ownerDocument.documentElement);else if(l==="head"){l=i.ownerDocument.head,mh(l);for(var b=l.firstChild;b;){var R=b.nextSibling,X=b.nodeName;b[ui]||X==="SCRIPT"||X==="STYLE"||X==="LINK"&&b.rel.toLowerCase()==="stylesheet"||l.removeChild(b),b=R}}else l==="body"&&mh(i.ownerDocument.body);l=v}while(l);tf(a)}function Ay(i,a){var l=i;i=0;do{var f=l.nextSibling;if(l.nodeType===1?a?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(a?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),f&&f.nodeType===8)if(l=f.data,l==="/$"){if(i===0)break;i--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||i++;l=f}while(l)}function Rg(i){var a=i.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var l=a;switch(a=a.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Rg(l),Sa(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}i.removeChild(l)}}function ES(i,a,l,f){for(;i.nodeType===1;){var v=l;if(i.nodeName.toLowerCase()!==a.toLowerCase()){if(!f&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(f){if(!i[ui])switch(a){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(b=i.getAttribute("rel"),b==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(b!==v.rel||i.getAttribute("href")!==(v.href==null||v.href===""?null:v.href)||i.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin)||i.getAttribute("title")!==(v.title==null?null:v.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(b=i.getAttribute("src"),(b!==(v.src==null?null:v.src)||i.getAttribute("type")!==(v.type==null?null:v.type)||i.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin))&&b&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(a==="input"&&i.type==="hidden"){var b=v.name==null?null:""+v.name;if(v.type==="hidden"&&i.getAttribute("name")===b)return i}else return i;if(i=Bs(i.nextSibling),i===null)break}return null}function TS(i,a,l){if(a==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!l||(i=Bs(i.nextSibling),i===null))return null;return i}function Ey(i,a){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!a||(i=Bs(i.nextSibling),i===null))return null;return i}function Ig(i){return i.data==="$?"||i.data==="$~"}function Lg(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function NS(i,a){var l=i.ownerDocument;if(i.data==="$~")i._reactRetry=a;else if(i.data!=="$?"||l.readyState!=="loading")a();else{var f=function(){a(),l.removeEventListener("DOMContentLoaded",f)};l.addEventListener("DOMContentLoaded",f),i._reactRetry=f}}function Bs(i){for(;i!=null;i=i.nextSibling){var a=i.nodeType;if(a===1||a===3)break;if(a===8){if(a=i.data,a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"||a==="F!"||a==="F")break;if(a==="/$"||a==="/&")return null}}return i}var Mg=null;function Ty(i){i=i.nextSibling;for(var a=0;i;){if(i.nodeType===8){var l=i.data;if(l==="/$"||l==="/&"){if(a===0)return Bs(i.nextSibling);a--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||a++}i=i.nextSibling}return null}function Ny(i){i=i.previousSibling;for(var a=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(a===0)return i;a--}else l!=="/$"&&l!=="/&"||a++}i=i.previousSibling}return null}function Cy(i,a,l){switch(a=Hd(l),i){case"html":if(i=a.documentElement,!i)throw Error(r(452));return i;case"head":if(i=a.head,!i)throw Error(r(453));return i;case"body":if(i=a.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function mh(i){for(var a=i.attributes;a.length;)i.removeAttributeNode(a[0]);Sa(i)}var Us=new Map,Dy=new Set;function $d(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Nl=me.d;me.d={f:CS,r:DS,D:RS,C:IS,L:LS,m:MS,X:OS,S:kS,M:PS};function CS(){var i=Nl.f(),a=Pd();return i||a}function DS(i){var a=Zr(i);a!==null&&a.tag===5&&a.type==="form"?G2(a):Nl.r(i)}var Jc=typeof document>"u"?null:document;function Ry(i,a,l){var f=Jc;if(f&&typeof a=="string"&&a){var v=Ir(a);v='link[rel="'+i+'"][href="'+v+'"]',typeof l=="string"&&(v+='[crossorigin="'+l+'"]'),Dy.has(v)||(Dy.add(v),i={rel:i,crossOrigin:l,href:a},f.querySelector(v)===null&&(a=f.createElement("link"),ra(a,"link",i),Sr(a),f.head.appendChild(a)))}}function RS(i){Nl.D(i),Ry("dns-prefetch",i,null)}function IS(i,a){Nl.C(i,a),Ry("preconnect",i,a)}function LS(i,a,l){Nl.L(i,a,l);var f=Jc;if(f&&i&&a){var v='link[rel="preload"][as="'+Ir(a)+'"]';a==="image"&&l&&l.imageSrcSet?(v+='[imagesrcset="'+Ir(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(v+='[imagesizes="'+Ir(l.imageSizes)+'"]')):v+='[href="'+Ir(i)+'"]';var b=v;switch(a){case"style":b=Zc(i);break;case"script":b=ef(i)}Us.has(b)||(i=_({rel:"preload",href:a==="image"&&l&&l.imageSrcSet?void 0:i,as:a},l),Us.set(b,i),f.querySelector(v)!==null||a==="style"&&f.querySelector(gh(b))||a==="script"&&f.querySelector(vh(b))||(a=f.createElement("link"),ra(a,"link",i),Sr(a),f.head.appendChild(a)))}}function MS(i,a){Nl.m(i,a);var l=Jc;if(l&&i){var f=a&&typeof a.as=="string"?a.as:"script",v='link[rel="modulepreload"][as="'+Ir(f)+'"][href="'+Ir(i)+'"]',b=v;switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":b=ef(i)}if(!Us.has(b)&&(i=_({rel:"modulepreload",href:i},a),Us.set(b,i),l.querySelector(v)===null)){switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(vh(b)))return}f=l.createElement("link"),ra(f,"link",i),Sr(f),l.head.appendChild(f)}}}function kS(i,a,l){Nl.S(i,a,l);var f=Jc;if(f&&i){var v=oa(f).hoistableStyles,b=Zc(i);a=a||"default";var R=v.get(b);if(!R){var X={loading:0,preload:null};if(R=f.querySelector(gh(b)))X.loading=5;else{i=_({rel:"stylesheet",href:i,"data-precedence":a},l),(l=Us.get(b))&&kg(i,l);var he=R=f.createElement("link");Sr(he),ra(he,"link",i),he._p=new Promise(function(Ve,Qe){he.onload=Ve,he.onerror=Qe}),he.addEventListener("load",function(){X.loading|=1}),he.addEventListener("error",function(){X.loading|=2}),X.loading|=4,Gd(R,a,f)}R={type:"stylesheet",instance:R,count:1,state:X},v.set(b,R)}}}function OS(i,a){Nl.X(i,a);var l=Jc;if(l&&i){var f=oa(l).hoistableScripts,v=ef(i),b=f.get(v);b||(b=l.querySelector(vh(v)),b||(i=_({src:i,async:!0},a),(a=Us.get(v))&&Og(i,a),b=l.createElement("script"),Sr(b),ra(b,"link",i),l.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},f.set(v,b))}}function PS(i,a){Nl.M(i,a);var l=Jc;if(l&&i){var f=oa(l).hoistableScripts,v=ef(i),b=f.get(v);b||(b=l.querySelector(vh(v)),b||(i=_({src:i,async:!0,type:"module"},a),(a=Us.get(v))&&Og(i,a),b=l.createElement("script"),Sr(b),ra(b,"link",i),l.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},f.set(v,b))}}function Iy(i,a,l,f){var v=(v=fe.current)?$d(v):null;if(!v)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(a=Zc(l.href),l=oa(v).hoistableStyles,f=l.get(a),f||(f={type:"style",instance:null,count:0,state:null},l.set(a,f)),f):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){i=Zc(l.href);var b=oa(v).hoistableStyles,R=b.get(i);if(R||(v=v.ownerDocument||v,R={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},b.set(i,R),(b=v.querySelector(gh(i)))&&!b._p&&(R.instance=b,R.state.loading=5),Us.has(i)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Us.set(i,l),b||jS(v,i,l,R.state))),a&&f===null)throw Error(r(528,""));return R}if(a&&f!==null)throw Error(r(529,""));return null;case"script":return a=l.async,l=l.src,typeof l=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=ef(l),l=oa(v).hoistableScripts,f=l.get(a),f||(f={type:"script",instance:null,count:0,state:null},l.set(a,f)),f):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function Zc(i){return'href="'+Ir(i)+'"'}function gh(i){return'link[rel="stylesheet"]['+i+"]"}function Ly(i){return _({},i,{"data-precedence":i.precedence,precedence:null})}function jS(i,a,l,f){i.querySelector('link[rel="preload"][as="style"]['+a+"]")?f.loading=1:(a=i.createElement("link"),f.preload=a,a.addEventListener("load",function(){return f.loading|=1}),a.addEventListener("error",function(){return f.loading|=2}),ra(a,"link",l),Sr(a),i.head.appendChild(a))}function ef(i){return'[src="'+Ir(i)+'"]'}function vh(i){return"script[async]"+i}function My(i,a,l){if(a.count++,a.instance===null)switch(a.type){case"style":var f=i.querySelector('style[data-href~="'+Ir(l.href)+'"]');if(f)return a.instance=f,Sr(f),f;var v=_({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return f=(i.ownerDocument||i).createElement("style"),Sr(f),ra(f,"style",v),Gd(f,l.precedence,i),a.instance=f;case"stylesheet":v=Zc(l.href);var b=i.querySelector(gh(v));if(b)return a.state.loading|=4,a.instance=b,Sr(b),b;f=Ly(l),(v=Us.get(v))&&kg(f,v),b=(i.ownerDocument||i).createElement("link"),Sr(b);var R=b;return R._p=new Promise(function(X,he){R.onload=X,R.onerror=he}),ra(b,"link",f),a.state.loading|=4,Gd(b,l.precedence,i),a.instance=b;case"script":return b=ef(l.src),(v=i.querySelector(vh(b)))?(a.instance=v,Sr(v),v):(f=l,(v=Us.get(b))&&(f=_({},l),Og(f,v)),i=i.ownerDocument||i,v=i.createElement("script"),Sr(v),ra(v,"link",f),i.head.appendChild(v),a.instance=v);case"void":return null;default:throw Error(r(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(f=a.instance,a.state.loading|=4,Gd(f,l.precedence,i));return a.instance}function Gd(i,a,l){for(var f=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),v=f.length?f[f.length-1]:null,b=v,R=0;R<f.length;R++){var X=f[R];if(X.dataset.precedence===a)b=X;else if(b!==v)break}b?b.parentNode.insertBefore(i,b.nextSibling):(a=l.nodeType===9?l.head:l,a.insertBefore(i,a.firstChild))}function kg(i,a){i.crossOrigin==null&&(i.crossOrigin=a.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=a.referrerPolicy),i.title==null&&(i.title=a.title)}function Og(i,a){i.crossOrigin==null&&(i.crossOrigin=a.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=a.referrerPolicy),i.integrity==null&&(i.integrity=a.integrity)}var Yd=null;function ky(i,a,l){if(Yd===null){var f=new Map,v=Yd=new Map;v.set(l,f)}else v=Yd,f=v.get(l),f||(f=new Map,v.set(l,f));if(f.has(i))return f;for(f.set(i,null),l=l.getElementsByTagName(i),v=0;v<l.length;v++){var b=l[v];if(!(b[ui]||b[bn]||i==="link"&&b.getAttribute("rel")==="stylesheet")&&b.namespaceURI!=="http://www.w3.org/2000/svg"){var R=b.getAttribute(a)||"";R=i+R;var X=f.get(R);X?X.push(b):f.set(R,[b])}}return f}function Oy(i,a,l){i=i.ownerDocument||i,i.head.insertBefore(l,a==="title"?i.querySelector("head > title"):null)}function FS(i,a,l){if(l===1||a.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return i=a.disabled,typeof a.precedence=="string"&&i==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function Py(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function VS(i,a,l,f){if(l.type==="stylesheet"&&(typeof f.media!="string"||matchMedia(f.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var v=Zc(f.href),b=a.querySelector(gh(v));if(b){a=b._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(i.count++,i=Wd.bind(i),a.then(i,i)),l.state.loading|=4,l.instance=b,Sr(b);return}b=a.ownerDocument||a,f=Ly(f),(v=Us.get(v))&&kg(f,v),b=b.createElement("link"),Sr(b);var R=b;R._p=new Promise(function(X,he){R.onload=X,R.onerror=he}),ra(b,"link",f),l.instance=b}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(l,a),(a=l.state.preload)&&(l.state.loading&3)===0&&(i.count++,l=Wd.bind(i),a.addEventListener("load",l),a.addEventListener("error",l))}}var Pg=0;function BS(i,a){return i.stylesheets&&i.count===0&&Qd(i,i.stylesheets),0<i.count||0<i.imgCount?function(l){var f=setTimeout(function(){if(i.stylesheets&&Qd(i,i.stylesheets),i.unsuspend){var b=i.unsuspend;i.unsuspend=null,b()}},6e4+a);0<i.imgBytes&&Pg===0&&(Pg=62500*wS());var v=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&Qd(i,i.stylesheets),i.unsuspend)){var b=i.unsuspend;i.unsuspend=null,b()}},(i.imgBytes>Pg?50:800)+a);return i.unsuspend=l,function(){i.unsuspend=null,clearTimeout(f),clearTimeout(v)}}:null}function Wd(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Qd(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Kd=null;function Qd(i,a){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Kd=new Map,a.forEach(US,i),Kd=null,Wd.call(i))}function US(i,a){if(!(a.state.loading&4)){var l=Kd.get(i);if(l)var f=l.get(null);else{l=new Map,Kd.set(i,l);for(var v=i.querySelectorAll("link[data-precedence],style[data-precedence]"),b=0;b<v.length;b++){var R=v[b];(R.nodeName==="LINK"||R.getAttribute("media")!=="not all")&&(l.set(R.dataset.precedence,R),f=R)}f&&l.set(null,f)}v=a.instance,R=v.getAttribute("data-precedence"),b=l.get(R)||f,b===f&&l.set(null,v),l.set(R,v),this.count++,f=Wd.bind(this),v.addEventListener("load",f),v.addEventListener("error",f),b?b.parentNode.insertBefore(v,b.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(v,i.firstChild)),a.state.loading|=4}}var yh={$$typeof:W,Provider:null,Consumer:null,_currentValue:de,_currentValue2:de,_threadCount:0};function zS(i,a,l,f,v,b,R,X,he){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=lt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=lt(0),this.hiddenUpdates=lt(null),this.identifierPrefix=f,this.onUncaughtError=v,this.onCaughtError=b,this.onRecoverableError=R,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=he,this.incompleteTransitions=new Map}function jy(i,a,l,f,v,b,R,X,he,Ve,Qe,rt){return i=new zS(i,a,l,R,he,Ve,Qe,rt,X),a=1,b===!0&&(a|=24),b=Vi(3,null,null,a),i.current=b,b.stateNode=i,a=Zl(),a.refCount++,i.pooledCache=a,a.refCount++,b.memoizedState={element:f,isDehydrated:l,cache:a},gt(b),i}function Fy(i){return i?(i=Ti,i):Ti}function Vy(i,a,l,f,v,b){v=Fy(v),f.context===null?f.context=v:f.pendingContext=v,f=nn(a),f.payload={element:l},b=b===void 0?null:b,b!==null&&(f.callback=b),l=yn(i,f,a),l!==null&&(ts(l,i,a),Xn(l,i,a))}function By(i,a){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<a?l:a}}function jg(i,a){By(i,a),(i=i.alternate)&&By(i,a)}function Uy(i){if(i.tag===13||i.tag===31){var a=so(i,67108864);a!==null&&ts(a,i,67108864),jg(i,67108864)}}function zy(i){if(i.tag===13||i.tag===31){var a=vs();a=Ze(a);var l=so(i,a);l!==null&&ts(l,i,a),jg(i,a)}}var Xd=!0;function qS(i,a,l,f){var v=le.T;le.T=null;var b=me.p;try{me.p=2,Fg(i,a,l,f)}finally{me.p=b,le.T=v}}function HS(i,a,l,f){var v=le.T;le.T=null;var b=me.p;try{me.p=8,Fg(i,a,l,f)}finally{me.p=b,le.T=v}}function Fg(i,a,l,f){if(Xd){var v=Vg(f);if(v===null)Ag(i,a,f,Jd,l),Hy(i,f);else if(GS(v,i,a,l,f))f.stopPropagation();else if(Hy(i,f),a&4&&-1<$S.indexOf(i)){for(;v!==null;){var b=Zr(v);if(b!==null)switch(b.tag){case 3:if(b=b.stateNode,b.current.memoizedState.isDehydrated){var R=Rt(b.pendingLanes);if(R!==0){var X=b;for(X.pendingLanes|=2,X.entangledLanes|=2;R;){var he=1<<31-tn(R);X.entanglements[1]|=he,R&=~he}qo(b),(Zn&6)===0&&(kd=Ut()+500,hh(0))}}break;case 31:case 13:X=so(b,2),X!==null&&ts(X,b,2),Pd(),jg(b,2)}if(b=Vg(f),b===null&&Ag(i,a,f,Jd,l),b===v)break;v=b}v!==null&&f.stopPropagation()}else Ag(i,a,f,null,l)}}function Vg(i){return i=Pi(i),Bg(i)}var Jd=null;function Bg(i){if(Jd=null,i=_i(i),i!==null){var a=o(i);if(a===null)i=null;else{var l=a.tag;if(l===13){if(i=u(a),i!==null)return i;i=null}else if(l===31){if(i=c(a),i!==null)return i;i=null}else if(l===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return Jd=i,null}function qy(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Gt()){case $t:return 2;case fn:return 8;case sn:case Et:return 32;case rn:return 268435456;default:return 32}default:return 32}}var Ug=!1,hu=null,du=null,pu=null,bh=new Map,wh=new Map,mu=[],$S="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Hy(i,a){switch(i){case"focusin":case"focusout":hu=null;break;case"dragenter":case"dragleave":du=null;break;case"mouseover":case"mouseout":pu=null;break;case"pointerover":case"pointerout":bh.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":wh.delete(a.pointerId)}}function _h(i,a,l,f,v,b){return i===null||i.nativeEvent!==b?(i={blockedOn:a,domEventName:l,eventSystemFlags:f,nativeEvent:b,targetContainers:[v]},a!==null&&(a=Zr(a),a!==null&&Uy(a)),i):(i.eventSystemFlags|=f,a=i.targetContainers,v!==null&&a.indexOf(v)===-1&&a.push(v),i)}function GS(i,a,l,f,v){switch(a){case"focusin":return hu=_h(hu,i,a,l,f,v),!0;case"dragenter":return du=_h(du,i,a,l,f,v),!0;case"mouseover":return pu=_h(pu,i,a,l,f,v),!0;case"pointerover":var b=v.pointerId;return bh.set(b,_h(bh.get(b)||null,i,a,l,f,v)),!0;case"gotpointercapture":return b=v.pointerId,wh.set(b,_h(wh.get(b)||null,i,a,l,f,v)),!0}return!1}function $y(i){var a=_i(i.target);if(a!==null){var l=o(a);if(l!==null){if(a=l.tag,a===13){if(a=u(l),a!==null){i.blockedOn=a,On(i.priority,function(){zy(l)});return}}else if(a===31){if(a=c(l),a!==null){i.blockedOn=a,On(i.priority,function(){zy(l)});return}}else if(a===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Zd(i){if(i.blockedOn!==null)return!1;for(var a=i.targetContainers;0<a.length;){var l=Vg(i.nativeEvent);if(l===null){l=i.nativeEvent;var f=new l.constructor(l.type,l);us=f,l.target.dispatchEvent(f),us=null}else return a=Zr(l),a!==null&&Uy(a),i.blockedOn=l,!1;a.shift()}return!0}function Gy(i,a,l){Zd(i)&&l.delete(a)}function YS(){Ug=!1,hu!==null&&Zd(hu)&&(hu=null),du!==null&&Zd(du)&&(du=null),pu!==null&&Zd(pu)&&(pu=null),bh.forEach(Gy),wh.forEach(Gy)}function ep(i,a){i.blockedOn===a&&(i.blockedOn=null,Ug||(Ug=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,YS)))}var tp=null;function Yy(i){tp!==i&&(tp=i,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){tp===i&&(tp=null);for(var a=0;a<i.length;a+=3){var l=i[a],f=i[a+1],v=i[a+2];if(typeof f!="function"){if(Bg(f||l)===null)continue;break}var b=Zr(l);b!==null&&(i.splice(a,3),a-=3,Vm(b,{pending:!0,data:v,method:l.method,action:f},f,v))}}))}function tf(i){function a(he){return ep(he,i)}hu!==null&&ep(hu,i),du!==null&&ep(du,i),pu!==null&&ep(pu,i),bh.forEach(a),wh.forEach(a);for(var l=0;l<mu.length;l++){var f=mu[l];f.blockedOn===i&&(f.blockedOn=null)}for(;0<mu.length&&(l=mu[0],l.blockedOn===null);)$y(l),l.blockedOn===null&&mu.shift();if(l=(i.ownerDocument||i).$$reactFormReplay,l!=null)for(f=0;f<l.length;f+=3){var v=l[f],b=l[f+1],R=v[Qn]||null;if(typeof b=="function")R||Yy(l);else if(R){var X=null;if(b&&b.hasAttribute("formAction")){if(v=b,R=b[Qn]||null)X=R.formAction;else if(Bg(v)!==null)continue}else X=R.action;typeof X=="function"?l[f+1]=X:(l.splice(f,3),f-=3),Yy(l)}}}function Wy(){function i(b){b.canIntercept&&b.info==="react-transition"&&b.intercept({handler:function(){return new Promise(function(R){return v=R})},focusReset:"manual",scroll:"manual"})}function a(){v!==null&&(v(),v=null),f||setTimeout(l,20)}function l(){if(!f&&!navigation.transition){var b=navigation.currentEntry;b&&b.url!=null&&navigation.navigate(b.url,{state:b.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var f=!1,v=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",a),navigation.addEventListener("navigateerror",a),setTimeout(l,100),function(){f=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",a),navigation.removeEventListener("navigateerror",a),v!==null&&(v(),v=null)}}}function zg(i){this._internalRoot=i}np.prototype.render=zg.prototype.render=function(i){var a=this._internalRoot;if(a===null)throw Error(r(409));var l=a.current,f=vs();Vy(l,f,i,a,null,null)},np.prototype.unmount=zg.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var a=i.containerInfo;Vy(i.current,2,null,i,null,null),Pd(),a[_r]=null}};function np(i){this._internalRoot=i}np.prototype.unstable_scheduleHydration=function(i){if(i){var a=en();i={blockedOn:null,target:i,priority:a};for(var l=0;l<mu.length&&a!==0&&a<mu[l].priority;l++);mu.splice(l,0,i),l===0&&$y(i)}};var Ky=e.version;if(Ky!=="19.2.1")throw Error(r(527,Ky,"19.2.1"));me.findDOMNode=function(i){var a=i._reactInternals;if(a===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=d(a),i=i!==null?g(i):null,i=i===null?null:i.stateNode,i};var WS={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:le,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var rp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rp.isDisabled&&rp.supportsFiber)try{Yt=rp.inject(WS),jt=rp}catch{}}return Sh.createRoot=function(i,a){if(!s(i))throw Error(r(299));var l=!1,f="",v=nv,b=rv,R=iv;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(v=a.onUncaughtError),a.onCaughtError!==void 0&&(b=a.onCaughtError),a.onRecoverableError!==void 0&&(R=a.onRecoverableError)),a=jy(i,1,!1,null,null,l,f,null,v,b,R,Wy),i[_r]=a.current,Sg(i),new zg(a)},Sh.hydrateRoot=function(i,a,l){if(!s(i))throw Error(r(299));var f=!1,v="",b=nv,R=rv,X=iv,he=null;return l!=null&&(l.unstable_strictMode===!0&&(f=!0),l.identifierPrefix!==void 0&&(v=l.identifierPrefix),l.onUncaughtError!==void 0&&(b=l.onUncaughtError),l.onCaughtError!==void 0&&(R=l.onCaughtError),l.onRecoverableError!==void 0&&(X=l.onRecoverableError),l.formState!==void 0&&(he=l.formState)),a=jy(i,1,!0,a,l??null,f,v,he,b,R,X,Wy),a.context=Fy(null),l=a.current,f=vs(),f=Ze(f),v=nn(f),v.callback=null,yn(l,v,f),l=f,a.current.lanes=l,Ge(a,l),qo(a),i[_r]=a.current,Sg(i),new np(a)},Sh.version="19.2.1",Sh}var a5;function sA(){if(a5)return $g.exports;a5=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),$g.exports=aA(),$g.exports}var oA=sA();var s5="popstate";function lA(n={}){function e(r,s){let{pathname:o,search:u,hash:c}=r.location;return z0("",{pathname:o,search:u,hash:c},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(r,s){return typeof s=="string"?s:Uh(s)}return cA(e,t,null,n)}function qr(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Hs(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function uA(){return Math.random().toString(36).substring(2,10)}function o5(n,e){return{usr:n.state,key:n.key,idx:e}}function z0(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?If(e):e,state:t,key:e&&e.key||r||uA()}}function Uh({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function If(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function cA(n,e,t,r={}){let{window:s=document.defaultView,v5Compat:o=!1}=r,u=s.history,c="POP",h=null,d=g();d==null&&(d=0,u.replaceState({...u.state,idx:d},""));function g(){return(u.state||{idx:null}).idx}function _(){c="POP";let j=g(),D=j==null?null:j-d;d=j,h&&h({action:c,location:M.location,delta:D})}function S(j,D){c="PUSH";let Q=z0(M.location,j,D);d=g()+1;let W=o5(Q,d),re=M.createHref(Q);try{u.pushState(W,"",re)}catch(ye){if(ye instanceof DOMException&&ye.name==="DataCloneError")throw ye;s.location.assign(re)}o&&h&&h({action:c,location:M.location,delta:1})}function w(j,D){c="REPLACE";let Q=z0(M.location,j,D);d=g();let W=o5(Q,d),re=M.createHref(Q);u.replaceState(W,"",re),o&&h&&h({action:c,location:M.location,delta:0})}function T(j){return fA(j)}let M={get action(){return c},get location(){return n(s,u)},listen(j){if(h)throw new Error("A history only accepts one active listener");return s.addEventListener(s5,_),h=j,()=>{s.removeEventListener(s5,_),h=null}},createHref(j){return e(s,j)},createURL:T,encodeLocation(j){let D=T(j);return{pathname:D.pathname,search:D.search,hash:D.hash}},push:S,replace:w,go(j){return u.go(j)}};return M}function fA(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),qr(t,"No window.location.(origin|href) available to create URL");let r=typeof n=="string"?n:Uh(n);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=t+r),new URL(r,t)}function i_(n,e,t="/"){return hA(n,e,t,!1)}function hA(n,e,t,r){let s=typeof e=="string"?If(e):e,o=kl(s.pathname||"/",t);if(o==null)return null;let u=a_(n);dA(u);let c=null;for(let h=0;c==null&&h<u.length;++h){let d=AA(o);c=xA(u[h],d,r)}return c}function a_(n,e=[],t=[],r="",s=!1){let o=(u,c,h=s,d)=>{let g={relativePath:d===void 0?u.path||"":d,caseSensitive:u.caseSensitive===!0,childrenIndex:c,route:u};if(g.relativePath.startsWith("/")){if(!g.relativePath.startsWith(r)&&h)return;qr(g.relativePath.startsWith(r),`Absolute route path "${g.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(r.length)}let _=Ll([r,g.relativePath]),S=t.concat(g);u.children&&u.children.length>0&&(qr(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${_}".`),a_(u.children,e,S,_,h)),!(u.path==null&&!u.index)&&e.push({path:_,score:wA(_,u.index),routesMeta:S})};return n.forEach((u,c)=>{if(u.path===""||!u.path?.includes("?"))o(u,c);else for(let h of s_(u.path))o(u,c,!0,h)}),e}function s_(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,s=t.endsWith("?"),o=t.replace(/\?$/,"");if(r.length===0)return s?[o,""]:[o];let u=s_(r.join("/")),c=[];return c.push(...u.map(h=>h===""?o:[o,h].join("/"))),s&&c.push(...u),c.map(h=>n.startsWith("/")&&h===""?"/":h)}function dA(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:_A(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var pA=/^:[\w-]+$/,mA=3,gA=2,vA=1,yA=10,bA=-2,l5=n=>n==="*";function wA(n,e){let t=n.split("/"),r=t.length;return t.some(l5)&&(r+=bA),e&&(r+=gA),t.filter(s=>!l5(s)).reduce((s,o)=>s+(pA.test(o)?mA:o===""?vA:yA),r)}function _A(n,e){return n.length===e.length&&n.slice(0,-1).every((r,s)=>r===e[s])?n[n.length-1]-e[e.length-1]:0}function xA(n,e,t=!1){let{routesMeta:r}=n,s={},o="/",u=[];for(let c=0;c<r.length;++c){let h=r[c],d=c===r.length-1,g=o==="/"?e:e.slice(o.length)||"/",_=jp({path:h.relativePath,caseSensitive:h.caseSensitive,end:d},g),S=h.route;if(!_&&d&&t&&!r[r.length-1].route.index&&(_=jp({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},g)),!_)return null;Object.assign(s,_.params),u.push({params:s,pathname:Ll([o,_.pathname]),pathnameBase:DA(Ll([o,_.pathnameBase])),route:S}),_.pathnameBase!=="/"&&(o=Ll([o,_.pathnameBase]))}return u}function jp(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=SA(n.path,n.caseSensitive,n.end),s=e.match(t);if(!s)return null;let o=s[0],u=o.replace(/(.)\/+$/,"$1"),c=s.slice(1);return{params:r.reduce((d,{paramName:g,isOptional:_},S)=>{if(g==="*"){let T=c[S]||"";u=o.slice(0,o.length-T.length).replace(/(.)\/+$/,"$1")}const w=c[S];return _&&!w?d[g]=void 0:d[g]=(w||"").replace(/%2F/g,"/"),d},{}),pathname:o,pathnameBase:u,pattern:n}}function SA(n,e=!1,t=!0){Hs(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,c,h)=>(r.push({paramName:c,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(r.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function AA(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Hs(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function kl(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}var EA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,TA=n=>EA.test(n);function NA(n,e="/"){let{pathname:t,search:r="",hash:s=""}=typeof n=="string"?If(n):n,o;if(t)if(TA(t))o=t;else{if(t.includes("//")){let u=t;t=t.replace(/\/\/+/g,"/"),Hs(!1,`Pathnames cannot have embedded double slashes - normalizing ${u} -> ${t}`)}t.startsWith("/")?o=u5(t.substring(1),"/"):o=u5(t,e)}else o=e;return{pathname:o,search:RA(r),hash:IA(s)}}function u5(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function Kg(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function CA(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function o_(n){let e=CA(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function l_(n,e,t,r=!1){let s;typeof n=="string"?s=If(n):(s={...n},qr(!s.pathname||!s.pathname.includes("?"),Kg("?","pathname","search",s)),qr(!s.pathname||!s.pathname.includes("#"),Kg("#","pathname","hash",s)),qr(!s.search||!s.search.includes("#"),Kg("#","search","hash",s)));let o=n===""||s.pathname==="",u=o?"/":s.pathname,c;if(u==null)c=t;else{let _=e.length-1;if(!r&&u.startsWith("..")){let S=u.split("/");for(;S[0]==="..";)S.shift(),_-=1;s.pathname=S.join("/")}c=_>=0?e[_]:"/"}let h=NA(s,c),d=u&&u!=="/"&&u.endsWith("/"),g=(o||u===".")&&t.endsWith("/");return!h.pathname.endsWith("/")&&(d||g)&&(h.pathname+="/"),h}var Ll=n=>n.join("/").replace(/\/\/+/g,"/"),DA=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),RA=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,IA=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function LA(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}function MA(n){return n.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var u_=["POST","PUT","PATCH","DELETE"];new Set(u_);var kA=["GET",...u_];new Set(kA);var Lf=ke.createContext(null);Lf.displayName="DataRouter";var om=ke.createContext(null);om.displayName="DataRouterState";ke.createContext(!1);var c_=ke.createContext({isTransitioning:!1});c_.displayName="ViewTransition";var OA=ke.createContext(new Map);OA.displayName="Fetchers";var PA=ke.createContext(null);PA.displayName="Await";var bo=ke.createContext(null);bo.displayName="Navigation";var ed=ke.createContext(null);ed.displayName="Location";var Ul=ke.createContext({outlet:null,matches:[],isDataRoute:!1});Ul.displayName="Route";var R1=ke.createContext(null);R1.displayName="RouteError";function jA(n,{relative:e}={}){qr(td(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=ke.useContext(bo),{hash:s,pathname:o,search:u}=nd(n,{relative:e}),c=o;return t!=="/"&&(c=o==="/"?t:Ll([t,o])),r.createHref({pathname:c,search:u,hash:s})}function td(){return ke.useContext(ed)!=null}function Mu(){return qr(td(),"useLocation() may be used only in the context of a <Router> component."),ke.useContext(ed).location}var f_="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function h_(n){ke.useContext(bo).static||ke.useLayoutEffect(n)}function Mf(){let{isDataRoute:n}=ke.useContext(Ul);return n?QA():FA()}function FA(){qr(td(),"useNavigate() may be used only in the context of a <Router> component.");let n=ke.useContext(Lf),{basename:e,navigator:t}=ke.useContext(bo),{matches:r}=ke.useContext(Ul),{pathname:s}=Mu(),o=JSON.stringify(o_(r)),u=ke.useRef(!1);return h_(()=>{u.current=!0}),ke.useCallback((h,d={})=>{if(Hs(u.current,f_),!u.current)return;if(typeof h=="number"){t.go(h);return}let g=l_(h,JSON.parse(o),s,d.relative==="path");n==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:Ll([e,g.pathname])),(d.replace?t.replace:t.push)(g,d.state,d)},[e,t,o,s,n])}ke.createContext(null);function nd(n,{relative:e}={}){let{matches:t}=ke.useContext(Ul),{pathname:r}=Mu(),s=JSON.stringify(o_(t));return ke.useMemo(()=>l_(n,JSON.parse(s),r,e==="path"),[n,s,r,e])}function VA(n,e){return d_(n,e)}function d_(n,e,t,r,s){qr(td(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=ke.useContext(bo),{matches:u}=ke.useContext(Ul),c=u[u.length-1],h=c?c.params:{},d=c?c.pathname:"/",g=c?c.pathnameBase:"/",_=c&&c.route;{let Q=_&&_.path||"";p_(d,!_||Q.endsWith("*")||Q.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${Q}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Q}"> to <Route path="${Q==="/"?"*":`${Q}/*`}">.`)}let S=Mu(),w;if(e){let Q=typeof e=="string"?If(e):e;qr(g==="/"||Q.pathname?.startsWith(g),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${Q.pathname}" was given in the \`location\` prop.`),w=Q}else w=S;let T=w.pathname||"/",M=T;if(g!=="/"){let Q=g.replace(/^\//,"").split("/");M="/"+T.replace(/^\//,"").split("/").slice(Q.length).join("/")}let j=i_(n,{pathname:M});Hs(_||j!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),Hs(j==null||j[j.length-1].route.element!==void 0||j[j.length-1].route.Component!==void 0||j[j.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let D=HA(j&&j.map(Q=>Object.assign({},Q,{params:Object.assign({},h,Q.params),pathname:Ll([g,o.encodeLocation?o.encodeLocation(Q.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:Q.pathname]),pathnameBase:Q.pathnameBase==="/"?g:Ll([g,o.encodeLocation?o.encodeLocation(Q.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:Q.pathnameBase])})),u,t,r,s);return e&&D?ke.createElement(ed.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},D):D}function BA(){let n=KA(),e=LA(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},u=null;return console.error("Error handled by React Router default ErrorBoundary:",n),u=ke.createElement(ke.Fragment,null,ke.createElement("p",null," Hey developer "),ke.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",ke.createElement("code",{style:o},"ErrorBoundary")," or"," ",ke.createElement("code",{style:o},"errorElement")," prop on your route.")),ke.createElement(ke.Fragment,null,ke.createElement("h2",null,"Unexpected Application Error!"),ke.createElement("h3",{style:{fontStyle:"italic"}},e),t?ke.createElement("pre",{style:s},t):null,u)}var UA=ke.createElement(BA,null),zA=class extends ke.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.onError?this.props.onError(n,e):console.error("React Router caught the following error during render",n)}render(){return this.state.error!==void 0?ke.createElement(Ul.Provider,{value:this.props.routeContext},ke.createElement(R1.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function qA({routeContext:n,match:e,children:t}){let r=ke.useContext(Lf);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),ke.createElement(Ul.Provider,{value:n},t)}function HA(n,e=[],t=null,r=null,s=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let o=n,u=t?.errors;if(u!=null){let g=o.findIndex(_=>_.route.id&&u?.[_.route.id]!==void 0);qr(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,g+1))}let c=!1,h=-1;if(t)for(let g=0;g<o.length;g++){let _=o[g];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(h=g),_.route.id){let{loaderData:S,errors:w}=t,T=_.route.loader&&!S.hasOwnProperty(_.route.id)&&(!w||w[_.route.id]===void 0);if(_.route.lazy||T){c=!0,h>=0?o=o.slice(0,h+1):o=[o[0]];break}}}let d=t&&r?(g,_)=>{r(g,{location:t.location,params:t.matches?.[0]?.params??{},unstable_pattern:MA(t.matches),errorInfo:_})}:void 0;return o.reduceRight((g,_,S)=>{let w,T=!1,M=null,j=null;t&&(w=u&&_.route.id?u[_.route.id]:void 0,M=_.route.errorElement||UA,c&&(h<0&&S===0?(p_("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),T=!0,j=null):h===S&&(T=!0,j=_.route.hydrateFallbackElement||null)));let D=e.concat(o.slice(0,S+1)),Q=()=>{let W;return w?W=M:T?W=j:_.route.Component?W=ke.createElement(_.route.Component,null):_.route.element?W=_.route.element:W=g,ke.createElement(qA,{match:_,routeContext:{outlet:g,matches:D,isDataRoute:t!=null},children:W})};return t&&(_.route.ErrorBoundary||_.route.errorElement||S===0)?ke.createElement(zA,{location:t.location,revalidation:t.revalidation,component:M,error:w,children:Q(),routeContext:{outlet:null,matches:D,isDataRoute:!0},onError:d}):Q()},null)}function I1(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function $A(n){let e=ke.useContext(Lf);return qr(e,I1(n)),e}function GA(n){let e=ke.useContext(om);return qr(e,I1(n)),e}function YA(n){let e=ke.useContext(Ul);return qr(e,I1(n)),e}function L1(n){let e=YA(n),t=e.matches[e.matches.length-1];return qr(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function WA(){return L1("useRouteId")}function KA(){let n=ke.useContext(R1),e=GA("useRouteError"),t=L1("useRouteError");return n!==void 0?n:e.errors?.[t]}function QA(){let{router:n}=$A("useNavigate"),e=L1("useNavigate"),t=ke.useRef(!1);return h_(()=>{t.current=!0}),ke.useCallback(async(s,o={})=>{Hs(t.current,f_),t.current&&(typeof s=="number"?await n.navigate(s):await n.navigate(s,{fromRouteId:e,...o}))},[n,e])}var c5={};function p_(n,e,t){!e&&!c5[n]&&(c5[n]=!0,Hs(!1,t))}ke.memo(XA);function XA({routes:n,future:e,state:t,unstable_onError:r}){return d_(n,void 0,t,r,e)}function xp(n){qr(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function JA({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:s,static:o=!1,unstable_useTransitions:u}){qr(!td(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=n.replace(/^\/*/,"/"),h=ke.useMemo(()=>({basename:c,navigator:s,static:o,unstable_useTransitions:u,future:{}}),[c,s,o,u]);typeof t=="string"&&(t=If(t));let{pathname:d="/",search:g="",hash:_="",state:S=null,key:w="default"}=t,T=ke.useMemo(()=>{let M=kl(d,c);return M==null?null:{location:{pathname:M,search:g,hash:_,state:S,key:w},navigationType:r}},[c,d,g,_,S,w,r]);return Hs(T!=null,`<Router basename="${c}"> is not able to match the URL "${d}${g}${_}" because it does not start with the basename, so the <Router> won't render anything.`),T==null?null:ke.createElement(bo.Provider,{value:h},ke.createElement(ed.Provider,{children:e,value:T}))}function ZA({children:n,location:e}){return VA(q0(n),e)}function q0(n,e=[]){let t=[];return ke.Children.forEach(n,(r,s)=>{if(!ke.isValidElement(r))return;let o=[...e,s];if(r.type===ke.Fragment){t.push.apply(t,q0(r.props.children,o));return}qr(r.type===xp,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),qr(!r.props.index||!r.props.children,"An index route cannot have child routes.");let u={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(u.children=q0(r.props.children,o)),t.push(u)}),t}var Sp="get",Ap="application/x-www-form-urlencoded";function lm(n){return typeof HTMLElement<"u"&&n instanceof HTMLElement}function e6(n){return lm(n)&&n.tagName.toLowerCase()==="button"}function t6(n){return lm(n)&&n.tagName.toLowerCase()==="form"}function n6(n){return lm(n)&&n.tagName.toLowerCase()==="input"}function r6(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function i6(n,e){return n.button===0&&(!e||e==="_self")&&!r6(n)}function H0(n=""){return new URLSearchParams(typeof n=="string"||Array.isArray(n)||n instanceof URLSearchParams?n:Object.keys(n).reduce((e,t)=>{let r=n[t];return e.concat(Array.isArray(r)?r.map(s=>[t,s]):[[t,r]])},[]))}function a6(n,e){let t=H0(n);return e&&e.forEach((r,s)=>{t.has(s)||e.getAll(s).forEach(o=>{t.append(s,o)})}),t}var ip=null;function s6(){if(ip===null)try{new FormData(document.createElement("form"),0),ip=!1}catch{ip=!0}return ip}var o6=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Qg(n){return n!=null&&!o6.has(n)?(Hs(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ap}"`),null):n}function l6(n,e){let t,r,s,o,u;if(t6(n)){let c=n.getAttribute("action");r=c?kl(c,e):null,t=n.getAttribute("method")||Sp,s=Qg(n.getAttribute("enctype"))||Ap,o=new FormData(n)}else if(e6(n)||n6(n)&&(n.type==="submit"||n.type==="image")){let c=n.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=n.getAttribute("formaction")||c.getAttribute("action");if(r=h?kl(h,e):null,t=n.getAttribute("formmethod")||c.getAttribute("method")||Sp,s=Qg(n.getAttribute("formenctype"))||Qg(c.getAttribute("enctype"))||Ap,o=new FormData(c,n),!s6()){let{name:d,type:g,value:_}=n;if(g==="image"){let S=d?`${d}.`:"";o.append(`${S}x`,"0"),o.append(`${S}y`,"0")}else d&&o.append(d,_)}}else{if(lm(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Sp,r=null,s=Ap,u=n}return o&&s==="text/plain"&&(u=o,o=void 0),{action:r,method:t.toLowerCase(),encType:s,formData:o,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function M1(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function u6(n,e,t){let r=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return r.pathname==="/"?r.pathname=`_root.${t}`:e&&kl(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${t}`,r}async function c6(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function f6(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function h6(n,e,t){let r=await Promise.all(n.map(async s=>{let o=e.routes[s.route.id];if(o){let u=await c6(o,t);return u.links?u.links():[]}return[]}));return g6(r.flat(1).filter(f6).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function f5(n,e,t,r,s,o){let u=(h,d)=>t[d]?h.route.id!==t[d].route.id:!0,c=(h,d)=>t[d].pathname!==h.pathname||t[d].route.path?.endsWith("*")&&t[d].params["*"]!==h.params["*"];return o==="assets"?e.filter((h,d)=>u(h,d)||c(h,d)):o==="data"?e.filter((h,d)=>{let g=r.routes[h.route.id];if(!g||!g.hasLoader)return!1;if(u(h,d)||c(h,d))return!0;if(h.route.shouldRevalidate){let _=h.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function d6(n,e,{includeHydrateFallback:t}={}){return p6(n.map(r=>{let s=e.routes[r.route.id];if(!s)return[];let o=[s.module];return s.clientActionModule&&(o=o.concat(s.clientActionModule)),s.clientLoaderModule&&(o=o.concat(s.clientLoaderModule)),t&&s.hydrateFallbackModule&&(o=o.concat(s.hydrateFallbackModule)),s.imports&&(o=o.concat(s.imports)),o}).flat(1))}function p6(n){return[...new Set(n)]}function m6(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function g6(n,e){let t=new Set;return new Set(e),n.reduce((r,s)=>{let o=JSON.stringify(m6(s));return t.has(o)||(t.add(o),r.push({key:o,link:s})),r},[])}function m_(){let n=ke.useContext(Lf);return M1(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function v6(){let n=ke.useContext(om);return M1(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var k1=ke.createContext(void 0);k1.displayName="FrameworkContext";function g_(){let n=ke.useContext(k1);return M1(n,"You must render this element inside a <HydratedRouter> element"),n}function y6(n,e){let t=ke.useContext(k1),[r,s]=ke.useState(!1),[o,u]=ke.useState(!1),{onFocus:c,onBlur:h,onMouseEnter:d,onMouseLeave:g,onTouchStart:_}=e,S=ke.useRef(null);ke.useEffect(()=>{if(n==="render"&&u(!0),n==="viewport"){let M=D=>{D.forEach(Q=>{u(Q.isIntersecting)})},j=new IntersectionObserver(M,{threshold:.5});return S.current&&j.observe(S.current),()=>{j.disconnect()}}},[n]),ke.useEffect(()=>{if(r){let M=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(M)}}},[r]);let w=()=>{s(!0)},T=()=>{s(!1),u(!1)};return t?n!=="intent"?[o,S,{}]:[o,S,{onFocus:Ah(c,w),onBlur:Ah(h,T),onMouseEnter:Ah(d,w),onMouseLeave:Ah(g,T),onTouchStart:Ah(_,w)}]:[!1,S,{}]}function Ah(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function b6({page:n,...e}){let{router:t}=m_(),r=ke.useMemo(()=>i_(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?ke.createElement(_6,{page:n,matches:r,...e}):null}function w6(n){let{manifest:e,routeModules:t}=g_(),[r,s]=ke.useState([]);return ke.useEffect(()=>{let o=!1;return h6(n,e,t).then(u=>{o||s(u)}),()=>{o=!0}},[n,e,t]),r}function _6({page:n,matches:e,...t}){let r=Mu(),{manifest:s,routeModules:o}=g_(),{basename:u}=m_(),{loaderData:c,matches:h}=v6(),d=ke.useMemo(()=>f5(n,e,h,s,r,"data"),[n,e,h,s,r]),g=ke.useMemo(()=>f5(n,e,h,s,r,"assets"),[n,e,h,s,r]),_=ke.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let T=new Set,M=!1;if(e.forEach(D=>{let Q=s.routes[D.route.id];!Q||!Q.hasLoader||(!d.some(W=>W.route.id===D.route.id)&&D.route.id in c&&o[D.route.id]?.shouldRevalidate||Q.hasClientLoader?M=!0:T.add(D.route.id))}),T.size===0)return[];let j=u6(n,u,"data");return M&&T.size>0&&j.searchParams.set("_routes",e.filter(D=>T.has(D.route.id)).map(D=>D.route.id).join(",")),[j.pathname+j.search]},[u,c,r,s,d,e,n,o]),S=ke.useMemo(()=>d6(g,s),[g,s]),w=w6(g);return ke.createElement(ke.Fragment,null,_.map(T=>ke.createElement("link",{key:T,rel:"prefetch",as:"fetch",href:T,...t})),S.map(T=>ke.createElement("link",{key:T,rel:"modulepreload",href:T,...t})),w.map(({key:T,link:M})=>ke.createElement("link",{key:T,nonce:t.nonce,...M})))}function x6(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var v_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{v_&&(window.__reactRouterVersion="7.10.1")}catch{}function S6({basename:n,children:e,unstable_useTransitions:t,window:r}){let s=ke.useRef();s.current==null&&(s.current=lA({window:r,v5Compat:!0}));let o=s.current,[u,c]=ke.useState({action:o.action,location:o.location}),h=ke.useCallback(d=>{t===!1?c(d):ke.startTransition(()=>c(d))},[t]);return ke.useLayoutEffect(()=>o.listen(h),[o,h]),ke.createElement(JA,{basename:n,children:e,location:u.location,navigationType:u.action,navigator:o,unstable_useTransitions:t===!0})}var y_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,b_=ke.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:s,reloadDocument:o,replace:u,state:c,target:h,to:d,preventScrollReset:g,viewTransition:_,...S},w){let{basename:T,unstable_useTransitions:M}=ke.useContext(bo),j=typeof d=="string"&&y_.test(d),D,Q=!1;if(typeof d=="string"&&j&&(D=d,v_))try{let H=new URL(window.location.href),N=d.startsWith("//")?new URL(H.protocol+d):new URL(d),O=kl(N.pathname,T);N.origin===H.origin&&O!=null?d=O+N.search+N.hash:Q=!0}catch{Hs(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let W=jA(d,{relative:s}),[re,ye,_e]=y6(r,S),z=N6(d,{replace:u,state:c,target:h,preventScrollReset:g,relative:s,viewTransition:_,unstable_useTransitions:M});function V(H){e&&e(H),H.defaultPrevented||z(H)}let L=ke.createElement("a",{...S,..._e,href:D||W,onClick:Q||o?e:V,ref:x6(w,ye),target:h,"data-discover":!j&&t==="render"?"true":void 0});return re&&!j?ke.createElement(ke.Fragment,null,L,ke.createElement(b6,{page:W})):L});b_.displayName="Link";var A6=ke.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:s=!1,style:o,to:u,viewTransition:c,children:h,...d},g){let _=nd(u,{relative:d.relative}),S=Mu(),w=ke.useContext(om),{navigator:T,basename:M}=ke.useContext(bo),j=w!=null&&M6(_)&&c===!0,D=T.encodeLocation?T.encodeLocation(_).pathname:_.pathname,Q=S.pathname,W=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;t||(Q=Q.toLowerCase(),W=W?W.toLowerCase():null,D=D.toLowerCase()),W&&M&&(W=kl(W,M)||W);const re=D!=="/"&&D.endsWith("/")?D.length-1:D.length;let ye=Q===D||!s&&Q.startsWith(D)&&Q.charAt(re)==="/",_e=W!=null&&(W===D||!s&&W.startsWith(D)&&W.charAt(D.length)==="/"),z={isActive:ye,isPending:_e,isTransitioning:j},V=ye?e:void 0,L;typeof r=="function"?L=r(z):L=[r,ye?"active":null,_e?"pending":null,j?"transitioning":null].filter(Boolean).join(" ");let H=typeof o=="function"?o(z):o;return ke.createElement(b_,{...d,"aria-current":V,className:L,ref:g,style:H,to:u,viewTransition:c},typeof h=="function"?h(z):h)});A6.displayName="NavLink";var E6=ke.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:s,state:o,method:u=Sp,action:c,onSubmit:h,relative:d,preventScrollReset:g,viewTransition:_,...S},w)=>{let{unstable_useTransitions:T}=ke.useContext(bo),M=I6(),j=L6(c,{relative:d}),D=u.toLowerCase()==="get"?"get":"post",Q=typeof c=="string"&&y_.test(c),W=re=>{if(h&&h(re),re.defaultPrevented)return;re.preventDefault();let ye=re.nativeEvent.submitter,_e=ye?.getAttribute("formmethod")||u,z=()=>M(ye||re.currentTarget,{fetcherKey:e,method:_e,navigate:t,replace:s,state:o,relative:d,preventScrollReset:g,viewTransition:_});T&&t!==!1?ke.startTransition(()=>z()):z()};return ke.createElement("form",{ref:w,method:D,action:j,onSubmit:r?h:W,...S,"data-discover":!Q&&n==="render"?"true":void 0})});E6.displayName="Form";function T6(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function w_(n){let e=ke.useContext(Lf);return qr(e,T6(n)),e}function N6(n,{target:e,replace:t,state:r,preventScrollReset:s,relative:o,viewTransition:u,unstable_useTransitions:c}={}){let h=Mf(),d=Mu(),g=nd(n,{relative:o});return ke.useCallback(_=>{if(i6(_,e)){_.preventDefault();let S=t!==void 0?t:Uh(d)===Uh(g),w=()=>h(n,{replace:S,state:r,preventScrollReset:s,relative:o,viewTransition:u});c?ke.startTransition(()=>w()):w()}},[d,h,g,t,r,e,n,s,o,u,c])}function C6(n){Hs(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=ke.useRef(H0(n)),t=ke.useRef(!1),r=Mu(),s=ke.useMemo(()=>a6(r.search,t.current?null:e.current),[r.search]),o=Mf(),u=ke.useCallback((c,h)=>{const d=H0(typeof c=="function"?c(new URLSearchParams(s)):c);t.current=!0,o("?"+d,h)},[o,s]);return[s,u]}var D6=0,R6=()=>`__${String(++D6)}__`;function I6(){let{router:n}=w_("useSubmit"),{basename:e}=ke.useContext(bo),t=WA(),r=n.fetch,s=n.navigate;return ke.useCallback(async(o,u={})=>{let{action:c,method:h,encType:d,formData:g,body:_}=l6(o,e);if(u.navigate===!1){let S=u.fetcherKey||R6();await r(S,t,u.action||c,{preventScrollReset:u.preventScrollReset,formData:g,body:_,formMethod:u.method||h,formEncType:u.encType||d,flushSync:u.flushSync})}else await s(u.action||c,{preventScrollReset:u.preventScrollReset,formData:g,body:_,formMethod:u.method||h,formEncType:u.encType||d,replace:u.replace,state:u.state,fromRouteId:t,flushSync:u.flushSync,viewTransition:u.viewTransition})},[r,s,e,t])}function L6(n,{relative:e}={}){let{basename:t}=ke.useContext(bo),r=ke.useContext(Ul);qr(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),o={...nd(n||".",{relative:e})},u=Mu();if(n==null){o.search=u.search;let c=new URLSearchParams(o.search),h=c.getAll("index");if(h.some(g=>g==="")){c.delete("index"),h.filter(_=>_).forEach(_=>c.append("index",_));let g=c.toString();o.search=g?`?${g}`:""}}return(!n||n===".")&&s.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(o.pathname=o.pathname==="/"?t:Ll([t,o.pathname])),Uh(o)}function M6(n,{relative:e}={}){let t=ke.useContext(c_);qr(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=w_("useViewTransitionState"),s=nd(n,{relative:e});if(!t.isTransitioning)return!1;let o=kl(t.currentLocation.pathname,r)||t.currentLocation.pathname,u=kl(t.nextLocation.pathname,r)||t.nextLocation.pathname;return jp(s.pathname,u)!=null||jp(s.pathname,o)!=null}const k6=()=>{};var h5={};const __=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let s=n.charCodeAt(r);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},O6=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const s=n[t++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const o=n[t++];e[r++]=String.fromCharCode((s&31)<<6|o&63)}else if(s>239&&s<365){const o=n[t++],u=n[t++],c=n[t++],h=((s&7)<<18|(o&63)<<12|(u&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(h>>10)),e[r++]=String.fromCharCode(56320+(h&1023))}else{const o=n[t++],u=n[t++];e[r++]=String.fromCharCode((s&15)<<12|(o&63)<<6|u&63)}}return e.join("")},x_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<n.length;s+=3){const o=n[s],u=s+1<n.length,c=u?n[s+1]:0,h=s+2<n.length,d=h?n[s+2]:0,g=o>>2,_=(o&3)<<4|c>>4;let S=(c&15)<<2|d>>6,w=d&63;h||(w=64,u||(S=64)),r.push(t[g],t[_],t[S],t[w])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(__(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):O6(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<n.length;){const o=t[n.charAt(s++)],c=s<n.length?t[n.charAt(s)]:0;++s;const d=s<n.length?t[n.charAt(s)]:64;++s;const _=s<n.length?t[n.charAt(s)]:64;if(++s,o==null||c==null||d==null||_==null)throw new P6;const S=o<<2|c>>4;if(r.push(S),d!==64){const w=c<<4&240|d>>2;if(r.push(w),_!==64){const T=d<<6&192|_;r.push(T)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class P6 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const j6=function(n){const e=__(n);return x_.encodeByteArray(e,!0)},Fp=function(n){return j6(n).replace(/\./g,"")},F6=function(n){try{return x_.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function V6(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const B6=()=>V6().__FIREBASE_DEFAULTS__,U6=()=>{if(typeof process>"u"||typeof h5>"u")return;const n=h5.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},z6=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&F6(n[1]);return e&&JSON.parse(e)},O1=()=>{try{return k6()||B6()||U6()||z6()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},q6=n=>O1()?.emulatorHosts?.[n],H6=n=>{const e=q6(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},S_=()=>O1()?.config;class $6{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}function P1(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function G6(n){return(await fetch(n,{credentials:"include"})).ok}function Y6(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",s=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...n};return[Fp(JSON.stringify(t)),Fp(JSON.stringify(u)),""].join(".")}const Ih={};function W6(){const n={prod:[],emulator:[]};for(const e of Object.keys(Ih))Ih[e]?n.emulator.push(e):n.prod.push(e);return n}function K6(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let d5=!1;function Q6(n,e){if(typeof window>"u"||typeof document>"u"||!P1(window.location.host)||Ih[n]===e||Ih[n]||d5)return;Ih[n]=e;function t(S){return`__firebase__banner__${S}`}const r="__firebase__banner",o=W6().prod.length>0;function u(){const S=document.getElementById(r);S&&S.remove()}function c(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function h(S,w){S.setAttribute("width","24"),S.setAttribute("id",w),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function d(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{d5=!0,u()},S}function g(S,w){S.setAttribute("id",w),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function _(){const S=K6(r),w=t("text"),T=document.getElementById(w)||document.createElement("span"),M=t("learnmore"),j=document.getElementById(M)||document.createElement("a"),D=t("preprendIcon"),Q=document.getElementById(D)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const W=S.element;c(W),g(j,M);const re=d();h(Q,D),W.append(Q,T,j,re),document.body.appendChild(W)}o?(T.innerText="Preview backend disconnected.",Q.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Q.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,T.innerText="Preview backend running in this workspace."),T.setAttribute("id",w)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}function X6(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function J6(){const n=O1()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Z6(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function eE(){return!J6()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function A_(){try{return typeof indexedDB=="object"}catch{return!1}}function E_(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{e(s.error?.message||"")}}catch(t){e(t)}})}function tE(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const nE="FirebaseError";class ku extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=nE,Object.setPrototypeOf(this,ku.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,um.prototype.create)}}class um{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},s=`${this.service}/${e}`,o=this.errors[e],u=o?rE(o,r):"Error",c=`${this.serviceName}: ${u} (${s}).`;return new ku(s,c,r)}}function rE(n,e){return n.replace(iE,(t,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const iE=/\{\$([^}]+)}/g;function zh(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const s of t){if(!r.includes(s))return!1;const o=n[s],u=e[s];if(p5(o)&&p5(u)){if(!zh(o,u))return!1}else if(o!==u)return!1}for(const s of r)if(!t.includes(s))return!1;return!0}function p5(n){return n!==null&&typeof n=="object"}const aE=1e3,sE=2,oE=14400*1e3,lE=.5;function m5(n,e=aE,t=sE){const r=e*Math.pow(t,n),s=Math.round(lE*r*(Math.random()-.5)*2);return Math.min(oE,r+s)}function $s(n){return n&&n._delegate?n._delegate:n}class Ol{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const tc="[DEFAULT]";class uE{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new $6;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(fE(e))try{this.getOrInitializeService({instanceIdentifier:tc})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:s});r.resolve(o)}catch{}}}}clearInstance(e=tc){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=tc){return this.instances.has(e)}getOptions(e=tc){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[o,u]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(o);r===c&&u.resolve(s)}return s}onInit(e,t){const r=this.normalizeInstanceIdentifier(t),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const o=this.instances.get(r);return o&&e(o,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const s of r)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:cE(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=tc){return this.component?this.component.multipleInstances?e:tc:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function cE(n){return n===tc?void 0:n}function fE(n){return n.instantiationMode==="EAGER"}class hE{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new uE(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}var zn;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(zn||(zn={}));const dE={debug:zn.DEBUG,verbose:zn.VERBOSE,info:zn.INFO,warn:zn.WARN,error:zn.ERROR,silent:zn.SILENT},pE=zn.INFO,mE={[zn.DEBUG]:"log",[zn.VERBOSE]:"log",[zn.INFO]:"info",[zn.WARN]:"warn",[zn.ERROR]:"error"},gE=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),s=mE[e];if(s)console[s](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class j1{constructor(e){this.name=e,this._logLevel=pE,this._logHandler=gE,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in zn))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?dE[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,zn.DEBUG,...e),this._logHandler(this,zn.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,zn.VERBOSE,...e),this._logHandler(this,zn.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,zn.INFO,...e),this._logHandler(this,zn.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,zn.WARN,...e),this._logHandler(this,zn.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,zn.ERROR,...e),this._logHandler(this,zn.ERROR,...e)}}const vE=(n,e)=>e.some(t=>n instanceof t);let g5,v5;function yE(){return g5||(g5=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function bE(){return v5||(v5=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const T_=new WeakMap,$0=new WeakMap,N_=new WeakMap,Xg=new WeakMap,F1=new WeakMap;function wE(n){const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("success",o),n.removeEventListener("error",u)},o=()=>{t(_u(n.result)),s()},u=()=>{r(n.error),s()};n.addEventListener("success",o),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&T_.set(t,n)}).catch(()=>{}),F1.set(e,n),e}function _E(n){if($0.has(n))return;const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",u),n.removeEventListener("abort",u)},o=()=>{t(),s()},u=()=>{r(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",o),n.addEventListener("error",u),n.addEventListener("abort",u)});$0.set(n,e)}let G0={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return $0.get(n);if(e==="objectStoreNames")return n.objectStoreNames||N_.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return _u(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function xE(n){G0=n(G0)}function SE(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(Jg(this),e,...t);return N_.set(r,e.sort?e.sort():[e]),_u(r)}:bE().includes(n)?function(...e){return n.apply(Jg(this),e),_u(T_.get(this))}:function(...e){return _u(n.apply(Jg(this),e))}}function AE(n){return typeof n=="function"?SE(n):(n instanceof IDBTransaction&&_E(n),vE(n,yE())?new Proxy(n,G0):n)}function _u(n){if(n instanceof IDBRequest)return wE(n);if(Xg.has(n))return Xg.get(n);const e=AE(n);return e!==n&&(Xg.set(n,e),F1.set(e,n)),e}const Jg=n=>F1.get(n);function C_(n,e,{blocked:t,upgrade:r,blocking:s,terminated:o}={}){const u=indexedDB.open(n,e),c=_u(u);return r&&u.addEventListener("upgradeneeded",h=>{r(_u(u.result),h.oldVersion,h.newVersion,_u(u.transaction),h)}),t&&u.addEventListener("blocked",h=>t(h.oldVersion,h.newVersion,h)),c.then(h=>{o&&h.addEventListener("close",()=>o()),s&&h.addEventListener("versionchange",d=>s(d.oldVersion,d.newVersion,d))}).catch(()=>{}),c}const EE=["get","getKey","getAll","getAllKeys","count"],TE=["put","add","delete","clear"],Zg=new Map;function y5(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Zg.get(e))return Zg.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,s=TE.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(s||EE.includes(t)))return;const o=async function(u,...c){const h=this.transaction(u,s?"readwrite":"readonly");let d=h.store;return r&&(d=d.index(c.shift())),(await Promise.all([d[t](...c),s&&h.done]))[0]};return Zg.set(e,o),o}xE(n=>({...n,get:(e,t,r)=>y5(e,t)||n.get(e,t,r),has:(e,t)=>!!y5(e,t)||n.has(e,t)}));class NE{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(CE(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function CE(n){return n.getComponent()?.type==="VERSION"}const Y0="@firebase/app",b5="0.14.6";const Pl=new j1("@firebase/app"),DE="@firebase/app-compat",RE="@firebase/analytics-compat",IE="@firebase/analytics",LE="@firebase/app-check-compat",ME="@firebase/app-check",kE="@firebase/auth",OE="@firebase/auth-compat",PE="@firebase/database",jE="@firebase/data-connect",FE="@firebase/database-compat",VE="@firebase/functions",BE="@firebase/functions-compat",UE="@firebase/installations",zE="@firebase/installations-compat",qE="@firebase/messaging",HE="@firebase/messaging-compat",$E="@firebase/performance",GE="@firebase/performance-compat",YE="@firebase/remote-config",WE="@firebase/remote-config-compat",KE="@firebase/storage",QE="@firebase/storage-compat",XE="@firebase/firestore",JE="@firebase/ai",ZE="@firebase/firestore-compat",eT="firebase",tT="12.6.0";const W0="[DEFAULT]",nT={[Y0]:"fire-core",[DE]:"fire-core-compat",[IE]:"fire-analytics",[RE]:"fire-analytics-compat",[ME]:"fire-app-check",[LE]:"fire-app-check-compat",[kE]:"fire-auth",[OE]:"fire-auth-compat",[PE]:"fire-rtdb",[jE]:"fire-data-connect",[FE]:"fire-rtdb-compat",[VE]:"fire-fn",[BE]:"fire-fn-compat",[UE]:"fire-iid",[zE]:"fire-iid-compat",[qE]:"fire-fcm",[HE]:"fire-fcm-compat",[$E]:"fire-perf",[GE]:"fire-perf-compat",[YE]:"fire-rc",[WE]:"fire-rc-compat",[KE]:"fire-gcs",[QE]:"fire-gcs-compat",[XE]:"fire-fst",[ZE]:"fire-fst-compat",[JE]:"fire-vertex","fire-js":"fire-js",[eT]:"fire-js-all"};const Vp=new Map,rT=new Map,K0=new Map;function w5(n,e){try{n.container.addComponent(e)}catch(t){Pl.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Eu(n){const e=n.name;if(K0.has(e))return Pl.debug(`There were multiple attempts to register component ${e}.`),!1;K0.set(e,n);for(const t of Vp.values())w5(t,n);for(const t of rT.values())w5(t,n);return!0}function rd(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function iT(n){return n==null?!1:n.settings!==void 0}const aT={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},xu=new um("app","Firebase",aT);class sT{constructor(e,t,r){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ol("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw xu.create("app-deleted",{appName:this._name})}}const oT=tT;function D_(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r={name:W0,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw xu.create("bad-app-name",{appName:String(s)});if(t||(t=S_()),!t)throw xu.create("no-options");const o=Vp.get(s);if(o){if(zh(t,o.options)&&zh(r,o.config))return o;throw xu.create("duplicate-app",{appName:s})}const u=new hE(s);for(const h of K0.values())u.addComponent(h);const c=new sT(t,r,u);return Vp.set(s,c),c}function R_(n=W0){const e=Vp.get(n);if(!e&&n===W0&&S_())return D_();if(!e)throw xu.create("no-app",{appName:n});return e}function Ko(n,e,t){let r=nT[n]??n;t&&(r+=`-${t}`);const s=r.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const u=[`Unable to register library "${r}" with version "${e}":`];s&&u.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&o&&u.push("and"),o&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Pl.warn(u.join(" "));return}Eu(new Ol(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const lT="firebase-heartbeat-database",uT=1,qh="firebase-heartbeat-store";let e0=null;function I_(){return e0||(e0=C_(lT,uT,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(qh)}catch(t){console.warn(t)}}}}).catch(n=>{throw xu.create("idb-open",{originalErrorMessage:n.message})})),e0}async function cT(n){try{const t=(await I_()).transaction(qh),r=await t.objectStore(qh).get(L_(n));return await t.done,r}catch(e){if(e instanceof ku)Pl.warn(e.message);else{const t=xu.create("idb-get",{originalErrorMessage:e?.message});Pl.warn(t.message)}}}async function _5(n,e){try{const r=(await I_()).transaction(qh,"readwrite");await r.objectStore(qh).put(e,L_(n)),await r.done}catch(t){if(t instanceof ku)Pl.warn(t.message);else{const r=xu.create("idb-set",{originalErrorMessage:t?.message});Pl.warn(r.message)}}}function L_(n){return`${n.name}!${n.options.appId}`}const fT=1024,hT=30;class dT{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new mT(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=x5();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(s=>s.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:t}),this._heartbeatsCache.heartbeats.length>hT){const s=gT(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Pl.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=x5(),{heartbeatsToSend:t,unsentEntries:r}=pT(this._heartbeatsCache.heartbeats),s=Fp(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(e){return Pl.warn(e),""}}}function x5(){return new Date().toISOString().substring(0,10)}function pT(n,e=fT){const t=[];let r=n.slice();for(const s of n){const o=t.find(u=>u.agent===s.agent);if(o){if(o.dates.push(s.date),S5(t)>e){o.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),S5(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class mT{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return A_()?E_().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await cT(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return _5(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return _5(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function S5(n){return Fp(JSON.stringify({version:2,heartbeats:n})).length}function gT(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function vT(n){Eu(new Ol("platform-logger",e=>new NE(e),"PRIVATE")),Eu(new Ol("heartbeat",e=>new dT(e),"PRIVATE")),Ko(Y0,b5,n),Ko(Y0,b5,"esm2020"),Ko("fire-js","")}vT("");var yT="firebase",bT="12.6.0";Ko(yT,bT,"app");var A5=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Su,M_;(function(){var n;function e(z,V){function L(){}L.prototype=V.prototype,z.F=V.prototype,z.prototype=new L,z.prototype.constructor=z,z.D=function(H,N,O){for(var F=Array(arguments.length-2),ce=2;ce<arguments.length;ce++)F[ce-2]=arguments[ce];return V.prototype[N].apply(H,F)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,t),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(z,V,L){L||(L=0);const H=Array(16);if(typeof V=="string")for(var N=0;N<16;++N)H[N]=V.charCodeAt(L++)|V.charCodeAt(L++)<<8|V.charCodeAt(L++)<<16|V.charCodeAt(L++)<<24;else for(N=0;N<16;++N)H[N]=V[L++]|V[L++]<<8|V[L++]<<16|V[L++]<<24;V=z.g[0],L=z.g[1],N=z.g[2];let O=z.g[3],F;F=V+(O^L&(N^O))+H[0]+3614090360&4294967295,V=L+(F<<7&4294967295|F>>>25),F=O+(N^V&(L^N))+H[1]+3905402710&4294967295,O=V+(F<<12&4294967295|F>>>20),F=N+(L^O&(V^L))+H[2]+606105819&4294967295,N=O+(F<<17&4294967295|F>>>15),F=L+(V^N&(O^V))+H[3]+3250441966&4294967295,L=N+(F<<22&4294967295|F>>>10),F=V+(O^L&(N^O))+H[4]+4118548399&4294967295,V=L+(F<<7&4294967295|F>>>25),F=O+(N^V&(L^N))+H[5]+1200080426&4294967295,O=V+(F<<12&4294967295|F>>>20),F=N+(L^O&(V^L))+H[6]+2821735955&4294967295,N=O+(F<<17&4294967295|F>>>15),F=L+(V^N&(O^V))+H[7]+4249261313&4294967295,L=N+(F<<22&4294967295|F>>>10),F=V+(O^L&(N^O))+H[8]+1770035416&4294967295,V=L+(F<<7&4294967295|F>>>25),F=O+(N^V&(L^N))+H[9]+2336552879&4294967295,O=V+(F<<12&4294967295|F>>>20),F=N+(L^O&(V^L))+H[10]+4294925233&4294967295,N=O+(F<<17&4294967295|F>>>15),F=L+(V^N&(O^V))+H[11]+2304563134&4294967295,L=N+(F<<22&4294967295|F>>>10),F=V+(O^L&(N^O))+H[12]+1804603682&4294967295,V=L+(F<<7&4294967295|F>>>25),F=O+(N^V&(L^N))+H[13]+4254626195&4294967295,O=V+(F<<12&4294967295|F>>>20),F=N+(L^O&(V^L))+H[14]+2792965006&4294967295,N=O+(F<<17&4294967295|F>>>15),F=L+(V^N&(O^V))+H[15]+1236535329&4294967295,L=N+(F<<22&4294967295|F>>>10),F=V+(N^O&(L^N))+H[1]+4129170786&4294967295,V=L+(F<<5&4294967295|F>>>27),F=O+(L^N&(V^L))+H[6]+3225465664&4294967295,O=V+(F<<9&4294967295|F>>>23),F=N+(V^L&(O^V))+H[11]+643717713&4294967295,N=O+(F<<14&4294967295|F>>>18),F=L+(O^V&(N^O))+H[0]+3921069994&4294967295,L=N+(F<<20&4294967295|F>>>12),F=V+(N^O&(L^N))+H[5]+3593408605&4294967295,V=L+(F<<5&4294967295|F>>>27),F=O+(L^N&(V^L))+H[10]+38016083&4294967295,O=V+(F<<9&4294967295|F>>>23),F=N+(V^L&(O^V))+H[15]+3634488961&4294967295,N=O+(F<<14&4294967295|F>>>18),F=L+(O^V&(N^O))+H[4]+3889429448&4294967295,L=N+(F<<20&4294967295|F>>>12),F=V+(N^O&(L^N))+H[9]+568446438&4294967295,V=L+(F<<5&4294967295|F>>>27),F=O+(L^N&(V^L))+H[14]+3275163606&4294967295,O=V+(F<<9&4294967295|F>>>23),F=N+(V^L&(O^V))+H[3]+4107603335&4294967295,N=O+(F<<14&4294967295|F>>>18),F=L+(O^V&(N^O))+H[8]+1163531501&4294967295,L=N+(F<<20&4294967295|F>>>12),F=V+(N^O&(L^N))+H[13]+2850285829&4294967295,V=L+(F<<5&4294967295|F>>>27),F=O+(L^N&(V^L))+H[2]+4243563512&4294967295,O=V+(F<<9&4294967295|F>>>23),F=N+(V^L&(O^V))+H[7]+1735328473&4294967295,N=O+(F<<14&4294967295|F>>>18),F=L+(O^V&(N^O))+H[12]+2368359562&4294967295,L=N+(F<<20&4294967295|F>>>12),F=V+(L^N^O)+H[5]+4294588738&4294967295,V=L+(F<<4&4294967295|F>>>28),F=O+(V^L^N)+H[8]+2272392833&4294967295,O=V+(F<<11&4294967295|F>>>21),F=N+(O^V^L)+H[11]+1839030562&4294967295,N=O+(F<<16&4294967295|F>>>16),F=L+(N^O^V)+H[14]+4259657740&4294967295,L=N+(F<<23&4294967295|F>>>9),F=V+(L^N^O)+H[1]+2763975236&4294967295,V=L+(F<<4&4294967295|F>>>28),F=O+(V^L^N)+H[4]+1272893353&4294967295,O=V+(F<<11&4294967295|F>>>21),F=N+(O^V^L)+H[7]+4139469664&4294967295,N=O+(F<<16&4294967295|F>>>16),F=L+(N^O^V)+H[10]+3200236656&4294967295,L=N+(F<<23&4294967295|F>>>9),F=V+(L^N^O)+H[13]+681279174&4294967295,V=L+(F<<4&4294967295|F>>>28),F=O+(V^L^N)+H[0]+3936430074&4294967295,O=V+(F<<11&4294967295|F>>>21),F=N+(O^V^L)+H[3]+3572445317&4294967295,N=O+(F<<16&4294967295|F>>>16),F=L+(N^O^V)+H[6]+76029189&4294967295,L=N+(F<<23&4294967295|F>>>9),F=V+(L^N^O)+H[9]+3654602809&4294967295,V=L+(F<<4&4294967295|F>>>28),F=O+(V^L^N)+H[12]+3873151461&4294967295,O=V+(F<<11&4294967295|F>>>21),F=N+(O^V^L)+H[15]+530742520&4294967295,N=O+(F<<16&4294967295|F>>>16),F=L+(N^O^V)+H[2]+3299628645&4294967295,L=N+(F<<23&4294967295|F>>>9),F=V+(N^(L|~O))+H[0]+4096336452&4294967295,V=L+(F<<6&4294967295|F>>>26),F=O+(L^(V|~N))+H[7]+1126891415&4294967295,O=V+(F<<10&4294967295|F>>>22),F=N+(V^(O|~L))+H[14]+2878612391&4294967295,N=O+(F<<15&4294967295|F>>>17),F=L+(O^(N|~V))+H[5]+4237533241&4294967295,L=N+(F<<21&4294967295|F>>>11),F=V+(N^(L|~O))+H[12]+1700485571&4294967295,V=L+(F<<6&4294967295|F>>>26),F=O+(L^(V|~N))+H[3]+2399980690&4294967295,O=V+(F<<10&4294967295|F>>>22),F=N+(V^(O|~L))+H[10]+4293915773&4294967295,N=O+(F<<15&4294967295|F>>>17),F=L+(O^(N|~V))+H[1]+2240044497&4294967295,L=N+(F<<21&4294967295|F>>>11),F=V+(N^(L|~O))+H[8]+1873313359&4294967295,V=L+(F<<6&4294967295|F>>>26),F=O+(L^(V|~N))+H[15]+4264355552&4294967295,O=V+(F<<10&4294967295|F>>>22),F=N+(V^(O|~L))+H[6]+2734768916&4294967295,N=O+(F<<15&4294967295|F>>>17),F=L+(O^(N|~V))+H[13]+1309151649&4294967295,L=N+(F<<21&4294967295|F>>>11),F=V+(N^(L|~O))+H[4]+4149444226&4294967295,V=L+(F<<6&4294967295|F>>>26),F=O+(L^(V|~N))+H[11]+3174756917&4294967295,O=V+(F<<10&4294967295|F>>>22),F=N+(V^(O|~L))+H[2]+718787259&4294967295,N=O+(F<<15&4294967295|F>>>17),F=L+(O^(N|~V))+H[9]+3951481745&4294967295,z.g[0]=z.g[0]+V&4294967295,z.g[1]=z.g[1]+(N+(F<<21&4294967295|F>>>11))&4294967295,z.g[2]=z.g[2]+N&4294967295,z.g[3]=z.g[3]+O&4294967295}r.prototype.v=function(z,V){V===void 0&&(V=z.length);const L=V-this.blockSize,H=this.C;let N=this.h,O=0;for(;O<V;){if(N==0)for(;O<=L;)s(this,z,O),O+=this.blockSize;if(typeof z=="string"){for(;O<V;)if(H[N++]=z.charCodeAt(O++),N==this.blockSize){s(this,H),N=0;break}}else for(;O<V;)if(H[N++]=z[O++],N==this.blockSize){s(this,H),N=0;break}}this.h=N,this.o+=V},r.prototype.A=function(){var z=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);z[0]=128;for(var V=1;V<z.length-8;++V)z[V]=0;V=this.o*8;for(var L=z.length-8;L<z.length;++L)z[L]=V&255,V/=256;for(this.v(z),z=Array(16),V=0,L=0;L<4;++L)for(let H=0;H<32;H+=8)z[V++]=this.g[L]>>>H&255;return z};function o(z,V){var L=c;return Object.prototype.hasOwnProperty.call(L,z)?L[z]:L[z]=V(z)}function u(z,V){this.h=V;const L=[];let H=!0;for(let N=z.length-1;N>=0;N--){const O=z[N]|0;H&&O==V||(L[N]=O,H=!1)}this.g=L}var c={};function h(z){return-128<=z&&z<128?o(z,function(V){return new u([V|0],V<0?-1:0)}):new u([z|0],z<0?-1:0)}function d(z){if(isNaN(z)||!isFinite(z))return _;if(z<0)return j(d(-z));const V=[];let L=1;for(let H=0;z>=L;H++)V[H]=z/L|0,L*=4294967296;return new u(V,0)}function g(z,V){if(z.length==0)throw Error("number format error: empty string");if(V=V||10,V<2||36<V)throw Error("radix out of range: "+V);if(z.charAt(0)=="-")return j(g(z.substring(1),V));if(z.indexOf("-")>=0)throw Error('number format error: interior "-" character');const L=d(Math.pow(V,8));let H=_;for(let O=0;O<z.length;O+=8){var N=Math.min(8,z.length-O);const F=parseInt(z.substring(O,O+N),V);N<8?(N=d(Math.pow(V,N)),H=H.j(N).add(d(F))):(H=H.j(L),H=H.add(d(F)))}return H}var _=h(0),S=h(1),w=h(16777216);n=u.prototype,n.m=function(){if(M(this))return-j(this).m();let z=0,V=1;for(let L=0;L<this.g.length;L++){const H=this.i(L);z+=(H>=0?H:4294967296+H)*V,V*=4294967296}return z},n.toString=function(z){if(z=z||10,z<2||36<z)throw Error("radix out of range: "+z);if(T(this))return"0";if(M(this))return"-"+j(this).toString(z);const V=d(Math.pow(z,6));var L=this;let H="";for(;;){const N=re(L,V).g;L=D(L,N.j(V));let O=((L.g.length>0?L.g[0]:L.h)>>>0).toString(z);if(L=N,T(L))return O+H;for(;O.length<6;)O="0"+O;H=O+H}},n.i=function(z){return z<0?0:z<this.g.length?this.g[z]:this.h};function T(z){if(z.h!=0)return!1;for(let V=0;V<z.g.length;V++)if(z.g[V]!=0)return!1;return!0}function M(z){return z.h==-1}n.l=function(z){return z=D(this,z),M(z)?-1:T(z)?0:1};function j(z){const V=z.g.length,L=[];for(let H=0;H<V;H++)L[H]=~z.g[H];return new u(L,~z.h).add(S)}n.abs=function(){return M(this)?j(this):this},n.add=function(z){const V=Math.max(this.g.length,z.g.length),L=[];let H=0;for(let N=0;N<=V;N++){let O=H+(this.i(N)&65535)+(z.i(N)&65535),F=(O>>>16)+(this.i(N)>>>16)+(z.i(N)>>>16);H=F>>>16,O&=65535,F&=65535,L[N]=F<<16|O}return new u(L,L[L.length-1]&-2147483648?-1:0)};function D(z,V){return z.add(j(V))}n.j=function(z){if(T(this)||T(z))return _;if(M(this))return M(z)?j(this).j(j(z)):j(j(this).j(z));if(M(z))return j(this.j(j(z)));if(this.l(w)<0&&z.l(w)<0)return d(this.m()*z.m());const V=this.g.length+z.g.length,L=[];for(var H=0;H<2*V;H++)L[H]=0;for(H=0;H<this.g.length;H++)for(let N=0;N<z.g.length;N++){const O=this.i(H)>>>16,F=this.i(H)&65535,ce=z.i(N)>>>16,Ce=z.i(N)&65535;L[2*H+2*N]+=F*Ce,Q(L,2*H+2*N),L[2*H+2*N+1]+=O*Ce,Q(L,2*H+2*N+1),L[2*H+2*N+1]+=F*ce,Q(L,2*H+2*N+1),L[2*H+2*N+2]+=O*ce,Q(L,2*H+2*N+2)}for(z=0;z<V;z++)L[z]=L[2*z+1]<<16|L[2*z];for(z=V;z<2*V;z++)L[z]=0;return new u(L,0)};function Q(z,V){for(;(z[V]&65535)!=z[V];)z[V+1]+=z[V]>>>16,z[V]&=65535,V++}function W(z,V){this.g=z,this.h=V}function re(z,V){if(T(V))throw Error("division by zero");if(T(z))return new W(_,_);if(M(z))return V=re(j(z),V),new W(j(V.g),j(V.h));if(M(V))return V=re(z,j(V)),new W(j(V.g),V.h);if(z.g.length>30){if(M(z)||M(V))throw Error("slowDivide_ only works with positive integers.");for(var L=S,H=V;H.l(z)<=0;)L=ye(L),H=ye(H);var N=_e(L,1),O=_e(H,1);for(H=_e(H,2),L=_e(L,2);!T(H);){var F=O.add(H);F.l(z)<=0&&(N=N.add(L),O=F),H=_e(H,1),L=_e(L,1)}return V=D(z,N.j(V)),new W(N,V)}for(N=_;z.l(V)>=0;){for(L=Math.max(1,Math.floor(z.m()/V.m())),H=Math.ceil(Math.log(L)/Math.LN2),H=H<=48?1:Math.pow(2,H-48),O=d(L),F=O.j(V);M(F)||F.l(z)>0;)L-=H,O=d(L),F=O.j(V);T(O)&&(O=S),N=N.add(O),z=D(z,F)}return new W(N,z)}n.B=function(z){return re(this,z).h},n.and=function(z){const V=Math.max(this.g.length,z.g.length),L=[];for(let H=0;H<V;H++)L[H]=this.i(H)&z.i(H);return new u(L,this.h&z.h)},n.or=function(z){const V=Math.max(this.g.length,z.g.length),L=[];for(let H=0;H<V;H++)L[H]=this.i(H)|z.i(H);return new u(L,this.h|z.h)},n.xor=function(z){const V=Math.max(this.g.length,z.g.length),L=[];for(let H=0;H<V;H++)L[H]=this.i(H)^z.i(H);return new u(L,this.h^z.h)};function ye(z){const V=z.g.length+1,L=[];for(let H=0;H<V;H++)L[H]=z.i(H)<<1|z.i(H-1)>>>31;return new u(L,z.h)}function _e(z,V){const L=V>>5;V%=32;const H=z.g.length-L,N=[];for(let O=0;O<H;O++)N[O]=V>0?z.i(O+L)>>>V|z.i(O+L+1)<<32-V:z.i(O+L);return new u(N,z.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,M_=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=d,u.fromString=g,Su=u}).apply(typeof A5<"u"?A5:typeof self<"u"?self:typeof window<"u"?window:{});var ap=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var k_,Nh,O_,Ep,Q0,P_,j_,F_;(function(){var n,e=Object.defineProperty;function t(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof ap=="object"&&ap];for(var E=0;E<m.length;++E){var k=m[E];if(k&&k.Math==Math)return k}throw Error("Cannot find global object")}var r=t(this);function s(m,E){if(E)e:{var k=r;m=m.split(".");for(var ee=0;ee<m.length-1;ee++){var Ne=m[ee];if(!(Ne in k))break e;k=k[Ne]}m=m[m.length-1],ee=k[m],E=E(ee),E!=ee&&E!=null&&e(k,m,{configurable:!0,writable:!0,value:E})}}s("Symbol.dispose",function(m){return m||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(m){return m||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(m){return m||function(E){var k=[],ee;for(ee in E)Object.prototype.hasOwnProperty.call(E,ee)&&k.push([ee,E[ee]]);return k}});var o=o||{},u=this||self;function c(m){var E=typeof m;return E=="object"&&m!=null||E=="function"}function h(m,E,k){return m.call.apply(m.bind,arguments)}function d(m,E,k){return d=h,d.apply(null,arguments)}function g(m,E){var k=Array.prototype.slice.call(arguments,1);return function(){var ee=k.slice();return ee.push.apply(ee,arguments),m.apply(this,ee)}}function _(m,E){function k(){}k.prototype=E.prototype,m.Z=E.prototype,m.prototype=new k,m.prototype.constructor=m,m.Ob=function(ee,Ne,Be){for(var dt=Array(arguments.length-2),ln=2;ln<arguments.length;ln++)dt[ln-2]=arguments[ln];return E.prototype[Ne].apply(ee,dt)}}var S=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?m=>m&&AsyncContext.Snapshot.wrap(m):m=>m;function w(m){const E=m.length;if(E>0){const k=Array(E);for(let ee=0;ee<E;ee++)k[ee]=m[ee];return k}return[]}function T(m,E){for(let ee=1;ee<arguments.length;ee++){const Ne=arguments[ee];var k=typeof Ne;if(k=k!="object"?k:Ne?Array.isArray(Ne)?"array":k:"null",k=="array"||k=="object"&&typeof Ne.length=="number"){k=m.length||0;const Be=Ne.length||0;m.length=k+Be;for(let dt=0;dt<Be;dt++)m[k+dt]=Ne[dt]}else m.push(Ne)}}class M{constructor(E,k){this.i=E,this.j=k,this.h=0,this.g=null}get(){let E;return this.h>0?(this.h--,E=this.g,this.g=E.next,E.next=null):E=this.i(),E}}function j(m){u.setTimeout(()=>{throw m},0)}function D(){var m=z;let E=null;return m.g&&(E=m.g,m.g=m.g.next,m.g||(m.h=null),E.next=null),E}class Q{constructor(){this.h=this.g=null}add(E,k){const ee=W.get();ee.set(E,k),this.h?this.h.next=ee:this.g=ee,this.h=ee}}var W=new M(()=>new re,m=>m.reset());class re{constructor(){this.next=this.g=this.h=null}set(E,k){this.h=E,this.g=k,this.next=null}reset(){this.next=this.g=this.h=null}}let ye,_e=!1,z=new Q,V=()=>{const m=Promise.resolve(void 0);ye=()=>{m.then(L)}};function L(){for(var m;m=D();){try{m.h.call(m.g)}catch(k){j(k)}var E=W;E.j(m),E.h<100&&(E.h++,m.next=E.g,E.g=m)}_e=!1}function H(){this.u=this.u,this.C=this.C}H.prototype.u=!1,H.prototype.dispose=function(){this.u||(this.u=!0,this.N())},H.prototype[Symbol.dispose]=function(){this.dispose()},H.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(m,E){this.type=m,this.g=this.target=E,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var O=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var m=!1,E=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const k=()=>{};u.addEventListener("test",k,E),u.removeEventListener("test",k,E)}catch{}return m})();function F(m){return/^[\s\xa0]*$/.test(m)}function ce(m,E){N.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m&&this.init(m,E)}_(ce,N),ce.prototype.init=function(m,E){const k=this.type=m.type,ee=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;this.target=m.target||m.srcElement,this.g=E,E=m.relatedTarget,E||(k=="mouseover"?E=m.fromElement:k=="mouseout"&&(E=m.toElement)),this.relatedTarget=E,ee?(this.clientX=ee.clientX!==void 0?ee.clientX:ee.pageX,this.clientY=ee.clientY!==void 0?ee.clientY:ee.pageY,this.screenX=ee.screenX||0,this.screenY=ee.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=m.pointerType,this.state=m.state,this.i=m,m.defaultPrevented&&ce.Z.h.call(this)},ce.prototype.h=function(){ce.Z.h.call(this);const m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var Ce="closure_listenable_"+(Math.random()*1e6|0),le=0;function me(m,E,k,ee,Ne){this.listener=m,this.proxy=null,this.src=E,this.type=k,this.capture=!!ee,this.ha=Ne,this.key=++le,this.da=this.fa=!1}function de(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function Ie(m,E,k){for(const ee in m)E.call(k,m[ee],ee,m)}function Xe(m,E){for(const k in m)E.call(void 0,m[k],k,m)}function Y(m){const E={};for(const k in m)E[k]=m[k];return E}const P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function K(m,E){let k,ee;for(let Ne=1;Ne<arguments.length;Ne++){ee=arguments[Ne];for(k in ee)m[k]=ee[k];for(let Be=0;Be<P.length;Be++)k=P[Be],Object.prototype.hasOwnProperty.call(ee,k)&&(m[k]=ee[k])}}function te(m){this.src=m,this.g={},this.h=0}te.prototype.add=function(m,E,k,ee,Ne){const Be=m.toString();m=this.g[Be],m||(m=this.g[Be]=[],this.h++);const dt=fe(m,E,ee,Ne);return dt>-1?(E=m[dt],k||(E.fa=!1)):(E=new me(E,this.src,Be,!!ee,Ne),E.fa=k,m.push(E)),E};function ue(m,E){const k=E.type;if(k in m.g){var ee=m.g[k],Ne=Array.prototype.indexOf.call(ee,E,void 0),Be;(Be=Ne>=0)&&Array.prototype.splice.call(ee,Ne,1),Be&&(de(E),m.g[k].length==0&&(delete m.g[k],m.h--))}}function fe(m,E,k,ee){for(let Ne=0;Ne<m.length;++Ne){const Be=m[Ne];if(!Be.da&&Be.listener==E&&Be.capture==!!k&&Be.ha==ee)return Ne}return-1}var ve="closure_lm_"+(Math.random()*1e6|0),Te={};function Me(m,E,k,ee,Ne){if(Array.isArray(E)){for(let Be=0;Be<E.length;Be++)Me(m,E[Be],k,ee,Ne);return null}return k=Fe(k),m&&m[Ce]?m.J(E,k,c(ee)?!!ee.capture:!1,Ne):$e(m,E,k,!1,ee,Ne)}function $e(m,E,k,ee,Ne,Be){if(!E)throw Error("Invalid event type");const dt=c(Ne)?!!Ne.capture:!!Ne;let ln=Oe(m);if(ln||(m[ve]=ln=new te(m)),k=ln.add(E,k,ee,dt,Be),k.proxy)return k;if(ee=ut(),k.proxy=ee,ee.src=m,ee.listener=k,m.addEventListener)O||(Ne=dt),Ne===void 0&&(Ne=!1),m.addEventListener(E.toString(),ee,Ne);else if(m.attachEvent)m.attachEvent(_t(E.toString()),ee);else if(m.addListener&&m.removeListener)m.addListener(ee);else throw Error("addEventListener and attachEvent are unavailable.");return k}function ut(){function m(k){return E.call(m.src,m.listener,k)}const E=q;return m}function pt(m,E,k,ee,Ne){if(Array.isArray(E))for(var Be=0;Be<E.length;Be++)pt(m,E[Be],k,ee,Ne);else ee=c(ee)?!!ee.capture:!!ee,k=Fe(k),m&&m[Ce]?(m=m.i,Be=String(E).toString(),Be in m.g&&(E=m.g[Be],k=fe(E,k,ee,Ne),k>-1&&(de(E[k]),Array.prototype.splice.call(E,k,1),E.length==0&&(delete m.g[Be],m.h--)))):m&&(m=Oe(m))&&(E=m.g[E.toString()],m=-1,E&&(m=fe(E,k,ee,Ne)),(k=m>-1?E[m]:null)&&mt(k))}function mt(m){if(typeof m!="number"&&m&&!m.da){var E=m.src;if(E&&E[Ce])ue(E.i,m);else{var k=m.type,ee=m.proxy;E.removeEventListener?E.removeEventListener(k,ee,m.capture):E.detachEvent?E.detachEvent(_t(k),ee):E.addListener&&E.removeListener&&E.removeListener(ee),(k=Oe(E))?(ue(k,m),k.h==0&&(k.src=null,E[ve]=null)):de(m)}}}function _t(m){return m in Te?Te[m]:Te[m]="on"+m}function q(m,E){if(m.da)m=!0;else{E=new ce(E,this);const k=m.listener,ee=m.ha||m.src;m.fa&&mt(m),m=k.call(ee,E)}return m}function Oe(m){return m=m[ve],m instanceof te?m:null}var it="__closure_events_fn_"+(Math.random()*1e9>>>0);function Fe(m){return typeof m=="function"?m:(m[it]||(m[it]=function(E){return m.handleEvent(E)}),m[it])}function De(){H.call(this),this.i=new te(this),this.M=this,this.G=null}_(De,H),De.prototype[Ce]=!0,De.prototype.removeEventListener=function(m,E,k,ee){pt(this,m,E,k,ee)};function ft(m,E){var k,ee=m.G;if(ee)for(k=[];ee;ee=ee.G)k.push(ee);if(m=m.M,ee=E.type||E,typeof E=="string")E=new N(E,m);else if(E instanceof N)E.target=E.target||m;else{var Ne=E;E=new N(ee,m),K(E,Ne)}Ne=!0;let Be,dt;if(k)for(dt=k.length-1;dt>=0;dt--)Be=E.g=k[dt],Ne=ht(Be,ee,!0,E)&&Ne;if(Be=E.g=m,Ne=ht(Be,ee,!0,E)&&Ne,Ne=ht(Be,ee,!1,E)&&Ne,k)for(dt=0;dt<k.length;dt++)Be=E.g=k[dt],Ne=ht(Be,ee,!1,E)&&Ne}De.prototype.N=function(){if(De.Z.N.call(this),this.i){var m=this.i;for(const E in m.g){const k=m.g[E];for(let ee=0;ee<k.length;ee++)de(k[ee]);delete m.g[E],m.h--}}this.G=null},De.prototype.J=function(m,E,k,ee){return this.i.add(String(m),E,!1,k,ee)},De.prototype.K=function(m,E,k,ee){return this.i.add(String(m),E,!0,k,ee)};function ht(m,E,k,ee){if(E=m.i.g[String(E)],!E)return!0;E=E.concat();let Ne=!0;for(let Be=0;Be<E.length;++Be){const dt=E[Be];if(dt&&!dt.da&&dt.capture==k){const ln=dt.listener,cr=dt.ha||dt.src;dt.fa&&ue(m.i,dt),Ne=ln.call(cr,ee)!==!1&&Ne}}return Ne&&!ee.defaultPrevented}function vt(m,E){if(typeof m!="function")if(m&&typeof m.handleEvent=="function")m=d(m.handleEvent,m);else throw Error("Invalid listener argument");return Number(E)>2147483647?-1:u.setTimeout(m,E||0)}function xt(m){m.g=vt(()=>{m.g=null,m.i&&(m.i=!1,xt(m))},m.l);const E=m.h;m.h=null,m.m.apply(null,E)}class Ut extends H{constructor(E,k){super(),this.m=E,this.l=k,this.h=null,this.i=!1,this.g=null}j(E){this.h=arguments,this.g?this.i=!0:xt(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Gt(m){H.call(this),this.h=m,this.g={}}_(Gt,H);var $t=[];function fn(m){Ie(m.g,function(E,k){this.g.hasOwnProperty(k)&&mt(E)},m),m.g={}}Gt.prototype.N=function(){Gt.Z.N.call(this),fn(this)},Gt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var sn=u.JSON.stringify,Et=u.JSON.parse,rn=class{stringify(m){return u.JSON.stringify(m,void 0)}parse(m){return u.JSON.parse(m,void 0)}};function Ct(){}function Kn(){}var Yt={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function jt(){N.call(this,"d")}_(jt,N);function yt(){N.call(this,"c")}_(yt,N);var tn={},Lt=null;function Tn(){return Lt=Lt||new De}tn.Ia="serverreachability";function zt(m){N.call(this,tn.Ia,m)}_(zt,N);function qt(m){const E=Tn();ft(E,new zt(E))}tn.STAT_EVENT="statevent";function vn(m,E){N.call(this,tn.STAT_EVENT,m),this.stat=E}_(vn,N);function Pt(m){const E=Tn();ft(E,new vn(E,m))}tn.Ja="timingevent";function Rt(m,E){N.call(this,tn.Ja,m),this.size=E}_(Rt,N);function J(m,E){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){m()},E)}function ie(){this.g=!0}ie.prototype.ua=function(){this.g=!1};function we(m,E,k,ee,Ne,Be){m.info(function(){if(m.g)if(Be){var dt="",ln=Be.split("&");for(let _n=0;_n<ln.length;_n++){var cr=ln[_n].split("=");if(cr.length>1){const Gn=cr[0];cr=cr[1];const hi=Gn.split("_");dt=hi.length>=2&&hi[1]=="type"?dt+(Gn+"="+cr+"&"):dt+(Gn+"=redacted&")}}}else dt=null;else dt=Be;return"XMLHTTP REQ ("+ee+") [attempt "+Ne+"]: "+E+`
`+k+`
`+dt})}function ze(m,E,k,ee,Ne,Be,dt){m.info(function(){return"XMLHTTP RESP ("+ee+") [ attempt "+Ne+"]: "+E+`
`+k+`
`+Be+" "+dt})}function lt(m,E,k,ee){m.info(function(){return"XMLHTTP TEXT ("+E+"): "+Ft(m,k)+(ee?" "+ee:"")})}function Ge(m,E){m.info(function(){return"TIMEOUT: "+E})}ie.prototype.info=function(){};function Ft(m,E){if(!m.g)return E;if(!E)return null;try{const Be=JSON.parse(E);if(Be){for(m=0;m<Be.length;m++)if(Array.isArray(Be[m])){var k=Be[m];if(!(k.length<2)){var ee=k[1];if(Array.isArray(ee)&&!(ee.length<1)){var Ne=ee[0];if(Ne!="noop"&&Ne!="stop"&&Ne!="close")for(let dt=1;dt<ee.length;dt++)ee[dt]=""}}}}return sn(Be)}catch{return E}}var Ae={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Je={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},We;function Ze(){}_(Ze,Ct),Ze.prototype.g=function(){return new XMLHttpRequest},We=new Ze;function bt(m){return encodeURIComponent(String(m))}function en(m){var E=1;m=m.split(":");const k=[];for(;E>0&&m.length;)k.push(m.shift()),E--;return m.length&&k.push(m.join(":")),k}function On(m,E,k,ee){this.j=m,this.i=E,this.l=k,this.S=ee||1,this.V=new Gt(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new lr}function lr(){this.i=null,this.g="",this.h=!1}var bn={},Qn={};function _r(m,E,k){m.M=1,m.A=As(Rr(E)),m.u=k,m.R=!0,li(m,null)}function li(m,E){m.F=Date.now(),ui(m),m.B=Rr(m.A);var k=m.B,ee=m.S;Array.isArray(ee)||(ee=[String(ee)]),Eo(k.i,"t",ee),m.C=0,k=m.j.L,m.h=new lr,m.g=Tt(m.j,k?E:null,!m.u),m.P>0&&(m.O=new Ut(d(m.Y,m,m.g),m.P)),E=m.V,k=m.g,ee=m.ba;var Ne="readystatechange";Array.isArray(Ne)||(Ne&&($t[0]=Ne.toString()),Ne=$t);for(let Be=0;Be<Ne.length;Be++){const dt=Me(k,Ne[Be],ee||E.handleEvent,!1,E.h||E);if(!dt)break;E.g[dt.key]=dt}E=m.J?Y(m.J):{},m.u?(m.v||(m.v="POST"),E["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.B,m.v,m.u,E)):(m.v="GET",m.g.ea(m.B,m.v,null,E)),qt(),we(m.i,m.v,m.B,m.l,m.S,m.u)}On.prototype.ba=function(m){m=m.target;const E=this.O;E&&Qi(m)==3?E.j():this.Y(m)},On.prototype.Y=function(m){try{if(m==this.g)e:{const ln=Qi(this.g),cr=this.g.ya(),_n=this.g.ca();if(!(ln<3)&&(ln!=3||this.g&&(this.h.h||this.g.la()||Fr(this.g)))){this.K||ln!=4||cr==7||(cr==8||_n<=0?qt(3):qt(2)),_i(this);var E=this.g.ca();this.X=E;var k=Mi(this);if(this.o=E==200,ze(this.i,this.v,this.B,this.l,this.S,ln,E),this.o){if(this.U&&!this.L){t:{if(this.g){var ee,Ne=this.g;if((ee=Ne.g?Ne.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!F(ee)){var Be=ee;break t}}Be=null}if(m=Be)lt(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,oa(this,m);else{this.o=!1,this.m=3,Pt(12),Gi(this),Zr(this);break e}}if(this.R){m=!0;let Gn;for(;!this.K&&this.C<k.length;)if(Gn=$i(this,k),Gn==Qn){ln==4&&(this.m=4,Pt(14),m=!1),lt(this.i,this.l,null,"[Incomplete Response]");break}else if(Gn==bn){this.m=4,Pt(15),lt(this.i,this.l,k,"[Invalid Chunk]"),m=!1;break}else lt(this.i,this.l,Gn,null),oa(this,Gn);if(Oa(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ln!=4||k.length!=0||this.h.h||(this.m=1,Pt(16),m=!1),this.o=this.o&&m,!m)lt(this.i,this.l,k,"[Invalid Chunked Response]"),Gi(this),Zr(this);else if(k.length>0&&!this.W){this.W=!0;var dt=this.j;dt.g==this&&dt.aa&&!dt.P&&(dt.j.info("Great, no buffering proxy detected. Bytes received: "+k.length),Do(dt),dt.P=!0,Pt(11))}}else lt(this.i,this.l,k,null),oa(this,k);ln==4&&Gi(this),this.o&&!this.K&&(ln==4?se(this.j,this):(this.o=!1,ui(this)))}else Pa(this.g),E==400&&k.indexOf("Unknown SID")>0?(this.m=3,Pt(12)):(this.m=0,Pt(13)),Gi(this),Zr(this)}}}catch{}finally{}};function Mi(m){if(!Oa(m))return m.g.la();const E=Fr(m.g);if(E==="")return"";let k="";const ee=E.length,Ne=Qi(m.g)==4;if(!m.h.i){if(typeof TextDecoder>"u")return Gi(m),Zr(m),"";m.h.i=new u.TextDecoder}for(let Be=0;Be<ee;Be++)m.h.h=!0,k+=m.h.i.decode(E[Be],{stream:!(Ne&&Be==ee-1)});return E.length=0,m.h.g+=k,m.C=0,m.h.g}function Oa(m){return m.g?m.v=="GET"&&m.M!=2&&m.j.Aa:!1}function $i(m,E){var k=m.C,ee=E.indexOf(`
`,k);return ee==-1?Qn:(k=Number(E.substring(k,ee)),isNaN(k)?bn:(ee+=1,ee+k>E.length?Qn:(E=E.slice(ee,ee+k),m.C=ee+k,E)))}On.prototype.cancel=function(){this.K=!0,Gi(this)};function ui(m){m.T=Date.now()+m.H,Sa(m,m.H)}function Sa(m,E){if(m.D!=null)throw Error("WatchDog timer not null");m.D=J(d(m.aa,m),E)}function _i(m){m.D&&(u.clearTimeout(m.D),m.D=null)}On.prototype.aa=function(){this.D=null;const m=Date.now();m-this.T>=0?(Ge(this.i,this.B),this.M!=2&&(qt(),Pt(17)),Gi(this),this.m=2,Zr(this)):Sa(this,this.T-m)};function Zr(m){m.j.I==0||m.K||se(m.j,m)}function Gi(m){_i(m);var E=m.O;E&&typeof E.dispose=="function"&&E.dispose(),m.O=null,fn(m.V),m.g&&(E=m.g,m.g=null,E.abort(),E.dispose())}function oa(m,E){try{var k=m.j;if(k.I!=0&&(k.g==m||Aa(k.h,m))){if(!m.L&&Aa(k.h,m)&&k.I==3){try{var ee=k.Ba.g.parse(E)}catch{ee=null}if(Array.isArray(ee)&&ee.length==3){var Ne=ee;if(Ne[0]==0){e:if(!k.v){if(k.g)if(k.g.F+3e3<m.F)B(k),Fa(k);else break e;Na(k),Pt(18)}}else k.xa=Ne[1],0<k.xa-k.K&&Ne[2]<37500&&k.F&&k.A==0&&!k.C&&(k.C=J(d(k.Va,k),6e3));la(k.h)<=1&&k.ta&&(k.ta=void 0)}else Se(k,11)}else if((m.L||k.g==m)&&B(k),!F(E))for(Ne=k.Ba.g.parse(E),E=0;E<Ne.length;E++){let _n=Ne[E];const Gn=_n[0];if(!(Gn<=k.K))if(k.K=Gn,_n=_n[1],k.I==2)if(_n[0]=="c"){k.M=_n[1],k.ba=_n[2];const hi=_n[3];hi!=null&&(k.ka=hi,k.j.info("VER="+k.ka));const Si=_n[4];Si!=null&&(k.za=Si,k.j.info("SVER="+k.za));const rr=_n[5];rr!=null&&typeof rr=="number"&&rr>0&&(ee=1.5*rr,k.O=ee,k.j.info("backChannelRequestTimeoutMs_="+ee)),ee=k;const Ai=m.g;if(Ai){const Ca=Ai.g?Ai.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ca){var Be=ee.h;Be.g||Ca.indexOf("spdy")==-1&&Ca.indexOf("quic")==-1&&Ca.indexOf("h2")==-1||(Be.j=Be.l,Be.g=new Set,Be.h&&(Ys(Be,Be.h),Be.h=null))}if(ee.G){const Ds=Ai.g?Ai.g.getResponseHeader("X-HTTP-Session-Id"):null;Ds&&(ee.wa=Ds,Rn(ee.J,ee.G,Ds))}}k.I=3,k.l&&k.l.ra(),k.aa&&(k.T=Date.now()-m.F,k.j.info("Handshake RTT: "+k.T+"ms")),ee=k;var dt=m;if(ee.na=st(ee,ee.L?ee.ba:null,ee.W),dt.L){So(ee.h,dt);var ln=dt,cr=ee.O;cr&&(ln.H=cr),ln.D&&(_i(ln),ui(ln)),ee.g=dt}else ll(ee);k.i.length>0&&ca(k)}else _n[0]!="stop"&&_n[0]!="close"||Se(k,7);else k.I==3&&(_n[0]=="stop"||_n[0]=="close"?_n[0]=="stop"?Se(k,7):Cs(k):_n[0]!="noop"&&k.l&&k.l.qa(_n),k.A=0)}}qt(4)}catch{}}var Sr=class{constructor(m,E){this.g=m,this.map=E}};function xo(m){this.l=m||10,u.PerformanceNavigationTiming?(m=u.performance.getEntriesByType("navigation"),m=m.length>0&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function ki(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function la(m){return m.h?1:m.g?m.g.size:0}function Aa(m,E){return m.h?m.h==E:m.g?m.g.has(E):!1}function Ys(m,E){m.g?m.g.add(E):m.h=E}function So(m,E){m.h&&m.h==E?m.h=null:m.g&&m.g.has(E)&&m.g.delete(E)}xo.prototype.cancel=function(){if(this.i=Ao(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function Ao(m){if(m.h!=null)return m.i.concat(m.h.G);if(m.g!=null&&m.g.size!==0){let E=m.i;for(const k of m.g.values())E=E.concat(k.G);return E}return w(m.i)}var nl=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Yi(m,E){if(m){m=m.split("&");for(let k=0;k<m.length;k++){const ee=m[k].indexOf("=");let Ne,Be=null;ee>=0?(Ne=m[k].substring(0,ee),Be=m[k].substring(ee+1)):Ne=m[k],E(Ne,Be?decodeURIComponent(Be.replace(/\+/g," ")):"")}}}function ci(m){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let E;m instanceof ci?(this.l=m.l,Sn(this,m.j),this.o=m.o,this.g=m.g,ss(this,m.u),this.h=m.h,ua(this,To(m.i)),this.m=m.m):m&&(E=String(m).match(nl))?(this.l=!1,Sn(this,E[1]||"",!0),this.o=jr(E[2]||""),this.g=jr(E[3]||"",!0),ss(this,E[4]),this.h=jr(E[5]||"",!0),ua(this,E[6]||"",!0),this.m=jr(E[7]||"")):(this.l=!1,this.i=new os(null,this.l))}ci.prototype.toString=function(){const m=[];var E=this.j;E&&m.push(gr(E,Ws,!0),":");var k=this.g;return(k||E=="file")&&(m.push("//"),(E=this.o)&&m.push(gr(E,Ws,!0),"@"),m.push(bt(k).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),k=this.u,k!=null&&m.push(":",String(k))),(k=this.h)&&(this.g&&k.charAt(0)!="/"&&m.push("/"),m.push(gr(k,k.charAt(0)=="/"?rl:zl,!0))),(k=this.i.toString())&&m.push("?",k),(k=this.m)&&m.push("#",gr(k,il)),m.join("")},ci.prototype.resolve=function(m){const E=Rr(this);let k=!!m.j;k?Sn(E,m.j):k=!!m.o,k?E.o=m.o:k=!!m.g,k?E.g=m.g:k=m.u!=null;var ee=m.h;if(k)ss(E,m.u);else if(k=!!m.h){if(ee.charAt(0)!="/")if(this.g&&!this.h)ee="/"+ee;else{var Ne=E.h.lastIndexOf("/");Ne!=-1&&(ee=E.h.slice(0,Ne+1)+ee)}if(Ne=ee,Ne==".."||Ne==".")ee="";else if(Ne.indexOf("./")!=-1||Ne.indexOf("/.")!=-1){ee=Ne.lastIndexOf("/",0)==0,Ne=Ne.split("/");const Be=[];for(let dt=0;dt<Ne.length;){const ln=Ne[dt++];ln=="."?ee&&dt==Ne.length&&Be.push(""):ln==".."?((Be.length>1||Be.length==1&&Be[0]!="")&&Be.pop(),ee&&dt==Ne.length&&Be.push("")):(Be.push(ln),ee=!0)}ee=Be.join("/")}else ee=Ne}return k?E.h=ee:k=m.i.toString()!=="",k?ua(E,To(m.i)):k=!!m.m,k&&(E.m=m.m),E};function Rr(m){return new ci(m)}function Sn(m,E,k){m.j=k?jr(E,!0):E,m.j&&(m.j=m.j.replace(/:$/,""))}function ss(m,E){if(E){if(E=Number(E),isNaN(E)||E<0)throw Error("Bad port number "+E);m.u=E}else m.u=null}function ua(m,E,k){E instanceof os?(m.i=E,Oi(m.i,m.l)):(k||(E=gr(E,xi)),m.i=new os(E,m.l))}function Rn(m,E,k){m.i.set(E,k)}function As(m){return Rn(m,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),m}function jr(m,E){return m?E?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function gr(m,E,k){return typeof m=="string"?(m=encodeURI(m).replace(E,Ir),k&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function Ir(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var Ws=/[#\/\?@]/g,zl=/[#\?:]/g,rl=/[#\?]/g,xi=/[#\?@]/g,il=/#/g;function os(m,E){this.h=this.g=null,this.i=m||null,this.j=!!E}function ei(m){m.g||(m.g=new Map,m.h=0,m.i&&Yi(m.i,function(E,k){m.add(decodeURIComponent(E.replace(/\+/g," ")),k)}))}n=os.prototype,n.add=function(m,E){ei(this),this.i=null,m=ls(this,m);let k=this.g.get(m);return k||this.g.set(m,k=[]),k.push(E),this.h+=1,this};function Es(m,E){ei(m),E=ls(m,E),m.g.has(E)&&(m.i=null,m.h-=m.g.get(E).length,m.g.delete(E))}function al(m,E){return ei(m),E=ls(m,E),m.g.has(E)}n.forEach=function(m,E){ei(this),this.g.forEach(function(k,ee){k.forEach(function(Ne){m.call(E,Ne,ee,this)},this)},this)};function sl(m,E){ei(m);let k=[];if(typeof E=="string")al(m,E)&&(k=k.concat(m.g.get(ls(m,E))));else for(m=Array.from(m.g.values()),E=0;E<m.length;E++)k=k.concat(m[E]);return k}n.set=function(m,E){return ei(this),this.i=null,m=ls(this,m),al(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[E]),this.h+=1,this},n.get=function(m,E){return m?(m=sl(this,m),m.length>0?String(m[0]):E):E};function Eo(m,E,k){Es(m,E),k.length>0&&(m.i=null,m.g.set(ls(m,E),w(k)),m.h+=k.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],E=Array.from(this.g.keys());for(let ee=0;ee<E.length;ee++){var k=E[ee];const Ne=bt(k);k=sl(this,k);for(let Be=0;Be<k.length;Be++){let dt=Ne;k[Be]!==""&&(dt+="="+bt(k[Be])),m.push(dt)}}return this.i=m.join("&")};function To(m){const E=new os;return E.i=m.i,m.g&&(E.g=new Map(m.g),E.h=m.h),E}function ls(m,E){return E=String(E),m.j&&(E=E.toLowerCase()),E}function Oi(m,E){E&&!m.j&&(ei(m),m.i=null,m.g.forEach(function(k,ee){const Ne=ee.toLowerCase();ee!=Ne&&(Es(this,ee),Eo(this,Ne,k))},m)),m.j=E}function Ea(m,E){const k=new ie;if(u.Image){const ee=new Image;ee.onload=g(Pi,k,"TestLoadImage: loaded",!0,E,ee),ee.onerror=g(Pi,k,"TestLoadImage: error",!1,E,ee),ee.onabort=g(Pi,k,"TestLoadImage: abort",!1,E,ee),ee.ontimeout=g(Pi,k,"TestLoadImage: timeout",!1,E,ee),u.setTimeout(function(){ee.ontimeout&&ee.ontimeout()},1e4),ee.src=m}else E(!1)}function us(m,E){const k=new ie,ee=new AbortController,Ne=setTimeout(()=>{ee.abort(),Pi(k,"TestPingServer: timeout",!1,E)},1e4);fetch(m,{signal:ee.signal}).then(Be=>{clearTimeout(Ne),Be.ok?Pi(k,"TestPingServer: ok",!0,E):Pi(k,"TestPingServer: server error",!1,E)}).catch(()=>{clearTimeout(Ne),Pi(k,"TestPingServer: error",!1,E)})}function Pi(m,E,k,ee,Ne){try{Ne&&(Ne.onload=null,Ne.onerror=null,Ne.onabort=null,Ne.ontimeout=null),ee(k)}catch{}}function Ts(){this.g=new rn}function Wt(m){this.i=m.Sb||null,this.h=m.ab||!1}_(Wt,Ct),Wt.prototype.g=function(){return new Ks(this.i,this.h)};function Ks(m,E){De.call(this),this.H=m,this.o=E,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}_(Ks,De),n=Ks.prototype,n.open=function(m,E){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=m,this.D=E,this.readyState=1,ti(this)},n.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const E={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};m&&(E.body=m),(this.H||u).fetch(new Request(this.D,E)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ns(this)),this.readyState=0},n.Pa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,ti(this)),this.g&&(this.readyState=3,ti(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;No(this)}else m.text().then(this.Oa.bind(this),this.ga.bind(this))};function No(m){m.j.read().then(m.Ma.bind(m)).catch(m.ga.bind(m))}n.Ma=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var E=m.value?m.value:new Uint8Array(0);(E=this.B.decode(E,{stream:!m.done}))&&(this.response=this.responseText+=E)}m.done?Ns(this):ti(this),this.readyState==3&&No(this)}},n.Oa=function(m){this.g&&(this.response=this.responseText=m,Ns(this))},n.Na=function(m){this.g&&(this.response=m,Ns(this))},n.ga=function(){this.g&&Ns(this)};function Ns(m){m.readyState=4,m.l=null,m.j=null,m.B=null,ti(m)}n.setRequestHeader=function(m,E){this.A.append(m,E)},n.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],E=this.h.entries();for(var k=E.next();!k.done;)k=k.value,m.push(k[0]+": "+k[1]),k=E.next();return m.join(`\r
`)};function ti(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(Ks.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function $r(m){let E="";return Ie(m,function(k,ee){E+=ee,E+=":",E+=k,E+=`\r
`}),E}function Qs(m,E,k){e:{for(ee in k){var ee=!1;break e}ee=!0}ee||(k=$r(k),typeof m=="string"?k!=null&&bt(k):Rn(m,E,k))}function $n(m){De.call(this),this.headers=new Map,this.L=m||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}_($n,De);var Wi=/^https?$/i,Xs=["POST","PUT"];n=$n.prototype,n.Fa=function(m){this.H=m},n.ea=function(m,E,k,ee){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);E=E?E.toUpperCase():"GET",this.D=m,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():We.g(),this.g.onreadystatechange=S(d(this.Ca,this));try{this.B=!0,this.g.open(E,String(m),!0),this.B=!1}catch(Be){Ta(this,Be);return}if(m=k||"",k=new Map(this.headers),ee)if(Object.getPrototypeOf(ee)===Object.prototype)for(var Ne in ee)k.set(Ne,ee[Ne]);else if(typeof ee.keys=="function"&&typeof ee.get=="function")for(const Be of ee.keys())k.set(Be,ee.get(Be));else throw Error("Unknown input type for opt_headers: "+String(ee));ee=Array.from(k.keys()).find(Be=>Be.toLowerCase()=="content-type"),Ne=u.FormData&&m instanceof u.FormData,!(Array.prototype.indexOf.call(Xs,E,void 0)>=0)||ee||Ne||k.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Be,dt]of k)this.g.setRequestHeader(Be,dt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(m),this.v=!1}catch(Be){Ta(this,Be)}};function Ta(m,E){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=E,m.o=5,ol(m),cs(m)}function ol(m){m.A||(m.A=!0,ft(m,"complete"),ft(m,"error"))}n.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=m||7,ft(this,"complete"),ft(this,"abort"),cs(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),cs(this,!0)),$n.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?Ki(this):this.Xa())},n.Xa=function(){Ki(this)};function Ki(m){if(m.h&&typeof o<"u"){if(m.v&&Qi(m)==4)setTimeout(m.Ca.bind(m),0);else if(ft(m,"readystatechange"),Qi(m)==4){m.h=!1;try{const Be=m.ca();e:switch(Be){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var E=!0;break e;default:E=!1}var k;if(!(k=E)){var ee;if(ee=Be===0){let dt=String(m.D).match(nl)[1]||null;!dt&&u.self&&u.self.location&&(dt=u.self.location.protocol.slice(0,-1)),ee=!Wi.test(dt?dt.toLowerCase():"")}k=ee}if(k)ft(m,"complete"),ft(m,"success");else{m.o=6;try{var Ne=Qi(m)>2?m.g.statusText:""}catch{Ne=""}m.l=Ne+" ["+m.ca()+"]",ol(m)}}finally{cs(m)}}}}function cs(m,E){if(m.g){m.m&&(clearTimeout(m.m),m.m=null);const k=m.g;m.g=null,E||ft(m,"ready");try{k.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function Qi(m){return m.g?m.g.readyState:0}n.ca=function(){try{return Qi(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(m){if(this.g){var E=this.g.responseText;return m&&E.indexOf(m)==0&&(E=E.substring(m.length)),Et(E)}};function Fr(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.F){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function Pa(m){const E={};m=(m.g&&Qi(m)>=2&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let ee=0;ee<m.length;ee++){if(F(m[ee]))continue;var k=en(m[ee]);const Ne=k[0];if(k=k[1],typeof k!="string")continue;k=k.trim();const Be=E[Ne]||[];E[Ne]=Be,Be.push(k)}Xe(E,function(ee){return ee.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function fi(m,E,k){return k&&k.internalChannelParams&&k.internalChannelParams[m]||E}function ja(m){this.za=0,this.i=[],this.j=new ie,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=fi("failFast",!1,m),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=fi("baseRetryDelayMs",5e3,m),this.Za=fi("retryDelaySeedMs",1e4,m),this.Ta=fi("forwardChannelMaxRetries",2,m),this.va=fi("forwardChannelRequestTimeoutMs",2e4,m),this.ma=m&&m.xmlHttpFactory||void 0,this.Ua=m&&m.Rb||void 0,this.Aa=m&&m.useFetchStreams||!1,this.O=void 0,this.L=m&&m.supportsCrossDomainXhr||!1,this.M="",this.h=new xo(m&&m.concurrentRequestLimit),this.Ba=new Ts,this.S=m&&m.fastHandshake||!1,this.R=m&&m.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=m&&m.Pb||!1,m&&m.ua&&this.j.ua(),m&&m.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&m&&m.detectBufferingProxy||!1,this.ia=void 0,m&&m.longPollingTimeout&&m.longPollingTimeout>0&&(this.ia=m.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=ja.prototype,n.ka=8,n.I=1,n.connect=function(m,E,k,ee){Pt(0),this.W=m,this.H=E||{},k&&ee!==void 0&&(this.H.OSID=k,this.H.OAID=ee),this.F=this.X,this.J=st(this,null,this.W),ca(this)};function Cs(m){if(Va(m),m.I==3){var E=m.V++,k=Rr(m.J);if(Rn(k,"SID",m.M),Rn(k,"RID",E),Rn(k,"TYPE","terminate"),Xi(m,k),E=new On(m,m.j,E),E.M=2,E.A=As(Rr(k)),k=!1,u.navigator&&u.navigator.sendBeacon)try{k=u.navigator.sendBeacon(E.A.toString(),"")}catch{}!k&&u.Image&&(new Image().src=E.A,k=!0),k||(E.g=Tt(E.j,null),E.g.ea(E.A)),E.F=Date.now(),ui(E)}Ke(m)}function Fa(m){m.g&&(Do(m),m.g.cancel(),m.g=null)}function Va(m){Fa(m),m.v&&(u.clearTimeout(m.v),m.v=null),B(m),m.h.cancel(),m.m&&(typeof m.m=="number"&&u.clearTimeout(m.m),m.m=null)}function ca(m){if(!ki(m.h)&&!m.m){m.m=!0;var E=m.Ea;ye||V(),_e||(ye(),_e=!0),z.add(E,m),m.D=0}}function Js(m,E){return la(m.h)>=m.h.j-(m.m?1:0)?!1:m.m?(m.i=E.G.concat(m.i),!0):m.I==1||m.I==2||m.D>=(m.Sa?0:m.Ta)?!1:(m.m=J(d(m.Ea,m,E),pe(m,m.D)),m.D++,!0)}n.Ea=function(m){if(this.m)if(this.m=null,this.I==1){if(!m){this.V=Math.floor(Math.random()*1e5),m=this.V++;const Ne=new On(this,this.j,m);let Be=this.o;if(this.U&&(Be?(Be=Y(Be),K(Be,this.U)):Be=this.U),this.u!==null||this.R||(Ne.J=Be,Be=null),this.S)e:{for(var E=0,k=0;k<this.i.length;k++){t:{var ee=this.i[k];if("__data__"in ee.map&&(ee=ee.map.__data__,typeof ee=="string")){ee=ee.length;break t}ee=void 0}if(ee===void 0)break;if(E+=ee,E>4096){E=k;break e}if(E===4096||k===this.i.length-1){E=k+1;break e}}E=1e3}else E=1e3;E=Ba(this,Ne,E),k=Rr(this.J),Rn(k,"RID",m),Rn(k,"CVER",22),this.G&&Rn(k,"X-HTTP-Session-Id",this.G),Xi(this,k),Be&&(this.R?E="headers="+bt($r(Be))+"&"+E:this.u&&Qs(k,this.u,Be)),Ys(this.h,Ne),this.Ra&&Rn(k,"TYPE","init"),this.S?(Rn(k,"$req",E),Rn(k,"SID","null"),Ne.U=!0,_r(Ne,k,null)):_r(Ne,k,E),this.I=2}}else this.I==3&&(m?Co(this,m):this.i.length==0||ki(this.h)||Co(this))};function Co(m,E){var k;E?k=E.l:k=m.V++;const ee=Rr(m.J);Rn(ee,"SID",m.M),Rn(ee,"RID",k),Rn(ee,"AID",m.K),Xi(m,ee),m.u&&m.o&&Qs(ee,m.u,m.o),k=new On(m,m.j,k,m.D+1),m.u===null&&(k.J=m.o),E&&(m.i=E.G.concat(m.i)),E=Ba(m,k,1e3),k.H=Math.round(m.va*.5)+Math.round(m.va*.5*Math.random()),Ys(m.h,k),_r(k,ee,E)}function Xi(m,E){m.H&&Ie(m.H,function(k,ee){Rn(E,ee,k)}),m.l&&Ie({},function(k,ee){Rn(E,ee,k)})}function Ba(m,E,k){k=Math.min(m.i.length,k);const ee=m.l?d(m.l.Ka,m.l,m):null;e:{var Ne=m.i;let ln=-1;for(;;){const cr=["count="+k];ln==-1?k>0?(ln=Ne[0].g,cr.push("ofs="+ln)):ln=0:cr.push("ofs="+ln);let _n=!0;for(let Gn=0;Gn<k;Gn++){var Be=Ne[Gn].g;const hi=Ne[Gn].map;if(Be-=ln,Be<0)ln=Math.max(0,Ne[Gn].g-100),_n=!1;else try{Be="req"+Be+"_"||"";try{var dt=hi instanceof Map?hi:Object.entries(hi);for(const[Si,rr]of dt){let Ai=rr;c(rr)&&(Ai=sn(rr)),cr.push(Be+Si+"="+encodeURIComponent(Ai))}}catch(Si){throw cr.push(Be+"type="+encodeURIComponent("_badmap")),Si}}catch{ee&&ee(hi)}}if(_n){dt=cr.join("&");break e}}dt=void 0}return m=m.i.splice(0,k),E.G=m,dt}function ll(m){if(!m.g&&!m.v){m.Y=1;var E=m.Da;ye||V(),_e||(ye(),_e=!0),z.add(E,m),m.A=0}}function Na(m){return m.g||m.v||m.A>=3?!1:(m.Y++,m.v=J(d(m.Da,m),pe(m,m.A)),m.A++,!0)}n.Da=function(){if(this.v=null,x(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var m=4*this.T;this.j.info("BP detection timer enabled: "+m),this.B=J(d(this.Wa,this),m)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Pt(10),Fa(this),x(this))};function Do(m){m.B!=null&&(u.clearTimeout(m.B),m.B=null)}function x(m){m.g=new On(m,m.j,"rpc",m.Y),m.u===null&&(m.g.J=m.o),m.g.P=0;var E=Rr(m.na);Rn(E,"RID","rpc"),Rn(E,"SID",m.M),Rn(E,"AID",m.K),Rn(E,"CI",m.F?"0":"1"),!m.F&&m.ia&&Rn(E,"TO",m.ia),Rn(E,"TYPE","xmlhttp"),Xi(m,E),m.u&&m.o&&Qs(E,m.u,m.o),m.O&&(m.g.H=m.O);var k=m.g;m=m.ba,k.M=1,k.A=As(Rr(E)),k.u=null,k.R=!0,li(k,m)}n.Va=function(){this.C!=null&&(this.C=null,Fa(this),Na(this),Pt(19))};function B(m){m.C!=null&&(u.clearTimeout(m.C),m.C=null)}function se(m,E){var k=null;if(m.g==E){B(m),Do(m),m.g=null;var ee=2}else if(Aa(m.h,E))k=E.G,So(m.h,E),ee=1;else return;if(m.I!=0){if(E.o)if(ee==1){k=E.u?E.u.length:0,E=Date.now()-E.F;var Ne=m.D;ee=Tn(),ft(ee,new Rt(ee,k)),ca(m)}else ll(m);else if(Ne=E.m,Ne==3||Ne==0&&E.X>0||!(ee==1&&Js(m,E)||ee==2&&Na(m)))switch(k&&k.length>0&&(E=m.h,E.i=E.i.concat(k)),Ne){case 1:Se(m,5);break;case 4:Se(m,10);break;case 3:Se(m,6);break;default:Se(m,2)}}}function pe(m,E){let k=m.Qa+Math.floor(Math.random()*m.Za);return m.isActive()||(k*=2),k*E}function Se(m,E){if(m.j.info("Error code "+E),E==2){var k=d(m.bb,m),ee=m.Ua;const Ne=!ee;ee=new ci(ee||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||Sn(ee,"https"),As(ee),Ne?Ea(ee.toString(),k):us(ee.toString(),k)}else Pt(2);m.I=0,m.l&&m.l.pa(E),Ke(m),Va(m)}n.bb=function(m){m?(this.j.info("Successfully pinged google.com"),Pt(2)):(this.j.info("Failed to ping google.com"),Pt(1))};function Ke(m){if(m.I=0,m.ja=[],m.l){const E=Ao(m.h);(E.length!=0||m.i.length!=0)&&(T(m.ja,E),T(m.ja,m.i),m.h.i.length=0,w(m.i),m.i.length=0),m.l.oa()}}function st(m,E,k){var ee=k instanceof ci?Rr(k):new ci(k);if(ee.g!="")E&&(ee.g=E+"."+ee.g),ss(ee,ee.u);else{var Ne=u.location;ee=Ne.protocol,E=E?E+"."+Ne.hostname:Ne.hostname,Ne=+Ne.port;const Be=new ci(null);ee&&Sn(Be,ee),E&&(Be.g=E),Ne&&ss(Be,Ne),k&&(Be.h=k),ee=Be}return k=m.G,E=m.wa,k&&E&&Rn(ee,k,E),Rn(ee,"VER",m.ka),Xi(m,ee),ee}function Tt(m,E,k){if(E&&!m.L)throw Error("Can't create secondary domain capable XhrIo object.");return E=m.Aa&&!m.ma?new $n(new Wt({ab:k})):new $n(m.ma),E.Fa(m.L),E}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Mt(){}n=Mt.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function Qt(){}Qt.prototype.g=function(m,E){return new Ht(m,E)};function Ht(m,E){De.call(this),this.g=new ja(E),this.l=m,this.h=E&&E.messageUrlParams||null,m=E&&E.messageHeaders||null,E&&E.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=E&&E.initMessageHeaders||null,E&&E.messageContentType&&(m?m["X-WebChannel-Content-Type"]=E.messageContentType:m={"X-WebChannel-Content-Type":E.messageContentType}),E&&E.sa&&(m?m["X-WebChannel-Client-Profile"]=E.sa:m={"X-WebChannel-Client-Profile":E.sa}),this.g.U=m,(m=E&&E.Qb)&&!F(m)&&(this.g.u=m),this.A=E&&E.supportsCrossDomainXhr||!1,this.v=E&&E.sendRawJson||!1,(E=E&&E.httpSessionIdParam)&&!F(E)&&(this.g.G=E,m=this.h,m!==null&&E in m&&(m=this.h,E in m&&delete m[E])),this.j=new tr(this)}_(Ht,De),Ht.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Ht.prototype.close=function(){Cs(this.g)},Ht.prototype.o=function(m){var E=this.g;if(typeof m=="string"){var k={};k.__data__=m,m=k}else this.v&&(k={},k.__data__=sn(m),m=k);E.i.push(new Sr(E.Ya++,m)),E.I==3&&ca(E)},Ht.prototype.N=function(){this.g.l=null,delete this.j,Cs(this.g),delete this.g,Ht.Z.N.call(this)};function An(m){jt.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var E=m.__sm__;if(E){e:{for(const k in E){m=k;break e}m=void 0}(this.i=m)&&(m=this.i,E=E!==null&&m in E?E[m]:void 0),this.data=E}else this.data=m}_(An,jt);function ur(){yt.call(this),this.status=1}_(ur,yt);function tr(m){this.g=m}_(tr,Mt),tr.prototype.ra=function(){ft(this.g,"a")},tr.prototype.qa=function(m){ft(this.g,new An(m))},tr.prototype.pa=function(m){ft(this.g,new ur)},tr.prototype.oa=function(){ft(this.g,"b")},Qt.prototype.createWebChannel=Qt.prototype.g,Ht.prototype.send=Ht.prototype.o,Ht.prototype.open=Ht.prototype.m,Ht.prototype.close=Ht.prototype.close,F_=function(){return new Qt},j_=function(){return Tn()},P_=tn,Q0={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ae.NO_ERROR=0,Ae.TIMEOUT=8,Ae.HTTP_ERROR=6,Ep=Ae,Je.COMPLETE="complete",O_=Je,Kn.EventType=Yt,Yt.OPEN="a",Yt.CLOSE="b",Yt.ERROR="c",Yt.MESSAGE="d",De.prototype.listen=De.prototype.J,Nh=Kn,$n.prototype.listenOnce=$n.prototype.K,$n.prototype.getLastError=$n.prototype.Ha,$n.prototype.getLastErrorCode=$n.prototype.ya,$n.prototype.getStatus=$n.prototype.ca,$n.prototype.getResponseJson=$n.prototype.La,$n.prototype.getResponseText=$n.prototype.la,$n.prototype.send=$n.prototype.ea,$n.prototype.setWithCredentials=$n.prototype.Fa,k_=$n}).apply(typeof ap<"u"?ap:typeof self<"u"?self:typeof window<"u"?window:{});const E5="@firebase/firestore",T5="4.9.2";class wa{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}wa.UNAUTHENTICATED=new wa(null),wa.GOOGLE_CREDENTIALS=new wa("google-credentials-uid"),wa.FIRST_PARTY=new wa("first-party-uid"),wa.MOCK_USER=new wa("mock-user");let kf="12.3.0";const hc=new j1("@firebase/firestore");function of(){return hc.logLevel}function Nt(n,...e){if(hc.logLevel<=zn.DEBUG){const t=e.map(V1);hc.debug(`Firestore (${kf}): ${n}`,...t)}}function jl(n,...e){if(hc.logLevel<=zn.ERROR){const t=e.map(V1);hc.error(`Firestore (${kf}): ${n}`,...t)}}function Ef(n,...e){if(hc.logLevel<=zn.WARN){const t=e.map(V1);hc.warn(`Firestore (${kf}): ${n}`,...t)}}function V1(n){if(typeof n=="string")return n;try{return(function(t){return JSON.stringify(t)})(n)}catch{return n}}function on(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,V_(n,r,t)}function V_(n,e,t){let r=`FIRESTORE (${kf}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw jl(r),new Error(r)}function nr(n,e,t,r){let s="Unexpected state";typeof t=="string"?s=t:r=t,n||V_(e,s,r)}function gn(n,e){return n}const nt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class wt extends ku{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ml{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class B_{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class wT{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(wa.UNAUTHENTICATED)))}shutdown(){}}class _T{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class xT{constructor(e){this.t=e,this.currentUser=wa.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){nr(this.o===void 0,42304);let r=this.i;const s=h=>this.i!==r?(r=this.i,t(h)):Promise.resolve();let o=new Ml;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Ml,e.enqueueRetryable((()=>s(this.currentUser)))};const u=()=>{const h=o;e.enqueueRetryable((async()=>{await h.promise,await s(this.currentUser)}))},c=h=>{Nt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((h=>c(h))),setTimeout((()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?c(h):(Nt("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Ml)}}),0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((r=>this.i!==e?(Nt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(nr(typeof r.accessToken=="string",31837,{l:r}),new B_(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return nr(e===null||typeof e=="string",2055,{h:e}),new wa(e)}}class ST{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=wa.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class AT{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new ST(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(wa.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class N5{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ET{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,iT(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){nr(this.o===void 0,3512);const r=o=>{o.error!=null&&Nt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const u=o.token!==this.m;return this.m=o.token,Nt("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable((()=>r(o)))};const s=o=>{Nt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>s(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?s(o):Nt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new N5(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(nr(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new N5(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function TT(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class B1{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=TT(40);for(let o=0;o<s.length;++o)r.length<20&&s[o]<t&&(r+=e.charAt(s[o]%62))}return r}}function Mn(n,e){return n<e?-1:n>e?1:0}function X0(n,e){const t=Math.min(n.length,e.length);for(let r=0;r<t;r++){const s=n.charAt(r),o=e.charAt(r);if(s!==o)return t0(s)===t0(o)?Mn(s,o):t0(s)?1:-1}return Mn(n.length,e.length)}const NT=55296,CT=57343;function t0(n){const e=n.charCodeAt(0);return e>=NT&&e<=CT}function Tf(n,e,t){return n.length===e.length&&n.every(((r,s)=>t(r,e[s])))}const C5="__name__";class Yo{constructor(e,t,r){t===void 0?t=0:t>e.length&&on(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&on(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Yo.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Yo?e.forEach((r=>{t.push(r)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let s=0;s<r;s++){const o=Yo.compareSegments(e.get(s),t.get(s));if(o!==0)return o}return Mn(e.length,t.length)}static compareSegments(e,t){const r=Yo.isNumericId(e),s=Yo.isNumericId(t);return r&&!s?-1:!r&&s?1:r&&s?Yo.extractNumericId(e).compare(Yo.extractNumericId(t)):X0(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Su.fromString(e.substring(4,e.length-2))}}class xr extends Yo{construct(e,t,r){return new xr(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new wt(nt.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter((s=>s.length>0)))}return new xr(t)}static emptyPath(){return new xr([])}}const DT=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class aa extends Yo{construct(e,t,r){return new aa(e,t,r)}static isValidIdentifier(e){return DT.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),aa.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===C5}static keyField(){return new aa([C5])}static fromServerFormat(e){const t=[];let r="",s=0;const o=()=>{if(r.length===0)throw new wt(nt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let u=!1;for(;s<e.length;){const c=e[s];if(c==="\\"){if(s+1===e.length)throw new wt(nt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[s+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new wt(nt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=h,s+=2}else c==="`"?(u=!u,s++):c!=="."||u?(r+=c,s++):(o(),s++)}if(o(),u)throw new wt(nt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new aa(t)}static emptyPath(){return new aa([])}}class Zt{constructor(e){this.path=e}static fromPath(e){return new Zt(xr.fromString(e))}static fromName(e){return new Zt(xr.fromString(e).popFirst(5))}static empty(){return new Zt(xr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&xr.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return xr.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Zt(new xr(e.slice()))}}function U_(n,e,t){if(!t)throw new wt(nt.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function RT(n,e,t,r){if(e===!0&&r===!0)throw new wt(nt.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function D5(n){if(!Zt.isDocumentKey(n))throw new wt(nt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function R5(n){if(Zt.isDocumentKey(n))throw new wt(nt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function z_(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function cm(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":on(12329,{type:typeof n})}function Fl(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new wt(nt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=cm(n);throw new wt(nt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function IT(n,e){if(e<=0)throw new wt(nt.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}function bi(n,e){const t={typeString:n};return e&&(t.value=e),t}function id(n,e){if(!z_(n))throw new wt(nt.INVALID_ARGUMENT,"JSON must be an object");let t;for(const r in e)if(e[r]){const s=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}const u=n[r];if(s&&typeof u!==s){t=`JSON field '${r}' must be a ${s}.`;break}if(o!==void 0&&u!==o.value){t=`Expected '${r}' field to equal '${o.value}'`;break}}if(t)throw new wt(nt.INVALID_ARGUMENT,t);return!0}const I5=-62135596800,L5=1e6;class Cr{static now(){return Cr.fromMillis(Date.now())}static fromDate(e){return Cr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*L5);return new Cr(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new wt(nt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new wt(nt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<I5)throw new wt(nt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new wt(nt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/L5}_compareTo(e){return this.seconds===e.seconds?Mn(this.nanoseconds,e.nanoseconds):Mn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Cr._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(id(e,Cr._jsonSchema))return new Cr(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-I5;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Cr._jsonSchemaVersion="firestore/timestamp/1.0",Cr._jsonSchema={type:bi("string",Cr._jsonSchemaVersion),seconds:bi("number"),nanoseconds:bi("number")};class hn{static fromTimestamp(e){return new hn(e)}static min(){return new hn(new Cr(0,0))}static max(){return new hn(new Cr(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Hh=-1;function LT(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,s=hn.fromTimestamp(r===1e9?new Cr(t+1,0):new Cr(t,r));return new Tu(s,Zt.empty(),e)}function MT(n){return new Tu(n.readTime,n.key,Hh)}class Tu{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Tu(hn.min(),Zt.empty(),Hh)}static max(){return new Tu(hn.max(),Zt.empty(),Hh)}}function kT(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Zt.comparator(n.documentKey,e.documentKey),t!==0?t:Mn(n.largestBatchId,e.largestBatchId))}const OT="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class PT{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Of(n){if(n.code!==nt.FAILED_PRECONDITION||n.message!==OT)throw n;Nt("LocalStore","Unexpectedly lost primary lease")}class ot{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&on(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ot(((r,s)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,s)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,s)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof ot?t:ot.resolve(t)}catch(t){return ot.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):ot.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):ot.reject(t)}static resolve(e){return new ot(((t,r)=>{t(e)}))}static reject(e){return new ot(((t,r)=>{r(e)}))}static waitFor(e){return new ot(((t,r)=>{let s=0,o=0,u=!1;e.forEach((c=>{++s,c.next((()=>{++o,u&&o===s&&t()}),(h=>r(h)))})),u=!0,o===s&&t()}))}static or(e){let t=ot.resolve(!1);for(const r of e)t=t.next((s=>s?ot.resolve(s):r()));return t}static forEach(e,t){const r=[];return e.forEach(((s,o)=>{r.push(t.call(this,s,o))})),this.waitFor(r)}static mapArray(e,t){return new ot(((r,s)=>{const o=e.length,u=new Array(o);let c=0;for(let h=0;h<o;h++){const d=h;t(e[d]).next((g=>{u[d]=g,++c,c===o&&r(u)}),(g=>s(g)))}}))}static doWhile(e,t){return new ot(((r,s)=>{const o=()=>{e()===!0?t().next((()=>{o()}),s):r()};o()}))}}function jT(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Pf(n){return n.name==="IndexedDbTransactionError"}class fm{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>t.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}fm.ce=-1;const U1=-1;function hm(n){return n==null}function Bp(n){return n===0&&1/n==-1/0}function FT(n){return typeof n=="number"&&Number.isInteger(n)&&!Bp(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const q_="";function VT(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=M5(e)),e=BT(n.get(t),e);return M5(e)}function BT(n,e){let t=e;const r=n.length;for(let s=0;s<r;s++){const o=n.charAt(s);switch(o){case"\0":t+="";break;case q_:t+="";break;default:t+=o}}return t}function M5(n){return n+q_+""}function k5(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ou(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function H_(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class Hr{constructor(e,t){this.comparator=e,this.root=t||ia.EMPTY}insert(e,t){return new Hr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ia.BLACK,null,null))}remove(e){return new Hr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ia.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return t+r.left.size;s<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,r)=>(e(t,r),!1)))}toString(){const e=[];return this.inorderTraversal(((t,r)=>(e.push(`${t}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new sp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new sp(this.root,e,this.comparator,!1)}getReverseIterator(){return new sp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new sp(this.root,e,this.comparator,!0)}}class sp{constructor(e,t,r,s){this.isReverse=s,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&s&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ia{constructor(e,t,r,s,o){this.key=e,this.value=t,this.color=r??ia.RED,this.left=s??ia.EMPTY,this.right=o??ia.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,s,o){return new ia(e??this.key,t??this.value,r??this.color,s??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let s=this;const o=r(e,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(e,t,r),null):o===0?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return ia.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),t(e,s.key)===0){if(s.right.isEmpty())return ia.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ia.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ia.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw on(43730,{key:this.key,value:this.value});if(this.right.isRed())throw on(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw on(27949);return e+(this.isRed()?0:1)}}ia.EMPTY=null,ia.RED=!0,ia.BLACK=!1;ia.EMPTY=new class{constructor(){this.size=0}get key(){throw on(57766)}get value(){throw on(16141)}get color(){throw on(16727)}get left(){throw on(29726)}get right(){throw on(36894)}copy(e,t,r,s,o){return this}insert(e,t,r){return new ia(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Li{constructor(e){this.comparator=e,this.data=new Hr(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,r)=>(e(t),!1)))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new O5(this.data.getIterator())}getIteratorFrom(e){return new O5(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((r=>{t=t.add(r)})),t}isEqual(e){if(!(e instanceof Li)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,o=r.getNext().key;if(this.comparator(s,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Li(this.comparator);return t.data=e,t}}class O5{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class _s{constructor(e){this.fields=e,e.sort(aa.comparator)}static empty(){return new _s([])}unionWith(e){let t=new Li(aa.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new _s(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Tf(this.fields,e.fields,((t,r)=>t.isEqual(r)))}}class $_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class sa{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(s){try{return atob(s)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new $_("Invalid base64 string: "+o):o}})(e);return new sa(t)}static fromUint8Array(e){const t=(function(s){let o="";for(let u=0;u<s.length;++u)o+=String.fromCharCode(s[u]);return o})(e);return new sa(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const r=new Uint8Array(t.length);for(let s=0;s<t.length;s++)r[s]=t.charCodeAt(s);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Mn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}sa.EMPTY_BYTE_STRING=new sa("");const UT=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Nu(n){if(nr(!!n,39018),typeof n=="string"){let e=0;const t=UT.exec(n);if(nr(!!t,46558,{timestamp:n}),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ii(n.seconds),nanos:ii(n.nanos)}}function ii(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Cu(n){return typeof n=="string"?sa.fromBase64String(n):sa.fromUint8Array(n)}const G_="server_timestamp",Y_="__type__",W_="__previous_value__",K_="__local_write_time__";function z1(n){return(n?.mapValue?.fields||{})[Y_]?.stringValue===G_}function dm(n){const e=n.mapValue.fields[W_];return z1(e)?dm(e):e}function $h(n){const e=Nu(n.mapValue.fields[K_].timestampValue);return new Cr(e.seconds,e.nanos)}class zT{constructor(e,t,r,s,o,u,c,h,d,g){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=s,this.ssl=o,this.forceLongPolling=u,this.autoDetectLongPolling=c,this.longPollingOptions=h,this.useFetchStreams=d,this.isUsingEmulator=g}}const Up="(default)";class Gh{constructor(e,t){this.projectId=e,this.database=t||Up}static empty(){return new Gh("","")}get isDefaultDatabase(){return this.database===Up}isEqual(e){return e instanceof Gh&&e.projectId===this.projectId&&e.database===this.database}}const Q_="__type__",qT="__max__",op={mapValue:{}},X_="__vector__",zp="value";function Du(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?z1(n)?4:$T(n)?9007199254740991:HT(n)?10:11:on(28295,{value:n})}function el(n,e){if(n===e)return!0;const t=Du(n);if(t!==Du(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return $h(n).isEqual($h(e));case 3:return(function(s,o){if(typeof s.timestampValue=="string"&&typeof o.timestampValue=="string"&&s.timestampValue.length===o.timestampValue.length)return s.timestampValue===o.timestampValue;const u=Nu(s.timestampValue),c=Nu(o.timestampValue);return u.seconds===c.seconds&&u.nanos===c.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(s,o){return Cu(s.bytesValue).isEqual(Cu(o.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(s,o){return ii(s.geoPointValue.latitude)===ii(o.geoPointValue.latitude)&&ii(s.geoPointValue.longitude)===ii(o.geoPointValue.longitude)})(n,e);case 2:return(function(s,o){if("integerValue"in s&&"integerValue"in o)return ii(s.integerValue)===ii(o.integerValue);if("doubleValue"in s&&"doubleValue"in o){const u=ii(s.doubleValue),c=ii(o.doubleValue);return u===c?Bp(u)===Bp(c):isNaN(u)&&isNaN(c)}return!1})(n,e);case 9:return Tf(n.arrayValue.values||[],e.arrayValue.values||[],el);case 10:case 11:return(function(s,o){const u=s.mapValue.fields||{},c=o.mapValue.fields||{};if(k5(u)!==k5(c))return!1;for(const h in u)if(u.hasOwnProperty(h)&&(c[h]===void 0||!el(u[h],c[h])))return!1;return!0})(n,e);default:return on(52216,{left:n})}}function Yh(n,e){return(n.values||[]).find((t=>el(t,e)))!==void 0}function Nf(n,e){if(n===e)return 0;const t=Du(n),r=Du(e);if(t!==r)return Mn(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Mn(n.booleanValue,e.booleanValue);case 2:return(function(o,u){const c=ii(o.integerValue||o.doubleValue),h=ii(u.integerValue||u.doubleValue);return c<h?-1:c>h?1:c===h?0:isNaN(c)?isNaN(h)?0:-1:1})(n,e);case 3:return P5(n.timestampValue,e.timestampValue);case 4:return P5($h(n),$h(e));case 5:return X0(n.stringValue,e.stringValue);case 6:return(function(o,u){const c=Cu(o),h=Cu(u);return c.compareTo(h)})(n.bytesValue,e.bytesValue);case 7:return(function(o,u){const c=o.split("/"),h=u.split("/");for(let d=0;d<c.length&&d<h.length;d++){const g=Mn(c[d],h[d]);if(g!==0)return g}return Mn(c.length,h.length)})(n.referenceValue,e.referenceValue);case 8:return(function(o,u){const c=Mn(ii(o.latitude),ii(u.latitude));return c!==0?c:Mn(ii(o.longitude),ii(u.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return j5(n.arrayValue,e.arrayValue);case 10:return(function(o,u){const c=o.fields||{},h=u.fields||{},d=c[zp]?.arrayValue,g=h[zp]?.arrayValue,_=Mn(d?.values?.length||0,g?.values?.length||0);return _!==0?_:j5(d,g)})(n.mapValue,e.mapValue);case 11:return(function(o,u){if(o===op.mapValue&&u===op.mapValue)return 0;if(o===op.mapValue)return 1;if(u===op.mapValue)return-1;const c=o.fields||{},h=Object.keys(c),d=u.fields||{},g=Object.keys(d);h.sort(),g.sort();for(let _=0;_<h.length&&_<g.length;++_){const S=X0(h[_],g[_]);if(S!==0)return S;const w=Nf(c[h[_]],d[g[_]]);if(w!==0)return w}return Mn(h.length,g.length)})(n.mapValue,e.mapValue);default:throw on(23264,{he:t})}}function P5(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Mn(n,e);const t=Nu(n),r=Nu(e),s=Mn(t.seconds,r.seconds);return s!==0?s:Mn(t.nanos,r.nanos)}function j5(n,e){const t=n.values||[],r=e.values||[];for(let s=0;s<t.length&&s<r.length;++s){const o=Nf(t[s],r[s]);if(o)return o}return Mn(t.length,r.length)}function Cf(n){return J0(n)}function J0(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const r=Nu(t);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return Cu(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return Zt.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let r="[",s=!0;for(const o of t.values||[])s?s=!1:r+=",",r+=J0(o);return r+"]"})(n.arrayValue):"mapValue"in n?(function(t){const r=Object.keys(t.fields||{}).sort();let s="{",o=!0;for(const u of r)o?o=!1:s+=",",s+=`${u}:${J0(t.fields[u])}`;return s+"}"})(n.mapValue):on(61005,{value:n})}function Tp(n){switch(Du(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=dm(n);return e?16+Tp(e):16;case 5:return 2*n.stringValue.length;case 6:return Cu(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((s,o)=>s+Tp(o)),0)})(n.arrayValue);case 10:case 11:return(function(r){let s=0;return Ou(r.fields,((o,u)=>{s+=o.length+Tp(u)})),s})(n.mapValue);default:throw on(13486,{value:n})}}function F5(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Z0(n){return!!n&&"integerValue"in n}function q1(n){return!!n&&"arrayValue"in n}function V5(n){return!!n&&"nullValue"in n}function B5(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Np(n){return!!n&&"mapValue"in n}function HT(n){return(n?.mapValue?.fields||{})[Q_]?.stringValue===X_}function Lh(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return Ou(n.mapValue.fields,((t,r)=>e.mapValue.fields[t]=Lh(r))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Lh(n.arrayValue.values[t]);return e}return{...n}}function $T(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===qT}class is{constructor(e){this.value=e}static empty(){return new is({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Np(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Lh(t)}setAll(e){let t=aa.emptyPath(),r={},s=[];e.forEach(((u,c)=>{if(!t.isImmediateParentOf(c)){const h=this.getFieldsMap(t);this.applyChanges(h,r,s),r={},s=[],t=c.popLast()}u?r[c.lastSegment()]=Lh(u):s.push(c.lastSegment())}));const o=this.getFieldsMap(t);this.applyChanges(o,r,s)}delete(e){const t=this.field(e.popLast());Np(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return el(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=t.mapValue.fields[e.get(r)];Np(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,r){Ou(t,((s,o)=>e[s]=o));for(const s of r)delete e[s]}clone(){return new is(Lh(this.value))}}function J_(n){const e=[];return Ou(n.fields,((t,r)=>{const s=new aa([t]);if(Np(r)){const o=J_(r.mapValue).fields;if(o.length===0)e.push(s);else for(const u of o)e.push(s.child(u))}else e.push(s)})),new _s(e)}class xa{constructor(e,t,r,s,o,u,c){this.key=e,this.documentType=t,this.version=r,this.readTime=s,this.createTime=o,this.data=u,this.documentState=c}static newInvalidDocument(e){return new xa(e,0,hn.min(),hn.min(),hn.min(),is.empty(),0)}static newFoundDocument(e,t,r,s){return new xa(e,1,t,hn.min(),r,s,0)}static newNoDocument(e,t){return new xa(e,2,t,hn.min(),hn.min(),is.empty(),0)}static newUnknownDocument(e,t){return new xa(e,3,t,hn.min(),hn.min(),is.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(hn.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=is.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=is.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=hn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof xa&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new xa(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class qp{constructor(e,t){this.position=e,this.inclusive=t}}function U5(n,e,t){let r=0;for(let s=0;s<n.position.length;s++){const o=e[s],u=n.position[s];if(o.field.isKeyField()?r=Zt.comparator(Zt.fromName(u.referenceValue),t.key):r=Nf(u,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function z5(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!el(n.position[t],e.position[t]))return!1;return!0}class Wh{constructor(e,t="asc"){this.field=e,this.dir=t}}function GT(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class Z_{}class yi extends Z_{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new WT(e,t,r):t==="array-contains"?new XT(e,r):t==="in"?new JT(e,r):t==="not-in"?new ZT(e,r):t==="array-contains-any"?new eN(e,r):new yi(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new KT(e,r):new QT(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Nf(t,this.value)):t!==null&&Du(this.value)===Du(t)&&this.matchesComparison(Nf(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return on(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class vo extends Z_{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new vo(e,t)}matches(e){return e4(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function e4(n){return n.op==="and"}function t4(n){return YT(n)&&e4(n)}function YT(n){for(const e of n.filters)if(e instanceof vo)return!1;return!0}function e1(n){if(n instanceof yi)return n.field.canonicalString()+n.op.toString()+Cf(n.value);if(t4(n))return n.filters.map((e=>e1(e))).join(",");{const e=n.filters.map((t=>e1(t))).join(",");return`${n.op}(${e})`}}function n4(n,e){return n instanceof yi?(function(r,s){return s instanceof yi&&r.op===s.op&&r.field.isEqual(s.field)&&el(r.value,s.value)})(n,e):n instanceof vo?(function(r,s){return s instanceof vo&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce(((o,u,c)=>o&&n4(u,s.filters[c])),!0):!1})(n,e):void on(19439)}function r4(n){return n instanceof yi?(function(t){return`${t.field.canonicalString()} ${t.op} ${Cf(t.value)}`})(n):n instanceof vo?(function(t){return t.op.toString()+" {"+t.getFilters().map(r4).join(" ,")+"}"})(n):"Filter"}class WT extends yi{constructor(e,t,r){super(e,t,r),this.key=Zt.fromName(r.referenceValue)}matches(e){const t=Zt.comparator(e.key,this.key);return this.matchesComparison(t)}}class KT extends yi{constructor(e,t){super(e,"in",t),this.keys=i4("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class QT extends yi{constructor(e,t){super(e,"not-in",t),this.keys=i4("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function i4(n,e){return(e.arrayValue?.values||[]).map((t=>Zt.fromName(t.referenceValue)))}class XT extends yi{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return q1(t)&&Yh(t.arrayValue,this.value)}}class JT extends yi{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Yh(this.value.arrayValue,t)}}class ZT extends yi{constructor(e,t){super(e,"not-in",t)}matches(e){if(Yh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Yh(this.value.arrayValue,t)}}class eN extends yi{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!q1(t)||!t.arrayValue.values)&&t.arrayValue.values.some((r=>Yh(this.value.arrayValue,r)))}}class tN{constructor(e,t=null,r=[],s=[],o=null,u=null,c=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=s,this.limit=o,this.startAt=u,this.endAt=c,this.Te=null}}function q5(n,e=null,t=[],r=[],s=null,o=null,u=null){return new tN(n,e,t,r,s,o,u)}function H1(n){const e=gn(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((r=>e1(r))).join(","),t+="|ob:",t+=e.orderBy.map((r=>(function(o){return o.field.canonicalString()+o.dir})(r))).join(","),hm(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((r=>Cf(r))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((r=>Cf(r))).join(",")),e.Te=t}return e.Te}function $1(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!GT(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!n4(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!z5(n.startAt,e.startAt)&&z5(n.endAt,e.endAt)}function t1(n){return Zt.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}class jf{constructor(e,t=null,r=[],s=[],o=null,u="F",c=null,h=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=s,this.limit=o,this.limitType=u,this.startAt=c,this.endAt=h,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function nN(n,e,t,r,s,o,u,c){return new jf(n,e,t,r,s,o,u,c)}function G1(n){return new jf(n)}function H5(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function a4(n){return n.collectionGroup!==null}function Mh(n){const e=gn(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),t.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let c=new Li(aa.comparator);return u.filters.forEach((h=>{h.getFlattenedFilters().forEach((d=>{d.isInequality()&&(c=c.add(d.field))}))})),c})(e).forEach((o=>{t.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new Wh(o,r))})),t.has(aa.keyField().canonicalString())||e.Ie.push(new Wh(aa.keyField(),r))}return e.Ie}function Qo(n){const e=gn(n);return e.Ee||(e.Ee=rN(e,Mh(n))),e.Ee}function rN(n,e){if(n.limitType==="F")return q5(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((s=>{const o=s.dir==="desc"?"asc":"desc";return new Wh(s.field,o)}));const t=n.endAt?new qp(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new qp(n.startAt.position,n.startAt.inclusive):null;return q5(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function n1(n,e){const t=n.filters.concat([e]);return new jf(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Hp(n,e,t){return new jf(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function pm(n,e){return $1(Qo(n),Qo(e))&&n.limitType===e.limitType}function s4(n){return`${H1(Qo(n))}|lt:${n.limitType}`}function lf(n){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map((s=>r4(s))).join(", ")}]`),hm(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map((s=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(s))).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map((s=>Cf(s))).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map((s=>Cf(s))).join(",")),`Target(${r})`})(Qo(n))}; limitType=${n.limitType})`}function mm(n,e){return e.isFoundDocument()&&(function(r,s){const o=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Zt.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(n,e)&&(function(r,s){for(const o of Mh(r))if(!o.field.isKeyField()&&s.data.field(o.field)===null)return!1;return!0})(n,e)&&(function(r,s){for(const o of r.filters)if(!o.matches(s))return!1;return!0})(n,e)&&(function(r,s){return!(r.startAt&&!(function(u,c,h){const d=U5(u,c,h);return u.inclusive?d<=0:d<0})(r.startAt,Mh(r),s)||r.endAt&&!(function(u,c,h){const d=U5(u,c,h);return u.inclusive?d>=0:d>0})(r.endAt,Mh(r),s))})(n,e)}function iN(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function o4(n){return(e,t)=>{let r=!1;for(const s of Mh(n)){const o=aN(s,e,t);if(o!==0)return o;r=r||s.field.isKeyField()}return 0}}function aN(n,e,t){const r=n.field.isKeyField()?Zt.comparator(e.key,t.key):(function(o,u,c){const h=u.data.field(o),d=c.data.field(o);return h!==null&&d!==null?Nf(h,d):on(42886)})(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return on(19790,{direction:n.dir})}}class yc{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[s,o]of r)if(this.equalsFn(s,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return void(s[o]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[t]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Ou(this.inner,((t,r)=>{for(const[s,o]of r)e(s,o)}))}isEmpty(){return H_(this.inner)}size(){return this.innerSize}}const sN=new Hr(Zt.comparator);function Vl(){return sN}const l4=new Hr(Zt.comparator);function Ch(...n){let e=l4;for(const t of n)e=e.insert(t.key,t);return e}function u4(n){let e=l4;return n.forEach(((t,r)=>e=e.insert(t,r.overlayedDocument))),e}function lc(){return kh()}function c4(){return kh()}function kh(){return new yc((n=>n.toString()),((n,e)=>n.isEqual(e)))}const oN=new Hr(Zt.comparator),lN=new Li(Zt.comparator);function kn(...n){let e=lN;for(const t of n)e=e.add(t);return e}const uN=new Li(Mn);function cN(){return uN}function Y1(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Bp(e)?"-0":e}}function f4(n){return{integerValue:""+n}}function fN(n,e){return FT(e)?f4(e):Y1(n,e)}class gm{constructor(){this._=void 0}}function hN(n,e,t){return n instanceof $p?(function(s,o){const u={fields:{[Y_]:{stringValue:G_},[K_]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return o&&z1(o)&&(o=dm(o)),o&&(u.fields[W_]=o),{mapValue:u}})(t,e):n instanceof Kh?d4(n,e):n instanceof Qh?p4(n,e):(function(s,o){const u=h4(s,o),c=$5(u)+$5(s.Ae);return Z0(u)&&Z0(s.Ae)?f4(c):Y1(s.serializer,c)})(n,e)}function dN(n,e,t){return n instanceof Kh?d4(n,e):n instanceof Qh?p4(n,e):t}function h4(n,e){return n instanceof Gp?(function(r){return Z0(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(e)?e:{integerValue:0}:null}class $p extends gm{}class Kh extends gm{constructor(e){super(),this.elements=e}}function d4(n,e){const t=m4(e);for(const r of n.elements)t.some((s=>el(s,r)))||t.push(r);return{arrayValue:{values:t}}}class Qh extends gm{constructor(e){super(),this.elements=e}}function p4(n,e){let t=m4(e);for(const r of n.elements)t=t.filter((s=>!el(s,r)));return{arrayValue:{values:t}}}class Gp extends gm{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function $5(n){return ii(n.integerValue||n.doubleValue)}function m4(n){return q1(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function pN(n,e){return n.field.isEqual(e.field)&&(function(r,s){return r instanceof Kh&&s instanceof Kh||r instanceof Qh&&s instanceof Qh?Tf(r.elements,s.elements,el):r instanceof Gp&&s instanceof Gp?el(r.Ae,s.Ae):r instanceof $p&&s instanceof $p})(n.transform,e.transform)}class mN{constructor(e,t){this.version=e,this.transformResults=t}}class go{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new go}static exists(e){return new go(void 0,e)}static updateTime(e){return new go(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Cp(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class vm{}function g4(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new W1(n.key,go.none()):new ad(n.key,n.data,go.none());{const t=n.data,r=is.empty();let s=new Li(aa.comparator);for(let o of e.fields)if(!s.has(o)){let u=t.field(o);u===null&&o.length>1&&(o=o.popLast(),u=t.field(o)),u===null?r.delete(o):r.set(o,u),s=s.add(o)}return new Pu(n.key,r,new _s(s.toArray()),go.none())}}function gN(n,e,t){n instanceof ad?(function(s,o,u){const c=s.value.clone(),h=Y5(s.fieldTransforms,o,u.transformResults);c.setAll(h),o.convertToFoundDocument(u.version,c).setHasCommittedMutations()})(n,e,t):n instanceof Pu?(function(s,o,u){if(!Cp(s.precondition,o))return void o.convertToUnknownDocument(u.version);const c=Y5(s.fieldTransforms,o,u.transformResults),h=o.data;h.setAll(v4(s)),h.setAll(c),o.convertToFoundDocument(u.version,h).setHasCommittedMutations()})(n,e,t):(function(s,o,u){o.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,t)}function Oh(n,e,t,r){return n instanceof ad?(function(o,u,c,h){if(!Cp(o.precondition,u))return c;const d=o.value.clone(),g=W5(o.fieldTransforms,h,u);return d.setAll(g),u.convertToFoundDocument(u.version,d).setHasLocalMutations(),null})(n,e,t,r):n instanceof Pu?(function(o,u,c,h){if(!Cp(o.precondition,u))return c;const d=W5(o.fieldTransforms,h,u),g=u.data;return g.setAll(v4(o)),g.setAll(d),u.convertToFoundDocument(u.version,g).setHasLocalMutations(),c===null?null:c.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((_=>_.field)))})(n,e,t,r):(function(o,u,c){return Cp(o.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):c})(n,e,t)}function vN(n,e){let t=null;for(const r of n.fieldTransforms){const s=e.data.field(r.field),o=h4(r.transform,s||null);o!=null&&(t===null&&(t=is.empty()),t.set(r.field,o))}return t||null}function G5(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Tf(r,s,((o,u)=>pN(o,u)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class ad extends vm{constructor(e,t,r,s=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Pu extends vm{constructor(e,t,r,s,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=s,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function v4(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}})),e}function Y5(n,e,t){const r=new Map;nr(n.length===t.length,32656,{Re:t.length,Ve:n.length});for(let s=0;s<t.length;s++){const o=n[s],u=o.transform,c=e.data.field(o.field);r.set(o.field,dN(u,c,t[s]))}return r}function W5(n,e,t){const r=new Map;for(const s of n){const o=s.transform,u=t.data.field(s.field);r.set(s.field,hN(o,u,e))}return r}class W1 extends vm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class yN extends vm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class bN{constructor(e,t,r,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const o=this.mutations[s];o.key.isEqual(e.key)&&gN(o,e,r[s])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Oh(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Oh(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=c4();return this.mutations.forEach((s=>{const o=e.get(s.key),u=o.overlayedDocument;let c=this.applyToLocalView(u,o.mutatedFields);c=t.has(s.key)?null:c;const h=g4(u,c);h!==null&&r.set(s.key,h),u.isValidDocument()||u.convertToNoDocument(hn.min())})),r}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),kn())}isEqual(e){return this.batchId===e.batchId&&Tf(this.mutations,e.mutations,((t,r)=>G5(t,r)))&&Tf(this.baseMutations,e.baseMutations,((t,r)=>G5(t,r)))}}class K1{constructor(e,t,r,s){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=s}static from(e,t,r){nr(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=(function(){return oN})();const o=e.mutations;for(let u=0;u<o.length;u++)s=s.insert(o[u].key,r[u].version);return new K1(e,t,r,s)}}class wN{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class _N{constructor(e,t){this.count=e,this.unchangedNames=t}}var gi,Un;function xN(n){switch(n){case nt.OK:return on(64938);case nt.CANCELLED:case nt.UNKNOWN:case nt.DEADLINE_EXCEEDED:case nt.RESOURCE_EXHAUSTED:case nt.INTERNAL:case nt.UNAVAILABLE:case nt.UNAUTHENTICATED:return!1;case nt.INVALID_ARGUMENT:case nt.NOT_FOUND:case nt.ALREADY_EXISTS:case nt.PERMISSION_DENIED:case nt.FAILED_PRECONDITION:case nt.ABORTED:case nt.OUT_OF_RANGE:case nt.UNIMPLEMENTED:case nt.DATA_LOSS:return!0;default:return on(15467,{code:n})}}function y4(n){if(n===void 0)return jl("GRPC error has no .code"),nt.UNKNOWN;switch(n){case gi.OK:return nt.OK;case gi.CANCELLED:return nt.CANCELLED;case gi.UNKNOWN:return nt.UNKNOWN;case gi.DEADLINE_EXCEEDED:return nt.DEADLINE_EXCEEDED;case gi.RESOURCE_EXHAUSTED:return nt.RESOURCE_EXHAUSTED;case gi.INTERNAL:return nt.INTERNAL;case gi.UNAVAILABLE:return nt.UNAVAILABLE;case gi.UNAUTHENTICATED:return nt.UNAUTHENTICATED;case gi.INVALID_ARGUMENT:return nt.INVALID_ARGUMENT;case gi.NOT_FOUND:return nt.NOT_FOUND;case gi.ALREADY_EXISTS:return nt.ALREADY_EXISTS;case gi.PERMISSION_DENIED:return nt.PERMISSION_DENIED;case gi.FAILED_PRECONDITION:return nt.FAILED_PRECONDITION;case gi.ABORTED:return nt.ABORTED;case gi.OUT_OF_RANGE:return nt.OUT_OF_RANGE;case gi.UNIMPLEMENTED:return nt.UNIMPLEMENTED;case gi.DATA_LOSS:return nt.DATA_LOSS;default:return on(39323,{code:n})}}(Un=gi||(gi={}))[Un.OK=0]="OK",Un[Un.CANCELLED=1]="CANCELLED",Un[Un.UNKNOWN=2]="UNKNOWN",Un[Un.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Un[Un.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Un[Un.NOT_FOUND=5]="NOT_FOUND",Un[Un.ALREADY_EXISTS=6]="ALREADY_EXISTS",Un[Un.PERMISSION_DENIED=7]="PERMISSION_DENIED",Un[Un.UNAUTHENTICATED=16]="UNAUTHENTICATED",Un[Un.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Un[Un.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Un[Un.ABORTED=10]="ABORTED",Un[Un.OUT_OF_RANGE=11]="OUT_OF_RANGE",Un[Un.UNIMPLEMENTED=12]="UNIMPLEMENTED",Un[Un.INTERNAL=13]="INTERNAL",Un[Un.UNAVAILABLE=14]="UNAVAILABLE",Un[Un.DATA_LOSS=15]="DATA_LOSS";function SN(){return new TextEncoder}const AN=new Su([4294967295,4294967295],0);function K5(n){const e=SN().encode(n),t=new M_;return t.update(e),new Uint8Array(t.digest())}function Q5(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Su([t,r],0),new Su([s,o],0)]}class Q1{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Dh(`Invalid padding: ${t}`);if(r<0)throw new Dh(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Dh(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Dh(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=Su.fromNumber(this.ge)}ye(e,t,r){let s=e.add(t.multiply(Su.fromNumber(r)));return s.compare(AN)===1&&(s=new Su([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=K5(e),[r,s]=Q5(t);for(let o=0;o<this.hashCount;o++){const u=this.ye(r,s,o);if(!this.we(u))return!1}return!0}static create(e,t,r){const s=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),u=new Q1(o,s,t);return r.forEach((c=>u.insert(c))),u}insert(e){if(this.ge===0)return;const t=K5(e),[r,s]=Q5(t);for(let o=0;o<this.hashCount;o++){const u=this.ye(r,s,o);this.Se(u)}}Se(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Dh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class ym{constructor(e,t,r,s,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const s=new Map;return s.set(e,sd.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new ym(hn.min(),s,new Hr(Mn),Vl(),kn())}}class sd{constructor(e,t,r,s,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new sd(r,t,kn(),kn(),kn())}}class Dp{constructor(e,t,r,s){this.be=e,this.removedTargetIds=t,this.key=r,this.De=s}}class b4{constructor(e,t){this.targetId=e,this.Ce=t}}class w4{constructor(e,t,r=sa.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=s}}class X5{constructor(){this.ve=0,this.Fe=J5(),this.Me=sa.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=kn(),t=kn(),r=kn();return this.Fe.forEach(((s,o)=>{switch(o){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:r=r.add(s);break;default:on(38017,{changeType:o})}})),new sd(this.Me,this.xe,e,t,r)}qe(){this.Oe=!1,this.Fe=J5()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,nr(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class EN{constructor(e){this.Ge=e,this.ze=new Map,this.je=Vl(),this.Je=lp(),this.He=lp(),this.Ye=new Hr(Mn)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const r=this.nt(t);switch(e.state){case 0:this.rt(t)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),r.Le(e.resumeToken));break;default:on(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((r,s)=>{this.rt(s)&&t(s)}))}st(e){const t=e.targetId,r=e.Ce.count,s=this.ot(t);if(s){const o=s.target;if(t1(o))if(r===0){const u=new Zt(o.path);this.et(t,u,xa.newNoDocument(u,hn.min()))}else nr(r===1,20013,{expectedCount:r});else{const u=this._t(t);if(u!==r){const c=this.ut(e),h=c?this.ct(c,e,u):1;if(h!==0){this.it(t);const d=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,d)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:o=0}=t;let u,c;try{u=Cu(r).toUint8Array()}catch(h){if(h instanceof $_)return Ef("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{c=new Q1(u,s,o)}catch(h){return Ef(h instanceof Dh?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return c.ge===0?null:c}ct(e,t,r){return t.Ce.count===r-this.Pt(e,t.targetId)?0:2}Pt(e,t){const r=this.Ge.getRemoteKeysForTarget(t);let s=0;return r.forEach((o=>{const u=this.Ge.ht(),c=`projects/${u.projectId}/databases/${u.database}/documents/${o.path.canonicalString()}`;e.mightContain(c)||(this.et(t,o,null),s++)})),s}Tt(e){const t=new Map;this.ze.forEach(((o,u)=>{const c=this.ot(u);if(c){if(o.current&&t1(c.target)){const h=new Zt(c.target.path);this.It(h).has(u)||this.Et(u,h)||this.et(u,h,xa.newNoDocument(h,e))}o.Be&&(t.set(u,o.ke()),o.qe())}}));let r=kn();this.He.forEach(((o,u)=>{let c=!0;u.forEachWhile((h=>{const d=this.ot(h);return!d||d.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)})),c&&(r=r.add(o))})),this.je.forEach(((o,u)=>u.setReadTime(e)));const s=new ym(e,t,this.Ye,this.je,r);return this.je=Vl(),this.Je=lp(),this.He=lp(),this.Ye=new Hr(Mn),s}Xe(e,t){if(!this.rt(e))return;const r=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,r),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,t)?s.Qe(t,1):s.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),r&&(this.je=this.je.insert(t,r))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new X5,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new Li(Mn),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new Li(Mn),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||Nt("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new X5),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function lp(){return new Hr(Zt.comparator)}function J5(){return new Hr(Zt.comparator)}const TN={asc:"ASCENDING",desc:"DESCENDING"},NN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},CN={and:"AND",or:"OR"};class DN{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function r1(n,e){return n.useProto3Json||hm(e)?e:{value:e}}function Yp(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function _4(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function RN(n,e){return Yp(n,e.toTimestamp())}function Xo(n){return nr(!!n,49232),hn.fromTimestamp((function(t){const r=Nu(t);return new Cr(r.seconds,r.nanos)})(n))}function X1(n,e){return i1(n,e).canonicalString()}function i1(n,e){const t=(function(s){return new xr(["projects",s.projectId,"databases",s.database])})(n).child("documents");return e===void 0?t:t.child(e)}function x4(n){const e=xr.fromString(n);return nr(N4(e),10190,{key:e.toString()}),e}function a1(n,e){return X1(n.databaseId,e.path)}function n0(n,e){const t=x4(e);if(t.get(1)!==n.databaseId.projectId)throw new wt(nt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new wt(nt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Zt(A4(t))}function S4(n,e){return X1(n.databaseId,e)}function IN(n){const e=x4(n);return e.length===4?xr.emptyPath():A4(e)}function s1(n){return new xr(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function A4(n){return nr(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function Z5(n,e,t){return{name:a1(n,e),fields:t.value.mapValue.fields}}function LN(n,e){let t;if("targetChange"in e){e.targetChange;const r=(function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:on(39313,{state:d})})(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],o=(function(d,g){return d.useProto3Json?(nr(g===void 0||typeof g=="string",58123),sa.fromBase64String(g||"")):(nr(g===void 0||g instanceof Buffer||g instanceof Uint8Array,16193),sa.fromUint8Array(g||new Uint8Array))})(n,e.targetChange.resumeToken),u=e.targetChange.cause,c=u&&(function(d){const g=d.code===void 0?nt.UNKNOWN:y4(d.code);return new wt(g,d.message||"")})(u);t=new w4(r,s,o,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=n0(n,r.document.name),o=Xo(r.document.updateTime),u=r.document.createTime?Xo(r.document.createTime):hn.min(),c=new is({mapValue:{fields:r.document.fields}}),h=xa.newFoundDocument(s,o,u,c),d=r.targetIds||[],g=r.removedTargetIds||[];t=new Dp(d,g,h.key,h)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=n0(n,r.document),o=r.readTime?Xo(r.readTime):hn.min(),u=xa.newNoDocument(s,o),c=r.removedTargetIds||[];t=new Dp([],c,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=n0(n,r.document),o=r.removedTargetIds||[];t=new Dp([],o,s,null)}else{if(!("filter"in e))return on(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:o}=r,u=new _N(s,o),c=r.targetId;t=new b4(c,u)}}return t}function MN(n,e){let t;if(e instanceof ad)t={update:Z5(n,e.key,e.value)};else if(e instanceof W1)t={delete:a1(n,e.key)};else if(e instanceof Pu)t={update:Z5(n,e.key,e.data),updateMask:zN(e.fieldMask)};else{if(!(e instanceof yN))return on(16599,{Vt:e.type});t={verify:a1(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((r=>(function(o,u){const c=u.transform;if(c instanceof $p)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Kh)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Qh)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Gp)return{fieldPath:u.field.canonicalString(),increment:c.Ae};throw on(20930,{transform:u.transform})})(0,r)))),e.precondition.isNone||(t.currentDocument=(function(s,o){return o.updateTime!==void 0?{updateTime:RN(s,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:on(27497)})(n,e.precondition)),t}function kN(n,e){return n&&n.length>0?(nr(e!==void 0,14353),n.map((t=>(function(s,o){let u=s.updateTime?Xo(s.updateTime):Xo(o);return u.isEqual(hn.min())&&(u=Xo(o)),new mN(u,s.transformResults||[])})(t,e)))):[]}function ON(n,e){return{documents:[S4(n,e.path)]}}function PN(n,e){const t={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=S4(n,s);const o=(function(d){if(d.length!==0)return T4(vo.create(d,"and"))})(e.filters);o&&(t.structuredQuery.where=o);const u=(function(d){if(d.length!==0)return d.map((g=>(function(S){return{field:uf(S.field),direction:VN(S.dir)}})(g)))})(e.orderBy);u&&(t.structuredQuery.orderBy=u);const c=r1(n,e.limit);return c!==null&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt=(function(d){return{before:d.inclusive,values:d.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(d){return{before:!d.inclusive,values:d.position}})(e.endAt)),{ft:t,parent:s}}function jN(n){let e=IN(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let s=null;if(r>0){nr(r===1,65062);const g=t.from[0];g.allDescendants?s=g.collectionId:e=e.child(g.collectionId)}let o=[];t.where&&(o=(function(_){const S=E4(_);return S instanceof vo&&t4(S)?S.getFilters():[S]})(t.where));let u=[];t.orderBy&&(u=(function(_){return _.map((S=>(function(T){return new Wh(cf(T.field),(function(j){switch(j){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(T.direction))})(S)))})(t.orderBy));let c=null;t.limit&&(c=(function(_){let S;return S=typeof _=="object"?_.value:_,hm(S)?null:S})(t.limit));let h=null;t.startAt&&(h=(function(_){const S=!!_.before,w=_.values||[];return new qp(w,S)})(t.startAt));let d=null;return t.endAt&&(d=(function(_){const S=!_.before,w=_.values||[];return new qp(w,S)})(t.endAt)),nN(e,s,u,o,c,"F",h,d)}function FN(n,e){const t=(function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return on(28987,{purpose:s})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function E4(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=cf(t.unaryFilter.field);return yi.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=cf(t.unaryFilter.field);return yi.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=cf(t.unaryFilter.field);return yi.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=cf(t.unaryFilter.field);return yi.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return on(61313);default:return on(60726)}})(n):n.fieldFilter!==void 0?(function(t){return yi.create(cf(t.fieldFilter.field),(function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return on(58110);default:return on(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return vo.create(t.compositeFilter.filters.map((r=>E4(r))),(function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return on(1026)}})(t.compositeFilter.op))})(n):on(30097,{filter:n})}function VN(n){return TN[n]}function BN(n){return NN[n]}function UN(n){return CN[n]}function uf(n){return{fieldPath:n.canonicalString()}}function cf(n){return aa.fromServerFormat(n.fieldPath)}function T4(n){return n instanceof yi?(function(t){if(t.op==="=="){if(B5(t.value))return{unaryFilter:{field:uf(t.field),op:"IS_NAN"}};if(V5(t.value))return{unaryFilter:{field:uf(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(B5(t.value))return{unaryFilter:{field:uf(t.field),op:"IS_NOT_NAN"}};if(V5(t.value))return{unaryFilter:{field:uf(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:uf(t.field),op:BN(t.op),value:t.value}}})(n):n instanceof vo?(function(t){const r=t.getFilters().map((s=>T4(s)));return r.length===1?r[0]:{compositeFilter:{op:UN(t.op),filters:r}}})(n):on(54877,{filter:n})}function zN(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function N4(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}class bu{constructor(e,t,r,s,o=hn.min(),u=hn.min(),c=sa.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=c,this.expectedCount=h}withSequenceNumber(e){return new bu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new bu(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new bu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new bu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class qN{constructor(e){this.yt=e}}function HN(n){const e=jN({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Hp(e,e.limit,"L"):e}class $N{constructor(){this.Cn=new GN}addToCollectionParentIndex(e,t){return this.Cn.add(t),ot.resolve()}getCollectionParents(e,t){return ot.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return ot.resolve()}deleteFieldIndex(e,t){return ot.resolve()}deleteAllFieldIndexes(e){return ot.resolve()}createTargetIndexes(e,t){return ot.resolve()}getDocumentsMatchingTarget(e,t){return ot.resolve(null)}getIndexType(e,t){return ot.resolve(0)}getFieldIndexes(e,t){return ot.resolve([])}getNextCollectionGroupToUpdate(e){return ot.resolve(null)}getMinOffset(e,t){return ot.resolve(Tu.min())}getMinOffsetFromCollectionGroup(e,t){return ot.resolve(Tu.min())}updateCollectionGroup(e,t,r){return ot.resolve()}updateIndexEntries(e,t){return ot.resolve()}}class GN{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t]||new Li(xr.comparator),o=!s.has(r);return this.index[t]=s.add(r),o}has(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Li(xr.comparator)).toArray()}}const eb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},C4=41943040;class ns{static withCacheSize(e){return new ns(e,ns.DEFAULT_COLLECTION_PERCENTILE,ns.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}ns.DEFAULT_COLLECTION_PERCENTILE=10,ns.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ns.DEFAULT=new ns(C4,ns.DEFAULT_COLLECTION_PERCENTILE,ns.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ns.DISABLED=new ns(-1,0,0);class Df{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Df(0)}static cr(){return new Df(-1)}}const tb="LruGarbageCollector",YN=1048576;function nb([n,e],[t,r]){const s=Mn(n,t);return s===0?Mn(e,r):s}class WN{constructor(e){this.Ir=e,this.buffer=new Li(nb),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();nb(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class KN{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Nt(tb,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Pf(t)?Nt(tb,"Ignoring IndexedDB error during garbage collection: ",t):await Of(t)}await this.Vr(3e5)}))}}class QN{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((r=>Math.floor(t/100*r)))}nthSequenceNumber(e,t){if(t===0)return ot.resolve(fm.ce);const r=new WN(t);return this.mr.forEachTarget(e,(s=>r.Ar(s.sequenceNumber))).next((()=>this.mr.pr(e,(s=>r.Ar(s))))).next((()=>r.maxValue))}removeTargets(e,t,r){return this.mr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Nt("LruGarbageCollector","Garbage collection skipped; disabled"),ot.resolve(eb)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(Nt("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),eb):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let r,s,o,u,c,h,d;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((_=>(_>this.params.maximumSequenceNumbersToCollect?(Nt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),s=this.params.maximumSequenceNumbersToCollect):s=_,u=Date.now(),this.nthSequenceNumber(e,s)))).next((_=>(r=_,c=Date.now(),this.removeTargets(e,r,t)))).next((_=>(o=_,h=Date.now(),this.removeOrphanedDocuments(e,r)))).next((_=>(d=Date.now(),of()<=zn.DEBUG&&Nt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-g}ms
	Determined least recently used ${s} in `+(c-u)+`ms
	Removed ${o} targets in `+(h-c)+`ms
	Removed ${_} documents in `+(d-h)+`ms
Total Duration: ${d-g}ms`),ot.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:o,documentsRemoved:_}))))}}function XN(n,e){return new QN(n,e)}class JN{constructor(){this.changes=new yc((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,xa.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?ot.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class ZN{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class eC{constructor(e,t,r,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next((s=>(r=s,this.remoteDocumentCache.getEntry(e,t)))).next((s=>(r!==null&&Oh(r.mutation,s,_s.empty(),Cr.now()),s)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.getLocalViewOfDocuments(e,r,kn()).next((()=>r))))}getLocalViewOfDocuments(e,t,r=kn()){const s=lc();return this.populateOverlays(e,s,t).next((()=>this.computeViews(e,t,s,r).next((o=>{let u=Ch();return o.forEach(((c,h)=>{u=u.insert(c,h.overlayedDocument)})),u}))))}getOverlayedDocuments(e,t){const r=lc();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,kn())))}populateOverlays(e,t,r){const s=[];return r.forEach((o=>{t.has(o)||s.push(o)})),this.documentOverlayCache.getOverlays(e,s).next((o=>{o.forEach(((u,c)=>{t.set(u,c)}))}))}computeViews(e,t,r,s){let o=Vl();const u=kh(),c=(function(){return kh()})();return t.forEach(((h,d)=>{const g=r.get(d.key);s.has(d.key)&&(g===void 0||g.mutation instanceof Pu)?o=o.insert(d.key,d):g!==void 0?(u.set(d.key,g.mutation.getFieldMask()),Oh(g.mutation,d,g.mutation.getFieldMask(),Cr.now())):u.set(d.key,_s.empty())})),this.recalculateAndSaveOverlays(e,o).next((h=>(h.forEach(((d,g)=>u.set(d,g))),t.forEach(((d,g)=>c.set(d,new ZN(g,u.get(d)??null)))),c)))}recalculateAndSaveOverlays(e,t){const r=kh();let s=new Hr(((u,c)=>u-c)),o=kn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((u=>{for(const c of u)c.keys().forEach((h=>{const d=t.get(h);if(d===null)return;let g=r.get(h)||_s.empty();g=c.applyToLocalView(d,g),r.set(h,g);const _=(s.get(c.batchId)||kn()).add(h);s=s.insert(c.batchId,_)}))})).next((()=>{const u=[],c=s.getReverseIterator();for(;c.hasNext();){const h=c.getNext(),d=h.key,g=h.value,_=c4();g.forEach((S=>{if(!o.has(S)){const w=g4(t.get(S),r.get(S));w!==null&&_.set(S,w),o=o.add(S)}})),u.push(this.documentOverlayCache.saveOverlays(e,d,_))}return ot.waitFor(u)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,t,r,s){return(function(u){return Zt.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):a4(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,s):this.getDocumentsMatchingCollectionQuery(e,t,r,s)}getNextDocuments(e,t,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,s).next((o=>{const u=s-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,s-o.size):ot.resolve(lc());let c=Hh,h=o;return u.next((d=>ot.forEach(d,((g,_)=>(c<_.largestBatchId&&(c=_.largestBatchId),o.get(g)?ot.resolve():this.remoteDocumentCache.getEntry(e,g).next((S=>{h=h.insert(g,S)}))))).next((()=>this.populateOverlays(e,d,o))).next((()=>this.computeViews(e,h,d,kn()))).next((g=>({batchId:c,changes:u4(g)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Zt(t)).next((r=>{let s=Ch();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s}))}getDocumentsMatchingCollectionGroupQuery(e,t,r,s){const o=t.collectionGroup;let u=Ch();return this.indexManager.getCollectionParents(e,o).next((c=>ot.forEach(c,(h=>{const d=(function(_,S){return new jf(S,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)})(t,h.child(o));return this.getDocumentsMatchingCollectionQuery(e,d,r,s).next((g=>{g.forEach(((_,S)=>{u=u.insert(_,S)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,t,r,s){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next((u=>(o=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,s)))).next((u=>{o.forEach(((h,d)=>{const g=d.getKey();u.get(g)===null&&(u=u.insert(g,xa.newInvalidDocument(g)))}));let c=Ch();return u.forEach(((h,d)=>{const g=o.get(h);g!==void 0&&Oh(g.mutation,d,_s.empty(),Cr.now()),mm(t,d)&&(c=c.insert(h,d))})),c}))}}class tC{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return ot.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(s){return{id:s.id,version:s.version,createTime:Xo(s.createTime)}})(t)),ot.resolve()}getNamedQuery(e,t){return ot.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(s){return{name:s.name,query:HN(s.bundledQuery),readTime:Xo(s.readTime)}})(t)),ot.resolve()}}class nC{constructor(){this.overlays=new Hr(Zt.comparator),this.qr=new Map}getOverlay(e,t){return ot.resolve(this.overlays.get(t))}getOverlays(e,t){const r=lc();return ot.forEach(t,(s=>this.getOverlay(e,s).next((o=>{o!==null&&r.set(s,o)})))).next((()=>r))}saveOverlays(e,t,r){return r.forEach(((s,o)=>{this.St(e,t,o)})),ot.resolve()}removeOverlaysForBatchId(e,t,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach((o=>this.overlays=this.overlays.remove(o))),this.qr.delete(r)),ot.resolve()}getOverlaysForCollection(e,t,r){const s=lc(),o=t.length+1,u=new Zt(t.child("")),c=this.overlays.getIteratorFrom(u);for(;c.hasNext();){const h=c.getNext().value,d=h.getKey();if(!t.isPrefixOf(d.path))break;d.path.length===o&&h.largestBatchId>r&&s.set(h.getKey(),h)}return ot.resolve(s)}getOverlaysForCollectionGroup(e,t,r,s){let o=new Hr(((d,g)=>d-g));const u=this.overlays.getIterator();for(;u.hasNext();){const d=u.getNext().value;if(d.getKey().getCollectionGroup()===t&&d.largestBatchId>r){let g=o.get(d.largestBatchId);g===null&&(g=lc(),o=o.insert(d.largestBatchId,g)),g.set(d.getKey(),d)}}const c=lc(),h=o.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach(((d,g)=>c.set(d,g))),!(c.size()>=s)););return ot.resolve(c)}St(e,t,r){const s=this.overlays.get(r.key);if(s!==null){const u=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new wN(t,r));let o=this.qr.get(t);o===void 0&&(o=kn(),this.qr.set(t,o)),this.qr.set(t,o.add(r.key))}}class rC{constructor(){this.sessionToken=sa.EMPTY_BYTE_STRING}getSessionToken(e){return ot.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ot.resolve()}}class J1{constructor(){this.Qr=new Li(qi.$r),this.Ur=new Li(qi.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const r=new qi(e,t);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,t){e.forEach((r=>this.addReference(r,t)))}removeReference(e,t){this.Gr(new qi(e,t))}zr(e,t){e.forEach((r=>this.removeReference(r,t)))}jr(e){const t=new Zt(new xr([])),r=new qi(t,e),s=new qi(t,e+1),o=[];return this.Ur.forEachInRange([r,s],(u=>{this.Gr(u),o.push(u.key)})),o}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new Zt(new xr([])),r=new qi(t,e),s=new qi(t,e+1);let o=kn();return this.Ur.forEachInRange([r,s],(u=>{o=o.add(u.key)})),o}containsKey(e){const t=new qi(e,0),r=this.Qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class qi{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return Zt.comparator(e.key,t.key)||Mn(e.Yr,t.Yr)}static Kr(e,t){return Mn(e.Yr,t.Yr)||Zt.comparator(e.key,t.key)}}class iC{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new Li(qi.$r)}checkEmpty(e){return ot.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,s){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new bN(o,t,r,s);this.mutationQueue.push(u);for(const c of s)this.Zr=this.Zr.add(new qi(c.key,o)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return ot.resolve(u)}lookupMutationBatch(e,t){return ot.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,s=this.ei(r),o=s<0?0:s;return ot.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return ot.resolve(this.mutationQueue.length===0?U1:this.tr-1)}getAllMutationBatches(e){return ot.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new qi(t,0),s=new qi(t,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([r,s],(u=>{const c=this.Xr(u.Yr);o.push(c)})),ot.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Li(Mn);return t.forEach((s=>{const o=new qi(s,0),u=new qi(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,u],(c=>{r=r.add(c.Yr)}))})),ot.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,s=r.length+1;let o=r;Zt.isDocumentKey(o)||(o=o.child(""));const u=new qi(new Zt(o),0);let c=new Li(Mn);return this.Zr.forEachWhile((h=>{const d=h.key.path;return!!r.isPrefixOf(d)&&(d.length===s&&(c=c.add(h.Yr)),!0)}),u),ot.resolve(this.ti(c))}ti(e){const t=[];return e.forEach((r=>{const s=this.Xr(r);s!==null&&t.push(s)})),t}removeMutationBatch(e,t){nr(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return ot.forEach(t.mutations,(s=>{const o=new qi(s.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,t){const r=new qi(t,0),s=this.Zr.firstAfterOrEqual(r);return ot.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,ot.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class aC{constructor(e){this.ri=e,this.docs=(function(){return new Hr(Zt.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,s=this.docs.get(r),o=s?s.size:0,u=this.ri(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:u}),this.size+=u-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return ot.resolve(r?r.document.mutableCopy():xa.newInvalidDocument(t))}getEntries(e,t){let r=Vl();return t.forEach((s=>{const o=this.docs.get(s);r=r.insert(s,o?o.document.mutableCopy():xa.newInvalidDocument(s))})),ot.resolve(r)}getDocumentsMatchingQuery(e,t,r,s){let o=Vl();const u=t.path,c=new Zt(u.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(c);for(;h.hasNext();){const{key:d,value:{document:g}}=h.getNext();if(!u.isPrefixOf(d.path))break;d.path.length>u.length+1||kT(MT(g),r)<=0||(s.has(g.key)||mm(t,g))&&(o=o.insert(g.key,g.mutableCopy()))}return ot.resolve(o)}getAllFromCollectionGroup(e,t,r,s){on(9500)}ii(e,t){return ot.forEach(this.docs,(r=>t(r)))}newChangeBuffer(e){return new sC(this)}getSize(e){return ot.resolve(this.size)}}class sC extends JN{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((r,s)=>{s.isValidDocument()?t.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)})),ot.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}class oC{constructor(e){this.persistence=e,this.si=new yc((t=>H1(t)),$1),this.lastRemoteSnapshotVersion=hn.min(),this.highestTargetId=0,this.oi=0,this._i=new J1,this.targetCount=0,this.ai=Df.ur()}forEachTarget(e,t){return this.si.forEach(((r,s)=>t(s))),ot.resolve()}getLastRemoteSnapshotVersion(e){return ot.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ot.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ot.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.oi&&(this.oi=t),ot.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new Df(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,ot.resolve()}updateTargetData(e,t){return this.Pr(t),ot.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,ot.resolve()}removeTargets(e,t,r){let s=0;const o=[];return this.si.forEach(((u,c)=>{c.sequenceNumber<=t&&r.get(c.targetId)===null&&(this.si.delete(u),o.push(this.removeMatchingKeysForTargetId(e,c.targetId)),s++)})),ot.waitFor(o).next((()=>s))}getTargetCount(e){return ot.resolve(this.targetCount)}getTargetData(e,t){const r=this.si.get(t)||null;return ot.resolve(r)}addMatchingKeys(e,t,r){return this._i.Wr(t,r),ot.resolve()}removeMatchingKeys(e,t,r){this._i.zr(t,r);const s=this.persistence.referenceDelegate,o=[];return s&&t.forEach((u=>{o.push(s.markPotentiallyOrphaned(e,u))})),ot.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),ot.resolve()}getMatchingKeysForTargetId(e,t){const r=this._i.Hr(t);return ot.resolve(r)}containsKey(e,t){return ot.resolve(this._i.containsKey(t))}}class D4{constructor(e,t){this.ui={},this.overlays={},this.ci=new fm(0),this.li=!1,this.li=!0,this.hi=new rC,this.referenceDelegate=e(this),this.Pi=new oC(this),this.indexManager=new $N,this.remoteDocumentCache=(function(s){return new aC(s)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new qN(t),this.Ii=new tC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new nC,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ui[e.toKey()];return r||(r=new iC(t,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,r){Nt("MemoryPersistence","Starting transaction:",e);const s=new lC(this.ci.next());return this.referenceDelegate.Ei(),r(s).next((o=>this.referenceDelegate.di(s).next((()=>o)))).toPromise().then((o=>(s.raiseOnCommittedEvent(),o)))}Ai(e,t){return ot.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,t))))}}class lC extends PT{constructor(e){super(),this.currentSequenceNumber=e}}class Z1{constructor(e){this.persistence=e,this.Ri=new J1,this.Vi=null}static mi(e){return new Z1(e)}get fi(){if(this.Vi)return this.Vi;throw on(60996)}addReference(e,t,r){return this.Ri.addReference(r,t),this.fi.delete(r.toString()),ot.resolve()}removeReference(e,t,r){return this.Ri.removeReference(r,t),this.fi.add(r.toString()),ot.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),ot.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((s=>this.fi.add(s.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((s=>{s.forEach((o=>this.fi.add(o.toString())))})).next((()=>r.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ot.forEach(this.fi,(r=>{const s=Zt.fromPath(r);return this.gi(e,s).next((o=>{o||t.removeEntry(s,hn.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((r=>{r?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return ot.or([()=>ot.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class Wp{constructor(e,t){this.persistence=e,this.pi=new yc((r=>VT(r.path)),((r,s)=>r.isEqual(s))),this.garbageCollector=XN(this,t)}static mi(e,t){return new Wp(e,t)}Ei(){}di(e){return ot.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>t.next((s=>r+s))))}wr(e){let t=0;return this.pr(e,(r=>{t++})).next((()=>t))}pr(e,t){return ot.forEach(this.pi,((r,s)=>this.br(e,r,s).next((o=>o?ot.resolve():t(s)))))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const s=this.persistence.getRemoteDocumentCache(),o=s.newChangeBuffer();return s.ii(e,(u=>this.br(e,u,t).next((c=>{c||(r++,o.removeEntry(u,hn.min()))})))).next((()=>o.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),ot.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),ot.resolve()}removeReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),ot.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),ot.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Tp(e.data.value)),t}br(e,t,r){return ot.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const s=this.pi.get(t);return ot.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class e2{constructor(e,t,r,s){this.targetId=e,this.fromCache=t,this.Es=r,this.ds=s}static As(e,t){let r=kn(),s=kn();for(const o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:s=s.add(o.doc.key)}return new e2(e,t.fromCache,r,s)}}class uC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class cC{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return eE()?8:jT(X6())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,r,s){const o={result:null};return this.ys(e,t).next((u=>{o.result=u})).next((()=>{if(!o.result)return this.ws(e,t,s,r).next((u=>{o.result=u}))})).next((()=>{if(o.result)return;const u=new uC;return this.Ss(e,t,u).next((c=>{if(o.result=c,this.Vs)return this.bs(e,t,u,c.size)}))})).next((()=>o.result))}bs(e,t,r,s){return r.documentReadCount<this.fs?(of()<=zn.DEBUG&&Nt("QueryEngine","SDK will not create cache indexes for query:",lf(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ot.resolve()):(of()<=zn.DEBUG&&Nt("QueryEngine","Query:",lf(t),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(of()<=zn.DEBUG&&Nt("QueryEngine","The SDK decides to create cache indexes for query:",lf(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Qo(t))):ot.resolve())}ys(e,t){if(H5(t))return ot.resolve(null);let r=Qo(t);return this.indexManager.getIndexType(e,r).next((s=>s===0?null:(t.limit!==null&&s===1&&(t=Hp(t,null,"F"),r=Qo(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next((o=>{const u=kn(...o);return this.ps.getDocuments(e,u).next((c=>this.indexManager.getMinOffset(e,r).next((h=>{const d=this.Ds(t,c);return this.Cs(t,d,u,h.readTime)?this.ys(e,Hp(t,null,"F")):this.vs(e,d,t,h)}))))})))))}ws(e,t,r,s){return H5(t)||s.isEqual(hn.min())?ot.resolve(null):this.ps.getDocuments(e,r).next((o=>{const u=this.Ds(t,o);return this.Cs(t,u,r,s)?ot.resolve(null):(of()<=zn.DEBUG&&Nt("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),lf(t)),this.vs(e,u,t,LT(s,Hh)).next((c=>c)))}))}Ds(e,t){let r=new Li(o4(e));return t.forEach(((s,o)=>{mm(e,o)&&(r=r.add(o))})),r}Cs(e,t,r,s){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(s)>0)}Ss(e,t,r){return of()<=zn.DEBUG&&Nt("QueryEngine","Using full collection scan to execute query:",lf(t)),this.ps.getDocumentsMatchingQuery(e,t,Tu.min(),r)}vs(e,t,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next((o=>(t.forEach((u=>{o=o.insert(u.key,u)})),o)))}}const t2="LocalStore",fC=3e8;class hC{constructor(e,t,r,s){this.persistence=e,this.Fs=t,this.serializer=s,this.Ms=new Hr(Mn),this.xs=new yc((o=>H1(o)),$1),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new eC(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function dC(n,e,t,r){return new hC(n,e,t,r)}async function R4(n,e){const t=gn(n);return await t.persistence.runTransaction("Handle user change","readonly",(r=>{let s;return t.mutationQueue.getAllMutationBatches(r).next((o=>(s=o,t.Bs(e),t.mutationQueue.getAllMutationBatches(r)))).next((o=>{const u=[],c=[];let h=kn();for(const d of s){u.push(d.batchId);for(const g of d.mutations)h=h.add(g.key)}for(const d of o){c.push(d.batchId);for(const g of d.mutations)h=h.add(g.key)}return t.localDocuments.getDocuments(r,h).next((d=>({Ls:d,removedBatchIds:u,addedBatchIds:c})))}))}))}function pC(n,e){const t=gn(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const s=e.batch.keys(),o=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(c,h,d,g){const _=d.batch,S=_.keys();let w=ot.resolve();return S.forEach((T=>{w=w.next((()=>g.getEntry(h,T))).next((M=>{const j=d.docVersions.get(T);nr(j!==null,48541),M.version.compareTo(j)<0&&(_.applyToRemoteDocument(M,d),M.isValidDocument()&&(M.setReadTime(d.commitVersion),g.addEntry(M)))}))})),w.next((()=>c.mutationQueue.removeMutationBatch(h,_)))})(t,r,e,o).next((()=>o.apply(r))).next((()=>t.mutationQueue.performConsistencyCheck(r))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(c){let h=kn();for(let d=0;d<c.mutationResults.length;++d)c.mutationResults[d].transformResults.length>0&&(h=h.add(c.batch.mutations[d].key));return h})(e)))).next((()=>t.localDocuments.getDocuments(r,s)))}))}function I4(n){const e=gn(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function mC(n,e){const t=gn(n),r=e.snapshotVersion;let s=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const u=t.Ns.newChangeBuffer({trackRemovals:!0});s=t.Ms;const c=[];e.targetChanges.forEach(((g,_)=>{const S=s.get(_);if(!S)return;c.push(t.Pi.removeMatchingKeys(o,g.removedDocuments,_).next((()=>t.Pi.addMatchingKeys(o,g.addedDocuments,_))));let w=S.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(_)!==null?w=w.withResumeToken(sa.EMPTY_BYTE_STRING,hn.min()).withLastLimboFreeSnapshotVersion(hn.min()):g.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(g.resumeToken,r)),s=s.insert(_,w),(function(M,j,D){return M.resumeToken.approximateByteSize()===0||j.snapshotVersion.toMicroseconds()-M.snapshotVersion.toMicroseconds()>=fC?!0:D.addedDocuments.size+D.modifiedDocuments.size+D.removedDocuments.size>0})(S,w,g)&&c.push(t.Pi.updateTargetData(o,w))}));let h=Vl(),d=kn();if(e.documentUpdates.forEach((g=>{e.resolvedLimboDocuments.has(g)&&c.push(t.persistence.referenceDelegate.updateLimboDocument(o,g))})),c.push(gC(o,u,e.documentUpdates).next((g=>{h=g.ks,d=g.qs}))),!r.isEqual(hn.min())){const g=t.Pi.getLastRemoteSnapshotVersion(o).next((_=>t.Pi.setTargetsMetadata(o,o.currentSequenceNumber,r)));c.push(g)}return ot.waitFor(c).next((()=>u.apply(o))).next((()=>t.localDocuments.getLocalViewOfDocuments(o,h,d))).next((()=>h))})).then((o=>(t.Ms=s,o)))}function gC(n,e,t){let r=kn(),s=kn();return t.forEach((o=>r=r.add(o))),e.getEntries(n,r).next((o=>{let u=Vl();return t.forEach(((c,h)=>{const d=o.get(c);h.isFoundDocument()!==d.isFoundDocument()&&(s=s.add(c)),h.isNoDocument()&&h.version.isEqual(hn.min())?(e.removeEntry(c,h.readTime),u=u.insert(c,h)):!d.isValidDocument()||h.version.compareTo(d.version)>0||h.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(h),u=u.insert(c,h)):Nt(t2,"Ignoring outdated watch update for ",c,". Current version:",d.version," Watch version:",h.version)})),{ks:u,qs:s}}))}function vC(n,e){const t=gn(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=U1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function yC(n,e){const t=gn(n);return t.persistence.runTransaction("Allocate target","readwrite",(r=>{let s;return t.Pi.getTargetData(r,e).next((o=>o?(s=o,ot.resolve(s)):t.Pi.allocateTargetId(r).next((u=>(s=new bu(e,u,"TargetPurposeListen",r.currentSequenceNumber),t.Pi.addTargetData(r,s).next((()=>s)))))))})).then((r=>{const s=t.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(r.targetId,r),t.xs.set(e,r.targetId)),r}))}async function o1(n,e,t){const r=gn(n),s=r.Ms.get(e),o=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",o,(u=>r.persistence.referenceDelegate.removeTarget(u,s)))}catch(u){if(!Pf(u))throw u;Nt(t2,`Failed to update sequence numbers for target ${e}: ${u}`)}r.Ms=r.Ms.remove(e),r.xs.delete(s.target)}function rb(n,e,t){const r=gn(n);let s=hn.min(),o=kn();return r.persistence.runTransaction("Execute query","readwrite",(u=>(function(h,d,g){const _=gn(h),S=_.xs.get(g);return S!==void 0?ot.resolve(_.Ms.get(S)):_.Pi.getTargetData(d,g)})(r,u,Qo(e)).next((c=>{if(c)return s=c.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(u,c.targetId).next((h=>{o=h}))})).next((()=>r.Fs.getDocumentsMatchingQuery(u,e,t?s:hn.min(),t?o:kn()))).next((c=>(bC(r,iN(e),c),{documents:c,Qs:o})))))}function bC(n,e,t){let r=n.Os.get(e)||hn.min();t.forEach(((s,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)})),n.Os.set(e,r)}class ib{constructor(){this.activeTargetIds=cN()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class wC{constructor(){this.Mo=new ib,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,r){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new ib,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class _C{Oo(e){}shutdown(){}}const ab="ConnectivityMonitor";class sb{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Nt(ab,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Nt(ab,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let up=null;function l1(){return up===null?up=(function(){return 268435456+Math.round(2147483648*Math.random())})():up++,"0x"+up.toString(16)}const r0="RestConnection",xC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class SC{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===Up?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,t,r,s,o){const u=l1(),c=this.zo(e,t.toUriEncodedString());Nt(r0,`Sending RPC '${e}' ${u}:`,c,r);const h={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(h,s,o);const{host:d}=new URL(c),g=P1(d);return this.Jo(e,c,h,r,g).then((_=>(Nt(r0,`Received RPC '${e}' ${u}: `,_),_)),(_=>{throw Ef(r0,`RPC '${e}' ${u} failed with error: `,_,"url: ",c,"request:",r),_}))}Ho(e,t,r,s,o,u){return this.Go(e,t,r,s,o)}jo(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+kf})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((s,o)=>e[o]=s)),r&&r.headers.forEach(((s,o)=>e[o]=s))}zo(e,t){const r=xC[e];return`${this.Uo}/v1/${t}:${r}`}terminate(){}}class AC{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const pa="WebChannelConnection";class EC extends SC{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,r,s,o){const u=l1();return new Promise(((c,h)=>{const d=new k_;d.setWithCredentials(!0),d.listenOnce(O_.COMPLETE,(()=>{try{switch(d.getLastErrorCode()){case Ep.NO_ERROR:const _=d.getResponseJson();Nt(pa,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(_)),c(_);break;case Ep.TIMEOUT:Nt(pa,`RPC '${e}' ${u} timed out`),h(new wt(nt.DEADLINE_EXCEEDED,"Request time out"));break;case Ep.HTTP_ERROR:const S=d.getStatus();if(Nt(pa,`RPC '${e}' ${u} failed with status:`,S,"response text:",d.getResponseText()),S>0){let w=d.getResponseJson();Array.isArray(w)&&(w=w[0]);const T=w?.error;if(T&&T.status&&T.message){const M=(function(D){const Q=D.toLowerCase().replace(/_/g,"-");return Object.values(nt).indexOf(Q)>=0?Q:nt.UNKNOWN})(T.status);h(new wt(M,T.message))}else h(new wt(nt.UNKNOWN,"Server responded with status "+d.getStatus()))}else h(new wt(nt.UNAVAILABLE,"Connection failed."));break;default:on(9055,{l_:e,streamId:u,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{Nt(pa,`RPC '${e}' ${u} completed.`)}}));const g=JSON.stringify(s);Nt(pa,`RPC '${e}' ${u} sending request:`,s),d.send(t,"POST",g,r,15)}))}T_(e,t,r){const s=l1(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=F_(),c=j_(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(h.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(h.useFetchStreams=!0),this.jo(h.initMessageHeaders,t,r),h.encodeInitMessageHeaders=!0;const g=o.join("");Nt(pa,`Creating RPC '${e}' stream ${s}: ${g}`,h);const _=u.createWebChannel(g,h);this.I_(_);let S=!1,w=!1;const T=new AC({Yo:j=>{w?Nt(pa,`Not sending because RPC '${e}' stream ${s} is closed:`,j):(S||(Nt(pa,`Opening RPC '${e}' stream ${s} transport.`),_.open(),S=!0),Nt(pa,`RPC '${e}' stream ${s} sending:`,j),_.send(j))},Zo:()=>_.close()}),M=(j,D,Q)=>{j.listen(D,(W=>{try{Q(W)}catch(re){setTimeout((()=>{throw re}),0)}}))};return M(_,Nh.EventType.OPEN,(()=>{w||(Nt(pa,`RPC '${e}' stream ${s} transport opened.`),T.o_())})),M(_,Nh.EventType.CLOSE,(()=>{w||(w=!0,Nt(pa,`RPC '${e}' stream ${s} transport closed`),T.a_(),this.E_(_))})),M(_,Nh.EventType.ERROR,(j=>{w||(w=!0,Ef(pa,`RPC '${e}' stream ${s} transport errored. Name:`,j.name,"Message:",j.message),T.a_(new wt(nt.UNAVAILABLE,"The operation could not be completed")))})),M(_,Nh.EventType.MESSAGE,(j=>{if(!w){const D=j.data[0];nr(!!D,16349);const Q=D,W=Q?.error||Q[0]?.error;if(W){Nt(pa,`RPC '${e}' stream ${s} received error:`,W);const re=W.status;let ye=(function(V){const L=gi[V];if(L!==void 0)return y4(L)})(re),_e=W.message;ye===void 0&&(ye=nt.INTERNAL,_e="Unknown error status: "+re+" with message "+W.message),w=!0,T.a_(new wt(ye,_e)),_.close()}else Nt(pa,`RPC '${e}' stream ${s} received:`,D),T.u_(D)}})),M(c,P_.STAT_EVENT,(j=>{j.stat===Q0.PROXY?Nt(pa,`RPC '${e}' stream ${s} detected buffering proxy`):j.stat===Q0.NOPROXY&&Nt(pa,`RPC '${e}' stream ${s} detected no buffering proxy`)})),setTimeout((()=>{T.__()}),0),T}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function i0(){return typeof document<"u"?document:null}function bm(n){return new DN(n,!0)}class L4{constructor(e,t,r=1e3,s=1.5,o=6e4){this.Mi=e,this.timerId=t,this.d_=r,this.A_=s,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,t-r);s>0&&Nt("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const ob="PersistentStream";class M4{constructor(e,t,r,s,o,u,c,h){this.Mi=e,this.S_=r,this.b_=s,this.connection=o,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=c,this.listener=h,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new L4(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===nt.RESOURCE_EXHAUSTED?(jl(t.toString()),jl("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===nt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,s])=>{this.D_===t&&this.G_(r,s)}),(r=>{e((()=>{const s=new wt(nt.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)}))}))}G_(e,t){const r=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((s=>{r((()=>this.z_(s)))})),this.stream.onMessage((s=>{r((()=>++this.F_==1?this.J_(s):this.onNext(s)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Nt(ob,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(Nt(ob,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class TC extends M4{constructor(e,t,r,s,o,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,s,u),this.serializer=o}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=LN(this.serializer,e),r=(function(o){if(!("targetChange"in o))return hn.min();const u=o.targetChange;return u.targetIds&&u.targetIds.length?hn.min():u.readTime?Xo(u.readTime):hn.min()})(e);return this.listener.H_(t,r)}Y_(e){const t={};t.database=s1(this.serializer),t.addTarget=(function(o,u){let c;const h=u.target;if(c=t1(h)?{documents:ON(o,h)}:{query:PN(o,h).ft},c.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){c.resumeToken=_4(o,u.resumeToken);const d=r1(o,u.expectedCount);d!==null&&(c.expectedCount=d)}else if(u.snapshotVersion.compareTo(hn.min())>0){c.readTime=Yp(o,u.snapshotVersion.toTimestamp());const d=r1(o,u.expectedCount);d!==null&&(c.expectedCount=d)}return c})(this.serializer,e);const r=FN(this.serializer,e);r&&(t.labels=r),this.q_(t)}Z_(e){const t={};t.database=s1(this.serializer),t.removeTarget=e,this.q_(t)}}class NC extends M4{constructor(e,t,r,s,o,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,s,u),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return nr(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,nr(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){nr(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=kN(e.writeResults,e.commitTime),r=Xo(e.commitTime);return this.listener.na(r,t)}ra(){const e={};e.database=s1(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((r=>MN(this.serializer,r)))};this.q_(t)}}class CC{}class DC extends CC{constructor(e,t,r,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new wt(nt.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,u])=>this.connection.Go(e,i1(t,r),s,o,u))).catch((o=>{throw o.name==="FirebaseError"?(o.code===nt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new wt(nt.UNKNOWN,o.toString())}))}Ho(e,t,r,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,c])=>this.connection.Ho(e,i1(t,r),s,u,c,o))).catch((u=>{throw u.name==="FirebaseError"?(u.code===nt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new wt(nt.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class RC{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(jl(t),this.aa=!1):Nt("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const dc="RemoteStore";class IC{constructor(e,t,r,s,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo((u=>{r.enqueueAndForget((async()=>{bc(this)&&(Nt(dc,"Restarting streams for network reachability change."),await(async function(h){const d=gn(h);d.Ea.add(4),await od(d),d.Ra.set("Unknown"),d.Ea.delete(4),await wm(d)})(this))}))})),this.Ra=new RC(r,s)}}async function wm(n){if(bc(n))for(const e of n.da)await e(!0)}async function od(n){for(const e of n.da)await e(!1)}function k4(n,e){const t=gn(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),a2(t)?i2(t):Ff(t).O_()&&r2(t,e))}function n2(n,e){const t=gn(n),r=Ff(t);t.Ia.delete(e),r.O_()&&O4(t,e),t.Ia.size===0&&(r.O_()?r.L_():bc(t)&&t.Ra.set("Unknown"))}function r2(n,e){if(n.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(hn.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Ff(n).Y_(e)}function O4(n,e){n.Va.Ue(e),Ff(n).Z_(e)}function i2(n){n.Va=new EN({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),Ff(n).start(),n.Ra.ua()}function a2(n){return bc(n)&&!Ff(n).x_()&&n.Ia.size>0}function bc(n){return gn(n).Ea.size===0}function P4(n){n.Va=void 0}async function LC(n){n.Ra.set("Online")}async function MC(n){n.Ia.forEach(((e,t)=>{r2(n,e)}))}async function kC(n,e){P4(n),a2(n)?(n.Ra.ha(e),i2(n)):n.Ra.set("Unknown")}async function OC(n,e,t){if(n.Ra.set("Online"),e instanceof w4&&e.state===2&&e.cause)try{await(async function(s,o){const u=o.cause;for(const c of o.targetIds)s.Ia.has(c)&&(await s.remoteSyncer.rejectListen(c,u),s.Ia.delete(c),s.Va.removeTarget(c))})(n,e)}catch(r){Nt(dc,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Kp(n,r)}else if(e instanceof Dp?n.Va.Ze(e):e instanceof b4?n.Va.st(e):n.Va.tt(e),!t.isEqual(hn.min()))try{const r=await I4(n.localStore);t.compareTo(r)>=0&&await(function(o,u){const c=o.Va.Tt(u);return c.targetChanges.forEach(((h,d)=>{if(h.resumeToken.approximateByteSize()>0){const g=o.Ia.get(d);g&&o.Ia.set(d,g.withResumeToken(h.resumeToken,u))}})),c.targetMismatches.forEach(((h,d)=>{const g=o.Ia.get(h);if(!g)return;o.Ia.set(h,g.withResumeToken(sa.EMPTY_BYTE_STRING,g.snapshotVersion)),O4(o,h);const _=new bu(g.target,h,d,g.sequenceNumber);r2(o,_)})),o.remoteSyncer.applyRemoteEvent(c)})(n,t)}catch(r){Nt(dc,"Failed to raise snapshot:",r),await Kp(n,r)}}async function Kp(n,e,t){if(!Pf(e))throw e;n.Ea.add(1),await od(n),n.Ra.set("Offline"),t||(t=()=>I4(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{Nt(dc,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await wm(n)}))}function j4(n,e){return e().catch((t=>Kp(n,t,e)))}async function _m(n){const e=gn(n),t=Ru(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:U1;for(;PC(e);)try{const s=await vC(e.localStore,r);if(s===null){e.Ta.length===0&&t.L_();break}r=s.batchId,jC(e,s)}catch(s){await Kp(e,s)}F4(e)&&V4(e)}function PC(n){return bc(n)&&n.Ta.length<10}function jC(n,e){n.Ta.push(e);const t=Ru(n);t.O_()&&t.X_&&t.ea(e.mutations)}function F4(n){return bc(n)&&!Ru(n).x_()&&n.Ta.length>0}function V4(n){Ru(n).start()}async function FC(n){Ru(n).ra()}async function VC(n){const e=Ru(n);for(const t of n.Ta)e.ea(t.mutations)}async function BC(n,e,t){const r=n.Ta.shift(),s=K1.from(r,e,t);await j4(n,(()=>n.remoteSyncer.applySuccessfulWrite(s))),await _m(n)}async function UC(n,e){e&&Ru(n).X_&&await(async function(r,s){if((function(u){return xN(u)&&u!==nt.ABORTED})(s.code)){const o=r.Ta.shift();Ru(r).B_(),await j4(r,(()=>r.remoteSyncer.rejectFailedWrite(o.batchId,s))),await _m(r)}})(n,e),F4(n)&&V4(n)}async function lb(n,e){const t=gn(n);t.asyncQueue.verifyOperationInProgress(),Nt(dc,"RemoteStore received new credentials");const r=bc(t);t.Ea.add(3),await od(t),r&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await wm(t)}async function zC(n,e){const t=gn(n);e?(t.Ea.delete(2),await wm(t)):e||(t.Ea.add(2),await od(t),t.Ra.set("Unknown"))}function Ff(n){return n.ma||(n.ma=(function(t,r,s){const o=gn(t);return o.sa(),new TC(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)})(n.datastore,n.asyncQueue,{Xo:LC.bind(null,n),t_:MC.bind(null,n),r_:kC.bind(null,n),H_:OC.bind(null,n)}),n.da.push((async e=>{e?(n.ma.B_(),a2(n)?i2(n):n.Ra.set("Unknown")):(await n.ma.stop(),P4(n))}))),n.ma}function Ru(n){return n.fa||(n.fa=(function(t,r,s){const o=gn(t);return o.sa(),new NC(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:FC.bind(null,n),r_:UC.bind(null,n),ta:VC.bind(null,n),na:BC.bind(null,n)}),n.da.push((async e=>{e?(n.fa.B_(),await _m(n)):(await n.fa.stop(),n.Ta.length>0&&(Nt(dc,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}class s2{constructor(e,t,r,s,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=s,this.removalCallback=o,this.deferred=new Ml,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,s,o){const u=Date.now()+r,c=new s2(e,t,u,s,o);return c.start(r),c}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new wt(nt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function o2(n,e){if(jl("AsyncQueue",`${e}: ${n}`),Pf(n))return new wt(nt.UNAVAILABLE,`${e}: ${n}`);throw n}class mf{static emptySet(e){return new mf(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||Zt.comparator(t.key,r.key):(t,r)=>Zt.comparator(t.key,r.key),this.keyedMap=Ch(),this.sortedSet=new Hr(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,r)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof mf)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,o=r.getNext().key;if(!s.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new mf;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class ub{constructor(){this.ga=new Hr(Zt.comparator)}track(e){const t=e.doc.key,r=this.ga.get(t);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(t,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(t):e.type===1&&r.type===2?this.ga=this.ga.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):on(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,r)=>{e.push(r)})),e}}class Rf{constructor(e,t,r,s,o,u,c,h,d){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=o,this.fromCache=u,this.syncStateChanged=c,this.excludesMetadataChanges=h,this.hasCachedResults=d}static fromInitialDocuments(e,t,r,s,o){const u=[];return t.forEach((c=>{u.push({type:0,doc:c})})),new Rf(e,t,mf.emptySet(t),u,r,s,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&pm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==r[s].type||!t[s].doc.isEqual(r[s].doc))return!1;return!0}}class qC{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class HC{constructor(){this.queries=cb(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){const s=gn(t),o=s.queries;s.queries=cb(),o.forEach(((u,c)=>{for(const h of c.Sa)h.onError(r)}))})(this,new wt(nt.ABORTED,"Firestore shutting down"))}}function cb(){return new yc((n=>s4(n)),pm)}async function B4(n,e){const t=gn(n);let r=3;const s=e.query;let o=t.queries.get(s);o?!o.ba()&&e.Da()&&(r=2):(o=new qC,r=e.Da()?0:1);try{switch(r){case 0:o.wa=await t.onListen(s,!0);break;case 1:o.wa=await t.onListen(s,!1);break;case 2:await t.onFirstRemoteStoreListen(s)}}catch(u){const c=o2(u,`Initialization of query '${lf(e.query)}' failed`);return void e.onError(c)}t.queries.set(s,o),o.Sa.push(e),e.va(t.onlineState),o.wa&&e.Fa(o.wa)&&l2(t)}async function U4(n,e){const t=gn(n),r=e.query;let s=3;const o=t.queries.get(r);if(o){const u=o.Sa.indexOf(e);u>=0&&(o.Sa.splice(u,1),o.Sa.length===0?s=e.Da()?0:1:!o.ba()&&e.Da()&&(s=2))}switch(s){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function $C(n,e){const t=gn(n);let r=!1;for(const s of e){const o=s.query,u=t.queries.get(o);if(u){for(const c of u.Sa)c.Fa(s)&&(r=!0);u.wa=s}}r&&l2(t)}function GC(n,e,t){const r=gn(n),s=r.queries.get(e);if(s)for(const o of s.Sa)o.onError(t);r.queries.delete(e)}function l2(n){n.Ca.forEach((e=>{e.next()}))}var u1,fb;(fb=u1||(u1={})).Ma="default",fb.Cache="cache";class z4{constructor(e,t,r){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Rf(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const r=t!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=Rf.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==u1.Cache}}class q4{constructor(e){this.key=e}}class H4{constructor(e){this.key=e}}class YC{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=kn(),this.mutatedKeys=kn(),this.eu=o4(e),this.tu=new mf(this.eu)}get nu(){return this.Ya}ru(e,t){const r=t?t.iu:new ub,s=t?t.tu:this.tu;let o=t?t.mutatedKeys:this.mutatedKeys,u=s,c=!1;const h=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,d=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal(((g,_)=>{const S=s.get(g),w=mm(this.query,_)?_:null,T=!!S&&this.mutatedKeys.has(S.key),M=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let j=!1;S&&w?S.data.isEqual(w.data)?T!==M&&(r.track({type:3,doc:w}),j=!0):this.su(S,w)||(r.track({type:2,doc:w}),j=!0,(h&&this.eu(w,h)>0||d&&this.eu(w,d)<0)&&(c=!0)):!S&&w?(r.track({type:0,doc:w}),j=!0):S&&!w&&(r.track({type:1,doc:S}),j=!0,(h||d)&&(c=!0)),j&&(w?(u=u.add(w),o=M?o.add(g):o.delete(g)):(u=u.delete(g),o=o.delete(g)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const g=this.query.limitType==="F"?u.last():u.first();u=u.delete(g.key),o=o.delete(g.key),r.track({type:1,doc:g})}return{tu:u,iu:r,Cs:c,mutatedKeys:o}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,s){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((g,_)=>(function(w,T){const M=j=>{switch(j){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return on(20277,{Rt:j})}};return M(w)-M(T)})(g.type,_.type)||this.eu(g.doc,_.doc))),this.ou(r),s=s??!1;const c=t&&!s?this._u():[],h=this.Xa.size===0&&this.current&&!s?1:0,d=h!==this.Za;return this.Za=h,u.length!==0||d?{snapshot:new Rf(this.query,e.tu,o,u,e.mutatedKeys,h===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:c}:{au:c}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new ub,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=kn(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const t=[];return e.forEach((r=>{this.Xa.has(r)||t.push(new H4(r))})),this.Xa.forEach((r=>{e.has(r)||t.push(new q4(r))})),t}cu(e){this.Ya=e.Qs,this.Xa=kn();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Rf.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const u2="SyncEngine";class WC{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class KC{constructor(e){this.key=e,this.hu=!1}}class QC{constructor(e,t,r,s,o,u){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=s,this.currentUser=o,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new yc((c=>s4(c)),pm),this.Iu=new Map,this.Eu=new Set,this.du=new Hr(Zt.comparator),this.Au=new Map,this.Ru=new J1,this.Vu={},this.mu=new Map,this.fu=Df.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function XC(n,e,t=!0){const r=Q4(n);let s;const o=r.Tu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),s=o.view.lu()):s=await $4(r,e,t,!0),s}async function JC(n,e){const t=Q4(n);await $4(t,e,!0,!1)}async function $4(n,e,t,r){const s=await yC(n.localStore,Qo(e)),o=s.targetId,u=n.sharedClientState.addLocalQueryTarget(o,t);let c;return r&&(c=await ZC(n,e,o,u==="current",s.resumeToken)),n.isPrimaryClient&&t&&k4(n.remoteStore,s),c}async function ZC(n,e,t,r,s){n.pu=(_,S,w)=>(async function(M,j,D,Q){let W=j.view.ru(D);W.Cs&&(W=await rb(M.localStore,j.query,!1).then((({documents:z})=>j.view.ru(z,W))));const re=Q&&Q.targetChanges.get(j.targetId),ye=Q&&Q.targetMismatches.get(j.targetId)!=null,_e=j.view.applyChanges(W,M.isPrimaryClient,re,ye);return db(M,j.targetId,_e.au),_e.snapshot})(n,_,S,w);const o=await rb(n.localStore,e,!0),u=new YC(e,o.Qs),c=u.ru(o.documents),h=sd.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",s),d=u.applyChanges(c,n.isPrimaryClient,h);db(n,t,d.au);const g=new WC(e,t,u);return n.Tu.set(e,g),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),d.snapshot}async function e8(n,e,t){const r=gn(n),s=r.Tu.get(e),o=r.Iu.get(s.targetId);if(o.length>1)return r.Iu.set(s.targetId,o.filter((u=>!pm(u,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await o1(r.localStore,s.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(s.targetId),t&&n2(r.remoteStore,s.targetId),c1(r,s.targetId)})).catch(Of)):(c1(r,s.targetId),await o1(r.localStore,s.targetId,!0))}async function t8(n,e){const t=gn(n),r=t.Tu.get(e),s=t.Iu.get(r.targetId);t.isPrimaryClient&&s.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),n2(t.remoteStore,r.targetId))}async function n8(n,e,t){const r=u8(n);try{const s=await(function(u,c){const h=gn(u),d=Cr.now(),g=c.reduce(((w,T)=>w.add(T.key)),kn());let _,S;return h.persistence.runTransaction("Locally write mutations","readwrite",(w=>{let T=Vl(),M=kn();return h.Ns.getEntries(w,g).next((j=>{T=j,T.forEach(((D,Q)=>{Q.isValidDocument()||(M=M.add(D))}))})).next((()=>h.localDocuments.getOverlayedDocuments(w,T))).next((j=>{_=j;const D=[];for(const Q of c){const W=vN(Q,_.get(Q.key).overlayedDocument);W!=null&&D.push(new Pu(Q.key,W,J_(W.value.mapValue),go.exists(!0)))}return h.mutationQueue.addMutationBatch(w,d,D,c)})).next((j=>{S=j;const D=j.applyToLocalDocumentSet(_,M);return h.documentOverlayCache.saveOverlays(w,j.batchId,D)}))})).then((()=>({batchId:S.batchId,changes:u4(_)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),(function(u,c,h){let d=u.Vu[u.currentUser.toKey()];d||(d=new Hr(Mn)),d=d.insert(c,h),u.Vu[u.currentUser.toKey()]=d})(r,s.batchId,t),await ld(r,s.changes),await _m(r.remoteStore)}catch(s){const o=o2(s,"Failed to persist write");t.reject(o)}}async function G4(n,e){const t=gn(n);try{const r=await mC(t.localStore,e);e.targetChanges.forEach(((s,o)=>{const u=t.Au.get(o);u&&(nr(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?u.hu=!0:s.modifiedDocuments.size>0?nr(u.hu,14607):s.removedDocuments.size>0&&(nr(u.hu,42227),u.hu=!1))})),await ld(t,r,e)}catch(r){await Of(r)}}function hb(n,e,t){const r=gn(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const s=[];r.Tu.forEach(((o,u)=>{const c=u.view.va(e);c.snapshot&&s.push(c.snapshot)})),(function(u,c){const h=gn(u);h.onlineState=c;let d=!1;h.queries.forEach(((g,_)=>{for(const S of _.Sa)S.va(c)&&(d=!0)})),d&&l2(h)})(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function r8(n,e,t){const r=gn(n);r.sharedClientState.updateQueryState(e,"rejected",t);const s=r.Au.get(e),o=s&&s.key;if(o){let u=new Hr(Zt.comparator);u=u.insert(o,xa.newNoDocument(o,hn.min()));const c=kn().add(o),h=new ym(hn.min(),new Map,new Hr(Mn),u,c);await G4(r,h),r.du=r.du.remove(o),r.Au.delete(e),c2(r)}else await o1(r.localStore,e,!1).then((()=>c1(r,e,t))).catch(Of)}async function i8(n,e){const t=gn(n),r=e.batch.batchId;try{const s=await pC(t.localStore,e);W4(t,r,null),Y4(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await ld(t,s)}catch(s){await Of(s)}}async function a8(n,e,t){const r=gn(n);try{const s=await(function(u,c){const h=gn(u);return h.persistence.runTransaction("Reject batch","readwrite-primary",(d=>{let g;return h.mutationQueue.lookupMutationBatch(d,c).next((_=>(nr(_!==null,37113),g=_.keys(),h.mutationQueue.removeMutationBatch(d,_)))).next((()=>h.mutationQueue.performConsistencyCheck(d))).next((()=>h.documentOverlayCache.removeOverlaysForBatchId(d,g,c))).next((()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,g))).next((()=>h.localDocuments.getDocuments(d,g)))}))})(r.localStore,e);W4(r,e,t),Y4(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await ld(r,s)}catch(s){await Of(s)}}function Y4(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function W4(n,e,t){const r=gn(n);let s=r.Vu[r.currentUser.toKey()];if(s){const o=s.get(e);o&&(t?o.reject(t):o.resolve(),s=s.remove(e)),r.Vu[r.currentUser.toKey()]=s}}function c1(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Iu.get(e))n.Tu.delete(r),t&&n.Pu.yu(r,t);n.Iu.delete(e),n.isPrimaryClient&&n.Ru.jr(e).forEach((r=>{n.Ru.containsKey(r)||K4(n,r)}))}function K4(n,e){n.Eu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(n2(n.remoteStore,t),n.du=n.du.remove(e),n.Au.delete(t),c2(n))}function db(n,e,t){for(const r of t)r instanceof q4?(n.Ru.addReference(r.key,e),s8(n,r)):r instanceof H4?(Nt(u2,"Document no longer in limbo: "+r.key),n.Ru.removeReference(r.key,e),n.Ru.containsKey(r.key)||K4(n,r.key)):on(19791,{wu:r})}function s8(n,e){const t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Eu.has(r)||(Nt(u2,"New document in limbo: "+t),n.Eu.add(r),c2(n))}function c2(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new Zt(xr.fromString(e)),r=n.fu.next();n.Au.set(r,new KC(t)),n.du=n.du.insert(t,r),k4(n.remoteStore,new bu(Qo(G1(t.path)),r,"TargetPurposeLimboResolution",fm.ce))}}async function ld(n,e,t){const r=gn(n),s=[],o=[],u=[];r.Tu.isEmpty()||(r.Tu.forEach(((c,h)=>{u.push(r.pu(h,e,t).then((d=>{if((d||t)&&r.isPrimaryClient){const g=d?!d.fromCache:t?.targetChanges.get(h.targetId)?.current;r.sharedClientState.updateQueryState(h.targetId,g?"current":"not-current")}if(d){s.push(d);const g=e2.As(h.targetId,d);o.push(g)}})))})),await Promise.all(u),r.Pu.H_(s),await(async function(h,d){const g=gn(h);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",(_=>ot.forEach(d,(S=>ot.forEach(S.Es,(w=>g.persistence.referenceDelegate.addReference(_,S.targetId,w))).next((()=>ot.forEach(S.ds,(w=>g.persistence.referenceDelegate.removeReference(_,S.targetId,w)))))))))}catch(_){if(!Pf(_))throw _;Nt(t2,"Failed to update sequence numbers: "+_)}for(const _ of d){const S=_.targetId;if(!_.fromCache){const w=g.Ms.get(S),T=w.snapshotVersion,M=w.withLastLimboFreeSnapshotVersion(T);g.Ms=g.Ms.insert(S,M)}}})(r.localStore,o))}async function o8(n,e){const t=gn(n);if(!t.currentUser.isEqual(e)){Nt(u2,"User change. New user:",e.toKey());const r=await R4(t.localStore,e);t.currentUser=e,(function(o,u){o.mu.forEach((c=>{c.forEach((h=>{h.reject(new wt(nt.CANCELLED,u))}))})),o.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await ld(t,r.Ls)}}function l8(n,e){const t=gn(n),r=t.Au.get(e);if(r&&r.hu)return kn().add(r.key);{let s=kn();const o=t.Iu.get(e);if(!o)return s;for(const u of o){const c=t.Tu.get(u);s=s.unionWith(c.view.nu)}return s}}function Q4(n){const e=gn(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=G4.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=l8.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=r8.bind(null,e),e.Pu.H_=$C.bind(null,e.eventManager),e.Pu.yu=GC.bind(null,e.eventManager),e}function u8(n){const e=gn(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=i8.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=a8.bind(null,e),e}class Qp{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=bm(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return dC(this.persistence,new cC,e.initialUser,this.serializer)}Cu(e){return new D4(Z1.mi,this.serializer)}Du(e){return new wC}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Qp.provider={build:()=>new Qp};class c8 extends Qp{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){nr(this.persistence.referenceDelegate instanceof Wp,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new KN(r,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?ns.withCacheSize(this.cacheSizeBytes):ns.DEFAULT;return new D4((r=>Wp.mi(r,t)),this.serializer)}}class f1{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>hb(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=o8.bind(null,this.syncEngine),await zC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new HC})()}createDatastore(e){const t=bm(e.databaseInfo.databaseId),r=(function(o){return new EC(o)})(e.databaseInfo);return(function(o,u,c,h){return new DC(o,u,c,h)})(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return(function(r,s,o,u,c){return new IC(r,s,o,u,c)})(this.localStore,this.datastore,e.asyncQueue,(t=>hb(this.syncEngine,t,0)),(function(){return sb.v()?new sb:new _C})())}createSyncEngine(e,t){return(function(s,o,u,c,h,d,g){const _=new QC(s,o,u,c,h,d);return g&&(_.gu=!0),_})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const r=gn(t);Nt(dc,"RemoteStore shutting down."),r.Ea.add(5),await od(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}f1.provider={build:()=>new f1};class X4{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):jl("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}const Iu="FirestoreClient";class f8{constructor(e,t,r,s,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=s,this.user=wa.UNAUTHENTICATED,this.clientId=B1.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,(async u=>{Nt(Iu,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(r,(u=>(Nt(Iu,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ml;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=o2(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function a0(n,e){n.asyncQueue.verifyOperationInProgress(),Nt(Iu,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener((async s=>{r.isEqual(s)||(await R4(e.localStore,s),r=s)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function pb(n,e){n.asyncQueue.verifyOperationInProgress();const t=await h8(n);Nt(Iu,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((r=>lb(e.remoteStore,r))),n.setAppCheckTokenChangeListener(((r,s)=>lb(e.remoteStore,s))),n._onlineComponents=e}async function h8(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Nt(Iu,"Using user provided OfflineComponentProvider");try{await a0(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(s){return s.name==="FirebaseError"?s.code===nt.FAILED_PRECONDITION||s.code===nt.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11})(t))throw t;Ef("Error using user provided cache. Falling back to memory cache: "+t),await a0(n,new Qp)}}else Nt(Iu,"Using default OfflineComponentProvider"),await a0(n,new c8(void 0));return n._offlineComponents}async function J4(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Nt(Iu,"Using user provided OnlineComponentProvider"),await pb(n,n._uninitializedComponentsProvider._online)):(Nt(Iu,"Using default OnlineComponentProvider"),await pb(n,new f1))),n._onlineComponents}function d8(n){return J4(n).then((e=>e.syncEngine))}async function Z4(n){const e=await J4(n),t=e.eventManager;return t.onListen=XC.bind(null,e.syncEngine),t.onUnlisten=e8.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=JC.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=t8.bind(null,e.syncEngine),t}function p8(n,e,t={}){const r=new Ml;return n.asyncQueue.enqueueAndForget((async()=>(function(o,u,c,h,d){const g=new X4({next:S=>{g.Nu(),u.enqueueAndForget((()=>U4(o,_)));const w=S.docs.has(c);!w&&S.fromCache?d.reject(new wt(nt.UNAVAILABLE,"Failed to get document because the client is offline.")):w&&S.fromCache&&h&&h.source==="server"?d.reject(new wt(nt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(S)},error:S=>d.reject(S)}),_=new z4(G1(c.path),g,{includeMetadataChanges:!0,qa:!0});return B4(o,_)})(await Z4(n),n.asyncQueue,e,t,r))),r.promise}function m8(n,e,t={}){const r=new Ml;return n.asyncQueue.enqueueAndForget((async()=>(function(o,u,c,h,d){const g=new X4({next:S=>{g.Nu(),u.enqueueAndForget((()=>U4(o,_))),S.fromCache&&h.source==="server"?d.reject(new wt(nt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(S)},error:S=>d.reject(S)}),_=new z4(c,g,{includeMetadataChanges:!0,qa:!0});return B4(o,_)})(await Z4(n),n.asyncQueue,e,t,r))),r.promise}function e3(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}const mb=new Map;const t3="firestore.googleapis.com",gb=!0;class vb{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new wt(nt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=t3,this.ssl=gb}else this.host=e.host,this.ssl=e.ssl??gb;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=C4;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<YN)throw new wt(nt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}RT("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=e3(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new wt(nt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new wt(nt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new wt(nt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,s){return r.timeoutSeconds===s.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class xm{constructor(e,t,r,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new vb({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new wt(nt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new wt(nt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new vb(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new wT;switch(r.type){case"firstParty":return new AT(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new wt(nt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const r=mb.get(t);r&&(Nt("ComponentProvider","Removing Datastore"),mb.delete(t),r.terminate())})(this),Promise.resolve()}}function g8(n,e,t,r={}){n=Fl(n,xm);const s=P1(e),o=n._getSettings(),u={...o,emulatorOptions:n._getEmulatorOptions()},c=`${e}:${t}`;s&&(G6(`https://${c}`),Q6("Firestore",!0)),o.host!==t3&&o.host!==c&&Ef("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h={...o,host:c,ssl:s,emulatorOptions:r};if(!zh(h,u)&&(n._setSettings(h),r.mockUserToken)){let d,g;if(typeof r.mockUserToken=="string")d=r.mockUserToken,g=wa.MOCK_USER;else{d=Y6(r.mockUserToken,n._app?.options.projectId);const _=r.mockUserToken.sub||r.mockUserToken.user_id;if(!_)throw new wt(nt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new wa(_)}n._authCredentials=new _T(new B_(d,g))}}class ju{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ju(this.firestore,e,this._query)}}class wi{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Au(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new wi(this.firestore,e,this._key)}toJSON(){return{type:wi._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(id(t,wi._jsonSchema))return new wi(e,r||null,new Zt(xr.fromString(t.referencePath)))}}wi._jsonSchemaVersion="firestore/documentReference/1.0",wi._jsonSchema={type:bi("string",wi._jsonSchemaVersion),referencePath:bi("string")};class Au extends ju{constructor(e,t,r){super(e,t,G1(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new wi(this.firestore,null,new Zt(e))}withConverter(e){return new Au(this.firestore,e,this._path)}}function Go(n,e,...t){if(n=$s(n),U_("collection","path",e),n instanceof xm){const r=xr.fromString(e,...t);return R5(r),new Au(n,null,r)}{if(!(n instanceof wi||n instanceof Au))throw new wt(nt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(xr.fromString(e,...t));return R5(r),new Au(n.firestore,null,r)}}function nc(n,e,...t){if(n=$s(n),arguments.length===1&&(e=B1.newId()),U_("doc","path",e),n instanceof xm){const r=xr.fromString(e,...t);return D5(r),new wi(n,null,new Zt(r))}{if(!(n instanceof wi||n instanceof Au))throw new wt(nt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(xr.fromString(e,...t));return D5(r),new wi(n.firestore,n instanceof Au?n.converter:null,new Zt(r))}}const yb="AsyncQueue";class bb{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new L4(this,"async_queue_retry"),this._c=()=>{const r=i0();r&&Nt(yb,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const t=i0();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=i0();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new Ml;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Pf(e))throw e;Nt(yb,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,jl("INTERNAL UNHANDLED ERROR: ",wb(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=t,t}enqueueAfterDelay(e,t,r){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const s=s2.createAndSchedule(this,e,t,r,(o=>this.hc(o)));return this.tc.push(s),s}uc(){this.nc&&on(47125,{Pc:wb(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,r)=>t.targetTimeMs-r.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function wb(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class Vf extends xm{constructor(e,t,r,s){super(e,t,r,s),this.type="firestore",this._queue=new bb,this._persistenceKey=s?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new bb(e),this._firestoreClient=void 0,await e}}}function v8(n,e){const t=typeof n=="object"?n:R_(),r=typeof n=="string"?n:Up,s=rd(t,"firestore").getImmediate({identifier:r});if(!s._initialized){const o=H6("firestore");o&&g8(s,...o)}return s}function f2(n){if(n._terminated)throw new wt(nt.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||y8(n),n._firestoreClient}function y8(n){const e=n._freezeSettings(),t=(function(s,o,u,c){return new zT(s,o,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,e3(c.experimentalLongPollingOptions),c.useFetchStreams,c.isUsingEmulator)})(n._databaseId,n._app?.options.appId||"",n._persistenceKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new f8(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(s){const o=s?._online.build();return{_offline:s?._offline.build(o),_online:o}})(n._componentsProvider))}class qs{constructor(e){this._byteString=e}static fromBase64String(e){try{return new qs(sa.fromBase64String(e))}catch(t){throw new wt(nt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new qs(sa.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:qs._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(id(e,qs._jsonSchema))return qs.fromBase64String(e.bytes)}}qs._jsonSchemaVersion="firestore/bytes/1.0",qs._jsonSchema={type:bi("string",qs._jsonSchemaVersion),bytes:bi("string")};class Sm{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new wt(nt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new aa(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class h2{constructor(e){this._methodName=e}}class Jo{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new wt(nt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new wt(nt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Mn(this._lat,e._lat)||Mn(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Jo._jsonSchemaVersion}}static fromJSON(e){if(id(e,Jo._jsonSchema))return new Jo(e.latitude,e.longitude)}}Jo._jsonSchemaVersion="firestore/geoPoint/1.0",Jo._jsonSchema={type:bi("string",Jo._jsonSchemaVersion),latitude:bi("number"),longitude:bi("number")};class Zo{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,s){if(r.length!==s.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==s[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Zo._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(id(e,Zo._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new Zo(e.vectorValues);throw new wt(nt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Zo._jsonSchemaVersion="firestore/vectorValue/1.0",Zo._jsonSchema={type:bi("string",Zo._jsonSchemaVersion),vectorValues:bi("object")};const b8=/^__.*__$/;class w8{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Pu(e,this.data,this.fieldMask,t,this.fieldTransforms):new ad(e,this.data,t,this.fieldTransforms)}}class n3{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Pu(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function r3(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw on(40011,{Ac:n})}}class d2{constructor(e,t,r,s,o,u){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=s,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new d2({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),r=this.Vc({path:t,fc:!1});return r.gc(e),r}yc(e){const t=this.path?.child(e),r=this.Vc({path:t,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Xp(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(r3(this.Ac)&&b8.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class _8{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||bm(e)}Cc(e,t,r,s=!1){return new d2({Ac:e,methodName:t,Dc:r,path:aa.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function p2(n){const e=n._freezeSettings(),t=bm(n._databaseId);return new _8(n._databaseId,!!e.ignoreUndefinedProperties,t)}function x8(n,e,t,r,s,o={}){const u=n.Cc(o.merge||o.mergeFields?2:0,e,t,s);m2("Data must be an object, but it was:",u,r);const c=i3(r,u);let h,d;if(o.merge)h=new _s(u.fieldMask),d=u.fieldTransforms;else if(o.mergeFields){const g=[];for(const _ of o.mergeFields){const S=h1(e,_,t);if(!u.contains(S))throw new wt(nt.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);s3(g,S)||g.push(S)}h=new _s(g),d=u.fieldTransforms.filter((_=>h.covers(_.field)))}else h=null,d=u.fieldTransforms;return new w8(new is(c),h,d)}class Am extends h2{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Am}}function S8(n,e,t,r){const s=n.Cc(1,e,t);m2("Data must be an object, but it was:",s,r);const o=[],u=is.empty();Ou(r,((h,d)=>{const g=g2(e,h,t);d=$s(d);const _=s.yc(g);if(d instanceof Am)o.push(g);else{const S=ud(d,_);S!=null&&(o.push(g),u.set(g,S))}}));const c=new _s(o);return new n3(u,c,s.fieldTransforms)}function A8(n,e,t,r,s,o){const u=n.Cc(1,e,t),c=[h1(e,r,t)],h=[s];if(o.length%2!=0)throw new wt(nt.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<o.length;S+=2)c.push(h1(e,o[S])),h.push(o[S+1]);const d=[],g=is.empty();for(let S=c.length-1;S>=0;--S)if(!s3(d,c[S])){const w=c[S];let T=h[S];T=$s(T);const M=u.yc(w);if(T instanceof Am)d.push(w);else{const j=ud(T,M);j!=null&&(d.push(w),g.set(w,j))}}const _=new _s(d);return new n3(g,_,u.fieldTransforms)}function E8(n,e,t,r=!1){return ud(t,n.Cc(r?4:3,e))}function ud(n,e){if(a3(n=$s(n)))return m2("Unsupported field value:",e,n),i3(n,e);if(n instanceof h2)return(function(r,s){if(!r3(s.Ac))throw s.Sc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(s);o&&s.fieldTransforms.push(o)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,s){const o=[];let u=0;for(const c of r){let h=ud(c,s.wc(u));h==null&&(h={nullValue:"NULL_VALUE"}),o.push(h),u++}return{arrayValue:{values:o}}})(n,e)}return(function(r,s){if((r=$s(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return fN(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=Cr.fromDate(r);return{timestampValue:Yp(s.serializer,o)}}if(r instanceof Cr){const o=new Cr(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Yp(s.serializer,o)}}if(r instanceof Jo)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof qs)return{bytesValue:_4(s.serializer,r._byteString)};if(r instanceof wi){const o=s.databaseId,u=r.firestore._databaseId;if(!u.isEqual(o))throw s.Sc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:X1(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof Zo)return(function(u,c){return{mapValue:{fields:{[Q_]:{stringValue:X_},[zp]:{arrayValue:{values:u.toArray().map((d=>{if(typeof d!="number")throw c.Sc("VectorValues must only contain numeric values.");return Y1(c.serializer,d)}))}}}}}})(r,s);throw s.Sc(`Unsupported field value: ${cm(r)}`)})(n,e)}function i3(n,e){const t={};return H_(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ou(n,((r,s)=>{const o=ud(s,e.mc(r));o!=null&&(t[r]=o)})),{mapValue:{fields:t}}}function a3(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Cr||n instanceof Jo||n instanceof qs||n instanceof wi||n instanceof h2||n instanceof Zo)}function m2(n,e,t){if(!a3(t)||!z_(t)){const r=cm(t);throw r==="an object"?e.Sc(n+" a custom object"):e.Sc(n+" "+r)}}function h1(n,e,t){if((e=$s(e))instanceof Sm)return e._internalPath;if(typeof e=="string")return g2(n,e);throw Xp("Field path arguments must be of type string or ",n,!1,void 0,t)}const T8=new RegExp("[~\\*/\\[\\]]");function g2(n,e,t){if(e.search(T8)>=0)throw Xp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Sm(...e.split("."))._internalPath}catch{throw Xp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Xp(n,e,t,r,s){const o=r&&!r.isEmpty(),u=s!==void 0;let c=`Function ${e}() called with invalid data`;t&&(c+=" (via `toFirestore()`)"),c+=". ";let h="";return(o||u)&&(h+=" (found",o&&(h+=` in field ${r}`),u&&(h+=` in document ${s}`),h+=")"),new wt(nt.INVALID_ARGUMENT,c+n+h)}function s3(n,e){return n.some((t=>t.isEqual(e)))}class o3{constructor(e,t,r,s,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=s,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new wi(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new N8(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Em("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class N8 extends o3{data(){return super.data()}}function Em(n,e){return typeof e=="string"?g2(n,e):e instanceof Sm?e._internalPath:e._delegate._internalPath}function C8(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new wt(nt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class v2{}class y2 extends v2{}function ic(n,e,...t){let r=[];e instanceof v2&&r.push(e),r=r.concat(t),(function(o){const u=o.filter((h=>h instanceof b2)).length,c=o.filter((h=>h instanceof Tm)).length;if(u>1||u>0&&c>0)throw new wt(nt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const s of r)n=s._apply(n);return n}class Tm extends y2{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new Tm(e,t,r)}_apply(e){const t=this._parse(e);return l3(e._query,t),new ju(e.firestore,e.converter,n1(e._query,t))}_parse(e){const t=p2(e.firestore);return(function(o,u,c,h,d,g,_){let S;if(d.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new wt(nt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){Sb(_,g);const T=[];for(const M of _)T.push(xb(h,o,M));S={arrayValue:{values:T}}}else S=xb(h,o,_)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||Sb(_,g),S=E8(c,u,_,g==="in"||g==="not-in");return yi.create(d,g,S)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function df(n,e,t){const r=e,s=Em("where",n);return Tm._create(s,r,t)}class b2 extends v2{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new b2(e,t)}_parse(e){const t=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return t.length===1?t[0]:vo.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(s,o){let u=s;const c=o.getFlattenedFilters();for(const h of c)l3(u,h),u=n1(u,h)})(e._query,t),new ju(e.firestore,e.converter,n1(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class w2 extends y2{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new w2(e,t)}_apply(e){const t=(function(s,o,u){if(s.startAt!==null)throw new wt(nt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new wt(nt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Wh(o,u)})(e._query,this._field,this._direction);return new ju(e.firestore,e.converter,(function(s,o){const u=s.explicitOrderBy.concat([o]);return new jf(s.path,s.collectionGroup,u,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)})(e._query,t))}}function Ph(n,e="asc"){const t=e,r=Em("orderBy",n);return w2._create(r,t)}class _2 extends y2{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new _2(e,t,r)}_apply(e){return new ju(e.firestore,e.converter,Hp(e._query,this._limit,this._limitType))}}function _b(n){return IT("limit",n),_2._create("limit",n,"F")}function xb(n,e,t){if(typeof(t=$s(t))=="string"){if(t==="")throw new wt(nt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!a4(e)&&t.indexOf("/")!==-1)throw new wt(nt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(xr.fromString(t));if(!Zt.isDocumentKey(r))throw new wt(nt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return F5(n,new Zt(r))}if(t instanceof wi)return F5(n,t._key);throw new wt(nt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${cm(t)}.`)}function Sb(n,e){if(!Array.isArray(n)||n.length===0)throw new wt(nt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function l3(n,e){const t=(function(s,o){for(const u of s)for(const c of u.getFlattenedFilters())if(o.indexOf(c.op)>=0)return c.op;return null})(n.filters,(function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new wt(nt.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new wt(nt.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class D8{convertValue(e,t="none"){switch(Du(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ii(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Cu(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw on(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Ou(e,((s,o)=>{r[s]=this.convertValue(o,t)})),r}convertVectorValue(e){const t=e.fields?.[zp].arrayValue?.values?.map((r=>ii(r.doubleValue)));return new Zo(t)}convertGeoPoint(e){return new Jo(ii(e.latitude),ii(e.longitude))}convertArray(e,t){return(e.values||[]).map((r=>this.convertValue(r,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const r=dm(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp($h(e));default:return null}}convertTimestamp(e){const t=Nu(e);return new Cr(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=xr.fromString(e);nr(N4(r),9688,{name:e});const s=new Gh(r.get(1),r.get(3)),o=new Zt(r.popFirst(5));return s.isEqual(t)||jl(`Document ${o} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}function R8(n,e,t){let r;return r=n?n.toFirestore(e):e,r}class Rh{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class cc extends o3{constructor(e,t,r,s,o,u){super(e,t,r,s,u),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Rp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Em("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new wt(nt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=cc._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}cc._jsonSchemaVersion="firestore/documentSnapshot/1.0",cc._jsonSchema={type:bi("string",cc._jsonSchemaVersion),bundleSource:bi("string","DocumentSnapshot"),bundleName:bi("string"),bundle:bi("string")};class Rp extends cc{data(e={}){return super.data(e)}}class gf{constructor(e,t,r,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new Rh(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((r=>{e.call(t,new Rp(this._firestore,this._userDataWriter,r.key,r,new Rh(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new wt(nt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(s,o){if(s._snapshot.oldDocs.isEmpty()){let u=0;return s._snapshot.docChanges.map((c=>{const h=new Rp(s._firestore,s._userDataWriter,c.doc.key,c.doc,new Rh(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);return c.doc,{type:"added",doc:h,oldIndex:-1,newIndex:u++}}))}{let u=s._snapshot.oldDocs;return s._snapshot.docChanges.filter((c=>o||c.type!==3)).map((c=>{const h=new Rp(s._firestore,s._userDataWriter,c.doc.key,c.doc,new Rh(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);let d=-1,g=-1;return c.type!==0&&(d=u.indexOf(c.doc.key),u=u.delete(c.doc.key)),c.type!==1&&(u=u.add(c.doc),g=u.indexOf(c.doc.key)),{type:I8(c.type),doc:h,oldIndex:d,newIndex:g}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new wt(nt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=gf._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=B1.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],r=[],s=[];return this.docs.forEach((o=>{o._document!==null&&(t.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),s.push(o.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function I8(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return on(61501,{type:n})}}function s0(n){n=Fl(n,wi);const e=Fl(n.firestore,Vf);return p8(f2(e),n._key).then((t=>M8(e,n,t)))}gf._jsonSchemaVersion="firestore/querySnapshot/1.0",gf._jsonSchema={type:bi("string",gf._jsonSchemaVersion),bundleSource:bi("string","QuerySnapshot"),bundleName:bi("string"),bundle:bi("string")};class u3 extends D8{constructor(e){super(),this.firestore=e}convertBytes(e){return new qs(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new wi(this.firestore,null,t)}}function ac(n){n=Fl(n,ju);const e=Fl(n.firestore,Vf),t=f2(e),r=new u3(e);return C8(n._query),m8(t,n._query).then((s=>new gf(e,r,n,s)))}function cp(n,e,t,...r){n=Fl(n,wi);const s=Fl(n.firestore,Vf),o=p2(s);let u;return u=typeof(e=$s(e))=="string"||e instanceof Sm?A8(o,"updateDoc",n._key,e,t,r):S8(o,"updateDoc",n._key,e),x2(s,[u.toMutation(n._key,go.exists(!0))])}function L8(n){return x2(Fl(n.firestore,Vf),[new W1(n._key,go.none())])}function o0(n,e){const t=Fl(n.firestore,Vf),r=nc(n),s=R8(n.converter,e);return x2(t,[x8(p2(n.firestore),"addDoc",r._key,s,n.converter!==null,{}).toMutation(r._key,go.exists(!1))]).then((()=>r))}function x2(n,e){return(function(r,s){const o=new Ml;return r.asyncQueue.enqueueAndForget((async()=>n8(await d8(r),s,o))),o.promise})(f2(n),e)}function M8(n,e,t){const r=t.docs.get(e._key),s=new u3(n);return new cc(n,s,e._key,r,new Rh(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(s){kf=s})(oT),Eu(new Ol("firestore",((r,{instanceIdentifier:s,options:o})=>{const u=r.getProvider("app").getImmediate(),c=new Vf(new xT(r.getProvider("auth-internal")),new ET(u,r.getProvider("app-check-internal")),(function(d,g){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new wt(nt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Gh(d.options.projectId,g)})(u,s),u);return o={useFetchStreams:t,...o},c._setSettings(o),c}),"PUBLIC").setMultipleInstances(!0)),Ko(E5,T5,e),Ko(E5,T5,"esm2020")})();const c3="@firebase/installations",S2="0.6.19";const f3=1e4,h3=`w:${S2}`,d3="FIS_v2",k8="https://firebaseinstallations.googleapis.com/v1",O8=3600*1e3,P8="installations",j8="Installations";const F8={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},pc=new um(P8,j8,F8);function p3(n){return n instanceof ku&&n.code.includes("request-failed")}function m3({projectId:n}){return`${k8}/projects/${n}/installations`}function g3(n){return{token:n.token,requestStatus:2,expiresIn:B8(n.expiresIn),creationTime:Date.now()}}async function v3(n,e){const r=(await e.json()).error;return pc.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function y3({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function V8(n,{refreshToken:e}){const t=y3(n);return t.append("Authorization",U8(e)),t}async function b3(n){const e=await n();return e.status>=500&&e.status<600?n():e}function B8(n){return Number(n.replace("s","000"))}function U8(n){return`${d3} ${n}`}async function z8({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const r=m3(n),s=y3(n),o=e.getImmediate({optional:!0});if(o){const d=await o.getHeartbeatsHeader();d&&s.append("x-firebase-client",d)}const u={fid:t,authVersion:d3,appId:n.appId,sdkVersion:h3},c={method:"POST",headers:s,body:JSON.stringify(u)},h=await b3(()=>fetch(r,c));if(h.ok){const d=await h.json();return{fid:d.fid||t,registrationStatus:2,refreshToken:d.refreshToken,authToken:g3(d.authToken)}}else throw await v3("Create Installation",h)}function w3(n){return new Promise(e=>{setTimeout(e,n)})}function q8(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}const H8=/^[cdef][\w-]{21}$/,d1="";function $8(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=G8(n);return H8.test(t)?t:d1}catch{return d1}}function G8(n){return q8(n).substr(0,22)}function Nm(n){return`${n.appName}!${n.appId}`}const _3=new Map;function x3(n,e){const t=Nm(n);S3(t,e),Y8(t,e)}function S3(n,e){const t=_3.get(n);if(t)for(const r of t)r(e)}function Y8(n,e){const t=W8();t&&t.postMessage({key:n,fid:e}),K8()}let uc=null;function W8(){return!uc&&"BroadcastChannel"in self&&(uc=new BroadcastChannel("[Firebase] FID Change"),uc.onmessage=n=>{S3(n.data.key,n.data.fid)}),uc}function K8(){_3.size===0&&uc&&(uc.close(),uc=null)}const Q8="firebase-installations-database",X8=1,mc="firebase-installations-store";let l0=null;function A2(){return l0||(l0=C_(Q8,X8,{upgrade:(n,e)=>{switch(e){case 0:n.createObjectStore(mc)}}})),l0}async function Jp(n,e){const t=Nm(n),s=(await A2()).transaction(mc,"readwrite"),o=s.objectStore(mc),u=await o.get(t);return await o.put(e,t),await s.done,(!u||u.fid!==e.fid)&&x3(n,e.fid),e}async function A3(n){const e=Nm(n),r=(await A2()).transaction(mc,"readwrite");await r.objectStore(mc).delete(e),await r.done}async function Cm(n,e){const t=Nm(n),s=(await A2()).transaction(mc,"readwrite"),o=s.objectStore(mc),u=await o.get(t),c=e(u);return c===void 0?await o.delete(t):await o.put(c,t),await s.done,c&&(!u||u.fid!==c.fid)&&x3(n,c.fid),c}async function E2(n){let e;const t=await Cm(n.appConfig,r=>{const s=J8(r),o=Z8(n,s);return e=o.registrationPromise,o.installationEntry});return t.fid===d1?{installationEntry:await e}:{installationEntry:t,registrationPromise:e}}function J8(n){const e=n||{fid:$8(),registrationStatus:0};return E3(e)}function Z8(n,e){if(e.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(pc.create("app-offline"));return{installationEntry:e,registrationPromise:s}}const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=eD(n,t);return{installationEntry:t,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:tD(n)}:{installationEntry:e}}async function eD(n,e){try{const t=await z8(n,e);return Jp(n.appConfig,t)}catch(t){throw p3(t)&&t.customData.serverCode===409?await A3(n.appConfig):await Jp(n.appConfig,{fid:e.fid,registrationStatus:0}),t}}async function tD(n){let e=await Ab(n.appConfig);for(;e.registrationStatus===1;)await w3(100),e=await Ab(n.appConfig);if(e.registrationStatus===0){const{installationEntry:t,registrationPromise:r}=await E2(n);return r||t}return e}function Ab(n){return Cm(n,e=>{if(!e)throw pc.create("installation-not-found");return E3(e)})}function E3(n){return nD(n)?{fid:n.fid,registrationStatus:0}:n}function nD(n){return n.registrationStatus===1&&n.registrationTime+f3<Date.now()}async function rD({appConfig:n,heartbeatServiceProvider:e},t){const r=iD(n,t),s=V8(n,t),o=e.getImmediate({optional:!0});if(o){const d=await o.getHeartbeatsHeader();d&&s.append("x-firebase-client",d)}const u={installation:{sdkVersion:h3,appId:n.appId}},c={method:"POST",headers:s,body:JSON.stringify(u)},h=await b3(()=>fetch(r,c));if(h.ok){const d=await h.json();return g3(d)}else throw await v3("Generate Auth Token",h)}function iD(n,{fid:e}){return`${m3(n)}/${e}/authTokens:generate`}async function T2(n,e=!1){let t;const r=await Cm(n.appConfig,o=>{if(!T3(o))throw pc.create("not-registered");const u=o.authToken;if(!e&&oD(u))return o;if(u.requestStatus===1)return t=aD(n,e),o;{if(!navigator.onLine)throw pc.create("app-offline");const c=uD(o);return t=sD(n,c),c}});return t?await t:r.authToken}async function aD(n,e){let t=await Eb(n.appConfig);for(;t.authToken.requestStatus===1;)await w3(100),t=await Eb(n.appConfig);const r=t.authToken;return r.requestStatus===0?T2(n,e):r}function Eb(n){return Cm(n,e=>{if(!T3(e))throw pc.create("not-registered");const t=e.authToken;return cD(t)?{...e,authToken:{requestStatus:0}}:e})}async function sD(n,e){try{const t=await rD(n,e),r={...e,authToken:t};return await Jp(n.appConfig,r),t}catch(t){if(p3(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))await A3(n.appConfig);else{const r={...e,authToken:{requestStatus:0}};await Jp(n.appConfig,r)}throw t}}function T3(n){return n!==void 0&&n.registrationStatus===2}function oD(n){return n.requestStatus===2&&!lD(n)}function lD(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+O8}function uD(n){const e={requestStatus:1,requestTime:Date.now()};return{...n,authToken:e}}function cD(n){return n.requestStatus===1&&n.requestTime+f3<Date.now()}async function fD(n){const e=n,{installationEntry:t,registrationPromise:r}=await E2(e);return r?r.catch(console.error):T2(e).catch(console.error),t.fid}async function hD(n,e=!1){const t=n;return await dD(t),(await T2(t,e)).token}async function dD(n){const{registrationPromise:e}=await E2(n);e&&await e}function pD(n){if(!n||!n.options)throw u0("App Configuration");if(!n.name)throw u0("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw u0(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function u0(n){return pc.create("missing-app-config-values",{valueName:n})}const N3="installations",mD="installations-internal",gD=n=>{const e=n.getProvider("app").getImmediate(),t=pD(e),r=rd(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},vD=n=>{const e=n.getProvider("app").getImmediate(),t=rd(e,N3).getImmediate();return{getId:()=>fD(t),getToken:s=>hD(t,s)}};function yD(){Eu(new Ol(N3,gD,"PUBLIC")),Eu(new Ol(mD,vD,"PRIVATE"))}yD();Ko(c3,S2);Ko(c3,S2,"esm2020");const Zp="analytics",bD="firebase_id",wD="origin",_D=60*1e3,xD="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",N2="https://www.googletagmanager.com/gtag/js";const ka=new j1("@firebase/analytics");const SD={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Ss=new um("analytics","Analytics",SD);function AD(n){if(!n.startsWith(N2)){const e=Ss.create("invalid-gtag-resource",{gtagURL:n});return ka.warn(e.message),""}return n}function C3(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function ED(n,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(n,e)),t}function TD(n,e){const t=ED("firebase-js-sdk-policy",{createScriptURL:AD}),r=document.createElement("script"),s=`${N2}?l=${n}&id=${e}`;r.src=t?t?.createScriptURL(s):s,r.async=!0,document.head.appendChild(r)}function ND(n){let e=[];return Array.isArray(window[n])?e=window[n]:window[n]=e,e}async function CD(n,e,t,r,s,o){const u=r[s];try{if(u)await e[u];else{const h=(await C3(t)).find(d=>d.measurementId===s);h&&await e[h.appId]}}catch(c){ka.error(c)}n("config",s,o)}async function DD(n,e,t,r,s){try{let o=[];if(s&&s.send_to){let u=s.send_to;Array.isArray(u)||(u=[u]);const c=await C3(t);for(const h of u){const d=c.find(_=>_.measurementId===h),g=d&&e[d.appId];if(g)o.push(g);else{o=[];break}}}o.length===0&&(o=Object.values(e)),await Promise.all(o),n("event",r,s||{})}catch(o){ka.error(o)}}function RD(n,e,t,r){async function s(o,...u){try{if(o==="event"){const[c,h]=u;await DD(n,e,t,c,h)}else if(o==="config"){const[c,h]=u;await CD(n,e,t,r,c,h)}else if(o==="consent"){const[c,h]=u;n("consent",c,h)}else if(o==="get"){const[c,h,d]=u;n("get",c,h,d)}else if(o==="set"){const[c]=u;n("set",c)}else n(o,...u)}catch(c){ka.error(c)}}return s}function ID(n,e,t,r,s){let o=function(...u){window[r].push(arguments)};return window[s]&&typeof window[s]=="function"&&(o=window[s]),window[s]=RD(o,n,e,t),{gtagCore:o,wrappedGtag:window[s]}}function LD(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(N2)&&t.src.includes(n))return t;return null}const MD=30,kD=1e3;class OD{constructor(e={},t=kD){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const D3=new OD;function PD(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}async function jD(n){const{appId:e,apiKey:t}=n,r={method:"GET",headers:PD(t)},s=xD.replace("{app-id}",e),o=await fetch(s,r);if(o.status!==200&&o.status!==304){let u="";try{const c=await o.json();c.error?.message&&(u=c.error.message)}catch{}throw Ss.create("config-fetch-failed",{httpStatus:o.status,responseMessage:u})}return o.json()}async function FD(n,e=D3,t){const{appId:r,apiKey:s,measurementId:o}=n.options;if(!r)throw Ss.create("no-app-id");if(!s){if(o)return{measurementId:o,appId:r};throw Ss.create("no-api-key")}const u=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},c=new UD;return setTimeout(async()=>{c.abort()},_D),R3({appId:r,apiKey:s,measurementId:o},u,c,e)}async function R3(n,{throttleEndTimeMillis:e,backoffCount:t},r,s=D3){const{appId:o,measurementId:u}=n;try{await VD(r,e)}catch(c){if(u)return ka.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${c?.message}]`),{appId:o,measurementId:u};throw c}try{const c=await jD(n);return s.deleteThrottleMetadata(o),c}catch(c){const h=c;if(!BD(h)){if(s.deleteThrottleMetadata(o),u)return ka.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${h?.message}]`),{appId:o,measurementId:u};throw c}const d=Number(h?.customData?.httpStatus)===503?m5(t,s.intervalMillis,MD):m5(t,s.intervalMillis),g={throttleEndTimeMillis:Date.now()+d,backoffCount:t+1};return s.setThrottleMetadata(o,g),ka.debug(`Calling attemptFetch again in ${d} millis`),R3(n,g,r,s)}}function VD(n,e){return new Promise((t,r)=>{const s=Math.max(e-Date.now(),0),o=setTimeout(t,s);n.addEventListener(()=>{clearTimeout(o),r(Ss.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function BD(n){if(!(n instanceof ku)||!n.customData)return!1;const e=Number(n.customData.httpStatus);return e===429||e===500||e===503||e===504}class UD{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function zD(n,e,t,r,s){if(s&&s.global){n("event",t,r);return}else{const o=await e,u={...r,send_to:o};n("event",t,u)}}async function qD(n,e,t,r){if(r&&r.global){const s={};for(const o of Object.keys(t))s[`user_properties.${o}`]=t[o];return n("set",s),Promise.resolve()}else{const s=await e;n("config",s,{update:!0,user_properties:t})}}async function HD(){if(A_())try{await E_()}catch(n){return ka.warn(Ss.create("indexeddb-unavailable",{errorInfo:n?.toString()}).message),!1}else return ka.warn(Ss.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function $D(n,e,t,r,s,o,u){const c=FD(n);c.then(S=>{t[S.measurementId]=S.appId,n.options.measurementId&&S.measurementId!==n.options.measurementId&&ka.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${S.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(S=>ka.error(S)),e.push(c);const h=HD().then(S=>{if(S)return r.getId()}),[d,g]=await Promise.all([c,h]);LD(o)||TD(o,d.measurementId),s("js",new Date);const _=u?.config??{};return _[wD]="firebase",_.update=!0,g!=null&&(_[bD]=g),s("config",d.measurementId,_),d.measurementId}class GD{constructor(e){this.app=e}_delete(){return delete vf[this.app.options.appId],Promise.resolve()}}let vf={},Tb=[];const Nb={};let c0="dataLayer",YD="gtag",Cb,C2,Db=!1;function WD(){const n=[];if(Z6()&&n.push("This is a browser extension environment."),tE()||n.push("Cookies are not available."),n.length>0){const e=n.map((r,s)=>`(${s+1}) ${r}`).join(" "),t=Ss.create("invalid-analytics-context",{errorInfo:e});ka.warn(t.message)}}function KD(n,e,t){WD();const r=n.options.appId;if(!r)throw Ss.create("no-app-id");if(!n.options.apiKey)if(n.options.measurementId)ka.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Ss.create("no-api-key");if(vf[r]!=null)throw Ss.create("already-exists",{id:r});if(!Db){ND(c0);const{wrappedGtag:o,gtagCore:u}=ID(vf,Tb,Nb,c0,YD);C2=o,Cb=u,Db=!0}return vf[r]=$D(n,Tb,Nb,e,Cb,c0,t),new GD(n)}function QD(n=R_()){n=$s(n);const e=rd(n,Zp);return e.isInitialized()?e.getImmediate():XD(n)}function XD(n,e={}){const t=rd(n,Zp);if(t.isInitialized()){const s=t.getImmediate();if(zh(e,t.getOptions()))return s;throw Ss.create("already-initialized")}return t.initialize({options:e})}function JD(n,e,t){n=$s(n),qD(C2,vf[n.app.options.appId],e,t).catch(r=>ka.error(r))}function ZD(n,e,t,r){n=$s(n),zD(C2,vf[n.app.options.appId],e,t,r).catch(s=>ka.error(s))}const Rb="@firebase/analytics",Ib="0.10.19";function e7(){Eu(new Ol(Zp,(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("installations-internal").getImmediate();return KD(r,s,t)},"PUBLIC")),Eu(new Ol("analytics-internal",n,"PRIVATE")),Ko(Rb,Ib),Ko(Rb,Ib,"esm2020");function n(e){try{const t=e.getProvider(Zp).getImmediate();return{logEvent:(r,s,o)=>ZD(t,r,s,o),setUserProperties:(r,s)=>JD(t,r,s)}}catch(t){throw Ss.create("interop-component-reg-failed",{reason:t})}}}e7();const t7={apiKey:"AIzaSyAawMdb8BDr-1l5GKcPk_k0_vhRgvK0ptg",authDomain:"timesheetapp-c4e54.firebaseapp.com",projectId:"timesheetapp-c4e54",storageBucket:"timesheetapp-c4e54.firebasestorage.app",messagingSenderId:"97633147981",appId:"1:97633147981:web:ee0509bda375a968c71004",measurementId:"G-9PQVG8DCJK"},I3=D_(t7),ba=v8(I3);QD(I3);const L3=ke.createContext();function n7({children:n}){const[e,t]=ke.useState([]),[r,s]=ke.useState({}),[o,u]=ke.useState({}),[c,h]=ke.useState({}),[d,g]=ke.useState({}),[_,S]=ke.useState([]),[w,T]=ke.useState({}),[M,j]=ke.useState({}),[D,Q]=ke.useState({}),[W,re]=ke.useState([]),[ye,_e]=ke.useState({}),[z,V]=ke.useState(""),[L,H]=ke.useState([]),[N,O]=ke.useState(0),[F,ce]=ke.useState(null);ke.useEffect(()=>{(async()=>{try{const Oe=ic(Go(ba,"timesheets"),df("customer","!=",null),_b(1e3)),it=await ac(Oe),Fe=[...new Set(it.docs.map(ht=>ht.data().customer).filter(ht=>ht))],De=localStorage.getItem("customers")?JSON.parse(localStorage.getItem("customers")):[],ft=[...new Set([...Fe,...De])];H(ft),localStorage.setItem("customers",JSON.stringify(ft))}catch(Oe){console.error("Failed to load customers from cloud:",Oe);const it=localStorage.getItem("customers");it&&H(JSON.parse(it))}})()},[]);const Ce=q=>{!q||L.includes(q)||(H(Oe=>[...Oe,q]),V(q))},le=q=>{V(q),ce(null);const Oe=`customer-${q}`,it=localStorage.getItem(Oe);if(it){const Fe=JSON.parse(it);t(Fe.entries||[]),s(Fe.customerInfo||{}),u(Fe.travelData||{}),h(Fe.serviceReportData||{}),g(Fe.invoiceInfo||{}),S(Array.isArray(Fe.machineInfo)?Fe.machineInfo:[]);const De=Array.isArray(Fe.machineInfo)?Fe.machineInfo:[];S(De),re(De.map(ft=>({model:ft.model||"",serial:ft.serial||ft.serialNumber||"",jobNumber:ft.jobNumber||""}))),T(Fe.customerInfo||{}),j(Fe.travelData||{}),Q(Fe.invoiceInfo||{}),_e(Fe.serviceReportData||{}),O(ft=>ft+1)}else t([]),s({}),u({}),h({}),g({}),S([]),re([]),T({}),j({}),Q({}),_e({}),O(Fe=>Fe+1)},me=()=>{if(!z)return;const q={entries:e,customerInfo:r,travelData:o,serviceReportData:c,invoiceInfo:d,machineInfo:_};localStorage.setItem(`customer-${z}`,JSON.stringify(q))};ke.useEffect(()=>{if(!z)return;const q={entries:e,customerInfo:r,travelData:o,serviceReportData:c,invoiceInfo:d,machineInfo:_};localStorage.setItem(`customer-${z}`,JSON.stringify(q))},[z,e,r,o,c,d,_]);const de=()=>{if(!z){alert("Please select a customer first");return}const q={entries:e,customerInfo:r,travelData:o,serviceReportData:c,invoiceInfo:d,machineInfo:_},Oe=new Blob([JSON.stringify(q,null,2)],{type:"application/json"}),it=document.createElement("a");it.href=URL.createObjectURL(Oe),it.download=`${z.replace(/[^a-z0-9]/gi,"_")}_timesheet.json`,it.click()},Ie=q=>{if(!q)return;const Oe=new FileReader;Oe.onload=it=>{try{const Fe=JSON.parse(it.target.result),De=Fe.customerInfo?.company?.trim();if(!De){alert('Invalid JSON: Missing "customerInfo.company" field');return}const ft=`customer-${De}`;if(localStorage.setItem(ft,JSON.stringify(Fe)),!L.includes(De)){const vt=[...L,De];H(vt),localStorage.setItem("customers",JSON.stringify(vt))}const ht=Array.isArray(Fe.machineInfo)?Fe.machineInfo:[];S(ht),re(ht.map(vt=>({model:vt.model||"",serial:vt.serial||vt.serialNumber||"",jobNumber:vt.jobNumber||""}))),le(De),alert(`Imported: ${De}`)}catch(Fe){console.error("Import failed:",Fe),alert("Invalid JSON file")}},Oe.readAsText(q)},Xe=async(q=!1)=>{if(!z){alert("Select a customer first");return}const Oe={customer:z,entries:e,customerInfo:r,travelData:o,serviceReportData:c,invoiceInfo:d,machineInfo:_,timestamp:new Date().toISOString()};try{if(q&&F){const it=nc(ba,"timesheets",F),Fe=await s0(it);if(Fe.exists()){const De=Fe.data();await cp(it,{...Oe,visitName:De.visitName,timestamp:new Date().toISOString()}),alert(`Updated: "${De.visitName}"`)}else{alert("Previous visit not found. Creating new visit instead.");const De=`Visit ${new Date().toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}`,ft=prompt('Name this visit (e.g., "June 2025 Visit")',De);if(!ft)return;Oe.visitName=ft.trim();const ht=await o0(Go(ba,"timesheets"),Oe);ce(ht.id),alert(`Saved: "${ft}"`)}}else{const it=`Visit ${new Date().toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}`,Fe=prompt('Name this visit (e.g., "June 2025 Visit")',it);if(!Fe)return;Oe.visitName=Fe.trim();const De=await o0(Go(ba,"timesheets"),Oe);ce(De.id),alert(`Saved: "${Fe}"`)}}catch(it){console.error("Cloud save failed:",it),alert("Failed to save")}},Y=async()=>{if(!z){alert("Select a customer first");return}try{const q=ic(Go(ba,"timesheets"),df("customer","==",z),Ph("timestamp","desc"),_b(1)),Oe=await ac(q);if(Oe.empty){alert("No cloud data found");return}const it=Oe.docs[0],Fe=it.data();ce(it.id),t(Fe.entries||[]),s(Fe.customerInfo||{}),u(Fe.travelData||{}),h(Fe.serviceReportData||{}),g(Fe.invoiceInfo||{}),S(Array.isArray(Fe.machineInfo)?Fe.machineInfo:[]),T(Fe.customerInfo||{}),j(Fe.travelData||{}),Q(Fe.invoiceInfo||{}),re(Array.isArray(Fe.machineInfo)?Fe.machineInfo.map(De=>({model:De.model||"",serial:De.serial||De.serialNumber||"",jobNumber:De.jobNumber||""})):[]),_e(Fe.serviceReportData||{}),O(De=>De+1),alert(`Loaded: ${Fe.visitName||"Latest"}`)}catch(q){console.error("Cloud load failed:",q),alert("Failed to load")}},P=async q=>{try{const Oe=nc(ba,"timesheets",q),it=await s0(Oe);if(!it.exists()){console.error("Version not found:",q);return}const Fe=it.data();Fe.customer&&!z&&V(Fe.customer),ce(q),t(Fe.entries||[]),s(Fe.customerInfo||{}),u(Fe.travelData||{}),h(Fe.serviceReportData||{}),g(Fe.invoiceInfo||{}),S(Array.isArray(Fe.machineInfo)?Fe.machineInfo:[]),T(Fe.customerInfo||{}),j(Fe.travelData||{}),Q(Fe.invoiceInfo||{}),re(Array.isArray(Fe.machineInfo)?Fe.machineInfo.map(De=>({model:De.model||"",serial:De.serial||De.serialNumber||"",jobNumber:De.jobNumber||""})):[]),_e(Fe.serviceReportData||{}),O(De=>De+1),console.log(`Loaded: ${Fe.visitName||"Visit"}`)}catch(Oe){console.error("Load failed:",Oe)}},K=async(q,Oe)=>{const it=prompt("Rename visit:",Oe);if(!(!it||it===Oe))try{const Fe=nc(ba,"timesheets",q);await cp(Fe,{visitName:it.trim()}),alert(`Renamed to: "${it}"`)}catch(Fe){console.error("Rename failed:",Fe),alert("Failed to rename")}},te=async q=>{if(confirm("Delete this visit permanently?"))try{const Oe=nc(ba,"timesheets",q);await L8(Oe),F===q&&ce(null),alert("Visit deleted")}catch(Oe){console.error("Delete failed:",Oe),alert("Failed to delete")}},ue=async(q,Oe)=>{if(!Oe||Oe.trim()===""){alert("Please enter a target customer name");return}Oe=Oe.trim();try{const it=nc(ba,"timesheets",q),Fe=await s0(it);if(!Fe.exists()){alert("Visit not found");return}const De=Fe.data().customer;if(De===Oe){alert("Visit is already under this customer");return}if(!confirm(`Move this visit from "${De}" to "${Oe}"?`))return;if(await cp(it,{customer:Oe,timestamp:new Date().toISOString()}),!L.includes(Oe)){const ft=[...L,Oe];H(ft),localStorage.setItem("customers",JSON.stringify(ft))}alert(`Visit moved from "${De}" to "${Oe}"`)}catch(it){console.error("Move visit failed:",it),alert("Failed to move visit")}},fe=async()=>{try{const q=ic(Go(ba,"timesheets"),Ph("timestamp","desc"));return(await ac(q)).docs.map(Fe=>({id:Fe.id,customer:Fe.data().customer,visitName:Fe.data().visitName||"Unnamed Visit",timestamp:Fe.data().timestamp,data:Fe.data()}))}catch(q){return console.error("Failed to load all files:",q),[]}},ve=async(q,Oe)=>{if(Oe)try{const it=nc(ba,"timesheets",q);await cp(it,{customer:Oe}),alert(`Attached to "${Oe}"`)}catch(it){console.error("Attach failed:",it),alert("Failed to attach")}},Te=async q=>{if(confirm(`Delete "${q}"? All data (local + cloud) will be lost.`))try{localStorage.removeItem(`customer-${q}`),H(Fe=>Fe.filter(De=>De!==q)),localStorage.setItem("customers",JSON.stringify(L.filter(Fe=>Fe!==q)));const Oe=ic(Go(ba,"timesheets"),df("customer","==",q));(await ac(Oe)).docs.forEach(Fe=>Fe.ref.delete()),z===q&&(V(""),ce(null)),alert(`Deleted "${q}"`)}catch(Oe){console.error("Delete customer failed:",Oe),alert("Failed to delete")}},Me=q=>{t(Oe=>{const it={...q,customer:z||"General"};return[...Oe,it]}),O(Oe=>Oe+1)},$e=(q,Oe)=>{t(it=>{const Fe=[...it];return Fe[q]={...Oe,customer:z},Fe}),O(it=>it+1)},ut=()=>{t([]),s({}),u({}),h({}),g({}),S([]),T({}),j({}),Q({}),re([]),_e({}),ce(null)},pt=q=>{t(q.entries||[]),s(q.customerInfo||{}),u(q.travelData||{}),h(q.serviceReportData||{}),g(q.invoiceInfo||{});const Oe=Array.isArray(q.machineInfo)?q.machineInfo:[];S(Oe),re(Oe.map(it=>({model:it.model||"",serial:it.serial||it.serialNumber||"",jobNumber:it.jobNumber||""}))),T(q.customerInfo||{}),j(q.travelData||{}),Q(q.invoiceInfo||{}),_e(q.serviceReportData||{})},mt=async(q,Oe)=>{if(!q||!Oe||q===Oe||L.includes(Oe)){alert("Invalid rename");return}if(confirm(`Rename "${q}" to "${Oe}"? All data will move.`))try{const it=`customer-${q}`,Fe=localStorage.getItem(it);if(!Fe){alert("No data found for old customer");return}const De=JSON.parse(Fe);De.customer=Oe;const ft=`customer-${Oe}`;localStorage.setItem(ft,JSON.stringify(De)),localStorage.removeItem(it);const ht=L.filter(Ut=>Ut!==q);ht.push(Oe),H(ht),localStorage.setItem("customers",JSON.stringify(ht)),z===q&&V(Oe);const vt=ic(Go(ba,"timesheets"),df("customer","==",q),Ph("timestamp","desc")),xt=await ac(vt);if(!xt.empty){const Ut=xt.docs[0],Gt=Ut.data();Gt.customer=Oe,Gt.timestamp=new Date().toISOString(),await o0(Go(ba,"timesheets"),Gt),await Ut.ref.delete()}alert(`Renamed: "${q}" to "${Oe}"`)}catch(it){console.error("Rename failed:",it),alert("Rename failed")}},_t=(q,Oe=!1)=>{if(!z){alert("No customer currently selected");return}if(!q||q.trim()===""){alert("Please enter a target customer name");return}if(q=q.trim(),z===q){alert("Cannot move to the same customer");return}const it=Oe?`Move all data from "${z}" to "${q}" and delete "${z}"?`:`Copy all data from "${z}" to "${q}"?`;if(confirm(it))try{const Fe={entries:e,customerInfo:r,travelData:o,serviceReportData:c,invoiceInfo:d,machineInfo:_},De={...Fe,customerInfo:{...Fe.customerInfo,company:q}},ft=`customer-${q}`;if(localStorage.setItem(ft,JSON.stringify(De)),!L.includes(q)){const vt=[...L,q];H(vt),localStorage.setItem("customers",JSON.stringify(vt))}if(Oe){const vt=`customer-${z}`;localStorage.removeItem(vt);const xt=L.filter(Ut=>Ut!==z);H(xt),localStorage.setItem("customers",JSON.stringify(xt))}le(q),alert(`${Oe?"Moved":"Copied"} data from "${z}" to "${q}"`)}catch(Fe){console.error("Move failed:",Fe),alert("Failed to move data")}};return I.jsx(L3.Provider,{value:{entries:e,setEntries:t,customerInfo:r,setCustomerInfo:s,travelData:o,setTravelData:u,serviceReportData:c,setServiceReportData:h,invoiceInfo:d,setInvoiceInfo:g,machineInfo:_,setMachineInfo:S,addEntry:Me,updateEntry:$e,resetData:ut,importData:pt,currentCustomer:z,customers:L,addCustomer:Ce,switchCustomer:le,saveCurrentCustomer:me,exportCustomerJSON:de,importCustomerJSON:Ie,saveToCloud:Xe,loadFromCloud:Y,loadFromHistory:P,renameVisit:K,deleteVisit:te,moveVisitToCustomer:ue,fetchAllCloudFiles:fe,attachToCustomer:ve,deleteCustomer:Te,customerForm:w,setCustomerForm:T,travelForm:M,setTravelForm:j,invoiceForm:D,setInvoiceForm:Q,machineForms:W,setMachineForms:re,serviceReportForm:ye,setServiceReportForm:_e,tableKey:N,renameCustomer:mt,moveToCustomer:_t,lastVisitId:F},children:n})}function cd(){return ke.useContext(L3)}var f0=["onChange","onClose","onDayCreate","onDestroy","onKeyDown","onMonthChange","onOpen","onParseConfig","onReady","onValueUpdate","onYearChange","onPreCalendarPosition"],yf={_disable:[],allowInput:!1,allowInvalidPreload:!1,altFormat:"F j, Y",altInput:!1,altInputClass:"form-control input",animate:typeof window=="object"&&window.navigator.userAgent.indexOf("MSIE")===-1,ariaDateFormat:"F j, Y",autoFillDefaultTime:!0,clickOpens:!0,closeOnSelect:!0,conjunction:", ",dateFormat:"Y-m-d",defaultHour:12,defaultMinute:0,defaultSeconds:0,disable:[],disableMobile:!1,enableSeconds:!1,enableTime:!1,errorHandler:function(n){return typeof console<"u"&&console.warn(n)},getWeek:function(n){var e=new Date(n.getTime());e.setHours(0,0,0,0),e.setDate(e.getDate()+3-(e.getDay()+6)%7);var t=new Date(e.getFullYear(),0,4);return 1+Math.round(((e.getTime()-t.getTime())/864e5-3+(t.getDay()+6)%7)/7)},hourIncrement:1,ignoredFocusElements:[],inline:!1,locale:"default",minuteIncrement:5,mode:"single",monthSelectorType:"dropdown",nextArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M13.207 8.472l-7.854 7.854-0.707-0.707 7.146-7.146-7.146-7.148 0.707-0.707 7.854 7.854z' /></svg>",noCalendar:!1,now:new Date,onChange:[],onClose:[],onDayCreate:[],onDestroy:[],onKeyDown:[],onMonthChange:[],onOpen:[],onParseConfig:[],onReady:[],onValueUpdate:[],onYearChange:[],onPreCalendarPosition:[],plugins:[],position:"auto",positionElement:void 0,prevArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M5.207 8.471l7.146 7.147-0.707 0.707-7.853-7.854 7.854-7.853 0.707 0.707-7.147 7.146z' /></svg>",shorthandCurrentMonth:!1,showMonths:1,static:!1,time_24hr:!1,weekNumbers:!1,wrap:!1},Xh={weekdays:{shorthand:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],longhand:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},months:{shorthand:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],longhand:["January","February","March","April","May","June","July","August","September","October","November","December"]},daysInMonth:[31,28,31,30,31,30,31,31,30,31,30,31],firstDayOfWeek:0,ordinal:function(n){var e=n%100;if(e>3&&e<21)return"th";switch(e%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}},rangeSeparator:" to ",weekAbbreviation:"Wk",scrollTitle:"Scroll to increment",toggleTitle:"Click to toggle",amPM:["AM","PM"],yearAriaLabel:"Year",monthAriaLabel:"Month",hourAriaLabel:"Hour",minuteAriaLabel:"Minute",time_24hr:!1},rs=function(n,e){return e===void 0&&(e=2),("000"+n).slice(e*-1)},zs=function(n){return n===!0?1:0};function Lb(n,e){var t;return function(){var r=this,s=arguments;clearTimeout(t),t=setTimeout(function(){return n.apply(r,s)},e)}}var h0=function(n){return n instanceof Array?n:[n]};function Ma(n,e,t){if(t===!0)return n.classList.add(e);n.classList.remove(e)}function er(n,e,t){var r=window.document.createElement(n);return e=e||"",t=t||"",r.className=e,t!==void 0&&(r.textContent=t),r}function fp(n){for(;n.firstChild;)n.removeChild(n.firstChild)}function M3(n,e){if(e(n))return n;if(n.parentNode)return M3(n.parentNode,e)}function hp(n,e){var t=er("div","numInputWrapper"),r=er("input","numInput "+n),s=er("span","arrowUp"),o=er("span","arrowDown");if(navigator.userAgent.indexOf("MSIE 9.0")===-1?r.type="number":(r.type="text",r.pattern="\\d*"),e!==void 0)for(var u in e)r.setAttribute(u,e[u]);return t.appendChild(r),t.appendChild(s),t.appendChild(o),t}function ys(n){try{if(typeof n.composedPath=="function"){var e=n.composedPath();return e[0]}return n.target}catch{return n.target}}var d0=function(){},em=function(n,e,t){return t.months[e?"shorthand":"longhand"][n]},r7={D:d0,F:function(n,e,t){n.setMonth(t.months.longhand.indexOf(e))},G:function(n,e){n.setHours((n.getHours()>=12?12:0)+parseFloat(e))},H:function(n,e){n.setHours(parseFloat(e))},J:function(n,e){n.setDate(parseFloat(e))},K:function(n,e,t){n.setHours(n.getHours()%12+12*zs(new RegExp(t.amPM[1],"i").test(e)))},M:function(n,e,t){n.setMonth(t.months.shorthand.indexOf(e))},S:function(n,e){n.setSeconds(parseFloat(e))},U:function(n,e){return new Date(parseFloat(e)*1e3)},W:function(n,e,t){var r=parseInt(e),s=new Date(n.getFullYear(),0,2+(r-1)*7,0,0,0,0);return s.setDate(s.getDate()-s.getDay()+t.firstDayOfWeek),s},Y:function(n,e){n.setFullYear(parseFloat(e))},Z:function(n,e){return new Date(e)},d:function(n,e){n.setDate(parseFloat(e))},h:function(n,e){n.setHours((n.getHours()>=12?12:0)+parseFloat(e))},i:function(n,e){n.setMinutes(parseFloat(e))},j:function(n,e){n.setDate(parseFloat(e))},l:d0,m:function(n,e){n.setMonth(parseFloat(e)-1)},n:function(n,e){n.setMonth(parseFloat(e)-1)},s:function(n,e){n.setSeconds(parseFloat(e))},u:function(n,e){return new Date(parseFloat(e))},w:d0,y:function(n,e){n.setFullYear(2e3+parseFloat(e))}},sc={D:"",F:"",G:"(\\d\\d|\\d)",H:"(\\d\\d|\\d)",J:"(\\d\\d|\\d)\\w+",K:"",M:"",S:"(\\d\\d|\\d)",U:"(.+)",W:"(\\d\\d|\\d)",Y:"(\\d{4})",Z:"(.+)",d:"(\\d\\d|\\d)",h:"(\\d\\d|\\d)",i:"(\\d\\d|\\d)",j:"(\\d\\d|\\d)",l:"",m:"(\\d\\d|\\d)",n:"(\\d\\d|\\d)",s:"(\\d\\d|\\d)",u:"(.+)",w:"(\\d\\d|\\d)",y:"(\\d{2})"},jh={Z:function(n){return n.toISOString()},D:function(n,e,t){return e.weekdays.shorthand[jh.w(n,e,t)]},F:function(n,e,t){return em(jh.n(n,e,t)-1,!1,e)},G:function(n,e,t){return rs(jh.h(n,e,t))},H:function(n){return rs(n.getHours())},J:function(n,e){return e.ordinal!==void 0?n.getDate()+e.ordinal(n.getDate()):n.getDate()},K:function(n,e){return e.amPM[zs(n.getHours()>11)]},M:function(n,e){return em(n.getMonth(),!0,e)},S:function(n){return rs(n.getSeconds())},U:function(n){return n.getTime()/1e3},W:function(n,e,t){return t.getWeek(n)},Y:function(n){return rs(n.getFullYear(),4)},d:function(n){return rs(n.getDate())},h:function(n){return n.getHours()%12?n.getHours()%12:12},i:function(n){return rs(n.getMinutes())},j:function(n){return n.getDate()},l:function(n,e){return e.weekdays.longhand[n.getDay()]},m:function(n){return rs(n.getMonth()+1)},n:function(n){return n.getMonth()+1},s:function(n){return n.getSeconds()},u:function(n){return n.getTime()},w:function(n){return n.getDay()},y:function(n){return String(n.getFullYear()).substring(2)}},k3=function(n){var e=n.config,t=e===void 0?yf:e,r=n.l10n,s=r===void 0?Xh:r,o=n.isMobile,u=o===void 0?!1:o;return function(c,h,d){var g=d||s;return t.formatDate!==void 0&&!u?t.formatDate(c,h,g):h.split("").map(function(_,S,w){return jh[_]&&w[S-1]!=="\\"?jh[_](c,g,t):_!=="\\"?_:""}).join("")}},p1=function(n){var e=n.config,t=e===void 0?yf:e,r=n.l10n,s=r===void 0?Xh:r;return function(o,u,c,h){if(!(o!==0&&!o)){var d=h||s,g,_=o;if(o instanceof Date)g=new Date(o.getTime());else if(typeof o!="string"&&o.toFixed!==void 0)g=new Date(o);else if(typeof o=="string"){var S=u||(t||yf).dateFormat,w=String(o).trim();if(w==="today")g=new Date,c=!0;else if(t&&t.parseDate)g=t.parseDate(o,S);else if(/Z$/.test(w)||/GMT$/.test(w))g=new Date(o);else{for(var T=void 0,M=[],j=0,D=0,Q="";j<S.length;j++){var W=S[j],re=W==="\\",ye=S[j-1]==="\\"||re;if(sc[W]&&!ye){Q+=sc[W];var _e=new RegExp(Q).exec(o);_e&&(T=!0)&&M[W!=="Y"?"push":"unshift"]({fn:r7[W],val:_e[++D]})}else re||(Q+=".")}g=!t||!t.noCalendar?new Date(new Date().getFullYear(),0,1,0,0,0,0):new Date(new Date().setHours(0,0,0,0)),M.forEach(function(z){var V=z.fn,L=z.val;return g=V(g,L,d)||g}),g=T?g:void 0}}if(!(g instanceof Date&&!isNaN(g.getTime()))){t.errorHandler(new Error("Invalid date provided: "+_));return}return c===!0&&g.setHours(0,0,0,0),g}}};function ws(n,e,t){return t===void 0&&(t=!0),t!==!1?new Date(n.getTime()).setHours(0,0,0,0)-new Date(e.getTime()).setHours(0,0,0,0):n.getTime()-e.getTime()}var i7=function(n,e,t){return n>Math.min(e,t)&&n<Math.max(e,t)},p0=function(n,e,t){return n*3600+e*60+t},a7=function(n){var e=Math.floor(n/3600),t=(n-e*3600)/60;return[e,t,n-e*3600-t*60]},s7={DAY:864e5};function m0(n){var e=n.defaultHour,t=n.defaultMinute,r=n.defaultSeconds;if(n.minDate!==void 0){var s=n.minDate.getHours(),o=n.minDate.getMinutes(),u=n.minDate.getSeconds();e<s&&(e=s),e===s&&t<o&&(t=o),e===s&&t===o&&r<u&&(r=n.minDate.getSeconds())}if(n.maxDate!==void 0){var c=n.maxDate.getHours(),h=n.maxDate.getMinutes();e=Math.min(e,c),e===c&&(t=Math.min(h,t)),e===c&&t===h&&(r=n.maxDate.getSeconds())}return{hours:e,minutes:t,seconds:r}}typeof Object.assign!="function"&&(Object.assign=function(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];if(!n)throw TypeError("Cannot convert undefined or null to object");for(var r=function(c){c&&Object.keys(c).forEach(function(h){return n[h]=c[h]})},s=0,o=e;s<o.length;s++){var u=o[s];r(u)}return n});var _a=function(){return _a=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(n[s]=e[s])}return n},_a.apply(this,arguments)},Mb=function(){for(var n=0,e=0,t=arguments.length;e<t;e++)n+=arguments[e].length;for(var r=Array(n),s=0,e=0;e<t;e++)for(var o=arguments[e],u=0,c=o.length;u<c;u++,s++)r[s]=o[u];return r},o7=300;function l7(n,e){var t={config:_a(_a({},yf),vi.defaultConfig),l10n:Xh};t.parseDate=p1({config:t.config,l10n:t.l10n}),t._handlers=[],t.pluginElements=[],t.loadedPlugins=[],t._bind=M,t._setHoursFromDate=S,t._positionCalendar=De,t.changeMonth=Y,t.changeYear=ve,t.clear=P,t.close=K,t.onMouseOver=pt,t._createElement=er,t.createDay=_e,t.destroy=te,t.isEnabled=Te,t.jumpToDate=Q,t.updateValue=vn,t.open=_t,t.redraw=vt,t.set=$t,t.setDate=sn,t.toggle=jt;function r(){t.utils={getDaysInMonth:function(J,ie){return J===void 0&&(J=t.currentMonth),ie===void 0&&(ie=t.currentYear),J===1&&(ie%4===0&&ie%100!==0||ie%400===0)?29:t.l10n.daysInMonth[J]}}}function s(){t.element=t.input=n,t.isOpen=!1,Oe(),Fe(),Ct(),rn(),r(),t.isMobile||ye(),D(),(t.selectedDates.length||t.config.noCalendar)&&(t.config.enableTime&&S(t.config.noCalendar?t.latestSelectedDateObj:void 0),vn(!1)),c();var J=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);!t.isMobile&&J&&De(),yt("onReady")}function o(){var J;return((J=t.calendarContainer)===null||J===void 0?void 0:J.getRootNode()).activeElement||document.activeElement}function u(J){return J.bind(t)}function c(){var J=t.config;J.weekNumbers===!1&&J.showMonths===1||J.noCalendar!==!0&&window.requestAnimationFrame(function(){if(t.calendarContainer!==void 0&&(t.calendarContainer.style.visibility="hidden",t.calendarContainer.style.display="block"),t.daysContainer!==void 0){var ie=(t.days.offsetWidth+1)*J.showMonths;t.daysContainer.style.width=ie+"px",t.calendarContainer.style.width=ie+(t.weekWrapper!==void 0?t.weekWrapper.offsetWidth:0)+"px",t.calendarContainer.style.removeProperty("visibility"),t.calendarContainer.style.removeProperty("display")}})}function h(J){if(t.selectedDates.length===0){var ie=t.config.minDate===void 0||ws(new Date,t.config.minDate)>=0?new Date:new Date(t.config.minDate.getTime()),we=m0(t.config);ie.setHours(we.hours,we.minutes,we.seconds,ie.getMilliseconds()),t.selectedDates=[ie],t.latestSelectedDateObj=ie}J!==void 0&&J.type!=="blur"&&Rt(J);var ze=t._input.value;_(),vn(),t._input.value!==ze&&t._debouncedChange()}function d(J,ie){return J%12+12*zs(ie===t.l10n.amPM[1])}function g(J){switch(J%24){case 0:case 12:return 12;default:return J%12}}function _(){if(!(t.hourElement===void 0||t.minuteElement===void 0)){var J=(parseInt(t.hourElement.value.slice(-2),10)||0)%24,ie=(parseInt(t.minuteElement.value,10)||0)%60,we=t.secondElement!==void 0?(parseInt(t.secondElement.value,10)||0)%60:0;t.amPM!==void 0&&(J=d(J,t.amPM.textContent));var ze=t.config.minTime!==void 0||t.config.minDate&&t.minDateHasTime&&t.latestSelectedDateObj&&ws(t.latestSelectedDateObj,t.config.minDate,!0)===0,lt=t.config.maxTime!==void 0||t.config.maxDate&&t.maxDateHasTime&&t.latestSelectedDateObj&&ws(t.latestSelectedDateObj,t.config.maxDate,!0)===0;if(t.config.maxTime!==void 0&&t.config.minTime!==void 0&&t.config.minTime>t.config.maxTime){var Ge=p0(t.config.minTime.getHours(),t.config.minTime.getMinutes(),t.config.minTime.getSeconds()),Ft=p0(t.config.maxTime.getHours(),t.config.maxTime.getMinutes(),t.config.maxTime.getSeconds()),Ae=p0(J,ie,we);if(Ae>Ft&&Ae<Ge){var Je=a7(Ge);J=Je[0],ie=Je[1],we=Je[2]}}else{if(lt){var We=t.config.maxTime!==void 0?t.config.maxTime:t.config.maxDate;J=Math.min(J,We.getHours()),J===We.getHours()&&(ie=Math.min(ie,We.getMinutes())),ie===We.getMinutes()&&(we=Math.min(we,We.getSeconds()))}if(ze){var Ze=t.config.minTime!==void 0?t.config.minTime:t.config.minDate;J=Math.max(J,Ze.getHours()),J===Ze.getHours()&&ie<Ze.getMinutes()&&(ie=Ze.getMinutes()),ie===Ze.getMinutes()&&(we=Math.max(we,Ze.getSeconds()))}}w(J,ie,we)}}function S(J){var ie=J||t.latestSelectedDateObj;ie&&ie instanceof Date&&w(ie.getHours(),ie.getMinutes(),ie.getSeconds())}function w(J,ie,we){t.latestSelectedDateObj!==void 0&&t.latestSelectedDateObj.setHours(J%24,ie,we||0,0),!(!t.hourElement||!t.minuteElement||t.isMobile)&&(t.hourElement.value=rs(t.config.time_24hr?J:(12+J)%12+12*zs(J%12===0)),t.minuteElement.value=rs(ie),t.amPM!==void 0&&(t.amPM.textContent=t.l10n.amPM[zs(J>=12)]),t.secondElement!==void 0&&(t.secondElement.value=rs(we)))}function T(J){var ie=ys(J),we=parseInt(ie.value)+(J.delta||0);(we/1e3>1||J.key==="Enter"&&!/[^\d]/.test(we.toString()))&&ve(we)}function M(J,ie,we,ze){if(ie instanceof Array)return ie.forEach(function(lt){return M(J,lt,we,ze)});if(J instanceof Array)return J.forEach(function(lt){return M(lt,ie,we,ze)});J.addEventListener(ie,we,ze),t._handlers.push({remove:function(){return J.removeEventListener(ie,we,ze)}})}function j(){yt("onChange")}function D(){if(t.config.wrap&&["open","close","toggle","clear"].forEach(function(we){Array.prototype.forEach.call(t.element.querySelectorAll("[data-"+we+"]"),function(ze){return M(ze,"click",t[we])})}),t.isMobile){Yt();return}var J=Lb(mt,50);if(t._debouncedChange=Lb(j,o7),t.daysContainer&&!/iPhone|iPad|iPod/i.test(navigator.userAgent)&&M(t.daysContainer,"mouseover",function(we){t.config.mode==="range"&&pt(ys(we))}),M(t._input,"keydown",ut),t.calendarContainer!==void 0&&M(t.calendarContainer,"keydown",ut),!t.config.inline&&!t.config.static&&M(window,"resize",J),window.ontouchstart!==void 0?M(window.document,"touchstart",fe):M(window.document,"mousedown",fe),M(window.document,"focus",fe,{capture:!0}),t.config.clickOpens===!0&&(M(t._input,"focus",t.open),M(t._input,"click",t.open)),t.daysContainer!==void 0&&(M(t.monthNav,"click",Pt),M(t.monthNav,["keyup","increment"],T),M(t.daysContainer,"click",Ut)),t.timeContainer!==void 0&&t.minuteElement!==void 0&&t.hourElement!==void 0){var ie=function(we){return ys(we).select()};M(t.timeContainer,["increment"],h),M(t.timeContainer,"blur",h,{capture:!0}),M(t.timeContainer,"click",W),M([t.hourElement,t.minuteElement],["focus","click"],ie),t.secondElement!==void 0&&M(t.secondElement,"focus",function(){return t.secondElement&&t.secondElement.select()}),t.amPM!==void 0&&M(t.amPM,"click",function(we){h(we)})}t.config.allowInput&&M(t._input,"blur",$e)}function Q(J,ie){var we=J!==void 0?t.parseDate(J):t.latestSelectedDateObj||(t.config.minDate&&t.config.minDate>t.now?t.config.minDate:t.config.maxDate&&t.config.maxDate<t.now?t.config.maxDate:t.now),ze=t.currentYear,lt=t.currentMonth;try{we!==void 0&&(t.currentYear=we.getFullYear(),t.currentMonth=we.getMonth())}catch(Ge){Ge.message="Invalid date supplied: "+we,t.config.errorHandler(Ge)}ie&&t.currentYear!==ze&&(yt("onYearChange"),F()),ie&&(t.currentYear!==ze||t.currentMonth!==lt)&&yt("onMonthChange"),t.redraw()}function W(J){var ie=ys(J);~ie.className.indexOf("arrow")&&re(J,ie.classList.contains("arrowUp")?1:-1)}function re(J,ie,we){var ze=J&&ys(J),lt=we||ze&&ze.parentNode&&ze.parentNode.firstChild,Ge=tn("increment");Ge.delta=ie,lt&&lt.dispatchEvent(Ge)}function ye(){var J=window.document.createDocumentFragment();if(t.calendarContainer=er("div","flatpickr-calendar"),t.calendarContainer.tabIndex=-1,!t.config.noCalendar){if(J.appendChild(le()),t.innerContainer=er("div","flatpickr-innerContainer"),t.config.weekNumbers){var ie=Xe(),we=ie.weekWrapper,ze=ie.weekNumbers;t.innerContainer.appendChild(we),t.weekNumbers=ze,t.weekWrapper=we}t.rContainer=er("div","flatpickr-rContainer"),t.rContainer.appendChild(de()),t.daysContainer||(t.daysContainer=er("div","flatpickr-days"),t.daysContainer.tabIndex=-1),O(),t.rContainer.appendChild(t.daysContainer),t.innerContainer.appendChild(t.rContainer),J.appendChild(t.innerContainer)}t.config.enableTime&&J.appendChild(me()),Ma(t.calendarContainer,"rangeMode",t.config.mode==="range"),Ma(t.calendarContainer,"animate",t.config.animate===!0),Ma(t.calendarContainer,"multiMonth",t.config.showMonths>1),t.calendarContainer.appendChild(J);var lt=t.config.appendTo!==void 0&&t.config.appendTo.nodeType!==void 0;if((t.config.inline||t.config.static)&&(t.calendarContainer.classList.add(t.config.inline?"inline":"static"),t.config.inline&&(!lt&&t.element.parentNode?t.element.parentNode.insertBefore(t.calendarContainer,t._input.nextSibling):t.config.appendTo!==void 0&&t.config.appendTo.appendChild(t.calendarContainer)),t.config.static)){var Ge=er("div","flatpickr-wrapper");t.element.parentNode&&t.element.parentNode.insertBefore(Ge,t.element),Ge.appendChild(t.element),t.altInput&&Ge.appendChild(t.altInput),Ge.appendChild(t.calendarContainer)}!t.config.static&&!t.config.inline&&(t.config.appendTo!==void 0?t.config.appendTo:window.document.body).appendChild(t.calendarContainer)}function _e(J,ie,we,ze){var lt=Te(ie,!0),Ge=er("span",J,ie.getDate().toString());return Ge.dateObj=ie,Ge.$i=ze,Ge.setAttribute("aria-label",t.formatDate(ie,t.config.ariaDateFormat)),J.indexOf("hidden")===-1&&ws(ie,t.now)===0&&(t.todayDateElem=Ge,Ge.classList.add("today"),Ge.setAttribute("aria-current","date")),lt?(Ge.tabIndex=-1,Lt(ie)&&(Ge.classList.add("selected"),t.selectedDateElem=Ge,t.config.mode==="range"&&(Ma(Ge,"startRange",t.selectedDates[0]&&ws(ie,t.selectedDates[0],!0)===0),Ma(Ge,"endRange",t.selectedDates[1]&&ws(ie,t.selectedDates[1],!0)===0),J==="nextMonthDay"&&Ge.classList.add("inRange")))):Ge.classList.add("flatpickr-disabled"),t.config.mode==="range"&&Tn(ie)&&!Lt(ie)&&Ge.classList.add("inRange"),t.weekNumbers&&t.config.showMonths===1&&J!=="prevMonthDay"&&ze%7===6&&t.weekNumbers.insertAdjacentHTML("beforeend","<span class='flatpickr-day'>"+t.config.getWeek(ie)+"</span>"),yt("onDayCreate",Ge),Ge}function z(J){J.focus(),t.config.mode==="range"&&pt(J)}function V(J){for(var ie=J>0?0:t.config.showMonths-1,we=J>0?t.config.showMonths:-1,ze=ie;ze!=we;ze+=J)for(var lt=t.daysContainer.children[ze],Ge=J>0?0:lt.children.length-1,Ft=J>0?lt.children.length:-1,Ae=Ge;Ae!=Ft;Ae+=J){var Je=lt.children[Ae];if(Je.className.indexOf("hidden")===-1&&Te(Je.dateObj))return Je}}function L(J,ie){for(var we=J.className.indexOf("Month")===-1?J.dateObj.getMonth():t.currentMonth,ze=ie>0?t.config.showMonths:-1,lt=ie>0?1:-1,Ge=we-t.currentMonth;Ge!=ze;Ge+=lt)for(var Ft=t.daysContainer.children[Ge],Ae=we-t.currentMonth===Ge?J.$i+ie:ie<0?Ft.children.length-1:0,Je=Ft.children.length,We=Ae;We>=0&&We<Je&&We!=(ie>0?Je:-1);We+=lt){var Ze=Ft.children[We];if(Ze.className.indexOf("hidden")===-1&&Te(Ze.dateObj)&&Math.abs(J.$i-We)>=Math.abs(ie))return z(Ze)}t.changeMonth(lt),H(V(lt),0)}function H(J,ie){var we=o(),ze=Me(we||document.body),lt=J!==void 0?J:ze?we:t.selectedDateElem!==void 0&&Me(t.selectedDateElem)?t.selectedDateElem:t.todayDateElem!==void 0&&Me(t.todayDateElem)?t.todayDateElem:V(ie>0?1:-1);lt===void 0?t._input.focus():ze?L(lt,ie):z(lt)}function N(J,ie){for(var we=(new Date(J,ie,1).getDay()-t.l10n.firstDayOfWeek+7)%7,ze=t.utils.getDaysInMonth((ie-1+12)%12,J),lt=t.utils.getDaysInMonth(ie,J),Ge=window.document.createDocumentFragment(),Ft=t.config.showMonths>1,Ae=Ft?"prevMonthDay hidden":"prevMonthDay",Je=Ft?"nextMonthDay hidden":"nextMonthDay",We=ze+1-we,Ze=0;We<=ze;We++,Ze++)Ge.appendChild(_e("flatpickr-day "+Ae,new Date(J,ie-1,We),We,Ze));for(We=1;We<=lt;We++,Ze++)Ge.appendChild(_e("flatpickr-day",new Date(J,ie,We),We,Ze));for(var bt=lt+1;bt<=42-we&&(t.config.showMonths===1||Ze%7!==0);bt++,Ze++)Ge.appendChild(_e("flatpickr-day "+Je,new Date(J,ie+1,bt%lt),bt,Ze));var en=er("div","dayContainer");return en.appendChild(Ge),en}function O(){if(t.daysContainer!==void 0){fp(t.daysContainer),t.weekNumbers&&fp(t.weekNumbers);for(var J=document.createDocumentFragment(),ie=0;ie<t.config.showMonths;ie++){var we=new Date(t.currentYear,t.currentMonth,1);we.setMonth(t.currentMonth+ie),J.appendChild(N(we.getFullYear(),we.getMonth()))}t.daysContainer.appendChild(J),t.days=t.daysContainer.firstChild,t.config.mode==="range"&&t.selectedDates.length===1&&pt()}}function F(){if(!(t.config.showMonths>1||t.config.monthSelectorType!=="dropdown")){var J=function(ze){return t.config.minDate!==void 0&&t.currentYear===t.config.minDate.getFullYear()&&ze<t.config.minDate.getMonth()?!1:!(t.config.maxDate!==void 0&&t.currentYear===t.config.maxDate.getFullYear()&&ze>t.config.maxDate.getMonth())};t.monthsDropdownContainer.tabIndex=-1,t.monthsDropdownContainer.innerHTML="";for(var ie=0;ie<12;ie++)if(J(ie)){var we=er("option","flatpickr-monthDropdown-month");we.value=new Date(t.currentYear,ie).getMonth().toString(),we.textContent=em(ie,t.config.shorthandCurrentMonth,t.l10n),we.tabIndex=-1,t.currentMonth===ie&&(we.selected=!0),t.monthsDropdownContainer.appendChild(we)}}}function ce(){var J=er("div","flatpickr-month"),ie=window.document.createDocumentFragment(),we;t.config.showMonths>1||t.config.monthSelectorType==="static"?we=er("span","cur-month"):(t.monthsDropdownContainer=er("select","flatpickr-monthDropdown-months"),t.monthsDropdownContainer.setAttribute("aria-label",t.l10n.monthAriaLabel),M(t.monthsDropdownContainer,"change",function(Ft){var Ae=ys(Ft),Je=parseInt(Ae.value,10);t.changeMonth(Je-t.currentMonth),yt("onMonthChange")}),F(),we=t.monthsDropdownContainer);var ze=hp("cur-year",{tabindex:"-1"}),lt=ze.getElementsByTagName("input")[0];lt.setAttribute("aria-label",t.l10n.yearAriaLabel),t.config.minDate&&lt.setAttribute("min",t.config.minDate.getFullYear().toString()),t.config.maxDate&&(lt.setAttribute("max",t.config.maxDate.getFullYear().toString()),lt.disabled=!!t.config.minDate&&t.config.minDate.getFullYear()===t.config.maxDate.getFullYear());var Ge=er("div","flatpickr-current-month");return Ge.appendChild(we),Ge.appendChild(ze),ie.appendChild(Ge),J.appendChild(ie),{container:J,yearElement:lt,monthElement:we}}function Ce(){fp(t.monthNav),t.monthNav.appendChild(t.prevMonthNav),t.config.showMonths&&(t.yearElements=[],t.monthElements=[]);for(var J=t.config.showMonths;J--;){var ie=ce();t.yearElements.push(ie.yearElement),t.monthElements.push(ie.monthElement),t.monthNav.appendChild(ie.container)}t.monthNav.appendChild(t.nextMonthNav)}function le(){return t.monthNav=er("div","flatpickr-months"),t.yearElements=[],t.monthElements=[],t.prevMonthNav=er("span","flatpickr-prev-month"),t.prevMonthNav.innerHTML=t.config.prevArrow,t.nextMonthNav=er("span","flatpickr-next-month"),t.nextMonthNav.innerHTML=t.config.nextArrow,Ce(),Object.defineProperty(t,"_hidePrevMonthArrow",{get:function(){return t.__hidePrevMonthArrow},set:function(J){t.__hidePrevMonthArrow!==J&&(Ma(t.prevMonthNav,"flatpickr-disabled",J),t.__hidePrevMonthArrow=J)}}),Object.defineProperty(t,"_hideNextMonthArrow",{get:function(){return t.__hideNextMonthArrow},set:function(J){t.__hideNextMonthArrow!==J&&(Ma(t.nextMonthNav,"flatpickr-disabled",J),t.__hideNextMonthArrow=J)}}),t.currentYearElement=t.yearElements[0],zt(),t.monthNav}function me(){t.calendarContainer.classList.add("hasTime"),t.config.noCalendar&&t.calendarContainer.classList.add("noCalendar");var J=m0(t.config);t.timeContainer=er("div","flatpickr-time"),t.timeContainer.tabIndex=-1;var ie=er("span","flatpickr-time-separator",":"),we=hp("flatpickr-hour",{"aria-label":t.l10n.hourAriaLabel});t.hourElement=we.getElementsByTagName("input")[0];var ze=hp("flatpickr-minute",{"aria-label":t.l10n.minuteAriaLabel});if(t.minuteElement=ze.getElementsByTagName("input")[0],t.hourElement.tabIndex=t.minuteElement.tabIndex=-1,t.hourElement.value=rs(t.latestSelectedDateObj?t.latestSelectedDateObj.getHours():t.config.time_24hr?J.hours:g(J.hours)),t.minuteElement.value=rs(t.latestSelectedDateObj?t.latestSelectedDateObj.getMinutes():J.minutes),t.hourElement.setAttribute("step",t.config.hourIncrement.toString()),t.minuteElement.setAttribute("step",t.config.minuteIncrement.toString()),t.hourElement.setAttribute("min",t.config.time_24hr?"0":"1"),t.hourElement.setAttribute("max",t.config.time_24hr?"23":"12"),t.hourElement.setAttribute("maxlength","2"),t.minuteElement.setAttribute("min","0"),t.minuteElement.setAttribute("max","59"),t.minuteElement.setAttribute("maxlength","2"),t.timeContainer.appendChild(we),t.timeContainer.appendChild(ie),t.timeContainer.appendChild(ze),t.config.time_24hr&&t.timeContainer.classList.add("time24hr"),t.config.enableSeconds){t.timeContainer.classList.add("hasSeconds");var lt=hp("flatpickr-second");t.secondElement=lt.getElementsByTagName("input")[0],t.secondElement.value=rs(t.latestSelectedDateObj?t.latestSelectedDateObj.getSeconds():J.seconds),t.secondElement.setAttribute("step",t.minuteElement.getAttribute("step")),t.secondElement.setAttribute("min","0"),t.secondElement.setAttribute("max","59"),t.secondElement.setAttribute("maxlength","2"),t.timeContainer.appendChild(er("span","flatpickr-time-separator",":")),t.timeContainer.appendChild(lt)}return t.config.time_24hr||(t.amPM=er("span","flatpickr-am-pm",t.l10n.amPM[zs((t.latestSelectedDateObj?t.hourElement.value:t.config.defaultHour)>11)]),t.amPM.title=t.l10n.toggleTitle,t.amPM.tabIndex=-1,t.timeContainer.appendChild(t.amPM)),t.timeContainer}function de(){t.weekdayContainer?fp(t.weekdayContainer):t.weekdayContainer=er("div","flatpickr-weekdays");for(var J=t.config.showMonths;J--;){var ie=er("div","flatpickr-weekdaycontainer");t.weekdayContainer.appendChild(ie)}return Ie(),t.weekdayContainer}function Ie(){if(t.weekdayContainer){var J=t.l10n.firstDayOfWeek,ie=Mb(t.l10n.weekdays.shorthand);J>0&&J<ie.length&&(ie=Mb(ie.splice(J,ie.length),ie.splice(0,J)));for(var we=t.config.showMonths;we--;)t.weekdayContainer.children[we].innerHTML=`
      <span class='flatpickr-weekday'>
        `+ie.join("</span><span class='flatpickr-weekday'>")+`
      </span>
      `}}function Xe(){t.calendarContainer.classList.add("hasWeeks");var J=er("div","flatpickr-weekwrapper");J.appendChild(er("span","flatpickr-weekday",t.l10n.weekAbbreviation));var ie=er("div","flatpickr-weeks");return J.appendChild(ie),{weekWrapper:J,weekNumbers:ie}}function Y(J,ie){ie===void 0&&(ie=!0);var we=ie?J:J-t.currentMonth;we<0&&t._hidePrevMonthArrow===!0||we>0&&t._hideNextMonthArrow===!0||(t.currentMonth+=we,(t.currentMonth<0||t.currentMonth>11)&&(t.currentYear+=t.currentMonth>11?1:-1,t.currentMonth=(t.currentMonth+12)%12,yt("onYearChange"),F()),O(),yt("onMonthChange"),zt())}function P(J,ie){if(J===void 0&&(J=!0),ie===void 0&&(ie=!0),t.input.value="",t.altInput!==void 0&&(t.altInput.value=""),t.mobileInput!==void 0&&(t.mobileInput.value=""),t.selectedDates=[],t.latestSelectedDateObj=void 0,ie===!0&&(t.currentYear=t._initialDate.getFullYear(),t.currentMonth=t._initialDate.getMonth()),t.config.enableTime===!0){var we=m0(t.config),ze=we.hours,lt=we.minutes,Ge=we.seconds;w(ze,lt,Ge)}t.redraw(),J&&yt("onChange")}function K(){t.isOpen=!1,t.isMobile||(t.calendarContainer!==void 0&&t.calendarContainer.classList.remove("open"),t._input!==void 0&&t._input.classList.remove("active")),yt("onClose")}function te(){t.config!==void 0&&yt("onDestroy");for(var J=t._handlers.length;J--;)t._handlers[J].remove();if(t._handlers=[],t.mobileInput)t.mobileInput.parentNode&&t.mobileInput.parentNode.removeChild(t.mobileInput),t.mobileInput=void 0;else if(t.calendarContainer&&t.calendarContainer.parentNode)if(t.config.static&&t.calendarContainer.parentNode){var ie=t.calendarContainer.parentNode;if(ie.lastChild&&ie.removeChild(ie.lastChild),ie.parentNode){for(;ie.firstChild;)ie.parentNode.insertBefore(ie.firstChild,ie);ie.parentNode.removeChild(ie)}}else t.calendarContainer.parentNode.removeChild(t.calendarContainer);t.altInput&&(t.input.type="text",t.altInput.parentNode&&t.altInput.parentNode.removeChild(t.altInput),delete t.altInput),t.input&&(t.input.type=t.input._type,t.input.classList.remove("flatpickr-input"),t.input.removeAttribute("readonly")),["_showTimeInput","latestSelectedDateObj","_hideNextMonthArrow","_hidePrevMonthArrow","__hideNextMonthArrow","__hidePrevMonthArrow","isMobile","isOpen","selectedDateElem","minDateHasTime","maxDateHasTime","days","daysContainer","_input","_positionElement","innerContainer","rContainer","monthNav","todayDateElem","calendarContainer","weekdayContainer","prevMonthNav","nextMonthNav","monthsDropdownContainer","currentMonthElement","currentYearElement","navigationCurrentMonth","selectedDateElem","config"].forEach(function(we){try{delete t[we]}catch{}})}function ue(J){return t.calendarContainer.contains(J)}function fe(J){if(t.isOpen&&!t.config.inline){var ie=ys(J),we=ue(ie),ze=ie===t.input||ie===t.altInput||t.element.contains(ie)||J.path&&J.path.indexOf&&(~J.path.indexOf(t.input)||~J.path.indexOf(t.altInput)),lt=!ze&&!we&&!ue(J.relatedTarget),Ge=!t.config.ignoredFocusElements.some(function(Ft){return Ft.contains(ie)});lt&&Ge&&(t.config.allowInput&&t.setDate(t._input.value,!1,t.config.altInput?t.config.altFormat:t.config.dateFormat),t.timeContainer!==void 0&&t.minuteElement!==void 0&&t.hourElement!==void 0&&t.input.value!==""&&t.input.value!==void 0&&h(),t.close(),t.config&&t.config.mode==="range"&&t.selectedDates.length===1&&t.clear(!1))}}function ve(J){if(!(!J||t.config.minDate&&J<t.config.minDate.getFullYear()||t.config.maxDate&&J>t.config.maxDate.getFullYear())){var ie=J,we=t.currentYear!==ie;t.currentYear=ie||t.currentYear,t.config.maxDate&&t.currentYear===t.config.maxDate.getFullYear()?t.currentMonth=Math.min(t.config.maxDate.getMonth(),t.currentMonth):t.config.minDate&&t.currentYear===t.config.minDate.getFullYear()&&(t.currentMonth=Math.max(t.config.minDate.getMonth(),t.currentMonth)),we&&(t.redraw(),yt("onYearChange"),F())}}function Te(J,ie){var we;ie===void 0&&(ie=!0);var ze=t.parseDate(J,void 0,ie);if(t.config.minDate&&ze&&ws(ze,t.config.minDate,ie!==void 0?ie:!t.minDateHasTime)<0||t.config.maxDate&&ze&&ws(ze,t.config.maxDate,ie!==void 0?ie:!t.maxDateHasTime)>0)return!1;if(!t.config.enable&&t.config.disable.length===0)return!0;if(ze===void 0)return!1;for(var lt=!!t.config.enable,Ge=(we=t.config.enable)!==null&&we!==void 0?we:t.config.disable,Ft=0,Ae=void 0;Ft<Ge.length;Ft++){if(Ae=Ge[Ft],typeof Ae=="function"&&Ae(ze))return lt;if(Ae instanceof Date&&ze!==void 0&&Ae.getTime()===ze.getTime())return lt;if(typeof Ae=="string"){var Je=t.parseDate(Ae,void 0,!0);return Je&&Je.getTime()===ze.getTime()?lt:!lt}else if(typeof Ae=="object"&&ze!==void 0&&Ae.from&&Ae.to&&ze.getTime()>=Ae.from.getTime()&&ze.getTime()<=Ae.to.getTime())return lt}return!lt}function Me(J){return t.daysContainer!==void 0?J.className.indexOf("hidden")===-1&&J.className.indexOf("flatpickr-disabled")===-1&&t.daysContainer.contains(J):!1}function $e(J){var ie=J.target===t._input,we=t._input.value.trimEnd()!==qt();ie&&we&&!(J.relatedTarget&&ue(J.relatedTarget))&&t.setDate(t._input.value,!0,J.target===t.altInput?t.config.altFormat:t.config.dateFormat)}function ut(J){var ie=ys(J),we=t.config.wrap?n.contains(ie):ie===t._input,ze=t.config.allowInput,lt=t.isOpen&&(!ze||!we),Ge=t.config.inline&&we&&!ze;if(J.keyCode===13&&we){if(ze)return t.setDate(t._input.value,!0,ie===t.altInput?t.config.altFormat:t.config.dateFormat),t.close(),ie.blur();t.open()}else if(ue(ie)||lt||Ge){var Ft=!!t.timeContainer&&t.timeContainer.contains(ie);switch(J.keyCode){case 13:Ft?(J.preventDefault(),h(),xt()):Ut(J);break;case 27:J.preventDefault(),xt();break;case 8:case 46:we&&!t.config.allowInput&&(J.preventDefault(),t.clear());break;case 37:case 39:if(!Ft&&!we){J.preventDefault();var Ae=o();if(t.daysContainer!==void 0&&(ze===!1||Ae&&Me(Ae))){var Je=J.keyCode===39?1:-1;J.ctrlKey?(J.stopPropagation(),Y(Je),H(V(1),0)):H(void 0,Je)}}else t.hourElement&&t.hourElement.focus();break;case 38:case 40:J.preventDefault();var We=J.keyCode===40?1:-1;t.daysContainer&&ie.$i!==void 0||ie===t.input||ie===t.altInput?J.ctrlKey?(J.stopPropagation(),ve(t.currentYear-We),H(V(1),0)):Ft||H(void 0,We*7):ie===t.currentYearElement?ve(t.currentYear-We):t.config.enableTime&&(!Ft&&t.hourElement&&t.hourElement.focus(),h(J),t._debouncedChange());break;case 9:if(Ft){var Ze=[t.hourElement,t.minuteElement,t.secondElement,t.amPM].concat(t.pluginElements).filter(function(On){return On}),bt=Ze.indexOf(ie);if(bt!==-1){var en=Ze[bt+(J.shiftKey?-1:1)];J.preventDefault(),(en||t._input).focus()}}else!t.config.noCalendar&&t.daysContainer&&t.daysContainer.contains(ie)&&J.shiftKey&&(J.preventDefault(),t._input.focus());break}}if(t.amPM!==void 0&&ie===t.amPM)switch(J.key){case t.l10n.amPM[0].charAt(0):case t.l10n.amPM[0].charAt(0).toLowerCase():t.amPM.textContent=t.l10n.amPM[0],_(),vn();break;case t.l10n.amPM[1].charAt(0):case t.l10n.amPM[1].charAt(0).toLowerCase():t.amPM.textContent=t.l10n.amPM[1],_(),vn();break}(we||ue(ie))&&yt("onKeyDown",J)}function pt(J,ie){if(ie===void 0&&(ie="flatpickr-day"),!(t.selectedDates.length!==1||J&&(!J.classList.contains(ie)||J.classList.contains("flatpickr-disabled")))){for(var we=J?J.dateObj.getTime():t.days.firstElementChild.dateObj.getTime(),ze=t.parseDate(t.selectedDates[0],void 0,!0).getTime(),lt=Math.min(we,t.selectedDates[0].getTime()),Ge=Math.max(we,t.selectedDates[0].getTime()),Ft=!1,Ae=0,Je=0,We=lt;We<Ge;We+=s7.DAY)Te(new Date(We),!0)||(Ft=Ft||We>lt&&We<Ge,We<ze&&(!Ae||We>Ae)?Ae=We:We>ze&&(!Je||We<Je)&&(Je=We));var Ze=Array.from(t.rContainer.querySelectorAll("*:nth-child(-n+"+t.config.showMonths+") > ."+ie));Ze.forEach(function(bt){var en=bt.dateObj,On=en.getTime(),lr=Ae>0&&On<Ae||Je>0&&On>Je;if(lr){bt.classList.add("notAllowed"),["inRange","startRange","endRange"].forEach(function(bn){bt.classList.remove(bn)});return}else if(Ft&&!lr)return;["startRange","inRange","endRange","notAllowed"].forEach(function(bn){bt.classList.remove(bn)}),J!==void 0&&(J.classList.add(we<=t.selectedDates[0].getTime()?"startRange":"endRange"),ze<we&&On===ze?bt.classList.add("startRange"):ze>we&&On===ze&&bt.classList.add("endRange"),On>=Ae&&(Je===0||On<=Je)&&i7(On,ze,we)&&bt.classList.add("inRange"))})}}function mt(){t.isOpen&&!t.config.static&&!t.config.inline&&De()}function _t(J,ie){if(ie===void 0&&(ie=t._positionElement),t.isMobile===!0){if(J){J.preventDefault();var we=ys(J);we&&we.blur()}t.mobileInput!==void 0&&(t.mobileInput.focus(),t.mobileInput.click()),yt("onOpen");return}else if(t._input.disabled||t.config.inline)return;var ze=t.isOpen;t.isOpen=!0,ze||(t.calendarContainer.classList.add("open"),t._input.classList.add("active"),yt("onOpen"),De(ie)),t.config.enableTime===!0&&t.config.noCalendar===!0&&t.config.allowInput===!1&&(J===void 0||!t.timeContainer.contains(J.relatedTarget))&&setTimeout(function(){return t.hourElement.select()},50)}function q(J){return function(ie){var we=t.config["_"+J+"Date"]=t.parseDate(ie,t.config.dateFormat),ze=t.config["_"+(J==="min"?"max":"min")+"Date"];we!==void 0&&(t[J==="min"?"minDateHasTime":"maxDateHasTime"]=we.getHours()>0||we.getMinutes()>0||we.getSeconds()>0),t.selectedDates&&(t.selectedDates=t.selectedDates.filter(function(lt){return Te(lt)}),!t.selectedDates.length&&J==="min"&&S(we),vn()),t.daysContainer&&(vt(),we!==void 0?t.currentYearElement[J]=we.getFullYear().toString():t.currentYearElement.removeAttribute(J),t.currentYearElement.disabled=!!ze&&we!==void 0&&ze.getFullYear()===we.getFullYear())}}function Oe(){var J=["wrap","weekNumbers","allowInput","allowInvalidPreload","clickOpens","time_24hr","enableTime","noCalendar","altInput","shorthandCurrentMonth","inline","static","enableSeconds","disableMobile"],ie=_a(_a({},JSON.parse(JSON.stringify(n.dataset||{}))),e),we={};t.config.parseDate=ie.parseDate,t.config.formatDate=ie.formatDate,Object.defineProperty(t.config,"enable",{get:function(){return t.config._enable},set:function(Ze){t.config._enable=Et(Ze)}}),Object.defineProperty(t.config,"disable",{get:function(){return t.config._disable},set:function(Ze){t.config._disable=Et(Ze)}});var ze=ie.mode==="time";if(!ie.dateFormat&&(ie.enableTime||ze)){var lt=vi.defaultConfig.dateFormat||yf.dateFormat;we.dateFormat=ie.noCalendar||ze?"H:i"+(ie.enableSeconds?":S":""):lt+" H:i"+(ie.enableSeconds?":S":"")}if(ie.altInput&&(ie.enableTime||ze)&&!ie.altFormat){var Ge=vi.defaultConfig.altFormat||yf.altFormat;we.altFormat=ie.noCalendar||ze?"h:i"+(ie.enableSeconds?":S K":" K"):Ge+(" h:i"+(ie.enableSeconds?":S":"")+" K")}Object.defineProperty(t.config,"minDate",{get:function(){return t.config._minDate},set:q("min")}),Object.defineProperty(t.config,"maxDate",{get:function(){return t.config._maxDate},set:q("max")});var Ft=function(Ze){return function(bt){t.config[Ze==="min"?"_minTime":"_maxTime"]=t.parseDate(bt,"H:i:S")}};Object.defineProperty(t.config,"minTime",{get:function(){return t.config._minTime},set:Ft("min")}),Object.defineProperty(t.config,"maxTime",{get:function(){return t.config._maxTime},set:Ft("max")}),ie.mode==="time"&&(t.config.noCalendar=!0,t.config.enableTime=!0),Object.assign(t.config,we,ie);for(var Ae=0;Ae<J.length;Ae++)t.config[J[Ae]]=t.config[J[Ae]]===!0||t.config[J[Ae]]==="true";f0.filter(function(Ze){return t.config[Ze]!==void 0}).forEach(function(Ze){t.config[Ze]=h0(t.config[Ze]||[]).map(u)}),t.isMobile=!t.config.disableMobile&&!t.config.inline&&t.config.mode==="single"&&!t.config.disable.length&&!t.config.enable&&!t.config.weekNumbers&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);for(var Ae=0;Ae<t.config.plugins.length;Ae++){var Je=t.config.plugins[Ae](t)||{};for(var We in Je)f0.indexOf(We)>-1?t.config[We]=h0(Je[We]).map(u).concat(t.config[We]):typeof ie[We]>"u"&&(t.config[We]=Je[We])}ie.altInputClass||(t.config.altInputClass=it().className+" "+t.config.altInputClass),yt("onParseConfig")}function it(){return t.config.wrap?n.querySelector("[data-input]"):n}function Fe(){typeof t.config.locale!="object"&&typeof vi.l10ns[t.config.locale]>"u"&&t.config.errorHandler(new Error("flatpickr: invalid locale "+t.config.locale)),t.l10n=_a(_a({},vi.l10ns.default),typeof t.config.locale=="object"?t.config.locale:t.config.locale!=="default"?vi.l10ns[t.config.locale]:void 0),sc.D="("+t.l10n.weekdays.shorthand.join("|")+")",sc.l="("+t.l10n.weekdays.longhand.join("|")+")",sc.M="("+t.l10n.months.shorthand.join("|")+")",sc.F="("+t.l10n.months.longhand.join("|")+")",sc.K="("+t.l10n.amPM[0]+"|"+t.l10n.amPM[1]+"|"+t.l10n.amPM[0].toLowerCase()+"|"+t.l10n.amPM[1].toLowerCase()+")";var J=_a(_a({},e),JSON.parse(JSON.stringify(n.dataset||{})));J.time_24hr===void 0&&vi.defaultConfig.time_24hr===void 0&&(t.config.time_24hr=t.l10n.time_24hr),t.formatDate=k3(t),t.parseDate=p1({config:t.config,l10n:t.l10n})}function De(J){if(typeof t.config.position=="function")return void t.config.position(t,J);if(t.calendarContainer!==void 0){yt("onPreCalendarPosition");var ie=J||t._positionElement,we=Array.prototype.reduce.call(t.calendarContainer.children,(function(_i,Zr){return _i+Zr.offsetHeight}),0),ze=t.calendarContainer.offsetWidth,lt=t.config.position.split(" "),Ge=lt[0],Ft=lt.length>1?lt[1]:null,Ae=ie.getBoundingClientRect(),Je=window.innerHeight-Ae.bottom,We=Ge==="above"||Ge!=="below"&&Je<we&&Ae.top>we,Ze=window.pageYOffset+Ae.top+(We?-we-2:ie.offsetHeight+2);if(Ma(t.calendarContainer,"arrowTop",!We),Ma(t.calendarContainer,"arrowBottom",We),!t.config.inline){var bt=window.pageXOffset+Ae.left,en=!1,On=!1;Ft==="center"?(bt-=(ze-Ae.width)/2,en=!0):Ft==="right"&&(bt-=ze-Ae.width,On=!0),Ma(t.calendarContainer,"arrowLeft",!en&&!On),Ma(t.calendarContainer,"arrowCenter",en),Ma(t.calendarContainer,"arrowRight",On);var lr=window.document.body.offsetWidth-(window.pageXOffset+Ae.right),bn=bt+ze>window.document.body.offsetWidth,Qn=lr+ze>window.document.body.offsetWidth;if(Ma(t.calendarContainer,"rightMost",bn),!t.config.static)if(t.calendarContainer.style.top=Ze+"px",!bn)t.calendarContainer.style.left=bt+"px",t.calendarContainer.style.right="auto";else if(!Qn)t.calendarContainer.style.left="auto",t.calendarContainer.style.right=lr+"px";else{var _r=ft();if(_r===void 0)return;var li=window.document.body.offsetWidth,Mi=Math.max(0,li/2-ze/2),Oa=".flatpickr-calendar.centerMost:before",$i=".flatpickr-calendar.centerMost:after",ui=_r.cssRules.length,Sa="{left:"+Ae.left+"px;right:auto;}";Ma(t.calendarContainer,"rightMost",!1),Ma(t.calendarContainer,"centerMost",!0),_r.insertRule(Oa+","+$i+Sa,ui),t.calendarContainer.style.left=Mi+"px",t.calendarContainer.style.right="auto"}}}}function ft(){for(var J=null,ie=0;ie<document.styleSheets.length;ie++){var we=document.styleSheets[ie];if(we.cssRules){try{we.cssRules}catch{continue}J=we;break}}return J??ht()}function ht(){var J=document.createElement("style");return document.head.appendChild(J),J.sheet}function vt(){t.config.noCalendar||t.isMobile||(F(),zt(),O())}function xt(){t._input.focus(),window.navigator.userAgent.indexOf("MSIE")!==-1||navigator.msMaxTouchPoints!==void 0?setTimeout(t.close,0):t.close()}function Ut(J){J.preventDefault(),J.stopPropagation();var ie=function(Ze){return Ze.classList&&Ze.classList.contains("flatpickr-day")&&!Ze.classList.contains("flatpickr-disabled")&&!Ze.classList.contains("notAllowed")},we=M3(ys(J),ie);if(we!==void 0){var ze=we,lt=t.latestSelectedDateObj=new Date(ze.dateObj.getTime()),Ge=(lt.getMonth()<t.currentMonth||lt.getMonth()>t.currentMonth+t.config.showMonths-1)&&t.config.mode!=="range";if(t.selectedDateElem=ze,t.config.mode==="single")t.selectedDates=[lt];else if(t.config.mode==="multiple"){var Ft=Lt(lt);Ft?t.selectedDates.splice(parseInt(Ft),1):t.selectedDates.push(lt)}else t.config.mode==="range"&&(t.selectedDates.length===2&&t.clear(!1,!1),t.latestSelectedDateObj=lt,t.selectedDates.push(lt),ws(lt,t.selectedDates[0],!0)!==0&&t.selectedDates.sort(function(Ze,bt){return Ze.getTime()-bt.getTime()}));if(_(),Ge){var Ae=t.currentYear!==lt.getFullYear();t.currentYear=lt.getFullYear(),t.currentMonth=lt.getMonth(),Ae&&(yt("onYearChange"),F()),yt("onMonthChange")}if(zt(),O(),vn(),!Ge&&t.config.mode!=="range"&&t.config.showMonths===1?z(ze):t.selectedDateElem!==void 0&&t.hourElement===void 0&&t.selectedDateElem&&t.selectedDateElem.focus(),t.hourElement!==void 0&&t.hourElement!==void 0&&t.hourElement.focus(),t.config.closeOnSelect){var Je=t.config.mode==="single"&&!t.config.enableTime,We=t.config.mode==="range"&&t.selectedDates.length===2&&!t.config.enableTime;(Je||We)&&xt()}j()}}var Gt={locale:[Fe,Ie],showMonths:[Ce,c,de],minDate:[Q],maxDate:[Q],positionElement:[Kn],clickOpens:[function(){t.config.clickOpens===!0?(M(t._input,"focus",t.open),M(t._input,"click",t.open)):(t._input.removeEventListener("focus",t.open),t._input.removeEventListener("click",t.open))}]};function $t(J,ie){if(J!==null&&typeof J=="object"){Object.assign(t.config,J);for(var we in J)Gt[we]!==void 0&&Gt[we].forEach(function(ze){return ze()})}else t.config[J]=ie,Gt[J]!==void 0?Gt[J].forEach(function(ze){return ze()}):f0.indexOf(J)>-1&&(t.config[J]=h0(ie));t.redraw(),vn(!0)}function fn(J,ie){var we=[];if(J instanceof Array)we=J.map(function(ze){return t.parseDate(ze,ie)});else if(J instanceof Date||typeof J=="number")we=[t.parseDate(J,ie)];else if(typeof J=="string")switch(t.config.mode){case"single":case"time":we=[t.parseDate(J,ie)];break;case"multiple":we=J.split(t.config.conjunction).map(function(ze){return t.parseDate(ze,ie)});break;case"range":we=J.split(t.l10n.rangeSeparator).map(function(ze){return t.parseDate(ze,ie)});break}else t.config.errorHandler(new Error("Invalid date supplied: "+JSON.stringify(J)));t.selectedDates=t.config.allowInvalidPreload?we:we.filter(function(ze){return ze instanceof Date&&Te(ze,!1)}),t.config.mode==="range"&&t.selectedDates.sort(function(ze,lt){return ze.getTime()-lt.getTime()})}function sn(J,ie,we){if(ie===void 0&&(ie=!1),we===void 0&&(we=t.config.dateFormat),J!==0&&!J||J instanceof Array&&J.length===0)return t.clear(ie);fn(J,we),t.latestSelectedDateObj=t.selectedDates[t.selectedDates.length-1],t.redraw(),Q(void 0,ie),S(),t.selectedDates.length===0&&t.clear(!1),vn(ie),ie&&yt("onChange")}function Et(J){return J.slice().map(function(ie){return typeof ie=="string"||typeof ie=="number"||ie instanceof Date?t.parseDate(ie,void 0,!0):ie&&typeof ie=="object"&&ie.from&&ie.to?{from:t.parseDate(ie.from,void 0),to:t.parseDate(ie.to,void 0)}:ie}).filter(function(ie){return ie})}function rn(){t.selectedDates=[],t.now=t.parseDate(t.config.now)||new Date;var J=t.config.defaultDate||((t.input.nodeName==="INPUT"||t.input.nodeName==="TEXTAREA")&&t.input.placeholder&&t.input.value===t.input.placeholder?null:t.input.value);J&&fn(J,t.config.dateFormat),t._initialDate=t.selectedDates.length>0?t.selectedDates[0]:t.config.minDate&&t.config.minDate.getTime()>t.now.getTime()?t.config.minDate:t.config.maxDate&&t.config.maxDate.getTime()<t.now.getTime()?t.config.maxDate:t.now,t.currentYear=t._initialDate.getFullYear(),t.currentMonth=t._initialDate.getMonth(),t.selectedDates.length>0&&(t.latestSelectedDateObj=t.selectedDates[0]),t.config.minTime!==void 0&&(t.config.minTime=t.parseDate(t.config.minTime,"H:i")),t.config.maxTime!==void 0&&(t.config.maxTime=t.parseDate(t.config.maxTime,"H:i")),t.minDateHasTime=!!t.config.minDate&&(t.config.minDate.getHours()>0||t.config.minDate.getMinutes()>0||t.config.minDate.getSeconds()>0),t.maxDateHasTime=!!t.config.maxDate&&(t.config.maxDate.getHours()>0||t.config.maxDate.getMinutes()>0||t.config.maxDate.getSeconds()>0)}function Ct(){if(t.input=it(),!t.input){t.config.errorHandler(new Error("Invalid input element specified"));return}t.input._type=t.input.type,t.input.type="text",t.input.classList.add("flatpickr-input"),t._input=t.input,t.config.altInput&&(t.altInput=er(t.input.nodeName,t.config.altInputClass),t._input=t.altInput,t.altInput.placeholder=t.input.placeholder,t.altInput.disabled=t.input.disabled,t.altInput.required=t.input.required,t.altInput.tabIndex=t.input.tabIndex,t.altInput.type="text",t.input.setAttribute("type","hidden"),!t.config.static&&t.input.parentNode&&t.input.parentNode.insertBefore(t.altInput,t.input.nextSibling)),t.config.allowInput||t._input.setAttribute("readonly","readonly"),Kn()}function Kn(){t._positionElement=t.config.positionElement||t._input}function Yt(){var J=t.config.enableTime?t.config.noCalendar?"time":"datetime-local":"date";t.mobileInput=er("input",t.input.className+" flatpickr-mobile"),t.mobileInput.tabIndex=1,t.mobileInput.type=J,t.mobileInput.disabled=t.input.disabled,t.mobileInput.required=t.input.required,t.mobileInput.placeholder=t.input.placeholder,t.mobileFormatStr=J==="datetime-local"?"Y-m-d\\TH:i:S":J==="date"?"Y-m-d":"H:i:S",t.selectedDates.length>0&&(t.mobileInput.defaultValue=t.mobileInput.value=t.formatDate(t.selectedDates[0],t.mobileFormatStr)),t.config.minDate&&(t.mobileInput.min=t.formatDate(t.config.minDate,"Y-m-d")),t.config.maxDate&&(t.mobileInput.max=t.formatDate(t.config.maxDate,"Y-m-d")),t.input.getAttribute("step")&&(t.mobileInput.step=String(t.input.getAttribute("step"))),t.input.type="hidden",t.altInput!==void 0&&(t.altInput.type="hidden");try{t.input.parentNode&&t.input.parentNode.insertBefore(t.mobileInput,t.input.nextSibling)}catch{}M(t.mobileInput,"change",function(ie){t.setDate(ys(ie).value,!1,t.mobileFormatStr),yt("onChange"),yt("onClose")})}function jt(J){if(t.isOpen===!0)return t.close();t.open(J)}function yt(J,ie){if(t.config!==void 0){var we=t.config[J];if(we!==void 0&&we.length>0)for(var ze=0;we[ze]&&ze<we.length;ze++)we[ze](t.selectedDates,t.input.value,t,ie);J==="onChange"&&(t.input.dispatchEvent(tn("change")),t.input.dispatchEvent(tn("input")))}}function tn(J){var ie=document.createEvent("Event");return ie.initEvent(J,!0,!0),ie}function Lt(J){for(var ie=0;ie<t.selectedDates.length;ie++){var we=t.selectedDates[ie];if(we instanceof Date&&ws(we,J)===0)return""+ie}return!1}function Tn(J){return t.config.mode!=="range"||t.selectedDates.length<2?!1:ws(J,t.selectedDates[0])>=0&&ws(J,t.selectedDates[1])<=0}function zt(){t.config.noCalendar||t.isMobile||!t.monthNav||(t.yearElements.forEach(function(J,ie){var we=new Date(t.currentYear,t.currentMonth,1);we.setMonth(t.currentMonth+ie),t.config.showMonths>1||t.config.monthSelectorType==="static"?t.monthElements[ie].textContent=em(we.getMonth(),t.config.shorthandCurrentMonth,t.l10n)+" ":t.monthsDropdownContainer.value=we.getMonth().toString(),J.value=we.getFullYear().toString()}),t._hidePrevMonthArrow=t.config.minDate!==void 0&&(t.currentYear===t.config.minDate.getFullYear()?t.currentMonth<=t.config.minDate.getMonth():t.currentYear<t.config.minDate.getFullYear()),t._hideNextMonthArrow=t.config.maxDate!==void 0&&(t.currentYear===t.config.maxDate.getFullYear()?t.currentMonth+1>t.config.maxDate.getMonth():t.currentYear>t.config.maxDate.getFullYear()))}function qt(J){var ie=J||(t.config.altInput?t.config.altFormat:t.config.dateFormat);return t.selectedDates.map(function(we){return t.formatDate(we,ie)}).filter(function(we,ze,lt){return t.config.mode!=="range"||t.config.enableTime||lt.indexOf(we)===ze}).join(t.config.mode!=="range"?t.config.conjunction:t.l10n.rangeSeparator)}function vn(J){J===void 0&&(J=!0),t.mobileInput!==void 0&&t.mobileFormatStr&&(t.mobileInput.value=t.latestSelectedDateObj!==void 0?t.formatDate(t.latestSelectedDateObj,t.mobileFormatStr):""),t.input.value=qt(t.config.dateFormat),t.altInput!==void 0&&(t.altInput.value=qt(t.config.altFormat)),J!==!1&&yt("onValueUpdate")}function Pt(J){var ie=ys(J),we=t.prevMonthNav.contains(ie),ze=t.nextMonthNav.contains(ie);we||ze?Y(we?-1:1):t.yearElements.indexOf(ie)>=0?ie.select():ie.classList.contains("arrowUp")?t.changeYear(t.currentYear+1):ie.classList.contains("arrowDown")&&t.changeYear(t.currentYear-1)}function Rt(J){J.preventDefault();var ie=J.type==="keydown",we=ys(J),ze=we;t.amPM!==void 0&&we===t.amPM&&(t.amPM.textContent=t.l10n.amPM[zs(t.amPM.textContent===t.l10n.amPM[0])]);var lt=parseFloat(ze.getAttribute("min")),Ge=parseFloat(ze.getAttribute("max")),Ft=parseFloat(ze.getAttribute("step")),Ae=parseInt(ze.value,10),Je=J.delta||(ie?J.which===38?1:-1:0),We=Ae+Ft*Je;if(typeof ze.value<"u"&&ze.value.length===2){var Ze=ze===t.hourElement,bt=ze===t.minuteElement;We<lt?(We=Ge+We+zs(!Ze)+(zs(Ze)&&zs(!t.amPM)),bt&&re(void 0,-1,t.hourElement)):We>Ge&&(We=ze===t.hourElement?We-Ge-zs(!t.amPM):lt,bt&&re(void 0,1,t.hourElement)),t.amPM&&Ze&&(Ft===1?We+Ae===23:Math.abs(We-Ae)>Ft)&&(t.amPM.textContent=t.l10n.amPM[zs(t.amPM.textContent===t.l10n.amPM[0])]),ze.value=rs(We)}}return s(),t}function bf(n,e){for(var t=Array.prototype.slice.call(n).filter(function(u){return u instanceof HTMLElement}),r=[],s=0;s<t.length;s++){var o=t[s];try{if(o.getAttribute("data-fp-omit")!==null)continue;o._flatpickr!==void 0&&(o._flatpickr.destroy(),o._flatpickr=void 0),o._flatpickr=l7(o,e||{}),r.push(o._flatpickr)}catch(u){console.error(u)}}return r.length===1?r[0]:r}typeof HTMLElement<"u"&&typeof HTMLCollection<"u"&&typeof NodeList<"u"&&(HTMLCollection.prototype.flatpickr=NodeList.prototype.flatpickr=function(n){return bf(this,n)},HTMLElement.prototype.flatpickr=function(n){return bf([this],n)});var vi=function(n,e){return typeof n=="string"?bf(window.document.querySelectorAll(n),e):n instanceof Node?bf([n],e):bf(n,e)};vi.defaultConfig={};vi.l10ns={en:_a({},Xh),default:_a({},Xh)};vi.localize=function(n){vi.l10ns.default=_a(_a({},vi.l10ns.default),n)};vi.setDefaults=function(n){vi.defaultConfig=_a(_a({},vi.defaultConfig),n)};vi.parseDate=p1({});vi.formatDate=k3({});vi.compareDates=ws;typeof jQuery<"u"&&typeof jQuery.fn<"u"&&(jQuery.fn.flatpickr=function(n){return bf(this,n)});Date.prototype.fp_incr=function(n){return new Date(this.getFullYear(),this.getMonth(),this.getDate()+(typeof n=="string"?parseInt(n,10):n))};typeof window<"u"&&(window.flatpickr=vi);const u7=[{value:.25,label:"15 min"},{value:.5,label:"30 min"},{value:.75,label:"45 min"},{value:1,label:"1 hr"},{value:1.25,label:"1 hr 15 min"},{value:1.5,label:"1 hr 30 min"}],kb=()=>/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||window.innerWidth<=768,nf=({name:n,value:e,onChange:t,disabled:r,placeholder:s})=>{const o=ke.useRef(null),u=ke.useRef(null),[c,h]=ke.useState(kb());return ke.useEffect(()=>{const d=()=>h(kb());return window.addEventListener("resize",d),()=>window.removeEventListener("resize",d)},[]),ke.useEffect(()=>(c&&o.current&&!r&&(u.current=vi(o.current,{enableTime:!0,noCalendar:!0,dateFormat:"H:i",time_24hr:!0,minuteIncrement:15,defaultDate:e||null,onChange:(d,g)=>{t({target:{name:n,value:g,type:"text"}})}})),()=>{u.current&&(u.current.destroy(),u.current=null)}),[c,r,n]),ke.useEffect(()=>{u.current&&e&&u.current.setDate(e,!1)},[e]),c?I.jsx("input",{ref:o,type:"text",name:n,defaultValue:e,placeholder:s||"Select time",className:"px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 w-full",disabled:r,readOnly:!0}):I.jsx("input",{type:"time",name:n,value:e,onChange:t,className:"px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 w-full",disabled:r})};function c7({entry:n,onSave:e,onCancel:t}){const[r,s]=ke.useState({date:"",travelTo:{active:!1,start:"",end:""},onsite:{active:!1,start:"",end:""},travelHome:{active:!1,start:"",end:""},lunch:!1,lunchDuration:.5,holiday:!1,travelOnly:!1,serviceWork:""});ke.useEffect(()=>{if(n)s({date:n.date||"",travelTo:n.travel?.to||{active:!1,start:"",end:""},onsite:n.onsite||{active:!1,start:"",end:""},travelHome:n.travel?.home||{active:!1,start:"",end:""},lunch:n.lunch||!1,lunchDuration:n.lunchDuration||.5,holiday:n.holiday||!1,travelOnly:n.travelOnly||!1,serviceWork:n.serviceWork||""});else{const _=new Date().toISOString().split("T")[0];s(S=>({...S,date:_}))}},[n]);const o=_=>{const{name:S,value:w,type:T,checked:M}=_.target;if(S.startsWith("travelTo.")||S.startsWith("onsite.")||S.startsWith("travelHome.")){const j=S.split(".")[0],D=S.split(".")[1];s(Q=>({...Q,[j]:{...Q[j],[D]:T==="checkbox"?M:w}}))}else s(S==="lunchDuration"?j=>({...j,lunchDuration:parseFloat(w)}):j=>({...j,[S]:T==="checkbox"?M:w}))},u=(_,S)=>{if(!_||!S)return 0;const w=_.split(":"),T=S.split(":"),M=parseInt(w[0],10)||0,j=parseInt(w[1],10)||0,D=parseInt(T[0],10)||0,Q=parseInt(T[1],10)||0;let W=M*60+j,re=D*60+Q;console.log("calcTimeDiff:",{start:_,end:S,startH:M,startM:j,endH:D,endM:Q,startMins:W,endMins:re}),re<=W&&(re+=1440,console.log("Overnight detected, adjusted endMins:",re));const ye=(re-W)/60;return console.log("Result hours:",ye),ye},c=()=>{let _=0,S=0;if(r.travelTo.active&&r.travelTo.start&&r.travelTo.end&&(_+=u(r.travelTo.start,r.travelTo.end)),r.onsite.active&&r.onsite.start&&r.onsite.end){let w=u(r.onsite.start,r.onsite.end);r.lunch&&(w-=r.lunchDuration),S=w}return r.travelHome.active&&r.travelHome.start&&r.travelHome.end&&(_+=u(r.travelHome.start,r.travelHome.end)),{travelHours:_,workHours:S}},{travelHours:h,workHours:d}=c(),g=_=>{_.preventDefault();let S=r.date;if(r.date&&!r.date.match(/^\d{4}-\d{2}-\d{2}$/)){const T=new Date(r.date);isNaN(T.getTime())||(S=T.toISOString().split("T")[0])}const w={date:S,travel:{to:r.travelTo,home:r.travelHome},onsite:r.onsite,lunch:r.lunch,lunchDuration:r.lunchDuration,holiday:r.holiday,travelOnly:r.travelOnly,serviceWork:r.serviceWork,travelHours:h,workHours:d};e(w)};return I.jsxs("form",{onSubmit:g,className:"space-y-6",children:[I.jsxs("div",{children:[I.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Date"}),I.jsx("input",{type:"date",name:"date",value:r.date,onChange:o,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:!0})]}),I.jsxs("div",{children:[I.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Travel To"}),I.jsxs("div",{className:"mt-1 space-y-2",children:[I.jsxs("label",{className:"flex items-center",children:[I.jsx("input",{type:"checkbox",name:"travelTo.active",checked:r.travelTo.active,onChange:o,className:"rounded border-gray-300 text-blue-600 shadow-sm focus:border-blue-500 focus:ring-blue-500"}),I.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Active"})]}),I.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[I.jsx(nf,{name:"travelTo.start",value:r.travelTo.start,onChange:o,disabled:!r.travelTo.active,placeholder:"Start"}),I.jsx(nf,{name:"travelTo.end",value:r.travelTo.end,onChange:o,disabled:!r.travelTo.active,placeholder:"End"})]})]})]}),I.jsxs("div",{children:[I.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"On-Site Times"}),I.jsxs("div",{className:"mt-1 space-y-2",children:[I.jsxs("label",{className:"flex items-center",children:[I.jsx("input",{type:"checkbox",name:"onsite.active",checked:r.onsite.active,onChange:o,className:"rounded border-gray-300 text-blue-600 shadow-sm focus:border-blue-500 focus:ring-blue-500"}),I.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Active"})]}),I.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[I.jsx(nf,{name:"onsite.start",value:r.onsite.start,onChange:o,disabled:!r.onsite.active,placeholder:"Start"}),I.jsx(nf,{name:"onsite.end",value:r.onsite.end,onChange:o,disabled:!r.onsite.active,placeholder:"End"})]})]})]}),I.jsxs("div",{children:[I.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Travel Home"}),I.jsxs("div",{className:"mt-1 space-y-2",children:[I.jsxs("label",{className:"flex items-center",children:[I.jsx("input",{type:"checkbox",name:"travelHome.active",checked:r.travelHome.active,onChange:o,className:"rounded border-gray-300 text-blue-600 shadow-sm focus:border-blue-500 focus:ring-blue-500"}),I.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Active"})]}),I.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[I.jsx(nf,{name:"travelHome.start",value:r.travelHome.start,onChange:o,disabled:!r.travelHome.active,placeholder:"Start"}),I.jsx(nf,{name:"travelHome.end",value:r.travelHome.end,onChange:o,disabled:!r.travelHome.active,placeholder:"End"})]})]})]}),I.jsxs("div",{className:"space-y-3",children:[I.jsxs("div",{className:"flex items-center gap-3",children:[I.jsxs("label",{className:"flex items-center",children:[I.jsx("input",{type:"checkbox",name:"lunch",checked:r.lunch,onChange:o,className:"rounded border-gray-300 text-blue-600 shadow-sm focus:border-blue-500 focus:ring-blue-500"}),I.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Lunch"})]}),r.lunch&&I.jsx("select",{name:"lunchDuration",value:r.lunchDuration,onChange:o,className:"px-2 py-1 text-sm border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",children:u7.map(_=>I.jsx("option",{value:_.value,children:_.label},_.value))})]}),I.jsxs("label",{className:"flex items-center",children:[I.jsx("input",{type:"checkbox",name:"holiday",checked:r.holiday,onChange:o,className:"rounded border-gray-300 text-blue-600 shadow-sm focus:border-blue-500 focus:ring-blue-500"}),I.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Holiday"})]})]}),I.jsxs("div",{className:"text-sm text-gray-600",children:["Travel Hours: ",h.toFixed(2)," | Work Hours: ",d.toFixed(2)]}),I.jsxs("div",{className:"pt-4",children:[I.jsx("button",{type:"submit",className:"w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 transition",children:"Save Entry"}),I.jsx("button",{type:"button",onClick:t,className:"w-full mt-2 bg-gray-500 text-white py-2 px-4 rounded-md hover:bg-gray-600 transition",children:"Cancel"})]})]})}function f7({onEdit:n,onDelete:e}){const t=cd();if(!t)return console.error("TimeSheetContext is undefined"),I.jsx("div",{children:"Error: Time Sheet context is unavailable. Please try refreshing the page."});const{entries:r}=t,s=c=>{try{const[h,d,g]=c.split("-").map(Number),_=new Date(Date.UTC(h,d-1,g));if(isNaN(_.getTime()))throw new Error("Invalid date");const w=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][_.getUTCDay()],T=String(_.getUTCMonth()+1).padStart(2,"0"),M=String(_.getUTCDate()).padStart(2,"0"),j=String(_.getUTCFullYear()).slice(-2);return`${w} ${T}/${M}/${j}`}catch(h){return console.error("Error formatting date:",c,h),"Invalid Date"}},o=(c,h)=>{if(!c||!h)return 0;const[d,g]=c.split(":").map(Number),[_,S]=h.split(":").map(Number);let w=d*60+g,T=_*60+S;return T<=w&&(T+=1440),(T-w)/60},u=c=>{try{let h=0,d=0,g=0,_=0;c.travel?.to?.active&&(h+=o(c.travel.to.start,c.travel.to.end)),c.travel?.home?.active&&(h+=o(c.travel.home.start,c.travel.home.end));let S=0;c.onsite?.active&&!c.travelOnly&&(S=o(c.onsite.start,c.onsite.end),c.lunch&&(S-=Number(c.lunchDuration)||0));const[w,T,M]=c.date.split("-").map(Number),D=new Date(Date.UTC(w,T-1,M)).getUTCDay();c.holiday||D===0?_=S:D===6?g=S:S<=8?d=S:(d=8,g=S-8);const Q=h+S;return{travelHours:h.toFixed(2),straight:d.toFixed(2),overtime:g.toFixed(2),double:_.toFixed(2),total:Q.toFixed(2)}}catch(h){return console.error("Error calculating hours for entry:",c,h),{travelHours:"0.00",straight:"0.00",overtime:"0.00",double:"0.00",total:"0.00"}}};return I.jsxs("div",{className:"mb-4",children:[I.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Saved Entries"}),r&&r.length>0?I.jsxs(I.Fragment,{children:[I.jsx("div",{className:"hidden lg:block overflow-x-auto",children:I.jsxs("table",{className:"min-w-full border-collapse border border-gray-300",children:[I.jsx("thead",{children:I.jsxs("tr",{className:"bg-gray-200",children:[I.jsx("th",{className:"border border-gray-300 px-4 py-2 text-left",children:"Date"}),I.jsx("th",{className:"border border-gray-300 px-4 py-2 text-left",children:"Travel To"}),I.jsx("th",{className:"border border-gray-300 px-4 py-2 text-left",children:"On-site"}),I.jsx("th",{className:"border border-gray-300 px-4 py-2 text-left",children:"Travel Home"}),I.jsx("th",{className:"border border-gray-300 px-4 py-2 text-left",children:"Lunch"}),I.jsx("th",{className:"border border-gray-300 px-4 py-2 text-left",children:"Travel Hrs"}),I.jsx("th",{className:"border border-gray-300 px-4 py-2 text-left",children:"Straight"}),I.jsx("th",{className:"border border-gray-300 px-4 py-2 text-left",children:"Overtime"}),I.jsx("th",{className:"border border-gray-300 px-4 py-2 text-left",children:"Double"}),I.jsx("th",{className:"border border-gray-300 px-4 py-2 text-left",children:"Total Hrs"}),I.jsx("th",{className:"border border-gray-300 px-4 py-2 text-left",children:"Actions"})]})}),I.jsx("tbody",{children:r.map((c,h)=>{const d=u(c);return I.jsxs("tr",{className:"even:bg-gray-50",children:[I.jsx("td",{className:"border border-gray-300 px-4 py-2",children:s(c.date)}),I.jsx("td",{className:"border border-gray-300 px-4 py-2",children:c.travel?.to?.active?`${c.travel.to.start}-${c.travel.to.end}`:"N/A"}),I.jsx("td",{className:"border border-gray-300 px-4 py-2",children:c.onsite?.active?`${c.onsite.start}-${c.onsite.end}`:"N/A"}),I.jsx("td",{className:"border border-gray-300 px-4 py-2",children:c.travel?.home?.active?`${c.travel.home.start}-${c.travel.home.end}`:"N/A"}),I.jsx("td",{className:"border border-gray-300 px-4 py-2",children:c.lunch?`${c.lunchDuration} hrs`:"No"}),I.jsx("td",{className:"border border-gray-300 px-4 py-2",children:d.travelHours}),I.jsx("td",{className:"border border-gray-300 px-4 py-2",children:d.straight}),I.jsx("td",{className:"border border-gray-300 px-4 py-2",children:d.overtime}),I.jsx("td",{className:"border border-gray-300 px-4 py-2",children:d.double}),I.jsx("td",{className:"border border-gray-300 px-4 py-2",children:d.total}),I.jsxs("td",{className:"border border-gray-300 px-4 py-2",children:[I.jsx("button",{onClick:()=>n(h),className:"bg-yellow-500 text-white px-2 py-1 rounded mr-2 hover:bg-yellow-600",children:"Edit"}),I.jsx("button",{onClick:()=>e(h),className:"bg-red-500 text-white px-2 py-1 rounded hover:bg-red-600",children:"Delete"})]})]},h)})})]})}),I.jsx("div",{className:"lg:hidden space-y-4",children:r.map((c,h)=>{const d=u(c);return I.jsxs("div",{className:"bg-white border border-gray-300 rounded-lg p-4 shadow-sm",children:[I.jsxs("div",{className:"flex justify-between items-start mb-3",children:[I.jsx("h4",{className:"font-semibold text-lg text-blue-600",children:s(c.date)}),I.jsxs("span",{className:"text-sm font-medium bg-blue-100 text-blue-800 px-2 py-1 rounded",children:[d.total," hrs"]})]}),I.jsxs("div",{className:"space-y-2 mb-3 text-sm",children:[I.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[I.jsxs("div",{children:[I.jsx("span",{className:"font-medium text-gray-700",children:"Travel To:"}),I.jsx("p",{className:"text-gray-900",children:c.travel?.to?.active?`${c.travel.to.start}-${c.travel.to.end}`:"N/A"})]}),I.jsxs("div",{children:[I.jsx("span",{className:"font-medium text-gray-700",children:"On-site:"}),I.jsx("p",{className:"text-gray-900",children:c.onsite?.active?`${c.onsite.start}-${c.onsite.end}`:"N/A"})]}),I.jsxs("div",{children:[I.jsx("span",{className:"font-medium text-gray-700",children:"Travel Home:"}),I.jsx("p",{className:"text-gray-900",children:c.travel?.home?.active?`${c.travel.home.start}-${c.travel.home.end}`:"N/A"})]}),I.jsxs("div",{children:[I.jsx("span",{className:"font-medium text-gray-700",children:"Lunch:"}),I.jsx("p",{className:"text-gray-900",children:c.lunch?`${c.lunchDuration} hrs`:"No"})]})]}),I.jsx("div",{className:"border-t pt-2 mt-2",children:I.jsxs("div",{className:"grid grid-cols-4 gap-2 text-center",children:[I.jsxs("div",{children:[I.jsx("p",{className:"text-xs text-gray-600",children:"Travel"}),I.jsx("p",{className:"font-semibold",children:d.travelHours})]}),I.jsxs("div",{children:[I.jsx("p",{className:"text-xs text-gray-600",children:"Straight"}),I.jsx("p",{className:"font-semibold",children:d.straight})]}),I.jsxs("div",{children:[I.jsx("p",{className:"text-xs text-gray-600",children:"OT"}),I.jsx("p",{className:"font-semibold",children:d.overtime})]}),I.jsxs("div",{children:[I.jsx("p",{className:"text-xs text-gray-600",children:"Double"}),I.jsx("p",{className:"font-semibold",children:d.double})]})]})})]}),I.jsxs("div",{className:"flex gap-2 pt-2 border-t",children:[I.jsx("button",{onClick:()=>n(h),className:"flex-1 bg-yellow-500 text-white px-3 py-2 rounded hover:bg-yellow-600 transition",children:"Edit"}),I.jsx("button",{onClick:()=>e(h),className:"flex-1 bg-red-500 text-white px-3 py-2 rounded hover:bg-red-600 transition",children:"Delete"})]})]},h)})})]}):I.jsx("p",{children:"No entries saved yet."})]})}function h7({charges:n}){return console.log("ServiceChargesTable charges:",JSON.stringify(n,null,2)),I.jsxs("div",{className:"mt-4 bg-white rounded-lg shadow-md p-4 sm:p-6 mb-6",children:[I.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Charges"}),I.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[I.jsxs("div",{className:"overflow-x-auto",children:[I.jsx("h4",{className:"text-md font-medium mb-1",children:"Service Charges"}),I.jsxs("table",{className:"w-full border-collapse border border-gray-300 text-sm",children:[I.jsx("thead",{children:I.jsxs("tr",{className:"bg-gray-200",children:[I.jsx("th",{className:"border border-gray-300 p-2 text-left",children:"Category"}),I.jsx("th",{className:"border border-gray-300 p-2 text-right",children:"Hours"}),I.jsx("th",{className:"border border-gray-300 p-2 text-right",children:"Rate"}),I.jsx("th",{className:"border border-gray-300 p-2 text-right",children:"Charge"})]})}),I.jsxs("tbody",{children:[I.jsxs("tr",{children:[I.jsx("td",{className:"border border-gray-300 p-2",children:"Straight"}),I.jsx("td",{className:"border border-gray-300 p-2 text-right",children:n.straight?.hours.toFixed(2)||"0.00"}),I.jsx("td",{className:"border border-gray-300 p-2 text-right",children:"$120"}),I.jsxs("td",{className:"border border-gray-300 p-2 text-right font-bold",children:["$",n.straight?.charge.toFixed(2)||"0.00"]})]}),I.jsxs("tr",{children:[I.jsx("td",{className:"border border-gray-300 p-2",children:"Sat/OT"}),I.jsx("td",{className:"border border-gray-300 p-2 text-right",children:n.overtime?.hours.toFixed(2)||"0.00"}),I.jsx("td",{className:"border border-gray-300 p-2 text-right",children:"$180"}),I.jsxs("td",{className:"border border-gray-300 p-2 text-right font-bold",children:["$",n.overtime?.charge.toFixed(2)||"0.00"]})]}),I.jsxs("tr",{children:[I.jsx("td",{className:"border border-gray-300 p-2",children:"Sun/Hol"}),I.jsx("td",{className:"border border-gray-300 p-2 text-right",children:n.double?.hours.toFixed(2)||"0.00"}),I.jsx("td",{className:"border border-gray-300 p-2 text-right",children:"$240"}),I.jsxs("td",{className:"border border-gray-300 p-2 text-right font-bold",children:["$",n.double?.charge.toFixed(2)||"0.00"]})]}),I.jsxs("tr",{children:[I.jsx("td",{className:"border border-gray-300 p-2 font-bold",children:"Subtotal"}),I.jsx("td",{className:"border border-gray-300 p-2"}),I.jsx("td",{className:"border border-gray-300 p-2"}),I.jsxs("td",{className:"border border-gray-300 p-2 text-right font-bold",children:["$",n.laborSubtotal?.toFixed(2)||"0.00"]})]})]})]})]}),I.jsxs("div",{className:"overflow-x-auto",children:[I.jsx("h4",{className:"text-md font-medium mb-1",children:"Travel Charges"}),I.jsxs("table",{className:"w-full border-collapse border border-gray-300 text-sm",children:[I.jsx("thead",{children:I.jsxs("tr",{className:"bg-gray-200",children:[I.jsx("th",{className:"border border-gray-300 p-2 text-left",children:"Category"}),I.jsx("th",{className:"border border-gray-300 p-2 text-right",children:"Hours"}),I.jsx("th",{className:"border border-gray-300 p-2 text-right",children:"Rate"}),I.jsx("th",{className:"border border-gray-300 p-2 text-right",children:"Charge"})]})}),I.jsxs("tbody",{children:[I.jsxs("tr",{children:[I.jsx("td",{className:"border border-gray-300 p-2",children:"Weekday"}),I.jsx("td",{className:"border border-gray-300 p-2 text-right",children:n.weekdayTravel?.hours.toFixed(2)||"0.00"}),I.jsx("td",{className:"border border-gray-300 p-2 text-right",children:"$80"}),I.jsxs("td",{className:"border border-gray-300 p-2 text-right font-bold",children:["$",n.weekdayTravel?.charge.toFixed(2)||"0.00"]})]}),I.jsxs("tr",{children:[I.jsx("td",{className:"border border-gray-300 p-2",children:"Saturday"}),I.jsx("td",{className:"border border-gray-300 p-2 text-right",children:n.saturdayTravel?.hours.toFixed(2)||"0.00"}),I.jsx("td",{className:"border border-gray-300 p-2 text-right",children:"$120"}),I.jsxs("td",{className:"border border-gray-300 p-2 text-right font-bold",children:["$",n.saturdayTravel?.charge.toFixed(2)||"0.00"]})]}),I.jsxs("tr",{children:[I.jsx("td",{className:"border border-gray-300 p-2",children:"Sun/Hol"}),I.jsx("td",{className:"border border-gray-300 p-2 text-right",children:n.sundayTravel?.hours.toFixed(2)||"0.00"}),I.jsx("td",{className:"border border-gray-300 p-2 text-right",children:"$160"}),I.jsxs("td",{className:"border border-gray-300 p-2 text-right font-bold",children:["$",n.sundayTravel?.charge.toFixed(2)||"0.00"]})]}),I.jsxs("tr",{children:[I.jsx("td",{className:"border border-gray-300 p-2 font-bold",children:"Subtotal"}),I.jsx("td",{className:"border border-gray-300 p-2"}),I.jsx("td",{className:"border border-gray-300 p-2"}),I.jsxs("td",{className:"border border-gray-300 p-2 text-right font-bold",children:["$",n.travelChargesSubtotal?.toFixed(2)||"0.00"]})]})]})]})]})]})]})}const d7="modulepreload",p7=function(n){return"/"+n},Ob={},g0=function(e,t,r){let s=Promise.resolve();if(t&&t.length>0){let h=function(d){return Promise.all(d.map(g=>Promise.resolve(g).then(_=>({status:"fulfilled",value:_}),_=>({status:"rejected",reason:_}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),c=u?.nonce||u?.getAttribute("nonce");s=h(t.map(d=>{if(d=p7(d),d in Ob)return;Ob[d]=!0;const g=d.endsWith(".css"),_=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${_}`))return;const S=document.createElement("link");if(S.rel=g?"stylesheet":d7,g||(S.as="script"),S.crossOrigin="",S.href=d,c&&S.setAttribute("nonce",c),document.head.appendChild(S),g)return new Promise((w,T)=>{S.addEventListener("load",w),S.addEventListener("error",()=>T(new Error(`Unable to preload CSS for ${d}`)))})}))}function o(u){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=u,window.dispatchEvent(c),!c.defaultPrevented)throw u}return s.then(u=>{for(const c of u||[])c.status==="rejected"&&o(c.reason);return e().catch(o)})};function or(n){"@babel/helpers - typeof";return or=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},or(n)}var yo=Uint8Array,xs=Uint16Array,D2=Int32Array,R2=new yo([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),I2=new yo([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Pb=new yo([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),O3=function(n,e){for(var t=new xs(31),r=0;r<31;++r)t[r]=e+=1<<n[r-1];for(var s=new D2(t[30]),r=1;r<30;++r)for(var o=t[r];o<t[r+1];++o)s[o]=o-t[r]<<5|r;return{b:t,r:s}},P3=O3(R2,2),m7=P3.b,m1=P3.r;m7[28]=258,m1[258]=28;var g7=O3(I2,0),jb=g7.r,g1=new xs(32768);for(var Dr=0;Dr<32768;++Dr){var vu=(Dr&43690)>>1|(Dr&21845)<<1;vu=(vu&52428)>>2|(vu&13107)<<2,vu=(vu&61680)>>4|(vu&3855)<<4,g1[Dr]=((vu&65280)>>8|(vu&255)<<8)>>1}var Fh=(function(n,e,t){for(var r=n.length,s=0,o=new xs(e);s<r;++s)n[s]&&++o[n[s]-1];var u=new xs(e);for(s=1;s<e;++s)u[s]=u[s-1]+o[s-1]<<1;var c;if(t){c=new xs(1<<e);var h=15-e;for(s=0;s<r;++s)if(n[s])for(var d=s<<4|n[s],g=e-n[s],_=u[n[s]-1]++<<g,S=_|(1<<g)-1;_<=S;++_)c[g1[_]>>h]=d}else for(c=new xs(r),s=0;s<r;++s)n[s]&&(c[s]=g1[u[n[s]-1]++]>>15-n[s]);return c}),gc=new yo(288);for(var Dr=0;Dr<144;++Dr)gc[Dr]=8;for(var Dr=144;Dr<256;++Dr)gc[Dr]=9;for(var Dr=256;Dr<280;++Dr)gc[Dr]=7;for(var Dr=280;Dr<288;++Dr)gc[Dr]=8;var tm=new yo(32);for(var Dr=0;Dr<32;++Dr)tm[Dr]=5;var v7=Fh(gc,9,0),y7=Fh(tm,5,0),j3=function(n){return(n+7)/8|0},b7=function(n,e,t){return(t==null||t>n.length)&&(t=n.length),new yo(n.subarray(e,t))},Cl=function(n,e,t){t<<=e&7;var r=e/8|0;n[r]|=t,n[r+1]|=t>>8},Eh=function(n,e,t){t<<=e&7;var r=e/8|0;n[r]|=t,n[r+1]|=t>>8,n[r+2]|=t>>16},v0=function(n,e){for(var t=[],r=0;r<n.length;++r)n[r]&&t.push({s:r,f:n[r]});var s=t.length,o=t.slice();if(!s)return{t:V3,l:0};if(s==1){var u=new yo(t[0].s+1);return u[t[0].s]=1,{t:u,l:1}}t.sort(function(ye,_e){return ye.f-_e.f}),t.push({s:-1,f:25001});var c=t[0],h=t[1],d=0,g=1,_=2;for(t[0]={s:-1,f:c.f+h.f,l:c,r:h};g!=s-1;)c=t[t[d].f<t[_].f?d++:_++],h=t[d!=g&&t[d].f<t[_].f?d++:_++],t[g++]={s:-1,f:c.f+h.f,l:c,r:h};for(var S=o[0].s,r=1;r<s;++r)o[r].s>S&&(S=o[r].s);var w=new xs(S+1),T=v1(t[g-1],w,0);if(T>e){var r=0,M=0,j=T-e,D=1<<j;for(o.sort(function(_e,z){return w[z.s]-w[_e.s]||_e.f-z.f});r<s;++r){var Q=o[r].s;if(w[Q]>e)M+=D-(1<<T-w[Q]),w[Q]=e;else break}for(M>>=j;M>0;){var W=o[r].s;w[W]<e?M-=1<<e-w[W]++-1:++r}for(;r>=0&&M;--r){var re=o[r].s;w[re]==e&&(--w[re],++M)}T=e}return{t:new yo(w),l:T}},v1=function(n,e,t){return n.s==-1?Math.max(v1(n.l,e,t+1),v1(n.r,e,t+1)):e[n.s]=t},Fb=function(n){for(var e=n.length;e&&!n[--e];);for(var t=new xs(++e),r=0,s=n[0],o=1,u=function(h){t[r++]=h},c=1;c<=e;++c)if(n[c]==s&&c!=e)++o;else{if(!s&&o>2){for(;o>138;o-=138)u(32754);o>2&&(u(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(u(s),--o;o>6;o-=6)u(8304);o>2&&(u(o-3<<5|8208),o=0)}for(;o--;)u(s);o=1,s=n[c]}return{c:t.subarray(0,r),n:e}},Th=function(n,e){for(var t=0,r=0;r<e.length;++r)t+=n[r]*e[r];return t},F3=function(n,e,t){var r=t.length,s=j3(e+2);n[s]=r&255,n[s+1]=r>>8,n[s+2]=n[s]^255,n[s+3]=n[s+1]^255;for(var o=0;o<r;++o)n[s+o+4]=t[o];return(s+4+r)*8},Vb=function(n,e,t,r,s,o,u,c,h,d,g){Cl(e,g++,t),++s[256];for(var _=v0(s,15),S=_.t,w=_.l,T=v0(o,15),M=T.t,j=T.l,D=Fb(S),Q=D.c,W=D.n,re=Fb(M),ye=re.c,_e=re.n,z=new xs(19),V=0;V<Q.length;++V)++z[Q[V]&31];for(var V=0;V<ye.length;++V)++z[ye[V]&31];for(var L=v0(z,7),H=L.t,N=L.l,O=19;O>4&&!H[Pb[O-1]];--O);var F=d+5<<3,ce=Th(s,gc)+Th(o,tm)+u,Ce=Th(s,S)+Th(o,M)+u+14+3*O+Th(z,H)+2*z[16]+3*z[17]+7*z[18];if(h>=0&&F<=ce&&F<=Ce)return F3(e,g,n.subarray(h,h+d));var le,me,de,Ie;if(Cl(e,g,1+(Ce<ce)),g+=2,Ce<ce){le=Fh(S,w,0),me=S,de=Fh(M,j,0),Ie=M;var Xe=Fh(H,N,0);Cl(e,g,W-257),Cl(e,g+5,_e-1),Cl(e,g+10,O-4),g+=14;for(var V=0;V<O;++V)Cl(e,g+3*V,H[Pb[V]]);g+=3*O;for(var Y=[Q,ye],P=0;P<2;++P)for(var K=Y[P],V=0;V<K.length;++V){var te=K[V]&31;Cl(e,g,Xe[te]),g+=H[te],te>15&&(Cl(e,g,K[V]>>5&127),g+=K[V]>>12)}}else le=v7,me=gc,de=y7,Ie=tm;for(var V=0;V<c;++V){var ue=r[V];if(ue>255){var te=ue>>18&31;Eh(e,g,le[te+257]),g+=me[te+257],te>7&&(Cl(e,g,ue>>23&31),g+=R2[te]);var fe=ue&31;Eh(e,g,de[fe]),g+=Ie[fe],fe>3&&(Eh(e,g,ue>>5&8191),g+=I2[fe])}else Eh(e,g,le[ue]),g+=me[ue]}return Eh(e,g,le[256]),g+me[256]},w7=new D2([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),V3=new yo(0),_7=function(n,e,t,r,s,o){var u=o.z||n.length,c=new yo(r+u+5*(1+Math.ceil(u/7e3))+s),h=c.subarray(r,c.length-s),d=o.l,g=(o.r||0)&7;if(e){g&&(h[0]=o.r>>3);for(var _=w7[e-1],S=_>>13,w=_&8191,T=(1<<t)-1,M=o.p||new xs(32768),j=o.h||new xs(T+1),D=Math.ceil(t/3),Q=2*D,W=function(_t){return(n[_t]^n[_t+1]<<D^n[_t+2]<<Q)&T},re=new D2(25e3),ye=new xs(288),_e=new xs(32),z=0,V=0,L=o.i||0,H=0,N=o.w||0,O=0;L+2<u;++L){var F=W(L),ce=L&32767,Ce=j[F];if(M[ce]=Ce,j[F]=ce,N<=L){var le=u-L;if((z>7e3||H>24576)&&(le>423||!d)){g=Vb(n,h,0,re,ye,_e,V,H,O,L-O,g),H=z=V=0,O=L;for(var me=0;me<286;++me)ye[me]=0;for(var me=0;me<30;++me)_e[me]=0}var de=2,Ie=0,Xe=w,Y=ce-Ce&32767;if(le>2&&F==W(L-Y))for(var P=Math.min(S,le)-1,K=Math.min(32767,L),te=Math.min(258,le);Y<=K&&--Xe&&ce!=Ce;){if(n[L+de]==n[L+de-Y]){for(var ue=0;ue<te&&n[L+ue]==n[L+ue-Y];++ue);if(ue>de){if(de=ue,Ie=Y,ue>P)break;for(var fe=Math.min(Y,ue-2),ve=0,me=0;me<fe;++me){var Te=L-Y+me&32767,Me=M[Te],$e=Te-Me&32767;$e>ve&&(ve=$e,Ce=Te)}}}ce=Ce,Ce=M[ce],Y+=ce-Ce&32767}if(Ie){re[H++]=268435456|m1[de]<<18|jb[Ie];var ut=m1[de]&31,pt=jb[Ie]&31;V+=R2[ut]+I2[pt],++ye[257+ut],++_e[pt],N=L+de,++z}else re[H++]=n[L],++ye[n[L]]}}for(L=Math.max(L,N);L<u;++L)re[H++]=n[L],++ye[n[L]];g=Vb(n,h,d,re,ye,_e,V,H,O,L-O,g),d||(o.r=g&7|h[g/8|0]<<3,g-=7,o.h=j,o.p=M,o.i=L,o.w=N)}else{for(var L=o.w||0;L<u+d;L+=65535){var mt=L+65535;mt>=u&&(h[g/8|0]=d,mt=u),g=F3(h,g+1,n.subarray(L,mt))}o.i=u}return b7(c,0,r+j3(g)+s)},B3=function(){var n=1,e=0;return{p:function(t){for(var r=n,s=e,o=t.length|0,u=0;u!=o;){for(var c=Math.min(u+2655,o);u<c;++u)s+=r+=t[u];r=(r&65535)+15*(r>>16),s=(s&65535)+15*(s>>16)}n=r,e=s},d:function(){return n%=65521,e%=65521,(n&255)<<24|(n&65280)<<8|(e&255)<<8|e>>8}}},x7=function(n,e,t,r,s){if(!s&&(s={l:1},e.dictionary)){var o=e.dictionary.subarray(-32768),u=new yo(o.length+n.length);u.set(o),u.set(n,o.length),n=u,s.w=o.length}return _7(n,e.level==null?6:e.level,e.mem==null?s.l?Math.ceil(Math.max(8,Math.min(13,Math.log(n.length)))*1.5):20:12+e.mem,t,r,s)},U3=function(n,e,t){for(;t;++e)n[e]=t,t>>>=8},S7=function(n,e){var t=e.level,r=t==0?0:t<6?1:t==9?3:2;if(n[0]=120,n[1]=r<<6|(e.dictionary&&32),n[1]|=31-(n[0]<<8|n[1])%31,e.dictionary){var s=B3();s.p(e.dictionary),U3(n,2,s.d())}};function y1(n,e){e||(e={});var t=B3();t.p(n);var r=x7(n,e,e.dictionary?6:2,4);return S7(r,e),U3(r,r.length-4,t.d()),r}var A7=typeof TextDecoder<"u"&&new TextDecoder,E7=0;try{A7.decode(V3,{stream:!0}),E7=1}catch{}function T7(n){if(Array.isArray(n))return n}function N7(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r,s,o,u,c=[],h=!0,d=!1;try{if(o=(t=t.call(n)).next,e!==0)for(;!(h=(r=o.call(t)).done)&&(c.push(r.value),c.length!==e);h=!0);}catch(g){d=!0,s=g}finally{try{if(!h&&t.return!=null&&(u=t.return(),Object(u)!==u))return}finally{if(d)throw s}}return c}}function Bb(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=Array(e);t<e;t++)r[t]=n[t];return r}function C7(n,e){if(n){if(typeof n=="string")return Bb(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Bb(n,e):void 0}}function D7(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ub(n,e){return T7(n)||N7(n,e)||C7(n,e)||D7()}function zb(n,e="utf8"){return new TextDecoder(e).decode(n)}const R7=new TextEncoder;function I7(n){return R7.encode(n)}const L7=1024*8,M7=(()=>{const n=new Uint8Array(4),e=new Uint32Array(n.buffer);return!((e[0]=1)&n[0])})(),y0={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class L2{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(e=L7,t={}){let r=!1;typeof e=="number"?e=new ArrayBuffer(e):(r=!0,this.lastWrittenByte=e.byteLength);const s=t.offset?t.offset>>>0:0,o=e.byteLength-s;let u=s;(ArrayBuffer.isView(e)||e instanceof L2)&&(e.byteLength!==e.buffer.byteLength&&(u=e.byteOffset+s),e=e.buffer),r?this.lastWrittenByte=o:this.lastWrittenByte=0,this.buffer=e,this.length=o,this.byteLength=o,this.byteOffset=u,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,u,o),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const r=(this.offset+e)*2,s=new Uint8Array(r);s.set(new Uint8Array(this.buffer)),this.buffer=s.buffer,this.length=r,this.byteLength=r,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,t){const r=y0[t].BYTES_PER_ELEMENT*e,s=this.byteOffset+this.offset,o=this.buffer.slice(s,s+r);if(this.littleEndian===M7&&t!=="uint8"&&t!=="int8"){const c=new Uint8Array(this.buffer.slice(s,s+r));c.reverse();const h=new y0[t](c.buffer);return this.offset+=r,h.reverse(),h}const u=new y0[t](o);return this.offset+=r,u}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let t="";for(let r=0;r<e;r++)t+=this.readChar();return t}readUtf8(e=1){return zb(this.readBytes(e))}decodeText(e=1,t="utf8"){return zb(this.readBytes(e),t)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let t=0;t<e.length;t++)this._data.setUint8(this.offset++,e[t]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let t=0;t<e.length;t++)this.writeUint8(e.charCodeAt(t));return this}writeUtf8(e){return this.writeBytes(I7(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function Bf(n){let e=n.length;for(;--e>=0;)n[e]=0}const k7=3,O7=258,z3=29,P7=256,j7=P7+1+z3,q3=30,F7=512,V7=new Array((j7+2)*2);Bf(V7);const B7=new Array(q3*2);Bf(B7);const U7=new Array(F7);Bf(U7);const z7=new Array(O7-k7+1);Bf(z7);const q7=new Array(z3);Bf(q7);const H7=new Array(q3);Bf(H7);const $7=(n,e,t,r)=>{let s=n&65535|0,o=n>>>16&65535|0,u=0;for(;t!==0;){u=t>2e3?2e3:t,t-=u;do s=s+e[r++]|0,o=o+s|0;while(--u);s%=65521,o%=65521}return s|o<<16|0};var b1=$7;const G7=()=>{let n,e=[];for(var t=0;t<256;t++){n=t;for(var r=0;r<8;r++)n=n&1?3988292384^n>>>1:n>>>1;e[t]=n}return e},Y7=new Uint32Array(G7()),W7=(n,e,t,r)=>{const s=Y7,o=r+t;n^=-1;for(let u=r;u<o;u++)n=n>>>8^s[(n^e[u])&255];return n^-1};var Ho=W7,w1={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},H3={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const K7=(n,e)=>Object.prototype.hasOwnProperty.call(n,e);var Q7=function(n){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const t=e.shift();if(t){if(typeof t!="object")throw new TypeError(t+"must be non-object");for(const r in t)K7(t,r)&&(n[r]=t[r])}}return n},X7=n=>{let e=0;for(let r=0,s=n.length;r<s;r++)e+=n[r].length;const t=new Uint8Array(e);for(let r=0,s=0,o=n.length;r<o;r++){let u=n[r];t.set(u,s),s+=u.length}return t},$3={assign:Q7,flattenChunks:X7};let G3=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{G3=!1}const Jh=new Uint8Array(256);for(let n=0;n<256;n++)Jh[n]=n>=252?6:n>=248?5:n>=240?4:n>=224?3:n>=192?2:1;Jh[254]=Jh[254]=1;var J7=n=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(n);let e,t,r,s,o,u=n.length,c=0;for(s=0;s<u;s++)t=n.charCodeAt(s),(t&64512)===55296&&s+1<u&&(r=n.charCodeAt(s+1),(r&64512)===56320&&(t=65536+(t-55296<<10)+(r-56320),s++)),c+=t<128?1:t<2048?2:t<65536?3:4;for(e=new Uint8Array(c),o=0,s=0;o<c;s++)t=n.charCodeAt(s),(t&64512)===55296&&s+1<u&&(r=n.charCodeAt(s+1),(r&64512)===56320&&(t=65536+(t-55296<<10)+(r-56320),s++)),t<128?e[o++]=t:t<2048?(e[o++]=192|t>>>6,e[o++]=128|t&63):t<65536?(e[o++]=224|t>>>12,e[o++]=128|t>>>6&63,e[o++]=128|t&63):(e[o++]=240|t>>>18,e[o++]=128|t>>>12&63,e[o++]=128|t>>>6&63,e[o++]=128|t&63);return e};const Z7=(n,e)=>{if(e<65534&&n.subarray&&G3)return String.fromCharCode.apply(null,n.length===e?n:n.subarray(0,e));let t="";for(let r=0;r<e;r++)t+=String.fromCharCode(n[r]);return t};var eR=(n,e)=>{const t=e||n.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(n.subarray(0,e));let r,s;const o=new Array(t*2);for(s=0,r=0;r<t;){let u=n[r++];if(u<128){o[s++]=u;continue}let c=Jh[u];if(c>4){o[s++]=65533,r+=c-1;continue}for(u&=c===2?31:c===3?15:7;c>1&&r<t;)u=u<<6|n[r++]&63,c--;if(c>1){o[s++]=65533;continue}u<65536?o[s++]=u:(u-=65536,o[s++]=55296|u>>10&1023,o[s++]=56320|u&1023)}return Z7(o,s)},tR=(n,e)=>{e=e||n.length,e>n.length&&(e=n.length);let t=e-1;for(;t>=0&&(n[t]&192)===128;)t--;return t<0||t===0?e:t+Jh[n[t]]>e?t:e},_1={string2buf:J7,buf2string:eR,utf8border:tR};function nR(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var rR=nR;const dp=16209,iR=16191;var aR=function(e,t){let r,s,o,u,c,h,d,g,_,S,w,T,M,j,D,Q,W,re,ye,_e,z,V,L,H;const N=e.state;r=e.next_in,L=e.input,s=r+(e.avail_in-5),o=e.next_out,H=e.output,u=o-(t-e.avail_out),c=o+(e.avail_out-257),h=N.dmax,d=N.wsize,g=N.whave,_=N.wnext,S=N.window,w=N.hold,T=N.bits,M=N.lencode,j=N.distcode,D=(1<<N.lenbits)-1,Q=(1<<N.distbits)-1;e:do{T<15&&(w+=L[r++]<<T,T+=8,w+=L[r++]<<T,T+=8),W=M[w&D];t:for(;;){if(re=W>>>24,w>>>=re,T-=re,re=W>>>16&255,re===0)H[o++]=W&65535;else if(re&16){ye=W&65535,re&=15,re&&(T<re&&(w+=L[r++]<<T,T+=8),ye+=w&(1<<re)-1,w>>>=re,T-=re),T<15&&(w+=L[r++]<<T,T+=8,w+=L[r++]<<T,T+=8),W=j[w&Q];n:for(;;){if(re=W>>>24,w>>>=re,T-=re,re=W>>>16&255,re&16){if(_e=W&65535,re&=15,T<re&&(w+=L[r++]<<T,T+=8,T<re&&(w+=L[r++]<<T,T+=8)),_e+=w&(1<<re)-1,_e>h){e.msg="invalid distance too far back",N.mode=dp;break e}if(w>>>=re,T-=re,re=o-u,_e>re){if(re=_e-re,re>g&&N.sane){e.msg="invalid distance too far back",N.mode=dp;break e}if(z=0,V=S,_===0){if(z+=d-re,re<ye){ye-=re;do H[o++]=S[z++];while(--re);z=o-_e,V=H}}else if(_<re){if(z+=d+_-re,re-=_,re<ye){ye-=re;do H[o++]=S[z++];while(--re);if(z=0,_<ye){re=_,ye-=re;do H[o++]=S[z++];while(--re);z=o-_e,V=H}}}else if(z+=_-re,re<ye){ye-=re;do H[o++]=S[z++];while(--re);z=o-_e,V=H}for(;ye>2;)H[o++]=V[z++],H[o++]=V[z++],H[o++]=V[z++],ye-=3;ye&&(H[o++]=V[z++],ye>1&&(H[o++]=V[z++]))}else{z=o-_e;do H[o++]=H[z++],H[o++]=H[z++],H[o++]=H[z++],ye-=3;while(ye>2);ye&&(H[o++]=H[z++],ye>1&&(H[o++]=H[z++]))}}else if((re&64)===0){W=j[(W&65535)+(w&(1<<re)-1)];continue n}else{e.msg="invalid distance code",N.mode=dp;break e}break}}else if((re&64)===0){W=M[(W&65535)+(w&(1<<re)-1)];continue t}else if(re&32){N.mode=iR;break e}else{e.msg="invalid literal/length code",N.mode=dp;break e}break}}while(r<s&&o<c);ye=T>>3,r-=ye,T-=ye<<3,w&=(1<<T)-1,e.next_in=r,e.next_out=o,e.avail_in=r<s?5+(s-r):5-(r-s),e.avail_out=o<c?257+(c-o):257-(o-c),N.hold=w,N.bits=T};const rf=15,qb=852,Hb=592,$b=0,b0=1,Gb=2,sR=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),oR=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),lR=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),uR=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),cR=(n,e,t,r,s,o,u,c)=>{const h=c.bits;let d=0,g=0,_=0,S=0,w=0,T=0,M=0,j=0,D=0,Q=0,W,re,ye,_e,z,V=null,L;const H=new Uint16Array(rf+1),N=new Uint16Array(rf+1);let O=null,F,ce,Ce;for(d=0;d<=rf;d++)H[d]=0;for(g=0;g<r;g++)H[e[t+g]]++;for(w=h,S=rf;S>=1&&H[S]===0;S--);if(w>S&&(w=S),S===0)return s[o++]=1<<24|64<<16|0,s[o++]=1<<24|64<<16|0,c.bits=1,0;for(_=1;_<S&&H[_]===0;_++);for(w<_&&(w=_),j=1,d=1;d<=rf;d++)if(j<<=1,j-=H[d],j<0)return-1;if(j>0&&(n===$b||S!==1))return-1;for(N[1]=0,d=1;d<rf;d++)N[d+1]=N[d]+H[d];for(g=0;g<r;g++)e[t+g]!==0&&(u[N[e[t+g]]++]=g);if(n===$b?(V=O=u,L=20):n===b0?(V=sR,O=oR,L=257):(V=lR,O=uR,L=0),Q=0,g=0,d=_,z=o,T=w,M=0,ye=-1,D=1<<w,_e=D-1,n===b0&&D>qb||n===Gb&&D>Hb)return 1;for(;;){F=d-M,u[g]+1<L?(ce=0,Ce=u[g]):u[g]>=L?(ce=O[u[g]-L],Ce=V[u[g]-L]):(ce=96,Ce=0),W=1<<d-M,re=1<<T,_=re;do re-=W,s[z+(Q>>M)+re]=F<<24|ce<<16|Ce|0;while(re!==0);for(W=1<<d-1;Q&W;)W>>=1;if(W!==0?(Q&=W-1,Q+=W):Q=0,g++,--H[d]===0){if(d===S)break;d=e[t+u[g]]}if(d>w&&(Q&_e)!==ye){for(M===0&&(M=w),z+=_,T=d-M,j=1<<T;T+M<S&&(j-=H[T+M],!(j<=0));)T++,j<<=1;if(D+=1<<T,n===b0&&D>qb||n===Gb&&D>Hb)return 1;ye=Q&_e,s[ye]=w<<24|T<<16|z-o|0}}return Q!==0&&(s[z+Q]=d-M<<24|64<<16|0),c.bits=w,0};var Vh=cR;const fR=0,Y3=1,W3=2,{Z_FINISH:Yb,Z_BLOCK:hR,Z_TREES:pp,Z_OK:vc,Z_STREAM_END:dR,Z_NEED_DICT:pR,Z_STREAM_ERROR:Gs,Z_DATA_ERROR:K3,Z_MEM_ERROR:Q3,Z_BUF_ERROR:mR,Z_DEFLATED:Wb}=H3,Dm=16180,Kb=16181,Qb=16182,Xb=16183,Jb=16184,Zb=16185,ew=16186,tw=16187,nw=16188,rw=16189,nm=16190,Dl=16191,w0=16192,iw=16193,_0=16194,aw=16195,sw=16196,ow=16197,lw=16198,mp=16199,gp=16200,uw=16201,cw=16202,fw=16203,hw=16204,dw=16205,x0=16206,pw=16207,mw=16208,Pr=16209,X3=16210,J3=16211,gR=852,vR=592,yR=15,bR=yR,gw=n=>(n>>>24&255)+(n>>>8&65280)+((n&65280)<<8)+((n&255)<<24);function wR(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const wc=n=>{if(!n)return 1;const e=n.state;return!e||e.strm!==n||e.mode<Dm||e.mode>J3?1:0},Z3=n=>{if(wc(n))return Gs;const e=n.state;return n.total_in=n.total_out=e.total=0,n.msg="",e.wrap&&(n.adler=e.wrap&1),e.mode=Dm,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(gR),e.distcode=e.distdyn=new Int32Array(vR),e.sane=1,e.back=-1,vc},ex=n=>{if(wc(n))return Gs;const e=n.state;return e.wsize=0,e.whave=0,e.wnext=0,Z3(n)},tx=(n,e)=>{let t;if(wc(n))return Gs;const r=n.state;return e<0?(t=0,e=-e):(t=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?Gs:(r.window!==null&&r.wbits!==e&&(r.window=null),r.wrap=t,r.wbits=e,ex(n))},nx=(n,e)=>{if(!n)return Gs;const t=new wR;n.state=t,t.strm=n,t.window=null,t.mode=Dm;const r=tx(n,e);return r!==vc&&(n.state=null),r},_R=n=>nx(n,bR);let vw=!0,S0,A0;const xR=n=>{if(vw){S0=new Int32Array(512),A0=new Int32Array(32);let e=0;for(;e<144;)n.lens[e++]=8;for(;e<256;)n.lens[e++]=9;for(;e<280;)n.lens[e++]=7;for(;e<288;)n.lens[e++]=8;for(Vh(Y3,n.lens,0,288,S0,0,n.work,{bits:9}),e=0;e<32;)n.lens[e++]=5;Vh(W3,n.lens,0,32,A0,0,n.work,{bits:5}),vw=!1}n.lencode=S0,n.lenbits=9,n.distcode=A0,n.distbits=5},rx=(n,e,t,r)=>{let s;const o=n.state;return o.window===null&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),r>=o.wsize?(o.window.set(e.subarray(t-o.wsize,t),0),o.wnext=0,o.whave=o.wsize):(s=o.wsize-o.wnext,s>r&&(s=r),o.window.set(e.subarray(t-r,t-r+s),o.wnext),r-=s,r?(o.window.set(e.subarray(t-r,t),0),o.wnext=r,o.whave=o.wsize):(o.wnext+=s,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=s))),0},SR=(n,e)=>{let t,r,s,o,u,c,h,d,g,_,S,w,T,M,j=0,D,Q,W,re,ye,_e,z,V;const L=new Uint8Array(4);let H,N;const O=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(wc(n)||!n.output||!n.input&&n.avail_in!==0)return Gs;t=n.state,t.mode===Dl&&(t.mode=w0),u=n.next_out,s=n.output,h=n.avail_out,o=n.next_in,r=n.input,c=n.avail_in,d=t.hold,g=t.bits,_=c,S=h,V=vc;e:for(;;)switch(t.mode){case Dm:if(t.wrap===0){t.mode=w0;break}for(;g<16;){if(c===0)break e;c--,d+=r[o++]<<g,g+=8}if(t.wrap&2&&d===35615){t.wbits===0&&(t.wbits=15),t.check=0,L[0]=d&255,L[1]=d>>>8&255,t.check=Ho(t.check,L,2,0),d=0,g=0,t.mode=Kb;break}if(t.head&&(t.head.done=!1),!(t.wrap&1)||(((d&255)<<8)+(d>>8))%31){n.msg="incorrect header check",t.mode=Pr;break}if((d&15)!==Wb){n.msg="unknown compression method",t.mode=Pr;break}if(d>>>=4,g-=4,z=(d&15)+8,t.wbits===0&&(t.wbits=z),z>15||z>t.wbits){n.msg="invalid window size",t.mode=Pr;break}t.dmax=1<<t.wbits,t.flags=0,n.adler=t.check=1,t.mode=d&512?rw:Dl,d=0,g=0;break;case Kb:for(;g<16;){if(c===0)break e;c--,d+=r[o++]<<g,g+=8}if(t.flags=d,(t.flags&255)!==Wb){n.msg="unknown compression method",t.mode=Pr;break}if(t.flags&57344){n.msg="unknown header flags set",t.mode=Pr;break}t.head&&(t.head.text=d>>8&1),t.flags&512&&t.wrap&4&&(L[0]=d&255,L[1]=d>>>8&255,t.check=Ho(t.check,L,2,0)),d=0,g=0,t.mode=Qb;case Qb:for(;g<32;){if(c===0)break e;c--,d+=r[o++]<<g,g+=8}t.head&&(t.head.time=d),t.flags&512&&t.wrap&4&&(L[0]=d&255,L[1]=d>>>8&255,L[2]=d>>>16&255,L[3]=d>>>24&255,t.check=Ho(t.check,L,4,0)),d=0,g=0,t.mode=Xb;case Xb:for(;g<16;){if(c===0)break e;c--,d+=r[o++]<<g,g+=8}t.head&&(t.head.xflags=d&255,t.head.os=d>>8),t.flags&512&&t.wrap&4&&(L[0]=d&255,L[1]=d>>>8&255,t.check=Ho(t.check,L,2,0)),d=0,g=0,t.mode=Jb;case Jb:if(t.flags&1024){for(;g<16;){if(c===0)break e;c--,d+=r[o++]<<g,g+=8}t.length=d,t.head&&(t.head.extra_len=d),t.flags&512&&t.wrap&4&&(L[0]=d&255,L[1]=d>>>8&255,t.check=Ho(t.check,L,2,0)),d=0,g=0}else t.head&&(t.head.extra=null);t.mode=Zb;case Zb:if(t.flags&1024&&(w=t.length,w>c&&(w=c),w&&(t.head&&(z=t.head.extra_len-t.length,t.head.extra||(t.head.extra=new Uint8Array(t.head.extra_len)),t.head.extra.set(r.subarray(o,o+w),z)),t.flags&512&&t.wrap&4&&(t.check=Ho(t.check,r,w,o)),c-=w,o+=w,t.length-=w),t.length))break e;t.length=0,t.mode=ew;case ew:if(t.flags&2048){if(c===0)break e;w=0;do z=r[o+w++],t.head&&z&&t.length<65536&&(t.head.name+=String.fromCharCode(z));while(z&&w<c);if(t.flags&512&&t.wrap&4&&(t.check=Ho(t.check,r,w,o)),c-=w,o+=w,z)break e}else t.head&&(t.head.name=null);t.length=0,t.mode=tw;case tw:if(t.flags&4096){if(c===0)break e;w=0;do z=r[o+w++],t.head&&z&&t.length<65536&&(t.head.comment+=String.fromCharCode(z));while(z&&w<c);if(t.flags&512&&t.wrap&4&&(t.check=Ho(t.check,r,w,o)),c-=w,o+=w,z)break e}else t.head&&(t.head.comment=null);t.mode=nw;case nw:if(t.flags&512){for(;g<16;){if(c===0)break e;c--,d+=r[o++]<<g,g+=8}if(t.wrap&4&&d!==(t.check&65535)){n.msg="header crc mismatch",t.mode=Pr;break}d=0,g=0}t.head&&(t.head.hcrc=t.flags>>9&1,t.head.done=!0),n.adler=t.check=0,t.mode=Dl;break;case rw:for(;g<32;){if(c===0)break e;c--,d+=r[o++]<<g,g+=8}n.adler=t.check=gw(d),d=0,g=0,t.mode=nm;case nm:if(t.havedict===0)return n.next_out=u,n.avail_out=h,n.next_in=o,n.avail_in=c,t.hold=d,t.bits=g,pR;n.adler=t.check=1,t.mode=Dl;case Dl:if(e===hR||e===pp)break e;case w0:if(t.last){d>>>=g&7,g-=g&7,t.mode=x0;break}for(;g<3;){if(c===0)break e;c--,d+=r[o++]<<g,g+=8}switch(t.last=d&1,d>>>=1,g-=1,d&3){case 0:t.mode=iw;break;case 1:if(xR(t),t.mode=mp,e===pp){d>>>=2,g-=2;break e}break;case 2:t.mode=sw;break;case 3:n.msg="invalid block type",t.mode=Pr}d>>>=2,g-=2;break;case iw:for(d>>>=g&7,g-=g&7;g<32;){if(c===0)break e;c--,d+=r[o++]<<g,g+=8}if((d&65535)!==(d>>>16^65535)){n.msg="invalid stored block lengths",t.mode=Pr;break}if(t.length=d&65535,d=0,g=0,t.mode=_0,e===pp)break e;case _0:t.mode=aw;case aw:if(w=t.length,w){if(w>c&&(w=c),w>h&&(w=h),w===0)break e;s.set(r.subarray(o,o+w),u),c-=w,o+=w,h-=w,u+=w,t.length-=w;break}t.mode=Dl;break;case sw:for(;g<14;){if(c===0)break e;c--,d+=r[o++]<<g,g+=8}if(t.nlen=(d&31)+257,d>>>=5,g-=5,t.ndist=(d&31)+1,d>>>=5,g-=5,t.ncode=(d&15)+4,d>>>=4,g-=4,t.nlen>286||t.ndist>30){n.msg="too many length or distance symbols",t.mode=Pr;break}t.have=0,t.mode=ow;case ow:for(;t.have<t.ncode;){for(;g<3;){if(c===0)break e;c--,d+=r[o++]<<g,g+=8}t.lens[O[t.have++]]=d&7,d>>>=3,g-=3}for(;t.have<19;)t.lens[O[t.have++]]=0;if(t.lencode=t.lendyn,t.lenbits=7,H={bits:t.lenbits},V=Vh(fR,t.lens,0,19,t.lencode,0,t.work,H),t.lenbits=H.bits,V){n.msg="invalid code lengths set",t.mode=Pr;break}t.have=0,t.mode=lw;case lw:for(;t.have<t.nlen+t.ndist;){for(;j=t.lencode[d&(1<<t.lenbits)-1],D=j>>>24,Q=j>>>16&255,W=j&65535,!(D<=g);){if(c===0)break e;c--,d+=r[o++]<<g,g+=8}if(W<16)d>>>=D,g-=D,t.lens[t.have++]=W;else{if(W===16){for(N=D+2;g<N;){if(c===0)break e;c--,d+=r[o++]<<g,g+=8}if(d>>>=D,g-=D,t.have===0){n.msg="invalid bit length repeat",t.mode=Pr;break}z=t.lens[t.have-1],w=3+(d&3),d>>>=2,g-=2}else if(W===17){for(N=D+3;g<N;){if(c===0)break e;c--,d+=r[o++]<<g,g+=8}d>>>=D,g-=D,z=0,w=3+(d&7),d>>>=3,g-=3}else{for(N=D+7;g<N;){if(c===0)break e;c--,d+=r[o++]<<g,g+=8}d>>>=D,g-=D,z=0,w=11+(d&127),d>>>=7,g-=7}if(t.have+w>t.nlen+t.ndist){n.msg="invalid bit length repeat",t.mode=Pr;break}for(;w--;)t.lens[t.have++]=z}}if(t.mode===Pr)break;if(t.lens[256]===0){n.msg="invalid code -- missing end-of-block",t.mode=Pr;break}if(t.lenbits=9,H={bits:t.lenbits},V=Vh(Y3,t.lens,0,t.nlen,t.lencode,0,t.work,H),t.lenbits=H.bits,V){n.msg="invalid literal/lengths set",t.mode=Pr;break}if(t.distbits=6,t.distcode=t.distdyn,H={bits:t.distbits},V=Vh(W3,t.lens,t.nlen,t.ndist,t.distcode,0,t.work,H),t.distbits=H.bits,V){n.msg="invalid distances set",t.mode=Pr;break}if(t.mode=mp,e===pp)break e;case mp:t.mode=gp;case gp:if(c>=6&&h>=258){n.next_out=u,n.avail_out=h,n.next_in=o,n.avail_in=c,t.hold=d,t.bits=g,aR(n,S),u=n.next_out,s=n.output,h=n.avail_out,o=n.next_in,r=n.input,c=n.avail_in,d=t.hold,g=t.bits,t.mode===Dl&&(t.back=-1);break}for(t.back=0;j=t.lencode[d&(1<<t.lenbits)-1],D=j>>>24,Q=j>>>16&255,W=j&65535,!(D<=g);){if(c===0)break e;c--,d+=r[o++]<<g,g+=8}if(Q&&(Q&240)===0){for(re=D,ye=Q,_e=W;j=t.lencode[_e+((d&(1<<re+ye)-1)>>re)],D=j>>>24,Q=j>>>16&255,W=j&65535,!(re+D<=g);){if(c===0)break e;c--,d+=r[o++]<<g,g+=8}d>>>=re,g-=re,t.back+=re}if(d>>>=D,g-=D,t.back+=D,t.length=W,Q===0){t.mode=dw;break}if(Q&32){t.back=-1,t.mode=Dl;break}if(Q&64){n.msg="invalid literal/length code",t.mode=Pr;break}t.extra=Q&15,t.mode=uw;case uw:if(t.extra){for(N=t.extra;g<N;){if(c===0)break e;c--,d+=r[o++]<<g,g+=8}t.length+=d&(1<<t.extra)-1,d>>>=t.extra,g-=t.extra,t.back+=t.extra}t.was=t.length,t.mode=cw;case cw:for(;j=t.distcode[d&(1<<t.distbits)-1],D=j>>>24,Q=j>>>16&255,W=j&65535,!(D<=g);){if(c===0)break e;c--,d+=r[o++]<<g,g+=8}if((Q&240)===0){for(re=D,ye=Q,_e=W;j=t.distcode[_e+((d&(1<<re+ye)-1)>>re)],D=j>>>24,Q=j>>>16&255,W=j&65535,!(re+D<=g);){if(c===0)break e;c--,d+=r[o++]<<g,g+=8}d>>>=re,g-=re,t.back+=re}if(d>>>=D,g-=D,t.back+=D,Q&64){n.msg="invalid distance code",t.mode=Pr;break}t.offset=W,t.extra=Q&15,t.mode=fw;case fw:if(t.extra){for(N=t.extra;g<N;){if(c===0)break e;c--,d+=r[o++]<<g,g+=8}t.offset+=d&(1<<t.extra)-1,d>>>=t.extra,g-=t.extra,t.back+=t.extra}if(t.offset>t.dmax){n.msg="invalid distance too far back",t.mode=Pr;break}t.mode=hw;case hw:if(h===0)break e;if(w=S-h,t.offset>w){if(w=t.offset-w,w>t.whave&&t.sane){n.msg="invalid distance too far back",t.mode=Pr;break}w>t.wnext?(w-=t.wnext,T=t.wsize-w):T=t.wnext-w,w>t.length&&(w=t.length),M=t.window}else M=s,T=u-t.offset,w=t.length;w>h&&(w=h),h-=w,t.length-=w;do s[u++]=M[T++];while(--w);t.length===0&&(t.mode=gp);break;case dw:if(h===0)break e;s[u++]=t.length,h--,t.mode=gp;break;case x0:if(t.wrap){for(;g<32;){if(c===0)break e;c--,d|=r[o++]<<g,g+=8}if(S-=h,n.total_out+=S,t.total+=S,t.wrap&4&&S&&(n.adler=t.check=t.flags?Ho(t.check,s,S,u-S):b1(t.check,s,S,u-S)),S=h,t.wrap&4&&(t.flags?d:gw(d))!==t.check){n.msg="incorrect data check",t.mode=Pr;break}d=0,g=0}t.mode=pw;case pw:if(t.wrap&&t.flags){for(;g<32;){if(c===0)break e;c--,d+=r[o++]<<g,g+=8}if(t.wrap&4&&d!==(t.total&4294967295)){n.msg="incorrect length check",t.mode=Pr;break}d=0,g=0}t.mode=mw;case mw:V=dR;break e;case Pr:V=K3;break e;case X3:return Q3;case J3:default:return Gs}return n.next_out=u,n.avail_out=h,n.next_in=o,n.avail_in=c,t.hold=d,t.bits=g,(t.wsize||S!==n.avail_out&&t.mode<Pr&&(t.mode<x0||e!==Yb))&&rx(n,n.output,n.next_out,S-n.avail_out),_-=n.avail_in,S-=n.avail_out,n.total_in+=_,n.total_out+=S,t.total+=S,t.wrap&4&&S&&(n.adler=t.check=t.flags?Ho(t.check,s,S,n.next_out-S):b1(t.check,s,S,n.next_out-S)),n.data_type=t.bits+(t.last?64:0)+(t.mode===Dl?128:0)+(t.mode===mp||t.mode===_0?256:0),(_===0&&S===0||e===Yb)&&V===vc&&(V=mR),V},AR=n=>{if(wc(n))return Gs;let e=n.state;return e.window&&(e.window=null),n.state=null,vc},ER=(n,e)=>{if(wc(n))return Gs;const t=n.state;return(t.wrap&2)===0?Gs:(t.head=e,e.done=!1,vc)},TR=(n,e)=>{const t=e.length;let r,s,o;return wc(n)||(r=n.state,r.wrap!==0&&r.mode!==nm)?Gs:r.mode===nm&&(s=1,s=b1(s,e,t,0),s!==r.check)?K3:(o=rx(n,e,t,t),o?(r.mode=X3,Q3):(r.havedict=1,vc))};var NR=ex,CR=tx,DR=Z3,RR=_R,IR=nx,LR=SR,MR=AR,kR=ER,OR=TR,PR="pako inflate (from Nodeca project)",Rl={inflateReset:NR,inflateReset2:CR,inflateResetKeep:DR,inflateInit:RR,inflateInit2:IR,inflate:LR,inflateEnd:MR,inflateGetHeader:kR,inflateSetDictionary:OR,inflateInfo:PR};function jR(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var FR=jR;const ix=Object.prototype.toString,{Z_NO_FLUSH:VR,Z_FINISH:BR,Z_OK:Zh,Z_STREAM_END:E0,Z_NEED_DICT:T0,Z_STREAM_ERROR:UR,Z_DATA_ERROR:yw,Z_MEM_ERROR:zR}=H3;function fd(n){this.options=$3.assign({chunkSize:1024*64,windowBits:15,to:""},n||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(n&&n.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new rR,this.strm.avail_out=0;let t=Rl.inflateInit2(this.strm,e.windowBits);if(t!==Zh)throw new Error(w1[t]);if(this.header=new FR,Rl.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=_1.string2buf(e.dictionary):ix.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(t=Rl.inflateSetDictionary(this.strm,e.dictionary),t!==Zh)))throw new Error(w1[t])}fd.prototype.push=function(n,e){const t=this.strm,r=this.options.chunkSize,s=this.options.dictionary;let o,u,c;if(this.ended)return!1;for(e===~~e?u=e:u=e===!0?BR:VR,ix.call(n)==="[object ArrayBuffer]"?t.input=new Uint8Array(n):t.input=n,t.next_in=0,t.avail_in=t.input.length;;){for(t.avail_out===0&&(t.output=new Uint8Array(r),t.next_out=0,t.avail_out=r),o=Rl.inflate(t,u),o===T0&&s&&(o=Rl.inflateSetDictionary(t,s),o===Zh?o=Rl.inflate(t,u):o===yw&&(o=T0));t.avail_in>0&&o===E0&&t.state.wrap>0&&n[t.next_in]!==0;)Rl.inflateReset(t),o=Rl.inflate(t,u);switch(o){case UR:case yw:case T0:case zR:return this.onEnd(o),this.ended=!0,!1}if(c=t.avail_out,t.next_out&&(t.avail_out===0||o===E0))if(this.options.to==="string"){let h=_1.utf8border(t.output,t.next_out),d=t.next_out-h,g=_1.buf2string(t.output,h);t.next_out=d,t.avail_out=r-d,d&&t.output.set(t.output.subarray(h,h+d),0),this.onData(g)}else this.onData(t.output.length===t.next_out?t.output:t.output.subarray(0,t.next_out));if(!(o===Zh&&c===0)){if(o===E0)return o=Rl.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,!0;if(t.avail_in===0)break}}return!0};fd.prototype.onData=function(n){this.chunks.push(n)};fd.prototype.onEnd=function(n){n===Zh&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=$3.flattenChunks(this.chunks)),this.chunks=[],this.err=n,this.msg=this.strm.msg};function qR(n,e){const t=new fd(e);if(t.push(n),t.err)throw t.msg||w1[t.err];return t.result}var HR=fd,$R=qR,GR={Inflate:HR,inflate:$R};const{Inflate:YR,inflate:WR}=GR;var bw=YR,KR=WR;const ax=[];for(let n=0;n<256;n++){let e=n;for(let t=0;t<8;t++)e&1?e=3988292384^e>>>1:e=e>>>1;ax[n]=e}const ww=4294967295;function QR(n,e,t){let r=n;for(let s=0;s<t;s++)r=ax[(r^e[s])&255]^r>>>8;return r}function XR(n,e){return(QR(ww,n,e)^ww)>>>0}function _w(n,e,t){const r=n.readUint32(),s=XR(new Uint8Array(n.buffer,n.byteOffset+n.offset-e-4,e),e);if(s!==r)throw new Error(`CRC mismatch for chunk ${t}. Expected ${r}, found ${s}`)}function sx(n,e,t){for(let r=0;r<t;r++)e[r]=n[r]}function ox(n,e,t,r){let s=0;for(;s<r;s++)e[s]=n[s];for(;s<t;s++)e[s]=n[s]+e[s-r]&255}function lx(n,e,t,r){let s=0;if(t.length===0)for(;s<r;s++)e[s]=n[s];else for(;s<r;s++)e[s]=n[s]+t[s]&255}function ux(n,e,t,r,s){let o=0;if(t.length===0){for(;o<s;o++)e[o]=n[o];for(;o<r;o++)e[o]=n[o]+(e[o-s]>>1)&255}else{for(;o<s;o++)e[o]=n[o]+(t[o]>>1)&255;for(;o<r;o++)e[o]=n[o]+(e[o-s]+t[o]>>1)&255}}function cx(n,e,t,r,s){let o=0;if(t.length===0){for(;o<s;o++)e[o]=n[o];for(;o<r;o++)e[o]=n[o]+e[o-s]&255}else{for(;o<s;o++)e[o]=n[o]+t[o]&255;for(;o<r;o++)e[o]=n[o]+JR(e[o-s],t[o],t[o-s])&255}}function JR(n,e,t){const r=n+e-t,s=Math.abs(r-n),o=Math.abs(r-e),u=Math.abs(r-t);return s<=o&&s<=u?n:o<=u?e:t}function ZR(n,e,t,r,s,o){switch(n){case 0:sx(e,t,s);break;case 1:ox(e,t,s,o);break;case 2:lx(e,t,r,s);break;case 3:ux(e,t,r,s,o);break;case 4:cx(e,t,r,s,o);break;default:throw new Error(`Unsupported filter: ${n}`)}}const eI=new Uint16Array([255]),tI=new Uint8Array(eI.buffer),nI=tI[0]===255;function rI(n){const{data:e,width:t,height:r,channels:s,depth:o}=n,u=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],c=Math.ceil(o/8)*s,h=new Uint8Array(r*t*c);let d=0;for(let g=0;g<7;g++){const _=u[g],S=Math.ceil((t-_.x)/_.xStep),w=Math.ceil((r-_.y)/_.yStep);if(S<=0||w<=0)continue;const T=S*c,M=new Uint8Array(T);for(let j=0;j<w;j++){const D=e[d++],Q=e.subarray(d,d+T);d+=T;const W=new Uint8Array(T);ZR(D,Q,W,M,T,c),M.set(W);for(let re=0;re<S;re++){const ye=_.x+re*_.xStep,_e=_.y+j*_.yStep;if(!(ye>=t||_e>=r))for(let z=0;z<c;z++)h[(_e*t+ye)*c+z]=W[re*c+z]}}}if(o===16){const g=new Uint16Array(h.buffer);if(nI)for(let _=0;_<g.length;_++)g[_]=iI(g[_]);return g}else return h}function iI(n){return(n&255)<<8|n>>8&255}const aI=new Uint16Array([255]),sI=new Uint8Array(aI.buffer),oI=sI[0]===255,lI=new Uint8Array(0);function xw(n){const{data:e,width:t,height:r,channels:s,depth:o}=n,u=Math.ceil(o/8)*s,c=Math.ceil(o/8*s*t),h=new Uint8Array(r*c);let d=lI,g=0,_,S;for(let w=0;w<r;w++){switch(_=e.subarray(g+1,g+1+c),S=h.subarray(w*c,(w+1)*c),e[g]){case 0:sx(_,S,c);break;case 1:ox(_,S,c,u);break;case 2:lx(_,S,d,c);break;case 3:ux(_,S,d,c,u);break;case 4:cx(_,S,d,c,u);break;default:throw new Error(`Unsupported filter: ${e[g]}`)}d=S,g+=c+1}if(o===16){const w=new Uint16Array(h.buffer);if(oI)for(let T=0;T<w.length;T++)w[T]=uI(w[T]);return w}else return h}function uI(n){return(n&255)<<8|n>>8&255}const Ip=Uint8Array.of(137,80,78,71,13,10,26,10);function Sw(n){if(!cI(n.readBytes(Ip.length)))throw new Error("wrong PNG signature")}function cI(n){if(n.length<Ip.length)return!1;for(let e=0;e<Ip.length;e++)if(n[e]!==Ip[e])return!1;return!0}const fI="tEXt",hI=0,fx=new TextDecoder("latin1");function dI(n){if(mI(n),n.length===0||n.length>79)throw new Error("keyword length must be between 1 and 79")}const pI=/^[\u0000-\u00FF]*$/;function mI(n){if(!pI.test(n))throw new Error("invalid latin1 text")}function gI(n,e,t){const r=hx(e);n[r]=vI(e,t-r.length-1)}function hx(n){for(n.mark();n.readByte()!==hI;);const e=n.offset;n.reset();const t=fx.decode(n.readBytes(e-n.offset-1));return n.skip(1),dI(t),t}function vI(n,e){return fx.decode(n.readBytes(e))}const bs={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},N0={UNKNOWN:-1,DEFLATE:0},Aw={UNKNOWN:-1,ADAPTIVE:0},C0={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},vp={NONE:0,BACKGROUND:1,PREVIOUS:2},D0={SOURCE:0,OVER:1};class yI extends L2{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(e,t={}){super(e);const{checkCrc:r=!1}=t;this._checkCrc=r,this._inflator=new bw,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=N0.UNKNOWN,this._filterMethod=Aw.UNKNOWN,this._interlaceMethod=C0.UNKNOWN,this._colorType=bs.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(Sw(this);!this._end;){const e=this.readUint32(),t=this.readChars(4);this.decodeChunk(e,t)}return this.decodeImage(),this._png}decodeApng(){for(Sw(this);!this._end;){const e=this.readUint32(),t=this.readChars(4);this.decodeApngChunk(e,t)}return this.decodeApngImage(),this._apng}decodeChunk(e,t){const r=this.offset;switch(t){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(e);break;case"IDAT":this.decodeIDAT(e);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(e);break;case"iCCP":this.decodeiCCP(e);break;case fI:gI(this._png.text,this,e);break;case"pHYs":this.decodepHYs();break;default:this.skip(e);break}if(this.offset-r!==e)throw new Error(`Length mismatch while decoding chunk ${t}`);this._checkCrc?_w(this,e+4,t):this.skip(4)}decodeApngChunk(e,t){const r=this.offset;switch(t!=="fdAT"&&t!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),t){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(e);break;default:this.decodeChunk(e,t),this.offset=r+e;break}if(this.offset-r!==e)throw new Error(`Length mismatch while decoding chunk ${t}`);this._checkCrc?_w(this,e+4,t):this.skip(4)}decodeIHDR(){const e=this._png;e.width=this.readUint32(),e.height=this.readUint32(),e.depth=bI(this.readUint8());const t=this.readUint8();this._colorType=t;let r;switch(t){case bs.GREYSCALE:r=1;break;case bs.TRUECOLOUR:r=3;break;case bs.INDEXED_COLOUR:r=1;break;case bs.GREYSCALE_ALPHA:r=2;break;case bs.TRUECOLOUR_ALPHA:r=4;break;case bs.UNKNOWN:default:throw new Error(`Unknown color type: ${t}`)}if(this._png.channels=r,this._compressionMethod=this.readUint8(),this._compressionMethod!==N0.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const e={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(e)}decodePLTE(e){if(e%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${e}`);const t=e/3;this._hasPalette=!0;const r=[];this._palette=r;for(let s=0;s<t;s++)r.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(e){this._writingDataChunks=!0;const t=e,r=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,r,t)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodeFDAT(e){this._writingDataChunks=!0;let t=e,r=this.offset+this.byteOffset;if(r+=4,t-=4,this._inflator.push(new Uint8Array(this.buffer,r,t)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodetRNS(e){switch(this._colorType){case bs.GREYSCALE:case bs.TRUECOLOUR:{if(e%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${e}`);if(e/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${e/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(e/2);for(let t=0;t<e/2;t++)this._transparency[t]=this.readUint16();break}case bs.INDEXED_COLOUR:{if(e>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${e} vs ${this._palette.length})`);let t=0;for(;t<e;t++){const r=this.readByte();this._palette[t].push(r)}for(;t<this._palette.length;t++)this._palette[t].push(255);break}case bs.UNKNOWN:case bs.GREYSCALE_ALPHA:case bs.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(e){const t=hx(this),r=this.readUint8();if(r!==N0.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${r}`);const s=this.readBytes(e-t.length-2);this._png.iccEmbeddedProfile={name:t,profile:KR(s)}}decodepHYs(){const e=this.readUint32(),t=this.readUint32(),r=this.readByte();this._png.resolution={x:e,y:t,unit:r}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let e=0;e<this._numberOfFrames;e++){const t={sequenceNumber:this._frames[e].sequenceNumber,delayNumber:this._frames[e].delayNumber,delayDenominator:this._frames[e].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},r=this._frames.at(e);if(r){if(r.data=xw({data:r.data,width:r.width,height:r.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),e===0||r.xOffset===0&&r.yOffset===0&&r.width===this._png.width&&r.height===this._png.height)t.data=r.data;else{const s=this._apng.frames.at(e-1);this.disposeFrame(r,s,t),this.addFrameDataToCanvas(t,r)}this._apng.frames.push(t)}}return this._apng}disposeFrame(e,t,r){switch(e.disposeOp){case vp.NONE:break;case vp.BACKGROUND:for(let s=0;s<this._png.height;s++)for(let o=0;o<this._png.width;o++){const u=(s*e.width+o)*this._png.channels;for(let c=0;c<this._png.channels;c++)r.data[u+c]=0}break;case vp.PREVIOUS:r.data.set(t.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(e,t){const r=1<<this._png.depth,s=(o,u)=>{const c=((o+t.yOffset)*this._png.width+t.xOffset+u)*this._png.channels,h=(o*t.width+u)*this._png.channels;return{index:c,frameIndex:h}};switch(t.blendOp){case D0.SOURCE:for(let o=0;o<t.height;o++)for(let u=0;u<t.width;u++){const{index:c,frameIndex:h}=s(o,u);for(let d=0;d<this._png.channels;d++)e.data[c+d]=t.data[h+d]}break;case D0.OVER:for(let o=0;o<t.height;o++)for(let u=0;u<t.width;u++){const{index:c,frameIndex:h}=s(o,u);for(let d=0;d<this._png.channels;d++){const g=t.data[h+this._png.channels-1]/r,_=d%(this._png.channels-1)===0?1:t.data[h+d],S=Math.floor(g*_+(1-g)*e.data[c+d]);e.data[c+d]+=S}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const e=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==Aw.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===C0.NO_INTERLACE)this._png.data=xw({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===C0.ADAM7)this._png.data=rI({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const e=this._inflator.result,t=this._frames.at(-1);t?t.data=e:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:vp.NONE,blendOp:D0.SOURCE,data:e}),this._inflator=new bw,this._writingDataChunks=!1}}function bI(n){if(n!==1&&n!==2&&n!==4&&n!==8&&n!==16)throw new Error(`invalid bit depth: ${n}`);return n}var Ew;(function(n){n[n.UNKNOWN=0]="UNKNOWN",n[n.METRE=1]="METRE"})(Ew||(Ew={}));function wI(n,e){return new yI(n,e).decode()}var cn=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function R0(){cn.console&&typeof cn.console.log=="function"&&cn.console.log.apply(cn.console,arguments)}var wr={log:R0,warn:function(n){cn.console&&(typeof cn.console.warn=="function"?cn.console.warn.apply(cn.console,arguments):R0.call(null,arguments))},error:function(n){cn.console&&(typeof cn.console.error=="function"?cn.console.error.apply(cn.console,arguments):R0(n))}};function I0(n,e,t){var r=new XMLHttpRequest;r.open("GET",n),r.responseType="blob",r.onload=function(){rc(r.response,e,t)},r.onerror=function(){wr.error("could not download file")},r.send()}function Tw(n){var e=new XMLHttpRequest;e.open("HEAD",n,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function yp(n){try{n.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),n.dispatchEvent(e)}}var rc=cn.saveAs||((typeof window>"u"?"undefined":or(window))!=="object"||window!==cn?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(n,e,t){var r=cn.URL||cn.webkitURL,s=document.createElement("a");e=e||n.name||"download",s.download=e,s.rel="noopener",typeof n=="string"?(s.href=n,s.origin!==location.origin?Tw(s.href)?I0(n,e,t):yp(s,s.target="_blank"):yp(s)):(s.href=r.createObjectURL(n),setTimeout(function(){r.revokeObjectURL(s.href)},4e4),setTimeout(function(){yp(s)},0))}:"msSaveOrOpenBlob"in navigator?function(n,e,t){if(e=e||n.name||"download",typeof n=="string")if(Tw(n))I0(n,e,t);else{var r=document.createElement("a");r.href=n,r.target="_blank",setTimeout(function(){yp(r)})}else navigator.msSaveOrOpenBlob((function(s,o){return o===void 0?o={autoBom:!1}:or(o)!=="object"&&(wr.warn("Deprecated: Expected third argument to be a object"),o={autoBom:!o}),o.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(s.type)?new Blob(["\uFEFF",s],{type:s.type}):s})(n,t),e)}:function(n,e,t,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof n=="string")return I0(n,e,t);var s=n.type==="application/octet-stream",o=/constructor/i.test(cn.HTMLElement)||cn.safari,u=/CriOS\/[\d]+/.test(navigator.userAgent);if((u||s&&o)&&(typeof FileReader>"u"?"undefined":or(FileReader))==="object"){var c=new FileReader;c.onloadend=function(){var g=c.result;g=u?g:g.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=g:location=g,r=null},c.readAsDataURL(n)}else{var h=cn.URL||cn.webkitURL,d=h.createObjectURL(n);r?r.location=d:location.href=d,r=null,setTimeout(function(){h.revokeObjectURL(d)},4e4)}});function dx(n){var e;n=n||"",this.ok=!1,n.charAt(0)=="#"&&(n=n.substr(1,6)),n={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[n=(n=n.replace(/ /g,"")).toLowerCase()]||n;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(c){return[parseInt(c[1]),parseInt(c[2]),parseInt(c[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(c){return[parseInt(c[1],16),parseInt(c[2],16),parseInt(c[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(c){return[parseInt(c[1]+c[1],16),parseInt(c[2]+c[2],16),parseInt(c[3]+c[3],16)]}}],r=0;r<t.length;r++){var s=t[r].re,o=t[r].process,u=s.exec(n);u&&(e=o(u),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var c=this.r.toString(16),h=this.g.toString(16),d=this.b.toString(16);return c.length==1&&(c="0"+c),h.length==1&&(h="0"+h),d.length==1&&(d="0"+d),"#"+c+h+d}}var Lp=cn.atob.bind(cn),Nw=cn.btoa.bind(cn);function L0(n,e){var t=n[0],r=n[1],s=n[2],o=n[3];t=ma(t,r,s,o,e[0],7,-680876936),o=ma(o,t,r,s,e[1],12,-389564586),s=ma(s,o,t,r,e[2],17,606105819),r=ma(r,s,o,t,e[3],22,-1044525330),t=ma(t,r,s,o,e[4],7,-176418897),o=ma(o,t,r,s,e[5],12,1200080426),s=ma(s,o,t,r,e[6],17,-1473231341),r=ma(r,s,o,t,e[7],22,-45705983),t=ma(t,r,s,o,e[8],7,1770035416),o=ma(o,t,r,s,e[9],12,-1958414417),s=ma(s,o,t,r,e[10],17,-42063),r=ma(r,s,o,t,e[11],22,-1990404162),t=ma(t,r,s,o,e[12],7,1804603682),o=ma(o,t,r,s,e[13],12,-40341101),s=ma(s,o,t,r,e[14],17,-1502002290),t=ga(t,r=ma(r,s,o,t,e[15],22,1236535329),s,o,e[1],5,-165796510),o=ga(o,t,r,s,e[6],9,-1069501632),s=ga(s,o,t,r,e[11],14,643717713),r=ga(r,s,o,t,e[0],20,-373897302),t=ga(t,r,s,o,e[5],5,-701558691),o=ga(o,t,r,s,e[10],9,38016083),s=ga(s,o,t,r,e[15],14,-660478335),r=ga(r,s,o,t,e[4],20,-405537848),t=ga(t,r,s,o,e[9],5,568446438),o=ga(o,t,r,s,e[14],9,-1019803690),s=ga(s,o,t,r,e[3],14,-187363961),r=ga(r,s,o,t,e[8],20,1163531501),t=ga(t,r,s,o,e[13],5,-1444681467),o=ga(o,t,r,s,e[2],9,-51403784),s=ga(s,o,t,r,e[7],14,1735328473),t=va(t,r=ga(r,s,o,t,e[12],20,-1926607734),s,o,e[5],4,-378558),o=va(o,t,r,s,e[8],11,-2022574463),s=va(s,o,t,r,e[11],16,1839030562),r=va(r,s,o,t,e[14],23,-35309556),t=va(t,r,s,o,e[1],4,-1530992060),o=va(o,t,r,s,e[4],11,1272893353),s=va(s,o,t,r,e[7],16,-155497632),r=va(r,s,o,t,e[10],23,-1094730640),t=va(t,r,s,o,e[13],4,681279174),o=va(o,t,r,s,e[0],11,-358537222),s=va(s,o,t,r,e[3],16,-722521979),r=va(r,s,o,t,e[6],23,76029189),t=va(t,r,s,o,e[9],4,-640364487),o=va(o,t,r,s,e[12],11,-421815835),s=va(s,o,t,r,e[15],16,530742520),t=ya(t,r=va(r,s,o,t,e[2],23,-995338651),s,o,e[0],6,-198630844),o=ya(o,t,r,s,e[7],10,1126891415),s=ya(s,o,t,r,e[14],15,-1416354905),r=ya(r,s,o,t,e[5],21,-57434055),t=ya(t,r,s,o,e[12],6,1700485571),o=ya(o,t,r,s,e[3],10,-1894986606),s=ya(s,o,t,r,e[10],15,-1051523),r=ya(r,s,o,t,e[1],21,-2054922799),t=ya(t,r,s,o,e[8],6,1873313359),o=ya(o,t,r,s,e[15],10,-30611744),s=ya(s,o,t,r,e[6],15,-1560198380),r=ya(r,s,o,t,e[13],21,1309151649),t=ya(t,r,s,o,e[4],6,-145523070),o=ya(o,t,r,s,e[11],10,-1120210379),s=ya(s,o,t,r,e[2],15,718787259),r=ya(r,s,o,t,e[9],21,-343485551),n[0]=wu(t,n[0]),n[1]=wu(r,n[1]),n[2]=wu(s,n[2]),n[3]=wu(o,n[3])}function Rm(n,e,t,r,s,o){return e=wu(wu(e,n),wu(r,o)),wu(e<<s|e>>>32-s,t)}function ma(n,e,t,r,s,o,u){return Rm(e&t|~e&r,n,e,s,o,u)}function ga(n,e,t,r,s,o,u){return Rm(e&r|t&~r,n,e,s,o,u)}function va(n,e,t,r,s,o,u){return Rm(e^t^r,n,e,s,o,u)}function ya(n,e,t,r,s,o,u){return Rm(t^(e|~r),n,e,s,o,u)}function px(n){var e,t=n.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=n.length;e+=64)L0(r,_I(n.substring(e-64,e)));n=n.substring(e-64);var s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<n.length;e++)s[e>>2]|=n.charCodeAt(e)<<(e%4<<3);if(s[e>>2]|=128<<(e%4<<3),e>55)for(L0(r,s),e=0;e<16;e++)s[e]=0;return s[14]=8*t,L0(r,s),r}function _I(n){var e,t=[];for(e=0;e<64;e+=4)t[e>>2]=n.charCodeAt(e)+(n.charCodeAt(e+1)<<8)+(n.charCodeAt(e+2)<<16)+(n.charCodeAt(e+3)<<24);return t}var Cw="0123456789abcdef".split("");function xI(n){for(var e="",t=0;t<4;t++)e+=Cw[n>>8*t+4&15]+Cw[n>>8*t&15];return e}function SI(n){return String.fromCharCode(255&n,(65280&n)>>8,(16711680&n)>>16,(4278190080&n)>>24)}function x1(n){return px(n).map(SI).join("")}var AI=(function(n){for(var e=0;e<n.length;e++)n[e]=xI(n[e]);return n.join("")})(px("hello"))!="5d41402abc4b2a76b9719d911017c592";function wu(n,e){if(AI){var t=(65535&n)+(65535&e);return(n>>16)+(e>>16)+(t>>16)<<16|65535&t}return n+e&4294967295}function S1(n,e){var t,r,s,o;if(n!==t){for(var u=(s=n,o=1+(256/n.length|0),new Array(o+1).join(s)),c=[],h=0;h<256;h++)c[h]=h;var d=0;for(h=0;h<256;h++){var g=c[h];d=(d+g+u.charCodeAt(h))%256,c[h]=c[d],c[d]=g}t=n,r=c}else c=r;var _=e.length,S=0,w=0,T="";for(h=0;h<_;h++)w=(w+(g=c[S=(S+1)%256]))%256,c[S]=c[w],c[w]=g,u=c[(c[S]+c[w])%256],T+=String.fromCharCode(e.charCodeAt(h)^u);return T}var Dw={print:4,modify:8,copy:16,"annot-forms":32};function ff(n,e,t,r){this.v=1,this.r=2;var s=192;n.forEach(function(c){if(Dw.perm!==void 0)throw new Error("Invalid permission: "+c);s+=Dw[c]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var o=(e+this.padding).substr(0,32),u=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(o,u),this.P=-(1+(255^s)),this.encryptionKey=x1(o+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=S1(this.encryptionKey,this.padding)}function hf(n){if(/[^\u0000-\u00ff]/.test(n))throw new Error("Invalid PDF Name Object: "+n+", Only accept ASCII characters.");for(var e="",t=n.length,r=0;r<t;r++){var s=n.charCodeAt(r);e+=s<33||s===35||s===37||s===40||s===41||s===47||s===60||s===62||s===91||s===93||s===123||s===125||s>126?"#"+("0"+s.toString(16)).slice(-2):n[r]}return e}function Rw(n){if(or(n)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(t,r,s){if(s=s||!1,typeof t!="string"||typeof r!="function"||typeof s!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(t)||(e[t]={});var o=Math.random().toString(35);return e[t][o]=[r,!!s],o},this.unsubscribe=function(t){for(var r in e)if(e[r][t])return delete e[r][t],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(t){if(e.hasOwnProperty(t)){var r=Array.prototype.slice.call(arguments,1),s=[];for(var o in e[t]){var u=e[t][o];try{u[0].apply(n,r)}catch(c){cn.console&&wr.error("jsPDF PubSub Error",c.message,c)}u[1]&&s.push(o)}s.length&&s.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function rm(n){if(!(this instanceof rm))return new rm(n);var e="opacity,stroke-opacity".split(",");for(var t in n)n.hasOwnProperty(t)&&e.indexOf(t)>=0&&(this[t]=n[t]);this.id="",this.objectNumber=-1}function mx(n,e){this.gState=n,this.matrix=e,this.id="",this.objectNumber=-1}function oc(n,e,t,r,s){if(!(this instanceof oc))return new oc(n,e,t,r,s);this.type=n==="axial"?2:3,this.coords=e,this.colors=t,mx.call(this,r,s)}function pf(n,e,t,r,s){if(!(this instanceof pf))return new pf(n,e,t,r,s);this.boundingBox=n,this.xStep=e,this.yStep=t,this.stream="",this.cloneIndex=0,mx.call(this,r,s)}function Bt(n){var e,t=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],s=arguments[2],o=arguments[3],u=[],c=1,h=16,d="S",g=null;or(n=n||{})==="object"&&(t=n.orientation,r=n.unit||r,s=n.format||s,o=n.compress||n.compressPdf||o,(g=n.encryption||null)!==null&&(g.userPassword=g.userPassword||"",g.ownerPassword=g.ownerPassword||"",g.userPermissions=g.userPermissions||[]),c=typeof n.userUnit=="number"?Math.abs(n.userUnit):1,n.precision!==void 0&&(e=n.precision),n.floatPrecision!==void 0&&(h=n.floatPrecision),d=n.defaultPathOperation||"S"),u=n.filters||(o===!0?["FlateEncode"]:u),r=r||"mm",t=(""+(t||"P")).toLowerCase();var _=n.putOnlyUsedFonts||!1,S={},w={internal:{},__private__:{}};w.__private__.PubSub=Rw;var T="1.3",M=w.__private__.getPdfVersion=function(){return T};w.__private__.setPdfVersion=function(x){T=x};var j={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};w.__private__.getPageFormats=function(){return j};var D=w.__private__.getPageFormat=function(x){return j[x]};s=s||"a4";var Q="compat",W="advanced",re=Q;function ye(){this.saveGraphicsState(),q(new Ge(rn,0,0,-rn,0,Na()*rn).toString()+" cm"),this.setFontSize(this.getFontSize()/rn),d="n",re=W}function _e(){this.restoreGraphicsState(),d="S",re=Q}var z=w.__private__.combineFontStyleAndFontWeight=function(x,B){if(x=="bold"&&B=="normal"||x=="bold"&&B==400||x=="normal"&&B=="italic"||x=="bold"&&B=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return B&&(x=B==400||B==="normal"?x==="italic"?"italic":"normal":B!=700&&B!=="bold"||x!=="normal"?(B==700?"bold":B)+""+x:"bold"),x};w.advancedAPI=function(x){var B=re===Q;return B&&ye.call(this),typeof x!="function"||(x(this),B&&_e.call(this)),this},w.compatAPI=function(x){var B=re===W;return B&&_e.call(this),typeof x!="function"||(x(this),B&&ye.call(this)),this},w.isAdvancedAPI=function(){return re===W};var V,L=function(x){if(re!==W)throw new Error(x+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},H=w.roundToPrecision=w.__private__.roundToPrecision=function(x,B){var se=e||B;if(isNaN(x)||isNaN(se))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return x.toFixed(se).replace(/0+$/,"")};V=w.hpf=w.__private__.hpf=typeof h=="number"?function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.hpf");return H(x,h)}:h==="smart"?function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.hpf");return H(x,x>-1&&x<1?16:5)}:function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.hpf");return H(x,16)};var N=w.f2=w.__private__.f2=function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.f2");return H(x,2)},O=w.__private__.f3=function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.f3");return H(x,3)},F=w.scale=w.__private__.scale=function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.scale");return re===Q?x*rn:re===W?x:void 0},ce=function(x){return F((function(B){return re===Q?Na()-B:re===W?B:void 0})(x))};w.__private__.setPrecision=w.setPrecision=function(x){typeof parseInt(x,10)=="number"&&(e=parseInt(x,10))};var Ce,le="00000000000000000000000000000000",me=w.__private__.getFileId=function(){return le},de=w.__private__.setFileId=function(x){return le=x!==void 0&&/^[a-fA-F0-9]{32}$/.test(x)?x.toUpperCase():le.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),g!==null&&(gr=new ff(g.userPermissions,g.userPassword,g.ownerPassword,le)),le};w.setFileId=function(x){return de(x),this},w.getFileId=function(){return me()};var Ie=w.__private__.convertDateToPDFDate=function(x){var B=x.getTimezoneOffset(),se=B<0?"+":"-",pe=Math.floor(Math.abs(B/60)),Se=Math.abs(B%60),Ke=[se,te(pe),"'",te(Se),"'"].join("");return["D:",x.getFullYear(),te(x.getMonth()+1),te(x.getDate()),te(x.getHours()),te(x.getMinutes()),te(x.getSeconds()),Ke].join("")},Xe=w.__private__.convertPDFDateToDate=function(x){var B=parseInt(x.substr(2,4),10),se=parseInt(x.substr(6,2),10)-1,pe=parseInt(x.substr(8,2),10),Se=parseInt(x.substr(10,2),10),Ke=parseInt(x.substr(12,2),10),st=parseInt(x.substr(14,2),10);return new Date(B,se,pe,Se,Ke,st,0)},Y=w.__private__.setCreationDate=function(x){var B;if(x===void 0&&(x=new Date),x instanceof Date)B=Ie(x);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(x))throw new Error("Invalid argument passed to jsPDF.setCreationDate");B=x}return Ce=B},P=w.__private__.getCreationDate=function(x){var B=Ce;return x==="jsDate"&&(B=Xe(Ce)),B};w.setCreationDate=function(x){return Y(x),this},w.getCreationDate=function(x){return P(x)};var K,te=w.__private__.padd2=function(x){return("0"+parseInt(x)).slice(-2)},ue=w.__private__.padd2Hex=function(x){return("00"+(x=x.toString())).substr(x.length)},fe=0,ve=[],Te=[],Me=0,$e=[],ut=[],pt=!1,mt=Te;w.__private__.setCustomOutputDestination=function(x){pt=!0,mt=x};var _t=function(x){pt||(mt=x)};w.__private__.resetCustomOutputDestination=function(){pt=!1,mt=Te};var q=w.__private__.out=function(x){return x=x.toString(),Me+=x.length+1,mt.push(x),mt},Oe=w.__private__.write=function(x){return q(arguments.length===1?x.toString():Array.prototype.join.call(arguments," "))},it=w.__private__.getArrayBuffer=function(x){for(var B=x.length,se=new ArrayBuffer(B),pe=new Uint8Array(se);B--;)pe[B]=x.charCodeAt(B);return se},Fe=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];w.__private__.getStandardFonts=function(){return Fe};var De=n.fontSize||16;w.__private__.setFontSize=w.setFontSize=function(x){return De=re===W?x/rn:x,this};var ft,ht=w.__private__.getFontSize=w.getFontSize=function(){return re===Q?De:De*rn},vt=n.R2L||!1;w.__private__.setR2L=w.setR2L=function(x){return vt=x,this},w.__private__.getR2L=w.getR2L=function(){return vt};var xt,Ut=w.__private__.setZoomMode=function(x){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(x))ft=x;else if(isNaN(x)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(x)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+x+'" is not recognized.');ft=x}else ft=parseInt(x,10)};w.__private__.getZoomMode=function(){return ft};var Gt,$t=w.__private__.setPageMode=function(x){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(x)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+x+'" is not recognized.');xt=x};w.__private__.getPageMode=function(){return xt};var fn=w.__private__.setLayoutMode=function(x){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(x)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+x+'" is not recognized.');Gt=x};w.__private__.getLayoutMode=function(){return Gt},w.__private__.setDisplayMode=w.setDisplayMode=function(x,B,se){return Ut(x),fn(B),$t(se),this};var sn={title:"",subject:"",author:"",keywords:"",creator:""};w.__private__.getDocumentProperty=function(x){if(Object.keys(sn).indexOf(x)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return sn[x]},w.__private__.getDocumentProperties=function(){return sn},w.__private__.setDocumentProperties=w.setProperties=w.setDocumentProperties=function(x){for(var B in sn)sn.hasOwnProperty(B)&&x[B]&&(sn[B]=x[B]);return this},w.__private__.setDocumentProperty=function(x,B){if(Object.keys(sn).indexOf(x)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return sn[x]=B};var Et,rn,Ct,Kn,Yt,jt={},yt={},tn=[],Lt={},Tn={},zt={},qt={},vn=null,Pt=0,Rt=[],J=new Rw(w),ie=n.hotfixes||[],we={},ze={},lt=[],Ge=function x(B,se,pe,Se,Ke,st){if(!(this instanceof x))return new x(B,se,pe,Se,Ke,st);isNaN(B)&&(B=1),isNaN(se)&&(se=0),isNaN(pe)&&(pe=0),isNaN(Se)&&(Se=1),isNaN(Ke)&&(Ke=0),isNaN(st)&&(st=0),this._matrix=[B,se,pe,Se,Ke,st]};Object.defineProperty(Ge.prototype,"sx",{get:function(){return this._matrix[0]},set:function(x){this._matrix[0]=x}}),Object.defineProperty(Ge.prototype,"shy",{get:function(){return this._matrix[1]},set:function(x){this._matrix[1]=x}}),Object.defineProperty(Ge.prototype,"shx",{get:function(){return this._matrix[2]},set:function(x){this._matrix[2]=x}}),Object.defineProperty(Ge.prototype,"sy",{get:function(){return this._matrix[3]},set:function(x){this._matrix[3]=x}}),Object.defineProperty(Ge.prototype,"tx",{get:function(){return this._matrix[4]},set:function(x){this._matrix[4]=x}}),Object.defineProperty(Ge.prototype,"ty",{get:function(){return this._matrix[5]},set:function(x){this._matrix[5]=x}}),Object.defineProperty(Ge.prototype,"a",{get:function(){return this._matrix[0]},set:function(x){this._matrix[0]=x}}),Object.defineProperty(Ge.prototype,"b",{get:function(){return this._matrix[1]},set:function(x){this._matrix[1]=x}}),Object.defineProperty(Ge.prototype,"c",{get:function(){return this._matrix[2]},set:function(x){this._matrix[2]=x}}),Object.defineProperty(Ge.prototype,"d",{get:function(){return this._matrix[3]},set:function(x){this._matrix[3]=x}}),Object.defineProperty(Ge.prototype,"e",{get:function(){return this._matrix[4]},set:function(x){this._matrix[4]=x}}),Object.defineProperty(Ge.prototype,"f",{get:function(){return this._matrix[5]},set:function(x){this._matrix[5]=x}}),Object.defineProperty(Ge.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Ge.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Ge.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Ge.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Ge.prototype.join=function(x){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(V).join(x)},Ge.prototype.multiply=function(x){var B=x.sx*this.sx+x.shy*this.shx,se=x.sx*this.shy+x.shy*this.sy,pe=x.shx*this.sx+x.sy*this.shx,Se=x.shx*this.shy+x.sy*this.sy,Ke=x.tx*this.sx+x.ty*this.shx+this.tx,st=x.tx*this.shy+x.ty*this.sy+this.ty;return new Ge(B,se,pe,Se,Ke,st)},Ge.prototype.decompose=function(){var x=this.sx,B=this.shy,se=this.shx,pe=this.sy,Se=this.tx,Ke=this.ty,st=Math.sqrt(x*x+B*B),Tt=(x/=st)*se+(B/=st)*pe;se-=x*Tt,pe-=B*Tt;var Mt=Math.sqrt(se*se+pe*pe);return Tt/=Mt,x*(pe/=Mt)<B*(se/=Mt)&&(x=-x,B=-B,Tt=-Tt,st=-st),{scale:new Ge(st,0,0,Mt,0,0),translate:new Ge(1,0,0,1,Se,Ke),rotate:new Ge(x,B,-B,x,0,0),skew:new Ge(1,0,Tt,1,0,0)}},Ge.prototype.toString=function(x){return this.join(" ")},Ge.prototype.inversed=function(){var x=this.sx,B=this.shy,se=this.shx,pe=this.sy,Se=this.tx,Ke=this.ty,st=1/(x*pe-B*se),Tt=pe*st,Mt=-B*st,Qt=-se*st,Ht=x*st;return new Ge(Tt,Mt,Qt,Ht,-Tt*Se-Qt*Ke,-Mt*Se-Ht*Ke)},Ge.prototype.applyToPoint=function(x){var B=x.x*this.sx+x.y*this.shx+this.tx,se=x.x*this.shy+x.y*this.sy+this.ty;return new fi(B,se)},Ge.prototype.applyToRectangle=function(x){var B=this.applyToPoint(x),se=this.applyToPoint(new fi(x.x+x.w,x.y+x.h));return new ja(B.x,B.y,se.x-B.x,se.y-B.y)},Ge.prototype.clone=function(){var x=this.sx,B=this.shy,se=this.shx,pe=this.sy,Se=this.tx,Ke=this.ty;return new Ge(x,B,se,pe,Se,Ke)},w.Matrix=Ge;var Ft=w.matrixMult=function(x,B){return B.multiply(x)},Ae=new Ge(1,0,0,1,0,0);w.unitMatrix=w.identityMatrix=Ae;var Je=function(x,B){if(!Tn[x]){var se=(B instanceof oc?"Sh":"P")+(Object.keys(Lt).length+1).toString(10);B.id=se,Tn[x]=se,Lt[se]=B,J.publish("addPattern",B)}};w.ShadingPattern=oc,w.TilingPattern=pf,w.addShadingPattern=function(x,B){return L("addShadingPattern()"),Je(x,B),this},w.beginTilingPattern=function(x){L("beginTilingPattern()"),Fa(x.boundingBox[0],x.boundingBox[1],x.boundingBox[2]-x.boundingBox[0],x.boundingBox[3]-x.boundingBox[1],x.matrix)},w.endTilingPattern=function(x,B){L("endTilingPattern()"),B.stream=ut[K].join(`
`),Je(x,B),J.publish("endTilingPattern",B),lt.pop().restore()};var We,Ze=w.__private__.newObject=function(){var x=bt();return en(x,!0),x},bt=w.__private__.newObjectDeferred=function(){return fe++,ve[fe]=function(){return Me},fe},en=function(x,B){return B=typeof B=="boolean"&&B,ve[x]=Me,B&&q(x+" 0 obj"),x},On=w.__private__.newAdditionalObject=function(){var x={objId:bt(),content:""};return $e.push(x),x},lr=bt(),bn=bt(),Qn=w.__private__.decodeColorString=function(x){var B=x.split(" ");if(B.length!==2||B[1]!=="g"&&B[1]!=="G")B.length!==5||B[4]!=="k"&&B[4]!=="K"||(B=[(1-B[0])*(1-B[3]),(1-B[1])*(1-B[3]),(1-B[2])*(1-B[3]),"r"]);else{var se=parseFloat(B[0]);B=[se,se,se,"r"]}for(var pe="#",Se=0;Se<3;Se++)pe+=("0"+Math.floor(255*parseFloat(B[Se])).toString(16)).slice(-2);return pe},_r=w.__private__.encodeColorString=function(x){var B;typeof x=="string"&&(x={ch1:x});var se=x.ch1,pe=x.ch2,Se=x.ch3,Ke=x.ch4,st=x.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof se=="string"&&se.charAt(0)!=="#"){var Tt=new dx(se);if(Tt.ok)se=Tt.toHex();else if(!/^\d*\.?\d*$/.test(se))throw new Error('Invalid color "'+se+'" passed to jsPDF.encodeColorString.')}if(typeof se=="string"&&/^#[0-9A-Fa-f]{3}$/.test(se)&&(se="#"+se[1]+se[1]+se[2]+se[2]+se[3]+se[3]),typeof se=="string"&&/^#[0-9A-Fa-f]{6}$/.test(se)){var Mt=parseInt(se.substr(1),16);se=Mt>>16&255,pe=Mt>>8&255,Se=255&Mt}if(pe===void 0||Ke===void 0&&se===pe&&pe===Se)B=typeof se=="string"?se+" "+st[0]:x.precision===2?N(se/255)+" "+st[0]:O(se/255)+" "+st[0];else if(Ke===void 0||or(Ke)==="object"){if(Ke&&!isNaN(Ke.a)&&Ke.a===0)return["1.","1.","1.",st[1]].join(" ");B=typeof se=="string"?[se,pe,Se,st[1]].join(" "):x.precision===2?[N(se/255),N(pe/255),N(Se/255),st[1]].join(" "):[O(se/255),O(pe/255),O(Se/255),st[1]].join(" ")}else B=typeof se=="string"?[se,pe,Se,Ke,st[2]].join(" "):x.precision===2?[N(se),N(pe),N(Se),N(Ke),st[2]].join(" "):[O(se),O(pe),O(Se),O(Ke),st[2]].join(" ");return B},li=w.__private__.getFilters=function(){return u},Mi=w.__private__.putStream=function(x){var B=(x=x||{}).data||"",se=x.filters||li(),pe=x.alreadyAppliedFilters||[],Se=x.addLength1||!1,Ke=B.length,st=x.objectId,Tt=function(E){return E};if(g!==null&&st===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");g!==null&&(Tt=gr.encryptor(st,0));var Mt={};se===!0&&(se=["FlateEncode"]);var Qt=x.additionalKeyValues||[],Ht=(Mt=Bt.API.processDataByFilters!==void 0?Bt.API.processDataByFilters(B,se):{data:B,reverseChain:[]}).reverseChain+(Array.isArray(pe)?pe.join(" "):pe.toString());if(Mt.data.length!==0&&(Qt.push({key:"Length",value:Mt.data.length}),Se===!0&&Qt.push({key:"Length1",value:Ke})),Ht.length!=0)if(Ht.split("/").length-1==1)Qt.push({key:"Filter",value:Ht});else{Qt.push({key:"Filter",value:"["+Ht+"]"});for(var An=0;An<Qt.length;An+=1)if(Qt[An].key==="DecodeParms"){for(var ur=[],tr=0;tr<Mt.reverseChain.split("/").length-1;tr+=1)ur.push("null");ur.push(Qt[An].value),Qt[An].value="["+ur.join(" ")+"]"}}q("<<");for(var m=0;m<Qt.length;m++)q("/"+Qt[m].key+" "+Qt[m].value);q(">>"),Mt.data.length!==0&&(q("stream"),q(Tt(Mt.data)),q("endstream"))},Oa=w.__private__.putPage=function(x){var B=x.number,se=x.data,pe=x.objId,Se=x.contentsObjId;en(pe,!0),q("<</Type /Page"),q("/Parent "+x.rootDictionaryObjId+" 0 R"),q("/Resources "+x.resourceDictionaryObjId+" 0 R"),q("/MediaBox ["+parseFloat(V(x.mediaBox.bottomLeftX))+" "+parseFloat(V(x.mediaBox.bottomLeftY))+" "+V(x.mediaBox.topRightX)+" "+V(x.mediaBox.topRightY)+"]"),x.cropBox!==null&&q("/CropBox ["+V(x.cropBox.bottomLeftX)+" "+V(x.cropBox.bottomLeftY)+" "+V(x.cropBox.topRightX)+" "+V(x.cropBox.topRightY)+"]"),x.bleedBox!==null&&q("/BleedBox ["+V(x.bleedBox.bottomLeftX)+" "+V(x.bleedBox.bottomLeftY)+" "+V(x.bleedBox.topRightX)+" "+V(x.bleedBox.topRightY)+"]"),x.trimBox!==null&&q("/TrimBox ["+V(x.trimBox.bottomLeftX)+" "+V(x.trimBox.bottomLeftY)+" "+V(x.trimBox.topRightX)+" "+V(x.trimBox.topRightY)+"]"),x.artBox!==null&&q("/ArtBox ["+V(x.artBox.bottomLeftX)+" "+V(x.artBox.bottomLeftY)+" "+V(x.artBox.topRightX)+" "+V(x.artBox.topRightY)+"]"),typeof x.userUnit=="number"&&x.userUnit!==1&&q("/UserUnit "+x.userUnit),J.publish("putPage",{objId:pe,pageContext:Rt[B],pageNumber:B,page:se}),q("/Contents "+Se+" 0 R"),q(">>"),q("endobj");var Ke=se.join(`
`);return re===W&&(Ke+=`
Q`),en(Se,!0),Mi({data:Ke,filters:li(),objectId:Se}),q("endobj"),pe},$i=w.__private__.putPages=function(){var x,B,se=[];for(x=1;x<=Pt;x++)Rt[x].objId=bt(),Rt[x].contentsObjId=bt();for(x=1;x<=Pt;x++)se.push(Oa({number:x,data:ut[x],objId:Rt[x].objId,contentsObjId:Rt[x].contentsObjId,mediaBox:Rt[x].mediaBox,cropBox:Rt[x].cropBox,bleedBox:Rt[x].bleedBox,trimBox:Rt[x].trimBox,artBox:Rt[x].artBox,userUnit:Rt[x].userUnit,rootDictionaryObjId:lr,resourceDictionaryObjId:bn}));en(lr,!0),q("<</Type /Pages");var pe="/Kids [";for(B=0;B<Pt;B++)pe+=se[B]+" 0 R ";q(pe+"]"),q("/Count "+Pt),q(">>"),q("endobj"),J.publish("postPutPages")},ui=function(x){J.publish("putFont",{font:x,out:q,newObject:Ze,putStream:Mi}),x.isAlreadyPutted!==!0&&(x.objectNumber=Ze(),q("<<"),q("/Type /Font"),q("/BaseFont /"+hf(x.postScriptName)),q("/Subtype /Type1"),typeof x.encoding=="string"&&q("/Encoding /"+x.encoding),q("/FirstChar 32"),q("/LastChar 255"),q(">>"),q("endobj"))},Sa=function(x){x.objectNumber=Ze();var B=[];B.push({key:"Type",value:"/XObject"}),B.push({key:"Subtype",value:"/Form"}),B.push({key:"BBox",value:"["+[V(x.x),V(x.y),V(x.x+x.width),V(x.y+x.height)].join(" ")+"]"}),B.push({key:"Matrix",value:"["+x.matrix.toString()+"]"});var se=x.pages[1].join(`
`);Mi({data:se,additionalKeyValues:B,objectId:x.objectNumber}),q("endobj")},_i=function(x,B){B||(B=21);var se=Ze(),pe=(function(st,Tt){var Mt,Qt=[],Ht=1/(Tt-1);for(Mt=0;Mt<1;Mt+=Ht)Qt.push(Mt);if(Qt.push(1),st[0].offset!=0){var An={offset:0,color:st[0].color};st.unshift(An)}if(st[st.length-1].offset!=1){var ur={offset:1,color:st[st.length-1].color};st.push(ur)}for(var tr="",m=0,E=0;E<Qt.length;E++){for(Mt=Qt[E];Mt>st[m+1].offset;)m++;var k=st[m].offset,ee=(Mt-k)/(st[m+1].offset-k),Ne=st[m].color,Be=st[m+1].color;tr+=ue(Math.round((1-ee)*Ne[0]+ee*Be[0]).toString(16))+ue(Math.round((1-ee)*Ne[1]+ee*Be[1]).toString(16))+ue(Math.round((1-ee)*Ne[2]+ee*Be[2]).toString(16))}return tr.trim()})(x.colors,B),Se=[];Se.push({key:"FunctionType",value:"0"}),Se.push({key:"Domain",value:"[0.0 1.0]"}),Se.push({key:"Size",value:"["+B+"]"}),Se.push({key:"BitsPerSample",value:"8"}),Se.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Se.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Mi({data:pe,additionalKeyValues:Se,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:se}),q("endobj"),x.objectNumber=Ze(),q("<< /ShadingType "+x.type),q("/ColorSpace /DeviceRGB");var Ke="/Coords ["+V(parseFloat(x.coords[0]))+" "+V(parseFloat(x.coords[1]))+" ";x.type===2?Ke+=V(parseFloat(x.coords[2]))+" "+V(parseFloat(x.coords[3])):Ke+=V(parseFloat(x.coords[2]))+" "+V(parseFloat(x.coords[3]))+" "+V(parseFloat(x.coords[4]))+" "+V(parseFloat(x.coords[5])),q(Ke+="]"),x.matrix&&q("/Matrix ["+x.matrix.toString()+"]"),q("/Function "+se+" 0 R"),q("/Extend [true true]"),q(">>"),q("endobj")},Zr=function(x,B){var se=bt(),pe=Ze();B.push({resourcesOid:se,objectOid:pe}),x.objectNumber=pe;var Se=[];Se.push({key:"Type",value:"/Pattern"}),Se.push({key:"PatternType",value:"1"}),Se.push({key:"PaintType",value:"1"}),Se.push({key:"TilingType",value:"1"}),Se.push({key:"BBox",value:"["+x.boundingBox.map(V).join(" ")+"]"}),Se.push({key:"XStep",value:V(x.xStep)}),Se.push({key:"YStep",value:V(x.yStep)}),Se.push({key:"Resources",value:se+" 0 R"}),x.matrix&&Se.push({key:"Matrix",value:"["+x.matrix.toString()+"]"}),Mi({data:x.stream,additionalKeyValues:Se,objectId:x.objectNumber}),q("endobj")},Gi=function(x){for(var B in x.objectNumber=Ze(),q("<<"),x)switch(B){case"opacity":q("/ca "+N(x[B]));break;case"stroke-opacity":q("/CA "+N(x[B]))}q(">>"),q("endobj")},oa=function(x){en(x.resourcesOid,!0),q("<<"),q("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var B in q("/Font <<"),jt)jt.hasOwnProperty(B)&&(_===!1||_===!0&&S.hasOwnProperty(B))&&q("/"+B+" "+jt[B].objectNumber+" 0 R");q(">>")})(),(function(){if(Object.keys(Lt).length>0){for(var B in q("/Shading <<"),Lt)Lt.hasOwnProperty(B)&&Lt[B]instanceof oc&&Lt[B].objectNumber>=0&&q("/"+B+" "+Lt[B].objectNumber+" 0 R");J.publish("putShadingPatternDict"),q(">>")}})(),(function(B){if(Object.keys(Lt).length>0){for(var se in q("/Pattern <<"),Lt)Lt.hasOwnProperty(se)&&Lt[se]instanceof w.TilingPattern&&Lt[se].objectNumber>=0&&Lt[se].objectNumber<B&&q("/"+se+" "+Lt[se].objectNumber+" 0 R");J.publish("putTilingPatternDict"),q(">>")}})(x.objectOid),(function(){if(Object.keys(zt).length>0){var B;for(B in q("/ExtGState <<"),zt)zt.hasOwnProperty(B)&&zt[B].objectNumber>=0&&q("/"+B+" "+zt[B].objectNumber+" 0 R");J.publish("putGStateDict"),q(">>")}})(),(function(){for(var B in q("/XObject <<"),we)we.hasOwnProperty(B)&&we[B].objectNumber>=0&&q("/"+B+" "+we[B].objectNumber+" 0 R");J.publish("putXobjectDict"),q(">>")})(),q(">>"),q("endobj")},Sr=function(x){yt[x.fontName]=yt[x.fontName]||{},yt[x.fontName][x.fontStyle]=x.id},xo=function(x,B,se,pe,Se){var Ke={id:"F"+(Object.keys(jt).length+1).toString(10),postScriptName:x,fontName:B,fontStyle:se,encoding:pe,isStandardFont:Se||!1,metadata:{}};return J.publish("addFont",{font:Ke,instance:this}),jt[Ke.id]=Ke,Sr(Ke),Ke.id},ki=w.__private__.pdfEscape=w.pdfEscape=function(x,B){return(function(se,pe){var Se,Ke,st,Tt,Mt,Qt,Ht,An,ur;if(st=(pe=pe||{}).sourceEncoding||"Unicode",Mt=pe.outputEncoding,(pe.autoencode||Mt)&&jt[Et].metadata&&jt[Et].metadata[st]&&jt[Et].metadata[st].encoding&&(Tt=jt[Et].metadata[st].encoding,!Mt&&jt[Et].encoding&&(Mt=jt[Et].encoding),!Mt&&Tt.codePages&&(Mt=Tt.codePages[0]),typeof Mt=="string"&&(Mt=Tt[Mt]),Mt)){for(Ht=!1,Qt=[],Se=0,Ke=se.length;Se<Ke;Se++)(An=Mt[se.charCodeAt(Se)])?Qt.push(String.fromCharCode(An)):Qt.push(se[Se]),Qt[Se].charCodeAt(0)>>8&&(Ht=!0);se=Qt.join("")}for(Se=se.length;Ht===void 0&&Se!==0;)se.charCodeAt(Se-1)>>8&&(Ht=!0),Se--;if(!Ht)return se;for(Qt=pe.noBOM?[]:[254,255],Se=0,Ke=se.length;Se<Ke;Se++){if((ur=(An=se.charCodeAt(Se))>>8)>>8)throw new Error("Character at position "+Se+" of string '"+se+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Qt.push(ur),Qt.push(An-(ur<<8))}return String.fromCharCode.apply(void 0,Qt)})(x,B).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},la=w.__private__.beginPage=function(x){ut[++Pt]=[],Rt[Pt]={objId:0,contentsObjId:0,userUnit:Number(c),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(x[0]),topRightY:Number(x[1])}},So(Pt),_t(ut[K])},Aa=function(x,B){var se,pe,Se;switch(t=B||t,typeof x=="string"&&(se=D(x.toLowerCase()),Array.isArray(se)&&(pe=se[0],Se=se[1])),Array.isArray(x)&&(pe=x[0]*rn,Se=x[1]*rn),isNaN(pe)&&(pe=s[0],Se=s[1]),(pe>14400||Se>14400)&&(wr.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),pe=Math.min(14400,pe),Se=Math.min(14400,Se)),s=[pe,Se],t.substr(0,1)){case"l":Se>pe&&(s=[Se,pe]);break;case"p":pe>Se&&(s=[Se,pe])}la(s),Wt(Pi),q(Wi),Qi!==0&&q(Qi+" J"),Fr!==0&&q(Fr+" j"),J.publish("addPage",{pageNumber:Pt})},Ys=function(x){x>0&&x<=Pt&&(ut.splice(x,1),Rt.splice(x,1),Pt--,K>Pt&&(K=Pt),this.setPage(K))},So=function(x){x>0&&x<=Pt&&(K=x)},Ao=w.__private__.getNumberOfPages=w.getNumberOfPages=function(){return ut.length-1},nl=function(x,B,se){var pe,Se=void 0;return se=se||{},x=x!==void 0?x:jt[Et].fontName,B=B!==void 0?B:jt[Et].fontStyle,pe=x.toLowerCase(),yt[pe]!==void 0&&yt[pe][B]!==void 0?Se=yt[pe][B]:yt[x]!==void 0&&yt[x][B]!==void 0?Se=yt[x][B]:se.disableWarning===!1&&wr.warn("Unable to look up font label for font '"+x+"', '"+B+"'. Refer to getFontList() for available fonts."),Se||se.noFallback||(Se=yt.times[B])==null&&(Se=yt.times.normal),Se},Yi=w.__private__.putInfo=function(){var x=Ze(),B=function(pe){return pe};for(var se in g!==null&&(B=gr.encryptor(x,0)),q("<<"),q("/Producer ("+ki(B("jsPDF "+Bt.version))+")"),sn)sn.hasOwnProperty(se)&&sn[se]&&q("/"+se.substr(0,1).toUpperCase()+se.substr(1)+" ("+ki(B(sn[se]))+")");q("/CreationDate ("+ki(B(Ce))+")"),q(">>"),q("endobj")},ci=w.__private__.putCatalog=function(x){var B=(x=x||{}).rootDictionaryObjId||lr;switch(Ze(),q("<<"),q("/Type /Catalog"),q("/Pages "+B+" 0 R"),ft||(ft="fullwidth"),ft){case"fullwidth":q("/OpenAction [3 0 R /FitH null]");break;case"fullheight":q("/OpenAction [3 0 R /FitV null]");break;case"fullpage":q("/OpenAction [3 0 R /Fit]");break;case"original":q("/OpenAction [3 0 R /XYZ null null 1]");break;default:var se=""+ft;se.substr(se.length-1)==="%"&&(ft=parseInt(ft)/100),typeof ft=="number"&&q("/OpenAction [3 0 R /XYZ null null "+N(ft)+"]")}switch(Gt||(Gt="continuous"),Gt){case"continuous":q("/PageLayout /OneColumn");break;case"single":q("/PageLayout /SinglePage");break;case"two":case"twoleft":q("/PageLayout /TwoColumnLeft");break;case"tworight":q("/PageLayout /TwoColumnRight")}xt&&q("/PageMode /"+xt),J.publish("putCatalog"),q(">>"),q("endobj")},Rr=w.__private__.putTrailer=function(){q("trailer"),q("<<"),q("/Size "+(fe+1)),q("/Root "+fe+" 0 R"),q("/Info "+(fe-1)+" 0 R"),g!==null&&q("/Encrypt "+gr.oid+" 0 R"),q("/ID [ <"+le+"> <"+le+"> ]"),q(">>")},Sn=w.__private__.putHeader=function(){q("%PDF-"+T),q("%")},ss=w.__private__.putXRef=function(){var x="0000000000";q("xref"),q("0 "+(fe+1)),q("0000000000 65535 f ");for(var B=1;B<=fe;B++)typeof ve[B]=="function"?q((x+ve[B]()).slice(-10)+" 00000 n "):ve[B]!==void 0?q((x+ve[B]).slice(-10)+" 00000 n "):q("0000000000 00000 n ")},ua=w.__private__.buildDocument=function(){var x;fe=0,Me=0,Te=[],ve=[],$e=[],lr=bt(),bn=bt(),_t(Te),J.publish("buildDocument"),Sn(),$i(),(function(){J.publish("putAdditionalObjects");for(var se=0;se<$e.length;se++){var pe=$e[se];en(pe.objId,!0),q(pe.content),q("endobj")}J.publish("postPutAdditionalObjects")})(),x=[],(function(){for(var se in jt)jt.hasOwnProperty(se)&&(_===!1||_===!0&&S.hasOwnProperty(se))&&ui(jt[se])})(),(function(){var se;for(se in zt)zt.hasOwnProperty(se)&&Gi(zt[se])})(),(function(){for(var se in we)we.hasOwnProperty(se)&&Sa(we[se])})(),(function(se){var pe;for(pe in Lt)Lt.hasOwnProperty(pe)&&(Lt[pe]instanceof oc?_i(Lt[pe]):Lt[pe]instanceof pf&&Zr(Lt[pe],se))})(x),J.publish("putResources"),x.forEach(oa),oa({resourcesOid:bn,objectOid:Number.MAX_SAFE_INTEGER}),J.publish("postPutResources"),g!==null&&(gr.oid=Ze(),q("<<"),q("/Filter /Standard"),q("/V "+gr.v),q("/R "+gr.r),q("/U <"+gr.toHexString(gr.U)+">"),q("/O <"+gr.toHexString(gr.O)+">"),q("/P "+gr.P),q(">>"),q("endobj")),Yi(),ci();var B=Me;return ss(),Rr(),q("startxref"),q(""+B),q("%%EOF"),_t(ut[K]),Te.join(`
`)},Rn=w.__private__.getBlob=function(x){return new Blob([it(x)],{type:"application/pdf"})},As=w.output=w.__private__.output=(We=function(x,B){switch(typeof(B=B||{})=="string"?B={filename:B}:B.filename=B.filename||"generated.pdf",x){case void 0:return ua();case"save":w.save(B.filename);break;case"arraybuffer":return it(ua());case"blob":return Rn(ua());case"bloburi":case"bloburl":if(cn.URL!==void 0&&typeof cn.URL.createObjectURL=="function")return cn.URL&&cn.URL.createObjectURL(Rn(ua()))||void 0;wr.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var se="",pe=ua();try{se=Nw(pe)}catch{se=Nw(unescape(encodeURIComponent(pe)))}return"data:application/pdf;filename="+B.filename+";base64,"+se;case"pdfobjectnewwindow":if(Object.prototype.toString.call(cn)==="[object Window]"){var Se="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Ke=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';B.pdfObjectUrl&&(Se=B.pdfObjectUrl,Ke="");var st='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Se+'"'+Ke+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(B)+");<\/script></body></html>",Tt=cn.open();return Tt!==null&&Tt.document.write(st),Tt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(cn)==="[object Window]"){var Mt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(B.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+B.filename+'" width="500px" height="400px" /></body></html>',Qt=cn.open();if(Qt!==null){Qt.document.write(Mt);var Ht=this;Qt.document.documentElement.querySelector("#pdfViewer").onload=function(){Qt.document.title=B.filename,Qt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Ht.output("bloburl"))}}return Qt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(cn)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var An='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",B)+'"></iframe></body></html>',ur=cn.open();if(ur!==null&&(ur.document.write(An),ur.document.title=B.filename),ur||typeof safari>"u")return ur;break;case"datauri":case"dataurl":return cn.document.location.href=this.output("datauristring",B);default:return null}},We.foo=function(){try{return We.apply(this,arguments)}catch(se){var x=se.stack||"";~x.indexOf(" at ")&&(x=x.split(" at ")[1]);var B="Error in function "+x.split(`
`)[0].split("<")[0]+": "+se.message;if(!cn.console)throw new Error(B);cn.console.error(B,se),cn.alert&&alert(B)}},We.foo.bar=We,We.foo),jr=function(x){return Array.isArray(ie)===!0&&ie.indexOf(x)>-1};switch(r){case"pt":rn=1;break;case"mm":rn=72/25.4;break;case"cm":rn=72/2.54;break;case"in":rn=72;break;case"px":rn=jr("px_scaling")==1?.75:96/72;break;case"pc":case"em":rn=12;break;case"ex":rn=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);rn=r}var gr=null;Y(),de();var Ir=w.__private__.getPageInfo=w.getPageInfo=function(x){if(isNaN(x)||x%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Rt[x].objId,pageNumber:x,pageContext:Rt[x]}},Ws=w.__private__.getPageInfoByObjId=function(x){if(isNaN(x)||x%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var B in Rt)if(Rt[B].objId===x)break;return Ir(B)},zl=w.__private__.getCurrentPageInfo=w.getCurrentPageInfo=function(){return{objId:Rt[K].objId,pageNumber:K,pageContext:Rt[K]}};w.addPage=function(){return Aa.apply(this,arguments),this},w.setPage=function(){return So.apply(this,arguments),_t.call(this,ut[K]),this},w.insertPage=function(x){return this.addPage(),this.movePage(K,x),this},w.movePage=function(x,B){var se,pe;if(x>B){se=ut[x],pe=Rt[x];for(var Se=x;Se>B;Se--)ut[Se]=ut[Se-1],Rt[Se]=Rt[Se-1];ut[B]=se,Rt[B]=pe,this.setPage(B)}else if(x<B){se=ut[x],pe=Rt[x];for(var Ke=x;Ke<B;Ke++)ut[Ke]=ut[Ke+1],Rt[Ke]=Rt[Ke+1];ut[B]=se,Rt[B]=pe,this.setPage(B)}return this},w.deletePage=function(){return Ys.apply(this,arguments),this},w.__private__.text=w.text=function(x,B,se,pe,Se){var Ke,st,Tt,Mt,Qt,Ht,An,ur,tr,m=(pe=pe||{}).scope||this;if(typeof x=="number"&&typeof B=="number"&&(typeof se=="string"||Array.isArray(se))){var E=se;se=B,B=x,x=E}if(arguments[3]instanceof Ge==0?(Tt=arguments[4],Mt=arguments[5],or(An=arguments[3])==="object"&&An!==null||(typeof Tt=="string"&&(Mt=Tt,Tt=null),typeof An=="string"&&(Mt=An,An=null),typeof An=="number"&&(Tt=An,An=null),pe={flags:An,angle:Tt,align:Mt})):(L("The transform parameter of text() with a Matrix value"),tr=Se),isNaN(B)||isNaN(se)||x==null)throw new Error("Invalid arguments passed to jsPDF.text");if(x.length===0)return m;var k,ee="",Ne=typeof pe.lineHeightFactor=="number"?pe.lineHeightFactor:us,Be=m.internal.scaleFactor;function dt(qn){return qn=qn.split("	").join(Array(pe.TabLen||9).join(" ")),ki(qn,An)}function ln(qn){for(var Pn,fr=qn.concat(),Br=[],Ps=fr.length;Ps--;)typeof(Pn=fr.shift())=="string"?Br.push(Pn):Array.isArray(qn)&&(Pn.length===1||Pn[1]===void 0&&Pn[2]===void 0)?Br.push(Pn[0]):Br.push([Pn[0],Pn[1],Pn[2]]);return Br}function cr(qn,Pn){var fr;if(typeof qn=="string")fr=Pn(qn)[0];else if(Array.isArray(qn)){for(var Br,Ps,ds=qn.concat(),cl=[],Bu=ds.length;Bu--;)typeof(Br=ds.shift())=="string"?cl.push(Pn(Br)[0]):Array.isArray(Br)&&typeof Br[0]=="string"&&(Ps=Pn(Br[0],Br[1],Br[2]),cl.push([Ps[0],Ps[1],Ps[2]]));fr=cl}return fr}var _n=!1,Gn=!0;if(typeof x=="string")_n=!0;else if(Array.isArray(x)){var hi=x.concat();st=[];for(var Si,rr=hi.length;rr--;)(typeof(Si=hi.shift())!="string"||Array.isArray(Si)&&typeof Si[0]!="string")&&(Gn=!1);_n=Gn}if(_n===!1)throw new Error('Type of text must be string or Array. "'+x+'" is not recognized.');typeof x=="string"&&(x=x.match(/[\r?\n]/)?x.split(/\r\n|\r|\n/g):[x]);var Ai=De/m.internal.scaleFactor,Ca=Ai*(Ne-1);switch(pe.baseline){case"bottom":se-=Ca;break;case"top":se+=Ai-Ca;break;case"hanging":se+=Ai-2*Ca;break;case"middle":se+=Ai/2-Ca}if((Ht=pe.maxWidth||0)>0&&(typeof x=="string"?x=m.splitTextToSize(x,Ht):Object.prototype.toString.call(x)==="[object Array]"&&(x=x.reduce(function(qn,Pn){return qn.concat(m.splitTextToSize(Pn,Ht))},[]))),Ke={text:x,x:B,y:se,options:pe,mutex:{pdfEscape:ki,activeFontKey:Et,fonts:jt,activeFontSize:De}},J.publish("preProcessText",Ke),x=Ke.text,Tt=(pe=Ke.options).angle,tr instanceof Ge==0&&Tt&&typeof Tt=="number"){Tt*=Math.PI/180,pe.rotationDirection===0&&(Tt=-Tt),re===W&&(Tt=-Tt);var Ds=Math.cos(Tt),Rs=Math.sin(Tt);tr=new Ge(Ds,Rs,-Rs,Ds,0,0)}else Tt&&Tt instanceof Ge&&(tr=Tt);re!==W||tr||(tr=Ae),(Qt=pe.charSpace||Ki)!==void 0&&(ee+=V(F(Qt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(ur=pe.horizontalScale)!==void 0&&(ee+=V(100*ur)+` Tz
`),pe.lang;var Ji=-1,Zs=pe.renderingMode!==void 0?pe.renderingMode:pe.stroke,ql=m.internal.getCurrentPageInfo().pageContext;switch(Zs){case 0:case!1:case"fill":Ji=0;break;case 1:case!0:case"stroke":Ji=1;break;case 2:case"fillThenStroke":Ji=2;break;case 3:case"invisible":Ji=3;break;case 4:case"fillAndAddForClipping":Ji=4;break;case 5:case"strokeAndAddPathForClipping":Ji=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Ji=6;break;case 7:case"addToPathForClipping":Ji=7}var Fu=ql.usedRenderingMode!==void 0?ql.usedRenderingMode:-1;Ji!==-1?ee+=Ji+` Tr
`:Fu!==-1&&(ee+=`0 Tr
`),Ji!==-1&&(ql.usedRenderingMode=Ji),Mt=pe.align||"left";var Da,fs=De*Ne,eo=m.internal.pageSize.getWidth(),Vu=jt[Et];Qt=pe.charSpace||Ki,Ht=pe.maxWidth||0,An=Object.assign({autoencode:!0,noBOM:!0},pe.flags);var hs=[],Ro=function(qn){return m.getStringUnitWidth(qn,{font:Vu,charSpace:Qt,fontSize:De,doKerning:!1})*De/Be};if(Object.prototype.toString.call(x)==="[object Array]"){var fa;st=ln(x),Mt!=="left"&&(Da=st.map(Ro));var Zi,Is=0;if(Mt==="right"){B-=Da[0],x=[],rr=st.length;for(var Ls=0;Ls<rr;Ls++)Ls===0?(Zi=ti(B),fa=$r(se)):(Zi=F(Is-Da[Ls]),fa=-fs),x.push([st[Ls],Zi,fa]),Is=Da[Ls]}else if(Mt==="center"){B-=Da[0]/2,x=[],rr=st.length;for(var to=0;to<rr;to++)to===0?(Zi=ti(B),fa=$r(se)):(Zi=F((Is-Da[to])/2),fa=-fs),x.push([st[to],Zi,fa]),Is=Da[to]}else if(Mt==="left"){x=[],rr=st.length;for(var Hl=0;Hl<rr;Hl++)x.push(st[Hl])}else if(Mt==="justify"&&Vu.encoding==="Identity-H"){x=[],rr=st.length,Ht=Ht!==0?Ht:eo;for(var $l=0,Vr=0;Vr<rr;Vr++)if(fa=Vr===0?$r(se):-fs,Zi=Vr===0?ti(B):$l,Vr<rr-1){var xc=F((Ht-Da[Vr])/(st[Vr].split(" ").length-1)),Ms=st[Vr].split(" ");x.push([Ms[0]+" ",Zi,fa]),$l=0;for(var ks=1;ks<Ms.length;ks++){var Ei=(Ro(Ms[ks-1]+" "+Ms[ks])-Ro(Ms[ks]))*Be+xc;ks==Ms.length-1?x.push([Ms[ks],Ei,0]):x.push([Ms[ks]+" ",Ei,0]),$l-=Ei}}else x.push([st[Vr],Zi,fa]);x.push(["",$l,0])}else{if(Mt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(x=[],rr=st.length,Ht=Ht!==0?Ht:eo,Vr=0;Vr<rr;Vr++){fa=Vr===0?$r(se):-fs,Zi=Vr===0?ti(B):0;var no=st[Vr].split(" ").length-1,Gl=no>0?(Ht-Da[Vr])/no:0;Vr<rr-1?hs.push(V(F(Gl))):hs.push(0),x.push([st[Vr],Zi,fa])}}}(typeof pe.R2L=="boolean"?pe.R2L:vt)===!0&&(x=cr(x,function(qn,Pn,fr){return[qn.split("").reverse().join(""),Pn,fr]})),Ke={text:x,x:B,y:se,options:pe,mutex:{pdfEscape:ki,activeFontKey:Et,fonts:jt,activeFontSize:De}},J.publish("postProcessText",Ke),x=Ke.text,k=Ke.mutex.isHex||!1;var Yl=jt[Et].encoding;Yl!=="WinAnsiEncoding"&&Yl!=="StandardEncoding"||(x=cr(x,function(qn,Pn,fr){return[dt(qn),Pn,fr]})),st=ln(x),x=[];for(var ro,io,Os,ul=Array.isArray(st[0])?1:0,Ra="",ao=function(qn,Pn,fr){var Br="";return fr instanceof Ge?(fr=typeof pe.angle=="number"?Ft(fr,new Ge(1,0,0,1,qn,Pn)):Ft(new Ge(1,0,0,1,qn,Pn),fr),re===W&&(fr=Ft(new Ge(1,0,0,-1,0,0),fr)),Br=fr.join(" ")+` Tm
`):Br=V(qn)+" "+V(Pn)+` Td
`,Br},ji=0;ji<st.length;ji++){switch(Ra="",ul){case 1:Os=(k?"<":"(")+st[ji][0]+(k?">":")"),ro=parseFloat(st[ji][1]),io=parseFloat(st[ji][2]);break;case 0:Os=(k?"<":"(")+st[ji]+(k?">":")"),ro=ti(B),io=$r(se)}hs!==void 0&&hs[ji]!==void 0&&(Ra=hs[ji]+` Tw
`),ji===0?x.push(Ra+ao(ro,io,tr)+Os):ul===0?x.push(Ra+Os):ul===1&&x.push(Ra+ao(ro,io,tr)+Os)}x=ul===0?x.join(` Tj
T* `):x.join(` Tj
`),x+=` Tj
`;var Ua=`BT
/`;return Ua+=Et+" "+De+` Tf
`,Ua+=V(De*Ne)+` TL
`,Ua+=Ta+`
`,Ua+=ee,Ua+=x,q(Ua+="ET"),S[Et]=!0,m};var rl=w.__private__.clip=w.clip=function(x){return q(x==="evenodd"?"W*":"W"),this};w.clipEvenOdd=function(){return rl("evenodd")},w.__private__.discardPath=w.discardPath=function(){return q("n"),this};var xi=w.__private__.isValidStyle=function(x){var B=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(x)!==-1&&(B=!0),B};w.__private__.setDefaultPathOperation=w.setDefaultPathOperation=function(x){return xi(x)&&(d=x),this};var il=w.__private__.getStyle=w.getStyle=function(x){var B=d;switch(x){case"D":case"S":B="S";break;case"F":B="f";break;case"FD":case"DF":B="B";break;case"f":case"f*":case"B":case"B*":B=x}return B},os=w.close=function(){return q("h"),this};w.stroke=function(){return q("S"),this},w.fill=function(x){return ei("f",x),this},w.fillEvenOdd=function(x){return ei("f*",x),this},w.fillStroke=function(x){return ei("B",x),this},w.fillStrokeEvenOdd=function(x){return ei("B*",x),this};var ei=function(x,B){or(B)==="object"?sl(B,x):q(x)},Es=function(x){x===null||re===W&&x===void 0||(x=il(x),q(x))};function al(x,B,se,pe,Se){var Ke=new pf(B||this.boundingBox,se||this.xStep,pe||this.yStep,this.gState,Se||this.matrix);Ke.stream=this.stream;var st=x+"$$"+this.cloneIndex+++"$$";return Je(st,Ke),Ke}var sl=function(x,B){var se=Tn[x.key],pe=Lt[se];if(pe instanceof oc)q("q"),q(Eo(B)),pe.gState&&w.setGState(pe.gState),q(x.matrix.toString()+" cm"),q("/"+se+" sh"),q("Q");else if(pe instanceof pf){var Se=new Ge(1,0,0,-1,0,Na());x.matrix&&(Se=Se.multiply(x.matrix||Ae),se=al.call(pe,x.key,x.boundingBox,x.xStep,x.yStep,Se).id),q("q"),q("/Pattern cs"),q("/"+se+" scn"),pe.gState&&w.setGState(pe.gState),q(B),q("Q")}},Eo=function(x){switch(x){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},To=w.moveTo=function(x,B){return q(V(F(x))+" "+V(ce(B))+" m"),this},ls=w.lineTo=function(x,B){return q(V(F(x))+" "+V(ce(B))+" l"),this},Oi=w.curveTo=function(x,B,se,pe,Se,Ke){return q([V(F(x)),V(ce(B)),V(F(se)),V(ce(pe)),V(F(Se)),V(ce(Ke)),"c"].join(" ")),this};w.__private__.line=w.line=function(x,B,se,pe,Se){if(isNaN(x)||isNaN(B)||isNaN(se)||isNaN(pe)||!xi(Se))throw new Error("Invalid arguments passed to jsPDF.line");return re===Q?this.lines([[se-x,pe-B]],x,B,[1,1],Se||"S"):this.lines([[se-x,pe-B]],x,B,[1,1]).stroke()},w.__private__.lines=w.lines=function(x,B,se,pe,Se,Ke){var st,Tt,Mt,Qt,Ht,An,ur,tr,m,E,k,ee;if(typeof x=="number"&&(ee=se,se=B,B=x,x=ee),pe=pe||[1,1],Ke=Ke||!1,isNaN(B)||isNaN(se)||!Array.isArray(x)||!Array.isArray(pe)||!xi(Se)||typeof Ke!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(To(B,se),st=pe[0],Tt=pe[1],Qt=x.length,E=B,k=se,Mt=0;Mt<Qt;Mt++)(Ht=x[Mt]).length===2?(E=Ht[0]*st+E,k=Ht[1]*Tt+k,ls(E,k)):(An=Ht[0]*st+E,ur=Ht[1]*Tt+k,tr=Ht[2]*st+E,m=Ht[3]*Tt+k,E=Ht[4]*st+E,k=Ht[5]*Tt+k,Oi(An,ur,tr,m,E,k));return Ke&&os(),Es(Se),this},w.path=function(x){for(var B=0;B<x.length;B++){var se=x[B],pe=se.c;switch(se.op){case"m":To(pe[0],pe[1]);break;case"l":ls(pe[0],pe[1]);break;case"c":Oi.apply(this,pe);break;case"h":os()}}return this},w.__private__.rect=w.rect=function(x,B,se,pe,Se){if(isNaN(x)||isNaN(B)||isNaN(se)||isNaN(pe)||!xi(Se))throw new Error("Invalid arguments passed to jsPDF.rect");return re===Q&&(pe=-pe),q([V(F(x)),V(ce(B)),V(F(se)),V(F(pe)),"re"].join(" ")),Es(Se),this},w.__private__.triangle=w.triangle=function(x,B,se,pe,Se,Ke,st){if(isNaN(x)||isNaN(B)||isNaN(se)||isNaN(pe)||isNaN(Se)||isNaN(Ke)||!xi(st))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[se-x,pe-B],[Se-se,Ke-pe],[x-Se,B-Ke]],x,B,[1,1],st,!0),this},w.__private__.roundedRect=w.roundedRect=function(x,B,se,pe,Se,Ke,st){if(isNaN(x)||isNaN(B)||isNaN(se)||isNaN(pe)||isNaN(Se)||isNaN(Ke)||!xi(st))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Tt=4/3*(Math.SQRT2-1);return Se=Math.min(Se,.5*se),Ke=Math.min(Ke,.5*pe),this.lines([[se-2*Se,0],[Se*Tt,0,Se,Ke-Ke*Tt,Se,Ke],[0,pe-2*Ke],[0,Ke*Tt,-Se*Tt,Ke,-Se,Ke],[2*Se-se,0],[-Se*Tt,0,-Se,-Ke*Tt,-Se,-Ke],[0,2*Ke-pe],[0,-Ke*Tt,Se*Tt,-Ke,Se,-Ke]],x+Se,B,[1,1],st,!0),this},w.__private__.ellipse=w.ellipse=function(x,B,se,pe,Se){if(isNaN(x)||isNaN(B)||isNaN(se)||isNaN(pe)||!xi(Se))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Ke=4/3*(Math.SQRT2-1)*se,st=4/3*(Math.SQRT2-1)*pe;return To(x+se,B),Oi(x+se,B-st,x+Ke,B-pe,x,B-pe),Oi(x-Ke,B-pe,x-se,B-st,x-se,B),Oi(x-se,B+st,x-Ke,B+pe,x,B+pe),Oi(x+Ke,B+pe,x+se,B+st,x+se,B),Es(Se),this},w.__private__.circle=w.circle=function(x,B,se,pe){if(isNaN(x)||isNaN(B)||isNaN(se)||!xi(pe))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(x,B,se,se,pe)},w.setFont=function(x,B,se){return se&&(B=z(B,se)),Et=nl(x,B,{disableWarning:!1}),this};var Ea=w.__private__.getFont=w.getFont=function(){return jt[nl.apply(w,arguments)]};w.__private__.getFontList=w.getFontList=function(){var x,B,se={};for(x in yt)if(yt.hasOwnProperty(x))for(B in se[x]=[],yt[x])yt[x].hasOwnProperty(B)&&se[x].push(B);return se},w.addFont=function(x,B,se,pe,Se){var Ke=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Ke.indexOf(arguments[3])!==-1?Se=arguments[3]:arguments[3]&&Ke.indexOf(arguments[3])==-1&&(se=z(se,pe)),xo.call(this,x,B,se,Se=Se||"Identity-H")};var us,Pi=n.lineWidth||.200025,Ts=w.__private__.getLineWidth=w.getLineWidth=function(){return Pi},Wt=w.__private__.setLineWidth=w.setLineWidth=function(x){return Pi=x,q(V(F(x))+" w"),this};w.__private__.setLineDash=Bt.API.setLineDash=Bt.API.setLineDashPattern=function(x,B){if(x=x||[],B=B||0,isNaN(B)||!Array.isArray(x))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return x=x.map(function(se){return V(F(se))}).join(" "),B=V(F(B)),q("["+x+"] "+B+" d"),this};var Ks=w.__private__.getLineHeight=w.getLineHeight=function(){return De*us};w.__private__.getLineHeight=w.getLineHeight=function(){return De*us};var No=w.__private__.setLineHeightFactor=w.setLineHeightFactor=function(x){return typeof(x=x||1.15)=="number"&&(us=x),this},Ns=w.__private__.getLineHeightFactor=w.getLineHeightFactor=function(){return us};No(n.lineHeight);var ti=w.__private__.getHorizontalCoordinate=function(x){return F(x)},$r=w.__private__.getVerticalCoordinate=function(x){return re===W?x:Rt[K].mediaBox.topRightY-Rt[K].mediaBox.bottomLeftY-F(x)},Qs=w.__private__.getHorizontalCoordinateString=w.getHorizontalCoordinateString=function(x){return V(ti(x))},$n=w.__private__.getVerticalCoordinateString=w.getVerticalCoordinateString=function(x){return V($r(x))},Wi=n.strokeColor||"0 G";w.__private__.getStrokeColor=w.getDrawColor=function(){return Qn(Wi)},w.__private__.setStrokeColor=w.setDrawColor=function(x,B,se,pe){return Wi=_r({ch1:x,ch2:B,ch3:se,ch4:pe,pdfColorType:"draw",precision:2}),q(Wi),this};var Xs=n.fillColor||"0 g";w.__private__.getFillColor=w.getFillColor=function(){return Qn(Xs)},w.__private__.setFillColor=w.setFillColor=function(x,B,se,pe){return Xs=_r({ch1:x,ch2:B,ch3:se,ch4:pe,pdfColorType:"fill",precision:2}),q(Xs),this};var Ta=n.textColor||"0 g",ol=w.__private__.getTextColor=w.getTextColor=function(){return Qn(Ta)};w.__private__.setTextColor=w.setTextColor=function(x,B,se,pe){return Ta=_r({ch1:x,ch2:B,ch3:se,ch4:pe,pdfColorType:"text",precision:3}),this};var Ki=n.charSpace,cs=w.__private__.getCharSpace=w.getCharSpace=function(){return parseFloat(Ki||0)};w.__private__.setCharSpace=w.setCharSpace=function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Ki=x,this};var Qi=0;w.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},w.__private__.setLineCap=w.setLineCap=function(x){var B=w.CapJoinStyles[x];if(B===void 0)throw new Error("Line cap style of '"+x+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Qi=B,q(B+" J"),this};var Fr=0;w.__private__.setLineJoin=w.setLineJoin=function(x){var B=w.CapJoinStyles[x];if(B===void 0)throw new Error("Line join style of '"+x+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Fr=B,q(B+" j"),this},w.__private__.setLineMiterLimit=w.__private__.setMiterLimit=w.setLineMiterLimit=w.setMiterLimit=function(x){if(x=x||0,isNaN(x))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return q(V(F(x))+" M"),this},w.GState=rm,w.setGState=function(x){(x=typeof x=="string"?zt[qt[x]]:Pa(null,x)).equals(vn)||(q("/"+x.id+" gs"),vn=x)};var Pa=function(x,B){if(!x||!qt[x]){var se=!1;for(var pe in zt)if(zt.hasOwnProperty(pe)&&zt[pe].equals(B)){se=!0;break}if(se)B=zt[pe];else{var Se="GS"+(Object.keys(zt).length+1).toString(10);zt[Se]=B,B.id=Se}return x&&(qt[x]=B.id),J.publish("addGState",B),B}};w.addGState=function(x,B){return Pa(x,B),this},w.saveGraphicsState=function(){return q("q"),tn.push({key:Et,size:De,color:Ta}),this},w.restoreGraphicsState=function(){q("Q");var x=tn.pop();return Et=x.key,De=x.size,Ta=x.color,vn=null,this},w.setCurrentTransformationMatrix=function(x){return q(x.toString()+" cm"),this},w.comment=function(x){return q("#"+x),this};var fi=function(x,B){var se=x||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return se},set:function(Ke){isNaN(Ke)||(se=parseFloat(Ke))}});var pe=B||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return pe},set:function(Ke){isNaN(Ke)||(pe=parseFloat(Ke))}});var Se="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Se},set:function(Ke){Se=Ke.toString()}}),this},ja=function(x,B,se,pe){fi.call(this,x,B),this.type="rect";var Se=se||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Se},set:function(st){isNaN(st)||(Se=parseFloat(st))}});var Ke=pe||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Ke},set:function(st){isNaN(st)||(Ke=parseFloat(st))}}),this},Cs=function(){this.page=Pt,this.currentPage=K,this.pages=ut.slice(0),this.pagesContext=Rt.slice(0),this.x=Ct,this.y=Kn,this.matrix=Yt,this.width=ca(K),this.height=Co(K),this.outputDestination=mt,this.id="",this.objectNumber=-1};Cs.prototype.restore=function(){Pt=this.page,K=this.currentPage,Rt=this.pagesContext,ut=this.pages,Ct=this.x,Kn=this.y,Yt=this.matrix,Js(K,this.width),Xi(K,this.height),mt=this.outputDestination};var Fa=function(x,B,se,pe,Se){lt.push(new Cs),Pt=K=0,ut=[],Ct=x,Kn=B,Yt=Se,la([se,pe])};for(var Va in w.beginFormObject=function(x,B,se,pe,Se){return Fa(x,B,se,pe,Se),this},w.endFormObject=function(x){return(function(B){if(ze[B])lt.pop().restore();else{var se=new Cs,pe="Xo"+(Object.keys(we).length+1).toString(10);se.id=pe,ze[B]=pe,we[pe]=se,J.publish("addFormObject",se),lt.pop().restore()}})(x),this},w.doFormObject=function(x,B){var se=we[ze[x]];return q("q"),q(B.toString()+" cm"),q("/"+se.id+" Do"),q("Q"),this},w.getFormObject=function(x){var B=we[ze[x]];return{x:B.x,y:B.y,width:B.width,height:B.height,matrix:B.matrix}},w.save=function(x,B){return x=x||"generated.pdf",(B=B||{}).returnPromise=B.returnPromise||!1,B.returnPromise===!1?(rc(Rn(ua()),x),typeof rc.unload=="function"&&cn.setTimeout&&setTimeout(rc.unload,911),this):new Promise(function(se,pe){try{var Se=rc(Rn(ua()),x);typeof rc.unload=="function"&&cn.setTimeout&&setTimeout(rc.unload,911),se(Se)}catch(Ke){pe(Ke.message)}})},Bt.API)Bt.API.hasOwnProperty(Va)&&(Va==="events"&&Bt.API.events.length?(function(x,B){var se,pe,Se;for(Se=B.length-1;Se!==-1;Se--)se=B[Se][0],pe=B[Se][1],x.subscribe.apply(x,[se].concat(typeof pe=="function"?[pe]:pe))})(J,Bt.API.events):w[Va]=Bt.API[Va]);function ca(x){return Rt[x].mediaBox.topRightX-Rt[x].mediaBox.bottomLeftX}function Js(x,B){Rt[x].mediaBox.topRightX=B+Rt[x].mediaBox.bottomLeftX}function Co(x){return Rt[x].mediaBox.topRightY-Rt[x].mediaBox.bottomLeftY}function Xi(x,B){Rt[x].mediaBox.topRightY=B+Rt[x].mediaBox.bottomLeftY}var Ba=w.getPageWidth=function(x){return ca(x=x||K)/rn},ll=w.setPageWidth=function(x,B){Js(x,B*rn)},Na=w.getPageHeight=function(x){return Co(x=x||K)/rn},Do=w.setPageHeight=function(x,B){Xi(x,B*rn)};return w.internal={pdfEscape:ki,getStyle:il,getFont:Ea,getFontSize:ht,getCharSpace:cs,getTextColor:ol,getLineHeight:Ks,getLineHeightFactor:Ns,getLineWidth:Ts,write:Oe,getHorizontalCoordinate:ti,getVerticalCoordinate:$r,getCoordinateString:Qs,getVerticalCoordinateString:$n,collections:{},newObject:Ze,newAdditionalObject:On,newObjectDeferred:bt,newObjectDeferredBegin:en,getFilters:li,putStream:Mi,events:J,scaleFactor:rn,pageSize:{getWidth:function(){return Ba(K)},setWidth:function(x){ll(K,x)},getHeight:function(){return Na(K)},setHeight:function(x){Do(K,x)}},encryptionOptions:g,encryption:gr,getEncryptor:function(x){return g!==null?gr.encryptor(x,0):function(B){return B}},output:As,getNumberOfPages:Ao,get pages(){return ut},out:q,f2:N,f3:O,getPageInfo:Ir,getPageInfoByObjId:Ws,getCurrentPageInfo:zl,getPDFVersion:M,Point:fi,Rectangle:ja,Matrix:Ge,hasHotfix:jr},Object.defineProperty(w.internal.pageSize,"width",{get:function(){return Ba(K)},set:function(x){ll(K,x)},enumerable:!0,configurable:!0}),Object.defineProperty(w.internal.pageSize,"height",{get:function(){return Na(K)},set:function(x){Do(K,x)},enumerable:!0,configurable:!0}),(function(x){for(var B=0,se=Fe.length;B<se;B++){var pe=xo.call(this,x[B][0],x[B][1],x[B][2],Fe[B][3],!0);_===!1&&(S[pe]=!0);var Se=x[B][0].split("-");Sr({id:pe,fontName:Se[0],fontStyle:Se[1]||""})}J.publish("addFonts",{fonts:jt,dictionary:yt})}).call(w,Fe),Et="F1",Aa(s,t),J.publish("initialized"),w}ff.prototype.lsbFirstWord=function(n){return String.fromCharCode(255&n,n>>8&255,n>>16&255,n>>24&255)},ff.prototype.toHexString=function(n){return n.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},ff.prototype.hexToBytes=function(n){for(var e=[],t=0;t<n.length;t+=2)e.push(String.fromCharCode(parseInt(n.substr(t,2),16)));return e.join("")},ff.prototype.processOwnerPassword=function(n,e){return S1(x1(e).substr(0,5),n)},ff.prototype.encryptor=function(n,e){var t=x1(this.encryptionKey+String.fromCharCode(255&n,n>>8&255,n>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return S1(t,r)}},rm.prototype.equals=function(n){var e,t="id,objectNumber,equals";if(!n||or(n)!==or(this))return!1;var r=0;for(e in this)if(!(t.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!n.hasOwnProperty(e)||this[e]!==n[e])return!1;r++}for(e in n)n.hasOwnProperty(e)&&t.indexOf(e)<0&&r--;return r===0},Bt.API={events:[]},Bt.version="3.0.4";var Jr=Bt.API,M2=1,_c=function(n){return n.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},af=function(n){return n.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},mn=function(n){return n.toFixed(2)},yu=function(n){return n.toFixed(5)};Jr.__acroform__={};var as=function(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n},Iw=function(n){return n*M2},$o=function(n){var e=new vx,t=Ot.internal.getHeight(n)||0,r=Ot.internal.getWidth(n)||0;return e.BBox=[0,0,Number(mn(r)),Number(mn(t))],e},EI=Jr.__acroform__.setBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return n|1<<e},TI=Jr.__acroform__.clearBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return n&~(1<<e)},NI=Jr.__acroform__.getBit=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return n&1<<e?1:0},ai=Jr.__acroform__.getBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return NI(n,e-1)},si=Jr.__acroform__.setBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return EI(n,e-1)},oi=Jr.__acroform__.clearBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return TI(n,e-1)},CI=Jr.__acroform__.calculateCoordinates=function(n,e){var t=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,s=n[0],o=n[1],u=n[2],c=n[3],h={};return h.lowerLeft_X=t(s)||0,h.lowerLeft_Y=r(o+c)||0,h.upperRight_X=t(s+u)||0,h.upperRight_Y=r(o)||0,[Number(mn(h.lowerLeft_X)),Number(mn(h.lowerLeft_Y)),Number(mn(h.upperRight_X)),Number(mn(h.upperRight_Y))]},DI=function(n){if(n.appearanceStreamContent)return n.appearanceStreamContent;if(n.V||n.DV){var e=[],t=n._V||n.DV,r=A1(n,t),s=n.scope.internal.getFont(n.fontName,n.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(n.scope.__private__.encodeColorString(n.color)),e.push("/"+s+" "+mn(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var o=$o(n);return o.scope=n.scope,o.stream=e.join(`
`),o}},A1=function(n,e){var t=n.fontSize===0?n.maxFontSize:n.fontSize,r={text:"",fontSize:""},s=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");s=n.multiline?s.map(function(N){return N.split(`
`)}):s.map(function(N){return[N]});var o=t,u=Ot.internal.getHeight(n)||0;u=u<0?-u:u;var c=Ot.internal.getWidth(n)||0;c=c<0?-c:c;var h=function(N,O,F){if(N+1<s.length){var ce=O+" "+s[N+1][0];return bp(ce,n,F).width<=c-4}return!1};o++;e:for(;o>0;){e="",o--;var d,g,_=bp("3",n,o).height,S=n.multiline?u-o:(u-_)/2,w=S+=2,T=0,M=0,j=0;if(o<=0){e=`(...) Tj
`,e+="% Width of Text: "+bp(e,n,o=12).width+", FieldWidth:"+c+`
`;break}for(var D="",Q=0,W=0;W<s.length;W++)if(s.hasOwnProperty(W)){var re=!1;if(s[W].length!==1&&j!==s[W].length-1){if((_+2)*(Q+2)+2>u)continue e;D+=s[W][j],re=!0,M=W,W--}else{D=(D+=s[W][j]+" ").substr(D.length-1)==" "?D.substr(0,D.length-1):D;var ye=parseInt(W),_e=h(ye,D,o),z=W>=s.length-1;if(_e&&!z){D+=" ",j=0;continue}if(_e||z){if(z)M=ye;else if(n.multiline&&(_+2)*(Q+2)+2>u)continue e}else{if(!n.multiline||(_+2)*(Q+2)+2>u)continue e;M=ye}}for(var V="",L=T;L<=M;L++){var H=s[L];if(n.multiline){if(L===M){V+=H[j]+" ",j=(j+1)%H.length;continue}if(L===T){V+=H[H.length-1]+" ";continue}}V+=H[0]+" "}switch(V=V.substr(V.length-1)==" "?V.substr(0,V.length-1):V,g=bp(V,n,o).width,n.textAlign){case"right":d=c-g-2;break;case"center":d=(c-g)/2;break;default:d=2}e+=mn(d)+" "+mn(w)+` Td
`,e+="("+_c(V)+`) Tj
`,e+=-mn(d)+` 0 Td
`,w=-(o+2),g=0,T=re?M:M+1,Q++,D=""}break}return r.text=e,r.fontSize=o,r},bp=function(n,e,t){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),s=e.scope.getStringUnitWidth(n,{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:s}},RI={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},II=function(n,e){var t={type:"reference",object:n};e.internal.getPageInfo(n.page).pageContext.annotations.find(function(r){return r.type===t.type&&r.object===t.object})===void 0&&e.internal.getPageInfo(n.page).pageContext.annotations.push(t)},LI=function(n,e){if(e.scope=n,n.internal!==void 0&&(n.internal.acroformPlugin===void 0||n.internal.acroformPlugin.isInitialized===!1)){if(wo.FieldNum=0,n.internal.acroformPlugin=JSON.parse(JSON.stringify(RI)),n.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");M2=n.internal.scaleFactor,n.internal.acroformPlugin.acroFormDictionaryRoot=new yx,n.internal.acroformPlugin.acroFormDictionaryRoot.scope=n,n.internal.acroformPlugin.acroFormDictionaryRoot._eventID=n.internal.events.subscribe("postPutResources",function(){(function(t){t.internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0})(n)}),n.internal.events.subscribe("buildDocument",function(){(function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var s in r)if(r.hasOwnProperty(s)){var o=r[s];o.objId=void 0,o.hasAnnotation&&II(o,t)}})(n)}),n.internal.events.subscribe("putCatalog",function(){(function(t){if(t.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(n)}),n.internal.events.subscribe("postPutPages",function(t){(function(r,s){var o=!r;for(var u in r||(s.internal.newObjectDeferredBegin(s.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),s.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||s.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(u)){var c=r[u],h=[],d=c.Rect;if(c.Rect&&(c.Rect=CI(c.Rect,s)),s.internal.newObjectDeferredBegin(c.objId,!0),c.DA=Ot.createDefaultAppearanceStream(c),or(c)==="object"&&typeof c.getKeyValueListForStream=="function"&&(h=c.getKeyValueListForStream()),c.Rect=d,c.hasAppearanceStream&&!c.appearanceStreamContent){var g=DI(c);h.push({key:"AP",value:"<</N "+g+">>"}),s.internal.acroformPlugin.xForms.push(g)}if(c.appearanceStreamContent){var _="";for(var S in c.appearanceStreamContent)if(c.appearanceStreamContent.hasOwnProperty(S)){var w=c.appearanceStreamContent[S];if(_+="/"+S+" ",_+="<<",Object.keys(w).length>=1||Array.isArray(w)){for(var u in w)if(w.hasOwnProperty(u)){var T=w[u];typeof T=="function"&&(T=T.call(s,c)),_+="/"+u+" "+T+" ",s.internal.acroformPlugin.xForms.indexOf(T)>=0||s.internal.acroformPlugin.xForms.push(T)}}else typeof(T=w)=="function"&&(T=T.call(s,c)),_+="/"+u+" "+T,s.internal.acroformPlugin.xForms.indexOf(T)>=0||s.internal.acroformPlugin.xForms.push(T);_+=">>"}h.push({key:"AP",value:`<<
`+_+">>"})}s.internal.putStream({additionalKeyValues:h,objectId:c.objId}),s.internal.out("endobj")}o&&(function(M,j){for(var D in M)if(M.hasOwnProperty(D)){var Q=D,W=M[D];j.internal.newObjectDeferredBegin(W.objId,!0),or(W)==="object"&&typeof W.putStream=="function"&&W.putStream(),delete M[Q]}})(s.internal.acroformPlugin.xForms,s)})(t,n)}),n.internal.acroformPlugin.isInitialized=!0}},gx=Jr.__acroform__.arrayToPdfArray=function(n,e,t){var r=function(u){return u};if(Array.isArray(n)){for(var s="[",o=0;o<n.length;o++)switch(o!==0&&(s+=" "),or(n[o])){case"boolean":case"number":case"object":s+=n[o].toString();break;case"string":n[o].substr(0,1)!=="/"?(e!==void 0&&t&&(r=t.internal.getEncryptor(e)),s+="("+_c(r(n[o].toString()))+")"):s+=n[o].toString()}return s+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},M0=function(n,e,t){var r=function(s){return s};return e!==void 0&&t&&(r=t.internal.getEncryptor(e)),(n=n||"").toString(),"("+_c(r(n))+")"},Wo=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(n){this._objId=n}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Wo.prototype.toString=function(){return this.objId+" 0 R"},Wo.prototype.putStream=function(){var n=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:n,objectId:this.objId}),this.scope.internal.out("endobj")},Wo.prototype.getKeyValueListForStream=function(){var n=[],e=Object.getOwnPropertyNames(this).filter(function(o){return o!="content"&&o!="appearanceStreamContent"&&o!="scope"&&o!="objId"&&o.substring(0,1)!="_"});for(var t in e)if(Object.getOwnPropertyDescriptor(this,e[t]).configurable===!1){var r=e[t],s=this[r];s&&(Array.isArray(s)?n.push({key:r,value:gx(s,this.objId,this.scope)}):s instanceof Wo?(s.scope=this.scope,n.push({key:r,value:s.objId+" 0 R"})):typeof s!="function"&&n.push({key:r,value:s}))}return n};var vx=function(){Wo.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var n,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){n=t.trim()},get:function(){return n||null}})};as(vx,Wo);var yx=function(){Wo.call(this);var n,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(n){var t=function(r){return r};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+_c(t(n))+")"}},set:function(t){n=t}})};as(yx,Wo);var wo=function n(){Wo.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(D){if(isNaN(D))throw new Error('Invalid value "'+D+'" for attribute F supplied.');e=D}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!ai(e,3)},set:function(D){D?this.F=si(e,3):this.F=oi(e,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(D){if(isNaN(D))throw new Error('Invalid value "'+D+'" for attribute Ff supplied.');t=D}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(D){r=D!==void 0?D:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(D){r[0]=D}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(D){r[1]=D}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(D){r[2]=D}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(D){r[3]=D}});var s="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return s},set:function(D){switch(D){case"/Btn":case"/Tx":case"/Ch":case"/Sig":s=D;break;default:throw new Error('Invalid value "'+D+'" for attribute FT supplied.')}}});var o=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!o||o.length<1){if(this instanceof im)return;o="FieldObject"+n.FieldNum++}var D=function(Q){return Q};return this.scope&&(D=this.scope.internal.getEncryptor(this.objId)),"("+_c(D(o))+")"},set:function(D){o=D.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return o},set:function(D){o=D}});var u="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return u},set:function(D){u=D}});var c="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return c},set:function(D){c=D}});var h=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return h},set:function(D){h=D}});var d=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return d===void 0?50/M2:d},set:function(D){d=D}});var g="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return g},set:function(D){g=D}});var _="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!_||this instanceof im||this instanceof fc))return M0(_,this.objId,this.scope)},set:function(D){D=D.toString(),_=D}});var S=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(S)return this instanceof Hi==0?M0(S,this.objId,this.scope):S},set:function(D){D=D.toString(),S=this instanceof Hi==0?D.substr(0,1)==="("?af(D.substr(1,D.length-2)):af(D):D}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Hi==1?af(S.substr(1,S.length-1)):S},set:function(D){D=D.toString(),S=this instanceof Hi==1?"/"+D:D}});var w=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(w)return w},set:function(D){this.V=D}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(w)return this instanceof Hi==0?M0(w,this.objId,this.scope):w},set:function(D){D=D.toString(),w=this instanceof Hi==0?D.substr(0,1)==="("?af(D.substr(1,D.length-2)):af(D):D}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Hi==1?af(w.substr(1,w.length-1)):w},set:function(D){D=D.toString(),w=this instanceof Hi==1?"/"+D:D}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var T,M=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return M},set:function(D){D=!!D,M=D}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(T)return T},set:function(D){T=D}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!ai(this.Ff,1)},set:function(D){D?this.Ff=si(this.Ff,1):this.Ff=oi(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!ai(this.Ff,2)},set:function(D){D?this.Ff=si(this.Ff,2):this.Ff=oi(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!ai(this.Ff,3)},set:function(D){D?this.Ff=si(this.Ff,3):this.Ff=oi(this.Ff,3)}});var j=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(j!==null)return j},set:function(D){if([0,1,2].indexOf(D)===-1)throw new Error('Invalid value "'+D+'" for attribute Q supplied.');j=D}}),Object.defineProperty(this,"textAlign",{get:function(){var D;switch(j){case 0:default:D="left";break;case 1:D="center";break;case 2:D="right"}return D},configurable:!0,enumerable:!0,set:function(D){switch(D){case"right":case 2:j=2;break;case"center":case 1:j=1;break;default:j=0}}})};as(wo,Wo);var wf=function(){wo.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var n=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return n},set:function(t){n=t}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return gx(e,this.objId,this.scope)},set:function(t){var r,s;s=[],typeof(r=t)=="string"&&(s=(function(o,u,c){c||(c=1);for(var h,d=[];h=u.exec(o);)d.push(h[c]);return d})(r,/\((.*?)\)/g)),e=s}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,r){for(r=r||!1,t=(t=t||"").toString();e.indexOf(t)!==-1&&(e.splice(e.indexOf(t),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!ai(this.Ff,18)},set:function(t){t?this.Ff=si(this.Ff,18):this.Ff=oi(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!ai(this.Ff,19)},set:function(t){this.combo===!0&&(t?this.Ff=si(this.Ff,19):this.Ff=oi(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!ai(this.Ff,20)},set:function(t){t?(this.Ff=si(this.Ff,20),e.sort()):this.Ff=oi(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!ai(this.Ff,22)},set:function(t){t?this.Ff=si(this.Ff,22):this.Ff=oi(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!ai(this.Ff,23)},set:function(t){t?this.Ff=si(this.Ff,23):this.Ff=oi(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!ai(this.Ff,27)},set:function(t){t?this.Ff=si(this.Ff,27):this.Ff=oi(this.Ff,27)}}),this.hasAppearanceStream=!1};as(wf,wo);var _f=function(){wf.call(this),this.fontName="helvetica",this.combo=!1};as(_f,wf);var xf=function(){_f.call(this),this.combo=!0};as(xf,_f);var Mp=function(){xf.call(this),this.edit=!0};as(Mp,xf);var Hi=function(){wo.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!ai(this.Ff,15)},set:function(t){t?this.Ff=si(this.Ff,15):this.Ff=oi(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!ai(this.Ff,16)},set:function(t){t?this.Ff=si(this.Ff,16):this.Ff=oi(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!ai(this.Ff,17)},set:function(t){t?this.Ff=si(this.Ff,17):this.Ff=oi(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!ai(this.Ff,26)},set:function(t){t?this.Ff=si(this.Ff,26):this.Ff=oi(this.Ff,26)}});var n,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(o){return o};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,s=[];for(r in s.push("<<"),e)s.push("/"+r+" ("+_c(t(e[r]))+")");return s.push(">>"),s.join(`
`)}},set:function(t){or(t)==="object"&&(e=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(t){typeof t=="string"&&(e.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(t){n="/"+t}})};as(Hi,wo);var kp=function(){Hi.call(this),this.pushButton=!0};as(kp,Hi);var Sf=function(){Hi.call(this),this.radio=!0,this.pushButton=!1;var n=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e!==void 0?e:[]}})};as(Sf,Hi);var im=function(){var n,e;wo.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return n},set:function(s){n=s}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(s){e=s}});var t,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var s=function(c){return c};this.scope&&(s=this.scope.internal.getEncryptor(this.objId));var o,u=[];for(o in u.push("<<"),r)u.push("/"+o+" ("+_c(s(r[o]))+")");return u.push(">>"),u.join(`
`)},set:function(s){or(s)==="object"&&(r=s)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(s){typeof s=="string"&&(r.CA=s)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(s){t=s}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(s){t="/"+s}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Ot.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};as(im,wo),Sf.prototype.setAppearance=function(n){if(!("createAppearanceStream"in n)||!("getCA"in n))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var t=this.Kids[e];t.appearanceStreamContent=n.createAppearanceStream(t.optionName),t.caption=n.getCA()}},Sf.prototype.createOption=function(n){var e=new im;return e.Parent=this,e.optionName=n,this.Kids.push(e),MI.call(this.scope,e),e};var Op=function(){Hi.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Ot.CheckBox.createAppearanceStream()};as(Op,Hi);var fc=function(){wo.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!ai(this.Ff,13)},set:function(e){e?this.Ff=si(this.Ff,13):this.Ff=oi(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!ai(this.Ff,21)},set:function(e){e?this.Ff=si(this.Ff,21):this.Ff=oi(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!ai(this.Ff,23)},set:function(e){e?this.Ff=si(this.Ff,23):this.Ff=oi(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!ai(this.Ff,24)},set:function(e){e?this.Ff=si(this.Ff,24):this.Ff=oi(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!ai(this.Ff,25)},set:function(e){e?this.Ff=si(this.Ff,25):this.Ff=oi(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!ai(this.Ff,26)},set:function(e){e?this.Ff=si(this.Ff,26):this.Ff=oi(this.Ff,26)}});var n=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return n},set:function(e){Number.isInteger(e)&&(n=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};as(fc,wo);var Pp=function(){fc.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!ai(this.Ff,14)},set:function(n){n?this.Ff=si(this.Ff,14):this.Ff=oi(this.Ff,14)}}),this.password=!0};as(Pp,fc);var Ot={CheckBox:{createAppearanceStream:function(){return{N:{On:Ot.CheckBox.YesNormal},D:{On:Ot.CheckBox.YesPushDown,Off:Ot.CheckBox.OffPushDown}}},YesPushDown:function(n){var e=$o(n);e.scope=n.scope;var t=[],r=n.scope.internal.getFont(n.fontName,n.fontStyle).id,s=n.scope.__private__.encodeColorString(n.color),o=A1(n,n.caption);return t.push("0.749023 g"),t.push("0 0 "+mn(Ot.internal.getWidth(n))+" "+mn(Ot.internal.getHeight(n))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+r+" "+mn(o.fontSize)+" Tf "+s),t.push("BT"),t.push(o.text),t.push("ET"),t.push("Q"),t.push("EMC"),e.stream=t.join(`
`),e},YesNormal:function(n){var e=$o(n);e.scope=n.scope;var t=n.scope.internal.getFont(n.fontName,n.fontStyle).id,r=n.scope.__private__.encodeColorString(n.color),s=[],o=Ot.internal.getHeight(n),u=Ot.internal.getWidth(n),c=A1(n,n.caption);return s.push("1 g"),s.push("0 0 "+mn(u)+" "+mn(o)+" re"),s.push("f"),s.push("q"),s.push("0 0 1 rg"),s.push("0 0 "+mn(u-1)+" "+mn(o-1)+" re"),s.push("W"),s.push("n"),s.push("0 g"),s.push("BT"),s.push("/"+t+" "+mn(c.fontSize)+" Tf "+r),s.push(c.text),s.push("ET"),s.push("Q"),e.stream=s.join(`
`),e},OffPushDown:function(n){var e=$o(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+mn(Ot.internal.getWidth(n))+" "+mn(Ot.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(n){var e={D:{Off:Ot.RadioButton.Circle.OffPushDown},N:{}};return e.N[n]=Ot.RadioButton.Circle.YesNormal,e.D[n]=Ot.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(n){var e=$o(n);e.scope=n.scope;var t=[],r=Ot.internal.getWidth(n)<=Ot.internal.getHeight(n)?Ot.internal.getWidth(n)/4:Ot.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var s=Ot.internal.Bezier_C,o=Number((r*s).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+yu(Ot.internal.getWidth(n)/2)+" "+yu(Ot.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),t.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),t.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),t.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=$o(n);e.scope=n.scope;var t=[],r=Ot.internal.getWidth(n)<=Ot.internal.getHeight(n)?Ot.internal.getWidth(n)/4:Ot.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var s=Number((2*r).toFixed(5)),o=Number((s*Ot.internal.Bezier_C).toFixed(5)),u=Number((r*Ot.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+yu(Ot.internal.getWidth(n)/2)+" "+yu(Ot.internal.getHeight(n)/2)+" cm"),t.push(s+" 0 m"),t.push(s+" "+o+" "+o+" "+s+" 0 "+s+" c"),t.push("-"+o+" "+s+" -"+s+" "+o+" -"+s+" 0 c"),t.push("-"+s+" -"+o+" -"+o+" -"+s+" 0 -"+s+" c"),t.push(o+" -"+s+" "+s+" -"+o+" "+s+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+yu(Ot.internal.getWidth(n)/2)+" "+yu(Ot.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+u+" "+u+" "+r+" 0 "+r+" c"),t.push("-"+u+" "+r+" -"+r+" "+u+" -"+r+" 0 c"),t.push("-"+r+" -"+u+" -"+u+" -"+r+" 0 -"+r+" c"),t.push(u+" -"+r+" "+r+" -"+u+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},OffPushDown:function(n){var e=$o(n);e.scope=n.scope;var t=[],r=Ot.internal.getWidth(n)<=Ot.internal.getHeight(n)?Ot.internal.getWidth(n)/4:Ot.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var s=Number((2*r).toFixed(5)),o=Number((s*Ot.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+yu(Ot.internal.getWidth(n)/2)+" "+yu(Ot.internal.getHeight(n)/2)+" cm"),t.push(s+" 0 m"),t.push(s+" "+o+" "+o+" "+s+" 0 "+s+" c"),t.push("-"+o+" "+s+" -"+s+" "+o+" -"+s+" 0 c"),t.push("-"+s+" -"+o+" -"+o+" -"+s+" 0 -"+s+" c"),t.push(o+" -"+s+" "+s+" -"+o+" "+s+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e}},Cross:{createAppearanceStream:function(n){var e={D:{Off:Ot.RadioButton.Cross.OffPushDown},N:{}};return e.N[n]=Ot.RadioButton.Cross.YesNormal,e.D[n]=Ot.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(n){var e=$o(n);e.scope=n.scope;var t=[],r=Ot.internal.calculateCross(n);return t.push("q"),t.push("1 1 "+mn(Ot.internal.getWidth(n)-2)+" "+mn(Ot.internal.getHeight(n)-2)+" re"),t.push("W"),t.push("n"),t.push(mn(r.x1.x)+" "+mn(r.x1.y)+" m"),t.push(mn(r.x2.x)+" "+mn(r.x2.y)+" l"),t.push(mn(r.x4.x)+" "+mn(r.x4.y)+" m"),t.push(mn(r.x3.x)+" "+mn(r.x3.y)+" l"),t.push("s"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=$o(n);e.scope=n.scope;var t=Ot.internal.calculateCross(n),r=[];return r.push("0.749023 g"),r.push("0 0 "+mn(Ot.internal.getWidth(n))+" "+mn(Ot.internal.getHeight(n))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+mn(Ot.internal.getWidth(n)-2)+" "+mn(Ot.internal.getHeight(n)-2)+" re"),r.push("W"),r.push("n"),r.push(mn(t.x1.x)+" "+mn(t.x1.y)+" m"),r.push(mn(t.x2.x)+" "+mn(t.x2.y)+" l"),r.push(mn(t.x4.x)+" "+mn(t.x4.y)+" m"),r.push(mn(t.x3.x)+" "+mn(t.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(n){var e=$o(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+mn(Ot.internal.getWidth(n))+" "+mn(Ot.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}}},createDefaultAppearanceStream:function(n){var e=n.scope.internal.getFont(n.fontName,n.fontStyle).id,t=n.scope.__private__.encodeColorString(n.color);return"/"+e+" "+n.fontSize+" Tf "+t}};Ot.internal={Bezier_C:.551915024494,calculateCross:function(n){var e=Ot.internal.getWidth(n),t=Ot.internal.getHeight(n),r=Math.min(e,t);return{x1:{x:(e-r)/2,y:(t-r)/2+r},x2:{x:(e-r)/2+r,y:(t-r)/2},x3:{x:(e-r)/2,y:(t-r)/2},x4:{x:(e-r)/2+r,y:(t-r)/2+r}}}},Ot.internal.getWidth=function(n){var e=0;return or(n)==="object"&&(e=Iw(n.Rect[2])),e},Ot.internal.getHeight=function(n){var e=0;return or(n)==="object"&&(e=Iw(n.Rect[3])),e};var MI=Jr.addField=function(n){if(LI(this,n),!(n instanceof wo))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=n).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),n.page=n.scope.internal.getCurrentPageInfo().pageNumber,this};Jr.AcroFormChoiceField=wf,Jr.AcroFormListBox=_f,Jr.AcroFormComboBox=xf,Jr.AcroFormEditBox=Mp,Jr.AcroFormButton=Hi,Jr.AcroFormPushButton=kp,Jr.AcroFormRadioButton=Sf,Jr.AcroFormCheckBox=Op,Jr.AcroFormTextField=fc,Jr.AcroFormPasswordField=Pp,Jr.AcroFormAppearance=Ot,Jr.AcroForm={ChoiceField:wf,ListBox:_f,ComboBox:xf,EditBox:Mp,Button:Hi,PushButton:kp,RadioButton:Sf,CheckBox:Op,TextField:fc,PasswordField:Pp,Appearance:Ot},Bt.AcroForm={ChoiceField:wf,ListBox:_f,ComboBox:xf,EditBox:Mp,Button:Hi,PushButton:kp,RadioButton:Sf,CheckBox:Op,TextField:fc,PasswordField:Pp,Appearance:Ot};Bt.AcroForm;function bx(n){return n.reduce(function(e,t,r){return e[t]=r,e},{})}(function(n){var e="addImage_";n.__addimage__={};var t="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},s=n.__addimage__.getImageFileTypeByImageData=function(N,O){var F,ce,Ce,le,me,de=t;if((O=O||t)==="RGBA"||N.data!==void 0&&N.data instanceof Uint8ClampedArray&&"height"in N&&"width"in N)return"RGBA";if(_e(N))for(me in r)for(Ce=r[me],F=0;F<Ce.length;F+=1){for(le=!0,ce=0;ce<Ce[F].length;ce+=1)if(Ce[F][ce]!==void 0&&Ce[F][ce]!==N[ce]){le=!1;break}if(le===!0){de=me;break}}else for(me in r)for(Ce=r[me],F=0;F<Ce.length;F+=1){for(le=!0,ce=0;ce<Ce[F].length;ce+=1)if(Ce[F][ce]!==void 0&&Ce[F][ce]!==N.charCodeAt(ce)){le=!1;break}if(le===!0){de=me;break}}return de===t&&O!==t&&(de=O),de},o=function N(O){for(var F=this.internal.write,ce=this.internal.putStream,Ce=(0,this.internal.getFilters)();Ce.indexOf("FlateEncode")!==-1;)Ce.splice(Ce.indexOf("FlateEncode"),1);O.objectId=this.internal.newObject();var le=[];if(le.push({key:"Type",value:"/XObject"}),le.push({key:"Subtype",value:"/Image"}),le.push({key:"Width",value:O.width}),le.push({key:"Height",value:O.height}),O.colorSpace===D.INDEXED?le.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(O.palette.length/3-1)+" "+("sMask"in O&&O.sMask!==void 0?O.objectId+2:O.objectId+1)+" 0 R]"}):(le.push({key:"ColorSpace",value:"/"+O.colorSpace}),O.colorSpace===D.DEVICE_CMYK&&le.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),le.push({key:"BitsPerComponent",value:O.bitsPerComponent}),"decodeParameters"in O&&O.decodeParameters!==void 0&&le.push({key:"DecodeParms",value:"<<"+O.decodeParameters+">>"}),"transparency"in O&&Array.isArray(O.transparency)&&O.transparency.length>0){for(var me="",de=0,Ie=O.transparency.length;de<Ie;de++)me+=O.transparency[de]+" "+O.transparency[de]+" ";le.push({key:"Mask",value:"["+me+"]"})}O.sMask!==void 0&&le.push({key:"SMask",value:O.objectId+1+" 0 R"});var Xe=O.filter!==void 0?["/"+O.filter]:void 0;if(ce({data:O.data,additionalKeyValues:le,alreadyAppliedFilters:Xe,objectId:O.objectId}),F("endobj"),"sMask"in O&&O.sMask!==void 0){var Y,P=(Y=O.sMaskBitsPerComponent)!==null&&Y!==void 0?Y:O.bitsPerComponent,K={width:O.width,height:O.height,colorSpace:"DeviceGray",bitsPerComponent:P,data:O.sMask};"filter"in O&&(K.decodeParameters="/Predictor ".concat(O.predictor," /Colors 1 /BitsPerComponent ").concat(P," /Columns ").concat(O.width),K.filter=O.filter),N.call(this,K)}if(O.colorSpace===D.INDEXED){var te=this.internal.newObject();ce({data:V(new Uint8Array(O.palette)),objectId:te}),F("endobj")}},u=function(){var N=this.internal.collections[e+"images"];for(var O in N)o.call(this,N[O])},c=function(){var N,O=this.internal.collections[e+"images"],F=this.internal.write;for(var ce in O)F("/I"+(N=O[ce]).index,N.objectId,"0","R")},h=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",u),this.internal.events.subscribe("putXobjectDict",c))},d=function(){var N=this.internal.collections[e+"images"];return h.call(this),N},g=function(){return Object.keys(this.internal.collections[e+"images"]).length},_=function(N){return typeof n["process"+N.toUpperCase()]=="function"},S=function(N){return or(N)==="object"&&N.nodeType===1},w=function(N,O){if(N.nodeName==="IMG"&&N.hasAttribute("src")){var F=""+N.getAttribute("src");if(F.indexOf("data:image/")===0)return Lp(unescape(F).split("base64,").pop());var ce=n.loadFile(F,!0);if(ce!==void 0)return ce}if(N.nodeName==="CANVAS"){if(N.width===0||N.height===0)throw new Error("Given canvas must have data. Canvas width: "+N.width+", height: "+N.height);var Ce;switch(O){case"PNG":Ce="image/png";break;case"WEBP":Ce="image/webp";break;default:Ce="image/jpeg"}return Lp(N.toDataURL(Ce,1).split("base64,").pop())}},T=function(N){var O=this.internal.collections[e+"images"];if(O){for(var F in O)if(N===O[F].alias)return O[F]}},M=function(N,O,F){return N||O||(N=-96,O=-96),N<0&&(N=-1*F.width*72/N/this.internal.scaleFactor),O<0&&(O=-1*F.height*72/O/this.internal.scaleFactor),N===0&&(N=O*F.width/F.height),O===0&&(O=N*F.height/F.width),[N,O]},j=function(N,O,F,ce,Ce,le){var me=M.call(this,F,ce,Ce),de=this.internal.getCoordinateString,Ie=this.internal.getVerticalCoordinateString,Xe=d.call(this);if(F=me[0],ce=me[1],Xe[Ce.index]=Ce,le){le*=Math.PI/180;var Y=Math.cos(le),P=Math.sin(le),K=function(ue){return ue.toFixed(4)},te=[K(Y),K(P),K(-1*P),K(Y),0,0,"cm"]}this.internal.write("q"),le?(this.internal.write([1,"0","0",1,de(N),Ie(O+ce),"cm"].join(" ")),this.internal.write(te.join(" ")),this.internal.write([de(F),"0","0",de(ce),"0","0","cm"].join(" "))):this.internal.write([de(F),"0","0",de(ce),de(N),Ie(O+ce),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+Ce.index+" Do"),this.internal.write("Q")},D=n.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};n.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var Q=n.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},W=n.__addimage__.sHashCode=function(N){var O,F,ce=0;if(typeof N=="string")for(F=N.length,O=0;O<F;O++)ce=(ce<<5)-ce+N.charCodeAt(O),ce|=0;else if(_e(N))for(F=N.byteLength/2,O=0;O<F;O++)ce=(ce<<5)-ce+N[O],ce|=0;return ce},re=n.__addimage__.validateStringAsBase64=function(N){(N=N||"").toString().trim();var O=!0;return N.length===0&&(O=!1),N.length%4!=0&&(O=!1),/^[A-Za-z0-9+/]+$/.test(N.substr(0,N.length-2))===!1&&(O=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(N.substr(-2))===!1&&(O=!1),O},ye=n.__addimage__.extractImageFromDataUrl=function(N){if(N==null||!(N=N.trim()).startsWith("data:"))return null;var O=N.indexOf(",");return O<0?null:N.substring(0,O).trim().endsWith("base64")?N.substring(O+1):null};n.__addimage__.isArrayBuffer=function(N){return N instanceof ArrayBuffer};var _e=n.__addimage__.isArrayBufferView=function(N){return N instanceof Int8Array||N instanceof Uint8Array||N instanceof Uint8ClampedArray||N instanceof Int16Array||N instanceof Uint16Array||N instanceof Int32Array||N instanceof Uint32Array||N instanceof Float32Array||N instanceof Float64Array},z=n.__addimage__.binaryStringToUint8Array=function(N){for(var O=N.length,F=new Uint8Array(O),ce=0;ce<O;ce++)F[ce]=N.charCodeAt(ce);return F},V=n.__addimage__.arrayBufferToBinaryString=function(N){for(var O="",F=_e(N)?N:new Uint8Array(N),ce=0;ce<F.length;ce+=8192)O+=String.fromCharCode.apply(null,F.subarray(ce,ce+8192));return O};n.addImage=function(){var N,O,F,ce,Ce,le,me,de,Ie;if(typeof arguments[1]=="number"?(O=t,F=arguments[1],ce=arguments[2],Ce=arguments[3],le=arguments[4],me=arguments[5],de=arguments[6],Ie=arguments[7]):(O=arguments[1],F=arguments[2],ce=arguments[3],Ce=arguments[4],le=arguments[5],me=arguments[6],de=arguments[7],Ie=arguments[8]),or(N=arguments[0])==="object"&&!S(N)&&"imageData"in N){var Xe=N;N=Xe.imageData,O=Xe.format||O||t,F=Xe.x||F||0,ce=Xe.y||ce||0,Ce=Xe.w||Xe.width||Ce,le=Xe.h||Xe.height||le,me=Xe.alias||me,de=Xe.compression||de,Ie=Xe.rotation||Xe.angle||Ie}var Y=this.internal.getFilters();if(de===void 0&&Y.indexOf("FlateEncode")!==-1&&(de="SLOW"),isNaN(F)||isNaN(ce))throw new Error("Invalid coordinates passed to jsPDF.addImage");h.call(this);var P=L.call(this,N,O,me,de);return j.call(this,F,ce,Ce,le,P,Ie),this};var L=function(N,O,F,ce){var Ce,le,me;if(typeof N=="string"&&s(N)===t){N=unescape(N);var de=H(N,!1);(de!==""||(de=n.loadFile(N,!0))!==void 0)&&(N=de)}if(S(N)&&(N=w(N,O)),O=s(N,O),!_(O))throw new Error("addImage does not support files of type '"+O+"', please ensure that a plugin for '"+O+"' support is added.");if(((me=F)==null||me.length===0)&&(F=(function(Ie){return typeof Ie=="string"||_e(Ie)?W(Ie):_e(Ie.data)?W(Ie.data):null})(N)),(Ce=T.call(this,F))||(N instanceof Uint8Array||O==="RGBA"||(le=N,N=z(N)),Ce=this["process"+O.toUpperCase()](N,g.call(this),F,(function(Ie){return Ie&&typeof Ie=="string"&&(Ie=Ie.toUpperCase()),Ie in n.image_compression?Ie:Q.NONE})(ce),le)),!Ce)throw new Error("An unknown error occurred whilst processing the image.");return Ce},H=n.__addimage__.convertBase64ToBinaryString=function(N,O){O=typeof O!="boolean"||O;var F,ce="";if(typeof N=="string"){var Ce;F=(Ce=ye(N))!==null&&Ce!==void 0?Ce:N;try{ce=Lp(F)}catch(le){if(O)throw re(F)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+le.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return ce};n.getImageProperties=function(N){var O,F,ce="";if(S(N)&&(N=w(N)),typeof N=="string"&&s(N)===t&&((ce=H(N,!1))===""&&(ce=n.loadFile(N)||""),N=ce),F=s(N),!_(F))throw new Error("addImage does not support files of type '"+F+"', please ensure that a plugin for '"+F+"' support is added.");if(N instanceof Uint8Array||(N=z(N)),!(O=this["process"+F.toUpperCase()](N)))throw new Error("An unknown error occurred whilst processing the image");return O.fileType=F,O}})(Bt.API),(function(n){var e=function(t){if(t!==void 0&&t!="")return!0};Bt.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),n.events.push(["putPage",function(t){for(var r,s,o,u=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString,h=this.internal.getPageInfoByObjId(t.objId),d=t.pageContext.annotations,g=!1,_=0;_<d.length&&!g;_++)switch((r=d[_]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(g=!0);break;case"reference":case"text":case"freetext":g=!0}if(g!=0){this.internal.write("/Annots [");for(var S=0;S<d.length;S++){r=d[S];var w=this.internal.pdfEscape,T=this.internal.getEncryptor(t.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var M=this.internal.newAdditionalObject(),j=this.internal.newAdditionalObject(),D=this.internal.getEncryptor(M.objId),Q=r.title||"Note";o="<</Type /Annot /Subtype /Text "+(s="/Rect ["+u(r.bounds.x)+" "+c(r.bounds.y+r.bounds.h)+" "+u(r.bounds.x+r.bounds.w)+" "+c(r.bounds.y)+"] ")+"/Contents ("+w(D(r.contents))+")",o+=" /Popup "+j.objId+" 0 R",o+=" /P "+h.objId+" 0 R",o+=" /T ("+w(D(Q))+") >>",M.content=o;var W=M.objId+" 0 R";o="<</Type /Annot /Subtype /Popup "+(s="/Rect ["+u(r.bounds.x+30)+" "+c(r.bounds.y+r.bounds.h)+" "+u(r.bounds.x+r.bounds.w+30)+" "+c(r.bounds.y)+"] ")+" /Parent "+W,r.open&&(o+=" /Open true"),o+=" >>",j.content=o,this.internal.write(M.objId,"0 R",j.objId,"0 R");break;case"freetext":s="/Rect ["+u(r.bounds.x)+" "+c(r.bounds.y)+" "+u(r.bounds.x+r.bounds.w)+" "+c(r.bounds.y+r.bounds.h)+"] ";var re=r.color||"#000000";o="<</Type /Annot /Subtype /FreeText "+s+"/Contents ("+w(T(r.contents))+")",o+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+re+")",o+=" /Border [0 0 0]",o+=" >>",this.internal.write(o);break;case"link":if(r.options.name){var ye=this.annotations._nameMap[r.options.name];r.options.pageNumber=ye.page,r.options.top=ye.y}else r.options.top||(r.options.top=0);if(s="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",o="",r.options.url)o="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /A <</S /URI /URI ("+w(T(r.options.url))+") >>";else if(r.options.pageNumber)switch(o="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":o+=" /Fit]";break;case"FitH":o+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,o+=" /FitV "+r.options.left+"]";break;default:var _e=c(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),o+=" /XYZ "+r.options.left+" "+_e+" "+r.options.zoom+"]"}o!=""&&(o+=" >>",this.internal.write(o))}}this.internal.write("]")}}]),n.createAnnotation=function(t){var r=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":r.pageContext.annotations.push(t)}},n.link=function(t,r,s,o,u){var c=this.internal.getCurrentPageInfo(),h=this.internal.getCoordinateString,d=this.internal.getVerticalCoordinateString;c.pageContext.annotations.push({finalBounds:{x:h(t),y:d(r),w:h(t+s),h:d(r+o)},options:u,type:"link"})},n.textWithLink=function(t,r,s,o){var u,c,h=this.getTextWidth(t),d=this.internal.getLineHeight()/this.internal.scaleFactor;if(o.maxWidth!==void 0){c=o.maxWidth;var g=this.splitTextToSize(t,c).length;u=Math.ceil(d*g)}else c=h,u=d;return this.text(t,r,s,o),s+=.2*d,o.align==="center"&&(r-=h/2),o.align==="right"&&(r-=h),this.link(r,s-d,c,u,o),h},n.getTextWidth=function(t){var r=this.internal.getFontSize();return this.getStringUnitWidth(t)*r/this.internal.scaleFactor}})(Bt.API),(function(n){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},s=[1570,1571,1573,1575];n.__arabicParser__={};var o=n.__arabicParser__.isInArabicSubstitutionA=function(M){return e[M.charCodeAt(0)]!==void 0},u=n.__arabicParser__.isArabicLetter=function(M){return typeof M=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(M)},c=n.__arabicParser__.isArabicEndLetter=function(M){return u(M)&&o(M)&&e[M.charCodeAt(0)].length<=2},h=n.__arabicParser__.isArabicAlfLetter=function(M){return u(M)&&s.indexOf(M.charCodeAt(0))>=0};n.__arabicParser__.arabicLetterHasIsolatedForm=function(M){return u(M)&&o(M)&&e[M.charCodeAt(0)].length>=1};var d=n.__arabicParser__.arabicLetterHasFinalForm=function(M){return u(M)&&o(M)&&e[M.charCodeAt(0)].length>=2};n.__arabicParser__.arabicLetterHasInitialForm=function(M){return u(M)&&o(M)&&e[M.charCodeAt(0)].length>=3};var g=n.__arabicParser__.arabicLetterHasMedialForm=function(M){return u(M)&&o(M)&&e[M.charCodeAt(0)].length==4},_=n.__arabicParser__.resolveLigatures=function(M){var j=0,D=t,Q="",W=0;for(j=0;j<M.length;j+=1)D[M.charCodeAt(j)]!==void 0?(W++,typeof(D=D[M.charCodeAt(j)])=="number"&&(Q+=String.fromCharCode(D),D=t,W=0),j===M.length-1&&(D=t,Q+=M.charAt(j-(W-1)),j-=W-1,W=0)):(D=t,Q+=M.charAt(j-W),j-=W,W=0);return Q};n.__arabicParser__.isArabicDiacritic=function(M){return M!==void 0&&r[M.charCodeAt(0)]!==void 0};var S=n.__arabicParser__.getCorrectForm=function(M,j,D){return u(M)?o(M)===!1?-1:!d(M)||!u(j)&&!u(D)||!u(D)&&c(j)||c(M)&&!u(j)||c(M)&&h(j)||c(M)&&c(j)?0:g(M)&&u(j)&&!c(j)&&u(D)&&d(D)?3:c(M)||!u(D)?1:2:-1},w=function(M){var j=0,D=0,Q=0,W="",re="",ye="",_e=(M=M||"").split("\\s+"),z=[];for(j=0;j<_e.length;j+=1){for(z.push(""),D=0;D<_e[j].length;D+=1)W=_e[j][D],re=_e[j][D-1],ye=_e[j][D+1],u(W)?(Q=S(W,re,ye),z[j]+=Q!==-1?String.fromCharCode(e[W.charCodeAt(0)][Q]):W):z[j]+=W;z[j]=_(z[j])}return z.join(" ")},T=n.__arabicParser__.processArabic=n.processArabic=function(){var M,j=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,D=[];if(Array.isArray(j)){var Q=0;for(D=[],Q=0;Q<j.length;Q+=1)Array.isArray(j[Q])?D.push([w(j[Q][0]),j[Q][1],j[Q][2]]):D.push([w(j[Q])]);M=D}else M=w(j);return typeof arguments[0]=="string"?M:(arguments[0].text=M,arguments[0])};n.events.push(["preProcessText",T])})(Bt.API),Bt.API.autoPrint=function(n){var e;return(n=n||{}).variant=n.variant||"non-conform",n.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},(function(n){var e=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(c){t=c}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(c){r=isNaN(c)||Number.isInteger(c)===!1||c<0?150:c,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var s=300;Object.defineProperty(this,"height",{get:function(){return s},set:function(c){s=isNaN(c)||Number.isInteger(c)===!1||c<0?300:c,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=s+1)}});var o=[];Object.defineProperty(this,"childNodes",{get:function(){return o},set:function(c){o=c}});var u={};Object.defineProperty(this,"style",{get:function(){return u},set:function(c){u=c}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(t,r){var s;if((t=t||"2d")!=="2d")return null;for(s in r)this.pdf.context2d.hasOwnProperty(s)&&(this.pdf.context2d[s]=r[s]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},n.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])})(Bt.API),(function(n){var e={left:0,top:0,bottom:0,right:0},t=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),s.call(this))},s=function(){this.internal.__cell__.lastCell=new o,this.internal.__cell__.pages=1},o=function(){var h=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return h},set:function(M){h=M}});var d=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return d},set:function(M){d=M}});var g=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return g},set:function(M){g=M}});var _=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return _},set:function(M){_=M}});var S=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return S},set:function(M){S=M}});var w=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return w},set:function(M){w=M}});var T=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return T},set:function(M){T=M}}),this};o.prototype.clone=function(){return new o(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},o.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},n.setHeaderFunction=function(h){return r.call(this),this.internal.__cell__.headerFunction=typeof h=="function"?h:void 0,this},n.getTextDimensions=function(h,d){r.call(this);var g=(d=d||{}).fontSize||this.getFontSize(),_=d.font||this.getFont(),S=d.scaleFactor||this.internal.scaleFactor,w=0,T=0,M=0,j=this;if(!Array.isArray(h)&&typeof h!="string"){if(typeof h!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");h=String(h)}var D=d.maxWidth;D>0?typeof h=="string"?h=this.splitTextToSize(h,D):Object.prototype.toString.call(h)==="[object Array]"&&(h=h.reduce(function(W,re){return W.concat(j.splitTextToSize(re,D))},[])):h=Array.isArray(h)?h:[h];for(var Q=0;Q<h.length;Q++)w<(M=this.getStringUnitWidth(h[Q],{font:_})*g)&&(w=M);return w!==0&&(T=h.length),{w:w/=S,h:Math.max((T*g*this.getLineHeightFactor()-g*(this.getLineHeightFactor()-1))/S,0)}},n.cellAddPage=function(){r.call(this),this.addPage();var h=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new o(h.left,h.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var u=n.cell=function(){var h;h=arguments[0]instanceof o?arguments[0]:new o(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),r.call(this);var d=this.internal.__cell__.lastCell,g=this.internal.__cell__.padding,_=this.internal.__cell__.margins||e,S=this.internal.__cell__.tableHeaderRow,w=this.internal.__cell__.printHeaders;return d.lineNumber!==void 0&&(d.lineNumber===h.lineNumber?(h.x=(d.x||0)+(d.width||0),h.y=d.y||0):d.y+d.height+h.height+_.bottom>this.getPageHeight()?(this.cellAddPage(),h.y=_.top,w&&S&&(this.printHeaderRow(h.lineNumber,!0),h.y+=S[0].height)):h.y=d.y+d.height||h.y),h.text[0]!==void 0&&(this.rect(h.x,h.y,h.width,h.height,t===!0?"FD":void 0),h.align==="right"?this.text(h.text,h.x+h.width-g,h.y+g,{align:"right",baseline:"top"}):h.align==="center"?this.text(h.text,h.x+h.width/2,h.y+g,{align:"center",baseline:"top",maxWidth:h.width-g-g}):this.text(h.text,h.x+g,h.y+g,{align:"left",baseline:"top",maxWidth:h.width-g-g})),this.internal.__cell__.lastCell=h,this};n.table=function(h,d,g,_,S){if(r.call(this),!g)throw new Error("No data for PDF table.");var w,T,M,j,D=[],Q=[],W=[],re={},ye={},_e=[],z=[],V=(S=S||{}).autoSize||!1,L=S.printHeaders!==!1,H=S.css&&S.css["font-size"]!==void 0?16*S.css["font-size"]:S.fontSize||12,N=S.margins||Object.assign({width:this.getPageWidth()},e),O=typeof S.padding=="number"?S.padding:3,F=S.headerBackgroundColor||"#c8c8c8",ce=S.headerTextColor||"#000";if(s.call(this),this.internal.__cell__.printHeaders=L,this.internal.__cell__.margins=N,this.internal.__cell__.table_font_size=H,this.internal.__cell__.padding=O,this.internal.__cell__.headerBackgroundColor=F,this.internal.__cell__.headerTextColor=ce,this.setFontSize(H),_==null)Q=D=Object.keys(g[0]),W=D.map(function(){return"left"});else if(Array.isArray(_)&&or(_[0])==="object")for(D=_.map(function(Xe){return Xe.name}),Q=_.map(function(Xe){return Xe.prompt||Xe.name||""}),W=_.map(function(Xe){return Xe.align||"left"}),w=0;w<_.length;w+=1)ye[_[w].name]=.7499990551181103*_[w].width;else Array.isArray(_)&&typeof _[0]=="string"&&(Q=D=_,W=D.map(function(){return"left"}));if(V||Array.isArray(_)&&typeof _[0]=="string")for(w=0;w<D.length;w+=1){for(re[j=D[w]]=g.map(function(Xe){return Xe[j]}),this.setFont(void 0,"bold"),_e.push(this.getTextDimensions(Q[w],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),T=re[j],this.setFont(void 0,"normal"),M=0;M<T.length;M+=1)_e.push(this.getTextDimensions(T[M],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);ye[j]=Math.max.apply(null,_e)+O+O,_e=[]}if(L){var Ce={};for(w=0;w<D.length;w+=1)Ce[D[w]]={},Ce[D[w]].text=Q[w],Ce[D[w]].align=W[w];var le=c.call(this,Ce,ye);z=D.map(function(Xe){return new o(h,d,ye[Xe],le,Ce[Xe].text,void 0,Ce[Xe].align)}),this.setTableHeaderRow(z),this.printHeaderRow(1,!1)}var me=_.reduce(function(Xe,Y){return Xe[Y.name]=Y.align,Xe},{});for(w=0;w<g.length;w+=1){"rowStart"in S&&S.rowStart instanceof Function&&S.rowStart({row:w,data:g[w]},this);var de=c.call(this,g[w],ye);for(M=0;M<D.length;M+=1){var Ie=g[w][D[M]];"cellStart"in S&&S.cellStart instanceof Function&&S.cellStart({row:w,col:M,data:Ie},this),u.call(this,new o(h,d,ye[D[M]],de,Ie,w+2,me[D[M]]))}}return this.internal.__cell__.table_x=h,this.internal.__cell__.table_y=d,this};var c=function(h,d){var g=this.internal.__cell__.padding,_=this.internal.__cell__.table_font_size,S=this.internal.scaleFactor;return Object.keys(h).map(function(w){var T=h[w];return this.splitTextToSize(T.hasOwnProperty("text")?T.text:T,d[w]-g-g)},this).map(function(w){return this.getLineHeightFactor()*w.length*_/S+g+g},this).reduce(function(w,T){return Math.max(w,T)},0)};n.setTableHeaderRow=function(h){r.call(this),this.internal.__cell__.tableHeaderRow=h},n.printHeaderRow=function(h,d){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var g;if(t=!0,typeof this.internal.__cell__.headerFunction=="function"){var _=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new o(_[0],_[1],_[2],_[3],void 0,-1)}this.setFont(void 0,"bold");for(var S=[],w=0;w<this.internal.__cell__.tableHeaderRow.length;w+=1){g=this.internal.__cell__.tableHeaderRow[w].clone(),d&&(g.y=this.internal.__cell__.margins.top||0,S.push(g)),g.lineNumber=h;var T=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),u.call(this,g),this.setTextColor(T)}S.length>0&&this.setTableHeaderRow(S),this.setFont(void 0,"normal"),t=!1}})(Bt.API);var wx={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},_x=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],E1=bx(_x),xx=[100,200,300,400,500,600,700,800,900],kI=bx(xx);function k0(n){var e=n.family.replace(/"|'/g,"").toLowerCase(),t=(function(o){return wx[o=o||"normal"]?o:"normal"})(n.style),r=(function(o){return o?typeof o=="number"?o>=100&&o<=900&&o%100==0?o:400:/^\d00$/.test(o)?parseInt(o):o==="bold"?700:400:400})(n.weight),s=(function(o){return typeof E1[o=o||"normal"]=="number"?o:"normal"})(n.stretch);return{family:e,style:t,weight:r,stretch:s,src:n.src||[],ref:n.ref||{name:e,style:[s,t,r].join(" ")}}}function Lw(n,e,t,r){var s;for(s=t;s>=0&&s<e.length;s+=r)if(n[e[s]])return n[e[s]];for(s=t;s>=0&&s<e.length;s-=r)if(n[e[s]])return n[e[s]]}var OI={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Mw={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function kw(n){return[n.stretch,n.style,n.weight,n.family].join(" ")}function Ow(n){return n.trimLeft()}function PI(n,e){for(var t=0;t<n.length;){if(n.charAt(t)===e)return[n.substring(0,t),n.substring(t+1)];t+=1}return null}function jI(n){var e=n.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],n.substring(e[0].length)]}var wp,Pw,jw,sf,_p,Fw,Vw,Bw,O0=["times"];function Uw(n,e,t,r,s){var o=4,u=qw;switch(s){case Bt.API.image_compression.FAST:o=1,u=zw;break;case Bt.API.image_compression.MEDIUM:o=6,u=Hw;break;case Bt.API.image_compression.SLOW:o=9,u=$w}n=(function(h,d,g,_){for(var S,w=h.length/d,T=new Uint8Array(h.length+w),M=[FI,zw,qw,Hw,$w],j=0;j<w;j+=1){var D=j*d,Q=h.subarray(D,D+d);if(_)T.set(_(Q,g,S),D+j);else{for(var W=M.length,re=[],ye=0;ye<W;ye+=1)re[ye]=M[ye](Q,g,S);var _e=BI(re.concat());T.set(re[_e],D+j)}S=Q}return T})(n,e,Math.ceil(t*r/8),u);var c=y1(n,{level:o});return Bt.API.__addimage__.arrayBufferToBinaryString(c)}function FI(n){var e=Array.apply([],n);return e.unshift(0),e}function zw(n,e){var t=n.length,r=[];r[0]=1;for(var s=0;s<t;s+=1){var o=n[s-e]||0;r[s+1]=n[s]-o+256&255}return r}function qw(n,e,t){var r=n.length,s=[];s[0]=2;for(var o=0;o<r;o+=1){var u=t&&t[o]||0;s[o+1]=n[o]-u+256&255}return s}function Hw(n,e,t){var r=n.length,s=[];s[0]=3;for(var o=0;o<r;o+=1){var u=n[o-e]||0,c=t&&t[o]||0;s[o+1]=n[o]+256-(u+c>>>1)&255}return s}function $w(n,e,t){var r=n.length,s=[];s[0]=4;for(var o=0;o<r;o+=1){var u=VI(n[o-e]||0,t&&t[o]||0,t&&t[o-e]||0);s[o+1]=n[o]-u+256&255}return s}function VI(n,e,t){if(n===e&&e===t)return n;var r=Math.abs(e-t),s=Math.abs(n-t),o=Math.abs(n+e-t-t);return r<=s&&r<=o?n:s<=o?e:t}function BI(n){var e=n.map(function(t){return t.reduce(function(r,s){return r+Math.abs(s)},0)});return e.indexOf(Math.min.apply(null,e))}function P0(n,e,t){var r=e*t,s=Math.floor(r/8),o=16-(r-8*s+t),u=(1<<t)-1;return Sx(n,s)>>o&u}function Gw(n,e,t,r){var s=t*r,o=Math.floor(s/8),u=16-(s-8*o+r),c=(1<<r)-1,h=(e&c)<<u;(function(d,g,_){if(g+1<d.byteLength)d.setUint16(g,_,!1);else{var S=_>>8&255;d.setUint8(g,S)}})(n,o,Sx(n,o)&~(c<<u)&65535|h)}function Sx(n,e){return e+1<n.byteLength?n.getUint16(e,!1):n.getUint8(e)<<8}function UI(n){var e=0;if(n[e++]!==71||n[e++]!==73||n[e++]!==70||n[e++]!==56||(n[e++]+1&253)!=56||n[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var t=n[e++]|n[e++]<<8,r=n[e++]|n[e++]<<8,s=n[e++],o=s>>7,u=1<<1+(7&s);n[e++],n[e++];var c=null,h=null;o&&(c=e,h=u,e+=3*u);var d=!0,g=[],_=0,S=null,w=0,T=null;for(this.width=t,this.height=r;d&&e<n.length;)switch(n[e++]){case 33:switch(n[e++]){case 255:if(n[e]!==11||n[e+1]==78&&n[e+2]==69&&n[e+3]==84&&n[e+4]==83&&n[e+5]==67&&n[e+6]==65&&n[e+7]==80&&n[e+8]==69&&n[e+9]==50&&n[e+10]==46&&n[e+11]==48&&n[e+12]==3&&n[e+13]==1&&n[e+16]==0)e+=14,T=n[e++]|n[e++]<<8,e++;else for(e+=12;;){if(!((N=n[e++])>=0))throw Error("Invalid block size");if(N===0)break;e+=N}break;case 249:if(n[e++]!==4||n[e+4]!==0)throw new Error("Invalid graphics extension block.");var M=n[e++];_=n[e++]|n[e++]<<8,S=n[e++],1&M||(S=null),w=M>>2&7,e++;break;case 254:for(;;){if(!((N=n[e++])>=0))throw Error("Invalid block size");if(N===0)break;e+=N}break;default:throw new Error("Unknown graphic control label: 0x"+n[e-1].toString(16))}break;case 44:var j=n[e++]|n[e++]<<8,D=n[e++]|n[e++]<<8,Q=n[e++]|n[e++]<<8,W=n[e++]|n[e++]<<8,re=n[e++],ye=re>>6&1,_e=1<<1+(7&re),z=c,V=h,L=!1;re>>7&&(L=!0,z=e,V=_e,e+=3*_e);var H=e;for(e++;;){var N;if(!((N=n[e++])>=0))throw Error("Invalid block size");if(N===0)break;e+=N}g.push({x:j,y:D,width:Q,height:W,has_local_palette:L,palette_offset:z,palette_size:V,data_offset:H,data_length:e-H,transparent_index:S,interlaced:!!ye,delay:_,disposal:w});break;case 59:d=!1;break;default:throw new Error("Unknown gif block: 0x"+n[e-1].toString(16))}this.numFrames=function(){return g.length},this.loopCount=function(){return T},this.frameInfo=function(O){if(O<0||O>=g.length)throw new Error("Frame index out of range.");return g[O]},this.decodeAndBlitFrameBGRA=function(O,F){var ce=this.frameInfo(O),Ce=ce.width*ce.height,le=new Uint8Array(Ce);Yw(n,ce.data_offset,le,Ce);var me=ce.palette_offset,de=ce.transparent_index;de===null&&(de=256);var Ie=ce.width,Xe=t-Ie,Y=Ie,P=4*(ce.y*t+ce.x),K=4*((ce.y+ce.height)*t+ce.x),te=P,ue=4*Xe;ce.interlaced===!0&&(ue+=4*t*7);for(var fe=8,ve=0,Te=le.length;ve<Te;++ve){var Me=le[ve];if(Y===0&&(Y=Ie,(te+=ue)>=K&&(ue=4*Xe+4*t*(fe-1),te=P+(Ie+Xe)*(fe<<1),fe>>=1)),Me===de)te+=4;else{var $e=n[me+3*Me],ut=n[me+3*Me+1],pt=n[me+3*Me+2];F[te++]=pt,F[te++]=ut,F[te++]=$e,F[te++]=255}--Y}},this.decodeAndBlitFrameRGBA=function(O,F){var ce=this.frameInfo(O),Ce=ce.width*ce.height,le=new Uint8Array(Ce);Yw(n,ce.data_offset,le,Ce);var me=ce.palette_offset,de=ce.transparent_index;de===null&&(de=256);var Ie=ce.width,Xe=t-Ie,Y=Ie,P=4*(ce.y*t+ce.x),K=4*((ce.y+ce.height)*t+ce.x),te=P,ue=4*Xe;ce.interlaced===!0&&(ue+=4*t*7);for(var fe=8,ve=0,Te=le.length;ve<Te;++ve){var Me=le[ve];if(Y===0&&(Y=Ie,(te+=ue)>=K&&(ue=4*Xe+4*t*(fe-1),te=P+(Ie+Xe)*(fe<<1),fe>>=1)),Me===de)te+=4;else{var $e=n[me+3*Me],ut=n[me+3*Me+1],pt=n[me+3*Me+2];F[te++]=$e,F[te++]=ut,F[te++]=pt,F[te++]=255}--Y}}}function Yw(n,e,t,r){for(var s=n[e++],o=1<<s,u=o+1,c=u+1,h=s+1,d=(1<<h)-1,g=0,_=0,S=0,w=n[e++],T=new Int32Array(4096),M=null;;){for(;g<16&&w!==0;)_|=n[e++]<<g,g+=8,w===1?w=n[e++]:--w;if(g<h)break;var j=_&d;if(_>>=h,g-=h,j!==o){if(j===u)break;for(var D=j<c?j:M,Q=0,W=D;W>o;)W=T[W]>>8,++Q;var re=W;if(S+Q+(D!==j?1:0)>r)return void wr.log("Warning, gif stream longer than expected.");t[S++]=re;var ye=S+=Q;for(D!==j&&(t[S++]=re),W=D;Q--;)W=T[W],t[--ye]=255&W,W>>=8;M!==null&&c<4096&&(T[c++]=M<<8|re,c>=d+1&&h<12&&(++h,d=d<<1|1)),M=j}else c=u+1,d=(1<<(h=s+1))-1,M=null}return S!==r&&wr.log("Warning, gif stream shorter than expected."),t}function j0(n){var e,t,r,s,o,u=Math.floor,c=new Array(64),h=new Array(64),d=new Array(64),g=new Array(64),_=new Array(65535),S=new Array(65535),w=new Array(64),T=new Array(64),M=[],j=0,D=7,Q=new Array(64),W=new Array(64),re=new Array(64),ye=new Array(256),_e=new Array(2048),z=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],V=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],L=[0,1,2,3,4,5,6,7,8,9,10,11],H=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],N=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],O=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],F=[0,1,2,3,4,5,6,7,8,9,10,11],ce=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],Ce=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function le(P,K){for(var te=0,ue=0,fe=new Array,ve=1;ve<=16;ve++){for(var Te=1;Te<=P[ve];Te++)fe[K[ue]]=[],fe[K[ue]][0]=te,fe[K[ue]][1]=ve,ue++,te++;te*=2}return fe}function me(P){for(var K=P[0],te=P[1]-1;te>=0;)K&1<<te&&(j|=1<<D),te--,--D<0&&(j==255?(de(255),de(0)):de(j),D=7,j=0)}function de(P){M.push(P)}function Ie(P){de(P>>8&255),de(255&P)}function Xe(P,K,te,ue,fe){for(var ve,Te=fe[0],Me=fe[240],$e=(function(De,ft){var ht,vt,xt,Ut,Gt,$t,fn,sn,Et,rn,Ct=0;for(Et=0;Et<8;++Et){ht=De[Ct],vt=De[Ct+1],xt=De[Ct+2],Ut=De[Ct+3],Gt=De[Ct+4],$t=De[Ct+5],fn=De[Ct+6];var Kn=ht+(sn=De[Ct+7]),Yt=ht-sn,jt=vt+fn,yt=vt-fn,tn=xt+$t,Lt=xt-$t,Tn=Ut+Gt,zt=Ut-Gt,qt=Kn+Tn,vn=Kn-Tn,Pt=jt+tn,Rt=jt-tn;De[Ct]=qt+Pt,De[Ct+4]=qt-Pt;var J=.707106781*(Rt+vn);De[Ct+2]=vn+J,De[Ct+6]=vn-J;var ie=.382683433*((qt=zt+Lt)-(Rt=yt+Yt)),we=.5411961*qt+ie,ze=1.306562965*Rt+ie,lt=.707106781*(Pt=Lt+yt),Ge=Yt+lt,Ft=Yt-lt;De[Ct+5]=Ft+we,De[Ct+3]=Ft-we,De[Ct+1]=Ge+ze,De[Ct+7]=Ge-ze,Ct+=8}for(Ct=0,Et=0;Et<8;++Et){ht=De[Ct],vt=De[Ct+8],xt=De[Ct+16],Ut=De[Ct+24],Gt=De[Ct+32],$t=De[Ct+40],fn=De[Ct+48];var Ae=ht+(sn=De[Ct+56]),Je=ht-sn,We=vt+fn,Ze=vt-fn,bt=xt+$t,en=xt-$t,On=Ut+Gt,lr=Ut-Gt,bn=Ae+On,Qn=Ae-On,_r=We+bt,li=We-bt;De[Ct]=bn+_r,De[Ct+32]=bn-_r;var Mi=.707106781*(li+Qn);De[Ct+16]=Qn+Mi,De[Ct+48]=Qn-Mi;var Oa=.382683433*((bn=lr+en)-(li=Ze+Je)),$i=.5411961*bn+Oa,ui=1.306562965*li+Oa,Sa=.707106781*(_r=en+Ze),_i=Je+Sa,Zr=Je-Sa;De[Ct+40]=Zr+$i,De[Ct+24]=Zr-$i,De[Ct+8]=_i+ui,De[Ct+56]=_i-ui,Ct++}for(Et=0;Et<64;++Et)rn=De[Et]*ft[Et],w[Et]=rn>0?rn+.5|0:rn-.5|0;return w})(P,K),ut=0;ut<64;++ut)T[z[ut]]=$e[ut];var pt=T[0]-te;te=T[0],pt==0?me(ue[0]):(me(ue[S[ve=32767+pt]]),me(_[ve]));for(var mt=63;mt>0&&T[mt]==0;)mt--;if(mt==0)return me(Te),te;for(var _t,q=1;q<=mt;){for(var Oe=q;T[q]==0&&q<=mt;)++q;var it=q-Oe;if(it>=16){_t=it>>4;for(var Fe=1;Fe<=_t;++Fe)me(Me);it&=15}ve=32767+T[q],me(fe[(it<<4)+S[ve]]),me(_[ve]),q++}return mt!=63&&me(Te),te}function Y(P){P=Math.min(Math.max(P,1),100),o!=P&&((function(K){for(var te=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ue=0;ue<64;ue++){var fe=u((te[ue]*K+50)/100);fe=Math.min(Math.max(fe,1),255),c[z[ue]]=fe}for(var ve=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Te=0;Te<64;Te++){var Me=u((ve[Te]*K+50)/100);Me=Math.min(Math.max(Me,1),255),h[z[Te]]=Me}for(var $e=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],ut=0,pt=0;pt<8;pt++)for(var mt=0;mt<8;mt++)d[ut]=1/(c[z[ut]]*$e[pt]*$e[mt]*8),g[ut]=1/(h[z[ut]]*$e[pt]*$e[mt]*8),ut++})(P<50?Math.floor(5e3/P):Math.floor(200-2*P)),o=P)}this.encode=function(P,K){K&&Y(K),M=new Array,j=0,D=7,Ie(65496),Ie(65504),Ie(16),de(74),de(70),de(73),de(70),de(0),de(1),de(1),de(0),Ie(1),Ie(1),de(0),de(0),(function(){Ie(65499),Ie(132),de(0);for(var vt=0;vt<64;vt++)de(c[vt]);de(1);for(var xt=0;xt<64;xt++)de(h[xt])})(),(function(vt,xt){Ie(65472),Ie(17),de(8),Ie(xt),Ie(vt),de(3),de(1),de(17),de(0),de(2),de(17),de(1),de(3),de(17),de(1)})(P.width,P.height),(function(){Ie(65476),Ie(418),de(0);for(var vt=0;vt<16;vt++)de(V[vt+1]);for(var xt=0;xt<=11;xt++)de(L[xt]);de(16);for(var Ut=0;Ut<16;Ut++)de(H[Ut+1]);for(var Gt=0;Gt<=161;Gt++)de(N[Gt]);de(1);for(var $t=0;$t<16;$t++)de(O[$t+1]);for(var fn=0;fn<=11;fn++)de(F[fn]);de(17);for(var sn=0;sn<16;sn++)de(ce[sn+1]);for(var Et=0;Et<=161;Et++)de(Ce[Et])})(),Ie(65498),Ie(12),de(3),de(1),de(0),de(2),de(17),de(3),de(17),de(0),de(63),de(0);var te=0,ue=0,fe=0;j=0,D=7,this.encode.displayName="_encode_";for(var ve,Te,Me,$e,ut,pt,mt,_t,q,Oe=P.data,it=P.width,Fe=P.height,De=4*it,ft=0;ft<Fe;){for(ve=0;ve<De;){for(ut=De*ft+ve,mt=-1,_t=0,q=0;q<64;q++)pt=ut+(_t=q>>3)*De+(mt=4*(7&q)),ft+_t>=Fe&&(pt-=De*(ft+1+_t-Fe)),ve+mt>=De&&(pt-=ve+mt-De+4),Te=Oe[pt++],Me=Oe[pt++],$e=Oe[pt++],Q[q]=(_e[Te]+_e[Me+256|0]+_e[$e+512|0]>>16)-128,W[q]=(_e[Te+768|0]+_e[Me+1024|0]+_e[$e+1280|0]>>16)-128,re[q]=(_e[Te+1280|0]+_e[Me+1536|0]+_e[$e+1792|0]>>16)-128;te=Xe(Q,d,te,e,r),ue=Xe(W,g,ue,t,s),fe=Xe(re,g,fe,t,s),ve+=32}ft+=8}if(D>=0){var ht=[];ht[1]=D+1,ht[0]=(1<<D+1)-1,me(ht)}return Ie(65497),new Uint8Array(M)},n=n||50,(function(){for(var P=String.fromCharCode,K=0;K<256;K++)ye[K]=P(K)})(),e=le(V,L),t=le(O,F),r=le(H,N),s=le(ce,Ce),(function(){for(var P=1,K=2,te=1;te<=15;te++){for(var ue=P;ue<K;ue++)S[32767+ue]=te,_[32767+ue]=[],_[32767+ue][1]=te,_[32767+ue][0]=ue;for(var fe=-(K-1);fe<=-P;fe++)S[32767+fe]=te,_[32767+fe]=[],_[32767+fe][1]=te,_[32767+fe][0]=K-1+fe;P<<=1,K<<=1}})(),(function(){for(var P=0;P<256;P++)_e[P]=19595*P,_e[P+256|0]=38470*P,_e[P+512|0]=7471*P+32768,_e[P+768|0]=-11059*P,_e[P+1024|0]=-21709*P,_e[P+1280|0]=32768*P+8421375,_e[P+1536|0]=-27439*P,_e[P+1792|0]=-5329*P})(),Y(n)}function mo(n,e){if(this.pos=0,this.buffer=n,this.datav=new DataView(n.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function Ww(n){function e(L){if(!L)throw Error("assert :P")}function t(L,H,N){for(var O=0;4>O;O++)if(L[H+O]!=N.charCodeAt(O))return!0;return!1}function r(L,H,N,O,F){for(var ce=0;ce<F;ce++)L[H+ce]=N[O+ce]}function s(L,H,N,O){for(var F=0;F<O;F++)L[H+F]=N}function o(L){return new Int32Array(L)}function u(L,H){for(var N=[],O=0;O<L;O++)N.push(new H);return N}function c(L,H){var N=[];return(function O(F,ce,Ce){for(var le=Ce[ce],me=0;me<le&&(F.push(Ce.length>ce+1?[]:new H),!(Ce.length<ce+1));me++)O(F[me],ce+1,Ce)})(N,0,L),N}var h=function(){var L=this;function H(p,y){for(var A=1<<y-1>>>0;p&A;)A>>>=1;return A?(p&A-1)+A:p}function N(p,y,A,C,U){e(!(C%A));do p[y+(C-=A)]=U;while(0<C)}function O(p,y,A,C,U){if(e(2328>=U),512>=U)var $=o(512);else if(($=o(U))==null)return 0;return(function(G,Z,ne,oe,ge,Pe){var ae,xe,Re=Z,Ye=1<<ne,Le=o(16),He=o(16);for(e(ge!=0),e(oe!=null),e(G!=null),e(0<ne),xe=0;xe<ge;++xe){if(15<oe[xe])return 0;++Le[oe[xe]]}if(Le[0]==ge)return 0;for(He[1]=0,ae=1;15>ae;++ae){if(Le[ae]>1<<ae)return 0;He[ae+1]=He[ae]+Le[ae]}for(xe=0;xe<ge;++xe)ae=oe[xe],0<oe[xe]&&(Pe[He[ae]++]=xe);if(He[15]==1)return(oe=new F).g=0,oe.value=Pe[0],N(G,Re,1,Ye,oe),Ye;var et,ct=-1,at=Ye-1,kt=0,St=1,un=1,Dt=1<<ne;for(xe=0,ae=1,ge=2;ae<=ne;++ae,ge<<=1){if(St+=un<<=1,0>(un-=Le[ae]))return 0;for(;0<Le[ae];--Le[ae])(oe=new F).g=ae,oe.value=Pe[xe++],N(G,Re+kt,ge,Dt,oe),kt=H(kt,ae)}for(ae=ne+1,ge=2;15>=ae;++ae,ge<<=1){if(St+=un<<=1,0>(un-=Le[ae]))return 0;for(;0<Le[ae];--Le[ae]){if(oe=new F,(kt&at)!=ct){for(Re+=Dt,et=1<<(ct=ae)-ne;15>ct&&!(0>=(et-=Le[ct]));)++ct,et<<=1;Ye+=Dt=1<<(et=ct-ne),G[Z+(ct=kt&at)].g=et+ne,G[Z+ct].value=Re-Z-ct}oe.g=ae-ne,oe.value=Pe[xe++],N(G,Re+(kt>>ne),ge,Dt,oe),kt=H(kt,ae)}}return St!=2*He[15]-1?0:Ye})(p,y,A,C,U,$)}function F(){this.value=this.g=0}function ce(){this.value=this.g=0}function Ce(){this.G=u(5,F),this.H=o(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=u(Ro,ce)}function le(p,y,A,C){e(p!=null),e(y!=null),e(2147483648>C),p.Ca=254,p.I=0,p.b=-8,p.Ka=0,p.oa=y,p.pa=A,p.Jd=y,p.Yc=A+C,p.Zc=4<=C?A+C-4+1:A,Te(p)}function me(p,y){for(var A=0;0<y--;)A|=$e(p,128)<<y;return A}function de(p,y){var A=me(p,y);return Me(p)?-A:A}function Ie(p,y,A,C){var U,$=0;for(e(p!=null),e(y!=null),e(4294967288>C),p.Sb=C,p.Ra=0,p.u=0,p.h=0,4<C&&(C=4),U=0;U<C;++U)$+=y[A+U]<<8*U;p.Ra=$,p.bb=C,p.oa=y,p.pa=A}function Xe(p){for(;8<=p.u&&p.bb<p.Sb;)p.Ra>>>=8,p.Ra+=p.oa[p.pa+p.bb]<<Is-8>>>0,++p.bb,p.u-=8;ue(p)&&(p.h=1,p.u=0)}function Y(p,y){if(e(0<=y),!p.h&&y<=Zi){var A=te(p)&fa[y];return p.u+=y,Xe(p),A}return p.h=1,p.u=0}function P(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function K(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function te(p){return p.Ra>>>(p.u&Is-1)>>>0}function ue(p){return e(p.bb<=p.Sb),p.h||p.bb==p.Sb&&p.u>Is}function fe(p,y){p.u=y,p.h=ue(p)}function ve(p){p.u>=Ls&&(e(p.u>=Ls),Xe(p))}function Te(p){e(p!=null&&p.oa!=null),p.pa<p.Zc?(p.I=(p.oa[p.pa++]|p.I<<8)>>>0,p.b+=8):(e(p!=null&&p.oa!=null),p.pa<p.Yc?(p.b+=8,p.I=p.oa[p.pa++]|p.I<<8):p.Ka?p.b=0:(p.I<<=8,p.b+=8,p.Ka=1))}function Me(p){return me(p,1)}function $e(p,y){var A=p.Ca;0>p.b&&Te(p);var C=p.b,U=A*y>>>8,$=(p.I>>>C>U)+0;for($?(A-=U,p.I-=U+1<<C>>>0):A=U+1,C=A,U=0;256<=C;)U+=8,C>>=8;return C=7^U+to[C],p.b-=C,p.Ca=(A<<C)-1,$}function ut(p,y,A){p[y+0]=A>>24&255,p[y+1]=A>>16&255,p[y+2]=A>>8&255,p[y+3]=255&A}function pt(p,y){return p[y+0]|p[y+1]<<8}function mt(p,y){return pt(p,y)|p[y+2]<<16}function _t(p,y){return pt(p,y)|pt(p,y+2)<<16}function q(p,y){var A=1<<y;return e(p!=null),e(0<y),p.X=o(A),p.X==null?0:(p.Mb=32-y,p.Xa=y,1)}function Oe(p,y){e(p!=null),e(y!=null),e(p.Xa==y.Xa),r(y.X,0,p.X,0,1<<y.Xa)}function it(){this.X=[],this.Xa=this.Mb=0}function Fe(p,y,A,C){e(A!=null),e(C!=null);var U=A[0],$=C[0];return U==0&&(U=(p*$+y/2)/y),$==0&&($=(y*U+p/2)/p),0>=U||0>=$?0:(A[0]=U,C[0]=$,1)}function De(p,y){return p+(1<<y)-1>>>y}function ft(p,y){return((4278255360&p)+(4278255360&y)>>>0&4278255360)+((16711935&p)+(16711935&y)>>>0&16711935)>>>0}function ht(p,y){L[y]=function(A,C,U,$,G,Z,ne){var oe;for(oe=0;oe<G;++oe){var ge=L[p](Z[ne+oe-1],U,$+oe);Z[ne+oe]=ft(A[C+oe],ge)}}}function vt(){this.ud=this.hd=this.jd=0}function xt(p,y){return((4278124286&(p^y))>>>1)+(p&y)>>>0}function Ut(p){return 0<=p&&256>p?p:0>p?0:255<p?255:void 0}function Gt(p,y){return Ut(p+(p-y+.5>>1))}function $t(p,y,A){return Math.abs(y-A)-Math.abs(p-A)}function fn(p,y,A,C,U,$,G){for(C=$[G-1],A=0;A<U;++A)$[G+A]=C=ft(p[y+A],C)}function sn(p,y,A,C,U){var $;for($=0;$<A;++$){var G=p[y+$],Z=G>>8&255,ne=16711935&(ne=(ne=16711935&G)+((Z<<16)+Z));C[U+$]=(4278255360&G)+ne>>>0}}function Et(p,y){y.jd=255&p,y.hd=p>>8&255,y.ud=p>>16&255}function rn(p,y,A,C,U,$){var G;for(G=0;G<C;++G){var Z=y[A+G],ne=Z>>>8,oe=Z,ge=255&(ge=(ge=Z>>>16)+((p.jd<<24>>24)*(ne<<24>>24)>>>5));oe=255&(oe=(oe+=(p.hd<<24>>24)*(ne<<24>>24)>>>5)+((p.ud<<24>>24)*(ge<<24>>24)>>>5)),U[$+G]=(4278255360&Z)+(ge<<16)+oe}}function Ct(p,y,A,C,U){L[y]=function($,G,Z,ne,oe,ge,Pe,ae,xe){for(ne=Pe;ne<ae;++ne)for(Pe=0;Pe<xe;++Pe)oe[ge++]=U(Z[C($[G++])])},L[p]=function($,G,Z,ne,oe,ge,Pe){var ae=8>>$.b,xe=$.Ea,Re=$.K[0],Ye=$.w;if(8>ae)for($=(1<<$.b)-1,Ye=(1<<ae)-1;G<Z;++G){var Le,He=0;for(Le=0;Le<xe;++Le)Le&$||(He=C(ne[oe++])),ge[Pe++]=U(Re[He&Ye]),He>>=ae}else L["VP8LMapColor"+A](ne,oe,Re,Ye,ge,Pe,G,Z,xe)}}function Kn(p,y,A,C,U){for(A=y+A;y<A;){var $=p[y++];C[U++]=$>>16&255,C[U++]=$>>8&255,C[U++]=255&$}}function Yt(p,y,A,C,U){for(A=y+A;y<A;){var $=p[y++];C[U++]=$>>16&255,C[U++]=$>>8&255,C[U++]=255&$,C[U++]=$>>24&255}}function jt(p,y,A,C,U){for(A=y+A;y<A;){var $=(G=p[y++])>>16&240|G>>12&15,G=240&G|G>>28&15;C[U++]=$,C[U++]=G}}function yt(p,y,A,C,U){for(A=y+A;y<A;){var $=(G=p[y++])>>16&248|G>>13&7,G=G>>5&224|G>>3&31;C[U++]=$,C[U++]=G}}function tn(p,y,A,C,U){for(A=y+A;y<A;){var $=p[y++];C[U++]=255&$,C[U++]=$>>8&255,C[U++]=$>>16&255}}function Lt(p,y,A,C,U,$){if($==0)for(A=y+A;y<A;)ut(C,(($=p[y++])[0]>>24|$[1]>>8&65280|$[2]<<8&16711680|$[3]<<24)>>>0),U+=32;else r(C,U,p,y,A)}function Tn(p,y){L[y][0]=L[p+"0"],L[y][1]=L[p+"1"],L[y][2]=L[p+"2"],L[y][3]=L[p+"3"],L[y][4]=L[p+"4"],L[y][5]=L[p+"5"],L[y][6]=L[p+"6"],L[y][7]=L[p+"7"],L[y][8]=L[p+"8"],L[y][9]=L[p+"9"],L[y][10]=L[p+"10"],L[y][11]=L[p+"11"],L[y][12]=L[p+"12"],L[y][13]=L[p+"13"],L[y][14]=L[p+"0"],L[y][15]=L[p+"0"]}function zt(p){return p==Gu||p==Nc||p==Kl||p==Cc}function qt(){this.eb=[],this.size=this.A=this.fb=0}function vn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Pt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new qt,this.f.kb=new vn,this.sd=null}function Rt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function J(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function ie(p){return alert("todo:WebPSamplerProcessPlane"),p.T}function we(p,y){var A=p.T,C=y.ba.f.RGBA,U=C.eb,$=C.fb+p.ka*C.A,G=Ci[y.ba.S],Z=p.y,ne=p.O,oe=p.f,ge=p.N,Pe=p.ea,ae=p.W,xe=y.cc,Re=y.dc,Ye=y.Mc,Le=y.Nc,He=p.ka,et=p.ka+p.T,ct=p.U,at=ct+1>>1;for(He==0?G(Z,ne,null,null,oe,ge,Pe,ae,oe,ge,Pe,ae,U,$,null,null,ct):(G(y.ec,y.fc,Z,ne,xe,Re,Ye,Le,oe,ge,Pe,ae,U,$-C.A,U,$,ct),++A);He+2<et;He+=2)xe=oe,Re=ge,Ye=Pe,Le=ae,ge+=p.Rc,ae+=p.Rc,$+=2*C.A,G(Z,(ne+=2*p.fa)-p.fa,Z,ne,xe,Re,Ye,Le,oe,ge,Pe,ae,U,$-C.A,U,$,ct);return ne+=p.fa,p.j+et<p.o?(r(y.ec,y.fc,Z,ne,ct),r(y.cc,y.dc,oe,ge,at),r(y.Mc,y.Nc,Pe,ae,at),A--):1&et||G(Z,ne,null,null,oe,ge,Pe,ae,oe,ge,Pe,ae,U,$+C.A,null,null,ct),A}function ze(p,y,A){var C=p.F,U=[p.J];if(C!=null){var $=p.U,G=y.ba.S,Z=G==$u||G==Kl;y=y.ba.f.RGBA;var ne=[0],oe=p.ka;ne[0]=p.T,p.Kb&&(oe==0?--ne[0]:(--oe,U[0]-=p.width),p.j+p.ka+p.T==p.o&&(ne[0]=p.o-p.j-oe));var ge=y.eb;oe=y.fb+oe*y.A,p=Uu(C,U[0],p.width,$,ne,ge,oe+(Z?0:3),y.A),e(A==ne),p&&zt(G)&&fl(ge,oe,Z,$,ne,y.A)}return 0}function lt(p){var y=p.ma,A=y.ba.S,C=11>A,U=A==Vi||A==qa||A==$u||A==Wl||A==12||zt(A);if(y.memory=null,y.Ib=null,y.Jb=null,y.Nd=null,!eo(y.Oa,p,U?11:12))return 0;if(U&&zt(A)&&ln(),p.da)alert("todo:use_scaling");else{if(C){if(y.Ib=ie,p.Kb){if(A=p.U+1>>1,y.memory=o(p.U+2*A),y.memory==null)return 0;y.ec=y.memory,y.fc=0,y.cc=y.ec,y.dc=y.fc+p.U,y.Mc=y.cc,y.Nc=y.dc+A,y.Ib=we,ln()}}else alert("todo:EmitYUV");U&&(y.Jb=ze,C&&Be())}if(C&&!jo){for(p=0;256>p;++p)Di[p]=89858*(p-128)+Jl>>Ka,Lm[p]=-22014*(p-128)+Jl,vd[p]=-45773*(p-128),Mc[p]=113618*(p-128)+Jl>>Ka;for(p=ml;p<Po;++p)y=76283*(p-16)+Jl>>Ka,Mm[p-ml]=Yi(y,255),km[p-ml]=Yi(y+8>>4,15);jo=1}return 1}function Ge(p){var y=p.ma,A=p.U,C=p.T;return e(!(1&p.ka)),0>=A||0>=C?0:(A=y.Ib(p,y),y.Jb!=null&&y.Jb(p,y,A),y.Dc+=A,1)}function Ft(p){p.ma.memory=null}function Ae(p,y,A,C){return Y(p,8)!=47?0:(y[0]=Y(p,14)+1,A[0]=Y(p,14)+1,C[0]=Y(p,1),Y(p,3)!=0?0:!p.h)}function Je(p,y){if(4>p)return p+1;var A=p-2>>1;return(2+(1&p)<<A)+Y(y,A)+1}function We(p,y){return 120<y?y-120:1<=(A=((A=$a[y-1])>>4)*p+(8-(15&A)))?A:1;var A}function Ze(p,y,A){var C=te(A),U=p[y+=255&C].g-8;return 0<U&&(fe(A,A.u+8),C=te(A),y+=p[y].value,y+=C&(1<<U)-1),fe(A,A.u+p[y].g),p[y].value}function bt(p,y,A){return A.g+=p.g,A.value+=p.value<<y>>>0,e(8>=A.g),p.g}function en(p,y,A){var C=p.xc;return e((y=C==0?0:p.vc[p.md*(A>>C)+(y>>C)])<p.Wb),p.Ya[y]}function On(p,y,A,C){var U=p.ab,$=p.c*y,G=p.C;y=G+y;var Z=A,ne=C;for(C=p.Ta,A=p.Ua;0<U--;){var oe=p.gc[U],ge=G,Pe=y,ae=Z,xe=ne,Re=(ne=C,Z=A,oe.Ea);switch(e(ge<Pe),e(Pe<=oe.nc),oe.hc){case 2:Vr(ae,xe,(Pe-ge)*Re,ne,Z);break;case 0:var Ye=ge,Le=Pe,He=ne,et=Z,ct=(Dt=oe).Ea;Ye==0&&(Hl(ae,xe,null,null,1,He,et),fn(ae,xe+1,0,0,ct-1,He,et+1),xe+=ct,et+=ct,++Ye);for(var at=1<<Dt.b,kt=at-1,St=De(ct,Dt.b),un=Dt.K,Dt=Dt.w+(Ye>>Dt.b)*St;Ye<Le;){var En=un,yr=Dt,dn=1;for($l(ae,xe,He,et-ct,1,He,et);dn<ct;){var At=(dn&~kt)+at;At>ct&&(At=ct),(0,no[En[yr++]>>8&15])(ae,xe+ +dn,He,et+dn-ct,At-dn,He,et+dn),dn=At}xe+=ct,et+=ct,++Ye&kt||(Dt+=St)}Pe!=oe.nc&&r(ne,Z-Re,ne,Z+(Pe-ge-1)*Re,Re);break;case 1:for(Re=ae,Le=xe,ct=(ae=oe.Ea)-(et=ae&~(He=(xe=1<<oe.b)-1)),Ye=De(ae,oe.b),at=oe.K,oe=oe.w+(ge>>oe.b)*Ye;ge<Pe;){for(kt=at,St=oe,un=new vt,Dt=Le+et,En=Le+ae;Le<Dt;)Et(kt[St++],un),Gl(un,Re,Le,xe,ne,Z),Le+=xe,Z+=xe;Le<En&&(Et(kt[St++],un),Gl(un,Re,Le,ct,ne,Z),Le+=ct,Z+=ct),++ge&He||(oe+=Ye)}break;case 3:if(ae==ne&&xe==Z&&0<oe.b){for(Le=ne,ae=Re=Z+(Pe-ge)*Re-(et=(Pe-ge)*De(oe.Ea,oe.b)),xe=ne,He=Z,Ye=[],et=(ct=et)-1;0<=et;--et)Ye[et]=xe[He+et];for(et=ct-1;0<=et;--et)Le[ae+et]=Ye[et];xc(oe,ge,Pe,ne,Re,ne,Z)}else xc(oe,ge,Pe,ae,xe,ne,Z)}Z=C,ne=A}ne!=A&&r(C,A,Z,ne,$)}function lr(p,y){var A=p.V,C=p.Ba+p.c*p.C,U=y-p.C;if(e(y<=p.l.o),e(16>=U),0<U){var $=p.l,G=p.Ta,Z=p.Ua,ne=$.width;if(On(p,U,A,C),U=Z=[Z],e((A=p.C)<(C=y)),e($.v<$.va),C>$.o&&(C=$.o),A<$.j){var oe=$.j-A;A=$.j,U[0]+=oe*ne}if(A>=C?A=0:(U[0]+=4*$.v,$.ka=A-$.j,$.U=$.va-$.v,$.T=C-A,A=1),A){if(Z=Z[0],11>(A=p.ca).S){var ge=A.f.RGBA,Pe=(C=A.S,U=$.U,$=$.T,oe=ge.eb,ge.A),ae=$;for(ge=ge.fb+p.Ma*ge.A;0<ae--;){var xe=G,Re=Z,Ye=U,Le=oe,He=ge;switch(C){case Ec:Yl(xe,Re,Ye,Le,He);break;case Vi:ro(xe,Re,Ye,Le,He);break;case Gu:ro(xe,Re,Ye,Le,He),fl(Le,He,0,Ye,1,0);break;case Tc:ul(xe,Re,Ye,Le,He);break;case qa:Lt(xe,Re,Ye,Le,He,1);break;case Nc:Lt(xe,Re,Ye,Le,He,1),fl(Le,He,0,Ye,1,0);break;case $u:Lt(xe,Re,Ye,Le,He,0);break;case Kl:Lt(xe,Re,Ye,Le,He,0),fl(Le,He,1,Ye,1,0);break;case Wl:io(xe,Re,Ye,Le,He);break;case Cc:io(xe,Re,Ye,Le,He),za(Le,He,Ye,1,0);break;case Io:Os(xe,Re,Ye,Le,He);break;default:e(0)}Z+=ne,ge+=Pe}p.Ma+=$}else alert("todo:EmitRescaledRowsYUVA");e(p.Ma<=A.height)}}p.C=y,e(p.C<=p.i)}function bn(p){var y;if(0<p.ua)return 0;for(y=0;y<p.Wb;++y){var A=p.Ya[y].G,C=p.Ya[y].H;if(0<A[1][C[1]+0].g||0<A[2][C[2]+0].g||0<A[3][C[3]+0].g)return 0}return 1}function Qn(p,y,A,C,U,$){if(p.Z!=0){var G=p.qd,Z=p.rd;for(e(oo[p.Z]!=null);y<A;++y)oo[p.Z](G,Z,C,U,C,U,$),G=C,Z=U,U+=$;p.qd=G,p.rd=Z}}function _r(p,y){var A=p.l.ma,C=A.Z==0||A.Z==1?p.l.j:p.C;if(C=p.C<C?C:p.C,e(y<=p.l.o),y>C){var U=p.l.width,$=A.ca,G=A.tb+U*C,Z=p.V,ne=p.Ba+p.c*C,oe=p.gc;e(p.ab==1),e(oe[0].hc==3),ks(oe[0],C,y,Z,ne,$,G),Qn(A,C,y,$,G,U)}p.C=p.Ma=y}function li(p,y,A,C,U,$,G){var Z=p.$/C,ne=p.$%C,oe=p.m,ge=p.s,Pe=A+p.$,ae=Pe;U=A+C*U;var xe=A+C*$,Re=280+ge.ua,Ye=p.Pb?Z:16777216,Le=0<ge.ua?ge.Wa:null,He=ge.wc,et=Pe<xe?en(ge,ne,Z):null;e(p.C<$),e(xe<=U);var ct=!1;e:for(;;){for(;ct||Pe<xe;){var at=0;if(Z>=Ye){var kt=Pe-A;e((Ye=p).Pb),Ye.wd=Ye.m,Ye.xd=kt,0<Ye.s.ua&&Oe(Ye.s.Wa,Ye.s.vb),Ye=Z+Lo}if(ne&He||(et=en(ge,ne,Z)),e(et!=null),et.Qb&&(y[Pe]=et.qb,ct=!0),!ct)if(ve(oe),et.jc){at=oe,kt=y;var St=Pe,un=et.pd[te(at)&Ro-1];e(et.jc),256>un.g?(fe(at,at.u+un.g),kt[St]=un.value,at=0):(fe(at,at.u+un.g-256),e(256<=un.value),at=un.value),at==0&&(ct=!0)}else at=Ze(et.G[0],et.H[0],oe);if(oe.h)break;if(ct||256>at){if(!ct)if(et.nd)y[Pe]=(et.qb|at<<8)>>>0;else{if(ve(oe),ct=Ze(et.G[1],et.H[1],oe),ve(oe),kt=Ze(et.G[2],et.H[2],oe),St=Ze(et.G[3],et.H[3],oe),oe.h)break;y[Pe]=(St<<24|ct<<16|at<<8|kt)>>>0}if(ct=!1,++Pe,++ne>=C&&(ne=0,++Z,G!=null&&Z<=$&&!(Z%16)&&G(p,Z),Le!=null))for(;ae<Pe;)at=y[ae++],Le.X[(506832829*at&4294967295)>>>Le.Mb]=at}else if(280>at){if(at=Je(at-256,oe),kt=Ze(et.G[4],et.H[4],oe),ve(oe),kt=We(C,kt=Je(kt,oe)),oe.h)break;if(Pe-A<kt||U-Pe<at)break e;for(St=0;St<at;++St)y[Pe+St]=y[Pe+St-kt];for(Pe+=at,ne+=at;ne>=C;)ne-=C,++Z,G!=null&&Z<=$&&!(Z%16)&&G(p,Z);if(e(Pe<=U),ne&He&&(et=en(ge,ne,Z)),Le!=null)for(;ae<Pe;)at=y[ae++],Le.X[(506832829*at&4294967295)>>>Le.Mb]=at}else{if(!(at<Re))break e;for(ct=at-280,e(Le!=null);ae<Pe;)at=y[ae++],Le.X[(506832829*at&4294967295)>>>Le.Mb]=at;at=Pe,e(!(ct>>>(kt=Le).Xa)),y[at]=kt.X[ct],ct=!0}ct||e(oe.h==ue(oe))}if(p.Pb&&oe.h&&Pe<U)e(p.m.h),p.a=5,p.m=p.wd,p.$=p.xd,0<p.s.ua&&Oe(p.s.vb,p.s.Wa);else{if(oe.h)break e;G?.(p,Z>$?$:Z),p.a=0,p.$=Pe-A}return 1}return p.a=3,0}function Mi(p){e(p!=null),p.vc=null,p.yc=null,p.Ya=null;var y=p.Wa;y!=null&&(y.X=null),p.vb=null,e(p!=null)}function Oa(){var p=new Qt;return p==null?null:(p.a=0,p.xb=$f,Tn("Predictor","VP8LPredictors"),Tn("Predictor","VP8LPredictors_C"),Tn("PredictorAdd","VP8LPredictorsAdd"),Tn("PredictorAdd","VP8LPredictorsAdd_C"),Vr=sn,Gl=rn,Yl=Kn,ro=Yt,io=jt,Os=yt,ul=tn,L.VP8LMapColor32b=Ms,L.VP8LMapColor8b=Ei,p)}function $i(p,y,A,C,U){var $=1,G=[p],Z=[y],ne=C.m,oe=C.s,ge=null,Pe=0;e:for(;;){if(A)for(;$&&Y(ne,1);){var ae=G,xe=Z,Re=C,Ye=1,Le=Re.m,He=Re.gc[Re.ab],et=Y(Le,2);if(Re.Oc&1<<et)$=0;else{switch(Re.Oc|=1<<et,He.hc=et,He.Ea=ae[0],He.nc=xe[0],He.K=[null],++Re.ab,e(4>=Re.ab),et){case 0:case 1:He.b=Y(Le,3)+2,Ye=$i(De(He.Ea,He.b),De(He.nc,He.b),0,Re,He.K),He.K=He.K[0];break;case 3:var ct,at=Y(Le,8)+1,kt=16<at?0:4<at?1:2<at?2:3;if(ae[0]=De(He.Ea,kt),He.b=kt,ct=Ye=$i(at,1,0,Re,He.K)){var St,un=at,Dt=He,En=1<<(8>>Dt.b),yr=o(En);if(yr==null)ct=0;else{var dn=Dt.K[0],At=Dt.w;for(yr[0]=Dt.K[0][0],St=1;St<1*un;++St)yr[St]=ft(dn[At+St],yr[St-1]);for(;St<4*En;++St)yr[St]=0;Dt.K[0]=null,Dt.K[0]=yr,ct=1}}Ye=ct;break;case 2:break;default:e(0)}$=Ye}}if(G=G[0],Z=Z[0],$&&Y(ne,1)&&!($=1<=(Pe=Y(ne,4))&&11>=Pe)){C.a=3;break e}var gt;if(gt=$)t:{var Ar,nn,yn,Xn=C,ni=G,Ri=Z,hr=Pe,Gr=A,Bi=Xn.m,Yr=Xn.s,xn=[null],Fn=1,Er=0,Hn=Ga[hr];n:for(;;){if(Gr&&Y(Bi,1)){var ri=Y(Bi,3)+2,Tr=De(ni,ri),Vn=De(Ri,ri),zr=Tr*Vn;if(!$i(Tr,Vn,0,Xn,xn))break n;for(xn=xn[0],Yr.xc=ri,Ar=0;Ar<zr;++Ar){var Jn=xn[Ar]>>8&65535;xn[Ar]=Jn,Jn>=Fn&&(Fn=Jn+1)}}if(Bi.h)break n;for(nn=0;5>nn;++nn){var Wr=dl[nn];!nn&&0<hr&&(Wr+=1<<hr),Er<Wr&&(Er=Wr)}var Kr=u(Fn*Hn,F),ir=Fn,jn=u(ir,Ce);if(jn==null)var Ui=null;else e(65536>=ir),Ui=jn;var Mr=o(Er);if(Ui==null||Mr==null||Kr==null){Xn.a=1;break n}var Kt=Kr;for(Ar=yn=0;Ar<Fn;++Ar){var Xt=Ui[Ar],Bn=Xt.G,ha=Xt.H,Qa=0,ta=1,Qr=0;for(nn=0;5>nn;++nn){Wr=dl[nn],Bn[nn]=Kt,ha[nn]=yn,!nn&&0<hr&&(Wr+=1<<hr);i:{var Fo,Vo=Wr,Oc=Xn,dr=Mr,Yf=Kt,Wf=yn,Pc=0,lo=Oc.m,Om=Y(lo,1);if(s(dr,0,0,Vo),Om){var Kf=Y(lo,1)+1,Qf=Y(lo,1),jc=Y(lo,Qf==0?1:8);dr[jc]=1,Kf==2&&(dr[jc=Y(lo,8)]=1);var di=1}else{var kr=o(19),Qu=Y(lo,4)+4;if(19<Qu){Oc.a=3;var Bo=0;break i}for(Fo=0;Fo<Qu;++Fo)kr[Yu[Fo]]=Y(lo,3);var eu=void 0,gl=void 0,Fs=Oc,Fc=kr,tu=Vo,Vc=dr,Bc=0,uo=Fs.m,Xf=8,Jf=u(128,F);r:for(;O(Jf,0,7,Fc,19);){if(Y(uo,1)){var yd=2+2*Y(uo,3);if((eu=2+Y(uo,yd))>tu)break r}else eu=tu;for(gl=0;gl<tu&&eu--;){ve(uo);var Zf=Jf[0+(127&te(uo))];fe(uo,uo.u+Zf.g);var Uo=Zf.value;if(16>Uo)Vc[gl++]=Uo,Uo!=0&&(Xf=Uo);else{var bd=Uo==16,wd=Uo-16,_d=Ql[wd],eh=Y(uo,Ha[wd])+_d;if(gl+eh>tu)break r;for(var xd=bd?Xf:0;0<eh--;)Vc[gl++]=xd}}Bc=1;break r}Bc||(Fs.a=3),di=Bc}(di=di&&!lo.h)&&(Pc=O(Yf,Wf,8,dr,Vo)),di&&Pc!=0?Bo=Pc:(Oc.a=3,Bo=0)}if(Bo==0)break n;if(ta&&Dc[nn]==1&&(ta=Kt[yn].g==0),Qa+=Kt[yn].g,yn+=Bo,3>=nn){var vl,Uc=Mr[0];for(vl=1;vl<Wr;++vl)Mr[vl]>Uc&&(Uc=Mr[vl]);Qr+=Uc}}if(Xt.nd=ta,Xt.Qb=0,ta&&(Xt.qb=(Bn[3][ha[3]+0].value<<24|Bn[1][ha[1]+0].value<<16|Bn[2][ha[2]+0].value)>>>0,Qa==0&&256>Bn[0][ha[0]+0].value&&(Xt.Qb=1,Xt.qb+=Bn[0][ha[0]+0].value<<8)),Xt.jc=!Xt.Qb&&6>Qr,Xt.jc){var Xu,Vs=Xt;for(Xu=0;Xu<Ro;++Xu){var co=Xu,fo=Vs.pd[co],zc=Vs.G[0][Vs.H[0]+co];256<=zc.value?(fo.g=zc.g+256,fo.value=zc.value):(fo.g=0,fo.value=0,co>>=bt(zc,8,fo),co>>=bt(Vs.G[1][Vs.H[1]+co],16,fo),co>>=bt(Vs.G[2][Vs.H[2]+co],0,fo),bt(Vs.G[3][Vs.H[3]+co],24,fo))}}}Yr.vc=xn,Yr.Wb=Fn,Yr.Ya=Ui,Yr.yc=Kr,gt=1;break t}gt=0}if(!($=gt)){C.a=3;break e}if(0<Pe){if(oe.ua=1<<Pe,!q(oe.Wa,Pe)){C.a=1,$=0;break e}}else oe.ua=0;var qc=C,yl=G,Sd=Z,nu=qc.s,ru=nu.xc;if(qc.c=yl,qc.i=Sd,nu.md=De(yl,ru),nu.wc=ru==0?-1:(1<<ru)-1,A){C.xb=Mo;break e}if((ge=o(G*Z))==null){C.a=1,$=0;break e}$=($=li(C,ge,0,G,Z,Z,null))&&!ne.h;break e}return $?(U!=null?U[0]=ge:(e(ge==null),e(A)),C.$=0,A||Mi(oe)):Mi(oe),$}function ui(p,y){var A=p.c*p.i,C=A+y+16*y;return e(p.c<=y),p.V=o(C),p.V==null?(p.Ta=null,p.Ua=0,p.a=1,0):(p.Ta=p.V,p.Ua=p.Ba+A+y,1)}function Sa(p,y){var A=p.C,C=y-A,U=p.V,$=p.Ba+p.c*A;for(e(y<=p.l.o);0<C;){var G=16<C?16:C,Z=p.l.ma,ne=p.l.width,oe=ne*G,ge=Z.ca,Pe=Z.tb+ne*A,ae=p.Ta,xe=p.Ua;On(p,G,U,$),Ia(ae,xe,ge,Pe,oe),Qn(Z,A,A+G,ge,Pe,ne),C-=G,U+=G*p.c,A+=G}e(A==y),p.C=p.Ma=y}function _i(){this.ub=this.yd=this.td=this.Rb=0}function Zr(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Gi(){this.Fb=this.Bb=this.Cb=0,this.Zb=o(4),this.Lb=o(4)}function oa(){this.Yb=(function(){var p=[];return(function y(A,C,U){for(var $=U[C],G=0;G<$&&(A.push(U.length>C+1?[]:0),!(U.length<C+1));G++)y(A[G],C+1,U)})(p,0,[3,11]),p})()}function Sr(){this.jb=o(3),this.Wc=c([4,8],oa),this.Xc=c([4,17],oa)}function xo(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new o(4),this.od=new o(4)}function ki(){this.ld=this.La=this.dd=this.tc=0}function la(){this.Na=this.la=0}function Aa(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Ys(){this.ad=o(384),this.Za=0,this.Ob=o(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function So(){this.uc=this.M=this.Nb=0,this.wa=Array(new ki),this.Y=0,this.ya=Array(new Ys),this.aa=0,this.l=new ci}function Ao(){this.y=o(16),this.f=o(8),this.ea=o(8)}function nl(){this.cb=this.a=0,this.sc="",this.m=new P,this.Od=new _i,this.Kc=new Zr,this.ed=new xo,this.Qa=new Gi,this.Ic=this.$c=this.Aa=0,this.D=new So,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=u(8,P),this.ia=0,this.pb=u(4,Aa),this.Pa=new Sr,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Ao),this.Hd=0,this.rb=Array(new la),this.sb=0,this.wa=Array(new ki),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Ys),this.L=this.aa=0,this.gd=c([4,2],ki),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Yi(p,y){return 0>p?0:p>y?y:p}function ci(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Rr(){var p=new nl;return p!=null&&(p.a=0,p.sc="OK",p.cb=0,p.Xb=0,La||(La=Rn)),p}function Sn(p,y,A){return p.a==0&&(p.a=y,p.sc=A,p.cb=0),0}function ss(p,y,A){return 3<=A&&p[y+0]==157&&p[y+1]==1&&p[y+2]==42}function ua(p,y){if(p==null)return 0;if(p.a=0,p.sc="OK",y==null)return Sn(p,2,"null VP8Io passed to VP8GetHeaders()");var A=y.data,C=y.w,U=y.ha;if(4>U)return Sn(p,7,"Truncated header.");var $=A[C+0]|A[C+1]<<8|A[C+2]<<16,G=p.Od;if(G.Rb=!(1&$),G.td=$>>1&7,G.yd=$>>4&1,G.ub=$>>5,3<G.td)return Sn(p,3,"Incorrect keyframe parameters.");if(!G.yd)return Sn(p,4,"Frame not displayable.");C+=3,U-=3;var Z=p.Kc;if(G.Rb){if(7>U)return Sn(p,7,"cannot parse picture header");if(!ss(A,C,U))return Sn(p,3,"Bad code word");Z.c=16383&(A[C+4]<<8|A[C+3]),Z.Td=A[C+4]>>6,Z.i=16383&(A[C+6]<<8|A[C+5]),Z.Ud=A[C+6]>>6,C+=7,U-=7,p.za=Z.c+15>>4,p.Ub=Z.i+15>>4,y.width=Z.c,y.height=Z.i,y.Da=0,y.j=0,y.v=0,y.va=y.width,y.o=y.height,y.da=0,y.ib=y.width,y.hb=y.height,y.U=y.width,y.T=y.height,s(($=p.Pa).jb,0,255,$.jb.length),e(($=p.Qa)!=null),$.Cb=0,$.Bb=0,$.Fb=1,s($.Zb,0,0,$.Zb.length),s($.Lb,0,0,$.Lb)}if(G.ub>U)return Sn(p,7,"bad partition length");le($=p.m,A,C,G.ub),C+=G.ub,U-=G.ub,G.Rb&&(Z.Ld=Me($),Z.Kd=Me($)),Z=p.Qa;var ne,oe=p.Pa;if(e($!=null),e(Z!=null),Z.Cb=Me($),Z.Cb){if(Z.Bb=Me($),Me($)){for(Z.Fb=Me($),ne=0;4>ne;++ne)Z.Zb[ne]=Me($)?de($,7):0;for(ne=0;4>ne;++ne)Z.Lb[ne]=Me($)?de($,6):0}if(Z.Bb)for(ne=0;3>ne;++ne)oe.jb[ne]=Me($)?me($,8):255}else Z.Bb=0;if($.Ka)return Sn(p,3,"cannot parse segment header");if((Z=p.ed).zd=Me($),Z.Tb=me($,6),Z.wb=me($,3),Z.Pc=Me($),Z.Pc&&Me($)){for(oe=0;4>oe;++oe)Me($)&&(Z.vd[oe]=de($,6));for(oe=0;4>oe;++oe)Me($)&&(Z.od[oe]=de($,6))}if(p.L=Z.Tb==0?0:Z.zd?1:2,$.Ka)return Sn(p,3,"cannot parse filter header");var ge=U;if(U=ne=C,C=ne+ge,Z=ge,p.Xb=(1<<me(p.m,2))-1,ge<3*(oe=p.Xb))A=7;else{for(ne+=3*oe,Z-=3*oe,ge=0;ge<oe;++ge){var Pe=A[U+0]|A[U+1]<<8|A[U+2]<<16;Pe>Z&&(Pe=Z),le(p.Jc[+ge],A,ne,Pe),ne+=Pe,Z-=Pe,U+=3}le(p.Jc[+oe],A,ne,Z),A=ne<C?0:5}if(A!=0)return Sn(p,A,"cannot parse partitions");for(A=me(ne=p.m,7),U=Me(ne)?de(ne,4):0,C=Me(ne)?de(ne,4):0,Z=Me(ne)?de(ne,4):0,oe=Me(ne)?de(ne,4):0,ne=Me(ne)?de(ne,4):0,ge=p.Qa,Pe=0;4>Pe;++Pe){if(ge.Cb){var ae=ge.Zb[Pe];ge.Fb||(ae+=A)}else{if(0<Pe){p.pb[Pe]=p.pb[0];continue}ae=A}var xe=p.pb[Pe];xe.Sc[0]=Ya[Yi(ae+U,127)],xe.Sc[1]=Wa[Yi(ae+0,127)],xe.Eb[0]=2*Ya[Yi(ae+C,127)],xe.Eb[1]=101581*Wa[Yi(ae+Z,127)]>>16,8>xe.Eb[1]&&(xe.Eb[1]=8),xe.Qc[0]=Ya[Yi(ae+oe,117)],xe.Qc[1]=Wa[Yi(ae+ne,127)],xe.lc=ae+ne}if(!G.Rb)return Sn(p,4,"Not a key frame.");for(Me($),G=p.Pa,A=0;4>A;++A){for(U=0;8>U;++U)for(C=0;3>C;++C)for(Z=0;11>Z;++Z)oe=$e($,vr[A][U][C][Z])?me($,8):gd[A][U][C][Z],G.Wc[A][U].Yb[C][Z]=oe;for(U=0;17>U;++U)G.Xc[A][U]=G.Wc[A][Nn[U]]}return p.kc=Me($),p.kc&&(p.Bd=me($,8)),p.cb=1}function Rn(p,y,A,C,U,$,G){var Z=y[U].Yb[A];for(A=0;16>U;++U){if(!$e(p,Z[A+0]))return U;for(;!$e(p,Z[A+1]);)if(Z=y[++U].Yb[0],A=0,U==16)return 16;var ne=y[U+1].Yb;if($e(p,Z[A+2])){var oe=p,ge=0;if($e(oe,(ae=Z)[(Pe=A)+3]))if($e(oe,ae[Pe+6])){for(Z=0,Pe=2*(ge=$e(oe,ae[Pe+8]))+(ae=$e(oe,ae[Pe+9+ge])),ge=0,ae=md[Pe];ae[Z];++Z)ge+=ge+$e(oe,ae[Z]);ge+=3+(8<<Pe)}else $e(oe,ae[Pe+7])?(ge=7+2*$e(oe,165),ge+=$e(oe,145)):ge=5+$e(oe,159);else ge=$e(oe,ae[Pe+4])?3+$e(oe,ae[Pe+5]):2;Z=ne[2]}else ge=1,Z=ne[1];ne=G+Hf[U],0>(oe=p).b&&Te(oe);var Pe,ae=oe.b,xe=(Pe=oe.Ca>>1)-(oe.I>>ae)>>31;--oe.b,oe.Ca+=xe,oe.Ca|=1,oe.I-=(Pe+1&xe)<<ae,$[ne]=((ge^xe)-xe)*C[(0<U)+0]}return 16}function As(p){var y=p.rb[p.sb-1];y.la=0,y.Na=0,s(p.zc,0,0,p.zc.length),p.ja=0}function jr(p,y,A,C,U){U=p[y+A+32*C]+(U>>3),p[y+A+32*C]=-256&U?0>U?0:255:U}function gr(p,y,A,C,U,$){jr(p,y,0,A,C+U),jr(p,y,1,A,C+$),jr(p,y,2,A,C-$),jr(p,y,3,A,C-U)}function Ir(p){return(20091*p>>16)+p}function Ws(p,y,A,C){var U,$=0,G=o(16);for(U=0;4>U;++U){var Z=p[y+0]+p[y+8],ne=p[y+0]-p[y+8],oe=(35468*p[y+4]>>16)-Ir(p[y+12]),ge=Ir(p[y+4])+(35468*p[y+12]>>16);G[$+0]=Z+ge,G[$+1]=ne+oe,G[$+2]=ne-oe,G[$+3]=Z-ge,$+=4,y++}for(U=$=0;4>U;++U)Z=(p=G[$+0]+4)+G[$+8],ne=p-G[$+8],oe=(35468*G[$+4]>>16)-Ir(G[$+12]),jr(A,C,0,0,Z+(ge=Ir(G[$+4])+(35468*G[$+12]>>16))),jr(A,C,1,0,ne+oe),jr(A,C,2,0,ne-oe),jr(A,C,3,0,Z-ge),$++,C+=32}function zl(p,y,A,C){var U=p[y+0]+4,$=35468*p[y+4]>>16,G=Ir(p[y+4]),Z=35468*p[y+1]>>16;gr(A,C,0,U+G,p=Ir(p[y+1]),Z),gr(A,C,1,U+$,p,Z),gr(A,C,2,U-$,p,Z),gr(A,C,3,U-G,p,Z)}function rl(p,y,A,C,U){Ws(p,y,A,C),U&&Ws(p,y+16,A,C+4)}function xi(p,y,A,C){ao(p,y+0,A,C,1),ao(p,y+32,A,C+128,1)}function il(p,y,A,C){var U;for(p=p[y+0]+4,U=0;4>U;++U)for(y=0;4>y;++y)jr(A,C,y,U,p)}function os(p,y,A,C){p[y+0]&&qn(p,y+0,A,C),p[y+16]&&qn(p,y+16,A,C+4),p[y+32]&&qn(p,y+32,A,C+128),p[y+48]&&qn(p,y+48,A,C+128+4)}function ei(p,y,A,C){var U,$=o(16);for(U=0;4>U;++U){var G=p[y+0+U]+p[y+12+U],Z=p[y+4+U]+p[y+8+U],ne=p[y+4+U]-p[y+8+U],oe=p[y+0+U]-p[y+12+U];$[0+U]=G+Z,$[8+U]=G-Z,$[4+U]=oe+ne,$[12+U]=oe-ne}for(U=0;4>U;++U)G=(p=$[0+4*U]+3)+$[3+4*U],Z=$[1+4*U]+$[2+4*U],ne=$[1+4*U]-$[2+4*U],oe=p-$[3+4*U],A[C+0]=G+Z>>3,A[C+16]=oe+ne>>3,A[C+32]=G-Z>>3,A[C+48]=oe-ne>>3,C+=64}function Es(p,y,A){var C,U=y-32,$=Fi,G=255-p[U-1];for(C=0;C<A;++C){var Z,ne=$,oe=G+p[y-1];for(Z=0;Z<A;++Z)p[y+Z]=ne[oe+p[U+Z]];y+=32}}function al(p,y){Es(p,y,4)}function sl(p,y){Es(p,y,8)}function Eo(p,y){Es(p,y,16)}function To(p,y){var A;for(A=0;16>A;++A)r(p,y+32*A,p,y-32,16)}function ls(p,y){var A;for(A=16;0<A;--A)s(p,y,p[y-1],16),y+=32}function Oi(p,y,A){var C;for(C=0;16>C;++C)s(y,A+32*C,p,16)}function Ea(p,y){var A,C=16;for(A=0;16>A;++A)C+=p[y-1+32*A]+p[y+A-32];Oi(C>>5,p,y)}function us(p,y){var A,C=8;for(A=0;16>A;++A)C+=p[y-1+32*A];Oi(C>>4,p,y)}function Pi(p,y){var A,C=8;for(A=0;16>A;++A)C+=p[y+A-32];Oi(C>>4,p,y)}function Ts(p,y){Oi(128,p,y)}function Wt(p,y,A){return p+2*y+A+2>>2}function Ks(p,y){var A,C=y-32;for(C=new Uint8Array([Wt(p[C-1],p[C+0],p[C+1]),Wt(p[C+0],p[C+1],p[C+2]),Wt(p[C+1],p[C+2],p[C+3]),Wt(p[C+2],p[C+3],p[C+4])]),A=0;4>A;++A)r(p,y+32*A,C,0,C.length)}function No(p,y){var A=p[y-1],C=p[y-1+32],U=p[y-1+64],$=p[y-1+96];ut(p,y+0,16843009*Wt(p[y-1-32],A,C)),ut(p,y+32,16843009*Wt(A,C,U)),ut(p,y+64,16843009*Wt(C,U,$)),ut(p,y+96,16843009*Wt(U,$,$))}function Ns(p,y){var A,C=4;for(A=0;4>A;++A)C+=p[y+A-32]+p[y-1+32*A];for(C>>=3,A=0;4>A;++A)s(p,y+32*A,C,4)}function ti(p,y){var A=p[y-1+0],C=p[y-1+32],U=p[y-1+64],$=p[y-1-32],G=p[y+0-32],Z=p[y+1-32],ne=p[y+2-32],oe=p[y+3-32];p[y+0+96]=Wt(C,U,p[y-1+96]),p[y+1+96]=p[y+0+64]=Wt(A,C,U),p[y+2+96]=p[y+1+64]=p[y+0+32]=Wt($,A,C),p[y+3+96]=p[y+2+64]=p[y+1+32]=p[y+0+0]=Wt(G,$,A),p[y+3+64]=p[y+2+32]=p[y+1+0]=Wt(Z,G,$),p[y+3+32]=p[y+2+0]=Wt(ne,Z,G),p[y+3+0]=Wt(oe,ne,Z)}function $r(p,y){var A=p[y+1-32],C=p[y+2-32],U=p[y+3-32],$=p[y+4-32],G=p[y+5-32],Z=p[y+6-32],ne=p[y+7-32];p[y+0+0]=Wt(p[y+0-32],A,C),p[y+1+0]=p[y+0+32]=Wt(A,C,U),p[y+2+0]=p[y+1+32]=p[y+0+64]=Wt(C,U,$),p[y+3+0]=p[y+2+32]=p[y+1+64]=p[y+0+96]=Wt(U,$,G),p[y+3+32]=p[y+2+64]=p[y+1+96]=Wt($,G,Z),p[y+3+64]=p[y+2+96]=Wt(G,Z,ne),p[y+3+96]=Wt(Z,ne,ne)}function Qs(p,y){var A=p[y-1+0],C=p[y-1+32],U=p[y-1+64],$=p[y-1-32],G=p[y+0-32],Z=p[y+1-32],ne=p[y+2-32],oe=p[y+3-32];p[y+0+0]=p[y+1+64]=$+G+1>>1,p[y+1+0]=p[y+2+64]=G+Z+1>>1,p[y+2+0]=p[y+3+64]=Z+ne+1>>1,p[y+3+0]=ne+oe+1>>1,p[y+0+96]=Wt(U,C,A),p[y+0+64]=Wt(C,A,$),p[y+0+32]=p[y+1+96]=Wt(A,$,G),p[y+1+32]=p[y+2+96]=Wt($,G,Z),p[y+2+32]=p[y+3+96]=Wt(G,Z,ne),p[y+3+32]=Wt(Z,ne,oe)}function $n(p,y){var A=p[y+0-32],C=p[y+1-32],U=p[y+2-32],$=p[y+3-32],G=p[y+4-32],Z=p[y+5-32],ne=p[y+6-32],oe=p[y+7-32];p[y+0+0]=A+C+1>>1,p[y+1+0]=p[y+0+64]=C+U+1>>1,p[y+2+0]=p[y+1+64]=U+$+1>>1,p[y+3+0]=p[y+2+64]=$+G+1>>1,p[y+0+32]=Wt(A,C,U),p[y+1+32]=p[y+0+96]=Wt(C,U,$),p[y+2+32]=p[y+1+96]=Wt(U,$,G),p[y+3+32]=p[y+2+96]=Wt($,G,Z),p[y+3+64]=Wt(G,Z,ne),p[y+3+96]=Wt(Z,ne,oe)}function Wi(p,y){var A=p[y-1+0],C=p[y-1+32],U=p[y-1+64],$=p[y-1+96];p[y+0+0]=A+C+1>>1,p[y+2+0]=p[y+0+32]=C+U+1>>1,p[y+2+32]=p[y+0+64]=U+$+1>>1,p[y+1+0]=Wt(A,C,U),p[y+3+0]=p[y+1+32]=Wt(C,U,$),p[y+3+32]=p[y+1+64]=Wt(U,$,$),p[y+3+64]=p[y+2+64]=p[y+0+96]=p[y+1+96]=p[y+2+96]=p[y+3+96]=$}function Xs(p,y){var A=p[y-1+0],C=p[y-1+32],U=p[y-1+64],$=p[y-1+96],G=p[y-1-32],Z=p[y+0-32],ne=p[y+1-32],oe=p[y+2-32];p[y+0+0]=p[y+2+32]=A+G+1>>1,p[y+0+32]=p[y+2+64]=C+A+1>>1,p[y+0+64]=p[y+2+96]=U+C+1>>1,p[y+0+96]=$+U+1>>1,p[y+3+0]=Wt(Z,ne,oe),p[y+2+0]=Wt(G,Z,ne),p[y+1+0]=p[y+3+32]=Wt(A,G,Z),p[y+1+32]=p[y+3+64]=Wt(C,A,G),p[y+1+64]=p[y+3+96]=Wt(U,C,A),p[y+1+96]=Wt($,U,C)}function Ta(p,y){var A;for(A=0;8>A;++A)r(p,y+32*A,p,y-32,8)}function ol(p,y){var A;for(A=0;8>A;++A)s(p,y,p[y-1],8),y+=32}function Ki(p,y,A){var C;for(C=0;8>C;++C)s(y,A+32*C,p,8)}function cs(p,y){var A,C=8;for(A=0;8>A;++A)C+=p[y+A-32]+p[y-1+32*A];Ki(C>>4,p,y)}function Qi(p,y){var A,C=4;for(A=0;8>A;++A)C+=p[y+A-32];Ki(C>>3,p,y)}function Fr(p,y){var A,C=4;for(A=0;8>A;++A)C+=p[y-1+32*A];Ki(C>>3,p,y)}function Pa(p,y){Ki(128,p,y)}function fi(p,y,A){var C=p[y-A],U=p[y+0],$=3*(U-C)+so[1020+p[y-2*A]-p[y+A]],G=Hu[112+($+4>>3)];p[y-A]=Fi[255+C+Hu[112+($+3>>3)]],p[y+0]=Fi[255+U-G]}function ja(p,y,A,C){var U=p[y+0],$=p[y+A];return Ti[255+p[y-2*A]-p[y-A]]>C||Ti[255+$-U]>C}function Cs(p,y,A,C){return 4*Ti[255+p[y-A]-p[y+0]]+Ti[255+p[y-2*A]-p[y+A]]<=C}function Fa(p,y,A,C,U){var $=p[y-3*A],G=p[y-2*A],Z=p[y-A],ne=p[y+0],oe=p[y+A],ge=p[y+2*A],Pe=p[y+3*A];return 4*Ti[255+Z-ne]+Ti[255+G-oe]>C?0:Ti[255+p[y-4*A]-$]<=U&&Ti[255+$-G]<=U&&Ti[255+G-Z]<=U&&Ti[255+Pe-ge]<=U&&Ti[255+ge-oe]<=U&&Ti[255+oe-ne]<=U}function Va(p,y,A,C){var U=2*C+1;for(C=0;16>C;++C)Cs(p,y+C,A,U)&&fi(p,y+C,A)}function ca(p,y,A,C){var U=2*C+1;for(C=0;16>C;++C)Cs(p,y+C*A,1,U)&&fi(p,y+C*A,1)}function Js(p,y,A,C){var U;for(U=3;0<U;--U)Va(p,y+=4*A,A,C)}function Co(p,y,A,C){var U;for(U=3;0<U;--U)ca(p,y+=4,A,C)}function Xi(p,y,A,C,U,$,G,Z){for($=2*$+1;0<U--;){if(Fa(p,y,A,$,G))if(ja(p,y,A,Z))fi(p,y,A);else{var ne=p,oe=y,ge=A,Pe=ne[oe-2*ge],ae=ne[oe-ge],xe=ne[oe+0],Re=ne[oe+ge],Ye=ne[oe+2*ge],Le=27*(et=so[1020+3*(xe-ae)+so[1020+Pe-Re]])+63>>7,He=18*et+63>>7,et=9*et+63>>7;ne[oe-3*ge]=Fi[255+ne[oe-3*ge]+et],ne[oe-2*ge]=Fi[255+Pe+He],ne[oe-ge]=Fi[255+ae+Le],ne[oe+0]=Fi[255+xe-Le],ne[oe+ge]=Fi[255+Re-He],ne[oe+2*ge]=Fi[255+Ye-et]}y+=C}}function Ba(p,y,A,C,U,$,G,Z){for($=2*$+1;0<U--;){if(Fa(p,y,A,$,G))if(ja(p,y,A,Z))fi(p,y,A);else{var ne=p,oe=y,ge=A,Pe=ne[oe-ge],ae=ne[oe+0],xe=ne[oe+ge],Re=Hu[112+(4+(Ye=3*(ae-Pe))>>3)],Ye=Hu[112+(Ye+3>>3)],Le=Re+1>>1;ne[oe-2*ge]=Fi[255+ne[oe-2*ge]+Le],ne[oe-ge]=Fi[255+Pe+Ye],ne[oe+0]=Fi[255+ae-Re],ne[oe+ge]=Fi[255+xe-Le]}y+=C}}function ll(p,y,A,C,U,$){Xi(p,y,A,1,16,C,U,$)}function Na(p,y,A,C,U,$){Xi(p,y,1,A,16,C,U,$)}function Do(p,y,A,C,U,$){var G;for(G=3;0<G;--G)Ba(p,y+=4*A,A,1,16,C,U,$)}function x(p,y,A,C,U,$){var G;for(G=3;0<G;--G)Ba(p,y+=4,1,A,16,C,U,$)}function B(p,y,A,C,U,$,G,Z){Xi(p,y,U,1,8,$,G,Z),Xi(A,C,U,1,8,$,G,Z)}function se(p,y,A,C,U,$,G,Z){Xi(p,y,1,U,8,$,G,Z),Xi(A,C,1,U,8,$,G,Z)}function pe(p,y,A,C,U,$,G,Z){Ba(p,y+4*U,U,1,8,$,G,Z),Ba(A,C+4*U,U,1,8,$,G,Z)}function Se(p,y,A,C,U,$,G,Z){Ba(p,y+4,1,U,8,$,G,Z),Ba(A,C+4,1,U,8,$,G,Z)}function Ke(){this.ba=new Pt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new J,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function st(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Tt(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Mt(){this.ua=0,this.Wa=new it,this.vb=new it,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new Ce,this.yc=new F}function Qt(){this.xb=this.a=0,this.l=new ci,this.ca=new Pt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new K,this.Pb=0,this.wd=new K,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Mt,this.ab=0,this.gc=u(4,Tt),this.Oc=0}function Ht(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new ci,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function An(p,y,A,C,U,$,G){for(p=p==null?0:p[y+0],y=0;y<G;++y)U[$+y]=p+A[C+y]&255,p=U[$+y]}function ur(p,y,A,C,U,$,G){var Z;if(p==null)An(null,null,A,C,U,$,G);else for(Z=0;Z<G;++Z)U[$+Z]=p[y+Z]+A[C+Z]&255}function tr(p,y,A,C,U,$,G){if(p==null)An(null,null,A,C,U,$,G);else{var Z,ne=p[y+0],oe=ne,ge=ne;for(Z=0;Z<G;++Z)oe=ge+(ne=p[y+Z])-oe,ge=A[C+Z]+(-256&oe?0>oe?0:255:oe)&255,oe=ne,U[$+Z]=ge}}function m(p,y,A,C){var U=y.width,$=y.o;if(e(p!=null&&y!=null),0>A||0>=C||A+C>$)return null;if(!p.Cc){if(p.ga==null){var G;if(p.ga=new Ht,(G=p.ga==null)||(G=y.width*y.o,e(p.Gb.length==0),p.Gb=o(G),p.Uc=0,p.Gb==null?G=0:(p.mb=p.Gb,p.nb=p.Uc,p.rc=null,G=1),G=!G),!G){G=p.ga;var Z=p.Fa,ne=p.P,oe=p.qc,ge=p.mb,Pe=p.nb,ae=ne+1,xe=oe-1,Re=G.l;if(e(Z!=null&&ge!=null&&y!=null),oo[0]=null,oo[1]=An,oo[2]=ur,oo[3]=tr,G.ca=ge,G.tb=Pe,G.c=y.width,G.i=y.height,e(0<G.c&&0<G.i),1>=oe)y=0;else if(G.$a=3&Z[ne+0],G.Z=Z[ne+0]>>2&3,G.Lc=Z[ne+0]>>4&3,ne=Z[ne+0]>>6&3,0>G.$a||1<G.$a||4<=G.Z||1<G.Lc||ne)y=0;else if(Re.put=Ge,Re.ac=lt,Re.bc=Ft,Re.ma=G,Re.width=y.width,Re.height=y.height,Re.Da=y.Da,Re.v=y.v,Re.va=y.va,Re.j=y.j,Re.o=y.o,G.$a)e:{e(G.$a==1),y=Oa();t:for(;;){if(y==null){y=0;break e}if(e(G!=null),G.mc=y,y.c=G.c,y.i=G.i,y.l=G.l,y.l.ma=G,y.l.width=G.c,y.l.height=G.i,y.a=0,Ie(y.m,Z,ae,xe),!$i(G.c,G.i,1,y,null)||(y.ab==1&&y.gc[0].hc==3&&bn(y.s)?(G.ic=1,Z=y.c*y.i,y.Ta=null,y.Ua=0,y.V=o(Z),y.Ba=0,y.V==null?(y.a=1,y=0):y=1):(G.ic=0,y=ui(y,G.c)),!y))break t;y=1;break e}G.mc=null,y=0}else y=xe>=G.c*G.i;G=!y}if(G)return null;p.ga.Lc!=1?p.Ga=0:C=$-A}e(p.ga!=null),e(A+C<=$);e:{if(y=(Z=p.ga).c,$=Z.l.o,Z.$a==0){if(ae=p.rc,xe=p.Vc,Re=p.Fa,ne=p.P+1+A*y,oe=p.mb,ge=p.nb+A*y,e(ne<=p.P+p.qc),Z.Z!=0)for(e(oo[Z.Z]!=null),G=0;G<C;++G)oo[Z.Z](ae,xe,Re,ne,oe,ge,y),ae=oe,xe=ge,ge+=y,ne+=y;else for(G=0;G<C;++G)r(oe,ge,Re,ne,y),ae=oe,xe=ge,ge+=y,ne+=y;p.rc=ae,p.Vc=xe}else{if(e(Z.mc!=null),y=A+C,e((G=Z.mc)!=null),e(y<=G.i),G.C>=y)y=1;else if(Z.ic||Be(),Z.ic){Z=G.V,ae=G.Ba,xe=G.c;var Ye=G.i,Le=(Re=1,ne=G.$/xe,oe=G.$%xe,ge=G.m,Pe=G.s,G.$),He=xe*Ye,et=xe*y,ct=Pe.wc,at=Le<et?en(Pe,oe,ne):null;e(Le<=He),e(y<=Ye),e(bn(Pe));t:for(;;){for(;!ge.h&&Le<et;){if(oe&ct||(at=en(Pe,oe,ne)),e(at!=null),ve(ge),256>(Ye=Ze(at.G[0],at.H[0],ge)))Z[ae+Le]=Ye,++Le,++oe>=xe&&(oe=0,++ne<=y&&!(ne%16)&&_r(G,ne));else{if(!(280>Ye)){Re=0;break t}Ye=Je(Ye-256,ge);var kt,St=Ze(at.G[4],at.H[4],ge);if(ve(ge),!(Le>=(St=We(xe,St=Je(St,ge)))&&He-Le>=Ye)){Re=0;break t}for(kt=0;kt<Ye;++kt)Z[ae+Le+kt]=Z[ae+Le+kt-St];for(Le+=Ye,oe+=Ye;oe>=xe;)oe-=xe,++ne<=y&&!(ne%16)&&_r(G,ne);Le<et&&oe&ct&&(at=en(Pe,oe,ne))}e(ge.h==ue(ge))}_r(G,ne>y?y:ne);break t}!Re||ge.h&&Le<He?(Re=0,G.a=ge.h?5:3):G.$=Le,y=Re}else y=li(G,G.V,G.Ba,G.c,G.i,y,Sa);if(!y){C=0;break e}}A+C>=$&&(p.Cc=1),C=1}if(!C)return null;if(p.Cc&&((C=p.ga)!=null&&(C.mc=null),p.ga=null,0<p.Ga))return alert("todo:WebPDequantizeLevels"),null}return p.nb+A*U}function E(p,y,A,C,U,$){for(;0<U--;){var G,Z=p,ne=y+(A?1:0),oe=p,ge=y+(A?0:3);for(G=0;G<C;++G){var Pe=oe[ge+4*G];Pe!=255&&(Pe*=32897,Z[ne+4*G+0]=Z[ne+4*G+0]*Pe>>23,Z[ne+4*G+1]=Z[ne+4*G+1]*Pe>>23,Z[ne+4*G+2]=Z[ne+4*G+2]*Pe>>23)}y+=$}}function k(p,y,A,C,U){for(;0<C--;){var $;for($=0;$<A;++$){var G=p[y+2*$+0],Z=15&(oe=p[y+2*$+1]),ne=4369*Z,oe=(240&oe|oe>>4)*ne>>16;p[y+2*$+0]=(240&G|G>>4)*ne>>16&240|(15&G|G<<4)*ne>>16>>4&15,p[y+2*$+1]=240&oe|Z}y+=U}}function ee(p,y,A,C,U,$,G,Z){var ne,oe,ge=255;for(oe=0;oe<U;++oe){for(ne=0;ne<C;++ne){var Pe=p[y+ne];$[G+4*ne]=Pe,ge&=Pe}y+=A,G+=Z}return ge!=255}function Ne(p,y,A,C,U){var $;for($=0;$<U;++$)A[C+$]=p[y+$]>>8}function Be(){fl=E,za=k,Uu=ee,Ia=Ne}function dt(p,y,A){L[p]=function(C,U,$,G,Z,ne,oe,ge,Pe,ae,xe,Re,Ye,Le,He,et,ct){var at,kt=ct-1>>1,St=Z[ne+0]|oe[ge+0]<<16,un=Pe[ae+0]|xe[Re+0]<<16;e(C!=null);var Dt=3*St+un+131074>>2;for(y(C[U+0],255&Dt,Dt>>16,Ye,Le),$!=null&&(Dt=3*un+St+131074>>2,y($[G+0],255&Dt,Dt>>16,He,et)),at=1;at<=kt;++at){var En=Z[ne+at]|oe[ge+at]<<16,yr=Pe[ae+at]|xe[Re+at]<<16,dn=St+En+un+yr+524296,At=dn+2*(En+un)>>3;Dt=At+St>>1,St=(dn=dn+2*(St+yr)>>3)+En>>1,y(C[U+2*at-1],255&Dt,Dt>>16,Ye,Le+(2*at-1)*A),y(C[U+2*at-0],255&St,St>>16,Ye,Le+(2*at-0)*A),$!=null&&(Dt=dn+un>>1,St=At+yr>>1,y($[G+2*at-1],255&Dt,Dt>>16,He,et+(2*at-1)*A),y($[G+2*at+0],255&St,St>>16,He,et+(2*at+0)*A)),St=En,un=yr}1&ct||(Dt=3*St+un+131074>>2,y(C[U+ct-1],255&Dt,Dt>>16,Ye,Le+(ct-1)*A),$!=null&&(Dt=3*un+St+131074>>2,y($[G+ct-1],255&Dt,Dt>>16,He,et+(ct-1)*A)))}}function ln(){Ci[Ec]=pl,Ci[Vi]=Xl,Ci[Tc]=Gf,Ci[qa]=Ic,Ci[$u]=ko,Ci[Wl]=js,Ci[Io]=Oo,Ci[Gu]=Xl,Ci[Nc]=Ic,Ci[Kl]=ko,Ci[Cc]=js}function cr(p){return p&-16384?0>p?0:255:p>>Lc}function _n(p,y){return cr((19077*p>>8)+(26149*y>>8)-14234)}function Gn(p,y,A){return cr((19077*p>>8)-(6419*y>>8)-(13320*A>>8)+8708)}function hi(p,y){return cr((19077*p>>8)+(33050*y>>8)-17685)}function Si(p,y,A,C,U){C[U+0]=_n(p,A),C[U+1]=Gn(p,y,A),C[U+2]=hi(p,y)}function rr(p,y,A,C,U){C[U+0]=hi(p,y),C[U+1]=Gn(p,y,A),C[U+2]=_n(p,A)}function Ai(p,y,A,C,U){var $=Gn(p,y,A);y=$<<3&224|hi(p,y)>>3,C[U+0]=248&_n(p,A)|$>>5,C[U+1]=y}function Ca(p,y,A,C,U){var $=240&hi(p,y)|15;C[U+0]=240&_n(p,A)|Gn(p,y,A)>>4,C[U+1]=$}function Ds(p,y,A,C,U){C[U+0]=255,Si(p,y,A,C,U+1)}function Rs(p,y,A,C,U){rr(p,y,A,C,U),C[U+3]=255}function Ji(p,y,A,C,U){Si(p,y,A,C,U),C[U+3]=255}function Zs(p,y,A){L[p]=function(C,U,$,G,Z,ne,oe,ge,Pe){for(var ae=ge+(-2&Pe)*A;ge!=ae;)y(C[U+0],$[G+0],Z[ne+0],oe,ge),y(C[U+1],$[G+0],Z[ne+0],oe,ge+A),U+=2,++G,++ne,ge+=2*A;1&Pe&&y(C[U+0],$[G+0],Z[ne+0],oe,ge)}}function ql(p,y,A){return A==0?p==0?y==0?6:5:y==0?4:0:A}function Fu(p,y,A,C,U){switch(p>>>30){case 3:ao(y,A,C,U,0);break;case 2:ji(y,A,C,U);break;case 1:qn(y,A,C,U)}}function Da(p,y){var A,C,U=y.M,$=y.Nb,G=p.oc,Z=p.pc+40,ne=p.oc,oe=p.pc+584,ge=p.oc,Pe=p.pc+600;for(A=0;16>A;++A)G[Z+32*A-1]=129;for(A=0;8>A;++A)ne[oe+32*A-1]=129,ge[Pe+32*A-1]=129;for(0<U?G[Z-1-32]=ne[oe-1-32]=ge[Pe-1-32]=129:(s(G,Z-32-1,127,21),s(ne,oe-32-1,127,9),s(ge,Pe-32-1,127,9)),C=0;C<p.za;++C){var ae=y.ya[y.aa+C];if(0<C){for(A=-1;16>A;++A)r(G,Z+32*A-4,G,Z+32*A+12,4);for(A=-1;8>A;++A)r(ne,oe+32*A-4,ne,oe+32*A+4,4),r(ge,Pe+32*A-4,ge,Pe+32*A+4,4)}var xe=p.Gd,Re=p.Hd+C,Ye=ae.ad,Le=ae.Hc;if(0<U&&(r(G,Z-32,xe[Re].y,0,16),r(ne,oe-32,xe[Re].f,0,8),r(ge,Pe-32,xe[Re].ea,0,8)),ae.Za){var He=G,et=Z-32+16;for(0<U&&(C>=p.za-1?s(He,et,xe[Re].y[15],4):r(He,et,xe[Re+1].y,0,4)),A=0;4>A;A++)He[et+128+A]=He[et+256+A]=He[et+384+A]=He[et+0+A];for(A=0;16>A;++A,Le<<=2)He=G,et=Z+Ur[A],Lr[ae.Ob[A]](He,et),Fu(Le,Ye,16*+A,He,et)}else if(He=ql(C,U,ae.Ob[0]),ea[He](G,Z),Le!=0)for(A=0;16>A;++A,Le<<=2)Fu(Le,Ye,16*+A,G,Z+Ur[A]);for(A=ae.Gc,He=ql(C,U,ae.Dd),ps[He](ne,oe),ps[He](ge,Pe),Le=Ye,He=ne,et=oe,255&(ae=0|A)&&(170&ae?Ua(Le,256,He,et):Pn(Le,256,He,et)),ae=ge,Le=Pe,255&(A>>=8)&&(170&A?Ua(Ye,320,ae,Le):Pn(Ye,320,ae,Le)),U<p.Ub-1&&(r(xe[Re].y,0,G,Z+480,16),r(xe[Re].f,0,ne,oe+224,8),r(xe[Re].ea,0,ge,Pe+224,8)),A=8*$*p.B,xe=p.sa,Re=p.ta+16*C+16*$*p.R,Ye=p.qa,ae=p.ra+8*C+A,Le=p.Ha,He=p.Ia+8*C+A,A=0;16>A;++A)r(xe,Re+A*p.R,G,Z+32*A,16);for(A=0;8>A;++A)r(Ye,ae+A*p.B,ne,oe+32*A,8),r(Le,He+A*p.B,ge,Pe+32*A,8)}}function fs(p,y,A,C,U,$,G,Z,ne){var oe=[0],ge=[0],Pe=0,ae=ne!=null?ne.kd:0,xe=ne??new st;if(p==null||12>A)return 7;xe.data=p,xe.w=y,xe.ha=A,y=[y],A=[A],xe.gb=[xe.gb];e:{var Re=y,Ye=A,Le=xe.gb;if(e(p!=null),e(Ye!=null),e(Le!=null),Le[0]=0,12<=Ye[0]&&!t(p,Re[0],"RIFF")){if(t(p,Re[0]+8,"WEBP")){Le=3;break e}var He=_t(p,Re[0]+4);if(12>He||4294967286<He){Le=3;break e}if(ae&&He>Ye[0]-8){Le=7;break e}Le[0]=He,Re[0]+=12,Ye[0]-=12}Le=0}if(Le!=0)return Le;for(He=0<xe.gb[0],A=A[0];;){e:{var et=p;Ye=y,Le=A;var ct=oe,at=ge,kt=Re=[0];if((Dt=Pe=[Pe])[0]=0,8>Le[0])Le=7;else{if(!t(et,Ye[0],"VP8X")){if(_t(et,Ye[0]+4)!=10){Le=3;break e}if(18>Le[0]){Le=7;break e}var St=_t(et,Ye[0]+8),un=1+mt(et,Ye[0]+12);if(2147483648<=un*(et=1+mt(et,Ye[0]+15))){Le=3;break e}kt!=null&&(kt[0]=St),ct!=null&&(ct[0]=un),at!=null&&(at[0]=et),Ye[0]+=18,Le[0]-=18,Dt[0]=1}Le=0}}if(Pe=Pe[0],Re=Re[0],Le!=0)return Le;if(Ye=!!(2&Re),!He&&Pe)return 3;if($!=null&&($[0]=!!(16&Re)),G!=null&&(G[0]=Ye),Z!=null&&(Z[0]=0),G=oe[0],Re=ge[0],Pe&&Ye&&ne==null){Le=0;break}if(4>A){Le=7;break}if(He&&Pe||!He&&!Pe&&!t(p,y[0],"ALPH")){A=[A],xe.na=[xe.na],xe.P=[xe.P],xe.Sa=[xe.Sa];e:{St=p,Le=y,He=A;var Dt=xe.gb;ct=xe.na,at=xe.P,kt=xe.Sa,un=22,e(St!=null),e(He!=null),et=Le[0];var En=He[0];for(e(ct!=null),e(kt!=null),ct[0]=null,at[0]=null,kt[0]=0;;){if(Le[0]=et,He[0]=En,8>En){Le=7;break e}var yr=_t(St,et+4);if(4294967286<yr){Le=3;break e}var dn=8+yr+1&-2;if(un+=dn,0<Dt&&un>Dt){Le=3;break e}if(!t(St,et,"VP8 ")||!t(St,et,"VP8L")){Le=0;break e}if(En[0]<dn){Le=7;break e}t(St,et,"ALPH")||(ct[0]=St,at[0]=et+8,kt[0]=yr),et+=dn,En-=dn}}if(A=A[0],xe.na=xe.na[0],xe.P=xe.P[0],xe.Sa=xe.Sa[0],Le!=0)break}A=[A],xe.Ja=[xe.Ja],xe.xa=[xe.xa];e:if(Dt=p,Le=y,He=A,ct=xe.gb[0],at=xe.Ja,kt=xe.xa,St=Le[0],et=!t(Dt,St,"VP8 "),un=!t(Dt,St,"VP8L"),e(Dt!=null),e(He!=null),e(at!=null),e(kt!=null),8>He[0])Le=7;else{if(et||un){if(Dt=_t(Dt,St+4),12<=ct&&Dt>ct-12){Le=3;break e}if(ae&&Dt>He[0]-8){Le=7;break e}at[0]=Dt,Le[0]+=8,He[0]-=8,kt[0]=un}else kt[0]=5<=He[0]&&Dt[St+0]==47&&!(Dt[St+4]>>5),at[0]=He[0];Le=0}if(A=A[0],xe.Ja=xe.Ja[0],xe.xa=xe.xa[0],y=y[0],Le!=0)break;if(4294967286<xe.Ja)return 3;if(Z==null||Ye||(Z[0]=xe.xa?2:1),G=[G],Re=[Re],xe.xa){if(5>A){Le=7;break}Z=G,ae=Re,Ye=$,p==null||5>A?p=0:5<=A&&p[y+0]==47&&!(p[y+4]>>5)?(He=[0],Dt=[0],ct=[0],Ie(at=new K,p,y,A),Ae(at,He,Dt,ct)?(Z!=null&&(Z[0]=He[0]),ae!=null&&(ae[0]=Dt[0]),Ye!=null&&(Ye[0]=ct[0]),p=1):p=0):p=0}else{if(10>A){Le=7;break}Z=Re,p==null||10>A||!ss(p,y+3,A-3)?p=0:(ae=p[y+0]|p[y+1]<<8|p[y+2]<<16,Ye=16383&(p[y+7]<<8|p[y+6]),p=16383&(p[y+9]<<8|p[y+8]),1&ae||3<(ae>>1&7)||!(ae>>4&1)||ae>>5>=xe.Ja||!Ye||!p?p=0:(G&&(G[0]=Ye),Z&&(Z[0]=p),p=1))}if(!p||(G=G[0],Re=Re[0],Pe&&(oe[0]!=G||ge[0]!=Re)))return 3;ne!=null&&(ne[0]=xe,ne.offset=y-ne.w,e(4294967286>y-ne.w),e(ne.offset==ne.ha-A));break}return Le==0||Le==7&&Pe&&ne==null?($!=null&&($[0]|=xe.na!=null&&0<xe.na.length),C!=null&&(C[0]=G),U!=null&&(U[0]=Re),0):Le}function eo(p,y,A){var C=y.width,U=y.height,$=0,G=0,Z=C,ne=U;if(y.Da=p!=null&&0<p.Da,y.Da&&(Z=p.cd,ne=p.bd,$=p.v,G=p.j,11>A||($&=-2,G&=-2),0>$||0>G||0>=Z||0>=ne||$+Z>C||G+ne>U))return 0;if(y.v=$,y.j=G,y.va=$+Z,y.o=G+ne,y.U=Z,y.T=ne,y.da=p!=null&&0<p.da,y.da){if(!Fe(Z,ne,A=[p.ib],$=[p.hb]))return 0;y.ib=A[0],y.hb=$[0]}return y.ob=p!=null&&p.ob,y.Kb=p==null||!p.Sd,y.da&&(y.ob=y.ib<3*C/4&&y.hb<3*U/4,y.Kb=0),1}function Vu(p){if(p==null)return 2;if(11>p.S){var y=p.f.RGBA;y.fb+=(p.height-1)*y.A,y.A=-y.A}else y=p.f.kb,p=p.height,y.O+=(p-1)*y.fa,y.fa=-y.fa,y.N+=(p-1>>1)*y.Ab,y.Ab=-y.Ab,y.W+=(p-1>>1)*y.Db,y.Db=-y.Db,y.F!=null&&(y.J+=(p-1)*y.lb,y.lb=-y.lb);return 0}function hs(p,y,A,C){if(C==null||0>=p||0>=y)return 2;if(A!=null){if(A.Da){var U=A.cd,$=A.bd,G=-2&A.v,Z=-2&A.j;if(0>G||0>Z||0>=U||0>=$||G+U>p||Z+$>y)return 2;p=U,y=$}if(A.da){if(!Fe(p,y,U=[A.ib],$=[A.hb]))return 2;p=U[0],y=$[0]}}C.width=p,C.height=y;e:{var ne=C.width,oe=C.height;if(p=C.S,0>=ne||0>=oe||!(p>=Ec&&13>p))p=2;else{if(0>=C.Rd&&C.sd==null){G=$=U=y=0;var ge=(Z=ne*kc[p])*oe;if(11>p||($=(oe+1)/2*(y=(ne+1)/2),p==12&&(G=(U=ne)*oe)),(oe=o(ge+2*$+G))==null){p=1;break e}C.sd=oe,11>p?((ne=C.f.RGBA).eb=oe,ne.fb=0,ne.A=Z,ne.size=ge):((ne=C.f.kb).y=oe,ne.O=0,ne.fa=Z,ne.Fd=ge,ne.f=oe,ne.N=0+ge,ne.Ab=y,ne.Cd=$,ne.ea=oe,ne.W=0+ge+$,ne.Db=y,ne.Ed=$,p==12&&(ne.F=oe,ne.J=0+ge+2*$),ne.Tc=G,ne.lb=U)}if(y=1,U=C.S,$=C.width,G=C.height,U>=Ec&&13>U)if(11>U)p=C.f.RGBA,y&=(Z=Math.abs(p.A))*(G-1)+$<=p.size,y&=Z>=$*kc[U],y&=p.eb!=null;else{p=C.f.kb,Z=($+1)/2,ge=(G+1)/2,ne=Math.abs(p.fa),oe=Math.abs(p.Ab);var Pe=Math.abs(p.Db),ae=Math.abs(p.lb),xe=ae*(G-1)+$;y&=ne*(G-1)+$<=p.Fd,y&=oe*(ge-1)+Z<=p.Cd,y=(y&=Pe*(ge-1)+Z<=p.Ed)&ne>=$&oe>=Z&Pe>=Z,y&=p.y!=null,y&=p.f!=null,y&=p.ea!=null,U==12&&(y&=ae>=$,y&=xe<=p.Tc,y&=p.F!=null)}else y=0;p=y?0:2}}return p!=0||A!=null&&A.fd&&(p=Vu(C)),p}var Ro=64,fa=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Zi=24,Is=32,Ls=8,to=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];ht("Predictor0","PredictorAdd0"),L.Predictor0=function(){return 4278190080},L.Predictor1=function(p){return p},L.Predictor2=function(p,y,A){return y[A+0]},L.Predictor3=function(p,y,A){return y[A+1]},L.Predictor4=function(p,y,A){return y[A-1]},L.Predictor5=function(p,y,A){return xt(xt(p,y[A+1]),y[A+0])},L.Predictor6=function(p,y,A){return xt(p,y[A-1])},L.Predictor7=function(p,y,A){return xt(p,y[A+0])},L.Predictor8=function(p,y,A){return xt(y[A-1],y[A+0])},L.Predictor9=function(p,y,A){return xt(y[A+0],y[A+1])},L.Predictor10=function(p,y,A){return xt(xt(p,y[A-1]),xt(y[A+0],y[A+1]))},L.Predictor11=function(p,y,A){var C=y[A+0];return 0>=$t(C>>24&255,p>>24&255,(y=y[A-1])>>24&255)+$t(C>>16&255,p>>16&255,y>>16&255)+$t(C>>8&255,p>>8&255,y>>8&255)+$t(255&C,255&p,255&y)?C:p},L.Predictor12=function(p,y,A){var C=y[A+0];return(Ut((p>>24&255)+(C>>24&255)-((y=y[A-1])>>24&255))<<24|Ut((p>>16&255)+(C>>16&255)-(y>>16&255))<<16|Ut((p>>8&255)+(C>>8&255)-(y>>8&255))<<8|Ut((255&p)+(255&C)-(255&y)))>>>0},L.Predictor13=function(p,y,A){var C=y[A-1];return(Gt((p=xt(p,y[A+0]))>>24&255,C>>24&255)<<24|Gt(p>>16&255,C>>16&255)<<16|Gt(p>>8&255,C>>8&255)<<8|Gt(255&p,255&C))>>>0};var Hl=L.PredictorAdd0;L.PredictorAdd1=fn,ht("Predictor2","PredictorAdd2"),ht("Predictor3","PredictorAdd3"),ht("Predictor4","PredictorAdd4"),ht("Predictor5","PredictorAdd5"),ht("Predictor6","PredictorAdd6"),ht("Predictor7","PredictorAdd7"),ht("Predictor8","PredictorAdd8"),ht("Predictor9","PredictorAdd9"),ht("Predictor10","PredictorAdd10"),ht("Predictor11","PredictorAdd11"),ht("Predictor12","PredictorAdd12"),ht("Predictor13","PredictorAdd13");var $l=L.PredictorAdd2;Ct("ColorIndexInverseTransform","MapARGB","32b",function(p){return p>>8&255},function(p){return p}),Ct("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(p){return p},function(p){return p>>8&255});var Vr,xc=L.ColorIndexInverseTransform,Ms=L.MapARGB,ks=L.VP8LColorIndexInverseTransformAlpha,Ei=L.MapAlpha,no=L.VP8LPredictorsAdd=[];no.length=16,(L.VP8LPredictors=[]).length=16,(L.VP8LPredictorsAdd_C=[]).length=16,(L.VP8LPredictors_C=[]).length=16;var Gl,Yl,ro,io,Os,ul,Ra,ao,ji,Ua,qn,Pn,fr,Br,Ps,ds,cl,Bu,Uf,hd,dd,pd,zf,qf,fl,za,Uu,Ia,hl=o(511),Sc=o(2041),zu=o(225),qu=o(767),Ac=0,so=Sc,Hu=zu,Fi=qu,Ti=hl,Ec=0,Vi=1,Tc=2,qa=3,$u=4,Wl=5,Io=6,Gu=7,Nc=8,Kl=9,Cc=10,Ha=[2,3,7],Ql=[3,3,11],dl=[280,256,256,256,40],Dc=[0,1,1,1,0],Yu=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],$a=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Ga=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Lo=8,Ya=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Wa=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],La=null,md=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Hf=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Rc=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],gd=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Ni=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],vr=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Nn=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],ea=[],Lr=[],ps=[],Mo=1,$f=2,oo=[],Ci=[];dt("UpsampleRgbLinePair",Si,3),dt("UpsampleBgrLinePair",rr,3),dt("UpsampleRgbaLinePair",Ji,4),dt("UpsampleBgraLinePair",Rs,4),dt("UpsampleArgbLinePair",Ds,4),dt("UpsampleRgba4444LinePair",Ca,2),dt("UpsampleRgb565LinePair",Ai,2);var pl=L.UpsampleRgbLinePair,Gf=L.UpsampleBgrLinePair,Xl=L.UpsampleRgbaLinePair,Ic=L.UpsampleBgraLinePair,ko=L.UpsampleArgbLinePair,js=L.UpsampleRgba4444LinePair,Oo=L.UpsampleRgb565LinePair,Ka=16,Jl=1<<Ka-1,ml=-227,Po=482,Lc=6,jo=0,Di=o(256),Mc=o(256),vd=o(256),Lm=o(256),Mm=o(Po-ml),km=o(Po-ml);Zs("YuvToRgbRow",Si,3),Zs("YuvToBgrRow",rr,3),Zs("YuvToRgbaRow",Ji,4),Zs("YuvToBgraRow",Rs,4),Zs("YuvToArgbRow",Ds,4),Zs("YuvToRgba4444Row",Ca,2),Zs("YuvToRgb565Row",Ai,2);var Ur=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Zl=[0,2,8],Wu=[8,7,6,4,4,2,2,2,1,1,1,1],Ku=1;this.WebPDecodeRGBA=function(p,y,A,C,U){var $=Vi,G=new Ke,Z=new Pt;G.ba=Z,Z.S=$,Z.width=[Z.width],Z.height=[Z.height];var ne=Z.width,oe=Z.height,ge=new Rt;if(ge==null||p==null)var Pe=2;else e(ge!=null),Pe=fs(p,y,A,ge.width,ge.height,ge.Pd,ge.Qd,ge.format,null);if(Pe!=0?ne=0:(ne!=null&&(ne[0]=ge.width[0]),oe!=null&&(oe[0]=ge.height[0]),ne=1),ne){Z.width=Z.width[0],Z.height=Z.height[0],C!=null&&(C[0]=Z.width),U!=null&&(U[0]=Z.height);e:{if(C=new ci,(U=new st).data=p,U.w=y,U.ha=A,U.kd=1,y=[0],e(U!=null),((p=fs(U.data,U.w,U.ha,null,null,null,y,null,U))==0||p==7)&&y[0]&&(p=4),(y=p)==0){if(e(G!=null),C.data=U.data,C.w=U.w+U.offset,C.ha=U.ha-U.offset,C.put=Ge,C.ac=lt,C.bc=Ft,C.ma=G,U.xa){if((p=Oa())==null){G=1;break e}if((function(ae,xe){var Re=[0],Ye=[0],Le=[0];t:for(;;){if(ae==null)return 0;if(xe==null)return ae.a=2,0;if(ae.l=xe,ae.a=0,Ie(ae.m,xe.data,xe.w,xe.ha),!Ae(ae.m,Re,Ye,Le)){ae.a=3;break t}if(ae.xb=$f,xe.width=Re[0],xe.height=Ye[0],!$i(Re[0],Ye[0],1,ae,null))break t;return 1}return e(ae.a!=0),0})(p,C)){if(C=(y=hs(C.width,C.height,G.Oa,G.ba))==0){t:{C=p;n:for(;;){if(C==null){C=0;break t}if(e(C.s.yc!=null),e(C.s.Ya!=null),e(0<C.s.Wb),e((A=C.l)!=null),e((U=A.ma)!=null),C.xb!=0){if(C.ca=U.ba,C.tb=U.tb,e(C.ca!=null),!eo(U.Oa,A,qa)){C.a=2;break n}if(!ui(C,A.width)||A.da)break n;if((A.da||zt(C.ca.S))&&Be(),11>C.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),C.ca.f.kb.F!=null&&Be()),C.Pb&&0<C.s.ua&&C.s.vb.X==null&&!q(C.s.vb,C.s.Wa.Xa)){C.a=1;break n}C.xb=0}if(!li(C,C.V,C.Ba,C.c,C.i,A.o,lr))break n;U.Dc=C.Ma,C=1;break t}e(C.a!=0),C=0}C=!C}C&&(y=p.a)}else y=p.a}else{if((p=new Rr)==null){G=1;break e}if(p.Fa=U.na,p.P=U.P,p.qc=U.Sa,ua(p,C)){if((y=hs(C.width,C.height,G.Oa,G.ba))==0){if(p.Aa=0,A=G.Oa,e((U=p)!=null),A!=null){if(0<(ne=0>(ne=A.Md)?0:100<ne?255:255*ne/100)){for(oe=ge=0;4>oe;++oe)12>(Pe=U.pb[oe]).lc&&(Pe.ia=ne*Wu[0>Pe.lc?0:Pe.lc]>>3),ge|=Pe.ia;ge&&(alert("todo:VP8InitRandom"),U.ia=1)}U.Ga=A.Id,100<U.Ga?U.Ga=100:0>U.Ga&&(U.Ga=0)}(function(ae,xe){if(ae==null)return 0;if(xe==null)return Sn(ae,2,"NULL VP8Io parameter in VP8Decode().");if(!ae.cb&&!ua(ae,xe))return 0;if(e(ae.cb),xe.ac==null||xe.ac(xe)){xe.ob&&(ae.L=0);var Re=Zl[ae.L];if(ae.L==2?(ae.yb=0,ae.zb=0):(ae.yb=xe.v-Re>>4,ae.zb=xe.j-Re>>4,0>ae.yb&&(ae.yb=0),0>ae.zb&&(ae.zb=0)),ae.Va=xe.o+15+Re>>4,ae.Hb=xe.va+15+Re>>4,ae.Hb>ae.za&&(ae.Hb=ae.za),ae.Va>ae.Ub&&(ae.Va=ae.Ub),0<ae.L){var Ye=ae.ed;for(Re=0;4>Re;++Re){var Le;if(ae.Qa.Cb){var He=ae.Qa.Lb[Re];ae.Qa.Fb||(He+=Ye.Tb)}else He=Ye.Tb;for(Le=0;1>=Le;++Le){var et=ae.gd[Re][Le],ct=He;if(Ye.Pc&&(ct+=Ye.vd[0],Le&&(ct+=Ye.od[0])),0<(ct=0>ct?0:63<ct?63:ct)){var at=ct;0<Ye.wb&&(at=4<Ye.wb?at>>2:at>>1)>9-Ye.wb&&(at=9-Ye.wb),1>at&&(at=1),et.dd=at,et.tc=2*ct+at,et.ld=40<=ct?2:15<=ct?1:0}else et.tc=0;et.La=Le}}}Re=0}else Sn(ae,6,"Frame setup failed"),Re=ae.a;if(Re=Re==0){if(Re){ae.$c=0,0<ae.Aa||(ae.Ic=Ku);t:{Re=ae.Ic,Ye=4*(at=ae.za);var kt=32*at,St=at+1,un=0<ae.L?at*(0<ae.Aa?2:1):0,Dt=(ae.Aa==2?2:1)*at;if((et=Ye+832+(Le=3*(16*Re+Zl[ae.L])/2*kt)+(He=ae.Fa!=null&&0<ae.Fa.length?ae.Kc.c*ae.Kc.i:0))!=et)Re=0;else{if(et>ae.Vb){if(ae.Vb=0,ae.Ec=o(et),ae.Fc=0,ae.Ec==null){Re=Sn(ae,1,"no memory during frame initialization.");break t}ae.Vb=et}et=ae.Ec,ct=ae.Fc,ae.Ac=et,ae.Bc=ct,ct+=Ye,ae.Gd=u(kt,Ao),ae.Hd=0,ae.rb=u(St+1,la),ae.sb=1,ae.wa=un?u(un,ki):null,ae.Y=0,ae.D.Nb=0,ae.D.wa=ae.wa,ae.D.Y=ae.Y,0<ae.Aa&&(ae.D.Y+=at),e(!0),ae.oc=et,ae.pc=ct,ct+=832,ae.ya=u(Dt,Ys),ae.aa=0,ae.D.ya=ae.ya,ae.D.aa=ae.aa,ae.Aa==2&&(ae.D.aa+=at),ae.R=16*at,ae.B=8*at,at=(kt=Zl[ae.L])*ae.R,kt=kt/2*ae.B,ae.sa=et,ae.ta=ct+at,ae.qa=ae.sa,ae.ra=ae.ta+16*Re*ae.R+kt,ae.Ha=ae.qa,ae.Ia=ae.ra+8*Re*ae.B+kt,ae.$c=0,ct+=Le,ae.mb=He?et:null,ae.nb=He?ct:null,e(ct+He<=ae.Fc+ae.Vb),As(ae),s(ae.Ac,ae.Bc,0,Ye),Re=1}}if(Re){if(xe.ka=0,xe.y=ae.sa,xe.O=ae.ta,xe.f=ae.qa,xe.N=ae.ra,xe.ea=ae.Ha,xe.Vd=ae.Ia,xe.fa=ae.R,xe.Rc=ae.B,xe.F=null,xe.J=0,!Ac){for(Re=-255;255>=Re;++Re)hl[255+Re]=0>Re?-Re:Re;for(Re=-1020;1020>=Re;++Re)Sc[1020+Re]=-128>Re?-128:127<Re?127:Re;for(Re=-112;112>=Re;++Re)zu[112+Re]=-16>Re?-16:15<Re?15:Re;for(Re=-255;510>=Re;++Re)qu[255+Re]=0>Re?0:255<Re?255:Re;Ac=1}Ra=ei,ao=rl,Ua=xi,qn=il,Pn=os,ji=zl,fr=ll,Br=Na,Ps=B,ds=se,cl=Do,Bu=x,Uf=pe,hd=Se,dd=Va,pd=ca,zf=Js,qf=Co,Lr[0]=Ns,Lr[1]=al,Lr[2]=Ks,Lr[3]=No,Lr[4]=ti,Lr[5]=Qs,Lr[6]=$r,Lr[7]=$n,Lr[8]=Xs,Lr[9]=Wi,ea[0]=Ea,ea[1]=Eo,ea[2]=To,ea[3]=ls,ea[4]=us,ea[5]=Pi,ea[6]=Ts,ps[0]=cs,ps[1]=sl,ps[2]=Ta,ps[3]=ol,ps[4]=Fr,ps[5]=Qi,ps[6]=Pa,Re=1}else Re=0}Re&&(Re=(function(En,yr){for(En.M=0;En.M<En.Va;++En.M){var dn,At=En.Jc[En.M&En.Xb],gt=En.m,Ar=En;for(dn=0;dn<Ar.za;++dn){var nn=gt,yn=Ar,Xn=yn.Ac,ni=yn.Bc+4*dn,Ri=yn.zc,hr=yn.ya[yn.aa+dn];if(yn.Qa.Bb?hr.$b=$e(nn,yn.Pa.jb[0])?2+$e(nn,yn.Pa.jb[2]):$e(nn,yn.Pa.jb[1]):hr.$b=0,yn.kc&&(hr.Ad=$e(nn,yn.Bd)),hr.Za=!$e(nn,145)+0,hr.Za){var Gr=hr.Ob,Bi=0;for(yn=0;4>yn;++yn){var Yr,xn=Ri[0+yn];for(Yr=0;4>Yr;++Yr){xn=Ni[Xn[ni+Yr]][xn];for(var Fn=Rc[$e(nn,xn[0])];0<Fn;)Fn=Rc[2*Fn+$e(nn,xn[Fn])];xn=-Fn,Xn[ni+Yr]=xn}r(Gr,Bi,Xn,ni,4),Bi+=4,Ri[0+yn]=xn}}else xn=$e(nn,156)?$e(nn,128)?1:3:$e(nn,163)?2:0,hr.Ob[0]=xn,s(Xn,ni,xn,4),s(Ri,0,xn,4);hr.Dd=$e(nn,142)?$e(nn,114)?$e(nn,183)?1:3:2:0}if(Ar.m.Ka)return Sn(En,7,"Premature end-of-partition0 encountered.");for(;En.ja<En.za;++En.ja){if(Ar=At,nn=(gt=En).rb[gt.sb-1],Xn=gt.rb[gt.sb+gt.ja],dn=gt.ya[gt.aa+gt.ja],ni=gt.kc?dn.Ad:0)nn.la=Xn.la=0,dn.Za||(nn.Na=Xn.Na=0),dn.Hc=0,dn.Gc=0,dn.ia=0;else{var Er,Hn;if(nn=Xn,Xn=Ar,ni=gt.Pa.Xc,Ri=gt.ya[gt.aa+gt.ja],hr=gt.pb[Ri.$b],yn=Ri.ad,Gr=0,Bi=gt.rb[gt.sb-1],xn=Yr=0,s(yn,Gr,0,384),Ri.Za)var ri=0,Tr=ni[3];else{Fn=o(16);var Vn=nn.Na+Bi.Na;if(Vn=La(Xn,ni[1],Vn,hr.Eb,0,Fn,0),nn.Na=Bi.Na=(0<Vn)+0,1<Vn)Ra(Fn,0,yn,Gr);else{var zr=Fn[0]+3>>3;for(Fn=0;256>Fn;Fn+=16)yn[Gr+Fn]=zr}ri=1,Tr=ni[0]}var Jn=15&nn.la,Wr=15&Bi.la;for(Fn=0;4>Fn;++Fn){var Kr=1&Wr;for(zr=Hn=0;4>zr;++zr)Jn=Jn>>1|(Kr=(Vn=La(Xn,Tr,Vn=Kr+(1&Jn),hr.Sc,ri,yn,Gr))>ri)<<7,Hn=Hn<<2|(3<Vn?3:1<Vn?2:yn[Gr+0]!=0),Gr+=16;Jn>>=4,Wr=Wr>>1|Kr<<7,Yr=(Yr<<8|Hn)>>>0}for(Tr=Jn,ri=Wr>>4,Er=0;4>Er;Er+=2){for(Hn=0,Jn=nn.la>>4+Er,Wr=Bi.la>>4+Er,Fn=0;2>Fn;++Fn){for(Kr=1&Wr,zr=0;2>zr;++zr)Vn=Kr+(1&Jn),Jn=Jn>>1|(Kr=0<(Vn=La(Xn,ni[2],Vn,hr.Qc,0,yn,Gr)))<<3,Hn=Hn<<2|(3<Vn?3:1<Vn?2:yn[Gr+0]!=0),Gr+=16;Jn>>=2,Wr=Wr>>1|Kr<<5}xn|=Hn<<4*Er,Tr|=Jn<<4<<Er,ri|=(240&Wr)<<Er}nn.la=Tr,Bi.la=ri,Ri.Hc=Yr,Ri.Gc=xn,Ri.ia=43690&xn?0:hr.ia,ni=!(Yr|xn)}if(0<gt.L&&(gt.wa[gt.Y+gt.ja]=gt.gd[dn.$b][dn.Za],gt.wa[gt.Y+gt.ja].La|=!ni),Ar.Ka)return Sn(En,7,"Premature end-of-file encountered.")}if(As(En),gt=yr,Ar=1,dn=(At=En).D,nn=0<At.L&&At.M>=At.zb&&At.M<=At.Va,At.Aa==0)t:{if(dn.M=At.M,dn.uc=nn,Da(At,dn),Ar=1,dn=(Hn=At.D).Nb,nn=(xn=Zl[At.L])*At.R,Xn=xn/2*At.B,Fn=16*dn*At.R,zr=8*dn*At.B,ni=At.sa,Ri=At.ta-nn+Fn,hr=At.qa,yn=At.ra-Xn+zr,Gr=At.Ha,Bi=At.Ia-Xn+zr,Wr=(Jn=Hn.M)==0,Yr=Jn>=At.Va-1,At.Aa==2&&Da(At,Hn),Hn.uc)for(Kr=(Vn=At).D.M,e(Vn.D.uc),Hn=Vn.yb;Hn<Vn.Hb;++Hn){ri=Hn,Tr=Kr;var ir=(jn=(Qr=Vn).D).Nb;Er=Qr.R;var jn=jn.wa[jn.Y+ri],Ui=Qr.sa,Mr=Qr.ta+16*ir*Er+16*ri,Kt=jn.dd,Xt=jn.tc;if(Xt!=0)if(e(3<=Xt),Qr.L==1)0<ri&&pd(Ui,Mr,Er,Xt+4),jn.La&&qf(Ui,Mr,Er,Xt),0<Tr&&dd(Ui,Mr,Er,Xt+4),jn.La&&zf(Ui,Mr,Er,Xt);else{var Bn=Qr.B,ha=Qr.qa,Qa=Qr.ra+8*ir*Bn+8*ri,ta=Qr.Ha,Qr=Qr.Ia+8*ir*Bn+8*ri;ir=jn.ld,0<ri&&(Br(Ui,Mr,Er,Xt+4,Kt,ir),ds(ha,Qa,ta,Qr,Bn,Xt+4,Kt,ir)),jn.La&&(Bu(Ui,Mr,Er,Xt,Kt,ir),hd(ha,Qa,ta,Qr,Bn,Xt,Kt,ir)),0<Tr&&(fr(Ui,Mr,Er,Xt+4,Kt,ir),Ps(ha,Qa,ta,Qr,Bn,Xt+4,Kt,ir)),jn.La&&(cl(Ui,Mr,Er,Xt,Kt,ir),Uf(ha,Qa,ta,Qr,Bn,Xt,Kt,ir))}}if(At.ia&&alert("todo:DitherRow"),gt.put!=null){if(Hn=16*Jn,Jn=16*(Jn+1),Wr?(gt.y=At.sa,gt.O=At.ta+Fn,gt.f=At.qa,gt.N=At.ra+zr,gt.ea=At.Ha,gt.W=At.Ia+zr):(Hn-=xn,gt.y=ni,gt.O=Ri,gt.f=hr,gt.N=yn,gt.ea=Gr,gt.W=Bi),Yr||(Jn-=xn),Jn>gt.o&&(Jn=gt.o),gt.F=null,gt.J=null,At.Fa!=null&&0<At.Fa.length&&Hn<Jn&&(gt.J=m(At,gt,Hn,Jn-Hn),gt.F=At.mb,gt.F==null&&gt.F.length==0)){Ar=Sn(At,3,"Could not decode alpha data.");break t}Hn<gt.j&&(xn=gt.j-Hn,Hn=gt.j,e(!(1&xn)),gt.O+=At.R*xn,gt.N+=At.B*(xn>>1),gt.W+=At.B*(xn>>1),gt.F!=null&&(gt.J+=gt.width*xn)),Hn<Jn&&(gt.O+=gt.v,gt.N+=gt.v>>1,gt.W+=gt.v>>1,gt.F!=null&&(gt.J+=gt.v),gt.ka=Hn-gt.j,gt.U=gt.va-gt.v,gt.T=Jn-Hn,Ar=gt.put(gt))}dn+1!=At.Ic||Yr||(r(At.sa,At.ta-nn,ni,Ri+16*At.R,nn),r(At.qa,At.ra-Xn,hr,yn+8*At.B,Xn),r(At.Ha,At.Ia-Xn,Gr,Bi+8*At.B,Xn))}if(!Ar)return Sn(En,6,"Output aborted.")}return 1})(ae,xe)),xe.bc!=null&&xe.bc(xe),Re&=1}return Re?(ae.cb=0,Re):0})(p,C)||(y=p.a)}}else y=p.a}y==0&&G.Oa!=null&&G.Oa.fd&&(y=Vu(G.ba))}G=y}$=G!=0?null:11>$?Z.f.RGBA.eb:Z.f.kb.y}else $=null;return $};var kc=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function d(L,H){for(var N="",O=0;O<4;O++)N+=String.fromCharCode(L[H++]);return N}function g(L,H){return L[H+0]|L[H+1]<<8}function _(L,H){return(L[H+0]|L[H+1]<<8|L[H+2]<<16)>>>0}function S(L,H){return(L[H+0]|L[H+1]<<8|L[H+2]<<16|L[H+3]<<24)>>>0}new h;var w=[0],T=[0],M=[],j=new h,D=n,Q=(function(L,H){var N={},O=0,F=!1,ce=0,Ce=0;if(N.frames=[],!(function(P,K){for(var te=0;te<4;te++)if(P[K+te]!="RIFF".charCodeAt(te))return!0;return!1})(L,H)){for(S(L,H+=4),H+=8;H<L.length;){var le=d(L,H),me=S(L,H+=4);H+=4;var de=me+(1&me);switch(le){case"VP8 ":case"VP8L":N.frames[O]===void 0&&(N.frames[O]={}),(Y=N.frames[O]).src_off=F?Ce:H-8,Y.src_size=ce+me+8,O++,F&&(F=!1,ce=0,Ce=0);break;case"VP8X":(Y=N.header={}).feature_flags=L[H];var Ie=H+4;Y.canvas_width=1+_(L,Ie),Ie+=3,Y.canvas_height=1+_(L,Ie),Ie+=3;break;case"ALPH":F=!0,ce=de+8,Ce=H-8;break;case"ANIM":(Y=N.header).bgcolor=S(L,H),Ie=H+4,Y.loop_count=g(L,Ie),Ie+=2;break;case"ANMF":var Xe,Y;(Y=N.frames[O]={}).offset_x=2*_(L,H),H+=3,Y.offset_y=2*_(L,H),H+=3,Y.width=1+_(L,H),H+=3,Y.height=1+_(L,H),H+=3,Y.duration=_(L,H),H+=3,Xe=L[H++],Y.dispose=1&Xe,Y.blend=Xe>>1&1}le!="ANMF"&&(H+=de)}return N}})(D,0);Q.response=D,Q.rgbaoutput=!0,Q.dataurl=!1;var W=Q.header?Q.header:null,re=Q.frames?Q.frames:null;if(W){W.loop_counter=W.loop_count,w=[W.canvas_height],T=[W.canvas_width];for(var ye=0;ye<re.length&&re[ye].blend!=0;ye++);}var _e=re[0],z=j.WebPDecodeRGBA(D,_e.src_off,_e.src_size,T,w);_e.rgba=z,_e.imgwidth=T[0],_e.imgheight=w[0];for(var V=0;V<T[0]*w[0]*4;V++)M[V]=z[V];return this.width=T,this.height=w,this.data=M,this}(function(n){var e,t,r,s,o,u,c,h,d,g=function(P){return P=P||{},this.isStrokeTransparent=P.isStrokeTransparent||!1,this.strokeOpacity=P.strokeOpacity||1,this.strokeStyle=P.strokeStyle||"#000000",this.fillStyle=P.fillStyle||"#000000",this.isFillTransparent=P.isFillTransparent||!1,this.fillOpacity=P.fillOpacity||1,this.font=P.font||"10px sans-serif",this.textBaseline=P.textBaseline||"alphabetic",this.textAlign=P.textAlign||"left",this.lineWidth=P.lineWidth||1,this.lineJoin=P.lineJoin||"miter",this.lineCap=P.lineCap||"butt",this.path=P.path||[],this.transform=P.transform!==void 0?P.transform.clone():new h,this.globalCompositeOperation=P.globalCompositeOperation||"normal",this.globalAlpha=P.globalAlpha||1,this.clip_path=P.clip_path||[],this.currentPoint=P.currentPoint||new u,this.miterLimit=P.miterLimit||10,this.lastPoint=P.lastPoint||new u,this.lineDashOffset=P.lineDashOffset||0,this.lineDash=P.lineDash||[],this.margin=P.margin||[0,0,0,0],this.prevPageLastElemOffset=P.prevPageLastElemOffset||0,this.ignoreClearRect=typeof P.ignoreClearRect!="boolean"||P.ignoreClearRect,this};n.events.push(["initialized",function(){this.context2d=new _(this),e=this.internal.f2,t=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,s=this.internal.getHorizontalCoordinate,o=this.internal.getVerticalCoordinate,u=this.internal.Point,c=this.internal.Rectangle,h=this.internal.Matrix,d=new g}]);var _=function(P){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var K=P;Object.defineProperty(this,"pdf",{get:function(){return K}});var te=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return te},set:function(q){te=!!q}});var ue=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ue},set:function(q){ue=!!q}});var fe=0;Object.defineProperty(this,"posX",{get:function(){return fe},set:function(q){isNaN(q)||(fe=q)}});var ve=0;Object.defineProperty(this,"posY",{get:function(){return ve},set:function(q){isNaN(q)||(ve=q)}}),Object.defineProperty(this,"margin",{get:function(){return d.margin},set:function(q){var Oe;typeof q=="number"?Oe=[q,q,q,q]:((Oe=new Array(4))[0]=q[0],Oe[1]=q.length>=2?q[1]:Oe[0],Oe[2]=q.length>=3?q[2]:Oe[0],Oe[3]=q.length>=4?q[3]:Oe[1]),d.margin=Oe}});var Te=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Te},set:function(q){Te=q}});var Me=0;Object.defineProperty(this,"lastBreak",{get:function(){return Me},set:function(q){Me=q}});var $e=[];Object.defineProperty(this,"pageBreaks",{get:function(){return $e},set:function(q){$e=q}}),Object.defineProperty(this,"ctx",{get:function(){return d},set:function(q){q instanceof g&&(d=q)}}),Object.defineProperty(this,"path",{get:function(){return d.path},set:function(q){d.path=q}});var ut=[];Object.defineProperty(this,"ctxStack",{get:function(){return ut},set:function(q){ut=q}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(q){var Oe;Oe=S(q),this.ctx.fillStyle=Oe.style,this.ctx.isFillTransparent=Oe.a===0,this.ctx.fillOpacity=Oe.a,this.pdf.setFillColor(Oe.r,Oe.g,Oe.b,{a:Oe.a}),this.pdf.setTextColor(Oe.r,Oe.g,Oe.b,{a:Oe.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(q){var Oe=S(q);this.ctx.strokeStyle=Oe.style,this.ctx.isStrokeTransparent=Oe.a===0,this.ctx.strokeOpacity=Oe.a,Oe.a===0?this.pdf.setDrawColor(255,255,255):(Oe.a,this.pdf.setDrawColor(Oe.r,Oe.g,Oe.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(q){["butt","round","square"].indexOf(q)!==-1&&(this.ctx.lineCap=q,this.pdf.setLineCap(q))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(q){isNaN(q)||(this.ctx.lineWidth=q,this.pdf.setLineWidth(q))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(q){["bevel","round","miter"].indexOf(q)!==-1&&(this.ctx.lineJoin=q,this.pdf.setLineJoin(q))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(q){isNaN(q)||(this.ctx.miterLimit=q,this.pdf.setMiterLimit(q))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(q){this.ctx.textBaseline=q}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(q){["right","end","center","left","start"].indexOf(q)!==-1&&(this.ctx.textAlign=q)}});var pt=null,mt=null,_t=null;Object.defineProperty(this,"fontFaces",{get:function(){return _t},set:function(q){pt=null,mt=null,_t=q}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(q){var Oe;if(this.ctx.font=q,(Oe=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(q))!==null){var it=Oe[1];Oe[2];var Fe=Oe[3],De=Oe[4];Oe[5];var ft=Oe[6],ht=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(De)[2];De=Math.floor(ht==="px"?parseFloat(De)*this.pdf.internal.scaleFactor:ht==="em"?parseFloat(De)*this.pdf.getFontSize():parseFloat(De)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(De);var vt=(function(Ct){var Kn,Yt,jt=[],yt=Ct.trim();if(yt==="")return O0;if(yt in Mw)return[Mw[yt]];for(;yt!=="";){switch(Yt=null,Kn=(yt=Ow(yt)).charAt(0)){case'"':case"'":Yt=PI(yt.substring(1),Kn);break;default:Yt=jI(yt)}if(Yt===null||(jt.push(Yt[0]),(yt=Ow(Yt[1]))!==""&&yt.charAt(0)!==","))return O0;yt=yt.replace(/^,/,"")}return jt})(ft);if(this.fontFaces){var xt=(function(Ct,Kn){var Yt=Ct.getFontList(),jt=JSON.stringify(Yt);if(pt===null||mt!==jt){var yt=(function(tn){var Lt=[];return Object.keys(tn).forEach(function(Tn){tn[Tn].forEach(function(zt){var qt=null;switch(zt){case"bold":qt={family:Tn,weight:"bold"};break;case"italic":qt={family:Tn,style:"italic"};break;case"bolditalic":qt={family:Tn,weight:"bold",style:"italic"};break;case"":case"normal":qt={family:Tn}}qt!==null&&(qt.ref={name:Tn,style:zt},Lt.push(qt))})}),Lt})(Yt);pt=(function(tn){for(var Lt={},Tn=0;Tn<tn.length;++Tn){var zt=k0(tn[Tn]),qt=zt.family,vn=zt.stretch,Pt=zt.style,Rt=zt.weight;Lt[qt]=Lt[qt]||{},Lt[qt][vn]=Lt[qt][vn]||{},Lt[qt][vn][Pt]=Lt[qt][vn][Pt]||{},Lt[qt][vn][Pt][Rt]=zt}return Lt})(yt.concat(Kn)),mt=jt}return pt})(this.pdf,this.fontFaces),Ut=vt.map(function(Ct){return{family:Ct,stretch:"normal",weight:Fe,style:it}}),Gt=(function(Ct,Kn,Yt){for(var jt=(Yt=Yt||{}).defaultFontFamily||"times",yt=Object.assign({},OI,Yt.genericFontFamilies||{}),tn=null,Lt=null,Tn=0;Tn<Kn.length;++Tn)if(yt[(tn=k0(Kn[Tn])).family]&&(tn.family=yt[tn.family]),Ct.hasOwnProperty(tn.family)){Lt=Ct[tn.family];break}if(!(Lt=Lt||Ct[jt]))throw new Error("Could not find a font-family for the rule '"+kw(tn)+"' and default family '"+jt+"'.");if(Lt=(function(zt,qt){if(qt[zt])return qt[zt];var vn=E1[zt],Pt=vn<=E1.normal?-1:1,Rt=Lw(qt,_x,vn,Pt);if(!Rt)throw new Error("Could not find a matching font-stretch value for "+zt);return Rt})(tn.stretch,Lt),Lt=(function(zt,qt){if(qt[zt])return qt[zt];for(var vn=wx[zt],Pt=0;Pt<vn.length;++Pt)if(qt[vn[Pt]])return qt[vn[Pt]];throw new Error("Could not find a matching font-style for "+zt)})(tn.style,Lt),!(Lt=(function(zt,qt){if(qt[zt])return qt[zt];if(zt===400&&qt[500])return qt[500];if(zt===500&&qt[400])return qt[400];var vn=kI[zt],Pt=Lw(qt,xx,vn,zt<400?-1:1);if(!Pt)throw new Error("Could not find a matching font-weight for value "+zt);return Pt})(tn.weight,Lt)))throw new Error("Failed to resolve a font for the rule '"+kw(tn)+"'.");return Lt})(xt,Ut);this.pdf.setFont(Gt.ref.name,Gt.ref.style)}else{var $t="";(Fe==="bold"||parseInt(Fe,10)>=700||it==="bold")&&($t="bold"),it==="italic"&&($t+="italic"),$t.length===0&&($t="normal");for(var fn="",sn={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Et=0;Et<vt.length;Et++){if(this.pdf.internal.getFont(vt[Et],$t,{noFallback:!0,disableWarning:!0})!==void 0){fn=vt[Et];break}if($t==="bolditalic"&&this.pdf.internal.getFont(vt[Et],"bold",{noFallback:!0,disableWarning:!0})!==void 0)fn=vt[Et],$t="bold";else if(this.pdf.internal.getFont(vt[Et],"normal",{noFallback:!0,disableWarning:!0})!==void 0){fn=vt[Et],$t="normal";break}}if(fn===""){for(var rn=0;rn<vt.length;rn++)if(sn[vt[rn]]){fn=sn[vt[rn]];break}}fn=fn===""?"Times":fn,this.pdf.setFont(fn,$t)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(q){this.ctx.globalCompositeOperation=q}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(q){this.ctx.globalAlpha=q}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(q){this.ctx.lineDashOffset=q,Y.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(q){this.ctx.lineDash=q,Y.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(q){this.ctx.ignoreClearRect=!!q}})};_.prototype.setLineDash=function(P){this.lineDash=P},_.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},_.prototype.fill=function(){re.call(this,"fill",!1)},_.prototype.stroke=function(){re.call(this,"stroke",!1)},_.prototype.beginPath=function(){this.path=[{type:"begin"}]},_.prototype.moveTo=function(P,K){if(isNaN(P)||isNaN(K))throw wr.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var te=this.ctx.transform.applyToPoint(new u(P,K));this.path.push({type:"mt",x:te.x,y:te.y}),this.ctx.lastPoint=new u(P,K)},_.prototype.closePath=function(){var P=new u(0,0),K=0;for(K=this.path.length-1;K!==-1;K--)if(this.path[K].type==="begin"&&or(this.path[K+1])==="object"&&typeof this.path[K+1].x=="number"){P=new u(this.path[K+1].x,this.path[K+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new u(P.x,P.y)},_.prototype.lineTo=function(P,K){if(isNaN(P)||isNaN(K))throw wr.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var te=this.ctx.transform.applyToPoint(new u(P,K));this.path.push({type:"lt",x:te.x,y:te.y}),this.ctx.lastPoint=new u(te.x,te.y)},_.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),re.call(this,null,!0)},_.prototype.quadraticCurveTo=function(P,K,te,ue){if(isNaN(te)||isNaN(ue)||isNaN(P)||isNaN(K))throw wr.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var fe=this.ctx.transform.applyToPoint(new u(te,ue)),ve=this.ctx.transform.applyToPoint(new u(P,K));this.path.push({type:"qct",x1:ve.x,y1:ve.y,x:fe.x,y:fe.y}),this.ctx.lastPoint=new u(fe.x,fe.y)},_.prototype.bezierCurveTo=function(P,K,te,ue,fe,ve){if(isNaN(fe)||isNaN(ve)||isNaN(P)||isNaN(K)||isNaN(te)||isNaN(ue))throw wr.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Te=this.ctx.transform.applyToPoint(new u(fe,ve)),Me=this.ctx.transform.applyToPoint(new u(P,K)),$e=this.ctx.transform.applyToPoint(new u(te,ue));this.path.push({type:"bct",x1:Me.x,y1:Me.y,x2:$e.x,y2:$e.y,x:Te.x,y:Te.y}),this.ctx.lastPoint=new u(Te.x,Te.y)},_.prototype.arc=function(P,K,te,ue,fe,ve){if(isNaN(P)||isNaN(K)||isNaN(te)||isNaN(ue)||isNaN(fe))throw wr.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ve=!!ve,!this.ctx.transform.isIdentity){var Te=this.ctx.transform.applyToPoint(new u(P,K));P=Te.x,K=Te.y;var Me=this.ctx.transform.applyToPoint(new u(0,te)),$e=this.ctx.transform.applyToPoint(new u(0,0));te=Math.sqrt(Math.pow(Me.x-$e.x,2)+Math.pow(Me.y-$e.y,2))}Math.abs(fe-ue)>=2*Math.PI&&(ue=0,fe=2*Math.PI),this.path.push({type:"arc",x:P,y:K,radius:te,startAngle:ue,endAngle:fe,counterclockwise:ve})},_.prototype.arcTo=function(P,K,te,ue,fe){throw new Error("arcTo not implemented.")},_.prototype.rect=function(P,K,te,ue){if(isNaN(P)||isNaN(K)||isNaN(te)||isNaN(ue))throw wr.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(P,K),this.lineTo(P+te,K),this.lineTo(P+te,K+ue),this.lineTo(P,K+ue),this.lineTo(P,K),this.lineTo(P+te,K),this.lineTo(P,K)},_.prototype.fillRect=function(P,K,te,ue){if(isNaN(P)||isNaN(K)||isNaN(te)||isNaN(ue))throw wr.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!w.call(this)){var fe={};this.lineCap!=="butt"&&(fe.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(fe.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(P,K,te,ue),this.fill(),fe.hasOwnProperty("lineCap")&&(this.lineCap=fe.lineCap),fe.hasOwnProperty("lineJoin")&&(this.lineJoin=fe.lineJoin)}},_.prototype.strokeRect=function(P,K,te,ue){if(isNaN(P)||isNaN(K)||isNaN(te)||isNaN(ue))throw wr.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");T.call(this)||(this.beginPath(),this.rect(P,K,te,ue),this.stroke())},_.prototype.clearRect=function(P,K,te,ue){if(isNaN(P)||isNaN(K)||isNaN(te)||isNaN(ue))throw wr.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(P,K,te,ue))},_.prototype.save=function(P){P=typeof P!="boolean"||P;for(var K=this.pdf.internal.getCurrentPageInfo().pageNumber,te=0;te<this.pdf.internal.getNumberOfPages();te++)this.pdf.setPage(te+1),this.pdf.internal.out("q");if(this.pdf.setPage(K),P){this.ctx.fontSize=this.pdf.internal.getFontSize();var ue=new g(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ue}},_.prototype.restore=function(P){P=typeof P!="boolean"||P;for(var K=this.pdf.internal.getCurrentPageInfo().pageNumber,te=0;te<this.pdf.internal.getNumberOfPages();te++)this.pdf.setPage(te+1),this.pdf.internal.out("Q");this.pdf.setPage(K),P&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},_.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var S=function(P){var K,te,ue,fe;if(P.isCanvasGradient===!0&&(P=P.getColor()),!P)return{r:0,g:0,b:0,a:0,style:P};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(P))K=0,te=0,ue=0,fe=0;else{var ve=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(P);if(ve!==null)K=parseInt(ve[1]),te=parseInt(ve[2]),ue=parseInt(ve[3]),fe=1;else if((ve=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(P))!==null)K=parseInt(ve[1]),te=parseInt(ve[2]),ue=parseInt(ve[3]),fe=parseFloat(ve[4]);else{if(fe=1,typeof P=="string"&&P.charAt(0)!=="#"){var Te=new dx(P);P=Te.ok?Te.toHex():"#000000"}P.length===4?(K=P.substring(1,2),K+=K,te=P.substring(2,3),te+=te,ue=P.substring(3,4),ue+=ue):(K=P.substring(1,3),te=P.substring(3,5),ue=P.substring(5,7)),K=parseInt(K,16),te=parseInt(te,16),ue=parseInt(ue,16)}}return{r:K,g:te,b:ue,a:fe,style:P}},w=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},T=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};_.prototype.fillText=function(P,K,te,ue){if(isNaN(K)||isNaN(te)||typeof P!="string")throw wr.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ue=isNaN(ue)?void 0:ue,!w.call(this)){var fe=de(this.ctx.transform.rotation),ve=this.ctx.transform.scaleX;O.call(this,{text:P,x:K,y:te,scale:ve,angle:fe,align:this.textAlign,maxWidth:ue})}},_.prototype.strokeText=function(P,K,te,ue){if(isNaN(K)||isNaN(te)||typeof P!="string")throw wr.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!T.call(this)){ue=isNaN(ue)?void 0:ue;var fe=de(this.ctx.transform.rotation),ve=this.ctx.transform.scaleX;O.call(this,{text:P,x:K,y:te,scale:ve,renderingMode:"stroke",angle:fe,align:this.textAlign,maxWidth:ue})}},_.prototype.measureText=function(P){if(typeof P!="string")throw wr.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var K=this.pdf,te=this.pdf.internal.scaleFactor,ue=K.internal.getFontSize(),fe=K.getStringUnitWidth(P)*ue/K.internal.scaleFactor;return new function(ve){var Te=(ve=ve||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Te}}),this}({width:fe*=Math.round(96*te/72*1e4)/1e4})},_.prototype.scale=function(P,K){if(isNaN(P)||isNaN(K))throw wr.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var te=new h(P,0,0,K,0,0);this.ctx.transform=this.ctx.transform.multiply(te)},_.prototype.rotate=function(P){if(isNaN(P))throw wr.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var K=new h(Math.cos(P),Math.sin(P),-Math.sin(P),Math.cos(P),0,0);this.ctx.transform=this.ctx.transform.multiply(K)},_.prototype.translate=function(P,K){if(isNaN(P)||isNaN(K))throw wr.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var te=new h(1,0,0,1,P,K);this.ctx.transform=this.ctx.transform.multiply(te)},_.prototype.transform=function(P,K,te,ue,fe,ve){if(isNaN(P)||isNaN(K)||isNaN(te)||isNaN(ue)||isNaN(fe)||isNaN(ve))throw wr.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Te=new h(P,K,te,ue,fe,ve);this.ctx.transform=this.ctx.transform.multiply(Te)},_.prototype.setTransform=function(P,K,te,ue,fe,ve){P=isNaN(P)?1:P,K=isNaN(K)?0:K,te=isNaN(te)?0:te,ue=isNaN(ue)?1:ue,fe=isNaN(fe)?0:fe,ve=isNaN(ve)?0:ve,this.ctx.transform=new h(P,K,te,ue,fe,ve)};var M=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};_.prototype.drawImage=function(P,K,te,ue,fe,ve,Te,Me,$e){var ut=this.pdf.getImageProperties(P),pt=1,mt=1,_t=1,q=1;ue!==void 0&&Me!==void 0&&(_t=Me/ue,q=$e/fe,pt=ut.width/ue*Me/ue,mt=ut.height/fe*$e/fe),ve===void 0&&(ve=K,Te=te,K=0,te=0),ue!==void 0&&Me===void 0&&(Me=ue,$e=fe),ue===void 0&&Me===void 0&&(Me=ut.width,$e=ut.height);var Oe=this.ctx.transform.decompose(),it=de(Oe.rotate.shx),Fe=new h,De=(Fe=(Fe=(Fe=Fe.multiply(Oe.translate)).multiply(Oe.skew)).multiply(Oe.scale)).applyToRectangle(new c(ve-K*_t,Te-te*q,ue*pt,fe*mt));if(this.autoPaging){for(var ft,ht=j.call(this,De),vt=[],xt=0;xt<ht.length;xt+=1)vt.indexOf(ht[xt])===-1&&vt.push(ht[xt]);W(vt);for(var Ut=vt[0],Gt=vt[vt.length-1],$t=Ut;$t<Gt+1;$t++){this.pdf.setPage($t);var fn=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],sn=$t===1?this.posY+this.margin[0]:this.margin[0],Et=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],rn=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ct=$t===1?0:Et+($t-2)*rn;if(this.ctx.clip_path.length!==0){var Kn=this.path;ft=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=Q(ft,this.posX+this.margin[3],-Ct+sn+this.ctx.prevPageLastElemOffset),ye.call(this,"fill",!0),this.path=Kn}var Yt=JSON.parse(JSON.stringify(De));Yt=Q([Yt],this.posX+this.margin[3],-Ct+sn+this.ctx.prevPageLastElemOffset)[0];var jt=($t>Ut||$t<Gt)&&M.call(this);jt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],fn,rn,null).clip().discardPath()),this.pdf.addImage(P,"JPEG",Yt.x,Yt.y,Yt.w,Yt.h,null,null,it),jt&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(P,"JPEG",De.x,De.y,De.w,De.h,null,null,it)};var j=function(P,K,te){var ue=[];K=K||this.pdf.internal.pageSize.width,te=te||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var fe=this.posY+this.ctx.prevPageLastElemOffset;switch(P.type){default:case"mt":case"lt":ue.push(Math.floor((P.y+fe)/te)+1);break;case"arc":ue.push(Math.floor((P.y+fe-P.radius)/te)+1),ue.push(Math.floor((P.y+fe+P.radius)/te)+1);break;case"qct":var ve=Ie(this.ctx.lastPoint.x,this.ctx.lastPoint.y,P.x1,P.y1,P.x,P.y);ue.push(Math.floor((ve.y+fe)/te)+1),ue.push(Math.floor((ve.y+ve.h+fe)/te)+1);break;case"bct":var Te=Xe(this.ctx.lastPoint.x,this.ctx.lastPoint.y,P.x1,P.y1,P.x2,P.y2,P.x,P.y);ue.push(Math.floor((Te.y+fe)/te)+1),ue.push(Math.floor((Te.y+Te.h+fe)/te)+1);break;case"rect":ue.push(Math.floor((P.y+fe)/te)+1),ue.push(Math.floor((P.y+P.h+fe)/te)+1)}for(var Me=0;Me<ue.length;Me+=1)for(;this.pdf.internal.getNumberOfPages()<ue[Me];)D.call(this);return ue},D=function(){var P=this.fillStyle,K=this.strokeStyle,te=this.font,ue=this.lineCap,fe=this.lineWidth,ve=this.lineJoin;this.pdf.addPage(),this.fillStyle=P,this.strokeStyle=K,this.font=te,this.lineCap=ue,this.lineWidth=fe,this.lineJoin=ve},Q=function(P,K,te){for(var ue=0;ue<P.length;ue++)switch(P[ue].type){case"bct":P[ue].x2+=K,P[ue].y2+=te;case"qct":P[ue].x1+=K,P[ue].y1+=te;default:P[ue].x+=K,P[ue].y+=te}return P},W=function(P){return P.sort(function(K,te){return K-te})},re=function(P,K){var te=this.fillStyle,ue=this.strokeStyle,fe=this.lineCap,ve=this.lineWidth,Te=Math.abs(ve*this.ctx.transform.scaleX),Me=this.lineJoin;if(this.autoPaging){for(var $e,ut,pt=JSON.parse(JSON.stringify(this.path)),mt=JSON.parse(JSON.stringify(this.path)),_t=[],q=0;q<mt.length;q++)if(mt[q].x!==void 0)for(var Oe=j.call(this,mt[q]),it=0;it<Oe.length;it+=1)_t.indexOf(Oe[it])===-1&&_t.push(Oe[it]);for(var Fe=0;Fe<_t.length;Fe++)for(;this.pdf.internal.getNumberOfPages()<_t[Fe];)D.call(this);W(_t);for(var De=_t[0],ft=_t[_t.length-1],ht=De;ht<ft+1;ht++){this.pdf.setPage(ht),this.fillStyle=te,this.strokeStyle=ue,this.lineCap=fe,this.lineWidth=Te,this.lineJoin=Me;var vt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],xt=ht===1?this.posY+this.margin[0]:this.margin[0],Ut=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Gt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],$t=ht===1?0:Ut+(ht-2)*Gt;if(this.ctx.clip_path.length!==0){var fn=this.path;$e=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=Q($e,this.posX+this.margin[3],-$t+xt+this.ctx.prevPageLastElemOffset),ye.call(this,P,!0),this.path=fn}if(ut=JSON.parse(JSON.stringify(pt)),this.path=Q(ut,this.posX+this.margin[3],-$t+xt+this.ctx.prevPageLastElemOffset),K===!1||ht===0){var sn=(ht>De||ht<ft)&&M.call(this);sn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],vt,Gt,null).clip().discardPath()),ye.call(this,P,K),sn&&this.pdf.restoreGraphicsState()}this.lineWidth=ve}this.path=pt}else this.lineWidth=Te,ye.call(this,P,K),this.lineWidth=ve},ye=function(P,K){if((P!=="stroke"||K||!T.call(this))&&(P==="stroke"||K||!w.call(this))){for(var te,ue,fe=[],ve=this.path,Te=0;Te<ve.length;Te++){var Me=ve[Te];switch(Me.type){case"begin":fe.push({begin:!0});break;case"close":fe.push({close:!0});break;case"mt":fe.push({start:Me,deltas:[],abs:[]});break;case"lt":var $e=fe.length;if(ve[Te-1]&&!isNaN(ve[Te-1].x)&&(te=[Me.x-ve[Te-1].x,Me.y-ve[Te-1].y],$e>0)){for(;$e>=0;$e--)if(fe[$e-1].close!==!0&&fe[$e-1].begin!==!0){fe[$e-1].deltas.push(te),fe[$e-1].abs.push(Me);break}}break;case"bct":te=[Me.x1-ve[Te-1].x,Me.y1-ve[Te-1].y,Me.x2-ve[Te-1].x,Me.y2-ve[Te-1].y,Me.x-ve[Te-1].x,Me.y-ve[Te-1].y],fe[fe.length-1].deltas.push(te);break;case"qct":var ut=ve[Te-1].x+2/3*(Me.x1-ve[Te-1].x),pt=ve[Te-1].y+2/3*(Me.y1-ve[Te-1].y),mt=Me.x+2/3*(Me.x1-Me.x),_t=Me.y+2/3*(Me.y1-Me.y),q=Me.x,Oe=Me.y;te=[ut-ve[Te-1].x,pt-ve[Te-1].y,mt-ve[Te-1].x,_t-ve[Te-1].y,q-ve[Te-1].x,Oe-ve[Te-1].y],fe[fe.length-1].deltas.push(te);break;case"arc":fe.push({deltas:[],abs:[],arc:!0}),Array.isArray(fe[fe.length-1].abs)&&fe[fe.length-1].abs.push(Me)}}ue=K?null:P==="stroke"?"stroke":"fill";for(var it=!1,Fe=0;Fe<fe.length;Fe++)if(fe[Fe].arc)for(var De=fe[Fe].abs,ft=0;ft<De.length;ft++){var ht=De[ft];ht.type==="arc"?V.call(this,ht.x,ht.y,ht.radius,ht.startAngle,ht.endAngle,ht.counterclockwise,void 0,K,!it):F.call(this,ht.x,ht.y),it=!0}else if(fe[Fe].close===!0)this.pdf.internal.out("h"),it=!1;else if(fe[Fe].begin!==!0){var vt=fe[Fe].start.x,xt=fe[Fe].start.y;ce.call(this,fe[Fe].deltas,vt,xt),it=!0}ue&&L.call(this,ue),K&&H.call(this)}},_e=function(P){var K=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,te=K*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return P-te;case"top":return P+K-te;case"hanging":return P+K-2*te;case"middle":return P+K/2-te;default:return P}},z=function(P){return P+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};_.prototype.createLinearGradient=function(){var P=function(){};return P.colorStops=[],P.addColorStop=function(K,te){this.colorStops.push([K,te])},P.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},P.isCanvasGradient=!0,P},_.prototype.createPattern=function(){return this.createLinearGradient()},_.prototype.createRadialGradient=function(){return this.createLinearGradient()};var V=function(P,K,te,ue,fe,ve,Te,Me,$e){for(var ut=le.call(this,te,ue,fe,ve),pt=0;pt<ut.length;pt++){var mt=ut[pt];pt===0&&($e?N.call(this,mt.x1+P,mt.y1+K):F.call(this,mt.x1+P,mt.y1+K)),Ce.call(this,P,K,mt.x2,mt.y2,mt.x3,mt.y3,mt.x4,mt.y4)}Me?H.call(this):L.call(this,Te)},L=function(P){switch(P){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},H=function(){this.pdf.clip(),this.pdf.discardPath()},N=function(P,K){this.pdf.internal.out(t(P)+" "+r(K)+" m")},O=function(P){var K;switch(P.align){case"right":case"end":K="right";break;case"center":K="center";break;default:K="left"}var te,ue,fe,ve=this.pdf.getTextDimensions(P.text),Te=_e.call(this,P.y),Me=z.call(this,Te)-ve.h,$e=this.ctx.transform.applyToPoint(new u(P.x,Te));if(this.autoPaging){var ut=this.ctx.transform.decompose(),pt=new h;pt=(pt=(pt=pt.multiply(ut.translate)).multiply(ut.skew)).multiply(ut.scale);for(var mt=this.ctx.transform.applyToRectangle(new c(P.x,Te,ve.w,ve.h)),_t=pt.applyToRectangle(new c(P.x,Me,ve.w,ve.h)),q=j.call(this,_t),Oe=[],it=0;it<q.length;it+=1)Oe.indexOf(q[it])===-1&&Oe.push(q[it]);W(Oe);for(var Fe=Oe[0],De=Oe[Oe.length-1],ft=Fe;ft<De+1;ft++){this.pdf.setPage(ft);var ht=ft===1?this.posY+this.margin[0]:this.margin[0],vt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],xt=this.pdf.internal.pageSize.height-this.margin[2],Ut=xt-this.margin[0],Gt=this.pdf.internal.pageSize.width-this.margin[1],$t=Gt-this.margin[3],fn=ft===1?0:vt+(ft-2)*Ut;if(this.ctx.clip_path.length!==0){var sn=this.path;te=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=Q(te,this.posX+this.margin[3],-1*fn+ht),ye.call(this,"fill",!0),this.path=sn}var Et=Q([JSON.parse(JSON.stringify(_t))],this.posX+this.margin[3],-fn+ht+this.ctx.prevPageLastElemOffset)[0];P.scale>=.01&&(ue=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ue*P.scale),fe=this.lineWidth,this.lineWidth=fe*P.scale);var rn=this.autoPaging!=="text";if(rn||Et.y+Et.h<=xt){if(rn||Et.y>=ht&&Et.x<=Gt){var Ct=rn?P.text:this.pdf.splitTextToSize(P.text,P.maxWidth||Gt-Et.x)[0],Kn=Q([JSON.parse(JSON.stringify(mt))],this.posX+this.margin[3],-fn+ht+this.ctx.prevPageLastElemOffset)[0],Yt=rn&&(ft>Fe||ft<De)&&M.call(this);Yt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],$t,Ut,null).clip().discardPath()),this.pdf.text(Ct,Kn.x,Kn.y,{angle:P.angle,align:K,renderingMode:P.renderingMode}),Yt&&this.pdf.restoreGraphicsState()}}else Et.y<xt&&(this.ctx.prevPageLastElemOffset+=xt-Et.y);P.scale>=.01&&(this.pdf.setFontSize(ue),this.lineWidth=fe)}}else P.scale>=.01&&(ue=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ue*P.scale),fe=this.lineWidth,this.lineWidth=fe*P.scale),this.pdf.text(P.text,$e.x+this.posX,$e.y+this.posY,{angle:P.angle,align:K,renderingMode:P.renderingMode,maxWidth:P.maxWidth}),P.scale>=.01&&(this.pdf.setFontSize(ue),this.lineWidth=fe)},F=function(P,K,te,ue){te=te||0,ue=ue||0,this.pdf.internal.out(t(P+te)+" "+r(K+ue)+" l")},ce=function(P,K,te){return this.pdf.lines(P,K,te,null,null)},Ce=function(P,K,te,ue,fe,ve,Te,Me){this.pdf.internal.out([e(s(te+P)),e(o(ue+K)),e(s(fe+P)),e(o(ve+K)),e(s(Te+P)),e(o(Me+K)),"c"].join(" "))},le=function(P,K,te,ue){for(var fe=2*Math.PI,ve=Math.PI/2;K>te;)K-=fe;var Te=Math.abs(te-K);Te<fe&&ue&&(Te=fe-Te);for(var Me=[],$e=ue?-1:1,ut=K;Te>1e-5;){var pt=ut+$e*Math.min(Te,ve);Me.push(me.call(this,P,ut,pt)),Te-=Math.abs(pt-ut),ut=pt}return Me},me=function(P,K,te){var ue=(te-K)/2,fe=P*Math.cos(ue),ve=P*Math.sin(ue),Te=fe,Me=-ve,$e=Te*Te+Me*Me,ut=$e+Te*fe+Me*ve,pt=4/3*(Math.sqrt(2*$e*ut)-ut)/(Te*ve-Me*fe),mt=Te-pt*Me,_t=Me+pt*Te,q=mt,Oe=-_t,it=ue+K,Fe=Math.cos(it),De=Math.sin(it);return{x1:P*Math.cos(K),y1:P*Math.sin(K),x2:mt*Fe-_t*De,y2:mt*De+_t*Fe,x3:q*Fe-Oe*De,y3:q*De+Oe*Fe,x4:P*Math.cos(te),y4:P*Math.sin(te)}},de=function(P){return 180*P/Math.PI},Ie=function(P,K,te,ue,fe,ve){var Te=P+.5*(te-P),Me=K+.5*(ue-K),$e=fe+.5*(te-fe),ut=ve+.5*(ue-ve),pt=Math.min(P,fe,Te,$e),mt=Math.max(P,fe,Te,$e),_t=Math.min(K,ve,Me,ut),q=Math.max(K,ve,Me,ut);return new c(pt,_t,mt-pt,q-_t)},Xe=function(P,K,te,ue,fe,ve,Te,Me){var $e,ut,pt,mt,_t,q,Oe,it,Fe,De,ft,ht,vt,xt,Ut=te-P,Gt=ue-K,$t=fe-te,fn=ve-ue,sn=Te-fe,Et=Me-ve;for(ut=0;ut<41;ut++)Fe=(Oe=(pt=P+($e=ut/40)*Ut)+$e*((_t=te+$e*$t)-pt))+$e*(_t+$e*(fe+$e*sn-_t)-Oe),De=(it=(mt=K+$e*Gt)+$e*((q=ue+$e*fn)-mt))+$e*(q+$e*(ve+$e*Et-q)-it),ut==0?(ft=Fe,ht=De,vt=Fe,xt=De):(ft=Math.min(ft,Fe),ht=Math.min(ht,De),vt=Math.max(vt,Fe),xt=Math.max(xt,De));return new c(Math.round(ft),Math.round(ht),Math.round(vt-ft),Math.round(xt-ht))},Y=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var P,K,te=(P=this.ctx.lineDash,K=this.ctx.lineDashOffset,JSON.stringify({lineDash:P,lineDashOffset:K}));this.prevLineDash!==te&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=te)}}})(Bt.API),(function(n){var e=function(u){var c,h,d,g,_,S,w,T,M,j;for(h=[],d=0,g=(u+=c="\0\0\0\0".slice(u.length%4||4)).length;g>d;d+=4)(_=(u.charCodeAt(d)<<24)+(u.charCodeAt(d+1)<<16)+(u.charCodeAt(d+2)<<8)+u.charCodeAt(d+3))!==0?(S=(_=((_=((_=((_=(_-(j=_%85))/85)-(M=_%85))/85)-(T=_%85))/85)-(w=_%85))/85)%85,h.push(S+33,w+33,T+33,M+33,j+33)):h.push(122);return(function(D,Q){for(var W=Q;W>0;W--)D.pop()})(h,c.length),String.fromCharCode.apply(String,h)+"~>"},t=function(u){var c,h,d,g,_,S=String,w="length",T=255,M="charCodeAt",j="slice",D="replace";for(u[j](-2),u=u[j](0,-2)[D](/\s/g,"")[D]("z","!!!!!"),d=[],g=0,_=(u+=c="uuuuu"[j](u[w]%5||5))[w];_>g;g+=5)h=52200625*(u[M](g)-33)+614125*(u[M](g+1)-33)+7225*(u[M](g+2)-33)+85*(u[M](g+3)-33)+(u[M](g+4)-33),d.push(T&h>>24,T&h>>16,T&h>>8,T&h);return(function(Q,W){for(var re=W;re>0;re--)Q.pop()})(d,c[w]),S.fromCharCode.apply(S,d)},r=function(u){return u.split("").map(function(c){return("0"+c.charCodeAt().toString(16)).slice(-2)}).join("")+">"},s=function(u){var c=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((u=u.replace(/\s/g,"")).indexOf(">")!==-1&&(u=u.substr(0,u.indexOf(">"))),u.length%2&&(u+="0"),c.test(u)===!1)return"";for(var h="",d=0;d<u.length;d+=2)h+=String.fromCharCode("0x"+(u[d]+u[d+1]));return h},o=function(u){for(var c=new Uint8Array(u.length),h=u.length;h--;)c[h]=u.charCodeAt(h);return(c=y1(c)).reduce(function(d,g){return d+String.fromCharCode(g)},"")};n.processDataByFilters=function(u,c){var h=0,d=u||"",g=[];for(typeof(c=c||[])=="string"&&(c=[c]),h=0;h<c.length;h+=1)switch(c[h]){case"ASCII85Decode":case"/ASCII85Decode":d=t(d),g.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":d=e(d),g.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":d=s(d),g.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":d=r(d),g.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":d=o(d),g.push("/FlateDecode");break;default:throw new Error('The filter: "'+c[h]+'" is not implemented')}return{data:d,reverseChain:g.reverse().join(" ")}}})(Bt.API),(function(n){n.loadFile=function(e,t,r){return(function(s,o,u){o=o!==!1,u=typeof u=="function"?u:function(){};var c=void 0;try{c=(function(h,d,g){var _=new XMLHttpRequest,S=0,w=function(T){var M=T.length,j=[],D=String.fromCharCode;for(S=0;S<M;S+=1)j.push(D(255&T.charCodeAt(S)));return j.join("")};if(_.open("GET",h,!d),_.overrideMimeType("text/plain; charset=x-user-defined"),d===!1&&(_.onload=function(){_.status===200?g(w(this.responseText)):g(void 0)}),_.send(null),d&&_.status===200)return w(_.responseText)})(s,o,u)}catch{}return c})(e,t,r)},n.loadImageFile=n.loadFile})(Bt.API),(function(n){function e(){return(cn.html2canvas?Promise.resolve(cn.html2canvas):g0(()=>import("./html2canvas.esm-Ge7aVWlp.js"),[])).catch(function(c){return Promise.reject(new Error("Could not load html2canvas: "+c))}).then(function(c){return c.default?c.default:c})}function t(){return(cn.DOMPurify?Promise.resolve(cn.DOMPurify):g0(()=>import("./purify.es-C65SP4u9.js"),[])).catch(function(c){return Promise.reject(new Error("Could not load dompurify: "+c))}).then(function(c){return c.default?c.default:c})}var r=function(c){var h=or(c);return h==="undefined"?"undefined":h==="string"||c instanceof String?"string":h==="number"||c instanceof Number?"number":h==="function"||c instanceof Function?"function":c&&c.constructor===Array?"array":c&&c.nodeType===1?"element":h==="object"?"object":"unknown"},s=function(c,h){var d=document.createElement(c);for(var g in h.className&&(d.className=h.className),h.innerHTML&&h.dompurify&&(d.innerHTML=h.dompurify.sanitize(h.innerHTML)),h.style)d.style[g]=h.style[g];return d},o=function c(h,d){for(var g=h.nodeType===3?document.createTextNode(h.nodeValue):h.cloneNode(!1),_=h.firstChild;_;_=_.nextSibling)d!==!0&&_.nodeType===1&&_.nodeName==="SCRIPT"||g.appendChild(c(_,d));return h.nodeType===1&&(h.nodeName==="CANVAS"?(g.width=h.width,g.height=h.height,g.getContext("2d").drawImage(h,0,0)):h.nodeName!=="TEXTAREA"&&h.nodeName!=="SELECT"||(g.value=h.value),g.addEventListener("load",function(){g.scrollTop=h.scrollTop,g.scrollLeft=h.scrollLeft},!0)),g},u=function c(h){var d=Object.assign(c.convert(Promise.resolve()),JSON.parse(JSON.stringify(c.template))),g=c.convert(Promise.resolve(),d);return(g=g.setProgress(1,c,1,[c])).set(h)};(u.prototype=Object.create(Promise.prototype)).constructor=u,u.convert=function(c,h){return c.__proto__=h||u.prototype,c},u.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},u.prototype.from=function(c,h){return this.then(function(){switch(h=h||(function(d){switch(r(d)){case"string":return"string";case"element":return d.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(c),h){case"string":return this.then(t).then(function(d){return this.set({src:s("div",{innerHTML:c,dompurify:d})})});case"element":return this.set({src:c});case"canvas":return this.set({canvas:c});case"img":return this.set({img:c});default:return this.error("Unknown source type.")}})},u.prototype.to=function(c){switch(c){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},u.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var c={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},h=o(this.prop.src,this.opt.html2canvas.javascriptEnabled);h.tagName==="BODY"&&(c.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=s("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=s("div",{className:"html2pdf__container",style:c}),this.prop.container.appendChild(h),this.prop.container.firstChild.appendChild(s("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},u.prototype.toCanvas=function(){var c=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(c).then(e).then(function(h){var d=Object.assign({},this.opt.html2canvas);return delete d.onrendered,h(this.prop.container,d)}).then(function(h){(this.opt.html2canvas.onrendered||function(){})(h),this.prop.canvas=h,document.body.removeChild(this.prop.overlay)})},u.prototype.toContext2d=function(){var c=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(c).then(e).then(function(h){var d=this.opt.jsPDF,g=this.opt.fontFaces,_=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,S=Object.assign({async:!0,allowTaint:!0,scale:_,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete S.onrendered,d.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,d.context2d.posX=this.opt.x,d.context2d.posY=this.opt.y,d.context2d.margin=this.opt.margin,d.context2d.fontFaces=g,g)for(var w=0;w<g.length;++w){var T=g[w],M=T.src.find(function(j){return j.format==="truetype"});M&&d.addFont(M.url,T.ref.name,T.ref.style)}return S.windowHeight=S.windowHeight||0,S.windowHeight=S.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):S.windowHeight,d.context2d.save(!0),h(this.prop.container,S)}).then(function(h){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(h),this.prop.canvas=h,document.body.removeChild(this.prop.overlay)})},u.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var c=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=c})},u.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},u.prototype.output=function(c,h,d){return(d=d||"pdf").toLowerCase()==="img"||d.toLowerCase()==="image"?this.outputImg(c,h):this.outputPdf(c,h)},u.prototype.outputPdf=function(c,h){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(c,h)})},u.prototype.outputImg=function(c){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(c){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+c+'" is not supported.'}})},u.prototype.save=function(c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(c?{filename:c}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},u.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},u.prototype.set=function(c){if(r(c)!=="object")return this;var h=Object.keys(c||{}).map(function(d){if(d in u.template.prop)return function(){this.prop[d]=c[d]};switch(d){case"margin":return this.setMargin.bind(this,c.margin);case"jsPDF":return function(){return this.opt.jsPDF=c.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,c.pageSize);default:return function(){this.opt[d]=c[d]}}},this);return this.then(function(){return this.thenList(h)})},u.prototype.get=function(c,h){return this.then(function(){var d=c in u.template.prop?this.prop[c]:this.opt[c];return h?h(d):d})},u.prototype.setMargin=function(c){return this.then(function(){switch(r(c)){case"number":c=[c,c,c,c];case"array":if(c.length===2&&(c=[c[0],c[1],c[0],c[1]]),c.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=c}).then(this.setPageSize)},u.prototype.setPageSize=function(c){function h(d,g){return Math.floor(d*g/72*96)}return this.then(function(){(c=c||Bt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(c.inner={width:c.width-this.opt.margin[1]-this.opt.margin[3],height:c.height-this.opt.margin[0]-this.opt.margin[2]},c.inner.px={width:h(c.inner.width,c.k),height:h(c.inner.height,c.k)},c.inner.ratio=c.inner.height/c.inner.width),this.prop.pageSize=c})},u.prototype.setProgress=function(c,h,d,g){return c!=null&&(this.progress.val=c),h!=null&&(this.progress.state=h),d!=null&&(this.progress.n=d),g!=null&&(this.progress.stack=g),this.progress.ratio=this.progress.val/this.progress.state,this},u.prototype.updateProgress=function(c,h,d,g){return this.setProgress(c?this.progress.val+c:null,h||null,d?this.progress.n+d:null,g?this.progress.stack.concat(g):null)},u.prototype.then=function(c,h){var d=this;return this.thenCore(c,h,function(g,_){return d.updateProgress(null,null,1,[g]),Promise.prototype.then.call(this,function(S){return d.updateProgress(null,g),S}).then(g,_).then(function(S){return d.updateProgress(1),S})})},u.prototype.thenCore=function(c,h,d){d=d||Promise.prototype.then;var g=this;c&&(c=c.bind(g)),h&&(h=h.bind(g));var _=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?g:u.convert(Object.assign({},g),Promise.prototype),S=d.call(_,c,h);return u.convert(S,g.__proto__)},u.prototype.thenExternal=function(c,h){return Promise.prototype.then.call(this,c,h)},u.prototype.thenList=function(c){var h=this;return c.forEach(function(d){h=h.thenCore(d)}),h},u.prototype.catch=function(c){c&&(c=c.bind(this));var h=Promise.prototype.catch.call(this,c);return u.convert(h,this)},u.prototype.catchExternal=function(c){return Promise.prototype.catch.call(this,c)},u.prototype.error=function(c){return this.then(function(){throw new Error(c)})},u.prototype.using=u.prototype.set,u.prototype.saveAs=u.prototype.save,u.prototype.export=u.prototype.output,u.prototype.run=u.prototype.then,Bt.getPageSize=function(c,h,d){if(or(c)==="object"){var g=c;c=g.orientation,h=g.unit||h,d=g.format||d}h=h||"mm",d=d||"a4",c=(""+(c||"P")).toLowerCase();var _,S=(""+d).toLowerCase(),w={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(h){case"pt":_=1;break;case"mm":_=72/25.4;break;case"cm":_=72/2.54;break;case"in":_=72;break;case"px":_=.75;break;case"pc":case"em":_=12;break;case"ex":_=6;break;default:throw"Invalid unit: "+h}var T,M=0,j=0;if(w.hasOwnProperty(S))M=w[S][1]/_,j=w[S][0]/_;else try{M=d[1],j=d[0]}catch{throw new Error("Invalid format: "+d)}if(c==="p"||c==="portrait")c="p",j>M&&(T=j,j=M,M=T);else{if(c!=="l"&&c!=="landscape")throw"Invalid orientation: "+c;c="l",M>j&&(T=j,j=M,M=T)}return{width:j,height:M,unit:h,k:_,orientation:c}},n.html=function(c,h){(h=h||{}).callback=h.callback||function(){},h.html2canvas=h.html2canvas||{},h.html2canvas.canvas=h.html2canvas.canvas||this.canvas,h.jsPDF=h.jsPDF||this,h.fontFaces=h.fontFaces?h.fontFaces.map(k0):null;var d=new u(h);return h.worker?d:d.from(c).doCallback()}})(Bt.API),Bt.API.addJS=function(n){return jw=n,this.internal.events.subscribe("postPutResources",function(){wp=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(wp+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),Pw=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+jw+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){wp!==void 0&&Pw!==void 0&&this.internal.out("/Names <</JavaScript "+wp+" 0 R>>")}),this},(function(n){var e;n.events.push(["postPutResources",function(){var t=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var s=t.outline.render().split(/\r\n/),o=0;o<s.length;o++){var u=s[o],c=r.exec(u);if(c!=null){var h=c[1];t.internal.newObjectDeferredBegin(h,!1)}t.internal.write(u)}if(this.outline.createNamedDestinations){var d=this.internal.pages.length,g=[];for(o=0;o<d;o++){var _=t.internal.newObject();g.push(_);var S=t.internal.getPageInfo(o+1);t.internal.write("<< /D["+S.objId+" 0 R /XYZ null null null]>> endobj")}var w=t.internal.newObject();for(t.internal.write("<< /Names [ "),o=0;o<g.length;o++)t.internal.write("(page_"+(o+1)+")"+g[o]+" 0 R");t.internal.write(" ] >>","endobj"),e=t.internal.newObject(),t.internal.write("<< /Dests "+w+" 0 R"),t.internal.write(">>","endobj")}}]),n.events.push(["putCatalog",function(){var t=this;t.outline.root.children.length>0&&(t.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&t.internal.write("/Names "+e+" 0 R"))}]),n.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(r,s,o){var u={title:s,options:o,children:[]};return r==null&&(r=this.root),r.children.push(u),u},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(r){r.id=t.internal.newObjectDeferred();for(var s=0;s<r.children.length;s++)this.genIds_r(r.children[s])},t.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},t.outline.renderItems=function(r){for(var s=this.ctx.pdf.internal.getVerticalCoordinateString,o=0;o<r.children.length;o++){var u=r.children[o];this.objStart(u),this.line("/Title "+this.makeString(u.title)),this.line("/Parent "+this.makeRef(r)),o>0&&this.line("/Prev "+this.makeRef(r.children[o-1])),o<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[o+1])),u.children.length>0&&(this.line("/First "+this.makeRef(u.children[0])),this.line("/Last "+this.makeRef(u.children[u.children.length-1])));var c=this.count=this.count_r({count:0},u);if(c>0&&this.line("/Count "+c),u.options&&u.options.pageNumber){var h=t.internal.getPageInfo(u.options.pageNumber);this.line("/Dest ["+h.objId+" 0 R /XYZ 0 "+s(0)+" 0]")}this.objEnd()}for(var d=0;d<r.children.length;d++)this.renderItems(r.children[d])},t.outline.line=function(r){this.ctx.val+=r+`\r
`},t.outline.makeRef=function(r){return r.id+" 0 R"},t.outline.makeString=function(r){return"("+t.internal.pdfEscape(r)+")"},t.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},t.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},t.outline.count_r=function(r,s){for(var o=0;o<s.children.length;o++)r.count++,this.count_r(r,s.children[o]);return r.count}}])})(Bt.API),(function(n){var e=[192,193,194,195,196,197,198,199];n.processJPEG=function(t,r,s,o,u,c){var h,d=this.decode.DCT_DECODE,g=null;if(typeof t=="string"||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=u||t,t=this.__addimage__.isArrayBuffer(t)?new Uint8Array(t):t,h=(function(_){for(var S,w=256*_.charCodeAt(4)+_.charCodeAt(5),T=_.length,M={width:0,height:0,numcomponents:1},j=4;j<T;j+=2){if(j+=w,e.indexOf(_.charCodeAt(j+1))!==-1){S=256*_.charCodeAt(j+5)+_.charCodeAt(j+6),M={width:256*_.charCodeAt(j+7)+_.charCodeAt(j+8),height:S,numcomponents:_.charCodeAt(j+9)};break}w=256*_.charCodeAt(j+2)+_.charCodeAt(j+3)}return M})(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t),h.numcomponents){case 1:c=this.color_spaces.DEVICE_GRAY;break;case 4:c=this.color_spaces.DEVICE_CMYK;break;case 3:c=this.color_spaces.DEVICE_RGB}g={data:t,width:h.width,height:h.height,colorSpace:c,bitsPerComponent:8,filter:d,index:r,alias:s}}return g}})(Bt.API),Bt.API.processPNG=function(n,e,t,r){if(this.__addimage__.isArrayBuffer(n)&&(n=new Uint8Array(n)),this.__addimage__.isArrayBufferView(n)){var s,o=wI(n,{checkCrc:!0}),u=o.width,c=o.height,h=o.channels,d=o.palette,g=o.depth;s=d&&h===1?(function(V){for(var L=V.width,H=V.height,N=V.data,O=V.palette,F=V.depth,ce=!1,Ce=[],le=[],me=void 0,de=!1,Ie=0,Xe=0;Xe<O.length;Xe++){var Y=Ub(O[Xe],4),P=Y[0],K=Y[1],te=Y[2],ue=Y[3];Ce.push(P,K,te),ue!=null&&(ue===0?(Ie++,le.length<1&&le.push(Xe)):ue<255&&(de=!0))}if(de||Ie>1){ce=!0,le=void 0;var fe=L*H;me=new Uint8Array(fe);for(var ve=new DataView(N.buffer),Te=0;Te<fe;Te++){var Me=P0(ve,Te,F),$e=Ub(O[Me],4)[3];me[Te]=$e}}else Ie===0&&(le=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:ce?8:void 0,colorBytes:N,alphaBytes:me,needSMask:ce,palette:Ce,mask:le}})(o):h===2||h===4?(function(V){for(var L=V.data,H=V.width,N=V.height,O=V.channels,F=V.depth,ce=O===2?"DeviceGray":"DeviceRGB",Ce=O-1,le=H*N,me=Ce,de=le*me,Ie=1*le,Xe=Math.ceil(de*F/8),Y=Math.ceil(Ie*F/8),P=new Uint8Array(Xe),K=new Uint8Array(Y),te=new DataView(L.buffer),ue=new DataView(P.buffer),fe=new DataView(K.buffer),ve=!1,Te=0;Te<le;Te++){for(var Me=Te*O,$e=0;$e<me;$e++)Gw(ue,P0(te,Me+$e,F),Te*me+$e,F);var ut=P0(te,Me+me,F);ut<(1<<F)-1&&(ve=!0),Gw(fe,ut,1*Te,F)}return{colorSpace:ce,colorsPerPixel:Ce,sMaskBitsPerComponent:ve?F:void 0,colorBytes:P,alphaBytes:K,needSMask:ve}})(o):(function(V){var L=V.data,H=V.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:H,colorsPerPixel:H==="DeviceGray"?1:3,colorBytes:L instanceof Uint16Array?(function(N){for(var O=N.length,F=new Uint8Array(2*O),ce=new DataView(F.buffer,F.byteOffset,F.byteLength),Ce=0;Ce<O;Ce++)ce.setUint16(2*Ce,N[Ce],!1);return F})(L):L,needSMask:!1}})(o);var _,S,w,T=s,M=T.colorSpace,j=T.colorsPerPixel,D=T.sMaskBitsPerComponent,Q=T.colorBytes,W=T.alphaBytes,re=T.needSMask,ye=T.palette,_e=T.mask,z=null;return r!==Bt.API.image_compression.NONE&&typeof y1=="function"?(z=(function(V){var L;switch(V){case Bt.API.image_compression.FAST:L=11;break;case Bt.API.image_compression.MEDIUM:L=13;break;case Bt.API.image_compression.SLOW:L=14;break;default:L=12}return L})(r),_=this.decode.FLATE_DECODE,S="/Predictor ".concat(z," /Colors ").concat(j," /BitsPerComponent ").concat(g," /Columns ").concat(u),n=Uw(Q,Math.ceil(u*j*g/8),j,g,r),re&&(w=Uw(W,Math.ceil(u*D/8),1,D,r))):(_=void 0,S=void 0,n=Q,re&&(w=W)),(this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n))&&(n=this.__addimage__.arrayBufferToBinaryString(n)),(w&&this.__addimage__.isArrayBuffer(w)||this.__addimage__.isArrayBufferView(w))&&(w=this.__addimage__.arrayBufferToBinaryString(w)),{alias:t,data:n,index:e,filter:_,decodeParameters:S,transparency:_e,palette:ye,sMask:w,predictor:z,width:u,height:c,bitsPerComponent:g,sMaskBitsPerComponent:D,colorSpace:M}}},(function(n){n.processGIF89A=function(e,t,r,s){var o=new UI(e),u=o.width,c=o.height,h=[];o.decodeAndBlitFrameRGBA(0,h);var d={data:h,width:u,height:c},g=new j0(100).encode(d,100);return n.processJPEG.call(this,g,t,r,s)},n.processGIF87A=n.processGIF89A})(Bt.API),mo.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var n=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(n);for(var e=0;e<n;e++){var t=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:s,green:r,blue:t,quad:o}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},mo.prototype.parseBGR=function(){this.pos=this.offset;try{var n="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[n]()}catch(t){wr.log("bit decode error:"+t)}},mo.prototype.bit1=function(){var n,e=Math.ceil(this.width/8),t=e%4;for(n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,s=0;s<e;s++)for(var o=this.datav.getUint8(this.pos++,!0),u=r*this.width*4+8*s*4,c=0;c<8&&8*s+c<this.width;c++){var h=this.palette[o>>7-c&1];this.data[u+4*c]=h.blue,this.data[u+4*c+1]=h.green,this.data[u+4*c+2]=h.red,this.data[u+4*c+3]=255}t!==0&&(this.pos+=4-t)}},mo.prototype.bit4=function(){for(var n=Math.ceil(this.width/2),e=n%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,s=0;s<n;s++){var o=this.datav.getUint8(this.pos++,!0),u=r*this.width*4+2*s*4,c=o>>4,h=15&o,d=this.palette[c];if(this.data[u]=d.blue,this.data[u+1]=d.green,this.data[u+2]=d.red,this.data[u+3]=255,2*s+1>=this.width)break;d=this.palette[h],this.data[u+4]=d.blue,this.data[u+4+1]=d.green,this.data[u+4+2]=d.red,this.data[u+4+3]=255}e!==0&&(this.pos+=4-e)}},mo.prototype.bit8=function(){for(var n=this.width%4,e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var s=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*r;if(s<this.palette.length){var u=this.palette[s];this.data[o]=u.red,this.data[o+1]=u.green,this.data[o+2]=u.blue,this.data[o+3]=255}else this.data[o]=255,this.data[o+1]=255,this.data[o+2]=255,this.data[o+3]=255}n!==0&&(this.pos+=4-n)}},mo.prototype.bit15=function(){for(var n=this.width%3,e=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,s=0;s<this.width;s++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var u=(o&e)/e*255|0,c=(o>>5&e)/e*255|0,h=(o>>10&e)/e*255|0,d=o>>15?255:0,g=r*this.width*4+4*s;this.data[g]=h,this.data[g+1]=c,this.data[g+2]=u,this.data[g+3]=d}this.pos+=n}},mo.prototype.bit16=function(){for(var n=this.width%3,e=parseInt("11111",2),t=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var s=this.bottom_up?r:this.height-1-r,o=0;o<this.width;o++){var u=this.datav.getUint16(this.pos,!0);this.pos+=2;var c=(u&e)/e*255|0,h=(u>>5&t)/t*255|0,d=(u>>11)/e*255|0,g=s*this.width*4+4*o;this.data[g]=d,this.data[g+1]=h,this.data[g+2]=c,this.data[g+3]=255}this.pos+=n}},mo.prototype.bit24=function(){for(var n=this.height-1;n>=0;n--){for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),u=e*this.width*4+4*t;this.data[u]=o,this.data[u+1]=s,this.data[u+2]=r,this.data[u+3]=255}this.pos+=this.width%4}},mo.prototype.bit32=function(){for(var n=this.height-1;n>=0;n--)for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),u=this.datav.getUint8(this.pos++,!0),c=e*this.width*4+4*t;this.data[c]=o,this.data[c+1]=s,this.data[c+2]=r,this.data[c+3]=u}},mo.prototype.getData=function(){return this.data},(function(n){n.processBMP=function(e,t,r,s){var o=new mo(e,!1),u=o.width,c=o.height,h={data:o.getData(),width:u,height:c},d=new j0(100).encode(h,100);return n.processJPEG.call(this,d,t,r,s)}})(Bt.API),Ww.prototype.getData=function(){return this.data},(function(n){n.processWEBP=function(e,t,r,s){var o=new Ww(e),u=o.width,c=o.height,h={data:o.getData(),width:u,height:c},d=new j0(100).encode(h,100);return n.processJPEG.call(this,d,t,r,s)}})(Bt.API),Bt.API.processRGBA=function(n,e,t){for(var r=n.data,s=r.length,o=new Uint8Array(s/4*3),u=new Uint8Array(s/4),c=0,h=0,d=0;d<s;d+=4){var g=r[d],_=r[d+1],S=r[d+2],w=r[d+3];o[c++]=g,o[c++]=_,o[c++]=S,u[h++]=w}var T=this.__addimage__.arrayBufferToBinaryString(o);return{alpha:this.__addimage__.arrayBufferToBinaryString(u),data:T,index:e,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:n.width,height:n.height}},Bt.API.setLanguage=function(n){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[n]!==void 0&&(this.internal.languageSettings.languageCode=n,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},sf=Bt.API,_p=sf.getCharWidthsArray=function(n,e){var t,r,s=(e=e||{}).font||this.internal.getFont(),o=e.fontSize||this.internal.getFontSize(),u=e.charSpace||this.internal.getCharSpace(),c=e.widths?e.widths:s.metadata.Unicode.widths,h=c.fof?c.fof:1,d=e.kerning?e.kerning:s.metadata.Unicode.kerning,g=d.fof?d.fof:1,_=e.doKerning!==!1,S=0,w=n.length,T=0,M=c[0]||h,j=[];for(t=0;t<w;t++)r=n.charCodeAt(t),typeof s.metadata.widthOfString=="function"?j.push((s.metadata.widthOfGlyph(s.metadata.characterToGlyph(r))+u*(1e3/o)||0)/1e3):(S=_&&or(d[r])==="object"&&!isNaN(parseInt(d[r][T],10))?d[r][T]/g:0,j.push((c[r]||M)/h+S)),T=r;return j},Fw=sf.getStringUnitWidth=function(n,e){var t=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),s=e.charSpace||this.internal.getCharSpace();return sf.processArabic&&(n=sf.processArabic(n)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(n,t,s)/t:_p.apply(this,arguments).reduce(function(o,u){return o+u},0)},Vw=function(n,e,t,r){for(var s=[],o=0,u=n.length,c=0;o!==u&&c+e[o]<t;)c+=e[o],o++;s.push(n.slice(0,o));var h=o;for(c=0;o!==u;)c+e[o]>r&&(s.push(n.slice(h,o)),c=0,h=o),c+=e[o],o++;return h!==o&&s.push(n.slice(h,o)),s},Bw=function(n,e,t){t||(t={});var r,s,o,u,c,h,d,g=[],_=[g],S=t.textIndent||0,w=0,T=0,M=n.split(" "),j=_p.apply(this,[" ",t])[0];if(h=t.lineIndent===-1?M[0].length+2:t.lineIndent||0){var D=Array(h).join(" "),Q=[];M.map(function(re){(re=re.split(/\s*\n/)).length>1?Q=Q.concat(re.map(function(ye,_e){return(_e&&ye.length?`
`:"")+ye})):Q.push(re[0])}),M=Q,h=Fw.apply(this,[D,t])}for(o=0,u=M.length;o<u;o++){var W=0;if(r=M[o],h&&r[0]==`
`&&(r=r.substr(1),W=1),S+w+(T=(s=_p.apply(this,[r,t])).reduce(function(re,ye){return re+ye},0))>e||W){if(T>e){for(c=Vw.apply(this,[r,s,e-(S+w),e]),g.push(c.shift()),g=[c.pop()];c.length;)_.push([c.shift()]);T=s.slice(r.length-(g[0]?g[0].length:0)).reduce(function(re,ye){return re+ye},0)}else g=[r];_.push(g),S=T+h,w=j}else g.push(r),S+=w+T,w=j}return d=h?function(re,ye){return(ye?D:"")+re.join(" ")}:function(re){return re.join(" ")},_.map(d)},sf.splitTextToSize=function(n,e,t){var r,s=(t=t||{}).fontSize||this.internal.getFontSize(),o=(function(g){if(g.widths&&g.kerning)return{widths:g.widths,kerning:g.kerning};var _=this.internal.getFont(g.fontName,g.fontStyle),S="Unicode";return _.metadata[S]?{widths:_.metadata[S].widths||{0:1},kerning:_.metadata[S].kerning||{}}:{font:_.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,t);r=Array.isArray(n)?n:String(n).split(/\r?\n/);var u=1*this.internal.scaleFactor*e/s;o.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/s:0,o.lineIndent=t.lineIndent;var c,h,d=[];for(c=0,h=r.length;c<h;c++)d=d.concat(Bw.apply(this,[r[c],u,o]));return d},(function(n){n.__fontmetrics__=n.__fontmetrics__||{};for(var e="0123456789abcdef",t="klmnopqrstuvwxyz",r={},s={},o=0;o<16;o++)r[t[o]]=e[o],s[e[o]]=t[o];var u=function(S){return"0x"+parseInt(S,10).toString(16)},c=n.__fontmetrics__.compress=function(S){var w,T,M,j,D=["{"];for(var Q in S){if(w=S[Q],isNaN(parseInt(Q,10))?T="'"+Q+"'":(Q=parseInt(Q,10),T=(T=u(Q).slice(2)).slice(0,-1)+s[T.slice(-1)]),typeof w=="number")w<0?(M=u(w).slice(3),j="-"):(M=u(w).slice(2),j=""),M=j+M.slice(0,-1)+s[M.slice(-1)];else{if(or(w)!=="object")throw new Error("Don't know what to do with value type "+or(w)+".");M=c(w)}D.push(T+M)}return D.push("}"),D.join("")},h=n.__fontmetrics__.uncompress=function(S){if(typeof S!="string")throw new Error("Invalid argument passed to uncompress.");for(var w,T,M,j,D={},Q=1,W=D,re=[],ye="",_e="",z=S.length-1,V=1;V<z;V+=1)(j=S[V])=="'"?w?(M=w.join(""),w=void 0):w=[]:w?w.push(j):j=="{"?(re.push([W,M]),W={},M=void 0):j=="}"?((T=re.pop())[0][T[1]]=W,M=void 0,W=T[0]):j=="-"?Q=-1:M===void 0?r.hasOwnProperty(j)?(ye+=r[j],M=parseInt(ye,16)*Q,Q=1,ye=""):ye+=j:r.hasOwnProperty(j)?(_e+=r[j],W[M]=parseInt(_e,16)*Q,Q=1,M=void 0,_e=""):_e+=j;return D},d={codePages:["WinAnsiEncoding"],WinAnsiEncoding:h("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},g={Unicode:{Courier:d,"Courier-Bold":d,"Courier-BoldOblique":d,"Courier-Oblique":d,Helvetica:d,"Helvetica-Bold":d,"Helvetica-BoldOblique":d,"Helvetica-Oblique":d,"Times-Roman":d,"Times-Bold":d,"Times-BoldItalic":d,"Times-Italic":d}},_={Unicode:{"Courier-Oblique":h("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":h("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":h("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:h("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":h("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":h("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:h("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:h("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":h("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:h("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":h("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":h("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":h("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":h("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};n.events.push(["addFont",function(S){var w=S.font,T=_.Unicode[w.postScriptName];T&&(w.metadata.Unicode={},w.metadata.Unicode.widths=T.widths,w.metadata.Unicode.kerning=T.kerning);var M=g.Unicode[w.postScriptName];M&&(w.metadata.Unicode.encoding=M,w.encoding=M.codePages[0])}])})(Bt.API),(function(n){var e=function(t){for(var r=t.length,s=new Uint8Array(r),o=0;o<r;o++)s[o]=t.charCodeAt(o);return s};n.API.events.push(["addFont",function(t){var r=void 0,s=t.font,o=t.instance;if(!s.isStandardFont){if(o===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");if(typeof(r=o.existsFileInVFS(s.postScriptName)===!1?o.loadFile(s.postScriptName):o.getFileFromVFS(s.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");(function(u,c){c=/^\x00\x01\x00\x00/.test(c)?e(c):e(Lp(c)),u.metadata=n.API.TTFFont.open(c),u.metadata.Unicode=u.metadata.Unicode||{encoding:{},kerning:{},widths:[]},u.metadata.glyIdsUsed=[0]})(s,r)}}])})(Bt),Bt.API.addSvgAsImage=function(n,e,t,r,s,o,u,c){if(isNaN(e)||isNaN(t))throw wr.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(r)||isNaN(s))throw wr.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var h=document.createElement("canvas");h.width=r,h.height=s;var d=h.getContext("2d");d.fillStyle="#fff",d.fillRect(0,0,h.width,h.height);var g={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},_=this;return(cn.canvg?Promise.resolve(cn.canvg):g0(()=>import("./index.es-BdunPr8A.js"),[])).catch(function(S){return Promise.reject(new Error("Could not load canvg: "+S))}).then(function(S){return S.default?S.default:S}).then(function(S){return S.fromString(d,n,g)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(S){return S.render(g)}).then(function(){_.addImage(h.toDataURL("image/jpeg",1),e,t,r,s,u,c)})},Bt.API.putTotalPages=function(n){var e,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(n,"g"),t=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(n,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var s=0;s<this.internal.pages[r].length;s++)this.internal.pages[r][s]=this.internal.pages[r][s].replace(e,t);return this},Bt.API.viewerPreferences=function(n,e){var t;n=n||{},e=e||!1;var r,s,o,u={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},c=Object.keys(u),h=[],d=0,g=0,_=0;function S(T,M){var j,D=!1;for(j=0;j<T.length;j+=1)T[j]===M&&(D=!0);return D}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(u)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,n==="reset"||e===!0){var w=c.length;for(_=0;_<w;_+=1)t[c[_]].value=t[c[_]].defaultValue,t[c[_]].explicitSet=!1}if(or(n)==="object"){for(s in n)if(o=n[s],S(c,s)&&o!==void 0){if(t[s].type==="boolean"&&typeof o=="boolean")t[s].value=o;else if(t[s].type==="name"&&S(t[s].valueSet,o))t[s].value=o;else if(t[s].type==="integer"&&Number.isInteger(o))t[s].value=o;else if(t[s].type==="array"){for(d=0;d<o.length;d+=1)if(r=!0,o[d].length===1&&typeof o[d][0]=="number")h.push(String(o[d]-1));else if(o[d].length>1){for(g=0;g<o[d].length;g+=1)typeof o[d][g]!="number"&&(r=!1);r===!0&&h.push([o[d][0]-1,o[d][1]-1].join(" "))}t[s].value="["+h.join(" ")+"]"}else t[s].value=t[s].defaultValue;t[s].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var T,M=[];for(T in t)t[T].explicitSet===!0&&(t[T].type==="name"?M.push("/"+T+" /"+t[T].value):M.push("/"+T+" "+t[T].value));M.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+M.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},(function(n){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',s=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),o=unescape(encodeURIComponent(r)),u=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),c=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),h=unescape(encodeURIComponent("</x:xmpmeta>")),d=o.length+u.length+c.length+s.length+h.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+d+" >>"),this.internal.write("stream"),this.internal.write(s+o+u+c+h),this.internal.write("endstream"),this.internal.write("endobj")},t=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};n.addMetadata=function(r,s){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:s||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",t),this.internal.events.subscribe("postPutResources",e)),this}})(Bt.API),(function(n){var e=n.API,t=e.pdfEscape16=function(o,u){for(var c,h=u.metadata.Unicode.widths,d=["","0","00","000","0000"],g=[""],_=0,S=o.length;_<S;++_){if(c=u.metadata.characterToGlyph(o.charCodeAt(_)),u.metadata.glyIdsUsed.push(c),u.metadata.toUnicode[c]=o.charCodeAt(_),h.indexOf(c)==-1&&(h.push(c),h.push([parseInt(u.metadata.widthOfGlyph(c),10)])),c=="0")return g.join("");c=c.toString(16),g.push(d[4-c.length],c)}return g.join("")},r=function(o){var u,c,h,d,g,_,S;for(g=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,h=[],_=0,S=(c=Object.keys(o).sort(function(w,T){return w-T})).length;_<S;_++)u=c[_],h.length>=100&&(g+=`
`+h.length+` beginbfchar
`+h.join(`
`)+`
endbfchar`,h=[]),o[u]!==void 0&&o[u]!==null&&typeof o[u].toString=="function"&&(d=("0000"+o[u].toString(16)).slice(-4),u=("0000"+(+u).toString(16)).slice(-4),h.push("<"+u+"><"+d+">"));return h.length&&(g+=`
`+h.length+` beginbfchar
`+h.join(`
`)+`
endbfchar
`),g+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(o){(function(u){var c=u.font,h=u.out,d=u.newObject,g=u.putStream;if(c.metadata instanceof n.API.TTFFont&&c.encoding==="Identity-H"){for(var _=c.metadata.Unicode.widths,S=c.metadata.subset.encode(c.metadata.glyIdsUsed,1),w="",T=0;T<S.length;T++)w+=String.fromCharCode(S[T]);var M=d();g({data:w,addLength1:!0,objectId:M}),h("endobj");var j=d();g({data:r(c.metadata.toUnicode),addLength1:!0,objectId:j}),h("endobj");var D=d();h("<<"),h("/Type /FontDescriptor"),h("/FontName /"+hf(c.fontName)),h("/FontFile2 "+M+" 0 R"),h("/FontBBox "+n.API.PDFObject.convert(c.metadata.bbox)),h("/Flags "+c.metadata.flags),h("/StemV "+c.metadata.stemV),h("/ItalicAngle "+c.metadata.italicAngle),h("/Ascent "+c.metadata.ascender),h("/Descent "+c.metadata.decender),h("/CapHeight "+c.metadata.capHeight),h(">>"),h("endobj");var Q=d();h("<<"),h("/Type /Font"),h("/BaseFont /"+hf(c.fontName)),h("/FontDescriptor "+D+" 0 R"),h("/W "+n.API.PDFObject.convert(_)),h("/CIDToGIDMap /Identity"),h("/DW 1000"),h("/Subtype /CIDFontType2"),h("/CIDSystemInfo"),h("<<"),h("/Supplement 0"),h("/Registry (Adobe)"),h("/Ordering ("+c.encoding+")"),h(">>"),h(">>"),h("endobj"),c.objectNumber=d(),h("<<"),h("/Type /Font"),h("/Subtype /Type0"),h("/ToUnicode "+j+" 0 R"),h("/BaseFont /"+hf(c.fontName)),h("/Encoding /"+c.encoding),h("/DescendantFonts ["+Q+" 0 R]"),h(">>"),h("endobj"),c.isAlreadyPutted=!0}})(o)}]),e.events.push(["putFont",function(o){(function(u){var c=u.font,h=u.out,d=u.newObject,g=u.putStream;if(c.metadata instanceof n.API.TTFFont&&c.encoding==="WinAnsiEncoding"){for(var _=c.metadata.rawData,S="",w=0;w<_.length;w++)S+=String.fromCharCode(_[w]);var T=d();g({data:S,addLength1:!0,objectId:T}),h("endobj");var M=d();g({data:r(c.metadata.toUnicode),addLength1:!0,objectId:M}),h("endobj");var j=d();h("<<"),h("/Descent "+c.metadata.decender),h("/CapHeight "+c.metadata.capHeight),h("/StemV "+c.metadata.stemV),h("/Type /FontDescriptor"),h("/FontFile2 "+T+" 0 R"),h("/Flags 96"),h("/FontBBox "+n.API.PDFObject.convert(c.metadata.bbox)),h("/FontName /"+hf(c.fontName)),h("/ItalicAngle "+c.metadata.italicAngle),h("/Ascent "+c.metadata.ascender),h(">>"),h("endobj"),c.objectNumber=d();for(var D=0;D<c.metadata.hmtx.widths.length;D++)c.metadata.hmtx.widths[D]=parseInt(c.metadata.hmtx.widths[D]*(1e3/c.metadata.head.unitsPerEm));h("<</Subtype/TrueType/Type/Font/ToUnicode "+M+" 0 R/BaseFont/"+hf(c.fontName)+"/FontDescriptor "+j+" 0 R/Encoding/"+c.encoding+" /FirstChar 29 /LastChar 255 /Widths "+n.API.PDFObject.convert(c.metadata.hmtx.widths)+">>"),h("endobj"),c.isAlreadyPutted=!0}})(o)}]);var s=function(o){var u,c=o.text||"",h=o.x,d=o.y,g=o.options||{},_=o.mutex||{},S=_.pdfEscape,w=_.activeFontKey,T=_.fonts,M=w,j="",D=0,Q="",W=T[M].encoding;if(T[M].encoding!=="Identity-H")return{text:c,x:h,y:d,options:g,mutex:_};for(Q=c,M=w,Array.isArray(c)&&(Q=c[0]),D=0;D<Q.length;D+=1)T[M].metadata.hasOwnProperty("cmap")&&(u=T[M].metadata.cmap.unicode.codeMap[Q[D].charCodeAt(0)]),u||Q[D].charCodeAt(0)<256&&T[M].metadata.hasOwnProperty("Unicode")?j+=Q[D]:j+="";var re="";return parseInt(M.slice(1))<14||W==="WinAnsiEncoding"?re=S(j,M).split("").map(function(ye){return ye.charCodeAt(0).toString(16)}).join(""):W==="Identity-H"&&(re=t(j,T[M])),_.isHex=!0,{text:re,x:h,y:d,options:g,mutex:_}};e.events.push(["postProcessText",function(o){var u=o.text||"",c=[],h={text:u,x:o.x,y:o.y,options:o.options,mutex:o.mutex};if(Array.isArray(u)){var d=0;for(d=0;d<u.length;d+=1)Array.isArray(u[d])&&u[d].length===3?c.push([s(Object.assign({},h,{text:u[d][0]})).text,u[d][1],u[d][2]]):c.push(s(Object.assign({},h,{text:u[d]})).text);o.text=c}else o.text=s(Object.assign({},h,{text:u})).text}])})(Bt),(function(n){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};n.existsFileInVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0},n.addFileToVFS=function(t,r){return e.call(this),this.internal.vFS[t]=r,this},n.getFileFromVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0?this.internal.vFS[t]:null}})(Bt.API),(function(n){n.__bidiEngine__=n.prototype.__bidiEngine__=function(r){var s,o,u,c,h,d,g,_=e,S=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],w=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],T={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},M={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},j=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],D=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),Q=!1,W=0;this.__bidiEngine__={};var re=function(N){var O=N.charCodeAt(),F=O>>8,ce=M[F];return ce!==void 0?_[256*ce+(255&O)]:F===252||F===253?"AL":D.test(F)?"L":F===8?"R":"N"},ye=function(N){for(var O,F=0;F<N.length;F++){if((O=re(N.charAt(F)))==="L")return!1;if(O==="R")return!0}return!1},_e=function(N,O,F,ce){var Ce,le,me,de,Ie=O[ce];switch(Ie){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":Q=!1;break;case"N":case"AN":break;case"EN":Q&&(Ie="AN");break;case"AL":Q=!0,Ie="R";break;case"WS":case"BN":Ie="N";break;case"CS":ce<1||ce+1>=O.length||(Ce=F[ce-1])!=="EN"&&Ce!=="AN"||(le=O[ce+1])!=="EN"&&le!=="AN"?Ie="N":Q&&(le="AN"),Ie=le===Ce?le:"N";break;case"ES":Ie=(Ce=ce>0?F[ce-1]:"B")==="EN"&&ce+1<O.length&&O[ce+1]==="EN"?"EN":"N";break;case"ET":if(ce>0&&F[ce-1]==="EN"){Ie="EN";break}if(Q){Ie="N";break}for(me=ce+1,de=O.length;me<de&&O[me]==="ET";)me++;Ie=me<de&&O[me]==="EN"?"EN":"N";break;case"NSM":if(u&&!c){for(de=O.length,me=ce+1;me<de&&O[me]==="NSM";)me++;if(me<de){var Xe=N[ce],Y=Xe>=1425&&Xe<=2303||Xe===64286;if(Ce=O[me],Y&&(Ce==="R"||Ce==="AL")){Ie="R";break}}}Ie=ce<1||(Ce=O[ce-1])==="B"?"N":F[ce-1];break;case"B":Q=!1,s=!0,Ie=W;break;case"S":o=!0,Ie="N"}return Ie},z=function(N,O,F){var ce=N.split("");return F&&V(ce,F,{hiLevel:W}),ce.reverse(),O&&O.reverse(),ce.join("")},V=function(N,O,F){var ce,Ce,le,me,de,Ie=-1,Xe=N.length,Y=0,P=[],K=W?w:S,te=[];for(Q=!1,s=!1,o=!1,Ce=0;Ce<Xe;Ce++)te[Ce]=re(N[Ce]);for(le=0;le<Xe;le++){if(de=Y,P[le]=_e(N,te,P,le),ce=240&(Y=K[de][T[P[le]]]),Y&=15,O[le]=me=K[Y][5],ce>0)if(ce===16){for(Ce=Ie;Ce<le;Ce++)O[Ce]=1;Ie=-1}else Ie=-1;if(K[Y][6])Ie===-1&&(Ie=le);else if(Ie>-1){for(Ce=Ie;Ce<le;Ce++)O[Ce]=me;Ie=-1}te[le]==="B"&&(O[le]=0),F.hiLevel|=me}o&&(function(ue,fe,ve){for(var Te=0;Te<ve;Te++)if(ue[Te]==="S"){fe[Te]=W;for(var Me=Te-1;Me>=0&&ue[Me]==="WS";Me--)fe[Me]=W}})(te,O,Xe)},L=function(N,O,F,ce,Ce){if(!(Ce.hiLevel<N)){if(N===1&&W===1&&!s)return O.reverse(),void(F&&F.reverse());for(var le,me,de,Ie,Xe=O.length,Y=0;Y<Xe;){if(ce[Y]>=N){for(de=Y+1;de<Xe&&ce[de]>=N;)de++;for(Ie=Y,me=de-1;Ie<me;Ie++,me--)le=O[Ie],O[Ie]=O[me],O[me]=le,F&&(le=F[Ie],F[Ie]=F[me],F[me]=le);Y=de}Y++}}},H=function(N,O,F){var ce=N.split(""),Ce={hiLevel:W};return F||(F=[]),V(ce,F,Ce),(function(le,me,de){if(de.hiLevel!==0&&g)for(var Ie,Xe=0;Xe<le.length;Xe++)me[Xe]===1&&(Ie=j.indexOf(le[Xe]))>=0&&(le[Xe]=j[Ie+1])})(ce,F,Ce),L(2,ce,O,F,Ce),L(1,ce,O,F,Ce),ce.join("")};return this.__bidiEngine__.doBidiReorder=function(N,O,F){if((function(Ce,le){if(le)for(var me=0;me<Ce.length;me++)le[me]=me;c===void 0&&(c=ye(Ce)),d===void 0&&(d=ye(Ce))})(N,O),u||!h||d)if(u&&h&&c^d)W=c?1:0,N=z(N,O,F);else if(!u&&h&&d)W=c?1:0,N=H(N,O,F),N=z(N,O);else if(!u||c||h||d){if(u&&!h&&c^d)N=z(N,O),c?(W=0,N=H(N,O,F)):(W=1,N=H(N,O,F),N=z(N,O));else if(u&&c&&!h&&d)W=1,N=H(N,O,F),N=z(N,O);else if(!u&&!h&&c^d){var ce=g;c?(W=1,N=H(N,O,F),W=0,g=!1,N=H(N,O,F),g=ce):(W=0,N=H(N,O,F),N=z(N,O),W=1,g=!1,N=H(N,O,F),g=ce,N=z(N,O))}}else W=0,N=H(N,O,F);else W=c?1:0,N=H(N,O,F);return N},this.__bidiEngine__.setOptions=function(N){N&&(u=N.isInputVisual,h=N.isOutputVisual,c=N.isInputRtl,d=N.isOutputRtl,g=N.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new n.__bidiEngine__({isInputVisual:!0});n.API.events.push(["postProcessText",function(r){var s=r.text;r.x,r.y;var o=r.options||{};r.mutex,o.lang;var u=[];if(o.isInputVisual=typeof o.isInputVisual!="boolean"||o.isInputVisual,t.setOptions(o),Object.prototype.toString.call(s)==="[object Array]"){var c=0;for(u=[],c=0;c<s.length;c+=1)Object.prototype.toString.call(s[c])==="[object Array]"?u.push([t.doBidiReorder(s[c][0]),s[c][1],s[c][2]]):u.push([t.doBidiReorder(s[c])]);r.text=u}else r.text=t.doBidiReorder(s);t.setOptions({isInputVisual:!0})}])})(Bt),Bt.API.TTFFont=(function(){function n(e){var t;if(this.rawData=e,t=this.contents=new Lu(e),this.contents.pos=4,t.readString(4)==="ttcf")throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new nL(this),this.registerTTF()}return n.open=function(e){return new n(e)},n.prototype.parse=function(){return this.directory=new zI(this.contents),this.head=new HI(this),this.name=new KI(this),this.cmap=new Ax(this),this.toUnicode={},this.hhea=new $I(this),this.maxp=new QI(this),this.hmtx=new XI(this),this.post=new YI(this),this.os2=new GI(this),this.loca=new tL(this),this.glyf=new JI(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},n.prototype.registerTTF=function(){var e,t,r,s,o;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var u,c,h,d;for(d=[],u=0,c=(h=this.bbox).length;u<c;u++)e=h[u],d.push(Math.round(e*this.scaleFactor));return d}).call(this),this.stemV=0,this.post.exists?(r=255&(s=this.post.italic_angle),32768&(t=s>>16)&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(o=this.familyClass)===1||o===2||o===3||o===4||o===5||o===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},n.prototype.characterToGlyph=function(e){var t;return((t=this.cmap.unicode)!=null?t.codeMap[e]:void 0)||0},n.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},n.prototype.widthOfString=function(e,t,r){var s,o,u,c;for(u=0,o=0,c=(e=""+e).length;0<=c?o<c:o>c;o=0<=c?++o:--o)s=e.charCodeAt(o),u+=this.widthOfGlyph(this.characterToGlyph(s))+r*(1e3/t)||0;return u*(t/1e3)},n.prototype.lineHeight=function(e,t){var r;return t==null&&(t=!1),r=t?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},n})();var _o,Lu=(function(){function n(e){this.data=e??[],this.pos=0,this.length=this.data.length}return n.prototype.readByte=function(){return this.data[this.pos++]},n.prototype.writeByte=function(e){return this.data[this.pos++]=e},n.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},n.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},n.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},n.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},n.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},n.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},n.prototype.readString=function(e){var t,r;for(r=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)r[t]=String.fromCharCode(this.readByte());return r.join("")},n.prototype.writeString=function(e){var t,r,s;for(s=[],t=0,r=e.length;0<=r?t<r:t>r;t=0<=r?++t:--t)s.push(this.writeByte(e.charCodeAt(t)));return s},n.prototype.readShort=function(){return this.readInt16()},n.prototype.writeShort=function(e){return this.writeInt16(e)},n.prototype.readLongLong=function(){var e,t,r,s,o,u,c,h;return e=this.readByte(),t=this.readByte(),r=this.readByte(),s=this.readByte(),o=this.readByte(),u=this.readByte(),c=this.readByte(),h=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^r)+4294967296*(255^s)+16777216*(255^o)+65536*(255^u)+256*(255^c)+(255^h)+1):72057594037927940*e+281474976710656*t+1099511627776*r+4294967296*s+16777216*o+65536*u+256*c+h},n.prototype.writeLongLong=function(e){var t,r;return t=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},n.prototype.readInt=function(){return this.readInt32()},n.prototype.writeInt=function(e){return this.writeInt32(e)},n.prototype.read=function(e){var t,r;for(t=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)t.push(this.readByte());return t},n.prototype.write=function(e){var t,r,s,o;for(o=[],r=0,s=e.length;r<s;r++)t=e[r],o.push(this.writeByte(t));return o},n})(),zI=(function(){var n;function e(t){var r,s,o;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},s=0,o=this.tableCount;0<=o?s<o:s>o;s=0<=o?++s:--s)r={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(t){var r,s,o,u,c,h,d,g,_,S,w,T,M;for(M in w=Object.keys(t).length,h=Math.log(2),_=16*Math.floor(Math.log(w)/h),u=Math.floor(_/h),g=16*w-_,(s=new Lu).writeInt(this.scalarType),s.writeShort(w),s.writeShort(_),s.writeShort(u),s.writeShort(g),o=16*w,d=s.pos+o,c=null,T=[],t)for(S=t[M],s.writeString(M),s.writeInt(n(S)),s.writeInt(d),s.writeInt(S.length),T=T.concat(S),M==="head"&&(c=d),d+=S.length;d%4;)T.push(0),d++;return s.write(T),r=2981146554-n(s.data),s.pos=c+8,s.writeUInt32(r),s.data},n=function(t){var r,s,o,u;for(t=Ex.call(t);t.length%4;)t.push(0);for(o=new Lu(t),s=0,r=0,u=t.length;r<u;r=r+=4)s+=o.readUInt32();return 4294967295&s},e})(),qI={}.hasOwnProperty,tl=function(n,e){for(var t in e)qI.call(e,t)&&(n[t]=e[t]);function r(){this.constructor=n}return r.prototype=e.prototype,n.prototype=new r,n.__super__=e.prototype,n};_o=(function(){function n(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return n.prototype.parse=function(){},n.prototype.encode=function(){},n.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},n})();var HI=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return tl(n,_o),n.prototype.tag="head",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},n.prototype.encode=function(e){var t;return(t=new Lu).writeInt(this.version),t.writeInt(this.revision),t.writeInt(this.checkSumAdjustment),t.writeInt(this.magicNumber),t.writeShort(this.flags),t.writeShort(this.unitsPerEm),t.writeLongLong(this.created),t.writeLongLong(this.modified),t.writeShort(this.xMin),t.writeShort(this.yMin),t.writeShort(this.xMax),t.writeShort(this.yMax),t.writeShort(this.macStyle),t.writeShort(this.lowestRecPPEM),t.writeShort(this.fontDirectionHint),t.writeShort(e),t.writeShort(this.glyphDataFormat),t.data},n})(),Kw=(function(){function n(e,t){var r,s,o,u,c,h,d,g,_,S,w,T,M,j,D,Q,W;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),_=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(h=0;h<256;++h)this.codeMap[h]=e.readByte();break;case 4:for(w=e.readUInt16(),S=w/2,e.pos+=6,o=(function(){var re,ye;for(ye=[],h=re=0;0<=S?re<S:re>S;h=0<=S?++re:--re)ye.push(e.readUInt16());return ye})(),e.pos+=2,M=(function(){var re,ye;for(ye=[],h=re=0;0<=S?re<S:re>S;h=0<=S?++re:--re)ye.push(e.readUInt16());return ye})(),d=(function(){var re,ye;for(ye=[],h=re=0;0<=S?re<S:re>S;h=0<=S?++re:--re)ye.push(e.readUInt16());return ye})(),g=(function(){var re,ye;for(ye=[],h=re=0;0<=S?re<S:re>S;h=0<=S?++re:--re)ye.push(e.readUInt16());return ye})(),s=(this.length-e.pos+this.offset)/2,c=(function(){var re,ye;for(ye=[],h=re=0;0<=s?re<s:re>s;h=0<=s?++re:--re)ye.push(e.readUInt16());return ye})(),h=D=0,W=o.length;D<W;h=++D)for(j=o[h],r=Q=T=M[h];T<=j?Q<=j:Q>=j;r=T<=j?++Q:--Q)g[h]===0?u=r+d[h]:(u=c[g[h]/2+(r-T)-(S-h)]||0)!==0&&(u+=d[h]),this.codeMap[r]=65535&u}e.pos=_}return n.encode=function(e,t){var r,s,o,u,c,h,d,g,_,S,w,T,M,j,D,Q,W,re,ye,_e,z,V,L,H,N,O,F,ce,Ce,le,me,de,Ie,Xe,Y,P,K,te,ue,fe,ve,Te,Me,$e,ut,pt;switch(ce=new Lu,u=Object.keys(e).sort(function(mt,_t){return mt-_t}),t){case"macroman":for(M=0,j=(function(){var mt=[];for(T=0;T<256;++T)mt.push(0);return mt})(),Q={0:0},o={},Ce=0,Ie=u.length;Ce<Ie;Ce++)Q[Me=e[s=u[Ce]]]==null&&(Q[Me]=++M),o[s]={old:e[s],new:Q[e[s]]},j[s]=Q[e[s]];return ce.writeUInt16(1),ce.writeUInt16(0),ce.writeUInt32(12),ce.writeUInt16(0),ce.writeUInt16(262),ce.writeUInt16(0),ce.write(j),{charMap:o,subtable:ce.data,maxGlyphID:M+1};case"unicode":for(O=[],_=[],W=0,Q={},r={},D=d=null,le=0,Xe=u.length;le<Xe;le++)Q[ye=e[s=u[le]]]==null&&(Q[ye]=++W),r[s]={old:ye,new:Q[ye]},c=Q[ye]-s,D!=null&&c===d||(D&&_.push(D),O.push(s),d=c),D=s;for(D&&_.push(D),_.push(65535),O.push(65535),H=2*(L=O.length),V=2*Math.pow(Math.log(L)/Math.LN2,2),S=Math.log(V/2)/Math.LN2,z=2*L-V,h=[],_e=[],w=[],T=me=0,Y=O.length;me<Y;T=++me){if(N=O[T],g=_[T],N===65535){h.push(0),_e.push(0);break}if(N-(F=r[N].new)>=32768)for(h.push(0),_e.push(2*(w.length+L-T)),s=de=N;N<=g?de<=g:de>=g;s=N<=g?++de:--de)w.push(r[s].new);else h.push(F-N),_e.push(0)}for(ce.writeUInt16(3),ce.writeUInt16(1),ce.writeUInt32(12),ce.writeUInt16(4),ce.writeUInt16(16+8*L+2*w.length),ce.writeUInt16(0),ce.writeUInt16(H),ce.writeUInt16(V),ce.writeUInt16(S),ce.writeUInt16(z),ve=0,P=_.length;ve<P;ve++)s=_[ve],ce.writeUInt16(s);for(ce.writeUInt16(0),Te=0,K=O.length;Te<K;Te++)s=O[Te],ce.writeUInt16(s);for($e=0,te=h.length;$e<te;$e++)c=h[$e],ce.writeUInt16(c);for(ut=0,ue=_e.length;ut<ue;ut++)re=_e[ut],ce.writeUInt16(re);for(pt=0,fe=w.length;pt<fe;pt++)M=w[pt],ce.writeUInt16(M);return{charMap:r,subtable:ce.data,maxGlyphID:W+1}}},n})(),Ax=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return tl(n,_o),n.prototype.tag="cmap",n.prototype.parse=function(e){var t,r,s;for(e.pos=this.offset,this.version=e.readUInt16(),s=e.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=s?r<s:r>s;r=0<=s?++r:--r)t=new Kw(e,this.offset),this.tables.push(t),t.isUnicode&&this.unicode==null&&(this.unicode=t);return!0},n.encode=function(e,t){var r,s;return t==null&&(t="macroman"),r=Kw.encode(e,t),(s=new Lu).writeUInt16(0),s.writeUInt16(1),r.table=s.data.concat(r.subtable),r},n})(),$I=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return tl(n,_o),n.prototype.tag="hhea",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},n})(),GI=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return tl(n,_o),n.prototype.tag="OS/2",n.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=(function(){var t,r;for(r=[],t=0;t<10;++t)r.push(e.readByte());return r})(),this.charRange=(function(){var t,r;for(r=[],t=0;t<4;++t)r.push(e.readInt());return r})(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=(function(){var t,r;for(r=[],t=0;t<2;t=++t)r.push(e.readInt());return r})(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},n})(),YI=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return tl(n,_o),n.prototype.tag="post",n.prototype.parse=function(e){var t,r,s;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var o;for(r=e.readUInt16(),this.glyphNameIndex=[],o=0;0<=r?o<r:o>r;o=0<=r?++o:--o)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],s=[];e.pos<this.offset+this.length;)t=e.readByte(),s.push(this.names.push(e.readString(t)));return s;case 151552:return r=e.readUInt16(),this.offsets=e.read(r);case 262144:return this.map=(function(){var u,c,h;for(h=[],o=u=0,c=this.file.maxp.numGlyphs;0<=c?u<c:u>c;o=0<=c?++u:--u)h.push(e.readUInt32());return h}).call(this)}},n})(),WI=function(n,e){this.raw=n,this.length=n.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},KI=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return tl(n,_o),n.prototype.tag="name",n.prototype.parse=function(e){var t,r,s,o,u,c,h,d,g,_,S;for(e.pos=this.offset,e.readShort(),t=e.readShort(),c=e.readShort(),r=[],o=0;0<=t?o<t:o>t;o=0<=t?++o:--o)r.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+c+e.readShort()});for(h={},o=g=0,_=r.length;g<_;o=++g)s=r[o],e.pos=s.offset,d=e.readString(s.length),u=new WI(d,s),h[S=s.nameID]==null&&(h[S]=[]),h[s.nameID].push(u);this.strings=h,this.copyright=h[0],this.fontFamily=h[1],this.fontSubfamily=h[2],this.uniqueSubfamily=h[3],this.fontName=h[4],this.version=h[5];try{this.postscriptName=h[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=h[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=h[7],this.manufacturer=h[8],this.designer=h[9],this.description=h[10],this.vendorUrl=h[11],this.designerUrl=h[12],this.license=h[13],this.licenseUrl=h[14],this.preferredFamily=h[15],this.preferredSubfamily=h[17],this.compatibleFull=h[18],this.sampleText=h[19]},n})(),QI=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return tl(n,_o),n.prototype.tag="maxp",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},n})(),XI=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return tl(n,_o),n.prototype.tag="hmtx",n.prototype.parse=function(e){var t,r,s,o,u,c,h;for(e.pos=this.offset,this.metrics=[],t=0,c=this.file.hhea.numberOfMetrics;0<=c?t<c:t>c;t=0<=c?++t:--t)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var d,g;for(g=[],t=d=0;0<=s?d<s:d>s;t=0<=s?++d:--d)g.push(e.readInt16());return g})(),this.widths=(function(){var d,g,_,S;for(S=[],d=0,g=(_=this.metrics).length;d<g;d++)o=_[d],S.push(o.advance);return S}).call(this),r=this.widths[this.widths.length-1],h=[],t=u=0;0<=s?u<s:u>s;t=0<=s?++u:--u)h.push(this.widths.push(r));return h},n.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},n})(),Ex=[].slice,JI=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return tl(n,_o),n.prototype.tag="glyf",n.prototype.parse=function(){return this.cache={}},n.prototype.glyphFor=function(e){var t,r,s,o,u,c,h,d,g,_;return e in this.cache?this.cache[e]:(o=this.file.loca,t=this.file.contents,r=o.indexOf(e),(s=o.lengthOf(e))===0?this.cache[e]=null:(t.pos=this.offset+r,u=(c=new Lu(t.read(s))).readShort(),d=c.readShort(),_=c.readShort(),h=c.readShort(),g=c.readShort(),this.cache[e]=u===-1?new eL(c,d,_,h,g):new ZI(c,u,d,_,h,g),this.cache[e]))},n.prototype.encode=function(e,t,r){var s,o,u,c,h;for(u=[],o=[],c=0,h=t.length;c<h;c++)s=e[t[c]],o.push(u.length),s&&(u=u.concat(s.encode(r)));return o.push(u.length),{table:u,offsets:o}},n})(),ZI=(function(){function n(e,t,r,s,o,u){this.raw=e,this.numberOfContours=t,this.xMin=r,this.yMin=s,this.xMax=o,this.yMax=u,this.compound=!1}return n.prototype.encode=function(){return this.raw.data},n})(),eL=(function(){function n(e,t,r,s,o){var u,c;for(this.raw=e,this.xMin=t,this.yMin=r,this.xMax=s,this.yMax=o,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],u=this.raw;c=u.readShort(),this.glyphOffsets.push(u.pos),this.glyphIDs.push(u.readUInt16()),32&c;)u.pos+=1&c?4:2,128&c?u.pos+=8:64&c?u.pos+=4:8&c&&(u.pos+=2)}return n.prototype.encode=function(){var e,t,r;for(t=new Lu(Ex.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)t.pos=this.glyphOffsets[e];return t.data},n})(),tL=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return tl(n,_o),n.prototype.tag="loca",n.prototype.parse=function(e){var t,r;return e.pos=this.offset,t=this.file.head.indexToLocFormat,this.offsets=t===0?(function(){var s,o;for(o=[],r=0,s=this.length;r<s;r+=2)o.push(2*e.readUInt16());return o}).call(this):(function(){var s,o;for(o=[],r=0,s=this.length;r<s;r+=4)o.push(e.readUInt32());return o}).call(this)},n.prototype.indexOf=function(e){return this.offsets[e]},n.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},n.prototype.encode=function(e,t){for(var r=new Uint32Array(this.offsets.length),s=0,o=0,u=0;u<r.length;++u)if(r[u]=s,o<t.length&&t[o]==u){++o,r[u]=s;var c=this.offsets[u],h=this.offsets[u+1]-c;h>0&&(s+=h)}for(var d=new Array(4*r.length),g=0;g<r.length;++g)d[4*g+3]=255&r[g],d[4*g+2]=(65280&r[g])>>8,d[4*g+1]=(16711680&r[g])>>16,d[4*g]=(4278190080&r[g])>>24;return d},n})(),nL=(function(){function n(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return n.prototype.generateCmap=function(){var e,t,r,s,o;for(t in s=this.font.cmap.tables[0].codeMap,e={},o=this.subset)r=o[t],e[t]=s[r];return e},n.prototype.glyphsFor=function(e){var t,r,s,o,u,c,h;for(s={},u=0,c=e.length;u<c;u++)s[o=e[u]]=this.font.glyf.glyphFor(o);for(o in t=[],s)(r=s[o])!=null&&r.compound&&t.push.apply(t,r.glyphIDs);if(t.length>0)for(o in h=this.glyphsFor(t))r=h[o],s[o]=r;return s},n.prototype.encode=function(e,t){var r,s,o,u,c,h,d,g,_,S,w,T,M,j,D;for(s in r=Ax.encode(this.generateCmap(),"unicode"),u=this.glyphsFor(e),w={0:0},D=r.charMap)w[(h=D[s]).old]=h.new;for(T in S=r.maxGlyphID,u)T in w||(w[T]=S++);return g=(function(Q){var W,re;for(W in re={},Q)re[Q[W]]=W;return re})(w),_=Object.keys(g).sort(function(Q,W){return Q-W}),M=(function(){var Q,W,re;for(re=[],Q=0,W=_.length;Q<W;Q++)c=_[Q],re.push(g[c]);return re})(),o=this.font.glyf.encode(u,M,w),d=this.font.loca.encode(o.offsets,M),j={cmap:this.font.cmap.raw(),glyf:o.table,loca:d,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(j["OS/2"]=this.font.os2.raw()),this.font.directory.encode(j)},n})();Bt.API.PDFObject=(function(){var n;function e(){}return n=function(t,r){return(Array(r+1).join("0")+t).slice(-r)},e.convert=function(t){var r,s,o,u;if(Array.isArray(t))return"["+(function(){var c,h,d;for(d=[],c=0,h=t.length;c<h;c++)r=t[c],d.push(e.convert(r));return d})().join(" ")+"]";if(typeof t=="string")return"/"+t;if(t?.isString)return"("+t+")";if(t instanceof Date)return"(D:"+n(t.getUTCFullYear(),4)+n(t.getUTCMonth(),2)+n(t.getUTCDate(),2)+n(t.getUTCHours(),2)+n(t.getUTCMinutes(),2)+n(t.getUTCSeconds(),2)+"Z)";if({}.toString.call(t)==="[object Object]"){for(s in o=["<<"],t)u=t[s],o.push("/"+s+" "+e.convert(u));return o.push(">>"),o.join(`
`)}return""+t},e})();function Tx(n,e,t,r,s){r=r||{};var o=1.15,u=s.internal.scaleFactor,c=s.internal.getFontSize()/u,h=s.getLineHeightFactor?s.getLineHeightFactor():o,d=c*h,g=/\r\n|\r|\n/g,_="",S=1;if((r.valign==="middle"||r.valign==="bottom"||r.halign==="center"||r.halign==="right")&&(_=typeof n=="string"?n.split(g):n,S=_.length||1),t+=c*(2-o),r.valign==="middle"?t-=S/2*d:r.valign==="bottom"&&(t-=S*d),r.halign==="center"||r.halign==="right"){var w=c;if(r.halign==="center"&&(w*=.5),_&&S>=1){for(var T=0;T<_.length;T++)s.text(_[T],e-s.getStringUnitWidth(_[T])*w,t),t+=d;return s}e-=s.getStringUnitWidth(n)*w}return r.halign==="justify"?s.text(n,e,t,{maxWidth:r.maxWidth||100,align:"justify"}):s.text(n,e,t),s}var Qw={},Af=(function(){function n(e){this.jsPDFDocument=e,this.userStyles={textColor:e.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:e.internal.getFontSize(),fontStyle:e.internal.getFont().fontStyle,font:e.internal.getFont().fontName,lineWidth:e.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:e.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return n.setDefaults=function(e,t){t===void 0&&(t=null),t?t.__autoTableDocumentDefaults=e:Qw=e},n.unifyColor=function(e){return Array.isArray(e)?e:typeof e=="number"?[e,e,e]:typeof e=="string"?[e]:null},n.prototype.applyStyles=function(e,t){var r,s,o;t===void 0&&(t=!1),e.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(e.fontStyle);var u=this.jsPDFDocument.internal.getFont(),c=u.fontStyle,h=u.fontName;if(e.font&&(h=e.font),e.fontStyle){c=e.fontStyle;var d=this.getFontList()[h];d&&d.indexOf(c)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(d[0]),c=d[0])}if(this.jsPDFDocument.setFont(h,c),e.fontSize&&this.jsPDFDocument.setFontSize(e.fontSize),!t){var g=n.unifyColor(e.fillColor);g&&(r=this.jsPDFDocument).setFillColor.apply(r,g),g=n.unifyColor(e.textColor),g&&(s=this.jsPDFDocument).setTextColor.apply(s,g),g=n.unifyColor(e.lineColor),g&&(o=this.jsPDFDocument).setDrawColor.apply(o,g),typeof e.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(e.lineWidth)}},n.prototype.splitTextToSize=function(e,t,r){return this.jsPDFDocument.splitTextToSize(e,t,r)},n.prototype.rect=function(e,t,r,s,o){return this.jsPDFDocument.rect(e,t,r,s,o)},n.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},n.prototype.getTextWidth=function(e){return this.jsPDFDocument.getTextWidth(e)},n.prototype.getDocument=function(){return this.jsPDFDocument},n.prototype.setPage=function(e){this.jsPDFDocument.setPage(e)},n.prototype.addPage=function(){return this.jsPDFDocument.addPage()},n.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},n.prototype.getGlobalOptions=function(){return Qw||{}},n.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},n.prototype.pageSize=function(){var e=this.jsPDFDocument.internal.pageSize;return e.width==null&&(e={width:e.getWidth(),height:e.getHeight()}),e},n.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},n.prototype.getLineHeightFactor=function(){var e=this.jsPDFDocument;return e.getLineHeightFactor?e.getLineHeightFactor():1.15},n.prototype.getLineHeight=function(e){return e/this.scaleFactor()*this.getLineHeightFactor()},n.prototype.pageNumber=function(){var e=this.jsPDFDocument.internal.getCurrentPageInfo();return e?e.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},n})(),T1=function(n,e){return T1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])},T1(n,e)};function Nx(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");T1(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var Cx=(function(n){Nx(e,n);function e(t){var r=n.call(this)||this;return r._element=t,r}return e})(Array);function rL(n){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/n,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function iL(n){var e={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return e[n]}function am(n,e,t){t.applyStyles(e,!0);var r=Array.isArray(n)?n:[n],s=r.map(function(o){return t.getTextWidth(o)}).reduce(function(o,u){return Math.max(o,u)},0);return s}function Dx(n,e,t,r){var s=e.settings.tableLineWidth,o=e.settings.tableLineColor;n.applyStyles({lineWidth:s,lineColor:o});var u=Rx(s,!1);u&&n.rect(t.x,t.y,e.getWidth(n.pageSize().width),r.y-t.y,u)}function Rx(n,e){var t=n>0,r=e||e===0;return t&&r?"DF":t?"S":r?"F":null}function Im(n,e){var t,r,s,o;if(n=n||e,Array.isArray(n)){if(n.length>=4)return{top:n[0],right:n[1],bottom:n[2],left:n[3]};if(n.length===3)return{top:n[0],right:n[1],bottom:n[2],left:n[1]};if(n.length===2)return{top:n[0],right:n[1],bottom:n[0],left:n[1]};n.length===1?n=n[0]:n=e}return typeof n=="object"?(typeof n.vertical=="number"&&(n.top=n.vertical,n.bottom=n.vertical),typeof n.horizontal=="number"&&(n.right=n.horizontal,n.left=n.horizontal),{left:(t=n.left)!==null&&t!==void 0?t:e,top:(r=n.top)!==null&&r!==void 0?r:e,right:(s=n.right)!==null&&s!==void 0?s:e,bottom:(o=n.bottom)!==null&&o!==void 0?o:e}):(typeof n!="number"&&(n=e),{top:n,right:n,bottom:n,left:n})}function Ix(n,e){var t=Im(e.settings.margin,0);return n.pageSize().width-(t.left+t.right)}function aL(n,e,t,r,s){var o={},u=1.3333333333333333,c=F0(e,function(W){return s.getComputedStyle(W).backgroundColor});c!=null&&(o.fillColor=c);var h=F0(e,function(W){return s.getComputedStyle(W).color});h!=null&&(o.textColor=h);var d=oL(r,t);d&&(o.cellPadding=d);var g="borderTopColor",_=u*t,S=r.borderTopWidth;if(r.borderBottomWidth===S&&r.borderRightWidth===S&&r.borderLeftWidth===S){var w=(parseFloat(S)||0)/_;w&&(o.lineWidth=w)}else o.lineWidth={top:(parseFloat(r.borderTopWidth)||0)/_,right:(parseFloat(r.borderRightWidth)||0)/_,bottom:(parseFloat(r.borderBottomWidth)||0)/_,left:(parseFloat(r.borderLeftWidth)||0)/_},o.lineWidth.top||(o.lineWidth.right?g="borderRightColor":o.lineWidth.bottom?g="borderBottomColor":o.lineWidth.left&&(g="borderLeftColor"));var T=F0(e,function(W){return s.getComputedStyle(W)[g]});T!=null&&(o.lineColor=T);var M=["left","right","center","justify"];M.indexOf(r.textAlign)!==-1&&(o.halign=r.textAlign),M=["middle","bottom","top"],M.indexOf(r.verticalAlign)!==-1&&(o.valign=r.verticalAlign);var j=parseInt(r.fontSize||"");isNaN(j)||(o.fontSize=j/u);var D=sL(r);D&&(o.fontStyle=D);var Q=(r.fontFamily||"").toLowerCase();return n.indexOf(Q)!==-1&&(o.font=Q),o}function sL(n){var e="";return(n.fontWeight==="bold"||n.fontWeight==="bolder"||parseInt(n.fontWeight)>=700)&&(e="bold"),(n.fontStyle==="italic"||n.fontStyle==="oblique")&&(e+="italic"),e}function F0(n,e){var t=Lx(n,e);if(!t)return null;var r=t.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!r||!Array.isArray(r))return null;var s=[parseInt(r[1]),parseInt(r[2]),parseInt(r[3])],o=parseInt(r[4]);return o===0||isNaN(s[0])||isNaN(s[1])||isNaN(s[2])?null:s}function Lx(n,e){var t=e(n);return t==="rgba(0, 0, 0, 0)"||t==="transparent"||t==="initial"||t==="inherit"?n.parentElement==null?null:Lx(n.parentElement,e):t}function oL(n,e){var t=[n.paddingTop,n.paddingRight,n.paddingBottom,n.paddingLeft],r=96/(72/e),s=(parseInt(n.lineHeight)-parseInt(n.fontSize))/e/2,o=t.map(function(c){return parseInt(c||"0")/r}),u=Im(o,0);return s>u.top&&(u.top=s),s>u.bottom&&(u.bottom=s),u}function Mx(n,e,t,r,s){var o,u;r===void 0&&(r=!1),s===void 0&&(s=!1);var c;typeof e=="string"?c=t.document.querySelector(e):c=e;var h=Object.keys(n.getFontList()),d=n.scaleFactor(),g=[],_=[],S=[];if(!c)return console.error("Html table could not be found with input: ",e),{head:g,body:_,foot:S};for(var w=0;w<c.rows.length;w++){var T=c.rows[w],M=(u=(o=T?.parentElement)===null||o===void 0?void 0:o.tagName)===null||u===void 0?void 0:u.toLowerCase(),j=lL(h,d,t,T,r,s);j&&(M==="thead"?g.push(j):M==="tfoot"?S.push(j):_.push(j))}return{head:g,body:_,foot:S}}function lL(n,e,t,r,s,o){for(var u=new Cx(r),c=0;c<r.cells.length;c++){var h=r.cells[c],d=t.getComputedStyle(h);if(s||d.display!=="none"){var g=void 0;o&&(g=aL(n,h,e,d,t)),u.push({rowSpan:h.rowSpan,colSpan:h.colSpan,styles:g,_element:h,content:uL(h)})}}var _=t.getComputedStyle(r);if(u.length>0&&(s||_.display!=="none"))return u}function uL(n){var e=n.cloneNode(!0);return e.innerHTML=e.innerHTML.replace(/\n/g,"").replace(/ +/g," "),e.innerHTML=e.innerHTML.split(/<br.*?>/).map(function(t){return t.trim()}).join(`
`),e.innerText||e.textContent||""}function cL(n,e,t){for(var r=0,s=[n,e,t];r<s.length;r++){var o=s[r];o&&typeof o!="object"&&console.error("The options parameter should be of type object, is: "+typeof o),o.startY&&typeof o.startY!="number"&&(console.error("Invalid value for startY option",o.startY),delete o.startY)}}function Il(n,e,t,r,s){if(n==null)throw new TypeError("Cannot convert undefined or null to object");for(var o=Object(n),u=1;u<arguments.length;u++){var c=arguments[u];if(c!=null)for(var h in c)Object.prototype.hasOwnProperty.call(c,h)&&(o[h]=c[h])}return o}function kx(n,e){var t=new Af(n),r=t.getDocumentOptions(),s=t.getGlobalOptions();cL(s,r,e);var o=Il({},s,r,e),u;typeof window<"u"&&(u=window);var c=fL(s,r,e),h=hL(s,r,e),d=dL(t,o),g=mL(t,o,u);return{id:e.tableId,content:g,hooks:h,styles:c,settings:d}}function fL(n,e,t){for(var r={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},s=function(h){if(h==="columnStyles"){var d=n[h],g=e[h],_=t[h];r.columnStyles=Il({},d,g,_)}else{var S=[n,e,t],w=S.map(function(T){return T[h]||{}});r[h]=Il({},w[0],w[1],w[2])}},o=0,u=Object.keys(r);o<u.length;o++){var c=u[o];s(c)}return r}function hL(n,e,t){for(var r=[n,e,t],s={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},o=0,u=r;o<u.length;o++){var c=u[o];c.didParseCell&&s.didParseCell.push(c.didParseCell),c.willDrawCell&&s.willDrawCell.push(c.willDrawCell),c.didDrawCell&&s.didDrawCell.push(c.didDrawCell),c.willDrawPage&&s.willDrawPage.push(c.willDrawPage),c.didDrawPage&&s.didDrawPage.push(c.didDrawPage)}return s}function dL(n,e){var t,r,s,o,u,c,h,d,g,_,S,w,T=Im(e.margin,40/n.scaleFactor()),M=(t=pL(n,e.startY))!==null&&t!==void 0?t:T.top,j;e.showFoot===!0?j="everyPage":e.showFoot===!1?j="never":j=(r=e.showFoot)!==null&&r!==void 0?r:"everyPage";var D;e.showHead===!0?D="everyPage":e.showHead===!1?D="never":D=(s=e.showHead)!==null&&s!==void 0?s:"everyPage";var Q=(o=e.useCss)!==null&&o!==void 0?o:!1,W=e.theme||(Q?"plain":"striped"),re=!!e.horizontalPageBreak,ye=(u=e.horizontalPageBreakRepeat)!==null&&u!==void 0?u:null;return{includeHiddenHtml:(c=e.includeHiddenHtml)!==null&&c!==void 0?c:!1,useCss:Q,theme:W,startY:M,margin:T,pageBreak:(h=e.pageBreak)!==null&&h!==void 0?h:"auto",rowPageBreak:(d=e.rowPageBreak)!==null&&d!==void 0?d:"auto",tableWidth:(g=e.tableWidth)!==null&&g!==void 0?g:"auto",showHead:D,showFoot:j,tableLineWidth:(_=e.tableLineWidth)!==null&&_!==void 0?_:0,tableLineColor:(S=e.tableLineColor)!==null&&S!==void 0?S:200,horizontalPageBreak:re,horizontalPageBreakRepeat:ye,horizontalPageBreakBehaviour:(w=e.horizontalPageBreakBehaviour)!==null&&w!==void 0?w:"afterAllRows"}}function pL(n,e){var t=n.getLastAutoTable(),r=n.scaleFactor(),s=n.pageNumber(),o=!1;if(t&&t.startPageNumber){var u=t.startPageNumber+t.pageNumber-1;o=u===s}return typeof e=="number"?e:(e==null||e===!1)&&o&&t?.finalY!=null?t.finalY+20/r:null}function mL(n,e,t){var r=e.head||[],s=e.body||[],o=e.foot||[];if(e.html){var u=e.includeHiddenHtml;if(t){var c=Mx(n,e.html,t,u,e.useCss)||{};r=c.head||r,s=c.body||r,o=c.foot||r}else console.error("Cannot parse html in non browser environment")}var h=e.columns||gL(r,s,o);return{columns:h,head:r,body:s,foot:o}}function gL(n,e,t){var r=n[0]||e[0]||t[0]||[],s=[];return Object.keys(r).filter(function(o){return o!=="_element"}).forEach(function(o){var u=1,c;Array.isArray(r)?c=r[parseInt(o)]:c=r[o],typeof c=="object"&&!Array.isArray(c)&&(u=c?.colSpan||1);for(var h=0;h<u;h++){var d=void 0;Array.isArray(r)?d=s.length:d=o+(h>0?"_".concat(h):"");var g={dataKey:d};s.push(g)}}),s}var N1=(function(){function n(e,t,r){this.table=t,this.pageNumber=t.pageNumber,this.settings=t.settings,this.cursor=r,this.doc=e.getDocument()}return n})(),vL=(function(n){Nx(e,n);function e(t,r,s,o,u,c){var h=n.call(this,t,r,c)||this;return h.cell=s,h.row=o,h.column=u,h.section=o.section,h}return e})(N1),yL=(function(){function n(e,t){this.pageNumber=1,this.id=e.id,this.settings=e.settings,this.styles=e.styles,this.hooks=e.hooks,this.columns=t.columns,this.head=t.head,this.body=t.body,this.foot=t.foot}return n.prototype.getHeadHeight=function(e){return this.head.reduce(function(t,r){return t+r.getMaxCellHeight(e)},0)},n.prototype.getFootHeight=function(e){return this.foot.reduce(function(t,r){return t+r.getMaxCellHeight(e)},0)},n.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},n.prototype.callCellHooks=function(e,t,r,s,o,u){for(var c=0,h=t;c<h.length;c++){var d=h[c],g=new vL(e,this,r,s,o,u),_=d(g)===!1;if(r.text=Array.isArray(r.text)?r.text:[r.text],_)return!1}return!0},n.prototype.callEndPageHooks=function(e,t){e.applyStyles(e.userStyles);for(var r=0,s=this.hooks.didDrawPage;r<s.length;r++){var o=s[r];o(new N1(e,this,t))}},n.prototype.callWillDrawPageHooks=function(e,t){for(var r=0,s=this.hooks.willDrawPage;r<s.length;r++){var o=s[r];o(new N1(e,this,t))}},n.prototype.getWidth=function(e){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var t=this.columns.reduce(function(s,o){return s+o.wrappedWidth},0);return t}else{var r=this.settings.margin;return e-r.left-r.right}},n})(),Ox=(function(){function n(e,t,r,s,o){o===void 0&&(o=!1),this.height=0,this.raw=e,e instanceof Cx&&(this.raw=e._element,this.element=e._element),this.index=t,this.section=r,this.cells=s,this.spansMultiplePages=o}return n.prototype.getMaxCellHeight=function(e){var t=this;return e.reduce(function(r,s){var o;return Math.max(r,((o=t.cells[s.index])===null||o===void 0?void 0:o.height)||0)},0)},n.prototype.hasRowSpan=function(e){var t=this;return e.filter(function(r){var s=t.cells[r.index];return s?s.rowSpan>1:!1}).length>0},n.prototype.canEntireRowFit=function(e,t){return this.getMaxCellHeight(t)<=e},n.prototype.getMinimumRowHeight=function(e,t){var r=this;return e.reduce(function(s,o){var u=r.cells[o.index];if(!u)return 0;var c=t.getLineHeight(u.styles.fontSize),h=u.padding("vertical"),d=h+c;return d>s?d:s},0)},n})(),Px=(function(){function n(e,t,r){var s;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=t,this.section=r,this.raw=e;var o=e;e!=null&&typeof e=="object"&&!Array.isArray(e)?(this.rowSpan=e.rowSpan||1,this.colSpan=e.colSpan||1,o=(s=e.content)!==null&&s!==void 0?s:e,e._element&&(this.raw=e._element)):(this.rowSpan=1,this.colSpan=1);var u=o!=null?""+o:"",c=/\r\n|\r|\n/g;this.text=u.split(c)}return n.prototype.getTextPos=function(){var e;if(this.styles.valign==="top")e=this.y+this.padding("top");else if(this.styles.valign==="bottom")e=this.y+this.height-this.padding("bottom");else{var t=this.height-this.padding("vertical");e=this.y+t/2+this.padding("top")}var r;if(this.styles.halign==="right")r=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var s=this.width-this.padding("horizontal");r=this.x+s/2+this.padding("left")}else r=this.x+this.padding("left");return{x:r,y:e}},n.prototype.getContentHeight=function(e,t){t===void 0&&(t=1.15);var r=Array.isArray(this.text)?this.text.length:1,s=this.styles.fontSize/e*t,o=r*s+this.padding("vertical");return Math.max(o,this.styles.minCellHeight)},n.prototype.padding=function(e){var t=Im(this.styles.cellPadding,0);return e==="vertical"?t.top+t.bottom:e==="horizontal"?t.left+t.right:t[e]},n})(),bL=(function(){function n(e,t,r){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=e,this.raw=t,this.index=r}return n.prototype.getMaxCustomCellWidth=function(e){for(var t=0,r=0,s=e.allRows();r<s.length;r++){var o=s[r],u=o.cells[this.index];u&&typeof u.styles.cellWidth=="number"&&(t=Math.max(t,u.styles.cellWidth))}return t},n})();function wL(n,e){_L(n,e);var t=[],r=0;e.columns.forEach(function(o){var u=o.getMaxCustomCellWidth(e);u?o.width=u:(o.width=o.wrappedWidth,t.push(o)),r+=o.width});var s=e.getWidth(n.pageSize().width)-r;s&&(s=C1(t,s,function(o){return Math.max(o.minReadableWidth,o.minWidth)})),s&&(s=C1(t,s,function(o){return o.minWidth})),s=Math.abs(s),!e.settings.horizontalPageBreak&&s>.1/n.scaleFactor()&&(s=s<1?s:Math.round(s),console.warn("Of the table content, ".concat(s," units width could not fit page"))),SL(e),AL(e,n),xL(e)}function _L(n,e){var t=n.scaleFactor(),r=e.settings.horizontalPageBreak,s=Ix(n,e);e.allRows().forEach(function(o){for(var u=0,c=e.columns;u<c.length;u++){var h=c[u],d=o.cells[h.index];if(d){var g=e.hooks.didParseCell;e.callCellHooks(n,g,d,o,h,null);var _=d.padding("horizontal");d.contentWidth=am(d.text,d.styles,n)+_;var S=am(d.text.join(" ").split(/[^\S\u00A0]+/),d.styles,n);if(d.minReadableWidth=S+d.padding("horizontal"),typeof d.styles.cellWidth=="number")d.minWidth=d.styles.cellWidth,d.wrappedWidth=d.styles.cellWidth;else if(d.styles.cellWidth==="wrap"||r===!0)d.contentWidth>s?(d.minWidth=s,d.wrappedWidth=s):(d.minWidth=d.contentWidth,d.wrappedWidth=d.contentWidth);else{var w=10/t;d.minWidth=d.styles.minCellWidth||w,d.wrappedWidth=d.contentWidth,d.minWidth>d.wrappedWidth&&(d.wrappedWidth=d.minWidth)}}}}),e.allRows().forEach(function(o){for(var u=0,c=e.columns;u<c.length;u++){var h=c[u],d=o.cells[h.index];if(d&&d.colSpan===1)h.wrappedWidth=Math.max(h.wrappedWidth,d.wrappedWidth),h.minWidth=Math.max(h.minWidth,d.minWidth),h.minReadableWidth=Math.max(h.minReadableWidth,d.minReadableWidth);else{var g=e.styles.columnStyles[h.dataKey]||e.styles.columnStyles[h.index]||{},_=g.cellWidth||g.minCellWidth;_&&typeof _=="number"&&(h.minWidth=_,h.wrappedWidth=_)}d&&(d.colSpan>1&&!h.minWidth&&(h.minWidth=d.minWidth),d.colSpan>1&&!h.wrappedWidth&&(h.wrappedWidth=d.minWidth))}})}function C1(n,e,t){for(var r=e,s=n.reduce(function(w,T){return w+T.wrappedWidth},0),o=0;o<n.length;o++){var u=n[o],c=u.wrappedWidth/s,h=r*c,d=u.width+h,g=t(u),_=d<g?g:d;e-=_-u.width,u.width=_}if(e=Math.round(e*1e10)/1e10,e){var S=n.filter(function(w){return e<0?w.width>t(w):!0});S.length&&(e=C1(S,e,t))}return e}function xL(n){for(var e={},t=1,r=n.allRows(),s=0;s<r.length;s++)for(var o=r[s],u=0,c=n.columns;u<c.length;u++){var h=c[u],d=e[h.index];if(t>1)t--,delete o.cells[h.index];else if(d)d.cell.height+=o.height,t=d.cell.colSpan,delete o.cells[h.index],d.left--,d.left<=1&&delete e[h.index];else{var g=o.cells[h.index];if(!g)continue;if(g.height=o.height,g.rowSpan>1){var _=r.length-s,S=g.rowSpan>_?_:g.rowSpan;e[h.index]={cell:g,left:S,row:o}}}}}function SL(n){for(var e=n.allRows(),t=0;t<e.length;t++)for(var r=e[t],s=null,o=0,u=0,c=0;c<n.columns.length;c++){var h=n.columns[c];if(u-=1,u>1&&n.columns[c+1])o+=h.width,delete r.cells[h.index];else if(s){var d=s;delete r.cells[h.index],s=null,d.width=h.width+o}else{var d=r.cells[h.index];if(!d)continue;if(u=d.colSpan,o=0,d.colSpan>1){s=d,o+=h.width;continue}d.width=h.width+o}}}function AL(n,e){for(var t={count:0,height:0},r=0,s=n.allRows();r<s.length;r++){for(var o=s[r],u=0,c=n.columns;u<c.length;u++){var h=c[u],d=o.cells[h.index];if(d){e.applyStyles(d.styles,!0);var g=d.width-d.padding("horizontal");if(d.styles.overflow==="linebreak")d.text=e.splitTextToSize(d.text,g+1/e.scaleFactor(),{fontSize:d.styles.fontSize});else if(d.styles.overflow==="ellipsize")d.text=Xw(d.text,g,d.styles,e,"...");else if(d.styles.overflow==="hidden")d.text=Xw(d.text,g,d.styles,e,"");else if(typeof d.styles.overflow=="function"){var _=d.styles.overflow(d.text,g);typeof _=="string"?d.text=[_]:d.text=_}d.contentHeight=d.getContentHeight(e.scaleFactor(),e.getLineHeightFactor());var S=d.contentHeight/d.rowSpan;d.rowSpan>1&&t.count*t.height<S*d.rowSpan?t={height:S,count:d.rowSpan}:t&&t.count>0&&t.height>S&&(S=t.height),S>o.height&&(o.height=S)}}t.count--}}function Xw(n,e,t,r,s){return n.map(function(o){return EL(o,e,t,r,s)})}function EL(n,e,t,r,s){var o=1e4*r.scaleFactor();if(e=Math.ceil(e*o)/o,e>=am(n,t,r))return n;for(;e<am(n+s,t,r)&&!(n.length<=1);)n=n.substring(0,n.length-1);return n.trim()+s}function jx(n,e){var t=new Af(n),r=TL(e,t.scaleFactor()),s=new yL(e,r);return wL(t,s),t.applyStyles(t.userStyles),s}function TL(n,e){var t=n.content,r=CL(t.columns);if(t.head.length===0){var s=Jw(r,"head");s&&t.head.push(s)}if(t.foot.length===0){var s=Jw(r,"foot");s&&t.foot.push(s)}var o=n.settings.theme,u=n.styles;return{columns:r,head:V0("head",t.head,r,u,o,e),body:V0("body",t.body,r,u,o,e),foot:V0("foot",t.foot,r,u,o,e)}}function V0(n,e,t,r,s,o){var u={},c=e.map(function(h,d){for(var g=0,_={},S=0,w=0,T=0,M=t;T<M.length;T++){var j=M[T];if(u[j.index]==null||u[j.index].left===0)if(w===0){var D=void 0;Array.isArray(h)?D=h[j.index-S-g]:D=h[j.dataKey];var Q={};typeof D=="object"&&!Array.isArray(D)&&(Q=D?.styles||{});var W=DL(n,j,d,s,r,o,Q),re=new Px(D,W,n);_[j.dataKey]=re,_[j.index]=re,w=re.colSpan-1,u[j.index]={left:re.rowSpan-1,times:w}}else w--,S++;else u[j.index].left--,w=u[j.index].times,g++}return new Ox(h,d,n,_)});return c}function Jw(n,e){var t={};return n.forEach(function(r){if(r.raw!=null){var s=NL(e,r.raw);s!=null&&(t[r.dataKey]=s)}}),Object.keys(t).length>0?t:null}function NL(n,e){if(n==="head"){if(typeof e=="object")return e.header||null;if(typeof e=="string"||typeof e=="number")return e}else if(n==="foot"&&typeof e=="object")return e.footer;return null}function CL(n){return n.map(function(e,t){var r,s;return typeof e=="object"?s=(r=e.dataKey)!==null&&r!==void 0?r:t:s=t,new bL(s,e,t)})}function DL(n,e,t,r,s,o,u){var c=iL(r),h;n==="head"?h=s.headStyles:n==="body"?h=s.bodyStyles:n==="foot"&&(h=s.footStyles);var d=Il({},c.table,c[n],s.styles,h),g=s.columnStyles[e.dataKey]||s.columnStyles[e.index]||{},_=n==="body"?g:{},S=n==="body"&&t%2===0?Il({},c.alternateRow,s.alternateRowStyles):{},w=rL(o),T=Il({},w,d,S,_);return Il(T,u)}function RL(n,e,t){var r;t===void 0&&(t={});var s=Ix(n,e),o=new Map,u=[],c=[],h=[];Array.isArray(e.settings.horizontalPageBreakRepeat)?h=e.settings.horizontalPageBreakRepeat:(typeof e.settings.horizontalPageBreakRepeat=="string"||typeof e.settings.horizontalPageBreakRepeat=="number")&&(h=[e.settings.horizontalPageBreakRepeat]),h.forEach(function(S){var w=e.columns.find(function(T){return T.dataKey===S||T.index===S});w&&!o.has(w.index)&&(o.set(w.index,!0),u.push(w.index),c.push(e.columns[w.index]),s-=w.wrappedWidth)});for(var d=!0,g=(r=t?.start)!==null&&r!==void 0?r:0;g<e.columns.length;){if(o.has(g)){g++;continue}var _=e.columns[g].wrappedWidth;if(d||s>=_)d=!1,u.push(g),c.push(e.columns[g]),s-=_;else break;g++}return{colIndexes:u,columns:c,lastIndex:g-1}}function IL(n,e){for(var t=[],r=0;r<e.columns.length;r++){var s=RL(n,e,{start:r});s.columns.length&&(t.push(s),r=s.lastIndex)}return t}function Fx(n,e){var t=e.settings,r=t.startY,s=t.margin,o={x:s.left,y:r},u=e.getHeadHeight(e.columns)+e.getFootHeight(e.columns),c=r+s.bottom+u;if(t.pageBreak==="avoid"){var h=e.body,d=h.reduce(function(S,w){return S+w.height},0);c+=d}var g=new Af(n);(t.pageBreak==="always"||t.startY!=null&&c>g.pageSize().height)&&(Bx(g),o.y=s.top),e.callWillDrawPageHooks(g,o);var _=Il({},o);e.startPageNumber=g.pageNumber(),t.horizontalPageBreak?LL(g,e,_,o):(g.applyStyles(g.userStyles),(t.showHead==="firstPage"||t.showHead==="everyPage")&&e.head.forEach(function(S){return Bl(g,e,S,o,e.columns)}),g.applyStyles(g.userStyles),e.body.forEach(function(S,w){var T=w===e.body.length-1;sm(g,e,S,T,_,o,e.columns)}),g.applyStyles(g.userStyles),(t.showFoot==="lastPage"||t.showFoot==="everyPage")&&e.foot.forEach(function(S){return Bl(g,e,S,o,e.columns)})),Dx(g,e,_,o),e.callEndPageHooks(g,o),e.finalY=o.y,n.lastAutoTable=e,g.applyStyles(g.userStyles)}function LL(n,e,t,r){var s=IL(n,e),o=e.settings;if(o.horizontalPageBreakBehaviour==="afterAllRows")s.forEach(function(d,g){n.applyStyles(n.userStyles),g>0?Bh(n,e,t,r,d.columns,!0):Zw(n,e,r,d.columns),ML(n,e,t,r,d.columns),B0(n,e,r,d.columns)});else for(var u=-1,c=s[0],h=function(){var d=u;if(c){n.applyStyles(n.userStyles);var g=c.columns;u>=0?Bh(n,e,t,r,g,!0):Zw(n,e,r,g),d=e_(n,e,u+1,r,g),B0(n,e,r,g)}var _=d-u;s.slice(1).forEach(function(S){n.applyStyles(n.userStyles),Bh(n,e,t,r,S.columns,!0),e_(n,e,u+1,r,S.columns,_),B0(n,e,r,S.columns)}),u=d};u<e.body.length-1;)h()}function Zw(n,e,t,r){var s=e.settings;n.applyStyles(n.userStyles),(s.showHead==="firstPage"||s.showHead==="everyPage")&&e.head.forEach(function(o){return Bl(n,e,o,t,r)})}function ML(n,e,t,r,s){n.applyStyles(n.userStyles),e.body.forEach(function(o,u){var c=u===e.body.length-1;sm(n,e,o,c,t,r,s)})}function e_(n,e,t,r,s,o){n.applyStyles(n.userStyles),o=o??e.body.length;var u=Math.min(t+o,e.body.length),c=-1;return e.body.slice(t,u).forEach(function(h,d){var g=t+d===e.body.length-1,_=Vx(n,e,g,r);h.canEntireRowFit(_,s)&&(Bl(n,e,h,r,s),c=t+d)}),c}function B0(n,e,t,r){var s=e.settings;n.applyStyles(n.userStyles),(s.showFoot==="lastPage"||s.showFoot==="everyPage")&&e.foot.forEach(function(o){return Bl(n,e,o,t,r)})}function kL(n,e,t){var r=t.getLineHeight(n.styles.fontSize),s=n.padding("vertical"),o=Math.floor((e-s)/r);return Math.max(0,o)}function OL(n,e,t,r){var s={};n.spansMultiplePages=!0,n.height=0;for(var o=0,u=0,c=t.columns;u<c.length;u++){var h=c[u],d=n.cells[h.index];if(d){Array.isArray(d.text)||(d.text=[d.text]);var g=new Px(d.raw,d.styles,d.section);g=Il(g,d),g.text=[];var _=kL(d,e,r);d.text.length>_&&(g.text=d.text.splice(_,d.text.length));var S=r.scaleFactor(),w=r.getLineHeightFactor();d.contentHeight=d.getContentHeight(S,w),d.contentHeight>=e&&(d.contentHeight=e,g.styles.minCellHeight-=e),d.contentHeight>n.height&&(n.height=d.contentHeight),g.contentHeight=g.getContentHeight(S,w),g.contentHeight>o&&(o=g.contentHeight),s[h.index]=g}}var T=new Ox(n.raw,-1,n.section,s,!0);T.height=o;for(var M=0,j=t.columns;M<j.length;M++){var h=j[M],g=T.cells[h.index];g&&(g.height=T.height);var d=n.cells[h.index];d&&(d.height=n.height)}return T}function PL(n,e,t,r){var s=n.pageSize().height,o=r.settings.margin,u=o.top+o.bottom,c=s-u;e.section==="body"&&(c-=r.getHeadHeight(r.columns)+r.getFootHeight(r.columns));var h=e.getMinimumRowHeight(r.columns,n),d=h<t;if(h>c)return console.error("Will not be able to print row ".concat(e.index," correctly since it's minimum height is larger than page height")),!0;if(!d)return!1;var g=e.hasRowSpan(r.columns),_=e.getMaxCellHeight(r.columns)>c;return _?(g&&console.error("The content of row ".concat(e.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(g||r.settings.rowPageBreak==="avoid")}function sm(n,e,t,r,s,o,u){var c=Vx(n,e,r,o);if(t.canEntireRowFit(c,u))Bl(n,e,t,o,u);else if(PL(n,t,c,e)){var h=OL(t,c,e,n);Bl(n,e,t,o,u),Bh(n,e,s,o,u),sm(n,e,h,r,s,o,u)}else Bh(n,e,s,o,u),sm(n,e,t,r,s,o,u)}function Bl(n,e,t,r,s){r.x=e.settings.margin.left;for(var o=0,u=s;o<u.length;o++){var c=u[o],h=t.cells[c.index];if(!h){r.x+=c.width;continue}n.applyStyles(h.styles),h.x=r.x,h.y=r.y;var d=e.callCellHooks(n,e.hooks.willDrawCell,h,t,c,r);if(d===!1){r.x+=c.width;continue}jL(n,h,r);var g=h.getTextPos();Tx(h.text,g.x,g.y,{halign:h.styles.halign,valign:h.styles.valign,maxWidth:Math.ceil(h.width-h.padding("left")-h.padding("right"))},n.getDocument()),e.callCellHooks(n,e.hooks.didDrawCell,h,t,c,r),r.x+=c.width}r.y+=t.height}function jL(n,e,t){var r=e.styles;if(n.getDocument().setFillColor(n.getDocument().getFillColor()),typeof r.lineWidth=="number"){var s=Rx(r.lineWidth,r.fillColor);s&&n.rect(e.x,t.y,e.width,e.height,s)}else typeof r.lineWidth=="object"&&(r.fillColor&&n.rect(e.x,t.y,e.width,e.height,"F"),FL(n,e,t,r.lineWidth))}function FL(n,e,t,r){var s,o,u,c;r.top&&(s=t.x,o=t.y,u=t.x+e.width,c=t.y,r.right&&(u+=.5*r.right),r.left&&(s-=.5*r.left),h(r.top,s,o,u,c)),r.bottom&&(s=t.x,o=t.y+e.height,u=t.x+e.width,c=t.y+e.height,r.right&&(u+=.5*r.right),r.left&&(s-=.5*r.left),h(r.bottom,s,o,u,c)),r.left&&(s=t.x,o=t.y,u=t.x,c=t.y+e.height,r.top&&(o-=.5*r.top),r.bottom&&(c+=.5*r.bottom),h(r.left,s,o,u,c)),r.right&&(s=t.x+e.width,o=t.y,u=t.x+e.width,c=t.y+e.height,r.top&&(o-=.5*r.top),r.bottom&&(c+=.5*r.bottom),h(r.right,s,o,u,c));function h(d,g,_,S,w){n.getDocument().setLineWidth(d),n.getDocument().line(g,_,S,w,"S")}}function Vx(n,e,t,r){var s=e.settings.margin.bottom,o=e.settings.showFoot;return(o==="everyPage"||o==="lastPage"&&t)&&(s+=e.getFootHeight(e.columns)),n.pageSize().height-r.y-s}function Bh(n,e,t,r,s,o){s===void 0&&(s=[]),o===void 0&&(o=!1),n.applyStyles(n.userStyles),e.settings.showFoot==="everyPage"&&!o&&e.foot.forEach(function(c){return Bl(n,e,c,r,s)}),e.callEndPageHooks(n,r);var u=e.settings.margin;Dx(n,e,t,r),Bx(n),e.pageNumber++,r.x=u.left,r.y=u.top,t.y=u.top,e.callWillDrawPageHooks(n,r),e.settings.showHead==="everyPage"&&(e.head.forEach(function(c){return Bl(n,e,c,r,s)}),n.applyStyles(n.userStyles))}function Bx(n){var e=n.pageNumber();n.setPage(e+1);var t=n.pageNumber();return t===e?(n.addPage(),!0):!1}function VL(n){n.API.autoTable=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=e[0],s=kx(this,r),o=jx(this,s);return Fx(this,o),this},n.API.lastAutoTable=!1,n.API.autoTableText=function(e,t,r,s){Tx(e,t,r,s,this)},n.API.autoTableSetDefaults=function(e){return Af.setDefaults(e,this),this},n.autoTableSetDefaults=function(e,t){Af.setDefaults(e,t)},n.API.autoTableHtmlToJson=function(e,t){var r;if(t===void 0&&(t=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var s=new Af(this),o=Mx(s,e,window,t,!1),u=o.head,c=o.body,h=((r=u[0])===null||r===void 0?void 0:r.map(function(d){return d.content}))||[];return{columns:h,rows:c,data:c}}}var U0;function t_(n,e){var t=kx(n,e),r=jx(n,t);Fx(n,r)}try{if(typeof window<"u"&&window){var n_=window,r_=n_.jsPDF||((U0=n_.jspdf)===null||U0===void 0?void 0:U0.jsPDF);r_&&VL(r_)}}catch(n){console.error("Could not apply autoTable plugin",n)}function BL(n){console.log("Calculating hours for entry:",JSON.stringify(n,null,2));const e=(Q,W)=>{if(!Q||!W)return console.warn("Missing start or end time:",{start:Q,end:W}),0;const re=Q.split(":"),ye=W.split(":"),_e=parseInt(re[0],10)||0,z=parseInt(re[1],10)||0,V=parseInt(ye[0],10)||0,L=parseInt(ye[1],10)||0;let H=_e*60+z,N=V*60+L;return N<=H&&(N+=1440),(N-H)/60},t=(n.travel?.to?.active?e(n.travel.to.start,n.travel.to.end):0)+(n.travel?.home?.active?e(n.travel.home.start,n.travel.home.end):0),r=n.lunch&&Number(n.lunchDuration)||0;n.lunch&&isNaN(r)&&console.error("Invalid lunch duration:",n.lunchDuration);const s=n.onsite?.active?e(n.onsite.start,n.onsite.end)-r:0;if(s<0)return console.error("Negative on-site hours due to lunch duration:",{onSiteHours:s,lunchDuration:r}),{...n,travelHours:0,straight:0,overtime:0,double:0,total:0};const o=t+s,[u,c,h]=n.date.split("-").map(Number),d=new Date(u,c-1,h);if(isNaN(d.getTime()))return console.error("Invalid date in entry:",n.date),{...n,travelHours:0,straight:0,overtime:0,double:0,total:0};const g=d.getDay();console.log(`Entry date: ${n.date}, Local: ${d.toISOString()}, getDay: ${g}`);const _=g===6,S=g===0||n.holiday,w=!_&&!S;let T=0,M=0,j=0;n.onsite?.active&&s>0&&!n.travelOnly?S?(j=s,console.log(`Sunday/Holiday: Assigning ${s} hours to double`)):_?(M=s,console.log(`Saturday: Assigning ${s} hours to overtime`)):w&&(s>8?(T=8,M=s-8,console.log(`Weekday >8 hours: Assigning 8 hours to straight, ${s-8} hours to overtime`)):(T=s,console.log(`Weekday <=8 hours: Assigning ${s} hours to straight`))):console.log("No on-site hours, onsite inactive, or travel-only mode");const D={...n,travelHours:t,straight:T,overtime:M,double:j,total:o};return console.log("Calculated hours result:",JSON.stringify(D,null,2)),D}function k2(n,e){console.log("Calculating charges for entries:",JSON.stringify(n,null,2)),console.log("Travel data:",JSON.stringify(e,null,2));const t=n.map(T=>BL(T)),r={hours:t.reduce((T,M)=>T+(M.straight||0),0),charge:t.reduce((T,M)=>T+(M.straight||0),0)*120},s={hours:t.reduce((T,M)=>T+(M.overtime||0),0),charge:t.reduce((T,M)=>T+(M.overtime||0),0)*180},o={hours:t.reduce((T,M)=>T+(M.double||0),0),charge:t.reduce((T,M)=>T+(M.double||0),0)*240},u=r.charge+s.charge+o.charge,c={hours:t.filter(T=>{const[M,j,D]=T.date.split("-").map(Number),Q=new Date(M,j-1,D),W=Q.getDay();return console.log(`Entry date: ${T.date}, Local: ${Q.toISOString()}, getDay: ${W}`),W>=1&&W<=5&&!T.holiday}).reduce((T,M)=>T+(M.travelHours||0),0),charge:t.filter(T=>{const[M,j,D]=T.date.split("-").map(Number),Q=new Date(M,j-1,D);return Q.getDay()>=1&&Q.getDay()<=5&&!T.holiday}).reduce((T,M)=>T+(M.travelHours||0),0)*80},h={hours:t.filter(T=>{const[M,j,D]=T.date.split("-").map(Number),Q=new Date(M,j-1,D),W=Q.getDay();return console.log(`Entry date: ${T.date}, Local: ${Q.toISOString()}, getDay: ${W}`),W===6&&!T.holiday}).reduce((T,M)=>T+(M.travelHours||0),0),charge:t.filter(T=>{const[M,j,D]=T.date.split("-").map(Number);return new Date(M,j-1,D).getDay()===6&&!T.holiday}).reduce((T,M)=>T+(M.travelHours||0),0)*120},d={hours:t.filter(T=>{const[M,j,D]=T.date.split("-").map(Number),Q=new Date(M,j-1,D),W=Q.getDay();return console.log(`Entry date: ${T.date}, Local: ${Q.toISOString()}, getDay: ${W}`),W===0||T.holiday}).reduce((T,M)=>T+(M.travelHours||0),0),charge:t.filter(T=>{const[M,j,D]=T.date.split("-").map(Number);return new Date(M,j-1,D).getDay()===0||T.holiday}).reduce((T,M)=>T+(M.travelHours||0),0)*160},g=c.charge+h.charge+d.charge,_={perDiemTotal:Number(e?.perDiemDays||0)*((e?.perDiemType||"local")==="local"?65:220),mileageTotal:Number(e?.mileage||0)*.63,otherTravel:Number(e?.otherTravel||0),airTravel:Number(e?.airTravel?.cost||0)},S=_.perDiemTotal+_.mileageTotal+_.otherTravel+_.airTravel,w={straight:r,overtime:s,double:o,laborSubtotal:u,weekdayTravel:c,saturdayTravel:h,sundayTravel:d,travelChargesSubtotal:g,travel:{perDiemTotal:_.perDiemTotal,mileageTotal:_.mileageTotal,otherTravel:_.otherTravel,airTravel:_.airTravel,travelExpensesSubtotal:S},processedEntries:t};return console.log("Calculated charges:",JSON.stringify(w,null,2)),w}function UL(){const n=cd(),e=Mf();if(!n)return I.jsx("div",{className:"text-red-600 text-center p-4",children:"Error: Time Sheet context is unavailable. Please try refreshing."});const{resetData:t,setCustomerInfo:r,setTravelData:s,entries:o,setEntries:u,setServiceReportData:c,setInvoiceInfo:h,setMachineInfo:d,currentCustomer:g,customers:_,addCustomer:S,switchCustomer:w,saveCurrentCustomer:T,exportCustomerJSON:M,importCustomerJSON:j,saveToCloud:D,loadFromCloud:Q,loadFromHistory:W,renameVisit:re,deleteVisit:ye,moveVisitToCustomer:_e,fetchAllCloudFiles:z,attachToCustomer:V,deleteCustomer:L,customerForm:H,setCustomerForm:N,travelForm:O,setTravelForm:F,invoiceForm:ce,setInvoiceForm:Ce,machineForms:le,setMachineForms:me,serviceReportForm:de,setServiceReportForm:Ie,tableKey:Xe,renameCustomer:Y,moveToCustomer:P,lastVisitId:K}=n,[te,ue]=ke.useState(!1),[fe,ve]=ke.useState(null),[Te,Me]=ke.useState({customerInfo:!0,travelExpenses:!0,invoiceInfo:!0,serviceReport:!0,machineInfo:!0}),[$e,ut]=ke.useState([]),[pt,mt]=ke.useState(!1),[_t,q]=ke.useState([]),[Oe,it]=ke.useState(!1),[Fe,De]=ke.useState(""),[ft,ht]=ke.useState(!1),[vt,xt]=ke.useState(!1),Ut=k2(o||[],O||{}),Gt=ke.useRef(!0);ke.useEffect(()=>{const Ae=localStorage.getItem("timesheetData");if(Ae)try{const Je=JSON.parse(Ae);u(Je.entries||[]),r(Je.customerInfo||{}),s(Je.travelData||{}),h(Je.invoiceInfo||{}),d(Je.machineInfo||[]),c(Je.serviceReportData||{}),N(Je.customerInfo||{}),F(Je.travelData||{}),Ce(Je.invoiceInfo||{}),me(Array.isArray(Je.machineInfo)?Je.machineInfo.map(We=>({model:We.model||"",serial:We.serial||We.serialNumber||"",jobNumber:We.jobNumber||""})):[]),Ie(Je.serviceReportData||{})}catch(Je){console.error("Failed to load:",Je)}Gt.current=!1},[]),ke.useEffect(()=>{if(Gt.current)return;const Ae={entries:o,customerInfo:H,travelData:O,serviceReportData:de,invoiceInfo:ce,machineInfo:le};localStorage.setItem("timesheetData",JSON.stringify(Ae))},[o,H,O,de,ce,le]);const $t=Ae=>{Me(Je=>({...Je,[Ae]:!Je[Ae]}))},fn=(Ae,Je)=>{const We={...Ae,serviceWork:Je||"",customer:g||"General"};u(Ze=>{const bt=Ze.findIndex(en=>en.date===We.date&&en.customer===We.customer);if(bt>=0){const en=[...Ze];return en[bt]=We,en}return[...Ze,We]}),c(Ze=>({...Ze,[We.date]:Je||""})),ue(!1),ve(null)},sn=()=>{ve(null),ue(!0)},Et=Ae=>{const Je=o[Ae];ve(Ae),ue(!0),Ie(We=>({...We,[Je.date]:Je.serviceWork||""}))},rn=Ae=>{window.confirm("Delete this day?")&&u(Je=>Je.filter((We,Ze)=>Ze!==Ae))},Ct=()=>{window.confirm("Reset all data?")&&(t(),N({}),F({}),Ce({}),me([]),Ie({}),localStorage.removeItem("timesheetData"))},Kn=Ae=>{const{name:Je,value:We}=Ae.target;N(Ze=>({...Ze,[Je]:We})),r(Ze=>({...Ze,[Je]:We}))},Yt=Ae=>{const{name:Je,value:We}=Ae.target;if(Je.startsWith("airTravel.")){const Ze=Je.split(".")[1],bt=Ze==="cost"?parseFloat(We)||0:We;F(en=>({...en,airTravel:{...en.airTravel,[Ze]:bt}})),s(en=>({...en,airTravel:{...en.airTravel,[Ze]:bt}}))}else{const bt=["perDiemDays","mileage","otherTravel"].includes(Je)?parseFloat(We)||0:We;F(en=>({...en,[Je]:bt})),s(en=>({...en,[Je]:bt}))}},jt=()=>{const Ae=new Bt;Ae.text(`Time Sheet Report - ${g||"General"}`,10,10),Ae.text(`Date: ${o[0]?.date||"N/A"}`,10,20),Ae.save(`${g||"report"}.pdf`)},yt=async()=>{if(!g){alert("Select a customer first");return}try{const Ae=ic(Go(ba,"timesheets"),df("customer","==",g),Ph("timestamp","desc")),We=(await ac(Ae)).docs.map(Ze=>({id:Ze.id,visitName:Ze.data().visitName||`Visit ${new Date(Ze.data().timestamp).toLocaleDateString()}`,timestamp:Ze.data().timestamp}));ut(We),mt(!0)}catch(Ae){console.error("Failed to load history:",Ae),alert("Failed to load history")}},tn=Ae=>{try{const[Je,We,Ze]=Ae.split("-").map(Number),bt=new Date(Date.UTC(Je,We-1,Ze)),On=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][bt.getUTCDay()],lr=String(bt.getUTCMonth()+1).padStart(2,"0"),bn=String(bt.getUTCDate()).padStart(2,"0");return`${On} ${lr}/${bn}/${Je}`}catch{return Ae}},Lt=async()=>{const Ae=await z();q(Ae),it(!0)},Tn=(O.perDiemType||"local")==="local"?65:220,qt=(Number(O.perDiemDays)||0)*Tn,Rt=(Number(O.mileage)||0)*.63,J=Number(O.otherTravel)||0,ie=Number(O.airTravel?.cost)||0,we=Number(Ut?.laborSubtotal)||0,ze=Number(Ut?.travelChargesSubtotal)||0,lt=qt+Rt+J+ie,Ge=we+ze+lt,Ft=Ae=>(Number(Ae)||0).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2});return I.jsxs("div",{className:"min-h-screen bg-gray-50 p-3 sm:p-6",children:[I.jsxs("div",{className:"flex justify-center items-center gap-4 mb-6 sm:mb-8",children:[I.jsx("h1",{className:"text-3xl sm:text-4xl font-bold text-center text-blue-600",children:"Time Sheet"}),I.jsx("button",{onClick:()=>ht(!0),className:"flex items-center justify-center w-8 h-8 bg-blue-600 text-white rounded-full hover:bg-blue-700 transition text-lg font-bold",title:"Help",children:"?"})]}),I.jsx("div",{className:"mb-8",children:I.jsxs("div",{className:"flex flex-col sm:flex-row justify-center gap-3",children:[I.jsxs("select",{className:"px-4 py-2 border border-gray-300 rounded-md bg-white focus:outline-none focus:ring-2 focus:ring-blue-500 w-full sm:w-auto sm:max-w-xs",value:g,onChange:Ae=>w(Ae.target.value),children:[I.jsx("option",{value:"",children:"Select Customer"}),_.map(Ae=>I.jsx("option",{value:Ae,children:Ae},Ae))]}),I.jsxs("div",{className:"grid grid-cols-2 gap-2 sm:flex sm:gap-3",children:[I.jsx("button",{onClick:()=>{const Ae=prompt("New Customer Name?");Ae&&S(Ae)},className:"px-3 py-2 bg-emerald-600 text-white rounded-md hover:bg-emerald-700 transition text-sm sm:text-base",children:"New"}),I.jsx("button",{onClick:()=>{if(!g)return alert("Select customer first");const Ae=prompt(`Rename "${g}" to?`,g);Ae&&Ae!==g&&Y(g,Ae)},className:"px-3 py-2 bg-amber-600 text-white rounded-md hover:bg-amber-700 transition text-sm sm:text-base",children:"Rename"}),I.jsx("button",{onClick:()=>{if(!g)return alert("Select customer first");const Ae=prompt(`Move data from "${g}" to which customer?`);if(Ae){const Je=confirm(`Delete "${g}" after moving? (OK = Move & Delete, Cancel = Copy only)`);P(Ae,Je)}},className:"px-3 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition text-sm sm:text-base",children:"Move"}),I.jsx("button",{onClick:()=>{if(!g)return alert("Select customer first");confirm(`Delete "${g}"? All data (local + cloud) will be lost.`)&&L(g)},className:"px-3 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 transition text-sm sm:text-base",children:"Delete"})]})]})}),I.jsxs("div",{className:"mb-8 space-y-3",children:[I.jsxs("div",{className:"flex flex-col sm:flex-row justify-center gap-2",children:[I.jsx("button",{onClick:()=>e("/"),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition",children:"Time Sheet"}),I.jsx("button",{onClick:()=>e("/service-report"),className:"px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700 transition",children:"Service Report"}),I.jsx("button",{onClick:()=>e("/invoice"),className:"px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700 transition",children:"Invoice"})]}),I.jsx("div",{className:"sm:hidden flex justify-center",children:I.jsxs("button",{onClick:()=>xt(!vt),className:"px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700 transition",children:[vt?"Hide":"Show"," Advanced Actions"]})}),I.jsxs("div",{className:`${vt?"grid":"hidden"} sm:flex grid-cols-2 sm:flex-wrap justify-center gap-2`,children:[I.jsx("button",{onClick:M,className:"px-3 py-2 bg-emerald-600 text-white rounded-md hover:bg-emerald-700 transition text-sm sm:text-base",children:"Export JSON"}),I.jsxs("label",{className:"px-3 py-2 bg-emerald-600 text-white rounded-md hover:bg-emerald-700 transition cursor-pointer text-center text-sm sm:text-base",children:["Import JSON",I.jsx("input",{type:"file",onChange:Ae=>j(Ae.target.files[0]),className:"hidden"})]}),I.jsx("button",{onClick:T,className:"px-3 py-2 bg-cyan-600 text-white rounded-md hover:bg-cyan-700 transition text-sm sm:text-base",children:"Save Local"}),I.jsx("button",{onClick:D,className:"px-3 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 transition text-sm sm:text-base",children:"Save Cloud"}),I.jsx("button",{onClick:()=>D(!0),className:`px-3 py-2 rounded-md transition text-sm sm:text-base ${K?"bg-purple-600 text-white hover:bg-purple-700":"bg-gray-400 text-gray-200 cursor-not-allowed"}`,disabled:!K,title:K?"Update the current visit without creating a new one":"Load or create a visit first",children:"Update Visit"}),I.jsx("button",{onClick:Q,className:"px-3 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 transition text-sm sm:text-base",children:"Load Cloud"}),I.jsx("button",{onClick:yt,className:"px-3 py-2 bg-teal-600 text-white rounded-md hover:bg-teal-700 transition text-sm sm:text-base",children:"View History"}),I.jsx("button",{onClick:Lt,className:"px-3 py-2 bg-violet-600 text-white rounded-md hover:bg-violet-700 transition text-sm sm:text-base",children:"View Files"}),I.jsx("button",{onClick:jt,className:"px-3 py-2 bg-amber-600 text-white rounded-md hover:bg-amber-700 transition text-sm sm:text-base",children:"Export PDF"}),I.jsx("button",{onClick:Ct,className:"px-3 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 transition text-sm sm:text-base",children:"Reset All"})]})]}),I.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 sm:p-6 mb-6",children:[I.jsxs("button",{onClick:()=>$t("customerInfo"),className:"w-full text-left text-xl font-semibold text-blue-600 flex justify-between items-center",children:["Customer Information",I.jsx("span",{className:"text-sm",children:Te.customerInfo?"":"+"})]}),Te.customerInfo&&I.jsx("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-2 gap-4",children:["company","address","city","state","contact","phone","email","purpose"].map(Ae=>I.jsxs("div",{children:[I.jsx("label",{className:"block text-sm font-medium text-gray-700 capitalize",children:Ae}),I.jsx("input",{type:"text",name:Ae,value:H[Ae]||"",onChange:Kn,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]},Ae))})]}),I.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 sm:p-6 mb-6",children:[I.jsxs("button",{onClick:()=>$t("travelExpenses"),className:"w-full text-left text-xl font-semibold text-blue-600 flex justify-between items-center",children:["Travel",I.jsx("span",{className:"text-sm",children:Te.travelExpenses?"":"+"})]}),Te.travelExpenses&&I.jsxs("div",{className:"mt-4 space-y-6",children:[I.jsxs("div",{children:[I.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Per Diem"}),I.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[I.jsxs("div",{children:[I.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Per Diem Type"}),I.jsxs("select",{name:"perDiemType",value:O.perDiemType||"local",onChange:Yt,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",children:[I.jsx("option",{value:"local",children:"Local ($65/day)"}),I.jsx("option",{value:"nonLocal",children:"Non-Local ($220/day)"})]})]}),I.jsxs("div",{children:[I.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Per Diem Days"}),I.jsx("input",{type:"number",name:"perDiemDays",value:O.perDiemDays||"",onChange:Yt,placeholder:"0",className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]})]})]}),I.jsxs("div",{children:[I.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Mileage & Vehicle Expenses"}),I.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[I.jsxs("div",{children:[I.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Mileage (miles)"}),I.jsx("input",{type:"number",name:"mileage",value:O.mileage||"",onChange:Yt,placeholder:"0",className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),I.jsxs("div",{children:[I.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Vehicle Expenses (Rental/Taxi/Fuel) $"}),I.jsx("input",{type:"number",name:"otherTravel",value:O.otherTravel||"",onChange:Yt,placeholder:"0.00",className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]})]})]}),I.jsxs("div",{children:[I.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Airfare"}),I.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[I.jsxs("div",{children:[I.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Destination"}),I.jsx("input",{type:"text",name:"airTravel.destination",value:O.airTravel?.destination||"",onChange:Yt,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),I.jsxs("div",{children:[I.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Origin"}),I.jsx("input",{type:"text",name:"airTravel.origin",value:O.airTravel?.origin||"",onChange:Yt,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),I.jsxs("div",{children:[I.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Return Date"}),I.jsx("input",{type:"text",name:"airTravel.return",value:O.airTravel?.return||"",onChange:Yt,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),I.jsxs("div",{className:"md:col-span-3",children:[I.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Airfare Cost ($)"}),I.jsx("input",{type:"number",name:"airTravel.cost",value:O.airTravel?.cost||"",onChange:Yt,placeholder:"0.00",className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]})]})]}),I.jsx("div",{className:"mt-6 pt-4 border-t border-gray-300",children:I.jsxs("div",{className:"flex justify-between items-center",children:[I.jsx("h3",{className:"text-lg font-semibold",children:"Travel Expenses Subtotal"}),I.jsxs("p",{className:"text-2xl font-bold text-blue-600",children:["$",Ft(lt)]})]})})]})]}),I.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 sm:p-6 mb-6",children:[I.jsxs("button",{onClick:()=>$t("invoiceInfo"),className:"w-full text-left text-xl font-semibold text-blue-600 flex justify-between items-center",children:["Invoice Details",I.jsx("span",{className:"text-sm",children:Te.invoiceInfo?"":"+"})]}),Te.invoiceInfo&&I.jsx("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-2 gap-4",children:["invoiceNumber","invoiceDate","dueDate","poRefer","serviceDates","paymentTerms"].map(Ae=>I.jsxs("div",{children:[I.jsx("label",{className:"block text-sm font-medium text-gray-700 capitalize",children:Ae.replace(/([A-Z])/g," $1").trim()}),I.jsx("input",{type:"text",name:Ae,value:ce[Ae]||"",onChange:Je=>{const{name:We,value:Ze}=Je.target;Ce(bt=>({...bt,[We]:Ze})),h(bt=>({...bt,[We]:Ze}))},className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]},Ae))})]}),I.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 sm:p-6 mb-6",children:[I.jsxs("button",{onClick:()=>$t("machineInfo"),className:"w-full text-left text-xl font-semibold text-blue-600 flex justify-between items-center",children:["Machine Information",I.jsx("span",{className:"text-sm",children:Te.machineInfo?"":"+"})]}),Te.machineInfo&&I.jsxs("div",{className:"mt-4",children:[le.length>0?le.map((Ae,Je)=>I.jsxs("div",{className:"mb-4 p-4 border rounded bg-gray-50",children:[I.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[I.jsxs("div",{children:[I.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Model"}),I.jsx("input",{type:"text",value:Ae.model||"",onChange:We=>{const Ze=[...le];Ze[Je].model=We.target.value,me(Ze),d(Ze)},className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),I.jsxs("div",{children:[I.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Serial Number"}),I.jsx("input",{type:"text",value:Ae.serial||"",onChange:We=>{const Ze=[...le];Ze[Je].serial=We.target.value,me(Ze),d(Ze)},className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),I.jsxs("div",{children:[I.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Job Number"}),I.jsx("input",{type:"text",value:Ae.jobNumber||"",onChange:We=>{const Ze=[...le];Ze[Je].jobNumber=We.target.value,me(Ze),d(Ze)},className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]})]}),I.jsx("button",{onClick:()=>{const We=le.filter((Ze,bt)=>bt!==Je);me(We),d(We)},className:"mt-2 px-3 py-1 bg-red-600 text-white rounded text-sm hover:bg-red-700",children:"Remove Machine"})]},Je)):I.jsx("p",{className:"text-gray-500 text-center",children:"No machines added"}),I.jsx("button",{onClick:()=>{const Ae={model:"",serial:"",jobNumber:""};me(Je=>[...Je,Ae]),d(Je=>[...Je,Ae])},className:"mt-4 px-4 py-2 bg-emerald-600 text-white rounded-md hover:bg-emerald-700 transition",children:"Add Machine"})]})]}),I.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 sm:p-6 mb-6",children:[I.jsxs("button",{onClick:()=>$t("serviceReport"),className:"w-full text-left text-xl font-semibold text-blue-600 flex justify-between items-center",children:["Service Worked Performed",I.jsx("span",{className:"text-sm",children:Te.serviceReport?"":"+"})]}),Te.serviceReport&&I.jsx("div",{className:"mt-4",children:o.length>0?o.map((Ae,Je)=>I.jsxs("div",{className:"mb-4 p-4 border rounded bg-gray-50",children:[I.jsxs("p",{className:"font-medium text-sm text-gray-700",children:[tn(Ae.date),"  ",Ae.customer]}),I.jsx("textarea",{value:de[Ae.date]||"",onChange:We=>{Ie(Ze=>({...Ze,[Ae.date]:We.target.value})),c(Ze=>({...Ze,[Ae.date]:We.target.value}))},className:"mt-2 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",rows:"4",placeholder:"Describe work performed..."})]},Je)):I.jsx("p",{className:"text-gray-500 text-center",children:"No entries yet"})})]}),I.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 sm:p-6 mb-6",children:[I.jsxs("div",{className:"flex justify-between items-center mb-4",children:[I.jsx("h3",{className:"text-xl font-semibold",children:"Daily Time Entries"}),I.jsx("button",{onClick:sn,className:"px-4 py-2 bg-emerald-600 text-white rounded-md hover:bg-emerald-700 transition",children:"Add Day"})]}),I.jsx(f7,{entries:o,onEdit:Et,onDelete:rn},Xe)]}),I.jsx(h7,{charges:Ut}),I.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 sm:p-6 mb-10",children:[I.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Totals"}),I.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4",children:[I.jsxs("div",{className:"p-4 border rounded",children:[I.jsx("p",{className:"text-sm text-gray-600",children:"Service Charges"}),I.jsxs("p",{className:"text-2xl font-bold",children:["$",Ft(we)]})]}),I.jsxs("div",{className:"p-4 border rounded",children:[I.jsx("p",{className:"text-sm text-gray-600",children:"Travel Charges"}),I.jsxs("p",{className:"text-2xl font-bold",children:["$",Ft(ze)]})]}),I.jsxs("div",{className:"p-4 border rounded",children:[I.jsx("p",{className:"text-sm text-gray-600",children:"Travel Expenses"}),I.jsxs("p",{className:"text-2xl font-bold",children:["$",Ft(lt)]})]}),I.jsxs("div",{className:"p-4 border-4 border-blue-600 rounded-lg bg-blue-50 shadow-lg",children:[I.jsx("p",{className:"text-sm font-bold text-gray-700",children:"Grand Total"}),I.jsxs("p",{className:"text-3xl font-extrabold text-blue-700",children:["$",Ft(Ge)]})]})]})]}),I.jsxs("div",{className:"flex flex-col sm:flex-row justify-center gap-4 mt-8",children:[I.jsx("button",{onClick:sn,className:"px-6 py-3 bg-emerald-600 text-white text-lg font-medium rounded-md hover:bg-emerald-700 transition",children:"Add Day"}),I.jsx("button",{onClick:Ct,className:"px-6 py-3 bg-red-600 text-white text-lg font-medium rounded-md hover:bg-red-700 transition",children:"Reset All"})]}),pt&&I.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:I.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-screen overflow-y-auto p-6",children:[I.jsxs("div",{className:"flex justify-between items-center mb-4",children:[I.jsxs("h3",{className:"text-xl font-bold",children:["Save History for ",g]}),I.jsx("button",{onClick:()=>mt(!1),className:"text-gray-500 hover:text-gray-700",children:""})]}),$e.length>0?I.jsx("div",{className:"space-y-2",children:$e.map(Ae=>I.jsxs("div",{className:"flex justify-between items-center p-3 border rounded hover:bg-gray-50",children:[I.jsxs("div",{className:"flex-1",children:[I.jsx("p",{className:"font-medium",children:Ae.visitName}),I.jsx("p",{className:"text-sm text-gray-600",children:new Date(Ae.timestamp).toLocaleString()})]}),I.jsxs("div",{className:"flex gap-2",children:[I.jsx("button",{onClick:()=>re(Ae.id,Ae.visitName),className:"px-2 py-1 bg-amber-600 text-white rounded text-xs hover:bg-amber-700",children:"Rename"}),I.jsx("button",{onClick:async()=>{const Je=prompt("Move this visit to which customer?");if(Je){await _e(Ae.id,Je);const We=ic(Go(ba,"timesheets"),df("customer","==",g),Ph("timestamp","desc")),bt=(await ac(We)).docs.map(en=>({id:en.id,visitName:en.data().visitName||"Unnamed Visit",timestamp:en.data().timestamp}));ut(bt)}},className:"px-2 py-1 bg-purple-600 text-white rounded text-xs hover:bg-purple-700",children:"Move"}),I.jsx("button",{onClick:()=>{W(Ae.id),mt(!1)},className:"px-3 py-1 bg-blue-600 text-white rounded text-sm hover:bg-blue-700",children:"Load"}),I.jsx("button",{onClick:()=>{ye(Ae.id),ut(Je=>Je.filter(We=>We.id!==Ae.id))},className:"px-2 py-1 bg-red-600 text-white rounded text-xs hover:bg-red-700",children:"Delete"})]})]},Ae.id))}):I.jsx("p",{className:"text-gray-500 text-center",children:"No saves yet"})]})}),Oe&&I.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:I.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-screen overflow-y-auto p-6",children:[I.jsxs("div",{className:"flex justify-between items-center mb-4",children:[I.jsx("h3",{className:"text-xl font-bold",children:"All Cloud Files"}),I.jsx("button",{onClick:()=>it(!1),className:"text-gray-500 hover:text-gray-700",children:""})]}),I.jsx("div",{className:"mb-4",children:I.jsxs("select",{className:"px-4 py-2 border border-gray-300 rounded-md bg-white",value:Fe,onChange:Ae=>De(Ae.target.value),children:[I.jsx("option",{value:"",children:"All Customers"}),_.map(Ae=>I.jsx("option",{value:Ae,children:Ae},Ae))]})}),I.jsx("div",{className:"space-y-2",children:_t.filter(Ae=>!Fe||Ae.customer===Fe).map(Ae=>I.jsxs("div",{className:"flex justify-between items-center p-3 border rounded hover:bg-gray-50",children:[I.jsxs("div",{className:"flex-1",children:[I.jsx("p",{className:"font-medium",children:Ae.visitName}),I.jsxs("p",{className:"text-sm text-gray-600",children:["Customer: ",Ae.customer,"  ",new Date(Ae.timestamp).toLocaleString()]})]}),I.jsxs("div",{className:"flex gap-2",children:[I.jsx("button",{onClick:()=>re(Ae.id,Ae.visitName),className:"px-2 py-1 bg-amber-600 text-white rounded text-xs hover:bg-amber-700",children:"Rename"}),I.jsx("button",{onClick:()=>{W(Ae.id),it(!1)},className:"px-3 py-1 bg-blue-600 text-white rounded text-sm hover:bg-blue-700",children:"Load"}),I.jsx("button",{onClick:()=>{const Je=prompt("Attach to customer:",Ae.customer);Je&&Je!==Ae.customer&&(V(Ae.id,Je),Ae.customer=Je)},className:"px-3 py-1 bg-violet-600 text-white rounded text-sm hover:bg-violet-700",children:"Attach"}),I.jsx("button",{onClick:()=>{ye(Ae.id),q(Je=>Je.filter(We=>We.id!==Ae.id))},className:"px-2 py-1 bg-red-600 text-white rounded text-xs hover:bg-red-700",children:"Delete"})]})]},Ae.id))}),_t.length===0&&I.jsx("p",{className:"text-gray-500 text-center",children:"No files in cloud"})]})}),te&&I.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:I.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-screen overflow-y-auto",children:I.jsxs("div",{className:"p-6",children:[I.jsxs("div",{className:"flex justify-between items-center mb-4",children:[I.jsx("h3",{className:"text-2xl font-bold",children:fe!==null?"Edit Day":"Add Day"}),I.jsx("button",{onClick:()=>ue(!1),className:"text-gray-500 hover:text-gray-700",children:""})]}),I.jsx(c7,{entry:fe!==null?o[fe]:null,onSave:fn,onCancel:()=>ue(!1)})]})})}),ft&&I.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:I.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-3xl w-full max-h-screen overflow-y-auto",children:I.jsxs("div",{className:"p-6",children:[I.jsxs("div",{className:"flex justify-between items-center mb-6",children:[I.jsx("h3",{className:"text-2xl font-bold text-blue-600",children:"Help Guide"}),I.jsx("button",{onClick:()=>ht(!1),className:"text-gray-500 hover:text-gray-700 text-3xl leading-none",children:""})]}),I.jsxs("div",{className:"space-y-6",children:[I.jsxs("section",{children:[I.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Customer Management"}),I.jsxs("ul",{className:"space-y-2 text-sm text-gray-700",children:[I.jsxs("li",{children:[I.jsx("strong",{children:"Select Customer:"})," Choose from existing customers or create a new one"]}),I.jsxs("li",{children:[I.jsx("strong",{children:"New:"})," Create a new customer profile"]}),I.jsxs("li",{children:[I.jsx("strong",{children:"Rename:"})," Change the name of the selected customer"]}),I.jsxs("li",{children:[I.jsx("strong",{children:"Delete:"})," Remove the customer and all associated data (local and cloud)"]})]})]}),I.jsxs("section",{children:[I.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Navigation"}),I.jsxs("ul",{className:"space-y-2 text-sm text-gray-700",children:[I.jsxs("li",{children:[I.jsx("strong",{children:"Time Sheet:"})," Main page for entering time and expense data"]}),I.jsxs("li",{children:[I.jsx("strong",{children:"Service Report:"})," Generate and preview a service report PDF"]}),I.jsxs("li",{children:[I.jsx("strong",{children:"Invoice:"})," Generate and preview an invoice PDF"]})]})]}),I.jsxs("section",{children:[I.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Data Management"}),I.jsxs("ul",{className:"space-y-2 text-sm text-gray-700",children:[I.jsxs("li",{children:[I.jsx("strong",{children:"Export JSON:"})," Download customer data as a JSON file for backup"]}),I.jsxs("li",{children:[I.jsx("strong",{children:"Import JSON:"})," Upload a previously exported JSON file to restore data"]}),I.jsxs("li",{children:[I.jsx("strong",{children:"Save Local:"})," Save current customer data to browser's local storage"]}),I.jsxs("li",{children:[I.jsx("strong",{children:"Save Cloud:"}),' Create a NEW visit in cloud storage - prompts for visit name (e.g., "November 2025 Service")']}),I.jsxs("li",{children:[I.jsx("strong",{children:"Update Visit:"})," Update the CURRENT visit in cloud storage without creating a duplicate - no prompt, instant save. Button is purple when enabled (visit loaded) or gray when disabled (load/create a visit first)"]}),I.jsxs("li",{children:[I.jsx("strong",{children:"Load Cloud:"})," Load the most recent visit from cloud storage for the current customer"]}),I.jsxs("li",{children:[I.jsx("strong",{children:"View Files:"})," Browse all cloud-saved files across all customers"]}),I.jsxs("li",{children:[I.jsx("strong",{children:"Export PDF:"})," Generate and download a PDF of the current timesheet"]}),I.jsxs("li",{children:[I.jsx("strong",{children:"Reset All:"})," Clear all data and start fresh (cannot be undone)"]})]})]}),I.jsxs("section",{children:[I.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Cloud Save vs Update Visit"}),I.jsxs("ul",{className:"space-y-2 text-sm text-gray-700",children:[I.jsxs("li",{children:[I.jsx("strong",{children:'When to use "Save Cloud":'})," Starting a new service visit or want to create a separate record"]}),I.jsxs("li",{children:[I.jsx("strong",{children:'When to use "Update Visit":'})," Making changes to an existing visit, adding more time entries, or fixing errors"]}),I.jsxs("li",{children:[I.jsx("strong",{children:"Workflow Example:"}),' Create visit with "Save Cloud"  Make changes  Click "Update Visit" (no duplicate created)  Make more changes  Click "Update Visit" again (same visit updated)']}),I.jsxs("li",{children:[I.jsx("strong",{children:"Important:"}),` The "Update Visit" button becomes disabled (gray) when you switch customers - this prevents accidentally updating the wrong customer's visit`]})]})]}),I.jsxs("section",{children:[I.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Main Sections"}),I.jsxs("ul",{className:"space-y-2 text-sm text-gray-700",children:[I.jsxs("li",{children:[I.jsx("strong",{children:"Customer Information:"})," Enter client details (company, contact, address, etc.)"]}),I.jsxs("li",{children:[I.jsx("strong",{children:"Travel:"})," Record travel expenses including per diem, mileage, and airfare"]}),I.jsxs("li",{children:[I.jsx("strong",{children:"Invoice Details:"})," Set invoice number, dates, PO reference, and payment terms"]}),I.jsxs("li",{children:[I.jsx("strong",{children:"Machine Information:"})," Add equipment details (model, serial number, job number)"]}),I.jsxs("li",{children:[I.jsx("strong",{children:"Service Work Performed:"})," Describe the work done for each day"]}),I.jsxs("li",{children:[I.jsx("strong",{children:"Daily Time Entries:"})," Add time entries with travel and work hours"]})]})]}),I.jsxs("section",{children:[I.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Time Entry"}),I.jsxs("ul",{className:"space-y-2 text-sm text-gray-700",children:[I.jsxs("li",{children:[I.jsx("strong",{children:"Add Day:"})," Create a new time entry with travel times, work hours, and lunch breaks"]}),I.jsxs("li",{children:[I.jsx("strong",{children:"Edit:"})," Modify an existing time entry"]}),I.jsxs("li",{children:[I.jsx("strong",{children:"Delete:"})," Remove a time entry"]})]})]}),I.jsxs("section",{children:[I.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Charges Calculation"}),I.jsxs("ul",{className:"space-y-2 text-sm text-gray-700",children:[I.jsxs("li",{children:[I.jsx("strong",{children:"Service Charges:"})," Calculated based on work hours (Straight: $120/hr, Sat/OT: $180/hr, Sun/Hol: $240/hr)"]}),I.jsxs("li",{children:[I.jsx("strong",{children:"Travel Charges:"})," Calculated based on travel hours (Weekday: $80/hr, Saturday: $120/hr, Sun/Hol: $160/hr)"]}),I.jsxs("li",{children:[I.jsx("strong",{children:"Travel Expenses:"})," Sum of per diem, mileage, other travel costs, and airfare"]}),I.jsxs("li",{children:[I.jsx("strong",{children:"Grand Total:"})," Sum of all charges and expenses"]})]})]})]}),I.jsx("div",{className:"mt-6 pt-4 border-t",children:I.jsx("button",{onClick:()=>ht(!1),className:"w-full px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition",children:"Close"})})]})})})]})}const Ux="/assets/logo-BrM3Y0Lt.png";function zx({pdfDataUrl:n}){return I.jsx("iframe",{src:n,title:"PDF Preview",style:{width:"800px",height:"800px",border:"none"}})}function zL(){const n=cd(),e=Mf();if(!n)return console.error("TimeSheetContext is undefined"),I.jsx("div",{className:"p-4 text-red-600",children:"Error: Time Sheet context is unavailable. Please try refreshing the page."});const{customerInfo:t,travelData:r={},entries:s=[],serviceReportData:o,machineInfo:u,invoiceInfo:c}=n,[h,d]=ke.useState(null),g=k2(s,r),_=(g.laborSubtotal||0)+(g.travelChargesSubtotal||0)+(g.travel&&g.travel.travelExpensesSubtotal||0),S=j=>{if(!j||!/^\d{4}-\d{2}-\d{2}$/.test(j))return"N/A";const[D,Q,W]=j.split("-").map(Number),re=new Date(D,Q-1,W);return isNaN(re.getTime())?"N/A":`${["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][re.getDay()]} ${String(Q).padStart(2,"0")}/${String(W).padStart(2,"0")}/${String(D).slice(-2)}`},w=()=>s.length&&s[0].date?S(s[0].date):"N/A",T=async(j=!1)=>{try{const D=new Bt,Q=D.internal.pageSize.getWidth(),W=10,re=10,ye=(Q-W*2-re)/2;let _e=10;const z=await new Promise((Y,P)=>{const K=new Image;K.src=Ux,K.onload=()=>{const te=document.createElement("canvas");te.width=K.width,te.height=K.height,te.getContext("2d").drawImage(K,0,0),Y(te.toDataURL("image/png"))},K.onerror=te=>P(te)});D.addImage(z,"PNG",Q-52.5,10,37.5,11.25),D.setTextColor(0,0,255),D.setFontSize(8),D.text("Joshua Todd Industries, LLC Service Report",W,_e),_e+=3,D.setFontSize(7),D.text("Email: josh@jtiaz.com",W,_e),_e+=3,D.text("Phone: (623) 300-6445",W,_e),_e+=3,D.text(`Date: ${w()}`,W,_e),_e+=3,D.text(`Service Report Number: ${c?.invoiceNumber||"N/A"}`,W,_e),_e+=5,D.setFontSize(7),D.text("Customer Information",W,_e),_e+=3,D.autoTable({startY:_e,head:[["Field","Value","Field","Value"]],body:[["Company",t.company||"N/A","Contact",t.contact||"N/A"],["Address",t.address||"N/A","Phone",t.phone||"N/A"],["City",t.city||"N/A","Email",t.email||"N/A"],["State",t.state||"N/A","Purpose",t.purpose||"N/A"]],theme:"grid",styles:{fontSize:6,cellPadding:1},headStyles:{fillColor:[200,200,200],fontSize:6},margin:{left:W,right:W}}),_e=D.lastAutoTable.finalY+5,D.text("Machine Information",W,_e),_e+=3;let V=(Array.isArray(u)?u:u?[u]:[]).map(Y=>["Model",Y.model||"N/A","Serial No.",Y.serial||Y.serialNumber||"N/A","Job No.",Y.jobNumber||"N/A"]);V.length||(V=[["Model","N/A","Serial No.","N/A","Job No.","N/A"]]),D.autoTable({startY:_e,head:[["Field","Value","Field","Value","Field","Value"]],body:V,theme:"grid",styles:{fontSize:6,cellPadding:1},headStyles:{fillColor:[200,200,200],fontSize:6},margin:{left:W,right:W}}),_e=D.lastAutoTable.finalY+5,D.text("Service Work Details",W,_e),_e+=3;const L=s.map(Y=>[S(Y.date),o?.[Y.date]||"No description"]);L.length&&(D.autoTable({startY:_e,head:[["Date","Work Performed"]],body:L,theme:"grid",styles:{fontSize:6,cellPadding:1,overflow:"linebreak"},headStyles:{fillColor:[200,200,200],fontSize:6},margin:{left:W,right:W},columnStyles:{0:{cellWidth:20},1:{cellWidth:"auto"}}}),_e=D.lastAutoTable.finalY+5),D.text("Hours Worked",W,_e),_e+=3,D.setFontSize(6),D.text("(All times are in MST if traveling that day. Return travel is the time zone at the start of day)",W,_e),_e+=3,D.setFontSize(7);const H=s.map(Y=>{const P=Y.travel?.to?.active&&Y.travel.to.start&&Y.travel.to.end?`${Y.travel.to.start}-${Y.travel.to.end}`:"N/A",K=Y.travel?.home?.active&&Y.travel.home.start&&Y.travel.home.end?`${Y.travel.home.start}-${Y.travel.home.end}`:"N/A",te=Y.onsite?.active&&Y.onsite.start&&Y.onsite.end?`${Y.onsite.start}-${Y.onsite.end}`:"N/A",ue=Y.onsite?.active&&Y.onsite.start&&Y.onsite.end?(new Date(`1970-01-01T${Y.onsite.end}:00Z`)-new Date(`1970-01-01T${Y.onsite.start}:00Z`))/36e5:0,fe=(Y.travel?.to?.active?(new Date(`1970-01-01T${Y.travel.to.end}:00Z`)-new Date(`1970-01-01T${Y.travel.to.start}:00Z`))/36e5:0)+(Y.travel?.home?.active?(new Date(`1970-01-01T${Y.travel.home.end}:00Z`)-new Date(`1970-01-01T${Y.travel.home.start}:00Z`))/36e5:0);return[S(Y.date),P,te,K,Y.lunch?`${Y.lunchDuration} hrs`:"No",fe.toFixed(2),ue.toFixed(2),(ue+fe).toFixed(2)]});H.length&&(D.autoTable({head:[["Date","Travel To","On-site","Travel Home","Lunch","Travel Hrs","Work Hrs","Total Hrs"]],body:H,startY:_e,theme:"grid",styles:{fontSize:6,cellPadding:1},headStyles:{fillColor:[200,200,200],fontSize:6},margin:{left:W,right:W},columnStyles:{0:{cellWidth:20},1:{cellWidth:25},2:{cellWidth:25},3:{cellWidth:25},4:{cellWidth:20},5:{cellWidth:20},6:{cellWidth:28},7:{cellWidth:20}}}),_e=D.lastAutoTable.finalY+5);const N=_e;D.setFontSize(7),D.text("Service Charges",W,N),D.autoTable({margin:{left:W},startY:N+3,tableWidth:ye,head:[["Category","Hours","Rate","Charge"]],body:[["Straight",(g.straight?.hours??0).toFixed(2),"$120",`$${(g.straight?.charge??0).toFixed(2)}`],["Sat/OT",(g.overtime?.hours??0).toFixed(2),"$180",`$${(g.overtime?.charge??0).toFixed(2)}`],["Sun/Hol",(g.double?.hours??0).toFixed(2),"$240",`$${(g.double?.charge??0).toFixed(2)}`],["Subtotal","","",`$${(g.laborSubtotal??0).toFixed(2)}`]],theme:"grid",styles:{fontSize:6,cellPadding:1},headStyles:{fillColor:[200,200,200],fontSize:6}});const O=D.lastAutoTable.finalY;D.text("Travel Charges",W+ye+re,N),D.autoTable({margin:{left:W+ye+re},startY:N+3,tableWidth:ye,head:[["Category","Hours","Rate","Charge"]],body:[["Weekday",(g.weekdayTravel?.hours??0).toFixed(2),"$80",`$${(g.weekdayTravel?.charge??0).toFixed(2)}`],["Saturday",(g.saturdayTravel?.hours??0).toFixed(2),"$120",`$${(g.saturdayTravel?.charge??0).toFixed(2)}`],["Sun/Hol",(g.sundayTravel?.hours??0).toFixed(2),"$160",`$${(g.sundayTravel?.charge??0).toFixed(2)}`],["Subtotal","","",`$${(g.travelChargesSubtotal??0).toFixed(2)}`]],theme:"grid",styles:{fontSize:6,cellPadding:1},headStyles:{fillColor:[200,200,200],fontSize:6}});const F=D.lastAutoTable.finalY,ce=Math.max(O,F)+5;D.text("Travel Expenses",W,ce),D.autoTable({margin:{left:W},startY:ce+3,tableWidth:ye,head:[["Category","Amount","Details"]],body:[["Per Diem",`$${(g?.travel?.perDiemTotal??0).toFixed(2)}`,`${(r.perDiemType||"local")==="local"?"$65/day":"$220/day"} x ${r.perDiemDays??0}`],["Mileage",`$${(g?.travel?.mileageTotal??0).toFixed(2)}`,`${r.mileage??0} miles at $0.63`],["Vehicle Expenses",`$${(g?.travel?.otherTravel??0).toFixed(2)}`,""],["Airfare",`$${(g?.travel?.airTravel??0).toFixed(2)}`,`To: ${r.airTravel?.destination??""}, From: ${r.airTravel?.origin??""}, Return: ${r.airTravel?.return??""}`],["Subtotal",`$${(g?.travel?.travelExpensesSubtotal??0).toFixed(2)}`,""]],theme:"grid",styles:{fontSize:6,cellPadding:1},headStyles:{fillColor:[200,200,200],fontSize:6}});const Ce=D.lastAutoTable.finalY;D.text("Total Charges",W+ye+re,ce),D.autoTable({margin:{left:W+ye+re},startY:ce+3,tableWidth:ye,head:[["Category","Total"]],body:[["Service Charges",`$${(g.laborSubtotal??0).toFixed(2)}`],["Travel Charges",`$${(g.travelChargesSubtotal??0).toFixed(2)}`],["Travel Expenses",`$${(g?.travel?.travelExpensesSubtotal??0).toFixed(2)}`],["Grand Total",`$${_.toFixed(2)}`]],theme:"grid",styles:{fontSize:6,cellPadding:1},headStyles:{fillColor:[173,216,230],fontSize:6},didParseCell:Y=>{Y.row.index===3&&Y.cell.section==="body"&&(Y.cell.styles.fontStyle="bold",Y.cell.styles.fontSize=7,Y.cell.styles.lineWidth=.5,Y.cell.styles.fillColor=[230,240,255])}});const le=D.lastAutoTable.finalY,me=Math.max(Ce,le)+10;D.setFontSize(6),D.text("By signing you agree to the charges above and are satisfied with the service.",W,me),D.text("Charges are APPROXIMATE unless stamped in lower right.",W,me+3),D.setFont("helvetica","bold"),D.text("Thank you for your business.",W,me+6);const de=me+12;D.setFont("helvetica","normal"),D.setFontSize(7);const Ie="Accepted By:",Xe=D.getTextWidth(Ie);if(D.text(Ie,Q-W-Xe-60,de),D.line(Q-W-60,de,Q-W,de),j){const Y=D.output("blob"),P=URL.createObjectURL(Y);return d(P),P}else D.save("JoshuaToddIndustriesServiceReport.pdf")}catch(D){console.error("Error generating PDF:",D),alert("Failed to generate PDF. See console for details.")}};ke.useEffect(()=>(T(!0).then(j=>d(j)),()=>h&&URL.revokeObjectURL(h)),[t,s,r,o,u,c]);const M=()=>T(!1);return I.jsxs("div",{className:"mb-12",children:[I.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Service Report Preview"}),I.jsxs("div",{className:"flex gap-4 mb-4 flex-wrap",children:[I.jsx("button",{onClick:()=>e("/"),className:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600",children:"Time Sheet"}),I.jsx("button",{onClick:()=>e("/service-report"),className:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600",children:"Service Report"}),I.jsx("button",{onClick:()=>e("/invoice"),className:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600",children:"Invoice"}),I.jsx("button",{onClick:M,className:"bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600",children:"Export to PDF"})]}),I.jsx("div",{className:"w-[800px] h-[800px] overflow-auto border rounded",children:I.jsx(zx,{pdfDataUrl:h})})]})}function qL(){const n=cd(),e=Mf();if(!n)return console.error("TimeSheetContext is undefined"),I.jsx("div",{children:"Error: Time Sheet context is unavailable. Please try refreshing the page."});const{customerInfo:t,entries:r,travelData:s,invoiceInfo:o}=n,[u,c]=ke.useState(null),h=k2(r||[],s||{});console.log("Charges in InvoicePage:",JSON.stringify(h,null,2));const d=S=>{try{console.log("Formatting date:",S);const[w,T,M]=S.split("-").map(Number),j=new Date(w,T-1,M);if(isNaN(j.getTime()))throw new Error("Invalid date");const D=String(j.getMonth()+1).padStart(2,"0"),Q=String(j.getDate()).padStart(2,"0"),W=String(j.getFullYear()).slice(-2);return console.log(`Formatted date: ${D}/${Q}/${W}`),`${D}/${Q}/${W}`}catch(w){return console.error("Error formatting date:",S,w),"Invalid Date"}},g=(S=!1)=>{try{if(console.log("Starting Invoice PDF generation",{preview:S}),console.log("Customer Info:",JSON.stringify(t,null,2)),console.log("Entries:",JSON.stringify(r,null,2)),console.log("Travel Data:",JSON.stringify(s,null,2)),console.log("Invoice Info:",JSON.stringify(o,null,2)),console.log("Charges:",JSON.stringify(h,null,2)),!Bt||!t_)throw new Error("jsPDF or jspdf-autotable is not loaded correctly.");const w=new Bt;t_(w,{});let T=10;w.setFontSize(9),w.text("Joshua Todd Industries, LLC Invoice",10,T),T+=4,w.text("Address: 1329 N Malibu Lane Gilbert, AZ 85234",10,T),T+=4,w.setFontSize(8),w.text(`Invoice Number: ${o?.invoiceNumber||"N/A"}`,10,T),w.text(`Due Date: ${o?.dueDate?d(o.dueDate):"N/A"}`,100,T),T+=4,w.text(`Invoice Date: ${o?.invoiceDate?d(o.invoiceDate):"N/A"}`,10,T),w.text(`PO Refer: ${o?.poRefer||"N/A"}`,100,T),T+=4,w.text("Email: josh@jtiaz.com",10,T),w.text(`Service Dates: ${o?.serviceDates||"N/A"}`,100,T),T+=4,w.text("Phone: (623) 300-6445",10,T),w.text(`Payment Terms: ${o?.paymentTerms||"N/A"}`,100,T),T+=4,w.setFontSize(9),w.text("Customer Information",10,T),T+=4;const M=[["Company",t?.company||"N/A","Contact",t?.contact||"N/A"],["Address",t?.address||"N/A","Phone",t?.phone||"N/A"],["City",t?.city||"N/A","Email",t?.email||"N/A"],["State",t?.state||"N/A","Purpose",t?.purpose||"N/A"]];w.autoTable({startY:T,head:[["Field","Value","Field","Value"]],body:M,theme:"grid",styles:{fontSize:8,cellPadding:2,overflow:"linebreak"},headStyles:{fillColor:[200,200,200],fontSize:8},margin:{left:10,right:10},columnStyles:{0:{cellWidth:30},1:{cellWidth:60},2:{cellWidth:30},3:{cellWidth:60}}}),T=w.lastAutoTable.finalY+4,w.setFontSize(9),w.text("Service Charges",10,T),T+=4,console.log("Charges tables margins:",{service:10,travel:10,expenses:10}),console.log("Charges tables widths:",{service:180,travel:180,expenses:180}),w.autoTable({startY:T,head:[["Category","Hours","Rate","Charge"]],body:[["Straight",h.straight?.hours.toFixed(2)||"0.00","$120",`$${h.straight?.charge.toFixed(2)||"0.00"}`],["Sat/OT",h.overtime?.hours.toFixed(2)||"0.00","$180",`$${h.overtime?.charge.toFixed(2)||"0.00"}`],["Sun/Hol",h.double?.hours.toFixed(2)||"0.00","$240",`$${h.double?.charge.toFixed(2)||"0.00"}`],["Subtotal","","",`$${h.laborSubtotal?.toFixed(2)||"0.00"}`]],theme:"grid",styles:{fontSize:8,cellPadding:2,overflow:"linebreak"},headStyles:{fillColor:[200,200,200],fontSize:8},margin:{left:10,right:10},columnStyles:{0:{cellWidth:30},1:{cellWidth:20},2:{cellWidth:20},3:{cellWidth:110}},didParseCell:D=>{D.column.index===3&&D.cell.section==="body"&&(D.cell.styles.fontStyle="bold")}}),T=w.lastAutoTable.finalY+4,w.setFontSize(9),w.text("Travel Charges",10,T),T+=4,w.autoTable({startY:T,head:[["Category","Hours","Rate","Charge"]],body:[["Weekday",h.weekdayTravel?.hours.toFixed(2)||"0.00","$80",`$${h.weekdayTravel?.charge.toFixed(2)||"0.00"}`],["Saturday",h.saturdayTravel?.hours.toFixed(2)||"0.00","$120",`$${h.saturdayTravel?.charge.toFixed(2)||"0.00"}`],["Sun/Hol",h.sundayTravel?.hours.toFixed(2)||"0.00","$160",`$${h.sundayTravel?.charge.toFixed(2)||"0.00"}`],["Subtotal","","",`$${h.travelChargesSubtotal?.toFixed(2)||"0.00"}`]],theme:"grid",styles:{fontSize:8,cellPadding:2,overflow:"linebreak"},headStyles:{fillColor:[200,200,200],fontSize:8},margin:{left:10,right:10},columnStyles:{0:{cellWidth:30},1:{cellWidth:20},2:{cellWidth:20},3:{cellWidth:110}},didParseCell:D=>{D.column.index===3&&D.cell.section==="body"&&(D.cell.styles.fontStyle="bold")}}),T=w.lastAutoTable.finalY+4,w.setFontSize(9),w.text("Travel Expenses",10,T),T+=4,w.autoTable({startY:T,head:[["Category","Amount","Details"]],body:[["Per Diem",`$${h.travel?.perDiemTotal.toFixed(2)||"0.00"}`,`${(s?.perDiemType||"local")==="local"?"$65/day":"$220/day"}, ${s?.perDiemDays||0} days`],["Mileage",`$${h.travel?.mileageTotal.toFixed(2)||"0.00"}`,`${s?.mileage||0} miles at $0.63`],["Vehicle Expenses",`$${h.travel?.otherTravel.toFixed(2)||"0.00"}`,""],["Airfare",`$${h.travel?.airTravel.toFixed(2)||"0.00"}`,`To: ${s?.airTravel?.destination||"N/A"}, From: ${s?.airTravel?.origin||"N/A"}, Return: ${s?.airTravel?.return||"N/A"}`],["Subtotal",`$${h.travel?.travelExpensesSubtotal.toFixed(2)||"0.00"}`,""]],theme:"grid",styles:{fontSize:8,cellPadding:2,overflow:"linebreak"},headStyles:{fillColor:[200,200,200],fontSize:8},margin:{left:10,right:10},columnStyles:{0:{cellWidth:30},1:{cellWidth:40},2:{cellWidth:110}},didParseCell:D=>{D.column.index===1&&D.cell.section==="body"&&(D.cell.styles.fontStyle="bold")}}),T=w.lastAutoTable.finalY+4,w.setFontSize(9),w.text("Total Charges",10,T),T+=4;const j=(h.laborSubtotal||0)+(h.travelChargesSubtotal||0)+(h.travel?.travelExpensesSubtotal||0);if(console.log("Total Charges calculated:",{laborSubtotal:h.laborSubtotal,travelChargesSubtotal:h.travelChargesSubtotal,travelExpensesSubtotal:h.travel?.travelExpensesSubtotal,totalCharges:j}),w.autoTable({startY:T,head:[["Category","Total"]],body:[["Service Charges",`$${h.laborSubtotal?.toFixed(2)||"0.00"}`],["Travel Charges",`$${h.travelChargesSubtotal?.toFixed(2)||"0.00"}`],["Travel Expenses",`$${h.travel?.travelExpensesSubtotal.toFixed(2)||"0.00"}`,""],["Grand Total",`$${j.toFixed(2)}`]],theme:"grid",styles:{fontSize:8,cellPadding:2,overflow:"linebreak"},headStyles:{fillColor:[200,200,200],fontSize:8},margin:{left:10,right:10},columnStyles:{0:{cellWidth:90},1:{cellWidth:90}},didParseCell:D=>{D.column.index===1&&D.cell.section==="body"&&(D.cell.styles.fontStyle="bold"),D.row.index===3&&D.cell.section==="body"&&(D.cell.styles.fontStyle="bold",D.cell.styles.fontSize=10,D.cell.styles.lineWidth=.5,D.cell.styles.fillColor=[230,240,255])}}),T=w.lastAutoTable.finalY+4,w.setFontSize(8),w.text("If not paying by ACH make checks payable to Joshua Todd Industries, LLC",10,T),T+=3,w.text("Any questions or concerns please contact Josh Lemmons at (623) 300-6445",10,T),T+=3,w.text("EMAIL: josh@jtiaz.com",10,T),T+=3,w.setFont("helvetica","bold"),w.text("THANK YOU FOR YOUR BUSINESS",10,T),w.setFont("helvetica","normal"),console.log("Final yOffset:",T),S){const D=w.output("blob"),Q=URL.createObjectURL(D);return c(Q),Q}else w.save(`Invoice_${o?.invoiceNumber||"2025016"}.pdf`),console.log("Invoice PDF generated successfully")}catch(w){console.error("Error generating Invoice PDF:",w.message,w.stack),alert("Failed to generate Invoice PDF. Check the console for details.")}};ke.useEffect(()=>{const S=g(!0);return()=>{S&&URL.revokeObjectURL(S)}},[t,r,s,o]);const _=()=>{g(!1)};return I.jsxs("div",{className:"mb-12",children:[I.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Invoice Preview"}),I.jsxs("div",{className:"flex gap-4 mb-4 flex-wrap",children:[I.jsx("button",{onClick:()=>e("/"),className:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600",children:"Time Sheet"}),I.jsx("button",{onClick:()=>e("/service-report"),className:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600",children:"Service Report"}),I.jsx("button",{onClick:()=>e("/invoice"),className:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600",children:"Invoice"}),I.jsx("button",{onClick:_,className:"bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600",children:"Export to PDF"})]}),I.jsx("div",{className:"w-[800px] h-[800px] overflow-auto border rounded",children:u?I.jsx(zx,{pdfDataUrl:u}):I.jsx("p",{children:"Generating preview..."})})]})}function HL({children:n}){Mf();const[e,t]=ke.useState(()=>{const s=localStorage.getItem("theme");return s?s==="dark":window.matchMedia("(prefers-color-scheme: dark)").matches});ke.useEffect(()=>{document.documentElement.setAttribute("data-theme",e?"dark":"light"),localStorage.setItem("theme",e?"dark":"light")},[e]);const r=()=>{t(!e)};return I.jsxs("div",{className:"min-h-screen",children:[I.jsx("button",{onClick:r,className:"dark-mode-toggle bg-white border border-gray-300 hover:bg-gray-100",children:e?" Light":" Dark"}),I.jsx("header",{className:"nav shadow-sm",children:I.jsx("div",{className:"nav-inner",children:I.jsx("div",{className:"flex justify-center mb-4 sm:mb-6",children:I.jsx("img",{src:Ux,alt:"Logo",className:"h-16 sm:h-20 md:h-24 w-auto"})})})}),I.jsx("main",{className:"section",children:I.jsx("div",{className:"card",children:I.jsx("div",{className:"card-body p-2 sm:p-4",children:n})})})]})}function $L(){const[n]=C6(),{loadFromHistory:e}=cd();return ke.useEffect(()=>{const t=n.get("id")||n.get("docId");t&&(console.log("Deep linking to timesheet:",t),e(t))},[n,e]),null}function GL(){return I.jsx(S6,{children:I.jsxs(n7,{children:[I.jsx($L,{}),I.jsx(HL,{children:I.jsxs(ZA,{children:[I.jsx(xp,{path:"/",element:I.jsx(UL,{})}),I.jsx(xp,{path:"/service-report",element:I.jsx(zL,{})}),I.jsx(xp,{path:"/invoice",element:I.jsx(qL,{})})]})})]})})}oA.createRoot(document.getElementById("root")).render(I.jsx(eA.StrictMode,{children:I.jsx(GL,{})}));export{or as _,YL as c,QS as g};
