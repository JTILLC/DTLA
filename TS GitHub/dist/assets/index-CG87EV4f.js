(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function e(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(s){if(s.ep)return;s.ep=!0;const o=e(s);fetch(s.href,o)}})();var fD=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function wS(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Eg={exports:{}},of={};var Tv;function xS(){if(Tv)return of;Tv=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(i,s,o){var u=null;if(o!==void 0&&(u=""+o),s.key!==void 0&&(u=""+s.key),"key"in s){o={};for(var h in s)h!=="key"&&(o[h]=s[h])}else o=s;return s=o.ref,{$$typeof:n,type:i,key:u,ref:s!==void 0?s:null,props:o}}return of.Fragment=t,of.jsx=e,of.jsxs=e,of}var Nv;function SS(){return Nv||(Nv=1,Eg.exports=xS()),Eg.exports}var I=SS(),Tg={exports:{}},sn={};var Cv;function AS(){if(Cv)return sn;Cv=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),S=Symbol.iterator;function _($){return $===null||typeof $!="object"?null:($=S&&$[S]||$["@@iterator"],typeof $=="function"?$:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},M=Object.assign,j={};function R($,O,K){this.props=$,this.context=O,this.refs=j,this.updater=K||N}R.prototype.isReactComponent={},R.prototype.setState=function($,O){if(typeof $!="object"&&typeof $!="function"&&$!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,$,O,"setState")},R.prototype.forceUpdate=function($){this.updater.enqueueForceUpdate(this,$,"forceUpdate")};function Q(){}Q.prototype=R.prototype;function W($,O,K){this.props=$,this.context=O,this.refs=j,this.updater=K||N}var nt=W.prototype=new Q;nt.constructor=W,M(nt,R.prototype),nt.isPureReactComponent=!0;var mt=Array.isArray;function bt(){}var q={H:null,A:null,T:null,S:null},V=Object.prototype.hasOwnProperty;function D($,O,K){var tt=K.ref;return{$$typeof:n,type:$,key:O,ref:tt!==void 0?tt:null,props:K}}function H($,O){return D($.type,O,$.props)}function T($){return typeof $=="object"&&$!==null&&$.$$typeof===n}function P($){var O={"=":"=0",":":"=2"};return"$"+$.replace(/[=:]/g,function(K){return O[K]})}var F=/\/+/g;function lt($,O){return typeof $=="object"&&$!==null&&$.key!=null?P(""+$.key):O.toString(36)}function xt($){switch($.status){case"fulfilled":return $.value;case"rejected":throw $.reason;default:switch(typeof $.status=="string"?$.then(bt,bt):($.status="pending",$.then(function(O){$.status==="pending"&&($.status="fulfilled",$.value=O)},function(O){$.status==="pending"&&($.status="rejected",$.reason=O)})),$.status){case"fulfilled":return $.value;case"rejected":throw $.reason}}throw $}function ot($,O,K,tt,st){var ut=typeof $;(ut==="undefined"||ut==="boolean")&&($=null);var yt=!1;if($===null)yt=!0;else switch(ut){case"bigint":case"string":case"number":yt=!0;break;case"object":switch($.$$typeof){case n:case t:yt=!0;break;case g:return yt=$._init,ot(yt($._payload),O,K,tt,st)}}if(yt)return st=st($),yt=tt===""?"."+lt($,0):tt,mt(st)?(K="",yt!=null&&(K=yt.replace(F,"$&/")+"/"),ot(st,O,K,"",function(zt){return zt})):st!=null&&(T(st)&&(st=H(st,K+(st.key==null||$&&$.key===st.key?"":(""+st.key).replace(F,"$&/")+"/")+yt)),O.push(st)),1;yt=0;var It=tt===""?".":tt+":";if(mt($))for(var Rt=0;Rt<$.length;Rt++)tt=$[Rt],ut=It+lt(tt,Rt),yt+=ot(tt,O,K,ut,st);else if(Rt=_($),typeof Rt=="function")for($=Rt.call($),Rt=0;!(tt=$.next()).done;)tt=tt.value,ut=It+lt(tt,Rt++),yt+=ot(tt,O,K,ut,st);else if(ut==="object"){if(typeof $.then=="function")return ot(xt($),O,K,tt,st);throw O=String($),Error("Objects are not valid as a React child (found: "+(O==="[object Object]"?"object with keys {"+Object.keys($).join(", ")+"}":O)+"). If you meant to render a collection of children, use an array instead.")}return yt}function dt($,O,K){if($==null)return $;var tt=[],st=0;return ot($,tt,"","",function(ut){return O.call(K,ut,st++)}),tt}function ft($){if($._status===-1){var O=$._result;O=O(),O.then(function(K){($._status===0||$._status===-1)&&($._status=1,$._result=K)},function(K){($._status===0||$._status===-1)&&($._status=2,$._result=K)}),$._status===-1&&($._status=0,$._result=O)}if($._status===1)return $._result.default;throw $._result}var Nt=typeof reportError=="function"?reportError:function($){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var O=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof $=="object"&&$!==null&&typeof $.message=="string"?String($.message):String($),error:$});if(!window.dispatchEvent(O))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",$);return}console.error($)},Wt={map:dt,forEach:function($,O,K){dt($,function(){O.apply(this,arguments)},K)},count:function($){var O=0;return dt($,function(){O++}),O},toArray:function($){return dt($,function(O){return O})||[]},only:function($){if(!T($))throw Error("React.Children.only expected to receive a single React element child.");return $}};return sn.Activity=w,sn.Children=Wt,sn.Component=R,sn.Fragment=e,sn.Profiler=s,sn.PureComponent=W,sn.StrictMode=i,sn.Suspense=f,sn.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=q,sn.__COMPILER_RUNTIME={__proto__:null,c:function($){return q.H.useMemoCache($)}},sn.cache=function($){return function(){return $.apply(null,arguments)}},sn.cacheSignal=function(){return null},sn.cloneElement=function($,O,K){if($==null)throw Error("The argument must be a React element, but you passed "+$+".");var tt=M({},$.props),st=$.key;if(O!=null)for(ut in O.key!==void 0&&(st=""+O.key),O)!V.call(O,ut)||ut==="key"||ut==="__self"||ut==="__source"||ut==="ref"&&O.ref===void 0||(tt[ut]=O[ut]);var ut=arguments.length-2;if(ut===1)tt.children=K;else if(1<ut){for(var yt=Array(ut),It=0;It<ut;It++)yt[It]=arguments[It+2];tt.children=yt}return D($.type,st,tt)},sn.createContext=function($){return $={$$typeof:u,_currentValue:$,_currentValue2:$,_threadCount:0,Provider:null,Consumer:null},$.Provider=$,$.Consumer={$$typeof:o,_context:$},$},sn.createElement=function($,O,K){var tt,st={},ut=null;if(O!=null)for(tt in O.key!==void 0&&(ut=""+O.key),O)V.call(O,tt)&&tt!=="key"&&tt!=="__self"&&tt!=="__source"&&(st[tt]=O[tt]);var yt=arguments.length-2;if(yt===1)st.children=K;else if(1<yt){for(var It=Array(yt),Rt=0;Rt<yt;Rt++)It[Rt]=arguments[Rt+2];st.children=It}if($&&$.defaultProps)for(tt in yt=$.defaultProps,yt)st[tt]===void 0&&(st[tt]=yt[tt]);return D($,ut,st)},sn.createRef=function(){return{current:null}},sn.forwardRef=function($){return{$$typeof:h,render:$}},sn.isValidElement=T,sn.lazy=function($){return{$$typeof:g,_payload:{_status:-1,_result:$},_init:ft}},sn.memo=function($,O){return{$$typeof:d,type:$,compare:O===void 0?null:O}},sn.startTransition=function($){var O=q.T,K={};q.T=K;try{var tt=$(),st=q.S;st!==null&&st(K,tt),typeof tt=="object"&&tt!==null&&typeof tt.then=="function"&&tt.then(bt,Nt)}catch(ut){Nt(ut)}finally{O!==null&&K.types!==null&&(O.types=K.types),q.T=O}},sn.unstable_useCacheRefresh=function(){return q.H.useCacheRefresh()},sn.use=function($){return q.H.use($)},sn.useActionState=function($,O,K){return q.H.useActionState($,O,K)},sn.useCallback=function($,O){return q.H.useCallback($,O)},sn.useContext=function($){return q.H.useContext($)},sn.useDebugValue=function(){},sn.useDeferredValue=function($,O){return q.H.useDeferredValue($,O)},sn.useEffect=function($,O){return q.H.useEffect($,O)},sn.useEffectEvent=function($){return q.H.useEffectEvent($)},sn.useId=function(){return q.H.useId()},sn.useImperativeHandle=function($,O,K){return q.H.useImperativeHandle($,O,K)},sn.useInsertionEffect=function($,O){return q.H.useInsertionEffect($,O)},sn.useLayoutEffect=function($,O){return q.H.useLayoutEffect($,O)},sn.useMemo=function($,O){return q.H.useMemo($,O)},sn.useOptimistic=function($,O){return q.H.useOptimistic($,O)},sn.useReducer=function($,O,K){return q.H.useReducer($,O,K)},sn.useRef=function($){return q.H.useRef($)},sn.useState=function($){return q.H.useState($)},sn.useSyncExternalStore=function($,O,K){return q.H.useSyncExternalStore($,O,K)},sn.useTransition=function(){return q.H.useTransition()},sn.version="19.2.1",sn}var Rv;function a1(){return Rv||(Rv=1,Tg.exports=AS()),Tg.exports}var Ot=a1();const ES=wS(Ot);var Ng={exports:{}},lf={},Cg={exports:{}},Rg={};var Lv;function TS(){return Lv||(Lv=1,(function(n){function t(ot,dt){var ft=ot.length;ot.push(dt);t:for(;0<ft;){var Nt=ft-1>>>1,Wt=ot[Nt];if(0<s(Wt,dt))ot[Nt]=dt,ot[ft]=Wt,ft=Nt;else break t}}function e(ot){return ot.length===0?null:ot[0]}function i(ot){if(ot.length===0)return null;var dt=ot[0],ft=ot.pop();if(ft!==dt){ot[0]=ft;t:for(var Nt=0,Wt=ot.length,$=Wt>>>1;Nt<$;){var O=2*(Nt+1)-1,K=ot[O],tt=O+1,st=ot[tt];if(0>s(K,ft))tt<Wt&&0>s(st,K)?(ot[Nt]=st,ot[tt]=ft,Nt=tt):(ot[Nt]=K,ot[O]=ft,Nt=O);else if(tt<Wt&&0>s(st,ft))ot[Nt]=st,ot[tt]=ft,Nt=tt;else break t}}return dt}function s(ot,dt){var ft=ot.sortIndex-dt.sortIndex;return ft!==0?ft:ot.id-dt.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var u=Date,h=u.now();n.unstable_now=function(){return u.now()-h}}var f=[],d=[],g=1,w=null,S=3,_=!1,N=!1,M=!1,j=!1,R=typeof setTimeout=="function"?setTimeout:null,Q=typeof clearTimeout=="function"?clearTimeout:null,W=typeof setImmediate<"u"?setImmediate:null;function nt(ot){for(var dt=e(d);dt!==null;){if(dt.callback===null)i(d);else if(dt.startTime<=ot)i(d),dt.sortIndex=dt.expirationTime,t(f,dt);else break;dt=e(d)}}function mt(ot){if(M=!1,nt(ot),!N)if(e(f)!==null)N=!0,bt||(bt=!0,P());else{var dt=e(d);dt!==null&&xt(mt,dt.startTime-ot)}}var bt=!1,q=-1,V=5,D=-1;function H(){return j?!0:!(n.unstable_now()-D<V)}function T(){if(j=!1,bt){var ot=n.unstable_now();D=ot;var dt=!0;try{t:{N=!1,M&&(M=!1,Q(q),q=-1),_=!0;var ft=S;try{e:{for(nt(ot),w=e(f);w!==null&&!(w.expirationTime>ot&&H());){var Nt=w.callback;if(typeof Nt=="function"){w.callback=null,S=w.priorityLevel;var Wt=Nt(w.expirationTime<=ot);if(ot=n.unstable_now(),typeof Wt=="function"){w.callback=Wt,nt(ot),dt=!0;break e}w===e(f)&&i(f),nt(ot)}else i(f);w=e(f)}if(w!==null)dt=!0;else{var $=e(d);$!==null&&xt(mt,$.startTime-ot),dt=!1}}break t}finally{w=null,S=ft,_=!1}dt=void 0}}finally{dt?P():bt=!1}}}var P;if(typeof W=="function")P=function(){W(T)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,lt=F.port2;F.port1.onmessage=T,P=function(){lt.postMessage(null)}}else P=function(){R(T,0)};function xt(ot,dt){q=R(function(){ot(n.unstable_now())},dt)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(ot){ot.callback=null},n.unstable_forceFrameRate=function(ot){0>ot||125<ot?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<ot?Math.floor(1e3/ot):5},n.unstable_getCurrentPriorityLevel=function(){return S},n.unstable_next=function(ot){switch(S){case 1:case 2:case 3:var dt=3;break;default:dt=S}var ft=S;S=dt;try{return ot()}finally{S=ft}},n.unstable_requestPaint=function(){j=!0},n.unstable_runWithPriority=function(ot,dt){switch(ot){case 1:case 2:case 3:case 4:case 5:break;default:ot=3}var ft=S;S=ot;try{return dt()}finally{S=ft}},n.unstable_scheduleCallback=function(ot,dt,ft){var Nt=n.unstable_now();switch(typeof ft=="object"&&ft!==null?(ft=ft.delay,ft=typeof ft=="number"&&0<ft?Nt+ft:Nt):ft=Nt,ot){case 1:var Wt=-1;break;case 2:Wt=250;break;case 5:Wt=1073741823;break;case 4:Wt=1e4;break;default:Wt=5e3}return Wt=ft+Wt,ot={id:g++,callback:dt,priorityLevel:ot,startTime:ft,expirationTime:Wt,sortIndex:-1},ft>Nt?(ot.sortIndex=ft,t(d,ot),e(f)===null&&ot===e(d)&&(M?(Q(q),q=-1):M=!0,xt(mt,ft-Nt))):(ot.sortIndex=Wt,t(f,ot),N||_||(N=!0,bt||(bt=!0,P()))),ot},n.unstable_shouldYield=H,n.unstable_wrapCallback=function(ot){var dt=S;return function(){var ft=S;S=dt;try{return ot.apply(this,arguments)}finally{S=ft}}}})(Rg)),Rg}var Iv;function NS(){return Iv||(Iv=1,Cg.exports=TS()),Cg.exports}var Lg={exports:{}},ca={};var Dv;function CS(){if(Dv)return ca;Dv=1;var n=a1();function t(f){var d="https://react.dev/errors/"+f;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)d+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+f+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var i={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},s=Symbol.for("react.portal");function o(f,d,g){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:w==null?null:""+w,children:f,containerInfo:d,implementation:g}}var u=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(f,d){if(f==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return ca.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,ca.createPortal=function(f,d){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(t(299));return o(f,d,null,g)},ca.flushSync=function(f){var d=u.T,g=i.p;try{if(u.T=null,i.p=2,f)return f()}finally{u.T=d,i.p=g,i.d.f()}},ca.preconnect=function(f,d){typeof f=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,i.d.C(f,d))},ca.prefetchDNS=function(f){typeof f=="string"&&i.d.D(f)},ca.preinit=function(f,d){if(typeof f=="string"&&d&&typeof d.as=="string"){var g=d.as,w=h(g,d.crossOrigin),S=typeof d.integrity=="string"?d.integrity:void 0,_=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;g==="style"?i.d.S(f,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:w,integrity:S,fetchPriority:_}):g==="script"&&i.d.X(f,{crossOrigin:w,integrity:S,fetchPriority:_,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},ca.preinitModule=function(f,d){if(typeof f=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var g=h(d.as,d.crossOrigin);i.d.M(f,{crossOrigin:g,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&i.d.M(f)},ca.preload=function(f,d){if(typeof f=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var g=d.as,w=h(g,d.crossOrigin);i.d.L(f,g,{crossOrigin:w,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},ca.preloadModule=function(f,d){if(typeof f=="string")if(d){var g=h(d.as,d.crossOrigin);i.d.m(f,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:g,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else i.d.m(f)},ca.requestFormReset=function(f){i.d.r(f)},ca.unstable_batchedUpdates=function(f,d){return f(d)},ca.useFormState=function(f,d,g){return u.H.useFormState(f,d,g)},ca.useFormStatus=function(){return u.H.useHostTransitionStatus()},ca.version="19.2.1",ca}var kv;function RS(){if(kv)return Lg.exports;kv=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Lg.exports=CS(),Lg.exports}var Ov;function LS(){if(Ov)return lf;Ov=1;var n=NS(),t=a1(),e=RS();function i(r){var a="https://react.dev/errors/"+r;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)a+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+r+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function o(r){var a=r,l=r;if(r.alternate)for(;a.return;)a=a.return;else{r=a;do a=r,(a.flags&4098)!==0&&(l=a.return),r=a.return;while(r)}return a.tag===3?l:null}function u(r){if(r.tag===13){var a=r.memoizedState;if(a===null&&(r=r.alternate,r!==null&&(a=r.memoizedState)),a!==null)return a.dehydrated}return null}function h(r){if(r.tag===31){var a=r.memoizedState;if(a===null&&(r=r.alternate,r!==null&&(a=r.memoizedState)),a!==null)return a.dehydrated}return null}function f(r){if(o(r)!==r)throw Error(i(188))}function d(r){var a=r.alternate;if(!a){if(a=o(r),a===null)throw Error(i(188));return a!==r?null:r}for(var l=r,c=a;;){var y=l.return;if(y===null)break;var b=y.alternate;if(b===null){if(c=y.return,c!==null){l=c;continue}break}if(y.child===b.child){for(b=y.child;b;){if(b===l)return f(y),r;if(b===c)return f(y),a;b=b.sibling}throw Error(i(188))}if(l.return!==c.return)l=y,c=b;else{for(var L=!1,Y=y.child;Y;){if(Y===l){L=!0,l=y,c=b;break}if(Y===c){L=!0,c=y,l=b;break}Y=Y.sibling}if(!L){for(Y=b.child;Y;){if(Y===l){L=!0,l=b,c=y;break}if(Y===c){L=!0,c=b,l=y;break}Y=Y.sibling}if(!L)throw Error(i(189))}}if(l.alternate!==c)throw Error(i(190))}if(l.tag!==3)throw Error(i(188));return l.stateNode.current===l?r:a}function g(r){var a=r.tag;if(a===5||a===26||a===27||a===6)return r;for(r=r.child;r!==null;){if(a=g(r),a!==null)return a;r=r.sibling}return null}var w=Object.assign,S=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),N=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),Q=Symbol.for("react.consumer"),W=Symbol.for("react.context"),nt=Symbol.for("react.forward_ref"),mt=Symbol.for("react.suspense"),bt=Symbol.for("react.suspense_list"),q=Symbol.for("react.memo"),V=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),H=Symbol.for("react.memo_cache_sentinel"),T=Symbol.iterator;function P(r){return r===null||typeof r!="object"?null:(r=T&&r[T]||r["@@iterator"],typeof r=="function"?r:null)}var F=Symbol.for("react.client.reference");function lt(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===F?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case M:return"Fragment";case R:return"Profiler";case j:return"StrictMode";case mt:return"Suspense";case bt:return"SuspenseList";case D:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case N:return"Portal";case W:return r.displayName||"Context";case Q:return(r._context.displayName||"Context")+".Consumer";case nt:var a=r.render;return r=r.displayName,r||(r=a.displayName||a.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case q:return a=r.displayName||null,a!==null?a:lt(r.type)||"Memo";case V:a=r._payload,r=r._init;try{return lt(r(a))}catch{}}return null}var xt=Array.isArray,ot=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,dt=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ft={pending:!1,data:null,method:null,action:null},Nt=[],Wt=-1;function $(r){return{current:r}}function O(r){0>Wt||(r.current=Nt[Wt],Nt[Wt]=null,Wt--)}function K(r,a){Wt++,Nt[Wt]=r.current,r.current=a}var tt=$(null),st=$(null),ut=$(null),yt=$(null);function It(r,a){switch(K(ut,a),K(st,r),K(tt,null),a.nodeType){case 9:case 11:r=(r=a.documentElement)&&(r=r.namespaceURI)?Ky(r):0;break;default:if(r=a.tagName,a=a.namespaceURI)a=Ky(a),r=Qy(a,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}O(tt),K(tt,r)}function Rt(){O(tt),O(st),O(ut)}function zt(r){r.memoizedState!==null&&K(yt,r);var a=tt.current,l=Qy(a,r.type);a!==l&&(K(st,r),K(tt,l))}function Et(r){st.current===r&&(O(tt),O(st)),yt.current===r&&(O(yt),nf._currentValue=ft)}var jt,qt;function Mt(r){if(jt===void 0)try{throw Error()}catch(l){var a=l.stack.trim().match(/\n( *(at )?)/);jt=a&&a[1]||"",qt=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+jt+r+qt}var Z=!1;function ne(r,a){if(!r||Z)return"";Z=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(a){var Xt=function(){throw Error()};if(Object.defineProperty(Xt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Xt,[])}catch(Ft){var Pt=Ft}Reflect.construct(r,[],Xt)}else{try{Xt.call()}catch(Ft){Pt=Ft}r.call(Xt.prototype)}}else{try{throw Error()}catch(Ft){Pt=Ft}(Xt=r())&&typeof Xt.catch=="function"&&Xt.catch(function(){})}}catch(Ft){if(Ft&&Pt&&typeof Ft.stack=="string")return[Ft.stack,Pt.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var b=c.DetermineComponentFrameRoot(),L=b[0],Y=b[1];if(L&&Y){var ct=L.split(`
`),Dt=Y.split(`
`);for(y=c=0;c<ct.length&&!ct[c].includes("DetermineComponentFrameRoot");)c++;for(;y<Dt.length&&!Dt[y].includes("DetermineComponentFrameRoot");)y++;if(c===ct.length||y===Dt.length)for(c=ct.length-1,y=Dt.length-1;1<=c&&0<=y&&ct[c]!==Dt[y];)y--;for(;1<=c&&0<=y;c--,y--)if(ct[c]!==Dt[y]){if(c!==1||y!==1)do if(c--,y--,0>y||ct[c]!==Dt[y]){var $t=`
`+ct[c].replace(" at new "," at ");return r.displayName&&$t.includes("<anonymous>")&&($t=$t.replace("<anonymous>",r.displayName)),$t}while(1<=c&&0<=y);break}}}finally{Z=!1,Error.prepareStackTrace=l}return(l=r?r.displayName||r.name:"")?Mt(l):""}function Ce(r,a){switch(r.tag){case 26:case 27:case 5:return Mt(r.type);case 16:return Mt("Lazy");case 13:return r.child!==a&&a!==null?Mt("Suspense Fallback"):Mt("Suspense");case 19:return Mt("SuspenseList");case 0:case 15:return ne(r.type,!1);case 11:return ne(r.type.render,!1);case 1:return ne(r.type,!0);case 31:return Mt("Activity");default:return""}}function ce(r){try{var a="",l=null;do a+=Ce(r,l),l=r,r=r.return;while(r);return a}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var Ht=Object.prototype.hasOwnProperty,le=n.unstable_scheduleCallback,se=n.unstable_cancelCallback,De=n.unstable_shouldYield,Ae=n.unstable_requestPaint,Ke=n.unstable_now,en=n.unstable_getCurrentPriorityLevel,He=n.unstable_ImmediatePriority,un=n.unstable_UserBlockingPriority,ze=n.unstable_NormalPriority,ge=n.unstable_LowPriority,Ye=n.unstable_IdlePriority,ve=n.log,Zn=n.unstable_setDisableYieldValue,nn=null,Re=null;function qe(r){if(typeof ve=="function"&&Zn(r),Re&&typeof Re.setStrictMode=="function")try{Re.setStrictMode(nn,r)}catch{}}var Xe=Math.clz32?Math.clz32:Pe,Ne=Math.log,En=Math.LN2;function Pe(r){return r>>>=0,r===0?32:31-(Ne(r)/En|0)|0}var Oe=256,Tn=262144,xe=4194304;function Se(r){var a=r&42;if(a!==0)return a;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return r&261888;case 262144:case 524288:case 1048576:case 2097152:return r&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function Je(r,a,l){var c=r.pendingLanes;if(c===0)return 0;var y=0,b=r.suspendedLanes,L=r.pingedLanes;r=r.warmLanes;var Y=c&134217727;return Y!==0?(c=Y&~b,c!==0?y=Se(c):(L&=Y,L!==0?y=Se(L):l||(l=Y&~r,l!==0&&(y=Se(l))))):(Y=c&~b,Y!==0?y=Se(Y):L!==0?y=Se(L):l||(l=c&~r,l!==0&&(y=Se(l)))),y===0?0:a!==0&&a!==y&&(a&b)===0&&(b=y&-y,l=a&-a,b>=l||b===32&&(l&4194048)!==0)?a:y}function Bt(r,a){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&a)===0}function ie(r,a){switch(r){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Le(){var r=xe;return xe<<=1,(xe&62914560)===0&&(xe=4194304),r}function Ie(r){for(var a=[],l=0;31>l;l++)a.push(r);return a}function ae(r,a){r.pendingLanes|=a,a!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function wr(r,a,l,c,y,b){var L=r.pendingLanes;r.pendingLanes=l,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=l,r.entangledLanes&=l,r.errorRecoveryDisabledLanes&=l,r.shellSuspendCounter=0;var Y=r.entanglements,ct=r.expirationTimes,Dt=r.hiddenUpdates;for(l=L&~l;0<l;){var $t=31-Xe(l),Xt=1<<$t;Y[$t]=0,ct[$t]=-1;var Pt=Dt[$t];if(Pt!==null)for(Dt[$t]=null,$t=0;$t<Pt.length;$t++){var Ft=Pt[$t];Ft!==null&&(Ft.lane&=-536870913)}l&=~Xt}c!==0&&pi(r,c,0),b!==0&&y===0&&r.tag!==0&&(r.suspendedLanes|=b&~(L&~a))}function pi(r,a,l){r.pendingLanes|=a,r.suspendedLanes&=~a;var c=31-Xe(a);r.entangledLanes|=a,r.entanglements[c]=r.entanglements[c]|1073741824|l&261930}function ei(r,a){var l=r.entangledLanes|=a;for(r=r.entanglements;l;){var c=31-Xe(l),y=1<<c;y&a|r[c]&a&&(r[c]|=a),l&=~y}}function ni(r,a){var l=a&-a;return l=(l&42)!==0?1:Hn(l),(l&(r.suspendedLanes|a))!==0?0:l}function Hn(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function tr(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function jr(){var r=dt.p;return r!==0?r:(r=window.event,r===void 0?32:bv(r.type))}function mi(r,a){var l=dt.p;try{return dt.p=r,a()}finally{dt.p=l}}var ri=Math.random().toString(36).slice(2),Mn="__reactFiber$"+ri,Yn="__reactProps$"+ri,Fr="__reactContainer$"+ri,Ci="__reactEvents$"+ri,ra="__reactListeners$"+ri,gs="__reactHandles$"+ri,va="__reactResources$"+ri,Ri="__reactMarker$"+ri;function Za(r){delete r[Mn],delete r[Yn],delete r[Ci],delete r[ra],delete r[gs]}function Ui(r){var a=r[Mn];if(a)return a;for(var l=r.parentNode;l;){if(a=l[Fr]||l[Mn]){if(l=a.alternate,a.child!==null||l!==null&&l.child!==null)for(r=rv(r);r!==null;){if(l=r[Mn])return l;r=rv(r)}return a}r=l,l=r.parentNode}return null}function gi(r){if(r=r[Mn]||r[Fr]){var a=r.tag;if(a===5||a===6||a===13||a===31||a===26||a===27||a===3)return r}return null}function zi(r){var a=r.tag;if(a===5||a===26||a===27||a===6)return r.stateNode;throw Error(i(33))}function ia(r){var a=r[va];return a||(a=r[va]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function pr(r){r[Ri]=!0}var mo=new Set,Li={};function aa(r,a){ba(r,a),ba(r+"Capture",a)}function ba(r,a){for(Li[r]=a,r=0;r<a.length;r++)mo.add(a[r])}var Vs=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),go={},yo={};function Wo(r){return Ht.call(yo,r)?!0:Ht.call(go,r)?!1:Vs.test(r)?yo[r]=!0:(go[r]=!0,!1)}function qi(r,a,l){if(Wo(a))if(l===null)r.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":r.removeAttribute(a);return;case"boolean":var c=a.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){r.removeAttribute(a);return}}r.setAttribute(a,""+l)}}function ii(r,a,l){if(l===null)r.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(a);return}r.setAttribute(a,""+l)}}function xr(r,a,l,c){if(c===null)r.removeAttribute(l);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(l);return}r.setAttributeNS(a,l,""+c)}}function pn(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function ts(r){var a=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function sa(r,a,l){var c=Object.getOwnPropertyDescriptor(r.constructor.prototype,a);if(!r.hasOwnProperty(a)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var y=c.get,b=c.set;return Object.defineProperty(r,a,{configurable:!0,get:function(){return y.call(this)},set:function(L){l=""+L,b.call(this,L)}}),Object.defineProperty(r,a,{enumerable:c.enumerable}),{getValue:function(){return l},setValue:function(L){l=""+L},stopTracking:function(){r._valueTracker=null,delete r[a]}}}}function _n(r){if(!r._valueTracker){var a=ts(r)?"checked":"value";r._valueTracker=sa(r,a,""+r[a])}}function ys(r){if(!r)return!1;var a=r._valueTracker;if(!a)return!0;var l=a.getValue(),c="";return r&&(c=ts(r)?r.checked?"true":"false":r.value),r=c,r!==l?(a.setValue(r),!0):!1}function Rr(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var lr=/[\n"\\]/g;function Sr(r){return r.replace(lr,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function Bs(r,a,l,c,y,b,L,Y){r.name="",L!=null&&typeof L!="function"&&typeof L!="symbol"&&typeof L!="boolean"?r.type=L:r.removeAttribute("type"),a!=null?L==="number"?(a===0&&r.value===""||r.value!=a)&&(r.value=""+pn(a)):r.value!==""+pn(a)&&(r.value=""+pn(a)):L!=="submit"&&L!=="reset"||r.removeAttribute("value"),a!=null?Ko(r,L,pn(a)):l!=null?Ko(r,L,pn(l)):c!=null&&r.removeAttribute("value"),y==null&&b!=null&&(r.defaultChecked=!!b),y!=null&&(r.checked=y&&typeof y!="function"&&typeof y!="symbol"),Y!=null&&typeof Y!="function"&&typeof Y!="symbol"&&typeof Y!="boolean"?r.name=""+pn(Y):r.removeAttribute("name")}function Ol(r,a,l,c,y,b,L,Y){if(b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(r.type=b),a!=null||l!=null){if(!(b!=="submit"&&b!=="reset"||a!=null)){_n(r);return}l=l!=null?""+pn(l):"",a=a!=null?""+pn(a):l,Y||a===r.value||(r.value=a),r.defaultValue=a}c=c??y,c=typeof c!="function"&&typeof c!="symbol"&&!!c,r.checked=Y?r.checked:!!c,r.defaultChecked=!!c,L!=null&&typeof L!="function"&&typeof L!="symbol"&&typeof L!="boolean"&&(r.name=L),_n(r)}function Ko(r,a,l){a==="number"&&Rr(r.ownerDocument)===r||r.defaultValue===""+l||(r.defaultValue=""+l)}function yi(r,a,l,c){if(r=r.options,a){a={};for(var y=0;y<l.length;y++)a["$"+l[y]]=!0;for(l=0;l<r.length;l++)y=a.hasOwnProperty("$"+r[l].value),r[l].selected!==y&&(r[l].selected=y),y&&c&&(r[l].defaultSelected=!0)}else{for(l=""+pn(l),a=null,y=0;y<r.length;y++){if(r[y].value===l){r[y].selected=!0,c&&(r[y].defaultSelected=!0);return}a!==null||r[y].disabled||(a=r[y])}a!==null&&(a.selected=!0)}}function Qo(r,a,l){if(a!=null&&(a=""+pn(a),a!==r.value&&(r.value=a),l==null)){r.defaultValue!==a&&(r.defaultValue=a);return}r.defaultValue=l!=null?""+pn(l):""}function es(r,a,l,c){if(a==null){if(c!=null){if(l!=null)throw Error(i(92));if(xt(c)){if(1<c.length)throw Error(i(93));c=c[0]}l=c}l==null&&(l=""),a=l}l=pn(a),r.defaultValue=l,c=r.textContent,c===l&&c!==""&&c!==null&&(r.value=c),_n(r)}function Yr(r,a){if(a){var l=r.firstChild;if(l&&l===r.lastChild&&l.nodeType===3){l.nodeValue=a;return}}r.textContent=a}var vs=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Xo(r,a,l){var c=a.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?c?r.setProperty(a,""):a==="float"?r.cssFloat="":r[a]="":c?r.setProperty(a,l):typeof l!="number"||l===0||vs.has(a)?a==="float"?r.cssFloat=l:r[a]=(""+l).trim():r[a]=l+"px"}function Jo(r,a,l){if(a!=null&&typeof a!="object")throw Error(i(62));if(r=r.style,l!=null){for(var c in l)!l.hasOwnProperty(c)||a!=null&&a.hasOwnProperty(c)||(c.indexOf("--")===0?r.setProperty(c,""):c==="float"?r.cssFloat="":r[c]="");for(var y in a)c=a[y],a.hasOwnProperty(y)&&l[y]!==c&&Xo(r,y,c)}else for(var b in a)a.hasOwnProperty(b)&&Xo(r,b,a[b])}function vo(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bo=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ns=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ii(r){return ns.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}function _a(){}var rs=null;function Di(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var bs=null,Me=null;function Us(r){var a=gi(r);if(a&&(r=a.stateNode)){var l=r[Yn]||null;t:switch(r=a.stateNode,a.type){case"input":if(Bs(r,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),a=l.name,l.type==="radio"&&a!=null){for(l=r;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Sr(""+a)+'"][type="radio"]'),a=0;a<l.length;a++){var c=l[a];if(c!==r&&c.form===r.form){var y=c[Yn]||null;if(!y)throw Error(i(90));Bs(c,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(a=0;a<l.length;a++)c=l[a],c.form===r.form&&ys(c)}break t;case"textarea":Qo(r,l.value,l.defaultValue);break t;case"select":a=l.value,a!=null&&yi(r,!!l.multiple,a,!1)}}}var _o=!1;function _s(r,a,l){if(_o)return r(a,l);_o=!0;try{var c=r(a);return c}finally{if(_o=!1,(bs!==null||Me!==null)&&(wd(),bs&&(a=bs,r=Me,Me=bs=null,Us(a),r)))for(a=0;a<r.length;a++)Us(r[a])}}function Wr(r,a){var l=r.stateNode;if(l===null)return null;var c=l[Yn]||null;if(c===null)return null;l=c[a];t:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(r=r.type,c=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!c;break t;default:r=!1}if(r)return null;if(l&&typeof l!="function")throw Error(i(231,a,typeof l));return l}var Vr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),zs=!1;if(Vr)try{var jn={};Object.defineProperty(jn,"passive",{get:function(){zs=!0}}),window.addEventListener("test",jn,jn),window.removeEventListener("test",jn,jn)}catch{zs=!1}var Hi=null,qs=null,wa=null;function Zo(){if(wa)return wa;var r,a=qs,l=a.length,c,y="value"in Hi?Hi.value:Hi.textContent,b=y.length;for(r=0;r<l&&a[r]===y[r];r++);var L=l-r;for(c=1;c<=L&&a[l-c]===y[b-c];c++);return wa=y.slice(r,1<c?1-c:void 0)}function Gi(r){var a=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&a===13&&(r=13)):r=a,r===10&&(r=13),32<=r||r===13?r:0}function is(){return!0}function $i(){return!1}function Lr(r){function a(l,c,y,b,L){this._reactName=l,this._targetInst=y,this.type=c,this.nativeEvent=b,this.target=L,this.currentTarget=null;for(var Y in r)r.hasOwnProperty(Y)&&(l=r[Y],this[Y]=l?l(b):b[Y]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?is:$i,this.isPropagationStopped=$i,this}return w(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=is)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=is)},persist:function(){},isPersistent:is}),a}var La={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ai=Lr(La),Ia=w({},La,{view:0,detail:0}),ws=Lr(Ia),Da,ka,oa,Hs=w({},Ia,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Fe,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==oa&&(oa&&r.type==="mousemove"?(Da=r.screenX-oa.screenX,ka=r.screenY-oa.screenY):ka=Da=0,oa=r),Da)},movementY:function(r){return"movementY"in r?r.movementY:ka}}),wo=Lr(Hs),Yi=w({},Hs,{dataTransfer:0}),Oa=Lr(Yi),tl=w({},Ia,{relatedTarget:0}),xa=Lr(tl),xo=w({},La,{animationName:0,elapsedTime:0,pseudoElement:0}),x=Lr(xo),B=w({},La,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),it=Lr(B),ht=w({},La,{data:0}),_t=Lr(ht),Gt={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Zt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},de={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function be(r){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(r):(r=de[r])?!!a[r]:!1}function Fe(){return be}var ke=w({},Ia,{key:function(r){if(r.key){var a=Gt[r.key]||r.key;if(a!=="Unidentified")return a}return r.type==="keypress"?(r=Gi(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Zt[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Fe,charCode:function(r){return r.type==="keypress"?Gi(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Gi(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),mn=Lr(ke),er=w({},Hs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Gn=Lr(er),m=w({},Ia,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Fe}),E=Lr(m),k=w({},La,{propertyName:0,elapsedTime:0,pseudoElement:0}),J=Lr(k),St=w({},Hs,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),kt=Lr(St),re=w({},La,{newState:0,oldState:0}),Qe=Lr(re),nr=[9,13,27,32],fn=Vr&&"CompositionEvent"in window,Fn=null;Vr&&"documentMode"in document&&(Fn=document.documentMode);var si=Vr&&"TextEvent"in window&&!Fn,vi=Vr&&(!fn||Fn&&8<Fn&&11>=Fn),Wn=" ",bi=!1;function Sa(r,a){switch(r){case"keyup":return nr.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xs(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Ss=!1;function Wi(r,a){switch(r){case"compositionend":return xs(a);case"keypress":return a.which!==32?null:(bi=!0,Wn);case"textInput":return r=a.data,r===Wn&&bi?null:r;default:return null}}function Gs(r,a){if(Ss)return r==="compositionend"||!fn&&Sa(r,a)?(r=Zo(),wa=qs=Hi=null,Ss=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return vi&&a.locale!=="ko"?null:a.data;default:return null}}var Pl={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Lu(r){var a=r&&r.nodeName&&r.nodeName.toLowerCase();return a==="input"?!!Pl[r.type]:a==="textarea"}function Aa(r,a,l,c){bs?Me?Me.push(c):Me=[c]:bs=c,a=Cd(a,"onChange"),0<a.length&&(l=new ai("onChange","change",null,l,c),r.push({event:l,listeners:a}))}var as=null,$s=null;function Iu(r){qy(r,0)}function ss(r){var a=zi(r);if(ys(a))return r}function So(r,a){if(r==="change")return a}var la=!1;if(Vr){var Ki;if(Vr){var As="oninput"in document;if(!As){var Es=document.createElement("div");Es.setAttribute("oninput","return;"),As=typeof Es.oninput=="function"}Ki=As}else Ki=!1;la=Ki&&(!document.documentMode||9<document.documentMode)}function Ys(){as&&(as.detachEvent("onpropertychange",Ml),$s=as=null)}function Ml(r){if(r.propertyName==="value"&&ss($s)){var a=[];Aa(a,$s,r,Di(r)),_s(Iu,a)}}function jl(r,a,l){r==="focusin"?(Ys(),as=a,$s=l,as.attachEvent("onpropertychange",Ml)):r==="focusout"&&Ys()}function Ir(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return ss($s)}function hc(r,a){if(r==="click")return ss(a)}function Ts(r,a){if(r==="input"||r==="change")return ss(a)}function Ns(r,a){return r===a&&(r!==0||1/r===1/a)||r!==r&&a!==a}var _i=typeof Object.is=="function"?Object.is:Ns;function Ws(r,a){if(_i(r,a))return!0;if(typeof r!="object"||r===null||typeof a!="object"||a===null)return!1;var l=Object.keys(r),c=Object.keys(a);if(l.length!==c.length)return!1;for(c=0;c<l.length;c++){var y=l[c];if(!Ht.call(a,y)||!_i(r[y],a[y]))return!1}return!0}function Fl(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Vl(r,a){var l=Fl(r);r=0;for(var c;l;){if(l.nodeType===3){if(c=r+l.textContent.length,r<=a&&c>=a)return{node:l,offset:a-r};r=c}t:{for(;l;){if(l.nextSibling){l=l.nextSibling;break t}l=l.parentNode}l=void 0}l=Fl(l)}}function Ks(r,a){return r&&a?r===a?!0:r&&r.nodeType===3?!1:a&&a.nodeType===3?Ks(r,a.parentNode):"contains"in r?r.contains(a):r.compareDocumentPosition?!!(r.compareDocumentPosition(a)&16):!1:!1}function Qs(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var a=Rr(r.document);a instanceof r.HTMLIFrameElement;){try{var l=typeof a.contentWindow.location.href=="string"}catch{l=!1}if(l)r=a.contentWindow;else break;a=Rr(r.document)}return a}function Cs(r){var a=r&&r.nodeName&&r.nodeName.toLowerCase();return a&&(a==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||a==="textarea"||r.contentEditable==="true")}var el=Vr&&"documentMode"in document&&11>=document.documentMode,Ea=null,Xs=null,ki=null,Pa=!1;function On(r,a,l){var c=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Pa||Ea==null||Ea!==Rr(c)||(c=Ea,"selectionStart"in c&&Cs(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),ki&&Ws(ki,c)||(ki=c,c=Cd(Xs,"onSelect"),0<c.length&&(a=new ai("onSelect","select",null,a,l),r.push({event:a,listeners:c}),a.target=Ea)))}function Nn(r,a){var l={};return l[r.toLowerCase()]=a.toLowerCase(),l["Webkit"+r]="webkit"+a,l["Moz"+r]="moz"+a,l}var rr={animationend:Nn("Animation","AnimationEnd"),animationiteration:Nn("Animation","AnimationIteration"),animationstart:Nn("Animation","AnimationStart"),transitionrun:Nn("Transition","TransitionRun"),transitionstart:Nn("Transition","TransitionStart"),transitioncancel:Nn("Transition","TransitionCancel"),transitionend:Nn("Transition","TransitionEnd")},Dr={},Rs={};Vr&&(Rs=document.createElement("div").style,"AnimationEvent"in window||(delete rr.animationend.animation,delete rr.animationiteration.animation,delete rr.animationstart.animation),"TransitionEvent"in window||delete rr.transitionend.transition);function os(r){if(Dr[r])return Dr[r];if(!rr[r])return r;var a=rr[r],l;for(l in a)if(a.hasOwnProperty(l)&&l in Rs)return Dr[r]=a[l];return r}var nl=os("animationend"),Du=os("animationiteration"),Eh=os("animationstart"),Xf=os("transitionrun"),Jf=os("transitionstart"),Zf=os("transitioncancel"),Th=os("transitionend"),Nh=new Map,rl="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");rl.push("scrollEnd");function Ma(r,a){Nh.set(r,a),aa(a,[r])}var ku=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)},Ta=[],il=0,fc=0;function Ou(){for(var r=il,a=fc=il=0;a<r;){var l=Ta[a];Ta[a++]=null;var c=Ta[a];Ta[a++]=null;var y=Ta[a];Ta[a++]=null;var b=Ta[a];if(Ta[a++]=null,c!==null&&y!==null){var L=c.pending;L===null?y.next=y:(y.next=L.next,L.next=y),c.pending=y}b!==0&&Mu(l,y,b)}}function Pu(r,a,l,c){Ta[il++]=r,Ta[il++]=a,Ta[il++]=l,Ta[il++]=c,fc|=c,r.lanes|=c,r=r.alternate,r!==null&&(r.lanes|=c)}function dc(r,a,l,c){return Pu(r,a,l,c),Oi(r)}function Js(r,a){return Pu(r,null,null,a),Oi(r)}function Mu(r,a,l){r.lanes|=l;var c=r.alternate;c!==null&&(c.lanes|=l);for(var y=!1,b=r.return;b!==null;)b.childLanes|=l,c=b.alternate,c!==null&&(c.childLanes|=l),b.tag===22&&(r=b.stateNode,r===null||r._visibility&1||(y=!0)),r=b,b=b.return;return r.tag===3?(b=r.stateNode,y&&a!==null&&(y=31-Xe(l),r=b.hiddenUpdates,c=r[y],c===null?r[y]=[a]:c.push(a),a.lane=l|536870912),b):null}function Oi(r){if(50<Kh)throw Kh=0,Km=null,Error(i(185));for(var a=r.return;a!==null;)r=a,a=r.return;return r.tag===3?r.stateNode:null}var wi={};function pc(r,a,l,c){this.tag=r,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pi(r,a,l,c){return new pc(r,a,l,c)}function mc(r){return r=r.prototype,!(!r||!r.isReactComponent)}function ja(r,a){var l=r.alternate;return l===null?(l=Pi(r.tag,a,r.key,r.mode),l.elementType=r.elementType,l.type=r.type,l.stateNode=r.stateNode,l.alternate=r,r.alternate=l):(l.pendingProps=a,l.type=r.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=r.flags&65011712,l.childLanes=r.childLanes,l.lanes=r.lanes,l.child=r.child,l.memoizedProps=r.memoizedProps,l.memoizedState=r.memoizedState,l.updateQueue=r.updateQueue,a=r.dependencies,l.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},l.sibling=r.sibling,l.index=r.index,l.ref=r.ref,l.refCleanup=r.refCleanup,l}function ju(r,a){r.flags&=65011714;var l=r.alternate;return l===null?(r.childLanes=0,r.lanes=a,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=l.childLanes,r.lanes=l.lanes,r.child=l.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=l.memoizedProps,r.memoizedState=l.memoizedState,r.updateQueue=l.updateQueue,r.type=l.type,a=l.dependencies,r.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),r}function Bl(r,a,l,c,y,b){var L=0;if(c=r,typeof r=="function")mc(r)&&(L=1);else if(typeof r=="string")L=uS(r,l,tt.current)?26:r==="html"||r==="head"||r==="body"?27:5;else t:switch(r){case D:return r=Pi(31,l,a,y),r.elementType=D,r.lanes=b,r;case M:return Ao(l.children,y,b,a);case j:L=8,y|=24;break;case R:return r=Pi(12,l,a,y|2),r.elementType=R,r.lanes=b,r;case mt:return r=Pi(13,l,a,y),r.elementType=mt,r.lanes=b,r;case bt:return r=Pi(19,l,a,y),r.elementType=bt,r.lanes=b,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case W:L=10;break t;case Q:L=9;break t;case nt:L=11;break t;case q:L=14;break t;case V:L=16,c=null;break t}L=29,l=Error(i(130,r===null?"null":typeof r,"")),c=null}return a=Pi(L,l,a,y),a.elementType=r,a.type=c,a.lanes=b,a}function Ao(r,a,l,c){return r=Pi(7,r,c,a),r.lanes=l,r}function Fu(r,a,l){return r=Pi(6,r,null,a),r.lanes=l,r}function gc(r){var a=Pi(18,null,null,0);return a.stateNode=r,a}function Ul(r,a,l){return a=Pi(4,r.children!==null?r.children:[],r.key,a),a.lanes=l,a.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},a}var yc=new WeakMap;function Fa(r,a){if(typeof r=="object"&&r!==null){var l=yc.get(r);return l!==void 0?l:(a={value:r,source:a,stack:ce(a)},yc.set(r,a),a)}return{value:r,source:a,stack:ce(a)}}var zl=[],al=0,vc=null,Vu=0,Va=[],Ba=0,Eo=null,Ua=1,za="";function Na(r,a){zl[al++]=Vu,zl[al++]=vc,vc=r,Vu=a}function td(r,a,l){Va[Ba++]=Ua,Va[Ba++]=za,Va[Ba++]=Eo,Eo=r;var c=Ua;r=za;var y=32-Xe(c)-1;c&=~(1<<y),l+=1;var b=32-Xe(a)+y;if(30<b){var L=y-y%5;b=(c&(1<<L)-1).toString(32),c>>=L,y-=L,Ua=1<<32-Xe(a)+y|l<<y|c,za=b+r}else Ua=1<<b|l<<y|c,za=r}function Ch(r){r.return!==null&&(Na(r,1),td(r,1,0))}function bc(r){for(;r===vc;)vc=zl[--al],zl[al]=null,Vu=zl[--al],zl[al]=null;for(;r===Eo;)Eo=Va[--Ba],Va[Ba]=null,za=Va[--Ba],Va[Ba]=null,Ua=Va[--Ba],Va[Ba]=null}function ed(r,a){Va[Ba++]=Ua,Va[Ba++]=za,Va[Ba++]=Eo,Ua=a.id,za=a.overflow,Eo=r}var xi=null,ur=null,yn=!1,Qi=null,Ar=!1,ls=Error(i(519));function To(r){var a=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ql(Fa(a,r)),ls}function Rh(r){var a=r.stateNode,l=r.type,c=r.memoizedProps;switch(a[Mn]=r,a[Yn]=c,l){case"dialog":bn("cancel",a),bn("close",a);break;case"iframe":case"object":case"embed":bn("load",a);break;case"video":case"audio":for(l=0;l<Xh.length;l++)bn(Xh[l],a);break;case"source":bn("error",a);break;case"img":case"image":case"link":bn("error",a),bn("load",a);break;case"details":bn("toggle",a);break;case"input":bn("invalid",a),Ol(a,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":bn("invalid",a);break;case"textarea":bn("invalid",a),es(a,c.value,c.defaultValue,c.children)}l=c.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||a.textContent===""+l||c.suppressHydrationWarning===!0||Yy(a.textContent,l)?(c.popover!=null&&(bn("beforetoggle",a),bn("toggle",a)),c.onScroll!=null&&bn("scroll",a),c.onScrollEnd!=null&&bn("scrollend",a),c.onClick!=null&&(a.onclick=_a),a=!0):a=!1,a||To(r,!0)}function Zs(r){for(xi=r.return;xi;)switch(xi.tag){case 5:case 31:case 13:Ar=!1;return;case 27:case 3:Ar=!0;return;default:xi=xi.return}}function Si(r){if(r!==xi)return!1;if(!yn)return Zs(r),yn=!0,!1;var a=r.tag,l;if((l=a!==3&&a!==27)&&((l=a===5)&&(l=r.type,l=!(l!=="form"&&l!=="button")||cg(r.type,r.memoizedProps)),l=!l),l&&ur&&To(r),Zs(r),a===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));ur=nv(r)}else if(a===31){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));ur=nv(r)}else a===27?(a=ur,ru(r.type)?(r=mg,mg=null,ur=r):ur=a):ur=xi?ks(r.stateNode.nextSibling):null;return!0}function sl(){ur=xi=null,yn=!1}function Lh(){var r=Qi;return r!==null&&(Wa===null?Wa=r:Wa.push.apply(Wa,r),Qi=null),r}function ql(r){Qi===null?Qi=[r]:Qi.push(r)}var _c=$(null),No=null,Ls=null;function Co(r,a,l){K(_c,a._currentValue),a._currentValue=l}function qa(r){r._currentValue=_c.current,O(_c)}function Hl(r,a,l){for(;r!==null;){var c=r.alternate;if((r.childLanes&a)!==a?(r.childLanes|=a,c!==null&&(c.childLanes|=a)):c!==null&&(c.childLanes&a)!==a&&(c.childLanes|=a),r===l)break;r=r.return}}function ol(r,a,l,c){var y=r.child;for(y!==null&&(y.return=r);y!==null;){var b=y.dependencies;if(b!==null){var L=y.child;b=b.firstContext;t:for(;b!==null;){var Y=b;b=y;for(var ct=0;ct<a.length;ct++)if(Y.context===a[ct]){b.lanes|=l,Y=b.alternate,Y!==null&&(Y.lanes|=l),Hl(b.return,l,r),c||(L=null);break t}b=Y.next}}else if(y.tag===18){if(L=y.return,L===null)throw Error(i(341));L.lanes|=l,b=L.alternate,b!==null&&(b.lanes|=l),Hl(L,l,r),L=null}else L=y.child;if(L!==null)L.return=y;else for(L=y;L!==null;){if(L===r){L=null;break}if(y=L.sibling,y!==null){y.return=L.return,L=y;break}L=L.return}y=L}}function Ro(r,a,l,c){r=null;for(var y=a,b=!1;y!==null;){if(!b){if((y.flags&524288)!==0)b=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var L=y.alternate;if(L===null)throw Error(i(387));if(L=L.memoizedProps,L!==null){var Y=y.type;_i(y.pendingProps.value,L.value)||(r!==null?r.push(Y):r=[Y])}}else if(y===yt.current){if(L=y.alternate,L===null)throw Error(i(387));L.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(r!==null?r.push(nf):r=[nf])}y=y.return}r!==null&&ol(a,r,l,c),a.flags|=262144}function wc(r){for(r=r.firstContext;r!==null;){if(!_i(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function Lo(r){No=r,Ls=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function Ai(r){return nd(No,r)}function xc(r,a){return No===null&&Lo(r),nd(r,a)}function nd(r,a){var l=a._currentValue;if(a={context:a,memoizedValue:l,next:null},Ls===null){if(r===null)throw Error(i(308));Ls=a,r.dependencies={lanes:0,firstContext:a},r.flags|=524288}else Ls=Ls.next=a;return l}var pm=typeof AbortController<"u"?AbortController:function(){var r=[],a=this.signal={aborted:!1,addEventListener:function(l,c){r.push(c)}};this.abort=function(){a.aborted=!0,r.forEach(function(l){return l()})}},mm=n.unstable_scheduleCallback,gm=n.unstable_NormalPriority,kr={$$typeof:W,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Gl(){return{controller:new pm,data:new Map,refCount:0}}function Bu(r){r.refCount--,r.refCount===0&&mm(gm,function(){r.controller.abort()})}var Uu=null,Sc=0,p=0,v=null;function A(r,a){if(Uu===null){var l=Uu=[];Sc=0,p=eg(),v={status:"pending",value:void 0,then:function(c){l.push(c)}}}return Sc++,a.then(C,C),a}function C(){if(--Sc===0&&Uu!==null){v!==null&&(v.status="fulfilled");var r=Uu;Uu=null,p=0,v=null;for(var a=0;a<r.length;a++)(0,r[a])()}}function U(r,a){var l=[],c={status:"pending",value:null,reason:null,then:function(y){l.push(y)}};return r.then(function(){c.status="fulfilled",c.value=a;for(var y=0;y<l.length;y++)(0,l[y])(a)},function(y){for(c.status="rejected",c.reason=y,y=0;y<l.length;y++)(0,l[y])(void 0)}),c}var z=ot.S;ot.S=function(r,a){yy=Ke(),typeof a=="object"&&a!==null&&typeof a.then=="function"&&A(r,a),z!==null&&z(r,a)};var G=$(null);function X(){var r=G.current;return r!==null?r:hr.pooledCache}function et(r,a){a===null?K(G,G.current):K(G,a.pool)}function at(){var r=X();return r===null?null:{parent:kr._currentValue,pool:r}}var pt=Error(i(460)),Ct=Error(i(474)),rt=Error(i(542)),vt={then:function(){}};function At(r){return r=r.status,r==="fulfilled"||r==="rejected"}function Ut(r,a,l){switch(l=r[l],l===void 0?r.push(a):l!==a&&(a.then(_a,_a),a=l),a.status){case"fulfilled":return a.value;case"rejected":throw r=a.reason,ee(r),r;default:if(typeof a.status=="string")a.then(_a,_a);else{if(r=hr,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=a,r.status="pending",r.then(function(c){if(a.status==="pending"){var y=a;y.status="fulfilled",y.value=c}},function(c){if(a.status==="pending"){var y=a;y.status="rejected",y.reason=c}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw r=a.reason,ee(r),r}throw Vt=a,pt}}function Tt(r){try{var a=r._init;return a(r._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(Vt=l,pt):l}}var Vt=null;function Yt(){if(Vt===null)throw Error(i(459));var r=Vt;return Vt=null,r}function ee(r){if(r===pt||r===rt)throw Error(i(483))}var Jt=null,_e=0;function he(r){var a=_e;return _e+=1,Jt===null&&(Jt=[]),Ut(Jt,r,a)}function Ze(r,a){a=a.props.ref,r.ref=a!==void 0?a:null}function me(r,a){throw a.$$typeof===S?Error(i(525)):(r=Object.prototype.toString.call(a),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":r)))}function gn(r){function a(wt,gt){if(r){var Lt=wt.deletions;Lt===null?(wt.deletions=[gt],wt.flags|=16):Lt.push(gt)}}function l(wt,gt){if(!r)return null;for(;gt!==null;)a(wt,gt),gt=gt.sibling;return null}function c(wt){for(var gt=new Map;wt!==null;)wt.key!==null?gt.set(wt.key,wt):gt.set(wt.index,wt),wt=wt.sibling;return gt}function y(wt,gt){return wt=ja(wt,gt),wt.index=0,wt.sibling=null,wt}function b(wt,gt,Lt){return wt.index=Lt,r?(Lt=wt.alternate,Lt!==null?(Lt=Lt.index,Lt<gt?(wt.flags|=67108866,gt):Lt):(wt.flags|=67108866,gt)):(wt.flags|=1048576,gt)}function L(wt){return r&&wt.alternate===null&&(wt.flags|=67108866),wt}function Y(wt,gt,Lt,Kt){return gt===null||gt.tag!==6?(gt=Fu(Lt,wt.mode,Kt),gt.return=wt,gt):(gt=y(gt,Lt),gt.return=wt,gt)}function ct(wt,gt,Lt,Kt){var Be=Lt.type;return Be===M?$t(wt,gt,Lt.props.children,Kt,Lt.key):gt!==null&&(gt.elementType===Be||typeof Be=="object"&&Be!==null&&Be.$$typeof===V&&Tt(Be)===gt.type)?(gt=y(gt,Lt.props),Ze(gt,Lt),gt.return=wt,gt):(gt=Bl(Lt.type,Lt.key,Lt.props,null,wt.mode,Kt),Ze(gt,Lt),gt.return=wt,gt)}function Dt(wt,gt,Lt,Kt){return gt===null||gt.tag!==4||gt.stateNode.containerInfo!==Lt.containerInfo||gt.stateNode.implementation!==Lt.implementation?(gt=Ul(Lt,wt.mode,Kt),gt.return=wt,gt):(gt=y(gt,Lt.children||[]),gt.return=wt,gt)}function $t(wt,gt,Lt,Kt,Be){return gt===null||gt.tag!==7?(gt=Ao(Lt,wt.mode,Kt,Be),gt.return=wt,gt):(gt=y(gt,Lt),gt.return=wt,gt)}function Xt(wt,gt,Lt){if(typeof gt=="string"&&gt!==""||typeof gt=="number"||typeof gt=="bigint")return gt=Fu(""+gt,wt.mode,Lt),gt.return=wt,gt;if(typeof gt=="object"&&gt!==null){switch(gt.$$typeof){case _:return Lt=Bl(gt.type,gt.key,gt.props,null,wt.mode,Lt),Ze(Lt,gt),Lt.return=wt,Lt;case N:return gt=Ul(gt,wt.mode,Lt),gt.return=wt,gt;case V:return gt=Tt(gt),Xt(wt,gt,Lt)}if(xt(gt)||P(gt))return gt=Ao(gt,wt.mode,Lt,null),gt.return=wt,gt;if(typeof gt.then=="function")return Xt(wt,he(gt),Lt);if(gt.$$typeof===W)return Xt(wt,xc(wt,gt),Lt);me(wt,gt)}return null}function Pt(wt,gt,Lt,Kt){var Be=gt!==null?gt.key:null;if(typeof Lt=="string"&&Lt!==""||typeof Lt=="number"||typeof Lt=="bigint")return Be!==null?null:Y(wt,gt,""+Lt,Kt);if(typeof Lt=="object"&&Lt!==null){switch(Lt.$$typeof){case _:return Lt.key===Be?ct(wt,gt,Lt,Kt):null;case N:return Lt.key===Be?Dt(wt,gt,Lt,Kt):null;case V:return Lt=Tt(Lt),Pt(wt,gt,Lt,Kt)}if(xt(Lt)||P(Lt))return Be!==null?null:$t(wt,gt,Lt,Kt,null);if(typeof Lt.then=="function")return Pt(wt,gt,he(Lt),Kt);if(Lt.$$typeof===W)return Pt(wt,gt,xc(wt,Lt),Kt);me(wt,Lt)}return null}function Ft(wt,gt,Lt,Kt,Be){if(typeof Kt=="string"&&Kt!==""||typeof Kt=="number"||typeof Kt=="bigint")return wt=wt.get(Lt)||null,Y(gt,wt,""+Kt,Be);if(typeof Kt=="object"&&Kt!==null){switch(Kt.$$typeof){case _:return wt=wt.get(Kt.key===null?Lt:Kt.key)||null,ct(gt,wt,Kt,Be);case N:return wt=wt.get(Kt.key===null?Lt:Kt.key)||null,Dt(gt,wt,Kt,Be);case V:return Kt=Tt(Kt),Ft(wt,gt,Lt,Kt,Be)}if(xt(Kt)||P(Kt))return wt=wt.get(Lt)||null,$t(gt,wt,Kt,Be,null);if(typeof Kt.then=="function")return Ft(wt,gt,Lt,he(Kt),Be);if(Kt.$$typeof===W)return Ft(wt,gt,Lt,xc(gt,Kt),Be);me(gt,Kt)}return null}function ye(wt,gt,Lt,Kt){for(var Be=null,Vn=null,Ee=gt,hn=gt=0,xn=null;Ee!==null&&hn<Lt.length;hn++){Ee.index>hn?(xn=Ee,Ee=null):xn=Ee.sibling;var Bn=Pt(wt,Ee,Lt[hn],Kt);if(Bn===null){Ee===null&&(Ee=xn);break}r&&Ee&&Bn.alternate===null&&a(wt,Ee),gt=b(Bn,gt,hn),Vn===null?Be=Bn:Vn.sibling=Bn,Vn=Bn,Ee=xn}if(hn===Lt.length)return l(wt,Ee),yn&&Na(wt,hn),Be;if(Ee===null){for(;hn<Lt.length;hn++)Ee=Xt(wt,Lt[hn],Kt),Ee!==null&&(gt=b(Ee,gt,hn),Vn===null?Be=Ee:Vn.sibling=Ee,Vn=Ee);return yn&&Na(wt,hn),Be}for(Ee=c(Ee);hn<Lt.length;hn++)xn=Ft(Ee,wt,hn,Lt[hn],Kt),xn!==null&&(r&&xn.alternate!==null&&Ee.delete(xn.key===null?hn:xn.key),gt=b(xn,gt,hn),Vn===null?Be=xn:Vn.sibling=xn,Vn=xn);return r&&Ee.forEach(function(lu){return a(wt,lu)}),yn&&Na(wt,hn),Be}function $e(wt,gt,Lt,Kt){if(Lt==null)throw Error(i(151));for(var Be=null,Vn=null,Ee=gt,hn=gt=0,xn=null,Bn=Lt.next();Ee!==null&&!Bn.done;hn++,Bn=Lt.next()){Ee.index>hn?(xn=Ee,Ee=null):xn=Ee.sibling;var lu=Pt(wt,Ee,Bn.value,Kt);if(lu===null){Ee===null&&(Ee=xn);break}r&&Ee&&lu.alternate===null&&a(wt,Ee),gt=b(lu,gt,hn),Vn===null?Be=lu:Vn.sibling=lu,Vn=lu,Ee=xn}if(Bn.done)return l(wt,Ee),yn&&Na(wt,hn),Be;if(Ee===null){for(;!Bn.done;hn++,Bn=Lt.next())Bn=Xt(wt,Bn.value,Kt),Bn!==null&&(gt=b(Bn,gt,hn),Vn===null?Be=Bn:Vn.sibling=Bn,Vn=Bn);return yn&&Na(wt,hn),Be}for(Ee=c(Ee);!Bn.done;hn++,Bn=Lt.next())Bn=Ft(Ee,wt,hn,Bn.value,Kt),Bn!==null&&(r&&Bn.alternate!==null&&Ee.delete(Bn.key===null?hn:Bn.key),gt=b(Bn,gt,hn),Vn===null?Be=Bn:Vn.sibling=Bn,Vn=Bn);return r&&Ee.forEach(function(_S){return a(wt,_S)}),yn&&Na(wt,hn),Be}function or(wt,gt,Lt,Kt){if(typeof Lt=="object"&&Lt!==null&&Lt.type===M&&Lt.key===null&&(Lt=Lt.props.children),typeof Lt=="object"&&Lt!==null){switch(Lt.$$typeof){case _:t:{for(var Be=Lt.key;gt!==null;){if(gt.key===Be){if(Be=Lt.type,Be===M){if(gt.tag===7){l(wt,gt.sibling),Kt=y(gt,Lt.props.children),Kt.return=wt,wt=Kt;break t}}else if(gt.elementType===Be||typeof Be=="object"&&Be!==null&&Be.$$typeof===V&&Tt(Be)===gt.type){l(wt,gt.sibling),Kt=y(gt,Lt.props),Ze(Kt,Lt),Kt.return=wt,wt=Kt;break t}l(wt,gt);break}else a(wt,gt);gt=gt.sibling}Lt.type===M?(Kt=Ao(Lt.props.children,wt.mode,Kt,Lt.key),Kt.return=wt,wt=Kt):(Kt=Bl(Lt.type,Lt.key,Lt.props,null,wt.mode,Kt),Ze(Kt,Lt),Kt.return=wt,wt=Kt)}return L(wt);case N:t:{for(Be=Lt.key;gt!==null;){if(gt.key===Be)if(gt.tag===4&&gt.stateNode.containerInfo===Lt.containerInfo&&gt.stateNode.implementation===Lt.implementation){l(wt,gt.sibling),Kt=y(gt,Lt.children||[]),Kt.return=wt,wt=Kt;break t}else{l(wt,gt);break}else a(wt,gt);gt=gt.sibling}Kt=Ul(Lt,wt.mode,Kt),Kt.return=wt,wt=Kt}return L(wt);case V:return Lt=Tt(Lt),or(wt,gt,Lt,Kt)}if(xt(Lt))return ye(wt,gt,Lt,Kt);if(P(Lt)){if(Be=P(Lt),typeof Be!="function")throw Error(i(150));return Lt=Be.call(Lt),$e(wt,gt,Lt,Kt)}if(typeof Lt.then=="function")return or(wt,gt,he(Lt),Kt);if(Lt.$$typeof===W)return or(wt,gt,xc(wt,Lt),Kt);me(wt,Lt)}return typeof Lt=="string"&&Lt!==""||typeof Lt=="number"||typeof Lt=="bigint"?(Lt=""+Lt,gt!==null&&gt.tag===6?(l(wt,gt.sibling),Kt=y(gt,Lt),Kt.return=wt,wt=Kt):(l(wt,gt),Kt=Fu(Lt,wt.mode,Kt),Kt.return=wt,wt=Kt),L(wt)):l(wt,gt)}return function(wt,gt,Lt,Kt){try{_e=0;var Be=or(wt,gt,Lt,Kt);return Jt=null,Be}catch(Ee){if(Ee===pt||Ee===rt)throw Ee;var Vn=Pi(29,Ee,null,wt.mode);return Vn.lanes=Kt,Vn.return=wt,Vn}finally{}}}var cr=gn(!0),an=gn(!1),fe=!1;function oe(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function mr(r,a){r=r.updateQueue,a.updateQueue===r&&(a.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function Ge(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function cn(r,a,l){var c=r.updateQueue;if(c===null)return null;if(c=c.shared,(qn&2)!==0){var y=c.pending;return y===null?a.next=a:(a.next=y.next,y.next=a),c.pending=a,a=Oi(r),Mu(r,null,l),a}return Pu(r,c,a,l),Oi(r)}function Un(r,a,l){if(a=a.updateQueue,a!==null&&(a=a.shared,(l&4194048)!==0)){var c=a.lanes;c&=r.pendingLanes,l|=c,a.lanes=l,ei(r,l)}}function Kr(r,a){var l=r.updateQueue,c=r.alternate;if(c!==null&&(c=c.updateQueue,l===c)){var y=null,b=null;if(l=l.firstBaseUpdate,l!==null){do{var L={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};b===null?y=b=L:b=b.next=L,l=l.next}while(l!==null);b===null?y=b=a:b=b.next=a}else y=b=a;l={baseState:c.baseState,firstBaseUpdate:y,lastBaseUpdate:b,shared:c.shared,callbacks:c.callbacks},r.updateQueue=l;return}r=l.lastBaseUpdate,r===null?l.firstBaseUpdate=a:r.next=a,l.lastBaseUpdate=a}var Ei=!1;function ir(){if(Ei){var r=v;if(r!==null)throw r}}function Br(r,a,l,c){Ei=!1;var y=r.updateQueue;fe=!1;var b=y.firstBaseUpdate,L=y.lastBaseUpdate,Y=y.shared.pending;if(Y!==null){y.shared.pending=null;var ct=Y,Dt=ct.next;ct.next=null,L===null?b=Dt:L.next=Dt,L=ct;var $t=r.alternate;$t!==null&&($t=$t.updateQueue,Y=$t.lastBaseUpdate,Y!==L&&(Y===null?$t.firstBaseUpdate=Dt:Y.next=Dt,$t.lastBaseUpdate=ct))}if(b!==null){var Xt=y.baseState;L=0,$t=Dt=ct=null,Y=b;do{var Pt=Y.lane&-536870913,Ft=Pt!==Y.lane;if(Ft?(wn&Pt)===Pt:(c&Pt)===Pt){Pt!==0&&Pt===p&&(Ei=!0),$t!==null&&($t=$t.next={lane:0,tag:Y.tag,payload:Y.payload,callback:null,next:null});t:{var ye=r,$e=Y;Pt=a;var or=l;switch($e.tag){case 1:if(ye=$e.payload,typeof ye=="function"){Xt=ye.call(or,Xt,Pt);break t}Xt=ye;break t;case 3:ye.flags=ye.flags&-65537|128;case 0:if(ye=$e.payload,Pt=typeof ye=="function"?ye.call(or,Xt,Pt):ye,Pt==null)break t;Xt=w({},Xt,Pt);break t;case 2:fe=!0}}Pt=Y.callback,Pt!==null&&(r.flags|=64,Ft&&(r.flags|=8192),Ft=y.callbacks,Ft===null?y.callbacks=[Pt]:Ft.push(Pt))}else Ft={lane:Pt,tag:Y.tag,payload:Y.payload,callback:Y.callback,next:null},$t===null?(Dt=$t=Ft,ct=Xt):$t=$t.next=Ft,L|=Pt;if(Y=Y.next,Y===null){if(Y=y.shared.pending,Y===null)break;Ft=Y,Y=Ft.next,Ft.next=null,y.lastBaseUpdate=Ft,y.shared.pending=null}}while(!0);$t===null&&(ct=Xt),y.baseState=ct,y.firstBaseUpdate=Dt,y.lastBaseUpdate=$t,b===null&&(y.shared.lanes=0),Jl|=L,r.lanes=L,r.memoizedState=Xt}}function Mi(r,a){if(typeof r!="function")throw Error(i(191,r));r.call(a)}function Ur(r,a){var l=r.callbacks;if(l!==null)for(r.callbacks=null,r=0;r<l.length;r++)Mi(l[r],a)}var dn=$(null),Rn=$(0);function gr(r,a){r=yl,K(Rn,r),K(dn,a),yl=r|a.baseLanes}function Pn(){K(Rn,yl),K(dn,dn.current)}function Qr(){yl=Rn.current,O(dn),O(Rn)}var yr=$(null),Ln=null;function Or(r){var a=r.alternate;K(Cn,Cn.current&1),K(yr,r),Ln===null&&(a===null||dn.current!==null||a.memoizedState!==null)&&(Ln=r)}function zn(r){K(Cn,Cn.current),K(yr,r),Ln===null&&(Ln=r)}function zr(r){r.tag===22?(K(Cn,Cn.current),K(yr,r),Ln===null&&(Ln=r)):qr()}function qr(){K(Cn,Cn.current),K(yr,yr.current)}function Kn(r){O(yr),Ln===r&&(Ln=null),O(Cn)}var Cn=$(0);function ji(r){for(var a=r;a!==null;){if(a.tag===13){var l=a.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||dg(l)||pg(l)))return a}else if(a.tag===19&&(a.memoizedProps.revealOrder==="forwards"||a.memoizedProps.revealOrder==="backwards"||a.memoizedProps.revealOrder==="unstable_legacy-backwards"||a.memoizedProps.revealOrder==="together")){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Er=0,je=null,Ve=null,In=null,ua=!1,Ha=!1,Xi=!1,Hr=0,Io=0,Do=null,Ac=0;function ar(){throw Error(i(321))}function Ih(r,a){if(a===null)return!1;for(var l=0;l<a.length&&l<r.length;l++)if(!_i(r[l],a[l]))return!1;return!0}function Dh(r,a,l,c,y,b){return Er=b,je=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,ot.H=r===null||r.memoizedState===null?C2:Am,Xi=!1,b=l(c,y),Xi=!1,Ha&&(b=to(a,l,c,y)),Ec(r),b}function Ec(r){ot.H=Bh;var a=Ve!==null&&Ve.next!==null;if(Er=0,In=Ve=je=null,ua=!1,Io=0,Do=null,a)throw Error(i(300));r===null||li||(r=r.dependencies,r!==null&&wc(r)&&(li=!0))}function to(r,a,l,c){je=r;var y=0;do{if(Ha&&(Do=null),Io=0,Ha=!1,25<=y)throw Error(i(301));if(y+=1,In=Ve=null,r.updateQueue!=null){var b=r.updateQueue;b.lastEffect=null,b.events=null,b.stores=null,b.memoCache!=null&&(b.memoCache.index=0)}ot.H=R2,b=a(l,c)}while(Ha);return b}function ym(){var r=ot.H,a=r.useState()[0];return a=typeof a.then=="function"?ko(a):a,r=r.useState()[0],(Ve!==null?Ve.memoizedState:null)!==r&&(je.flags|=1024),a}function kh(){var r=Hr!==0;return Hr=0,r}function Oh(r,a,l){a.updateQueue=r.updateQueue,a.flags&=-2053,r.lanes&=~l}function Tc(r){if(ua){for(r=r.memoizedState;r!==null;){var a=r.queue;a!==null&&(a.pending=null),r=r.next}ua=!1}Er=0,In=Ve=je=null,Ha=!1,Io=Hr=0,Do=null}function oi(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return In===null?je.memoizedState=In=r:In=In.next=r,In}function Tr(){if(Ve===null){var r=je.alternate;r=r!==null?r.memoizedState:null}else r=Ve.next;var a=In===null?je.memoizedState:In.next;if(a!==null)In=a,Ve=r;else{if(r===null)throw je.alternate===null?Error(i(467)):Error(i(310));Ve=r,r={memoizedState:Ve.memoizedState,baseState:Ve.baseState,baseQueue:Ve.baseQueue,queue:Ve.queue,next:null},In===null?je.memoizedState=In=r:In=In.next=r}return In}function zu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ko(r){var a=Io;return Io+=1,Do===null&&(Do=[]),r=Ut(Do,r,a),a=je,(In===null?a.memoizedState:In.next)===null&&(a=a.alternate,ot.H=a===null||a.memoizedState===null?C2:Am),r}function $l(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return ko(r);if(r.$$typeof===W)return Ai(r)}throw Error(i(438,String(r)))}function ll(r){var a=null,l=je.updateQueue;if(l!==null&&(a=l.memoCache),a==null){var c=je.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(a={data:c.data.map(function(y){return y.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),l===null&&(l=zu(),je.updateQueue=l),l.memoCache=a,l=a.data[a.index],l===void 0)for(l=a.data[a.index]=Array(r),c=0;c<r;c++)l[c]=H;return a.index++,l}function Is(r,a){return typeof a=="function"?a(r):a}function Nc(r){var a=Tr();return Yl(a,Ve,r)}function Yl(r,a,l){var c=r.queue;if(c===null)throw Error(i(311));c.lastRenderedReducer=l;var y=r.baseQueue,b=c.pending;if(b!==null){if(y!==null){var L=y.next;y.next=b.next,b.next=L}a.baseQueue=y=b,c.pending=null}if(b=r.baseState,y===null)r.memoizedState=b;else{a=y.next;var Y=L=null,ct=null,Dt=a,$t=!1;do{var Xt=Dt.lane&-536870913;if(Xt!==Dt.lane?(wn&Xt)===Xt:(Er&Xt)===Xt){var Pt=Dt.revertLane;if(Pt===0)ct!==null&&(ct=ct.next={lane:0,revertLane:0,gesture:null,action:Dt.action,hasEagerState:Dt.hasEagerState,eagerState:Dt.eagerState,next:null}),Xt===p&&($t=!0);else if((Er&Pt)===Pt){Dt=Dt.next,Pt===p&&($t=!0);continue}else Xt={lane:0,revertLane:Dt.revertLane,gesture:null,action:Dt.action,hasEagerState:Dt.hasEagerState,eagerState:Dt.eagerState,next:null},ct===null?(Y=ct=Xt,L=b):ct=ct.next=Xt,je.lanes|=Pt,Jl|=Pt;Xt=Dt.action,Xi&&l(b,Xt),b=Dt.hasEagerState?Dt.eagerState:l(b,Xt)}else Pt={lane:Xt,revertLane:Dt.revertLane,gesture:Dt.gesture,action:Dt.action,hasEagerState:Dt.hasEagerState,eagerState:Dt.eagerState,next:null},ct===null?(Y=ct=Pt,L=b):ct=ct.next=Pt,je.lanes|=Xt,Jl|=Xt;Dt=Dt.next}while(Dt!==null&&Dt!==a);if(ct===null?L=b:ct.next=Y,!_i(b,r.memoizedState)&&(li=!0,$t&&(l=v,l!==null)))throw l;r.memoizedState=b,r.baseState=L,r.baseQueue=ct,c.lastRenderedState=b}return y===null&&(c.lanes=0),[r.memoizedState,c.dispatch]}function Cc(r){var a=Tr(),l=a.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=r;var c=l.dispatch,y=l.pending,b=a.memoizedState;if(y!==null){l.pending=null;var L=y=y.next;do b=r(b,L.action),L=L.next;while(L!==y);_i(b,a.memoizedState)||(li=!0),a.memoizedState=b,a.baseQueue===null&&(a.baseState=b),l.lastRenderedState=b}return[b,c]}function Rc(r,a,l){var c=je,y=Tr(),b=yn;if(b){if(l===void 0)throw Error(i(407));l=l()}else l=a();var L=!_i((Ve||y).memoizedState,l);if(L&&(y.memoizedState=l,li=!0),y=y.queue,vm(Mh.bind(null,c,y,r),[r]),y.getSnapshot!==a||L||In!==null&&In.memoizedState.tag&1){if(c.flags|=2048,cl(9,{destroy:void 0},Ph.bind(null,c,y,l,a),null),hr===null)throw Error(i(349));b||(Er&127)!==0||eo(c,a,l)}return l}function eo(r,a,l){r.flags|=16384,r={getSnapshot:a,value:l},a=je.updateQueue,a===null?(a=zu(),je.updateQueue=a,a.stores=[r]):(l=a.stores,l===null?a.stores=[r]:l.push(r))}function Ph(r,a,l,c){a.value=l,a.getSnapshot=c,rd(a)&&jh(r)}function Mh(r,a,l){return l(function(){rd(a)&&jh(r)})}function rd(r){var a=r.getSnapshot;r=r.value;try{var l=a();return!_i(r,l)}catch{return!0}}function jh(r){var a=Js(r,2);a!==null&&Ka(a,r,2)}function Oo(r){var a=oi();if(typeof r=="function"){var l=r;if(r=l(),Xi){qe(!0);try{l()}finally{qe(!1)}}}return a.memoizedState=a.baseState=r,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Is,lastRenderedState:r},a}function id(r,a,l,c){return r.baseState=l,Yl(r,Ve,typeof c=="function"?c:Is)}function ad(r,a,l,c,y){if(ud(r))throw Error(i(485));if(r=a.action,r!==null){var b={payload:y,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(L){b.listeners.push(L)}};ot.T!==null?l(!0):b.isTransition=!1,c(b),l=a.pending,l===null?(b.next=a.pending=b,sd(a,b)):(b.next=l.next,a.pending=l.next=b)}}function sd(r,a){var l=a.action,c=a.payload,y=r.state;if(a.isTransition){var b=ot.T,L={};ot.T=L;try{var Y=l(y,c),ct=ot.S;ct!==null&&ct(L,Y),Fh(r,a,Y)}catch(Dt){ul(r,a,Dt)}finally{b!==null&&L.types!==null&&(b.types=L.types),ot.T=b}}else try{b=l(y,c),Fh(r,a,b)}catch(Dt){ul(r,a,Dt)}}function Fh(r,a,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(c){od(r,a,c)},function(c){return ul(r,a,c)}):od(r,a,l)}function od(r,a,l){a.status="fulfilled",a.value=l,Lc(a),r.state=l,a=r.pending,a!==null&&(l=a.next,l===a?r.pending=null:(l=l.next,a.next=l,sd(r,l)))}function ul(r,a,l){var c=r.pending;if(r.pending=null,c!==null){c=c.next;do a.status="rejected",a.reason=l,Lc(a),a=a.next;while(a!==c)}r.action=null}function Lc(r){r=r.listeners;for(var a=0;a<r.length;a++)(0,r[a])()}function qu(r,a){return a}function Ds(r,a){if(yn){var l=hr.formState;if(l!==null){t:{var c=je;if(yn){if(ur){e:{for(var y=ur,b=Ar;y.nodeType!==8;){if(!b){y=null;break e}if(y=ks(y.nextSibling),y===null){y=null;break e}}b=y.data,y=b==="F!"||b==="F"?y:null}if(y){ur=ks(y.nextSibling),c=y.data==="F!";break t}}To(c)}c=!1}c&&(a=l[0])}}return l=oi(),l.memoizedState=l.baseState=a,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qu,lastRenderedState:a},l.queue=c,l=E2.bind(null,je,c),c.dispatch=l,c=Oo(!1),b=Sm.bind(null,je,!1,c.queue),c=oi(),y={state:a,dispatch:null,action:r,pending:null},c.queue=y,l=ad.bind(null,je,y,b,l),y.dispatch=l,c.memoizedState=r,[a,l,!1]}function no(r){var a=Tr();return ro(a,Ve,r)}function ro(r,a,l){if(a=Yl(r,a,qu)[0],r=Nc(Is)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var c=ko(a)}catch(L){throw L===pt?rt:L}else c=a;a=Tr();var y=a.queue,b=y.dispatch;return l!==a.memoizedState&&(je.flags|=2048,cl(9,{destroy:void 0},Ic.bind(null,y,l),null)),[c,b,r]}function Ic(r,a){r.action=a}function Dc(r){var a=Tr(),l=Ve;if(l!==null)return ro(a,l,r);Tr(),a=a.memoizedState,l=Tr();var c=l.queue.dispatch;return l.memoizedState=r,[a,c,!1]}function cl(r,a,l,c){return r={tag:r,create:l,deps:c,inst:a,next:null},a=je.updateQueue,a===null&&(a=zu(),je.updateQueue=a),l=a.lastEffect,l===null?a.lastEffect=r.next=r:(c=l.next,l.next=r,r.next=c,a.lastEffect=r),r}function ld(){return Tr().memoizedState}function Wl(r,a,l,c){var y=oi();je.flags|=r,y.memoizedState=cl(1|a,{destroy:void 0},l,c===void 0?null:c)}function Kl(r,a,l,c){var y=Tr();c=c===void 0?null:c;var b=y.memoizedState.inst;Ve!==null&&c!==null&&Ih(c,Ve.memoizedState.deps)?y.memoizedState=cl(a,b,l,c):(je.flags|=r,y.memoizedState=cl(1|a,b,l,c))}function h2(r,a){Wl(8390656,8,r,a)}function vm(r,a){Kl(2048,8,r,a)}function px(r){je.flags|=4;var a=je.updateQueue;if(a===null)a=zu(),je.updateQueue=a,a.events=[r];else{var l=a.events;l===null?a.events=[r]:l.push(r)}}function f2(r){var a=Tr().memoizedState;return px({ref:a,nextImpl:r}),function(){if((qn&2)!==0)throw Error(i(440));return a.impl.apply(void 0,arguments)}}function d2(r,a){return Kl(4,2,r,a)}function p2(r,a){return Kl(4,4,r,a)}function m2(r,a){if(typeof a=="function"){r=r();var l=a(r);return function(){typeof l=="function"?l():a(null)}}if(a!=null)return r=r(),a.current=r,function(){a.current=null}}function g2(r,a,l){l=l!=null?l.concat([r]):null,Kl(4,4,m2.bind(null,a,r),l)}function bm(){}function y2(r,a){var l=Tr();a=a===void 0?null:a;var c=l.memoizedState;return a!==null&&Ih(a,c[1])?c[0]:(l.memoizedState=[r,a],r)}function v2(r,a){var l=Tr();a=a===void 0?null:a;var c=l.memoizedState;if(a!==null&&Ih(a,c[1]))return c[0];if(c=r(),Xi){qe(!0);try{r()}finally{qe(!1)}}return l.memoizedState=[c,a],c}function _m(r,a,l){return l===void 0||(Er&1073741824)!==0&&(wn&261930)===0?r.memoizedState=a:(r.memoizedState=l,r=by(),je.lanes|=r,Jl|=r,l)}function b2(r,a,l,c){return _i(l,a)?l:dn.current!==null?(r=_m(r,l,c),_i(r,a)||(li=!0),r):(Er&42)===0||(Er&1073741824)!==0&&(wn&261930)===0?(li=!0,r.memoizedState=l):(r=by(),je.lanes|=r,Jl|=r,a)}function _2(r,a,l,c,y){var b=dt.p;dt.p=b!==0&&8>b?b:8;var L=ot.T,Y={};ot.T=Y,Sm(r,!1,a,l);try{var ct=y(),Dt=ot.S;if(Dt!==null&&Dt(Y,ct),ct!==null&&typeof ct=="object"&&typeof ct.then=="function"){var $t=U(ct,c);Vh(r,a,$t,hs(r))}else Vh(r,a,c,hs(r))}catch(Xt){Vh(r,a,{then:function(){},status:"rejected",reason:Xt},hs())}finally{dt.p=b,L!==null&&Y.types!==null&&(L.types=Y.types),ot.T=L}}function mx(){}function wm(r,a,l,c){if(r.tag!==5)throw Error(i(476));var y=w2(r).queue;_2(r,y,a,ft,l===null?mx:function(){return x2(r),l(c)})}function w2(r){var a=r.memoizedState;if(a!==null)return a;a={memoizedState:ft,baseState:ft,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Is,lastRenderedState:ft},next:null};var l={};return a.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Is,lastRenderedState:l},next:null},r.memoizedState=a,r=r.alternate,r!==null&&(r.memoizedState=a),a}function x2(r){var a=w2(r);a.next===null&&(a=r.alternate.memoizedState),Vh(r,a.next.queue,{},hs())}function xm(){return Ai(nf)}function S2(){return Tr().memoizedState}function A2(){return Tr().memoizedState}function gx(r){for(var a=r.return;a!==null;){switch(a.tag){case 24:case 3:var l=hs();r=Ge(l);var c=cn(a,r,l);c!==null&&(Ka(c,a,l),Un(c,a,l)),a={cache:Gl()},r.payload=a;return}a=a.return}}function yx(r,a,l){var c=hs();l={lane:c,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},ud(r)?T2(a,l):(l=dc(r,a,l,c),l!==null&&(Ka(l,r,c),N2(l,a,c)))}function E2(r,a,l){var c=hs();Vh(r,a,l,c)}function Vh(r,a,l,c){var y={lane:c,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(ud(r))T2(a,y);else{var b=r.alternate;if(r.lanes===0&&(b===null||b.lanes===0)&&(b=a.lastRenderedReducer,b!==null))try{var L=a.lastRenderedState,Y=b(L,l);if(y.hasEagerState=!0,y.eagerState=Y,_i(Y,L))return Pu(r,a,y,0),hr===null&&Ou(),!1}catch{}finally{}if(l=dc(r,a,y,c),l!==null)return Ka(l,r,c),N2(l,a,c),!0}return!1}function Sm(r,a,l,c){if(c={lane:2,revertLane:eg(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},ud(r)){if(a)throw Error(i(479))}else a=dc(r,l,c,2),a!==null&&Ka(a,r,2)}function ud(r){var a=r.alternate;return r===je||a!==null&&a===je}function T2(r,a){Ha=ua=!0;var l=r.pending;l===null?a.next=a:(a.next=l.next,l.next=a),r.pending=a}function N2(r,a,l){if((l&4194048)!==0){var c=a.lanes;c&=r.pendingLanes,l|=c,a.lanes=l,ei(r,l)}}var Bh={readContext:Ai,use:$l,useCallback:ar,useContext:ar,useEffect:ar,useImperativeHandle:ar,useLayoutEffect:ar,useInsertionEffect:ar,useMemo:ar,useReducer:ar,useRef:ar,useState:ar,useDebugValue:ar,useDeferredValue:ar,useTransition:ar,useSyncExternalStore:ar,useId:ar,useHostTransitionStatus:ar,useFormState:ar,useActionState:ar,useOptimistic:ar,useMemoCache:ar,useCacheRefresh:ar};Bh.useEffectEvent=ar;var C2={readContext:Ai,use:$l,useCallback:function(r,a){return oi().memoizedState=[r,a===void 0?null:a],r},useContext:Ai,useEffect:h2,useImperativeHandle:function(r,a,l){l=l!=null?l.concat([r]):null,Wl(4194308,4,m2.bind(null,a,r),l)},useLayoutEffect:function(r,a){return Wl(4194308,4,r,a)},useInsertionEffect:function(r,a){Wl(4,2,r,a)},useMemo:function(r,a){var l=oi();a=a===void 0?null:a;var c=r();if(Xi){qe(!0);try{r()}finally{qe(!1)}}return l.memoizedState=[c,a],c},useReducer:function(r,a,l){var c=oi();if(l!==void 0){var y=l(a);if(Xi){qe(!0);try{l(a)}finally{qe(!1)}}}else y=a;return c.memoizedState=c.baseState=y,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:y},c.queue=r,r=r.dispatch=yx.bind(null,je,r),[c.memoizedState,r]},useRef:function(r){var a=oi();return r={current:r},a.memoizedState=r},useState:function(r){r=Oo(r);var a=r.queue,l=E2.bind(null,je,a);return a.dispatch=l,[r.memoizedState,l]},useDebugValue:bm,useDeferredValue:function(r,a){var l=oi();return _m(l,r,a)},useTransition:function(){var r=Oo(!1);return r=_2.bind(null,je,r.queue,!0,!1),oi().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,a,l){var c=je,y=oi();if(yn){if(l===void 0)throw Error(i(407));l=l()}else{if(l=a(),hr===null)throw Error(i(349));(wn&127)!==0||eo(c,a,l)}y.memoizedState=l;var b={value:l,getSnapshot:a};return y.queue=b,h2(Mh.bind(null,c,b,r),[r]),c.flags|=2048,cl(9,{destroy:void 0},Ph.bind(null,c,b,l,a),null),l},useId:function(){var r=oi(),a=hr.identifierPrefix;if(yn){var l=za,c=Ua;l=(c&~(1<<32-Xe(c)-1)).toString(32)+l,a="_"+a+"R_"+l,l=Hr++,0<l&&(a+="H"+l.toString(32)),a+="_"}else l=Ac++,a="_"+a+"r_"+l.toString(32)+"_";return r.memoizedState=a},useHostTransitionStatus:xm,useFormState:Ds,useActionState:Ds,useOptimistic:function(r){var a=oi();a.memoizedState=a.baseState=r;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=l,a=Sm.bind(null,je,!0,l),l.dispatch=a,[r,a]},useMemoCache:ll,useCacheRefresh:function(){return oi().memoizedState=gx.bind(null,je)},useEffectEvent:function(r){var a=oi(),l={impl:r};return a.memoizedState=l,function(){if((qn&2)!==0)throw Error(i(440));return l.impl.apply(void 0,arguments)}}},Am={readContext:Ai,use:$l,useCallback:y2,useContext:Ai,useEffect:vm,useImperativeHandle:g2,useInsertionEffect:d2,useLayoutEffect:p2,useMemo:v2,useReducer:Nc,useRef:ld,useState:function(){return Nc(Is)},useDebugValue:bm,useDeferredValue:function(r,a){var l=Tr();return b2(l,Ve.memoizedState,r,a)},useTransition:function(){var r=Nc(Is)[0],a=Tr().memoizedState;return[typeof r=="boolean"?r:ko(r),a]},useSyncExternalStore:Rc,useId:S2,useHostTransitionStatus:xm,useFormState:no,useActionState:no,useOptimistic:function(r,a){var l=Tr();return id(l,Ve,r,a)},useMemoCache:ll,useCacheRefresh:A2};Am.useEffectEvent=f2;var R2={readContext:Ai,use:$l,useCallback:y2,useContext:Ai,useEffect:vm,useImperativeHandle:g2,useInsertionEffect:d2,useLayoutEffect:p2,useMemo:v2,useReducer:Cc,useRef:ld,useState:function(){return Cc(Is)},useDebugValue:bm,useDeferredValue:function(r,a){var l=Tr();return Ve===null?_m(l,r,a):b2(l,Ve.memoizedState,r,a)},useTransition:function(){var r=Cc(Is)[0],a=Tr().memoizedState;return[typeof r=="boolean"?r:ko(r),a]},useSyncExternalStore:Rc,useId:S2,useHostTransitionStatus:xm,useFormState:Dc,useActionState:Dc,useOptimistic:function(r,a){var l=Tr();return Ve!==null?id(l,Ve,r,a):(l.baseState=r,[r,l.queue.dispatch])},useMemoCache:ll,useCacheRefresh:A2};R2.useEffectEvent=f2;function Em(r,a,l,c){a=r.memoizedState,l=l(c,a),l=l==null?a:w({},a,l),r.memoizedState=l,r.lanes===0&&(r.updateQueue.baseState=l)}var Tm={enqueueSetState:function(r,a,l){r=r._reactInternals;var c=hs(),y=Ge(c);y.payload=a,l!=null&&(y.callback=l),a=cn(r,y,c),a!==null&&(Ka(a,r,c),Un(a,r,c))},enqueueReplaceState:function(r,a,l){r=r._reactInternals;var c=hs(),y=Ge(c);y.tag=1,y.payload=a,l!=null&&(y.callback=l),a=cn(r,y,c),a!==null&&(Ka(a,r,c),Un(a,r,c))},enqueueForceUpdate:function(r,a){r=r._reactInternals;var l=hs(),c=Ge(l);c.tag=2,a!=null&&(c.callback=a),a=cn(r,c,l),a!==null&&(Ka(a,r,l),Un(a,r,l))}};function L2(r,a,l,c,y,b,L){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(c,b,L):a.prototype&&a.prototype.isPureReactComponent?!Ws(l,c)||!Ws(y,b):!0}function I2(r,a,l,c){r=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(l,c),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(l,c),a.state!==r&&Tm.enqueueReplaceState(a,a.state,null)}function Hu(r,a){var l=a;if("ref"in a){l={};for(var c in a)c!=="ref"&&(l[c]=a[c])}if(r=r.defaultProps){l===a&&(l=w({},l));for(var y in r)l[y]===void 0&&(l[y]=r[y])}return l}function D2(r){ku(r)}function k2(r){console.error(r)}function O2(r){ku(r)}function cd(r,a){try{var l=r.onUncaughtError;l(a.value,{componentStack:a.stack})}catch(c){setTimeout(function(){throw c})}}function P2(r,a,l){try{var c=r.onCaughtError;c(l.value,{componentStack:l.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function Nm(r,a,l){return l=Ge(l),l.tag=3,l.payload={element:null},l.callback=function(){cd(r,a)},l}function M2(r){return r=Ge(r),r.tag=3,r}function j2(r,a,l,c){var y=l.type.getDerivedStateFromError;if(typeof y=="function"){var b=c.value;r.payload=function(){return y(b)},r.callback=function(){P2(a,l,c)}}var L=l.stateNode;L!==null&&typeof L.componentDidCatch=="function"&&(r.callback=function(){P2(a,l,c),typeof y!="function"&&(Zl===null?Zl=new Set([this]):Zl.add(this));var Y=c.stack;this.componentDidCatch(c.value,{componentStack:Y!==null?Y:""})})}function vx(r,a,l,c,y){if(l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(a=l.alternate,a!==null&&Ro(a,l,y,!0),l=yr.current,l!==null){switch(l.tag){case 31:case 13:return Ln===null?xd():l.alternate===null&&Gr===0&&(Gr=3),l.flags&=-257,l.flags|=65536,l.lanes=y,c===vt?l.flags|=16384:(a=l.updateQueue,a===null?l.updateQueue=new Set([c]):a.add(c),Jm(r,c,y)),!1;case 22:return l.flags|=65536,c===vt?l.flags|=16384:(a=l.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([c])},l.updateQueue=a):(l=a.retryQueue,l===null?a.retryQueue=new Set([c]):l.add(c)),Jm(r,c,y)),!1}throw Error(i(435,l.tag))}return Jm(r,c,y),xd(),!1}if(yn)return a=yr.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=y,c!==ls&&(r=Error(i(422),{cause:c}),ql(Fa(r,l)))):(c!==ls&&(a=Error(i(423),{cause:c}),ql(Fa(a,l))),r=r.current.alternate,r.flags|=65536,y&=-y,r.lanes|=y,c=Fa(c,l),y=Nm(r.stateNode,c,y),Kr(r,y),Gr!==4&&(Gr=2)),!1;var b=Error(i(520),{cause:c});if(b=Fa(b,l),Wh===null?Wh=[b]:Wh.push(b),Gr!==4&&(Gr=2),a===null)return!0;c=Fa(c,l),l=a;do{switch(l.tag){case 3:return l.flags|=65536,r=y&-y,l.lanes|=r,r=Nm(l.stateNode,c,r),Kr(l,r),!1;case 1:if(a=l.type,b=l.stateNode,(l.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Zl===null||!Zl.has(b))))return l.flags|=65536,y&=-y,l.lanes|=y,y=M2(y),j2(y,r,l,c),Kr(l,y),!1}l=l.return}while(l!==null);return!1}var Cm=Error(i(461)),li=!1;function Ji(r,a,l,c){a.child=r===null?an(a,null,l,c):cr(a,r.child,l,c)}function F2(r,a,l,c,y){l=l.render;var b=a.ref;if("ref"in c){var L={};for(var Y in c)Y!=="ref"&&(L[Y]=c[Y])}else L=c;return Lo(a),c=Dh(r,a,l,L,b,y),Y=kh(),r!==null&&!li?(Oh(r,a,y),hl(r,a,y)):(yn&&Y&&Ch(a),a.flags|=1,Ji(r,a,c,y),a.child)}function V2(r,a,l,c,y){if(r===null){var b=l.type;return typeof b=="function"&&!mc(b)&&b.defaultProps===void 0&&l.compare===null?(a.tag=15,a.type=b,B2(r,a,b,c,y)):(r=Bl(l.type,null,c,a,a.mode,y),r.ref=a.ref,r.return=a,a.child=r)}if(b=r.child,!Mm(r,y)){var L=b.memoizedProps;if(l=l.compare,l=l!==null?l:Ws,l(L,c)&&r.ref===a.ref)return hl(r,a,y)}return a.flags|=1,r=ja(b,c),r.ref=a.ref,r.return=a,a.child=r}function B2(r,a,l,c,y){if(r!==null){var b=r.memoizedProps;if(Ws(b,c)&&r.ref===a.ref)if(li=!1,a.pendingProps=c=b,Mm(r,y))(r.flags&131072)!==0&&(li=!0);else return a.lanes=r.lanes,hl(r,a,y)}return Rm(r,a,l,c,y)}function U2(r,a,l,c){var y=c.children,b=r!==null?r.memoizedState:null;if(r===null&&a.stateNode===null&&(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((a.flags&128)!==0){if(b=b!==null?b.baseLanes|l:l,r!==null){for(c=a.child=r.child,y=0;c!==null;)y=y|c.lanes|c.childLanes,c=c.sibling;c=y&~b}else c=0,a.child=null;return z2(r,a,b,l,c)}if((l&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},r!==null&&et(a,b!==null?b.cachePool:null),b!==null?gr(a,b):Pn(),zr(a);else return c=a.lanes=536870912,z2(r,a,b!==null?b.baseLanes|l:l,l,c)}else b!==null?(et(a,b.cachePool),gr(a,b),qr(),a.memoizedState=null):(r!==null&&et(a,null),Pn(),qr());return Ji(r,a,y,l),a.child}function Uh(r,a){return r!==null&&r.tag===22||a.stateNode!==null||(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.sibling}function z2(r,a,l,c,y){var b=X();return b=b===null?null:{parent:kr._currentValue,pool:b},a.memoizedState={baseLanes:l,cachePool:b},r!==null&&et(a,null),Pn(),zr(a),r!==null&&Ro(r,a,c,!0),a.childLanes=y,null}function hd(r,a){return a=dd({mode:a.mode,children:a.children},r.mode),a.ref=r.ref,r.child=a,a.return=r,a}function q2(r,a,l){return cr(a,r.child,null,l),r=hd(a,a.pendingProps),r.flags|=2,Kn(a),a.memoizedState=null,r}function bx(r,a,l){var c=a.pendingProps,y=(a.flags&128)!==0;if(a.flags&=-129,r===null){if(yn){if(c.mode==="hidden")return r=hd(a,c),a.lanes=536870912,Uh(null,r);if(zn(a),(r=ur)?(r=ev(r,Ar),r=r!==null&&r.data==="&"?r:null,r!==null&&(a.memoizedState={dehydrated:r,treeContext:Eo!==null?{id:Ua,overflow:za}:null,retryLane:536870912,hydrationErrors:null},l=gc(r),l.return=a,a.child=l,xi=a,ur=null)):r=null,r===null)throw To(a);return a.lanes=536870912,null}return hd(a,c)}var b=r.memoizedState;if(b!==null){var L=b.dehydrated;if(zn(a),y)if(a.flags&256)a.flags&=-257,a=q2(r,a,l);else if(a.memoizedState!==null)a.child=r.child,a.flags|=128,a=null;else throw Error(i(558));else if(li||Ro(r,a,l,!1),y=(l&r.childLanes)!==0,li||y){if(c=hr,c!==null&&(L=ni(c,l),L!==0&&L!==b.retryLane))throw b.retryLane=L,Js(r,L),Ka(c,r,L),Cm;xd(),a=q2(r,a,l)}else r=b.treeContext,ur=ks(L.nextSibling),xi=a,yn=!0,Qi=null,Ar=!1,r!==null&&ed(a,r),a=hd(a,c),a.flags|=4096;return a}return r=ja(r.child,{mode:c.mode,children:c.children}),r.ref=a.ref,a.child=r,r.return=a,r}function fd(r,a){var l=a.ref;if(l===null)r!==null&&r.ref!==null&&(a.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(i(284));(r===null||r.ref!==l)&&(a.flags|=4194816)}}function Rm(r,a,l,c,y){return Lo(a),l=Dh(r,a,l,c,void 0,y),c=kh(),r!==null&&!li?(Oh(r,a,y),hl(r,a,y)):(yn&&c&&Ch(a),a.flags|=1,Ji(r,a,l,y),a.child)}function H2(r,a,l,c,y,b){return Lo(a),a.updateQueue=null,l=to(a,c,l,y),Ec(r),c=kh(),r!==null&&!li?(Oh(r,a,b),hl(r,a,b)):(yn&&c&&Ch(a),a.flags|=1,Ji(r,a,l,b),a.child)}function G2(r,a,l,c,y){if(Lo(a),a.stateNode===null){var b=wi,L=l.contextType;typeof L=="object"&&L!==null&&(b=Ai(L)),b=new l(c,b),a.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=Tm,a.stateNode=b,b._reactInternals=a,b=a.stateNode,b.props=c,b.state=a.memoizedState,b.refs={},oe(a),L=l.contextType,b.context=typeof L=="object"&&L!==null?Ai(L):wi,b.state=a.memoizedState,L=l.getDerivedStateFromProps,typeof L=="function"&&(Em(a,l,L,c),b.state=a.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(L=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),L!==b.state&&Tm.enqueueReplaceState(b,b.state,null),Br(a,c,b,y),ir(),b.state=a.memoizedState),typeof b.componentDidMount=="function"&&(a.flags|=4194308),c=!0}else if(r===null){b=a.stateNode;var Y=a.memoizedProps,ct=Hu(l,Y);b.props=ct;var Dt=b.context,$t=l.contextType;L=wi,typeof $t=="object"&&$t!==null&&(L=Ai($t));var Xt=l.getDerivedStateFromProps;$t=typeof Xt=="function"||typeof b.getSnapshotBeforeUpdate=="function",Y=a.pendingProps!==Y,$t||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(Y||Dt!==L)&&I2(a,b,c,L),fe=!1;var Pt=a.memoizedState;b.state=Pt,Br(a,c,b,y),ir(),Dt=a.memoizedState,Y||Pt!==Dt||fe?(typeof Xt=="function"&&(Em(a,l,Xt,c),Dt=a.memoizedState),(ct=fe||L2(a,l,ct,c,Pt,Dt,L))?($t||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(a.flags|=4194308)):(typeof b.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=c,a.memoizedState=Dt),b.props=c,b.state=Dt,b.context=L,c=ct):(typeof b.componentDidMount=="function"&&(a.flags|=4194308),c=!1)}else{b=a.stateNode,mr(r,a),L=a.memoizedProps,$t=Hu(l,L),b.props=$t,Xt=a.pendingProps,Pt=b.context,Dt=l.contextType,ct=wi,typeof Dt=="object"&&Dt!==null&&(ct=Ai(Dt)),Y=l.getDerivedStateFromProps,(Dt=typeof Y=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(L!==Xt||Pt!==ct)&&I2(a,b,c,ct),fe=!1,Pt=a.memoizedState,b.state=Pt,Br(a,c,b,y),ir();var Ft=a.memoizedState;L!==Xt||Pt!==Ft||fe||r!==null&&r.dependencies!==null&&wc(r.dependencies)?(typeof Y=="function"&&(Em(a,l,Y,c),Ft=a.memoizedState),($t=fe||L2(a,l,$t,c,Pt,Ft,ct)||r!==null&&r.dependencies!==null&&wc(r.dependencies))?(Dt||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(c,Ft,ct),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(c,Ft,ct)),typeof b.componentDidUpdate=="function"&&(a.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof b.componentDidUpdate!="function"||L===r.memoizedProps&&Pt===r.memoizedState||(a.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||L===r.memoizedProps&&Pt===r.memoizedState||(a.flags|=1024),a.memoizedProps=c,a.memoizedState=Ft),b.props=c,b.state=Ft,b.context=ct,c=$t):(typeof b.componentDidUpdate!="function"||L===r.memoizedProps&&Pt===r.memoizedState||(a.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||L===r.memoizedProps&&Pt===r.memoizedState||(a.flags|=1024),c=!1)}return b=c,fd(r,a),c=(a.flags&128)!==0,b||c?(b=a.stateNode,l=c&&typeof l.getDerivedStateFromError!="function"?null:b.render(),a.flags|=1,r!==null&&c?(a.child=cr(a,r.child,null,y),a.child=cr(a,null,l,y)):Ji(r,a,l,y),a.memoizedState=b.state,r=a.child):r=hl(r,a,y),r}function $2(r,a,l,c){return sl(),a.flags|=256,Ji(r,a,l,c),a.child}var Lm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Im(r){return{baseLanes:r,cachePool:at()}}function Dm(r,a,l){return r=r!==null?r.childLanes&~l:0,a&&(r|=cs),r}function Y2(r,a,l){var c=a.pendingProps,y=!1,b=(a.flags&128)!==0,L;if((L=b)||(L=r!==null&&r.memoizedState===null?!1:(Cn.current&2)!==0),L&&(y=!0,a.flags&=-129),L=(a.flags&32)!==0,a.flags&=-33,r===null){if(yn){if(y?Or(a):qr(),(r=ur)?(r=ev(r,Ar),r=r!==null&&r.data!=="&"?r:null,r!==null&&(a.memoizedState={dehydrated:r,treeContext:Eo!==null?{id:Ua,overflow:za}:null,retryLane:536870912,hydrationErrors:null},l=gc(r),l.return=a,a.child=l,xi=a,ur=null)):r=null,r===null)throw To(a);return pg(r)?a.lanes=32:a.lanes=536870912,null}var Y=c.children;return c=c.fallback,y?(qr(),y=a.mode,Y=dd({mode:"hidden",children:Y},y),c=Ao(c,y,l,null),Y.return=a,c.return=a,Y.sibling=c,a.child=Y,c=a.child,c.memoizedState=Im(l),c.childLanes=Dm(r,L,l),a.memoizedState=Lm,Uh(null,c)):(Or(a),km(a,Y))}var ct=r.memoizedState;if(ct!==null&&(Y=ct.dehydrated,Y!==null)){if(b)a.flags&256?(Or(a),a.flags&=-257,a=Om(r,a,l)):a.memoizedState!==null?(qr(),a.child=r.child,a.flags|=128,a=null):(qr(),Y=c.fallback,y=a.mode,c=dd({mode:"visible",children:c.children},y),Y=Ao(Y,y,l,null),Y.flags|=2,c.return=a,Y.return=a,c.sibling=Y,a.child=c,cr(a,r.child,null,l),c=a.child,c.memoizedState=Im(l),c.childLanes=Dm(r,L,l),a.memoizedState=Lm,a=Uh(null,c));else if(Or(a),pg(Y)){if(L=Y.nextSibling&&Y.nextSibling.dataset,L)var Dt=L.dgst;L=Dt,c=Error(i(419)),c.stack="",c.digest=L,ql({value:c,source:null,stack:null}),a=Om(r,a,l)}else if(li||Ro(r,a,l,!1),L=(l&r.childLanes)!==0,li||L){if(L=hr,L!==null&&(c=ni(L,l),c!==0&&c!==ct.retryLane))throw ct.retryLane=c,Js(r,c),Ka(L,r,c),Cm;dg(Y)||xd(),a=Om(r,a,l)}else dg(Y)?(a.flags|=192,a.child=r.child,a=null):(r=ct.treeContext,ur=ks(Y.nextSibling),xi=a,yn=!0,Qi=null,Ar=!1,r!==null&&ed(a,r),a=km(a,c.children),a.flags|=4096);return a}return y?(qr(),Y=c.fallback,y=a.mode,ct=r.child,Dt=ct.sibling,c=ja(ct,{mode:"hidden",children:c.children}),c.subtreeFlags=ct.subtreeFlags&65011712,Dt!==null?Y=ja(Dt,Y):(Y=Ao(Y,y,l,null),Y.flags|=2),Y.return=a,c.return=a,c.sibling=Y,a.child=c,Uh(null,c),c=a.child,Y=r.child.memoizedState,Y===null?Y=Im(l):(y=Y.cachePool,y!==null?(ct=kr._currentValue,y=y.parent!==ct?{parent:ct,pool:ct}:y):y=at(),Y={baseLanes:Y.baseLanes|l,cachePool:y}),c.memoizedState=Y,c.childLanes=Dm(r,L,l),a.memoizedState=Lm,Uh(r.child,c)):(Or(a),l=r.child,r=l.sibling,l=ja(l,{mode:"visible",children:c.children}),l.return=a,l.sibling=null,r!==null&&(L=a.deletions,L===null?(a.deletions=[r],a.flags|=16):L.push(r)),a.child=l,a.memoizedState=null,l)}function km(r,a){return a=dd({mode:"visible",children:a},r.mode),a.return=r,r.child=a}function dd(r,a){return r=Pi(22,r,null,a),r.lanes=0,r}function Om(r,a,l){return cr(a,r.child,null,l),r=km(a,a.pendingProps.children),r.flags|=2,a.memoizedState=null,r}function W2(r,a,l){r.lanes|=a;var c=r.alternate;c!==null&&(c.lanes|=a),Hl(r.return,a,l)}function Pm(r,a,l,c,y,b){var L=r.memoizedState;L===null?r.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:c,tail:l,tailMode:y,treeForkCount:b}:(L.isBackwards=a,L.rendering=null,L.renderingStartTime=0,L.last=c,L.tail=l,L.tailMode=y,L.treeForkCount=b)}function K2(r,a,l){var c=a.pendingProps,y=c.revealOrder,b=c.tail;c=c.children;var L=Cn.current,Y=(L&2)!==0;if(Y?(L=L&1|2,a.flags|=128):L&=1,K(Cn,L),Ji(r,a,c,l),c=yn?Vu:0,!Y&&r!==null&&(r.flags&128)!==0)t:for(r=a.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&W2(r,l,a);else if(r.tag===19)W2(r,l,a);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===a)break t;for(;r.sibling===null;){if(r.return===null||r.return===a)break t;r=r.return}r.sibling.return=r.return,r=r.sibling}switch(y){case"forwards":for(l=a.child,y=null;l!==null;)r=l.alternate,r!==null&&ji(r)===null&&(y=l),l=l.sibling;l=y,l===null?(y=a.child,a.child=null):(y=l.sibling,l.sibling=null),Pm(a,!1,y,l,b,c);break;case"backwards":case"unstable_legacy-backwards":for(l=null,y=a.child,a.child=null;y!==null;){if(r=y.alternate,r!==null&&ji(r)===null){a.child=y;break}r=y.sibling,y.sibling=l,l=y,y=r}Pm(a,!0,l,null,b,c);break;case"together":Pm(a,!1,null,null,void 0,c);break;default:a.memoizedState=null}return a.child}function hl(r,a,l){if(r!==null&&(a.dependencies=r.dependencies),Jl|=a.lanes,(l&a.childLanes)===0)if(r!==null){if(Ro(r,a,l,!1),(l&a.childLanes)===0)return null}else return null;if(r!==null&&a.child!==r.child)throw Error(i(153));if(a.child!==null){for(r=a.child,l=ja(r,r.pendingProps),a.child=l,l.return=a;r.sibling!==null;)r=r.sibling,l=l.sibling=ja(r,r.pendingProps),l.return=a;l.sibling=null}return a.child}function Mm(r,a){return(r.lanes&a)!==0?!0:(r=r.dependencies,!!(r!==null&&wc(r)))}function _x(r,a,l){switch(a.tag){case 3:It(a,a.stateNode.containerInfo),Co(a,kr,r.memoizedState.cache),sl();break;case 27:case 5:zt(a);break;case 4:It(a,a.stateNode.containerInfo);break;case 10:Co(a,a.type,a.memoizedProps.value);break;case 31:if(a.memoizedState!==null)return a.flags|=128,zn(a),null;break;case 13:var c=a.memoizedState;if(c!==null)return c.dehydrated!==null?(Or(a),a.flags|=128,null):(l&a.child.childLanes)!==0?Y2(r,a,l):(Or(a),r=hl(r,a,l),r!==null?r.sibling:null);Or(a);break;case 19:var y=(r.flags&128)!==0;if(c=(l&a.childLanes)!==0,c||(Ro(r,a,l,!1),c=(l&a.childLanes)!==0),y){if(c)return K2(r,a,l);a.flags|=128}if(y=a.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),K(Cn,Cn.current),c)break;return null;case 22:return a.lanes=0,U2(r,a,l,a.pendingProps);case 24:Co(a,kr,r.memoizedState.cache)}return hl(r,a,l)}function Q2(r,a,l){if(r!==null)if(r.memoizedProps!==a.pendingProps)li=!0;else{if(!Mm(r,l)&&(a.flags&128)===0)return li=!1,_x(r,a,l);li=(r.flags&131072)!==0}else li=!1,yn&&(a.flags&1048576)!==0&&td(a,Vu,a.index);switch(a.lanes=0,a.tag){case 16:t:{var c=a.pendingProps;if(r=Tt(a.elementType),a.type=r,typeof r=="function")mc(r)?(c=Hu(r,c),a.tag=1,a=G2(null,a,r,c,l)):(a.tag=0,a=Rm(null,a,r,c,l));else{if(r!=null){var y=r.$$typeof;if(y===nt){a.tag=11,a=F2(null,a,r,c,l);break t}else if(y===q){a.tag=14,a=V2(null,a,r,c,l);break t}}throw a=lt(r)||r,Error(i(306,a,""))}}return a;case 0:return Rm(r,a,a.type,a.pendingProps,l);case 1:return c=a.type,y=Hu(c,a.pendingProps),G2(r,a,c,y,l);case 3:t:{if(It(a,a.stateNode.containerInfo),r===null)throw Error(i(387));c=a.pendingProps;var b=a.memoizedState;y=b.element,mr(r,a),Br(a,c,null,l);var L=a.memoizedState;if(c=L.cache,Co(a,kr,c),c!==b.cache&&ol(a,[kr],l,!0),ir(),c=L.element,b.isDehydrated)if(b={element:c,isDehydrated:!1,cache:L.cache},a.updateQueue.baseState=b,a.memoizedState=b,a.flags&256){a=$2(r,a,c,l);break t}else if(c!==y){y=Fa(Error(i(424)),a),ql(y),a=$2(r,a,c,l);break t}else{switch(r=a.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(ur=ks(r.firstChild),xi=a,yn=!0,Qi=null,Ar=!0,l=an(a,null,c,l),a.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(sl(),c===y){a=hl(r,a,l);break t}Ji(r,a,c,l)}a=a.child}return a;case 26:return fd(r,a),r===null?(l=ov(a.type,null,a.pendingProps,null))?a.memoizedState=l:yn||(l=a.type,r=a.pendingProps,c=Rd(ut.current).createElement(l),c[Mn]=a,c[Yn]=r,Zi(c,l,r),pr(c),a.stateNode=c):a.memoizedState=ov(a.type,r.memoizedProps,a.pendingProps,r.memoizedState),null;case 27:return zt(a),r===null&&yn&&(c=a.stateNode=iv(a.type,a.pendingProps,ut.current),xi=a,Ar=!0,y=ur,ru(a.type)?(mg=y,ur=ks(c.firstChild)):ur=y),Ji(r,a,a.pendingProps.children,l),fd(r,a),r===null&&(a.flags|=4194304),a.child;case 5:return r===null&&yn&&((y=c=ur)&&(c=Qx(c,a.type,a.pendingProps,Ar),c!==null?(a.stateNode=c,xi=a,ur=ks(c.firstChild),Ar=!1,y=!0):y=!1),y||To(a)),zt(a),y=a.type,b=a.pendingProps,L=r!==null?r.memoizedProps:null,c=b.children,cg(y,b)?c=null:L!==null&&cg(y,L)&&(a.flags|=32),a.memoizedState!==null&&(y=Dh(r,a,ym,null,null,l),nf._currentValue=y),fd(r,a),Ji(r,a,c,l),a.child;case 6:return r===null&&yn&&((r=l=ur)&&(l=Xx(l,a.pendingProps,Ar),l!==null?(a.stateNode=l,xi=a,ur=null,r=!0):r=!1),r||To(a)),null;case 13:return Y2(r,a,l);case 4:return It(a,a.stateNode.containerInfo),c=a.pendingProps,r===null?a.child=cr(a,null,c,l):Ji(r,a,c,l),a.child;case 11:return F2(r,a,a.type,a.pendingProps,l);case 7:return Ji(r,a,a.pendingProps,l),a.child;case 8:return Ji(r,a,a.pendingProps.children,l),a.child;case 12:return Ji(r,a,a.pendingProps.children,l),a.child;case 10:return c=a.pendingProps,Co(a,a.type,c.value),Ji(r,a,c.children,l),a.child;case 9:return y=a.type._context,c=a.pendingProps.children,Lo(a),y=Ai(y),c=c(y),a.flags|=1,Ji(r,a,c,l),a.child;case 14:return V2(r,a,a.type,a.pendingProps,l);case 15:return B2(r,a,a.type,a.pendingProps,l);case 19:return K2(r,a,l);case 31:return bx(r,a,l);case 22:return U2(r,a,l,a.pendingProps);case 24:return Lo(a),c=Ai(kr),r===null?(y=X(),y===null&&(y=hr,b=Gl(),y.pooledCache=b,b.refCount++,b!==null&&(y.pooledCacheLanes|=l),y=b),a.memoizedState={parent:c,cache:y},oe(a),Co(a,kr,y)):((r.lanes&l)!==0&&(mr(r,a),Br(a,null,null,l),ir()),y=r.memoizedState,b=a.memoizedState,y.parent!==c?(y={parent:c,cache:c},a.memoizedState=y,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=y),Co(a,kr,c)):(c=b.cache,Co(a,kr,c),c!==y.cache&&ol(a,[kr],l,!0))),Ji(r,a,a.pendingProps.children,l),a.child;case 29:throw a.pendingProps}throw Error(i(156,a.tag))}function fl(r){r.flags|=4}function jm(r,a,l,c,y){if((a=(r.mode&32)!==0)&&(a=!1),a){if(r.flags|=16777216,(y&335544128)===y)if(r.stateNode.complete)r.flags|=8192;else if(Sy())r.flags|=8192;else throw Vt=vt,Ct}else r.flags&=-16777217}function X2(r,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!fv(a))if(Sy())r.flags|=8192;else throw Vt=vt,Ct}function pd(r,a){a!==null&&(r.flags|=4),r.flags&16384&&(a=r.tag!==22?Le():536870912,r.lanes|=a,Mc|=a)}function zh(r,a){if(!yn)switch(r.tailMode){case"hidden":a=r.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r.tail=null:l.sibling=null;break;case"collapsed":l=r.tail;for(var c=null;l!==null;)l.alternate!==null&&(c=l),l=l.sibling;c===null?a||r.tail===null?r.tail=null:r.tail.sibling=null:c.sibling=null}}function vr(r){var a=r.alternate!==null&&r.alternate.child===r.child,l=0,c=0;if(a)for(var y=r.child;y!==null;)l|=y.lanes|y.childLanes,c|=y.subtreeFlags&65011712,c|=y.flags&65011712,y.return=r,y=y.sibling;else for(y=r.child;y!==null;)l|=y.lanes|y.childLanes,c|=y.subtreeFlags,c|=y.flags,y.return=r,y=y.sibling;return r.subtreeFlags|=c,r.childLanes=l,a}function wx(r,a,l){var c=a.pendingProps;switch(bc(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return vr(a),null;case 1:return vr(a),null;case 3:return l=a.stateNode,c=null,r!==null&&(c=r.memoizedState.cache),a.memoizedState.cache!==c&&(a.flags|=2048),qa(kr),Rt(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(r===null||r.child===null)&&(Si(a)?fl(a):r===null||r.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Lh())),vr(a),null;case 26:var y=a.type,b=a.memoizedState;return r===null?(fl(a),b!==null?(vr(a),X2(a,b)):(vr(a),jm(a,y,null,c,l))):b?b!==r.memoizedState?(fl(a),vr(a),X2(a,b)):(vr(a),a.flags&=-16777217):(r=r.memoizedProps,r!==c&&fl(a),vr(a),jm(a,y,r,c,l)),null;case 27:if(Et(a),l=ut.current,y=a.type,r!==null&&a.stateNode!=null)r.memoizedProps!==c&&fl(a);else{if(!c){if(a.stateNode===null)throw Error(i(166));return vr(a),null}r=tt.current,Si(a)?Rh(a):(r=iv(y,c,l),a.stateNode=r,fl(a))}return vr(a),null;case 5:if(Et(a),y=a.type,r!==null&&a.stateNode!=null)r.memoizedProps!==c&&fl(a);else{if(!c){if(a.stateNode===null)throw Error(i(166));return vr(a),null}if(b=tt.current,Si(a))Rh(a);else{var L=Rd(ut.current);switch(b){case 1:b=L.createElementNS("http://www.w3.org/2000/svg",y);break;case 2:b=L.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;default:switch(y){case"svg":b=L.createElementNS("http://www.w3.org/2000/svg",y);break;case"math":b=L.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;case"script":b=L.createElement("div"),b.innerHTML="<script><\/script>",b=b.removeChild(b.firstChild);break;case"select":b=typeof c.is=="string"?L.createElement("select",{is:c.is}):L.createElement("select"),c.multiple?b.multiple=!0:c.size&&(b.size=c.size);break;default:b=typeof c.is=="string"?L.createElement(y,{is:c.is}):L.createElement(y)}}b[Mn]=a,b[Yn]=c;t:for(L=a.child;L!==null;){if(L.tag===5||L.tag===6)b.appendChild(L.stateNode);else if(L.tag!==4&&L.tag!==27&&L.child!==null){L.child.return=L,L=L.child;continue}if(L===a)break t;for(;L.sibling===null;){if(L.return===null||L.return===a)break t;L=L.return}L.sibling.return=L.return,L=L.sibling}a.stateNode=b;t:switch(Zi(b,y,c),y){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break t;case"img":c=!0;break t;default:c=!1}c&&fl(a)}}return vr(a),jm(a,a.type,r===null?null:r.memoizedProps,a.pendingProps,l),null;case 6:if(r&&a.stateNode!=null)r.memoizedProps!==c&&fl(a);else{if(typeof c!="string"&&a.stateNode===null)throw Error(i(166));if(r=ut.current,Si(a)){if(r=a.stateNode,l=a.memoizedProps,c=null,y=xi,y!==null)switch(y.tag){case 27:case 5:c=y.memoizedProps}r[Mn]=a,r=!!(r.nodeValue===l||c!==null&&c.suppressHydrationWarning===!0||Yy(r.nodeValue,l)),r||To(a,!0)}else r=Rd(r).createTextNode(c),r[Mn]=a,a.stateNode=r}return vr(a),null;case 31:if(l=a.memoizedState,r===null||r.memoizedState!==null){if(c=Si(a),l!==null){if(r===null){if(!c)throw Error(i(318));if(r=a.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(557));r[Mn]=a}else sl(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;vr(a),r=!1}else l=Lh(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=l),r=!0;if(!r)return a.flags&256?(Kn(a),a):(Kn(a),null);if((a.flags&128)!==0)throw Error(i(558))}return vr(a),null;case 13:if(c=a.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(y=Si(a),c!==null&&c.dehydrated!==null){if(r===null){if(!y)throw Error(i(318));if(y=a.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(i(317));y[Mn]=a}else sl(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;vr(a),y=!1}else y=Lh(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=y),y=!0;if(!y)return a.flags&256?(Kn(a),a):(Kn(a),null)}return Kn(a),(a.flags&128)!==0?(a.lanes=l,a):(l=c!==null,r=r!==null&&r.memoizedState!==null,l&&(c=a.child,y=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(y=c.alternate.memoizedState.cachePool.pool),b=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(b=c.memoizedState.cachePool.pool),b!==y&&(c.flags|=2048)),l!==r&&l&&(a.child.flags|=8192),pd(a,a.updateQueue),vr(a),null);case 4:return Rt(),r===null&&ag(a.stateNode.containerInfo),vr(a),null;case 10:return qa(a.type),vr(a),null;case 19:if(O(Cn),c=a.memoizedState,c===null)return vr(a),null;if(y=(a.flags&128)!==0,b=c.rendering,b===null)if(y)zh(c,!1);else{if(Gr!==0||r!==null&&(r.flags&128)!==0)for(r=a.child;r!==null;){if(b=ji(r),b!==null){for(a.flags|=128,zh(c,!1),r=b.updateQueue,a.updateQueue=r,pd(a,r),a.subtreeFlags=0,r=l,l=a.child;l!==null;)ju(l,r),l=l.sibling;return K(Cn,Cn.current&1|2),yn&&Na(a,c.treeForkCount),a.child}r=r.sibling}c.tail!==null&&Ke()>bd&&(a.flags|=128,y=!0,zh(c,!1),a.lanes=4194304)}else{if(!y)if(r=ji(b),r!==null){if(a.flags|=128,y=!0,r=r.updateQueue,a.updateQueue=r,pd(a,r),zh(c,!0),c.tail===null&&c.tailMode==="hidden"&&!b.alternate&&!yn)return vr(a),null}else 2*Ke()-c.renderingStartTime>bd&&l!==536870912&&(a.flags|=128,y=!0,zh(c,!1),a.lanes=4194304);c.isBackwards?(b.sibling=a.child,a.child=b):(r=c.last,r!==null?r.sibling=b:a.child=b,c.last=b)}return c.tail!==null?(r=c.tail,c.rendering=r,c.tail=r.sibling,c.renderingStartTime=Ke(),r.sibling=null,l=Cn.current,K(Cn,y?l&1|2:l&1),yn&&Na(a,c.treeForkCount),r):(vr(a),null);case 22:case 23:return Kn(a),Qr(),c=a.memoizedState!==null,r!==null?r.memoizedState!==null!==c&&(a.flags|=8192):c&&(a.flags|=8192),c?(l&536870912)!==0&&(a.flags&128)===0&&(vr(a),a.subtreeFlags&6&&(a.flags|=8192)):vr(a),l=a.updateQueue,l!==null&&pd(a,l.retryQueue),l=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),c=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),c!==l&&(a.flags|=2048),r!==null&&O(G),null;case 24:return l=null,r!==null&&(l=r.memoizedState.cache),a.memoizedState.cache!==l&&(a.flags|=2048),qa(kr),vr(a),null;case 25:return null;case 30:return null}throw Error(i(156,a.tag))}function xx(r,a){switch(bc(a),a.tag){case 1:return r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 3:return qa(kr),Rt(),r=a.flags,(r&65536)!==0&&(r&128)===0?(a.flags=r&-65537|128,a):null;case 26:case 27:case 5:return Et(a),null;case 31:if(a.memoizedState!==null){if(Kn(a),a.alternate===null)throw Error(i(340));sl()}return r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 13:if(Kn(a),r=a.memoizedState,r!==null&&r.dehydrated!==null){if(a.alternate===null)throw Error(i(340));sl()}return r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 19:return O(Cn),null;case 4:return Rt(),null;case 10:return qa(a.type),null;case 22:case 23:return Kn(a),Qr(),r!==null&&O(G),r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 24:return qa(kr),null;case 25:return null;default:return null}}function J2(r,a){switch(bc(a),a.tag){case 3:qa(kr),Rt();break;case 26:case 27:case 5:Et(a);break;case 4:Rt();break;case 31:a.memoizedState!==null&&Kn(a);break;case 13:Kn(a);break;case 19:O(Cn);break;case 10:qa(a.type);break;case 22:case 23:Kn(a),Qr(),r!==null&&O(G);break;case 24:qa(kr)}}function qh(r,a){try{var l=a.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var y=c.next;l=y;do{if((l.tag&r)===r){c=void 0;var b=l.create,L=l.inst;c=b(),L.destroy=c}l=l.next}while(l!==y)}}catch(Y){Xn(a,a.return,Y)}}function Ql(r,a,l){try{var c=a.updateQueue,y=c!==null?c.lastEffect:null;if(y!==null){var b=y.next;c=b;do{if((c.tag&r)===r){var L=c.inst,Y=L.destroy;if(Y!==void 0){L.destroy=void 0,y=a;var ct=l,Dt=Y;try{Dt()}catch($t){Xn(y,ct,$t)}}}c=c.next}while(c!==b)}}catch($t){Xn(a,a.return,$t)}}function Z2(r){var a=r.updateQueue;if(a!==null){var l=r.stateNode;try{Ur(a,l)}catch(c){Xn(r,r.return,c)}}}function ty(r,a,l){l.props=Hu(r.type,r.memoizedProps),l.state=r.memoizedState;try{l.componentWillUnmount()}catch(c){Xn(r,a,c)}}function Hh(r,a){try{var l=r.ref;if(l!==null){switch(r.tag){case 26:case 27:case 5:var c=r.stateNode;break;case 30:c=r.stateNode;break;default:c=r.stateNode}typeof l=="function"?r.refCleanup=l(c):l.current=c}}catch(y){Xn(r,a,y)}}function Po(r,a){var l=r.ref,c=r.refCleanup;if(l!==null)if(typeof c=="function")try{c()}catch(y){Xn(r,a,y)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(y){Xn(r,a,y)}else l.current=null}function ey(r){var a=r.type,l=r.memoizedProps,c=r.stateNode;try{t:switch(a){case"button":case"input":case"select":case"textarea":l.autoFocus&&c.focus();break t;case"img":l.src?c.src=l.src:l.srcSet&&(c.srcset=l.srcSet)}}catch(y){Xn(r,r.return,y)}}function Fm(r,a,l){try{var c=r.stateNode;Hx(c,r.type,l,a),c[Yn]=a}catch(y){Xn(r,r.return,y)}}function ny(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&ru(r.type)||r.tag===4}function Vm(r){t:for(;;){for(;r.sibling===null;){if(r.return===null||ny(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&ru(r.type)||r.flags&2||r.child===null||r.tag===4)continue t;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Bm(r,a,l){var c=r.tag;if(c===5||c===6)r=r.stateNode,a?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(r,a):(a=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,a.appendChild(r),l=l._reactRootContainer,l!=null||a.onclick!==null||(a.onclick=_a));else if(c!==4&&(c===27&&ru(r.type)&&(l=r.stateNode,a=null),r=r.child,r!==null))for(Bm(r,a,l),r=r.sibling;r!==null;)Bm(r,a,l),r=r.sibling}function md(r,a,l){var c=r.tag;if(c===5||c===6)r=r.stateNode,a?l.insertBefore(r,a):l.appendChild(r);else if(c!==4&&(c===27&&ru(r.type)&&(l=r.stateNode),r=r.child,r!==null))for(md(r,a,l),r=r.sibling;r!==null;)md(r,a,l),r=r.sibling}function ry(r){var a=r.stateNode,l=r.memoizedProps;try{for(var c=r.type,y=a.attributes;y.length;)a.removeAttributeNode(y[0]);Zi(a,c,l),a[Mn]=r,a[Yn]=l}catch(b){Xn(r,r.return,b)}}var dl=!1,ui=!1,Um=!1,iy=typeof WeakSet=="function"?WeakSet:Set,Fi=null;function Sx(r,a){if(r=r.containerInfo,lg=Md,r=Qs(r),Cs(r)){if("selectionStart"in r)var l={start:r.selectionStart,end:r.selectionEnd};else t:{l=(l=r.ownerDocument)&&l.defaultView||window;var c=l.getSelection&&l.getSelection();if(c&&c.rangeCount!==0){l=c.anchorNode;var y=c.anchorOffset,b=c.focusNode;c=c.focusOffset;try{l.nodeType,b.nodeType}catch{l=null;break t}var L=0,Y=-1,ct=-1,Dt=0,$t=0,Xt=r,Pt=null;e:for(;;){for(var Ft;Xt!==l||y!==0&&Xt.nodeType!==3||(Y=L+y),Xt!==b||c!==0&&Xt.nodeType!==3||(ct=L+c),Xt.nodeType===3&&(L+=Xt.nodeValue.length),(Ft=Xt.firstChild)!==null;)Pt=Xt,Xt=Ft;for(;;){if(Xt===r)break e;if(Pt===l&&++Dt===y&&(Y=L),Pt===b&&++$t===c&&(ct=L),(Ft=Xt.nextSibling)!==null)break;Xt=Pt,Pt=Xt.parentNode}Xt=Ft}l=Y===-1||ct===-1?null:{start:Y,end:ct}}else l=null}l=l||{start:0,end:0}}else l=null;for(ug={focusedElem:r,selectionRange:l},Md=!1,Fi=a;Fi!==null;)if(a=Fi,r=a.child,(a.subtreeFlags&1028)!==0&&r!==null)r.return=a,Fi=r;else for(;Fi!==null;){switch(a=Fi,b=a.alternate,r=a.flags,a.tag){case 0:if((r&4)!==0&&(r=a.updateQueue,r=r!==null?r.events:null,r!==null))for(l=0;l<r.length;l++)y=r[l],y.ref.impl=y.nextImpl;break;case 11:case 15:break;case 1:if((r&1024)!==0&&b!==null){r=void 0,l=a,y=b.memoizedProps,b=b.memoizedState,c=l.stateNode;try{var ye=Hu(l.type,y);r=c.getSnapshotBeforeUpdate(ye,b),c.__reactInternalSnapshotBeforeUpdate=r}catch($e){Xn(l,l.return,$e)}}break;case 3:if((r&1024)!==0){if(r=a.stateNode.containerInfo,l=r.nodeType,l===9)fg(r);else if(l===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":fg(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=a.sibling,r!==null){r.return=a.return,Fi=r;break}Fi=a.return}}function ay(r,a,l){var c=l.flags;switch(l.tag){case 0:case 11:case 15:ml(r,l),c&4&&qh(5,l);break;case 1:if(ml(r,l),c&4)if(r=l.stateNode,a===null)try{r.componentDidMount()}catch(L){Xn(l,l.return,L)}else{var y=Hu(l.type,a.memoizedProps);a=a.memoizedState;try{r.componentDidUpdate(y,a,r.__reactInternalSnapshotBeforeUpdate)}catch(L){Xn(l,l.return,L)}}c&64&&Z2(l),c&512&&Hh(l,l.return);break;case 3:if(ml(r,l),c&64&&(r=l.updateQueue,r!==null)){if(a=null,l.child!==null)switch(l.child.tag){case 27:case 5:a=l.child.stateNode;break;case 1:a=l.child.stateNode}try{Ur(r,a)}catch(L){Xn(l,l.return,L)}}break;case 27:a===null&&c&4&&ry(l);case 26:case 5:ml(r,l),a===null&&c&4&&ey(l),c&512&&Hh(l,l.return);break;case 12:ml(r,l);break;case 31:ml(r,l),c&4&&ly(r,l);break;case 13:ml(r,l),c&4&&uy(r,l),c&64&&(r=l.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(l=Dx.bind(null,l),Jx(r,l))));break;case 22:if(c=l.memoizedState!==null||dl,!c){a=a!==null&&a.memoizedState!==null||ui,y=dl;var b=ui;dl=c,(ui=a)&&!b?gl(r,l,(l.subtreeFlags&8772)!==0):ml(r,l),dl=y,ui=b}break;case 30:break;default:ml(r,l)}}function sy(r){var a=r.alternate;a!==null&&(r.alternate=null,sy(a)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(a=r.stateNode,a!==null&&Za(a)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var Nr=null,Ga=!1;function pl(r,a,l){for(l=l.child;l!==null;)oy(r,a,l),l=l.sibling}function oy(r,a,l){if(Re&&typeof Re.onCommitFiberUnmount=="function")try{Re.onCommitFiberUnmount(nn,l)}catch{}switch(l.tag){case 26:ui||Po(l,a),pl(r,a,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:ui||Po(l,a);var c=Nr,y=Ga;ru(l.type)&&(Nr=l.stateNode,Ga=!1),pl(r,a,l),Zh(l.stateNode),Nr=c,Ga=y;break;case 5:ui||Po(l,a);case 6:if(c=Nr,y=Ga,Nr=null,pl(r,a,l),Nr=c,Ga=y,Nr!==null)if(Ga)try{(Nr.nodeType===9?Nr.body:Nr.nodeName==="HTML"?Nr.ownerDocument.body:Nr).removeChild(l.stateNode)}catch(b){Xn(l,a,b)}else try{Nr.removeChild(l.stateNode)}catch(b){Xn(l,a,b)}break;case 18:Nr!==null&&(Ga?(r=Nr,Zy(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,l.stateNode),Hc(r)):Zy(Nr,l.stateNode));break;case 4:c=Nr,y=Ga,Nr=l.stateNode.containerInfo,Ga=!0,pl(r,a,l),Nr=c,Ga=y;break;case 0:case 11:case 14:case 15:Ql(2,l,a),ui||Ql(4,l,a),pl(r,a,l);break;case 1:ui||(Po(l,a),c=l.stateNode,typeof c.componentWillUnmount=="function"&&ty(l,a,c)),pl(r,a,l);break;case 21:pl(r,a,l);break;case 22:ui=(c=ui)||l.memoizedState!==null,pl(r,a,l),ui=c;break;default:pl(r,a,l)}}function ly(r,a){if(a.memoizedState===null&&(r=a.alternate,r!==null&&(r=r.memoizedState,r!==null))){r=r.dehydrated;try{Hc(r)}catch(l){Xn(a,a.return,l)}}}function uy(r,a){if(a.memoizedState===null&&(r=a.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{Hc(r)}catch(l){Xn(a,a.return,l)}}function Ax(r){switch(r.tag){case 31:case 13:case 19:var a=r.stateNode;return a===null&&(a=r.stateNode=new iy),a;case 22:return r=r.stateNode,a=r._retryCache,a===null&&(a=r._retryCache=new iy),a;default:throw Error(i(435,r.tag))}}function gd(r,a){var l=Ax(r);a.forEach(function(c){if(!l.has(c)){l.add(c);var y=kx.bind(null,r,c);c.then(y,y)}})}function $a(r,a){var l=a.deletions;if(l!==null)for(var c=0;c<l.length;c++){var y=l[c],b=r,L=a,Y=L;t:for(;Y!==null;){switch(Y.tag){case 27:if(ru(Y.type)){Nr=Y.stateNode,Ga=!1;break t}break;case 5:Nr=Y.stateNode,Ga=!1;break t;case 3:case 4:Nr=Y.stateNode.containerInfo,Ga=!0;break t}Y=Y.return}if(Nr===null)throw Error(i(160));oy(b,L,y),Nr=null,Ga=!1,b=y.alternate,b!==null&&(b.return=null),y.return=null}if(a.subtreeFlags&13886)for(a=a.child;a!==null;)cy(a,r),a=a.sibling}var io=null;function cy(r,a){var l=r.alternate,c=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:$a(a,r),Ya(r),c&4&&(Ql(3,r,r.return),qh(3,r),Ql(5,r,r.return));break;case 1:$a(a,r),Ya(r),c&512&&(ui||l===null||Po(l,l.return)),c&64&&dl&&(r=r.updateQueue,r!==null&&(c=r.callbacks,c!==null&&(l=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=l===null?c:l.concat(c))));break;case 26:var y=io;if($a(a,r),Ya(r),c&512&&(ui||l===null||Po(l,l.return)),c&4){var b=l!==null?l.memoizedState:null;if(c=r.memoizedState,l===null)if(c===null)if(r.stateNode===null){t:{c=r.type,l=r.memoizedProps,y=y.ownerDocument||y;e:switch(c){case"title":b=y.getElementsByTagName("title")[0],(!b||b[Ri]||b[Mn]||b.namespaceURI==="http://www.w3.org/2000/svg"||b.hasAttribute("itemprop"))&&(b=y.createElement(c),y.head.insertBefore(b,y.querySelector("head > title"))),Zi(b,c,l),b[Mn]=r,pr(b),c=b;break t;case"link":var L=cv("link","href",y).get(c+(l.href||""));if(L){for(var Y=0;Y<L.length;Y++)if(b=L[Y],b.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&b.getAttribute("rel")===(l.rel==null?null:l.rel)&&b.getAttribute("title")===(l.title==null?null:l.title)&&b.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){L.splice(Y,1);break e}}b=y.createElement(c),Zi(b,c,l),y.head.appendChild(b);break;case"meta":if(L=cv("meta","content",y).get(c+(l.content||""))){for(Y=0;Y<L.length;Y++)if(b=L[Y],b.getAttribute("content")===(l.content==null?null:""+l.content)&&b.getAttribute("name")===(l.name==null?null:l.name)&&b.getAttribute("property")===(l.property==null?null:l.property)&&b.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&b.getAttribute("charset")===(l.charSet==null?null:l.charSet)){L.splice(Y,1);break e}}b=y.createElement(c),Zi(b,c,l),y.head.appendChild(b);break;default:throw Error(i(468,c))}b[Mn]=r,pr(b),c=b}r.stateNode=c}else hv(y,r.type,r.stateNode);else r.stateNode=uv(y,c,r.memoizedProps);else b!==c?(b===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):b.count--,c===null?hv(y,r.type,r.stateNode):uv(y,c,r.memoizedProps)):c===null&&r.stateNode!==null&&Fm(r,r.memoizedProps,l.memoizedProps)}break;case 27:$a(a,r),Ya(r),c&512&&(ui||l===null||Po(l,l.return)),l!==null&&c&4&&Fm(r,r.memoizedProps,l.memoizedProps);break;case 5:if($a(a,r),Ya(r),c&512&&(ui||l===null||Po(l,l.return)),r.flags&32){y=r.stateNode;try{Yr(y,"")}catch(ye){Xn(r,r.return,ye)}}c&4&&r.stateNode!=null&&(y=r.memoizedProps,Fm(r,y,l!==null?l.memoizedProps:y)),c&1024&&(Um=!0);break;case 6:if($a(a,r),Ya(r),c&4){if(r.stateNode===null)throw Error(i(162));c=r.memoizedProps,l=r.stateNode;try{l.nodeValue=c}catch(ye){Xn(r,r.return,ye)}}break;case 3:if(Dd=null,y=io,io=Ld(a.containerInfo),$a(a,r),io=y,Ya(r),c&4&&l!==null&&l.memoizedState.isDehydrated)try{Hc(a.containerInfo)}catch(ye){Xn(r,r.return,ye)}Um&&(Um=!1,hy(r));break;case 4:c=io,io=Ld(r.stateNode.containerInfo),$a(a,r),Ya(r),io=c;break;case 12:$a(a,r),Ya(r);break;case 31:$a(a,r),Ya(r),c&4&&(c=r.updateQueue,c!==null&&(r.updateQueue=null,gd(r,c)));break;case 13:$a(a,r),Ya(r),r.child.flags&8192&&r.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(vd=Ke()),c&4&&(c=r.updateQueue,c!==null&&(r.updateQueue=null,gd(r,c)));break;case 22:y=r.memoizedState!==null;var ct=l!==null&&l.memoizedState!==null,Dt=dl,$t=ui;if(dl=Dt||y,ui=$t||ct,$a(a,r),ui=$t,dl=Dt,Ya(r),c&8192)t:for(a=r.stateNode,a._visibility=y?a._visibility&-2:a._visibility|1,y&&(l===null||ct||dl||ui||Gu(r)),l=null,a=r;;){if(a.tag===5||a.tag===26){if(l===null){ct=l=a;try{if(b=ct.stateNode,y)L=b.style,typeof L.setProperty=="function"?L.setProperty("display","none","important"):L.display="none";else{Y=ct.stateNode;var Xt=ct.memoizedProps.style,Pt=Xt!=null&&Xt.hasOwnProperty("display")?Xt.display:null;Y.style.display=Pt==null||typeof Pt=="boolean"?"":(""+Pt).trim()}}catch(ye){Xn(ct,ct.return,ye)}}}else if(a.tag===6){if(l===null){ct=a;try{ct.stateNode.nodeValue=y?"":ct.memoizedProps}catch(ye){Xn(ct,ct.return,ye)}}}else if(a.tag===18){if(l===null){ct=a;try{var Ft=ct.stateNode;y?tv(Ft,!0):tv(ct.stateNode,!1)}catch(ye){Xn(ct,ct.return,ye)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===r)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break t;for(;a.sibling===null;){if(a.return===null||a.return===r)break t;l===a&&(l=null),a=a.return}l===a&&(l=null),a.sibling.return=a.return,a=a.sibling}c&4&&(c=r.updateQueue,c!==null&&(l=c.retryQueue,l!==null&&(c.retryQueue=null,gd(r,l))));break;case 19:$a(a,r),Ya(r),c&4&&(c=r.updateQueue,c!==null&&(r.updateQueue=null,gd(r,c)));break;case 30:break;case 21:break;default:$a(a,r),Ya(r)}}function Ya(r){var a=r.flags;if(a&2){try{for(var l,c=r.return;c!==null;){if(ny(c)){l=c;break}c=c.return}if(l==null)throw Error(i(160));switch(l.tag){case 27:var y=l.stateNode,b=Vm(r);md(r,b,y);break;case 5:var L=l.stateNode;l.flags&32&&(Yr(L,""),l.flags&=-33);var Y=Vm(r);md(r,Y,L);break;case 3:case 4:var ct=l.stateNode.containerInfo,Dt=Vm(r);Bm(r,Dt,ct);break;default:throw Error(i(161))}}catch($t){Xn(r,r.return,$t)}r.flags&=-3}a&4096&&(r.flags&=-4097)}function hy(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var a=r;hy(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),r=r.sibling}}function ml(r,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)ay(r,a.alternate,a),a=a.sibling}function Gu(r){for(r=r.child;r!==null;){var a=r;switch(a.tag){case 0:case 11:case 14:case 15:Ql(4,a,a.return),Gu(a);break;case 1:Po(a,a.return);var l=a.stateNode;typeof l.componentWillUnmount=="function"&&ty(a,a.return,l),Gu(a);break;case 27:Zh(a.stateNode);case 26:case 5:Po(a,a.return),Gu(a);break;case 22:a.memoizedState===null&&Gu(a);break;case 30:Gu(a);break;default:Gu(a)}r=r.sibling}}function gl(r,a,l){for(l=l&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var c=a.alternate,y=r,b=a,L=b.flags;switch(b.tag){case 0:case 11:case 15:gl(y,b,l),qh(4,b);break;case 1:if(gl(y,b,l),c=b,y=c.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(Dt){Xn(c,c.return,Dt)}if(c=b,y=c.updateQueue,y!==null){var Y=c.stateNode;try{var ct=y.shared.hiddenCallbacks;if(ct!==null)for(y.shared.hiddenCallbacks=null,y=0;y<ct.length;y++)Mi(ct[y],Y)}catch(Dt){Xn(c,c.return,Dt)}}l&&L&64&&Z2(b),Hh(b,b.return);break;case 27:ry(b);case 26:case 5:gl(y,b,l),l&&c===null&&L&4&&ey(b),Hh(b,b.return);break;case 12:gl(y,b,l);break;case 31:gl(y,b,l),l&&L&4&&ly(y,b);break;case 13:gl(y,b,l),l&&L&4&&uy(y,b);break;case 22:b.memoizedState===null&&gl(y,b,l),Hh(b,b.return);break;case 30:break;default:gl(y,b,l)}a=a.sibling}}function zm(r,a){var l=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),r=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(r=a.memoizedState.cachePool.pool),r!==l&&(r!=null&&r.refCount++,l!=null&&Bu(l))}function qm(r,a){r=null,a.alternate!==null&&(r=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==r&&(a.refCount++,r!=null&&Bu(r))}function ao(r,a,l,c){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)fy(r,a,l,c),a=a.sibling}function fy(r,a,l,c){var y=a.flags;switch(a.tag){case 0:case 11:case 15:ao(r,a,l,c),y&2048&&qh(9,a);break;case 1:ao(r,a,l,c);break;case 3:ao(r,a,l,c),y&2048&&(r=null,a.alternate!==null&&(r=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==r&&(a.refCount++,r!=null&&Bu(r)));break;case 12:if(y&2048){ao(r,a,l,c),r=a.stateNode;try{var b=a.memoizedProps,L=b.id,Y=b.onPostCommit;typeof Y=="function"&&Y(L,a.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(ct){Xn(a,a.return,ct)}}else ao(r,a,l,c);break;case 31:ao(r,a,l,c);break;case 13:ao(r,a,l,c);break;case 23:break;case 22:b=a.stateNode,L=a.alternate,a.memoizedState!==null?b._visibility&2?ao(r,a,l,c):Gh(r,a):b._visibility&2?ao(r,a,l,c):(b._visibility|=2,kc(r,a,l,c,(a.subtreeFlags&10256)!==0||!1)),y&2048&&zm(L,a);break;case 24:ao(r,a,l,c),y&2048&&qm(a.alternate,a);break;default:ao(r,a,l,c)}}function kc(r,a,l,c,y){for(y=y&&((a.subtreeFlags&10256)!==0||!1),a=a.child;a!==null;){var b=r,L=a,Y=l,ct=c,Dt=L.flags;switch(L.tag){case 0:case 11:case 15:kc(b,L,Y,ct,y),qh(8,L);break;case 23:break;case 22:var $t=L.stateNode;L.memoizedState!==null?$t._visibility&2?kc(b,L,Y,ct,y):Gh(b,L):($t._visibility|=2,kc(b,L,Y,ct,y)),y&&Dt&2048&&zm(L.alternate,L);break;case 24:kc(b,L,Y,ct,y),y&&Dt&2048&&qm(L.alternate,L);break;default:kc(b,L,Y,ct,y)}a=a.sibling}}function Gh(r,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var l=r,c=a,y=c.flags;switch(c.tag){case 22:Gh(l,c),y&2048&&zm(c.alternate,c);break;case 24:Gh(l,c),y&2048&&qm(c.alternate,c);break;default:Gh(l,c)}a=a.sibling}}var $h=8192;function Oc(r,a,l){if(r.subtreeFlags&$h)for(r=r.child;r!==null;)dy(r,a,l),r=r.sibling}function dy(r,a,l){switch(r.tag){case 26:Oc(r,a,l),r.flags&$h&&r.memoizedState!==null&&cS(l,io,r.memoizedState,r.memoizedProps);break;case 5:Oc(r,a,l);break;case 3:case 4:var c=io;io=Ld(r.stateNode.containerInfo),Oc(r,a,l),io=c;break;case 22:r.memoizedState===null&&(c=r.alternate,c!==null&&c.memoizedState!==null?(c=$h,$h=16777216,Oc(r,a,l),$h=c):Oc(r,a,l));break;default:Oc(r,a,l)}}function py(r){var a=r.alternate;if(a!==null&&(r=a.child,r!==null)){a.child=null;do a=r.sibling,r.sibling=null,r=a;while(r!==null)}}function Yh(r){var a=r.deletions;if((r.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var c=a[l];Fi=c,gy(c,r)}py(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)my(r),r=r.sibling}function my(r){switch(r.tag){case 0:case 11:case 15:Yh(r),r.flags&2048&&Ql(9,r,r.return);break;case 3:Yh(r);break;case 12:Yh(r);break;case 22:var a=r.stateNode;r.memoizedState!==null&&a._visibility&2&&(r.return===null||r.return.tag!==13)?(a._visibility&=-3,yd(r)):Yh(r);break;default:Yh(r)}}function yd(r){var a=r.deletions;if((r.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var c=a[l];Fi=c,gy(c,r)}py(r)}for(r=r.child;r!==null;){switch(a=r,a.tag){case 0:case 11:case 15:Ql(8,a,a.return),yd(a);break;case 22:l=a.stateNode,l._visibility&2&&(l._visibility&=-3,yd(a));break;default:yd(a)}r=r.sibling}}function gy(r,a){for(;Fi!==null;){var l=Fi;switch(l.tag){case 0:case 11:case 15:Ql(8,l,a);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var c=l.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Bu(l.memoizedState.cache)}if(c=l.child,c!==null)c.return=l,Fi=c;else t:for(l=r;Fi!==null;){c=Fi;var y=c.sibling,b=c.return;if(sy(c),c===l){Fi=null;break t}if(y!==null){y.return=b,Fi=y;break t}Fi=b}}}var Ex={getCacheForType:function(r){var a=Ai(kr),l=a.data.get(r);return l===void 0&&(l=r(),a.data.set(r,l)),l},cacheSignal:function(){return Ai(kr).controller.signal}},Tx=typeof WeakMap=="function"?WeakMap:Map,qn=0,hr=null,vn=null,wn=0,Qn=0,us=null,Xl=!1,Pc=!1,Hm=!1,yl=0,Gr=0,Jl=0,$u=0,Gm=0,cs=0,Mc=0,Wh=null,Wa=null,$m=!1,vd=0,yy=0,bd=1/0,_d=null,Zl=null,Ti=0,tu=null,jc=null,vl=0,Ym=0,Wm=null,vy=null,Kh=0,Km=null;function hs(){return(qn&2)!==0&&wn!==0?wn&-wn:ot.T!==null?eg():jr()}function by(){if(cs===0)if((wn&536870912)===0||yn){var r=Tn;Tn<<=1,(Tn&3932160)===0&&(Tn=262144),cs=r}else cs=536870912;return r=yr.current,r!==null&&(r.flags|=32),cs}function Ka(r,a,l){(r===hr&&(Qn===2||Qn===9)||r.cancelPendingCommit!==null)&&(Fc(r,0),eu(r,wn,cs,!1)),ae(r,l),((qn&2)===0||r!==hr)&&(r===hr&&((qn&2)===0&&($u|=l),Gr===4&&eu(r,wn,cs,!1)),Mo(r))}function _y(r,a,l){if((qn&6)!==0)throw Error(i(327));var c=!l&&(a&127)===0&&(a&r.expiredLanes)===0||Bt(r,a),y=c?Rx(r,a):Xm(r,a,!0),b=c;do{if(y===0){Pc&&!c&&eu(r,a,0,!1);break}else{if(l=r.current.alternate,b&&!Nx(l)){y=Xm(r,a,!1),b=!1;continue}if(y===2){if(b=a,r.errorRecoveryDisabledLanes&b)var L=0;else L=r.pendingLanes&-536870913,L=L!==0?L:L&536870912?536870912:0;if(L!==0){a=L;t:{var Y=r;y=Wh;var ct=Y.current.memoizedState.isDehydrated;if(ct&&(Fc(Y,L).flags|=256),L=Xm(Y,L,!1),L!==2){if(Hm&&!ct){Y.errorRecoveryDisabledLanes|=b,$u|=b,y=4;break t}b=Wa,Wa=y,b!==null&&(Wa===null?Wa=b:Wa.push.apply(Wa,b))}y=L}if(b=!1,y!==2)continue}}if(y===1){Fc(r,0),eu(r,a,0,!0);break}t:{switch(c=r,b=y,b){case 0:case 1:throw Error(i(345));case 4:if((a&4194048)!==a)break;case 6:eu(c,a,cs,!Xl);break t;case 2:Wa=null;break;case 3:case 5:break;default:throw Error(i(329))}if((a&62914560)===a&&(y=vd+300-Ke(),10<y)){if(eu(c,a,cs,!Xl),Je(c,0,!0)!==0)break t;vl=a,c.timeoutHandle=Xy(wy.bind(null,c,l,Wa,_d,$m,a,cs,$u,Mc,Xl,b,"Throttled",-0,0),y);break t}wy(c,l,Wa,_d,$m,a,cs,$u,Mc,Xl,b,null,-0,0)}}break}while(!0);Mo(r)}function wy(r,a,l,c,y,b,L,Y,ct,Dt,$t,Xt,Pt,Ft){if(r.timeoutHandle=-1,Xt=a.subtreeFlags,Xt&8192||(Xt&16785408)===16785408){Xt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:_a},dy(a,b,Xt);var ye=(b&62914560)===b?vd-Ke():(b&4194048)===b?yy-Ke():0;if(ye=hS(Xt,ye),ye!==null){vl=b,r.cancelPendingCommit=ye(Ry.bind(null,r,a,b,l,c,y,L,Y,ct,$t,Xt,null,Pt,Ft)),eu(r,b,L,!Dt);return}}Ry(r,a,b,l,c,y,L,Y,ct)}function Nx(r){for(var a=r;;){var l=a.tag;if((l===0||l===11||l===15)&&a.flags&16384&&(l=a.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var c=0;c<l.length;c++){var y=l[c],b=y.getSnapshot;y=y.value;try{if(!_i(b(),y))return!1}catch{return!1}}if(l=a.child,a.subtreeFlags&16384&&l!==null)l.return=a,a=l;else{if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function eu(r,a,l,c){a&=~Gm,a&=~$u,r.suspendedLanes|=a,r.pingedLanes&=~a,c&&(r.warmLanes|=a),c=r.expirationTimes;for(var y=a;0<y;){var b=31-Xe(y),L=1<<b;c[b]=-1,y&=~L}l!==0&&pi(r,l,a)}function wd(){return(qn&6)===0?(Qh(0),!1):!0}function Qm(){if(vn!==null){if(Qn===0)var r=vn.return;else r=vn,Ls=No=null,Tc(r),Jt=null,_e=0,r=vn;for(;r!==null;)J2(r.alternate,r),r=r.return;vn=null}}function Fc(r,a){var l=r.timeoutHandle;l!==-1&&(r.timeoutHandle=-1,Yx(l)),l=r.cancelPendingCommit,l!==null&&(r.cancelPendingCommit=null,l()),vl=0,Qm(),hr=r,vn=l=ja(r.current,null),wn=a,Qn=0,us=null,Xl=!1,Pc=Bt(r,a),Hm=!1,Mc=cs=Gm=$u=Jl=Gr=0,Wa=Wh=null,$m=!1,(a&8)!==0&&(a|=a&32);var c=r.entangledLanes;if(c!==0)for(r=r.entanglements,c&=a;0<c;){var y=31-Xe(c),b=1<<y;a|=r[y],c&=~b}return yl=a,Ou(),l}function xy(r,a){je=null,ot.H=Bh,a===pt||a===rt?(a=Yt(),Qn=3):a===Ct?(a=Yt(),Qn=4):Qn=a===Cm?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,us=a,vn===null&&(Gr=1,cd(r,Fa(a,r.current)))}function Sy(){var r=yr.current;return r===null?!0:(wn&4194048)===wn?Ln===null:(wn&62914560)===wn||(wn&536870912)!==0?r===Ln:!1}function Ay(){var r=ot.H;return ot.H=Bh,r===null?Bh:r}function Ey(){var r=ot.A;return ot.A=Ex,r}function xd(){Gr=4,Xl||(wn&4194048)!==wn&&yr.current!==null||(Pc=!0),(Jl&134217727)===0&&($u&134217727)===0||hr===null||eu(hr,wn,cs,!1)}function Xm(r,a,l){var c=qn;qn|=2;var y=Ay(),b=Ey();(hr!==r||wn!==a)&&(_d=null,Fc(r,a)),a=!1;var L=Gr;t:do try{if(Qn!==0&&vn!==null){var Y=vn,ct=us;switch(Qn){case 8:Qm(),L=6;break t;case 3:case 2:case 9:case 6:yr.current===null&&(a=!0);var Dt=Qn;if(Qn=0,us=null,Vc(r,Y,ct,Dt),l&&Pc){L=0;break t}break;default:Dt=Qn,Qn=0,us=null,Vc(r,Y,ct,Dt)}}Cx(),L=Gr;break}catch($t){xy(r,$t)}while(!0);return a&&r.shellSuspendCounter++,Ls=No=null,qn=c,ot.H=y,ot.A=b,vn===null&&(hr=null,wn=0,Ou()),L}function Cx(){for(;vn!==null;)Ty(vn)}function Rx(r,a){var l=qn;qn|=2;var c=Ay(),y=Ey();hr!==r||wn!==a?(_d=null,bd=Ke()+500,Fc(r,a)):Pc=Bt(r,a);t:do try{if(Qn!==0&&vn!==null){a=vn;var b=us;e:switch(Qn){case 1:Qn=0,us=null,Vc(r,a,b,1);break;case 2:case 9:if(At(b)){Qn=0,us=null,Ny(a);break}a=function(){Qn!==2&&Qn!==9||hr!==r||(Qn=7),Mo(r)},b.then(a,a);break t;case 3:Qn=7;break t;case 4:Qn=5;break t;case 7:At(b)?(Qn=0,us=null,Ny(a)):(Qn=0,us=null,Vc(r,a,b,7));break;case 5:var L=null;switch(vn.tag){case 26:L=vn.memoizedState;case 5:case 27:var Y=vn;if(L?fv(L):Y.stateNode.complete){Qn=0,us=null;var ct=Y.sibling;if(ct!==null)vn=ct;else{var Dt=Y.return;Dt!==null?(vn=Dt,Sd(Dt)):vn=null}break e}}Qn=0,us=null,Vc(r,a,b,5);break;case 6:Qn=0,us=null,Vc(r,a,b,6);break;case 8:Qm(),Gr=6;break t;default:throw Error(i(462))}}Lx();break}catch($t){xy(r,$t)}while(!0);return Ls=No=null,ot.H=c,ot.A=y,qn=l,vn!==null?0:(hr=null,wn=0,Ou(),Gr)}function Lx(){for(;vn!==null&&!De();)Ty(vn)}function Ty(r){var a=Q2(r.alternate,r,yl);r.memoizedProps=r.pendingProps,a===null?Sd(r):vn=a}function Ny(r){var a=r,l=a.alternate;switch(a.tag){case 15:case 0:a=H2(l,a,a.pendingProps,a.type,void 0,wn);break;case 11:a=H2(l,a,a.pendingProps,a.type.render,a.ref,wn);break;case 5:Tc(a);default:J2(l,a),a=vn=ju(a,yl),a=Q2(l,a,yl)}r.memoizedProps=r.pendingProps,a===null?Sd(r):vn=a}function Vc(r,a,l,c){Ls=No=null,Tc(a),Jt=null,_e=0;var y=a.return;try{if(vx(r,y,a,l,wn)){Gr=1,cd(r,Fa(l,r.current)),vn=null;return}}catch(b){if(y!==null)throw vn=y,b;Gr=1,cd(r,Fa(l,r.current)),vn=null;return}a.flags&32768?(yn||c===1?r=!0:Pc||(wn&536870912)!==0?r=!1:(Xl=r=!0,(c===2||c===9||c===3||c===6)&&(c=yr.current,c!==null&&c.tag===13&&(c.flags|=16384))),Cy(a,r)):Sd(a)}function Sd(r){var a=r;do{if((a.flags&32768)!==0){Cy(a,Xl);return}r=a.return;var l=wx(a.alternate,a,yl);if(l!==null){vn=l;return}if(a=a.sibling,a!==null){vn=a;return}vn=a=r}while(a!==null);Gr===0&&(Gr=5)}function Cy(r,a){do{var l=xx(r.alternate,r);if(l!==null){l.flags&=32767,vn=l;return}if(l=r.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!a&&(r=r.sibling,r!==null)){vn=r;return}vn=r=l}while(r!==null);Gr=6,vn=null}function Ry(r,a,l,c,y,b,L,Y,ct){r.cancelPendingCommit=null;do Ad();while(Ti!==0);if((qn&6)!==0)throw Error(i(327));if(a!==null){if(a===r.current)throw Error(i(177));if(b=a.lanes|a.childLanes,b|=fc,wr(r,l,b,L,Y,ct),r===hr&&(vn=hr=null,wn=0),jc=a,tu=r,vl=l,Ym=b,Wm=y,vy=c,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,Ox(ze,function(){return Oy(),null})):(r.callbackNode=null,r.callbackPriority=0),c=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||c){c=ot.T,ot.T=null,y=dt.p,dt.p=2,L=qn,qn|=4;try{Sx(r,a,l)}finally{qn=L,dt.p=y,ot.T=c}}Ti=1,Ly(),Iy(),Dy()}}function Ly(){if(Ti===1){Ti=0;var r=tu,a=jc,l=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||l){l=ot.T,ot.T=null;var c=dt.p;dt.p=2;var y=qn;qn|=4;try{cy(a,r);var b=ug,L=Qs(r.containerInfo),Y=b.focusedElem,ct=b.selectionRange;if(L!==Y&&Y&&Y.ownerDocument&&Ks(Y.ownerDocument.documentElement,Y)){if(ct!==null&&Cs(Y)){var Dt=ct.start,$t=ct.end;if($t===void 0&&($t=Dt),"selectionStart"in Y)Y.selectionStart=Dt,Y.selectionEnd=Math.min($t,Y.value.length);else{var Xt=Y.ownerDocument||document,Pt=Xt&&Xt.defaultView||window;if(Pt.getSelection){var Ft=Pt.getSelection(),ye=Y.textContent.length,$e=Math.min(ct.start,ye),or=ct.end===void 0?$e:Math.min(ct.end,ye);!Ft.extend&&$e>or&&(L=or,or=$e,$e=L);var wt=Vl(Y,$e),gt=Vl(Y,or);if(wt&&gt&&(Ft.rangeCount!==1||Ft.anchorNode!==wt.node||Ft.anchorOffset!==wt.offset||Ft.focusNode!==gt.node||Ft.focusOffset!==gt.offset)){var Lt=Xt.createRange();Lt.setStart(wt.node,wt.offset),Ft.removeAllRanges(),$e>or?(Ft.addRange(Lt),Ft.extend(gt.node,gt.offset)):(Lt.setEnd(gt.node,gt.offset),Ft.addRange(Lt))}}}}for(Xt=[],Ft=Y;Ft=Ft.parentNode;)Ft.nodeType===1&&Xt.push({element:Ft,left:Ft.scrollLeft,top:Ft.scrollTop});for(typeof Y.focus=="function"&&Y.focus(),Y=0;Y<Xt.length;Y++){var Kt=Xt[Y];Kt.element.scrollLeft=Kt.left,Kt.element.scrollTop=Kt.top}}Md=!!lg,ug=lg=null}finally{qn=y,dt.p=c,ot.T=l}}r.current=a,Ti=2}}function Iy(){if(Ti===2){Ti=0;var r=tu,a=jc,l=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||l){l=ot.T,ot.T=null;var c=dt.p;dt.p=2;var y=qn;qn|=4;try{ay(r,a.alternate,a)}finally{qn=y,dt.p=c,ot.T=l}}Ti=3}}function Dy(){if(Ti===4||Ti===3){Ti=0,Ae();var r=tu,a=jc,l=vl,c=vy;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?Ti=5:(Ti=0,jc=tu=null,ky(r,r.pendingLanes));var y=r.pendingLanes;if(y===0&&(Zl=null),tr(l),a=a.stateNode,Re&&typeof Re.onCommitFiberRoot=="function")try{Re.onCommitFiberRoot(nn,a,void 0,(a.current.flags&128)===128)}catch{}if(c!==null){a=ot.T,y=dt.p,dt.p=2,ot.T=null;try{for(var b=r.onRecoverableError,L=0;L<c.length;L++){var Y=c[L];b(Y.value,{componentStack:Y.stack})}}finally{ot.T=a,dt.p=y}}(vl&3)!==0&&Ad(),Mo(r),y=r.pendingLanes,(l&261930)!==0&&(y&42)!==0?r===Km?Kh++:(Kh=0,Km=r):Kh=0,Qh(0)}}function ky(r,a){(r.pooledCacheLanes&=a)===0&&(a=r.pooledCache,a!=null&&(r.pooledCache=null,Bu(a)))}function Ad(){return Ly(),Iy(),Dy(),Oy()}function Oy(){if(Ti!==5)return!1;var r=tu,a=Ym;Ym=0;var l=tr(vl),c=ot.T,y=dt.p;try{dt.p=32>l?32:l,ot.T=null,l=Wm,Wm=null;var b=tu,L=vl;if(Ti=0,jc=tu=null,vl=0,(qn&6)!==0)throw Error(i(331));var Y=qn;if(qn|=4,my(b.current),fy(b,b.current,L,l),qn=Y,Qh(0,!1),Re&&typeof Re.onPostCommitFiberRoot=="function")try{Re.onPostCommitFiberRoot(nn,b)}catch{}return!0}finally{dt.p=y,ot.T=c,ky(r,a)}}function Py(r,a,l){a=Fa(l,a),a=Nm(r.stateNode,a,2),r=cn(r,a,2),r!==null&&(ae(r,2),Mo(r))}function Xn(r,a,l){if(r.tag===3)Py(r,r,l);else for(;a!==null;){if(a.tag===3){Py(a,r,l);break}else if(a.tag===1){var c=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Zl===null||!Zl.has(c))){r=Fa(l,r),l=M2(2),c=cn(a,l,2),c!==null&&(j2(l,c,a,r),ae(c,2),Mo(c));break}}a=a.return}}function Jm(r,a,l){var c=r.pingCache;if(c===null){c=r.pingCache=new Tx;var y=new Set;c.set(a,y)}else y=c.get(a),y===void 0&&(y=new Set,c.set(a,y));y.has(l)||(Hm=!0,y.add(l),r=Ix.bind(null,r,a,l),a.then(r,r))}function Ix(r,a,l){var c=r.pingCache;c!==null&&c.delete(a),r.pingedLanes|=r.suspendedLanes&l,r.warmLanes&=~l,hr===r&&(wn&l)===l&&(Gr===4||Gr===3&&(wn&62914560)===wn&&300>Ke()-vd?(qn&2)===0&&Fc(r,0):Gm|=l,Mc===wn&&(Mc=0)),Mo(r)}function My(r,a){a===0&&(a=Le()),r=Js(r,a),r!==null&&(ae(r,a),Mo(r))}function Dx(r){var a=r.memoizedState,l=0;a!==null&&(l=a.retryLane),My(r,l)}function kx(r,a){var l=0;switch(r.tag){case 31:case 13:var c=r.stateNode,y=r.memoizedState;y!==null&&(l=y.retryLane);break;case 19:c=r.stateNode;break;case 22:c=r.stateNode._retryCache;break;default:throw Error(i(314))}c!==null&&c.delete(a),My(r,l)}function Ox(r,a){return le(r,a)}var Ed=null,Bc=null,Zm=!1,Td=!1,tg=!1,nu=0;function Mo(r){r!==Bc&&r.next===null&&(Bc===null?Ed=Bc=r:Bc=Bc.next=r),Td=!0,Zm||(Zm=!0,Mx())}function Qh(r,a){if(!tg&&Td){tg=!0;do for(var l=!1,c=Ed;c!==null;){if(r!==0){var y=c.pendingLanes;if(y===0)var b=0;else{var L=c.suspendedLanes,Y=c.pingedLanes;b=(1<<31-Xe(42|r)+1)-1,b&=y&~(L&~Y),b=b&201326741?b&201326741|1:b?b|2:0}b!==0&&(l=!0,By(c,b))}else b=wn,b=Je(c,c===hr?b:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(b&3)===0||Bt(c,b)||(l=!0,By(c,b));c=c.next}while(l);tg=!1}}function Px(){jy()}function jy(){Td=Zm=!1;var r=0;nu!==0&&$x()&&(r=nu);for(var a=Ke(),l=null,c=Ed;c!==null;){var y=c.next,b=Fy(c,a);b===0?(c.next=null,l===null?Ed=y:l.next=y,y===null&&(Bc=l)):(l=c,(r!==0||(b&3)!==0)&&(Td=!0)),c=y}Ti!==0&&Ti!==5||Qh(r),nu!==0&&(nu=0)}function Fy(r,a){for(var l=r.suspendedLanes,c=r.pingedLanes,y=r.expirationTimes,b=r.pendingLanes&-62914561;0<b;){var L=31-Xe(b),Y=1<<L,ct=y[L];ct===-1?((Y&l)===0||(Y&c)!==0)&&(y[L]=ie(Y,a)):ct<=a&&(r.expiredLanes|=Y),b&=~Y}if(a=hr,l=wn,l=Je(r,r===a?l:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),c=r.callbackNode,l===0||r===a&&(Qn===2||Qn===9)||r.cancelPendingCommit!==null)return c!==null&&c!==null&&se(c),r.callbackNode=null,r.callbackPriority=0;if((l&3)===0||Bt(r,l)){if(a=l&-l,a===r.callbackPriority)return a;switch(c!==null&&se(c),tr(l)){case 2:case 8:l=un;break;case 32:l=ze;break;case 268435456:l=Ye;break;default:l=ze}return c=Vy.bind(null,r),l=le(l,c),r.callbackPriority=a,r.callbackNode=l,a}return c!==null&&c!==null&&se(c),r.callbackPriority=2,r.callbackNode=null,2}function Vy(r,a){if(Ti!==0&&Ti!==5)return r.callbackNode=null,r.callbackPriority=0,null;var l=r.callbackNode;if(Ad()&&r.callbackNode!==l)return null;var c=wn;return c=Je(r,r===hr?c:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),c===0?null:(_y(r,c,a),Fy(r,Ke()),r.callbackNode!=null&&r.callbackNode===l?Vy.bind(null,r):null)}function By(r,a){if(Ad())return null;_y(r,a,!0)}function Mx(){Wx(function(){(qn&6)!==0?le(He,Px):jy()})}function eg(){if(nu===0){var r=p;r===0&&(r=Oe,Oe<<=1,(Oe&261888)===0&&(Oe=256)),nu=r}return nu}function Uy(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:Ii(""+r)}function zy(r,a){var l=a.ownerDocument.createElement("input");return l.name=a.name,l.value=a.value,r.id&&l.setAttribute("form",r.id),a.parentNode.insertBefore(l,a),r=new FormData(r),l.parentNode.removeChild(l),r}function jx(r,a,l,c,y){if(a==="submit"&&l&&l.stateNode===y){var b=Uy((y[Yn]||null).action),L=c.submitter;L&&(a=(a=L[Yn]||null)?Uy(a.formAction):L.getAttribute("formAction"),a!==null&&(b=a,L=null));var Y=new ai("action","action",null,c,y);r.push({event:Y,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(nu!==0){var ct=L?zy(y,L):new FormData(y);wm(l,{pending:!0,data:ct,method:y.method,action:b},null,ct)}}else typeof b=="function"&&(Y.preventDefault(),ct=L?zy(y,L):new FormData(y),wm(l,{pending:!0,data:ct,method:y.method,action:b},b,ct))},currentTarget:y}]})}}for(var ng=0;ng<rl.length;ng++){var rg=rl[ng],Fx=rg.toLowerCase(),Vx=rg[0].toUpperCase()+rg.slice(1);Ma(Fx,"on"+Vx)}Ma(nl,"onAnimationEnd"),Ma(Du,"onAnimationIteration"),Ma(Eh,"onAnimationStart"),Ma("dblclick","onDoubleClick"),Ma("focusin","onFocus"),Ma("focusout","onBlur"),Ma(Xf,"onTransitionRun"),Ma(Jf,"onTransitionStart"),Ma(Zf,"onTransitionCancel"),Ma(Th,"onTransitionEnd"),ba("onMouseEnter",["mouseout","mouseover"]),ba("onMouseLeave",["mouseout","mouseover"]),ba("onPointerEnter",["pointerout","pointerover"]),ba("onPointerLeave",["pointerout","pointerover"]),aa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),aa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),aa("onBeforeInput",["compositionend","keypress","textInput","paste"]),aa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),aa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),aa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Bx=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Xh));function qy(r,a){a=(a&4)!==0;for(var l=0;l<r.length;l++){var c=r[l],y=c.event;c=c.listeners;t:{var b=void 0;if(a)for(var L=c.length-1;0<=L;L--){var Y=c[L],ct=Y.instance,Dt=Y.currentTarget;if(Y=Y.listener,ct!==b&&y.isPropagationStopped())break t;b=Y,y.currentTarget=Dt;try{b(y)}catch($t){ku($t)}y.currentTarget=null,b=ct}else for(L=0;L<c.length;L++){if(Y=c[L],ct=Y.instance,Dt=Y.currentTarget,Y=Y.listener,ct!==b&&y.isPropagationStopped())break t;b=Y,y.currentTarget=Dt;try{b(y)}catch($t){ku($t)}y.currentTarget=null,b=ct}}}}function bn(r,a){var l=a[Ci];l===void 0&&(l=a[Ci]=new Set);var c=r+"__bubble";l.has(c)||(Hy(a,r,2,!1),l.add(c))}function ig(r,a,l){var c=0;a&&(c|=4),Hy(l,r,c,a)}var Nd="_reactListening"+Math.random().toString(36).slice(2);function ag(r){if(!r[Nd]){r[Nd]=!0,mo.forEach(function(l){l!=="selectionchange"&&(Bx.has(l)||ig(l,!1,r),ig(l,!0,r))});var a=r.nodeType===9?r:r.ownerDocument;a===null||a[Nd]||(a[Nd]=!0,ig("selectionchange",!1,a))}}function Hy(r,a,l,c){switch(bv(a)){case 2:var y=pS;break;case 8:y=mS;break;default:y=_g}l=y.bind(null,a,l,r),y=void 0,!zs||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(y=!0),c?y!==void 0?r.addEventListener(a,l,{capture:!0,passive:y}):r.addEventListener(a,l,!0):y!==void 0?r.addEventListener(a,l,{passive:y}):r.addEventListener(a,l,!1)}function sg(r,a,l,c,y){var b=c;if((a&1)===0&&(a&2)===0&&c!==null)t:for(;;){if(c===null)return;var L=c.tag;if(L===3||L===4){var Y=c.stateNode.containerInfo;if(Y===y)break;if(L===4)for(L=c.return;L!==null;){var ct=L.tag;if((ct===3||ct===4)&&L.stateNode.containerInfo===y)return;L=L.return}for(;Y!==null;){if(L=Ui(Y),L===null)return;if(ct=L.tag,ct===5||ct===6||ct===26||ct===27){c=b=L;continue t}Y=Y.parentNode}}c=c.return}_s(function(){var Dt=b,$t=Di(l),Xt=[];t:{var Pt=Nh.get(r);if(Pt!==void 0){var Ft=ai,ye=r;switch(r){case"keypress":if(Gi(l)===0)break t;case"keydown":case"keyup":Ft=mn;break;case"focusin":ye="focus",Ft=xa;break;case"focusout":ye="blur",Ft=xa;break;case"beforeblur":case"afterblur":Ft=xa;break;case"click":if(l.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ft=wo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ft=Oa;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ft=E;break;case nl:case Du:case Eh:Ft=x;break;case Th:Ft=J;break;case"scroll":case"scrollend":Ft=ws;break;case"wheel":Ft=kt;break;case"copy":case"cut":case"paste":Ft=it;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ft=Gn;break;case"toggle":case"beforetoggle":Ft=Qe}var $e=(a&4)!==0,or=!$e&&(r==="scroll"||r==="scrollend"),wt=$e?Pt!==null?Pt+"Capture":null:Pt;$e=[];for(var gt=Dt,Lt;gt!==null;){var Kt=gt;if(Lt=Kt.stateNode,Kt=Kt.tag,Kt!==5&&Kt!==26&&Kt!==27||Lt===null||wt===null||(Kt=Wr(gt,wt),Kt!=null&&$e.push(Jh(gt,Kt,Lt))),or)break;gt=gt.return}0<$e.length&&(Pt=new Ft(Pt,ye,null,l,$t),Xt.push({event:Pt,listeners:$e}))}}if((a&7)===0){t:{if(Pt=r==="mouseover"||r==="pointerover",Ft=r==="mouseout"||r==="pointerout",Pt&&l!==rs&&(ye=l.relatedTarget||l.fromElement)&&(Ui(ye)||ye[Fr]))break t;if((Ft||Pt)&&(Pt=$t.window===$t?$t:(Pt=$t.ownerDocument)?Pt.defaultView||Pt.parentWindow:window,Ft?(ye=l.relatedTarget||l.toElement,Ft=Dt,ye=ye?Ui(ye):null,ye!==null&&(or=o(ye),$e=ye.tag,ye!==or||$e!==5&&$e!==27&&$e!==6)&&(ye=null)):(Ft=null,ye=Dt),Ft!==ye)){if($e=wo,Kt="onMouseLeave",wt="onMouseEnter",gt="mouse",(r==="pointerout"||r==="pointerover")&&($e=Gn,Kt="onPointerLeave",wt="onPointerEnter",gt="pointer"),or=Ft==null?Pt:zi(Ft),Lt=ye==null?Pt:zi(ye),Pt=new $e(Kt,gt+"leave",Ft,l,$t),Pt.target=or,Pt.relatedTarget=Lt,Kt=null,Ui($t)===Dt&&($e=new $e(wt,gt+"enter",ye,l,$t),$e.target=Lt,$e.relatedTarget=or,Kt=$e),or=Kt,Ft&&ye)e:{for($e=Ux,wt=Ft,gt=ye,Lt=0,Kt=wt;Kt;Kt=$e(Kt))Lt++;Kt=0;for(var Be=gt;Be;Be=$e(Be))Kt++;for(;0<Lt-Kt;)wt=$e(wt),Lt--;for(;0<Kt-Lt;)gt=$e(gt),Kt--;for(;Lt--;){if(wt===gt||gt!==null&&wt===gt.alternate){$e=wt;break e}wt=$e(wt),gt=$e(gt)}$e=null}else $e=null;Ft!==null&&Gy(Xt,Pt,Ft,$e,!1),ye!==null&&or!==null&&Gy(Xt,or,ye,$e,!0)}}t:{if(Pt=Dt?zi(Dt):window,Ft=Pt.nodeName&&Pt.nodeName.toLowerCase(),Ft==="select"||Ft==="input"&&Pt.type==="file")var Vn=So;else if(Lu(Pt))if(la)Vn=Ts;else{Vn=Ir;var Ee=jl}else Ft=Pt.nodeName,!Ft||Ft.toLowerCase()!=="input"||Pt.type!=="checkbox"&&Pt.type!=="radio"?Dt&&vo(Dt.elementType)&&(Vn=So):Vn=hc;if(Vn&&(Vn=Vn(r,Dt))){Aa(Xt,Vn,l,$t);break t}Ee&&Ee(r,Pt,Dt),r==="focusout"&&Dt&&Pt.type==="number"&&Dt.memoizedProps.value!=null&&Ko(Pt,"number",Pt.value)}switch(Ee=Dt?zi(Dt):window,r){case"focusin":(Lu(Ee)||Ee.contentEditable==="true")&&(Ea=Ee,Xs=Dt,ki=null);break;case"focusout":ki=Xs=Ea=null;break;case"mousedown":Pa=!0;break;case"contextmenu":case"mouseup":case"dragend":Pa=!1,On(Xt,l,$t);break;case"selectionchange":if(el)break;case"keydown":case"keyup":On(Xt,l,$t)}var hn;if(fn)t:{switch(r){case"compositionstart":var xn="onCompositionStart";break t;case"compositionend":xn="onCompositionEnd";break t;case"compositionupdate":xn="onCompositionUpdate";break t}xn=void 0}else Ss?Sa(r,l)&&(xn="onCompositionEnd"):r==="keydown"&&l.keyCode===229&&(xn="onCompositionStart");xn&&(vi&&l.locale!=="ko"&&(Ss||xn!=="onCompositionStart"?xn==="onCompositionEnd"&&Ss&&(hn=Zo()):(Hi=$t,qs="value"in Hi?Hi.value:Hi.textContent,Ss=!0)),Ee=Cd(Dt,xn),0<Ee.length&&(xn=new _t(xn,r,null,l,$t),Xt.push({event:xn,listeners:Ee}),hn?xn.data=hn:(hn=xs(l),hn!==null&&(xn.data=hn)))),(hn=si?Wi(r,l):Gs(r,l))&&(xn=Cd(Dt,"onBeforeInput"),0<xn.length&&(Ee=new _t("onBeforeInput","beforeinput",null,l,$t),Xt.push({event:Ee,listeners:xn}),Ee.data=hn)),jx(Xt,r,Dt,l,$t)}qy(Xt,a)})}function Jh(r,a,l){return{instance:r,listener:a,currentTarget:l}}function Cd(r,a){for(var l=a+"Capture",c=[];r!==null;){var y=r,b=y.stateNode;if(y=y.tag,y!==5&&y!==26&&y!==27||b===null||(y=Wr(r,l),y!=null&&c.unshift(Jh(r,y,b)),y=Wr(r,a),y!=null&&c.push(Jh(r,y,b))),r.tag===3)return c;r=r.return}return[]}function Ux(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function Gy(r,a,l,c,y){for(var b=a._reactName,L=[];l!==null&&l!==c;){var Y=l,ct=Y.alternate,Dt=Y.stateNode;if(Y=Y.tag,ct!==null&&ct===c)break;Y!==5&&Y!==26&&Y!==27||Dt===null||(ct=Dt,y?(Dt=Wr(l,b),Dt!=null&&L.unshift(Jh(l,Dt,ct))):y||(Dt=Wr(l,b),Dt!=null&&L.push(Jh(l,Dt,ct)))),l=l.return}L.length!==0&&r.push({event:a,listeners:L})}var zx=/\r\n?/g,qx=/\u0000|\uFFFD/g;function $y(r){return(typeof r=="string"?r:""+r).replace(zx,`
`).replace(qx,"")}function Yy(r,a){return a=$y(a),$y(r)===a}function sr(r,a,l,c,y,b){switch(l){case"children":typeof c=="string"?a==="body"||a==="textarea"&&c===""||Yr(r,c):(typeof c=="number"||typeof c=="bigint")&&a!=="body"&&Yr(r,""+c);break;case"className":ii(r,"class",c);break;case"tabIndex":ii(r,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":ii(r,l,c);break;case"style":Jo(r,c,b);break;case"data":if(a!=="object"){ii(r,"data",c);break}case"src":case"href":if(c===""&&(a!=="a"||l!=="href")){r.removeAttribute(l);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){r.removeAttribute(l);break}c=Ii(""+c),r.setAttribute(l,c);break;case"action":case"formAction":if(typeof c=="function"){r.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof b=="function"&&(l==="formAction"?(a!=="input"&&sr(r,a,"name",y.name,y,null),sr(r,a,"formEncType",y.formEncType,y,null),sr(r,a,"formMethod",y.formMethod,y,null),sr(r,a,"formTarget",y.formTarget,y,null)):(sr(r,a,"encType",y.encType,y,null),sr(r,a,"method",y.method,y,null),sr(r,a,"target",y.target,y,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){r.removeAttribute(l);break}c=Ii(""+c),r.setAttribute(l,c);break;case"onClick":c!=null&&(r.onclick=_a);break;case"onScroll":c!=null&&bn("scroll",r);break;case"onScrollEnd":c!=null&&bn("scrollend",r);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(l=c.__html,l!=null){if(y.children!=null)throw Error(i(60));r.innerHTML=l}}break;case"multiple":r.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":r.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){r.removeAttribute("xlink:href");break}l=Ii(""+c),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(l,""+c):r.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(l,""):r.removeAttribute(l);break;case"capture":case"download":c===!0?r.setAttribute(l,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(l,c):r.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?r.setAttribute(l,c):r.removeAttribute(l);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?r.removeAttribute(l):r.setAttribute(l,c);break;case"popover":bn("beforetoggle",r),bn("toggle",r),qi(r,"popover",c);break;case"xlinkActuate":xr(r,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":xr(r,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":xr(r,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":xr(r,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":xr(r,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":xr(r,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":xr(r,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":xr(r,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":xr(r,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":qi(r,"is",c);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=bo.get(l)||l,qi(r,l,c))}}function og(r,a,l,c,y,b){switch(l){case"style":Jo(r,c,b);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(l=c.__html,l!=null){if(y.children!=null)throw Error(i(60));r.innerHTML=l}}break;case"children":typeof c=="string"?Yr(r,c):(typeof c=="number"||typeof c=="bigint")&&Yr(r,""+c);break;case"onScroll":c!=null&&bn("scroll",r);break;case"onScrollEnd":c!=null&&bn("scrollend",r);break;case"onClick":c!=null&&(r.onclick=_a);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Li.hasOwnProperty(l))t:{if(l[0]==="o"&&l[1]==="n"&&(y=l.endsWith("Capture"),a=l.slice(2,y?l.length-7:void 0),b=r[Yn]||null,b=b!=null?b[l]:null,typeof b=="function"&&r.removeEventListener(a,b,y),typeof c=="function")){typeof b!="function"&&b!==null&&(l in r?r[l]=null:r.hasAttribute(l)&&r.removeAttribute(l)),r.addEventListener(a,c,y);break t}l in r?r[l]=c:c===!0?r.setAttribute(l,""):qi(r,l,c)}}}function Zi(r,a,l){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":bn("error",r),bn("load",r);var c=!1,y=!1,b;for(b in l)if(l.hasOwnProperty(b)){var L=l[b];if(L!=null)switch(b){case"src":c=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:sr(r,a,b,L,l,null)}}y&&sr(r,a,"srcSet",l.srcSet,l,null),c&&sr(r,a,"src",l.src,l,null);return;case"input":bn("invalid",r);var Y=b=L=y=null,ct=null,Dt=null;for(c in l)if(l.hasOwnProperty(c)){var $t=l[c];if($t!=null)switch(c){case"name":y=$t;break;case"type":L=$t;break;case"checked":ct=$t;break;case"defaultChecked":Dt=$t;break;case"value":b=$t;break;case"defaultValue":Y=$t;break;case"children":case"dangerouslySetInnerHTML":if($t!=null)throw Error(i(137,a));break;default:sr(r,a,c,$t,l,null)}}Ol(r,b,Y,ct,Dt,L,y,!1);return;case"select":bn("invalid",r),c=L=b=null;for(y in l)if(l.hasOwnProperty(y)&&(Y=l[y],Y!=null))switch(y){case"value":b=Y;break;case"defaultValue":L=Y;break;case"multiple":c=Y;default:sr(r,a,y,Y,l,null)}a=b,l=L,r.multiple=!!c,a!=null?yi(r,!!c,a,!1):l!=null&&yi(r,!!c,l,!0);return;case"textarea":bn("invalid",r),b=y=c=null;for(L in l)if(l.hasOwnProperty(L)&&(Y=l[L],Y!=null))switch(L){case"value":c=Y;break;case"defaultValue":y=Y;break;case"children":b=Y;break;case"dangerouslySetInnerHTML":if(Y!=null)throw Error(i(91));break;default:sr(r,a,L,Y,l,null)}es(r,c,y,b);return;case"option":for(ct in l)if(l.hasOwnProperty(ct)&&(c=l[ct],c!=null))switch(ct){case"selected":r.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:sr(r,a,ct,c,l,null)}return;case"dialog":bn("beforetoggle",r),bn("toggle",r),bn("cancel",r),bn("close",r);break;case"iframe":case"object":bn("load",r);break;case"video":case"audio":for(c=0;c<Xh.length;c++)bn(Xh[c],r);break;case"image":bn("error",r),bn("load",r);break;case"details":bn("toggle",r);break;case"embed":case"source":case"link":bn("error",r),bn("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Dt in l)if(l.hasOwnProperty(Dt)&&(c=l[Dt],c!=null))switch(Dt){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:sr(r,a,Dt,c,l,null)}return;default:if(vo(a)){for($t in l)l.hasOwnProperty($t)&&(c=l[$t],c!==void 0&&og(r,a,$t,c,l,void 0));return}}for(Y in l)l.hasOwnProperty(Y)&&(c=l[Y],c!=null&&sr(r,a,Y,c,l,null))}function Hx(r,a,l,c){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,b=null,L=null,Y=null,ct=null,Dt=null,$t=null;for(Ft in l){var Xt=l[Ft];if(l.hasOwnProperty(Ft)&&Xt!=null)switch(Ft){case"checked":break;case"value":break;case"defaultValue":ct=Xt;default:c.hasOwnProperty(Ft)||sr(r,a,Ft,null,c,Xt)}}for(var Pt in c){var Ft=c[Pt];if(Xt=l[Pt],c.hasOwnProperty(Pt)&&(Ft!=null||Xt!=null))switch(Pt){case"type":b=Ft;break;case"name":y=Ft;break;case"checked":Dt=Ft;break;case"defaultChecked":$t=Ft;break;case"value":L=Ft;break;case"defaultValue":Y=Ft;break;case"children":case"dangerouslySetInnerHTML":if(Ft!=null)throw Error(i(137,a));break;default:Ft!==Xt&&sr(r,a,Pt,Ft,c,Xt)}}Bs(r,L,Y,ct,Dt,$t,b,y);return;case"select":Ft=L=Y=Pt=null;for(b in l)if(ct=l[b],l.hasOwnProperty(b)&&ct!=null)switch(b){case"value":break;case"multiple":Ft=ct;default:c.hasOwnProperty(b)||sr(r,a,b,null,c,ct)}for(y in c)if(b=c[y],ct=l[y],c.hasOwnProperty(y)&&(b!=null||ct!=null))switch(y){case"value":Pt=b;break;case"defaultValue":Y=b;break;case"multiple":L=b;default:b!==ct&&sr(r,a,y,b,c,ct)}a=Y,l=L,c=Ft,Pt!=null?yi(r,!!l,Pt,!1):!!c!=!!l&&(a!=null?yi(r,!!l,a,!0):yi(r,!!l,l?[]:"",!1));return;case"textarea":Ft=Pt=null;for(Y in l)if(y=l[Y],l.hasOwnProperty(Y)&&y!=null&&!c.hasOwnProperty(Y))switch(Y){case"value":break;case"children":break;default:sr(r,a,Y,null,c,y)}for(L in c)if(y=c[L],b=l[L],c.hasOwnProperty(L)&&(y!=null||b!=null))switch(L){case"value":Pt=y;break;case"defaultValue":Ft=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(i(91));break;default:y!==b&&sr(r,a,L,y,c,b)}Qo(r,Pt,Ft);return;case"option":for(var ye in l)if(Pt=l[ye],l.hasOwnProperty(ye)&&Pt!=null&&!c.hasOwnProperty(ye))switch(ye){case"selected":r.selected=!1;break;default:sr(r,a,ye,null,c,Pt)}for(ct in c)if(Pt=c[ct],Ft=l[ct],c.hasOwnProperty(ct)&&Pt!==Ft&&(Pt!=null||Ft!=null))switch(ct){case"selected":r.selected=Pt&&typeof Pt!="function"&&typeof Pt!="symbol";break;default:sr(r,a,ct,Pt,c,Ft)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var $e in l)Pt=l[$e],l.hasOwnProperty($e)&&Pt!=null&&!c.hasOwnProperty($e)&&sr(r,a,$e,null,c,Pt);for(Dt in c)if(Pt=c[Dt],Ft=l[Dt],c.hasOwnProperty(Dt)&&Pt!==Ft&&(Pt!=null||Ft!=null))switch(Dt){case"children":case"dangerouslySetInnerHTML":if(Pt!=null)throw Error(i(137,a));break;default:sr(r,a,Dt,Pt,c,Ft)}return;default:if(vo(a)){for(var or in l)Pt=l[or],l.hasOwnProperty(or)&&Pt!==void 0&&!c.hasOwnProperty(or)&&og(r,a,or,void 0,c,Pt);for($t in c)Pt=c[$t],Ft=l[$t],!c.hasOwnProperty($t)||Pt===Ft||Pt===void 0&&Ft===void 0||og(r,a,$t,Pt,c,Ft);return}}for(var wt in l)Pt=l[wt],l.hasOwnProperty(wt)&&Pt!=null&&!c.hasOwnProperty(wt)&&sr(r,a,wt,null,c,Pt);for(Xt in c)Pt=c[Xt],Ft=l[Xt],!c.hasOwnProperty(Xt)||Pt===Ft||Pt==null&&Ft==null||sr(r,a,Xt,Pt,c,Ft)}function Wy(r){switch(r){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Gx(){if(typeof performance.getEntriesByType=="function"){for(var r=0,a=0,l=performance.getEntriesByType("resource"),c=0;c<l.length;c++){var y=l[c],b=y.transferSize,L=y.initiatorType,Y=y.duration;if(b&&Y&&Wy(L)){for(L=0,Y=y.responseEnd,c+=1;c<l.length;c++){var ct=l[c],Dt=ct.startTime;if(Dt>Y)break;var $t=ct.transferSize,Xt=ct.initiatorType;$t&&Wy(Xt)&&(ct=ct.responseEnd,L+=$t*(ct<Y?1:(Y-Dt)/(ct-Dt)))}if(--c,a+=8*(b+L)/(y.duration/1e3),r++,10<r)break}}if(0<r)return a/r/1e6}return navigator.connection&&(r=navigator.connection.downlink,typeof r=="number")?r:5}var lg=null,ug=null;function Rd(r){return r.nodeType===9?r:r.ownerDocument}function Ky(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Qy(r,a){if(r===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&a==="foreignObject"?0:r}function cg(r,a){return r==="textarea"||r==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var hg=null;function $x(){var r=window.event;return r&&r.type==="popstate"?r===hg?!1:(hg=r,!0):(hg=null,!1)}var Xy=typeof setTimeout=="function"?setTimeout:void 0,Yx=typeof clearTimeout=="function"?clearTimeout:void 0,Jy=typeof Promise=="function"?Promise:void 0,Wx=typeof queueMicrotask=="function"?queueMicrotask:typeof Jy<"u"?function(r){return Jy.resolve(null).then(r).catch(Kx)}:Xy;function Kx(r){setTimeout(function(){throw r})}function ru(r){return r==="head"}function Zy(r,a){var l=a,c=0;do{var y=l.nextSibling;if(r.removeChild(l),y&&y.nodeType===8)if(l=y.data,l==="/$"||l==="/&"){if(c===0){r.removeChild(y),Hc(a);return}c--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")c++;else if(l==="html")Zh(r.ownerDocument.documentElement);else if(l==="head"){l=r.ownerDocument.head,Zh(l);for(var b=l.firstChild;b;){var L=b.nextSibling,Y=b.nodeName;b[Ri]||Y==="SCRIPT"||Y==="STYLE"||Y==="LINK"&&b.rel.toLowerCase()==="stylesheet"||l.removeChild(b),b=L}}else l==="body"&&Zh(r.ownerDocument.body);l=y}while(l);Hc(a)}function tv(r,a){var l=r;r=0;do{var c=l.nextSibling;if(l.nodeType===1?a?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(a?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),c&&c.nodeType===8)if(l=c.data,l==="/$"){if(r===0)break;r--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||r++;l=c}while(l)}function fg(r){var a=r.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var l=a;switch(a=a.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":fg(l),Za(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}r.removeChild(l)}}function Qx(r,a,l,c){for(;r.nodeType===1;){var y=l;if(r.nodeName.toLowerCase()!==a.toLowerCase()){if(!c&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(c){if(!r[Ri])switch(a){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(b=r.getAttribute("rel"),b==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(b!==y.rel||r.getAttribute("href")!==(y.href==null||y.href===""?null:y.href)||r.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||r.getAttribute("title")!==(y.title==null?null:y.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(b=r.getAttribute("src"),(b!==(y.src==null?null:y.src)||r.getAttribute("type")!==(y.type==null?null:y.type)||r.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&b&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(a==="input"&&r.type==="hidden"){var b=y.name==null?null:""+y.name;if(y.type==="hidden"&&r.getAttribute("name")===b)return r}else return r;if(r=ks(r.nextSibling),r===null)break}return null}function Xx(r,a,l){if(a==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!l||(r=ks(r.nextSibling),r===null))return null;return r}function ev(r,a){for(;r.nodeType!==8;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!a||(r=ks(r.nextSibling),r===null))return null;return r}function dg(r){return r.data==="$?"||r.data==="$~"}function pg(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState!=="loading"}function Jx(r,a){var l=r.ownerDocument;if(r.data==="$~")r._reactRetry=a;else if(r.data!=="$?"||l.readyState!=="loading")a();else{var c=function(){a(),l.removeEventListener("DOMContentLoaded",c)};l.addEventListener("DOMContentLoaded",c),r._reactRetry=c}}function ks(r){for(;r!=null;r=r.nextSibling){var a=r.nodeType;if(a===1||a===3)break;if(a===8){if(a=r.data,a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"||a==="F!"||a==="F")break;if(a==="/$"||a==="/&")return null}}return r}var mg=null;function nv(r){r=r.nextSibling;for(var a=0;r;){if(r.nodeType===8){var l=r.data;if(l==="/$"||l==="/&"){if(a===0)return ks(r.nextSibling);a--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||a++}r=r.nextSibling}return null}function rv(r){r=r.previousSibling;for(var a=0;r;){if(r.nodeType===8){var l=r.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(a===0)return r;a--}else l!=="/$"&&l!=="/&"||a++}r=r.previousSibling}return null}function iv(r,a,l){switch(a=Rd(l),r){case"html":if(r=a.documentElement,!r)throw Error(i(452));return r;case"head":if(r=a.head,!r)throw Error(i(453));return r;case"body":if(r=a.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}function Zh(r){for(var a=r.attributes;a.length;)r.removeAttributeNode(a[0]);Za(r)}var Os=new Map,av=new Set;function Ld(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var bl=dt.d;dt.d={f:Zx,r:tS,D:eS,C:nS,L:rS,m:iS,X:sS,S:aS,M:oS};function Zx(){var r=bl.f(),a=wd();return r||a}function tS(r){var a=gi(r);a!==null&&a.tag===5&&a.type==="form"?x2(a):bl.r(r)}var Uc=typeof document>"u"?null:document;function sv(r,a,l){var c=Uc;if(c&&typeof a=="string"&&a){var y=Sr(a);y='link[rel="'+r+'"][href="'+y+'"]',typeof l=="string"&&(y+='[crossorigin="'+l+'"]'),av.has(y)||(av.add(y),r={rel:r,crossOrigin:l,href:a},c.querySelector(y)===null&&(a=c.createElement("link"),Zi(a,"link",r),pr(a),c.head.appendChild(a)))}}function eS(r){bl.D(r),sv("dns-prefetch",r,null)}function nS(r,a){bl.C(r,a),sv("preconnect",r,a)}function rS(r,a,l){bl.L(r,a,l);var c=Uc;if(c&&r&&a){var y='link[rel="preload"][as="'+Sr(a)+'"]';a==="image"&&l&&l.imageSrcSet?(y+='[imagesrcset="'+Sr(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(y+='[imagesizes="'+Sr(l.imageSizes)+'"]')):y+='[href="'+Sr(r)+'"]';var b=y;switch(a){case"style":b=zc(r);break;case"script":b=qc(r)}Os.has(b)||(r=w({rel:"preload",href:a==="image"&&l&&l.imageSrcSet?void 0:r,as:a},l),Os.set(b,r),c.querySelector(y)!==null||a==="style"&&c.querySelector(tf(b))||a==="script"&&c.querySelector(ef(b))||(a=c.createElement("link"),Zi(a,"link",r),pr(a),c.head.appendChild(a)))}}function iS(r,a){bl.m(r,a);var l=Uc;if(l&&r){var c=a&&typeof a.as=="string"?a.as:"script",y='link[rel="modulepreload"][as="'+Sr(c)+'"][href="'+Sr(r)+'"]',b=y;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":b=qc(r)}if(!Os.has(b)&&(r=w({rel:"modulepreload",href:r},a),Os.set(b,r),l.querySelector(y)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(ef(b)))return}c=l.createElement("link"),Zi(c,"link",r),pr(c),l.head.appendChild(c)}}}function aS(r,a,l){bl.S(r,a,l);var c=Uc;if(c&&r){var y=ia(c).hoistableStyles,b=zc(r);a=a||"default";var L=y.get(b);if(!L){var Y={loading:0,preload:null};if(L=c.querySelector(tf(b)))Y.loading=5;else{r=w({rel:"stylesheet",href:r,"data-precedence":a},l),(l=Os.get(b))&&gg(r,l);var ct=L=c.createElement("link");pr(ct),Zi(ct,"link",r),ct._p=new Promise(function(Dt,$t){ct.onload=Dt,ct.onerror=$t}),ct.addEventListener("load",function(){Y.loading|=1}),ct.addEventListener("error",function(){Y.loading|=2}),Y.loading|=4,Id(L,a,c)}L={type:"stylesheet",instance:L,count:1,state:Y},y.set(b,L)}}}function sS(r,a){bl.X(r,a);var l=Uc;if(l&&r){var c=ia(l).hoistableScripts,y=qc(r),b=c.get(y);b||(b=l.querySelector(ef(y)),b||(r=w({src:r,async:!0},a),(a=Os.get(y))&&yg(r,a),b=l.createElement("script"),pr(b),Zi(b,"link",r),l.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},c.set(y,b))}}function oS(r,a){bl.M(r,a);var l=Uc;if(l&&r){var c=ia(l).hoistableScripts,y=qc(r),b=c.get(y);b||(b=l.querySelector(ef(y)),b||(r=w({src:r,async:!0,type:"module"},a),(a=Os.get(y))&&yg(r,a),b=l.createElement("script"),pr(b),Zi(b,"link",r),l.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},c.set(y,b))}}function ov(r,a,l,c){var y=(y=ut.current)?Ld(y):null;if(!y)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(a=zc(l.href),l=ia(y).hoistableStyles,c=l.get(a),c||(c={type:"style",instance:null,count:0,state:null},l.set(a,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){r=zc(l.href);var b=ia(y).hoistableStyles,L=b.get(r);if(L||(y=y.ownerDocument||y,L={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},b.set(r,L),(b=y.querySelector(tf(r)))&&!b._p&&(L.instance=b,L.state.loading=5),Os.has(r)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Os.set(r,l),b||lS(y,r,l,L.state))),a&&c===null)throw Error(i(528,""));return L}if(a&&c!==null)throw Error(i(529,""));return null;case"script":return a=l.async,l=l.src,typeof l=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=qc(l),l=ia(y).hoistableScripts,c=l.get(a),c||(c={type:"script",instance:null,count:0,state:null},l.set(a,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function zc(r){return'href="'+Sr(r)+'"'}function tf(r){return'link[rel="stylesheet"]['+r+"]"}function lv(r){return w({},r,{"data-precedence":r.precedence,precedence:null})}function lS(r,a,l,c){r.querySelector('link[rel="preload"][as="style"]['+a+"]")?c.loading=1:(a=r.createElement("link"),c.preload=a,a.addEventListener("load",function(){return c.loading|=1}),a.addEventListener("error",function(){return c.loading|=2}),Zi(a,"link",l),pr(a),r.head.appendChild(a))}function qc(r){return'[src="'+Sr(r)+'"]'}function ef(r){return"script[async]"+r}function uv(r,a,l){if(a.count++,a.instance===null)switch(a.type){case"style":var c=r.querySelector('style[data-href~="'+Sr(l.href)+'"]');if(c)return a.instance=c,pr(c),c;var y=w({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return c=(r.ownerDocument||r).createElement("style"),pr(c),Zi(c,"style",y),Id(c,l.precedence,r),a.instance=c;case"stylesheet":y=zc(l.href);var b=r.querySelector(tf(y));if(b)return a.state.loading|=4,a.instance=b,pr(b),b;c=lv(l),(y=Os.get(y))&&gg(c,y),b=(r.ownerDocument||r).createElement("link"),pr(b);var L=b;return L._p=new Promise(function(Y,ct){L.onload=Y,L.onerror=ct}),Zi(b,"link",c),a.state.loading|=4,Id(b,l.precedence,r),a.instance=b;case"script":return b=qc(l.src),(y=r.querySelector(ef(b)))?(a.instance=y,pr(y),y):(c=l,(y=Os.get(b))&&(c=w({},l),yg(c,y)),r=r.ownerDocument||r,y=r.createElement("script"),pr(y),Zi(y,"link",c),r.head.appendChild(y),a.instance=y);case"void":return null;default:throw Error(i(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(c=a.instance,a.state.loading|=4,Id(c,l.precedence,r));return a.instance}function Id(r,a,l){for(var c=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=c.length?c[c.length-1]:null,b=y,L=0;L<c.length;L++){var Y=c[L];if(Y.dataset.precedence===a)b=Y;else if(b!==y)break}b?b.parentNode.insertBefore(r,b.nextSibling):(a=l.nodeType===9?l.head:l,a.insertBefore(r,a.firstChild))}function gg(r,a){r.crossOrigin==null&&(r.crossOrigin=a.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=a.referrerPolicy),r.title==null&&(r.title=a.title)}function yg(r,a){r.crossOrigin==null&&(r.crossOrigin=a.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=a.referrerPolicy),r.integrity==null&&(r.integrity=a.integrity)}var Dd=null;function cv(r,a,l){if(Dd===null){var c=new Map,y=Dd=new Map;y.set(l,c)}else y=Dd,c=y.get(l),c||(c=new Map,y.set(l,c));if(c.has(r))return c;for(c.set(r,null),l=l.getElementsByTagName(r),y=0;y<l.length;y++){var b=l[y];if(!(b[Ri]||b[Mn]||r==="link"&&b.getAttribute("rel")==="stylesheet")&&b.namespaceURI!=="http://www.w3.org/2000/svg"){var L=b.getAttribute(a)||"";L=r+L;var Y=c.get(L);Y?Y.push(b):c.set(L,[b])}}return c}function hv(r,a,l){r=r.ownerDocument||r,r.head.insertBefore(l,a==="title"?r.querySelector("head > title"):null)}function uS(r,a,l){if(l===1||a.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return r=a.disabled,typeof a.precedence=="string"&&r==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function fv(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}function cS(r,a,l,c){if(l.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var y=zc(c.href),b=a.querySelector(tf(y));if(b){a=b._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(r.count++,r=kd.bind(r),a.then(r,r)),l.state.loading|=4,l.instance=b,pr(b);return}b=a.ownerDocument||a,c=lv(c),(y=Os.get(y))&&gg(c,y),b=b.createElement("link"),pr(b);var L=b;L._p=new Promise(function(Y,ct){L.onload=Y,L.onerror=ct}),Zi(b,"link",c),l.instance=b}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(l,a),(a=l.state.preload)&&(l.state.loading&3)===0&&(r.count++,l=kd.bind(r),a.addEventListener("load",l),a.addEventListener("error",l))}}var vg=0;function hS(r,a){return r.stylesheets&&r.count===0&&Pd(r,r.stylesheets),0<r.count||0<r.imgCount?function(l){var c=setTimeout(function(){if(r.stylesheets&&Pd(r,r.stylesheets),r.unsuspend){var b=r.unsuspend;r.unsuspend=null,b()}},6e4+a);0<r.imgBytes&&vg===0&&(vg=62500*Gx());var y=setTimeout(function(){if(r.waitingForImages=!1,r.count===0&&(r.stylesheets&&Pd(r,r.stylesheets),r.unsuspend)){var b=r.unsuspend;r.unsuspend=null,b()}},(r.imgBytes>vg?50:800)+a);return r.unsuspend=l,function(){r.unsuspend=null,clearTimeout(c),clearTimeout(y)}}:null}function kd(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Pd(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var Od=null;function Pd(r,a){r.stylesheets=null,r.unsuspend!==null&&(r.count++,Od=new Map,a.forEach(fS,r),Od=null,kd.call(r))}function fS(r,a){if(!(a.state.loading&4)){var l=Od.get(r);if(l)var c=l.get(null);else{l=new Map,Od.set(r,l);for(var y=r.querySelectorAll("link[data-precedence],style[data-precedence]"),b=0;b<y.length;b++){var L=y[b];(L.nodeName==="LINK"||L.getAttribute("media")!=="not all")&&(l.set(L.dataset.precedence,L),c=L)}c&&l.set(null,c)}y=a.instance,L=y.getAttribute("data-precedence"),b=l.get(L)||c,b===c&&l.set(null,y),l.set(L,y),this.count++,c=kd.bind(this),y.addEventListener("load",c),y.addEventListener("error",c),b?b.parentNode.insertBefore(y,b.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(y,r.firstChild)),a.state.loading|=4}}var nf={$$typeof:W,Provider:null,Consumer:null,_currentValue:ft,_currentValue2:ft,_threadCount:0};function dS(r,a,l,c,y,b,L,Y,ct){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ie(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ie(0),this.hiddenUpdates=Ie(null),this.identifierPrefix=c,this.onUncaughtError=y,this.onCaughtError=b,this.onRecoverableError=L,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=ct,this.incompleteTransitions=new Map}function dv(r,a,l,c,y,b,L,Y,ct,Dt,$t,Xt){return r=new dS(r,a,l,L,ct,Dt,$t,Xt,Y),a=1,b===!0&&(a|=24),b=Pi(3,null,null,a),r.current=b,b.stateNode=r,a=Gl(),a.refCount++,r.pooledCache=a,a.refCount++,b.memoizedState={element:c,isDehydrated:l,cache:a},oe(b),r}function pv(r){return r?(r=wi,r):wi}function mv(r,a,l,c,y,b){y=pv(y),c.context===null?c.context=y:c.pendingContext=y,c=Ge(a),c.payload={element:l},b=b===void 0?null:b,b!==null&&(c.callback=b),l=cn(r,c,a),l!==null&&(Ka(l,r,a),Un(l,r,a))}function gv(r,a){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var l=r.retryLane;r.retryLane=l!==0&&l<a?l:a}}function bg(r,a){gv(r,a),(r=r.alternate)&&gv(r,a)}function yv(r){if(r.tag===13||r.tag===31){var a=Js(r,67108864);a!==null&&Ka(a,r,67108864),bg(r,67108864)}}function vv(r){if(r.tag===13||r.tag===31){var a=hs();a=Hn(a);var l=Js(r,a);l!==null&&Ka(l,r,a),bg(r,a)}}var Md=!0;function pS(r,a,l,c){var y=ot.T;ot.T=null;var b=dt.p;try{dt.p=2,_g(r,a,l,c)}finally{dt.p=b,ot.T=y}}function mS(r,a,l,c){var y=ot.T;ot.T=null;var b=dt.p;try{dt.p=8,_g(r,a,l,c)}finally{dt.p=b,ot.T=y}}function _g(r,a,l,c){if(Md){var y=wg(c);if(y===null)sg(r,a,c,jd,l),_v(r,c);else if(yS(y,r,a,l,c))c.stopPropagation();else if(_v(r,c),a&4&&-1<gS.indexOf(r)){for(;y!==null;){var b=gi(y);if(b!==null)switch(b.tag){case 3:if(b=b.stateNode,b.current.memoizedState.isDehydrated){var L=Se(b.pendingLanes);if(L!==0){var Y=b;for(Y.pendingLanes|=2,Y.entangledLanes|=2;L;){var ct=1<<31-Xe(L);Y.entanglements[1]|=ct,L&=~ct}Mo(b),(qn&6)===0&&(bd=Ke()+500,Qh(0))}}break;case 31:case 13:Y=Js(b,2),Y!==null&&Ka(Y,b,2),wd(),bg(b,2)}if(b=wg(c),b===null&&sg(r,a,c,jd,l),b===y)break;y=b}y!==null&&c.stopPropagation()}else sg(r,a,c,null,l)}}function wg(r){return r=Di(r),xg(r)}var jd=null;function xg(r){if(jd=null,r=Ui(r),r!==null){var a=o(r);if(a===null)r=null;else{var l=a.tag;if(l===13){if(r=u(a),r!==null)return r;r=null}else if(l===31){if(r=h(a),r!==null)return r;r=null}else if(l===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;r=null}else a!==r&&(r=null)}}return jd=r,null}function bv(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(en()){case He:return 2;case un:return 8;case ze:case ge:return 32;case Ye:return 268435456;default:return 32}default:return 32}}var Sg=!1,iu=null,au=null,su=null,rf=new Map,af=new Map,ou=[],gS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function _v(r,a){switch(r){case"focusin":case"focusout":iu=null;break;case"dragenter":case"dragleave":au=null;break;case"mouseover":case"mouseout":su=null;break;case"pointerover":case"pointerout":rf.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":af.delete(a.pointerId)}}function sf(r,a,l,c,y,b){return r===null||r.nativeEvent!==b?(r={blockedOn:a,domEventName:l,eventSystemFlags:c,nativeEvent:b,targetContainers:[y]},a!==null&&(a=gi(a),a!==null&&yv(a)),r):(r.eventSystemFlags|=c,a=r.targetContainers,y!==null&&a.indexOf(y)===-1&&a.push(y),r)}function yS(r,a,l,c,y){switch(a){case"focusin":return iu=sf(iu,r,a,l,c,y),!0;case"dragenter":return au=sf(au,r,a,l,c,y),!0;case"mouseover":return su=sf(su,r,a,l,c,y),!0;case"pointerover":var b=y.pointerId;return rf.set(b,sf(rf.get(b)||null,r,a,l,c,y)),!0;case"gotpointercapture":return b=y.pointerId,af.set(b,sf(af.get(b)||null,r,a,l,c,y)),!0}return!1}function wv(r){var a=Ui(r.target);if(a!==null){var l=o(a);if(l!==null){if(a=l.tag,a===13){if(a=u(l),a!==null){r.blockedOn=a,mi(r.priority,function(){vv(l)});return}}else if(a===31){if(a=h(l),a!==null){r.blockedOn=a,mi(r.priority,function(){vv(l)});return}}else if(a===3&&l.stateNode.current.memoizedState.isDehydrated){r.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Fd(r){if(r.blockedOn!==null)return!1;for(var a=r.targetContainers;0<a.length;){var l=wg(r.nativeEvent);if(l===null){l=r.nativeEvent;var c=new l.constructor(l.type,l);rs=c,l.target.dispatchEvent(c),rs=null}else return a=gi(l),a!==null&&yv(a),r.blockedOn=l,!1;a.shift()}return!0}function xv(r,a,l){Fd(r)&&l.delete(a)}function vS(){Sg=!1,iu!==null&&Fd(iu)&&(iu=null),au!==null&&Fd(au)&&(au=null),su!==null&&Fd(su)&&(su=null),rf.forEach(xv),af.forEach(xv)}function Vd(r,a){r.blockedOn===a&&(r.blockedOn=null,Sg||(Sg=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,vS)))}var Bd=null;function Sv(r){Bd!==r&&(Bd=r,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Bd===r&&(Bd=null);for(var a=0;a<r.length;a+=3){var l=r[a],c=r[a+1],y=r[a+2];if(typeof c!="function"){if(xg(c||l)===null)continue;break}var b=gi(l);b!==null&&(r.splice(a,3),a-=3,wm(b,{pending:!0,data:y,method:l.method,action:c},c,y))}}))}function Hc(r){function a(ct){return Vd(ct,r)}iu!==null&&Vd(iu,r),au!==null&&Vd(au,r),su!==null&&Vd(su,r),rf.forEach(a),af.forEach(a);for(var l=0;l<ou.length;l++){var c=ou[l];c.blockedOn===r&&(c.blockedOn=null)}for(;0<ou.length&&(l=ou[0],l.blockedOn===null);)wv(l),l.blockedOn===null&&ou.shift();if(l=(r.ownerDocument||r).$$reactFormReplay,l!=null)for(c=0;c<l.length;c+=3){var y=l[c],b=l[c+1],L=y[Yn]||null;if(typeof b=="function")L||Sv(l);else if(L){var Y=null;if(b&&b.hasAttribute("formAction")){if(y=b,L=b[Yn]||null)Y=L.formAction;else if(xg(y)!==null)continue}else Y=L.action;typeof Y=="function"?l[c+1]=Y:(l.splice(c,3),c-=3),Sv(l)}}}function Av(){function r(b){b.canIntercept&&b.info==="react-transition"&&b.intercept({handler:function(){return new Promise(function(L){return y=L})},focusReset:"manual",scroll:"manual"})}function a(){y!==null&&(y(),y=null),c||setTimeout(l,20)}function l(){if(!c&&!navigation.transition){var b=navigation.currentEntry;b&&b.url!=null&&navigation.navigate(b.url,{state:b.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,y=null;return navigation.addEventListener("navigate",r),navigation.addEventListener("navigatesuccess",a),navigation.addEventListener("navigateerror",a),setTimeout(l,100),function(){c=!0,navigation.removeEventListener("navigate",r),navigation.removeEventListener("navigatesuccess",a),navigation.removeEventListener("navigateerror",a),y!==null&&(y(),y=null)}}}function Ag(r){this._internalRoot=r}Ud.prototype.render=Ag.prototype.render=function(r){var a=this._internalRoot;if(a===null)throw Error(i(409));var l=a.current,c=hs();mv(l,c,r,a,null,null)},Ud.prototype.unmount=Ag.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var a=r.containerInfo;mv(r.current,2,null,r,null,null),wd(),a[Fr]=null}};function Ud(r){this._internalRoot=r}Ud.prototype.unstable_scheduleHydration=function(r){if(r){var a=jr();r={blockedOn:null,target:r,priority:a};for(var l=0;l<ou.length&&a!==0&&a<ou[l].priority;l++);ou.splice(l,0,r),l===0&&wv(r)}};var Ev=t.version;if(Ev!=="19.2.1")throw Error(i(527,Ev,"19.2.1"));dt.findDOMNode=function(r){var a=r._reactInternals;if(a===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=d(a),r=r!==null?g(r):null,r=r===null?null:r.stateNode,r};var bS={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:ot,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zd.isDisabled&&zd.supportsFiber)try{nn=zd.inject(bS),Re=zd}catch{}}return lf.createRoot=function(r,a){if(!s(r))throw Error(i(299));var l=!1,c="",y=D2,b=k2,L=O2;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(y=a.onUncaughtError),a.onCaughtError!==void 0&&(b=a.onCaughtError),a.onRecoverableError!==void 0&&(L=a.onRecoverableError)),a=dv(r,1,!1,null,null,l,c,null,y,b,L,Av),r[Fr]=a.current,ag(r),new Ag(a)},lf.hydrateRoot=function(r,a,l){if(!s(r))throw Error(i(299));var c=!1,y="",b=D2,L=k2,Y=O2,ct=null;return l!=null&&(l.unstable_strictMode===!0&&(c=!0),l.identifierPrefix!==void 0&&(y=l.identifierPrefix),l.onUncaughtError!==void 0&&(b=l.onUncaughtError),l.onCaughtError!==void 0&&(L=l.onCaughtError),l.onRecoverableError!==void 0&&(Y=l.onRecoverableError),l.formState!==void 0&&(ct=l.formState)),a=dv(r,1,!0,a,l??null,c,y,ct,b,L,Y,Av),a.context=pv(null),l=a.current,c=hs(),c=Hn(c),y=Ge(c),y.callback=null,cn(l,y,c),l=c,a.current.lanes=l,ae(a,l),Mo(a),r[Fr]=a.current,ag(r),new Ud(a)},lf.version="19.2.1",lf}var Pv;function IS(){if(Pv)return Ng.exports;Pv=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Ng.exports=LS(),Ng.exports}var DS=IS();var Mv="popstate";function kS(n={}){function t(i,s){let{pathname:o,search:u,hash:h}=i.location;return v0("",{pathname:o,search:u,hash:h},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function e(i,s){return typeof s=="string"?s:Nf(s)}return PS(t,e,null,n)}function Pr(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}function Ms(n,t){if(!n){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function OS(){return Math.random().toString(36).substring(2,10)}function jv(n,t){return{usr:n.state,key:n.key,idx:t}}function v0(n,t,e=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof t=="string"?mh(t):t,state:e,key:t&&t.key||i||OS()}}function Nf({pathname:n="/",search:t="",hash:e=""}){return t&&t!=="?"&&(n+=t.charAt(0)==="?"?t:"?"+t),e&&e!=="#"&&(n+=e.charAt(0)==="#"?e:"#"+e),n}function mh(n){let t={};if(n){let e=n.indexOf("#");e>=0&&(t.hash=n.substring(e),n=n.substring(0,e));let i=n.indexOf("?");i>=0&&(t.search=n.substring(i),n=n.substring(0,i)),n&&(t.pathname=n)}return t}function PS(n,t,e,i={}){let{window:s=document.defaultView,v5Compat:o=!1}=i,u=s.history,h="POP",f=null,d=g();d==null&&(d=0,u.replaceState({...u.state,idx:d},""));function g(){return(u.state||{idx:null}).idx}function w(){h="POP";let j=g(),R=j==null?null:j-d;d=j,f&&f({action:h,location:M.location,delta:R})}function S(j,R){h="PUSH";let Q=v0(M.location,j,R);d=g()+1;let W=jv(Q,d),nt=M.createHref(Q);try{u.pushState(W,"",nt)}catch(mt){if(mt instanceof DOMException&&mt.name==="DataCloneError")throw mt;s.location.assign(nt)}o&&f&&f({action:h,location:M.location,delta:1})}function _(j,R){h="REPLACE";let Q=v0(M.location,j,R);d=g();let W=jv(Q,d),nt=M.createHref(Q);u.replaceState(W,"",nt),o&&f&&f({action:h,location:M.location,delta:0})}function N(j){return MS(j)}let M={get action(){return h},get location(){return n(s,u)},listen(j){if(f)throw new Error("A history only accepts one active listener");return s.addEventListener(Mv,w),f=j,()=>{s.removeEventListener(Mv,w),f=null}},createHref(j){return t(s,j)},createURL:N,encodeLocation(j){let R=N(j);return{pathname:R.pathname,search:R.search,hash:R.hash}},push:S,replace:_,go(j){return u.go(j)}};return M}function MS(n,t=!1){let e="http://localhost";typeof window<"u"&&(e=window.location.origin!=="null"?window.location.origin:window.location.href),Pr(e,"No window.location.(origin|href) available to create URL");let i=typeof n=="string"?n:Nf(n);return i=i.replace(/ $/,"%20"),!t&&i.startsWith("//")&&(i=e+i),new URL(i,e)}function D_(n,t,e="/"){return jS(n,t,e,!1)}function jS(n,t,e,i){let s=typeof t=="string"?mh(t):t,o=Tl(s.pathname||"/",e);if(o==null)return null;let u=k_(n);FS(u);let h=null;for(let f=0;h==null&&f<u.length;++f){let d=KS(o);h=YS(u[f],d,i)}return h}function k_(n,t=[],e=[],i="",s=!1){let o=(u,h,f=s,d)=>{let g={relativePath:d===void 0?u.path||"":d,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};if(g.relativePath.startsWith("/")){if(!g.relativePath.startsWith(i)&&f)return;Pr(g.relativePath.startsWith(i),`Absolute route path "${g.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(i.length)}let w=Al([i,g.relativePath]),S=e.concat(g);u.children&&u.children.length>0&&(Pr(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${w}".`),k_(u.children,t,S,w,f)),!(u.path==null&&!u.index)&&t.push({path:w,score:GS(w,u.index),routesMeta:S})};return n.forEach((u,h)=>{if(u.path===""||!u.path?.includes("?"))o(u,h);else for(let f of O_(u.path))o(u,h,!0,f)}),t}function O_(n){let t=n.split("/");if(t.length===0)return[];let[e,...i]=t,s=e.endsWith("?"),o=e.replace(/\?$/,"");if(i.length===0)return s?[o,""]:[o];let u=O_(i.join("/")),h=[];return h.push(...u.map(f=>f===""?o:[o,f].join("/"))),s&&h.push(...u),h.map(f=>n.startsWith("/")&&f===""?"/":f)}function FS(n){n.sort((t,e)=>t.score!==e.score?e.score-t.score:$S(t.routesMeta.map(i=>i.childrenIndex),e.routesMeta.map(i=>i.childrenIndex)))}var VS=/^:[\w-]+$/,BS=3,US=2,zS=1,qS=10,HS=-2,Fv=n=>n==="*";function GS(n,t){let e=n.split("/"),i=e.length;return e.some(Fv)&&(i+=HS),t&&(i+=US),e.filter(s=>!Fv(s)).reduce((s,o)=>s+(VS.test(o)?BS:o===""?zS:qS),i)}function $S(n,t){return n.length===t.length&&n.slice(0,-1).every((i,s)=>i===t[s])?n[n.length-1]-t[t.length-1]:0}function YS(n,t,e=!1){let{routesMeta:i}=n,s={},o="/",u=[];for(let h=0;h<i.length;++h){let f=i[h],d=h===i.length-1,g=o==="/"?t:t.slice(o.length)||"/",w=_p({path:f.relativePath,caseSensitive:f.caseSensitive,end:d},g),S=f.route;if(!w&&d&&e&&!i[i.length-1].route.index&&(w=_p({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},g)),!w)return null;Object.assign(s,w.params),u.push({params:s,pathname:Al([o,w.pathname]),pathnameBase:tA(Al([o,w.pathnameBase])),route:S}),w.pathnameBase!=="/"&&(o=Al([o,w.pathnameBase]))}return u}function _p(n,t){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[e,i]=WS(n.path,n.caseSensitive,n.end),s=t.match(e);if(!s)return null;let o=s[0],u=o.replace(/(.)\/+$/,"$1"),h=s.slice(1);return{params:i.reduce((d,{paramName:g,isOptional:w},S)=>{if(g==="*"){let N=h[S]||"";u=o.slice(0,o.length-N.length).replace(/(.)\/+$/,"$1")}const _=h[S];return w&&!_?d[g]=void 0:d[g]=(_||"").replace(/%2F/g,"/"),d},{}),pathname:o,pathnameBase:u,pattern:n}}function WS(n,t=!1,e=!0){Ms(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,h,f)=>(i.push({paramName:h,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(i.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):e?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),i]}function KS(n){try{return n.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Ms(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),n}}function Tl(n,t){if(t==="/")return n;if(!n.toLowerCase().startsWith(t.toLowerCase()))return null;let e=t.endsWith("/")?t.length-1:t.length,i=n.charAt(e);return i&&i!=="/"?null:n.slice(e)||"/"}var QS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,XS=n=>QS.test(n);function JS(n,t="/"){let{pathname:e,search:i="",hash:s=""}=typeof n=="string"?mh(n):n,o;if(e)if(XS(e))o=e;else{if(e.includes("//")){let u=e;e=e.replace(/\/\/+/g,"/"),Ms(!1,`Pathnames cannot have embedded double slashes - normalizing ${u} -> ${e}`)}e.startsWith("/")?o=Vv(e.substring(1),"/"):o=Vv(e,t)}else o=t;return{pathname:o,search:eA(i),hash:nA(s)}}function Vv(n,t){let e=t.replace(/\/+$/,"").split("/");return n.split("/").forEach(s=>{s===".."?e.length>1&&e.pop():s!=="."&&e.push(s)}),e.length>1?e.join("/"):"/"}function Ig(n,t,e,i){return`Cannot include a '${n}' character in a manually specified \`to.${t}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${e}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function ZS(n){return n.filter((t,e)=>e===0||t.route.path&&t.route.path.length>0)}function P_(n){let t=ZS(n);return t.map((e,i)=>i===t.length-1?e.pathname:e.pathnameBase)}function M_(n,t,e,i=!1){let s;typeof n=="string"?s=mh(n):(s={...n},Pr(!s.pathname||!s.pathname.includes("?"),Ig("?","pathname","search",s)),Pr(!s.pathname||!s.pathname.includes("#"),Ig("#","pathname","hash",s)),Pr(!s.search||!s.search.includes("#"),Ig("#","search","hash",s)));let o=n===""||s.pathname==="",u=o?"/":s.pathname,h;if(u==null)h=e;else{let w=t.length-1;if(!i&&u.startsWith("..")){let S=u.split("/");for(;S[0]==="..";)S.shift(),w-=1;s.pathname=S.join("/")}h=w>=0?t[w]:"/"}let f=JS(s,h),d=u&&u!=="/"&&u.endsWith("/"),g=(o||u===".")&&e.endsWith("/");return!f.pathname.endsWith("/")&&(d||g)&&(f.pathname+="/"),f}var Al=n=>n.join("/").replace(/\/\/+/g,"/"),tA=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),eA=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,nA=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function rA(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}function iA(n){return n.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var j_=["POST","PUT","PATCH","DELETE"];new Set(j_);var aA=["GET",...j_];new Set(aA);var gh=Ot.createContext(null);gh.displayName="DataRouter";var qp=Ot.createContext(null);qp.displayName="DataRouterState";Ot.createContext(!1);var F_=Ot.createContext({isTransitioning:!1});F_.displayName="ViewTransition";var sA=Ot.createContext(new Map);sA.displayName="Fetchers";var oA=Ot.createContext(null);oA.displayName="Await";var ho=Ot.createContext(null);ho.displayName="Navigation";var Vf=Ot.createContext(null);Vf.displayName="Location";var kl=Ot.createContext({outlet:null,matches:[],isDataRoute:!1});kl.displayName="Route";var s1=Ot.createContext(null);s1.displayName="RouteError";function lA(n,{relative:t}={}){Pr(Bf(),"useHref() may be used only in the context of a <Router> component.");let{basename:e,navigator:i}=Ot.useContext(ho),{hash:s,pathname:o,search:u}=Uf(n,{relative:t}),h=o;return e!=="/"&&(h=o==="/"?e:Al([e,o])),i.createHref({pathname:h,search:u,hash:s})}function Bf(){return Ot.useContext(Vf)!=null}function Eu(){return Pr(Bf(),"useLocation() may be used only in the context of a <Router> component."),Ot.useContext(Vf).location}var V_="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function B_(n){Ot.useContext(ho).static||Ot.useLayoutEffect(n)}function yh(){let{isDataRoute:n}=Ot.useContext(kl);return n?wA():uA()}function uA(){Pr(Bf(),"useNavigate() may be used only in the context of a <Router> component.");let n=Ot.useContext(gh),{basename:t,navigator:e}=Ot.useContext(ho),{matches:i}=Ot.useContext(kl),{pathname:s}=Eu(),o=JSON.stringify(P_(i)),u=Ot.useRef(!1);return B_(()=>{u.current=!0}),Ot.useCallback((f,d={})=>{if(Ms(u.current,V_),!u.current)return;if(typeof f=="number"){e.go(f);return}let g=M_(f,JSON.parse(o),s,d.relative==="path");n==null&&t!=="/"&&(g.pathname=g.pathname==="/"?t:Al([t,g.pathname])),(d.replace?e.replace:e.push)(g,d.state,d)},[t,e,o,s,n])}Ot.createContext(null);function Uf(n,{relative:t}={}){let{matches:e}=Ot.useContext(kl),{pathname:i}=Eu(),s=JSON.stringify(P_(e));return Ot.useMemo(()=>M_(n,JSON.parse(s),i,t==="path"),[n,s,i,t])}function cA(n,t){return U_(n,t)}function U_(n,t,e,i,s){Pr(Bf(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=Ot.useContext(ho),{matches:u}=Ot.useContext(kl),h=u[u.length-1],f=h?h.params:{},d=h?h.pathname:"/",g=h?h.pathnameBase:"/",w=h&&h.route;{let Q=w&&w.path||"";z_(d,!w||Q.endsWith("*")||Q.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${Q}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Q}"> to <Route path="${Q==="/"?"*":`${Q}/*`}">.`)}let S=Eu(),_;if(t){let Q=typeof t=="string"?mh(t):t;Pr(g==="/"||Q.pathname?.startsWith(g),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${Q.pathname}" was given in the \`location\` prop.`),_=Q}else _=S;let N=_.pathname||"/",M=N;if(g!=="/"){let Q=g.replace(/^\//,"").split("/");M="/"+N.replace(/^\//,"").split("/").slice(Q.length).join("/")}let j=D_(n,{pathname:M});Ms(w||j!=null,`No routes matched location "${_.pathname}${_.search}${_.hash}" `),Ms(j==null||j[j.length-1].route.element!==void 0||j[j.length-1].route.Component!==void 0||j[j.length-1].route.lazy!==void 0,`Matched leaf route at location "${_.pathname}${_.search}${_.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let R=mA(j&&j.map(Q=>Object.assign({},Q,{params:Object.assign({},f,Q.params),pathname:Al([g,o.encodeLocation?o.encodeLocation(Q.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:Q.pathname]),pathnameBase:Q.pathnameBase==="/"?g:Al([g,o.encodeLocation?o.encodeLocation(Q.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:Q.pathnameBase])})),u,e,i,s);return t&&R?Ot.createElement(Vf.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",..._},navigationType:"POP"}},R):R}function hA(){let n=_A(),t=rA(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),e=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i},o={padding:"2px 4px",backgroundColor:i},u=null;return console.error("Error handled by React Router default ErrorBoundary:",n),u=Ot.createElement(Ot.Fragment,null,Ot.createElement("p",null," Hey developer "),Ot.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",Ot.createElement("code",{style:o},"ErrorBoundary")," or"," ",Ot.createElement("code",{style:o},"errorElement")," prop on your route.")),Ot.createElement(Ot.Fragment,null,Ot.createElement("h2",null,"Unexpected Application Error!"),Ot.createElement("h3",{style:{fontStyle:"italic"}},t),e?Ot.createElement("pre",{style:s},e):null,u)}var fA=Ot.createElement(hA,null),dA=class extends Ot.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,t){return t.location!==n.location||t.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:t.error,location:t.location,revalidation:n.revalidation||t.revalidation}}componentDidCatch(n,t){this.props.onError?this.props.onError(n,t):console.error("React Router caught the following error during render",n)}render(){return this.state.error!==void 0?Ot.createElement(kl.Provider,{value:this.props.routeContext},Ot.createElement(s1.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function pA({routeContext:n,match:t,children:e}){let i=Ot.useContext(gh);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),Ot.createElement(kl.Provider,{value:n},e)}function mA(n,t=[],e=null,i=null,s=null){if(n==null){if(!e)return null;if(e.errors)n=e.matches;else if(t.length===0&&!e.initialized&&e.matches.length>0)n=e.matches;else return null}let o=n,u=e?.errors;if(u!=null){let g=o.findIndex(w=>w.route.id&&u?.[w.route.id]!==void 0);Pr(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,g+1))}let h=!1,f=-1;if(e)for(let g=0;g<o.length;g++){let w=o[g];if((w.route.HydrateFallback||w.route.hydrateFallbackElement)&&(f=g),w.route.id){let{loaderData:S,errors:_}=e,N=w.route.loader&&!S.hasOwnProperty(w.route.id)&&(!_||_[w.route.id]===void 0);if(w.route.lazy||N){h=!0,f>=0?o=o.slice(0,f+1):o=[o[0]];break}}}let d=e&&i?(g,w)=>{i(g,{location:e.location,params:e.matches?.[0]?.params??{},unstable_pattern:iA(e.matches),errorInfo:w})}:void 0;return o.reduceRight((g,w,S)=>{let _,N=!1,M=null,j=null;e&&(_=u&&w.route.id?u[w.route.id]:void 0,M=w.route.errorElement||fA,h&&(f<0&&S===0?(z_("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),N=!0,j=null):f===S&&(N=!0,j=w.route.hydrateFallbackElement||null)));let R=t.concat(o.slice(0,S+1)),Q=()=>{let W;return _?W=M:N?W=j:w.route.Component?W=Ot.createElement(w.route.Component,null):w.route.element?W=w.route.element:W=g,Ot.createElement(pA,{match:w,routeContext:{outlet:g,matches:R,isDataRoute:e!=null},children:W})};return e&&(w.route.ErrorBoundary||w.route.errorElement||S===0)?Ot.createElement(dA,{location:e.location,revalidation:e.revalidation,component:M,error:_,children:Q(),routeContext:{outlet:null,matches:R,isDataRoute:!0},onError:d}):Q()},null)}function o1(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function gA(n){let t=Ot.useContext(gh);return Pr(t,o1(n)),t}function yA(n){let t=Ot.useContext(qp);return Pr(t,o1(n)),t}function vA(n){let t=Ot.useContext(kl);return Pr(t,o1(n)),t}function l1(n){let t=vA(n),e=t.matches[t.matches.length-1];return Pr(e.route.id,`${n} can only be used on routes that contain a unique "id"`),e.route.id}function bA(){return l1("useRouteId")}function _A(){let n=Ot.useContext(s1),t=yA("useRouteError"),e=l1("useRouteError");return n!==void 0?n:t.errors?.[e]}function wA(){let{router:n}=gA("useNavigate"),t=l1("useNavigate"),e=Ot.useRef(!1);return B_(()=>{e.current=!0}),Ot.useCallback(async(s,o={})=>{Ms(e.current,V_),e.current&&(typeof s=="number"?await n.navigate(s):await n.navigate(s,{fromRouteId:t,...o}))},[n,t])}var Bv={};function z_(n,t,e){!t&&!Bv[n]&&(Bv[n]=!0,Ms(!1,e))}Ot.memo(xA);function xA({routes:n,future:t,state:e,unstable_onError:i}){return U_(n,void 0,e,i,t)}function ap(n){Pr(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function SA({basename:n="/",children:t=null,location:e,navigationType:i="POP",navigator:s,static:o=!1,unstable_useTransitions:u}){Pr(!Bf(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=n.replace(/^\/*/,"/"),f=Ot.useMemo(()=>({basename:h,navigator:s,static:o,unstable_useTransitions:u,future:{}}),[h,s,o,u]);typeof e=="string"&&(e=mh(e));let{pathname:d="/",search:g="",hash:w="",state:S=null,key:_="default"}=e,N=Ot.useMemo(()=>{let M=Tl(d,h);return M==null?null:{location:{pathname:M,search:g,hash:w,state:S,key:_},navigationType:i}},[h,d,g,w,S,_,i]);return Ms(N!=null,`<Router basename="${h}"> is not able to match the URL "${d}${g}${w}" because it does not start with the basename, so the <Router> won't render anything.`),N==null?null:Ot.createElement(ho.Provider,{value:f},Ot.createElement(Vf.Provider,{children:t,value:N}))}function AA({children:n,location:t}){return cA(b0(n),t)}function b0(n,t=[]){let e=[];return Ot.Children.forEach(n,(i,s)=>{if(!Ot.isValidElement(i))return;let o=[...t,s];if(i.type===Ot.Fragment){e.push.apply(e,b0(i.props.children,o));return}Pr(i.type===ap,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Pr(!i.props.index||!i.props.children,"An index route cannot have child routes.");let u={id:i.props.id||o.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(u.children=b0(i.props.children,o)),e.push(u)}),e}var sp="get",op="application/x-www-form-urlencoded";function Hp(n){return typeof HTMLElement<"u"&&n instanceof HTMLElement}function EA(n){return Hp(n)&&n.tagName.toLowerCase()==="button"}function TA(n){return Hp(n)&&n.tagName.toLowerCase()==="form"}function NA(n){return Hp(n)&&n.tagName.toLowerCase()==="input"}function CA(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function RA(n,t){return n.button===0&&(!t||t==="_self")&&!CA(n)}function _0(n=""){return new URLSearchParams(typeof n=="string"||Array.isArray(n)||n instanceof URLSearchParams?n:Object.keys(n).reduce((t,e)=>{let i=n[e];return t.concat(Array.isArray(i)?i.map(s=>[e,s]):[[e,i]])},[]))}function LA(n,t){let e=_0(n);return t&&t.forEach((i,s)=>{e.has(s)||t.getAll(s).forEach(o=>{e.append(s,o)})}),e}var qd=null;function IA(){if(qd===null)try{new FormData(document.createElement("form"),0),qd=!1}catch{qd=!0}return qd}var DA=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Dg(n){return n!=null&&!DA.has(n)?(Ms(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${op}"`),null):n}function kA(n,t){let e,i,s,o,u;if(TA(n)){let h=n.getAttribute("action");i=h?Tl(h,t):null,e=n.getAttribute("method")||sp,s=Dg(n.getAttribute("enctype"))||op,o=new FormData(n)}else if(EA(n)||NA(n)&&(n.type==="submit"||n.type==="image")){let h=n.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=n.getAttribute("formaction")||h.getAttribute("action");if(i=f?Tl(f,t):null,e=n.getAttribute("formmethod")||h.getAttribute("method")||sp,s=Dg(n.getAttribute("formenctype"))||Dg(h.getAttribute("enctype"))||op,o=new FormData(h,n),!IA()){let{name:d,type:g,value:w}=n;if(g==="image"){let S=d?`${d}.`:"";o.append(`${S}x`,"0"),o.append(`${S}y`,"0")}else d&&o.append(d,w)}}else{if(Hp(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');e=sp,i=null,s=op,u=n}return o&&s==="text/plain"&&(u=o,o=void 0),{action:i,method:e.toLowerCase(),encType:s,formData:o,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function u1(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}function OA(n,t,e){let i=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return i.pathname==="/"?i.pathname=`_root.${e}`:t&&Tl(i.pathname,t)==="/"?i.pathname=`${t.replace(/\/$/,"")}/_root.${e}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${e}`,i}async function PA(n,t){if(n.id in t)return t[n.id];try{let e=await import(n.module);return t[n.id]=e,e}catch(e){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(e),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function MA(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function jA(n,t,e){let i=await Promise.all(n.map(async s=>{let o=t.routes[s.route.id];if(o){let u=await PA(o,e);return u.links?u.links():[]}return[]}));return UA(i.flat(1).filter(MA).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function Uv(n,t,e,i,s,o){let u=(f,d)=>e[d]?f.route.id!==e[d].route.id:!0,h=(f,d)=>e[d].pathname!==f.pathname||e[d].route.path?.endsWith("*")&&e[d].params["*"]!==f.params["*"];return o==="assets"?t.filter((f,d)=>u(f,d)||h(f,d)):o==="data"?t.filter((f,d)=>{let g=i.routes[f.route.id];if(!g||!g.hasLoader)return!1;if(u(f,d)||h(f,d))return!0;if(f.route.shouldRevalidate){let w=f.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:e[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function FA(n,t,{includeHydrateFallback:e}={}){return VA(n.map(i=>{let s=t.routes[i.route.id];if(!s)return[];let o=[s.module];return s.clientActionModule&&(o=o.concat(s.clientActionModule)),s.clientLoaderModule&&(o=o.concat(s.clientLoaderModule)),e&&s.hydrateFallbackModule&&(o=o.concat(s.hydrateFallbackModule)),s.imports&&(o=o.concat(s.imports)),o}).flat(1))}function VA(n){return[...new Set(n)]}function BA(n){let t={},e=Object.keys(n).sort();for(let i of e)t[i]=n[i];return t}function UA(n,t){let e=new Set;return new Set(t),n.reduce((i,s)=>{let o=JSON.stringify(BA(s));return e.has(o)||(e.add(o),i.push({key:o,link:s})),i},[])}function q_(){let n=Ot.useContext(gh);return u1(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function zA(){let n=Ot.useContext(qp);return u1(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var c1=Ot.createContext(void 0);c1.displayName="FrameworkContext";function H_(){let n=Ot.useContext(c1);return u1(n,"You must render this element inside a <HydratedRouter> element"),n}function qA(n,t){let e=Ot.useContext(c1),[i,s]=Ot.useState(!1),[o,u]=Ot.useState(!1),{onFocus:h,onBlur:f,onMouseEnter:d,onMouseLeave:g,onTouchStart:w}=t,S=Ot.useRef(null);Ot.useEffect(()=>{if(n==="render"&&u(!0),n==="viewport"){let M=R=>{R.forEach(Q=>{u(Q.isIntersecting)})},j=new IntersectionObserver(M,{threshold:.5});return S.current&&j.observe(S.current),()=>{j.disconnect()}}},[n]),Ot.useEffect(()=>{if(i){let M=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(M)}}},[i]);let _=()=>{s(!0)},N=()=>{s(!1),u(!1)};return e?n!=="intent"?[o,S,{}]:[o,S,{onFocus:uf(h,_),onBlur:uf(f,N),onMouseEnter:uf(d,_),onMouseLeave:uf(g,N),onTouchStart:uf(w,_)}]:[!1,S,{}]}function uf(n,t){return e=>{n&&n(e),e.defaultPrevented||t(e)}}function HA({page:n,...t}){let{router:e}=q_(),i=Ot.useMemo(()=>D_(e.routes,n,e.basename),[e.routes,n,e.basename]);return i?Ot.createElement($A,{page:n,matches:i,...t}):null}function GA(n){let{manifest:t,routeModules:e}=H_(),[i,s]=Ot.useState([]);return Ot.useEffect(()=>{let o=!1;return jA(n,t,e).then(u=>{o||s(u)}),()=>{o=!0}},[n,t,e]),i}function $A({page:n,matches:t,...e}){let i=Eu(),{manifest:s,routeModules:o}=H_(),{basename:u}=q_(),{loaderData:h,matches:f}=zA(),d=Ot.useMemo(()=>Uv(n,t,f,s,i,"data"),[n,t,f,s,i]),g=Ot.useMemo(()=>Uv(n,t,f,s,i,"assets"),[n,t,f,s,i]),w=Ot.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let N=new Set,M=!1;if(t.forEach(R=>{let Q=s.routes[R.route.id];!Q||!Q.hasLoader||(!d.some(W=>W.route.id===R.route.id)&&R.route.id in h&&o[R.route.id]?.shouldRevalidate||Q.hasClientLoader?M=!0:N.add(R.route.id))}),N.size===0)return[];let j=OA(n,u,"data");return M&&N.size>0&&j.searchParams.set("_routes",t.filter(R=>N.has(R.route.id)).map(R=>R.route.id).join(",")),[j.pathname+j.search]},[u,h,i,s,d,t,n,o]),S=Ot.useMemo(()=>FA(g,s),[g,s]),_=GA(g);return Ot.createElement(Ot.Fragment,null,w.map(N=>Ot.createElement("link",{key:N,rel:"prefetch",as:"fetch",href:N,...e})),S.map(N=>Ot.createElement("link",{key:N,rel:"modulepreload",href:N,...e})),_.map(({key:N,link:M})=>Ot.createElement("link",{key:N,nonce:e.nonce,...M})))}function YA(...n){return t=>{n.forEach(e=>{typeof e=="function"?e(t):e!=null&&(e.current=t)})}}var G_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{G_&&(window.__reactRouterVersion="7.10.1")}catch{}function WA({basename:n,children:t,unstable_useTransitions:e,window:i}){let s=Ot.useRef();s.current==null&&(s.current=kS({window:i,v5Compat:!0}));let o=s.current,[u,h]=Ot.useState({action:o.action,location:o.location}),f=Ot.useCallback(d=>{e===!1?h(d):Ot.startTransition(()=>h(d))},[e]);return Ot.useLayoutEffect(()=>o.listen(f),[o,f]),Ot.createElement(SA,{basename:n,children:t,location:u.location,navigationType:u.action,navigator:o,unstable_useTransitions:e===!0})}var $_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Y_=Ot.forwardRef(function({onClick:t,discover:e="render",prefetch:i="none",relative:s,reloadDocument:o,replace:u,state:h,target:f,to:d,preventScrollReset:g,viewTransition:w,...S},_){let{basename:N,unstable_useTransitions:M}=Ot.useContext(ho),j=typeof d=="string"&&$_.test(d),R,Q=!1;if(typeof d=="string"&&j&&(R=d,G_))try{let H=new URL(window.location.href),T=d.startsWith("//")?new URL(H.protocol+d):new URL(d),P=Tl(T.pathname,N);T.origin===H.origin&&P!=null?d=P+T.search+T.hash:Q=!0}catch{Ms(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let W=lA(d,{relative:s}),[nt,mt,bt]=qA(i,S),q=JA(d,{replace:u,state:h,target:f,preventScrollReset:g,relative:s,viewTransition:w,unstable_useTransitions:M});function V(H){t&&t(H),H.defaultPrevented||q(H)}let D=Ot.createElement("a",{...S,...bt,href:R||W,onClick:Q||o?t:V,ref:YA(_,mt),target:f,"data-discover":!j&&e==="render"?"true":void 0});return nt&&!j?Ot.createElement(Ot.Fragment,null,D,Ot.createElement(HA,{page:W})):D});Y_.displayName="Link";var KA=Ot.forwardRef(function({"aria-current":t="page",caseSensitive:e=!1,className:i="",end:s=!1,style:o,to:u,viewTransition:h,children:f,...d},g){let w=Uf(u,{relative:d.relative}),S=Eu(),_=Ot.useContext(qp),{navigator:N,basename:M}=Ot.useContext(ho),j=_!=null&&i6(w)&&h===!0,R=N.encodeLocation?N.encodeLocation(w).pathname:w.pathname,Q=S.pathname,W=_&&_.navigation&&_.navigation.location?_.navigation.location.pathname:null;e||(Q=Q.toLowerCase(),W=W?W.toLowerCase():null,R=R.toLowerCase()),W&&M&&(W=Tl(W,M)||W);const nt=R!=="/"&&R.endsWith("/")?R.length-1:R.length;let mt=Q===R||!s&&Q.startsWith(R)&&Q.charAt(nt)==="/",bt=W!=null&&(W===R||!s&&W.startsWith(R)&&W.charAt(R.length)==="/"),q={isActive:mt,isPending:bt,isTransitioning:j},V=mt?t:void 0,D;typeof i=="function"?D=i(q):D=[i,mt?"active":null,bt?"pending":null,j?"transitioning":null].filter(Boolean).join(" ");let H=typeof o=="function"?o(q):o;return Ot.createElement(Y_,{...d,"aria-current":V,className:D,ref:g,style:H,to:u,viewTransition:h},typeof f=="function"?f(q):f)});KA.displayName="NavLink";var QA=Ot.forwardRef(({discover:n="render",fetcherKey:t,navigate:e,reloadDocument:i,replace:s,state:o,method:u=sp,action:h,onSubmit:f,relative:d,preventScrollReset:g,viewTransition:w,...S},_)=>{let{unstable_useTransitions:N}=Ot.useContext(ho),M=n6(),j=r6(h,{relative:d}),R=u.toLowerCase()==="get"?"get":"post",Q=typeof h=="string"&&$_.test(h),W=nt=>{if(f&&f(nt),nt.defaultPrevented)return;nt.preventDefault();let mt=nt.nativeEvent.submitter,bt=mt?.getAttribute("formmethod")||u,q=()=>M(mt||nt.currentTarget,{fetcherKey:t,method:bt,navigate:e,replace:s,state:o,relative:d,preventScrollReset:g,viewTransition:w});N&&e!==!1?Ot.startTransition(()=>q()):q()};return Ot.createElement("form",{ref:_,method:R,action:j,onSubmit:i?f:W,...S,"data-discover":!Q&&n==="render"?"true":void 0})});QA.displayName="Form";function XA(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function W_(n){let t=Ot.useContext(gh);return Pr(t,XA(n)),t}function JA(n,{target:t,replace:e,state:i,preventScrollReset:s,relative:o,viewTransition:u,unstable_useTransitions:h}={}){let f=yh(),d=Eu(),g=Uf(n,{relative:o});return Ot.useCallback(w=>{if(RA(w,t)){w.preventDefault();let S=e!==void 0?e:Nf(d)===Nf(g),_=()=>f(n,{replace:S,state:i,preventScrollReset:s,relative:o,viewTransition:u});h?Ot.startTransition(()=>_()):_()}},[d,f,g,e,i,t,n,s,o,u,h])}function ZA(n){Ms(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=Ot.useRef(_0(n)),e=Ot.useRef(!1),i=Eu(),s=Ot.useMemo(()=>LA(i.search,e.current?null:t.current),[i.search]),o=yh(),u=Ot.useCallback((h,f)=>{const d=_0(typeof h=="function"?h(new URLSearchParams(s)):h);e.current=!0,o("?"+d,f)},[o,s]);return[s,u]}var t6=0,e6=()=>`__${String(++t6)}__`;function n6(){let{router:n}=W_("useSubmit"),{basename:t}=Ot.useContext(ho),e=bA(),i=n.fetch,s=n.navigate;return Ot.useCallback(async(o,u={})=>{let{action:h,method:f,encType:d,formData:g,body:w}=kA(o,t);if(u.navigate===!1){let S=u.fetcherKey||e6();await i(S,e,u.action||h,{preventScrollReset:u.preventScrollReset,formData:g,body:w,formMethod:u.method||f,formEncType:u.encType||d,flushSync:u.flushSync})}else await s(u.action||h,{preventScrollReset:u.preventScrollReset,formData:g,body:w,formMethod:u.method||f,formEncType:u.encType||d,replace:u.replace,state:u.state,fromRouteId:e,flushSync:u.flushSync,viewTransition:u.viewTransition})},[i,s,t,e])}function r6(n,{relative:t}={}){let{basename:e}=Ot.useContext(ho),i=Ot.useContext(kl);Pr(i,"useFormAction must be used inside a RouteContext");let[s]=i.matches.slice(-1),o={...Uf(n||".",{relative:t})},u=Eu();if(n==null){o.search=u.search;let h=new URLSearchParams(o.search),f=h.getAll("index");if(f.some(g=>g==="")){h.delete("index"),f.filter(w=>w).forEach(w=>h.append("index",w));let g=h.toString();o.search=g?`?${g}`:""}}return(!n||n===".")&&s.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),e!=="/"&&(o.pathname=o.pathname==="/"?e:Al([e,o.pathname])),Nf(o)}function i6(n,{relative:t}={}){let e=Ot.useContext(F_);Pr(e!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=W_("useViewTransitionState"),s=Uf(n,{relative:t});if(!e.isTransitioning)return!1;let o=Tl(e.currentLocation.pathname,i)||e.currentLocation.pathname,u=Tl(e.nextLocation.pathname,i)||e.nextLocation.pathname;return _p(s.pathname,u)!=null||_p(s.pathname,o)!=null}const a6=()=>{};var zv={};const K_=function(n){const t=[];let e=0;for(let i=0;i<n.length;i++){let s=n.charCodeAt(i);s<128?t[e++]=s:s<2048?(t[e++]=s>>6|192,t[e++]=s&63|128):(s&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++i)&1023),t[e++]=s>>18|240,t[e++]=s>>12&63|128,t[e++]=s>>6&63|128,t[e++]=s&63|128):(t[e++]=s>>12|224,t[e++]=s>>6&63|128,t[e++]=s&63|128)}return t},s6=function(n){const t=[];let e=0,i=0;for(;e<n.length;){const s=n[e++];if(s<128)t[i++]=String.fromCharCode(s);else if(s>191&&s<224){const o=n[e++];t[i++]=String.fromCharCode((s&31)<<6|o&63)}else if(s>239&&s<365){const o=n[e++],u=n[e++],h=n[e++],f=((s&7)<<18|(o&63)<<12|(u&63)<<6|h&63)-65536;t[i++]=String.fromCharCode(55296+(f>>10)),t[i++]=String.fromCharCode(56320+(f&1023))}else{const o=n[e++],u=n[e++];t[i++]=String.fromCharCode((s&15)<<12|(o&63)<<6|u&63)}}return t.join("")},Q_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<n.length;s+=3){const o=n[s],u=s+1<n.length,h=u?n[s+1]:0,f=s+2<n.length,d=f?n[s+2]:0,g=o>>2,w=(o&3)<<4|h>>4;let S=(h&15)<<2|d>>6,_=d&63;f||(_=64,u||(S=64)),i.push(e[g],e[w],e[S],e[_])}return i.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(K_(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):s6(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<n.length;){const o=e[n.charAt(s++)],h=s<n.length?e[n.charAt(s)]:0;++s;const d=s<n.length?e[n.charAt(s)]:64;++s;const w=s<n.length?e[n.charAt(s)]:64;if(++s,o==null||h==null||d==null||w==null)throw new o6;const S=o<<2|h>>4;if(i.push(S),d!==64){const _=h<<4&240|d>>2;if(i.push(_),w!==64){const N=d<<6&192|w;i.push(N)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class o6 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const l6=function(n){const t=K_(n);return Q_.encodeByteArray(t,!0)},wp=function(n){return l6(n).replace(/\./g,"")},u6=function(n){try{return Q_.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function c6(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const h6=()=>c6().__FIREBASE_DEFAULTS__,f6=()=>{if(typeof process>"u"||typeof zv>"u")return;const n=zv.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},d6=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&u6(n[1]);return t&&JSON.parse(t)},h1=()=>{try{return a6()||h6()||f6()||d6()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},p6=n=>h1()?.emulatorHosts?.[n],m6=n=>{const t=p6(n);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),i]:[t.substring(0,e),i]},X_=()=>h1()?.config;class g6{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,i)=>{e?this.reject(e):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,i))}}}function f1(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function y6(n){return(await fetch(n,{credentials:"include"})).ok}function v6(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},i=t||"demo-project",s=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${i}`,aud:i,iat:s,exp:s+3600,auth_time:s,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...n};return[wp(JSON.stringify(e)),wp(JSON.stringify(u)),""].join(".")}const bf={};function b6(){const n={prod:[],emulator:[]};for(const t of Object.keys(bf))bf[t]?n.emulator.push(t):n.prod.push(t);return n}function _6(n){let t=document.getElementById(n),e=!1;return t||(t=document.createElement("div"),t.setAttribute("id",n),e=!0),{created:e,element:t}}let qv=!1;function w6(n,t){if(typeof window>"u"||typeof document>"u"||!f1(window.location.host)||bf[n]===t||bf[n]||qv)return;bf[n]=t;function e(S){return`__firebase__banner__${S}`}const i="__firebase__banner",o=b6().prod.length>0;function u(){const S=document.getElementById(i);S&&S.remove()}function h(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function f(S,_){S.setAttribute("width","24"),S.setAttribute("id",_),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function d(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{qv=!0,u()},S}function g(S,_){S.setAttribute("id",_),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function w(){const S=_6(i),_=e("text"),N=document.getElementById(_)||document.createElement("span"),M=e("learnmore"),j=document.getElementById(M)||document.createElement("a"),R=e("preprendIcon"),Q=document.getElementById(R)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const W=S.element;h(W),g(j,M);const nt=d();f(Q,R),W.append(Q,N,j,nt),document.body.appendChild(W)}o?(N.innerText="Preview backend disconnected.",Q.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Q.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,N.innerText="Preview backend running in this workspace."),N.setAttribute("id",_)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}function x6(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function S6(){const n=h1()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function A6(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function E6(){return!S6()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function J_(){try{return typeof indexedDB=="object"}catch{return!1}}function Z_(){return new Promise((n,t)=>{try{let e=!0;const i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),e||self.indexedDB.deleteDatabase(i),n(!0)},s.onupgradeneeded=()=>{e=!1},s.onerror=()=>{t(s.error?.message||"")}}catch(e){t(e)}})}function T6(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const N6="FirebaseError";class Tu extends Error{constructor(t,e,i){super(e),this.code=t,this.customData=i,this.name=N6,Object.setPrototypeOf(this,Tu.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Gp.prototype.create)}}class Gp{constructor(t,e,i){this.service=t,this.serviceName=e,this.errors=i}create(t,...e){const i=e[0]||{},s=`${this.service}/${t}`,o=this.errors[t],u=o?C6(o,i):"Error",h=`${this.serviceName}: ${u} (${s}).`;return new Tu(s,h,i)}}function C6(n,t){return n.replace(R6,(e,i)=>{const s=t[i];return s!=null?String(s):`<${i}?>`})}const R6=/\{\$([^}]+)}/g;function Cf(n,t){if(n===t)return!0;const e=Object.keys(n),i=Object.keys(t);for(const s of e){if(!i.includes(s))return!1;const o=n[s],u=t[s];if(Hv(o)&&Hv(u)){if(!Cf(o,u))return!1}else if(o!==u)return!1}for(const s of i)if(!e.includes(s))return!1;return!0}function Hv(n){return n!==null&&typeof n=="object"}const L6=1e3,I6=2,D6=14400*1e3,k6=.5;function Gv(n,t=L6,e=I6){const i=t*Math.pow(e,n),s=Math.round(k6*i*(Math.random()-.5)*2);return Math.min(D6,i+s)}function js(n){return n&&n._delegate?n._delegate:n}class Nl{constructor(t,e,i){this.name=t,this.instanceFactory=e,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Wu="[DEFAULT]";class O6{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const i=new g6;if(this.instancesDeferred.set(e,i),this.isInitialized(e)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:e});s&&i.resolve(s)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){const e=this.normalizeInstanceIdentifier(t?.identifier),i=t?.optional??!1;if(this.isInitialized(e)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:e})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(M6(t))try{this.getOrInitializeService({instanceIdentifier:Wu})}catch{}for(const[e,i]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(e);try{const o=this.getOrInitializeService({instanceIdentifier:s});i.resolve(o)}catch{}}}}clearInstance(t=Wu){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Wu){return this.instances.has(t)}getOptions(t=Wu){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:i,options:e});for(const[o,u]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(o);i===h&&u.resolve(s)}return s}onInit(t,e){const i=this.normalizeInstanceIdentifier(e),s=this.onInitCallbacks.get(i)??new Set;s.add(t),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&t(o,i),()=>{s.delete(t)}}invokeOnInitCallbacks(t,e){const i=this.onInitCallbacks.get(e);if(i)for(const s of i)try{s(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:P6(t),options:e}),this.instances.set(t,i),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=Wu){return this.component?this.component.multipleInstances?t:Wu:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function P6(n){return n===Wu?void 0:n}function M6(n){return n.instantiationMode==="EAGER"}class j6{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new O6(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}var kn;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(kn||(kn={}));const F6={debug:kn.DEBUG,verbose:kn.VERBOSE,info:kn.INFO,warn:kn.WARN,error:kn.ERROR,silent:kn.SILENT},V6=kn.INFO,B6={[kn.DEBUG]:"log",[kn.VERBOSE]:"log",[kn.INFO]:"info",[kn.WARN]:"warn",[kn.ERROR]:"error"},U6=(n,t,...e)=>{if(t<n.logLevel)return;const i=new Date().toISOString(),s=B6[t];if(s)console[s](`[${i}]  ${n.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class d1{constructor(t){this.name=t,this._logLevel=V6,this._logHandler=U6,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in kn))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?F6[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,kn.DEBUG,...t),this._logHandler(this,kn.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,kn.VERBOSE,...t),this._logHandler(this,kn.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,kn.INFO,...t),this._logHandler(this,kn.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,kn.WARN,...t),this._logHandler(this,kn.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,kn.ERROR,...t),this._logHandler(this,kn.ERROR,...t)}}const z6=(n,t)=>t.some(e=>n instanceof e);let $v,Yv;function q6(){return $v||($v=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function H6(){return Yv||(Yv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const tw=new WeakMap,w0=new WeakMap,ew=new WeakMap,kg=new WeakMap,p1=new WeakMap;function G6(n){const t=new Promise((e,i)=>{const s=()=>{n.removeEventListener("success",o),n.removeEventListener("error",u)},o=()=>{e(du(n.result)),s()},u=()=>{i(n.error),s()};n.addEventListener("success",o),n.addEventListener("error",u)});return t.then(e=>{e instanceof IDBCursor&&tw.set(e,n)}).catch(()=>{}),p1.set(t,n),t}function $6(n){if(w0.has(n))return;const t=new Promise((e,i)=>{const s=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",u),n.removeEventListener("abort",u)},o=()=>{e(),s()},u=()=>{i(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",o),n.addEventListener("error",u),n.addEventListener("abort",u)});w0.set(n,t)}let x0={get(n,t,e){if(n instanceof IDBTransaction){if(t==="done")return w0.get(n);if(t==="objectStoreNames")return n.objectStoreNames||ew.get(n);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return du(n[t])},set(n,t,e){return n[t]=e,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function Y6(n){x0=n(x0)}function W6(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const i=n.call(Og(this),t,...e);return ew.set(i,t.sort?t.sort():[t]),du(i)}:H6().includes(n)?function(...t){return n.apply(Og(this),t),du(tw.get(this))}:function(...t){return du(n.apply(Og(this),t))}}function K6(n){return typeof n=="function"?W6(n):(n instanceof IDBTransaction&&$6(n),z6(n,q6())?new Proxy(n,x0):n)}function du(n){if(n instanceof IDBRequest)return G6(n);if(kg.has(n))return kg.get(n);const t=K6(n);return t!==n&&(kg.set(n,t),p1.set(t,n)),t}const Og=n=>p1.get(n);function nw(n,t,{blocked:e,upgrade:i,blocking:s,terminated:o}={}){const u=indexedDB.open(n,t),h=du(u);return i&&u.addEventListener("upgradeneeded",f=>{i(du(u.result),f.oldVersion,f.newVersion,du(u.transaction),f)}),e&&u.addEventListener("blocked",f=>e(f.oldVersion,f.newVersion,f)),h.then(f=>{o&&f.addEventListener("close",()=>o()),s&&f.addEventListener("versionchange",d=>s(d.oldVersion,d.newVersion,d))}).catch(()=>{}),h}const Q6=["get","getKey","getAll","getAllKeys","count"],X6=["put","add","delete","clear"],Pg=new Map;function Wv(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(Pg.get(t))return Pg.get(t);const e=t.replace(/FromIndex$/,""),i=t!==e,s=X6.includes(e);if(!(e in(i?IDBIndex:IDBObjectStore).prototype)||!(s||Q6.includes(e)))return;const o=async function(u,...h){const f=this.transaction(u,s?"readwrite":"readonly");let d=f.store;return i&&(d=d.index(h.shift())),(await Promise.all([d[e](...h),s&&f.done]))[0]};return Pg.set(t,o),o}Y6(n=>({...n,get:(t,e,i)=>Wv(t,e)||n.get(t,e,i),has:(t,e)=>!!Wv(t,e)||n.has(t,e)}));class J6{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(Z6(e)){const i=e.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(e=>e).join(" ")}}function Z6(n){return n.getComponent()?.type==="VERSION"}const S0="@firebase/app",Kv="0.14.6";const Cl=new d1("@firebase/app"),tE="@firebase/app-compat",eE="@firebase/analytics-compat",nE="@firebase/analytics",rE="@firebase/app-check-compat",iE="@firebase/app-check",aE="@firebase/auth",sE="@firebase/auth-compat",oE="@firebase/database",lE="@firebase/data-connect",uE="@firebase/database-compat",cE="@firebase/functions",hE="@firebase/functions-compat",fE="@firebase/installations",dE="@firebase/installations-compat",pE="@firebase/messaging",mE="@firebase/messaging-compat",gE="@firebase/performance",yE="@firebase/performance-compat",vE="@firebase/remote-config",bE="@firebase/remote-config-compat",_E="@firebase/storage",wE="@firebase/storage-compat",xE="@firebase/firestore",SE="@firebase/ai",AE="@firebase/firestore-compat",EE="firebase",TE="12.6.0";const A0="[DEFAULT]",NE={[S0]:"fire-core",[tE]:"fire-core-compat",[nE]:"fire-analytics",[eE]:"fire-analytics-compat",[iE]:"fire-app-check",[rE]:"fire-app-check-compat",[aE]:"fire-auth",[sE]:"fire-auth-compat",[oE]:"fire-rtdb",[lE]:"fire-data-connect",[uE]:"fire-rtdb-compat",[cE]:"fire-fn",[hE]:"fire-fn-compat",[fE]:"fire-iid",[dE]:"fire-iid-compat",[pE]:"fire-fcm",[mE]:"fire-fcm-compat",[gE]:"fire-perf",[yE]:"fire-perf-compat",[vE]:"fire-rc",[bE]:"fire-rc-compat",[_E]:"fire-gcs",[wE]:"fire-gcs-compat",[xE]:"fire-fst",[AE]:"fire-fst-compat",[SE]:"fire-vertex","fire-js":"fire-js",[EE]:"fire-js-all"};const xp=new Map,CE=new Map,E0=new Map;function Qv(n,t){try{n.container.addComponent(t)}catch(e){Cl.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,e)}}function yu(n){const t=n.name;if(E0.has(t))return Cl.debug(`There were multiple attempts to register component ${t}.`),!1;E0.set(t,n);for(const e of xp.values())Qv(e,n);for(const e of CE.values())Qv(e,n);return!0}function zf(n,t){const e=n.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),n.container.getProvider(t)}function RE(n){return n==null?!1:n.settings!==void 0}const LE={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},pu=new Gp("app","Firebase",LE);class IE{constructor(t,e,i){this._isDeleted=!1,this._options={...t},this._config={...e},this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Nl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw pu.create("app-deleted",{appName:this._name})}}const DE=TE;function rw(n,t={}){let e=n;typeof t!="object"&&(t={name:t});const i={name:A0,automaticDataCollectionEnabled:!0,...t},s=i.name;if(typeof s!="string"||!s)throw pu.create("bad-app-name",{appName:String(s)});if(e||(e=X_()),!e)throw pu.create("no-options");const o=xp.get(s);if(o){if(Cf(e,o.options)&&Cf(i,o.config))return o;throw pu.create("duplicate-app",{appName:s})}const u=new j6(s);for(const f of E0.values())u.addComponent(f);const h=new IE(e,i,u);return xp.set(s,h),h}function iw(n=A0){const t=xp.get(n);if(!t&&n===A0&&X_())return rw();if(!t)throw pu.create("no-app",{appName:n});return t}function Uo(n,t,e){let i=NE[n]??n;e&&(i+=`-${e}`);const s=i.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const u=[`Unable to register library "${i}" with version "${t}":`];s&&u.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&u.push("and"),o&&u.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Cl.warn(u.join(" "));return}yu(new Nl(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}const kE="firebase-heartbeat-database",OE=1,Rf="firebase-heartbeat-store";let Mg=null;function aw(){return Mg||(Mg=nw(kE,OE,{upgrade:(n,t)=>{switch(t){case 0:try{n.createObjectStore(Rf)}catch(e){console.warn(e)}}}}).catch(n=>{throw pu.create("idb-open",{originalErrorMessage:n.message})})),Mg}async function PE(n){try{const e=(await aw()).transaction(Rf),i=await e.objectStore(Rf).get(sw(n));return await e.done,i}catch(t){if(t instanceof Tu)Cl.warn(t.message);else{const e=pu.create("idb-get",{originalErrorMessage:t?.message});Cl.warn(e.message)}}}async function Xv(n,t){try{const i=(await aw()).transaction(Rf,"readwrite");await i.objectStore(Rf).put(t,sw(n)),await i.done}catch(e){if(e instanceof Tu)Cl.warn(e.message);else{const i=pu.create("idb-set",{originalErrorMessage:e?.message});Cl.warn(i.message)}}}function sw(n){return`${n.name}!${n.options.appId}`}const ME=1024,jE=30;class FE{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new BE(e),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Jv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(s=>s.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:e}),this._heartbeatsCache.heartbeats.length>jE){const s=UE(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Cl.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Jv(),{heartbeatsToSend:e,unsentEntries:i}=VE(this._heartbeatsCache.heartbeats),s=wp(JSON.stringify({version:2,heartbeats:e}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(t){return Cl.warn(t),""}}}function Jv(){return new Date().toISOString().substring(0,10)}function VE(n,t=ME){const e=[];let i=n.slice();for(const s of n){const o=e.find(u=>u.agent===s.agent);if(o){if(o.dates.push(s.date),Zv(e)>t){o.dates.pop();break}}else if(e.push({agent:s.agent,dates:[s.date]}),Zv(e)>t){e.pop();break}i=i.slice(1)}return{heartbeatsToSend:e,unsentEntries:i}}class BE{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return J_()?Z_().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await PE(this.app);return e?.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return Xv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return Xv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function Zv(n){return wp(JSON.stringify({version:2,heartbeats:n})).length}function UE(n){if(n.length===0)return-1;let t=0,e=n[0].date;for(let i=1;i<n.length;i++)n[i].date<e&&(e=n[i].date,t=i);return t}function zE(n){yu(new Nl("platform-logger",t=>new J6(t),"PRIVATE")),yu(new Nl("heartbeat",t=>new FE(t),"PRIVATE")),Uo(S0,Kv,n),Uo(S0,Kv,"esm2020"),Uo("fire-js","")}zE("");var qE="firebase",HE="12.6.0";Uo(qE,HE,"app");var t5=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var mu,ow;(function(){var n;function t(q,V){function D(){}D.prototype=V.prototype,q.F=V.prototype,q.prototype=new D,q.prototype.constructor=q,q.D=function(H,T,P){for(var F=Array(arguments.length-2),lt=2;lt<arguments.length;lt++)F[lt-2]=arguments[lt];return V.prototype[T].apply(H,F)}}function e(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(i,e),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(q,V,D){D||(D=0);const H=Array(16);if(typeof V=="string")for(var T=0;T<16;++T)H[T]=V.charCodeAt(D++)|V.charCodeAt(D++)<<8|V.charCodeAt(D++)<<16|V.charCodeAt(D++)<<24;else for(T=0;T<16;++T)H[T]=V[D++]|V[D++]<<8|V[D++]<<16|V[D++]<<24;V=q.g[0],D=q.g[1],T=q.g[2];let P=q.g[3],F;F=V+(P^D&(T^P))+H[0]+3614090360&4294967295,V=D+(F<<7&4294967295|F>>>25),F=P+(T^V&(D^T))+H[1]+3905402710&4294967295,P=V+(F<<12&4294967295|F>>>20),F=T+(D^P&(V^D))+H[2]+606105819&4294967295,T=P+(F<<17&4294967295|F>>>15),F=D+(V^T&(P^V))+H[3]+3250441966&4294967295,D=T+(F<<22&4294967295|F>>>10),F=V+(P^D&(T^P))+H[4]+4118548399&4294967295,V=D+(F<<7&4294967295|F>>>25),F=P+(T^V&(D^T))+H[5]+1200080426&4294967295,P=V+(F<<12&4294967295|F>>>20),F=T+(D^P&(V^D))+H[6]+2821735955&4294967295,T=P+(F<<17&4294967295|F>>>15),F=D+(V^T&(P^V))+H[7]+4249261313&4294967295,D=T+(F<<22&4294967295|F>>>10),F=V+(P^D&(T^P))+H[8]+1770035416&4294967295,V=D+(F<<7&4294967295|F>>>25),F=P+(T^V&(D^T))+H[9]+2336552879&4294967295,P=V+(F<<12&4294967295|F>>>20),F=T+(D^P&(V^D))+H[10]+4294925233&4294967295,T=P+(F<<17&4294967295|F>>>15),F=D+(V^T&(P^V))+H[11]+2304563134&4294967295,D=T+(F<<22&4294967295|F>>>10),F=V+(P^D&(T^P))+H[12]+1804603682&4294967295,V=D+(F<<7&4294967295|F>>>25),F=P+(T^V&(D^T))+H[13]+4254626195&4294967295,P=V+(F<<12&4294967295|F>>>20),F=T+(D^P&(V^D))+H[14]+2792965006&4294967295,T=P+(F<<17&4294967295|F>>>15),F=D+(V^T&(P^V))+H[15]+1236535329&4294967295,D=T+(F<<22&4294967295|F>>>10),F=V+(T^P&(D^T))+H[1]+4129170786&4294967295,V=D+(F<<5&4294967295|F>>>27),F=P+(D^T&(V^D))+H[6]+3225465664&4294967295,P=V+(F<<9&4294967295|F>>>23),F=T+(V^D&(P^V))+H[11]+643717713&4294967295,T=P+(F<<14&4294967295|F>>>18),F=D+(P^V&(T^P))+H[0]+3921069994&4294967295,D=T+(F<<20&4294967295|F>>>12),F=V+(T^P&(D^T))+H[5]+3593408605&4294967295,V=D+(F<<5&4294967295|F>>>27),F=P+(D^T&(V^D))+H[10]+38016083&4294967295,P=V+(F<<9&4294967295|F>>>23),F=T+(V^D&(P^V))+H[15]+3634488961&4294967295,T=P+(F<<14&4294967295|F>>>18),F=D+(P^V&(T^P))+H[4]+3889429448&4294967295,D=T+(F<<20&4294967295|F>>>12),F=V+(T^P&(D^T))+H[9]+568446438&4294967295,V=D+(F<<5&4294967295|F>>>27),F=P+(D^T&(V^D))+H[14]+3275163606&4294967295,P=V+(F<<9&4294967295|F>>>23),F=T+(V^D&(P^V))+H[3]+4107603335&4294967295,T=P+(F<<14&4294967295|F>>>18),F=D+(P^V&(T^P))+H[8]+1163531501&4294967295,D=T+(F<<20&4294967295|F>>>12),F=V+(T^P&(D^T))+H[13]+2850285829&4294967295,V=D+(F<<5&4294967295|F>>>27),F=P+(D^T&(V^D))+H[2]+4243563512&4294967295,P=V+(F<<9&4294967295|F>>>23),F=T+(V^D&(P^V))+H[7]+1735328473&4294967295,T=P+(F<<14&4294967295|F>>>18),F=D+(P^V&(T^P))+H[12]+2368359562&4294967295,D=T+(F<<20&4294967295|F>>>12),F=V+(D^T^P)+H[5]+4294588738&4294967295,V=D+(F<<4&4294967295|F>>>28),F=P+(V^D^T)+H[8]+2272392833&4294967295,P=V+(F<<11&4294967295|F>>>21),F=T+(P^V^D)+H[11]+1839030562&4294967295,T=P+(F<<16&4294967295|F>>>16),F=D+(T^P^V)+H[14]+4259657740&4294967295,D=T+(F<<23&4294967295|F>>>9),F=V+(D^T^P)+H[1]+2763975236&4294967295,V=D+(F<<4&4294967295|F>>>28),F=P+(V^D^T)+H[4]+1272893353&4294967295,P=V+(F<<11&4294967295|F>>>21),F=T+(P^V^D)+H[7]+4139469664&4294967295,T=P+(F<<16&4294967295|F>>>16),F=D+(T^P^V)+H[10]+3200236656&4294967295,D=T+(F<<23&4294967295|F>>>9),F=V+(D^T^P)+H[13]+681279174&4294967295,V=D+(F<<4&4294967295|F>>>28),F=P+(V^D^T)+H[0]+3936430074&4294967295,P=V+(F<<11&4294967295|F>>>21),F=T+(P^V^D)+H[3]+3572445317&4294967295,T=P+(F<<16&4294967295|F>>>16),F=D+(T^P^V)+H[6]+76029189&4294967295,D=T+(F<<23&4294967295|F>>>9),F=V+(D^T^P)+H[9]+3654602809&4294967295,V=D+(F<<4&4294967295|F>>>28),F=P+(V^D^T)+H[12]+3873151461&4294967295,P=V+(F<<11&4294967295|F>>>21),F=T+(P^V^D)+H[15]+530742520&4294967295,T=P+(F<<16&4294967295|F>>>16),F=D+(T^P^V)+H[2]+3299628645&4294967295,D=T+(F<<23&4294967295|F>>>9),F=V+(T^(D|~P))+H[0]+4096336452&4294967295,V=D+(F<<6&4294967295|F>>>26),F=P+(D^(V|~T))+H[7]+1126891415&4294967295,P=V+(F<<10&4294967295|F>>>22),F=T+(V^(P|~D))+H[14]+2878612391&4294967295,T=P+(F<<15&4294967295|F>>>17),F=D+(P^(T|~V))+H[5]+4237533241&4294967295,D=T+(F<<21&4294967295|F>>>11),F=V+(T^(D|~P))+H[12]+1700485571&4294967295,V=D+(F<<6&4294967295|F>>>26),F=P+(D^(V|~T))+H[3]+2399980690&4294967295,P=V+(F<<10&4294967295|F>>>22),F=T+(V^(P|~D))+H[10]+4293915773&4294967295,T=P+(F<<15&4294967295|F>>>17),F=D+(P^(T|~V))+H[1]+2240044497&4294967295,D=T+(F<<21&4294967295|F>>>11),F=V+(T^(D|~P))+H[8]+1873313359&4294967295,V=D+(F<<6&4294967295|F>>>26),F=P+(D^(V|~T))+H[15]+4264355552&4294967295,P=V+(F<<10&4294967295|F>>>22),F=T+(V^(P|~D))+H[6]+2734768916&4294967295,T=P+(F<<15&4294967295|F>>>17),F=D+(P^(T|~V))+H[13]+1309151649&4294967295,D=T+(F<<21&4294967295|F>>>11),F=V+(T^(D|~P))+H[4]+4149444226&4294967295,V=D+(F<<6&4294967295|F>>>26),F=P+(D^(V|~T))+H[11]+3174756917&4294967295,P=V+(F<<10&4294967295|F>>>22),F=T+(V^(P|~D))+H[2]+718787259&4294967295,T=P+(F<<15&4294967295|F>>>17),F=D+(P^(T|~V))+H[9]+3951481745&4294967295,q.g[0]=q.g[0]+V&4294967295,q.g[1]=q.g[1]+(T+(F<<21&4294967295|F>>>11))&4294967295,q.g[2]=q.g[2]+T&4294967295,q.g[3]=q.g[3]+P&4294967295}i.prototype.v=function(q,V){V===void 0&&(V=q.length);const D=V-this.blockSize,H=this.C;let T=this.h,P=0;for(;P<V;){if(T==0)for(;P<=D;)s(this,q,P),P+=this.blockSize;if(typeof q=="string"){for(;P<V;)if(H[T++]=q.charCodeAt(P++),T==this.blockSize){s(this,H),T=0;break}}else for(;P<V;)if(H[T++]=q[P++],T==this.blockSize){s(this,H),T=0;break}}this.h=T,this.o+=V},i.prototype.A=function(){var q=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);q[0]=128;for(var V=1;V<q.length-8;++V)q[V]=0;V=this.o*8;for(var D=q.length-8;D<q.length;++D)q[D]=V&255,V/=256;for(this.v(q),q=Array(16),V=0,D=0;D<4;++D)for(let H=0;H<32;H+=8)q[V++]=this.g[D]>>>H&255;return q};function o(q,V){var D=h;return Object.prototype.hasOwnProperty.call(D,q)?D[q]:D[q]=V(q)}function u(q,V){this.h=V;const D=[];let H=!0;for(let T=q.length-1;T>=0;T--){const P=q[T]|0;H&&P==V||(D[T]=P,H=!1)}this.g=D}var h={};function f(q){return-128<=q&&q<128?o(q,function(V){return new u([V|0],V<0?-1:0)}):new u([q|0],q<0?-1:0)}function d(q){if(isNaN(q)||!isFinite(q))return w;if(q<0)return j(d(-q));const V=[];let D=1;for(let H=0;q>=D;H++)V[H]=q/D|0,D*=4294967296;return new u(V,0)}function g(q,V){if(q.length==0)throw Error("number format error: empty string");if(V=V||10,V<2||36<V)throw Error("radix out of range: "+V);if(q.charAt(0)=="-")return j(g(q.substring(1),V));if(q.indexOf("-")>=0)throw Error('number format error: interior "-" character');const D=d(Math.pow(V,8));let H=w;for(let P=0;P<q.length;P+=8){var T=Math.min(8,q.length-P);const F=parseInt(q.substring(P,P+T),V);T<8?(T=d(Math.pow(V,T)),H=H.j(T).add(d(F))):(H=H.j(D),H=H.add(d(F)))}return H}var w=f(0),S=f(1),_=f(16777216);n=u.prototype,n.m=function(){if(M(this))return-j(this).m();let q=0,V=1;for(let D=0;D<this.g.length;D++){const H=this.i(D);q+=(H>=0?H:4294967296+H)*V,V*=4294967296}return q},n.toString=function(q){if(q=q||10,q<2||36<q)throw Error("radix out of range: "+q);if(N(this))return"0";if(M(this))return"-"+j(this).toString(q);const V=d(Math.pow(q,6));var D=this;let H="";for(;;){const T=nt(D,V).g;D=R(D,T.j(V));let P=((D.g.length>0?D.g[0]:D.h)>>>0).toString(q);if(D=T,N(D))return P+H;for(;P.length<6;)P="0"+P;H=P+H}},n.i=function(q){return q<0?0:q<this.g.length?this.g[q]:this.h};function N(q){if(q.h!=0)return!1;for(let V=0;V<q.g.length;V++)if(q.g[V]!=0)return!1;return!0}function M(q){return q.h==-1}n.l=function(q){return q=R(this,q),M(q)?-1:N(q)?0:1};function j(q){const V=q.g.length,D=[];for(let H=0;H<V;H++)D[H]=~q.g[H];return new u(D,~q.h).add(S)}n.abs=function(){return M(this)?j(this):this},n.add=function(q){const V=Math.max(this.g.length,q.g.length),D=[];let H=0;for(let T=0;T<=V;T++){let P=H+(this.i(T)&65535)+(q.i(T)&65535),F=(P>>>16)+(this.i(T)>>>16)+(q.i(T)>>>16);H=F>>>16,P&=65535,F&=65535,D[T]=F<<16|P}return new u(D,D[D.length-1]&-2147483648?-1:0)};function R(q,V){return q.add(j(V))}n.j=function(q){if(N(this)||N(q))return w;if(M(this))return M(q)?j(this).j(j(q)):j(j(this).j(q));if(M(q))return j(this.j(j(q)));if(this.l(_)<0&&q.l(_)<0)return d(this.m()*q.m());const V=this.g.length+q.g.length,D=[];for(var H=0;H<2*V;H++)D[H]=0;for(H=0;H<this.g.length;H++)for(let T=0;T<q.g.length;T++){const P=this.i(H)>>>16,F=this.i(H)&65535,lt=q.i(T)>>>16,xt=q.i(T)&65535;D[2*H+2*T]+=F*xt,Q(D,2*H+2*T),D[2*H+2*T+1]+=P*xt,Q(D,2*H+2*T+1),D[2*H+2*T+1]+=F*lt,Q(D,2*H+2*T+1),D[2*H+2*T+2]+=P*lt,Q(D,2*H+2*T+2)}for(q=0;q<V;q++)D[q]=D[2*q+1]<<16|D[2*q];for(q=V;q<2*V;q++)D[q]=0;return new u(D,0)};function Q(q,V){for(;(q[V]&65535)!=q[V];)q[V+1]+=q[V]>>>16,q[V]&=65535,V++}function W(q,V){this.g=q,this.h=V}function nt(q,V){if(N(V))throw Error("division by zero");if(N(q))return new W(w,w);if(M(q))return V=nt(j(q),V),new W(j(V.g),j(V.h));if(M(V))return V=nt(q,j(V)),new W(j(V.g),V.h);if(q.g.length>30){if(M(q)||M(V))throw Error("slowDivide_ only works with positive integers.");for(var D=S,H=V;H.l(q)<=0;)D=mt(D),H=mt(H);var T=bt(D,1),P=bt(H,1);for(H=bt(H,2),D=bt(D,2);!N(H);){var F=P.add(H);F.l(q)<=0&&(T=T.add(D),P=F),H=bt(H,1),D=bt(D,1)}return V=R(q,T.j(V)),new W(T,V)}for(T=w;q.l(V)>=0;){for(D=Math.max(1,Math.floor(q.m()/V.m())),H=Math.ceil(Math.log(D)/Math.LN2),H=H<=48?1:Math.pow(2,H-48),P=d(D),F=P.j(V);M(F)||F.l(q)>0;)D-=H,P=d(D),F=P.j(V);N(P)&&(P=S),T=T.add(P),q=R(q,F)}return new W(T,q)}n.B=function(q){return nt(this,q).h},n.and=function(q){const V=Math.max(this.g.length,q.g.length),D=[];for(let H=0;H<V;H++)D[H]=this.i(H)&q.i(H);return new u(D,this.h&q.h)},n.or=function(q){const V=Math.max(this.g.length,q.g.length),D=[];for(let H=0;H<V;H++)D[H]=this.i(H)|q.i(H);return new u(D,this.h|q.h)},n.xor=function(q){const V=Math.max(this.g.length,q.g.length),D=[];for(let H=0;H<V;H++)D[H]=this.i(H)^q.i(H);return new u(D,this.h^q.h)};function mt(q){const V=q.g.length+1,D=[];for(let H=0;H<V;H++)D[H]=q.i(H)<<1|q.i(H-1)>>>31;return new u(D,q.h)}function bt(q,V){const D=V>>5;V%=32;const H=q.g.length-D,T=[];for(let P=0;P<H;P++)T[P]=V>0?q.i(P+D)>>>V|q.i(P+D+1)<<32-V:q.i(P+D);return new u(T,q.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,ow=i,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=d,u.fromString=g,mu=u}).apply(typeof t5<"u"?t5:typeof self<"u"?self:typeof window<"u"?window:{});var Hd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var lw,pf,uw,lp,T0,cw,hw,fw;(function(){var n,t=Object.defineProperty;function e(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof Hd=="object"&&Hd];for(var E=0;E<m.length;++E){var k=m[E];if(k&&k.Math==Math)return k}throw Error("Cannot find global object")}var i=e(this);function s(m,E){if(E)t:{var k=i;m=m.split(".");for(var J=0;J<m.length-1;J++){var St=m[J];if(!(St in k))break t;k=k[St]}m=m[m.length-1],J=k[m],E=E(J),E!=J&&E!=null&&t(k,m,{configurable:!0,writable:!0,value:E})}}s("Symbol.dispose",function(m){return m||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(m){return m||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(m){return m||function(E){var k=[],J;for(J in E)Object.prototype.hasOwnProperty.call(E,J)&&k.push([J,E[J]]);return k}});var o=o||{},u=this||self;function h(m){var E=typeof m;return E=="object"&&m!=null||E=="function"}function f(m,E,k){return m.call.apply(m.bind,arguments)}function d(m,E,k){return d=f,d.apply(null,arguments)}function g(m,E){var k=Array.prototype.slice.call(arguments,1);return function(){var J=k.slice();return J.push.apply(J,arguments),m.apply(this,J)}}function w(m,E){function k(){}k.prototype=E.prototype,m.Z=E.prototype,m.prototype=new k,m.prototype.constructor=m,m.Ob=function(J,St,kt){for(var re=Array(arguments.length-2),Qe=2;Qe<arguments.length;Qe++)re[Qe-2]=arguments[Qe];return E.prototype[St].apply(J,re)}}var S=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?m=>m&&AsyncContext.Snapshot.wrap(m):m=>m;function _(m){const E=m.length;if(E>0){const k=Array(E);for(let J=0;J<E;J++)k[J]=m[J];return k}return[]}function N(m,E){for(let J=1;J<arguments.length;J++){const St=arguments[J];var k=typeof St;if(k=k!="object"?k:St?Array.isArray(St)?"array":k:"null",k=="array"||k=="object"&&typeof St.length=="number"){k=m.length||0;const kt=St.length||0;m.length=k+kt;for(let re=0;re<kt;re++)m[k+re]=St[re]}else m.push(St)}}class M{constructor(E,k){this.i=E,this.j=k,this.h=0,this.g=null}get(){let E;return this.h>0?(this.h--,E=this.g,this.g=E.next,E.next=null):E=this.i(),E}}function j(m){u.setTimeout(()=>{throw m},0)}function R(){var m=q;let E=null;return m.g&&(E=m.g,m.g=m.g.next,m.g||(m.h=null),E.next=null),E}class Q{constructor(){this.h=this.g=null}add(E,k){const J=W.get();J.set(E,k),this.h?this.h.next=J:this.g=J,this.h=J}}var W=new M(()=>new nt,m=>m.reset());class nt{constructor(){this.next=this.g=this.h=null}set(E,k){this.h=E,this.g=k,this.next=null}reset(){this.next=this.g=this.h=null}}let mt,bt=!1,q=new Q,V=()=>{const m=Promise.resolve(void 0);mt=()=>{m.then(D)}};function D(){for(var m;m=R();){try{m.h.call(m.g)}catch(k){j(k)}var E=W;E.j(m),E.h<100&&(E.h++,m.next=E.g,E.g=m)}bt=!1}function H(){this.u=this.u,this.C=this.C}H.prototype.u=!1,H.prototype.dispose=function(){this.u||(this.u=!0,this.N())},H.prototype[Symbol.dispose]=function(){this.dispose()},H.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function T(m,E){this.type=m,this.g=this.target=E,this.defaultPrevented=!1}T.prototype.h=function(){this.defaultPrevented=!0};var P=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var m=!1,E=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const k=()=>{};u.addEventListener("test",k,E),u.removeEventListener("test",k,E)}catch{}return m})();function F(m){return/^[\s\xa0]*$/.test(m)}function lt(m,E){T.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m&&this.init(m,E)}w(lt,T),lt.prototype.init=function(m,E){const k=this.type=m.type,J=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;this.target=m.target||m.srcElement,this.g=E,E=m.relatedTarget,E||(k=="mouseover"?E=m.fromElement:k=="mouseout"&&(E=m.toElement)),this.relatedTarget=E,J?(this.clientX=J.clientX!==void 0?J.clientX:J.pageX,this.clientY=J.clientY!==void 0?J.clientY:J.pageY,this.screenX=J.screenX||0,this.screenY=J.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=m.pointerType,this.state=m.state,this.i=m,m.defaultPrevented&&lt.Z.h.call(this)},lt.prototype.h=function(){lt.Z.h.call(this);const m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var xt="closure_listenable_"+(Math.random()*1e6|0),ot=0;function dt(m,E,k,J,St){this.listener=m,this.proxy=null,this.src=E,this.type=k,this.capture=!!J,this.ha=St,this.key=++ot,this.da=this.fa=!1}function ft(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function Nt(m,E,k){for(const J in m)E.call(k,m[J],J,m)}function Wt(m,E){for(const k in m)E.call(void 0,m[k],k,m)}function $(m){const E={};for(const k in m)E[k]=m[k];return E}const O="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function K(m,E){let k,J;for(let St=1;St<arguments.length;St++){J=arguments[St];for(k in J)m[k]=J[k];for(let kt=0;kt<O.length;kt++)k=O[kt],Object.prototype.hasOwnProperty.call(J,k)&&(m[k]=J[k])}}function tt(m){this.src=m,this.g={},this.h=0}tt.prototype.add=function(m,E,k,J,St){const kt=m.toString();m=this.g[kt],m||(m=this.g[kt]=[],this.h++);const re=ut(m,E,J,St);return re>-1?(E=m[re],k||(E.fa=!1)):(E=new dt(E,this.src,kt,!!J,St),E.fa=k,m.push(E)),E};function st(m,E){const k=E.type;if(k in m.g){var J=m.g[k],St=Array.prototype.indexOf.call(J,E,void 0),kt;(kt=St>=0)&&Array.prototype.splice.call(J,St,1),kt&&(ft(E),m.g[k].length==0&&(delete m.g[k],m.h--))}}function ut(m,E,k,J){for(let St=0;St<m.length;++St){const kt=m[St];if(!kt.da&&kt.listener==E&&kt.capture==!!k&&kt.ha==J)return St}return-1}var yt="closure_lm_"+(Math.random()*1e6|0),It={};function Rt(m,E,k,J,St){if(Array.isArray(E)){for(let kt=0;kt<E.length;kt++)Rt(m,E[kt],k,J,St);return null}return k=ce(k),m&&m[xt]?m.J(E,k,h(J)?!!J.capture:!1,St):zt(m,E,k,!1,J,St)}function zt(m,E,k,J,St,kt){if(!E)throw Error("Invalid event type");const re=h(St)?!!St.capture:!!St;let Qe=ne(m);if(Qe||(m[yt]=Qe=new tt(m)),k=Qe.add(E,k,J,re,kt),k.proxy)return k;if(J=Et(),k.proxy=J,J.src=m,J.listener=k,m.addEventListener)P||(St=re),St===void 0&&(St=!1),m.addEventListener(E.toString(),J,St);else if(m.attachEvent)m.attachEvent(Mt(E.toString()),J);else if(m.addListener&&m.removeListener)m.addListener(J);else throw Error("addEventListener and attachEvent are unavailable.");return k}function Et(){function m(k){return E.call(m.src,m.listener,k)}const E=Z;return m}function jt(m,E,k,J,St){if(Array.isArray(E))for(var kt=0;kt<E.length;kt++)jt(m,E[kt],k,J,St);else J=h(J)?!!J.capture:!!J,k=ce(k),m&&m[xt]?(m=m.i,kt=String(E).toString(),kt in m.g&&(E=m.g[kt],k=ut(E,k,J,St),k>-1&&(ft(E[k]),Array.prototype.splice.call(E,k,1),E.length==0&&(delete m.g[kt],m.h--)))):m&&(m=ne(m))&&(E=m.g[E.toString()],m=-1,E&&(m=ut(E,k,J,St)),(k=m>-1?E[m]:null)&&qt(k))}function qt(m){if(typeof m!="number"&&m&&!m.da){var E=m.src;if(E&&E[xt])st(E.i,m);else{var k=m.type,J=m.proxy;E.removeEventListener?E.removeEventListener(k,J,m.capture):E.detachEvent?E.detachEvent(Mt(k),J):E.addListener&&E.removeListener&&E.removeListener(J),(k=ne(E))?(st(k,m),k.h==0&&(k.src=null,E[yt]=null)):ft(m)}}}function Mt(m){return m in It?It[m]:It[m]="on"+m}function Z(m,E){if(m.da)m=!0;else{E=new lt(E,this);const k=m.listener,J=m.ha||m.src;m.fa&&qt(m),m=k.call(J,E)}return m}function ne(m){return m=m[yt],m instanceof tt?m:null}var Ce="__closure_events_fn_"+(Math.random()*1e9>>>0);function ce(m){return typeof m=="function"?m:(m[Ce]||(m[Ce]=function(E){return m.handleEvent(E)}),m[Ce])}function Ht(){H.call(this),this.i=new tt(this),this.M=this,this.G=null}w(Ht,H),Ht.prototype[xt]=!0,Ht.prototype.removeEventListener=function(m,E,k,J){jt(this,m,E,k,J)};function le(m,E){var k,J=m.G;if(J)for(k=[];J;J=J.G)k.push(J);if(m=m.M,J=E.type||E,typeof E=="string")E=new T(E,m);else if(E instanceof T)E.target=E.target||m;else{var St=E;E=new T(J,m),K(E,St)}St=!0;let kt,re;if(k)for(re=k.length-1;re>=0;re--)kt=E.g=k[re],St=se(kt,J,!0,E)&&St;if(kt=E.g=m,St=se(kt,J,!0,E)&&St,St=se(kt,J,!1,E)&&St,k)for(re=0;re<k.length;re++)kt=E.g=k[re],St=se(kt,J,!1,E)&&St}Ht.prototype.N=function(){if(Ht.Z.N.call(this),this.i){var m=this.i;for(const E in m.g){const k=m.g[E];for(let J=0;J<k.length;J++)ft(k[J]);delete m.g[E],m.h--}}this.G=null},Ht.prototype.J=function(m,E,k,J){return this.i.add(String(m),E,!1,k,J)},Ht.prototype.K=function(m,E,k,J){return this.i.add(String(m),E,!0,k,J)};function se(m,E,k,J){if(E=m.i.g[String(E)],!E)return!0;E=E.concat();let St=!0;for(let kt=0;kt<E.length;++kt){const re=E[kt];if(re&&!re.da&&re.capture==k){const Qe=re.listener,nr=re.ha||re.src;re.fa&&st(m.i,re),St=Qe.call(nr,J)!==!1&&St}}return St&&!J.defaultPrevented}function De(m,E){if(typeof m!="function")if(m&&typeof m.handleEvent=="function")m=d(m.handleEvent,m);else throw Error("Invalid listener argument");return Number(E)>2147483647?-1:u.setTimeout(m,E||0)}function Ae(m){m.g=De(()=>{m.g=null,m.i&&(m.i=!1,Ae(m))},m.l);const E=m.h;m.h=null,m.m.apply(null,E)}class Ke extends H{constructor(E,k){super(),this.m=E,this.l=k,this.h=null,this.i=!1,this.g=null}j(E){this.h=arguments,this.g?this.i=!0:Ae(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function en(m){H.call(this),this.h=m,this.g={}}w(en,H);var He=[];function un(m){Nt(m.g,function(E,k){this.g.hasOwnProperty(k)&&qt(E)},m),m.g={}}en.prototype.N=function(){en.Z.N.call(this),un(this)},en.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ze=u.JSON.stringify,ge=u.JSON.parse,Ye=class{stringify(m){return u.JSON.stringify(m,void 0)}parse(m){return u.JSON.parse(m,void 0)}};function ve(){}function Zn(){}var nn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Re(){T.call(this,"d")}w(Re,T);function qe(){T.call(this,"c")}w(qe,T);var Xe={},Ne=null;function En(){return Ne=Ne||new Ht}Xe.Ia="serverreachability";function Pe(m){T.call(this,Xe.Ia,m)}w(Pe,T);function Oe(m){const E=En();le(E,new Pe(E))}Xe.STAT_EVENT="statevent";function Tn(m,E){T.call(this,Xe.STAT_EVENT,m),this.stat=E}w(Tn,T);function xe(m){const E=En();le(E,new Tn(E,m))}Xe.Ja="timingevent";function Se(m,E){T.call(this,Xe.Ja,m),this.size=E}w(Se,T);function Je(m,E){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){m()},E)}function Bt(){this.g=!0}Bt.prototype.ua=function(){this.g=!1};function ie(m,E,k,J,St,kt){m.info(function(){if(m.g)if(kt){var re="",Qe=kt.split("&");for(let fn=0;fn<Qe.length;fn++){var nr=Qe[fn].split("=");if(nr.length>1){const Fn=nr[0];nr=nr[1];const si=Fn.split("_");re=si.length>=2&&si[1]=="type"?re+(Fn+"="+nr+"&"):re+(Fn+"=redacted&")}}}else re=null;else re=kt;return"XMLHTTP REQ ("+J+") [attempt "+St+"]: "+E+`
`+k+`
`+re})}function Le(m,E,k,J,St,kt,re){m.info(function(){return"XMLHTTP RESP ("+J+") [ attempt "+St+"]: "+E+`
`+k+`
`+kt+" "+re})}function Ie(m,E,k,J){m.info(function(){return"XMLHTTP TEXT ("+E+"): "+wr(m,k)+(J?" "+J:"")})}function ae(m,E){m.info(function(){return"TIMEOUT: "+E})}Bt.prototype.info=function(){};function wr(m,E){if(!m.g)return E;if(!E)return null;try{const kt=JSON.parse(E);if(kt){for(m=0;m<kt.length;m++)if(Array.isArray(kt[m])){var k=kt[m];if(!(k.length<2)){var J=k[1];if(Array.isArray(J)&&!(J.length<1)){var St=J[0];if(St!="noop"&&St!="stop"&&St!="close")for(let re=1;re<J.length;re++)J[re]=""}}}}return ze(kt)}catch{return E}}var pi={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},ei={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},ni;function Hn(){}w(Hn,ve),Hn.prototype.g=function(){return new XMLHttpRequest},ni=new Hn;function tr(m){return encodeURIComponent(String(m))}function jr(m){var E=1;m=m.split(":");const k=[];for(;E>0&&m.length;)k.push(m.shift()),E--;return m.length&&k.push(m.join(":")),k}function mi(m,E,k,J){this.j=m,this.i=E,this.l=k,this.S=J||1,this.V=new en(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ri}function ri(){this.i=null,this.g="",this.h=!1}var Mn={},Yn={};function Fr(m,E,k){m.M=1,m.A=ys(xr(E)),m.u=k,m.R=!0,Ci(m,null)}function Ci(m,E){m.F=Date.now(),Ri(m),m.B=xr(m.A);var k=m.B,J=m.S;Array.isArray(J)||(J=[String(J)]),vo(k.i,"t",J),m.C=0,k=m.j.L,m.h=new ri,m.g=de(m.j,k?E:null,!m.u),m.P>0&&(m.O=new Ke(d(m.Y,m,m.g),m.P)),E=m.V,k=m.g,J=m.ba;var St="readystatechange";Array.isArray(St)||(St&&(He[0]=St.toString()),St=He);for(let kt=0;kt<St.length;kt++){const re=Rt(k,St[kt],J||E.handleEvent,!1,E.h||E);if(!re)break;E.g[re.key]=re}E=m.J?$(m.J):{},m.u?(m.v||(m.v="POST"),E["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.B,m.v,m.u,E)):(m.v="GET",m.g.ea(m.B,m.v,null,E)),Oe(),ie(m.i,m.v,m.B,m.l,m.S,m.u)}mi.prototype.ba=function(m){m=m.target;const E=this.O;E&&$i(m)==3?E.j():this.Y(m)},mi.prototype.Y=function(m){try{if(m==this.g)t:{const Qe=$i(this.g),nr=this.g.ya(),fn=this.g.ca();if(!(Qe<3)&&(Qe!=3||this.g&&(this.h.h||this.g.la()||Lr(this.g)))){this.K||Qe!=4||nr==7||(nr==8||fn<=0?Oe(3):Oe(2)),Ui(this);var E=this.g.ca();this.X=E;var k=ra(this);if(this.o=E==200,Le(this.i,this.v,this.B,this.l,this.S,Qe,E),this.o){if(this.U&&!this.L){e:{if(this.g){var J,St=this.g;if((J=St.g?St.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!F(J)){var kt=J;break e}}kt=null}if(m=kt)Ie(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ia(this,m);else{this.o=!1,this.m=3,xe(12),zi(this),gi(this);break t}}if(this.R){m=!0;let Fn;for(;!this.K&&this.C<k.length;)if(Fn=va(this,k),Fn==Yn){Qe==4&&(this.m=4,xe(14),m=!1),Ie(this.i,this.l,null,"[Incomplete Response]");break}else if(Fn==Mn){this.m=4,xe(15),Ie(this.i,this.l,k,"[Invalid Chunk]"),m=!1;break}else Ie(this.i,this.l,Fn,null),ia(this,Fn);if(gs(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Qe!=4||k.length!=0||this.h.h||(this.m=1,xe(16),m=!1),this.o=this.o&&m,!m)Ie(this.i,this.l,k,"[Invalid Chunked Response]"),zi(this),gi(this);else if(k.length>0&&!this.W){this.W=!0;var re=this.j;re.g==this&&re.aa&&!re.P&&(re.j.info("Great, no buffering proxy detected. Bytes received: "+k.length),xo(re),re.P=!0,xe(11))}}else Ie(this.i,this.l,k,null),ia(this,k);Qe==4&&zi(this),this.o&&!this.K&&(Qe==4?it(this.j,this):(this.o=!1,Ri(this)))}else La(this.g),E==400&&k.indexOf("Unknown SID")>0?(this.m=3,xe(12)):(this.m=0,xe(13)),zi(this),gi(this)}}}catch{}finally{}};function ra(m){if(!gs(m))return m.g.la();const E=Lr(m.g);if(E==="")return"";let k="";const J=E.length,St=$i(m.g)==4;if(!m.h.i){if(typeof TextDecoder>"u")return zi(m),gi(m),"";m.h.i=new u.TextDecoder}for(let kt=0;kt<J;kt++)m.h.h=!0,k+=m.h.i.decode(E[kt],{stream:!(St&&kt==J-1)});return E.length=0,m.h.g+=k,m.C=0,m.h.g}function gs(m){return m.g?m.v=="GET"&&m.M!=2&&m.j.Aa:!1}function va(m,E){var k=m.C,J=E.indexOf(`
`,k);return J==-1?Yn:(k=Number(E.substring(k,J)),isNaN(k)?Mn:(J+=1,J+k>E.length?Yn:(E=E.slice(J,J+k),m.C=J+k,E)))}mi.prototype.cancel=function(){this.K=!0,zi(this)};function Ri(m){m.T=Date.now()+m.H,Za(m,m.H)}function Za(m,E){if(m.D!=null)throw Error("WatchDog timer not null");m.D=Je(d(m.aa,m),E)}function Ui(m){m.D&&(u.clearTimeout(m.D),m.D=null)}mi.prototype.aa=function(){this.D=null;const m=Date.now();m-this.T>=0?(ae(this.i,this.B),this.M!=2&&(Oe(),xe(17)),zi(this),this.m=2,gi(this)):Za(this,this.T-m)};function gi(m){m.j.I==0||m.K||it(m.j,m)}function zi(m){Ui(m);var E=m.O;E&&typeof E.dispose=="function"&&E.dispose(),m.O=null,un(m.V),m.g&&(E=m.g,m.g=null,E.abort(),E.dispose())}function ia(m,E){try{var k=m.j;if(k.I!=0&&(k.g==m||ba(k.h,m))){if(!m.L&&ba(k.h,m)&&k.I==3){try{var J=k.Ba.g.parse(E)}catch{J=null}if(Array.isArray(J)&&J.length==3){var St=J;if(St[0]==0){t:if(!k.v){if(k.g)if(k.g.F+3e3<m.F)B(k),Da(k);else break t;xa(k),xe(18)}}else k.xa=St[1],0<k.xa-k.K&&St[2]<37500&&k.F&&k.A==0&&!k.C&&(k.C=Je(d(k.Va,k),6e3));aa(k.h)<=1&&k.ta&&(k.ta=void 0)}else _t(k,11)}else if((m.L||k.g==m)&&B(k),!F(E))for(St=k.Ba.g.parse(E),E=0;E<St.length;E++){let fn=St[E];const Fn=fn[0];if(!(Fn<=k.K))if(k.K=Fn,fn=fn[1],k.I==2)if(fn[0]=="c"){k.M=fn[1],k.ba=fn[2];const si=fn[3];si!=null&&(k.ka=si,k.j.info("VER="+k.ka));const vi=fn[4];vi!=null&&(k.za=vi,k.j.info("SVER="+k.za));const Wn=fn[5];Wn!=null&&typeof Wn=="number"&&Wn>0&&(J=1.5*Wn,k.O=J,k.j.info("backChannelRequestTimeoutMs_="+J)),J=k;const bi=m.g;if(bi){const Sa=bi.g?bi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Sa){var kt=J.h;kt.g||Sa.indexOf("spdy")==-1&&Sa.indexOf("quic")==-1&&Sa.indexOf("h2")==-1||(kt.j=kt.l,kt.g=new Set,kt.h&&(Vs(kt,kt.h),kt.h=null))}if(J.G){const xs=bi.g?bi.g.getResponseHeader("X-HTTP-Session-Id"):null;xs&&(J.wa=xs,_n(J.J,J.G,xs))}}k.I=3,k.l&&k.l.ra(),k.aa&&(k.T=Date.now()-m.F,k.j.info("Handshake RTT: "+k.T+"ms")),J=k;var re=m;if(J.na=Zt(J,J.L?J.ba:null,J.W),re.L){go(J.h,re);var Qe=re,nr=J.O;nr&&(Qe.H=nr),Qe.D&&(Ui(Qe),Ri(Qe)),J.g=re}else tl(J);k.i.length>0&&oa(k)}else fn[0]!="stop"&&fn[0]!="close"||_t(k,7);else k.I==3&&(fn[0]=="stop"||fn[0]=="close"?fn[0]=="stop"?_t(k,7):ws(k):fn[0]!="noop"&&k.l&&k.l.qa(fn),k.A=0)}}Oe(4)}catch{}}var pr=class{constructor(m,E){this.g=m,this.map=E}};function mo(m){this.l=m||10,u.PerformanceNavigationTiming?(m=u.performance.getEntriesByType("navigation"),m=m.length>0&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Li(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function aa(m){return m.h?1:m.g?m.g.size:0}function ba(m,E){return m.h?m.h==E:m.g?m.g.has(E):!1}function Vs(m,E){m.g?m.g.add(E):m.h=E}function go(m,E){m.h&&m.h==E?m.h=null:m.g&&m.g.has(E)&&m.g.delete(E)}mo.prototype.cancel=function(){if(this.i=yo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function yo(m){if(m.h!=null)return m.i.concat(m.h.G);if(m.g!=null&&m.g.size!==0){let E=m.i;for(const k of m.g.values())E=E.concat(k.G);return E}return _(m.i)}var Wo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function qi(m,E){if(m){m=m.split("&");for(let k=0;k<m.length;k++){const J=m[k].indexOf("=");let St,kt=null;J>=0?(St=m[k].substring(0,J),kt=m[k].substring(J+1)):St=m[k],E(St,kt?decodeURIComponent(kt.replace(/\+/g," ")):"")}}}function ii(m){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let E;m instanceof ii?(this.l=m.l,pn(this,m.j),this.o=m.o,this.g=m.g,ts(this,m.u),this.h=m.h,sa(this,bo(m.i)),this.m=m.m):m&&(E=String(m).match(Wo))?(this.l=!1,pn(this,E[1]||"",!0),this.o=Rr(E[2]||""),this.g=Rr(E[3]||"",!0),ts(this,E[4]),this.h=Rr(E[5]||"",!0),sa(this,E[6]||"",!0),this.m=Rr(E[7]||"")):(this.l=!1,this.i=new es(null,this.l))}ii.prototype.toString=function(){const m=[];var E=this.j;E&&m.push(lr(E,Bs,!0),":");var k=this.g;return(k||E=="file")&&(m.push("//"),(E=this.o)&&m.push(lr(E,Bs,!0),"@"),m.push(tr(k).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),k=this.u,k!=null&&m.push(":",String(k))),(k=this.h)&&(this.g&&k.charAt(0)!="/"&&m.push("/"),m.push(lr(k,k.charAt(0)=="/"?Ko:Ol,!0))),(k=this.i.toString())&&m.push("?",k),(k=this.m)&&m.push("#",lr(k,Qo)),m.join("")},ii.prototype.resolve=function(m){const E=xr(this);let k=!!m.j;k?pn(E,m.j):k=!!m.o,k?E.o=m.o:k=!!m.g,k?E.g=m.g:k=m.u!=null;var J=m.h;if(k)ts(E,m.u);else if(k=!!m.h){if(J.charAt(0)!="/")if(this.g&&!this.h)J="/"+J;else{var St=E.h.lastIndexOf("/");St!=-1&&(J=E.h.slice(0,St+1)+J)}if(St=J,St==".."||St==".")J="";else if(St.indexOf("./")!=-1||St.indexOf("/.")!=-1){J=St.lastIndexOf("/",0)==0,St=St.split("/");const kt=[];for(let re=0;re<St.length;){const Qe=St[re++];Qe=="."?J&&re==St.length&&kt.push(""):Qe==".."?((kt.length>1||kt.length==1&&kt[0]!="")&&kt.pop(),J&&re==St.length&&kt.push("")):(kt.push(Qe),J=!0)}J=kt.join("/")}else J=St}return k?E.h=J:k=m.i.toString()!=="",k?sa(E,bo(m.i)):k=!!m.m,k&&(E.m=m.m),E};function xr(m){return new ii(m)}function pn(m,E,k){m.j=k?Rr(E,!0):E,m.j&&(m.j=m.j.replace(/:$/,""))}function ts(m,E){if(E){if(E=Number(E),isNaN(E)||E<0)throw Error("Bad port number "+E);m.u=E}else m.u=null}function sa(m,E,k){E instanceof es?(m.i=E,Ii(m.i,m.l)):(k||(E=lr(E,yi)),m.i=new es(E,m.l))}function _n(m,E,k){m.i.set(E,k)}function ys(m){return _n(m,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),m}function Rr(m,E){return m?E?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function lr(m,E,k){return typeof m=="string"?(m=encodeURI(m).replace(E,Sr),k&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function Sr(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var Bs=/[#\/\?@]/g,Ol=/[#\?:]/g,Ko=/[#\?]/g,yi=/[#\?@]/g,Qo=/#/g;function es(m,E){this.h=this.g=null,this.i=m||null,this.j=!!E}function Yr(m){m.g||(m.g=new Map,m.h=0,m.i&&qi(m.i,function(E,k){m.add(decodeURIComponent(E.replace(/\+/g," ")),k)}))}n=es.prototype,n.add=function(m,E){Yr(this),this.i=null,m=ns(this,m);let k=this.g.get(m);return k||this.g.set(m,k=[]),k.push(E),this.h+=1,this};function vs(m,E){Yr(m),E=ns(m,E),m.g.has(E)&&(m.i=null,m.h-=m.g.get(E).length,m.g.delete(E))}function Xo(m,E){return Yr(m),E=ns(m,E),m.g.has(E)}n.forEach=function(m,E){Yr(this),this.g.forEach(function(k,J){k.forEach(function(St){m.call(E,St,J,this)},this)},this)};function Jo(m,E){Yr(m);let k=[];if(typeof E=="string")Xo(m,E)&&(k=k.concat(m.g.get(ns(m,E))));else for(m=Array.from(m.g.values()),E=0;E<m.length;E++)k=k.concat(m[E]);return k}n.set=function(m,E){return Yr(this),this.i=null,m=ns(this,m),Xo(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[E]),this.h+=1,this},n.get=function(m,E){return m?(m=Jo(this,m),m.length>0?String(m[0]):E):E};function vo(m,E,k){vs(m,E),k.length>0&&(m.i=null,m.g.set(ns(m,E),_(k)),m.h+=k.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],E=Array.from(this.g.keys());for(let J=0;J<E.length;J++){var k=E[J];const St=tr(k);k=Jo(this,k);for(let kt=0;kt<k.length;kt++){let re=St;k[kt]!==""&&(re+="="+tr(k[kt])),m.push(re)}}return this.i=m.join("&")};function bo(m){const E=new es;return E.i=m.i,m.g&&(E.g=new Map(m.g),E.h=m.h),E}function ns(m,E){return E=String(E),m.j&&(E=E.toLowerCase()),E}function Ii(m,E){E&&!m.j&&(Yr(m),m.i=null,m.g.forEach(function(k,J){const St=J.toLowerCase();J!=St&&(vs(this,J),vo(this,St,k))},m)),m.j=E}function _a(m,E){const k=new Bt;if(u.Image){const J=new Image;J.onload=g(Di,k,"TestLoadImage: loaded",!0,E,J),J.onerror=g(Di,k,"TestLoadImage: error",!1,E,J),J.onabort=g(Di,k,"TestLoadImage: abort",!1,E,J),J.ontimeout=g(Di,k,"TestLoadImage: timeout",!1,E,J),u.setTimeout(function(){J.ontimeout&&J.ontimeout()},1e4),J.src=m}else E(!1)}function rs(m,E){const k=new Bt,J=new AbortController,St=setTimeout(()=>{J.abort(),Di(k,"TestPingServer: timeout",!1,E)},1e4);fetch(m,{signal:J.signal}).then(kt=>{clearTimeout(St),kt.ok?Di(k,"TestPingServer: ok",!0,E):Di(k,"TestPingServer: server error",!1,E)}).catch(()=>{clearTimeout(St),Di(k,"TestPingServer: error",!1,E)})}function Di(m,E,k,J,St){try{St&&(St.onload=null,St.onerror=null,St.onabort=null,St.ontimeout=null),J(k)}catch{}}function bs(){this.g=new Ye}function Me(m){this.i=m.Sb||null,this.h=m.ab||!1}w(Me,ve),Me.prototype.g=function(){return new Us(this.i,this.h)};function Us(m,E){Ht.call(this),this.H=m,this.o=E,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}w(Us,Ht),n=Us.prototype,n.open=function(m,E){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=m,this.D=E,this.readyState=1,Wr(this)},n.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const E={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};m&&(E.body=m),(this.H||u).fetch(new Request(this.D,E)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,_s(this)),this.readyState=0},n.Pa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,Wr(this)),this.g&&(this.readyState=3,Wr(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;_o(this)}else m.text().then(this.Oa.bind(this),this.ga.bind(this))};function _o(m){m.j.read().then(m.Ma.bind(m)).catch(m.ga.bind(m))}n.Ma=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var E=m.value?m.value:new Uint8Array(0);(E=this.B.decode(E,{stream:!m.done}))&&(this.response=this.responseText+=E)}m.done?_s(this):Wr(this),this.readyState==3&&_o(this)}},n.Oa=function(m){this.g&&(this.response=this.responseText=m,_s(this))},n.Na=function(m){this.g&&(this.response=m,_s(this))},n.ga=function(){this.g&&_s(this)};function _s(m){m.readyState=4,m.l=null,m.j=null,m.B=null,Wr(m)}n.setRequestHeader=function(m,E){this.A.append(m,E)},n.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],E=this.h.entries();for(var k=E.next();!k.done;)k=k.value,m.push(k[0]+": "+k[1]),k=E.next();return m.join(`\r
`)};function Wr(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(Us.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function Vr(m){let E="";return Nt(m,function(k,J){E+=J,E+=":",E+=k,E+=`\r
`}),E}function zs(m,E,k){t:{for(J in k){var J=!1;break t}J=!0}J||(k=Vr(k),typeof m=="string"?k!=null&&tr(k):_n(m,E,k))}function jn(m){Ht.call(this),this.headers=new Map,this.L=m||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}w(jn,Ht);var Hi=/^https?$/i,qs=["POST","PUT"];n=jn.prototype,n.Fa=function(m){this.H=m},n.ea=function(m,E,k,J){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);E=E?E.toUpperCase():"GET",this.D=m,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():ni.g(),this.g.onreadystatechange=S(d(this.Ca,this));try{this.B=!0,this.g.open(E,String(m),!0),this.B=!1}catch(kt){wa(this,kt);return}if(m=k||"",k=new Map(this.headers),J)if(Object.getPrototypeOf(J)===Object.prototype)for(var St in J)k.set(St,J[St]);else if(typeof J.keys=="function"&&typeof J.get=="function")for(const kt of J.keys())k.set(kt,J.get(kt));else throw Error("Unknown input type for opt_headers: "+String(J));J=Array.from(k.keys()).find(kt=>kt.toLowerCase()=="content-type"),St=u.FormData&&m instanceof u.FormData,!(Array.prototype.indexOf.call(qs,E,void 0)>=0)||J||St||k.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[kt,re]of k)this.g.setRequestHeader(kt,re);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(m),this.v=!1}catch(kt){wa(this,kt)}};function wa(m,E){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=E,m.o=5,Zo(m),is(m)}function Zo(m){m.A||(m.A=!0,le(m,"complete"),le(m,"error"))}n.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=m||7,le(this,"complete"),le(this,"abort"),is(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),is(this,!0)),jn.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?Gi(this):this.Xa())},n.Xa=function(){Gi(this)};function Gi(m){if(m.h&&typeof o<"u"){if(m.v&&$i(m)==4)setTimeout(m.Ca.bind(m),0);else if(le(m,"readystatechange"),$i(m)==4){m.h=!1;try{const kt=m.ca();t:switch(kt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var E=!0;break t;default:E=!1}var k;if(!(k=E)){var J;if(J=kt===0){let re=String(m.D).match(Wo)[1]||null;!re&&u.self&&u.self.location&&(re=u.self.location.protocol.slice(0,-1)),J=!Hi.test(re?re.toLowerCase():"")}k=J}if(k)le(m,"complete"),le(m,"success");else{m.o=6;try{var St=$i(m)>2?m.g.statusText:""}catch{St=""}m.l=St+" ["+m.ca()+"]",Zo(m)}}finally{is(m)}}}}function is(m,E){if(m.g){m.m&&(clearTimeout(m.m),m.m=null);const k=m.g;m.g=null,E||le(m,"ready");try{k.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function $i(m){return m.g?m.g.readyState:0}n.ca=function(){try{return $i(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(m){if(this.g){var E=this.g.responseText;return m&&E.indexOf(m)==0&&(E=E.substring(m.length)),ge(E)}};function Lr(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.F){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function La(m){const E={};m=(m.g&&$i(m)>=2&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let J=0;J<m.length;J++){if(F(m[J]))continue;var k=jr(m[J]);const St=k[0];if(k=k[1],typeof k!="string")continue;k=k.trim();const kt=E[St]||[];E[St]=kt,kt.push(k)}Wt(E,function(J){return J.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ai(m,E,k){return k&&k.internalChannelParams&&k.internalChannelParams[m]||E}function Ia(m){this.za=0,this.i=[],this.j=new Bt,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ai("failFast",!1,m),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ai("baseRetryDelayMs",5e3,m),this.Za=ai("retryDelaySeedMs",1e4,m),this.Ta=ai("forwardChannelMaxRetries",2,m),this.va=ai("forwardChannelRequestTimeoutMs",2e4,m),this.ma=m&&m.xmlHttpFactory||void 0,this.Ua=m&&m.Rb||void 0,this.Aa=m&&m.useFetchStreams||!1,this.O=void 0,this.L=m&&m.supportsCrossDomainXhr||!1,this.M="",this.h=new mo(m&&m.concurrentRequestLimit),this.Ba=new bs,this.S=m&&m.fastHandshake||!1,this.R=m&&m.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=m&&m.Pb||!1,m&&m.ua&&this.j.ua(),m&&m.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&m&&m.detectBufferingProxy||!1,this.ia=void 0,m&&m.longPollingTimeout&&m.longPollingTimeout>0&&(this.ia=m.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=Ia.prototype,n.ka=8,n.I=1,n.connect=function(m,E,k,J){xe(0),this.W=m,this.H=E||{},k&&J!==void 0&&(this.H.OSID=k,this.H.OAID=J),this.F=this.X,this.J=Zt(this,null,this.W),oa(this)};function ws(m){if(ka(m),m.I==3){var E=m.V++,k=xr(m.J);if(_n(k,"SID",m.M),_n(k,"RID",E),_n(k,"TYPE","terminate"),Yi(m,k),E=new mi(m,m.j,E),E.M=2,E.A=ys(xr(k)),k=!1,u.navigator&&u.navigator.sendBeacon)try{k=u.navigator.sendBeacon(E.A.toString(),"")}catch{}!k&&u.Image&&(new Image().src=E.A,k=!0),k||(E.g=de(E.j,null),E.g.ea(E.A)),E.F=Date.now(),Ri(E)}Gt(m)}function Da(m){m.g&&(xo(m),m.g.cancel(),m.g=null)}function ka(m){Da(m),m.v&&(u.clearTimeout(m.v),m.v=null),B(m),m.h.cancel(),m.m&&(typeof m.m=="number"&&u.clearTimeout(m.m),m.m=null)}function oa(m){if(!Li(m.h)&&!m.m){m.m=!0;var E=m.Ea;mt||V(),bt||(mt(),bt=!0),q.add(E,m),m.D=0}}function Hs(m,E){return aa(m.h)>=m.h.j-(m.m?1:0)?!1:m.m?(m.i=E.G.concat(m.i),!0):m.I==1||m.I==2||m.D>=(m.Sa?0:m.Ta)?!1:(m.m=Je(d(m.Ea,m,E),ht(m,m.D)),m.D++,!0)}n.Ea=function(m){if(this.m)if(this.m=null,this.I==1){if(!m){this.V=Math.floor(Math.random()*1e5),m=this.V++;const St=new mi(this,this.j,m);let kt=this.o;if(this.U&&(kt?(kt=$(kt),K(kt,this.U)):kt=this.U),this.u!==null||this.R||(St.J=kt,kt=null),this.S)t:{for(var E=0,k=0;k<this.i.length;k++){e:{var J=this.i[k];if("__data__"in J.map&&(J=J.map.__data__,typeof J=="string")){J=J.length;break e}J=void 0}if(J===void 0)break;if(E+=J,E>4096){E=k;break t}if(E===4096||k===this.i.length-1){E=k+1;break t}}E=1e3}else E=1e3;E=Oa(this,St,E),k=xr(this.J),_n(k,"RID",m),_n(k,"CVER",22),this.G&&_n(k,"X-HTTP-Session-Id",this.G),Yi(this,k),kt&&(this.R?E="headers="+tr(Vr(kt))+"&"+E:this.u&&zs(k,this.u,kt)),Vs(this.h,St),this.Ra&&_n(k,"TYPE","init"),this.S?(_n(k,"$req",E),_n(k,"SID","null"),St.U=!0,Fr(St,k,null)):Fr(St,k,E),this.I=2}}else this.I==3&&(m?wo(this,m):this.i.length==0||Li(this.h)||wo(this))};function wo(m,E){var k;E?k=E.l:k=m.V++;const J=xr(m.J);_n(J,"SID",m.M),_n(J,"RID",k),_n(J,"AID",m.K),Yi(m,J),m.u&&m.o&&zs(J,m.u,m.o),k=new mi(m,m.j,k,m.D+1),m.u===null&&(k.J=m.o),E&&(m.i=E.G.concat(m.i)),E=Oa(m,k,1e3),k.H=Math.round(m.va*.5)+Math.round(m.va*.5*Math.random()),Vs(m.h,k),Fr(k,J,E)}function Yi(m,E){m.H&&Nt(m.H,function(k,J){_n(E,J,k)}),m.l&&Nt({},function(k,J){_n(E,J,k)})}function Oa(m,E,k){k=Math.min(m.i.length,k);const J=m.l?d(m.l.Ka,m.l,m):null;t:{var St=m.i;let Qe=-1;for(;;){const nr=["count="+k];Qe==-1?k>0?(Qe=St[0].g,nr.push("ofs="+Qe)):Qe=0:nr.push("ofs="+Qe);let fn=!0;for(let Fn=0;Fn<k;Fn++){var kt=St[Fn].g;const si=St[Fn].map;if(kt-=Qe,kt<0)Qe=Math.max(0,St[Fn].g-100),fn=!1;else try{kt="req"+kt+"_"||"";try{var re=si instanceof Map?si:Object.entries(si);for(const[vi,Wn]of re){let bi=Wn;h(Wn)&&(bi=ze(Wn)),nr.push(kt+vi+"="+encodeURIComponent(bi))}}catch(vi){throw nr.push(kt+"type="+encodeURIComponent("_badmap")),vi}}catch{J&&J(si)}}if(fn){re=nr.join("&");break t}}re=void 0}return m=m.i.splice(0,k),E.G=m,re}function tl(m){if(!m.g&&!m.v){m.Y=1;var E=m.Da;mt||V(),bt||(mt(),bt=!0),q.add(E,m),m.A=0}}function xa(m){return m.g||m.v||m.A>=3?!1:(m.Y++,m.v=Je(d(m.Da,m),ht(m,m.A)),m.A++,!0)}n.Da=function(){if(this.v=null,x(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var m=4*this.T;this.j.info("BP detection timer enabled: "+m),this.B=Je(d(this.Wa,this),m)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,xe(10),Da(this),x(this))};function xo(m){m.B!=null&&(u.clearTimeout(m.B),m.B=null)}function x(m){m.g=new mi(m,m.j,"rpc",m.Y),m.u===null&&(m.g.J=m.o),m.g.P=0;var E=xr(m.na);_n(E,"RID","rpc"),_n(E,"SID",m.M),_n(E,"AID",m.K),_n(E,"CI",m.F?"0":"1"),!m.F&&m.ia&&_n(E,"TO",m.ia),_n(E,"TYPE","xmlhttp"),Yi(m,E),m.u&&m.o&&zs(E,m.u,m.o),m.O&&(m.g.H=m.O);var k=m.g;m=m.ba,k.M=1,k.A=ys(xr(E)),k.u=null,k.R=!0,Ci(k,m)}n.Va=function(){this.C!=null&&(this.C=null,Da(this),xa(this),xe(19))};function B(m){m.C!=null&&(u.clearTimeout(m.C),m.C=null)}function it(m,E){var k=null;if(m.g==E){B(m),xo(m),m.g=null;var J=2}else if(ba(m.h,E))k=E.G,go(m.h,E),J=1;else return;if(m.I!=0){if(E.o)if(J==1){k=E.u?E.u.length:0,E=Date.now()-E.F;var St=m.D;J=En(),le(J,new Se(J,k)),oa(m)}else tl(m);else if(St=E.m,St==3||St==0&&E.X>0||!(J==1&&Hs(m,E)||J==2&&xa(m)))switch(k&&k.length>0&&(E=m.h,E.i=E.i.concat(k)),St){case 1:_t(m,5);break;case 4:_t(m,10);break;case 3:_t(m,6);break;default:_t(m,2)}}}function ht(m,E){let k=m.Qa+Math.floor(Math.random()*m.Za);return m.isActive()||(k*=2),k*E}function _t(m,E){if(m.j.info("Error code "+E),E==2){var k=d(m.bb,m),J=m.Ua;const St=!J;J=new ii(J||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||pn(J,"https"),ys(J),St?_a(J.toString(),k):rs(J.toString(),k)}else xe(2);m.I=0,m.l&&m.l.pa(E),Gt(m),ka(m)}n.bb=function(m){m?(this.j.info("Successfully pinged google.com"),xe(2)):(this.j.info("Failed to ping google.com"),xe(1))};function Gt(m){if(m.I=0,m.ja=[],m.l){const E=yo(m.h);(E.length!=0||m.i.length!=0)&&(N(m.ja,E),N(m.ja,m.i),m.h.i.length=0,_(m.i),m.i.length=0),m.l.oa()}}function Zt(m,E,k){var J=k instanceof ii?xr(k):new ii(k);if(J.g!="")E&&(J.g=E+"."+J.g),ts(J,J.u);else{var St=u.location;J=St.protocol,E=E?E+"."+St.hostname:St.hostname,St=+St.port;const kt=new ii(null);J&&pn(kt,J),E&&(kt.g=E),St&&ts(kt,St),k&&(kt.h=k),J=kt}return k=m.G,E=m.wa,k&&E&&_n(J,k,E),_n(J,"VER",m.ka),Yi(m,J),J}function de(m,E,k){if(E&&!m.L)throw Error("Can't create secondary domain capable XhrIo object.");return E=m.Aa&&!m.ma?new jn(new Me({ab:k})):new jn(m.ma),E.Fa(m.L),E}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function be(){}n=be.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function Fe(){}Fe.prototype.g=function(m,E){return new ke(m,E)};function ke(m,E){Ht.call(this),this.g=new Ia(E),this.l=m,this.h=E&&E.messageUrlParams||null,m=E&&E.messageHeaders||null,E&&E.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=E&&E.initMessageHeaders||null,E&&E.messageContentType&&(m?m["X-WebChannel-Content-Type"]=E.messageContentType:m={"X-WebChannel-Content-Type":E.messageContentType}),E&&E.sa&&(m?m["X-WebChannel-Client-Profile"]=E.sa:m={"X-WebChannel-Client-Profile":E.sa}),this.g.U=m,(m=E&&E.Qb)&&!F(m)&&(this.g.u=m),this.A=E&&E.supportsCrossDomainXhr||!1,this.v=E&&E.sendRawJson||!1,(E=E&&E.httpSessionIdParam)&&!F(E)&&(this.g.G=E,m=this.h,m!==null&&E in m&&(m=this.h,E in m&&delete m[E])),this.j=new Gn(this)}w(ke,Ht),ke.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},ke.prototype.close=function(){ws(this.g)},ke.prototype.o=function(m){var E=this.g;if(typeof m=="string"){var k={};k.__data__=m,m=k}else this.v&&(k={},k.__data__=ze(m),m=k);E.i.push(new pr(E.Ya++,m)),E.I==3&&oa(E)},ke.prototype.N=function(){this.g.l=null,delete this.j,ws(this.g),delete this.g,ke.Z.N.call(this)};function mn(m){Re.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var E=m.__sm__;if(E){t:{for(const k in E){m=k;break t}m=void 0}(this.i=m)&&(m=this.i,E=E!==null&&m in E?E[m]:void 0),this.data=E}else this.data=m}w(mn,Re);function er(){qe.call(this),this.status=1}w(er,qe);function Gn(m){this.g=m}w(Gn,be),Gn.prototype.ra=function(){le(this.g,"a")},Gn.prototype.qa=function(m){le(this.g,new mn(m))},Gn.prototype.pa=function(m){le(this.g,new er)},Gn.prototype.oa=function(){le(this.g,"b")},Fe.prototype.createWebChannel=Fe.prototype.g,ke.prototype.send=ke.prototype.o,ke.prototype.open=ke.prototype.m,ke.prototype.close=ke.prototype.close,fw=function(){return new Fe},hw=function(){return En()},cw=Xe,T0={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},pi.NO_ERROR=0,pi.TIMEOUT=8,pi.HTTP_ERROR=6,lp=pi,ei.COMPLETE="complete",uw=ei,Zn.EventType=nn,nn.OPEN="a",nn.CLOSE="b",nn.ERROR="c",nn.MESSAGE="d",Ht.prototype.listen=Ht.prototype.J,pf=Zn,jn.prototype.listenOnce=jn.prototype.K,jn.prototype.getLastError=jn.prototype.Ha,jn.prototype.getLastErrorCode=jn.prototype.ya,jn.prototype.getStatus=jn.prototype.ca,jn.prototype.getResponseJson=jn.prototype.La,jn.prototype.getResponseText=jn.prototype.la,jn.prototype.send=jn.prototype.ea,jn.prototype.setWithCredentials=jn.prototype.Fa,lw=jn}).apply(typeof Hd<"u"?Hd:typeof self<"u"?self:typeof window<"u"?window:{});const e5="@firebase/firestore",n5="4.9.2";class ga{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}ga.UNAUTHENTICATED=new ga(null),ga.GOOGLE_CREDENTIALS=new ga("google-credentials-uid"),ga.FIRST_PARTY=new ga("first-party-uid"),ga.MOCK_USER=new ga("mock-user");let vh="12.3.0";const ec=new d1("@firebase/firestore");function Wc(){return ec.logLevel}function pe(n,...t){if(ec.logLevel<=kn.DEBUG){const e=t.map(m1);ec.debug(`Firestore (${vh}): ${n}`,...e)}}function Rl(n,...t){if(ec.logLevel<=kn.ERROR){const e=t.map(m1);ec.error(`Firestore (${vh}): ${n}`,...e)}}function uh(n,...t){if(ec.logLevel<=kn.WARN){const e=t.map(m1);ec.warn(`Firestore (${vh}): ${n}`,...e)}}function m1(n){if(typeof n=="string")return n;try{return(function(e){return JSON.stringify(e)})(n)}catch{return n}}function We(n,t,e){let i="Unexpected state";typeof t=="string"?i=t:e=t,dw(n,i,e)}function dw(n,t,e){let i=`FIRESTORE (${vh}) INTERNAL ASSERTION FAILED: ${t} (ID: ${n.toString(16)})`;if(e!==void 0)try{i+=" CONTEXT: "+JSON.stringify(e)}catch{i+=" CONTEXT: "+e}throw Rl(i),new Error(i)}function $n(n,t,e,i){let s="Unexpected state";typeof e=="string"?s=e:i=e,n||dw(t,s,i)}function ln(n,t){return n}const Qt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ue extends Tu{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class El{constructor(){this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}}class pw{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class GE{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable((()=>e(ga.UNAUTHENTICATED)))}shutdown(){}}class $E{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable((()=>e(this.token.user)))}shutdown(){this.changeListener=null}}class YE{constructor(t){this.t=t,this.currentUser=ga.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){$n(this.o===void 0,42304);let i=this.i;const s=f=>this.i!==i?(i=this.i,e(f)):Promise.resolve();let o=new El;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new El,t.enqueueRetryable((()=>s(this.currentUser)))};const u=()=>{const f=o;t.enqueueRetryable((async()=>{await f.promise,await s(this.currentUser)}))},h=f=>{pe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((f=>h(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?h(f):(pe("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new El)}}),0),u()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then((i=>this.i!==t?(pe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?($n(typeof i.accessToken=="string",31837,{l:i}),new pw(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return $n(t===null||typeof t=="string",2055,{h:t}),new ga(t)}}class WE{constructor(t,e,i){this.P=t,this.T=e,this.I=i,this.type="FirstParty",this.user=ga.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class KE{constructor(t,e,i){this.P=t,this.T=e,this.I=i}getToken(){return Promise.resolve(new WE(this.P,this.T,this.I))}start(t,e){t.enqueueRetryable((()=>e(ga.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class r5{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class QE{constructor(t,e){this.V=e,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,RE(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,e){$n(this.o===void 0,3512);const i=o=>{o.error!=null&&pe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const u=o.token!==this.m;return this.m=o.token,pe("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?e(o.token):Promise.resolve()};this.o=o=>{t.enqueueRetryable((()=>i(o)))};const s=o=>{pe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>s(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?s(o):pe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new r5(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((e=>e?($n(typeof e.token=="string",44558,{tokenResult:e}),this.m=e.token,new r5(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function XE(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}class g1{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const s=XE(40);for(let o=0;o<s.length;++o)i.length<20&&s[o]<e&&(i+=t.charAt(s[o]%62))}return i}}function Sn(n,t){return n<t?-1:n>t?1:0}function N0(n,t){const e=Math.min(n.length,t.length);for(let i=0;i<e;i++){const s=n.charAt(i),o=t.charAt(i);if(s!==o)return jg(s)===jg(o)?Sn(s,o):jg(s)?1:-1}return Sn(n.length,t.length)}const JE=55296,ZE=57343;function jg(n){const t=n.charCodeAt(0);return t>=JE&&t<=ZE}function ch(n,t,e){return n.length===t.length&&n.every(((i,s)=>e(i,t[s])))}const i5="__name__";class Vo{constructor(t,e,i){e===void 0?e=0:e>t.length&&We(637,{offset:e,range:t.length}),i===void 0?i=t.length-e:i>t.length-e&&We(1746,{length:i,range:t.length-e}),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return Vo.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof Vo?t.forEach((i=>{e.push(i)})):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let s=0;s<i;s++){const o=Vo.compareSegments(t.get(s),e.get(s));if(o!==0)return o}return Sn(t.length,e.length)}static compareSegments(t,e){const i=Vo.isNumericId(t),s=Vo.isNumericId(e);return i&&!s?-1:!i&&s?1:i&&s?Vo.extractNumericId(t).compare(Vo.extractNumericId(e)):N0(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return mu.fromString(t.substring(4,t.length-2))}}class dr extends Vo{construct(t,e,i){return new dr(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new ue(Qt.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter((s=>s.length>0)))}return new dr(e)}static emptyPath(){return new dr([])}}const tT=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ea extends Vo{construct(t,e,i){return new ea(t,e,i)}static isValidIdentifier(t){return tT.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ea.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===i5}static keyField(){return new ea([i5])}static fromServerFormat(t){const e=[];let i="",s=0;const o=()=>{if(i.length===0)throw new ue(Qt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let u=!1;for(;s<t.length;){const h=t[s];if(h==="\\"){if(s+1===t.length)throw new ue(Qt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const f=t[s+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new ue(Qt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=f,s+=2}else h==="`"?(u=!u,s++):h!=="."||u?(i+=h,s++):(o(),s++)}if(o(),u)throw new ue(Qt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new ea(e)}static emptyPath(){return new ea([])}}class Ue{constructor(t){this.path=t}static fromPath(t){return new Ue(dr.fromString(t))}static fromName(t){return new Ue(dr.fromString(t).popFirst(5))}static empty(){return new Ue(dr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&dr.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return dr.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Ue(new dr(t.slice()))}}function mw(n,t,e){if(!e)throw new ue(Qt.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function eT(n,t,e,i){if(t===!0&&i===!0)throw new ue(Qt.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function a5(n){if(!Ue.isDocumentKey(n))throw new ue(Qt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function s5(n){if(Ue.isDocumentKey(n))throw new ue(Qt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function gw(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function $p(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const t=(function(i){return i.constructor?i.constructor.name:null})(n);return t?`a custom ${t} object`:"an object"}}return typeof n=="function"?"a function":We(12329,{type:typeof n})}function Ll(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new ue(Qt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=$p(n);throw new ue(Qt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}function nT(n,t){if(t<=0)throw new ue(Qt.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${t}.`)}function fi(n,t){const e={typeString:n};return t&&(e.value=t),e}function qf(n,t){if(!gw(n))throw new ue(Qt.INVALID_ARGUMENT,"JSON must be an object");let e;for(const i in t)if(t[i]){const s=t[i].typeString,o="value"in t[i]?{value:t[i].value}:void 0;if(!(i in n)){e=`JSON missing required field: '${i}'`;break}const u=n[i];if(s&&typeof u!==s){e=`JSON field '${i}' must be a ${s}.`;break}if(o!==void 0&&u!==o.value){e=`Expected '${i}' field to equal '${o.value}'`;break}}if(e)throw new ue(Qt.INVALID_ARGUMENT,e);return!0}const o5=-62135596800,l5=1e6;class br{static now(){return br.fromMillis(Date.now())}static fromDate(t){return br.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor((t-1e3*e)*l5);return new br(e,i)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new ue(Qt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new ue(Qt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<o5)throw new ue(Qt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ue(Qt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/l5}_compareTo(t){return this.seconds===t.seconds?Sn(this.nanoseconds,t.nanoseconds):Sn(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:br._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(qf(t,br._jsonSchema))return new br(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-o5;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}br._jsonSchemaVersion="firestore/timestamp/1.0",br._jsonSchema={type:fi("string",br._jsonSchemaVersion),seconds:fi("number"),nanoseconds:fi("number")};class rn{static fromTimestamp(t){return new rn(t)}static min(){return new rn(new br(0,0))}static max(){return new rn(new br(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Lf=-1;function rT(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,s=rn.fromTimestamp(i===1e9?new br(e+1,0):new br(e,i));return new vu(s,Ue.empty(),t)}function iT(n){return new vu(n.readTime,n.key,Lf)}class vu{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new vu(rn.min(),Ue.empty(),Lf)}static max(){return new vu(rn.max(),Ue.empty(),Lf)}}function aT(n,t){let e=n.readTime.compareTo(t.readTime);return e!==0?e:(e=Ue.comparator(n.documentKey,t.documentKey),e!==0?e:Sn(n.largestBatchId,t.largestBatchId))}const sT="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class oT{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function bh(n){if(n.code!==Qt.FAILED_PRECONDITION||n.message!==sT)throw n;pe("LocalStore","Unexpectedly lost primary lease")}class te{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&We(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new te(((i,s)=>{this.nextCallback=o=>{this.wrapSuccess(t,o).next(i,s)},this.catchCallback=o=>{this.wrapFailure(e,o).next(i,s)}}))}toPromise(){return new Promise(((t,e)=>{this.next(t,e)}))}wrapUserFunction(t){try{const e=t();return e instanceof te?e:te.resolve(e)}catch(e){return te.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction((()=>t(e))):te.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction((()=>t(e))):te.reject(e)}static resolve(t){return new te(((e,i)=>{e(t)}))}static reject(t){return new te(((e,i)=>{i(t)}))}static waitFor(t){return new te(((e,i)=>{let s=0,o=0,u=!1;t.forEach((h=>{++s,h.next((()=>{++o,u&&o===s&&e()}),(f=>i(f)))})),u=!0,o===s&&e()}))}static or(t){let e=te.resolve(!1);for(const i of t)e=e.next((s=>s?te.resolve(s):i()));return e}static forEach(t,e){const i=[];return t.forEach(((s,o)=>{i.push(e.call(this,s,o))})),this.waitFor(i)}static mapArray(t,e){return new te(((i,s)=>{const o=t.length,u=new Array(o);let h=0;for(let f=0;f<o;f++){const d=f;e(t[d]).next((g=>{u[d]=g,++h,h===o&&i(u)}),(g=>s(g)))}}))}static doWhile(t,e){return new te(((i,s)=>{const o=()=>{t()===!0?e().next((()=>{o()}),s):i()};o()}))}}function lT(n){const t=n.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}function _h(n){return n.name==="IndexedDbTransactionError"}class Yp{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>e.writeSequenceNumber(i))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Yp.ce=-1;const y1=-1;function Wp(n){return n==null}function Sp(n){return n===0&&1/n==-1/0}function uT(n){return typeof n=="number"&&Number.isInteger(n)&&!Sp(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const yw="";function cT(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=u5(t)),t=hT(n.get(e),t);return u5(t)}function hT(n,t){let e=t;const i=n.length;for(let s=0;s<i;s++){const o=n.charAt(s);switch(o){case"\0":e+="";break;case yw:e+="";break;default:e+=o}}return e}function u5(n){return n+yw+""}function c5(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function Nu(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function vw(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}class Mr{constructor(t,e){this.comparator=t,this.root=e||ta.EMPTY}insert(t,e){return new Mr(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,ta.BLACK,null,null))}remove(t){return new Mr(this.comparator,this.root.remove(t,this.comparator).copy(null,null,ta.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(i===0)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const s=this.comparator(t,i.key);if(s===0)return e+i.left.size;s<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((e,i)=>(t(e,i),!1)))}toString(){const t=[];return this.inorderTraversal(((e,i)=>(t.push(`${e}:${i}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Gd(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Gd(this.root,t,this.comparator,!1)}getReverseIterator(){return new Gd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Gd(this.root,t,this.comparator,!0)}}class Gd{constructor(t,e,i,s){this.isReverse=s,this.nodeStack=[];let o=1;for(;!t.isEmpty();)if(o=e?i(t.key,e):1,e&&s&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(o===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class ta{constructor(t,e,i,s,o){this.key=t,this.value=e,this.color=i??ta.RED,this.left=s??ta.EMPTY,this.right=o??ta.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,s,o){return new ta(t??this.key,e??this.value,i??this.color,s??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let s=this;const o=i(t,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(t,e,i),null):o===0?s.copy(null,e,null,null,null):s.copy(null,null,null,null,s.right.insert(t,e,i)),s.fixUp()}removeMin(){if(this.left.isEmpty())return ta.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,s=this;if(e(t,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(t,e),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),e(t,s.key)===0){if(s.right.isEmpty())return ta.EMPTY;i=s.right.min(),s=s.copy(i.key,i.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(t,e))}return s.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,ta.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,ta.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw We(43730,{key:this.key,value:this.value});if(this.right.isRed())throw We(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw We(27949);return t+(this.isRed()?0:1)}}ta.EMPTY=null,ta.RED=!0,ta.BLACK=!1;ta.EMPTY=new class{constructor(){this.size=0}get key(){throw We(57766)}get value(){throw We(16141)}get color(){throw We(16727)}get left(){throw We(29726)}get right(){throw We(36894)}copy(t,e,i,s,o){return this}insert(t,e,i){return new ta(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ni{constructor(t){this.comparator=t,this.data=new Mr(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((e,i)=>(t(e),!1)))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const s=i.getNext();if(this.comparator(s.key,t[1])>=0)return;e(s.key)}}forEachWhile(t,e){let i;for(i=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new h5(this.data.getIterator())}getIteratorFrom(t){return new h5(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach((i=>{e=e.add(i)})),e}isEqual(t){if(!(t instanceof Ni)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const s=e.getNext().key,o=i.getNext().key;if(this.comparator(s,o)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((e=>{t.push(e)})),t}toString(){const t=[];return this.forEach((e=>t.push(e))),"SortedSet("+t.toString()+")"}copy(t){const e=new Ni(this.comparator);return e.data=t,e}}class h5{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class ds{constructor(t){this.fields=t,t.sort(ea.comparator)}static empty(){return new ds([])}unionWith(t){let e=new Ni(ea.comparator);for(const i of this.fields)e=e.add(i);for(const i of t)e=e.add(i);return new ds(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return ch(this.fields,t.fields,((e,i)=>e.isEqual(i)))}}class bw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class na{constructor(t){this.binaryString=t}static fromBase64String(t){const e=(function(s){try{return atob(s)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new bw("Invalid base64 string: "+o):o}})(t);return new na(e)}static fromUint8Array(t){const e=(function(s){let o="";for(let u=0;u<s.length;++u)o+=String.fromCharCode(s[u]);return o})(t);return new na(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(e){return btoa(e)})(this.binaryString)}toUint8Array(){return(function(e){const i=new Uint8Array(e.length);for(let s=0;s<e.length;s++)i[s]=e.charCodeAt(s);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Sn(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}na.EMPTY_BYTE_STRING=new na("");const fT=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function bu(n){if($n(!!n,39018),typeof n=="string"){let t=0;const e=fT.exec(n);if($n(!!e,46558,{timestamp:n}),e[1]){let s=e[1];s=(s+"000000000").substr(0,9),t=Number(s)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Xr(n.seconds),nanos:Xr(n.nanos)}}function Xr(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function _u(n){return typeof n=="string"?na.fromBase64String(n):na.fromUint8Array(n)}const _w="server_timestamp",ww="__type__",xw="__previous_value__",Sw="__local_write_time__";function v1(n){return(n?.mapValue?.fields||{})[ww]?.stringValue===_w}function Kp(n){const t=n.mapValue.fields[xw];return v1(t)?Kp(t):t}function If(n){const t=bu(n.mapValue.fields[Sw].timestampValue);return new br(t.seconds,t.nanos)}class dT{constructor(t,e,i,s,o,u,h,f,d,g){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=s,this.ssl=o,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.longPollingOptions=f,this.useFetchStreams=d,this.isUsingEmulator=g}}const Ap="(default)";class Df{constructor(t,e){this.projectId=t,this.database=e||Ap}static empty(){return new Df("","")}get isDefaultDatabase(){return this.database===Ap}isEqual(t){return t instanceof Df&&t.projectId===this.projectId&&t.database===this.database}}const Aw="__type__",pT="__max__",$d={mapValue:{}},Ew="__vector__",Ep="value";function wu(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?v1(n)?4:gT(n)?9007199254740991:mT(n)?10:11:We(28295,{value:n})}function $o(n,t){if(n===t)return!0;const e=wu(n);if(e!==wu(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return If(n).isEqual(If(t));case 3:return(function(s,o){if(typeof s.timestampValue=="string"&&typeof o.timestampValue=="string"&&s.timestampValue.length===o.timestampValue.length)return s.timestampValue===o.timestampValue;const u=bu(s.timestampValue),h=bu(o.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos})(n,t);case 5:return n.stringValue===t.stringValue;case 6:return(function(s,o){return _u(s.bytesValue).isEqual(_u(o.bytesValue))})(n,t);case 7:return n.referenceValue===t.referenceValue;case 8:return(function(s,o){return Xr(s.geoPointValue.latitude)===Xr(o.geoPointValue.latitude)&&Xr(s.geoPointValue.longitude)===Xr(o.geoPointValue.longitude)})(n,t);case 2:return(function(s,o){if("integerValue"in s&&"integerValue"in o)return Xr(s.integerValue)===Xr(o.integerValue);if("doubleValue"in s&&"doubleValue"in o){const u=Xr(s.doubleValue),h=Xr(o.doubleValue);return u===h?Sp(u)===Sp(h):isNaN(u)&&isNaN(h)}return!1})(n,t);case 9:return ch(n.arrayValue.values||[],t.arrayValue.values||[],$o);case 10:case 11:return(function(s,o){const u=s.mapValue.fields||{},h=o.mapValue.fields||{};if(c5(u)!==c5(h))return!1;for(const f in u)if(u.hasOwnProperty(f)&&(h[f]===void 0||!$o(u[f],h[f])))return!1;return!0})(n,t);default:return We(52216,{left:n})}}function kf(n,t){return(n.values||[]).find((e=>$o(e,t)))!==void 0}function hh(n,t){if(n===t)return 0;const e=wu(n),i=wu(t);if(e!==i)return Sn(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return Sn(n.booleanValue,t.booleanValue);case 2:return(function(o,u){const h=Xr(o.integerValue||o.doubleValue),f=Xr(u.integerValue||u.doubleValue);return h<f?-1:h>f?1:h===f?0:isNaN(h)?isNaN(f)?0:-1:1})(n,t);case 3:return f5(n.timestampValue,t.timestampValue);case 4:return f5(If(n),If(t));case 5:return N0(n.stringValue,t.stringValue);case 6:return(function(o,u){const h=_u(o),f=_u(u);return h.compareTo(f)})(n.bytesValue,t.bytesValue);case 7:return(function(o,u){const h=o.split("/"),f=u.split("/");for(let d=0;d<h.length&&d<f.length;d++){const g=Sn(h[d],f[d]);if(g!==0)return g}return Sn(h.length,f.length)})(n.referenceValue,t.referenceValue);case 8:return(function(o,u){const h=Sn(Xr(o.latitude),Xr(u.latitude));return h!==0?h:Sn(Xr(o.longitude),Xr(u.longitude))})(n.geoPointValue,t.geoPointValue);case 9:return d5(n.arrayValue,t.arrayValue);case 10:return(function(o,u){const h=o.fields||{},f=u.fields||{},d=h[Ep]?.arrayValue,g=f[Ep]?.arrayValue,w=Sn(d?.values?.length||0,g?.values?.length||0);return w!==0?w:d5(d,g)})(n.mapValue,t.mapValue);case 11:return(function(o,u){if(o===$d.mapValue&&u===$d.mapValue)return 0;if(o===$d.mapValue)return 1;if(u===$d.mapValue)return-1;const h=o.fields||{},f=Object.keys(h),d=u.fields||{},g=Object.keys(d);f.sort(),g.sort();for(let w=0;w<f.length&&w<g.length;++w){const S=N0(f[w],g[w]);if(S!==0)return S;const _=hh(h[f[w]],d[g[w]]);if(_!==0)return _}return Sn(f.length,g.length)})(n.mapValue,t.mapValue);default:throw We(23264,{he:e})}}function f5(n,t){if(typeof n=="string"&&typeof t=="string"&&n.length===t.length)return Sn(n,t);const e=bu(n),i=bu(t),s=Sn(e.seconds,i.seconds);return s!==0?s:Sn(e.nanos,i.nanos)}function d5(n,t){const e=n.values||[],i=t.values||[];for(let s=0;s<e.length&&s<i.length;++s){const o=hh(e[s],i[s]);if(o)return o}return Sn(e.length,i.length)}function fh(n){return C0(n)}function C0(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(e){const i=bu(e);return`time(${i.seconds},${i.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(e){return _u(e).toBase64()})(n.bytesValue):"referenceValue"in n?(function(e){return Ue.fromName(e).toString()})(n.referenceValue):"geoPointValue"in n?(function(e){return`geo(${e.latitude},${e.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(e){let i="[",s=!0;for(const o of e.values||[])s?s=!1:i+=",",i+=C0(o);return i+"]"})(n.arrayValue):"mapValue"in n?(function(e){const i=Object.keys(e.fields||{}).sort();let s="{",o=!0;for(const u of i)o?o=!1:s+=",",s+=`${u}:${C0(e.fields[u])}`;return s+"}"})(n.mapValue):We(61005,{value:n})}function up(n){switch(wu(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Kp(n);return t?16+up(t):16;case 5:return 2*n.stringValue.length;case 6:return _u(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((s,o)=>s+up(o)),0)})(n.arrayValue);case 10:case 11:return(function(i){let s=0;return Nu(i.fields,((o,u)=>{s+=o.length+up(u)})),s})(n.mapValue);default:throw We(13486,{value:n})}}function p5(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function R0(n){return!!n&&"integerValue"in n}function b1(n){return!!n&&"arrayValue"in n}function m5(n){return!!n&&"nullValue"in n}function g5(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function cp(n){return!!n&&"mapValue"in n}function mT(n){return(n?.mapValue?.fields||{})[Aw]?.stringValue===Ew}function _f(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const t={mapValue:{fields:{}}};return Nu(n.mapValue.fields,((e,i)=>t.mapValue.fields[e]=_f(i))),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=_f(n.arrayValue.values[e]);return t}return{...n}}function gT(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===pT}class Xa{constructor(t){this.value=t}static empty(){return new Xa({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!cp(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=_f(e)}setAll(t){let e=ea.emptyPath(),i={},s=[];t.forEach(((u,h)=>{if(!e.isImmediateParentOf(h)){const f=this.getFieldsMap(e);this.applyChanges(f,i,s),i={},s=[],e=h.popLast()}u?i[h.lastSegment()]=_f(u):s.push(h.lastSegment())}));const o=this.getFieldsMap(e);this.applyChanges(o,i,s)}delete(t){const e=this.field(t.popLast());cp(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return $o(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let s=e.mapValue.fields[t.get(i)];cp(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=s),e=s}return e.mapValue.fields}applyChanges(t,e,i){Nu(e,((s,o)=>t[s]=o));for(const s of i)delete t[s]}clone(){return new Xa(_f(this.value))}}function Tw(n){const t=[];return Nu(n.fields,((e,i)=>{const s=new ea([e]);if(cp(i)){const o=Tw(i.mapValue).fields;if(o.length===0)t.push(s);else for(const u of o)t.push(s.child(u))}else t.push(s)})),new ds(t)}class ya{constructor(t,e,i,s,o,u,h){this.key=t,this.documentType=e,this.version=i,this.readTime=s,this.createTime=o,this.data=u,this.documentState=h}static newInvalidDocument(t){return new ya(t,0,rn.min(),rn.min(),rn.min(),Xa.empty(),0)}static newFoundDocument(t,e,i,s){return new ya(t,1,e,rn.min(),i,s,0)}static newNoDocument(t,e){return new ya(t,2,e,rn.min(),rn.min(),Xa.empty(),0)}static newUnknownDocument(t,e){return new ya(t,3,e,rn.min(),rn.min(),Xa.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(rn.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Xa.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Xa.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=rn.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof ya&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new ya(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Tp{constructor(t,e){this.position=t,this.inclusive=e}}function y5(n,t,e){let i=0;for(let s=0;s<n.position.length;s++){const o=t[s],u=n.position[s];if(o.field.isKeyField()?i=Ue.comparator(Ue.fromName(u.referenceValue),e.key):i=hh(u,e.data.field(o.field)),o.dir==="desc"&&(i*=-1),i!==0)break}return i}function v5(n,t){if(n===null)return t===null;if(t===null||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!$o(n.position[e],t.position[e]))return!1;return!0}class Of{constructor(t,e="asc"){this.field=t,this.dir=e}}function yT(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}class Nw{}class hi extends Nw{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,i):new bT(t,e,i):e==="array-contains"?new xT(t,i):e==="in"?new ST(t,i):e==="not-in"?new AT(t,i):e==="array-contains-any"?new ET(t,i):new hi(t,e,i)}static createKeyFieldInFilter(t,e,i){return e==="in"?new _T(t,i):new wT(t,i)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&e.nullValue===void 0&&this.matchesComparison(hh(e,this.value)):e!==null&&wu(this.value)===wu(e)&&this.matchesComparison(hh(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return We(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class uo extends Nw{constructor(t,e){super(),this.filters=t,this.op=e,this.Pe=null}static create(t,e){return new uo(t,e)}matches(t){return Cw(this)?this.filters.find((e=>!e.matches(t)))===void 0:this.filters.find((e=>e.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,e)=>t.concat(e.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Cw(n){return n.op==="and"}function Rw(n){return vT(n)&&Cw(n)}function vT(n){for(const t of n.filters)if(t instanceof uo)return!1;return!0}function L0(n){if(n instanceof hi)return n.field.canonicalString()+n.op.toString()+fh(n.value);if(Rw(n))return n.filters.map((t=>L0(t))).join(",");{const t=n.filters.map((e=>L0(e))).join(",");return`${n.op}(${t})`}}function Lw(n,t){return n instanceof hi?(function(i,s){return s instanceof hi&&i.op===s.op&&i.field.isEqual(s.field)&&$o(i.value,s.value)})(n,t):n instanceof uo?(function(i,s){return s instanceof uo&&i.op===s.op&&i.filters.length===s.filters.length?i.filters.reduce(((o,u,h)=>o&&Lw(u,s.filters[h])),!0):!1})(n,t):void We(19439)}function Iw(n){return n instanceof hi?(function(e){return`${e.field.canonicalString()} ${e.op} ${fh(e.value)}`})(n):n instanceof uo?(function(e){return e.op.toString()+" {"+e.getFilters().map(Iw).join(" ,")+"}"})(n):"Filter"}class bT extends hi{constructor(t,e,i){super(t,e,i),this.key=Ue.fromName(i.referenceValue)}matches(t){const e=Ue.comparator(t.key,this.key);return this.matchesComparison(e)}}class _T extends hi{constructor(t,e){super(t,"in",e),this.keys=Dw("in",e)}matches(t){return this.keys.some((e=>e.isEqual(t.key)))}}class wT extends hi{constructor(t,e){super(t,"not-in",e),this.keys=Dw("not-in",e)}matches(t){return!this.keys.some((e=>e.isEqual(t.key)))}}function Dw(n,t){return(t.arrayValue?.values||[]).map((e=>Ue.fromName(e.referenceValue)))}class xT extends hi{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return b1(e)&&kf(e.arrayValue,this.value)}}class ST extends hi{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&kf(this.value.arrayValue,e)}}class AT extends hi{constructor(t,e){super(t,"not-in",e)}matches(t){if(kf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&e.nullValue===void 0&&!kf(this.value.arrayValue,e)}}class ET extends hi{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!b1(e)||!e.arrayValue.values)&&e.arrayValue.values.some((i=>kf(this.value.arrayValue,i)))}}class TT{constructor(t,e=null,i=[],s=[],o=null,u=null,h=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=s,this.limit=o,this.startAt=u,this.endAt=h,this.Te=null}}function b5(n,t=null,e=[],i=[],s=null,o=null,u=null){return new TT(n,t,e,i,s,o,u)}function _1(n){const t=ln(n);if(t.Te===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((i=>L0(i))).join(","),e+="|ob:",e+=t.orderBy.map((i=>(function(o){return o.field.canonicalString()+o.dir})(i))).join(","),Wp(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((i=>fh(i))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((i=>fh(i))).join(",")),t.Te=e}return t.Te}function w1(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!yT(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!Lw(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!v5(n.startAt,t.startAt)&&v5(n.endAt,t.endAt)}function I0(n){return Ue.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}class wh{constructor(t,e=null,i=[],s=[],o=null,u="F",h=null,f=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=s,this.limit=o,this.limitType=u,this.startAt=h,this.endAt=f,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function NT(n,t,e,i,s,o,u,h){return new wh(n,t,e,i,s,o,u,h)}function x1(n){return new wh(n)}function _5(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function kw(n){return n.collectionGroup!==null}function wf(n){const t=ln(n);if(t.Ie===null){t.Ie=[];const e=new Set;for(const o of t.explicitOrderBy)t.Ie.push(o),e.add(o.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(u){let h=new Ni(ea.comparator);return u.filters.forEach((f=>{f.getFlattenedFilters().forEach((d=>{d.isInequality()&&(h=h.add(d.field))}))})),h})(t).forEach((o=>{e.has(o.canonicalString())||o.isKeyField()||t.Ie.push(new Of(o,i))})),e.has(ea.keyField().canonicalString())||t.Ie.push(new Of(ea.keyField(),i))}return t.Ie}function zo(n){const t=ln(n);return t.Ee||(t.Ee=CT(t,wf(n))),t.Ee}function CT(n,t){if(n.limitType==="F")return b5(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map((s=>{const o=s.dir==="desc"?"asc":"desc";return new Of(s.field,o)}));const e=n.endAt?new Tp(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Tp(n.startAt.position,n.startAt.inclusive):null;return b5(n.path,n.collectionGroup,t,n.filters,n.limit,e,i)}}function D0(n,t){const e=n.filters.concat([t]);return new wh(n.path,n.collectionGroup,n.explicitOrderBy.slice(),e,n.limit,n.limitType,n.startAt,n.endAt)}function Np(n,t,e){return new wh(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function Qp(n,t){return w1(zo(n),zo(t))&&n.limitType===t.limitType}function Ow(n){return`${_1(zo(n))}|lt:${n.limitType}`}function Kc(n){return`Query(target=${(function(e){let i=e.path.canonicalString();return e.collectionGroup!==null&&(i+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(i+=`, filters: [${e.filters.map((s=>Iw(s))).join(", ")}]`),Wp(e.limit)||(i+=", limit: "+e.limit),e.orderBy.length>0&&(i+=`, orderBy: [${e.orderBy.map((s=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(s))).join(", ")}]`),e.startAt&&(i+=", startAt: ",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((s=>fh(s))).join(",")),e.endAt&&(i+=", endAt: ",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((s=>fh(s))).join(",")),`Target(${i})`})(zo(n))}; limitType=${n.limitType})`}function Xp(n,t){return t.isFoundDocument()&&(function(i,s){const o=s.key.path;return i.collectionGroup!==null?s.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):Ue.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)})(n,t)&&(function(i,s){for(const o of wf(i))if(!o.field.isKeyField()&&s.data.field(o.field)===null)return!1;return!0})(n,t)&&(function(i,s){for(const o of i.filters)if(!o.matches(s))return!1;return!0})(n,t)&&(function(i,s){return!(i.startAt&&!(function(u,h,f){const d=y5(u,h,f);return u.inclusive?d<=0:d<0})(i.startAt,wf(i),s)||i.endAt&&!(function(u,h,f){const d=y5(u,h,f);return u.inclusive?d>=0:d>0})(i.endAt,wf(i),s))})(n,t)}function RT(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function Pw(n){return(t,e)=>{let i=!1;for(const s of wf(n)){const o=LT(s,t,e);if(o!==0)return o;i=i||s.field.isKeyField()}return 0}}function LT(n,t,e){const i=n.field.isKeyField()?Ue.comparator(t.key,e.key):(function(o,u,h){const f=u.data.field(o),d=h.data.field(o);return f!==null&&d!==null?hh(f,d):We(42886)})(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return We(19790,{direction:n.dir})}}class oc{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(i!==void 0){for(const[s,o]of i)if(this.equalsFn(s,t))return o}}has(t){return this.get(t)!==void 0}set(t,e){const i=this.mapKeyFn(t),s=this.inner[i];if(s===void 0)return this.inner[i]=[[t,e]],void this.innerSize++;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],t))return void(s[o]=[t,e]);s.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(i===void 0)return!1;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],t))return i.length===1?delete this.inner[e]:i.splice(s,1),this.innerSize--,!0;return!1}forEach(t){Nu(this.inner,((e,i)=>{for(const[s,o]of i)t(s,o)}))}isEmpty(){return vw(this.inner)}size(){return this.innerSize}}const IT=new Mr(Ue.comparator);function Il(){return IT}const Mw=new Mr(Ue.comparator);function mf(...n){let t=Mw;for(const e of n)t=t.insert(e.key,e);return t}function jw(n){let t=Mw;return n.forEach(((e,i)=>t=t.insert(e,i.overlayedDocument))),t}function Xu(){return xf()}function Fw(){return xf()}function xf(){return new oc((n=>n.toString()),((n,t)=>n.isEqual(t)))}const DT=new Mr(Ue.comparator),kT=new Ni(Ue.comparator);function An(...n){let t=kT;for(const e of n)t=t.add(e);return t}const OT=new Ni(Sn);function PT(){return OT}function S1(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Sp(t)?"-0":t}}function Vw(n){return{integerValue:""+n}}function MT(n,t){return uT(t)?Vw(t):S1(n,t)}class Jp{constructor(){this._=void 0}}function jT(n,t,e){return n instanceof Cp?(function(s,o){const u={fields:{[ww]:{stringValue:_w},[Sw]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return o&&v1(o)&&(o=Kp(o)),o&&(u.fields[xw]=o),{mapValue:u}})(e,t):n instanceof Pf?Uw(n,t):n instanceof Mf?zw(n,t):(function(s,o){const u=Bw(s,o),h=w5(u)+w5(s.Ae);return R0(u)&&R0(s.Ae)?Vw(h):S1(s.serializer,h)})(n,t)}function FT(n,t,e){return n instanceof Pf?Uw(n,t):n instanceof Mf?zw(n,t):e}function Bw(n,t){return n instanceof Rp?(function(i){return R0(i)||(function(o){return!!o&&"doubleValue"in o})(i)})(t)?t:{integerValue:0}:null}class Cp extends Jp{}class Pf extends Jp{constructor(t){super(),this.elements=t}}function Uw(n,t){const e=qw(t);for(const i of n.elements)e.some((s=>$o(s,i)))||e.push(i);return{arrayValue:{values:e}}}class Mf extends Jp{constructor(t){super(),this.elements=t}}function zw(n,t){let e=qw(t);for(const i of n.elements)e=e.filter((s=>!$o(s,i)));return{arrayValue:{values:e}}}class Rp extends Jp{constructor(t,e){super(),this.serializer=t,this.Ae=e}}function w5(n){return Xr(n.integerValue||n.doubleValue)}function qw(n){return b1(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function VT(n,t){return n.field.isEqual(t.field)&&(function(i,s){return i instanceof Pf&&s instanceof Pf||i instanceof Mf&&s instanceof Mf?ch(i.elements,s.elements,$o):i instanceof Rp&&s instanceof Rp?$o(i.Ae,s.Ae):i instanceof Cp&&s instanceof Cp})(n.transform,t.transform)}class BT{constructor(t,e){this.version=t,this.transformResults=e}}class lo{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new lo}static exists(t){return new lo(void 0,t)}static updateTime(t){return new lo(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function hp(n,t){return n.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(n.updateTime):n.exists===void 0||n.exists===t.isFoundDocument()}class Zp{}function Hw(n,t){if(!n.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return n.isNoDocument()?new A1(n.key,lo.none()):new Hf(n.key,n.data,lo.none());{const e=n.data,i=Xa.empty();let s=new Ni(ea.comparator);for(let o of t.fields)if(!s.has(o)){let u=e.field(o);u===null&&o.length>1&&(o=o.popLast(),u=e.field(o)),u===null?i.delete(o):i.set(o,u),s=s.add(o)}return new Cu(n.key,i,new ds(s.toArray()),lo.none())}}function UT(n,t,e){n instanceof Hf?(function(s,o,u){const h=s.value.clone(),f=S5(s.fieldTransforms,o,u.transformResults);h.setAll(f),o.convertToFoundDocument(u.version,h).setHasCommittedMutations()})(n,t,e):n instanceof Cu?(function(s,o,u){if(!hp(s.precondition,o))return void o.convertToUnknownDocument(u.version);const h=S5(s.fieldTransforms,o,u.transformResults),f=o.data;f.setAll(Gw(s)),f.setAll(h),o.convertToFoundDocument(u.version,f).setHasCommittedMutations()})(n,t,e):(function(s,o,u){o.convertToNoDocument(u.version).setHasCommittedMutations()})(0,t,e)}function Sf(n,t,e,i){return n instanceof Hf?(function(o,u,h,f){if(!hp(o.precondition,u))return h;const d=o.value.clone(),g=A5(o.fieldTransforms,f,u);return d.setAll(g),u.convertToFoundDocument(u.version,d).setHasLocalMutations(),null})(n,t,e,i):n instanceof Cu?(function(o,u,h,f){if(!hp(o.precondition,u))return h;const d=A5(o.fieldTransforms,f,u),g=u.data;return g.setAll(Gw(o)),g.setAll(d),u.convertToFoundDocument(u.version,g).setHasLocalMutations(),h===null?null:h.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((w=>w.field)))})(n,t,e,i):(function(o,u,h){return hp(o.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):h})(n,t,e)}function zT(n,t){let e=null;for(const i of n.fieldTransforms){const s=t.data.field(i.field),o=Bw(i.transform,s||null);o!=null&&(e===null&&(e=Xa.empty()),e.set(i.field,o))}return e||null}function x5(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&!!(function(i,s){return i===void 0&&s===void 0||!(!i||!s)&&ch(i,s,((o,u)=>VT(o,u)))})(n.fieldTransforms,t.fieldTransforms)&&(n.type===0?n.value.isEqual(t.value):n.type!==1||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask))}class Hf extends Zp{constructor(t,e,i,s=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Cu extends Zp{constructor(t,e,i,s,o=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=s,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function Gw(n){const t=new Map;return n.fieldMask.fields.forEach((e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}})),t}function S5(n,t,e){const i=new Map;$n(n.length===e.length,32656,{Re:e.length,Ve:n.length});for(let s=0;s<e.length;s++){const o=n[s],u=o.transform,h=t.data.field(o.field);i.set(o.field,FT(u,h,e[s]))}return i}function A5(n,t,e){const i=new Map;for(const s of n){const o=s.transform,u=e.data.field(s.field);i.set(s.field,jT(o,u,t))}return i}class A1 extends Zp{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class qT extends Zp{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class HT{constructor(t,e,i,s){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=s}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let s=0;s<this.mutations.length;s++){const o=this.mutations[s];o.key.isEqual(t.key)&&UT(o,t,i[s])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=Sf(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=Sf(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=Fw();return this.mutations.forEach((s=>{const o=t.get(s.key),u=o.overlayedDocument;let h=this.applyToLocalView(u,o.mutatedFields);h=e.has(s.key)?null:h;const f=Hw(u,h);f!==null&&i.set(s.key,f),u.isValidDocument()||u.convertToNoDocument(rn.min())})),i}keys(){return this.mutations.reduce(((t,e)=>t.add(e.key)),An())}isEqual(t){return this.batchId===t.batchId&&ch(this.mutations,t.mutations,((e,i)=>x5(e,i)))&&ch(this.baseMutations,t.baseMutations,((e,i)=>x5(e,i)))}}class E1{constructor(t,e,i,s){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=s}static from(t,e,i){$n(t.mutations.length===i.length,58842,{me:t.mutations.length,fe:i.length});let s=(function(){return DT})();const o=t.mutations;for(let u=0;u<o.length;u++)s=s.insert(o[u].key,i[u].version);return new E1(t,e,i,s)}}class GT{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class $T{constructor(t,e){this.count=t,this.unchangedNames=e}}var ci,Dn;function YT(n){switch(n){case Qt.OK:return We(64938);case Qt.CANCELLED:case Qt.UNKNOWN:case Qt.DEADLINE_EXCEEDED:case Qt.RESOURCE_EXHAUSTED:case Qt.INTERNAL:case Qt.UNAVAILABLE:case Qt.UNAUTHENTICATED:return!1;case Qt.INVALID_ARGUMENT:case Qt.NOT_FOUND:case Qt.ALREADY_EXISTS:case Qt.PERMISSION_DENIED:case Qt.FAILED_PRECONDITION:case Qt.ABORTED:case Qt.OUT_OF_RANGE:case Qt.UNIMPLEMENTED:case Qt.DATA_LOSS:return!0;default:return We(15467,{code:n})}}function $w(n){if(n===void 0)return Rl("GRPC error has no .code"),Qt.UNKNOWN;switch(n){case ci.OK:return Qt.OK;case ci.CANCELLED:return Qt.CANCELLED;case ci.UNKNOWN:return Qt.UNKNOWN;case ci.DEADLINE_EXCEEDED:return Qt.DEADLINE_EXCEEDED;case ci.RESOURCE_EXHAUSTED:return Qt.RESOURCE_EXHAUSTED;case ci.INTERNAL:return Qt.INTERNAL;case ci.UNAVAILABLE:return Qt.UNAVAILABLE;case ci.UNAUTHENTICATED:return Qt.UNAUTHENTICATED;case ci.INVALID_ARGUMENT:return Qt.INVALID_ARGUMENT;case ci.NOT_FOUND:return Qt.NOT_FOUND;case ci.ALREADY_EXISTS:return Qt.ALREADY_EXISTS;case ci.PERMISSION_DENIED:return Qt.PERMISSION_DENIED;case ci.FAILED_PRECONDITION:return Qt.FAILED_PRECONDITION;case ci.ABORTED:return Qt.ABORTED;case ci.OUT_OF_RANGE:return Qt.OUT_OF_RANGE;case ci.UNIMPLEMENTED:return Qt.UNIMPLEMENTED;case ci.DATA_LOSS:return Qt.DATA_LOSS;default:return We(39323,{code:n})}}(Dn=ci||(ci={}))[Dn.OK=0]="OK",Dn[Dn.CANCELLED=1]="CANCELLED",Dn[Dn.UNKNOWN=2]="UNKNOWN",Dn[Dn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Dn[Dn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Dn[Dn.NOT_FOUND=5]="NOT_FOUND",Dn[Dn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Dn[Dn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Dn[Dn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Dn[Dn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Dn[Dn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Dn[Dn.ABORTED=10]="ABORTED",Dn[Dn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Dn[Dn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Dn[Dn.INTERNAL=13]="INTERNAL",Dn[Dn.UNAVAILABLE=14]="UNAVAILABLE",Dn[Dn.DATA_LOSS=15]="DATA_LOSS";function WT(){return new TextEncoder}const KT=new mu([4294967295,4294967295],0);function E5(n){const t=WT().encode(n),e=new ow;return e.update(t),new Uint8Array(e.digest())}function T5(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),i=t.getUint32(4,!0),s=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new mu([e,i],0),new mu([s,o],0)]}class T1{constructor(t,e,i){if(this.bitmap=t,this.padding=e,this.hashCount=i,e<0||e>=8)throw new gf(`Invalid padding: ${e}`);if(i<0)throw new gf(`Invalid hash count: ${i}`);if(t.length>0&&this.hashCount===0)throw new gf(`Invalid hash count: ${i}`);if(t.length===0&&e!==0)throw new gf(`Invalid padding when bitmap length is 0: ${e}`);this.ge=8*t.length-e,this.pe=mu.fromNumber(this.ge)}ye(t,e,i){let s=t.add(e.multiply(mu.fromNumber(i)));return s.compare(KT)===1&&(s=new mu([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const e=E5(t),[i,s]=T5(e);for(let o=0;o<this.hashCount;o++){const u=this.ye(i,s,o);if(!this.we(u))return!1}return!0}static create(t,e,i){const s=t%8==0?0:8-t%8,o=new Uint8Array(Math.ceil(t/8)),u=new T1(o,s,e);return i.forEach((h=>u.insert(h))),u}insert(t){if(this.ge===0)return;const e=E5(t),[i,s]=T5(e);for(let o=0;o<this.hashCount;o++){const u=this.ye(i,s,o);this.Se(u)}}Se(t){const e=Math.floor(t/8),i=t%8;this.bitmap[e]|=1<<i}}class gf extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class tm{constructor(t,e,i,s,o){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=s,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(t,e,i){const s=new Map;return s.set(t,Gf.createSynthesizedTargetChangeForCurrentChange(t,e,i)),new tm(rn.min(),s,new Mr(Sn),Il(),An())}}class Gf{constructor(t,e,i,s,o){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=s,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(t,e,i){return new Gf(i,e,An(),An(),An())}}class fp{constructor(t,e,i,s){this.be=t,this.removedTargetIds=e,this.key=i,this.De=s}}class Yw{constructor(t,e){this.targetId=t,this.Ce=e}}class Ww{constructor(t,e,i=na.EMPTY_BYTE_STRING,s=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=s}}class N5{constructor(){this.ve=0,this.Fe=C5(),this.Me=na.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=An(),e=An(),i=An();return this.Fe.forEach(((s,o)=>{switch(o){case 0:t=t.add(s);break;case 2:e=e.add(s);break;case 1:i=i.add(s);break;default:We(38017,{changeType:o})}})),new Gf(this.Me,this.xe,t,e,i)}qe(){this.Oe=!1,this.Fe=C5()}Qe(t,e){this.Oe=!0,this.Fe=this.Fe.insert(t,e)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,$n(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class QT{constructor(t){this.Ge=t,this.ze=new Map,this.je=Il(),this.Je=Yd(),this.He=Yd(),this.Ye=new Mr(Sn)}Ze(t){for(const e of t.be)t.De&&t.De.isFoundDocument()?this.Xe(e,t.De):this.et(e,t.key,t.De);for(const e of t.removedTargetIds)this.et(e,t.key,t.De)}tt(t){this.forEachTarget(t,(e=>{const i=this.nt(e);switch(t.state){case 0:this.rt(e)&&i.Le(t.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(t.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(e);break;case 3:this.rt(e)&&(i.We(),i.Le(t.resumeToken));break;case 4:this.rt(e)&&(this.it(e),i.Le(t.resumeToken));break;default:We(56790,{state:t.state})}}))}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.ze.forEach(((i,s)=>{this.rt(s)&&e(s)}))}st(t){const e=t.targetId,i=t.Ce.count,s=this.ot(e);if(s){const o=s.target;if(I0(o))if(i===0){const u=new Ue(o.path);this.et(e,u,ya.newNoDocument(u,rn.min()))}else $n(i===1,20013,{expectedCount:i});else{const u=this._t(e);if(u!==i){const h=this.ut(t),f=h?this.ct(h,t,u):1;if(f!==0){this.it(e);const d=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(e,d)}}}}}ut(t){const e=t.Ce.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:i="",padding:s=0},hashCount:o=0}=e;let u,h;try{u=_u(i).toUint8Array()}catch(f){if(f instanceof bw)return uh("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{h=new T1(u,s,o)}catch(f){return uh(f instanceof gf?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return h.ge===0?null:h}ct(t,e,i){return e.Ce.count===i-this.Pt(t,e.targetId)?0:2}Pt(t,e){const i=this.Ge.getRemoteKeysForTarget(e);let s=0;return i.forEach((o=>{const u=this.Ge.ht(),h=`projects/${u.projectId}/databases/${u.database}/documents/${o.path.canonicalString()}`;t.mightContain(h)||(this.et(e,o,null),s++)})),s}Tt(t){const e=new Map;this.ze.forEach(((o,u)=>{const h=this.ot(u);if(h){if(o.current&&I0(h.target)){const f=new Ue(h.target.path);this.It(f).has(u)||this.Et(u,f)||this.et(u,f,ya.newNoDocument(f,t))}o.Be&&(e.set(u,o.ke()),o.qe())}}));let i=An();this.He.forEach(((o,u)=>{let h=!0;u.forEachWhile((f=>{const d=this.ot(f);return!d||d.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(i=i.add(o))})),this.je.forEach(((o,u)=>u.setReadTime(t)));const s=new tm(t,e,this.Ye,this.je,i);return this.je=Il(),this.Je=Yd(),this.He=Yd(),this.Ye=new Mr(Sn),s}Xe(t,e){if(!this.rt(t))return;const i=this.Et(t,e.key)?2:0;this.nt(t).Qe(e.key,i),this.je=this.je.insert(e.key,e),this.Je=this.Je.insert(e.key,this.It(e.key).add(t)),this.He=this.He.insert(e.key,this.dt(e.key).add(t))}et(t,e,i){if(!this.rt(t))return;const s=this.nt(t);this.Et(t,e)?s.Qe(e,1):s.$e(e),this.He=this.He.insert(e,this.dt(e).delete(t)),this.He=this.He.insert(e,this.dt(e).add(t)),i&&(this.je=this.je.insert(e,i))}removeTarget(t){this.ze.delete(t)}_t(t){const e=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let e=this.ze.get(t);return e||(e=new N5,this.ze.set(t,e)),e}dt(t){let e=this.He.get(t);return e||(e=new Ni(Sn),this.He=this.He.insert(t,e)),e}It(t){let e=this.Je.get(t);return e||(e=new Ni(Sn),this.Je=this.Je.insert(t,e)),e}rt(t){const e=this.ot(t)!==null;return e||pe("WatchChangeAggregator","Detected inactive target",t),e}ot(t){const e=this.ze.get(t);return e&&e.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new N5),this.Ge.getRemoteKeysForTarget(t).forEach((e=>{this.et(t,e,null)}))}Et(t,e){return this.Ge.getRemoteKeysForTarget(t).has(e)}}function Yd(){return new Mr(Ue.comparator)}function C5(){return new Mr(Ue.comparator)}const XT={asc:"ASCENDING",desc:"DESCENDING"},JT={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ZT={and:"AND",or:"OR"};class tN{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function k0(n,t){return n.useProto3Json||Wp(t)?t:{value:t}}function Lp(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Kw(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function eN(n,t){return Lp(n,t.toTimestamp())}function qo(n){return $n(!!n,49232),rn.fromTimestamp((function(e){const i=bu(e);return new br(i.seconds,i.nanos)})(n))}function N1(n,t){return O0(n,t).canonicalString()}function O0(n,t){const e=(function(s){return new dr(["projects",s.projectId,"databases",s.database])})(n).child("documents");return t===void 0?e:e.child(t)}function Qw(n){const t=dr.fromString(n);return $n(e3(t),10190,{key:t.toString()}),t}function P0(n,t){return N1(n.databaseId,t.path)}function Fg(n,t){const e=Qw(t);if(e.get(1)!==n.databaseId.projectId)throw new ue(Qt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new ue(Qt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new Ue(Jw(e))}function Xw(n,t){return N1(n.databaseId,t)}function nN(n){const t=Qw(n);return t.length===4?dr.emptyPath():Jw(t)}function M0(n){return new dr(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Jw(n){return $n(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function R5(n,t,e){return{name:P0(n,t),fields:e.value.mapValue.fields}}function rN(n,t){let e;if("targetChange"in t){t.targetChange;const i=(function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:We(39313,{state:d})})(t.targetChange.targetChangeType||"NO_CHANGE"),s=t.targetChange.targetIds||[],o=(function(d,g){return d.useProto3Json?($n(g===void 0||typeof g=="string",58123),na.fromBase64String(g||"")):($n(g===void 0||g instanceof Buffer||g instanceof Uint8Array,16193),na.fromUint8Array(g||new Uint8Array))})(n,t.targetChange.resumeToken),u=t.targetChange.cause,h=u&&(function(d){const g=d.code===void 0?Qt.UNKNOWN:$w(d.code);return new ue(g,d.message||"")})(u);e=new Ww(i,s,o,h||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const s=Fg(n,i.document.name),o=qo(i.document.updateTime),u=i.document.createTime?qo(i.document.createTime):rn.min(),h=new Xa({mapValue:{fields:i.document.fields}}),f=ya.newFoundDocument(s,o,u,h),d=i.targetIds||[],g=i.removedTargetIds||[];e=new fp(d,g,f.key,f)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const s=Fg(n,i.document),o=i.readTime?qo(i.readTime):rn.min(),u=ya.newNoDocument(s,o),h=i.removedTargetIds||[];e=new fp([],h,u.key,u)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const s=Fg(n,i.document),o=i.removedTargetIds||[];e=new fp([],o,s,null)}else{if(!("filter"in t))return We(11601,{Rt:t});{t.filter;const i=t.filter;i.targetId;const{count:s=0,unchangedNames:o}=i,u=new $T(s,o),h=i.targetId;e=new Yw(h,u)}}return e}function iN(n,t){let e;if(t instanceof Hf)e={update:R5(n,t.key,t.value)};else if(t instanceof A1)e={delete:P0(n,t.key)};else if(t instanceof Cu)e={update:R5(n,t.key,t.data),updateMask:dN(t.fieldMask)};else{if(!(t instanceof qT))return We(16599,{Vt:t.type});e={verify:P0(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map((i=>(function(o,u){const h=u.transform;if(h instanceof Cp)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Pf)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof Mf)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof Rp)return{fieldPath:u.field.canonicalString(),increment:h.Ae};throw We(20930,{transform:u.transform})})(0,i)))),t.precondition.isNone||(e.currentDocument=(function(s,o){return o.updateTime!==void 0?{updateTime:eN(s,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:We(27497)})(n,t.precondition)),e}function aN(n,t){return n&&n.length>0?($n(t!==void 0,14353),n.map((e=>(function(s,o){let u=s.updateTime?qo(s.updateTime):qo(o);return u.isEqual(rn.min())&&(u=qo(o)),new BT(u,s.transformResults||[])})(e,t)))):[]}function sN(n,t){return{documents:[Xw(n,t.path)]}}function oN(n,t){const e={structuredQuery:{}},i=t.path;let s;t.collectionGroup!==null?(s=i,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(s=i.popLast(),e.structuredQuery.from=[{collectionId:i.lastSegment()}]),e.parent=Xw(n,s);const o=(function(d){if(d.length!==0)return t3(uo.create(d,"and"))})(t.filters);o&&(e.structuredQuery.where=o);const u=(function(d){if(d.length!==0)return d.map((g=>(function(S){return{field:Qc(S.field),direction:cN(S.dir)}})(g)))})(t.orderBy);u&&(e.structuredQuery.orderBy=u);const h=k0(n,t.limit);return h!==null&&(e.structuredQuery.limit=h),t.startAt&&(e.structuredQuery.startAt=(function(d){return{before:d.inclusive,values:d.position}})(t.startAt)),t.endAt&&(e.structuredQuery.endAt=(function(d){return{before:!d.inclusive,values:d.position}})(t.endAt)),{ft:e,parent:s}}function lN(n){let t=nN(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let s=null;if(i>0){$n(i===1,65062);const g=e.from[0];g.allDescendants?s=g.collectionId:t=t.child(g.collectionId)}let o=[];e.where&&(o=(function(w){const S=Zw(w);return S instanceof uo&&Rw(S)?S.getFilters():[S]})(e.where));let u=[];e.orderBy&&(u=(function(w){return w.map((S=>(function(N){return new Of(Xc(N.field),(function(j){switch(j){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(N.direction))})(S)))})(e.orderBy));let h=null;e.limit&&(h=(function(w){let S;return S=typeof w=="object"?w.value:w,Wp(S)?null:S})(e.limit));let f=null;e.startAt&&(f=(function(w){const S=!!w.before,_=w.values||[];return new Tp(_,S)})(e.startAt));let d=null;return e.endAt&&(d=(function(w){const S=!w.before,_=w.values||[];return new Tp(_,S)})(e.endAt)),NT(t,s,u,o,h,"F",f,d)}function uN(n,t){const e=(function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return We(28987,{purpose:s})}})(t.purpose);return e==null?null:{"goog-listen-tags":e}}function Zw(n){return n.unaryFilter!==void 0?(function(e){switch(e.unaryFilter.op){case"IS_NAN":const i=Xc(e.unaryFilter.field);return hi.create(i,"==",{doubleValue:NaN});case"IS_NULL":const s=Xc(e.unaryFilter.field);return hi.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Xc(e.unaryFilter.field);return hi.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Xc(e.unaryFilter.field);return hi.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return We(61313);default:return We(60726)}})(n):n.fieldFilter!==void 0?(function(e){return hi.create(Xc(e.fieldFilter.field),(function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return We(58110);default:return We(50506)}})(e.fieldFilter.op),e.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(e){return uo.create(e.compositeFilter.filters.map((i=>Zw(i))),(function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return We(1026)}})(e.compositeFilter.op))})(n):We(30097,{filter:n})}function cN(n){return XT[n]}function hN(n){return JT[n]}function fN(n){return ZT[n]}function Qc(n){return{fieldPath:n.canonicalString()}}function Xc(n){return ea.fromServerFormat(n.fieldPath)}function t3(n){return n instanceof hi?(function(e){if(e.op==="=="){if(g5(e.value))return{unaryFilter:{field:Qc(e.field),op:"IS_NAN"}};if(m5(e.value))return{unaryFilter:{field:Qc(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(g5(e.value))return{unaryFilter:{field:Qc(e.field),op:"IS_NOT_NAN"}};if(m5(e.value))return{unaryFilter:{field:Qc(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Qc(e.field),op:hN(e.op),value:e.value}}})(n):n instanceof uo?(function(e){const i=e.getFilters().map((s=>t3(s)));return i.length===1?i[0]:{compositeFilter:{op:fN(e.op),filters:i}}})(n):We(54877,{filter:n})}function dN(n){const t=[];return n.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function e3(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}class hu{constructor(t,e,i,s,o=rn.min(),u=rn.min(),h=na.EMPTY_BYTE_STRING,f=null){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=s,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h,this.expectedCount=f}withSequenceNumber(t){return new hu(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new hu(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new hu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new hu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class pN{constructor(t){this.yt=t}}function mN(n){const t=lN({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Np(t,t.limit,"L"):t}class gN{constructor(){this.Cn=new yN}addToCollectionParentIndex(t,e){return this.Cn.add(e),te.resolve()}getCollectionParents(t,e){return te.resolve(this.Cn.getEntries(e))}addFieldIndex(t,e){return te.resolve()}deleteFieldIndex(t,e){return te.resolve()}deleteAllFieldIndexes(t){return te.resolve()}createTargetIndexes(t,e){return te.resolve()}getDocumentsMatchingTarget(t,e){return te.resolve(null)}getIndexType(t,e){return te.resolve(0)}getFieldIndexes(t,e){return te.resolve([])}getNextCollectionGroupToUpdate(t){return te.resolve(null)}getMinOffset(t,e){return te.resolve(vu.min())}getMinOffsetFromCollectionGroup(t,e){return te.resolve(vu.min())}updateCollectionGroup(t,e,i){return te.resolve()}updateIndexEntries(t,e){return te.resolve()}}class yN{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),s=this.index[e]||new Ni(dr.comparator),o=!s.has(i);return this.index[e]=s.add(i),o}has(t){const e=t.lastSegment(),i=t.popLast(),s=this.index[e];return s&&s.has(i)}getEntries(t){return(this.index[t]||new Ni(dr.comparator)).toArray()}}const L5={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},n3=41943040;class Qa{static withCacheSize(t){return new Qa(t,Qa.DEFAULT_COLLECTION_PERCENTILE,Qa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}}Qa.DEFAULT_COLLECTION_PERCENTILE=10,Qa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Qa.DEFAULT=new Qa(n3,Qa.DEFAULT_COLLECTION_PERCENTILE,Qa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Qa.DISABLED=new Qa(-1,0,0);class dh{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new dh(0)}static cr(){return new dh(-1)}}const I5="LruGarbageCollector",vN=1048576;function D5([n,t],[e,i]){const s=Sn(n,e);return s===0?Sn(t,i):s}class bN{constructor(t){this.Ir=t,this.buffer=new Ni(D5),this.Er=0}dr(){return++this.Er}Ar(t){const e=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();D5(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class _N{constructor(t,e,i){this.garbageCollector=t,this.asyncQueue=e,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){pe(I5,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){_h(e)?pe(I5,"Ignoring IndexedDB error during garbage collection: ",e):await bh(e)}await this.Vr(3e5)}))}}class wN{constructor(t,e){this.mr=t,this.params=e}calculateTargetCount(t,e){return this.mr.gr(t).next((i=>Math.floor(e/100*i)))}nthSequenceNumber(t,e){if(e===0)return te.resolve(Yp.ce);const i=new bN(e);return this.mr.forEachTarget(t,(s=>i.Ar(s.sequenceNumber))).next((()=>this.mr.pr(t,(s=>i.Ar(s))))).next((()=>i.maxValue))}removeTargets(t,e,i){return this.mr.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.mr.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(pe("LruGarbageCollector","Garbage collection skipped; disabled"),te.resolve(L5)):this.getCacheSize(t).next((i=>i<this.params.cacheSizeCollectionThreshold?(pe("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),L5):this.yr(t,e)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,e){let i,s,o,u,h,f,d;const g=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((w=>(w>this.params.maximumSequenceNumbersToCollect?(pe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),s=this.params.maximumSequenceNumbersToCollect):s=w,u=Date.now(),this.nthSequenceNumber(t,s)))).next((w=>(i=w,h=Date.now(),this.removeTargets(t,i,e)))).next((w=>(o=w,f=Date.now(),this.removeOrphanedDocuments(t,i)))).next((w=>(d=Date.now(),Wc()<=kn.DEBUG&&pe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-g}ms
	Determined least recently used ${s} in `+(h-u)+`ms
	Removed ${o} targets in `+(f-h)+`ms
	Removed ${w} documents in `+(d-f)+`ms
Total Duration: ${d-g}ms`),te.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:o,documentsRemoved:w}))))}}function xN(n,t){return new wN(n,t)}class SN{constructor(){this.changes=new oc((t=>t.toString()),((t,e)=>t.isEqual(e))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,ya.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return i!==void 0?te.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class AN{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class EN{constructor(t,e,i,s){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=s}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next((s=>(i=s,this.remoteDocumentCache.getEntry(t,e)))).next((s=>(i!==null&&Sf(i.mutation,s,ds.empty(),br.now()),s)))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next((i=>this.getLocalViewOfDocuments(t,i,An()).next((()=>i))))}getLocalViewOfDocuments(t,e,i=An()){const s=Xu();return this.populateOverlays(t,s,e).next((()=>this.computeViews(t,e,s,i).next((o=>{let u=mf();return o.forEach(((h,f)=>{u=u.insert(h,f.overlayedDocument)})),u}))))}getOverlayedDocuments(t,e){const i=Xu();return this.populateOverlays(t,i,e).next((()=>this.computeViews(t,e,i,An())))}populateOverlays(t,e,i){const s=[];return i.forEach((o=>{e.has(o)||s.push(o)})),this.documentOverlayCache.getOverlays(t,s).next((o=>{o.forEach(((u,h)=>{e.set(u,h)}))}))}computeViews(t,e,i,s){let o=Il();const u=xf(),h=(function(){return xf()})();return e.forEach(((f,d)=>{const g=i.get(d.key);s.has(d.key)&&(g===void 0||g.mutation instanceof Cu)?o=o.insert(d.key,d):g!==void 0?(u.set(d.key,g.mutation.getFieldMask()),Sf(g.mutation,d,g.mutation.getFieldMask(),br.now())):u.set(d.key,ds.empty())})),this.recalculateAndSaveOverlays(t,o).next((f=>(f.forEach(((d,g)=>u.set(d,g))),e.forEach(((d,g)=>h.set(d,new AN(g,u.get(d)??null)))),h)))}recalculateAndSaveOverlays(t,e){const i=xf();let s=new Mr(((u,h)=>u-h)),o=An();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next((u=>{for(const h of u)h.keys().forEach((f=>{const d=e.get(f);if(d===null)return;let g=i.get(f)||ds.empty();g=h.applyToLocalView(d,g),i.set(f,g);const w=(s.get(h.batchId)||An()).add(f);s=s.insert(h.batchId,w)}))})).next((()=>{const u=[],h=s.getReverseIterator();for(;h.hasNext();){const f=h.getNext(),d=f.key,g=f.value,w=Fw();g.forEach((S=>{if(!o.has(S)){const _=Hw(e.get(S),i.get(S));_!==null&&w.set(S,_),o=o.add(S)}})),u.push(this.documentOverlayCache.saveOverlays(t,d,w))}return te.waitFor(u)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next((i=>this.recalculateAndSaveOverlays(t,i)))}getDocumentsMatchingQuery(t,e,i,s){return(function(u){return Ue.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0})(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):kw(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i,s):this.getDocumentsMatchingCollectionQuery(t,e,i,s)}getNextDocuments(t,e,i,s){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,s).next((o=>{const u=s-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,s-o.size):te.resolve(Xu());let h=Lf,f=o;return u.next((d=>te.forEach(d,((g,w)=>(h<w.largestBatchId&&(h=w.largestBatchId),o.get(g)?te.resolve():this.remoteDocumentCache.getEntry(t,g).next((S=>{f=f.insert(g,S)}))))).next((()=>this.populateOverlays(t,d,o))).next((()=>this.computeViews(t,f,d,An()))).next((g=>({batchId:h,changes:jw(g)})))))}))}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new Ue(e)).next((i=>{let s=mf();return i.isFoundDocument()&&(s=s.insert(i.key,i)),s}))}getDocumentsMatchingCollectionGroupQuery(t,e,i,s){const o=e.collectionGroup;let u=mf();return this.indexManager.getCollectionParents(t,o).next((h=>te.forEach(h,(f=>{const d=(function(w,S){return new wh(S,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(e,f.child(o));return this.getDocumentsMatchingCollectionQuery(t,d,i,s).next((g=>{g.forEach(((w,S)=>{u=u.insert(w,S)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(t,e,i,s){let o;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId).next((u=>(o=u,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,i,o,s)))).next((u=>{o.forEach(((f,d)=>{const g=d.getKey();u.get(g)===null&&(u=u.insert(g,ya.newInvalidDocument(g)))}));let h=mf();return u.forEach(((f,d)=>{const g=o.get(f);g!==void 0&&Sf(g.mutation,d,ds.empty(),br.now()),Xp(e,d)&&(h=h.insert(f,d))})),h}))}}class TN{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,e){return te.resolve(this.Lr.get(e))}saveBundleMetadata(t,e){return this.Lr.set(e.id,(function(s){return{id:s.id,version:s.version,createTime:qo(s.createTime)}})(e)),te.resolve()}getNamedQuery(t,e){return te.resolve(this.kr.get(e))}saveNamedQuery(t,e){return this.kr.set(e.name,(function(s){return{name:s.name,query:mN(s.bundledQuery),readTime:qo(s.readTime)}})(e)),te.resolve()}}class NN{constructor(){this.overlays=new Mr(Ue.comparator),this.qr=new Map}getOverlay(t,e){return te.resolve(this.overlays.get(e))}getOverlays(t,e){const i=Xu();return te.forEach(e,(s=>this.getOverlay(t,s).next((o=>{o!==null&&i.set(s,o)})))).next((()=>i))}saveOverlays(t,e,i){return i.forEach(((s,o)=>{this.St(t,e,o)})),te.resolve()}removeOverlaysForBatchId(t,e,i){const s=this.qr.get(i);return s!==void 0&&(s.forEach((o=>this.overlays=this.overlays.remove(o))),this.qr.delete(i)),te.resolve()}getOverlaysForCollection(t,e,i){const s=Xu(),o=e.length+1,u=new Ue(e.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const f=h.getNext().value,d=f.getKey();if(!e.isPrefixOf(d.path))break;d.path.length===o&&f.largestBatchId>i&&s.set(f.getKey(),f)}return te.resolve(s)}getOverlaysForCollectionGroup(t,e,i,s){let o=new Mr(((d,g)=>d-g));const u=this.overlays.getIterator();for(;u.hasNext();){const d=u.getNext().value;if(d.getKey().getCollectionGroup()===e&&d.largestBatchId>i){let g=o.get(d.largestBatchId);g===null&&(g=Xu(),o=o.insert(d.largestBatchId,g)),g.set(d.getKey(),d)}}const h=Xu(),f=o.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((d,g)=>h.set(d,g))),!(h.size()>=s)););return te.resolve(h)}St(t,e,i){const s=this.overlays.get(i.key);if(s!==null){const u=this.qr.get(s.largestBatchId).delete(i.key);this.qr.set(s.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new GT(e,i));let o=this.qr.get(e);o===void 0&&(o=An(),this.qr.set(e,o)),this.qr.set(e,o.add(i.key))}}class CN{constructor(){this.sessionToken=na.EMPTY_BYTE_STRING}getSessionToken(t){return te.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,te.resolve()}}class C1{constructor(){this.Qr=new Ni(Vi.$r),this.Ur=new Ni(Vi.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,e){const i=new Vi(t,e);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(t,e){t.forEach((i=>this.addReference(i,e)))}removeReference(t,e){this.Gr(new Vi(t,e))}zr(t,e){t.forEach((i=>this.removeReference(i,e)))}jr(t){const e=new Ue(new dr([])),i=new Vi(e,t),s=new Vi(e,t+1),o=[];return this.Ur.forEachInRange([i,s],(u=>{this.Gr(u),o.push(u.key)})),o}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const e=new Ue(new dr([])),i=new Vi(e,t),s=new Vi(e,t+1);let o=An();return this.Ur.forEachInRange([i,s],(u=>{o=o.add(u.key)})),o}containsKey(t){const e=new Vi(t,0),i=this.Qr.firstAfterOrEqual(e);return i!==null&&t.isEqual(i.key)}}class Vi{constructor(t,e){this.key=t,this.Yr=e}static $r(t,e){return Ue.comparator(t.key,e.key)||Sn(t.Yr,e.Yr)}static Kr(t,e){return Sn(t.Yr,e.Yr)||Ue.comparator(t.key,e.key)}}class RN{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.tr=1,this.Zr=new Ni(Vi.$r)}checkEmpty(t){return te.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,i,s){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new HT(o,e,i,s);this.mutationQueue.push(u);for(const h of s)this.Zr=this.Zr.add(new Vi(h.key,o)),this.indexManager.addToCollectionParentIndex(t,h.key.path.popLast());return te.resolve(u)}lookupMutationBatch(t,e){return te.resolve(this.Xr(e))}getNextMutationBatchAfterBatchId(t,e){const i=e+1,s=this.ei(i),o=s<0?0:s;return te.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return te.resolve(this.mutationQueue.length===0?y1:this.tr-1)}getAllMutationBatches(t){return te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new Vi(e,0),s=new Vi(e,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([i,s],(u=>{const h=this.Xr(u.Yr);o.push(h)})),te.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new Ni(Sn);return e.forEach((s=>{const o=new Vi(s,0),u=new Vi(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,u],(h=>{i=i.add(h.Yr)}))})),te.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,s=i.length+1;let o=i;Ue.isDocumentKey(o)||(o=o.child(""));const u=new Vi(new Ue(o),0);let h=new Ni(Sn);return this.Zr.forEachWhile((f=>{const d=f.key.path;return!!i.isPrefixOf(d)&&(d.length===s&&(h=h.add(f.Yr)),!0)}),u),te.resolve(this.ti(h))}ti(t){const e=[];return t.forEach((i=>{const s=this.Xr(i);s!==null&&e.push(s)})),e}removeMutationBatch(t,e){$n(this.ni(e.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return te.forEach(e.mutations,(s=>{const o=new Vi(s.key,e.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(t,s.key)})).next((()=>{this.Zr=i}))}ir(t){}containsKey(t,e){const i=new Vi(e,0),s=this.Zr.firstAfterOrEqual(i);return te.resolve(e.isEqual(s&&s.key))}performConsistencyCheck(t){return this.mutationQueue.length,te.resolve()}ni(t,e){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const e=this.ei(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class LN{constructor(t){this.ri=t,this.docs=(function(){return new Mr(Ue.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,s=this.docs.get(i),o=s?s.size:0,u=this.ri(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:u}),this.size+=u-o,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return te.resolve(i?i.document.mutableCopy():ya.newInvalidDocument(e))}getEntries(t,e){let i=Il();return e.forEach((s=>{const o=this.docs.get(s);i=i.insert(s,o?o.document.mutableCopy():ya.newInvalidDocument(s))})),te.resolve(i)}getDocumentsMatchingQuery(t,e,i,s){let o=Il();const u=e.path,h=new Ue(u.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(h);for(;f.hasNext();){const{key:d,value:{document:g}}=f.getNext();if(!u.isPrefixOf(d.path))break;d.path.length>u.length+1||aT(iT(g),i)<=0||(s.has(g.key)||Xp(e,g))&&(o=o.insert(g.key,g.mutableCopy()))}return te.resolve(o)}getAllFromCollectionGroup(t,e,i,s){We(9500)}ii(t,e){return te.forEach(this.docs,(i=>e(i)))}newChangeBuffer(t){return new IN(this)}getSize(t){return te.resolve(this.size)}}class IN extends SN{constructor(t){super(),this.Nr=t}applyChanges(t){const e=[];return this.changes.forEach(((i,s)=>{s.isValidDocument()?e.push(this.Nr.addEntry(t,s)):this.Nr.removeEntry(i)})),te.waitFor(e)}getFromCache(t,e){return this.Nr.getEntry(t,e)}getAllFromCache(t,e){return this.Nr.getEntries(t,e)}}class DN{constructor(t){this.persistence=t,this.si=new oc((e=>_1(e)),w1),this.lastRemoteSnapshotVersion=rn.min(),this.highestTargetId=0,this.oi=0,this._i=new C1,this.targetCount=0,this.ai=dh.ur()}forEachTarget(t,e){return this.si.forEach(((i,s)=>e(s))),te.resolve()}getLastRemoteSnapshotVersion(t){return te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return te.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),te.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.oi&&(this.oi=e),te.resolve()}Pr(t){this.si.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.ai=new dh(e),this.highestTargetId=e),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,e){return this.Pr(e),this.targetCount+=1,te.resolve()}updateTargetData(t,e){return this.Pr(e),te.resolve()}removeTargetData(t,e){return this.si.delete(e.target),this._i.jr(e.targetId),this.targetCount-=1,te.resolve()}removeTargets(t,e,i){let s=0;const o=[];return this.si.forEach(((u,h)=>{h.sequenceNumber<=e&&i.get(h.targetId)===null&&(this.si.delete(u),o.push(this.removeMatchingKeysForTargetId(t,h.targetId)),s++)})),te.waitFor(o).next((()=>s))}getTargetCount(t){return te.resolve(this.targetCount)}getTargetData(t,e){const i=this.si.get(e)||null;return te.resolve(i)}addMatchingKeys(t,e,i){return this._i.Wr(e,i),te.resolve()}removeMatchingKeys(t,e,i){this._i.zr(e,i);const s=this.persistence.referenceDelegate,o=[];return s&&e.forEach((u=>{o.push(s.markPotentiallyOrphaned(t,u))})),te.waitFor(o)}removeMatchingKeysForTargetId(t,e){return this._i.jr(e),te.resolve()}getMatchingKeysForTargetId(t,e){const i=this._i.Hr(e);return te.resolve(i)}containsKey(t,e){return te.resolve(this._i.containsKey(e))}}class r3{constructor(t,e){this.ui={},this.overlays={},this.ci=new Yp(0),this.li=!1,this.li=!0,this.hi=new CN,this.referenceDelegate=t(this),this.Pi=new DN(this),this.indexManager=new gN,this.remoteDocumentCache=(function(s){return new LN(s)})((i=>this.referenceDelegate.Ti(i))),this.serializer=new pN(e),this.Ii=new TN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new NN,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.ui[t.toKey()];return i||(i=new RN(e,this.referenceDelegate),this.ui[t.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,e,i){pe("MemoryPersistence","Starting transaction:",t);const s=new kN(this.ci.next());return this.referenceDelegate.Ei(),i(s).next((o=>this.referenceDelegate.di(s).next((()=>o)))).toPromise().then((o=>(s.raiseOnCommittedEvent(),o)))}Ai(t,e){return te.or(Object.values(this.ui).map((i=>()=>i.containsKey(t,e))))}}class kN extends oT{constructor(t){super(),this.currentSequenceNumber=t}}class R1{constructor(t){this.persistence=t,this.Ri=new C1,this.Vi=null}static mi(t){return new R1(t)}get fi(){if(this.Vi)return this.Vi;throw We(60996)}addReference(t,e,i){return this.Ri.addReference(i,e),this.fi.delete(i.toString()),te.resolve()}removeReference(t,e,i){return this.Ri.removeReference(i,e),this.fi.add(i.toString()),te.resolve()}markPotentiallyOrphaned(t,e){return this.fi.add(e.toString()),te.resolve()}removeTarget(t,e){this.Ri.jr(e.targetId).forEach((s=>this.fi.add(s.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next((s=>{s.forEach((o=>this.fi.add(o.toString())))})).next((()=>i.removeTargetData(t,e)))}Ei(){this.Vi=new Set}di(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return te.forEach(this.fi,(i=>{const s=Ue.fromPath(i);return this.gi(t,s).next((o=>{o||e.removeEntry(s,rn.min())}))})).next((()=>(this.Vi=null,e.apply(t))))}updateLimboDocument(t,e){return this.gi(t,e).next((i=>{i?this.fi.delete(e.toString()):this.fi.add(e.toString())}))}Ti(t){return 0}gi(t,e){return te.or([()=>te.resolve(this.Ri.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ai(t,e)])}}class Ip{constructor(t,e){this.persistence=t,this.pi=new oc((i=>cT(i.path)),((i,s)=>i.isEqual(s))),this.garbageCollector=xN(this,e)}static mi(t,e){return new Ip(t,e)}Ei(){}di(t){return te.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}gr(t){const e=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((i=>e.next((s=>i+s))))}wr(t){let e=0;return this.pr(t,(i=>{e++})).next((()=>e))}pr(t,e){return te.forEach(this.pi,((i,s)=>this.br(t,i,s).next((o=>o?te.resolve():e(s)))))}removeTargets(t,e,i){return this.persistence.getTargetCache().removeTargets(t,e,i)}removeOrphanedDocuments(t,e){let i=0;const s=this.persistence.getRemoteDocumentCache(),o=s.newChangeBuffer();return s.ii(t,(u=>this.br(t,u,e).next((h=>{h||(i++,o.removeEntry(u,rn.min()))})))).next((()=>o.apply(t))).next((()=>i))}markPotentiallyOrphaned(t,e){return this.pi.set(e,t.currentSequenceNumber),te.resolve()}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,i)}addReference(t,e,i){return this.pi.set(i,t.currentSequenceNumber),te.resolve()}removeReference(t,e,i){return this.pi.set(i,t.currentSequenceNumber),te.resolve()}updateLimboDocument(t,e){return this.pi.set(e,t.currentSequenceNumber),te.resolve()}Ti(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=up(t.data.value)),e}br(t,e,i){return te.or([()=>this.persistence.Ai(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const s=this.pi.get(e);return te.resolve(s!==void 0&&s>i)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class L1{constructor(t,e,i,s){this.targetId=t,this.fromCache=e,this.Es=i,this.ds=s}static As(t,e){let i=An(),s=An();for(const o of e.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:s=s.add(o.doc.key)}return new L1(t,e.fromCache,i,s)}}class ON{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class PN{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return E6()?8:lT(x6())>0?6:4})()}initialize(t,e){this.ps=t,this.indexManager=e,this.Rs=!0}getDocumentsMatchingQuery(t,e,i,s){const o={result:null};return this.ys(t,e).next((u=>{o.result=u})).next((()=>{if(!o.result)return this.ws(t,e,s,i).next((u=>{o.result=u}))})).next((()=>{if(o.result)return;const u=new ON;return this.Ss(t,e,u).next((h=>{if(o.result=h,this.Vs)return this.bs(t,e,u,h.size)}))})).next((()=>o.result))}bs(t,e,i,s){return i.documentReadCount<this.fs?(Wc()<=kn.DEBUG&&pe("QueryEngine","SDK will not create cache indexes for query:",Kc(e),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),te.resolve()):(Wc()<=kn.DEBUG&&pe("QueryEngine","Query:",Kc(e),"scans",i.documentReadCount,"local documents and returns",s,"documents as results."),i.documentReadCount>this.gs*s?(Wc()<=kn.DEBUG&&pe("QueryEngine","The SDK decides to create cache indexes for query:",Kc(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,zo(e))):te.resolve())}ys(t,e){if(_5(e))return te.resolve(null);let i=zo(e);return this.indexManager.getIndexType(t,i).next((s=>s===0?null:(e.limit!==null&&s===1&&(e=Np(e,null,"F"),i=zo(e)),this.indexManager.getDocumentsMatchingTarget(t,i).next((o=>{const u=An(...o);return this.ps.getDocuments(t,u).next((h=>this.indexManager.getMinOffset(t,i).next((f=>{const d=this.Ds(e,h);return this.Cs(e,d,u,f.readTime)?this.ys(t,Np(e,null,"F")):this.vs(t,d,e,f)}))))})))))}ws(t,e,i,s){return _5(e)||s.isEqual(rn.min())?te.resolve(null):this.ps.getDocuments(t,i).next((o=>{const u=this.Ds(e,o);return this.Cs(e,u,i,s)?te.resolve(null):(Wc()<=kn.DEBUG&&pe("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Kc(e)),this.vs(t,u,e,rT(s,Lf)).next((h=>h)))}))}Ds(t,e){let i=new Ni(Pw(t));return e.forEach(((s,o)=>{Xp(t,o)&&(i=i.add(o))})),i}Cs(t,e,i,s){if(t.limit===null)return!1;if(i.size!==e.size)return!0;const o=t.limitType==="F"?e.last():e.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(s)>0)}Ss(t,e,i){return Wc()<=kn.DEBUG&&pe("QueryEngine","Using full collection scan to execute query:",Kc(e)),this.ps.getDocumentsMatchingQuery(t,e,vu.min(),i)}vs(t,e,i,s){return this.ps.getDocumentsMatchingQuery(t,i,s).next((o=>(e.forEach((u=>{o=o.insert(u.key,u)})),o)))}}const I1="LocalStore",MN=3e8;class jN{constructor(t,e,i,s){this.persistence=t,this.Fs=e,this.serializer=s,this.Ms=new Mr(Sn),this.xs=new oc((o=>_1(o)),w1),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(i)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new EN(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(e=>t.collect(e,this.Ms)))}}function FN(n,t,e,i){return new jN(n,t,e,i)}async function i3(n,t){const e=ln(n);return await e.persistence.runTransaction("Handle user change","readonly",(i=>{let s;return e.mutationQueue.getAllMutationBatches(i).next((o=>(s=o,e.Bs(t),e.mutationQueue.getAllMutationBatches(i)))).next((o=>{const u=[],h=[];let f=An();for(const d of s){u.push(d.batchId);for(const g of d.mutations)f=f.add(g.key)}for(const d of o){h.push(d.batchId);for(const g of d.mutations)f=f.add(g.key)}return e.localDocuments.getDocuments(i,f).next((d=>({Ls:d,removedBatchIds:u,addedBatchIds:h})))}))}))}function VN(n,t){const e=ln(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const s=t.batch.keys(),o=e.Ns.newChangeBuffer({trackRemovals:!0});return(function(h,f,d,g){const w=d.batch,S=w.keys();let _=te.resolve();return S.forEach((N=>{_=_.next((()=>g.getEntry(f,N))).next((M=>{const j=d.docVersions.get(N);$n(j!==null,48541),M.version.compareTo(j)<0&&(w.applyToRemoteDocument(M,d),M.isValidDocument()&&(M.setReadTime(d.commitVersion),g.addEntry(M)))}))})),_.next((()=>h.mutationQueue.removeMutationBatch(f,w)))})(e,i,t,o).next((()=>o.apply(i))).next((()=>e.mutationQueue.performConsistencyCheck(i))).next((()=>e.documentOverlayCache.removeOverlaysForBatchId(i,s,t.batch.batchId))).next((()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(h){let f=An();for(let d=0;d<h.mutationResults.length;++d)h.mutationResults[d].transformResults.length>0&&(f=f.add(h.batch.mutations[d].key));return f})(t)))).next((()=>e.localDocuments.getDocuments(i,s)))}))}function a3(n){const t=ln(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Pi.getLastRemoteSnapshotVersion(e)))}function BN(n,t){const e=ln(n),i=t.snapshotVersion;let s=e.Ms;return e.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const u=e.Ns.newChangeBuffer({trackRemovals:!0});s=e.Ms;const h=[];t.targetChanges.forEach(((g,w)=>{const S=s.get(w);if(!S)return;h.push(e.Pi.removeMatchingKeys(o,g.removedDocuments,w).next((()=>e.Pi.addMatchingKeys(o,g.addedDocuments,w))));let _=S.withSequenceNumber(o.currentSequenceNumber);t.targetMismatches.get(w)!==null?_=_.withResumeToken(na.EMPTY_BYTE_STRING,rn.min()).withLastLimboFreeSnapshotVersion(rn.min()):g.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(g.resumeToken,i)),s=s.insert(w,_),(function(M,j,R){return M.resumeToken.approximateByteSize()===0||j.snapshotVersion.toMicroseconds()-M.snapshotVersion.toMicroseconds()>=MN?!0:R.addedDocuments.size+R.modifiedDocuments.size+R.removedDocuments.size>0})(S,_,g)&&h.push(e.Pi.updateTargetData(o,_))}));let f=Il(),d=An();if(t.documentUpdates.forEach((g=>{t.resolvedLimboDocuments.has(g)&&h.push(e.persistence.referenceDelegate.updateLimboDocument(o,g))})),h.push(UN(o,u,t.documentUpdates).next((g=>{f=g.ks,d=g.qs}))),!i.isEqual(rn.min())){const g=e.Pi.getLastRemoteSnapshotVersion(o).next((w=>e.Pi.setTargetsMetadata(o,o.currentSequenceNumber,i)));h.push(g)}return te.waitFor(h).next((()=>u.apply(o))).next((()=>e.localDocuments.getLocalViewOfDocuments(o,f,d))).next((()=>f))})).then((o=>(e.Ms=s,o)))}function UN(n,t,e){let i=An(),s=An();return e.forEach((o=>i=i.add(o))),t.getEntries(n,i).next((o=>{let u=Il();return e.forEach(((h,f)=>{const d=o.get(h);f.isFoundDocument()!==d.isFoundDocument()&&(s=s.add(h)),f.isNoDocument()&&f.version.isEqual(rn.min())?(t.removeEntry(h,f.readTime),u=u.insert(h,f)):!d.isValidDocument()||f.version.compareTo(d.version)>0||f.version.compareTo(d.version)===0&&d.hasPendingWrites?(t.addEntry(f),u=u.insert(h,f)):pe(I1,"Ignoring outdated watch update for ",h,". Current version:",d.version," Watch version:",f.version)})),{ks:u,qs:s}}))}function zN(n,t){const e=ln(n);return e.persistence.runTransaction("Get next mutation batch","readonly",(i=>(t===void 0&&(t=y1),e.mutationQueue.getNextMutationBatchAfterBatchId(i,t))))}function qN(n,t){const e=ln(n);return e.persistence.runTransaction("Allocate target","readwrite",(i=>{let s;return e.Pi.getTargetData(i,t).next((o=>o?(s=o,te.resolve(s)):e.Pi.allocateTargetId(i).next((u=>(s=new hu(t,u,"TargetPurposeListen",i.currentSequenceNumber),e.Pi.addTargetData(i,s).next((()=>s)))))))})).then((i=>{const s=e.Ms.get(i.targetId);return(s===null||i.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(e.Ms=e.Ms.insert(i.targetId,i),e.xs.set(t,i.targetId)),i}))}async function j0(n,t,e){const i=ln(n),s=i.Ms.get(t),o=e?"readwrite":"readwrite-primary";try{e||await i.persistence.runTransaction("Release target",o,(u=>i.persistence.referenceDelegate.removeTarget(u,s)))}catch(u){if(!_h(u))throw u;pe(I1,`Failed to update sequence numbers for target ${t}: ${u}`)}i.Ms=i.Ms.remove(t),i.xs.delete(s.target)}function k5(n,t,e){const i=ln(n);let s=rn.min(),o=An();return i.persistence.runTransaction("Execute query","readwrite",(u=>(function(f,d,g){const w=ln(f),S=w.xs.get(g);return S!==void 0?te.resolve(w.Ms.get(S)):w.Pi.getTargetData(d,g)})(i,u,zo(t)).next((h=>{if(h)return s=h.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(u,h.targetId).next((f=>{o=f}))})).next((()=>i.Fs.getDocumentsMatchingQuery(u,t,e?s:rn.min(),e?o:An()))).next((h=>(HN(i,RT(t),h),{documents:h,Qs:o})))))}function HN(n,t,e){let i=n.Os.get(t)||rn.min();e.forEach(((s,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)})),n.Os.set(t,i)}class O5{constructor(){this.activeTargetIds=PT()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class GN{constructor(){this.Mo=new O5,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t,e=!0){return e&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,e,i){this.xo[t]=e}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new O5,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class $N{Oo(t){}shutdown(){}}const P5="ConnectivityMonitor";class M5{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){pe(P5,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){pe(P5,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Wd=null;function F0(){return Wd===null?Wd=(function(){return 268435456+Math.round(2147483648*Math.random())})():Wd++,"0x"+Wd.toString(16)}const Vg="RestConnection",YN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class WN{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=e+"://"+t.host,this.Ko=`projects/${i}/databases/${s}`,this.Wo=this.databaseId.database===Ap?`project_id=${i}`:`project_id=${i}&database_id=${s}`}Go(t,e,i,s,o){const u=F0(),h=this.zo(t,e.toUriEncodedString());pe(Vg,`Sending RPC '${t}' ${u}:`,h,i);const f={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(f,s,o);const{host:d}=new URL(h),g=f1(d);return this.Jo(t,h,f,i,g).then((w=>(pe(Vg,`Received RPC '${t}' ${u}: `,w),w)),(w=>{throw uh(Vg,`RPC '${t}' ${u} failed with error: `,w,"url: ",h,"request:",i),w}))}Ho(t,e,i,s,o,u){return this.Go(t,e,i,s,o)}jo(t,e,i){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+vh})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach(((s,o)=>t[o]=s)),i&&i.headers.forEach(((s,o)=>t[o]=s))}zo(t,e){const i=YN[t];return`${this.Uo}/v1/${e}:${i}`}terminate(){}}class KN{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const ha="WebChannelConnection";class QN extends WN{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,e,i,s,o){const u=F0();return new Promise(((h,f)=>{const d=new lw;d.setWithCredentials(!0),d.listenOnce(uw.COMPLETE,(()=>{try{switch(d.getLastErrorCode()){case lp.NO_ERROR:const w=d.getResponseJson();pe(ha,`XHR for RPC '${t}' ${u} received:`,JSON.stringify(w)),h(w);break;case lp.TIMEOUT:pe(ha,`RPC '${t}' ${u} timed out`),f(new ue(Qt.DEADLINE_EXCEEDED,"Request time out"));break;case lp.HTTP_ERROR:const S=d.getStatus();if(pe(ha,`RPC '${t}' ${u} failed with status:`,S,"response text:",d.getResponseText()),S>0){let _=d.getResponseJson();Array.isArray(_)&&(_=_[0]);const N=_?.error;if(N&&N.status&&N.message){const M=(function(R){const Q=R.toLowerCase().replace(/_/g,"-");return Object.values(Qt).indexOf(Q)>=0?Q:Qt.UNKNOWN})(N.status);f(new ue(M,N.message))}else f(new ue(Qt.UNKNOWN,"Server responded with status "+d.getStatus()))}else f(new ue(Qt.UNAVAILABLE,"Connection failed."));break;default:We(9055,{l_:t,streamId:u,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{pe(ha,`RPC '${t}' ${u} completed.`)}}));const g=JSON.stringify(s);pe(ha,`RPC '${t}' ${u} sending request:`,s),d.send(e,"POST",g,i,15)}))}T_(t,e,i){const s=F0(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],u=fw(),h=hw(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(f.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(f.useFetchStreams=!0),this.jo(f.initMessageHeaders,e,i),f.encodeInitMessageHeaders=!0;const g=o.join("");pe(ha,`Creating RPC '${t}' stream ${s}: ${g}`,f);const w=u.createWebChannel(g,f);this.I_(w);let S=!1,_=!1;const N=new KN({Yo:j=>{_?pe(ha,`Not sending because RPC '${t}' stream ${s} is closed:`,j):(S||(pe(ha,`Opening RPC '${t}' stream ${s} transport.`),w.open(),S=!0),pe(ha,`RPC '${t}' stream ${s} sending:`,j),w.send(j))},Zo:()=>w.close()}),M=(j,R,Q)=>{j.listen(R,(W=>{try{Q(W)}catch(nt){setTimeout((()=>{throw nt}),0)}}))};return M(w,pf.EventType.OPEN,(()=>{_||(pe(ha,`RPC '${t}' stream ${s} transport opened.`),N.o_())})),M(w,pf.EventType.CLOSE,(()=>{_||(_=!0,pe(ha,`RPC '${t}' stream ${s} transport closed`),N.a_(),this.E_(w))})),M(w,pf.EventType.ERROR,(j=>{_||(_=!0,uh(ha,`RPC '${t}' stream ${s} transport errored. Name:`,j.name,"Message:",j.message),N.a_(new ue(Qt.UNAVAILABLE,"The operation could not be completed")))})),M(w,pf.EventType.MESSAGE,(j=>{if(!_){const R=j.data[0];$n(!!R,16349);const Q=R,W=Q?.error||Q[0]?.error;if(W){pe(ha,`RPC '${t}' stream ${s} received error:`,W);const nt=W.status;let mt=(function(V){const D=ci[V];if(D!==void 0)return $w(D)})(nt),bt=W.message;mt===void 0&&(mt=Qt.INTERNAL,bt="Unknown error status: "+nt+" with message "+W.message),_=!0,N.a_(new ue(mt,bt)),w.close()}else pe(ha,`RPC '${t}' stream ${s} received:`,R),N.u_(R)}})),M(h,cw.STAT_EVENT,(j=>{j.stat===T0.PROXY?pe(ha,`RPC '${t}' stream ${s} detected buffering proxy`):j.stat===T0.NOPROXY&&pe(ha,`RPC '${t}' stream ${s} detected no buffering proxy`)})),setTimeout((()=>{N.__()}),0),N}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((e=>e===t))}}function Bg(){return typeof document<"u"?document:null}function em(n){return new tN(n,!0)}class s3{constructor(t,e,i=1e3,s=1.5,o=6e4){this.Mi=t,this.timerId=e,this.d_=i,this.A_=s,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const e=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),s=Math.max(0,e-i);s>0&&pe("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const j5="PersistentStream";class o3{constructor(t,e,i,s,o,u,h,f){this.Mi=t,this.S_=i,this.b_=s,this.connection=o,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new s3(t,e)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,e){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():e&&e.code===Qt.RESOURCE_EXHAUSTED?(Rl(e.toString()),Rl("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):e&&e.code===Qt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(e)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),e=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,s])=>{this.D_===e&&this.G_(i,s)}),(i=>{t((()=>{const s=new ue(Qt.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(s)}))}))}G_(t,e){const i=this.W_(this.D_);this.stream=this.j_(t,e),this.stream.Xo((()=>{i((()=>this.listener.Xo()))})),this.stream.t_((()=>{i((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((s=>{i((()=>this.z_(s)))})),this.stream.onMessage((s=>{i((()=>++this.F_==1?this.J_(s):this.onNext(s)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return pe(j5,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return e=>{this.Mi.enqueueAndForget((()=>this.D_===t?e():(pe(j5,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class XN extends o3{constructor(t,e,i,s,o,u){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,s,u),this.serializer=o}j_(t,e){return this.connection.T_("Listen",t,e)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const e=rN(this.serializer,t),i=(function(o){if(!("targetChange"in o))return rn.min();const u=o.targetChange;return u.targetIds&&u.targetIds.length?rn.min():u.readTime?qo(u.readTime):rn.min()})(t);return this.listener.H_(e,i)}Y_(t){const e={};e.database=M0(this.serializer),e.addTarget=(function(o,u){let h;const f=u.target;if(h=I0(f)?{documents:sN(o,f)}:{query:oN(o,f).ft},h.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){h.resumeToken=Kw(o,u.resumeToken);const d=k0(o,u.expectedCount);d!==null&&(h.expectedCount=d)}else if(u.snapshotVersion.compareTo(rn.min())>0){h.readTime=Lp(o,u.snapshotVersion.toTimestamp());const d=k0(o,u.expectedCount);d!==null&&(h.expectedCount=d)}return h})(this.serializer,t);const i=uN(this.serializer,t);i&&(e.labels=i),this.q_(e)}Z_(t){const e={};e.database=M0(this.serializer),e.removeTarget=t,this.q_(e)}}class JN extends o3{constructor(t,e,i,s,o,u){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,s,u),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,e){return this.connection.T_("Write",t,e)}J_(t){return $n(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,$n(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){$n(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const e=aN(t.writeResults,t.commitTime),i=qo(t.commitTime);return this.listener.na(i,e)}ra(){const t={};t.database=M0(this.serializer),this.q_(t)}ea(t){const e={streamToken:this.lastStreamToken,writes:t.map((i=>iN(this.serializer,i)))};this.q_(e)}}class ZN{}class t8 extends ZN{constructor(t,e,i,s){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=i,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new ue(Qt.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,e,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,u])=>this.connection.Go(t,O0(e,i),s,o,u))).catch((o=>{throw o.name==="FirebaseError"?(o.code===Qt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ue(Qt.UNKNOWN,o.toString())}))}Ho(t,e,i,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.Ho(t,O0(e,i),s,u,h,o))).catch((u=>{throw u.name==="FirebaseError"?(u.code===Qt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ue(Qt.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class e8{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Rl(e),this.aa=!1):pe("OnlineStateTracker",e)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const nc="RemoteStore";class n8{constructor(t,e,i,s,o){this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo((u=>{i.enqueueAndForget((async()=>{lc(this)&&(pe(nc,"Restarting streams for network reachability change."),await(async function(f){const d=ln(f);d.Ea.add(4),await $f(d),d.Ra.set("Unknown"),d.Ea.delete(4),await nm(d)})(this))}))})),this.Ra=new e8(i,s)}}async function nm(n){if(lc(n))for(const t of n.da)await t(!0)}async function $f(n){for(const t of n.da)await t(!1)}function l3(n,t){const e=ln(n);e.Ia.has(t.targetId)||(e.Ia.set(t.targetId,t),P1(e)?O1(e):xh(e).O_()&&k1(e,t))}function D1(n,t){const e=ln(n),i=xh(e);e.Ia.delete(t),i.O_()&&u3(e,t),e.Ia.size===0&&(i.O_()?i.L_():lc(e)&&e.Ra.set("Unknown"))}function k1(n,t){if(n.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(rn.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}xh(n).Y_(t)}function u3(n,t){n.Va.Ue(t),xh(n).Z_(t)}function O1(n){n.Va=new QT({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),At:t=>n.Ia.get(t)||null,ht:()=>n.datastore.serializer.databaseId}),xh(n).start(),n.Ra.ua()}function P1(n){return lc(n)&&!xh(n).x_()&&n.Ia.size>0}function lc(n){return ln(n).Ea.size===0}function c3(n){n.Va=void 0}async function r8(n){n.Ra.set("Online")}async function i8(n){n.Ia.forEach(((t,e)=>{k1(n,t)}))}async function a8(n,t){c3(n),P1(n)?(n.Ra.ha(t),O1(n)):n.Ra.set("Unknown")}async function s8(n,t,e){if(n.Ra.set("Online"),t instanceof Ww&&t.state===2&&t.cause)try{await(async function(s,o){const u=o.cause;for(const h of o.targetIds)s.Ia.has(h)&&(await s.remoteSyncer.rejectListen(h,u),s.Ia.delete(h),s.Va.removeTarget(h))})(n,t)}catch(i){pe(nc,"Failed to remove targets %s: %s ",t.targetIds.join(","),i),await Dp(n,i)}else if(t instanceof fp?n.Va.Ze(t):t instanceof Yw?n.Va.st(t):n.Va.tt(t),!e.isEqual(rn.min()))try{const i=await a3(n.localStore);e.compareTo(i)>=0&&await(function(o,u){const h=o.Va.Tt(u);return h.targetChanges.forEach(((f,d)=>{if(f.resumeToken.approximateByteSize()>0){const g=o.Ia.get(d);g&&o.Ia.set(d,g.withResumeToken(f.resumeToken,u))}})),h.targetMismatches.forEach(((f,d)=>{const g=o.Ia.get(f);if(!g)return;o.Ia.set(f,g.withResumeToken(na.EMPTY_BYTE_STRING,g.snapshotVersion)),u3(o,f);const w=new hu(g.target,f,d,g.sequenceNumber);k1(o,w)})),o.remoteSyncer.applyRemoteEvent(h)})(n,e)}catch(i){pe(nc,"Failed to raise snapshot:",i),await Dp(n,i)}}async function Dp(n,t,e){if(!_h(t))throw t;n.Ea.add(1),await $f(n),n.Ra.set("Offline"),e||(e=()=>a3(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{pe(nc,"Retrying IndexedDB access"),await e(),n.Ea.delete(1),await nm(n)}))}function h3(n,t){return t().catch((e=>Dp(n,e,t)))}async function rm(n){const t=ln(n),e=xu(t);let i=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:y1;for(;o8(t);)try{const s=await zN(t.localStore,i);if(s===null){t.Ta.length===0&&e.L_();break}i=s.batchId,l8(t,s)}catch(s){await Dp(t,s)}f3(t)&&d3(t)}function o8(n){return lc(n)&&n.Ta.length<10}function l8(n,t){n.Ta.push(t);const e=xu(n);e.O_()&&e.X_&&e.ea(t.mutations)}function f3(n){return lc(n)&&!xu(n).x_()&&n.Ta.length>0}function d3(n){xu(n).start()}async function u8(n){xu(n).ra()}async function c8(n){const t=xu(n);for(const e of n.Ta)t.ea(e.mutations)}async function h8(n,t,e){const i=n.Ta.shift(),s=E1.from(i,t,e);await h3(n,(()=>n.remoteSyncer.applySuccessfulWrite(s))),await rm(n)}async function f8(n,t){t&&xu(n).X_&&await(async function(i,s){if((function(u){return YT(u)&&u!==Qt.ABORTED})(s.code)){const o=i.Ta.shift();xu(i).B_(),await h3(i,(()=>i.remoteSyncer.rejectFailedWrite(o.batchId,s))),await rm(i)}})(n,t),f3(n)&&d3(n)}async function F5(n,t){const e=ln(n);e.asyncQueue.verifyOperationInProgress(),pe(nc,"RemoteStore received new credentials");const i=lc(e);e.Ea.add(3),await $f(e),i&&e.Ra.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.Ea.delete(3),await nm(e)}async function d8(n,t){const e=ln(n);t?(e.Ea.delete(2),await nm(e)):t||(e.Ea.add(2),await $f(e),e.Ra.set("Unknown"))}function xh(n){return n.ma||(n.ma=(function(e,i,s){const o=ln(e);return o.sa(),new XN(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)})(n.datastore,n.asyncQueue,{Xo:r8.bind(null,n),t_:i8.bind(null,n),r_:a8.bind(null,n),H_:s8.bind(null,n)}),n.da.push((async t=>{t?(n.ma.B_(),P1(n)?O1(n):n.Ra.set("Unknown")):(await n.ma.stop(),c3(n))}))),n.ma}function xu(n){return n.fa||(n.fa=(function(e,i,s){const o=ln(e);return o.sa(),new JN(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:u8.bind(null,n),r_:f8.bind(null,n),ta:c8.bind(null,n),na:h8.bind(null,n)}),n.da.push((async t=>{t?(n.fa.B_(),await rm(n)):(await n.fa.stop(),n.Ta.length>0&&(pe(nc,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}class M1{constructor(t,e,i,s,o){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=s,this.removalCallback=o,this.deferred=new El,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,e,i,s,o){const u=Date.now()+i,h=new M1(t,e,u,s,o);return h.start(i),h}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ue(Qt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function j1(n,t){if(Rl("AsyncQueue",`${t}: ${n}`),_h(n))return new ue(Qt.UNAVAILABLE,`${t}: ${n}`);throw n}class eh{static emptySet(t){return new eh(t.comparator)}constructor(t){this.comparator=t?(e,i)=>t(e,i)||Ue.comparator(e.key,i.key):(e,i)=>Ue.comparator(e.key,i.key),this.keyedMap=mf(),this.sortedSet=new Mr(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((e,i)=>(t(e),!1)))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof eh)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const s=e.getNext().key,o=i.getNext().key;if(!s.isEqual(o))return!1}return!0}toString(){const t=[];return this.forEach((e=>{t.push(e.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const i=new eh;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}class V5{constructor(){this.ga=new Mr(Ue.comparator)}track(t){const e=t.doc.key,i=this.ga.get(e);i?t.type!==0&&i.type===3?this.ga=this.ga.insert(e,t):t.type===3&&i.type!==1?this.ga=this.ga.insert(e,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.ga=this.ga.insert(e,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.ga=this.ga.remove(e):t.type===1&&i.type===2?this.ga=this.ga.insert(e,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):We(63341,{Rt:t,pa:i}):this.ga=this.ga.insert(e,t)}ya(){const t=[];return this.ga.inorderTraversal(((e,i)=>{t.push(i)})),t}}class ph{constructor(t,e,i,s,o,u,h,f,d){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=s,this.mutatedKeys=o,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=f,this.hasCachedResults=d}static fromInitialDocuments(t,e,i,s,o){const u=[];return e.forEach((h=>{u.push({type:0,doc:h})})),new ph(t,e,eh.emptySet(e),u,i,s,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Qp(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let s=0;s<e.length;s++)if(e[s].type!==i[s].type||!e[s].doc.isEqual(i[s].doc))return!1;return!0}}class p8{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class m8{constructor(){this.queries=B5(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(e,i){const s=ln(e),o=s.queries;s.queries=B5(),o.forEach(((u,h)=>{for(const f of h.Sa)f.onError(i)}))})(this,new ue(Qt.ABORTED,"Firestore shutting down"))}}function B5(){return new oc((n=>Ow(n)),Qp)}async function p3(n,t){const e=ln(n);let i=3;const s=t.query;let o=e.queries.get(s);o?!o.ba()&&t.Da()&&(i=2):(o=new p8,i=t.Da()?0:1);try{switch(i){case 0:o.wa=await e.onListen(s,!0);break;case 1:o.wa=await e.onListen(s,!1);break;case 2:await e.onFirstRemoteStoreListen(s)}}catch(u){const h=j1(u,`Initialization of query '${Kc(t.query)}' failed`);return void t.onError(h)}e.queries.set(s,o),o.Sa.push(t),t.va(e.onlineState),o.wa&&t.Fa(o.wa)&&F1(e)}async function m3(n,t){const e=ln(n),i=t.query;let s=3;const o=e.queries.get(i);if(o){const u=o.Sa.indexOf(t);u>=0&&(o.Sa.splice(u,1),o.Sa.length===0?s=t.Da()?0:1:!o.ba()&&t.Da()&&(s=2))}switch(s){case 0:return e.queries.delete(i),e.onUnlisten(i,!0);case 1:return e.queries.delete(i),e.onUnlisten(i,!1);case 2:return e.onLastRemoteStoreUnlisten(i);default:return}}function g8(n,t){const e=ln(n);let i=!1;for(const s of t){const o=s.query,u=e.queries.get(o);if(u){for(const h of u.Sa)h.Fa(s)&&(i=!0);u.wa=s}}i&&F1(e)}function y8(n,t,e){const i=ln(n),s=i.queries.get(t);if(s)for(const o of s.Sa)o.onError(e);i.queries.delete(t)}function F1(n){n.Ca.forEach((t=>{t.next()}))}var V0,U5;(U5=V0||(V0={})).Ma="default",U5.Cache="cache";class g3{constructor(t,e,i){this.query=t,this.xa=e,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(t){if(!this.options.includeMetadataChanges){const i=[];for(const s of t.docChanges)s.type!==3&&i.push(s);t=new ph(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),e=!0):this.La(t,this.onlineState)&&(this.ka(t),e=!0),this.Na=t,e}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let e=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),e=!0),e}La(t,e){if(!t.fromCache||!this.Da())return!0;const i=e!=="Offline";return(!this.options.qa||!i)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const e=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}ka(t){t=ph.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==V0.Cache}}class y3{constructor(t){this.key=t}}class v3{constructor(t){this.key=t}}class v8{constructor(t,e){this.query=t,this.Ya=e,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=An(),this.mutatedKeys=An(),this.eu=Pw(t),this.tu=new eh(this.eu)}get nu(){return this.Ya}ru(t,e){const i=e?e.iu:new V5,s=e?e.tu:this.tu;let o=e?e.mutatedKeys:this.mutatedKeys,u=s,h=!1;const f=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,d=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(t.inorderTraversal(((g,w)=>{const S=s.get(g),_=Xp(this.query,w)?w:null,N=!!S&&this.mutatedKeys.has(S.key),M=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations);let j=!1;S&&_?S.data.isEqual(_.data)?N!==M&&(i.track({type:3,doc:_}),j=!0):this.su(S,_)||(i.track({type:2,doc:_}),j=!0,(f&&this.eu(_,f)>0||d&&this.eu(_,d)<0)&&(h=!0)):!S&&_?(i.track({type:0,doc:_}),j=!0):S&&!_&&(i.track({type:1,doc:S}),j=!0,(f||d)&&(h=!0)),j&&(_?(u=u.add(_),o=M?o.add(g):o.delete(g)):(u=u.delete(g),o=o.delete(g)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const g=this.query.limitType==="F"?u.last():u.first();u=u.delete(g.key),o=o.delete(g.key),i.track({type:1,doc:g})}return{tu:u,iu:i,Cs:h,mutatedKeys:o}}su(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i,s){const o=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const u=t.iu.ya();u.sort(((g,w)=>(function(_,N){const M=j=>{switch(j){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return We(20277,{Rt:j})}};return M(_)-M(N)})(g.type,w.type)||this.eu(g.doc,w.doc))),this.ou(i),s=s??!1;const h=e&&!s?this._u():[],f=this.Xa.size===0&&this.current&&!s?1:0,d=f!==this.Za;return this.Za=f,u.length!==0||d?{snapshot:new ph(this.query,t.tu,o,u,t.mutatedKeys,f===0,d,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:h}:{au:h}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new V5,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((e=>this.Ya=this.Ya.add(e))),t.modifiedDocuments.forEach((e=>{})),t.removedDocuments.forEach((e=>this.Ya=this.Ya.delete(e))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=An(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))}));const e=[];return t.forEach((i=>{this.Xa.has(i)||e.push(new v3(i))})),this.Xa.forEach((i=>{t.has(i)||e.push(new y3(i))})),e}cu(t){this.Ya=t.Qs,this.Xa=An();const e=this.ru(t.documents);return this.applyChanges(e,!0)}lu(){return ph.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const V1="SyncEngine";class b8{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class _8{constructor(t){this.key=t,this.hu=!1}}class w8{constructor(t,e,i,s,o,u){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=s,this.currentUser=o,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new oc((h=>Ow(h)),Qp),this.Iu=new Map,this.Eu=new Set,this.du=new Mr(Ue.comparator),this.Au=new Map,this.Ru=new C1,this.Vu={},this.mu=new Map,this.fu=dh.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function x8(n,t,e=!0){const i=A3(n);let s;const o=i.Tu.get(t);return o?(i.sharedClientState.addLocalQueryTarget(o.targetId),s=o.view.lu()):s=await b3(i,t,e,!0),s}async function S8(n,t){const e=A3(n);await b3(e,t,!0,!1)}async function b3(n,t,e,i){const s=await qN(n.localStore,zo(t)),o=s.targetId,u=n.sharedClientState.addLocalQueryTarget(o,e);let h;return i&&(h=await A8(n,t,o,u==="current",s.resumeToken)),n.isPrimaryClient&&e&&l3(n.remoteStore,s),h}async function A8(n,t,e,i,s){n.pu=(w,S,_)=>(async function(M,j,R,Q){let W=j.view.ru(R);W.Cs&&(W=await k5(M.localStore,j.query,!1).then((({documents:q})=>j.view.ru(q,W))));const nt=Q&&Q.targetChanges.get(j.targetId),mt=Q&&Q.targetMismatches.get(j.targetId)!=null,bt=j.view.applyChanges(W,M.isPrimaryClient,nt,mt);return q5(M,j.targetId,bt.au),bt.snapshot})(n,w,S,_);const o=await k5(n.localStore,t,!0),u=new v8(t,o.Qs),h=u.ru(o.documents),f=Gf.createSynthesizedTargetChangeForCurrentChange(e,i&&n.onlineState!=="Offline",s),d=u.applyChanges(h,n.isPrimaryClient,f);q5(n,e,d.au);const g=new b8(t,e,u);return n.Tu.set(t,g),n.Iu.has(e)?n.Iu.get(e).push(t):n.Iu.set(e,[t]),d.snapshot}async function E8(n,t,e){const i=ln(n),s=i.Tu.get(t),o=i.Iu.get(s.targetId);if(o.length>1)return i.Iu.set(s.targetId,o.filter((u=>!Qp(u,t)))),void i.Tu.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(s.targetId),i.sharedClientState.isActiveQueryTarget(s.targetId)||await j0(i.localStore,s.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(s.targetId),e&&D1(i.remoteStore,s.targetId),B0(i,s.targetId)})).catch(bh)):(B0(i,s.targetId),await j0(i.localStore,s.targetId,!0))}async function T8(n,t){const e=ln(n),i=e.Tu.get(t),s=e.Iu.get(i.targetId);e.isPrimaryClient&&s.length===1&&(e.sharedClientState.removeLocalQueryTarget(i.targetId),D1(e.remoteStore,i.targetId))}async function N8(n,t,e){const i=O8(n);try{const s=await(function(u,h){const f=ln(u),d=br.now(),g=h.reduce(((_,N)=>_.add(N.key)),An());let w,S;return f.persistence.runTransaction("Locally write mutations","readwrite",(_=>{let N=Il(),M=An();return f.Ns.getEntries(_,g).next((j=>{N=j,N.forEach(((R,Q)=>{Q.isValidDocument()||(M=M.add(R))}))})).next((()=>f.localDocuments.getOverlayedDocuments(_,N))).next((j=>{w=j;const R=[];for(const Q of h){const W=zT(Q,w.get(Q.key).overlayedDocument);W!=null&&R.push(new Cu(Q.key,W,Tw(W.value.mapValue),lo.exists(!0)))}return f.mutationQueue.addMutationBatch(_,d,R,h)})).next((j=>{S=j;const R=j.applyToLocalDocumentSet(w,M);return f.documentOverlayCache.saveOverlays(_,j.batchId,R)}))})).then((()=>({batchId:S.batchId,changes:jw(w)})))})(i.localStore,t);i.sharedClientState.addPendingMutation(s.batchId),(function(u,h,f){let d=u.Vu[u.currentUser.toKey()];d||(d=new Mr(Sn)),d=d.insert(h,f),u.Vu[u.currentUser.toKey()]=d})(i,s.batchId,e),await Yf(i,s.changes),await rm(i.remoteStore)}catch(s){const o=j1(s,"Failed to persist write");e.reject(o)}}async function _3(n,t){const e=ln(n);try{const i=await BN(e.localStore,t);t.targetChanges.forEach(((s,o)=>{const u=e.Au.get(o);u&&($n(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?u.hu=!0:s.modifiedDocuments.size>0?$n(u.hu,14607):s.removedDocuments.size>0&&($n(u.hu,42227),u.hu=!1))})),await Yf(e,i,t)}catch(i){await bh(i)}}function z5(n,t,e){const i=ln(n);if(i.isPrimaryClient&&e===0||!i.isPrimaryClient&&e===1){const s=[];i.Tu.forEach(((o,u)=>{const h=u.view.va(t);h.snapshot&&s.push(h.snapshot)})),(function(u,h){const f=ln(u);f.onlineState=h;let d=!1;f.queries.forEach(((g,w)=>{for(const S of w.Sa)S.va(h)&&(d=!0)})),d&&F1(f)})(i.eventManager,t),s.length&&i.Pu.H_(s),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function C8(n,t,e){const i=ln(n);i.sharedClientState.updateQueryState(t,"rejected",e);const s=i.Au.get(t),o=s&&s.key;if(o){let u=new Mr(Ue.comparator);u=u.insert(o,ya.newNoDocument(o,rn.min()));const h=An().add(o),f=new tm(rn.min(),new Map,new Mr(Sn),u,h);await _3(i,f),i.du=i.du.remove(o),i.Au.delete(t),B1(i)}else await j0(i.localStore,t,!1).then((()=>B0(i,t,e))).catch(bh)}async function R8(n,t){const e=ln(n),i=t.batch.batchId;try{const s=await VN(e.localStore,t);x3(e,i,null),w3(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),await Yf(e,s)}catch(s){await bh(s)}}async function L8(n,t,e){const i=ln(n);try{const s=await(function(u,h){const f=ln(u);return f.persistence.runTransaction("Reject batch","readwrite-primary",(d=>{let g;return f.mutationQueue.lookupMutationBatch(d,h).next((w=>($n(w!==null,37113),g=w.keys(),f.mutationQueue.removeMutationBatch(d,w)))).next((()=>f.mutationQueue.performConsistencyCheck(d))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(d,g,h))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,g))).next((()=>f.localDocuments.getDocuments(d,g)))}))})(i.localStore,t);x3(i,t,e),w3(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),await Yf(i,s)}catch(s){await bh(s)}}function w3(n,t){(n.mu.get(t)||[]).forEach((e=>{e.resolve()})),n.mu.delete(t)}function x3(n,t,e){const i=ln(n);let s=i.Vu[i.currentUser.toKey()];if(s){const o=s.get(t);o&&(e?o.reject(e):o.resolve(),s=s.remove(t)),i.Vu[i.currentUser.toKey()]=s}}function B0(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n.Iu.get(t))n.Tu.delete(i),e&&n.Pu.yu(i,e);n.Iu.delete(t),n.isPrimaryClient&&n.Ru.jr(t).forEach((i=>{n.Ru.containsKey(i)||S3(n,i)}))}function S3(n,t){n.Eu.delete(t.path.canonicalString());const e=n.du.get(t);e!==null&&(D1(n.remoteStore,e),n.du=n.du.remove(t),n.Au.delete(e),B1(n))}function q5(n,t,e){for(const i of e)i instanceof y3?(n.Ru.addReference(i.key,t),I8(n,i)):i instanceof v3?(pe(V1,"Document no longer in limbo: "+i.key),n.Ru.removeReference(i.key,t),n.Ru.containsKey(i.key)||S3(n,i.key)):We(19791,{wu:i})}function I8(n,t){const e=t.key,i=e.path.canonicalString();n.du.get(e)||n.Eu.has(i)||(pe(V1,"New document in limbo: "+e),n.Eu.add(i),B1(n))}function B1(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const t=n.Eu.values().next().value;n.Eu.delete(t);const e=new Ue(dr.fromString(t)),i=n.fu.next();n.Au.set(i,new _8(e)),n.du=n.du.insert(e,i),l3(n.remoteStore,new hu(zo(x1(e.path)),i,"TargetPurposeLimboResolution",Yp.ce))}}async function Yf(n,t,e){const i=ln(n),s=[],o=[],u=[];i.Tu.isEmpty()||(i.Tu.forEach(((h,f)=>{u.push(i.pu(f,t,e).then((d=>{if((d||e)&&i.isPrimaryClient){const g=d?!d.fromCache:e?.targetChanges.get(f.targetId)?.current;i.sharedClientState.updateQueryState(f.targetId,g?"current":"not-current")}if(d){s.push(d);const g=L1.As(f.targetId,d);o.push(g)}})))})),await Promise.all(u),i.Pu.H_(s),await(async function(f,d){const g=ln(f);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>te.forEach(d,(S=>te.forEach(S.Es,(_=>g.persistence.referenceDelegate.addReference(w,S.targetId,_))).next((()=>te.forEach(S.ds,(_=>g.persistence.referenceDelegate.removeReference(w,S.targetId,_)))))))))}catch(w){if(!_h(w))throw w;pe(I1,"Failed to update sequence numbers: "+w)}for(const w of d){const S=w.targetId;if(!w.fromCache){const _=g.Ms.get(S),N=_.snapshotVersion,M=_.withLastLimboFreeSnapshotVersion(N);g.Ms=g.Ms.insert(S,M)}}})(i.localStore,o))}async function D8(n,t){const e=ln(n);if(!e.currentUser.isEqual(t)){pe(V1,"User change. New user:",t.toKey());const i=await i3(e.localStore,t);e.currentUser=t,(function(o,u){o.mu.forEach((h=>{h.forEach((f=>{f.reject(new ue(Qt.CANCELLED,u))}))})),o.mu.clear()})(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),await Yf(e,i.Ls)}}function k8(n,t){const e=ln(n),i=e.Au.get(t);if(i&&i.hu)return An().add(i.key);{let s=An();const o=e.Iu.get(t);if(!o)return s;for(const u of o){const h=e.Tu.get(u);s=s.unionWith(h.view.nu)}return s}}function A3(n){const t=ln(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=_3.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=k8.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=C8.bind(null,t),t.Pu.H_=g8.bind(null,t.eventManager),t.Pu.yu=y8.bind(null,t.eventManager),t}function O8(n){const t=ln(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=R8.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=L8.bind(null,t),t}class kp{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=em(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,e){return null}Mu(t,e){return null}vu(t){return FN(this.persistence,new PN,t.initialUser,this.serializer)}Cu(t){return new r3(R1.mi,this.serializer)}Du(t){return new GN}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}kp.provider={build:()=>new kp};class P8 extends kp{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,e){$n(this.persistence.referenceDelegate instanceof Ip,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new _N(i,t.asyncQueue,e)}Cu(t){const e=this.cacheSizeBytes!==void 0?Qa.withCacheSize(this.cacheSizeBytes):Qa.DEFAULT;return new r3((i=>Ip.mi(i,e)),this.serializer)}}class U0{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>z5(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=D8.bind(null,this.syncEngine),await d8(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new m8})()}createDatastore(t){const e=em(t.databaseInfo.databaseId),i=(function(o){return new QN(o)})(t.databaseInfo);return(function(o,u,h,f){return new t8(o,u,h,f)})(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return(function(i,s,o,u,h){return new n8(i,s,o,u,h)})(this.localStore,this.datastore,t.asyncQueue,(e=>z5(this.syncEngine,e,0)),(function(){return M5.v()?new M5:new $N})())}createSyncEngine(t,e){return(function(s,o,u,h,f,d,g){const w=new w8(s,o,u,h,f,d);return g&&(w.gu=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){await(async function(e){const i=ln(e);pe(nc,"RemoteStore shutting down."),i.Ea.add(5),await $f(i),i.Aa.shutdown(),i.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}U0.provider={build:()=>new U0};class E3{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Rl("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,e){setTimeout((()=>{this.muted||t(e)}),0)}}const Su="FirestoreClient";class M8{constructor(t,e,i,s,o){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=s,this.user=ga.UNAUTHENTICATED,this.clientId=g1.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(i,(async u=>{pe(Su,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(i,(u=>(pe(Su,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new El;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const i=j1(e,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}async function Ug(n,t){n.asyncQueue.verifyOperationInProgress(),pe(Su,"Initializing OfflineComponentProvider");const e=n.configuration;await t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener((async s=>{i.isEqual(s)||(await i3(t.localStore,s),i=s)})),t.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=t}async function H5(n,t){n.asyncQueue.verifyOperationInProgress();const e=await j8(n);pe(Su,"Initializing OnlineComponentProvider"),await t.initialize(e,n.configuration),n.setCredentialChangeListener((i=>F5(t.remoteStore,i))),n.setAppCheckTokenChangeListener(((i,s)=>F5(t.remoteStore,s))),n._onlineComponents=t}async function j8(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){pe(Su,"Using user provided OfflineComponentProvider");try{await Ug(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!(function(s){return s.name==="FirebaseError"?s.code===Qt.FAILED_PRECONDITION||s.code===Qt.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11})(e))throw e;uh("Error using user provided cache. Falling back to memory cache: "+e),await Ug(n,new kp)}}else pe(Su,"Using default OfflineComponentProvider"),await Ug(n,new P8(void 0));return n._offlineComponents}async function T3(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(pe(Su,"Using user provided OnlineComponentProvider"),await H5(n,n._uninitializedComponentsProvider._online)):(pe(Su,"Using default OnlineComponentProvider"),await H5(n,new U0))),n._onlineComponents}function F8(n){return T3(n).then((t=>t.syncEngine))}async function N3(n){const t=await T3(n),e=t.eventManager;return e.onListen=x8.bind(null,t.syncEngine),e.onUnlisten=E8.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=S8.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=T8.bind(null,t.syncEngine),e}function V8(n,t,e={}){const i=new El;return n.asyncQueue.enqueueAndForget((async()=>(function(o,u,h,f,d){const g=new E3({next:S=>{g.Nu(),u.enqueueAndForget((()=>m3(o,w)));const _=S.docs.has(h);!_&&S.fromCache?d.reject(new ue(Qt.UNAVAILABLE,"Failed to get document because the client is offline.")):_&&S.fromCache&&f&&f.source==="server"?d.reject(new ue(Qt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(S)},error:S=>d.reject(S)}),w=new g3(x1(h.path),g,{includeMetadataChanges:!0,qa:!0});return p3(o,w)})(await N3(n),n.asyncQueue,t,e,i))),i.promise}function B8(n,t,e={}){const i=new El;return n.asyncQueue.enqueueAndForget((async()=>(function(o,u,h,f,d){const g=new E3({next:S=>{g.Nu(),u.enqueueAndForget((()=>m3(o,w))),S.fromCache&&f.source==="server"?d.reject(new ue(Qt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(S)},error:S=>d.reject(S)}),w=new g3(h,g,{includeMetadataChanges:!0,qa:!0});return p3(o,w)})(await N3(n),n.asyncQueue,t,e,i))),i.promise}function C3(n){const t={};return n.timeoutSeconds!==void 0&&(t.timeoutSeconds=n.timeoutSeconds),t}const G5=new Map;const R3="firestore.googleapis.com",$5=!0;class Y5{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ue(Qt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=R3,this.ssl=$5}else this.host=t.host,this.ssl=t.ssl??$5;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=n3;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<vN)throw new ue(Qt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}eT("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=C3(t.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new ue(Qt.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new ue(Qt.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new ue(Qt.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(i,s){return i.timeoutSeconds===s.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class im{constructor(t,e,i,s){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=i,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Y5({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ue(Qt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ue(Qt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Y5(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new GE;switch(i.type){case"firstParty":return new KE(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new ue(Qt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(e){const i=G5.get(e);i&&(pe("ComponentProvider","Removing Datastore"),G5.delete(e),i.terminate())})(this),Promise.resolve()}}function U8(n,t,e,i={}){n=Ll(n,im);const s=f1(t),o=n._getSettings(),u={...o,emulatorOptions:n._getEmulatorOptions()},h=`${t}:${e}`;s&&(y6(`https://${h}`),w6("Firestore",!0)),o.host!==R3&&o.host!==h&&uh("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...o,host:h,ssl:s,emulatorOptions:i};if(!Cf(f,u)&&(n._setSettings(f),i.mockUserToken)){let d,g;if(typeof i.mockUserToken=="string")d=i.mockUserToken,g=ga.MOCK_USER;else{d=v6(i.mockUserToken,n._app?.options.projectId);const w=i.mockUserToken.sub||i.mockUserToken.user_id;if(!w)throw new ue(Qt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new ga(w)}n._authCredentials=new $E(new pw(d,g))}}class Ru{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new Ru(this.firestore,t,this._query)}}class di{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new gu(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new di(this.firestore,t,this._key)}toJSON(){return{type:di._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,e,i){if(qf(e,di._jsonSchema))return new di(t,i||null,new Ue(dr.fromString(e.referencePath)))}}di._jsonSchemaVersion="firestore/documentReference/1.0",di._jsonSchema={type:fi("string",di._jsonSchemaVersion),referencePath:fi("string")};class gu extends Ru{constructor(t,e,i){super(t,e,x1(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new di(this.firestore,null,new Ue(t))}withConverter(t){return new gu(this.firestore,t,this._path)}}function Yu(n,t,...e){if(n=js(n),mw("collection","path",t),n instanceof im){const i=dr.fromString(t,...e);return s5(i),new gu(n,null,i)}{if(!(n instanceof di||n instanceof gu))throw new ue(Qt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(dr.fromString(t,...e));return s5(i),new gu(n.firestore,null,i)}}function yf(n,t,...e){if(n=js(n),arguments.length===1&&(t=g1.newId()),mw("doc","path",t),n instanceof im){const i=dr.fromString(t,...e);return a5(i),new di(n,null,new Ue(i))}{if(!(n instanceof di||n instanceof gu))throw new ue(Qt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(dr.fromString(t,...e));return a5(i),new di(n.firestore,n instanceof gu?n.converter:null,new Ue(i))}}const W5="AsyncQueue";class K5{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new s3(this,"async_queue_retry"),this._c=()=>{const i=Bg();i&&pe(W5,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=t;const e=Bg();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const e=Bg();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const e=new El;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise))).then((()=>e.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!_h(t))throw t;pe(W5,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const e=this.ac.then((()=>(this.rc=!0,t().catch((i=>{throw this.nc=i,this.rc=!1,Rl("INTERNAL UNHANDLED ERROR: ",Q5(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=e,e}enqueueAfterDelay(t,e,i){this.uc(),this.oc.indexOf(t)>-1&&(e=0);const s=M1.createAndSchedule(this,t,e,i,(o=>this.hc(o)));return this.tc.push(s),s}uc(){this.nc&&We(47125,{Pc:Q5(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const e of this.tc)if(e.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((e,i)=>e.targetTimeMs-i.targetTimeMs));for(const e of this.tc)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const e=this.tc.indexOf(t);this.tc.splice(e,1)}}function Q5(n){let t=n.message||"";return n.stack&&(t=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),t}class Sh extends im{constructor(t,e,i,s){super(t,e,i,s),this.type="firestore",this._queue=new K5,this._persistenceKey=s?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new K5(t),this._firestoreClient=void 0,await t}}}function z8(n,t){const e=typeof n=="object"?n:iw(),i=typeof n=="string"?n:Ap,s=zf(e,"firestore").getImmediate({identifier:i});if(!s._initialized){const o=m6("firestore");o&&U8(s,...o)}return s}function U1(n){if(n._terminated)throw new ue(Qt.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||q8(n),n._firestoreClient}function q8(n){const t=n._freezeSettings(),e=(function(s,o,u,h){return new dT(s,o,u,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,C3(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)})(n._databaseId,n._app?.options.appId||"",n._persistenceKey,t);n._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),n._firestoreClient=new M8(n._authCredentials,n._appCheckCredentials,n._queue,e,n._componentsProvider&&(function(s){const o=s?._online.build();return{_offline:s?._offline.build(o),_online:o}})(n._componentsProvider))}class Ps{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Ps(na.fromBase64String(t))}catch(e){throw new ue(Qt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Ps(na.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Ps._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(qf(t,Ps._jsonSchema))return Ps.fromBase64String(t.bytes)}}Ps._jsonSchemaVersion="firestore/bytes/1.0",Ps._jsonSchema={type:fi("string",Ps._jsonSchemaVersion),bytes:fi("string")};class am{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new ue(Qt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ea(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class z1{constructor(t){this._methodName=t}}class Ho{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new ue(Qt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new ue(Qt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Sn(this._lat,t._lat)||Sn(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ho._jsonSchemaVersion}}static fromJSON(t){if(qf(t,Ho._jsonSchema))return new Ho(t.latitude,t.longitude)}}Ho._jsonSchemaVersion="firestore/geoPoint/1.0",Ho._jsonSchema={type:fi("string",Ho._jsonSchemaVersion),latitude:fi("number"),longitude:fi("number")};class Go{constructor(t){this._values=(t||[]).map((e=>e))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(i,s){if(i.length!==s.length)return!1;for(let o=0;o<i.length;++o)if(i[o]!==s[o])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Go._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(qf(t,Go._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((e=>typeof e=="number")))return new Go(t.vectorValues);throw new ue(Qt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Go._jsonSchemaVersion="firestore/vectorValue/1.0",Go._jsonSchema={type:fi("string",Go._jsonSchemaVersion),vectorValues:fi("object")};const H8=/^__.*__$/;class G8{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return this.fieldMask!==null?new Cu(t,this.data,this.fieldMask,e,this.fieldTransforms):new Hf(t,this.data,e,this.fieldTransforms)}}class L3{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return new Cu(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function I3(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw We(40011,{Ac:n})}}class q1{constructor(t,e,i,s,o,u){this.settings=t,this.databaseId=e,this.serializer=i,this.ignoreUndefinedProperties=s,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new q1({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const e=this.path?.child(t),i=this.Vc({path:e,fc:!1});return i.gc(t),i}yc(t){const e=this.path?.child(t),i=this.Vc({path:e,fc:!1});return i.Rc(),i}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return Op(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((e=>t.isPrefixOf(e)))!==void 0||this.fieldTransforms.find((e=>t.isPrefixOf(e.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(I3(this.Ac)&&H8.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class $8{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=i||em(t)}Cc(t,e,i,s=!1){return new q1({Ac:t,methodName:e,Dc:i,path:ea.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function H1(n){const t=n._freezeSettings(),e=em(n._databaseId);return new $8(n._databaseId,!!t.ignoreUndefinedProperties,e)}function Y8(n,t,e,i,s,o={}){const u=n.Cc(o.merge||o.mergeFields?2:0,t,e,s);G1("Data must be an object, but it was:",u,i);const h=D3(i,u);let f,d;if(o.merge)f=new ds(u.fieldMask),d=u.fieldTransforms;else if(o.mergeFields){const g=[];for(const w of o.mergeFields){const S=z0(t,w,e);if(!u.contains(S))throw new ue(Qt.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);O3(g,S)||g.push(S)}f=new ds(g),d=u.fieldTransforms.filter((w=>f.covers(w.field)))}else f=null,d=u.fieldTransforms;return new G8(new Xa(h),f,d)}class sm extends z1{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof sm}}function W8(n,t,e,i){const s=n.Cc(1,t,e);G1("Data must be an object, but it was:",s,i);const o=[],u=Xa.empty();Nu(i,((f,d)=>{const g=$1(t,f,e);d=js(d);const w=s.yc(g);if(d instanceof sm)o.push(g);else{const S=Wf(d,w);S!=null&&(o.push(g),u.set(g,S))}}));const h=new ds(o);return new L3(u,h,s.fieldTransforms)}function K8(n,t,e,i,s,o){const u=n.Cc(1,t,e),h=[z0(t,i,e)],f=[s];if(o.length%2!=0)throw new ue(Qt.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<o.length;S+=2)h.push(z0(t,o[S])),f.push(o[S+1]);const d=[],g=Xa.empty();for(let S=h.length-1;S>=0;--S)if(!O3(d,h[S])){const _=h[S];let N=f[S];N=js(N);const M=u.yc(_);if(N instanceof sm)d.push(_);else{const j=Wf(N,M);j!=null&&(d.push(_),g.set(_,j))}}const w=new ds(d);return new L3(g,w,u.fieldTransforms)}function Q8(n,t,e,i=!1){return Wf(e,n.Cc(i?4:3,t))}function Wf(n,t){if(k3(n=js(n)))return G1("Unsupported field value:",t,n),D3(n,t);if(n instanceof z1)return(function(i,s){if(!I3(s.Ac))throw s.Sc(`${i._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${i._methodName}() is not currently supported inside arrays`);const o=i._toFieldTransform(s);o&&s.fieldTransforms.push(o)})(n,t),null;if(n===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(i,s){const o=[];let u=0;for(const h of i){let f=Wf(h,s.wc(u));f==null&&(f={nullValue:"NULL_VALUE"}),o.push(f),u++}return{arrayValue:{values:o}}})(n,t)}return(function(i,s){if((i=js(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return MT(s.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const o=br.fromDate(i);return{timestampValue:Lp(s.serializer,o)}}if(i instanceof br){const o=new br(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Lp(s.serializer,o)}}if(i instanceof Ho)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Ps)return{bytesValue:Kw(s.serializer,i._byteString)};if(i instanceof di){const o=s.databaseId,u=i.firestore._databaseId;if(!u.isEqual(o))throw s.Sc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:N1(i.firestore._databaseId||s.databaseId,i._key.path)}}if(i instanceof Go)return(function(u,h){return{mapValue:{fields:{[Aw]:{stringValue:Ew},[Ep]:{arrayValue:{values:u.toArray().map((d=>{if(typeof d!="number")throw h.Sc("VectorValues must only contain numeric values.");return S1(h.serializer,d)}))}}}}}})(i,s);throw s.Sc(`Unsupported field value: ${$p(i)}`)})(n,t)}function D3(n,t){const e={};return vw(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Nu(n,((i,s)=>{const o=Wf(s,t.mc(i));o!=null&&(e[i]=o)})),{mapValue:{fields:e}}}function k3(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof br||n instanceof Ho||n instanceof Ps||n instanceof di||n instanceof z1||n instanceof Go)}function G1(n,t,e){if(!k3(e)||!gw(e)){const i=$p(e);throw i==="an object"?t.Sc(n+" a custom object"):t.Sc(n+" "+i)}}function z0(n,t,e){if((t=js(t))instanceof am)return t._internalPath;if(typeof t=="string")return $1(n,t);throw Op("Field path arguments must be of type string or ",n,!1,void 0,e)}const X8=new RegExp("[~\\*/\\[\\]]");function $1(n,t,e){if(t.search(X8)>=0)throw Op(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new am(...t.split("."))._internalPath}catch{throw Op(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function Op(n,t,e,i,s){const o=i&&!i.isEmpty(),u=s!==void 0;let h=`Function ${t}() called with invalid data`;e&&(h+=" (via `toFirestore()`)"),h+=". ";let f="";return(o||u)&&(f+=" (found",o&&(f+=` in field ${i}`),u&&(f+=` in document ${s}`),f+=")"),new ue(Qt.INVALID_ARGUMENT,h+n+f)}function O3(n,t){return n.some((e=>e.isEqual(t)))}class P3{constructor(t,e,i,s,o){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=s,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new di(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new J8(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(om("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class J8 extends P3{data(){return super.data()}}function om(n,t){return typeof t=="string"?$1(n,t):t instanceof am?t._internalPath:t._delegate._internalPath}function Z8(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ue(Qt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Y1{}class W1 extends Y1{}function cf(n,t,...e){let i=[];t instanceof Y1&&i.push(t),i=i.concat(e),(function(o){const u=o.filter((f=>f instanceof K1)).length,h=o.filter((f=>f instanceof lm)).length;if(u>1||u>0&&h>0)throw new ue(Qt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(const s of i)n=s._apply(n);return n}class lm extends W1{constructor(t,e,i){super(),this._field=t,this._op=e,this._value=i,this.type="where"}static _create(t,e,i){return new lm(t,e,i)}_apply(t){const e=this._parse(t);return M3(t._query,e),new Ru(t.firestore,t.converter,D0(t._query,e))}_parse(t){const e=H1(t.firestore);return(function(o,u,h,f,d,g,w){let S;if(d.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new ue(Qt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){Z5(w,g);const N=[];for(const M of w)N.push(J5(f,o,M));S={arrayValue:{values:N}}}else S=J5(f,o,w)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||Z5(w,g),S=Q8(h,u,w,g==="in"||g==="not-in");return hi.create(d,g,S)})(t._query,"where",e,t.firestore._databaseId,this._field,this._op,this._value)}}function Kd(n,t,e){const i=t,s=om("where",n);return lm._create(s,i,e)}class K1 extends Y1{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new K1(t,e)}_parse(t){const e=this._queryConstraints.map((i=>i._parse(t))).filter((i=>i.getFilters().length>0));return e.length===1?e[0]:uo.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return e.getFilters().length===0?t:((function(s,o){let u=s;const h=o.getFlattenedFilters();for(const f of h)M3(u,f),u=D0(u,f)})(t._query,e),new Ru(t.firestore,t.converter,D0(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Q1 extends W1{constructor(t,e){super(),this._field=t,this._direction=e,this.type="orderBy"}static _create(t,e){return new Q1(t,e)}_apply(t){const e=(function(s,o,u){if(s.startAt!==null)throw new ue(Qt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new ue(Qt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Of(o,u)})(t._query,this._field,this._direction);return new Ru(t.firestore,t.converter,(function(s,o){const u=s.explicitOrderBy.concat([o]);return new wh(s.path,s.collectionGroup,u,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)})(t._query,e))}}function zg(n,t="asc"){const e=t,i=om("orderBy",n);return Q1._create(i,e)}class X1 extends W1{constructor(t,e,i){super(),this.type=t,this._limit=e,this._limitType=i}static _create(t,e,i){return new X1(t,e,i)}_apply(t){return new Ru(t.firestore,t.converter,Np(t._query,this._limit,this._limitType))}}function X5(n){return nT("limit",n),X1._create("limit",n,"F")}function J5(n,t,e){if(typeof(e=js(e))=="string"){if(e==="")throw new ue(Qt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!kw(t)&&e.indexOf("/")!==-1)throw new ue(Qt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const i=t.path.child(dr.fromString(e));if(!Ue.isDocumentKey(i))throw new ue(Qt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return p5(n,new Ue(i))}if(e instanceof di)return p5(n,e._key);throw new ue(Qt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${$p(e)}.`)}function Z5(n,t){if(!Array.isArray(n)||n.length===0)throw new ue(Qt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function M3(n,t){const e=(function(s,o){for(const u of s)for(const h of u.getFlattenedFilters())if(o.indexOf(h.op)>=0)return h.op;return null})(n.filters,(function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(e!==null)throw e===t.op?new ue(Qt.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new ue(Qt.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}class tC{convertValue(t,e="none"){switch(wu(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Xr(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(_u(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw We(62114,{value:t})}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const i={};return Nu(t,((s,o)=>{i[s]=this.convertValue(o,e)})),i}convertVectorValue(t){const e=t.fields?.[Ep].arrayValue?.values?.map((i=>Xr(i.doubleValue)));return new Go(e)}convertGeoPoint(t){return new Ho(Xr(t.latitude),Xr(t.longitude))}convertArray(t,e){return(t.values||[]).map((i=>this.convertValue(i,e)))}convertServerTimestamp(t,e){switch(e){case"previous":const i=Kp(t);return i==null?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(If(t));default:return null}}convertTimestamp(t){const e=bu(t);return new br(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=dr.fromString(t);$n(e3(i),9688,{name:t});const s=new Df(i.get(1),i.get(3)),o=new Ue(i.popFirst(5));return s.isEqual(e)||Rl(`Document ${o} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),o}}function eC(n,t,e){let i;return i=n?n.toFirestore(t):t,i}class vf{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Zu extends P3{constructor(t,e,i,s,o,u){super(t,e,i,s,u),this._firestore=t,this._firestoreImpl=t,this.metadata=o}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new dp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(om("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ue(Qt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,e={};return e.type=Zu._jsonSchemaVersion,e.bundle="",e.bundleSource="DocumentSnapshot",e.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?e:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),e.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),e)}}Zu._jsonSchemaVersion="firestore/documentSnapshot/1.0",Zu._jsonSchema={type:fi("string",Zu._jsonSchemaVersion),bundleSource:fi("string","DocumentSnapshot"),bundleName:fi("string"),bundle:fi("string")};class dp extends Zu{data(t={}){return super.data(t)}}class nh{constructor(t,e,i,s){this._firestore=t,this._userDataWriter=e,this._snapshot=s,this.metadata=new vf(s.hasPendingWrites,s.fromCache),this.query=i}get docs(){const t=[];return this.forEach((e=>t.push(e))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach((i=>{t.call(e,new dp(this._firestore,this._userDataWriter,i.key,i,new vf(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new ue(Qt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=(function(s,o){if(s._snapshot.oldDocs.isEmpty()){let u=0;return s._snapshot.docChanges.map((h=>{const f=new dp(s._firestore,s._userDataWriter,h.doc.key,h.doc,new vf(s._snapshot.mutatedKeys.has(h.doc.key),s._snapshot.fromCache),s.query.converter);return h.doc,{type:"added",doc:f,oldIndex:-1,newIndex:u++}}))}{let u=s._snapshot.oldDocs;return s._snapshot.docChanges.filter((h=>o||h.type!==3)).map((h=>{const f=new dp(s._firestore,s._userDataWriter,h.doc.key,h.doc,new vf(s._snapshot.mutatedKeys.has(h.doc.key),s._snapshot.fromCache),s.query.converter);let d=-1,g=-1;return h.type!==0&&(d=u.indexOf(h.doc.key),u=u.delete(h.doc.key)),h.type!==1&&(u=u.add(h.doc),g=u.indexOf(h.doc.key)),{type:nC(h.type),doc:f,oldIndex:d,newIndex:g}}))}})(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ue(Qt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=nh._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=g1.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const e=[],i=[],s=[];return this.docs.forEach((o=>{o._document!==null&&(e.push(o._document),i.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),s.push(o.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function nC(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return We(61501,{type:n})}}function rC(n){n=Ll(n,di);const t=Ll(n.firestore,Sh);return V8(U1(t),n._key).then((e=>aC(t,n,e)))}nh._jsonSchemaVersion="firestore/querySnapshot/1.0",nh._jsonSchema={type:fi("string",nh._jsonSchemaVersion),bundleSource:fi("string","QuerySnapshot"),bundleName:fi("string"),bundle:fi("string")};class j3 extends tC{constructor(t){super(),this.firestore=t}convertBytes(t){return new Ps(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new di(this.firestore,null,e)}}function hf(n){n=Ll(n,Ru);const t=Ll(n.firestore,Sh),e=U1(t),i=new j3(t);return Z8(n._query),B8(e,n._query).then((s=>new nh(t,i,n,s)))}function tb(n,t,e,...i){n=Ll(n,di);const s=Ll(n.firestore,Sh),o=H1(s);let u;return u=typeof(t=js(t))=="string"||t instanceof am?K8(o,"updateDoc",n._key,t,e,i):W8(o,"updateDoc",n._key,t),J1(s,[u.toMutation(n._key,lo.exists(!0))])}function iC(n){return J1(Ll(n.firestore,Sh),[new A1(n._key,lo.none())])}function eb(n,t){const e=Ll(n.firestore,Sh),i=yf(n),s=eC(n.converter,t);return J1(e,[Y8(H1(n.firestore),"addDoc",i._key,s,n.converter!==null,{}).toMutation(i._key,lo.exists(!1))]).then((()=>i))}function J1(n,t){return(function(i,s){const o=new El;return i.asyncQueue.enqueueAndForget((async()=>N8(await F8(i),s,o))),o.promise})(U1(n),t)}function aC(n,t,e){const i=e.docs.get(t._key),s=new j3(n);return new Zu(n,s,t._key,i,new vf(e.hasPendingWrites,e.fromCache),t.converter)}(function(t,e=!0){(function(s){vh=s})(DE),yu(new Nl("firestore",((i,{instanceIdentifier:s,options:o})=>{const u=i.getProvider("app").getImmediate(),h=new Sh(new YE(i.getProvider("auth-internal")),new QE(u,i.getProvider("app-check-internal")),(function(d,g){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new ue(Qt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Df(d.options.projectId,g)})(u,s),u);return o={useFetchStreams:e,...o},h._setSettings(o),h}),"PUBLIC").setMultipleInstances(!0)),Uo(e5,n5,t),Uo(e5,n5,"esm2020")})();const F3="@firebase/installations",Z1="0.6.19";const V3=1e4,B3=`w:${Z1}`,U3="FIS_v2",sC="https://firebaseinstallations.googleapis.com/v1",oC=3600*1e3,lC="installations",uC="Installations";const cC={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},rc=new Gp(lC,uC,cC);function z3(n){return n instanceof Tu&&n.code.includes("request-failed")}function q3({projectId:n}){return`${sC}/projects/${n}/installations`}function H3(n){return{token:n.token,requestStatus:2,expiresIn:fC(n.expiresIn),creationTime:Date.now()}}async function G3(n,t){const i=(await t.json()).error;return rc.create("request-failed",{requestName:n,serverCode:i.code,serverMessage:i.message,serverStatus:i.status})}function $3({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function hC(n,{refreshToken:t}){const e=$3(n);return e.append("Authorization",dC(t)),e}async function Y3(n){const t=await n();return t.status>=500&&t.status<600?n():t}function fC(n){return Number(n.replace("s","000"))}function dC(n){return`${U3} ${n}`}async function pC({appConfig:n,heartbeatServiceProvider:t},{fid:e}){const i=q3(n),s=$3(n),o=t.getImmediate({optional:!0});if(o){const d=await o.getHeartbeatsHeader();d&&s.append("x-firebase-client",d)}const u={fid:e,authVersion:U3,appId:n.appId,sdkVersion:B3},h={method:"POST",headers:s,body:JSON.stringify(u)},f=await Y3(()=>fetch(i,h));if(f.ok){const d=await f.json();return{fid:d.fid||e,registrationStatus:2,refreshToken:d.refreshToken,authToken:H3(d.authToken)}}else throw await G3("Create Installation",f)}function W3(n){return new Promise(t=>{setTimeout(t,n)})}function mC(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}const gC=/^[cdef][\w-]{21}$/,q0="";function yC(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const e=vC(n);return gC.test(e)?e:q0}catch{return q0}}function vC(n){return mC(n).substr(0,22)}function um(n){return`${n.appName}!${n.appId}`}const K3=new Map;function Q3(n,t){const e=um(n);X3(e,t),bC(e,t)}function X3(n,t){const e=K3.get(n);if(e)for(const i of e)i(t)}function bC(n,t){const e=_C();e&&e.postMessage({key:n,fid:t}),wC()}let Ju=null;function _C(){return!Ju&&"BroadcastChannel"in self&&(Ju=new BroadcastChannel("[Firebase] FID Change"),Ju.onmessage=n=>{X3(n.data.key,n.data.fid)}),Ju}function wC(){K3.size===0&&Ju&&(Ju.close(),Ju=null)}const xC="firebase-installations-database",SC=1,ic="firebase-installations-store";let qg=null;function t2(){return qg||(qg=nw(xC,SC,{upgrade:(n,t)=>{switch(t){case 0:n.createObjectStore(ic)}}})),qg}async function Pp(n,t){const e=um(n),s=(await t2()).transaction(ic,"readwrite"),o=s.objectStore(ic),u=await o.get(e);return await o.put(t,e),await s.done,(!u||u.fid!==t.fid)&&Q3(n,t.fid),t}async function J3(n){const t=um(n),i=(await t2()).transaction(ic,"readwrite");await i.objectStore(ic).delete(t),await i.done}async function cm(n,t){const e=um(n),s=(await t2()).transaction(ic,"readwrite"),o=s.objectStore(ic),u=await o.get(e),h=t(u);return h===void 0?await o.delete(e):await o.put(h,e),await s.done,h&&(!u||u.fid!==h.fid)&&Q3(n,h.fid),h}async function e2(n){let t;const e=await cm(n.appConfig,i=>{const s=AC(i),o=EC(n,s);return t=o.registrationPromise,o.installationEntry});return e.fid===q0?{installationEntry:await t}:{installationEntry:e,registrationPromise:t}}function AC(n){const t=n||{fid:yC(),registrationStatus:0};return Z3(t)}function EC(n,t){if(t.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(rc.create("app-offline"));return{installationEntry:t,registrationPromise:s}}const e={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},i=TC(n,e);return{installationEntry:e,registrationPromise:i}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:NC(n)}:{installationEntry:t}}async function TC(n,t){try{const e=await pC(n,t);return Pp(n.appConfig,e)}catch(e){throw z3(e)&&e.customData.serverCode===409?await J3(n.appConfig):await Pp(n.appConfig,{fid:t.fid,registrationStatus:0}),e}}async function NC(n){let t=await nb(n.appConfig);for(;t.registrationStatus===1;)await W3(100),t=await nb(n.appConfig);if(t.registrationStatus===0){const{installationEntry:e,registrationPromise:i}=await e2(n);return i||e}return t}function nb(n){return cm(n,t=>{if(!t)throw rc.create("installation-not-found");return Z3(t)})}function Z3(n){return CC(n)?{fid:n.fid,registrationStatus:0}:n}function CC(n){return n.registrationStatus===1&&n.registrationTime+V3<Date.now()}async function RC({appConfig:n,heartbeatServiceProvider:t},e){const i=LC(n,e),s=hC(n,e),o=t.getImmediate({optional:!0});if(o){const d=await o.getHeartbeatsHeader();d&&s.append("x-firebase-client",d)}const u={installation:{sdkVersion:B3,appId:n.appId}},h={method:"POST",headers:s,body:JSON.stringify(u)},f=await Y3(()=>fetch(i,h));if(f.ok){const d=await f.json();return H3(d)}else throw await G3("Generate Auth Token",f)}function LC(n,{fid:t}){return`${q3(n)}/${t}/authTokens:generate`}async function n2(n,t=!1){let e;const i=await cm(n.appConfig,o=>{if(!t4(o))throw rc.create("not-registered");const u=o.authToken;if(!t&&kC(u))return o;if(u.requestStatus===1)return e=IC(n,t),o;{if(!navigator.onLine)throw rc.create("app-offline");const h=PC(o);return e=DC(n,h),h}});return e?await e:i.authToken}async function IC(n,t){let e=await rb(n.appConfig);for(;e.authToken.requestStatus===1;)await W3(100),e=await rb(n.appConfig);const i=e.authToken;return i.requestStatus===0?n2(n,t):i}function rb(n){return cm(n,t=>{if(!t4(t))throw rc.create("not-registered");const e=t.authToken;return MC(e)?{...t,authToken:{requestStatus:0}}:t})}async function DC(n,t){try{const e=await RC(n,t),i={...t,authToken:e};return await Pp(n.appConfig,i),e}catch(e){if(z3(e)&&(e.customData.serverCode===401||e.customData.serverCode===404))await J3(n.appConfig);else{const i={...t,authToken:{requestStatus:0}};await Pp(n.appConfig,i)}throw e}}function t4(n){return n!==void 0&&n.registrationStatus===2}function kC(n){return n.requestStatus===2&&!OC(n)}function OC(n){const t=Date.now();return t<n.creationTime||n.creationTime+n.expiresIn<t+oC}function PC(n){const t={requestStatus:1,requestTime:Date.now()};return{...n,authToken:t}}function MC(n){return n.requestStatus===1&&n.requestTime+V3<Date.now()}async function jC(n){const t=n,{installationEntry:e,registrationPromise:i}=await e2(t);return i?i.catch(console.error):n2(t).catch(console.error),e.fid}async function FC(n,t=!1){const e=n;return await VC(e),(await n2(e,t)).token}async function VC(n){const{registrationPromise:t}=await e2(n);t&&await t}function BC(n){if(!n||!n.options)throw Hg("App Configuration");if(!n.name)throw Hg("App Name");const t=["projectId","apiKey","appId"];for(const e of t)if(!n.options[e])throw Hg(e);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function Hg(n){return rc.create("missing-app-config-values",{valueName:n})}const e4="installations",UC="installations-internal",zC=n=>{const t=n.getProvider("app").getImmediate(),e=BC(t),i=zf(t,"heartbeat");return{app:t,appConfig:e,heartbeatServiceProvider:i,_delete:()=>Promise.resolve()}},qC=n=>{const t=n.getProvider("app").getImmediate(),e=zf(t,e4).getImmediate();return{getId:()=>jC(e),getToken:s=>FC(e,s)}};function HC(){yu(new Nl(e4,zC,"PUBLIC")),yu(new Nl(UC,qC,"PRIVATE"))}HC();Uo(F3,Z1);Uo(F3,Z1,"esm2020");const Mp="analytics",GC="firebase_id",$C="origin",YC=60*1e3,WC="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",r2="https://www.googletagmanager.com/gtag/js";const Ra=new d1("@firebase/analytics");const KC={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},ms=new Gp("analytics","Analytics",KC);function QC(n){if(!n.startsWith(r2)){const t=ms.create("invalid-gtag-resource",{gtagURL:n});return Ra.warn(t.message),""}return n}function n4(n){return Promise.all(n.map(t=>t.catch(e=>e)))}function XC(n,t){let e;return window.trustedTypes&&(e=window.trustedTypes.createPolicy(n,t)),e}function JC(n,t){const e=XC("firebase-js-sdk-policy",{createScriptURL:QC}),i=document.createElement("script"),s=`${r2}?l=${n}&id=${t}`;i.src=e?e?.createScriptURL(s):s,i.async=!0,document.head.appendChild(i)}function ZC(n){let t=[];return Array.isArray(window[n])?t=window[n]:window[n]=t,t}async function t7(n,t,e,i,s,o){const u=i[s];try{if(u)await t[u];else{const f=(await n4(e)).find(d=>d.measurementId===s);f&&await t[f.appId]}}catch(h){Ra.error(h)}n("config",s,o)}async function e7(n,t,e,i,s){try{let o=[];if(s&&s.send_to){let u=s.send_to;Array.isArray(u)||(u=[u]);const h=await n4(e);for(const f of u){const d=h.find(w=>w.measurementId===f),g=d&&t[d.appId];if(g)o.push(g);else{o=[];break}}}o.length===0&&(o=Object.values(t)),await Promise.all(o),n("event",i,s||{})}catch(o){Ra.error(o)}}function n7(n,t,e,i){async function s(o,...u){try{if(o==="event"){const[h,f]=u;await e7(n,t,e,h,f)}else if(o==="config"){const[h,f]=u;await t7(n,t,e,i,h,f)}else if(o==="consent"){const[h,f]=u;n("consent",h,f)}else if(o==="get"){const[h,f,d]=u;n("get",h,f,d)}else if(o==="set"){const[h]=u;n("set",h)}else n(o,...u)}catch(h){Ra.error(h)}}return s}function r7(n,t,e,i,s){let o=function(...u){window[i].push(arguments)};return window[s]&&typeof window[s]=="function"&&(o=window[s]),window[s]=n7(o,n,t,e),{gtagCore:o,wrappedGtag:window[s]}}function i7(n){const t=window.document.getElementsByTagName("script");for(const e of Object.values(t))if(e.src&&e.src.includes(r2)&&e.src.includes(n))return e;return null}const a7=30,s7=1e3;class o7{constructor(t={},e=s7){this.throttleMetadata=t,this.intervalMillis=e}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,e){this.throttleMetadata[t]=e}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}}const r4=new o7;function l7(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}async function u7(n){const{appId:t,apiKey:e}=n,i={method:"GET",headers:l7(e)},s=WC.replace("{app-id}",t),o=await fetch(s,i);if(o.status!==200&&o.status!==304){let u="";try{const h=await o.json();h.error?.message&&(u=h.error.message)}catch{}throw ms.create("config-fetch-failed",{httpStatus:o.status,responseMessage:u})}return o.json()}async function c7(n,t=r4,e){const{appId:i,apiKey:s,measurementId:o}=n.options;if(!i)throw ms.create("no-app-id");if(!s){if(o)return{measurementId:o,appId:i};throw ms.create("no-api-key")}const u=t.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},h=new d7;return setTimeout(async()=>{h.abort()},YC),i4({appId:i,apiKey:s,measurementId:o},u,h,t)}async function i4(n,{throttleEndTimeMillis:t,backoffCount:e},i,s=r4){const{appId:o,measurementId:u}=n;try{await h7(i,t)}catch(h){if(u)return Ra.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${h?.message}]`),{appId:o,measurementId:u};throw h}try{const h=await u7(n);return s.deleteThrottleMetadata(o),h}catch(h){const f=h;if(!f7(f)){if(s.deleteThrottleMetadata(o),u)return Ra.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${f?.message}]`),{appId:o,measurementId:u};throw h}const d=Number(f?.customData?.httpStatus)===503?Gv(e,s.intervalMillis,a7):Gv(e,s.intervalMillis),g={throttleEndTimeMillis:Date.now()+d,backoffCount:e+1};return s.setThrottleMetadata(o,g),Ra.debug(`Calling attemptFetch again in ${d} millis`),i4(n,g,i,s)}}function h7(n,t){return new Promise((e,i)=>{const s=Math.max(t-Date.now(),0),o=setTimeout(e,s);n.addEventListener(()=>{clearTimeout(o),i(ms.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function f7(n){if(!(n instanceof Tu)||!n.customData)return!1;const t=Number(n.customData.httpStatus);return t===429||t===500||t===503||t===504}class d7{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}}async function p7(n,t,e,i,s){if(s&&s.global){n("event",e,i);return}else{const o=await t,u={...i,send_to:o};n("event",e,u)}}async function m7(n,t,e,i){if(i&&i.global){const s={};for(const o of Object.keys(e))s[`user_properties.${o}`]=e[o];return n("set",s),Promise.resolve()}else{const s=await t;n("config",s,{update:!0,user_properties:e})}}async function g7(){if(J_())try{await Z_()}catch(n){return Ra.warn(ms.create("indexeddb-unavailable",{errorInfo:n?.toString()}).message),!1}else return Ra.warn(ms.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function y7(n,t,e,i,s,o,u){const h=c7(n);h.then(S=>{e[S.measurementId]=S.appId,n.options.measurementId&&S.measurementId!==n.options.measurementId&&Ra.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${S.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(S=>Ra.error(S)),t.push(h);const f=g7().then(S=>{if(S)return i.getId()}),[d,g]=await Promise.all([h,f]);i7(o)||JC(o,d.measurementId),s("js",new Date);const w=u?.config??{};return w[$C]="firebase",w.update=!0,g!=null&&(w[GC]=g),s("config",d.measurementId,w),d.measurementId}class v7{constructor(t){this.app=t}_delete(){return delete rh[this.app.options.appId],Promise.resolve()}}let rh={},ib=[];const ab={};let Gg="dataLayer",b7="gtag",sb,i2,ob=!1;function _7(){const n=[];if(A6()&&n.push("This is a browser extension environment."),T6()||n.push("Cookies are not available."),n.length>0){const t=n.map((i,s)=>`(${s+1}) ${i}`).join(" "),e=ms.create("invalid-analytics-context",{errorInfo:t});Ra.warn(e.message)}}function w7(n,t,e){_7();const i=n.options.appId;if(!i)throw ms.create("no-app-id");if(!n.options.apiKey)if(n.options.measurementId)Ra.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw ms.create("no-api-key");if(rh[i]!=null)throw ms.create("already-exists",{id:i});if(!ob){ZC(Gg);const{wrappedGtag:o,gtagCore:u}=r7(rh,ib,ab,Gg,b7);i2=o,sb=u,ob=!0}return rh[i]=y7(n,ib,ab,t,sb,Gg,e),new v7(n)}function x7(n=iw()){n=js(n);const t=zf(n,Mp);return t.isInitialized()?t.getImmediate():S7(n)}function S7(n,t={}){const e=zf(n,Mp);if(e.isInitialized()){const s=e.getImmediate();if(Cf(t,e.getOptions()))return s;throw ms.create("already-initialized")}return e.initialize({options:t})}function A7(n,t,e){n=js(n),m7(i2,rh[n.app.options.appId],t,e).catch(i=>Ra.error(i))}function E7(n,t,e,i){n=js(n),p7(i2,rh[n.app.options.appId],t,e,i).catch(s=>Ra.error(s))}const lb="@firebase/analytics",ub="0.10.19";function T7(){yu(new Nl(Mp,(t,{options:e})=>{const i=t.getProvider("app").getImmediate(),s=t.getProvider("installations-internal").getImmediate();return w7(i,s,e)},"PUBLIC")),yu(new Nl("analytics-internal",n,"PRIVATE")),Uo(lb,ub),Uo(lb,ub,"esm2020");function n(t){try{const e=t.getProvider(Mp).getImmediate();return{logEvent:(i,s,o)=>E7(e,i,s,o),setUserProperties:(i,s)=>A7(e,i,s)}}catch(e){throw ms.create("interop-component-reg-failed",{reason:e})}}}T7();const N7={apiKey:"AIzaSyAawMdb8BDr-1l5GKcPk_k0_vhRgvK0ptg",authDomain:"timesheetapp-c4e54.firebaseapp.com",projectId:"timesheetapp-c4e54",storageBucket:"timesheetapp-c4e54.firebasestorage.app",messagingSenderId:"97633147981",appId:"1:97633147981:web:ee0509bda375a968c71004",measurementId:"G-9PQVG8DCJK"},a4=rw(N7),so=z8(a4);x7(a4);const s4=Ot.createContext();function C7({children:n}){const[t,e]=Ot.useState([]),[i,s]=Ot.useState({}),[o,u]=Ot.useState({}),[h,f]=Ot.useState({}),[d,g]=Ot.useState({}),[w,S]=Ot.useState([]),[_,N]=Ot.useState({}),[M,j]=Ot.useState({}),[R,Q]=Ot.useState({}),[W,nt]=Ot.useState([]),[mt,bt]=Ot.useState({}),[q,V]=Ot.useState(""),[D,H]=Ot.useState([]),[T,P]=Ot.useState(0);Ot.useEffect(()=>{(async()=>{try{const jt=cf(Yu(so,"timesheets"),Kd("customer","!=",null),X5(1e3)),qt=await hf(jt),Mt=[...new Set(qt.docs.map(Ce=>Ce.data().customer).filter(Ce=>Ce))],Z=localStorage.getItem("customers")?JSON.parse(localStorage.getItem("customers")):[],ne=[...new Set([...Mt,...Z])];H(ne),localStorage.setItem("customers",JSON.stringify(ne))}catch(jt){console.error("Failed to load customers from cloud:",jt);const qt=localStorage.getItem("customers");qt&&H(JSON.parse(qt))}})()},[]);const F=Et=>{!Et||D.includes(Et)||(H(jt=>[...jt,Et]),V(Et))},lt=Et=>{V(Et);const jt=`customer-${Et}`,qt=localStorage.getItem(jt);if(qt){const Mt=JSON.parse(qt);e(Mt.entries||[]),s(Mt.customerInfo||{}),u(Mt.travelData||{}),f(Mt.serviceReportData||{}),g(Mt.invoiceInfo||{}),S(Array.isArray(Mt.machineInfo)?Mt.machineInfo:[]);const Z=Array.isArray(Mt.machineInfo)?Mt.machineInfo:[];S(Z),nt(Z.map(ne=>({model:ne.model||"",serial:ne.serial||ne.serialNumber||"",jobNumber:ne.jobNumber||""}))),N(Mt.customerInfo||{}),j(Mt.travelData||{}),Q(Mt.invoiceInfo||{}),bt(Mt.serviceReportData||{}),P(ne=>ne+1)}else e([]),s({}),u({}),f({}),g({}),S([]),nt([]),N({}),j({}),Q({}),bt({}),P(Mt=>Mt+1)},xt=()=>{if(!q)return;const Et={entries:t,customerInfo:i,travelData:o,serviceReportData:h,invoiceInfo:d,machineInfo:w};localStorage.setItem(`customer-${q}`,JSON.stringify(Et))},ot=()=>{if(!q){alert("Please select a customer first");return}const Et={entries:t,customerInfo:i,travelData:o,serviceReportData:h,invoiceInfo:d,machineInfo:w},jt=new Blob([JSON.stringify(Et,null,2)],{type:"application/json"}),qt=document.createElement("a");qt.href=URL.createObjectURL(jt),qt.download=`${q.replace(/[^a-z0-9]/gi,"_")}_timesheet.json`,qt.click()},dt=Et=>{if(!Et)return;const jt=new FileReader;jt.onload=qt=>{try{const Mt=JSON.parse(qt.target.result),Z=Mt.customerInfo?.company?.trim();if(!Z){alert('Invalid JSON: Missing "customerInfo.company" field');return}const ne=`customer-${Z}`;if(localStorage.setItem(ne,JSON.stringify(Mt)),!D.includes(Z)){const ce=[...D,Z];H(ce),localStorage.setItem("customers",JSON.stringify(ce))}const Ce=Array.isArray(Mt.machineInfo)?Mt.machineInfo:[];S(Ce),nt(Ce.map(ce=>({model:ce.model||"",serial:ce.serial||ce.serialNumber||"",jobNumber:ce.jobNumber||""}))),lt(Z),alert(`Imported: ${Z}`)}catch(Mt){console.error("Import failed:",Mt),alert("Invalid JSON file")}},jt.readAsText(Et)},ft=async()=>{if(!q){alert("Select a customer first");return}const Et=`Visit ${new Date().toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}`,jt=prompt('Name this visit (e.g., "June 2025 Visit")',Et);if(!jt)return;const qt={customer:q,visitName:jt.trim(),entries:t,customerInfo:i,travelData:o,serviceReportData:h,invoiceInfo:d,machineInfo:w,timestamp:new Date().toISOString()};try{await eb(Yu(so,"timesheets"),qt),alert(`Saved: "${jt}"`)}catch(Mt){console.error("Cloud save failed:",Mt),alert("Failed to save")}},Nt=async()=>{if(!q){alert("Select a customer first");return}try{const Et=cf(Yu(so,"timesheets"),Kd("customer","==",q),zg("timestamp","desc"),X5(1)),jt=await hf(Et);if(jt.empty){alert("No cloud data found");return}const Mt=jt.docs[0].data();e(Mt.entries||[]),s(Mt.customerInfo||{}),u(Mt.travelData||{}),f(Mt.serviceReportData||{}),g(Mt.invoiceInfo||{}),S(Array.isArray(Mt.machineInfo)?Mt.machineInfo:[]),N(Mt.customerInfo||{}),j(Mt.travelData||{}),Q(Mt.invoiceInfo||{}),nt(Array.isArray(Mt.machineInfo)?Mt.machineInfo.map(Z=>({model:Z.model||"",serial:Z.serial||Z.serialNumber||"",jobNumber:Z.jobNumber||""})):[]),bt(Mt.serviceReportData||{}),P(Z=>Z+1),alert(`Loaded: ${Mt.visitName||"Latest"}`)}catch(Et){console.error("Cloud load failed:",Et),alert("Failed to load")}},Wt=async Et=>{if(!q){alert("Select a customer first");return}try{const jt=yf(so,"timesheets",Et),qt=await rC(jt);if(!qt.exists()){alert("Version not found");return}const Mt=qt.data();e(Mt.entries||[]),s(Mt.customerInfo||{}),u(Mt.travelData||{}),f(Mt.serviceReportData||{}),g(Mt.invoiceInfo||{}),S(Array.isArray(Mt.machineInfo)?Mt.machineInfo:[]),N(Mt.customerInfo||{}),j(Mt.travelData||{}),Q(Mt.invoiceInfo||{}),nt(Array.isArray(Mt.machineInfo)?Mt.machineInfo.map(Z=>({model:Z.model||"",serial:Z.serial||Z.serialNumber||"",jobNumber:Z.jobNumber||""})):[]),bt(Mt.serviceReportData||{}),P(Z=>Z+1),alert(`Loaded: ${Mt.visitName||"Visit"}`)}catch(jt){console.error("Load failed:",jt),alert("Failed to load version")}},$=async(Et,jt)=>{const qt=prompt("Rename visit:",jt);if(!(!qt||qt===jt))try{const Mt=yf(so,"timesheets",Et);await tb(Mt,{visitName:qt.trim()}),alert(`Renamed to: "${qt}"`)}catch(Mt){console.error("Rename failed:",Mt),alert("Failed to rename")}},O=async Et=>{if(confirm("Delete this visit permanently?"))try{const jt=yf(so,"timesheets",Et);await iC(jt),alert("Visit deleted")}catch(jt){console.error("Delete failed:",jt),alert("Failed to delete")}},K=async()=>{try{const Et=cf(Yu(so,"timesheets"),zg("timestamp","desc"));return(await hf(Et)).docs.map(Mt=>({id:Mt.id,customer:Mt.data().customer,visitName:Mt.data().visitName||"Unnamed Visit",timestamp:Mt.data().timestamp,data:Mt.data()}))}catch(Et){return console.error("Failed to load all files:",Et),[]}},tt=async(Et,jt)=>{if(jt)try{const qt=yf(so,"timesheets",Et);await tb(qt,{customer:jt}),alert(`Attached to "${jt}"`)}catch(qt){console.error("Attach failed:",qt),alert("Failed to attach")}},st=async Et=>{if(confirm(`Delete "${Et}"? All data (local + cloud) will be lost.`))try{localStorage.removeItem(`customer-${Et}`),H(Mt=>Mt.filter(Z=>Z!==Et)),localStorage.setItem("customers",JSON.stringify(D.filter(Mt=>Mt!==Et)));const jt=cf(Yu(so,"timesheets"),Kd("customer","==",Et));(await hf(jt)).docs.forEach(Mt=>Mt.ref.delete()),q===Et&&V(""),alert(`Deleted "${Et}"`)}catch(jt){console.error("Delete customer failed:",jt),alert("Failed to delete")}},ut=Et=>{e(jt=>{const qt={...Et,customer:q||"General"};return[...jt,qt]}),P(jt=>jt+1)},yt=(Et,jt)=>{e(qt=>{const Mt=[...qt];return Mt[Et]={...jt,customer:q},Mt}),P(qt=>qt+1)},It=()=>{e([]),s({}),u({}),f({}),g({}),S([]),N({}),j({}),Q({}),nt([]),bt({})},Rt=Et=>{e(Et.entries||[]),s(Et.customerInfo||{}),u(Et.travelData||{}),f(Et.serviceReportData||{}),g(Et.invoiceInfo||{});const jt=Array.isArray(Et.machineInfo)?Et.machineInfo:[];S(jt),nt(jt.map(qt=>({model:qt.model||"",serial:qt.serial||qt.serialNumber||"",jobNumber:qt.jobNumber||""}))),N(Et.customerInfo||{}),j(Et.travelData||{}),Q(Et.invoiceInfo||{}),bt(Et.serviceReportData||{})},zt=async(Et,jt)=>{if(!Et||!jt||Et===jt||D.includes(jt)){alert("Invalid rename");return}if(confirm(`Rename "${Et}" to "${jt}"? All data will move.`))try{const qt=`customer-${Et}`,Mt=localStorage.getItem(qt);if(!Mt){alert("No data found for old customer");return}const Z=JSON.parse(Mt);Z.customer=jt;const ne=`customer-${jt}`;localStorage.setItem(ne,JSON.stringify(Z)),localStorage.removeItem(qt);const Ce=D.filter(le=>le!==Et);Ce.push(jt),H(Ce),localStorage.setItem("customers",JSON.stringify(Ce)),q===Et&&V(jt);const ce=cf(Yu(so,"timesheets"),Kd("customer","==",Et),zg("timestamp","desc")),Ht=await hf(ce);if(!Ht.empty){const le=Ht.docs[0],se=le.data();se.customer=jt,se.timestamp=new Date().toISOString(),await eb(Yu(so,"timesheets"),se),await le.ref.delete()}alert(`Renamed: "${Et}" to "${jt}"`)}catch(qt){console.error("Rename failed:",qt),alert("Rename failed")}};return I.jsx(s4.Provider,{value:{entries:t,setEntries:e,customerInfo:i,setCustomerInfo:s,travelData:o,setTravelData:u,serviceReportData:h,setServiceReportData:f,invoiceInfo:d,setInvoiceInfo:g,machineInfo:w,setMachineInfo:S,addEntry:ut,updateEntry:yt,resetData:It,importData:Rt,currentCustomer:q,customers:D,addCustomer:F,switchCustomer:lt,saveCurrentCustomer:xt,exportCustomerJSON:ot,importCustomerJSON:dt,saveToCloud:ft,loadFromCloud:Nt,loadFromHistory:Wt,renameVisit:$,deleteVisit:O,fetchAllCloudFiles:K,attachToCustomer:tt,deleteCustomer:st,customerForm:_,setCustomerForm:N,travelForm:M,setTravelForm:j,invoiceForm:R,setInvoiceForm:Q,machineForms:W,setMachineForms:nt,serviceReportForm:mt,setServiceReportForm:bt,tableKey:T,renameCustomer:zt},children:n})}function Kf(){return Ot.useContext(s4)}function R7({entry:n,onSave:t,onCancel:e}){const[i,s]=Ot.useState({date:"",travelTo:{active:!1,start:"",end:""},onsite:{active:!1,start:"",end:""},travelHome:{active:!1,start:"",end:""},lunch:!1,lunchDuration:.5,holiday:!1,travelOnly:!1,serviceWork:""});Ot.useEffect(()=>{if(n)s({date:n.date||"",travelTo:n.travel?.to||{active:!1,start:"",end:""},onsite:n.onsite||{active:!1,start:"",end:""},travelHome:n.travel?.home||{active:!1,start:"",end:""},lunch:n.lunch||!1,lunchDuration:n.lunchDuration||.5,holiday:n.holiday||!1,travelOnly:n.travelOnly||!1,serviceWork:n.serviceWork||""});else{const g=new Date().toISOString().split("T")[0];s(w=>({...w,date:g}))}},[n]);const o=g=>{const{name:w,value:S,type:_,checked:N}=g.target;if(w.startsWith("travelTo.")||w.startsWith("onsite.")||w.startsWith("travelHome.")){const M=w.split(".")[0],j=w.split(".")[1];s(R=>({...R,[M]:{...R[M],[j]:_==="checkbox"?N:S}}))}else s(M=>({...M,[w]:_==="checkbox"?N:S}))},u=()=>{let g=0,w=0;if(i.travelTo.active){const[S,_]=i.travelTo.start.split(":").map(Number),[N,M]=i.travelTo.end.split(":").map(Number);g+=(N*60+M-(S*60+_))/60}if(i.onsite.active){const[S,_]=i.onsite.start.split(":").map(Number),[N,M]=i.onsite.end.split(":").map(Number);let j=(N*60+M-(S*60+_))/60;i.lunch&&(j-=i.lunchDuration),w=j}if(i.travelHome.active){const[S,_]=i.travelHome.start.split(":").map(Number),[N,M]=i.travelHome.end.split(":").map(Number);g+=(N*60+M-(S*60+_))/60}return{travelHours:g,workHours:w}},{travelHours:h,workHours:f}=u(),d=g=>{g.preventDefault(),t(i)};return I.jsxs("form",{onSubmit:d,className:"space-y-6",children:[I.jsxs("div",{children:[I.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Date"}),I.jsx("input",{type:"date",name:"date",value:i.date,onChange:o,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:!0})]}),I.jsxs("div",{children:[I.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Travel To"}),I.jsxs("div",{className:"mt-1 space-y-2",children:[I.jsxs("label",{className:"flex items-center",children:[I.jsx("input",{type:"checkbox",name:"travelTo.active",checked:i.travelTo.active,onChange:o,className:"rounded border-gray-300 text-blue-600 shadow-sm focus:border-blue-500 focus:ring-blue-500"}),I.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Active"})]}),I.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[I.jsx("input",{type:"time",name:"travelTo.start",value:i.travelTo.start,onChange:o,className:"px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",disabled:!i.travelTo.active}),I.jsx("input",{type:"time",name:"travelTo.end",value:i.travelTo.end,onChange:o,className:"px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",disabled:!i.travelTo.active})]})]})]}),I.jsxs("div",{children:[I.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"On-Site Times"}),I.jsxs("div",{className:"mt-1 space-y-2",children:[I.jsxs("label",{className:"flex items-center",children:[I.jsx("input",{type:"checkbox",name:"onsite.active",checked:i.onsite.active,onChange:o,className:"rounded border-gray-300 text-blue-600 shadow-sm focus:border-blue-500 focus:ring-blue-500"}),I.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Active"})]}),I.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[I.jsx("input",{type:"time",name:"onsite.start",value:i.onsite.start,onChange:o,className:"px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",disabled:!i.onsite.active}),I.jsx("input",{type:"time",name:"onsite.end",value:i.onsite.end,onChange:o,className:"px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",disabled:!i.onsite.active})]})]})]}),I.jsxs("div",{children:[I.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Travel Home"}),I.jsxs("div",{className:"mt-1 space-y-2",children:[I.jsxs("label",{className:"flex items-center",children:[I.jsx("input",{type:"checkbox",name:"travelHome.active",checked:i.travelHome.active,onChange:o,className:"rounded border-gray-300 text-blue-600 shadow-sm focus:border-blue-500 focus:ring-blue-500"}),I.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Active"})]}),I.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[I.jsx("input",{type:"time",name:"travelHome.start",value:i.travelHome.start,onChange:o,className:"px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",disabled:!i.travelHome.active}),I.jsx("input",{type:"time",name:"travelHome.end",value:i.travelHome.end,onChange:o,className:"px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",disabled:!i.travelHome.active})]})]})]}),I.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[I.jsxs("label",{className:"flex items-center",children:[I.jsx("input",{type:"checkbox",name:"lunch",checked:i.lunch,onChange:o,className:"rounded border-gray-300 text-blue-600 shadow-sm focus:border-blue-500 focus:ring-blue-500"}),I.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Lunch (0.5 hr)"})]}),I.jsxs("label",{className:"flex items-center",children:[I.jsx("input",{type:"checkbox",name:"holiday",checked:i.holiday,onChange:o,className:"rounded border-gray-300 text-blue-600 shadow-sm focus:border-blue-500 focus:ring-blue-500"}),I.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Holiday"})]})]}),I.jsxs("div",{className:"text-sm text-gray-600",children:["Travel Hours: ",h.toFixed(2)," | Work Hours: ",f.toFixed(2)]}),I.jsxs("div",{className:"pt-4",children:[I.jsx("button",{type:"submit",className:"w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 transition",children:"Save Entry"}),I.jsx("button",{type:"button",onClick:e,className:"w-full mt-2 bg-gray-500 text-white py-2 px-4 rounded-md hover:bg-gray-600 transition",children:"Cancel"})]})]})}function L7({onEdit:n,onDelete:t}){const e=Kf();if(!e)return console.error("TimeSheetContext is undefined"),I.jsx("div",{children:"Error: Time Sheet context is unavailable. Please try refreshing the page."});const{entries:i}=e,s=u=>{try{const[h,f,d]=u.split("-").map(Number),g=new Date(Date.UTC(h,f-1,d));if(isNaN(g.getTime()))throw new Error("Invalid date");const S=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][g.getUTCDay()],_=String(g.getUTCMonth()+1).padStart(2,"0"),N=String(g.getUTCDate()).padStart(2,"0"),M=String(g.getUTCFullYear()).slice(-2);return`${S} ${_}/${N}/${M}`}catch(h){return console.error("Error formatting date:",u,h),"Invalid Date"}},o=u=>{try{let h=0,f=0,d=0,g=0;if(u.travel?.to?.active){const[Q,W]=u.travel.to.start.split(":").map(Number),[nt,mt]=u.travel.to.end.split(":").map(Number);h+=(nt*60+mt-(Q*60+W))/60}if(u.travel?.home?.active){const[Q,W]=u.travel.home.start.split(":").map(Number),[nt,mt]=u.travel.home.end.split(":").map(Number);h+=(nt*60+mt-(Q*60+W))/60}let w=0;if(u.onsite?.active&&!u.travelOnly){const[Q,W]=u.onsite.start.split(":").map(Number),[nt,mt]=u.onsite.end.split(":").map(Number);w=(nt*60+mt-(Q*60+W))/60,u.lunch&&(w-=Number(u.lunchDuration)||0)}const[S,_,N]=u.date.split("-").map(Number),j=new Date(Date.UTC(S,_-1,N)).getUTCDay();u.holiday||j===0?g=w:j===6?d=w:w<=8?f=w:(f=8,d=w-8);const R=h+w;return{travelHours:h.toFixed(2),straight:f.toFixed(2),overtime:d.toFixed(2),double:g.toFixed(2),total:R.toFixed(2)}}catch(h){return console.error("Error calculating hours for entry:",u,h),{travelHours:"0.00",straight:"0.00",overtime:"0.00",double:"0.00",total:"0.00"}}};return I.jsxs("div",{className:"mb-4",children:[I.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Saved Entries"}),i&&i.length>0?I.jsxs(I.Fragment,{children:[I.jsx("div",{className:"hidden lg:block overflow-x-auto",children:I.jsxs("table",{className:"min-w-full border-collapse border border-gray-300",children:[I.jsx("thead",{children:I.jsxs("tr",{className:"bg-gray-200",children:[I.jsx("th",{className:"border border-gray-300 px-4 py-2 text-left",children:"Date"}),I.jsx("th",{className:"border border-gray-300 px-4 py-2 text-left",children:"Travel To"}),I.jsx("th",{className:"border border-gray-300 px-4 py-2 text-left",children:"On-site"}),I.jsx("th",{className:"border border-gray-300 px-4 py-2 text-left",children:"Travel Home"}),I.jsx("th",{className:"border border-gray-300 px-4 py-2 text-left",children:"Lunch"}),I.jsx("th",{className:"border border-gray-300 px-4 py-2 text-left",children:"Travel Hrs"}),I.jsx("th",{className:"border border-gray-300 px-4 py-2 text-left",children:"Straight"}),I.jsx("th",{className:"border border-gray-300 px-4 py-2 text-left",children:"Overtime"}),I.jsx("th",{className:"border border-gray-300 px-4 py-2 text-left",children:"Double"}),I.jsx("th",{className:"border border-gray-300 px-4 py-2 text-left",children:"Total Hrs"}),I.jsx("th",{className:"border border-gray-300 px-4 py-2 text-left",children:"Actions"})]})}),I.jsx("tbody",{children:i.map((u,h)=>{const f=o(u);return I.jsxs("tr",{className:"even:bg-gray-50",children:[I.jsx("td",{className:"border border-gray-300 px-4 py-2",children:s(u.date)}),I.jsx("td",{className:"border border-gray-300 px-4 py-2",children:u.travel?.to?.active?`${u.travel.to.start}-${u.travel.to.end}`:"N/A"}),I.jsx("td",{className:"border border-gray-300 px-4 py-2",children:u.onsite?.active?`${u.onsite.start}-${u.onsite.end}`:"N/A"}),I.jsx("td",{className:"border border-gray-300 px-4 py-2",children:u.travel?.home?.active?`${u.travel.home.start}-${u.travel.home.end}`:"N/A"}),I.jsx("td",{className:"border border-gray-300 px-4 py-2",children:u.lunch?`${u.lunchDuration} hrs`:"No"}),I.jsx("td",{className:"border border-gray-300 px-4 py-2",children:f.travelHours}),I.jsx("td",{className:"border border-gray-300 px-4 py-2",children:f.straight}),I.jsx("td",{className:"border border-gray-300 px-4 py-2",children:f.overtime}),I.jsx("td",{className:"border border-gray-300 px-4 py-2",children:f.double}),I.jsx("td",{className:"border border-gray-300 px-4 py-2",children:f.total}),I.jsxs("td",{className:"border border-gray-300 px-4 py-2",children:[I.jsx("button",{onClick:()=>n(h),className:"bg-yellow-500 text-white px-2 py-1 rounded mr-2 hover:bg-yellow-600",children:"Edit"}),I.jsx("button",{onClick:()=>t(h),className:"bg-red-500 text-white px-2 py-1 rounded hover:bg-red-600",children:"Delete"})]})]},h)})})]})}),I.jsx("div",{className:"lg:hidden space-y-4",children:i.map((u,h)=>{const f=o(u);return I.jsxs("div",{className:"bg-white border border-gray-300 rounded-lg p-4 shadow-sm",children:[I.jsxs("div",{className:"flex justify-between items-start mb-3",children:[I.jsx("h4",{className:"font-semibold text-lg text-blue-600",children:s(u.date)}),I.jsxs("span",{className:"text-sm font-medium bg-blue-100 text-blue-800 px-2 py-1 rounded",children:[f.total," hrs"]})]}),I.jsxs("div",{className:"space-y-2 mb-3 text-sm",children:[I.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[I.jsxs("div",{children:[I.jsx("span",{className:"font-medium text-gray-700",children:"Travel To:"}),I.jsx("p",{className:"text-gray-900",children:u.travel?.to?.active?`${u.travel.to.start}-${u.travel.to.end}`:"N/A"})]}),I.jsxs("div",{children:[I.jsx("span",{className:"font-medium text-gray-700",children:"On-site:"}),I.jsx("p",{className:"text-gray-900",children:u.onsite?.active?`${u.onsite.start}-${u.onsite.end}`:"N/A"})]}),I.jsxs("div",{children:[I.jsx("span",{className:"font-medium text-gray-700",children:"Travel Home:"}),I.jsx("p",{className:"text-gray-900",children:u.travel?.home?.active?`${u.travel.home.start}-${u.travel.home.end}`:"N/A"})]}),I.jsxs("div",{children:[I.jsx("span",{className:"font-medium text-gray-700",children:"Lunch:"}),I.jsx("p",{className:"text-gray-900",children:u.lunch?`${u.lunchDuration} hrs`:"No"})]})]}),I.jsx("div",{className:"border-t pt-2 mt-2",children:I.jsxs("div",{className:"grid grid-cols-4 gap-2 text-center",children:[I.jsxs("div",{children:[I.jsx("p",{className:"text-xs text-gray-600",children:"Travel"}),I.jsx("p",{className:"font-semibold",children:f.travelHours})]}),I.jsxs("div",{children:[I.jsx("p",{className:"text-xs text-gray-600",children:"Straight"}),I.jsx("p",{className:"font-semibold",children:f.straight})]}),I.jsxs("div",{children:[I.jsx("p",{className:"text-xs text-gray-600",children:"OT"}),I.jsx("p",{className:"font-semibold",children:f.overtime})]}),I.jsxs("div",{children:[I.jsx("p",{className:"text-xs text-gray-600",children:"Double"}),I.jsx("p",{className:"font-semibold",children:f.double})]})]})})]}),I.jsxs("div",{className:"flex gap-2 pt-2 border-t",children:[I.jsx("button",{onClick:()=>n(h),className:"flex-1 bg-yellow-500 text-white px-3 py-2 rounded hover:bg-yellow-600 transition",children:"Edit"}),I.jsx("button",{onClick:()=>t(h),className:"flex-1 bg-red-500 text-white px-3 py-2 rounded hover:bg-red-600 transition",children:"Delete"})]})]},h)})})]}):I.jsx("p",{children:"No entries saved yet."})]})}function I7({charges:n}){return console.log("ServiceChargesTable charges:",JSON.stringify(n,null,2)),I.jsxs("div",{className:"mt-4 bg-white rounded-lg shadow-md p-4 sm:p-6 mb-6",children:[I.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Charges"}),I.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[I.jsxs("div",{className:"overflow-x-auto",children:[I.jsx("h4",{className:"text-md font-medium mb-1",children:"Service Charges"}),I.jsxs("table",{className:"w-full border-collapse border border-gray-300 text-sm",children:[I.jsx("thead",{children:I.jsxs("tr",{className:"bg-gray-200",children:[I.jsx("th",{className:"border border-gray-300 p-2 text-left",children:"Category"}),I.jsx("th",{className:"border border-gray-300 p-2 text-right",children:"Hours"}),I.jsx("th",{className:"border border-gray-300 p-2 text-right",children:"Rate"}),I.jsx("th",{className:"border border-gray-300 p-2 text-right",children:"Charge"})]})}),I.jsxs("tbody",{children:[I.jsxs("tr",{children:[I.jsx("td",{className:"border border-gray-300 p-2",children:"Straight"}),I.jsx("td",{className:"border border-gray-300 p-2 text-right",children:n.straight?.hours.toFixed(2)||"0.00"}),I.jsx("td",{className:"border border-gray-300 p-2 text-right",children:"$120"}),I.jsxs("td",{className:"border border-gray-300 p-2 text-right font-bold",children:["$",n.straight?.charge.toFixed(2)||"0.00"]})]}),I.jsxs("tr",{children:[I.jsx("td",{className:"border border-gray-300 p-2",children:"Sat/OT"}),I.jsx("td",{className:"border border-gray-300 p-2 text-right",children:n.overtime?.hours.toFixed(2)||"0.00"}),I.jsx("td",{className:"border border-gray-300 p-2 text-right",children:"$180"}),I.jsxs("td",{className:"border border-gray-300 p-2 text-right font-bold",children:["$",n.overtime?.charge.toFixed(2)||"0.00"]})]}),I.jsxs("tr",{children:[I.jsx("td",{className:"border border-gray-300 p-2",children:"Sun/Hol"}),I.jsx("td",{className:"border border-gray-300 p-2 text-right",children:n.double?.hours.toFixed(2)||"0.00"}),I.jsx("td",{className:"border border-gray-300 p-2 text-right",children:"$240"}),I.jsxs("td",{className:"border border-gray-300 p-2 text-right font-bold",children:["$",n.double?.charge.toFixed(2)||"0.00"]})]}),I.jsxs("tr",{children:[I.jsx("td",{className:"border border-gray-300 p-2 font-bold",children:"Subtotal"}),I.jsx("td",{className:"border border-gray-300 p-2"}),I.jsx("td",{className:"border border-gray-300 p-2"}),I.jsxs("td",{className:"border border-gray-300 p-2 text-right font-bold",children:["$",n.laborSubtotal?.toFixed(2)||"0.00"]})]})]})]})]}),I.jsxs("div",{className:"overflow-x-auto",children:[I.jsx("h4",{className:"text-md font-medium mb-1",children:"Travel Charges"}),I.jsxs("table",{className:"w-full border-collapse border border-gray-300 text-sm",children:[I.jsx("thead",{children:I.jsxs("tr",{className:"bg-gray-200",children:[I.jsx("th",{className:"border border-gray-300 p-2 text-left",children:"Category"}),I.jsx("th",{className:"border border-gray-300 p-2 text-right",children:"Hours"}),I.jsx("th",{className:"border border-gray-300 p-2 text-right",children:"Rate"}),I.jsx("th",{className:"border border-gray-300 p-2 text-right",children:"Charge"})]})}),I.jsxs("tbody",{children:[I.jsxs("tr",{children:[I.jsx("td",{className:"border border-gray-300 p-2",children:"Weekday"}),I.jsx("td",{className:"border border-gray-300 p-2 text-right",children:n.weekdayTravel?.hours.toFixed(2)||"0.00"}),I.jsx("td",{className:"border border-gray-300 p-2 text-right",children:"$80"}),I.jsxs("td",{className:"border border-gray-300 p-2 text-right font-bold",children:["$",n.weekdayTravel?.charge.toFixed(2)||"0.00"]})]}),I.jsxs("tr",{children:[I.jsx("td",{className:"border border-gray-300 p-2",children:"Saturday"}),I.jsx("td",{className:"border border-gray-300 p-2 text-right",children:n.saturdayTravel?.hours.toFixed(2)||"0.00"}),I.jsx("td",{className:"border border-gray-300 p-2 text-right",children:"$120"}),I.jsxs("td",{className:"border border-gray-300 p-2 text-right font-bold",children:["$",n.saturdayTravel?.charge.toFixed(2)||"0.00"]})]}),I.jsxs("tr",{children:[I.jsx("td",{className:"border border-gray-300 p-2",children:"Sun/Hol"}),I.jsx("td",{className:"border border-gray-300 p-2 text-right",children:n.sundayTravel?.hours.toFixed(2)||"0.00"}),I.jsx("td",{className:"border border-gray-300 p-2 text-right",children:"$160"}),I.jsxs("td",{className:"border border-gray-300 p-2 text-right font-bold",children:["$",n.sundayTravel?.charge.toFixed(2)||"0.00"]})]}),I.jsxs("tr",{children:[I.jsx("td",{className:"border border-gray-300 p-2 font-bold",children:"Subtotal"}),I.jsx("td",{className:"border border-gray-300 p-2"}),I.jsx("td",{className:"border border-gray-300 p-2"}),I.jsxs("td",{className:"border border-gray-300 p-2 text-right font-bold",children:["$",n.travelChargesSubtotal?.toFixed(2)||"0.00"]})]})]})]})]})]})]})}const D7="modulepreload",k7=function(n){return"/"+n},cb={},$g=function(t,e,i){let s=Promise.resolve();if(e&&e.length>0){let f=function(d){return Promise.all(d.map(g=>Promise.resolve(g).then(w=>({status:"fulfilled",value:w}),w=>({status:"rejected",reason:w}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),h=u?.nonce||u?.getAttribute("nonce");s=f(e.map(d=>{if(d=k7(d),d in cb)return;cb[d]=!0;const g=d.endsWith(".css"),w=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${w}`))return;const S=document.createElement("link");if(S.rel=g?"stylesheet":D7,g||(S.as="script"),S.crossOrigin="",S.href=d,h&&S.setAttribute("nonce",h),document.head.appendChild(S),g)return new Promise((_,N)=>{S.addEventListener("load",_),S.addEventListener("error",()=>N(new Error(`Unable to preload CSS for ${d}`)))})}))}function o(u){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=u,window.dispatchEvent(h),!h.defaultPrevented)throw u}return s.then(u=>{for(const h of u||[])h.status==="rejected"&&o(h.reason);return t().catch(o)})};function Jn(n){"@babel/helpers - typeof";return Jn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jn(n)}var co=Uint8Array,ps=Uint16Array,a2=Int32Array,s2=new co([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),o2=new co([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),hb=new co([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),o4=function(n,t){for(var e=new ps(31),i=0;i<31;++i)e[i]=t+=1<<n[i-1];for(var s=new a2(e[30]),i=1;i<30;++i)for(var o=e[i];o<e[i+1];++o)s[o]=o-e[i]<<5|i;return{b:e,r:s}},l4=o4(s2,2),O7=l4.b,H0=l4.r;O7[28]=258,H0[258]=28;var P7=o4(o2,0),fb=P7.r,G0=new ps(32768);for(var _r=0;_r<32768;++_r){var uu=(_r&43690)>>1|(_r&21845)<<1;uu=(uu&52428)>>2|(uu&13107)<<2,uu=(uu&61680)>>4|(uu&3855)<<4,G0[_r]=((uu&65280)>>8|(uu&255)<<8)>>1}var Af=(function(n,t,e){for(var i=n.length,s=0,o=new ps(t);s<i;++s)n[s]&&++o[n[s]-1];var u=new ps(t);for(s=1;s<t;++s)u[s]=u[s-1]+o[s-1]<<1;var h;if(e){h=new ps(1<<t);var f=15-t;for(s=0;s<i;++s)if(n[s])for(var d=s<<4|n[s],g=t-n[s],w=u[n[s]-1]++<<g,S=w|(1<<g)-1;w<=S;++w)h[G0[w]>>f]=d}else for(h=new ps(i),s=0;s<i;++s)n[s]&&(h[s]=G0[u[n[s]-1]++]>>15-n[s]);return h}),ac=new co(288);for(var _r=0;_r<144;++_r)ac[_r]=8;for(var _r=144;_r<256;++_r)ac[_r]=9;for(var _r=256;_r<280;++_r)ac[_r]=7;for(var _r=280;_r<288;++_r)ac[_r]=8;var jp=new co(32);for(var _r=0;_r<32;++_r)jp[_r]=5;var M7=Af(ac,9,0),j7=Af(jp,5,0),u4=function(n){return(n+7)/8|0},F7=function(n,t,e){return(e==null||e>n.length)&&(e=n.length),new co(n.subarray(t,e))},_l=function(n,t,e){e<<=t&7;var i=t/8|0;n[i]|=e,n[i+1]|=e>>8},ff=function(n,t,e){e<<=t&7;var i=t/8|0;n[i]|=e,n[i+1]|=e>>8,n[i+2]|=e>>16},Yg=function(n,t){for(var e=[],i=0;i<n.length;++i)n[i]&&e.push({s:i,f:n[i]});var s=e.length,o=e.slice();if(!s)return{t:h4,l:0};if(s==1){var u=new co(e[0].s+1);return u[e[0].s]=1,{t:u,l:1}}e.sort(function(mt,bt){return mt.f-bt.f}),e.push({s:-1,f:25001});var h=e[0],f=e[1],d=0,g=1,w=2;for(e[0]={s:-1,f:h.f+f.f,l:h,r:f};g!=s-1;)h=e[e[d].f<e[w].f?d++:w++],f=e[d!=g&&e[d].f<e[w].f?d++:w++],e[g++]={s:-1,f:h.f+f.f,l:h,r:f};for(var S=o[0].s,i=1;i<s;++i)o[i].s>S&&(S=o[i].s);var _=new ps(S+1),N=$0(e[g-1],_,0);if(N>t){var i=0,M=0,j=N-t,R=1<<j;for(o.sort(function(bt,q){return _[q.s]-_[bt.s]||bt.f-q.f});i<s;++i){var Q=o[i].s;if(_[Q]>t)M+=R-(1<<N-_[Q]),_[Q]=t;else break}for(M>>=j;M>0;){var W=o[i].s;_[W]<t?M-=1<<t-_[W]++-1:++i}for(;i>=0&&M;--i){var nt=o[i].s;_[nt]==t&&(--_[nt],++M)}N=t}return{t:new co(_),l:N}},$0=function(n,t,e){return n.s==-1?Math.max($0(n.l,t,e+1),$0(n.r,t,e+1)):t[n.s]=e},db=function(n){for(var t=n.length;t&&!n[--t];);for(var e=new ps(++t),i=0,s=n[0],o=1,u=function(f){e[i++]=f},h=1;h<=t;++h)if(n[h]==s&&h!=t)++o;else{if(!s&&o>2){for(;o>138;o-=138)u(32754);o>2&&(u(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(u(s),--o;o>6;o-=6)u(8304);o>2&&(u(o-3<<5|8208),o=0)}for(;o--;)u(s);o=1,s=n[h]}return{c:e.subarray(0,i),n:t}},df=function(n,t){for(var e=0,i=0;i<t.length;++i)e+=n[i]*t[i];return e},c4=function(n,t,e){var i=e.length,s=u4(t+2);n[s]=i&255,n[s+1]=i>>8,n[s+2]=n[s]^255,n[s+3]=n[s+1]^255;for(var o=0;o<i;++o)n[s+o+4]=e[o];return(s+4+i)*8},pb=function(n,t,e,i,s,o,u,h,f,d,g){_l(t,g++,e),++s[256];for(var w=Yg(s,15),S=w.t,_=w.l,N=Yg(o,15),M=N.t,j=N.l,R=db(S),Q=R.c,W=R.n,nt=db(M),mt=nt.c,bt=nt.n,q=new ps(19),V=0;V<Q.length;++V)++q[Q[V]&31];for(var V=0;V<mt.length;++V)++q[mt[V]&31];for(var D=Yg(q,7),H=D.t,T=D.l,P=19;P>4&&!H[hb[P-1]];--P);var F=d+5<<3,lt=df(s,ac)+df(o,jp)+u,xt=df(s,S)+df(o,M)+u+14+3*P+df(q,H)+2*q[16]+3*q[17]+7*q[18];if(f>=0&&F<=lt&&F<=xt)return c4(t,g,n.subarray(f,f+d));var ot,dt,ft,Nt;if(_l(t,g,1+(xt<lt)),g+=2,xt<lt){ot=Af(S,_,0),dt=S,ft=Af(M,j,0),Nt=M;var Wt=Af(H,T,0);_l(t,g,W-257),_l(t,g+5,bt-1),_l(t,g+10,P-4),g+=14;for(var V=0;V<P;++V)_l(t,g+3*V,H[hb[V]]);g+=3*P;for(var $=[Q,mt],O=0;O<2;++O)for(var K=$[O],V=0;V<K.length;++V){var tt=K[V]&31;_l(t,g,Wt[tt]),g+=H[tt],tt>15&&(_l(t,g,K[V]>>5&127),g+=K[V]>>12)}}else ot=M7,dt=ac,ft=j7,Nt=jp;for(var V=0;V<h;++V){var st=i[V];if(st>255){var tt=st>>18&31;ff(t,g,ot[tt+257]),g+=dt[tt+257],tt>7&&(_l(t,g,st>>23&31),g+=s2[tt]);var ut=st&31;ff(t,g,ft[ut]),g+=Nt[ut],ut>3&&(ff(t,g,st>>5&8191),g+=o2[ut])}else ff(t,g,ot[st]),g+=dt[st]}return ff(t,g,ot[256]),g+dt[256]},V7=new a2([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),h4=new co(0),B7=function(n,t,e,i,s,o){var u=o.z||n.length,h=new co(i+u+5*(1+Math.ceil(u/7e3))+s),f=h.subarray(i,h.length-s),d=o.l,g=(o.r||0)&7;if(t){g&&(f[0]=o.r>>3);for(var w=V7[t-1],S=w>>13,_=w&8191,N=(1<<e)-1,M=o.p||new ps(32768),j=o.h||new ps(N+1),R=Math.ceil(e/3),Q=2*R,W=function(Mt){return(n[Mt]^n[Mt+1]<<R^n[Mt+2]<<Q)&N},nt=new a2(25e3),mt=new ps(288),bt=new ps(32),q=0,V=0,D=o.i||0,H=0,T=o.w||0,P=0;D+2<u;++D){var F=W(D),lt=D&32767,xt=j[F];if(M[lt]=xt,j[F]=lt,T<=D){var ot=u-D;if((q>7e3||H>24576)&&(ot>423||!d)){g=pb(n,f,0,nt,mt,bt,V,H,P,D-P,g),H=q=V=0,P=D;for(var dt=0;dt<286;++dt)mt[dt]=0;for(var dt=0;dt<30;++dt)bt[dt]=0}var ft=2,Nt=0,Wt=_,$=lt-xt&32767;if(ot>2&&F==W(D-$))for(var O=Math.min(S,ot)-1,K=Math.min(32767,D),tt=Math.min(258,ot);$<=K&&--Wt&&lt!=xt;){if(n[D+ft]==n[D+ft-$]){for(var st=0;st<tt&&n[D+st]==n[D+st-$];++st);if(st>ft){if(ft=st,Nt=$,st>O)break;for(var ut=Math.min($,st-2),yt=0,dt=0;dt<ut;++dt){var It=D-$+dt&32767,Rt=M[It],zt=It-Rt&32767;zt>yt&&(yt=zt,xt=It)}}}lt=xt,xt=M[lt],$+=lt-xt&32767}if(Nt){nt[H++]=268435456|H0[ft]<<18|fb[Nt];var Et=H0[ft]&31,jt=fb[Nt]&31;V+=s2[Et]+o2[jt],++mt[257+Et],++bt[jt],T=D+ft,++q}else nt[H++]=n[D],++mt[n[D]]}}for(D=Math.max(D,T);D<u;++D)nt[H++]=n[D],++mt[n[D]];g=pb(n,f,d,nt,mt,bt,V,H,P,D-P,g),d||(o.r=g&7|f[g/8|0]<<3,g-=7,o.h=j,o.p=M,o.i=D,o.w=T)}else{for(var D=o.w||0;D<u+d;D+=65535){var qt=D+65535;qt>=u&&(f[g/8|0]=d,qt=u),g=c4(f,g+1,n.subarray(D,qt))}o.i=u}return F7(h,0,i+u4(g)+s)},f4=function(){var n=1,t=0;return{p:function(e){for(var i=n,s=t,o=e.length|0,u=0;u!=o;){for(var h=Math.min(u+2655,o);u<h;++u)s+=i+=e[u];i=(i&65535)+15*(i>>16),s=(s&65535)+15*(s>>16)}n=i,t=s},d:function(){return n%=65521,t%=65521,(n&255)<<24|(n&65280)<<8|(t&255)<<8|t>>8}}},U7=function(n,t,e,i,s){if(!s&&(s={l:1},t.dictionary)){var o=t.dictionary.subarray(-32768),u=new co(o.length+n.length);u.set(o),u.set(n,o.length),n=u,s.w=o.length}return B7(n,t.level==null?6:t.level,t.mem==null?s.l?Math.ceil(Math.max(8,Math.min(13,Math.log(n.length)))*1.5):20:12+t.mem,e,i,s)},d4=function(n,t,e){for(;e;++t)n[t]=e,e>>>=8},z7=function(n,t){var e=t.level,i=e==0?0:e<6?1:e==9?3:2;if(n[0]=120,n[1]=i<<6|(t.dictionary&&32),n[1]|=31-(n[0]<<8|n[1])%31,t.dictionary){var s=f4();s.p(t.dictionary),d4(n,2,s.d())}};function Y0(n,t){t||(t={});var e=f4();e.p(n);var i=U7(n,t,t.dictionary?6:2,4);return z7(i,t),d4(i,i.length-4,e.d()),i}var q7=typeof TextDecoder<"u"&&new TextDecoder,H7=0;try{q7.decode(h4,{stream:!0}),H7=1}catch{}function G7(n){if(Array.isArray(n))return n}function $7(n,t){var e=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(e!=null){var i,s,o,u,h=[],f=!0,d=!1;try{if(o=(e=e.call(n)).next,t!==0)for(;!(f=(i=o.call(e)).done)&&(h.push(i.value),h.length!==t);f=!0);}catch(g){d=!0,s=g}finally{try{if(!f&&e.return!=null&&(u=e.return(),Object(u)!==u))return}finally{if(d)throw s}}return h}}function mb(n,t){(t==null||t>n.length)&&(t=n.length);for(var e=0,i=Array(t);e<t;e++)i[e]=n[e];return i}function Y7(n,t){if(n){if(typeof n=="string")return mb(n,t);var e={}.toString.call(n).slice(8,-1);return e==="Object"&&n.constructor&&(e=n.constructor.name),e==="Map"||e==="Set"?Array.from(n):e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?mb(n,t):void 0}}function W7(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gb(n,t){return G7(n)||$7(n,t)||Y7(n,t)||W7()}function yb(n,t="utf8"){return new TextDecoder(t).decode(n)}const K7=new TextEncoder;function Q7(n){return K7.encode(n)}const X7=1024*8,J7=(()=>{const n=new Uint8Array(4),t=new Uint32Array(n.buffer);return!((t[0]=1)&n[0])})(),Wg={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class l2{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(t=X7,e={}){let i=!1;typeof t=="number"?t=new ArrayBuffer(t):(i=!0,this.lastWrittenByte=t.byteLength);const s=e.offset?e.offset>>>0:0,o=t.byteLength-s;let u=s;(ArrayBuffer.isView(t)||t instanceof l2)&&(t.byteLength!==t.buffer.byteLength&&(u=t.byteOffset+s),t=t.buffer),i?this.lastWrittenByte=o:this.lastWrittenByte=0,this.buffer=t,this.length=o,this.byteLength=o,this.byteOffset=u,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,u,o),this._mark=0,this._marks=[]}available(t=1){return this.offset+t<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(t=1){return this.offset+=t,this}back(t=1){return this.offset-=t,this}seek(t){return this.offset=t,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const t=this._marks.pop();if(t===void 0)throw new Error("Mark stack empty");return this.seek(t),this}rewind(){return this.offset=0,this}ensureAvailable(t=1){if(!this.available(t)){const i=(this.offset+t)*2,s=new Uint8Array(i);s.set(new Uint8Array(this.buffer)),this.buffer=s.buffer,this.length=i,this.byteLength=i,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(t=1){return this.readArray(t,"uint8")}readArray(t,e){const i=Wg[e].BYTES_PER_ELEMENT*t,s=this.byteOffset+this.offset,o=this.buffer.slice(s,s+i);if(this.littleEndian===J7&&e!=="uint8"&&e!=="int8"){const h=new Uint8Array(this.buffer.slice(s,s+i));h.reverse();const f=new Wg[e](h.buffer);return this.offset+=i,f.reverse(),f}const u=new Wg[e](o);return this.offset+=i,u}readInt16(){const t=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,t}readUint16(){const t=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,t}readInt32(){const t=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,t}readUint32(){const t=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat32(){const t=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat64(){const t=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t}readBigInt64(){const t=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,t}readBigUint64(){const t=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,t}readChar(){return String.fromCharCode(this.readInt8())}readChars(t=1){let e="";for(let i=0;i<t;i++)e+=this.readChar();return e}readUtf8(t=1){return yb(this.readBytes(t))}decodeText(t=1,e="utf8"){return yb(this.readBytes(t),e)}writeBoolean(t){return this.writeUint8(t?255:0),this}writeInt8(t){return this.ensureAvailable(1),this._data.setInt8(this.offset++,t),this._updateLastWrittenByte(),this}writeUint8(t){return this.ensureAvailable(1),this._data.setUint8(this.offset++,t),this._updateLastWrittenByte(),this}writeByte(t){return this.writeUint8(t)}writeBytes(t){this.ensureAvailable(t.length);for(let e=0;e<t.length;e++)this._data.setUint8(this.offset++,t[e]);return this._updateLastWrittenByte(),this}writeInt16(t){return this.ensureAvailable(2),this._data.setInt16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(t){return this.ensureAvailable(2),this._data.setUint16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(t){return this.ensureAvailable(4),this._data.setInt32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(t){return this.ensureAvailable(4),this._data.setUint32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(t){return this.ensureAvailable(4),this._data.setFloat32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(t){return this.ensureAvailable(8),this._data.setFloat64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(t){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(t){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(t){return this.writeUint8(t.charCodeAt(0))}writeChars(t){for(let e=0;e<t.length;e++)this.writeUint8(t.charCodeAt(e));return this}writeUtf8(t){return this.writeBytes(Q7(t))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function Ah(n){let t=n.length;for(;--t>=0;)n[t]=0}const Z7=3,tR=258,p4=29,eR=256,nR=eR+1+p4,m4=30,rR=512,iR=new Array((nR+2)*2);Ah(iR);const aR=new Array(m4*2);Ah(aR);const sR=new Array(rR);Ah(sR);const oR=new Array(tR-Z7+1);Ah(oR);const lR=new Array(p4);Ah(lR);const uR=new Array(m4);Ah(uR);const cR=(n,t,e,i)=>{let s=n&65535|0,o=n>>>16&65535|0,u=0;for(;e!==0;){u=e>2e3?2e3:e,e-=u;do s=s+t[i++]|0,o=o+s|0;while(--u);s%=65521,o%=65521}return s|o<<16|0};var W0=cR;const hR=()=>{let n,t=[];for(var e=0;e<256;e++){n=e;for(var i=0;i<8;i++)n=n&1?3988292384^n>>>1:n>>>1;t[e]=n}return t},fR=new Uint32Array(hR()),dR=(n,t,e,i)=>{const s=fR,o=i+e;n^=-1;for(let u=i;u<o;u++)n=n>>>8^s[(n^t[u])&255];return n^-1};var jo=dR,K0={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},g4={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const pR=(n,t)=>Object.prototype.hasOwnProperty.call(n,t);var mR=function(n){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const e=t.shift();if(e){if(typeof e!="object")throw new TypeError(e+"must be non-object");for(const i in e)pR(e,i)&&(n[i]=e[i])}}return n},gR=n=>{let t=0;for(let i=0,s=n.length;i<s;i++)t+=n[i].length;const e=new Uint8Array(t);for(let i=0,s=0,o=n.length;i<o;i++){let u=n[i];e.set(u,s),s+=u.length}return e},y4={assign:mR,flattenChunks:gR};let v4=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{v4=!1}const jf=new Uint8Array(256);for(let n=0;n<256;n++)jf[n]=n>=252?6:n>=248?5:n>=240?4:n>=224?3:n>=192?2:1;jf[254]=jf[254]=1;var yR=n=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(n);let t,e,i,s,o,u=n.length,h=0;for(s=0;s<u;s++)e=n.charCodeAt(s),(e&64512)===55296&&s+1<u&&(i=n.charCodeAt(s+1),(i&64512)===56320&&(e=65536+(e-55296<<10)+(i-56320),s++)),h+=e<128?1:e<2048?2:e<65536?3:4;for(t=new Uint8Array(h),o=0,s=0;o<h;s++)e=n.charCodeAt(s),(e&64512)===55296&&s+1<u&&(i=n.charCodeAt(s+1),(i&64512)===56320&&(e=65536+(e-55296<<10)+(i-56320),s++)),e<128?t[o++]=e:e<2048?(t[o++]=192|e>>>6,t[o++]=128|e&63):e<65536?(t[o++]=224|e>>>12,t[o++]=128|e>>>6&63,t[o++]=128|e&63):(t[o++]=240|e>>>18,t[o++]=128|e>>>12&63,t[o++]=128|e>>>6&63,t[o++]=128|e&63);return t};const vR=(n,t)=>{if(t<65534&&n.subarray&&v4)return String.fromCharCode.apply(null,n.length===t?n:n.subarray(0,t));let e="";for(let i=0;i<t;i++)e+=String.fromCharCode(n[i]);return e};var bR=(n,t)=>{const e=t||n.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(n.subarray(0,t));let i,s;const o=new Array(e*2);for(s=0,i=0;i<e;){let u=n[i++];if(u<128){o[s++]=u;continue}let h=jf[u];if(h>4){o[s++]=65533,i+=h-1;continue}for(u&=h===2?31:h===3?15:7;h>1&&i<e;)u=u<<6|n[i++]&63,h--;if(h>1){o[s++]=65533;continue}u<65536?o[s++]=u:(u-=65536,o[s++]=55296|u>>10&1023,o[s++]=56320|u&1023)}return vR(o,s)},_R=(n,t)=>{t=t||n.length,t>n.length&&(t=n.length);let e=t-1;for(;e>=0&&(n[e]&192)===128;)e--;return e<0||e===0?t:e+jf[n[e]]>t?e:t},Q0={string2buf:yR,buf2string:bR,utf8border:_R};function wR(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var xR=wR;const Qd=16209,SR=16191;var AR=function(t,e){let i,s,o,u,h,f,d,g,w,S,_,N,M,j,R,Q,W,nt,mt,bt,q,V,D,H;const T=t.state;i=t.next_in,D=t.input,s=i+(t.avail_in-5),o=t.next_out,H=t.output,u=o-(e-t.avail_out),h=o+(t.avail_out-257),f=T.dmax,d=T.wsize,g=T.whave,w=T.wnext,S=T.window,_=T.hold,N=T.bits,M=T.lencode,j=T.distcode,R=(1<<T.lenbits)-1,Q=(1<<T.distbits)-1;t:do{N<15&&(_+=D[i++]<<N,N+=8,_+=D[i++]<<N,N+=8),W=M[_&R];e:for(;;){if(nt=W>>>24,_>>>=nt,N-=nt,nt=W>>>16&255,nt===0)H[o++]=W&65535;else if(nt&16){mt=W&65535,nt&=15,nt&&(N<nt&&(_+=D[i++]<<N,N+=8),mt+=_&(1<<nt)-1,_>>>=nt,N-=nt),N<15&&(_+=D[i++]<<N,N+=8,_+=D[i++]<<N,N+=8),W=j[_&Q];n:for(;;){if(nt=W>>>24,_>>>=nt,N-=nt,nt=W>>>16&255,nt&16){if(bt=W&65535,nt&=15,N<nt&&(_+=D[i++]<<N,N+=8,N<nt&&(_+=D[i++]<<N,N+=8)),bt+=_&(1<<nt)-1,bt>f){t.msg="invalid distance too far back",T.mode=Qd;break t}if(_>>>=nt,N-=nt,nt=o-u,bt>nt){if(nt=bt-nt,nt>g&&T.sane){t.msg="invalid distance too far back",T.mode=Qd;break t}if(q=0,V=S,w===0){if(q+=d-nt,nt<mt){mt-=nt;do H[o++]=S[q++];while(--nt);q=o-bt,V=H}}else if(w<nt){if(q+=d+w-nt,nt-=w,nt<mt){mt-=nt;do H[o++]=S[q++];while(--nt);if(q=0,w<mt){nt=w,mt-=nt;do H[o++]=S[q++];while(--nt);q=o-bt,V=H}}}else if(q+=w-nt,nt<mt){mt-=nt;do H[o++]=S[q++];while(--nt);q=o-bt,V=H}for(;mt>2;)H[o++]=V[q++],H[o++]=V[q++],H[o++]=V[q++],mt-=3;mt&&(H[o++]=V[q++],mt>1&&(H[o++]=V[q++]))}else{q=o-bt;do H[o++]=H[q++],H[o++]=H[q++],H[o++]=H[q++],mt-=3;while(mt>2);mt&&(H[o++]=H[q++],mt>1&&(H[o++]=H[q++]))}}else if((nt&64)===0){W=j[(W&65535)+(_&(1<<nt)-1)];continue n}else{t.msg="invalid distance code",T.mode=Qd;break t}break}}else if((nt&64)===0){W=M[(W&65535)+(_&(1<<nt)-1)];continue e}else if(nt&32){T.mode=SR;break t}else{t.msg="invalid literal/length code",T.mode=Qd;break t}break}}while(i<s&&o<h);mt=N>>3,i-=mt,N-=mt<<3,_&=(1<<N)-1,t.next_in=i,t.next_out=o,t.avail_in=i<s?5+(s-i):5-(i-s),t.avail_out=o<h?257+(h-o):257-(o-h),T.hold=_,T.bits=N};const Gc=15,vb=852,bb=592,_b=0,Kg=1,wb=2,ER=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),TR=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),NR=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),CR=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),RR=(n,t,e,i,s,o,u,h)=>{const f=h.bits;let d=0,g=0,w=0,S=0,_=0,N=0,M=0,j=0,R=0,Q=0,W,nt,mt,bt,q,V=null,D;const H=new Uint16Array(Gc+1),T=new Uint16Array(Gc+1);let P=null,F,lt,xt;for(d=0;d<=Gc;d++)H[d]=0;for(g=0;g<i;g++)H[t[e+g]]++;for(_=f,S=Gc;S>=1&&H[S]===0;S--);if(_>S&&(_=S),S===0)return s[o++]=1<<24|64<<16|0,s[o++]=1<<24|64<<16|0,h.bits=1,0;for(w=1;w<S&&H[w]===0;w++);for(_<w&&(_=w),j=1,d=1;d<=Gc;d++)if(j<<=1,j-=H[d],j<0)return-1;if(j>0&&(n===_b||S!==1))return-1;for(T[1]=0,d=1;d<Gc;d++)T[d+1]=T[d]+H[d];for(g=0;g<i;g++)t[e+g]!==0&&(u[T[t[e+g]]++]=g);if(n===_b?(V=P=u,D=20):n===Kg?(V=ER,P=TR,D=257):(V=NR,P=CR,D=0),Q=0,g=0,d=w,q=o,N=_,M=0,mt=-1,R=1<<_,bt=R-1,n===Kg&&R>vb||n===wb&&R>bb)return 1;for(;;){F=d-M,u[g]+1<D?(lt=0,xt=u[g]):u[g]>=D?(lt=P[u[g]-D],xt=V[u[g]-D]):(lt=96,xt=0),W=1<<d-M,nt=1<<N,w=nt;do nt-=W,s[q+(Q>>M)+nt]=F<<24|lt<<16|xt|0;while(nt!==0);for(W=1<<d-1;Q&W;)W>>=1;if(W!==0?(Q&=W-1,Q+=W):Q=0,g++,--H[d]===0){if(d===S)break;d=t[e+u[g]]}if(d>_&&(Q&bt)!==mt){for(M===0&&(M=_),q+=w,N=d-M,j=1<<N;N+M<S&&(j-=H[N+M],!(j<=0));)N++,j<<=1;if(R+=1<<N,n===Kg&&R>vb||n===wb&&R>bb)return 1;mt=Q&bt,s[mt]=_<<24|N<<16|q-o|0}}return Q!==0&&(s[q+Q]=d-M<<24|64<<16|0),h.bits=_,0};var Ef=RR;const LR=0,b4=1,_4=2,{Z_FINISH:xb,Z_BLOCK:IR,Z_TREES:Xd,Z_OK:sc,Z_STREAM_END:DR,Z_NEED_DICT:kR,Z_STREAM_ERROR:Fs,Z_DATA_ERROR:w4,Z_MEM_ERROR:x4,Z_BUF_ERROR:OR,Z_DEFLATED:Sb}=g4,hm=16180,Ab=16181,Eb=16182,Tb=16183,Nb=16184,Cb=16185,Rb=16186,Lb=16187,Ib=16188,Db=16189,Fp=16190,wl=16191,Qg=16192,kb=16193,Xg=16194,Ob=16195,Pb=16196,Mb=16197,jb=16198,Jd=16199,Zd=16200,Fb=16201,Vb=16202,Bb=16203,Ub=16204,zb=16205,Jg=16206,qb=16207,Hb=16208,Cr=16209,S4=16210,A4=16211,PR=852,MR=592,jR=15,FR=jR,Gb=n=>(n>>>24&255)+(n>>>8&65280)+((n&65280)<<8)+((n&255)<<24);function VR(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const uc=n=>{if(!n)return 1;const t=n.state;return!t||t.strm!==n||t.mode<hm||t.mode>A4?1:0},E4=n=>{if(uc(n))return Fs;const t=n.state;return n.total_in=n.total_out=t.total=0,n.msg="",t.wrap&&(n.adler=t.wrap&1),t.mode=hm,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(PR),t.distcode=t.distdyn=new Int32Array(MR),t.sane=1,t.back=-1,sc},T4=n=>{if(uc(n))return Fs;const t=n.state;return t.wsize=0,t.whave=0,t.wnext=0,E4(n)},N4=(n,t)=>{let e;if(uc(n))return Fs;const i=n.state;return t<0?(e=0,t=-t):(e=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?Fs:(i.window!==null&&i.wbits!==t&&(i.window=null),i.wrap=e,i.wbits=t,T4(n))},C4=(n,t)=>{if(!n)return Fs;const e=new VR;n.state=e,e.strm=n,e.window=null,e.mode=hm;const i=N4(n,t);return i!==sc&&(n.state=null),i},BR=n=>C4(n,FR);let $b=!0,Zg,t0;const UR=n=>{if($b){Zg=new Int32Array(512),t0=new Int32Array(32);let t=0;for(;t<144;)n.lens[t++]=8;for(;t<256;)n.lens[t++]=9;for(;t<280;)n.lens[t++]=7;for(;t<288;)n.lens[t++]=8;for(Ef(b4,n.lens,0,288,Zg,0,n.work,{bits:9}),t=0;t<32;)n.lens[t++]=5;Ef(_4,n.lens,0,32,t0,0,n.work,{bits:5}),$b=!1}n.lencode=Zg,n.lenbits=9,n.distcode=t0,n.distbits=5},R4=(n,t,e,i)=>{let s;const o=n.state;return o.window===null&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),i>=o.wsize?(o.window.set(t.subarray(e-o.wsize,e),0),o.wnext=0,o.whave=o.wsize):(s=o.wsize-o.wnext,s>i&&(s=i),o.window.set(t.subarray(e-i,e-i+s),o.wnext),i-=s,i?(o.window.set(t.subarray(e-i,e),0),o.wnext=i,o.whave=o.wsize):(o.wnext+=s,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=s))),0},zR=(n,t)=>{let e,i,s,o,u,h,f,d,g,w,S,_,N,M,j=0,R,Q,W,nt,mt,bt,q,V;const D=new Uint8Array(4);let H,T;const P=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(uc(n)||!n.output||!n.input&&n.avail_in!==0)return Fs;e=n.state,e.mode===wl&&(e.mode=Qg),u=n.next_out,s=n.output,f=n.avail_out,o=n.next_in,i=n.input,h=n.avail_in,d=e.hold,g=e.bits,w=h,S=f,V=sc;t:for(;;)switch(e.mode){case hm:if(e.wrap===0){e.mode=Qg;break}for(;g<16;){if(h===0)break t;h--,d+=i[o++]<<g,g+=8}if(e.wrap&2&&d===35615){e.wbits===0&&(e.wbits=15),e.check=0,D[0]=d&255,D[1]=d>>>8&255,e.check=jo(e.check,D,2,0),d=0,g=0,e.mode=Ab;break}if(e.head&&(e.head.done=!1),!(e.wrap&1)||(((d&255)<<8)+(d>>8))%31){n.msg="incorrect header check",e.mode=Cr;break}if((d&15)!==Sb){n.msg="unknown compression method",e.mode=Cr;break}if(d>>>=4,g-=4,q=(d&15)+8,e.wbits===0&&(e.wbits=q),q>15||q>e.wbits){n.msg="invalid window size",e.mode=Cr;break}e.dmax=1<<e.wbits,e.flags=0,n.adler=e.check=1,e.mode=d&512?Db:wl,d=0,g=0;break;case Ab:for(;g<16;){if(h===0)break t;h--,d+=i[o++]<<g,g+=8}if(e.flags=d,(e.flags&255)!==Sb){n.msg="unknown compression method",e.mode=Cr;break}if(e.flags&57344){n.msg="unknown header flags set",e.mode=Cr;break}e.head&&(e.head.text=d>>8&1),e.flags&512&&e.wrap&4&&(D[0]=d&255,D[1]=d>>>8&255,e.check=jo(e.check,D,2,0)),d=0,g=0,e.mode=Eb;case Eb:for(;g<32;){if(h===0)break t;h--,d+=i[o++]<<g,g+=8}e.head&&(e.head.time=d),e.flags&512&&e.wrap&4&&(D[0]=d&255,D[1]=d>>>8&255,D[2]=d>>>16&255,D[3]=d>>>24&255,e.check=jo(e.check,D,4,0)),d=0,g=0,e.mode=Tb;case Tb:for(;g<16;){if(h===0)break t;h--,d+=i[o++]<<g,g+=8}e.head&&(e.head.xflags=d&255,e.head.os=d>>8),e.flags&512&&e.wrap&4&&(D[0]=d&255,D[1]=d>>>8&255,e.check=jo(e.check,D,2,0)),d=0,g=0,e.mode=Nb;case Nb:if(e.flags&1024){for(;g<16;){if(h===0)break t;h--,d+=i[o++]<<g,g+=8}e.length=d,e.head&&(e.head.extra_len=d),e.flags&512&&e.wrap&4&&(D[0]=d&255,D[1]=d>>>8&255,e.check=jo(e.check,D,2,0)),d=0,g=0}else e.head&&(e.head.extra=null);e.mode=Cb;case Cb:if(e.flags&1024&&(_=e.length,_>h&&(_=h),_&&(e.head&&(q=e.head.extra_len-e.length,e.head.extra||(e.head.extra=new Uint8Array(e.head.extra_len)),e.head.extra.set(i.subarray(o,o+_),q)),e.flags&512&&e.wrap&4&&(e.check=jo(e.check,i,_,o)),h-=_,o+=_,e.length-=_),e.length))break t;e.length=0,e.mode=Rb;case Rb:if(e.flags&2048){if(h===0)break t;_=0;do q=i[o+_++],e.head&&q&&e.length<65536&&(e.head.name+=String.fromCharCode(q));while(q&&_<h);if(e.flags&512&&e.wrap&4&&(e.check=jo(e.check,i,_,o)),h-=_,o+=_,q)break t}else e.head&&(e.head.name=null);e.length=0,e.mode=Lb;case Lb:if(e.flags&4096){if(h===0)break t;_=0;do q=i[o+_++],e.head&&q&&e.length<65536&&(e.head.comment+=String.fromCharCode(q));while(q&&_<h);if(e.flags&512&&e.wrap&4&&(e.check=jo(e.check,i,_,o)),h-=_,o+=_,q)break t}else e.head&&(e.head.comment=null);e.mode=Ib;case Ib:if(e.flags&512){for(;g<16;){if(h===0)break t;h--,d+=i[o++]<<g,g+=8}if(e.wrap&4&&d!==(e.check&65535)){n.msg="header crc mismatch",e.mode=Cr;break}d=0,g=0}e.head&&(e.head.hcrc=e.flags>>9&1,e.head.done=!0),n.adler=e.check=0,e.mode=wl;break;case Db:for(;g<32;){if(h===0)break t;h--,d+=i[o++]<<g,g+=8}n.adler=e.check=Gb(d),d=0,g=0,e.mode=Fp;case Fp:if(e.havedict===0)return n.next_out=u,n.avail_out=f,n.next_in=o,n.avail_in=h,e.hold=d,e.bits=g,kR;n.adler=e.check=1,e.mode=wl;case wl:if(t===IR||t===Xd)break t;case Qg:if(e.last){d>>>=g&7,g-=g&7,e.mode=Jg;break}for(;g<3;){if(h===0)break t;h--,d+=i[o++]<<g,g+=8}switch(e.last=d&1,d>>>=1,g-=1,d&3){case 0:e.mode=kb;break;case 1:if(UR(e),e.mode=Jd,t===Xd){d>>>=2,g-=2;break t}break;case 2:e.mode=Pb;break;case 3:n.msg="invalid block type",e.mode=Cr}d>>>=2,g-=2;break;case kb:for(d>>>=g&7,g-=g&7;g<32;){if(h===0)break t;h--,d+=i[o++]<<g,g+=8}if((d&65535)!==(d>>>16^65535)){n.msg="invalid stored block lengths",e.mode=Cr;break}if(e.length=d&65535,d=0,g=0,e.mode=Xg,t===Xd)break t;case Xg:e.mode=Ob;case Ob:if(_=e.length,_){if(_>h&&(_=h),_>f&&(_=f),_===0)break t;s.set(i.subarray(o,o+_),u),h-=_,o+=_,f-=_,u+=_,e.length-=_;break}e.mode=wl;break;case Pb:for(;g<14;){if(h===0)break t;h--,d+=i[o++]<<g,g+=8}if(e.nlen=(d&31)+257,d>>>=5,g-=5,e.ndist=(d&31)+1,d>>>=5,g-=5,e.ncode=(d&15)+4,d>>>=4,g-=4,e.nlen>286||e.ndist>30){n.msg="too many length or distance symbols",e.mode=Cr;break}e.have=0,e.mode=Mb;case Mb:for(;e.have<e.ncode;){for(;g<3;){if(h===0)break t;h--,d+=i[o++]<<g,g+=8}e.lens[P[e.have++]]=d&7,d>>>=3,g-=3}for(;e.have<19;)e.lens[P[e.have++]]=0;if(e.lencode=e.lendyn,e.lenbits=7,H={bits:e.lenbits},V=Ef(LR,e.lens,0,19,e.lencode,0,e.work,H),e.lenbits=H.bits,V){n.msg="invalid code lengths set",e.mode=Cr;break}e.have=0,e.mode=jb;case jb:for(;e.have<e.nlen+e.ndist;){for(;j=e.lencode[d&(1<<e.lenbits)-1],R=j>>>24,Q=j>>>16&255,W=j&65535,!(R<=g);){if(h===0)break t;h--,d+=i[o++]<<g,g+=8}if(W<16)d>>>=R,g-=R,e.lens[e.have++]=W;else{if(W===16){for(T=R+2;g<T;){if(h===0)break t;h--,d+=i[o++]<<g,g+=8}if(d>>>=R,g-=R,e.have===0){n.msg="invalid bit length repeat",e.mode=Cr;break}q=e.lens[e.have-1],_=3+(d&3),d>>>=2,g-=2}else if(W===17){for(T=R+3;g<T;){if(h===0)break t;h--,d+=i[o++]<<g,g+=8}d>>>=R,g-=R,q=0,_=3+(d&7),d>>>=3,g-=3}else{for(T=R+7;g<T;){if(h===0)break t;h--,d+=i[o++]<<g,g+=8}d>>>=R,g-=R,q=0,_=11+(d&127),d>>>=7,g-=7}if(e.have+_>e.nlen+e.ndist){n.msg="invalid bit length repeat",e.mode=Cr;break}for(;_--;)e.lens[e.have++]=q}}if(e.mode===Cr)break;if(e.lens[256]===0){n.msg="invalid code -- missing end-of-block",e.mode=Cr;break}if(e.lenbits=9,H={bits:e.lenbits},V=Ef(b4,e.lens,0,e.nlen,e.lencode,0,e.work,H),e.lenbits=H.bits,V){n.msg="invalid literal/lengths set",e.mode=Cr;break}if(e.distbits=6,e.distcode=e.distdyn,H={bits:e.distbits},V=Ef(_4,e.lens,e.nlen,e.ndist,e.distcode,0,e.work,H),e.distbits=H.bits,V){n.msg="invalid distances set",e.mode=Cr;break}if(e.mode=Jd,t===Xd)break t;case Jd:e.mode=Zd;case Zd:if(h>=6&&f>=258){n.next_out=u,n.avail_out=f,n.next_in=o,n.avail_in=h,e.hold=d,e.bits=g,AR(n,S),u=n.next_out,s=n.output,f=n.avail_out,o=n.next_in,i=n.input,h=n.avail_in,d=e.hold,g=e.bits,e.mode===wl&&(e.back=-1);break}for(e.back=0;j=e.lencode[d&(1<<e.lenbits)-1],R=j>>>24,Q=j>>>16&255,W=j&65535,!(R<=g);){if(h===0)break t;h--,d+=i[o++]<<g,g+=8}if(Q&&(Q&240)===0){for(nt=R,mt=Q,bt=W;j=e.lencode[bt+((d&(1<<nt+mt)-1)>>nt)],R=j>>>24,Q=j>>>16&255,W=j&65535,!(nt+R<=g);){if(h===0)break t;h--,d+=i[o++]<<g,g+=8}d>>>=nt,g-=nt,e.back+=nt}if(d>>>=R,g-=R,e.back+=R,e.length=W,Q===0){e.mode=zb;break}if(Q&32){e.back=-1,e.mode=wl;break}if(Q&64){n.msg="invalid literal/length code",e.mode=Cr;break}e.extra=Q&15,e.mode=Fb;case Fb:if(e.extra){for(T=e.extra;g<T;){if(h===0)break t;h--,d+=i[o++]<<g,g+=8}e.length+=d&(1<<e.extra)-1,d>>>=e.extra,g-=e.extra,e.back+=e.extra}e.was=e.length,e.mode=Vb;case Vb:for(;j=e.distcode[d&(1<<e.distbits)-1],R=j>>>24,Q=j>>>16&255,W=j&65535,!(R<=g);){if(h===0)break t;h--,d+=i[o++]<<g,g+=8}if((Q&240)===0){for(nt=R,mt=Q,bt=W;j=e.distcode[bt+((d&(1<<nt+mt)-1)>>nt)],R=j>>>24,Q=j>>>16&255,W=j&65535,!(nt+R<=g);){if(h===0)break t;h--,d+=i[o++]<<g,g+=8}d>>>=nt,g-=nt,e.back+=nt}if(d>>>=R,g-=R,e.back+=R,Q&64){n.msg="invalid distance code",e.mode=Cr;break}e.offset=W,e.extra=Q&15,e.mode=Bb;case Bb:if(e.extra){for(T=e.extra;g<T;){if(h===0)break t;h--,d+=i[o++]<<g,g+=8}e.offset+=d&(1<<e.extra)-1,d>>>=e.extra,g-=e.extra,e.back+=e.extra}if(e.offset>e.dmax){n.msg="invalid distance too far back",e.mode=Cr;break}e.mode=Ub;case Ub:if(f===0)break t;if(_=S-f,e.offset>_){if(_=e.offset-_,_>e.whave&&e.sane){n.msg="invalid distance too far back",e.mode=Cr;break}_>e.wnext?(_-=e.wnext,N=e.wsize-_):N=e.wnext-_,_>e.length&&(_=e.length),M=e.window}else M=s,N=u-e.offset,_=e.length;_>f&&(_=f),f-=_,e.length-=_;do s[u++]=M[N++];while(--_);e.length===0&&(e.mode=Zd);break;case zb:if(f===0)break t;s[u++]=e.length,f--,e.mode=Zd;break;case Jg:if(e.wrap){for(;g<32;){if(h===0)break t;h--,d|=i[o++]<<g,g+=8}if(S-=f,n.total_out+=S,e.total+=S,e.wrap&4&&S&&(n.adler=e.check=e.flags?jo(e.check,s,S,u-S):W0(e.check,s,S,u-S)),S=f,e.wrap&4&&(e.flags?d:Gb(d))!==e.check){n.msg="incorrect data check",e.mode=Cr;break}d=0,g=0}e.mode=qb;case qb:if(e.wrap&&e.flags){for(;g<32;){if(h===0)break t;h--,d+=i[o++]<<g,g+=8}if(e.wrap&4&&d!==(e.total&4294967295)){n.msg="incorrect length check",e.mode=Cr;break}d=0,g=0}e.mode=Hb;case Hb:V=DR;break t;case Cr:V=w4;break t;case S4:return x4;case A4:default:return Fs}return n.next_out=u,n.avail_out=f,n.next_in=o,n.avail_in=h,e.hold=d,e.bits=g,(e.wsize||S!==n.avail_out&&e.mode<Cr&&(e.mode<Jg||t!==xb))&&R4(n,n.output,n.next_out,S-n.avail_out),w-=n.avail_in,S-=n.avail_out,n.total_in+=w,n.total_out+=S,e.total+=S,e.wrap&4&&S&&(n.adler=e.check=e.flags?jo(e.check,s,S,n.next_out-S):W0(e.check,s,S,n.next_out-S)),n.data_type=e.bits+(e.last?64:0)+(e.mode===wl?128:0)+(e.mode===Jd||e.mode===Xg?256:0),(w===0&&S===0||t===xb)&&V===sc&&(V=OR),V},qR=n=>{if(uc(n))return Fs;let t=n.state;return t.window&&(t.window=null),n.state=null,sc},HR=(n,t)=>{if(uc(n))return Fs;const e=n.state;return(e.wrap&2)===0?Fs:(e.head=t,t.done=!1,sc)},GR=(n,t)=>{const e=t.length;let i,s,o;return uc(n)||(i=n.state,i.wrap!==0&&i.mode!==Fp)?Fs:i.mode===Fp&&(s=1,s=W0(s,t,e,0),s!==i.check)?w4:(o=R4(n,t,e,e),o?(i.mode=S4,x4):(i.havedict=1,sc))};var $R=T4,YR=N4,WR=E4,KR=BR,QR=C4,XR=zR,JR=qR,ZR=HR,tL=GR,eL="pako inflate (from Nodeca project)",xl={inflateReset:$R,inflateReset2:YR,inflateResetKeep:WR,inflateInit:KR,inflateInit2:QR,inflate:XR,inflateEnd:JR,inflateGetHeader:ZR,inflateSetDictionary:tL,inflateInfo:eL};function nL(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var rL=nL;const L4=Object.prototype.toString,{Z_NO_FLUSH:iL,Z_FINISH:aL,Z_OK:Ff,Z_STREAM_END:e0,Z_NEED_DICT:n0,Z_STREAM_ERROR:sL,Z_DATA_ERROR:Yb,Z_MEM_ERROR:oL}=g4;function Qf(n){this.options=y4.assign({chunkSize:1024*64,windowBits:15,to:""},n||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(n&&n.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15)===0&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new xR,this.strm.avail_out=0;let e=xl.inflateInit2(this.strm,t.windowBits);if(e!==Ff)throw new Error(K0[e]);if(this.header=new rL,xl.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=Q0.string2buf(t.dictionary):L4.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(e=xl.inflateSetDictionary(this.strm,t.dictionary),e!==Ff)))throw new Error(K0[e])}Qf.prototype.push=function(n,t){const e=this.strm,i=this.options.chunkSize,s=this.options.dictionary;let o,u,h;if(this.ended)return!1;for(t===~~t?u=t:u=t===!0?aL:iL,L4.call(n)==="[object ArrayBuffer]"?e.input=new Uint8Array(n):e.input=n,e.next_in=0,e.avail_in=e.input.length;;){for(e.avail_out===0&&(e.output=new Uint8Array(i),e.next_out=0,e.avail_out=i),o=xl.inflate(e,u),o===n0&&s&&(o=xl.inflateSetDictionary(e,s),o===Ff?o=xl.inflate(e,u):o===Yb&&(o=n0));e.avail_in>0&&o===e0&&e.state.wrap>0&&n[e.next_in]!==0;)xl.inflateReset(e),o=xl.inflate(e,u);switch(o){case sL:case Yb:case n0:case oL:return this.onEnd(o),this.ended=!0,!1}if(h=e.avail_out,e.next_out&&(e.avail_out===0||o===e0))if(this.options.to==="string"){let f=Q0.utf8border(e.output,e.next_out),d=e.next_out-f,g=Q0.buf2string(e.output,f);e.next_out=d,e.avail_out=i-d,d&&e.output.set(e.output.subarray(f,f+d),0),this.onData(g)}else this.onData(e.output.length===e.next_out?e.output:e.output.subarray(0,e.next_out));if(!(o===Ff&&h===0)){if(o===e0)return o=xl.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,!0;if(e.avail_in===0)break}}return!0};Qf.prototype.onData=function(n){this.chunks.push(n)};Qf.prototype.onEnd=function(n){n===Ff&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=y4.flattenChunks(this.chunks)),this.chunks=[],this.err=n,this.msg=this.strm.msg};function lL(n,t){const e=new Qf(t);if(e.push(n),e.err)throw e.msg||K0[e.err];return e.result}var uL=Qf,cL=lL,hL={Inflate:uL,inflate:cL};const{Inflate:fL,inflate:dL}=hL;var Wb=fL,pL=dL;const I4=[];for(let n=0;n<256;n++){let t=n;for(let e=0;e<8;e++)t&1?t=3988292384^t>>>1:t=t>>>1;I4[n]=t}const Kb=4294967295;function mL(n,t,e){let i=n;for(let s=0;s<e;s++)i=I4[(i^t[s])&255]^i>>>8;return i}function gL(n,t){return(mL(Kb,n,t)^Kb)>>>0}function Qb(n,t,e){const i=n.readUint32(),s=gL(new Uint8Array(n.buffer,n.byteOffset+n.offset-t-4,t),t);if(s!==i)throw new Error(`CRC mismatch for chunk ${e}. Expected ${i}, found ${s}`)}function D4(n,t,e){for(let i=0;i<e;i++)t[i]=n[i]}function k4(n,t,e,i){let s=0;for(;s<i;s++)t[s]=n[s];for(;s<e;s++)t[s]=n[s]+t[s-i]&255}function O4(n,t,e,i){let s=0;if(e.length===0)for(;s<i;s++)t[s]=n[s];else for(;s<i;s++)t[s]=n[s]+e[s]&255}function P4(n,t,e,i,s){let o=0;if(e.length===0){for(;o<s;o++)t[o]=n[o];for(;o<i;o++)t[o]=n[o]+(t[o-s]>>1)&255}else{for(;o<s;o++)t[o]=n[o]+(e[o]>>1)&255;for(;o<i;o++)t[o]=n[o]+(t[o-s]+e[o]>>1)&255}}function M4(n,t,e,i,s){let o=0;if(e.length===0){for(;o<s;o++)t[o]=n[o];for(;o<i;o++)t[o]=n[o]+t[o-s]&255}else{for(;o<s;o++)t[o]=n[o]+e[o]&255;for(;o<i;o++)t[o]=n[o]+yL(t[o-s],e[o],e[o-s])&255}}function yL(n,t,e){const i=n+t-e,s=Math.abs(i-n),o=Math.abs(i-t),u=Math.abs(i-e);return s<=o&&s<=u?n:o<=u?t:e}function vL(n,t,e,i,s,o){switch(n){case 0:D4(t,e,s);break;case 1:k4(t,e,s,o);break;case 2:O4(t,e,i,s);break;case 3:P4(t,e,i,s,o);break;case 4:M4(t,e,i,s,o);break;default:throw new Error(`Unsupported filter: ${n}`)}}const bL=new Uint16Array([255]),_L=new Uint8Array(bL.buffer),wL=_L[0]===255;function xL(n){const{data:t,width:e,height:i,channels:s,depth:o}=n,u=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],h=Math.ceil(o/8)*s,f=new Uint8Array(i*e*h);let d=0;for(let g=0;g<7;g++){const w=u[g],S=Math.ceil((e-w.x)/w.xStep),_=Math.ceil((i-w.y)/w.yStep);if(S<=0||_<=0)continue;const N=S*h,M=new Uint8Array(N);for(let j=0;j<_;j++){const R=t[d++],Q=t.subarray(d,d+N);d+=N;const W=new Uint8Array(N);vL(R,Q,W,M,N,h),M.set(W);for(let nt=0;nt<S;nt++){const mt=w.x+nt*w.xStep,bt=w.y+j*w.yStep;if(!(mt>=e||bt>=i))for(let q=0;q<h;q++)f[(bt*e+mt)*h+q]=W[nt*h+q]}}}if(o===16){const g=new Uint16Array(f.buffer);if(wL)for(let w=0;w<g.length;w++)g[w]=SL(g[w]);return g}else return f}function SL(n){return(n&255)<<8|n>>8&255}const AL=new Uint16Array([255]),EL=new Uint8Array(AL.buffer),TL=EL[0]===255,NL=new Uint8Array(0);function Xb(n){const{data:t,width:e,height:i,channels:s,depth:o}=n,u=Math.ceil(o/8)*s,h=Math.ceil(o/8*s*e),f=new Uint8Array(i*h);let d=NL,g=0,w,S;for(let _=0;_<i;_++){switch(w=t.subarray(g+1,g+1+h),S=f.subarray(_*h,(_+1)*h),t[g]){case 0:D4(w,S,h);break;case 1:k4(w,S,h,u);break;case 2:O4(w,S,d,h);break;case 3:P4(w,S,d,h,u);break;case 4:M4(w,S,d,h,u);break;default:throw new Error(`Unsupported filter: ${t[g]}`)}d=S,g+=h+1}if(o===16){const _=new Uint16Array(f.buffer);if(TL)for(let N=0;N<_.length;N++)_[N]=CL(_[N]);return _}else return f}function CL(n){return(n&255)<<8|n>>8&255}const pp=Uint8Array.of(137,80,78,71,13,10,26,10);function Jb(n){if(!RL(n.readBytes(pp.length)))throw new Error("wrong PNG signature")}function RL(n){if(n.length<pp.length)return!1;for(let t=0;t<pp.length;t++)if(n[t]!==pp[t])return!1;return!0}const LL="tEXt",IL=0,j4=new TextDecoder("latin1");function DL(n){if(OL(n),n.length===0||n.length>79)throw new Error("keyword length must be between 1 and 79")}const kL=/^[\u0000-\u00FF]*$/;function OL(n){if(!kL.test(n))throw new Error("invalid latin1 text")}function PL(n,t,e){const i=F4(t);n[i]=ML(t,e-i.length-1)}function F4(n){for(n.mark();n.readByte()!==IL;);const t=n.offset;n.reset();const e=j4.decode(n.readBytes(t-n.offset-1));return n.skip(1),DL(e),e}function ML(n,t){return j4.decode(n.readBytes(t))}const fs={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},r0={UNKNOWN:-1,DEFLATE:0},Zb={UNKNOWN:-1,ADAPTIVE:0},i0={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},tp={NONE:0,BACKGROUND:1,PREVIOUS:2},a0={SOURCE:0,OVER:1};class jL extends l2{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(t,e={}){super(t);const{checkCrc:i=!1}=e;this._checkCrc=i,this._inflator=new Wb,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=r0.UNKNOWN,this._filterMethod=Zb.UNKNOWN,this._interlaceMethod=i0.UNKNOWN,this._colorType=fs.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(Jb(this);!this._end;){const t=this.readUint32(),e=this.readChars(4);this.decodeChunk(t,e)}return this.decodeImage(),this._png}decodeApng(){for(Jb(this);!this._end;){const t=this.readUint32(),e=this.readChars(4);this.decodeApngChunk(t,e)}return this.decodeApngImage(),this._apng}decodeChunk(t,e){const i=this.offset;switch(e){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(t);break;case"IDAT":this.decodeIDAT(t);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(t);break;case"iCCP":this.decodeiCCP(t);break;case LL:PL(this._png.text,this,t);break;case"pHYs":this.decodepHYs();break;default:this.skip(t);break}if(this.offset-i!==t)throw new Error(`Length mismatch while decoding chunk ${e}`);this._checkCrc?Qb(this,t+4,e):this.skip(4)}decodeApngChunk(t,e){const i=this.offset;switch(e!=="fdAT"&&e!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),e){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(t);break;default:this.decodeChunk(t,e),this.offset=i+t;break}if(this.offset-i!==t)throw new Error(`Length mismatch while decoding chunk ${e}`);this._checkCrc?Qb(this,t+4,e):this.skip(4)}decodeIHDR(){const t=this._png;t.width=this.readUint32(),t.height=this.readUint32(),t.depth=FL(this.readUint8());const e=this.readUint8();this._colorType=e;let i;switch(e){case fs.GREYSCALE:i=1;break;case fs.TRUECOLOUR:i=3;break;case fs.INDEXED_COLOUR:i=1;break;case fs.GREYSCALE_ALPHA:i=2;break;case fs.TRUECOLOUR_ALPHA:i=4;break;case fs.UNKNOWN:default:throw new Error(`Unknown color type: ${e}`)}if(this._png.channels=i,this._compressionMethod=this.readUint8(),this._compressionMethod!==r0.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const t={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(t)}decodePLTE(t){if(t%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${t}`);const e=t/3;this._hasPalette=!0;const i=[];this._palette=i;for(let s=0;s<e;s++)i.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(t){this._writingDataChunks=!0;const e=t,i=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,i,e)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodeFDAT(t){this._writingDataChunks=!0;let e=t,i=this.offset+this.byteOffset;if(i+=4,e-=4,this._inflator.push(new Uint8Array(this.buffer,i,e)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodetRNS(t){switch(this._colorType){case fs.GREYSCALE:case fs.TRUECOLOUR:{if(t%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${t}`);if(t/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${t/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(t/2);for(let e=0;e<t/2;e++)this._transparency[e]=this.readUint16();break}case fs.INDEXED_COLOUR:{if(t>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${t} vs ${this._palette.length})`);let e=0;for(;e<t;e++){const i=this.readByte();this._palette[e].push(i)}for(;e<this._palette.length;e++)this._palette[e].push(255);break}case fs.UNKNOWN:case fs.GREYSCALE_ALPHA:case fs.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(t){const e=F4(this),i=this.readUint8();if(i!==r0.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${i}`);const s=this.readBytes(t-e.length-2);this._png.iccEmbeddedProfile={name:e,profile:pL(s)}}decodepHYs(){const t=this.readUint32(),e=this.readUint32(),i=this.readByte();this._png.resolution={x:t,y:e,unit:i}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let t=0;t<this._numberOfFrames;t++){const e={sequenceNumber:this._frames[t].sequenceNumber,delayNumber:this._frames[t].delayNumber,delayDenominator:this._frames[t].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},i=this._frames.at(t);if(i){if(i.data=Xb({data:i.data,width:i.width,height:i.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),t===0||i.xOffset===0&&i.yOffset===0&&i.width===this._png.width&&i.height===this._png.height)e.data=i.data;else{const s=this._apng.frames.at(t-1);this.disposeFrame(i,s,e),this.addFrameDataToCanvas(e,i)}this._apng.frames.push(e)}}return this._apng}disposeFrame(t,e,i){switch(t.disposeOp){case tp.NONE:break;case tp.BACKGROUND:for(let s=0;s<this._png.height;s++)for(let o=0;o<this._png.width;o++){const u=(s*t.width+o)*this._png.channels;for(let h=0;h<this._png.channels;h++)i.data[u+h]=0}break;case tp.PREVIOUS:i.data.set(e.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(t,e){const i=1<<this._png.depth,s=(o,u)=>{const h=((o+e.yOffset)*this._png.width+e.xOffset+u)*this._png.channels,f=(o*e.width+u)*this._png.channels;return{index:h,frameIndex:f}};switch(e.blendOp){case a0.SOURCE:for(let o=0;o<e.height;o++)for(let u=0;u<e.width;u++){const{index:h,frameIndex:f}=s(o,u);for(let d=0;d<this._png.channels;d++)t.data[h+d]=e.data[f+d]}break;case a0.OVER:for(let o=0;o<e.height;o++)for(let u=0;u<e.width;u++){const{index:h,frameIndex:f}=s(o,u);for(let d=0;d<this._png.channels;d++){const g=e.data[f+this._png.channels-1]/i,w=d%(this._png.channels-1)===0?1:e.data[f+d],S=Math.floor(g*w+(1-g)*t.data[h+d]);t.data[h+d]+=S}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const t=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==Zb.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===i0.NO_INTERLACE)this._png.data=Xb({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===i0.ADAM7)this._png.data=xL({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const t=this._inflator.result,e=this._frames.at(-1);e?e.data=t:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:tp.NONE,blendOp:a0.SOURCE,data:t}),this._inflator=new Wb,this._writingDataChunks=!1}}function FL(n){if(n!==1&&n!==2&&n!==4&&n!==8&&n!==16)throw new Error(`invalid bit depth: ${n}`);return n}var t_;(function(n){n[n.UNKNOWN=0]="UNKNOWN",n[n.METRE=1]="METRE"})(t_||(t_={}));function VL(n,t){return new jL(n,t).decode()}var tn=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function s0(){tn.console&&typeof tn.console.log=="function"&&tn.console.log.apply(tn.console,arguments)}var fr={log:s0,warn:function(n){tn.console&&(typeof tn.console.warn=="function"?tn.console.warn.apply(tn.console,arguments):s0.call(null,arguments))},error:function(n){tn.console&&(typeof tn.console.error=="function"?tn.console.error.apply(tn.console,arguments):s0(n))}};function o0(n,t,e){var i=new XMLHttpRequest;i.open("GET",n),i.responseType="blob",i.onload=function(){Ku(i.response,t,e)},i.onerror=function(){fr.error("could not download file")},i.send()}function e_(n){var t=new XMLHttpRequest;t.open("HEAD",n,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function ep(n){try{n.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),n.dispatchEvent(t)}}var Ku=tn.saveAs||((typeof window>"u"?"undefined":Jn(window))!=="object"||window!==tn?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(n,t,e){var i=tn.URL||tn.webkitURL,s=document.createElement("a");t=t||n.name||"download",s.download=t,s.rel="noopener",typeof n=="string"?(s.href=n,s.origin!==location.origin?e_(s.href)?o0(n,t,e):ep(s,s.target="_blank"):ep(s)):(s.href=i.createObjectURL(n),setTimeout(function(){i.revokeObjectURL(s.href)},4e4),setTimeout(function(){ep(s)},0))}:"msSaveOrOpenBlob"in navigator?function(n,t,e){if(t=t||n.name||"download",typeof n=="string")if(e_(n))o0(n,t,e);else{var i=document.createElement("a");i.href=n,i.target="_blank",setTimeout(function(){ep(i)})}else navigator.msSaveOrOpenBlob((function(s,o){return o===void 0?o={autoBom:!1}:Jn(o)!=="object"&&(fr.warn("Deprecated: Expected third argument to be a object"),o={autoBom:!o}),o.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(s.type)?new Blob(["\uFEFF",s],{type:s.type}):s})(n,e),t)}:function(n,t,e,i){if((i=i||open("","_blank"))&&(i.document.title=i.document.body.innerText="downloading..."),typeof n=="string")return o0(n,t,e);var s=n.type==="application/octet-stream",o=/constructor/i.test(tn.HTMLElement)||tn.safari,u=/CriOS\/[\d]+/.test(navigator.userAgent);if((u||s&&o)&&(typeof FileReader>"u"?"undefined":Jn(FileReader))==="object"){var h=new FileReader;h.onloadend=function(){var g=h.result;g=u?g:g.replace(/^data:[^;]*;/,"data:attachment/file;"),i?i.location.href=g:location=g,i=null},h.readAsDataURL(n)}else{var f=tn.URL||tn.webkitURL,d=f.createObjectURL(n);i?i.location=d:location.href=d,i=null,setTimeout(function(){f.revokeObjectURL(d)},4e4)}});function V4(n){var t;n=n||"",this.ok=!1,n.charAt(0)=="#"&&(n=n.substr(1,6)),n={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[n=(n=n.replace(/ /g,"")).toLowerCase()]||n;for(var e=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(h){return[parseInt(h[1]),parseInt(h[2]),parseInt(h[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(h){return[parseInt(h[1],16),parseInt(h[2],16),parseInt(h[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(h){return[parseInt(h[1]+h[1],16),parseInt(h[2]+h[2],16),parseInt(h[3]+h[3],16)]}}],i=0;i<e.length;i++){var s=e[i].re,o=e[i].process,u=s.exec(n);u&&(t=o(u),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var h=this.r.toString(16),f=this.g.toString(16),d=this.b.toString(16);return h.length==1&&(h="0"+h),f.length==1&&(f="0"+f),d.length==1&&(d="0"+d),"#"+h+f+d}}var mp=tn.atob.bind(tn),n_=tn.btoa.bind(tn);function l0(n,t){var e=n[0],i=n[1],s=n[2],o=n[3];e=fa(e,i,s,o,t[0],7,-680876936),o=fa(o,e,i,s,t[1],12,-389564586),s=fa(s,o,e,i,t[2],17,606105819),i=fa(i,s,o,e,t[3],22,-1044525330),e=fa(e,i,s,o,t[4],7,-176418897),o=fa(o,e,i,s,t[5],12,1200080426),s=fa(s,o,e,i,t[6],17,-1473231341),i=fa(i,s,o,e,t[7],22,-45705983),e=fa(e,i,s,o,t[8],7,1770035416),o=fa(o,e,i,s,t[9],12,-1958414417),s=fa(s,o,e,i,t[10],17,-42063),i=fa(i,s,o,e,t[11],22,-1990404162),e=fa(e,i,s,o,t[12],7,1804603682),o=fa(o,e,i,s,t[13],12,-40341101),s=fa(s,o,e,i,t[14],17,-1502002290),e=da(e,i=fa(i,s,o,e,t[15],22,1236535329),s,o,t[1],5,-165796510),o=da(o,e,i,s,t[6],9,-1069501632),s=da(s,o,e,i,t[11],14,643717713),i=da(i,s,o,e,t[0],20,-373897302),e=da(e,i,s,o,t[5],5,-701558691),o=da(o,e,i,s,t[10],9,38016083),s=da(s,o,e,i,t[15],14,-660478335),i=da(i,s,o,e,t[4],20,-405537848),e=da(e,i,s,o,t[9],5,568446438),o=da(o,e,i,s,t[14],9,-1019803690),s=da(s,o,e,i,t[3],14,-187363961),i=da(i,s,o,e,t[8],20,1163531501),e=da(e,i,s,o,t[13],5,-1444681467),o=da(o,e,i,s,t[2],9,-51403784),s=da(s,o,e,i,t[7],14,1735328473),e=pa(e,i=da(i,s,o,e,t[12],20,-1926607734),s,o,t[5],4,-378558),o=pa(o,e,i,s,t[8],11,-2022574463),s=pa(s,o,e,i,t[11],16,1839030562),i=pa(i,s,o,e,t[14],23,-35309556),e=pa(e,i,s,o,t[1],4,-1530992060),o=pa(o,e,i,s,t[4],11,1272893353),s=pa(s,o,e,i,t[7],16,-155497632),i=pa(i,s,o,e,t[10],23,-1094730640),e=pa(e,i,s,o,t[13],4,681279174),o=pa(o,e,i,s,t[0],11,-358537222),s=pa(s,o,e,i,t[3],16,-722521979),i=pa(i,s,o,e,t[6],23,76029189),e=pa(e,i,s,o,t[9],4,-640364487),o=pa(o,e,i,s,t[12],11,-421815835),s=pa(s,o,e,i,t[15],16,530742520),e=ma(e,i=pa(i,s,o,e,t[2],23,-995338651),s,o,t[0],6,-198630844),o=ma(o,e,i,s,t[7],10,1126891415),s=ma(s,o,e,i,t[14],15,-1416354905),i=ma(i,s,o,e,t[5],21,-57434055),e=ma(e,i,s,o,t[12],6,1700485571),o=ma(o,e,i,s,t[3],10,-1894986606),s=ma(s,o,e,i,t[10],15,-1051523),i=ma(i,s,o,e,t[1],21,-2054922799),e=ma(e,i,s,o,t[8],6,1873313359),o=ma(o,e,i,s,t[15],10,-30611744),s=ma(s,o,e,i,t[6],15,-1560198380),i=ma(i,s,o,e,t[13],21,1309151649),e=ma(e,i,s,o,t[4],6,-145523070),o=ma(o,e,i,s,t[11],10,-1120210379),s=ma(s,o,e,i,t[2],15,718787259),i=ma(i,s,o,e,t[9],21,-343485551),n[0]=fu(e,n[0]),n[1]=fu(i,n[1]),n[2]=fu(s,n[2]),n[3]=fu(o,n[3])}function fm(n,t,e,i,s,o){return t=fu(fu(t,n),fu(i,o)),fu(t<<s|t>>>32-s,e)}function fa(n,t,e,i,s,o,u){return fm(t&e|~t&i,n,t,s,o,u)}function da(n,t,e,i,s,o,u){return fm(t&i|e&~i,n,t,s,o,u)}function pa(n,t,e,i,s,o,u){return fm(t^e^i,n,t,s,o,u)}function ma(n,t,e,i,s,o,u){return fm(e^(t|~i),n,t,s,o,u)}function B4(n){var t,e=n.length,i=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=n.length;t+=64)l0(i,BL(n.substring(t-64,t)));n=n.substring(t-64);var s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<n.length;t++)s[t>>2]|=n.charCodeAt(t)<<(t%4<<3);if(s[t>>2]|=128<<(t%4<<3),t>55)for(l0(i,s),t=0;t<16;t++)s[t]=0;return s[14]=8*e,l0(i,s),i}function BL(n){var t,e=[];for(t=0;t<64;t+=4)e[t>>2]=n.charCodeAt(t)+(n.charCodeAt(t+1)<<8)+(n.charCodeAt(t+2)<<16)+(n.charCodeAt(t+3)<<24);return e}var r_="0123456789abcdef".split("");function UL(n){for(var t="",e=0;e<4;e++)t+=r_[n>>8*e+4&15]+r_[n>>8*e&15];return t}function zL(n){return String.fromCharCode(255&n,(65280&n)>>8,(16711680&n)>>16,(4278190080&n)>>24)}function X0(n){return B4(n).map(zL).join("")}var qL=(function(n){for(var t=0;t<n.length;t++)n[t]=UL(n[t]);return n.join("")})(B4("hello"))!="5d41402abc4b2a76b9719d911017c592";function fu(n,t){if(qL){var e=(65535&n)+(65535&t);return(n>>16)+(t>>16)+(e>>16)<<16|65535&e}return n+t&4294967295}function J0(n,t){var e,i,s,o;if(n!==e){for(var u=(s=n,o=1+(256/n.length|0),new Array(o+1).join(s)),h=[],f=0;f<256;f++)h[f]=f;var d=0;for(f=0;f<256;f++){var g=h[f];d=(d+g+u.charCodeAt(f))%256,h[f]=h[d],h[d]=g}e=n,i=h}else h=i;var w=t.length,S=0,_=0,N="";for(f=0;f<w;f++)_=(_+(g=h[S=(S+1)%256]))%256,h[S]=h[_],h[_]=g,u=h[(h[S]+h[_])%256],N+=String.fromCharCode(t.charCodeAt(f)^u);return N}var i_={print:4,modify:8,copy:16,"annot-forms":32};function Jc(n,t,e,i){this.v=1,this.r=2;var s=192;n.forEach(function(h){if(i_.perm!==void 0)throw new Error("Invalid permission: "+h);s+=i_[h]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var o=(t+this.padding).substr(0,32),u=(e+this.padding).substr(0,32);this.O=this.processOwnerPassword(o,u),this.P=-(1+(255^s)),this.encryptionKey=X0(o+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(i)).substr(0,5),this.U=J0(this.encryptionKey,this.padding)}function Zc(n){if(/[^\u0000-\u00ff]/.test(n))throw new Error("Invalid PDF Name Object: "+n+", Only accept ASCII characters.");for(var t="",e=n.length,i=0;i<e;i++){var s=n.charCodeAt(i);t+=s<33||s===35||s===37||s===40||s===41||s===47||s===60||s===62||s===91||s===93||s===123||s===125||s>126?"#"+("0"+s.toString(16)).slice(-2):n[i]}return t}function a_(n){if(Jn(n)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(e,i,s){if(s=s||!1,typeof e!="string"||typeof i!="function"||typeof s!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(e)||(t[e]={});var o=Math.random().toString(35);return t[e][o]=[i,!!s],o},this.unsubscribe=function(e){for(var i in t)if(t[i][e])return delete t[i][e],Object.keys(t[i]).length===0&&delete t[i],!0;return!1},this.publish=function(e){if(t.hasOwnProperty(e)){var i=Array.prototype.slice.call(arguments,1),s=[];for(var o in t[e]){var u=t[e][o];try{u[0].apply(n,i)}catch(h){tn.console&&fr.error("jsPDF PubSub Error",h.message,h)}u[1]&&s.push(o)}s.length&&s.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function Vp(n){if(!(this instanceof Vp))return new Vp(n);var t="opacity,stroke-opacity".split(",");for(var e in n)n.hasOwnProperty(e)&&t.indexOf(e)>=0&&(this[e]=n[e]);this.id="",this.objectNumber=-1}function U4(n,t){this.gState=n,this.matrix=t,this.id="",this.objectNumber=-1}function Qu(n,t,e,i,s){if(!(this instanceof Qu))return new Qu(n,t,e,i,s);this.type=n==="axial"?2:3,this.coords=t,this.colors=e,U4.call(this,i,s)}function th(n,t,e,i,s){if(!(this instanceof th))return new th(n,t,e,i,s);this.boundingBox=n,this.xStep=t,this.yStep=e,this.stream="",this.cloneIndex=0,U4.call(this,i,s)}function Te(n){var t,e=typeof arguments[0]=="string"?arguments[0]:"p",i=arguments[1],s=arguments[2],o=arguments[3],u=[],h=1,f=16,d="S",g=null;Jn(n=n||{})==="object"&&(e=n.orientation,i=n.unit||i,s=n.format||s,o=n.compress||n.compressPdf||o,(g=n.encryption||null)!==null&&(g.userPassword=g.userPassword||"",g.ownerPassword=g.ownerPassword||"",g.userPermissions=g.userPermissions||[]),h=typeof n.userUnit=="number"?Math.abs(n.userUnit):1,n.precision!==void 0&&(t=n.precision),n.floatPrecision!==void 0&&(f=n.floatPrecision),d=n.defaultPathOperation||"S"),u=n.filters||(o===!0?["FlateEncode"]:u),i=i||"mm",e=(""+(e||"P")).toLowerCase();var w=n.putOnlyUsedFonts||!1,S={},_={internal:{},__private__:{}};_.__private__.PubSub=a_;var N="1.3",M=_.__private__.getPdfVersion=function(){return N};_.__private__.setPdfVersion=function(x){N=x};var j={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};_.__private__.getPageFormats=function(){return j};var R=_.__private__.getPageFormat=function(x){return j[x]};s=s||"a4";var Q="compat",W="advanced",nt=Q;function mt(){this.saveGraphicsState(),Z(new ae(Ye,0,0,-Ye,0,xa()*Ye).toString()+" cm"),this.setFontSize(this.getFontSize()/Ye),d="n",nt=W}function bt(){this.restoreGraphicsState(),d="S",nt=Q}var q=_.__private__.combineFontStyleAndFontWeight=function(x,B){if(x=="bold"&&B=="normal"||x=="bold"&&B==400||x=="normal"&&B=="italic"||x=="bold"&&B=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return B&&(x=B==400||B==="normal"?x==="italic"?"italic":"normal":B!=700&&B!=="bold"||x!=="normal"?(B==700?"bold":B)+""+x:"bold"),x};_.advancedAPI=function(x){var B=nt===Q;return B&&mt.call(this),typeof x!="function"||(x(this),B&&bt.call(this)),this},_.compatAPI=function(x){var B=nt===W;return B&&bt.call(this),typeof x!="function"||(x(this),B&&mt.call(this)),this},_.isAdvancedAPI=function(){return nt===W};var V,D=function(x){if(nt!==W)throw new Error(x+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},H=_.roundToPrecision=_.__private__.roundToPrecision=function(x,B){var it=t||B;if(isNaN(x)||isNaN(it))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return x.toFixed(it).replace(/0+$/,"")};V=_.hpf=_.__private__.hpf=typeof f=="number"?function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.hpf");return H(x,f)}:f==="smart"?function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.hpf");return H(x,x>-1&&x<1?16:5)}:function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.hpf");return H(x,16)};var T=_.f2=_.__private__.f2=function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.f2");return H(x,2)},P=_.__private__.f3=function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.f3");return H(x,3)},F=_.scale=_.__private__.scale=function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.scale");return nt===Q?x*Ye:nt===W?x:void 0},lt=function(x){return F((function(B){return nt===Q?xa()-B:nt===W?B:void 0})(x))};_.__private__.setPrecision=_.setPrecision=function(x){typeof parseInt(x,10)=="number"&&(t=parseInt(x,10))};var xt,ot="00000000000000000000000000000000",dt=_.__private__.getFileId=function(){return ot},ft=_.__private__.setFileId=function(x){return ot=x!==void 0&&/^[a-fA-F0-9]{32}$/.test(x)?x.toUpperCase():ot.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),g!==null&&(lr=new Jc(g.userPermissions,g.userPassword,g.ownerPassword,ot)),ot};_.setFileId=function(x){return ft(x),this},_.getFileId=function(){return dt()};var Nt=_.__private__.convertDateToPDFDate=function(x){var B=x.getTimezoneOffset(),it=B<0?"+":"-",ht=Math.floor(Math.abs(B/60)),_t=Math.abs(B%60),Gt=[it,tt(ht),"'",tt(_t),"'"].join("");return["D:",x.getFullYear(),tt(x.getMonth()+1),tt(x.getDate()),tt(x.getHours()),tt(x.getMinutes()),tt(x.getSeconds()),Gt].join("")},Wt=_.__private__.convertPDFDateToDate=function(x){var B=parseInt(x.substr(2,4),10),it=parseInt(x.substr(6,2),10)-1,ht=parseInt(x.substr(8,2),10),_t=parseInt(x.substr(10,2),10),Gt=parseInt(x.substr(12,2),10),Zt=parseInt(x.substr(14,2),10);return new Date(B,it,ht,_t,Gt,Zt,0)},$=_.__private__.setCreationDate=function(x){var B;if(x===void 0&&(x=new Date),x instanceof Date)B=Nt(x);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(x))throw new Error("Invalid argument passed to jsPDF.setCreationDate");B=x}return xt=B},O=_.__private__.getCreationDate=function(x){var B=xt;return x==="jsDate"&&(B=Wt(xt)),B};_.setCreationDate=function(x){return $(x),this},_.getCreationDate=function(x){return O(x)};var K,tt=_.__private__.padd2=function(x){return("0"+parseInt(x)).slice(-2)},st=_.__private__.padd2Hex=function(x){return("00"+(x=x.toString())).substr(x.length)},ut=0,yt=[],It=[],Rt=0,zt=[],Et=[],jt=!1,qt=It;_.__private__.setCustomOutputDestination=function(x){jt=!0,qt=x};var Mt=function(x){jt||(qt=x)};_.__private__.resetCustomOutputDestination=function(){jt=!1,qt=It};var Z=_.__private__.out=function(x){return x=x.toString(),Rt+=x.length+1,qt.push(x),qt},ne=_.__private__.write=function(x){return Z(arguments.length===1?x.toString():Array.prototype.join.call(arguments," "))},Ce=_.__private__.getArrayBuffer=function(x){for(var B=x.length,it=new ArrayBuffer(B),ht=new Uint8Array(it);B--;)ht[B]=x.charCodeAt(B);return it},ce=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];_.__private__.getStandardFonts=function(){return ce};var Ht=n.fontSize||16;_.__private__.setFontSize=_.setFontSize=function(x){return Ht=nt===W?x/Ye:x,this};var le,se=_.__private__.getFontSize=_.getFontSize=function(){return nt===Q?Ht:Ht*Ye},De=n.R2L||!1;_.__private__.setR2L=_.setR2L=function(x){return De=x,this},_.__private__.getR2L=_.getR2L=function(){return De};var Ae,Ke=_.__private__.setZoomMode=function(x){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(x))le=x;else if(isNaN(x)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(x)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+x+'" is not recognized.');le=x}else le=parseInt(x,10)};_.__private__.getZoomMode=function(){return le};var en,He=_.__private__.setPageMode=function(x){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(x)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+x+'" is not recognized.');Ae=x};_.__private__.getPageMode=function(){return Ae};var un=_.__private__.setLayoutMode=function(x){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(x)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+x+'" is not recognized.');en=x};_.__private__.getLayoutMode=function(){return en},_.__private__.setDisplayMode=_.setDisplayMode=function(x,B,it){return Ke(x),un(B),He(it),this};var ze={title:"",subject:"",author:"",keywords:"",creator:""};_.__private__.getDocumentProperty=function(x){if(Object.keys(ze).indexOf(x)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return ze[x]},_.__private__.getDocumentProperties=function(){return ze},_.__private__.setDocumentProperties=_.setProperties=_.setDocumentProperties=function(x){for(var B in ze)ze.hasOwnProperty(B)&&x[B]&&(ze[B]=x[B]);return this},_.__private__.setDocumentProperty=function(x,B){if(Object.keys(ze).indexOf(x)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return ze[x]=B};var ge,Ye,ve,Zn,nn,Re={},qe={},Xe=[],Ne={},En={},Pe={},Oe={},Tn=null,xe=0,Se=[],Je=new a_(_),Bt=n.hotfixes||[],ie={},Le={},Ie=[],ae=function x(B,it,ht,_t,Gt,Zt){if(!(this instanceof x))return new x(B,it,ht,_t,Gt,Zt);isNaN(B)&&(B=1),isNaN(it)&&(it=0),isNaN(ht)&&(ht=0),isNaN(_t)&&(_t=1),isNaN(Gt)&&(Gt=0),isNaN(Zt)&&(Zt=0),this._matrix=[B,it,ht,_t,Gt,Zt]};Object.defineProperty(ae.prototype,"sx",{get:function(){return this._matrix[0]},set:function(x){this._matrix[0]=x}}),Object.defineProperty(ae.prototype,"shy",{get:function(){return this._matrix[1]},set:function(x){this._matrix[1]=x}}),Object.defineProperty(ae.prototype,"shx",{get:function(){return this._matrix[2]},set:function(x){this._matrix[2]=x}}),Object.defineProperty(ae.prototype,"sy",{get:function(){return this._matrix[3]},set:function(x){this._matrix[3]=x}}),Object.defineProperty(ae.prototype,"tx",{get:function(){return this._matrix[4]},set:function(x){this._matrix[4]=x}}),Object.defineProperty(ae.prototype,"ty",{get:function(){return this._matrix[5]},set:function(x){this._matrix[5]=x}}),Object.defineProperty(ae.prototype,"a",{get:function(){return this._matrix[0]},set:function(x){this._matrix[0]=x}}),Object.defineProperty(ae.prototype,"b",{get:function(){return this._matrix[1]},set:function(x){this._matrix[1]=x}}),Object.defineProperty(ae.prototype,"c",{get:function(){return this._matrix[2]},set:function(x){this._matrix[2]=x}}),Object.defineProperty(ae.prototype,"d",{get:function(){return this._matrix[3]},set:function(x){this._matrix[3]=x}}),Object.defineProperty(ae.prototype,"e",{get:function(){return this._matrix[4]},set:function(x){this._matrix[4]=x}}),Object.defineProperty(ae.prototype,"f",{get:function(){return this._matrix[5]},set:function(x){this._matrix[5]=x}}),Object.defineProperty(ae.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(ae.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(ae.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(ae.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),ae.prototype.join=function(x){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(V).join(x)},ae.prototype.multiply=function(x){var B=x.sx*this.sx+x.shy*this.shx,it=x.sx*this.shy+x.shy*this.sy,ht=x.shx*this.sx+x.sy*this.shx,_t=x.shx*this.shy+x.sy*this.sy,Gt=x.tx*this.sx+x.ty*this.shx+this.tx,Zt=x.tx*this.shy+x.ty*this.sy+this.ty;return new ae(B,it,ht,_t,Gt,Zt)},ae.prototype.decompose=function(){var x=this.sx,B=this.shy,it=this.shx,ht=this.sy,_t=this.tx,Gt=this.ty,Zt=Math.sqrt(x*x+B*B),de=(x/=Zt)*it+(B/=Zt)*ht;it-=x*de,ht-=B*de;var be=Math.sqrt(it*it+ht*ht);return de/=be,x*(ht/=be)<B*(it/=be)&&(x=-x,B=-B,de=-de,Zt=-Zt),{scale:new ae(Zt,0,0,be,0,0),translate:new ae(1,0,0,1,_t,Gt),rotate:new ae(x,B,-B,x,0,0),skew:new ae(1,0,de,1,0,0)}},ae.prototype.toString=function(x){return this.join(" ")},ae.prototype.inversed=function(){var x=this.sx,B=this.shy,it=this.shx,ht=this.sy,_t=this.tx,Gt=this.ty,Zt=1/(x*ht-B*it),de=ht*Zt,be=-B*Zt,Fe=-it*Zt,ke=x*Zt;return new ae(de,be,Fe,ke,-de*_t-Fe*Gt,-be*_t-ke*Gt)},ae.prototype.applyToPoint=function(x){var B=x.x*this.sx+x.y*this.shx+this.tx,it=x.x*this.shy+x.y*this.sy+this.ty;return new ai(B,it)},ae.prototype.applyToRectangle=function(x){var B=this.applyToPoint(x),it=this.applyToPoint(new ai(x.x+x.w,x.y+x.h));return new Ia(B.x,B.y,it.x-B.x,it.y-B.y)},ae.prototype.clone=function(){var x=this.sx,B=this.shy,it=this.shx,ht=this.sy,_t=this.tx,Gt=this.ty;return new ae(x,B,it,ht,_t,Gt)},_.Matrix=ae;var wr=_.matrixMult=function(x,B){return B.multiply(x)},pi=new ae(1,0,0,1,0,0);_.unitMatrix=_.identityMatrix=pi;var ei=function(x,B){if(!En[x]){var it=(B instanceof Qu?"Sh":"P")+(Object.keys(Ne).length+1).toString(10);B.id=it,En[x]=it,Ne[it]=B,Je.publish("addPattern",B)}};_.ShadingPattern=Qu,_.TilingPattern=th,_.addShadingPattern=function(x,B){return D("addShadingPattern()"),ei(x,B),this},_.beginTilingPattern=function(x){D("beginTilingPattern()"),Da(x.boundingBox[0],x.boundingBox[1],x.boundingBox[2]-x.boundingBox[0],x.boundingBox[3]-x.boundingBox[1],x.matrix)},_.endTilingPattern=function(x,B){D("endTilingPattern()"),B.stream=Et[K].join(`
`),ei(x,B),Je.publish("endTilingPattern",B),Ie.pop().restore()};var ni,Hn=_.__private__.newObject=function(){var x=tr();return jr(x,!0),x},tr=_.__private__.newObjectDeferred=function(){return ut++,yt[ut]=function(){return Rt},ut},jr=function(x,B){return B=typeof B=="boolean"&&B,yt[x]=Rt,B&&Z(x+" 0 obj"),x},mi=_.__private__.newAdditionalObject=function(){var x={objId:tr(),content:""};return zt.push(x),x},ri=tr(),Mn=tr(),Yn=_.__private__.decodeColorString=function(x){var B=x.split(" ");if(B.length!==2||B[1]!=="g"&&B[1]!=="G")B.length!==5||B[4]!=="k"&&B[4]!=="K"||(B=[(1-B[0])*(1-B[3]),(1-B[1])*(1-B[3]),(1-B[2])*(1-B[3]),"r"]);else{var it=parseFloat(B[0]);B=[it,it,it,"r"]}for(var ht="#",_t=0;_t<3;_t++)ht+=("0"+Math.floor(255*parseFloat(B[_t])).toString(16)).slice(-2);return ht},Fr=_.__private__.encodeColorString=function(x){var B;typeof x=="string"&&(x={ch1:x});var it=x.ch1,ht=x.ch2,_t=x.ch3,Gt=x.ch4,Zt=x.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof it=="string"&&it.charAt(0)!=="#"){var de=new V4(it);if(de.ok)it=de.toHex();else if(!/^\d*\.?\d*$/.test(it))throw new Error('Invalid color "'+it+'" passed to jsPDF.encodeColorString.')}if(typeof it=="string"&&/^#[0-9A-Fa-f]{3}$/.test(it)&&(it="#"+it[1]+it[1]+it[2]+it[2]+it[3]+it[3]),typeof it=="string"&&/^#[0-9A-Fa-f]{6}$/.test(it)){var be=parseInt(it.substr(1),16);it=be>>16&255,ht=be>>8&255,_t=255&be}if(ht===void 0||Gt===void 0&&it===ht&&ht===_t)B=typeof it=="string"?it+" "+Zt[0]:x.precision===2?T(it/255)+" "+Zt[0]:P(it/255)+" "+Zt[0];else if(Gt===void 0||Jn(Gt)==="object"){if(Gt&&!isNaN(Gt.a)&&Gt.a===0)return["1.","1.","1.",Zt[1]].join(" ");B=typeof it=="string"?[it,ht,_t,Zt[1]].join(" "):x.precision===2?[T(it/255),T(ht/255),T(_t/255),Zt[1]].join(" "):[P(it/255),P(ht/255),P(_t/255),Zt[1]].join(" ")}else B=typeof it=="string"?[it,ht,_t,Gt,Zt[2]].join(" "):x.precision===2?[T(it),T(ht),T(_t),T(Gt),Zt[2]].join(" "):[P(it),P(ht),P(_t),P(Gt),Zt[2]].join(" ");return B},Ci=_.__private__.getFilters=function(){return u},ra=_.__private__.putStream=function(x){var B=(x=x||{}).data||"",it=x.filters||Ci(),ht=x.alreadyAppliedFilters||[],_t=x.addLength1||!1,Gt=B.length,Zt=x.objectId,de=function(E){return E};if(g!==null&&Zt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");g!==null&&(de=lr.encryptor(Zt,0));var be={};it===!0&&(it=["FlateEncode"]);var Fe=x.additionalKeyValues||[],ke=(be=Te.API.processDataByFilters!==void 0?Te.API.processDataByFilters(B,it):{data:B,reverseChain:[]}).reverseChain+(Array.isArray(ht)?ht.join(" "):ht.toString());if(be.data.length!==0&&(Fe.push({key:"Length",value:be.data.length}),_t===!0&&Fe.push({key:"Length1",value:Gt})),ke.length!=0)if(ke.split("/").length-1==1)Fe.push({key:"Filter",value:ke});else{Fe.push({key:"Filter",value:"["+ke+"]"});for(var mn=0;mn<Fe.length;mn+=1)if(Fe[mn].key==="DecodeParms"){for(var er=[],Gn=0;Gn<be.reverseChain.split("/").length-1;Gn+=1)er.push("null");er.push(Fe[mn].value),Fe[mn].value="["+er.join(" ")+"]"}}Z("<<");for(var m=0;m<Fe.length;m++)Z("/"+Fe[m].key+" "+Fe[m].value);Z(">>"),be.data.length!==0&&(Z("stream"),Z(de(be.data)),Z("endstream"))},gs=_.__private__.putPage=function(x){var B=x.number,it=x.data,ht=x.objId,_t=x.contentsObjId;jr(ht,!0),Z("<</Type /Page"),Z("/Parent "+x.rootDictionaryObjId+" 0 R"),Z("/Resources "+x.resourceDictionaryObjId+" 0 R"),Z("/MediaBox ["+parseFloat(V(x.mediaBox.bottomLeftX))+" "+parseFloat(V(x.mediaBox.bottomLeftY))+" "+V(x.mediaBox.topRightX)+" "+V(x.mediaBox.topRightY)+"]"),x.cropBox!==null&&Z("/CropBox ["+V(x.cropBox.bottomLeftX)+" "+V(x.cropBox.bottomLeftY)+" "+V(x.cropBox.topRightX)+" "+V(x.cropBox.topRightY)+"]"),x.bleedBox!==null&&Z("/BleedBox ["+V(x.bleedBox.bottomLeftX)+" "+V(x.bleedBox.bottomLeftY)+" "+V(x.bleedBox.topRightX)+" "+V(x.bleedBox.topRightY)+"]"),x.trimBox!==null&&Z("/TrimBox ["+V(x.trimBox.bottomLeftX)+" "+V(x.trimBox.bottomLeftY)+" "+V(x.trimBox.topRightX)+" "+V(x.trimBox.topRightY)+"]"),x.artBox!==null&&Z("/ArtBox ["+V(x.artBox.bottomLeftX)+" "+V(x.artBox.bottomLeftY)+" "+V(x.artBox.topRightX)+" "+V(x.artBox.topRightY)+"]"),typeof x.userUnit=="number"&&x.userUnit!==1&&Z("/UserUnit "+x.userUnit),Je.publish("putPage",{objId:ht,pageContext:Se[B],pageNumber:B,page:it}),Z("/Contents "+_t+" 0 R"),Z(">>"),Z("endobj");var Gt=it.join(`
`);return nt===W&&(Gt+=`
Q`),jr(_t,!0),ra({data:Gt,filters:Ci(),objectId:_t}),Z("endobj"),ht},va=_.__private__.putPages=function(){var x,B,it=[];for(x=1;x<=xe;x++)Se[x].objId=tr(),Se[x].contentsObjId=tr();for(x=1;x<=xe;x++)it.push(gs({number:x,data:Et[x],objId:Se[x].objId,contentsObjId:Se[x].contentsObjId,mediaBox:Se[x].mediaBox,cropBox:Se[x].cropBox,bleedBox:Se[x].bleedBox,trimBox:Se[x].trimBox,artBox:Se[x].artBox,userUnit:Se[x].userUnit,rootDictionaryObjId:ri,resourceDictionaryObjId:Mn}));jr(ri,!0),Z("<</Type /Pages");var ht="/Kids [";for(B=0;B<xe;B++)ht+=it[B]+" 0 R ";Z(ht+"]"),Z("/Count "+xe),Z(">>"),Z("endobj"),Je.publish("postPutPages")},Ri=function(x){Je.publish("putFont",{font:x,out:Z,newObject:Hn,putStream:ra}),x.isAlreadyPutted!==!0&&(x.objectNumber=Hn(),Z("<<"),Z("/Type /Font"),Z("/BaseFont /"+Zc(x.postScriptName)),Z("/Subtype /Type1"),typeof x.encoding=="string"&&Z("/Encoding /"+x.encoding),Z("/FirstChar 32"),Z("/LastChar 255"),Z(">>"),Z("endobj"))},Za=function(x){x.objectNumber=Hn();var B=[];B.push({key:"Type",value:"/XObject"}),B.push({key:"Subtype",value:"/Form"}),B.push({key:"BBox",value:"["+[V(x.x),V(x.y),V(x.x+x.width),V(x.y+x.height)].join(" ")+"]"}),B.push({key:"Matrix",value:"["+x.matrix.toString()+"]"});var it=x.pages[1].join(`
`);ra({data:it,additionalKeyValues:B,objectId:x.objectNumber}),Z("endobj")},Ui=function(x,B){B||(B=21);var it=Hn(),ht=(function(Zt,de){var be,Fe=[],ke=1/(de-1);for(be=0;be<1;be+=ke)Fe.push(be);if(Fe.push(1),Zt[0].offset!=0){var mn={offset:0,color:Zt[0].color};Zt.unshift(mn)}if(Zt[Zt.length-1].offset!=1){var er={offset:1,color:Zt[Zt.length-1].color};Zt.push(er)}for(var Gn="",m=0,E=0;E<Fe.length;E++){for(be=Fe[E];be>Zt[m+1].offset;)m++;var k=Zt[m].offset,J=(be-k)/(Zt[m+1].offset-k),St=Zt[m].color,kt=Zt[m+1].color;Gn+=st(Math.round((1-J)*St[0]+J*kt[0]).toString(16))+st(Math.round((1-J)*St[1]+J*kt[1]).toString(16))+st(Math.round((1-J)*St[2]+J*kt[2]).toString(16))}return Gn.trim()})(x.colors,B),_t=[];_t.push({key:"FunctionType",value:"0"}),_t.push({key:"Domain",value:"[0.0 1.0]"}),_t.push({key:"Size",value:"["+B+"]"}),_t.push({key:"BitsPerSample",value:"8"}),_t.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),_t.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ra({data:ht,additionalKeyValues:_t,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:it}),Z("endobj"),x.objectNumber=Hn(),Z("<< /ShadingType "+x.type),Z("/ColorSpace /DeviceRGB");var Gt="/Coords ["+V(parseFloat(x.coords[0]))+" "+V(parseFloat(x.coords[1]))+" ";x.type===2?Gt+=V(parseFloat(x.coords[2]))+" "+V(parseFloat(x.coords[3])):Gt+=V(parseFloat(x.coords[2]))+" "+V(parseFloat(x.coords[3]))+" "+V(parseFloat(x.coords[4]))+" "+V(parseFloat(x.coords[5])),Z(Gt+="]"),x.matrix&&Z("/Matrix ["+x.matrix.toString()+"]"),Z("/Function "+it+" 0 R"),Z("/Extend [true true]"),Z(">>"),Z("endobj")},gi=function(x,B){var it=tr(),ht=Hn();B.push({resourcesOid:it,objectOid:ht}),x.objectNumber=ht;var _t=[];_t.push({key:"Type",value:"/Pattern"}),_t.push({key:"PatternType",value:"1"}),_t.push({key:"PaintType",value:"1"}),_t.push({key:"TilingType",value:"1"}),_t.push({key:"BBox",value:"["+x.boundingBox.map(V).join(" ")+"]"}),_t.push({key:"XStep",value:V(x.xStep)}),_t.push({key:"YStep",value:V(x.yStep)}),_t.push({key:"Resources",value:it+" 0 R"}),x.matrix&&_t.push({key:"Matrix",value:"["+x.matrix.toString()+"]"}),ra({data:x.stream,additionalKeyValues:_t,objectId:x.objectNumber}),Z("endobj")},zi=function(x){for(var B in x.objectNumber=Hn(),Z("<<"),x)switch(B){case"opacity":Z("/ca "+T(x[B]));break;case"stroke-opacity":Z("/CA "+T(x[B]))}Z(">>"),Z("endobj")},ia=function(x){jr(x.resourcesOid,!0),Z("<<"),Z("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var B in Z("/Font <<"),Re)Re.hasOwnProperty(B)&&(w===!1||w===!0&&S.hasOwnProperty(B))&&Z("/"+B+" "+Re[B].objectNumber+" 0 R");Z(">>")})(),(function(){if(Object.keys(Ne).length>0){for(var B in Z("/Shading <<"),Ne)Ne.hasOwnProperty(B)&&Ne[B]instanceof Qu&&Ne[B].objectNumber>=0&&Z("/"+B+" "+Ne[B].objectNumber+" 0 R");Je.publish("putShadingPatternDict"),Z(">>")}})(),(function(B){if(Object.keys(Ne).length>0){for(var it in Z("/Pattern <<"),Ne)Ne.hasOwnProperty(it)&&Ne[it]instanceof _.TilingPattern&&Ne[it].objectNumber>=0&&Ne[it].objectNumber<B&&Z("/"+it+" "+Ne[it].objectNumber+" 0 R");Je.publish("putTilingPatternDict"),Z(">>")}})(x.objectOid),(function(){if(Object.keys(Pe).length>0){var B;for(B in Z("/ExtGState <<"),Pe)Pe.hasOwnProperty(B)&&Pe[B].objectNumber>=0&&Z("/"+B+" "+Pe[B].objectNumber+" 0 R");Je.publish("putGStateDict"),Z(">>")}})(),(function(){for(var B in Z("/XObject <<"),ie)ie.hasOwnProperty(B)&&ie[B].objectNumber>=0&&Z("/"+B+" "+ie[B].objectNumber+" 0 R");Je.publish("putXobjectDict"),Z(">>")})(),Z(">>"),Z("endobj")},pr=function(x){qe[x.fontName]=qe[x.fontName]||{},qe[x.fontName][x.fontStyle]=x.id},mo=function(x,B,it,ht,_t){var Gt={id:"F"+(Object.keys(Re).length+1).toString(10),postScriptName:x,fontName:B,fontStyle:it,encoding:ht,isStandardFont:_t||!1,metadata:{}};return Je.publish("addFont",{font:Gt,instance:this}),Re[Gt.id]=Gt,pr(Gt),Gt.id},Li=_.__private__.pdfEscape=_.pdfEscape=function(x,B){return(function(it,ht){var _t,Gt,Zt,de,be,Fe,ke,mn,er;if(Zt=(ht=ht||{}).sourceEncoding||"Unicode",be=ht.outputEncoding,(ht.autoencode||be)&&Re[ge].metadata&&Re[ge].metadata[Zt]&&Re[ge].metadata[Zt].encoding&&(de=Re[ge].metadata[Zt].encoding,!be&&Re[ge].encoding&&(be=Re[ge].encoding),!be&&de.codePages&&(be=de.codePages[0]),typeof be=="string"&&(be=de[be]),be)){for(ke=!1,Fe=[],_t=0,Gt=it.length;_t<Gt;_t++)(mn=be[it.charCodeAt(_t)])?Fe.push(String.fromCharCode(mn)):Fe.push(it[_t]),Fe[_t].charCodeAt(0)>>8&&(ke=!0);it=Fe.join("")}for(_t=it.length;ke===void 0&&_t!==0;)it.charCodeAt(_t-1)>>8&&(ke=!0),_t--;if(!ke)return it;for(Fe=ht.noBOM?[]:[254,255],_t=0,Gt=it.length;_t<Gt;_t++){if((er=(mn=it.charCodeAt(_t))>>8)>>8)throw new Error("Character at position "+_t+" of string '"+it+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Fe.push(er),Fe.push(mn-(er<<8))}return String.fromCharCode.apply(void 0,Fe)})(x,B).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},aa=_.__private__.beginPage=function(x){Et[++xe]=[],Se[xe]={objId:0,contentsObjId:0,userUnit:Number(h),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(x[0]),topRightY:Number(x[1])}},go(xe),Mt(Et[K])},ba=function(x,B){var it,ht,_t;switch(e=B||e,typeof x=="string"&&(it=R(x.toLowerCase()),Array.isArray(it)&&(ht=it[0],_t=it[1])),Array.isArray(x)&&(ht=x[0]*Ye,_t=x[1]*Ye),isNaN(ht)&&(ht=s[0],_t=s[1]),(ht>14400||_t>14400)&&(fr.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ht=Math.min(14400,ht),_t=Math.min(14400,_t)),s=[ht,_t],e.substr(0,1)){case"l":_t>ht&&(s=[_t,ht]);break;case"p":ht>_t&&(s=[_t,ht])}aa(s),Me(Di),Z(Hi),$i!==0&&Z($i+" J"),Lr!==0&&Z(Lr+" j"),Je.publish("addPage",{pageNumber:xe})},Vs=function(x){x>0&&x<=xe&&(Et.splice(x,1),Se.splice(x,1),xe--,K>xe&&(K=xe),this.setPage(K))},go=function(x){x>0&&x<=xe&&(K=x)},yo=_.__private__.getNumberOfPages=_.getNumberOfPages=function(){return Et.length-1},Wo=function(x,B,it){var ht,_t=void 0;return it=it||{},x=x!==void 0?x:Re[ge].fontName,B=B!==void 0?B:Re[ge].fontStyle,ht=x.toLowerCase(),qe[ht]!==void 0&&qe[ht][B]!==void 0?_t=qe[ht][B]:qe[x]!==void 0&&qe[x][B]!==void 0?_t=qe[x][B]:it.disableWarning===!1&&fr.warn("Unable to look up font label for font '"+x+"', '"+B+"'. Refer to getFontList() for available fonts."),_t||it.noFallback||(_t=qe.times[B])==null&&(_t=qe.times.normal),_t},qi=_.__private__.putInfo=function(){var x=Hn(),B=function(ht){return ht};for(var it in g!==null&&(B=lr.encryptor(x,0)),Z("<<"),Z("/Producer ("+Li(B("jsPDF "+Te.version))+")"),ze)ze.hasOwnProperty(it)&&ze[it]&&Z("/"+it.substr(0,1).toUpperCase()+it.substr(1)+" ("+Li(B(ze[it]))+")");Z("/CreationDate ("+Li(B(xt))+")"),Z(">>"),Z("endobj")},ii=_.__private__.putCatalog=function(x){var B=(x=x||{}).rootDictionaryObjId||ri;switch(Hn(),Z("<<"),Z("/Type /Catalog"),Z("/Pages "+B+" 0 R"),le||(le="fullwidth"),le){case"fullwidth":Z("/OpenAction [3 0 R /FitH null]");break;case"fullheight":Z("/OpenAction [3 0 R /FitV null]");break;case"fullpage":Z("/OpenAction [3 0 R /Fit]");break;case"original":Z("/OpenAction [3 0 R /XYZ null null 1]");break;default:var it=""+le;it.substr(it.length-1)==="%"&&(le=parseInt(le)/100),typeof le=="number"&&Z("/OpenAction [3 0 R /XYZ null null "+T(le)+"]")}switch(en||(en="continuous"),en){case"continuous":Z("/PageLayout /OneColumn");break;case"single":Z("/PageLayout /SinglePage");break;case"two":case"twoleft":Z("/PageLayout /TwoColumnLeft");break;case"tworight":Z("/PageLayout /TwoColumnRight")}Ae&&Z("/PageMode /"+Ae),Je.publish("putCatalog"),Z(">>"),Z("endobj")},xr=_.__private__.putTrailer=function(){Z("trailer"),Z("<<"),Z("/Size "+(ut+1)),Z("/Root "+ut+" 0 R"),Z("/Info "+(ut-1)+" 0 R"),g!==null&&Z("/Encrypt "+lr.oid+" 0 R"),Z("/ID [ <"+ot+"> <"+ot+"> ]"),Z(">>")},pn=_.__private__.putHeader=function(){Z("%PDF-"+N),Z("%")},ts=_.__private__.putXRef=function(){var x="0000000000";Z("xref"),Z("0 "+(ut+1)),Z("0000000000 65535 f ");for(var B=1;B<=ut;B++)typeof yt[B]=="function"?Z((x+yt[B]()).slice(-10)+" 00000 n "):yt[B]!==void 0?Z((x+yt[B]).slice(-10)+" 00000 n "):Z("0000000000 00000 n ")},sa=_.__private__.buildDocument=function(){var x;ut=0,Rt=0,It=[],yt=[],zt=[],ri=tr(),Mn=tr(),Mt(It),Je.publish("buildDocument"),pn(),va(),(function(){Je.publish("putAdditionalObjects");for(var it=0;it<zt.length;it++){var ht=zt[it];jr(ht.objId,!0),Z(ht.content),Z("endobj")}Je.publish("postPutAdditionalObjects")})(),x=[],(function(){for(var it in Re)Re.hasOwnProperty(it)&&(w===!1||w===!0&&S.hasOwnProperty(it))&&Ri(Re[it])})(),(function(){var it;for(it in Pe)Pe.hasOwnProperty(it)&&zi(Pe[it])})(),(function(){for(var it in ie)ie.hasOwnProperty(it)&&Za(ie[it])})(),(function(it){var ht;for(ht in Ne)Ne.hasOwnProperty(ht)&&(Ne[ht]instanceof Qu?Ui(Ne[ht]):Ne[ht]instanceof th&&gi(Ne[ht],it))})(x),Je.publish("putResources"),x.forEach(ia),ia({resourcesOid:Mn,objectOid:Number.MAX_SAFE_INTEGER}),Je.publish("postPutResources"),g!==null&&(lr.oid=Hn(),Z("<<"),Z("/Filter /Standard"),Z("/V "+lr.v),Z("/R "+lr.r),Z("/U <"+lr.toHexString(lr.U)+">"),Z("/O <"+lr.toHexString(lr.O)+">"),Z("/P "+lr.P),Z(">>"),Z("endobj")),qi(),ii();var B=Rt;return ts(),xr(),Z("startxref"),Z(""+B),Z("%%EOF"),Mt(Et[K]),It.join(`
`)},_n=_.__private__.getBlob=function(x){return new Blob([Ce(x)],{type:"application/pdf"})},ys=_.output=_.__private__.output=(ni=function(x,B){switch(typeof(B=B||{})=="string"?B={filename:B}:B.filename=B.filename||"generated.pdf",x){case void 0:return sa();case"save":_.save(B.filename);break;case"arraybuffer":return Ce(sa());case"blob":return _n(sa());case"bloburi":case"bloburl":if(tn.URL!==void 0&&typeof tn.URL.createObjectURL=="function")return tn.URL&&tn.URL.createObjectURL(_n(sa()))||void 0;fr.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var it="",ht=sa();try{it=n_(ht)}catch{it=n_(unescape(encodeURIComponent(ht)))}return"data:application/pdf;filename="+B.filename+";base64,"+it;case"pdfobjectnewwindow":if(Object.prototype.toString.call(tn)==="[object Window]"){var _t="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Gt=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';B.pdfObjectUrl&&(_t=B.pdfObjectUrl,Gt="");var Zt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+_t+'"'+Gt+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(B)+");<\/script></body></html>",de=tn.open();return de!==null&&de.document.write(Zt),de}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(tn)==="[object Window]"){var be='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(B.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+B.filename+'" width="500px" height="400px" /></body></html>',Fe=tn.open();if(Fe!==null){Fe.document.write(be);var ke=this;Fe.document.documentElement.querySelector("#pdfViewer").onload=function(){Fe.document.title=B.filename,Fe.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(ke.output("bloburl"))}}return Fe}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(tn)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var mn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",B)+'"></iframe></body></html>',er=tn.open();if(er!==null&&(er.document.write(mn),er.document.title=B.filename),er||typeof safari>"u")return er;break;case"datauri":case"dataurl":return tn.document.location.href=this.output("datauristring",B);default:return null}},ni.foo=function(){try{return ni.apply(this,arguments)}catch(it){var x=it.stack||"";~x.indexOf(" at ")&&(x=x.split(" at ")[1]);var B="Error in function "+x.split(`
`)[0].split("<")[0]+": "+it.message;if(!tn.console)throw new Error(B);tn.console.error(B,it),tn.alert&&alert(B)}},ni.foo.bar=ni,ni.foo),Rr=function(x){return Array.isArray(Bt)===!0&&Bt.indexOf(x)>-1};switch(i){case"pt":Ye=1;break;case"mm":Ye=72/25.4;break;case"cm":Ye=72/2.54;break;case"in":Ye=72;break;case"px":Ye=Rr("px_scaling")==1?.75:96/72;break;case"pc":case"em":Ye=12;break;case"ex":Ye=6;break;default:if(typeof i!="number")throw new Error("Invalid unit: "+i);Ye=i}var lr=null;$(),ft();var Sr=_.__private__.getPageInfo=_.getPageInfo=function(x){if(isNaN(x)||x%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Se[x].objId,pageNumber:x,pageContext:Se[x]}},Bs=_.__private__.getPageInfoByObjId=function(x){if(isNaN(x)||x%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var B in Se)if(Se[B].objId===x)break;return Sr(B)},Ol=_.__private__.getCurrentPageInfo=_.getCurrentPageInfo=function(){return{objId:Se[K].objId,pageNumber:K,pageContext:Se[K]}};_.addPage=function(){return ba.apply(this,arguments),this},_.setPage=function(){return go.apply(this,arguments),Mt.call(this,Et[K]),this},_.insertPage=function(x){return this.addPage(),this.movePage(K,x),this},_.movePage=function(x,B){var it,ht;if(x>B){it=Et[x],ht=Se[x];for(var _t=x;_t>B;_t--)Et[_t]=Et[_t-1],Se[_t]=Se[_t-1];Et[B]=it,Se[B]=ht,this.setPage(B)}else if(x<B){it=Et[x],ht=Se[x];for(var Gt=x;Gt<B;Gt++)Et[Gt]=Et[Gt+1],Se[Gt]=Se[Gt+1];Et[B]=it,Se[B]=ht,this.setPage(B)}return this},_.deletePage=function(){return Vs.apply(this,arguments),this},_.__private__.text=_.text=function(x,B,it,ht,_t){var Gt,Zt,de,be,Fe,ke,mn,er,Gn,m=(ht=ht||{}).scope||this;if(typeof x=="number"&&typeof B=="number"&&(typeof it=="string"||Array.isArray(it))){var E=it;it=B,B=x,x=E}if(arguments[3]instanceof ae==0?(de=arguments[4],be=arguments[5],Jn(mn=arguments[3])==="object"&&mn!==null||(typeof de=="string"&&(be=de,de=null),typeof mn=="string"&&(be=mn,mn=null),typeof mn=="number"&&(de=mn,mn=null),ht={flags:mn,angle:de,align:be})):(D("The transform parameter of text() with a Matrix value"),Gn=_t),isNaN(B)||isNaN(it)||x==null)throw new Error("Invalid arguments passed to jsPDF.text");if(x.length===0)return m;var k,J="",St=typeof ht.lineHeightFactor=="number"?ht.lineHeightFactor:rs,kt=m.internal.scaleFactor;function re(On){return On=On.split("	").join(Array(ht.TabLen||9).join(" ")),Li(On,mn)}function Qe(On){for(var Nn,rr=On.concat(),Dr=[],Rs=rr.length;Rs--;)typeof(Nn=rr.shift())=="string"?Dr.push(Nn):Array.isArray(On)&&(Nn.length===1||Nn[1]===void 0&&Nn[2]===void 0)?Dr.push(Nn[0]):Dr.push([Nn[0],Nn[1],Nn[2]]);return Dr}function nr(On,Nn){var rr;if(typeof On=="string")rr=Nn(On)[0];else if(Array.isArray(On)){for(var Dr,Rs,os=On.concat(),nl=[],Du=os.length;Du--;)typeof(Dr=os.shift())=="string"?nl.push(Nn(Dr)[0]):Array.isArray(Dr)&&typeof Dr[0]=="string"&&(Rs=Nn(Dr[0],Dr[1],Dr[2]),nl.push([Rs[0],Rs[1],Rs[2]]));rr=nl}return rr}var fn=!1,Fn=!0;if(typeof x=="string")fn=!0;else if(Array.isArray(x)){var si=x.concat();Zt=[];for(var vi,Wn=si.length;Wn--;)(typeof(vi=si.shift())!="string"||Array.isArray(vi)&&typeof vi[0]!="string")&&(Fn=!1);fn=Fn}if(fn===!1)throw new Error('Type of text must be string or Array. "'+x+'" is not recognized.');typeof x=="string"&&(x=x.match(/[\r?\n]/)?x.split(/\r\n|\r|\n/g):[x]);var bi=Ht/m.internal.scaleFactor,Sa=bi*(St-1);switch(ht.baseline){case"bottom":it-=Sa;break;case"top":it+=bi-Sa;break;case"hanging":it+=bi-2*Sa;break;case"middle":it+=bi/2-Sa}if((ke=ht.maxWidth||0)>0&&(typeof x=="string"?x=m.splitTextToSize(x,ke):Object.prototype.toString.call(x)==="[object Array]"&&(x=x.reduce(function(On,Nn){return On.concat(m.splitTextToSize(Nn,ke))},[]))),Gt={text:x,x:B,y:it,options:ht,mutex:{pdfEscape:Li,activeFontKey:ge,fonts:Re,activeFontSize:Ht}},Je.publish("preProcessText",Gt),x=Gt.text,de=(ht=Gt.options).angle,Gn instanceof ae==0&&de&&typeof de=="number"){de*=Math.PI/180,ht.rotationDirection===0&&(de=-de),nt===W&&(de=-de);var xs=Math.cos(de),Ss=Math.sin(de);Gn=new ae(xs,Ss,-Ss,xs,0,0)}else de&&de instanceof ae&&(Gn=de);nt!==W||Gn||(Gn=pi),(Fe=ht.charSpace||Gi)!==void 0&&(J+=V(F(Fe))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(er=ht.horizontalScale)!==void 0&&(J+=V(100*er)+` Tz
`),ht.lang;var Wi=-1,Gs=ht.renderingMode!==void 0?ht.renderingMode:ht.stroke,Pl=m.internal.getCurrentPageInfo().pageContext;switch(Gs){case 0:case!1:case"fill":Wi=0;break;case 1:case!0:case"stroke":Wi=1;break;case 2:case"fillThenStroke":Wi=2;break;case 3:case"invisible":Wi=3;break;case 4:case"fillAndAddForClipping":Wi=4;break;case 5:case"strokeAndAddPathForClipping":Wi=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Wi=6;break;case 7:case"addToPathForClipping":Wi=7}var Lu=Pl.usedRenderingMode!==void 0?Pl.usedRenderingMode:-1;Wi!==-1?J+=Wi+` Tr
`:Lu!==-1&&(J+=`0 Tr
`),Wi!==-1&&(Pl.usedRenderingMode=Wi),be=ht.align||"left";var Aa,as=Ht*St,$s=m.internal.pageSize.getWidth(),Iu=Re[ge];Fe=ht.charSpace||Gi,ke=ht.maxWidth||0,mn=Object.assign({autoencode:!0,noBOM:!0},ht.flags);var ss=[],So=function(On){return m.getStringUnitWidth(On,{font:Iu,charSpace:Fe,fontSize:Ht,doKerning:!1})*Ht/kt};if(Object.prototype.toString.call(x)==="[object Array]"){var la;Zt=Qe(x),be!=="left"&&(Aa=Zt.map(So));var Ki,As=0;if(be==="right"){B-=Aa[0],x=[],Wn=Zt.length;for(var Es=0;Es<Wn;Es++)Es===0?(Ki=Wr(B),la=Vr(it)):(Ki=F(As-Aa[Es]),la=-as),x.push([Zt[Es],Ki,la]),As=Aa[Es]}else if(be==="center"){B-=Aa[0]/2,x=[],Wn=Zt.length;for(var Ys=0;Ys<Wn;Ys++)Ys===0?(Ki=Wr(B),la=Vr(it)):(Ki=F((As-Aa[Ys])/2),la=-as),x.push([Zt[Ys],Ki,la]),As=Aa[Ys]}else if(be==="left"){x=[],Wn=Zt.length;for(var Ml=0;Ml<Wn;Ml++)x.push(Zt[Ml])}else if(be==="justify"&&Iu.encoding==="Identity-H"){x=[],Wn=Zt.length,ke=ke!==0?ke:$s;for(var jl=0,Ir=0;Ir<Wn;Ir++)if(la=Ir===0?Vr(it):-as,Ki=Ir===0?Wr(B):jl,Ir<Wn-1){var hc=F((ke-Aa[Ir])/(Zt[Ir].split(" ").length-1)),Ts=Zt[Ir].split(" ");x.push([Ts[0]+" ",Ki,la]),jl=0;for(var Ns=1;Ns<Ts.length;Ns++){var _i=(So(Ts[Ns-1]+" "+Ts[Ns])-So(Ts[Ns]))*kt+hc;Ns==Ts.length-1?x.push([Ts[Ns],_i,0]):x.push([Ts[Ns]+" ",_i,0]),jl-=_i}}else x.push([Zt[Ir],Ki,la]);x.push(["",jl,0])}else{if(be!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(x=[],Wn=Zt.length,ke=ke!==0?ke:$s,Ir=0;Ir<Wn;Ir++){la=Ir===0?Vr(it):-as,Ki=Ir===0?Wr(B):0;var Ws=Zt[Ir].split(" ").length-1,Fl=Ws>0?(ke-Aa[Ir])/Ws:0;Ir<Wn-1?ss.push(V(F(Fl))):ss.push(0),x.push([Zt[Ir],Ki,la])}}}(typeof ht.R2L=="boolean"?ht.R2L:De)===!0&&(x=nr(x,function(On,Nn,rr){return[On.split("").reverse().join(""),Nn,rr]})),Gt={text:x,x:B,y:it,options:ht,mutex:{pdfEscape:Li,activeFontKey:ge,fonts:Re,activeFontSize:Ht}},Je.publish("postProcessText",Gt),x=Gt.text,k=Gt.mutex.isHex||!1;var Vl=Re[ge].encoding;Vl!=="WinAnsiEncoding"&&Vl!=="StandardEncoding"||(x=nr(x,function(On,Nn,rr){return[re(On),Nn,rr]})),Zt=Qe(x),x=[];for(var Ks,Qs,Cs,el=Array.isArray(Zt[0])?1:0,Ea="",Xs=function(On,Nn,rr){var Dr="";return rr instanceof ae?(rr=typeof ht.angle=="number"?wr(rr,new ae(1,0,0,1,On,Nn)):wr(new ae(1,0,0,1,On,Nn),rr),nt===W&&(rr=wr(new ae(1,0,0,-1,0,0),rr)),Dr=rr.join(" ")+` Tm
`):Dr=V(On)+" "+V(Nn)+` Td
`,Dr},ki=0;ki<Zt.length;ki++){switch(Ea="",el){case 1:Cs=(k?"<":"(")+Zt[ki][0]+(k?">":")"),Ks=parseFloat(Zt[ki][1]),Qs=parseFloat(Zt[ki][2]);break;case 0:Cs=(k?"<":"(")+Zt[ki]+(k?">":")"),Ks=Wr(B),Qs=Vr(it)}ss!==void 0&&ss[ki]!==void 0&&(Ea=ss[ki]+` Tw
`),ki===0?x.push(Ea+Xs(Ks,Qs,Gn)+Cs):el===0?x.push(Ea+Cs):el===1&&x.push(Ea+Xs(Ks,Qs,Gn)+Cs)}x=el===0?x.join(` Tj
T* `):x.join(` Tj
`),x+=` Tj
`;var Pa=`BT
/`;return Pa+=ge+" "+Ht+` Tf
`,Pa+=V(Ht*St)+` TL
`,Pa+=wa+`
`,Pa+=J,Pa+=x,Z(Pa+="ET"),S[ge]=!0,m};var Ko=_.__private__.clip=_.clip=function(x){return Z(x==="evenodd"?"W*":"W"),this};_.clipEvenOdd=function(){return Ko("evenodd")},_.__private__.discardPath=_.discardPath=function(){return Z("n"),this};var yi=_.__private__.isValidStyle=function(x){var B=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(x)!==-1&&(B=!0),B};_.__private__.setDefaultPathOperation=_.setDefaultPathOperation=function(x){return yi(x)&&(d=x),this};var Qo=_.__private__.getStyle=_.getStyle=function(x){var B=d;switch(x){case"D":case"S":B="S";break;case"F":B="f";break;case"FD":case"DF":B="B";break;case"f":case"f*":case"B":case"B*":B=x}return B},es=_.close=function(){return Z("h"),this};_.stroke=function(){return Z("S"),this},_.fill=function(x){return Yr("f",x),this},_.fillEvenOdd=function(x){return Yr("f*",x),this},_.fillStroke=function(x){return Yr("B",x),this},_.fillStrokeEvenOdd=function(x){return Yr("B*",x),this};var Yr=function(x,B){Jn(B)==="object"?Jo(B,x):Z(x)},vs=function(x){x===null||nt===W&&x===void 0||(x=Qo(x),Z(x))};function Xo(x,B,it,ht,_t){var Gt=new th(B||this.boundingBox,it||this.xStep,ht||this.yStep,this.gState,_t||this.matrix);Gt.stream=this.stream;var Zt=x+"$$"+this.cloneIndex+++"$$";return ei(Zt,Gt),Gt}var Jo=function(x,B){var it=En[x.key],ht=Ne[it];if(ht instanceof Qu)Z("q"),Z(vo(B)),ht.gState&&_.setGState(ht.gState),Z(x.matrix.toString()+" cm"),Z("/"+it+" sh"),Z("Q");else if(ht instanceof th){var _t=new ae(1,0,0,-1,0,xa());x.matrix&&(_t=_t.multiply(x.matrix||pi),it=Xo.call(ht,x.key,x.boundingBox,x.xStep,x.yStep,_t).id),Z("q"),Z("/Pattern cs"),Z("/"+it+" scn"),ht.gState&&_.setGState(ht.gState),Z(B),Z("Q")}},vo=function(x){switch(x){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},bo=_.moveTo=function(x,B){return Z(V(F(x))+" "+V(lt(B))+" m"),this},ns=_.lineTo=function(x,B){return Z(V(F(x))+" "+V(lt(B))+" l"),this},Ii=_.curveTo=function(x,B,it,ht,_t,Gt){return Z([V(F(x)),V(lt(B)),V(F(it)),V(lt(ht)),V(F(_t)),V(lt(Gt)),"c"].join(" ")),this};_.__private__.line=_.line=function(x,B,it,ht,_t){if(isNaN(x)||isNaN(B)||isNaN(it)||isNaN(ht)||!yi(_t))throw new Error("Invalid arguments passed to jsPDF.line");return nt===Q?this.lines([[it-x,ht-B]],x,B,[1,1],_t||"S"):this.lines([[it-x,ht-B]],x,B,[1,1]).stroke()},_.__private__.lines=_.lines=function(x,B,it,ht,_t,Gt){var Zt,de,be,Fe,ke,mn,er,Gn,m,E,k,J;if(typeof x=="number"&&(J=it,it=B,B=x,x=J),ht=ht||[1,1],Gt=Gt||!1,isNaN(B)||isNaN(it)||!Array.isArray(x)||!Array.isArray(ht)||!yi(_t)||typeof Gt!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(bo(B,it),Zt=ht[0],de=ht[1],Fe=x.length,E=B,k=it,be=0;be<Fe;be++)(ke=x[be]).length===2?(E=ke[0]*Zt+E,k=ke[1]*de+k,ns(E,k)):(mn=ke[0]*Zt+E,er=ke[1]*de+k,Gn=ke[2]*Zt+E,m=ke[3]*de+k,E=ke[4]*Zt+E,k=ke[5]*de+k,Ii(mn,er,Gn,m,E,k));return Gt&&es(),vs(_t),this},_.path=function(x){for(var B=0;B<x.length;B++){var it=x[B],ht=it.c;switch(it.op){case"m":bo(ht[0],ht[1]);break;case"l":ns(ht[0],ht[1]);break;case"c":Ii.apply(this,ht);break;case"h":es()}}return this},_.__private__.rect=_.rect=function(x,B,it,ht,_t){if(isNaN(x)||isNaN(B)||isNaN(it)||isNaN(ht)||!yi(_t))throw new Error("Invalid arguments passed to jsPDF.rect");return nt===Q&&(ht=-ht),Z([V(F(x)),V(lt(B)),V(F(it)),V(F(ht)),"re"].join(" ")),vs(_t),this},_.__private__.triangle=_.triangle=function(x,B,it,ht,_t,Gt,Zt){if(isNaN(x)||isNaN(B)||isNaN(it)||isNaN(ht)||isNaN(_t)||isNaN(Gt)||!yi(Zt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[it-x,ht-B],[_t-it,Gt-ht],[x-_t,B-Gt]],x,B,[1,1],Zt,!0),this},_.__private__.roundedRect=_.roundedRect=function(x,B,it,ht,_t,Gt,Zt){if(isNaN(x)||isNaN(B)||isNaN(it)||isNaN(ht)||isNaN(_t)||isNaN(Gt)||!yi(Zt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var de=4/3*(Math.SQRT2-1);return _t=Math.min(_t,.5*it),Gt=Math.min(Gt,.5*ht),this.lines([[it-2*_t,0],[_t*de,0,_t,Gt-Gt*de,_t,Gt],[0,ht-2*Gt],[0,Gt*de,-_t*de,Gt,-_t,Gt],[2*_t-it,0],[-_t*de,0,-_t,-Gt*de,-_t,-Gt],[0,2*Gt-ht],[0,-Gt*de,_t*de,-Gt,_t,-Gt]],x+_t,B,[1,1],Zt,!0),this},_.__private__.ellipse=_.ellipse=function(x,B,it,ht,_t){if(isNaN(x)||isNaN(B)||isNaN(it)||isNaN(ht)||!yi(_t))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Gt=4/3*(Math.SQRT2-1)*it,Zt=4/3*(Math.SQRT2-1)*ht;return bo(x+it,B),Ii(x+it,B-Zt,x+Gt,B-ht,x,B-ht),Ii(x-Gt,B-ht,x-it,B-Zt,x-it,B),Ii(x-it,B+Zt,x-Gt,B+ht,x,B+ht),Ii(x+Gt,B+ht,x+it,B+Zt,x+it,B),vs(_t),this},_.__private__.circle=_.circle=function(x,B,it,ht){if(isNaN(x)||isNaN(B)||isNaN(it)||!yi(ht))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(x,B,it,it,ht)},_.setFont=function(x,B,it){return it&&(B=q(B,it)),ge=Wo(x,B,{disableWarning:!1}),this};var _a=_.__private__.getFont=_.getFont=function(){return Re[Wo.apply(_,arguments)]};_.__private__.getFontList=_.getFontList=function(){var x,B,it={};for(x in qe)if(qe.hasOwnProperty(x))for(B in it[x]=[],qe[x])qe[x].hasOwnProperty(B)&&it[x].push(B);return it},_.addFont=function(x,B,it,ht,_t){var Gt=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Gt.indexOf(arguments[3])!==-1?_t=arguments[3]:arguments[3]&&Gt.indexOf(arguments[3])==-1&&(it=q(it,ht)),mo.call(this,x,B,it,_t=_t||"Identity-H")};var rs,Di=n.lineWidth||.200025,bs=_.__private__.getLineWidth=_.getLineWidth=function(){return Di},Me=_.__private__.setLineWidth=_.setLineWidth=function(x){return Di=x,Z(V(F(x))+" w"),this};_.__private__.setLineDash=Te.API.setLineDash=Te.API.setLineDashPattern=function(x,B){if(x=x||[],B=B||0,isNaN(B)||!Array.isArray(x))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return x=x.map(function(it){return V(F(it))}).join(" "),B=V(F(B)),Z("["+x+"] "+B+" d"),this};var Us=_.__private__.getLineHeight=_.getLineHeight=function(){return Ht*rs};_.__private__.getLineHeight=_.getLineHeight=function(){return Ht*rs};var _o=_.__private__.setLineHeightFactor=_.setLineHeightFactor=function(x){return typeof(x=x||1.15)=="number"&&(rs=x),this},_s=_.__private__.getLineHeightFactor=_.getLineHeightFactor=function(){return rs};_o(n.lineHeight);var Wr=_.__private__.getHorizontalCoordinate=function(x){return F(x)},Vr=_.__private__.getVerticalCoordinate=function(x){return nt===W?x:Se[K].mediaBox.topRightY-Se[K].mediaBox.bottomLeftY-F(x)},zs=_.__private__.getHorizontalCoordinateString=_.getHorizontalCoordinateString=function(x){return V(Wr(x))},jn=_.__private__.getVerticalCoordinateString=_.getVerticalCoordinateString=function(x){return V(Vr(x))},Hi=n.strokeColor||"0 G";_.__private__.getStrokeColor=_.getDrawColor=function(){return Yn(Hi)},_.__private__.setStrokeColor=_.setDrawColor=function(x,B,it,ht){return Hi=Fr({ch1:x,ch2:B,ch3:it,ch4:ht,pdfColorType:"draw",precision:2}),Z(Hi),this};var qs=n.fillColor||"0 g";_.__private__.getFillColor=_.getFillColor=function(){return Yn(qs)},_.__private__.setFillColor=_.setFillColor=function(x,B,it,ht){return qs=Fr({ch1:x,ch2:B,ch3:it,ch4:ht,pdfColorType:"fill",precision:2}),Z(qs),this};var wa=n.textColor||"0 g",Zo=_.__private__.getTextColor=_.getTextColor=function(){return Yn(wa)};_.__private__.setTextColor=_.setTextColor=function(x,B,it,ht){return wa=Fr({ch1:x,ch2:B,ch3:it,ch4:ht,pdfColorType:"text",precision:3}),this};var Gi=n.charSpace,is=_.__private__.getCharSpace=_.getCharSpace=function(){return parseFloat(Gi||0)};_.__private__.setCharSpace=_.setCharSpace=function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Gi=x,this};var $i=0;_.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},_.__private__.setLineCap=_.setLineCap=function(x){var B=_.CapJoinStyles[x];if(B===void 0)throw new Error("Line cap style of '"+x+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return $i=B,Z(B+" J"),this};var Lr=0;_.__private__.setLineJoin=_.setLineJoin=function(x){var B=_.CapJoinStyles[x];if(B===void 0)throw new Error("Line join style of '"+x+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Lr=B,Z(B+" j"),this},_.__private__.setLineMiterLimit=_.__private__.setMiterLimit=_.setLineMiterLimit=_.setMiterLimit=function(x){if(x=x||0,isNaN(x))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return Z(V(F(x))+" M"),this},_.GState=Vp,_.setGState=function(x){(x=typeof x=="string"?Pe[Oe[x]]:La(null,x)).equals(Tn)||(Z("/"+x.id+" gs"),Tn=x)};var La=function(x,B){if(!x||!Oe[x]){var it=!1;for(var ht in Pe)if(Pe.hasOwnProperty(ht)&&Pe[ht].equals(B)){it=!0;break}if(it)B=Pe[ht];else{var _t="GS"+(Object.keys(Pe).length+1).toString(10);Pe[_t]=B,B.id=_t}return x&&(Oe[x]=B.id),Je.publish("addGState",B),B}};_.addGState=function(x,B){return La(x,B),this},_.saveGraphicsState=function(){return Z("q"),Xe.push({key:ge,size:Ht,color:wa}),this},_.restoreGraphicsState=function(){Z("Q");var x=Xe.pop();return ge=x.key,Ht=x.size,wa=x.color,Tn=null,this},_.setCurrentTransformationMatrix=function(x){return Z(x.toString()+" cm"),this},_.comment=function(x){return Z("#"+x),this};var ai=function(x,B){var it=x||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return it},set:function(Gt){isNaN(Gt)||(it=parseFloat(Gt))}});var ht=B||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ht},set:function(Gt){isNaN(Gt)||(ht=parseFloat(Gt))}});var _t="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return _t},set:function(Gt){_t=Gt.toString()}}),this},Ia=function(x,B,it,ht){ai.call(this,x,B),this.type="rect";var _t=it||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return _t},set:function(Zt){isNaN(Zt)||(_t=parseFloat(Zt))}});var Gt=ht||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Gt},set:function(Zt){isNaN(Zt)||(Gt=parseFloat(Zt))}}),this},ws=function(){this.page=xe,this.currentPage=K,this.pages=Et.slice(0),this.pagesContext=Se.slice(0),this.x=ve,this.y=Zn,this.matrix=nn,this.width=oa(K),this.height=wo(K),this.outputDestination=qt,this.id="",this.objectNumber=-1};ws.prototype.restore=function(){xe=this.page,K=this.currentPage,Se=this.pagesContext,Et=this.pages,ve=this.x,Zn=this.y,nn=this.matrix,Hs(K,this.width),Yi(K,this.height),qt=this.outputDestination};var Da=function(x,B,it,ht,_t){Ie.push(new ws),xe=K=0,Et=[],ve=x,Zn=B,nn=_t,aa([it,ht])};for(var ka in _.beginFormObject=function(x,B,it,ht,_t){return Da(x,B,it,ht,_t),this},_.endFormObject=function(x){return(function(B){if(Le[B])Ie.pop().restore();else{var it=new ws,ht="Xo"+(Object.keys(ie).length+1).toString(10);it.id=ht,Le[B]=ht,ie[ht]=it,Je.publish("addFormObject",it),Ie.pop().restore()}})(x),this},_.doFormObject=function(x,B){var it=ie[Le[x]];return Z("q"),Z(B.toString()+" cm"),Z("/"+it.id+" Do"),Z("Q"),this},_.getFormObject=function(x){var B=ie[Le[x]];return{x:B.x,y:B.y,width:B.width,height:B.height,matrix:B.matrix}},_.save=function(x,B){return x=x||"generated.pdf",(B=B||{}).returnPromise=B.returnPromise||!1,B.returnPromise===!1?(Ku(_n(sa()),x),typeof Ku.unload=="function"&&tn.setTimeout&&setTimeout(Ku.unload,911),this):new Promise(function(it,ht){try{var _t=Ku(_n(sa()),x);typeof Ku.unload=="function"&&tn.setTimeout&&setTimeout(Ku.unload,911),it(_t)}catch(Gt){ht(Gt.message)}})},Te.API)Te.API.hasOwnProperty(ka)&&(ka==="events"&&Te.API.events.length?(function(x,B){var it,ht,_t;for(_t=B.length-1;_t!==-1;_t--)it=B[_t][0],ht=B[_t][1],x.subscribe.apply(x,[it].concat(typeof ht=="function"?[ht]:ht))})(Je,Te.API.events):_[ka]=Te.API[ka]);function oa(x){return Se[x].mediaBox.topRightX-Se[x].mediaBox.bottomLeftX}function Hs(x,B){Se[x].mediaBox.topRightX=B+Se[x].mediaBox.bottomLeftX}function wo(x){return Se[x].mediaBox.topRightY-Se[x].mediaBox.bottomLeftY}function Yi(x,B){Se[x].mediaBox.topRightY=B+Se[x].mediaBox.bottomLeftY}var Oa=_.getPageWidth=function(x){return oa(x=x||K)/Ye},tl=_.setPageWidth=function(x,B){Hs(x,B*Ye)},xa=_.getPageHeight=function(x){return wo(x=x||K)/Ye},xo=_.setPageHeight=function(x,B){Yi(x,B*Ye)};return _.internal={pdfEscape:Li,getStyle:Qo,getFont:_a,getFontSize:se,getCharSpace:is,getTextColor:Zo,getLineHeight:Us,getLineHeightFactor:_s,getLineWidth:bs,write:ne,getHorizontalCoordinate:Wr,getVerticalCoordinate:Vr,getCoordinateString:zs,getVerticalCoordinateString:jn,collections:{},newObject:Hn,newAdditionalObject:mi,newObjectDeferred:tr,newObjectDeferredBegin:jr,getFilters:Ci,putStream:ra,events:Je,scaleFactor:Ye,pageSize:{getWidth:function(){return Oa(K)},setWidth:function(x){tl(K,x)},getHeight:function(){return xa(K)},setHeight:function(x){xo(K,x)}},encryptionOptions:g,encryption:lr,getEncryptor:function(x){return g!==null?lr.encryptor(x,0):function(B){return B}},output:ys,getNumberOfPages:yo,get pages(){return Et},out:Z,f2:T,f3:P,getPageInfo:Sr,getPageInfoByObjId:Bs,getCurrentPageInfo:Ol,getPDFVersion:M,Point:ai,Rectangle:Ia,Matrix:ae,hasHotfix:Rr},Object.defineProperty(_.internal.pageSize,"width",{get:function(){return Oa(K)},set:function(x){tl(K,x)},enumerable:!0,configurable:!0}),Object.defineProperty(_.internal.pageSize,"height",{get:function(){return xa(K)},set:function(x){xo(K,x)},enumerable:!0,configurable:!0}),(function(x){for(var B=0,it=ce.length;B<it;B++){var ht=mo.call(this,x[B][0],x[B][1],x[B][2],ce[B][3],!0);w===!1&&(S[ht]=!0);var _t=x[B][0].split("-");pr({id:ht,fontName:_t[0],fontStyle:_t[1]||""})}Je.publish("addFonts",{fonts:Re,dictionary:qe})}).call(_,ce),ge="F1",ba(s,e),Je.publish("initialized"),_}Jc.prototype.lsbFirstWord=function(n){return String.fromCharCode(255&n,n>>8&255,n>>16&255,n>>24&255)},Jc.prototype.toHexString=function(n){return n.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Jc.prototype.hexToBytes=function(n){for(var t=[],e=0;e<n.length;e+=2)t.push(String.fromCharCode(parseInt(n.substr(e,2),16)));return t.join("")},Jc.prototype.processOwnerPassword=function(n,t){return J0(X0(t).substr(0,5),n)},Jc.prototype.encryptor=function(n,t){var e=X0(this.encryptionKey+String.fromCharCode(255&n,n>>8&255,n>>16&255,255&t,t>>8&255)).substr(0,10);return function(i){return J0(e,i)}},Vp.prototype.equals=function(n){var t,e="id,objectNumber,equals";if(!n||Jn(n)!==Jn(this))return!1;var i=0;for(t in this)if(!(e.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!n.hasOwnProperty(t)||this[t]!==n[t])return!1;i++}for(t in n)n.hasOwnProperty(t)&&e.indexOf(t)<0&&i--;return i===0},Te.API={events:[]},Te.version="3.0.4";var $r=Te.API,u2=1,cc=function(n){return n.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},$c=function(n){return n.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},on=function(n){return n.toFixed(2)},cu=function(n){return n.toFixed(5)};$r.__acroform__={};var Ja=function(n,t){n.prototype=Object.create(t.prototype),n.prototype.constructor=n},s_=function(n){return n*u2},Fo=function(n){var t=new q4,e=we.internal.getHeight(n)||0,i=we.internal.getWidth(n)||0;return t.BBox=[0,0,Number(on(i)),Number(on(e))],t},HL=$r.__acroform__.setBit=function(n,t){if(n=n||0,t=t||0,isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return n|1<<t},GL=$r.__acroform__.clearBit=function(n,t){if(n=n||0,t=t||0,isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return n&~(1<<t)},$L=$r.__acroform__.getBit=function(n,t){if(isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return n&1<<t?1:0},Jr=$r.__acroform__.getBitForPdf=function(n,t){if(isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return $L(n,t-1)},Zr=$r.__acroform__.setBitForPdf=function(n,t){if(isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return HL(n,t-1)},ti=$r.__acroform__.clearBitForPdf=function(n,t){if(isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return GL(n,t-1)},YL=$r.__acroform__.calculateCoordinates=function(n,t){var e=t.internal.getHorizontalCoordinate,i=t.internal.getVerticalCoordinate,s=n[0],o=n[1],u=n[2],h=n[3],f={};return f.lowerLeft_X=e(s)||0,f.lowerLeft_Y=i(o+h)||0,f.upperRight_X=e(s+u)||0,f.upperRight_Y=i(o)||0,[Number(on(f.lowerLeft_X)),Number(on(f.lowerLeft_Y)),Number(on(f.upperRight_X)),Number(on(f.upperRight_Y))]},WL=function(n){if(n.appearanceStreamContent)return n.appearanceStreamContent;if(n.V||n.DV){var t=[],e=n._V||n.DV,i=Z0(n,e),s=n.scope.internal.getFont(n.fontName,n.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(n.scope.__private__.encodeColorString(n.color)),t.push("/"+s+" "+on(i.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(i.text),t.push("ET"),t.push("Q"),t.push("EMC");var o=Fo(n);return o.scope=n.scope,o.stream=t.join(`
`),o}},Z0=function(n,t){var e=n.fontSize===0?n.maxFontSize:n.fontSize,i={text:"",fontSize:""},s=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");s=n.multiline?s.map(function(T){return T.split(`
`)}):s.map(function(T){return[T]});var o=e,u=we.internal.getHeight(n)||0;u=u<0?-u:u;var h=we.internal.getWidth(n)||0;h=h<0?-h:h;var f=function(T,P,F){if(T+1<s.length){var lt=P+" "+s[T+1][0];return np(lt,n,F).width<=h-4}return!1};o++;t:for(;o>0;){t="",o--;var d,g,w=np("3",n,o).height,S=n.multiline?u-o:(u-w)/2,_=S+=2,N=0,M=0,j=0;if(o<=0){t=`(...) Tj
`,t+="% Width of Text: "+np(t,n,o=12).width+", FieldWidth:"+h+`
`;break}for(var R="",Q=0,W=0;W<s.length;W++)if(s.hasOwnProperty(W)){var nt=!1;if(s[W].length!==1&&j!==s[W].length-1){if((w+2)*(Q+2)+2>u)continue t;R+=s[W][j],nt=!0,M=W,W--}else{R=(R+=s[W][j]+" ").substr(R.length-1)==" "?R.substr(0,R.length-1):R;var mt=parseInt(W),bt=f(mt,R,o),q=W>=s.length-1;if(bt&&!q){R+=" ",j=0;continue}if(bt||q){if(q)M=mt;else if(n.multiline&&(w+2)*(Q+2)+2>u)continue t}else{if(!n.multiline||(w+2)*(Q+2)+2>u)continue t;M=mt}}for(var V="",D=N;D<=M;D++){var H=s[D];if(n.multiline){if(D===M){V+=H[j]+" ",j=(j+1)%H.length;continue}if(D===N){V+=H[H.length-1]+" ";continue}}V+=H[0]+" "}switch(V=V.substr(V.length-1)==" "?V.substr(0,V.length-1):V,g=np(V,n,o).width,n.textAlign){case"right":d=h-g-2;break;case"center":d=(h-g)/2;break;default:d=2}t+=on(d)+" "+on(_)+` Td
`,t+="("+cc(V)+`) Tj
`,t+=-on(d)+` 0 Td
`,_=-(o+2),g=0,N=nt?M:M+1,Q++,R=""}break}return i.text=t,i.fontSize=o,i},np=function(n,t,e){var i=t.scope.internal.getFont(t.fontName,t.fontStyle),s=t.scope.getStringUnitWidth(n,{font:i,fontSize:parseFloat(e),charSpace:0})*parseFloat(e);return{height:t.scope.getStringUnitWidth("3",{font:i,fontSize:parseFloat(e),charSpace:0})*parseFloat(e)*1.5,width:s}},KL={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},QL=function(n,t){var e={type:"reference",object:n};t.internal.getPageInfo(n.page).pageContext.annotations.find(function(i){return i.type===e.type&&i.object===e.object})===void 0&&t.internal.getPageInfo(n.page).pageContext.annotations.push(e)},XL=function(n,t){if(t.scope=n,n.internal!==void 0&&(n.internal.acroformPlugin===void 0||n.internal.acroformPlugin.isInitialized===!1)){if(fo.FieldNum=0,n.internal.acroformPlugin=JSON.parse(JSON.stringify(KL)),n.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");u2=n.internal.scaleFactor,n.internal.acroformPlugin.acroFormDictionaryRoot=new H4,n.internal.acroformPlugin.acroFormDictionaryRoot.scope=n,n.internal.acroformPlugin.acroFormDictionaryRoot._eventID=n.internal.events.subscribe("postPutResources",function(){(function(e){e.internal.events.unsubscribe(e.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete e.internal.acroformPlugin.acroFormDictionaryRoot._eventID,e.internal.acroformPlugin.printedOut=!0})(n)}),n.internal.events.subscribe("buildDocument",function(){(function(e){e.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var i=e.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var s in i)if(i.hasOwnProperty(s)){var o=i[s];o.objId=void 0,o.hasAnnotation&&QL(o,e)}})(n)}),n.internal.events.subscribe("putCatalog",function(){(function(e){if(e.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");e.internal.write("/AcroForm "+e.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(n)}),n.internal.events.subscribe("postPutPages",function(e){(function(i,s){var o=!i;for(var u in i||(s.internal.newObjectDeferredBegin(s.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),s.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),i=i||s.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(i.hasOwnProperty(u)){var h=i[u],f=[],d=h.Rect;if(h.Rect&&(h.Rect=YL(h.Rect,s)),s.internal.newObjectDeferredBegin(h.objId,!0),h.DA=we.createDefaultAppearanceStream(h),Jn(h)==="object"&&typeof h.getKeyValueListForStream=="function"&&(f=h.getKeyValueListForStream()),h.Rect=d,h.hasAppearanceStream&&!h.appearanceStreamContent){var g=WL(h);f.push({key:"AP",value:"<</N "+g+">>"}),s.internal.acroformPlugin.xForms.push(g)}if(h.appearanceStreamContent){var w="";for(var S in h.appearanceStreamContent)if(h.appearanceStreamContent.hasOwnProperty(S)){var _=h.appearanceStreamContent[S];if(w+="/"+S+" ",w+="<<",Object.keys(_).length>=1||Array.isArray(_)){for(var u in _)if(_.hasOwnProperty(u)){var N=_[u];typeof N=="function"&&(N=N.call(s,h)),w+="/"+u+" "+N+" ",s.internal.acroformPlugin.xForms.indexOf(N)>=0||s.internal.acroformPlugin.xForms.push(N)}}else typeof(N=_)=="function"&&(N=N.call(s,h)),w+="/"+u+" "+N,s.internal.acroformPlugin.xForms.indexOf(N)>=0||s.internal.acroformPlugin.xForms.push(N);w+=">>"}f.push({key:"AP",value:`<<
`+w+">>"})}s.internal.putStream({additionalKeyValues:f,objectId:h.objId}),s.internal.out("endobj")}o&&(function(M,j){for(var R in M)if(M.hasOwnProperty(R)){var Q=R,W=M[R];j.internal.newObjectDeferredBegin(W.objId,!0),Jn(W)==="object"&&typeof W.putStream=="function"&&W.putStream(),delete M[Q]}})(s.internal.acroformPlugin.xForms,s)})(e,n)}),n.internal.acroformPlugin.isInitialized=!0}},z4=$r.__acroform__.arrayToPdfArray=function(n,t,e){var i=function(u){return u};if(Array.isArray(n)){for(var s="[",o=0;o<n.length;o++)switch(o!==0&&(s+=" "),Jn(n[o])){case"boolean":case"number":case"object":s+=n[o].toString();break;case"string":n[o].substr(0,1)!=="/"?(t!==void 0&&e&&(i=e.internal.getEncryptor(t)),s+="("+cc(i(n[o].toString()))+")"):s+=n[o].toString()}return s+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},u0=function(n,t,e){var i=function(s){return s};return t!==void 0&&e&&(i=e.internal.getEncryptor(t)),(n=n||"").toString(),"("+cc(i(n))+")"},Bo=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(n){this._objId=n}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Bo.prototype.toString=function(){return this.objId+" 0 R"},Bo.prototype.putStream=function(){var n=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:n,objectId:this.objId}),this.scope.internal.out("endobj")},Bo.prototype.getKeyValueListForStream=function(){var n=[],t=Object.getOwnPropertyNames(this).filter(function(o){return o!="content"&&o!="appearanceStreamContent"&&o!="scope"&&o!="objId"&&o.substring(0,1)!="_"});for(var e in t)if(Object.getOwnPropertyDescriptor(this,t[e]).configurable===!1){var i=t[e],s=this[i];s&&(Array.isArray(s)?n.push({key:i,value:z4(s,this.objId,this.scope)}):s instanceof Bo?(s.scope=this.scope,n.push({key:i,value:s.objId+" 0 R"})):typeof s!="function"&&n.push({key:i,value:s}))}return n};var q4=function(){Bo.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var n,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(e){n=e.trim()},get:function(){return n||null}})};Ja(q4,Bo);var H4=function(){Bo.call(this);var n,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(n){var e=function(i){return i};return this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),"("+cc(e(n))+")"}},set:function(e){n=e}})};Ja(H4,Bo);var fo=function n(){Bo.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(R){if(isNaN(R))throw new Error('Invalid value "'+R+'" for attribute F supplied.');t=R}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Jr(t,3)},set:function(R){R?this.F=Zr(t,3):this.F=ti(t,3)}});var e=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return e},set:function(R){if(isNaN(R))throw new Error('Invalid value "'+R+'" for attribute Ff supplied.');e=R}});var i=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(i.length!==0)return i},set:function(R){i=R!==void 0?R:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[0])?0:i[0]},set:function(R){i[0]=R}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[1])?0:i[1]},set:function(R){i[1]=R}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[2])?0:i[2]},set:function(R){i[2]=R}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[3])?0:i[3]},set:function(R){i[3]=R}});var s="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return s},set:function(R){switch(R){case"/Btn":case"/Tx":case"/Ch":case"/Sig":s=R;break;default:throw new Error('Invalid value "'+R+'" for attribute FT supplied.')}}});var o=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!o||o.length<1){if(this instanceof Bp)return;o="FieldObject"+n.FieldNum++}var R=function(Q){return Q};return this.scope&&(R=this.scope.internal.getEncryptor(this.objId)),"("+cc(R(o))+")"},set:function(R){o=R.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return o},set:function(R){o=R}});var u="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return u},set:function(R){u=R}});var h="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return h},set:function(R){h=R}});var f=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return f},set:function(R){f=R}});var d=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return d===void 0?50/u2:d},set:function(R){d=R}});var g="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return g},set:function(R){g=R}});var w="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!w||this instanceof Bp||this instanceof tc))return u0(w,this.objId,this.scope)},set:function(R){R=R.toString(),w=R}});var S=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(S)return this instanceof Bi==0?u0(S,this.objId,this.scope):S},set:function(R){R=R.toString(),S=this instanceof Bi==0?R.substr(0,1)==="("?$c(R.substr(1,R.length-2)):$c(R):R}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Bi==1?$c(S.substr(1,S.length-1)):S},set:function(R){R=R.toString(),S=this instanceof Bi==1?"/"+R:R}});var _=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(_)return _},set:function(R){this.V=R}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(_)return this instanceof Bi==0?u0(_,this.objId,this.scope):_},set:function(R){R=R.toString(),_=this instanceof Bi==0?R.substr(0,1)==="("?$c(R.substr(1,R.length-2)):$c(R):R}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Bi==1?$c(_.substr(1,_.length-1)):_},set:function(R){R=R.toString(),_=this instanceof Bi==1?"/"+R:R}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var N,M=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return M},set:function(R){R=!!R,M=R}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(N)return N},set:function(R){N=R}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Jr(this.Ff,1)},set:function(R){R?this.Ff=Zr(this.Ff,1):this.Ff=ti(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Jr(this.Ff,2)},set:function(R){R?this.Ff=Zr(this.Ff,2):this.Ff=ti(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Jr(this.Ff,3)},set:function(R){R?this.Ff=Zr(this.Ff,3):this.Ff=ti(this.Ff,3)}});var j=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(j!==null)return j},set:function(R){if([0,1,2].indexOf(R)===-1)throw new Error('Invalid value "'+R+'" for attribute Q supplied.');j=R}}),Object.defineProperty(this,"textAlign",{get:function(){var R;switch(j){case 0:default:R="left";break;case 1:R="center";break;case 2:R="right"}return R},configurable:!0,enumerable:!0,set:function(R){switch(R){case"right":case 2:j=2;break;case"center":case 1:j=1;break;default:j=0}}})};Ja(fo,Bo);var ih=function(){fo.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var n=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return n},set:function(e){n=e}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return z4(t,this.objId,this.scope)},set:function(e){var i,s;s=[],typeof(i=e)=="string"&&(s=(function(o,u,h){h||(h=1);for(var f,d=[];f=u.exec(o);)d.push(f[h]);return d})(i,/\((.*?)\)/g)),t=s}}),this.getOptions=function(){return t},this.setOptions=function(e){t=e,this.sort&&t.sort()},this.addOption=function(e){e=(e=e||"").toString(),t.push(e),this.sort&&t.sort()},this.removeOption=function(e,i){for(i=i||!1,e=(e=e||"").toString();t.indexOf(e)!==-1&&(t.splice(t.indexOf(e),1),i!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Jr(this.Ff,18)},set:function(e){e?this.Ff=Zr(this.Ff,18):this.Ff=ti(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Jr(this.Ff,19)},set:function(e){this.combo===!0&&(e?this.Ff=Zr(this.Ff,19):this.Ff=ti(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Jr(this.Ff,20)},set:function(e){e?(this.Ff=Zr(this.Ff,20),t.sort()):this.Ff=ti(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Jr(this.Ff,22)},set:function(e){e?this.Ff=Zr(this.Ff,22):this.Ff=ti(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Jr(this.Ff,23)},set:function(e){e?this.Ff=Zr(this.Ff,23):this.Ff=ti(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Jr(this.Ff,27)},set:function(e){e?this.Ff=Zr(this.Ff,27):this.Ff=ti(this.Ff,27)}}),this.hasAppearanceStream=!1};Ja(ih,fo);var ah=function(){ih.call(this),this.fontName="helvetica",this.combo=!1};Ja(ah,ih);var sh=function(){ah.call(this),this.combo=!0};Ja(sh,ah);var gp=function(){sh.call(this),this.edit=!0};Ja(gp,sh);var Bi=function(){fo.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Jr(this.Ff,15)},set:function(e){e?this.Ff=Zr(this.Ff,15):this.Ff=ti(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Jr(this.Ff,16)},set:function(e){e?this.Ff=Zr(this.Ff,16):this.Ff=ti(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Jr(this.Ff,17)},set:function(e){e?this.Ff=Zr(this.Ff,17):this.Ff=ti(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Jr(this.Ff,26)},set:function(e){e?this.Ff=Zr(this.Ff,26):this.Ff=ti(this.Ff,26)}});var n,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var e=function(o){return o};if(this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var i,s=[];for(i in s.push("<<"),t)s.push("/"+i+" ("+cc(e(t[i]))+")");return s.push(">>"),s.join(`
`)}},set:function(e){Jn(e)==="object"&&(t=e)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(e){typeof e=="string"&&(t.CA=e)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(e){n="/"+e}})};Ja(Bi,fo);var yp=function(){Bi.call(this),this.pushButton=!0};Ja(yp,Bi);var oh=function(){Bi.call(this),this.radio=!0,this.pushButton=!1;var n=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return n},set:function(t){n=t!==void 0?t:[]}})};Ja(oh,Bi);var Bp=function(){var n,t;fo.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return n},set:function(s){n=s}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(s){t=s}});var e,i={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var s=function(h){return h};this.scope&&(s=this.scope.internal.getEncryptor(this.objId));var o,u=[];for(o in u.push("<<"),i)u.push("/"+o+" ("+cc(s(i[o]))+")");return u.push(">>"),u.join(`
`)},set:function(s){Jn(s)==="object"&&(i=s)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return i.CA||""},set:function(s){typeof s=="string"&&(i.CA=s)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(s){e=s}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(s){e="/"+s}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=we.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Ja(Bp,fo),oh.prototype.setAppearance=function(n){if(!("createAppearanceStream"in n)||!("getCA"in n))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var e=this.Kids[t];e.appearanceStreamContent=n.createAppearanceStream(e.optionName),e.caption=n.getCA()}},oh.prototype.createOption=function(n){var t=new Bp;return t.Parent=this,t.optionName=n,this.Kids.push(t),JL.call(this.scope,t),t};var vp=function(){Bi.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=we.CheckBox.createAppearanceStream()};Ja(vp,Bi);var tc=function(){fo.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Jr(this.Ff,13)},set:function(t){t?this.Ff=Zr(this.Ff,13):this.Ff=ti(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Jr(this.Ff,21)},set:function(t){t?this.Ff=Zr(this.Ff,21):this.Ff=ti(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Jr(this.Ff,23)},set:function(t){t?this.Ff=Zr(this.Ff,23):this.Ff=ti(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Jr(this.Ff,24)},set:function(t){t?this.Ff=Zr(this.Ff,24):this.Ff=ti(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Jr(this.Ff,25)},set:function(t){t?this.Ff=Zr(this.Ff,25):this.Ff=ti(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Jr(this.Ff,26)},set:function(t){t?this.Ff=Zr(this.Ff,26):this.Ff=ti(this.Ff,26)}});var n=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return n},set:function(t){Number.isInteger(t)&&(n=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Ja(tc,fo);var bp=function(){tc.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Jr(this.Ff,14)},set:function(n){n?this.Ff=Zr(this.Ff,14):this.Ff=ti(this.Ff,14)}}),this.password=!0};Ja(bp,tc);var we={CheckBox:{createAppearanceStream:function(){return{N:{On:we.CheckBox.YesNormal},D:{On:we.CheckBox.YesPushDown,Off:we.CheckBox.OffPushDown}}},YesPushDown:function(n){var t=Fo(n);t.scope=n.scope;var e=[],i=n.scope.internal.getFont(n.fontName,n.fontStyle).id,s=n.scope.__private__.encodeColorString(n.color),o=Z0(n,n.caption);return e.push("0.749023 g"),e.push("0 0 "+on(we.internal.getWidth(n))+" "+on(we.internal.getHeight(n))+" re"),e.push("f"),e.push("BMC"),e.push("q"),e.push("0 0 1 rg"),e.push("/"+i+" "+on(o.fontSize)+" Tf "+s),e.push("BT"),e.push(o.text),e.push("ET"),e.push("Q"),e.push("EMC"),t.stream=e.join(`
`),t},YesNormal:function(n){var t=Fo(n);t.scope=n.scope;var e=n.scope.internal.getFont(n.fontName,n.fontStyle).id,i=n.scope.__private__.encodeColorString(n.color),s=[],o=we.internal.getHeight(n),u=we.internal.getWidth(n),h=Z0(n,n.caption);return s.push("1 g"),s.push("0 0 "+on(u)+" "+on(o)+" re"),s.push("f"),s.push("q"),s.push("0 0 1 rg"),s.push("0 0 "+on(u-1)+" "+on(o-1)+" re"),s.push("W"),s.push("n"),s.push("0 g"),s.push("BT"),s.push("/"+e+" "+on(h.fontSize)+" Tf "+i),s.push(h.text),s.push("ET"),s.push("Q"),t.stream=s.join(`
`),t},OffPushDown:function(n){var t=Fo(n);t.scope=n.scope;var e=[];return e.push("0.749023 g"),e.push("0 0 "+on(we.internal.getWidth(n))+" "+on(we.internal.getHeight(n))+" re"),e.push("f"),t.stream=e.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(n){var t={D:{Off:we.RadioButton.Circle.OffPushDown},N:{}};return t.N[n]=we.RadioButton.Circle.YesNormal,t.D[n]=we.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(n){var t=Fo(n);t.scope=n.scope;var e=[],i=we.internal.getWidth(n)<=we.internal.getHeight(n)?we.internal.getWidth(n)/4:we.internal.getHeight(n)/4;i=Number((.9*i).toFixed(5));var s=we.internal.Bezier_C,o=Number((i*s).toFixed(5));return e.push("q"),e.push("1 0 0 1 "+cu(we.internal.getWidth(n)/2)+" "+cu(we.internal.getHeight(n)/2)+" cm"),e.push(i+" 0 m"),e.push(i+" "+o+" "+o+" "+i+" 0 "+i+" c"),e.push("-"+o+" "+i+" -"+i+" "+o+" -"+i+" 0 c"),e.push("-"+i+" -"+o+" -"+o+" -"+i+" 0 -"+i+" c"),e.push(o+" -"+i+" "+i+" -"+o+" "+i+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join(`
`),t},YesPushDown:function(n){var t=Fo(n);t.scope=n.scope;var e=[],i=we.internal.getWidth(n)<=we.internal.getHeight(n)?we.internal.getWidth(n)/4:we.internal.getHeight(n)/4;i=Number((.9*i).toFixed(5));var s=Number((2*i).toFixed(5)),o=Number((s*we.internal.Bezier_C).toFixed(5)),u=Number((i*we.internal.Bezier_C).toFixed(5));return e.push("0.749023 g"),e.push("q"),e.push("1 0 0 1 "+cu(we.internal.getWidth(n)/2)+" "+cu(we.internal.getHeight(n)/2)+" cm"),e.push(s+" 0 m"),e.push(s+" "+o+" "+o+" "+s+" 0 "+s+" c"),e.push("-"+o+" "+s+" -"+s+" "+o+" -"+s+" 0 c"),e.push("-"+s+" -"+o+" -"+o+" -"+s+" 0 -"+s+" c"),e.push(o+" -"+s+" "+s+" -"+o+" "+s+" 0 c"),e.push("f"),e.push("Q"),e.push("0 g"),e.push("q"),e.push("1 0 0 1 "+cu(we.internal.getWidth(n)/2)+" "+cu(we.internal.getHeight(n)/2)+" cm"),e.push(i+" 0 m"),e.push(i+" "+u+" "+u+" "+i+" 0 "+i+" c"),e.push("-"+u+" "+i+" -"+i+" "+u+" -"+i+" 0 c"),e.push("-"+i+" -"+u+" -"+u+" -"+i+" 0 -"+i+" c"),e.push(u+" -"+i+" "+i+" -"+u+" "+i+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join(`
`),t},OffPushDown:function(n){var t=Fo(n);t.scope=n.scope;var e=[],i=we.internal.getWidth(n)<=we.internal.getHeight(n)?we.internal.getWidth(n)/4:we.internal.getHeight(n)/4;i=Number((.9*i).toFixed(5));var s=Number((2*i).toFixed(5)),o=Number((s*we.internal.Bezier_C).toFixed(5));return e.push("0.749023 g"),e.push("q"),e.push("1 0 0 1 "+cu(we.internal.getWidth(n)/2)+" "+cu(we.internal.getHeight(n)/2)+" cm"),e.push(s+" 0 m"),e.push(s+" "+o+" "+o+" "+s+" 0 "+s+" c"),e.push("-"+o+" "+s+" -"+s+" "+o+" -"+s+" 0 c"),e.push("-"+s+" -"+o+" -"+o+" -"+s+" 0 -"+s+" c"),e.push(o+" -"+s+" "+s+" -"+o+" "+s+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join(`
`),t}},Cross:{createAppearanceStream:function(n){var t={D:{Off:we.RadioButton.Cross.OffPushDown},N:{}};return t.N[n]=we.RadioButton.Cross.YesNormal,t.D[n]=we.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(n){var t=Fo(n);t.scope=n.scope;var e=[],i=we.internal.calculateCross(n);return e.push("q"),e.push("1 1 "+on(we.internal.getWidth(n)-2)+" "+on(we.internal.getHeight(n)-2)+" re"),e.push("W"),e.push("n"),e.push(on(i.x1.x)+" "+on(i.x1.y)+" m"),e.push(on(i.x2.x)+" "+on(i.x2.y)+" l"),e.push(on(i.x4.x)+" "+on(i.x4.y)+" m"),e.push(on(i.x3.x)+" "+on(i.x3.y)+" l"),e.push("s"),e.push("Q"),t.stream=e.join(`
`),t},YesPushDown:function(n){var t=Fo(n);t.scope=n.scope;var e=we.internal.calculateCross(n),i=[];return i.push("0.749023 g"),i.push("0 0 "+on(we.internal.getWidth(n))+" "+on(we.internal.getHeight(n))+" re"),i.push("f"),i.push("q"),i.push("1 1 "+on(we.internal.getWidth(n)-2)+" "+on(we.internal.getHeight(n)-2)+" re"),i.push("W"),i.push("n"),i.push(on(e.x1.x)+" "+on(e.x1.y)+" m"),i.push(on(e.x2.x)+" "+on(e.x2.y)+" l"),i.push(on(e.x4.x)+" "+on(e.x4.y)+" m"),i.push(on(e.x3.x)+" "+on(e.x3.y)+" l"),i.push("s"),i.push("Q"),t.stream=i.join(`
`),t},OffPushDown:function(n){var t=Fo(n);t.scope=n.scope;var e=[];return e.push("0.749023 g"),e.push("0 0 "+on(we.internal.getWidth(n))+" "+on(we.internal.getHeight(n))+" re"),e.push("f"),t.stream=e.join(`
`),t}}},createDefaultAppearanceStream:function(n){var t=n.scope.internal.getFont(n.fontName,n.fontStyle).id,e=n.scope.__private__.encodeColorString(n.color);return"/"+t+" "+n.fontSize+" Tf "+e}};we.internal={Bezier_C:.551915024494,calculateCross:function(n){var t=we.internal.getWidth(n),e=we.internal.getHeight(n),i=Math.min(t,e);return{x1:{x:(t-i)/2,y:(e-i)/2+i},x2:{x:(t-i)/2+i,y:(e-i)/2},x3:{x:(t-i)/2,y:(e-i)/2},x4:{x:(t-i)/2+i,y:(e-i)/2+i}}}},we.internal.getWidth=function(n){var t=0;return Jn(n)==="object"&&(t=s_(n.Rect[2])),t},we.internal.getHeight=function(n){var t=0;return Jn(n)==="object"&&(t=s_(n.Rect[3])),t};var JL=$r.addField=function(n){if(XL(this,n),!(n instanceof fo))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=n).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),n.page=n.scope.internal.getCurrentPageInfo().pageNumber,this};$r.AcroFormChoiceField=ih,$r.AcroFormListBox=ah,$r.AcroFormComboBox=sh,$r.AcroFormEditBox=gp,$r.AcroFormButton=Bi,$r.AcroFormPushButton=yp,$r.AcroFormRadioButton=oh,$r.AcroFormCheckBox=vp,$r.AcroFormTextField=tc,$r.AcroFormPasswordField=bp,$r.AcroFormAppearance=we,$r.AcroForm={ChoiceField:ih,ListBox:ah,ComboBox:sh,EditBox:gp,Button:Bi,PushButton:yp,RadioButton:oh,CheckBox:vp,TextField:tc,PasswordField:bp,Appearance:we},Te.AcroForm={ChoiceField:ih,ListBox:ah,ComboBox:sh,EditBox:gp,Button:Bi,PushButton:yp,RadioButton:oh,CheckBox:vp,TextField:tc,PasswordField:bp,Appearance:we};Te.AcroForm;function G4(n){return n.reduce(function(t,e,i){return t[e]=i,t},{})}(function(n){var t="addImage_";n.__addimage__={};var e="UNKNOWN",i={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},s=n.__addimage__.getImageFileTypeByImageData=function(T,P){var F,lt,xt,ot,dt,ft=e;if((P=P||e)==="RGBA"||T.data!==void 0&&T.data instanceof Uint8ClampedArray&&"height"in T&&"width"in T)return"RGBA";if(bt(T))for(dt in i)for(xt=i[dt],F=0;F<xt.length;F+=1){for(ot=!0,lt=0;lt<xt[F].length;lt+=1)if(xt[F][lt]!==void 0&&xt[F][lt]!==T[lt]){ot=!1;break}if(ot===!0){ft=dt;break}}else for(dt in i)for(xt=i[dt],F=0;F<xt.length;F+=1){for(ot=!0,lt=0;lt<xt[F].length;lt+=1)if(xt[F][lt]!==void 0&&xt[F][lt]!==T.charCodeAt(lt)){ot=!1;break}if(ot===!0){ft=dt;break}}return ft===e&&P!==e&&(ft=P),ft},o=function T(P){for(var F=this.internal.write,lt=this.internal.putStream,xt=(0,this.internal.getFilters)();xt.indexOf("FlateEncode")!==-1;)xt.splice(xt.indexOf("FlateEncode"),1);P.objectId=this.internal.newObject();var ot=[];if(ot.push({key:"Type",value:"/XObject"}),ot.push({key:"Subtype",value:"/Image"}),ot.push({key:"Width",value:P.width}),ot.push({key:"Height",value:P.height}),P.colorSpace===R.INDEXED?ot.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(P.palette.length/3-1)+" "+("sMask"in P&&P.sMask!==void 0?P.objectId+2:P.objectId+1)+" 0 R]"}):(ot.push({key:"ColorSpace",value:"/"+P.colorSpace}),P.colorSpace===R.DEVICE_CMYK&&ot.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),ot.push({key:"BitsPerComponent",value:P.bitsPerComponent}),"decodeParameters"in P&&P.decodeParameters!==void 0&&ot.push({key:"DecodeParms",value:"<<"+P.decodeParameters+">>"}),"transparency"in P&&Array.isArray(P.transparency)&&P.transparency.length>0){for(var dt="",ft=0,Nt=P.transparency.length;ft<Nt;ft++)dt+=P.transparency[ft]+" "+P.transparency[ft]+" ";ot.push({key:"Mask",value:"["+dt+"]"})}P.sMask!==void 0&&ot.push({key:"SMask",value:P.objectId+1+" 0 R"});var Wt=P.filter!==void 0?["/"+P.filter]:void 0;if(lt({data:P.data,additionalKeyValues:ot,alreadyAppliedFilters:Wt,objectId:P.objectId}),F("endobj"),"sMask"in P&&P.sMask!==void 0){var $,O=($=P.sMaskBitsPerComponent)!==null&&$!==void 0?$:P.bitsPerComponent,K={width:P.width,height:P.height,colorSpace:"DeviceGray",bitsPerComponent:O,data:P.sMask};"filter"in P&&(K.decodeParameters="/Predictor ".concat(P.predictor," /Colors 1 /BitsPerComponent ").concat(O," /Columns ").concat(P.width),K.filter=P.filter),T.call(this,K)}if(P.colorSpace===R.INDEXED){var tt=this.internal.newObject();lt({data:V(new Uint8Array(P.palette)),objectId:tt}),F("endobj")}},u=function(){var T=this.internal.collections[t+"images"];for(var P in T)o.call(this,T[P])},h=function(){var T,P=this.internal.collections[t+"images"],F=this.internal.write;for(var lt in P)F("/I"+(T=P[lt]).index,T.objectId,"0","R")},f=function(){this.internal.collections[t+"images"]||(this.internal.collections[t+"images"]={},this.internal.events.subscribe("putResources",u),this.internal.events.subscribe("putXobjectDict",h))},d=function(){var T=this.internal.collections[t+"images"];return f.call(this),T},g=function(){return Object.keys(this.internal.collections[t+"images"]).length},w=function(T){return typeof n["process"+T.toUpperCase()]=="function"},S=function(T){return Jn(T)==="object"&&T.nodeType===1},_=function(T,P){if(T.nodeName==="IMG"&&T.hasAttribute("src")){var F=""+T.getAttribute("src");if(F.indexOf("data:image/")===0)return mp(unescape(F).split("base64,").pop());var lt=n.loadFile(F,!0);if(lt!==void 0)return lt}if(T.nodeName==="CANVAS"){if(T.width===0||T.height===0)throw new Error("Given canvas must have data. Canvas width: "+T.width+", height: "+T.height);var xt;switch(P){case"PNG":xt="image/png";break;case"WEBP":xt="image/webp";break;default:xt="image/jpeg"}return mp(T.toDataURL(xt,1).split("base64,").pop())}},N=function(T){var P=this.internal.collections[t+"images"];if(P){for(var F in P)if(T===P[F].alias)return P[F]}},M=function(T,P,F){return T||P||(T=-96,P=-96),T<0&&(T=-1*F.width*72/T/this.internal.scaleFactor),P<0&&(P=-1*F.height*72/P/this.internal.scaleFactor),T===0&&(T=P*F.width/F.height),P===0&&(P=T*F.height/F.width),[T,P]},j=function(T,P,F,lt,xt,ot){var dt=M.call(this,F,lt,xt),ft=this.internal.getCoordinateString,Nt=this.internal.getVerticalCoordinateString,Wt=d.call(this);if(F=dt[0],lt=dt[1],Wt[xt.index]=xt,ot){ot*=Math.PI/180;var $=Math.cos(ot),O=Math.sin(ot),K=function(st){return st.toFixed(4)},tt=[K($),K(O),K(-1*O),K($),0,0,"cm"]}this.internal.write("q"),ot?(this.internal.write([1,"0","0",1,ft(T),Nt(P+lt),"cm"].join(" ")),this.internal.write(tt.join(" ")),this.internal.write([ft(F),"0","0",ft(lt),"0","0","cm"].join(" "))):this.internal.write([ft(F),"0","0",ft(lt),ft(T),Nt(P+lt),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+xt.index+" Do"),this.internal.write("Q")},R=n.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};n.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var Q=n.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},W=n.__addimage__.sHashCode=function(T){var P,F,lt=0;if(typeof T=="string")for(F=T.length,P=0;P<F;P++)lt=(lt<<5)-lt+T.charCodeAt(P),lt|=0;else if(bt(T))for(F=T.byteLength/2,P=0;P<F;P++)lt=(lt<<5)-lt+T[P],lt|=0;return lt},nt=n.__addimage__.validateStringAsBase64=function(T){(T=T||"").toString().trim();var P=!0;return T.length===0&&(P=!1),T.length%4!=0&&(P=!1),/^[A-Za-z0-9+/]+$/.test(T.substr(0,T.length-2))===!1&&(P=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(T.substr(-2))===!1&&(P=!1),P},mt=n.__addimage__.extractImageFromDataUrl=function(T){if(T==null||!(T=T.trim()).startsWith("data:"))return null;var P=T.indexOf(",");return P<0?null:T.substring(0,P).trim().endsWith("base64")?T.substring(P+1):null};n.__addimage__.isArrayBuffer=function(T){return T instanceof ArrayBuffer};var bt=n.__addimage__.isArrayBufferView=function(T){return T instanceof Int8Array||T instanceof Uint8Array||T instanceof Uint8ClampedArray||T instanceof Int16Array||T instanceof Uint16Array||T instanceof Int32Array||T instanceof Uint32Array||T instanceof Float32Array||T instanceof Float64Array},q=n.__addimage__.binaryStringToUint8Array=function(T){for(var P=T.length,F=new Uint8Array(P),lt=0;lt<P;lt++)F[lt]=T.charCodeAt(lt);return F},V=n.__addimage__.arrayBufferToBinaryString=function(T){for(var P="",F=bt(T)?T:new Uint8Array(T),lt=0;lt<F.length;lt+=8192)P+=String.fromCharCode.apply(null,F.subarray(lt,lt+8192));return P};n.addImage=function(){var T,P,F,lt,xt,ot,dt,ft,Nt;if(typeof arguments[1]=="number"?(P=e,F=arguments[1],lt=arguments[2],xt=arguments[3],ot=arguments[4],dt=arguments[5],ft=arguments[6],Nt=arguments[7]):(P=arguments[1],F=arguments[2],lt=arguments[3],xt=arguments[4],ot=arguments[5],dt=arguments[6],ft=arguments[7],Nt=arguments[8]),Jn(T=arguments[0])==="object"&&!S(T)&&"imageData"in T){var Wt=T;T=Wt.imageData,P=Wt.format||P||e,F=Wt.x||F||0,lt=Wt.y||lt||0,xt=Wt.w||Wt.width||xt,ot=Wt.h||Wt.height||ot,dt=Wt.alias||dt,ft=Wt.compression||ft,Nt=Wt.rotation||Wt.angle||Nt}var $=this.internal.getFilters();if(ft===void 0&&$.indexOf("FlateEncode")!==-1&&(ft="SLOW"),isNaN(F)||isNaN(lt))throw new Error("Invalid coordinates passed to jsPDF.addImage");f.call(this);var O=D.call(this,T,P,dt,ft);return j.call(this,F,lt,xt,ot,O,Nt),this};var D=function(T,P,F,lt){var xt,ot,dt;if(typeof T=="string"&&s(T)===e){T=unescape(T);var ft=H(T,!1);(ft!==""||(ft=n.loadFile(T,!0))!==void 0)&&(T=ft)}if(S(T)&&(T=_(T,P)),P=s(T,P),!w(P))throw new Error("addImage does not support files of type '"+P+"', please ensure that a plugin for '"+P+"' support is added.");if(((dt=F)==null||dt.length===0)&&(F=(function(Nt){return typeof Nt=="string"||bt(Nt)?W(Nt):bt(Nt.data)?W(Nt.data):null})(T)),(xt=N.call(this,F))||(T instanceof Uint8Array||P==="RGBA"||(ot=T,T=q(T)),xt=this["process"+P.toUpperCase()](T,g.call(this),F,(function(Nt){return Nt&&typeof Nt=="string"&&(Nt=Nt.toUpperCase()),Nt in n.image_compression?Nt:Q.NONE})(lt),ot)),!xt)throw new Error("An unknown error occurred whilst processing the image.");return xt},H=n.__addimage__.convertBase64ToBinaryString=function(T,P){P=typeof P!="boolean"||P;var F,lt="";if(typeof T=="string"){var xt;F=(xt=mt(T))!==null&&xt!==void 0?xt:T;try{lt=mp(F)}catch(ot){if(P)throw nt(F)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+ot.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return lt};n.getImageProperties=function(T){var P,F,lt="";if(S(T)&&(T=_(T)),typeof T=="string"&&s(T)===e&&((lt=H(T,!1))===""&&(lt=n.loadFile(T)||""),T=lt),F=s(T),!w(F))throw new Error("addImage does not support files of type '"+F+"', please ensure that a plugin for '"+F+"' support is added.");if(T instanceof Uint8Array||(T=q(T)),!(P=this["process"+F.toUpperCase()](T)))throw new Error("An unknown error occurred whilst processing the image");return P.fileType=F,P}})(Te.API),(function(n){var t=function(e){if(e!==void 0&&e!="")return!0};Te.API.events.push(["addPage",function(e){this.internal.getPageInfo(e.pageNumber).pageContext.annotations=[]}]),n.events.push(["putPage",function(e){for(var i,s,o,u=this.internal.getCoordinateString,h=this.internal.getVerticalCoordinateString,f=this.internal.getPageInfoByObjId(e.objId),d=e.pageContext.annotations,g=!1,w=0;w<d.length&&!g;w++)switch((i=d[w]).type){case"link":(t(i.options.url)||t(i.options.pageNumber))&&(g=!0);break;case"reference":case"text":case"freetext":g=!0}if(g!=0){this.internal.write("/Annots [");for(var S=0;S<d.length;S++){i=d[S];var _=this.internal.pdfEscape,N=this.internal.getEncryptor(e.objId);switch(i.type){case"reference":this.internal.write(" "+i.object.objId+" 0 R ");break;case"text":var M=this.internal.newAdditionalObject(),j=this.internal.newAdditionalObject(),R=this.internal.getEncryptor(M.objId),Q=i.title||"Note";o="<</Type /Annot /Subtype /Text "+(s="/Rect ["+u(i.bounds.x)+" "+h(i.bounds.y+i.bounds.h)+" "+u(i.bounds.x+i.bounds.w)+" "+h(i.bounds.y)+"] ")+"/Contents ("+_(R(i.contents))+")",o+=" /Popup "+j.objId+" 0 R",o+=" /P "+f.objId+" 0 R",o+=" /T ("+_(R(Q))+") >>",M.content=o;var W=M.objId+" 0 R";o="<</Type /Annot /Subtype /Popup "+(s="/Rect ["+u(i.bounds.x+30)+" "+h(i.bounds.y+i.bounds.h)+" "+u(i.bounds.x+i.bounds.w+30)+" "+h(i.bounds.y)+"] ")+" /Parent "+W,i.open&&(o+=" /Open true"),o+=" >>",j.content=o,this.internal.write(M.objId,"0 R",j.objId,"0 R");break;case"freetext":s="/Rect ["+u(i.bounds.x)+" "+h(i.bounds.y)+" "+u(i.bounds.x+i.bounds.w)+" "+h(i.bounds.y+i.bounds.h)+"] ";var nt=i.color||"#000000";o="<</Type /Annot /Subtype /FreeText "+s+"/Contents ("+_(N(i.contents))+")",o+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+nt+")",o+=" /Border [0 0 0]",o+=" >>",this.internal.write(o);break;case"link":if(i.options.name){var mt=this.annotations._nameMap[i.options.name];i.options.pageNumber=mt.page,i.options.top=mt.y}else i.options.top||(i.options.top=0);if(s="/Rect ["+i.finalBounds.x+" "+i.finalBounds.y+" "+i.finalBounds.w+" "+i.finalBounds.h+"] ",o="",i.options.url)o="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /A <</S /URI /URI ("+_(N(i.options.url))+") >>";else if(i.options.pageNumber)switch(o="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(i.options.pageNumber).objId+" 0 R",i.options.magFactor=i.options.magFactor||"XYZ",i.options.magFactor){case"Fit":o+=" /Fit]";break;case"FitH":o+=" /FitH "+i.options.top+"]";break;case"FitV":i.options.left=i.options.left||0,o+=" /FitV "+i.options.left+"]";break;default:var bt=h(i.options.top);i.options.left=i.options.left||0,i.options.zoom===void 0&&(i.options.zoom=0),o+=" /XYZ "+i.options.left+" "+bt+" "+i.options.zoom+"]"}o!=""&&(o+=" >>",this.internal.write(o))}}this.internal.write("]")}}]),n.createAnnotation=function(e){var i=this.internal.getCurrentPageInfo();switch(e.type){case"link":this.link(e.bounds.x,e.bounds.y,e.bounds.w,e.bounds.h,e);break;case"text":case"freetext":i.pageContext.annotations.push(e)}},n.link=function(e,i,s,o,u){var h=this.internal.getCurrentPageInfo(),f=this.internal.getCoordinateString,d=this.internal.getVerticalCoordinateString;h.pageContext.annotations.push({finalBounds:{x:f(e),y:d(i),w:f(e+s),h:d(i+o)},options:u,type:"link"})},n.textWithLink=function(e,i,s,o){var u,h,f=this.getTextWidth(e),d=this.internal.getLineHeight()/this.internal.scaleFactor;if(o.maxWidth!==void 0){h=o.maxWidth;var g=this.splitTextToSize(e,h).length;u=Math.ceil(d*g)}else h=f,u=d;return this.text(e,i,s,o),s+=.2*d,o.align==="center"&&(i-=f/2),o.align==="right"&&(i-=f),this.link(i,s-d,h,u,o),f},n.getTextWidth=function(e){var i=this.internal.getFontSize();return this.getStringUnitWidth(e)*i/this.internal.scaleFactor}})(Te.API),(function(n){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},e={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},i={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},s=[1570,1571,1573,1575];n.__arabicParser__={};var o=n.__arabicParser__.isInArabicSubstitutionA=function(M){return t[M.charCodeAt(0)]!==void 0},u=n.__arabicParser__.isArabicLetter=function(M){return typeof M=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(M)},h=n.__arabicParser__.isArabicEndLetter=function(M){return u(M)&&o(M)&&t[M.charCodeAt(0)].length<=2},f=n.__arabicParser__.isArabicAlfLetter=function(M){return u(M)&&s.indexOf(M.charCodeAt(0))>=0};n.__arabicParser__.arabicLetterHasIsolatedForm=function(M){return u(M)&&o(M)&&t[M.charCodeAt(0)].length>=1};var d=n.__arabicParser__.arabicLetterHasFinalForm=function(M){return u(M)&&o(M)&&t[M.charCodeAt(0)].length>=2};n.__arabicParser__.arabicLetterHasInitialForm=function(M){return u(M)&&o(M)&&t[M.charCodeAt(0)].length>=3};var g=n.__arabicParser__.arabicLetterHasMedialForm=function(M){return u(M)&&o(M)&&t[M.charCodeAt(0)].length==4},w=n.__arabicParser__.resolveLigatures=function(M){var j=0,R=e,Q="",W=0;for(j=0;j<M.length;j+=1)R[M.charCodeAt(j)]!==void 0?(W++,typeof(R=R[M.charCodeAt(j)])=="number"&&(Q+=String.fromCharCode(R),R=e,W=0),j===M.length-1&&(R=e,Q+=M.charAt(j-(W-1)),j-=W-1,W=0)):(R=e,Q+=M.charAt(j-W),j-=W,W=0);return Q};n.__arabicParser__.isArabicDiacritic=function(M){return M!==void 0&&i[M.charCodeAt(0)]!==void 0};var S=n.__arabicParser__.getCorrectForm=function(M,j,R){return u(M)?o(M)===!1?-1:!d(M)||!u(j)&&!u(R)||!u(R)&&h(j)||h(M)&&!u(j)||h(M)&&f(j)||h(M)&&h(j)?0:g(M)&&u(j)&&!h(j)&&u(R)&&d(R)?3:h(M)||!u(R)?1:2:-1},_=function(M){var j=0,R=0,Q=0,W="",nt="",mt="",bt=(M=M||"").split("\\s+"),q=[];for(j=0;j<bt.length;j+=1){for(q.push(""),R=0;R<bt[j].length;R+=1)W=bt[j][R],nt=bt[j][R-1],mt=bt[j][R+1],u(W)?(Q=S(W,nt,mt),q[j]+=Q!==-1?String.fromCharCode(t[W.charCodeAt(0)][Q]):W):q[j]+=W;q[j]=w(q[j])}return q.join(" ")},N=n.__arabicParser__.processArabic=n.processArabic=function(){var M,j=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,R=[];if(Array.isArray(j)){var Q=0;for(R=[],Q=0;Q<j.length;Q+=1)Array.isArray(j[Q])?R.push([_(j[Q][0]),j[Q][1],j[Q][2]]):R.push([_(j[Q])]);M=R}else M=_(j);return typeof arguments[0]=="string"?M:(arguments[0].text=M,arguments[0])};n.events.push(["preProcessText",N])})(Te.API),Te.API.autoPrint=function(n){var t;return(n=n||{}).variant=n.variant||"non-conform",n.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})),this},(function(n){var t=function(){var e=void 0;Object.defineProperty(this,"pdf",{get:function(){return e},set:function(h){e=h}});var i=150;Object.defineProperty(this,"width",{get:function(){return i},set:function(h){i=isNaN(h)||Number.isInteger(h)===!1||h<0?150:h,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=i+1)}});var s=300;Object.defineProperty(this,"height",{get:function(){return s},set:function(h){s=isNaN(h)||Number.isInteger(h)===!1||h<0?300:h,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=s+1)}});var o=[];Object.defineProperty(this,"childNodes",{get:function(){return o},set:function(h){o=h}});var u={};Object.defineProperty(this,"style",{get:function(){return u},set:function(h){u=h}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(e,i){var s;if((e=e||"2d")!=="2d")return null;for(s in i)this.pdf.context2d.hasOwnProperty(s)&&(this.pdf.context2d[s]=i[s]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},n.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])})(Te.API),(function(n){var t={left:0,top:0,bottom:0,right:0},e=!1,i=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),s.call(this))},s=function(){this.internal.__cell__.lastCell=new o,this.internal.__cell__.pages=1},o=function(){var f=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return f},set:function(M){f=M}});var d=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return d},set:function(M){d=M}});var g=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return g},set:function(M){g=M}});var w=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return w},set:function(M){w=M}});var S=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return S},set:function(M){S=M}});var _=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return _},set:function(M){_=M}});var N=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return N},set:function(M){N=M}}),this};o.prototype.clone=function(){return new o(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},o.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},n.setHeaderFunction=function(f){return i.call(this),this.internal.__cell__.headerFunction=typeof f=="function"?f:void 0,this},n.getTextDimensions=function(f,d){i.call(this);var g=(d=d||{}).fontSize||this.getFontSize(),w=d.font||this.getFont(),S=d.scaleFactor||this.internal.scaleFactor,_=0,N=0,M=0,j=this;if(!Array.isArray(f)&&typeof f!="string"){if(typeof f!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");f=String(f)}var R=d.maxWidth;R>0?typeof f=="string"?f=this.splitTextToSize(f,R):Object.prototype.toString.call(f)==="[object Array]"&&(f=f.reduce(function(W,nt){return W.concat(j.splitTextToSize(nt,R))},[])):f=Array.isArray(f)?f:[f];for(var Q=0;Q<f.length;Q++)_<(M=this.getStringUnitWidth(f[Q],{font:w})*g)&&(_=M);return _!==0&&(N=f.length),{w:_/=S,h:Math.max((N*g*this.getLineHeightFactor()-g*(this.getLineHeightFactor()-1))/S,0)}},n.cellAddPage=function(){i.call(this),this.addPage();var f=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new o(f.left,f.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var u=n.cell=function(){var f;f=arguments[0]instanceof o?arguments[0]:new o(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),i.call(this);var d=this.internal.__cell__.lastCell,g=this.internal.__cell__.padding,w=this.internal.__cell__.margins||t,S=this.internal.__cell__.tableHeaderRow,_=this.internal.__cell__.printHeaders;return d.lineNumber!==void 0&&(d.lineNumber===f.lineNumber?(f.x=(d.x||0)+(d.width||0),f.y=d.y||0):d.y+d.height+f.height+w.bottom>this.getPageHeight()?(this.cellAddPage(),f.y=w.top,_&&S&&(this.printHeaderRow(f.lineNumber,!0),f.y+=S[0].height)):f.y=d.y+d.height||f.y),f.text[0]!==void 0&&(this.rect(f.x,f.y,f.width,f.height,e===!0?"FD":void 0),f.align==="right"?this.text(f.text,f.x+f.width-g,f.y+g,{align:"right",baseline:"top"}):f.align==="center"?this.text(f.text,f.x+f.width/2,f.y+g,{align:"center",baseline:"top",maxWidth:f.width-g-g}):this.text(f.text,f.x+g,f.y+g,{align:"left",baseline:"top",maxWidth:f.width-g-g})),this.internal.__cell__.lastCell=f,this};n.table=function(f,d,g,w,S){if(i.call(this),!g)throw new Error("No data for PDF table.");var _,N,M,j,R=[],Q=[],W=[],nt={},mt={},bt=[],q=[],V=(S=S||{}).autoSize||!1,D=S.printHeaders!==!1,H=S.css&&S.css["font-size"]!==void 0?16*S.css["font-size"]:S.fontSize||12,T=S.margins||Object.assign({width:this.getPageWidth()},t),P=typeof S.padding=="number"?S.padding:3,F=S.headerBackgroundColor||"#c8c8c8",lt=S.headerTextColor||"#000";if(s.call(this),this.internal.__cell__.printHeaders=D,this.internal.__cell__.margins=T,this.internal.__cell__.table_font_size=H,this.internal.__cell__.padding=P,this.internal.__cell__.headerBackgroundColor=F,this.internal.__cell__.headerTextColor=lt,this.setFontSize(H),w==null)Q=R=Object.keys(g[0]),W=R.map(function(){return"left"});else if(Array.isArray(w)&&Jn(w[0])==="object")for(R=w.map(function(Wt){return Wt.name}),Q=w.map(function(Wt){return Wt.prompt||Wt.name||""}),W=w.map(function(Wt){return Wt.align||"left"}),_=0;_<w.length;_+=1)mt[w[_].name]=.7499990551181103*w[_].width;else Array.isArray(w)&&typeof w[0]=="string"&&(Q=R=w,W=R.map(function(){return"left"}));if(V||Array.isArray(w)&&typeof w[0]=="string")for(_=0;_<R.length;_+=1){for(nt[j=R[_]]=g.map(function(Wt){return Wt[j]}),this.setFont(void 0,"bold"),bt.push(this.getTextDimensions(Q[_],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),N=nt[j],this.setFont(void 0,"normal"),M=0;M<N.length;M+=1)bt.push(this.getTextDimensions(N[M],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);mt[j]=Math.max.apply(null,bt)+P+P,bt=[]}if(D){var xt={};for(_=0;_<R.length;_+=1)xt[R[_]]={},xt[R[_]].text=Q[_],xt[R[_]].align=W[_];var ot=h.call(this,xt,mt);q=R.map(function(Wt){return new o(f,d,mt[Wt],ot,xt[Wt].text,void 0,xt[Wt].align)}),this.setTableHeaderRow(q),this.printHeaderRow(1,!1)}var dt=w.reduce(function(Wt,$){return Wt[$.name]=$.align,Wt},{});for(_=0;_<g.length;_+=1){"rowStart"in S&&S.rowStart instanceof Function&&S.rowStart({row:_,data:g[_]},this);var ft=h.call(this,g[_],mt);for(M=0;M<R.length;M+=1){var Nt=g[_][R[M]];"cellStart"in S&&S.cellStart instanceof Function&&S.cellStart({row:_,col:M,data:Nt},this),u.call(this,new o(f,d,mt[R[M]],ft,Nt,_+2,dt[R[M]]))}}return this.internal.__cell__.table_x=f,this.internal.__cell__.table_y=d,this};var h=function(f,d){var g=this.internal.__cell__.padding,w=this.internal.__cell__.table_font_size,S=this.internal.scaleFactor;return Object.keys(f).map(function(_){var N=f[_];return this.splitTextToSize(N.hasOwnProperty("text")?N.text:N,d[_]-g-g)},this).map(function(_){return this.getLineHeightFactor()*_.length*w/S+g+g},this).reduce(function(_,N){return Math.max(_,N)},0)};n.setTableHeaderRow=function(f){i.call(this),this.internal.__cell__.tableHeaderRow=f},n.printHeaderRow=function(f,d){if(i.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var g;if(e=!0,typeof this.internal.__cell__.headerFunction=="function"){var w=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new o(w[0],w[1],w[2],w[3],void 0,-1)}this.setFont(void 0,"bold");for(var S=[],_=0;_<this.internal.__cell__.tableHeaderRow.length;_+=1){g=this.internal.__cell__.tableHeaderRow[_].clone(),d&&(g.y=this.internal.__cell__.margins.top||0,S.push(g)),g.lineNumber=f;var N=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),u.call(this,g),this.setTextColor(N)}S.length>0&&this.setTableHeaderRow(S),this.setFont(void 0,"normal"),e=!1}})(Te.API);var $4={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},Y4=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],t1=G4(Y4),W4=[100,200,300,400,500,600,700,800,900],ZL=G4(W4);function c0(n){var t=n.family.replace(/"|'/g,"").toLowerCase(),e=(function(o){return $4[o=o||"normal"]?o:"normal"})(n.style),i=(function(o){return o?typeof o=="number"?o>=100&&o<=900&&o%100==0?o:400:/^\d00$/.test(o)?parseInt(o):o==="bold"?700:400:400})(n.weight),s=(function(o){return typeof t1[o=o||"normal"]=="number"?o:"normal"})(n.stretch);return{family:t,style:e,weight:i,stretch:s,src:n.src||[],ref:n.ref||{name:t,style:[s,e,i].join(" ")}}}function o_(n,t,e,i){var s;for(s=e;s>=0&&s<t.length;s+=i)if(n[t[s]])return n[t[s]];for(s=e;s>=0&&s<t.length;s-=i)if(n[t[s]])return n[t[s]]}var tI={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},l_={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function u_(n){return[n.stretch,n.style,n.weight,n.family].join(" ")}function c_(n){return n.trimLeft()}function eI(n,t){for(var e=0;e<n.length;){if(n.charAt(e)===t)return[n.substring(0,e),n.substring(e+1)];e+=1}return null}function nI(n){var t=n.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],n.substring(t[0].length)]}var rp,h_,f_,Yc,ip,d_,p_,m_,h0=["times"];function g_(n,t,e,i,s){var o=4,u=v_;switch(s){case Te.API.image_compression.FAST:o=1,u=y_;break;case Te.API.image_compression.MEDIUM:o=6,u=b_;break;case Te.API.image_compression.SLOW:o=9,u=__}n=(function(f,d,g,w){for(var S,_=f.length/d,N=new Uint8Array(f.length+_),M=[rI,y_,v_,b_,__],j=0;j<_;j+=1){var R=j*d,Q=f.subarray(R,R+d);if(w)N.set(w(Q,g,S),R+j);else{for(var W=M.length,nt=[],mt=0;mt<W;mt+=1)nt[mt]=M[mt](Q,g,S);var bt=aI(nt.concat());N.set(nt[bt],R+j)}S=Q}return N})(n,t,Math.ceil(e*i/8),u);var h=Y0(n,{level:o});return Te.API.__addimage__.arrayBufferToBinaryString(h)}function rI(n){var t=Array.apply([],n);return t.unshift(0),t}function y_(n,t){var e=n.length,i=[];i[0]=1;for(var s=0;s<e;s+=1){var o=n[s-t]||0;i[s+1]=n[s]-o+256&255}return i}function v_(n,t,e){var i=n.length,s=[];s[0]=2;for(var o=0;o<i;o+=1){var u=e&&e[o]||0;s[o+1]=n[o]-u+256&255}return s}function b_(n,t,e){var i=n.length,s=[];s[0]=3;for(var o=0;o<i;o+=1){var u=n[o-t]||0,h=e&&e[o]||0;s[o+1]=n[o]+256-(u+h>>>1)&255}return s}function __(n,t,e){var i=n.length,s=[];s[0]=4;for(var o=0;o<i;o+=1){var u=iI(n[o-t]||0,e&&e[o]||0,e&&e[o-t]||0);s[o+1]=n[o]-u+256&255}return s}function iI(n,t,e){if(n===t&&t===e)return n;var i=Math.abs(t-e),s=Math.abs(n-e),o=Math.abs(n+t-e-e);return i<=s&&i<=o?n:s<=o?t:e}function aI(n){var t=n.map(function(e){return e.reduce(function(i,s){return i+Math.abs(s)},0)});return t.indexOf(Math.min.apply(null,t))}function f0(n,t,e){var i=t*e,s=Math.floor(i/8),o=16-(i-8*s+e),u=(1<<e)-1;return K4(n,s)>>o&u}function w_(n,t,e,i){var s=e*i,o=Math.floor(s/8),u=16-(s-8*o+i),h=(1<<i)-1,f=(t&h)<<u;(function(d,g,w){if(g+1<d.byteLength)d.setUint16(g,w,!1);else{var S=w>>8&255;d.setUint8(g,S)}})(n,o,K4(n,o)&~(h<<u)&65535|f)}function K4(n,t){return t+1<n.byteLength?n.getUint16(t,!1):n.getUint8(t)<<8}function sI(n){var t=0;if(n[t++]!==71||n[t++]!==73||n[t++]!==70||n[t++]!==56||(n[t++]+1&253)!=56||n[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var e=n[t++]|n[t++]<<8,i=n[t++]|n[t++]<<8,s=n[t++],o=s>>7,u=1<<1+(7&s);n[t++],n[t++];var h=null,f=null;o&&(h=t,f=u,t+=3*u);var d=!0,g=[],w=0,S=null,_=0,N=null;for(this.width=e,this.height=i;d&&t<n.length;)switch(n[t++]){case 33:switch(n[t++]){case 255:if(n[t]!==11||n[t+1]==78&&n[t+2]==69&&n[t+3]==84&&n[t+4]==83&&n[t+5]==67&&n[t+6]==65&&n[t+7]==80&&n[t+8]==69&&n[t+9]==50&&n[t+10]==46&&n[t+11]==48&&n[t+12]==3&&n[t+13]==1&&n[t+16]==0)t+=14,N=n[t++]|n[t++]<<8,t++;else for(t+=12;;){if(!((T=n[t++])>=0))throw Error("Invalid block size");if(T===0)break;t+=T}break;case 249:if(n[t++]!==4||n[t+4]!==0)throw new Error("Invalid graphics extension block.");var M=n[t++];w=n[t++]|n[t++]<<8,S=n[t++],1&M||(S=null),_=M>>2&7,t++;break;case 254:for(;;){if(!((T=n[t++])>=0))throw Error("Invalid block size");if(T===0)break;t+=T}break;default:throw new Error("Unknown graphic control label: 0x"+n[t-1].toString(16))}break;case 44:var j=n[t++]|n[t++]<<8,R=n[t++]|n[t++]<<8,Q=n[t++]|n[t++]<<8,W=n[t++]|n[t++]<<8,nt=n[t++],mt=nt>>6&1,bt=1<<1+(7&nt),q=h,V=f,D=!1;nt>>7&&(D=!0,q=t,V=bt,t+=3*bt);var H=t;for(t++;;){var T;if(!((T=n[t++])>=0))throw Error("Invalid block size");if(T===0)break;t+=T}g.push({x:j,y:R,width:Q,height:W,has_local_palette:D,palette_offset:q,palette_size:V,data_offset:H,data_length:t-H,transparent_index:S,interlaced:!!mt,delay:w,disposal:_});break;case 59:d=!1;break;default:throw new Error("Unknown gif block: 0x"+n[t-1].toString(16))}this.numFrames=function(){return g.length},this.loopCount=function(){return N},this.frameInfo=function(P){if(P<0||P>=g.length)throw new Error("Frame index out of range.");return g[P]},this.decodeAndBlitFrameBGRA=function(P,F){var lt=this.frameInfo(P),xt=lt.width*lt.height,ot=new Uint8Array(xt);x_(n,lt.data_offset,ot,xt);var dt=lt.palette_offset,ft=lt.transparent_index;ft===null&&(ft=256);var Nt=lt.width,Wt=e-Nt,$=Nt,O=4*(lt.y*e+lt.x),K=4*((lt.y+lt.height)*e+lt.x),tt=O,st=4*Wt;lt.interlaced===!0&&(st+=4*e*7);for(var ut=8,yt=0,It=ot.length;yt<It;++yt){var Rt=ot[yt];if($===0&&($=Nt,(tt+=st)>=K&&(st=4*Wt+4*e*(ut-1),tt=O+(Nt+Wt)*(ut<<1),ut>>=1)),Rt===ft)tt+=4;else{var zt=n[dt+3*Rt],Et=n[dt+3*Rt+1],jt=n[dt+3*Rt+2];F[tt++]=jt,F[tt++]=Et,F[tt++]=zt,F[tt++]=255}--$}},this.decodeAndBlitFrameRGBA=function(P,F){var lt=this.frameInfo(P),xt=lt.width*lt.height,ot=new Uint8Array(xt);x_(n,lt.data_offset,ot,xt);var dt=lt.palette_offset,ft=lt.transparent_index;ft===null&&(ft=256);var Nt=lt.width,Wt=e-Nt,$=Nt,O=4*(lt.y*e+lt.x),K=4*((lt.y+lt.height)*e+lt.x),tt=O,st=4*Wt;lt.interlaced===!0&&(st+=4*e*7);for(var ut=8,yt=0,It=ot.length;yt<It;++yt){var Rt=ot[yt];if($===0&&($=Nt,(tt+=st)>=K&&(st=4*Wt+4*e*(ut-1),tt=O+(Nt+Wt)*(ut<<1),ut>>=1)),Rt===ft)tt+=4;else{var zt=n[dt+3*Rt],Et=n[dt+3*Rt+1],jt=n[dt+3*Rt+2];F[tt++]=zt,F[tt++]=Et,F[tt++]=jt,F[tt++]=255}--$}}}function x_(n,t,e,i){for(var s=n[t++],o=1<<s,u=o+1,h=u+1,f=s+1,d=(1<<f)-1,g=0,w=0,S=0,_=n[t++],N=new Int32Array(4096),M=null;;){for(;g<16&&_!==0;)w|=n[t++]<<g,g+=8,_===1?_=n[t++]:--_;if(g<f)break;var j=w&d;if(w>>=f,g-=f,j!==o){if(j===u)break;for(var R=j<h?j:M,Q=0,W=R;W>o;)W=N[W]>>8,++Q;var nt=W;if(S+Q+(R!==j?1:0)>i)return void fr.log("Warning, gif stream longer than expected.");e[S++]=nt;var mt=S+=Q;for(R!==j&&(e[S++]=nt),W=R;Q--;)W=N[W],e[--mt]=255&W,W>>=8;M!==null&&h<4096&&(N[h++]=M<<8|nt,h>=d+1&&f<12&&(++f,d=d<<1|1)),M=j}else h=u+1,d=(1<<(f=s+1))-1,M=null}return S!==i&&fr.log("Warning, gif stream shorter than expected."),e}function d0(n){var t,e,i,s,o,u=Math.floor,h=new Array(64),f=new Array(64),d=new Array(64),g=new Array(64),w=new Array(65535),S=new Array(65535),_=new Array(64),N=new Array(64),M=[],j=0,R=7,Q=new Array(64),W=new Array(64),nt=new Array(64),mt=new Array(256),bt=new Array(2048),q=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],V=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],D=[0,1,2,3,4,5,6,7,8,9,10,11],H=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],T=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],P=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],F=[0,1,2,3,4,5,6,7,8,9,10,11],lt=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],xt=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function ot(O,K){for(var tt=0,st=0,ut=new Array,yt=1;yt<=16;yt++){for(var It=1;It<=O[yt];It++)ut[K[st]]=[],ut[K[st]][0]=tt,ut[K[st]][1]=yt,st++,tt++;tt*=2}return ut}function dt(O){for(var K=O[0],tt=O[1]-1;tt>=0;)K&1<<tt&&(j|=1<<R),tt--,--R<0&&(j==255?(ft(255),ft(0)):ft(j),R=7,j=0)}function ft(O){M.push(O)}function Nt(O){ft(O>>8&255),ft(255&O)}function Wt(O,K,tt,st,ut){for(var yt,It=ut[0],Rt=ut[240],zt=(function(Ht,le){var se,De,Ae,Ke,en,He,un,ze,ge,Ye,ve=0;for(ge=0;ge<8;++ge){se=Ht[ve],De=Ht[ve+1],Ae=Ht[ve+2],Ke=Ht[ve+3],en=Ht[ve+4],He=Ht[ve+5],un=Ht[ve+6];var Zn=se+(ze=Ht[ve+7]),nn=se-ze,Re=De+un,qe=De-un,Xe=Ae+He,Ne=Ae-He,En=Ke+en,Pe=Ke-en,Oe=Zn+En,Tn=Zn-En,xe=Re+Xe,Se=Re-Xe;Ht[ve]=Oe+xe,Ht[ve+4]=Oe-xe;var Je=.707106781*(Se+Tn);Ht[ve+2]=Tn+Je,Ht[ve+6]=Tn-Je;var Bt=.382683433*((Oe=Pe+Ne)-(Se=qe+nn)),ie=.5411961*Oe+Bt,Le=1.306562965*Se+Bt,Ie=.707106781*(xe=Ne+qe),ae=nn+Ie,wr=nn-Ie;Ht[ve+5]=wr+ie,Ht[ve+3]=wr-ie,Ht[ve+1]=ae+Le,Ht[ve+7]=ae-Le,ve+=8}for(ve=0,ge=0;ge<8;++ge){se=Ht[ve],De=Ht[ve+8],Ae=Ht[ve+16],Ke=Ht[ve+24],en=Ht[ve+32],He=Ht[ve+40],un=Ht[ve+48];var pi=se+(ze=Ht[ve+56]),ei=se-ze,ni=De+un,Hn=De-un,tr=Ae+He,jr=Ae-He,mi=Ke+en,ri=Ke-en,Mn=pi+mi,Yn=pi-mi,Fr=ni+tr,Ci=ni-tr;Ht[ve]=Mn+Fr,Ht[ve+32]=Mn-Fr;var ra=.707106781*(Ci+Yn);Ht[ve+16]=Yn+ra,Ht[ve+48]=Yn-ra;var gs=.382683433*((Mn=ri+jr)-(Ci=Hn+ei)),va=.5411961*Mn+gs,Ri=1.306562965*Ci+gs,Za=.707106781*(Fr=jr+Hn),Ui=ei+Za,gi=ei-Za;Ht[ve+40]=gi+va,Ht[ve+24]=gi-va,Ht[ve+8]=Ui+Ri,Ht[ve+56]=Ui-Ri,ve++}for(ge=0;ge<64;++ge)Ye=Ht[ge]*le[ge],_[ge]=Ye>0?Ye+.5|0:Ye-.5|0;return _})(O,K),Et=0;Et<64;++Et)N[q[Et]]=zt[Et];var jt=N[0]-tt;tt=N[0],jt==0?dt(st[0]):(dt(st[S[yt=32767+jt]]),dt(w[yt]));for(var qt=63;qt>0&&N[qt]==0;)qt--;if(qt==0)return dt(It),tt;for(var Mt,Z=1;Z<=qt;){for(var ne=Z;N[Z]==0&&Z<=qt;)++Z;var Ce=Z-ne;if(Ce>=16){Mt=Ce>>4;for(var ce=1;ce<=Mt;++ce)dt(Rt);Ce&=15}yt=32767+N[Z],dt(ut[(Ce<<4)+S[yt]]),dt(w[yt]),Z++}return qt!=63&&dt(It),tt}function $(O){O=Math.min(Math.max(O,1),100),o!=O&&((function(K){for(var tt=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],st=0;st<64;st++){var ut=u((tt[st]*K+50)/100);ut=Math.min(Math.max(ut,1),255),h[q[st]]=ut}for(var yt=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],It=0;It<64;It++){var Rt=u((yt[It]*K+50)/100);Rt=Math.min(Math.max(Rt,1),255),f[q[It]]=Rt}for(var zt=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Et=0,jt=0;jt<8;jt++)for(var qt=0;qt<8;qt++)d[Et]=1/(h[q[Et]]*zt[jt]*zt[qt]*8),g[Et]=1/(f[q[Et]]*zt[jt]*zt[qt]*8),Et++})(O<50?Math.floor(5e3/O):Math.floor(200-2*O)),o=O)}this.encode=function(O,K){K&&$(K),M=new Array,j=0,R=7,Nt(65496),Nt(65504),Nt(16),ft(74),ft(70),ft(73),ft(70),ft(0),ft(1),ft(1),ft(0),Nt(1),Nt(1),ft(0),ft(0),(function(){Nt(65499),Nt(132),ft(0);for(var De=0;De<64;De++)ft(h[De]);ft(1);for(var Ae=0;Ae<64;Ae++)ft(f[Ae])})(),(function(De,Ae){Nt(65472),Nt(17),ft(8),Nt(Ae),Nt(De),ft(3),ft(1),ft(17),ft(0),ft(2),ft(17),ft(1),ft(3),ft(17),ft(1)})(O.width,O.height),(function(){Nt(65476),Nt(418),ft(0);for(var De=0;De<16;De++)ft(V[De+1]);for(var Ae=0;Ae<=11;Ae++)ft(D[Ae]);ft(16);for(var Ke=0;Ke<16;Ke++)ft(H[Ke+1]);for(var en=0;en<=161;en++)ft(T[en]);ft(1);for(var He=0;He<16;He++)ft(P[He+1]);for(var un=0;un<=11;un++)ft(F[un]);ft(17);for(var ze=0;ze<16;ze++)ft(lt[ze+1]);for(var ge=0;ge<=161;ge++)ft(xt[ge])})(),Nt(65498),Nt(12),ft(3),ft(1),ft(0),ft(2),ft(17),ft(3),ft(17),ft(0),ft(63),ft(0);var tt=0,st=0,ut=0;j=0,R=7,this.encode.displayName="_encode_";for(var yt,It,Rt,zt,Et,jt,qt,Mt,Z,ne=O.data,Ce=O.width,ce=O.height,Ht=4*Ce,le=0;le<ce;){for(yt=0;yt<Ht;){for(Et=Ht*le+yt,qt=-1,Mt=0,Z=0;Z<64;Z++)jt=Et+(Mt=Z>>3)*Ht+(qt=4*(7&Z)),le+Mt>=ce&&(jt-=Ht*(le+1+Mt-ce)),yt+qt>=Ht&&(jt-=yt+qt-Ht+4),It=ne[jt++],Rt=ne[jt++],zt=ne[jt++],Q[Z]=(bt[It]+bt[Rt+256|0]+bt[zt+512|0]>>16)-128,W[Z]=(bt[It+768|0]+bt[Rt+1024|0]+bt[zt+1280|0]>>16)-128,nt[Z]=(bt[It+1280|0]+bt[Rt+1536|0]+bt[zt+1792|0]>>16)-128;tt=Wt(Q,d,tt,t,i),st=Wt(W,g,st,e,s),ut=Wt(nt,g,ut,e,s),yt+=32}le+=8}if(R>=0){var se=[];se[1]=R+1,se[0]=(1<<R+1)-1,dt(se)}return Nt(65497),new Uint8Array(M)},n=n||50,(function(){for(var O=String.fromCharCode,K=0;K<256;K++)mt[K]=O(K)})(),t=ot(V,D),e=ot(P,F),i=ot(H,T),s=ot(lt,xt),(function(){for(var O=1,K=2,tt=1;tt<=15;tt++){for(var st=O;st<K;st++)S[32767+st]=tt,w[32767+st]=[],w[32767+st][1]=tt,w[32767+st][0]=st;for(var ut=-(K-1);ut<=-O;ut++)S[32767+ut]=tt,w[32767+ut]=[],w[32767+ut][1]=tt,w[32767+ut][0]=K-1+ut;O<<=1,K<<=1}})(),(function(){for(var O=0;O<256;O++)bt[O]=19595*O,bt[O+256|0]=38470*O,bt[O+512|0]=7471*O+32768,bt[O+768|0]=-11059*O,bt[O+1024|0]=-21709*O,bt[O+1280|0]=32768*O+8421375,bt[O+1536|0]=-27439*O,bt[O+1792|0]=-5329*O})(),$(n)}function oo(n,t){if(this.pos=0,this.buffer=n,this.datav=new DataView(n.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function S_(n){function t(D){if(!D)throw Error("assert :P")}function e(D,H,T){for(var P=0;4>P;P++)if(D[H+P]!=T.charCodeAt(P))return!0;return!1}function i(D,H,T,P,F){for(var lt=0;lt<F;lt++)D[H+lt]=T[P+lt]}function s(D,H,T,P){for(var F=0;F<P;F++)D[H+F]=T}function o(D){return new Int32Array(D)}function u(D,H){for(var T=[],P=0;P<D;P++)T.push(new H);return T}function h(D,H){var T=[];return(function P(F,lt,xt){for(var ot=xt[lt],dt=0;dt<ot&&(F.push(xt.length>lt+1?[]:new H),!(xt.length<lt+1));dt++)P(F[dt],lt+1,xt)})(T,0,D),T}var f=function(){var D=this;function H(p,v){for(var A=1<<v-1>>>0;p&A;)A>>>=1;return A?(p&A-1)+A:p}function T(p,v,A,C,U){t(!(C%A));do p[v+(C-=A)]=U;while(0<C)}function P(p,v,A,C,U){if(t(2328>=U),512>=U)var z=o(512);else if((z=o(U))==null)return 0;return(function(G,X,et,at,pt,Ct){var rt,vt,At=X,Ut=1<<et,Tt=o(16),Vt=o(16);for(t(pt!=0),t(at!=null),t(G!=null),t(0<et),vt=0;vt<pt;++vt){if(15<at[vt])return 0;++Tt[at[vt]]}if(Tt[0]==pt)return 0;for(Vt[1]=0,rt=1;15>rt;++rt){if(Tt[rt]>1<<rt)return 0;Vt[rt+1]=Vt[rt]+Tt[rt]}for(vt=0;vt<pt;++vt)rt=at[vt],0<at[vt]&&(Ct[Vt[rt]++]=vt);if(Vt[15]==1)return(at=new F).g=0,at.value=Ct[0],T(G,At,1,Ut,at),Ut;var Yt,ee=-1,Jt=Ut-1,_e=0,he=1,Ze=1,me=1<<et;for(vt=0,rt=1,pt=2;rt<=et;++rt,pt<<=1){if(he+=Ze<<=1,0>(Ze-=Tt[rt]))return 0;for(;0<Tt[rt];--Tt[rt])(at=new F).g=rt,at.value=Ct[vt++],T(G,At+_e,pt,me,at),_e=H(_e,rt)}for(rt=et+1,pt=2;15>=rt;++rt,pt<<=1){if(he+=Ze<<=1,0>(Ze-=Tt[rt]))return 0;for(;0<Tt[rt];--Tt[rt]){if(at=new F,(_e&Jt)!=ee){for(At+=me,Yt=1<<(ee=rt)-et;15>ee&&!(0>=(Yt-=Tt[ee]));)++ee,Yt<<=1;Ut+=me=1<<(Yt=ee-et),G[X+(ee=_e&Jt)].g=Yt+et,G[X+ee].value=At-X-ee}at.g=rt-et,at.value=Ct[vt++],T(G,At+(_e>>et),pt,me,at),_e=H(_e,rt)}}return he!=2*Vt[15]-1?0:Ut})(p,v,A,C,U,z)}function F(){this.value=this.g=0}function lt(){this.value=this.g=0}function xt(){this.G=u(5,F),this.H=o(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=u(So,lt)}function ot(p,v,A,C){t(p!=null),t(v!=null),t(2147483648>C),p.Ca=254,p.I=0,p.b=-8,p.Ka=0,p.oa=v,p.pa=A,p.Jd=v,p.Yc=A+C,p.Zc=4<=C?A+C-4+1:A,It(p)}function dt(p,v){for(var A=0;0<v--;)A|=zt(p,128)<<v;return A}function ft(p,v){var A=dt(p,v);return Rt(p)?-A:A}function Nt(p,v,A,C){var U,z=0;for(t(p!=null),t(v!=null),t(4294967288>C),p.Sb=C,p.Ra=0,p.u=0,p.h=0,4<C&&(C=4),U=0;U<C;++U)z+=v[A+U]<<8*U;p.Ra=z,p.bb=C,p.oa=v,p.pa=A}function Wt(p){for(;8<=p.u&&p.bb<p.Sb;)p.Ra>>>=8,p.Ra+=p.oa[p.pa+p.bb]<<As-8>>>0,++p.bb,p.u-=8;st(p)&&(p.h=1,p.u=0)}function $(p,v){if(t(0<=v),!p.h&&v<=Ki){var A=tt(p)&la[v];return p.u+=v,Wt(p),A}return p.h=1,p.u=0}function O(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function K(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function tt(p){return p.Ra>>>(p.u&As-1)>>>0}function st(p){return t(p.bb<=p.Sb),p.h||p.bb==p.Sb&&p.u>As}function ut(p,v){p.u=v,p.h=st(p)}function yt(p){p.u>=Es&&(t(p.u>=Es),Wt(p))}function It(p){t(p!=null&&p.oa!=null),p.pa<p.Zc?(p.I=(p.oa[p.pa++]|p.I<<8)>>>0,p.b+=8):(t(p!=null&&p.oa!=null),p.pa<p.Yc?(p.b+=8,p.I=p.oa[p.pa++]|p.I<<8):p.Ka?p.b=0:(p.I<<=8,p.b+=8,p.Ka=1))}function Rt(p){return dt(p,1)}function zt(p,v){var A=p.Ca;0>p.b&&It(p);var C=p.b,U=A*v>>>8,z=(p.I>>>C>U)+0;for(z?(A-=U,p.I-=U+1<<C>>>0):A=U+1,C=A,U=0;256<=C;)U+=8,C>>=8;return C=7^U+Ys[C],p.b-=C,p.Ca=(A<<C)-1,z}function Et(p,v,A){p[v+0]=A>>24&255,p[v+1]=A>>16&255,p[v+2]=A>>8&255,p[v+3]=255&A}function jt(p,v){return p[v+0]|p[v+1]<<8}function qt(p,v){return jt(p,v)|p[v+2]<<16}function Mt(p,v){return jt(p,v)|jt(p,v+2)<<16}function Z(p,v){var A=1<<v;return t(p!=null),t(0<v),p.X=o(A),p.X==null?0:(p.Mb=32-v,p.Xa=v,1)}function ne(p,v){t(p!=null),t(v!=null),t(p.Xa==v.Xa),i(v.X,0,p.X,0,1<<v.Xa)}function Ce(){this.X=[],this.Xa=this.Mb=0}function ce(p,v,A,C){t(A!=null),t(C!=null);var U=A[0],z=C[0];return U==0&&(U=(p*z+v/2)/v),z==0&&(z=(v*U+p/2)/p),0>=U||0>=z?0:(A[0]=U,C[0]=z,1)}function Ht(p,v){return p+(1<<v)-1>>>v}function le(p,v){return((4278255360&p)+(4278255360&v)>>>0&4278255360)+((16711935&p)+(16711935&v)>>>0&16711935)>>>0}function se(p,v){D[v]=function(A,C,U,z,G,X,et){var at;for(at=0;at<G;++at){var pt=D[p](X[et+at-1],U,z+at);X[et+at]=le(A[C+at],pt)}}}function De(){this.ud=this.hd=this.jd=0}function Ae(p,v){return((4278124286&(p^v))>>>1)+(p&v)>>>0}function Ke(p){return 0<=p&&256>p?p:0>p?0:255<p?255:void 0}function en(p,v){return Ke(p+(p-v+.5>>1))}function He(p,v,A){return Math.abs(v-A)-Math.abs(p-A)}function un(p,v,A,C,U,z,G){for(C=z[G-1],A=0;A<U;++A)z[G+A]=C=le(p[v+A],C)}function ze(p,v,A,C,U){var z;for(z=0;z<A;++z){var G=p[v+z],X=G>>8&255,et=16711935&(et=(et=16711935&G)+((X<<16)+X));C[U+z]=(4278255360&G)+et>>>0}}function ge(p,v){v.jd=255&p,v.hd=p>>8&255,v.ud=p>>16&255}function Ye(p,v,A,C,U,z){var G;for(G=0;G<C;++G){var X=v[A+G],et=X>>>8,at=X,pt=255&(pt=(pt=X>>>16)+((p.jd<<24>>24)*(et<<24>>24)>>>5));at=255&(at=(at+=(p.hd<<24>>24)*(et<<24>>24)>>>5)+((p.ud<<24>>24)*(pt<<24>>24)>>>5)),U[z+G]=(4278255360&X)+(pt<<16)+at}}function ve(p,v,A,C,U){D[v]=function(z,G,X,et,at,pt,Ct,rt,vt){for(et=Ct;et<rt;++et)for(Ct=0;Ct<vt;++Ct)at[pt++]=U(X[C(z[G++])])},D[p]=function(z,G,X,et,at,pt,Ct){var rt=8>>z.b,vt=z.Ea,At=z.K[0],Ut=z.w;if(8>rt)for(z=(1<<z.b)-1,Ut=(1<<rt)-1;G<X;++G){var Tt,Vt=0;for(Tt=0;Tt<vt;++Tt)Tt&z||(Vt=C(et[at++])),pt[Ct++]=U(At[Vt&Ut]),Vt>>=rt}else D["VP8LMapColor"+A](et,at,At,Ut,pt,Ct,G,X,vt)}}function Zn(p,v,A,C,U){for(A=v+A;v<A;){var z=p[v++];C[U++]=z>>16&255,C[U++]=z>>8&255,C[U++]=255&z}}function nn(p,v,A,C,U){for(A=v+A;v<A;){var z=p[v++];C[U++]=z>>16&255,C[U++]=z>>8&255,C[U++]=255&z,C[U++]=z>>24&255}}function Re(p,v,A,C,U){for(A=v+A;v<A;){var z=(G=p[v++])>>16&240|G>>12&15,G=240&G|G>>28&15;C[U++]=z,C[U++]=G}}function qe(p,v,A,C,U){for(A=v+A;v<A;){var z=(G=p[v++])>>16&248|G>>13&7,G=G>>5&224|G>>3&31;C[U++]=z,C[U++]=G}}function Xe(p,v,A,C,U){for(A=v+A;v<A;){var z=p[v++];C[U++]=255&z,C[U++]=z>>8&255,C[U++]=z>>16&255}}function Ne(p,v,A,C,U,z){if(z==0)for(A=v+A;v<A;)Et(C,((z=p[v++])[0]>>24|z[1]>>8&65280|z[2]<<8&16711680|z[3]<<24)>>>0),U+=32;else i(C,U,p,v,A)}function En(p,v){D[v][0]=D[p+"0"],D[v][1]=D[p+"1"],D[v][2]=D[p+"2"],D[v][3]=D[p+"3"],D[v][4]=D[p+"4"],D[v][5]=D[p+"5"],D[v][6]=D[p+"6"],D[v][7]=D[p+"7"],D[v][8]=D[p+"8"],D[v][9]=D[p+"9"],D[v][10]=D[p+"10"],D[v][11]=D[p+"11"],D[v][12]=D[p+"12"],D[v][13]=D[p+"13"],D[v][14]=D[p+"0"],D[v][15]=D[p+"0"]}function Pe(p){return p==Fu||p==gc||p==Ul||p==yc}function Oe(){this.eb=[],this.size=this.A=this.fb=0}function Tn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function xe(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Oe,this.f.kb=new Tn,this.sd=null}function Se(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Je(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Bt(p){return alert("todo:WebPSamplerProcessPlane"),p.T}function ie(p,v){var A=p.T,C=v.ba.f.RGBA,U=C.eb,z=C.fb+p.ka*C.A,G=Si[v.ba.S],X=p.y,et=p.O,at=p.f,pt=p.N,Ct=p.ea,rt=p.W,vt=v.cc,At=v.dc,Ut=v.Mc,Tt=v.Nc,Vt=p.ka,Yt=p.ka+p.T,ee=p.U,Jt=ee+1>>1;for(Vt==0?G(X,et,null,null,at,pt,Ct,rt,at,pt,Ct,rt,U,z,null,null,ee):(G(v.ec,v.fc,X,et,vt,At,Ut,Tt,at,pt,Ct,rt,U,z-C.A,U,z,ee),++A);Vt+2<Yt;Vt+=2)vt=at,At=pt,Ut=Ct,Tt=rt,pt+=p.Rc,rt+=p.Rc,z+=2*C.A,G(X,(et+=2*p.fa)-p.fa,X,et,vt,At,Ut,Tt,at,pt,Ct,rt,U,z-C.A,U,z,ee);return et+=p.fa,p.j+Yt<p.o?(i(v.ec,v.fc,X,et,ee),i(v.cc,v.dc,at,pt,Jt),i(v.Mc,v.Nc,Ct,rt,Jt),A--):1&Yt||G(X,et,null,null,at,pt,Ct,rt,at,pt,Ct,rt,U,z+C.A,null,null,ee),A}function Le(p,v,A){var C=p.F,U=[p.J];if(C!=null){var z=p.U,G=v.ba.S,X=G==ju||G==Ul;v=v.ba.f.RGBA;var et=[0],at=p.ka;et[0]=p.T,p.Kb&&(at==0?--et[0]:(--at,U[0]-=p.width),p.j+p.ka+p.T==p.o&&(et[0]=p.o-p.j-at));var pt=v.eb;at=v.fb+at*v.A,p=ku(C,U[0],p.width,z,et,pt,at+(X?0:3),v.A),t(A==et),p&&Pe(G)&&rl(pt,at,X,z,et,v.A)}return 0}function Ie(p){var v=p.ma,A=v.ba.S,C=11>A,U=A==Pi||A==ja||A==ju||A==Bl||A==12||Pe(A);if(v.memory=null,v.Ib=null,v.Jb=null,v.Nd=null,!$s(v.Oa,p,U?11:12))return 0;if(U&&Pe(A)&&Qe(),p.da)alert("todo:use_scaling");else{if(C){if(v.Ib=Bt,p.Kb){if(A=p.U+1>>1,v.memory=o(p.U+2*A),v.memory==null)return 0;v.ec=v.memory,v.fc=0,v.cc=v.ec,v.dc=v.fc+p.U,v.Mc=v.cc,v.Nc=v.dc+A,v.Ib=ie,Qe()}}else alert("todo:EmitYUV");U&&(v.Jb=Le,C&&kt())}if(C&&!Lo){for(p=0;256>p;++p)Ai[p]=89858*(p-128)+Hl>>qa,pm[p]=-22014*(p-128)+Hl,nd[p]=-45773*(p-128),xc[p]=113618*(p-128)+Hl>>qa;for(p=ol;p<Ro;++p)v=76283*(p-16)+Hl>>qa,mm[p-ol]=qi(v,255),gm[p-ol]=qi(v+8>>4,15);Lo=1}return 1}function ae(p){var v=p.ma,A=p.U,C=p.T;return t(!(1&p.ka)),0>=A||0>=C?0:(A=v.Ib(p,v),v.Jb!=null&&v.Jb(p,v,A),v.Dc+=A,1)}function wr(p){p.ma.memory=null}function pi(p,v,A,C){return $(p,8)!=47?0:(v[0]=$(p,14)+1,A[0]=$(p,14)+1,C[0]=$(p,1),$(p,3)!=0?0:!p.h)}function ei(p,v){if(4>p)return p+1;var A=p-2>>1;return(2+(1&p)<<A)+$(v,A)+1}function ni(p,v){return 120<v?v-120:1<=(A=((A=Va[v-1])>>4)*p+(8-(15&A)))?A:1;var A}function Hn(p,v,A){var C=tt(A),U=p[v+=255&C].g-8;return 0<U&&(ut(A,A.u+8),C=tt(A),v+=p[v].value,v+=C&(1<<U)-1),ut(A,A.u+p[v].g),p[v].value}function tr(p,v,A){return A.g+=p.g,A.value+=p.value<<v>>>0,t(8>=A.g),p.g}function jr(p,v,A){var C=p.xc;return t((v=C==0?0:p.vc[p.md*(A>>C)+(v>>C)])<p.Wb),p.Ya[v]}function mi(p,v,A,C){var U=p.ab,z=p.c*v,G=p.C;v=G+v;var X=A,et=C;for(C=p.Ta,A=p.Ua;0<U--;){var at=p.gc[U],pt=G,Ct=v,rt=X,vt=et,At=(et=C,X=A,at.Ea);switch(t(pt<Ct),t(Ct<=at.nc),at.hc){case 2:Ir(rt,vt,(Ct-pt)*At,et,X);break;case 0:var Ut=pt,Tt=Ct,Vt=et,Yt=X,ee=(me=at).Ea;Ut==0&&(Ml(rt,vt,null,null,1,Vt,Yt),un(rt,vt+1,0,0,ee-1,Vt,Yt+1),vt+=ee,Yt+=ee,++Ut);for(var Jt=1<<me.b,_e=Jt-1,he=Ht(ee,me.b),Ze=me.K,me=me.w+(Ut>>me.b)*he;Ut<Tt;){var gn=Ze,cr=me,an=1;for(jl(rt,vt,Vt,Yt-ee,1,Vt,Yt);an<ee;){var fe=(an&~_e)+Jt;fe>ee&&(fe=ee),(0,Ws[gn[cr++]>>8&15])(rt,vt+ +an,Vt,Yt+an-ee,fe-an,Vt,Yt+an),an=fe}vt+=ee,Yt+=ee,++Ut&_e||(me+=he)}Ct!=at.nc&&i(et,X-At,et,X+(Ct-pt-1)*At,At);break;case 1:for(At=rt,Tt=vt,ee=(rt=at.Ea)-(Yt=rt&~(Vt=(vt=1<<at.b)-1)),Ut=Ht(rt,at.b),Jt=at.K,at=at.w+(pt>>at.b)*Ut;pt<Ct;){for(_e=Jt,he=at,Ze=new De,me=Tt+Yt,gn=Tt+rt;Tt<me;)ge(_e[he++],Ze),Fl(Ze,At,Tt,vt,et,X),Tt+=vt,X+=vt;Tt<gn&&(ge(_e[he++],Ze),Fl(Ze,At,Tt,ee,et,X),Tt+=ee,X+=ee),++pt&Vt||(at+=Ut)}break;case 3:if(rt==et&&vt==X&&0<at.b){for(Tt=et,rt=At=X+(Ct-pt)*At-(Yt=(Ct-pt)*Ht(at.Ea,at.b)),vt=et,Vt=X,Ut=[],Yt=(ee=Yt)-1;0<=Yt;--Yt)Ut[Yt]=vt[Vt+Yt];for(Yt=ee-1;0<=Yt;--Yt)Tt[rt+Yt]=Ut[Yt];hc(at,pt,Ct,et,At,et,X)}else hc(at,pt,Ct,rt,vt,et,X)}X=C,et=A}et!=A&&i(C,A,X,et,z)}function ri(p,v){var A=p.V,C=p.Ba+p.c*p.C,U=v-p.C;if(t(v<=p.l.o),t(16>=U),0<U){var z=p.l,G=p.Ta,X=p.Ua,et=z.width;if(mi(p,U,A,C),U=X=[X],t((A=p.C)<(C=v)),t(z.v<z.va),C>z.o&&(C=z.o),A<z.j){var at=z.j-A;A=z.j,U[0]+=at*et}if(A>=C?A=0:(U[0]+=4*z.v,z.ka=A-z.j,z.U=z.va-z.v,z.T=C-A,A=1),A){if(X=X[0],11>(A=p.ca).S){var pt=A.f.RGBA,Ct=(C=A.S,U=z.U,z=z.T,at=pt.eb,pt.A),rt=z;for(pt=pt.fb+p.Ma*pt.A;0<rt--;){var vt=G,At=X,Ut=U,Tt=at,Vt=pt;switch(C){case pc:Vl(vt,At,Ut,Tt,Vt);break;case Pi:Ks(vt,At,Ut,Tt,Vt);break;case Fu:Ks(vt,At,Ut,Tt,Vt),rl(Tt,Vt,0,Ut,1,0);break;case mc:el(vt,At,Ut,Tt,Vt);break;case ja:Ne(vt,At,Ut,Tt,Vt,1);break;case gc:Ne(vt,At,Ut,Tt,Vt,1),rl(Tt,Vt,0,Ut,1,0);break;case ju:Ne(vt,At,Ut,Tt,Vt,0);break;case Ul:Ne(vt,At,Ut,Tt,Vt,0),rl(Tt,Vt,1,Ut,1,0);break;case Bl:Qs(vt,At,Ut,Tt,Vt);break;case yc:Qs(vt,At,Ut,Tt,Vt),Ma(Tt,Vt,Ut,1,0);break;case Ao:Cs(vt,At,Ut,Tt,Vt);break;default:t(0)}X+=et,pt+=Ct}p.Ma+=z}else alert("todo:EmitRescaledRowsYUVA");t(p.Ma<=A.height)}}p.C=v,t(p.C<=p.i)}function Mn(p){var v;if(0<p.ua)return 0;for(v=0;v<p.Wb;++v){var A=p.Ya[v].G,C=p.Ya[v].H;if(0<A[1][C[1]+0].g||0<A[2][C[2]+0].g||0<A[3][C[3]+0].g)return 0}return 1}function Yn(p,v,A,C,U,z){if(p.Z!=0){var G=p.qd,X=p.rd;for(t(Zs[p.Z]!=null);v<A;++v)Zs[p.Z](G,X,C,U,C,U,z),G=C,X=U,U+=z;p.qd=G,p.rd=X}}function Fr(p,v){var A=p.l.ma,C=A.Z==0||A.Z==1?p.l.j:p.C;if(C=p.C<C?C:p.C,t(v<=p.l.o),v>C){var U=p.l.width,z=A.ca,G=A.tb+U*C,X=p.V,et=p.Ba+p.c*C,at=p.gc;t(p.ab==1),t(at[0].hc==3),Ns(at[0],C,v,X,et,z,G),Yn(A,C,v,z,G,U)}p.C=p.Ma=v}function Ci(p,v,A,C,U,z,G){var X=p.$/C,et=p.$%C,at=p.m,pt=p.s,Ct=A+p.$,rt=Ct;U=A+C*U;var vt=A+C*z,At=280+pt.ua,Ut=p.Pb?X:16777216,Tt=0<pt.ua?pt.Wa:null,Vt=pt.wc,Yt=Ct<vt?jr(pt,et,X):null;t(p.C<z),t(vt<=U);var ee=!1;t:for(;;){for(;ee||Ct<vt;){var Jt=0;if(X>=Ut){var _e=Ct-A;t((Ut=p).Pb),Ut.wd=Ut.m,Ut.xd=_e,0<Ut.s.ua&&ne(Ut.s.Wa,Ut.s.vb),Ut=X+Eo}if(et&Vt||(Yt=jr(pt,et,X)),t(Yt!=null),Yt.Qb&&(v[Ct]=Yt.qb,ee=!0),!ee)if(yt(at),Yt.jc){Jt=at,_e=v;var he=Ct,Ze=Yt.pd[tt(Jt)&So-1];t(Yt.jc),256>Ze.g?(ut(Jt,Jt.u+Ze.g),_e[he]=Ze.value,Jt=0):(ut(Jt,Jt.u+Ze.g-256),t(256<=Ze.value),Jt=Ze.value),Jt==0&&(ee=!0)}else Jt=Hn(Yt.G[0],Yt.H[0],at);if(at.h)break;if(ee||256>Jt){if(!ee)if(Yt.nd)v[Ct]=(Yt.qb|Jt<<8)>>>0;else{if(yt(at),ee=Hn(Yt.G[1],Yt.H[1],at),yt(at),_e=Hn(Yt.G[2],Yt.H[2],at),he=Hn(Yt.G[3],Yt.H[3],at),at.h)break;v[Ct]=(he<<24|ee<<16|Jt<<8|_e)>>>0}if(ee=!1,++Ct,++et>=C&&(et=0,++X,G!=null&&X<=z&&!(X%16)&&G(p,X),Tt!=null))for(;rt<Ct;)Jt=v[rt++],Tt.X[(506832829*Jt&4294967295)>>>Tt.Mb]=Jt}else if(280>Jt){if(Jt=ei(Jt-256,at),_e=Hn(Yt.G[4],Yt.H[4],at),yt(at),_e=ni(C,_e=ei(_e,at)),at.h)break;if(Ct-A<_e||U-Ct<Jt)break t;for(he=0;he<Jt;++he)v[Ct+he]=v[Ct+he-_e];for(Ct+=Jt,et+=Jt;et>=C;)et-=C,++X,G!=null&&X<=z&&!(X%16)&&G(p,X);if(t(Ct<=U),et&Vt&&(Yt=jr(pt,et,X)),Tt!=null)for(;rt<Ct;)Jt=v[rt++],Tt.X[(506832829*Jt&4294967295)>>>Tt.Mb]=Jt}else{if(!(Jt<At))break t;for(ee=Jt-280,t(Tt!=null);rt<Ct;)Jt=v[rt++],Tt.X[(506832829*Jt&4294967295)>>>Tt.Mb]=Jt;Jt=Ct,t(!(ee>>>(_e=Tt).Xa)),v[Jt]=_e.X[ee],ee=!0}ee||t(at.h==st(at))}if(p.Pb&&at.h&&Ct<U)t(p.m.h),p.a=5,p.m=p.wd,p.$=p.xd,0<p.s.ua&&ne(p.s.vb,p.s.Wa);else{if(at.h)break t;G?.(p,X>z?z:X),p.a=0,p.$=Ct-A}return 1}return p.a=3,0}function ra(p){t(p!=null),p.vc=null,p.yc=null,p.Ya=null;var v=p.Wa;v!=null&&(v.X=null),p.vb=null,t(p!=null)}function gs(){var p=new Fe;return p==null?null:(p.a=0,p.xb=Rh,En("Predictor","VP8LPredictors"),En("Predictor","VP8LPredictors_C"),En("PredictorAdd","VP8LPredictorsAdd"),En("PredictorAdd","VP8LPredictorsAdd_C"),Ir=ze,Fl=Ye,Vl=Zn,Ks=nn,Qs=Re,Cs=qe,el=Xe,D.VP8LMapColor32b=Ts,D.VP8LMapColor8b=_i,p)}function va(p,v,A,C,U){var z=1,G=[p],X=[v],et=C.m,at=C.s,pt=null,Ct=0;t:for(;;){if(A)for(;z&&$(et,1);){var rt=G,vt=X,At=C,Ut=1,Tt=At.m,Vt=At.gc[At.ab],Yt=$(Tt,2);if(At.Oc&1<<Yt)z=0;else{switch(At.Oc|=1<<Yt,Vt.hc=Yt,Vt.Ea=rt[0],Vt.nc=vt[0],Vt.K=[null],++At.ab,t(4>=At.ab),Yt){case 0:case 1:Vt.b=$(Tt,3)+2,Ut=va(Ht(Vt.Ea,Vt.b),Ht(Vt.nc,Vt.b),0,At,Vt.K),Vt.K=Vt.K[0];break;case 3:var ee,Jt=$(Tt,8)+1,_e=16<Jt?0:4<Jt?1:2<Jt?2:3;if(rt[0]=Ht(Vt.Ea,_e),Vt.b=_e,ee=Ut=va(Jt,1,0,At,Vt.K)){var he,Ze=Jt,me=Vt,gn=1<<(8>>me.b),cr=o(gn);if(cr==null)ee=0;else{var an=me.K[0],fe=me.w;for(cr[0]=me.K[0][0],he=1;he<1*Ze;++he)cr[he]=le(an[fe+he],cr[he-1]);for(;he<4*gn;++he)cr[he]=0;me.K[0]=null,me.K[0]=cr,ee=1}}Ut=ee;break;case 2:break;default:t(0)}z=Ut}}if(G=G[0],X=X[0],z&&$(et,1)&&!(z=1<=(Ct=$(et,4))&&11>=Ct)){C.a=3;break t}var oe;if(oe=z)e:{var mr,Ge,cn,Un=C,Kr=G,Ei=X,ir=Ct,Br=A,Mi=Un.m,Ur=Un.s,dn=[null],Rn=1,gr=0,Pn=Ba[ir];n:for(;;){if(Br&&$(Mi,1)){var Qr=$(Mi,3)+2,yr=Ht(Kr,Qr),Ln=Ht(Ei,Qr),Or=yr*Ln;if(!va(yr,Ln,0,Un,dn))break n;for(dn=dn[0],Ur.xc=Qr,mr=0;mr<Or;++mr){var zn=dn[mr]>>8&65535;dn[mr]=zn,zn>=Rn&&(Rn=zn+1)}}if(Mi.h)break n;for(Ge=0;5>Ge;++Ge){var zr=al[Ge];!Ge&&0<ir&&(zr+=1<<ir),gr<zr&&(gr=zr)}var qr=u(Rn*Pn,F),Kn=Rn,Cn=u(Kn,xt);if(Cn==null)var ji=null;else t(65536>=Kn),ji=Cn;var Er=o(gr);if(ji==null||Er==null||qr==null){Un.a=1;break n}var je=qr;for(mr=cn=0;mr<Rn;++mr){var Ve=ji[mr],In=Ve.G,ua=Ve.H,Ha=0,Xi=1,Hr=0;for(Ge=0;5>Ge;++Ge){zr=al[Ge],In[Ge]=je,ua[Ge]=cn,!Ge&&0<ir&&(zr+=1<<ir);i:{var Io,Do=zr,Ac=Un,ar=Er,Ih=je,Dh=cn,Ec=0,to=Ac.m,ym=$(to,1);if(s(ar,0,0,Do),ym){var kh=$(to,1)+1,Oh=$(to,1),Tc=$(to,Oh==0?1:8);ar[Tc]=1,kh==2&&(ar[Tc=$(to,8)]=1);var oi=1}else{var Tr=o(19),zu=$(to,4)+4;if(19<zu){Ac.a=3;var ko=0;break i}for(Io=0;Io<zu;++Io)Tr[Vu[Io]]=$(to,3);var $l=void 0,ll=void 0,Is=Ac,Nc=Tr,Yl=Do,Cc=ar,Rc=0,eo=Is.m,Ph=8,Mh=u(128,F);r:for(;P(Mh,0,7,Nc,19);){if($(eo,1)){var rd=2+2*$(eo,3);if(($l=2+$(eo,rd))>Yl)break r}else $l=Yl;for(ll=0;ll<Yl&&$l--;){yt(eo);var jh=Mh[0+(127&tt(eo))];ut(eo,eo.u+jh.g);var Oo=jh.value;if(16>Oo)Cc[ll++]=Oo,Oo!=0&&(Ph=Oo);else{var id=Oo==16,ad=Oo-16,sd=zl[ad],Fh=$(eo,Fa[ad])+sd;if(ll+Fh>Yl)break r;for(var od=id?Ph:0;0<Fh--;)Cc[ll++]=od}}Rc=1;break r}Rc||(Is.a=3),oi=Rc}(oi=oi&&!to.h)&&(Ec=P(Ih,Dh,8,ar,Do)),oi&&Ec!=0?ko=Ec:(Ac.a=3,ko=0)}if(ko==0)break n;if(Xi&&vc[Ge]==1&&(Xi=je[cn].g==0),Ha+=je[cn].g,cn+=ko,3>=Ge){var ul,Lc=Er[0];for(ul=1;ul<zr;++ul)Er[ul]>Lc&&(Lc=Er[ul]);Hr+=Lc}}if(Ve.nd=Xi,Ve.Qb=0,Xi&&(Ve.qb=(In[3][ua[3]+0].value<<24|In[1][ua[1]+0].value<<16|In[2][ua[2]+0].value)>>>0,Ha==0&&256>In[0][ua[0]+0].value&&(Ve.Qb=1,Ve.qb+=In[0][ua[0]+0].value<<8)),Ve.jc=!Ve.Qb&&6>Hr,Ve.jc){var qu,Ds=Ve;for(qu=0;qu<So;++qu){var no=qu,ro=Ds.pd[no],Ic=Ds.G[0][Ds.H[0]+no];256<=Ic.value?(ro.g=Ic.g+256,ro.value=Ic.value):(ro.g=0,ro.value=0,no>>=tr(Ic,8,ro),no>>=tr(Ds.G[1][Ds.H[1]+no],16,ro),no>>=tr(Ds.G[2][Ds.H[2]+no],0,ro),tr(Ds.G[3][Ds.H[3]+no],24,ro))}}}Ur.vc=dn,Ur.Wb=Rn,Ur.Ya=ji,Ur.yc=qr,oe=1;break e}oe=0}if(!(z=oe)){C.a=3;break t}if(0<Ct){if(at.ua=1<<Ct,!Z(at.Wa,Ct)){C.a=1,z=0;break t}}else at.ua=0;var Dc=C,cl=G,ld=X,Wl=Dc.s,Kl=Wl.xc;if(Dc.c=cl,Dc.i=ld,Wl.md=Ht(cl,Kl),Wl.wc=Kl==0?-1:(1<<Kl)-1,A){C.xb=To;break t}if((pt=o(G*X))==null){C.a=1,z=0;break t}z=(z=Ci(C,pt,0,G,X,X,null))&&!et.h;break t}return z?(U!=null?U[0]=pt:(t(pt==null),t(A)),C.$=0,A||ra(at)):ra(at),z}function Ri(p,v){var A=p.c*p.i,C=A+v+16*v;return t(p.c<=v),p.V=o(C),p.V==null?(p.Ta=null,p.Ua=0,p.a=1,0):(p.Ta=p.V,p.Ua=p.Ba+A+v,1)}function Za(p,v){var A=p.C,C=v-A,U=p.V,z=p.Ba+p.c*A;for(t(v<=p.l.o);0<C;){var G=16<C?16:C,X=p.l.ma,et=p.l.width,at=et*G,pt=X.ca,Ct=X.tb+et*A,rt=p.Ta,vt=p.Ua;mi(p,G,U,z),Ta(rt,vt,pt,Ct,at),Yn(X,A,A+G,pt,Ct,et),C-=G,U+=G*p.c,A+=G}t(A==v),p.C=p.Ma=v}function Ui(){this.ub=this.yd=this.td=this.Rb=0}function gi(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function zi(){this.Fb=this.Bb=this.Cb=0,this.Zb=o(4),this.Lb=o(4)}function ia(){this.Yb=(function(){var p=[];return(function v(A,C,U){for(var z=U[C],G=0;G<z&&(A.push(U.length>C+1?[]:0),!(U.length<C+1));G++)v(A[G],C+1,U)})(p,0,[3,11]),p})()}function pr(){this.jb=o(3),this.Wc=h([4,8],ia),this.Xc=h([4,17],ia)}function mo(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new o(4),this.od=new o(4)}function Li(){this.ld=this.La=this.dd=this.tc=0}function aa(){this.Na=this.la=0}function ba(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Vs(){this.ad=o(384),this.Za=0,this.Ob=o(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function go(){this.uc=this.M=this.Nb=0,this.wa=Array(new Li),this.Y=0,this.ya=Array(new Vs),this.aa=0,this.l=new ii}function yo(){this.y=o(16),this.f=o(8),this.ea=o(8)}function Wo(){this.cb=this.a=0,this.sc="",this.m=new O,this.Od=new Ui,this.Kc=new gi,this.ed=new mo,this.Qa=new zi,this.Ic=this.$c=this.Aa=0,this.D=new go,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=u(8,O),this.ia=0,this.pb=u(4,ba),this.Pa=new pr,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new yo),this.Hd=0,this.rb=Array(new aa),this.sb=0,this.wa=Array(new Li),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Vs),this.L=this.aa=0,this.gd=h([4,2],Li),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function qi(p,v){return 0>p?0:p>v?v:p}function ii(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function xr(){var p=new Wo;return p!=null&&(p.a=0,p.sc="OK",p.cb=0,p.Xb=0,Na||(Na=_n)),p}function pn(p,v,A){return p.a==0&&(p.a=v,p.sc=A,p.cb=0),0}function ts(p,v,A){return 3<=A&&p[v+0]==157&&p[v+1]==1&&p[v+2]==42}function sa(p,v){if(p==null)return 0;if(p.a=0,p.sc="OK",v==null)return pn(p,2,"null VP8Io passed to VP8GetHeaders()");var A=v.data,C=v.w,U=v.ha;if(4>U)return pn(p,7,"Truncated header.");var z=A[C+0]|A[C+1]<<8|A[C+2]<<16,G=p.Od;if(G.Rb=!(1&z),G.td=z>>1&7,G.yd=z>>4&1,G.ub=z>>5,3<G.td)return pn(p,3,"Incorrect keyframe parameters.");if(!G.yd)return pn(p,4,"Frame not displayable.");C+=3,U-=3;var X=p.Kc;if(G.Rb){if(7>U)return pn(p,7,"cannot parse picture header");if(!ts(A,C,U))return pn(p,3,"Bad code word");X.c=16383&(A[C+4]<<8|A[C+3]),X.Td=A[C+4]>>6,X.i=16383&(A[C+6]<<8|A[C+5]),X.Ud=A[C+6]>>6,C+=7,U-=7,p.za=X.c+15>>4,p.Ub=X.i+15>>4,v.width=X.c,v.height=X.i,v.Da=0,v.j=0,v.v=0,v.va=v.width,v.o=v.height,v.da=0,v.ib=v.width,v.hb=v.height,v.U=v.width,v.T=v.height,s((z=p.Pa).jb,0,255,z.jb.length),t((z=p.Qa)!=null),z.Cb=0,z.Bb=0,z.Fb=1,s(z.Zb,0,0,z.Zb.length),s(z.Lb,0,0,z.Lb)}if(G.ub>U)return pn(p,7,"bad partition length");ot(z=p.m,A,C,G.ub),C+=G.ub,U-=G.ub,G.Rb&&(X.Ld=Rt(z),X.Kd=Rt(z)),X=p.Qa;var et,at=p.Pa;if(t(z!=null),t(X!=null),X.Cb=Rt(z),X.Cb){if(X.Bb=Rt(z),Rt(z)){for(X.Fb=Rt(z),et=0;4>et;++et)X.Zb[et]=Rt(z)?ft(z,7):0;for(et=0;4>et;++et)X.Lb[et]=Rt(z)?ft(z,6):0}if(X.Bb)for(et=0;3>et;++et)at.jb[et]=Rt(z)?dt(z,8):255}else X.Bb=0;if(z.Ka)return pn(p,3,"cannot parse segment header");if((X=p.ed).zd=Rt(z),X.Tb=dt(z,6),X.wb=dt(z,3),X.Pc=Rt(z),X.Pc&&Rt(z)){for(at=0;4>at;++at)Rt(z)&&(X.vd[at]=ft(z,6));for(at=0;4>at;++at)Rt(z)&&(X.od[at]=ft(z,6))}if(p.L=X.Tb==0?0:X.zd?1:2,z.Ka)return pn(p,3,"cannot parse filter header");var pt=U;if(U=et=C,C=et+pt,X=pt,p.Xb=(1<<dt(p.m,2))-1,pt<3*(at=p.Xb))A=7;else{for(et+=3*at,X-=3*at,pt=0;pt<at;++pt){var Ct=A[U+0]|A[U+1]<<8|A[U+2]<<16;Ct>X&&(Ct=X),ot(p.Jc[+pt],A,et,Ct),et+=Ct,X-=Ct,U+=3}ot(p.Jc[+at],A,et,X),A=et<C?0:5}if(A!=0)return pn(p,A,"cannot parse partitions");for(A=dt(et=p.m,7),U=Rt(et)?ft(et,4):0,C=Rt(et)?ft(et,4):0,X=Rt(et)?ft(et,4):0,at=Rt(et)?ft(et,4):0,et=Rt(et)?ft(et,4):0,pt=p.Qa,Ct=0;4>Ct;++Ct){if(pt.Cb){var rt=pt.Zb[Ct];pt.Fb||(rt+=A)}else{if(0<Ct){p.pb[Ct]=p.pb[0];continue}rt=A}var vt=p.pb[Ct];vt.Sc[0]=Ua[qi(rt+U,127)],vt.Sc[1]=za[qi(rt+0,127)],vt.Eb[0]=2*Ua[qi(rt+C,127)],vt.Eb[1]=101581*za[qi(rt+X,127)]>>16,8>vt.Eb[1]&&(vt.Eb[1]=8),vt.Qc[0]=Ua[qi(rt+at,117)],vt.Qc[1]=za[qi(rt+et,127)],vt.lc=rt+et}if(!G.Rb)return pn(p,4,"Not a key frame.");for(Rt(z),G=p.Pa,A=0;4>A;++A){for(U=0;8>U;++U)for(C=0;3>C;++C)for(X=0;11>X;++X)at=zt(z,ur[A][U][C][X])?dt(z,8):ed[A][U][C][X],G.Wc[A][U].Yb[C][X]=at;for(U=0;17>U;++U)G.Xc[A][U]=G.Wc[A][yn[U]]}return p.kc=Rt(z),p.kc&&(p.Bd=dt(z,8)),p.cb=1}function _n(p,v,A,C,U,z,G){var X=v[U].Yb[A];for(A=0;16>U;++U){if(!zt(p,X[A+0]))return U;for(;!zt(p,X[A+1]);)if(X=v[++U].Yb[0],A=0,U==16)return 16;var et=v[U+1].Yb;if(zt(p,X[A+2])){var at=p,pt=0;if(zt(at,(rt=X)[(Ct=A)+3]))if(zt(at,rt[Ct+6])){for(X=0,Ct=2*(pt=zt(at,rt[Ct+8]))+(rt=zt(at,rt[Ct+9+pt])),pt=0,rt=td[Ct];rt[X];++X)pt+=pt+zt(at,rt[X]);pt+=3+(8<<Ct)}else zt(at,rt[Ct+7])?(pt=7+2*zt(at,165),pt+=zt(at,145)):pt=5+zt(at,159);else pt=zt(at,rt[Ct+4])?3+zt(at,rt[Ct+5]):2;X=et[2]}else pt=1,X=et[1];et=G+Ch[U],0>(at=p).b&&It(at);var Ct,rt=at.b,vt=(Ct=at.Ca>>1)-(at.I>>rt)>>31;--at.b,at.Ca+=vt,at.Ca|=1,at.I-=(Ct+1&vt)<<rt,z[et]=((pt^vt)-vt)*C[(0<U)+0]}return 16}function ys(p){var v=p.rb[p.sb-1];v.la=0,v.Na=0,s(p.zc,0,0,p.zc.length),p.ja=0}function Rr(p,v,A,C,U){U=p[v+A+32*C]+(U>>3),p[v+A+32*C]=-256&U?0>U?0:255:U}function lr(p,v,A,C,U,z){Rr(p,v,0,A,C+U),Rr(p,v,1,A,C+z),Rr(p,v,2,A,C-z),Rr(p,v,3,A,C-U)}function Sr(p){return(20091*p>>16)+p}function Bs(p,v,A,C){var U,z=0,G=o(16);for(U=0;4>U;++U){var X=p[v+0]+p[v+8],et=p[v+0]-p[v+8],at=(35468*p[v+4]>>16)-Sr(p[v+12]),pt=Sr(p[v+4])+(35468*p[v+12]>>16);G[z+0]=X+pt,G[z+1]=et+at,G[z+2]=et-at,G[z+3]=X-pt,z+=4,v++}for(U=z=0;4>U;++U)X=(p=G[z+0]+4)+G[z+8],et=p-G[z+8],at=(35468*G[z+4]>>16)-Sr(G[z+12]),Rr(A,C,0,0,X+(pt=Sr(G[z+4])+(35468*G[z+12]>>16))),Rr(A,C,1,0,et+at),Rr(A,C,2,0,et-at),Rr(A,C,3,0,X-pt),z++,C+=32}function Ol(p,v,A,C){var U=p[v+0]+4,z=35468*p[v+4]>>16,G=Sr(p[v+4]),X=35468*p[v+1]>>16;lr(A,C,0,U+G,p=Sr(p[v+1]),X),lr(A,C,1,U+z,p,X),lr(A,C,2,U-z,p,X),lr(A,C,3,U-G,p,X)}function Ko(p,v,A,C,U){Bs(p,v,A,C),U&&Bs(p,v+16,A,C+4)}function yi(p,v,A,C){Xs(p,v+0,A,C,1),Xs(p,v+32,A,C+128,1)}function Qo(p,v,A,C){var U;for(p=p[v+0]+4,U=0;4>U;++U)for(v=0;4>v;++v)Rr(A,C,v,U,p)}function es(p,v,A,C){p[v+0]&&On(p,v+0,A,C),p[v+16]&&On(p,v+16,A,C+4),p[v+32]&&On(p,v+32,A,C+128),p[v+48]&&On(p,v+48,A,C+128+4)}function Yr(p,v,A,C){var U,z=o(16);for(U=0;4>U;++U){var G=p[v+0+U]+p[v+12+U],X=p[v+4+U]+p[v+8+U],et=p[v+4+U]-p[v+8+U],at=p[v+0+U]-p[v+12+U];z[0+U]=G+X,z[8+U]=G-X,z[4+U]=at+et,z[12+U]=at-et}for(U=0;4>U;++U)G=(p=z[0+4*U]+3)+z[3+4*U],X=z[1+4*U]+z[2+4*U],et=z[1+4*U]-z[2+4*U],at=p-z[3+4*U],A[C+0]=G+X>>3,A[C+16]=at+et>>3,A[C+32]=G-X>>3,A[C+48]=at-et>>3,C+=64}function vs(p,v,A){var C,U=v-32,z=Oi,G=255-p[U-1];for(C=0;C<A;++C){var X,et=z,at=G+p[v-1];for(X=0;X<A;++X)p[v+X]=et[at+p[U+X]];v+=32}}function Xo(p,v){vs(p,v,4)}function Jo(p,v){vs(p,v,8)}function vo(p,v){vs(p,v,16)}function bo(p,v){var A;for(A=0;16>A;++A)i(p,v+32*A,p,v-32,16)}function ns(p,v){var A;for(A=16;0<A;--A)s(p,v,p[v-1],16),v+=32}function Ii(p,v,A){var C;for(C=0;16>C;++C)s(v,A+32*C,p,16)}function _a(p,v){var A,C=16;for(A=0;16>A;++A)C+=p[v-1+32*A]+p[v+A-32];Ii(C>>5,p,v)}function rs(p,v){var A,C=8;for(A=0;16>A;++A)C+=p[v-1+32*A];Ii(C>>4,p,v)}function Di(p,v){var A,C=8;for(A=0;16>A;++A)C+=p[v+A-32];Ii(C>>4,p,v)}function bs(p,v){Ii(128,p,v)}function Me(p,v,A){return p+2*v+A+2>>2}function Us(p,v){var A,C=v-32;for(C=new Uint8Array([Me(p[C-1],p[C+0],p[C+1]),Me(p[C+0],p[C+1],p[C+2]),Me(p[C+1],p[C+2],p[C+3]),Me(p[C+2],p[C+3],p[C+4])]),A=0;4>A;++A)i(p,v+32*A,C,0,C.length)}function _o(p,v){var A=p[v-1],C=p[v-1+32],U=p[v-1+64],z=p[v-1+96];Et(p,v+0,16843009*Me(p[v-1-32],A,C)),Et(p,v+32,16843009*Me(A,C,U)),Et(p,v+64,16843009*Me(C,U,z)),Et(p,v+96,16843009*Me(U,z,z))}function _s(p,v){var A,C=4;for(A=0;4>A;++A)C+=p[v+A-32]+p[v-1+32*A];for(C>>=3,A=0;4>A;++A)s(p,v+32*A,C,4)}function Wr(p,v){var A=p[v-1+0],C=p[v-1+32],U=p[v-1+64],z=p[v-1-32],G=p[v+0-32],X=p[v+1-32],et=p[v+2-32],at=p[v+3-32];p[v+0+96]=Me(C,U,p[v-1+96]),p[v+1+96]=p[v+0+64]=Me(A,C,U),p[v+2+96]=p[v+1+64]=p[v+0+32]=Me(z,A,C),p[v+3+96]=p[v+2+64]=p[v+1+32]=p[v+0+0]=Me(G,z,A),p[v+3+64]=p[v+2+32]=p[v+1+0]=Me(X,G,z),p[v+3+32]=p[v+2+0]=Me(et,X,G),p[v+3+0]=Me(at,et,X)}function Vr(p,v){var A=p[v+1-32],C=p[v+2-32],U=p[v+3-32],z=p[v+4-32],G=p[v+5-32],X=p[v+6-32],et=p[v+7-32];p[v+0+0]=Me(p[v+0-32],A,C),p[v+1+0]=p[v+0+32]=Me(A,C,U),p[v+2+0]=p[v+1+32]=p[v+0+64]=Me(C,U,z),p[v+3+0]=p[v+2+32]=p[v+1+64]=p[v+0+96]=Me(U,z,G),p[v+3+32]=p[v+2+64]=p[v+1+96]=Me(z,G,X),p[v+3+64]=p[v+2+96]=Me(G,X,et),p[v+3+96]=Me(X,et,et)}function zs(p,v){var A=p[v-1+0],C=p[v-1+32],U=p[v-1+64],z=p[v-1-32],G=p[v+0-32],X=p[v+1-32],et=p[v+2-32],at=p[v+3-32];p[v+0+0]=p[v+1+64]=z+G+1>>1,p[v+1+0]=p[v+2+64]=G+X+1>>1,p[v+2+0]=p[v+3+64]=X+et+1>>1,p[v+3+0]=et+at+1>>1,p[v+0+96]=Me(U,C,A),p[v+0+64]=Me(C,A,z),p[v+0+32]=p[v+1+96]=Me(A,z,G),p[v+1+32]=p[v+2+96]=Me(z,G,X),p[v+2+32]=p[v+3+96]=Me(G,X,et),p[v+3+32]=Me(X,et,at)}function jn(p,v){var A=p[v+0-32],C=p[v+1-32],U=p[v+2-32],z=p[v+3-32],G=p[v+4-32],X=p[v+5-32],et=p[v+6-32],at=p[v+7-32];p[v+0+0]=A+C+1>>1,p[v+1+0]=p[v+0+64]=C+U+1>>1,p[v+2+0]=p[v+1+64]=U+z+1>>1,p[v+3+0]=p[v+2+64]=z+G+1>>1,p[v+0+32]=Me(A,C,U),p[v+1+32]=p[v+0+96]=Me(C,U,z),p[v+2+32]=p[v+1+96]=Me(U,z,G),p[v+3+32]=p[v+2+96]=Me(z,G,X),p[v+3+64]=Me(G,X,et),p[v+3+96]=Me(X,et,at)}function Hi(p,v){var A=p[v-1+0],C=p[v-1+32],U=p[v-1+64],z=p[v-1+96];p[v+0+0]=A+C+1>>1,p[v+2+0]=p[v+0+32]=C+U+1>>1,p[v+2+32]=p[v+0+64]=U+z+1>>1,p[v+1+0]=Me(A,C,U),p[v+3+0]=p[v+1+32]=Me(C,U,z),p[v+3+32]=p[v+1+64]=Me(U,z,z),p[v+3+64]=p[v+2+64]=p[v+0+96]=p[v+1+96]=p[v+2+96]=p[v+3+96]=z}function qs(p,v){var A=p[v-1+0],C=p[v-1+32],U=p[v-1+64],z=p[v-1+96],G=p[v-1-32],X=p[v+0-32],et=p[v+1-32],at=p[v+2-32];p[v+0+0]=p[v+2+32]=A+G+1>>1,p[v+0+32]=p[v+2+64]=C+A+1>>1,p[v+0+64]=p[v+2+96]=U+C+1>>1,p[v+0+96]=z+U+1>>1,p[v+3+0]=Me(X,et,at),p[v+2+0]=Me(G,X,et),p[v+1+0]=p[v+3+32]=Me(A,G,X),p[v+1+32]=p[v+3+64]=Me(C,A,G),p[v+1+64]=p[v+3+96]=Me(U,C,A),p[v+1+96]=Me(z,U,C)}function wa(p,v){var A;for(A=0;8>A;++A)i(p,v+32*A,p,v-32,8)}function Zo(p,v){var A;for(A=0;8>A;++A)s(p,v,p[v-1],8),v+=32}function Gi(p,v,A){var C;for(C=0;8>C;++C)s(v,A+32*C,p,8)}function is(p,v){var A,C=8;for(A=0;8>A;++A)C+=p[v+A-32]+p[v-1+32*A];Gi(C>>4,p,v)}function $i(p,v){var A,C=4;for(A=0;8>A;++A)C+=p[v+A-32];Gi(C>>3,p,v)}function Lr(p,v){var A,C=4;for(A=0;8>A;++A)C+=p[v-1+32*A];Gi(C>>3,p,v)}function La(p,v){Gi(128,p,v)}function ai(p,v,A){var C=p[v-A],U=p[v+0],z=3*(U-C)+Js[1020+p[v-2*A]-p[v+A]],G=Mu[112+(z+4>>3)];p[v-A]=Oi[255+C+Mu[112+(z+3>>3)]],p[v+0]=Oi[255+U-G]}function Ia(p,v,A,C){var U=p[v+0],z=p[v+A];return wi[255+p[v-2*A]-p[v-A]]>C||wi[255+z-U]>C}function ws(p,v,A,C){return 4*wi[255+p[v-A]-p[v+0]]+wi[255+p[v-2*A]-p[v+A]]<=C}function Da(p,v,A,C,U){var z=p[v-3*A],G=p[v-2*A],X=p[v-A],et=p[v+0],at=p[v+A],pt=p[v+2*A],Ct=p[v+3*A];return 4*wi[255+X-et]+wi[255+G-at]>C?0:wi[255+p[v-4*A]-z]<=U&&wi[255+z-G]<=U&&wi[255+G-X]<=U&&wi[255+Ct-pt]<=U&&wi[255+pt-at]<=U&&wi[255+at-et]<=U}function ka(p,v,A,C){var U=2*C+1;for(C=0;16>C;++C)ws(p,v+C,A,U)&&ai(p,v+C,A)}function oa(p,v,A,C){var U=2*C+1;for(C=0;16>C;++C)ws(p,v+C*A,1,U)&&ai(p,v+C*A,1)}function Hs(p,v,A,C){var U;for(U=3;0<U;--U)ka(p,v+=4*A,A,C)}function wo(p,v,A,C){var U;for(U=3;0<U;--U)oa(p,v+=4,A,C)}function Yi(p,v,A,C,U,z,G,X){for(z=2*z+1;0<U--;){if(Da(p,v,A,z,G))if(Ia(p,v,A,X))ai(p,v,A);else{var et=p,at=v,pt=A,Ct=et[at-2*pt],rt=et[at-pt],vt=et[at+0],At=et[at+pt],Ut=et[at+2*pt],Tt=27*(Yt=Js[1020+3*(vt-rt)+Js[1020+Ct-At]])+63>>7,Vt=18*Yt+63>>7,Yt=9*Yt+63>>7;et[at-3*pt]=Oi[255+et[at-3*pt]+Yt],et[at-2*pt]=Oi[255+Ct+Vt],et[at-pt]=Oi[255+rt+Tt],et[at+0]=Oi[255+vt-Tt],et[at+pt]=Oi[255+At-Vt],et[at+2*pt]=Oi[255+Ut-Yt]}v+=C}}function Oa(p,v,A,C,U,z,G,X){for(z=2*z+1;0<U--;){if(Da(p,v,A,z,G))if(Ia(p,v,A,X))ai(p,v,A);else{var et=p,at=v,pt=A,Ct=et[at-pt],rt=et[at+0],vt=et[at+pt],At=Mu[112+(4+(Ut=3*(rt-Ct))>>3)],Ut=Mu[112+(Ut+3>>3)],Tt=At+1>>1;et[at-2*pt]=Oi[255+et[at-2*pt]+Tt],et[at-pt]=Oi[255+Ct+Ut],et[at+0]=Oi[255+rt-At],et[at+pt]=Oi[255+vt-Tt]}v+=C}}function tl(p,v,A,C,U,z){Yi(p,v,A,1,16,C,U,z)}function xa(p,v,A,C,U,z){Yi(p,v,1,A,16,C,U,z)}function xo(p,v,A,C,U,z){var G;for(G=3;0<G;--G)Oa(p,v+=4*A,A,1,16,C,U,z)}function x(p,v,A,C,U,z){var G;for(G=3;0<G;--G)Oa(p,v+=4,1,A,16,C,U,z)}function B(p,v,A,C,U,z,G,X){Yi(p,v,U,1,8,z,G,X),Yi(A,C,U,1,8,z,G,X)}function it(p,v,A,C,U,z,G,X){Yi(p,v,1,U,8,z,G,X),Yi(A,C,1,U,8,z,G,X)}function ht(p,v,A,C,U,z,G,X){Oa(p,v+4*U,U,1,8,z,G,X),Oa(A,C+4*U,U,1,8,z,G,X)}function _t(p,v,A,C,U,z,G,X){Oa(p,v+4,1,U,8,z,G,X),Oa(A,C+4,1,U,8,z,G,X)}function Gt(){this.ba=new xe,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Je,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Zt(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function de(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function be(){this.ua=0,this.Wa=new Ce,this.vb=new Ce,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new xt,this.yc=new F}function Fe(){this.xb=this.a=0,this.l=new ii,this.ca=new xe,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new K,this.Pb=0,this.wd=new K,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new be,this.ab=0,this.gc=u(4,de),this.Oc=0}function ke(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new ii,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function mn(p,v,A,C,U,z,G){for(p=p==null?0:p[v+0],v=0;v<G;++v)U[z+v]=p+A[C+v]&255,p=U[z+v]}function er(p,v,A,C,U,z,G){var X;if(p==null)mn(null,null,A,C,U,z,G);else for(X=0;X<G;++X)U[z+X]=p[v+X]+A[C+X]&255}function Gn(p,v,A,C,U,z,G){if(p==null)mn(null,null,A,C,U,z,G);else{var X,et=p[v+0],at=et,pt=et;for(X=0;X<G;++X)at=pt+(et=p[v+X])-at,pt=A[C+X]+(-256&at?0>at?0:255:at)&255,at=et,U[z+X]=pt}}function m(p,v,A,C){var U=v.width,z=v.o;if(t(p!=null&&v!=null),0>A||0>=C||A+C>z)return null;if(!p.Cc){if(p.ga==null){var G;if(p.ga=new ke,(G=p.ga==null)||(G=v.width*v.o,t(p.Gb.length==0),p.Gb=o(G),p.Uc=0,p.Gb==null?G=0:(p.mb=p.Gb,p.nb=p.Uc,p.rc=null,G=1),G=!G),!G){G=p.ga;var X=p.Fa,et=p.P,at=p.qc,pt=p.mb,Ct=p.nb,rt=et+1,vt=at-1,At=G.l;if(t(X!=null&&pt!=null&&v!=null),Zs[0]=null,Zs[1]=mn,Zs[2]=er,Zs[3]=Gn,G.ca=pt,G.tb=Ct,G.c=v.width,G.i=v.height,t(0<G.c&&0<G.i),1>=at)v=0;else if(G.$a=3&X[et+0],G.Z=X[et+0]>>2&3,G.Lc=X[et+0]>>4&3,et=X[et+0]>>6&3,0>G.$a||1<G.$a||4<=G.Z||1<G.Lc||et)v=0;else if(At.put=ae,At.ac=Ie,At.bc=wr,At.ma=G,At.width=v.width,At.height=v.height,At.Da=v.Da,At.v=v.v,At.va=v.va,At.j=v.j,At.o=v.o,G.$a)t:{t(G.$a==1),v=gs();e:for(;;){if(v==null){v=0;break t}if(t(G!=null),G.mc=v,v.c=G.c,v.i=G.i,v.l=G.l,v.l.ma=G,v.l.width=G.c,v.l.height=G.i,v.a=0,Nt(v.m,X,rt,vt),!va(G.c,G.i,1,v,null)||(v.ab==1&&v.gc[0].hc==3&&Mn(v.s)?(G.ic=1,X=v.c*v.i,v.Ta=null,v.Ua=0,v.V=o(X),v.Ba=0,v.V==null?(v.a=1,v=0):v=1):(G.ic=0,v=Ri(v,G.c)),!v))break e;v=1;break t}G.mc=null,v=0}else v=vt>=G.c*G.i;G=!v}if(G)return null;p.ga.Lc!=1?p.Ga=0:C=z-A}t(p.ga!=null),t(A+C<=z);t:{if(v=(X=p.ga).c,z=X.l.o,X.$a==0){if(rt=p.rc,vt=p.Vc,At=p.Fa,et=p.P+1+A*v,at=p.mb,pt=p.nb+A*v,t(et<=p.P+p.qc),X.Z!=0)for(t(Zs[X.Z]!=null),G=0;G<C;++G)Zs[X.Z](rt,vt,At,et,at,pt,v),rt=at,vt=pt,pt+=v,et+=v;else for(G=0;G<C;++G)i(at,pt,At,et,v),rt=at,vt=pt,pt+=v,et+=v;p.rc=rt,p.Vc=vt}else{if(t(X.mc!=null),v=A+C,t((G=X.mc)!=null),t(v<=G.i),G.C>=v)v=1;else if(X.ic||kt(),X.ic){X=G.V,rt=G.Ba,vt=G.c;var Ut=G.i,Tt=(At=1,et=G.$/vt,at=G.$%vt,pt=G.m,Ct=G.s,G.$),Vt=vt*Ut,Yt=vt*v,ee=Ct.wc,Jt=Tt<Yt?jr(Ct,at,et):null;t(Tt<=Vt),t(v<=Ut),t(Mn(Ct));e:for(;;){for(;!pt.h&&Tt<Yt;){if(at&ee||(Jt=jr(Ct,at,et)),t(Jt!=null),yt(pt),256>(Ut=Hn(Jt.G[0],Jt.H[0],pt)))X[rt+Tt]=Ut,++Tt,++at>=vt&&(at=0,++et<=v&&!(et%16)&&Fr(G,et));else{if(!(280>Ut)){At=0;break e}Ut=ei(Ut-256,pt);var _e,he=Hn(Jt.G[4],Jt.H[4],pt);if(yt(pt),!(Tt>=(he=ni(vt,he=ei(he,pt)))&&Vt-Tt>=Ut)){At=0;break e}for(_e=0;_e<Ut;++_e)X[rt+Tt+_e]=X[rt+Tt+_e-he];for(Tt+=Ut,at+=Ut;at>=vt;)at-=vt,++et<=v&&!(et%16)&&Fr(G,et);Tt<Yt&&at&ee&&(Jt=jr(Ct,at,et))}t(pt.h==st(pt))}Fr(G,et>v?v:et);break e}!At||pt.h&&Tt<Vt?(At=0,G.a=pt.h?5:3):G.$=Tt,v=At}else v=Ci(G,G.V,G.Ba,G.c,G.i,v,Za);if(!v){C=0;break t}}A+C>=z&&(p.Cc=1),C=1}if(!C)return null;if(p.Cc&&((C=p.ga)!=null&&(C.mc=null),p.ga=null,0<p.Ga))return alert("todo:WebPDequantizeLevels"),null}return p.nb+A*U}function E(p,v,A,C,U,z){for(;0<U--;){var G,X=p,et=v+(A?1:0),at=p,pt=v+(A?0:3);for(G=0;G<C;++G){var Ct=at[pt+4*G];Ct!=255&&(Ct*=32897,X[et+4*G+0]=X[et+4*G+0]*Ct>>23,X[et+4*G+1]=X[et+4*G+1]*Ct>>23,X[et+4*G+2]=X[et+4*G+2]*Ct>>23)}v+=z}}function k(p,v,A,C,U){for(;0<C--;){var z;for(z=0;z<A;++z){var G=p[v+2*z+0],X=15&(at=p[v+2*z+1]),et=4369*X,at=(240&at|at>>4)*et>>16;p[v+2*z+0]=(240&G|G>>4)*et>>16&240|(15&G|G<<4)*et>>16>>4&15,p[v+2*z+1]=240&at|X}v+=U}}function J(p,v,A,C,U,z,G,X){var et,at,pt=255;for(at=0;at<U;++at){for(et=0;et<C;++et){var Ct=p[v+et];z[G+4*et]=Ct,pt&=Ct}v+=A,G+=X}return pt!=255}function St(p,v,A,C,U){var z;for(z=0;z<U;++z)A[C+z]=p[v+z]>>8}function kt(){rl=E,Ma=k,ku=J,Ta=St}function re(p,v,A){D[p]=function(C,U,z,G,X,et,at,pt,Ct,rt,vt,At,Ut,Tt,Vt,Yt,ee){var Jt,_e=ee-1>>1,he=X[et+0]|at[pt+0]<<16,Ze=Ct[rt+0]|vt[At+0]<<16;t(C!=null);var me=3*he+Ze+131074>>2;for(v(C[U+0],255&me,me>>16,Ut,Tt),z!=null&&(me=3*Ze+he+131074>>2,v(z[G+0],255&me,me>>16,Vt,Yt)),Jt=1;Jt<=_e;++Jt){var gn=X[et+Jt]|at[pt+Jt]<<16,cr=Ct[rt+Jt]|vt[At+Jt]<<16,an=he+gn+Ze+cr+524296,fe=an+2*(gn+Ze)>>3;me=fe+he>>1,he=(an=an+2*(he+cr)>>3)+gn>>1,v(C[U+2*Jt-1],255&me,me>>16,Ut,Tt+(2*Jt-1)*A),v(C[U+2*Jt-0],255&he,he>>16,Ut,Tt+(2*Jt-0)*A),z!=null&&(me=an+Ze>>1,he=fe+cr>>1,v(z[G+2*Jt-1],255&me,me>>16,Vt,Yt+(2*Jt-1)*A),v(z[G+2*Jt+0],255&he,he>>16,Vt,Yt+(2*Jt+0)*A)),he=gn,Ze=cr}1&ee||(me=3*he+Ze+131074>>2,v(C[U+ee-1],255&me,me>>16,Ut,Tt+(ee-1)*A),z!=null&&(me=3*Ze+he+131074>>2,v(z[G+ee-1],255&me,me>>16,Vt,Yt+(ee-1)*A)))}}function Qe(){Si[pc]=sl,Si[Pi]=ql,Si[mc]=Lh,Si[ja]=_c,Si[ju]=No,Si[Bl]=Ls,Si[Ao]=Co,Si[Fu]=ql,Si[gc]=_c,Si[Ul]=No,Si[yc]=Ls}function nr(p){return p&-16384?0>p?0:255:p>>wc}function fn(p,v){return nr((19077*p>>8)+(26149*v>>8)-14234)}function Fn(p,v,A){return nr((19077*p>>8)-(6419*v>>8)-(13320*A>>8)+8708)}function si(p,v){return nr((19077*p>>8)+(33050*v>>8)-17685)}function vi(p,v,A,C,U){C[U+0]=fn(p,A),C[U+1]=Fn(p,v,A),C[U+2]=si(p,v)}function Wn(p,v,A,C,U){C[U+0]=si(p,v),C[U+1]=Fn(p,v,A),C[U+2]=fn(p,A)}function bi(p,v,A,C,U){var z=Fn(p,v,A);v=z<<3&224|si(p,v)>>3,C[U+0]=248&fn(p,A)|z>>5,C[U+1]=v}function Sa(p,v,A,C,U){var z=240&si(p,v)|15;C[U+0]=240&fn(p,A)|Fn(p,v,A)>>4,C[U+1]=z}function xs(p,v,A,C,U){C[U+0]=255,vi(p,v,A,C,U+1)}function Ss(p,v,A,C,U){Wn(p,v,A,C,U),C[U+3]=255}function Wi(p,v,A,C,U){vi(p,v,A,C,U),C[U+3]=255}function Gs(p,v,A){D[p]=function(C,U,z,G,X,et,at,pt,Ct){for(var rt=pt+(-2&Ct)*A;pt!=rt;)v(C[U+0],z[G+0],X[et+0],at,pt),v(C[U+1],z[G+0],X[et+0],at,pt+A),U+=2,++G,++et,pt+=2*A;1&Ct&&v(C[U+0],z[G+0],X[et+0],at,pt)}}function Pl(p,v,A){return A==0?p==0?v==0?6:5:v==0?4:0:A}function Lu(p,v,A,C,U){switch(p>>>30){case 3:Xs(v,A,C,U,0);break;case 2:ki(v,A,C,U);break;case 1:On(v,A,C,U)}}function Aa(p,v){var A,C,U=v.M,z=v.Nb,G=p.oc,X=p.pc+40,et=p.oc,at=p.pc+584,pt=p.oc,Ct=p.pc+600;for(A=0;16>A;++A)G[X+32*A-1]=129;for(A=0;8>A;++A)et[at+32*A-1]=129,pt[Ct+32*A-1]=129;for(0<U?G[X-1-32]=et[at-1-32]=pt[Ct-1-32]=129:(s(G,X-32-1,127,21),s(et,at-32-1,127,9),s(pt,Ct-32-1,127,9)),C=0;C<p.za;++C){var rt=v.ya[v.aa+C];if(0<C){for(A=-1;16>A;++A)i(G,X+32*A-4,G,X+32*A+12,4);for(A=-1;8>A;++A)i(et,at+32*A-4,et,at+32*A+4,4),i(pt,Ct+32*A-4,pt,Ct+32*A+4,4)}var vt=p.Gd,At=p.Hd+C,Ut=rt.ad,Tt=rt.Hc;if(0<U&&(i(G,X-32,vt[At].y,0,16),i(et,at-32,vt[At].f,0,8),i(pt,Ct-32,vt[At].ea,0,8)),rt.Za){var Vt=G,Yt=X-32+16;for(0<U&&(C>=p.za-1?s(Vt,Yt,vt[At].y[15],4):i(Vt,Yt,vt[At+1].y,0,4)),A=0;4>A;A++)Vt[Yt+128+A]=Vt[Yt+256+A]=Vt[Yt+384+A]=Vt[Yt+0+A];for(A=0;16>A;++A,Tt<<=2)Vt=G,Yt=X+kr[A],Ar[rt.Ob[A]](Vt,Yt),Lu(Tt,Ut,16*+A,Vt,Yt)}else if(Vt=Pl(C,U,rt.Ob[0]),Qi[Vt](G,X),Tt!=0)for(A=0;16>A;++A,Tt<<=2)Lu(Tt,Ut,16*+A,G,X+kr[A]);for(A=rt.Gc,Vt=Pl(C,U,rt.Dd),ls[Vt](et,at),ls[Vt](pt,Ct),Tt=Ut,Vt=et,Yt=at,255&(rt=0|A)&&(170&rt?Pa(Tt,256,Vt,Yt):Nn(Tt,256,Vt,Yt)),rt=pt,Tt=Ct,255&(A>>=8)&&(170&A?Pa(Ut,320,rt,Tt):Nn(Ut,320,rt,Tt)),U<p.Ub-1&&(i(vt[At].y,0,G,X+480,16),i(vt[At].f,0,et,at+224,8),i(vt[At].ea,0,pt,Ct+224,8)),A=8*z*p.B,vt=p.sa,At=p.ta+16*C+16*z*p.R,Ut=p.qa,rt=p.ra+8*C+A,Tt=p.Ha,Vt=p.Ia+8*C+A,A=0;16>A;++A)i(vt,At+A*p.R,G,X+32*A,16);for(A=0;8>A;++A)i(Ut,rt+A*p.B,et,at+32*A,8),i(Tt,Vt+A*p.B,pt,Ct+32*A,8)}}function as(p,v,A,C,U,z,G,X,et){var at=[0],pt=[0],Ct=0,rt=et!=null?et.kd:0,vt=et??new Zt;if(p==null||12>A)return 7;vt.data=p,vt.w=v,vt.ha=A,v=[v],A=[A],vt.gb=[vt.gb];t:{var At=v,Ut=A,Tt=vt.gb;if(t(p!=null),t(Ut!=null),t(Tt!=null),Tt[0]=0,12<=Ut[0]&&!e(p,At[0],"RIFF")){if(e(p,At[0]+8,"WEBP")){Tt=3;break t}var Vt=Mt(p,At[0]+4);if(12>Vt||4294967286<Vt){Tt=3;break t}if(rt&&Vt>Ut[0]-8){Tt=7;break t}Tt[0]=Vt,At[0]+=12,Ut[0]-=12}Tt=0}if(Tt!=0)return Tt;for(Vt=0<vt.gb[0],A=A[0];;){t:{var Yt=p;Ut=v,Tt=A;var ee=at,Jt=pt,_e=At=[0];if((me=Ct=[Ct])[0]=0,8>Tt[0])Tt=7;else{if(!e(Yt,Ut[0],"VP8X")){if(Mt(Yt,Ut[0]+4)!=10){Tt=3;break t}if(18>Tt[0]){Tt=7;break t}var he=Mt(Yt,Ut[0]+8),Ze=1+qt(Yt,Ut[0]+12);if(2147483648<=Ze*(Yt=1+qt(Yt,Ut[0]+15))){Tt=3;break t}_e!=null&&(_e[0]=he),ee!=null&&(ee[0]=Ze),Jt!=null&&(Jt[0]=Yt),Ut[0]+=18,Tt[0]-=18,me[0]=1}Tt=0}}if(Ct=Ct[0],At=At[0],Tt!=0)return Tt;if(Ut=!!(2&At),!Vt&&Ct)return 3;if(z!=null&&(z[0]=!!(16&At)),G!=null&&(G[0]=Ut),X!=null&&(X[0]=0),G=at[0],At=pt[0],Ct&&Ut&&et==null){Tt=0;break}if(4>A){Tt=7;break}if(Vt&&Ct||!Vt&&!Ct&&!e(p,v[0],"ALPH")){A=[A],vt.na=[vt.na],vt.P=[vt.P],vt.Sa=[vt.Sa];t:{he=p,Tt=v,Vt=A;var me=vt.gb;ee=vt.na,Jt=vt.P,_e=vt.Sa,Ze=22,t(he!=null),t(Vt!=null),Yt=Tt[0];var gn=Vt[0];for(t(ee!=null),t(_e!=null),ee[0]=null,Jt[0]=null,_e[0]=0;;){if(Tt[0]=Yt,Vt[0]=gn,8>gn){Tt=7;break t}var cr=Mt(he,Yt+4);if(4294967286<cr){Tt=3;break t}var an=8+cr+1&-2;if(Ze+=an,0<me&&Ze>me){Tt=3;break t}if(!e(he,Yt,"VP8 ")||!e(he,Yt,"VP8L")){Tt=0;break t}if(gn[0]<an){Tt=7;break t}e(he,Yt,"ALPH")||(ee[0]=he,Jt[0]=Yt+8,_e[0]=cr),Yt+=an,gn-=an}}if(A=A[0],vt.na=vt.na[0],vt.P=vt.P[0],vt.Sa=vt.Sa[0],Tt!=0)break}A=[A],vt.Ja=[vt.Ja],vt.xa=[vt.xa];t:if(me=p,Tt=v,Vt=A,ee=vt.gb[0],Jt=vt.Ja,_e=vt.xa,he=Tt[0],Yt=!e(me,he,"VP8 "),Ze=!e(me,he,"VP8L"),t(me!=null),t(Vt!=null),t(Jt!=null),t(_e!=null),8>Vt[0])Tt=7;else{if(Yt||Ze){if(me=Mt(me,he+4),12<=ee&&me>ee-12){Tt=3;break t}if(rt&&me>Vt[0]-8){Tt=7;break t}Jt[0]=me,Tt[0]+=8,Vt[0]-=8,_e[0]=Ze}else _e[0]=5<=Vt[0]&&me[he+0]==47&&!(me[he+4]>>5),Jt[0]=Vt[0];Tt=0}if(A=A[0],vt.Ja=vt.Ja[0],vt.xa=vt.xa[0],v=v[0],Tt!=0)break;if(4294967286<vt.Ja)return 3;if(X==null||Ut||(X[0]=vt.xa?2:1),G=[G],At=[At],vt.xa){if(5>A){Tt=7;break}X=G,rt=At,Ut=z,p==null||5>A?p=0:5<=A&&p[v+0]==47&&!(p[v+4]>>5)?(Vt=[0],me=[0],ee=[0],Nt(Jt=new K,p,v,A),pi(Jt,Vt,me,ee)?(X!=null&&(X[0]=Vt[0]),rt!=null&&(rt[0]=me[0]),Ut!=null&&(Ut[0]=ee[0]),p=1):p=0):p=0}else{if(10>A){Tt=7;break}X=At,p==null||10>A||!ts(p,v+3,A-3)?p=0:(rt=p[v+0]|p[v+1]<<8|p[v+2]<<16,Ut=16383&(p[v+7]<<8|p[v+6]),p=16383&(p[v+9]<<8|p[v+8]),1&rt||3<(rt>>1&7)||!(rt>>4&1)||rt>>5>=vt.Ja||!Ut||!p?p=0:(G&&(G[0]=Ut),X&&(X[0]=p),p=1))}if(!p||(G=G[0],At=At[0],Ct&&(at[0]!=G||pt[0]!=At)))return 3;et!=null&&(et[0]=vt,et.offset=v-et.w,t(4294967286>v-et.w),t(et.offset==et.ha-A));break}return Tt==0||Tt==7&&Ct&&et==null?(z!=null&&(z[0]|=vt.na!=null&&0<vt.na.length),C!=null&&(C[0]=G),U!=null&&(U[0]=At),0):Tt}function $s(p,v,A){var C=v.width,U=v.height,z=0,G=0,X=C,et=U;if(v.Da=p!=null&&0<p.Da,v.Da&&(X=p.cd,et=p.bd,z=p.v,G=p.j,11>A||(z&=-2,G&=-2),0>z||0>G||0>=X||0>=et||z+X>C||G+et>U))return 0;if(v.v=z,v.j=G,v.va=z+X,v.o=G+et,v.U=X,v.T=et,v.da=p!=null&&0<p.da,v.da){if(!ce(X,et,A=[p.ib],z=[p.hb]))return 0;v.ib=A[0],v.hb=z[0]}return v.ob=p!=null&&p.ob,v.Kb=p==null||!p.Sd,v.da&&(v.ob=v.ib<3*C/4&&v.hb<3*U/4,v.Kb=0),1}function Iu(p){if(p==null)return 2;if(11>p.S){var v=p.f.RGBA;v.fb+=(p.height-1)*v.A,v.A=-v.A}else v=p.f.kb,p=p.height,v.O+=(p-1)*v.fa,v.fa=-v.fa,v.N+=(p-1>>1)*v.Ab,v.Ab=-v.Ab,v.W+=(p-1>>1)*v.Db,v.Db=-v.Db,v.F!=null&&(v.J+=(p-1)*v.lb,v.lb=-v.lb);return 0}function ss(p,v,A,C){if(C==null||0>=p||0>=v)return 2;if(A!=null){if(A.Da){var U=A.cd,z=A.bd,G=-2&A.v,X=-2&A.j;if(0>G||0>X||0>=U||0>=z||G+U>p||X+z>v)return 2;p=U,v=z}if(A.da){if(!ce(p,v,U=[A.ib],z=[A.hb]))return 2;p=U[0],v=z[0]}}C.width=p,C.height=v;t:{var et=C.width,at=C.height;if(p=C.S,0>=et||0>=at||!(p>=pc&&13>p))p=2;else{if(0>=C.Rd&&C.sd==null){G=z=U=v=0;var pt=(X=et*Sc[p])*at;if(11>p||(z=(at+1)/2*(v=(et+1)/2),p==12&&(G=(U=et)*at)),(at=o(pt+2*z+G))==null){p=1;break t}C.sd=at,11>p?((et=C.f.RGBA).eb=at,et.fb=0,et.A=X,et.size=pt):((et=C.f.kb).y=at,et.O=0,et.fa=X,et.Fd=pt,et.f=at,et.N=0+pt,et.Ab=v,et.Cd=z,et.ea=at,et.W=0+pt+z,et.Db=v,et.Ed=z,p==12&&(et.F=at,et.J=0+pt+2*z),et.Tc=G,et.lb=U)}if(v=1,U=C.S,z=C.width,G=C.height,U>=pc&&13>U)if(11>U)p=C.f.RGBA,v&=(X=Math.abs(p.A))*(G-1)+z<=p.size,v&=X>=z*Sc[U],v&=p.eb!=null;else{p=C.f.kb,X=(z+1)/2,pt=(G+1)/2,et=Math.abs(p.fa),at=Math.abs(p.Ab);var Ct=Math.abs(p.Db),rt=Math.abs(p.lb),vt=rt*(G-1)+z;v&=et*(G-1)+z<=p.Fd,v&=at*(pt-1)+X<=p.Cd,v=(v&=Ct*(pt-1)+X<=p.Ed)&et>=z&at>=X&Ct>=X,v&=p.y!=null,v&=p.f!=null,v&=p.ea!=null,U==12&&(v&=rt>=z,v&=vt<=p.Tc,v&=p.F!=null)}else v=0;p=v?0:2}}return p!=0||A!=null&&A.fd&&(p=Iu(C)),p}var So=64,la=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Ki=24,As=32,Es=8,Ys=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];se("Predictor0","PredictorAdd0"),D.Predictor0=function(){return 4278190080},D.Predictor1=function(p){return p},D.Predictor2=function(p,v,A){return v[A+0]},D.Predictor3=function(p,v,A){return v[A+1]},D.Predictor4=function(p,v,A){return v[A-1]},D.Predictor5=function(p,v,A){return Ae(Ae(p,v[A+1]),v[A+0])},D.Predictor6=function(p,v,A){return Ae(p,v[A-1])},D.Predictor7=function(p,v,A){return Ae(p,v[A+0])},D.Predictor8=function(p,v,A){return Ae(v[A-1],v[A+0])},D.Predictor9=function(p,v,A){return Ae(v[A+0],v[A+1])},D.Predictor10=function(p,v,A){return Ae(Ae(p,v[A-1]),Ae(v[A+0],v[A+1]))},D.Predictor11=function(p,v,A){var C=v[A+0];return 0>=He(C>>24&255,p>>24&255,(v=v[A-1])>>24&255)+He(C>>16&255,p>>16&255,v>>16&255)+He(C>>8&255,p>>8&255,v>>8&255)+He(255&C,255&p,255&v)?C:p},D.Predictor12=function(p,v,A){var C=v[A+0];return(Ke((p>>24&255)+(C>>24&255)-((v=v[A-1])>>24&255))<<24|Ke((p>>16&255)+(C>>16&255)-(v>>16&255))<<16|Ke((p>>8&255)+(C>>8&255)-(v>>8&255))<<8|Ke((255&p)+(255&C)-(255&v)))>>>0},D.Predictor13=function(p,v,A){var C=v[A-1];return(en((p=Ae(p,v[A+0]))>>24&255,C>>24&255)<<24|en(p>>16&255,C>>16&255)<<16|en(p>>8&255,C>>8&255)<<8|en(255&p,255&C))>>>0};var Ml=D.PredictorAdd0;D.PredictorAdd1=un,se("Predictor2","PredictorAdd2"),se("Predictor3","PredictorAdd3"),se("Predictor4","PredictorAdd4"),se("Predictor5","PredictorAdd5"),se("Predictor6","PredictorAdd6"),se("Predictor7","PredictorAdd7"),se("Predictor8","PredictorAdd8"),se("Predictor9","PredictorAdd9"),se("Predictor10","PredictorAdd10"),se("Predictor11","PredictorAdd11"),se("Predictor12","PredictorAdd12"),se("Predictor13","PredictorAdd13");var jl=D.PredictorAdd2;ve("ColorIndexInverseTransform","MapARGB","32b",function(p){return p>>8&255},function(p){return p}),ve("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(p){return p},function(p){return p>>8&255});var Ir,hc=D.ColorIndexInverseTransform,Ts=D.MapARGB,Ns=D.VP8LColorIndexInverseTransformAlpha,_i=D.MapAlpha,Ws=D.VP8LPredictorsAdd=[];Ws.length=16,(D.VP8LPredictors=[]).length=16,(D.VP8LPredictorsAdd_C=[]).length=16,(D.VP8LPredictors_C=[]).length=16;var Fl,Vl,Ks,Qs,Cs,el,Ea,Xs,ki,Pa,On,Nn,rr,Dr,Rs,os,nl,Du,Eh,Xf,Jf,Zf,Th,Nh,rl,Ma,ku,Ta,il=o(511),fc=o(2041),Ou=o(225),Pu=o(767),dc=0,Js=fc,Mu=Ou,Oi=Pu,wi=il,pc=0,Pi=1,mc=2,ja=3,ju=4,Bl=5,Ao=6,Fu=7,gc=8,Ul=9,yc=10,Fa=[2,3,7],zl=[3,3,11],al=[280,256,256,256,40],vc=[0,1,1,1,0],Vu=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Va=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Ba=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Eo=8,Ua=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],za=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Na=null,td=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Ch=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],bc=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],ed=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],xi=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],ur=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],yn=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Qi=[],Ar=[],ls=[],To=1,Rh=2,Zs=[],Si=[];re("UpsampleRgbLinePair",vi,3),re("UpsampleBgrLinePair",Wn,3),re("UpsampleRgbaLinePair",Wi,4),re("UpsampleBgraLinePair",Ss,4),re("UpsampleArgbLinePair",xs,4),re("UpsampleRgba4444LinePair",Sa,2),re("UpsampleRgb565LinePair",bi,2);var sl=D.UpsampleRgbLinePair,Lh=D.UpsampleBgrLinePair,ql=D.UpsampleRgbaLinePair,_c=D.UpsampleBgraLinePair,No=D.UpsampleArgbLinePair,Ls=D.UpsampleRgba4444LinePair,Co=D.UpsampleRgb565LinePair,qa=16,Hl=1<<qa-1,ol=-227,Ro=482,wc=6,Lo=0,Ai=o(256),xc=o(256),nd=o(256),pm=o(256),mm=o(Ro-ol),gm=o(Ro-ol);Gs("YuvToRgbRow",vi,3),Gs("YuvToBgrRow",Wn,3),Gs("YuvToRgbaRow",Wi,4),Gs("YuvToBgraRow",Ss,4),Gs("YuvToArgbRow",xs,4),Gs("YuvToRgba4444Row",Sa,2),Gs("YuvToRgb565Row",bi,2);var kr=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Gl=[0,2,8],Bu=[8,7,6,4,4,2,2,2,1,1,1,1],Uu=1;this.WebPDecodeRGBA=function(p,v,A,C,U){var z=Pi,G=new Gt,X=new xe;G.ba=X,X.S=z,X.width=[X.width],X.height=[X.height];var et=X.width,at=X.height,pt=new Se;if(pt==null||p==null)var Ct=2;else t(pt!=null),Ct=as(p,v,A,pt.width,pt.height,pt.Pd,pt.Qd,pt.format,null);if(Ct!=0?et=0:(et!=null&&(et[0]=pt.width[0]),at!=null&&(at[0]=pt.height[0]),et=1),et){X.width=X.width[0],X.height=X.height[0],C!=null&&(C[0]=X.width),U!=null&&(U[0]=X.height);t:{if(C=new ii,(U=new Zt).data=p,U.w=v,U.ha=A,U.kd=1,v=[0],t(U!=null),((p=as(U.data,U.w,U.ha,null,null,null,v,null,U))==0||p==7)&&v[0]&&(p=4),(v=p)==0){if(t(G!=null),C.data=U.data,C.w=U.w+U.offset,C.ha=U.ha-U.offset,C.put=ae,C.ac=Ie,C.bc=wr,C.ma=G,U.xa){if((p=gs())==null){G=1;break t}if((function(rt,vt){var At=[0],Ut=[0],Tt=[0];e:for(;;){if(rt==null)return 0;if(vt==null)return rt.a=2,0;if(rt.l=vt,rt.a=0,Nt(rt.m,vt.data,vt.w,vt.ha),!pi(rt.m,At,Ut,Tt)){rt.a=3;break e}if(rt.xb=Rh,vt.width=At[0],vt.height=Ut[0],!va(At[0],Ut[0],1,rt,null))break e;return 1}return t(rt.a!=0),0})(p,C)){if(C=(v=ss(C.width,C.height,G.Oa,G.ba))==0){e:{C=p;n:for(;;){if(C==null){C=0;break e}if(t(C.s.yc!=null),t(C.s.Ya!=null),t(0<C.s.Wb),t((A=C.l)!=null),t((U=A.ma)!=null),C.xb!=0){if(C.ca=U.ba,C.tb=U.tb,t(C.ca!=null),!$s(U.Oa,A,ja)){C.a=2;break n}if(!Ri(C,A.width)||A.da)break n;if((A.da||Pe(C.ca.S))&&kt(),11>C.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),C.ca.f.kb.F!=null&&kt()),C.Pb&&0<C.s.ua&&C.s.vb.X==null&&!Z(C.s.vb,C.s.Wa.Xa)){C.a=1;break n}C.xb=0}if(!Ci(C,C.V,C.Ba,C.c,C.i,A.o,ri))break n;U.Dc=C.Ma,C=1;break e}t(C.a!=0),C=0}C=!C}C&&(v=p.a)}else v=p.a}else{if((p=new xr)==null){G=1;break t}if(p.Fa=U.na,p.P=U.P,p.qc=U.Sa,sa(p,C)){if((v=ss(C.width,C.height,G.Oa,G.ba))==0){if(p.Aa=0,A=G.Oa,t((U=p)!=null),A!=null){if(0<(et=0>(et=A.Md)?0:100<et?255:255*et/100)){for(at=pt=0;4>at;++at)12>(Ct=U.pb[at]).lc&&(Ct.ia=et*Bu[0>Ct.lc?0:Ct.lc]>>3),pt|=Ct.ia;pt&&(alert("todo:VP8InitRandom"),U.ia=1)}U.Ga=A.Id,100<U.Ga?U.Ga=100:0>U.Ga&&(U.Ga=0)}(function(rt,vt){if(rt==null)return 0;if(vt==null)return pn(rt,2,"NULL VP8Io parameter in VP8Decode().");if(!rt.cb&&!sa(rt,vt))return 0;if(t(rt.cb),vt.ac==null||vt.ac(vt)){vt.ob&&(rt.L=0);var At=Gl[rt.L];if(rt.L==2?(rt.yb=0,rt.zb=0):(rt.yb=vt.v-At>>4,rt.zb=vt.j-At>>4,0>rt.yb&&(rt.yb=0),0>rt.zb&&(rt.zb=0)),rt.Va=vt.o+15+At>>4,rt.Hb=vt.va+15+At>>4,rt.Hb>rt.za&&(rt.Hb=rt.za),rt.Va>rt.Ub&&(rt.Va=rt.Ub),0<rt.L){var Ut=rt.ed;for(At=0;4>At;++At){var Tt;if(rt.Qa.Cb){var Vt=rt.Qa.Lb[At];rt.Qa.Fb||(Vt+=Ut.Tb)}else Vt=Ut.Tb;for(Tt=0;1>=Tt;++Tt){var Yt=rt.gd[At][Tt],ee=Vt;if(Ut.Pc&&(ee+=Ut.vd[0],Tt&&(ee+=Ut.od[0])),0<(ee=0>ee?0:63<ee?63:ee)){var Jt=ee;0<Ut.wb&&(Jt=4<Ut.wb?Jt>>2:Jt>>1)>9-Ut.wb&&(Jt=9-Ut.wb),1>Jt&&(Jt=1),Yt.dd=Jt,Yt.tc=2*ee+Jt,Yt.ld=40<=ee?2:15<=ee?1:0}else Yt.tc=0;Yt.La=Tt}}}At=0}else pn(rt,6,"Frame setup failed"),At=rt.a;if(At=At==0){if(At){rt.$c=0,0<rt.Aa||(rt.Ic=Uu);e:{At=rt.Ic,Ut=4*(Jt=rt.za);var _e=32*Jt,he=Jt+1,Ze=0<rt.L?Jt*(0<rt.Aa?2:1):0,me=(rt.Aa==2?2:1)*Jt;if((Yt=Ut+832+(Tt=3*(16*At+Gl[rt.L])/2*_e)+(Vt=rt.Fa!=null&&0<rt.Fa.length?rt.Kc.c*rt.Kc.i:0))!=Yt)At=0;else{if(Yt>rt.Vb){if(rt.Vb=0,rt.Ec=o(Yt),rt.Fc=0,rt.Ec==null){At=pn(rt,1,"no memory during frame initialization.");break e}rt.Vb=Yt}Yt=rt.Ec,ee=rt.Fc,rt.Ac=Yt,rt.Bc=ee,ee+=Ut,rt.Gd=u(_e,yo),rt.Hd=0,rt.rb=u(he+1,aa),rt.sb=1,rt.wa=Ze?u(Ze,Li):null,rt.Y=0,rt.D.Nb=0,rt.D.wa=rt.wa,rt.D.Y=rt.Y,0<rt.Aa&&(rt.D.Y+=Jt),t(!0),rt.oc=Yt,rt.pc=ee,ee+=832,rt.ya=u(me,Vs),rt.aa=0,rt.D.ya=rt.ya,rt.D.aa=rt.aa,rt.Aa==2&&(rt.D.aa+=Jt),rt.R=16*Jt,rt.B=8*Jt,Jt=(_e=Gl[rt.L])*rt.R,_e=_e/2*rt.B,rt.sa=Yt,rt.ta=ee+Jt,rt.qa=rt.sa,rt.ra=rt.ta+16*At*rt.R+_e,rt.Ha=rt.qa,rt.Ia=rt.ra+8*At*rt.B+_e,rt.$c=0,ee+=Tt,rt.mb=Vt?Yt:null,rt.nb=Vt?ee:null,t(ee+Vt<=rt.Fc+rt.Vb),ys(rt),s(rt.Ac,rt.Bc,0,Ut),At=1}}if(At){if(vt.ka=0,vt.y=rt.sa,vt.O=rt.ta,vt.f=rt.qa,vt.N=rt.ra,vt.ea=rt.Ha,vt.Vd=rt.Ia,vt.fa=rt.R,vt.Rc=rt.B,vt.F=null,vt.J=0,!dc){for(At=-255;255>=At;++At)il[255+At]=0>At?-At:At;for(At=-1020;1020>=At;++At)fc[1020+At]=-128>At?-128:127<At?127:At;for(At=-112;112>=At;++At)Ou[112+At]=-16>At?-16:15<At?15:At;for(At=-255;510>=At;++At)Pu[255+At]=0>At?0:255<At?255:At;dc=1}Ea=Yr,Xs=Ko,Pa=yi,On=Qo,Nn=es,ki=Ol,rr=tl,Dr=xa,Rs=B,os=it,nl=xo,Du=x,Eh=ht,Xf=_t,Jf=ka,Zf=oa,Th=Hs,Nh=wo,Ar[0]=_s,Ar[1]=Xo,Ar[2]=Us,Ar[3]=_o,Ar[4]=Wr,Ar[5]=zs,Ar[6]=Vr,Ar[7]=jn,Ar[8]=qs,Ar[9]=Hi,Qi[0]=_a,Qi[1]=vo,Qi[2]=bo,Qi[3]=ns,Qi[4]=rs,Qi[5]=Di,Qi[6]=bs,ls[0]=is,ls[1]=Jo,ls[2]=wa,ls[3]=Zo,ls[4]=Lr,ls[5]=$i,ls[6]=La,At=1}else At=0}At&&(At=(function(gn,cr){for(gn.M=0;gn.M<gn.Va;++gn.M){var an,fe=gn.Jc[gn.M&gn.Xb],oe=gn.m,mr=gn;for(an=0;an<mr.za;++an){var Ge=oe,cn=mr,Un=cn.Ac,Kr=cn.Bc+4*an,Ei=cn.zc,ir=cn.ya[cn.aa+an];if(cn.Qa.Bb?ir.$b=zt(Ge,cn.Pa.jb[0])?2+zt(Ge,cn.Pa.jb[2]):zt(Ge,cn.Pa.jb[1]):ir.$b=0,cn.kc&&(ir.Ad=zt(Ge,cn.Bd)),ir.Za=!zt(Ge,145)+0,ir.Za){var Br=ir.Ob,Mi=0;for(cn=0;4>cn;++cn){var Ur,dn=Ei[0+cn];for(Ur=0;4>Ur;++Ur){dn=xi[Un[Kr+Ur]][dn];for(var Rn=bc[zt(Ge,dn[0])];0<Rn;)Rn=bc[2*Rn+zt(Ge,dn[Rn])];dn=-Rn,Un[Kr+Ur]=dn}i(Br,Mi,Un,Kr,4),Mi+=4,Ei[0+cn]=dn}}else dn=zt(Ge,156)?zt(Ge,128)?1:3:zt(Ge,163)?2:0,ir.Ob[0]=dn,s(Un,Kr,dn,4),s(Ei,0,dn,4);ir.Dd=zt(Ge,142)?zt(Ge,114)?zt(Ge,183)?1:3:2:0}if(mr.m.Ka)return pn(gn,7,"Premature end-of-partition0 encountered.");for(;gn.ja<gn.za;++gn.ja){if(mr=fe,Ge=(oe=gn).rb[oe.sb-1],Un=oe.rb[oe.sb+oe.ja],an=oe.ya[oe.aa+oe.ja],Kr=oe.kc?an.Ad:0)Ge.la=Un.la=0,an.Za||(Ge.Na=Un.Na=0),an.Hc=0,an.Gc=0,an.ia=0;else{var gr,Pn;if(Ge=Un,Un=mr,Kr=oe.Pa.Xc,Ei=oe.ya[oe.aa+oe.ja],ir=oe.pb[Ei.$b],cn=Ei.ad,Br=0,Mi=oe.rb[oe.sb-1],dn=Ur=0,s(cn,Br,0,384),Ei.Za)var Qr=0,yr=Kr[3];else{Rn=o(16);var Ln=Ge.Na+Mi.Na;if(Ln=Na(Un,Kr[1],Ln,ir.Eb,0,Rn,0),Ge.Na=Mi.Na=(0<Ln)+0,1<Ln)Ea(Rn,0,cn,Br);else{var Or=Rn[0]+3>>3;for(Rn=0;256>Rn;Rn+=16)cn[Br+Rn]=Or}Qr=1,yr=Kr[0]}var zn=15&Ge.la,zr=15&Mi.la;for(Rn=0;4>Rn;++Rn){var qr=1&zr;for(Or=Pn=0;4>Or;++Or)zn=zn>>1|(qr=(Ln=Na(Un,yr,Ln=qr+(1&zn),ir.Sc,Qr,cn,Br))>Qr)<<7,Pn=Pn<<2|(3<Ln?3:1<Ln?2:cn[Br+0]!=0),Br+=16;zn>>=4,zr=zr>>1|qr<<7,Ur=(Ur<<8|Pn)>>>0}for(yr=zn,Qr=zr>>4,gr=0;4>gr;gr+=2){for(Pn=0,zn=Ge.la>>4+gr,zr=Mi.la>>4+gr,Rn=0;2>Rn;++Rn){for(qr=1&zr,Or=0;2>Or;++Or)Ln=qr+(1&zn),zn=zn>>1|(qr=0<(Ln=Na(Un,Kr[2],Ln,ir.Qc,0,cn,Br)))<<3,Pn=Pn<<2|(3<Ln?3:1<Ln?2:cn[Br+0]!=0),Br+=16;zn>>=2,zr=zr>>1|qr<<5}dn|=Pn<<4*gr,yr|=zn<<4<<gr,Qr|=(240&zr)<<gr}Ge.la=yr,Mi.la=Qr,Ei.Hc=Ur,Ei.Gc=dn,Ei.ia=43690&dn?0:ir.ia,Kr=!(Ur|dn)}if(0<oe.L&&(oe.wa[oe.Y+oe.ja]=oe.gd[an.$b][an.Za],oe.wa[oe.Y+oe.ja].La|=!Kr),mr.Ka)return pn(gn,7,"Premature end-of-file encountered.")}if(ys(gn),oe=cr,mr=1,an=(fe=gn).D,Ge=0<fe.L&&fe.M>=fe.zb&&fe.M<=fe.Va,fe.Aa==0)e:{if(an.M=fe.M,an.uc=Ge,Aa(fe,an),mr=1,an=(Pn=fe.D).Nb,Ge=(dn=Gl[fe.L])*fe.R,Un=dn/2*fe.B,Rn=16*an*fe.R,Or=8*an*fe.B,Kr=fe.sa,Ei=fe.ta-Ge+Rn,ir=fe.qa,cn=fe.ra-Un+Or,Br=fe.Ha,Mi=fe.Ia-Un+Or,zr=(zn=Pn.M)==0,Ur=zn>=fe.Va-1,fe.Aa==2&&Aa(fe,Pn),Pn.uc)for(qr=(Ln=fe).D.M,t(Ln.D.uc),Pn=Ln.yb;Pn<Ln.Hb;++Pn){Qr=Pn,yr=qr;var Kn=(Cn=(Hr=Ln).D).Nb;gr=Hr.R;var Cn=Cn.wa[Cn.Y+Qr],ji=Hr.sa,Er=Hr.ta+16*Kn*gr+16*Qr,je=Cn.dd,Ve=Cn.tc;if(Ve!=0)if(t(3<=Ve),Hr.L==1)0<Qr&&Zf(ji,Er,gr,Ve+4),Cn.La&&Nh(ji,Er,gr,Ve),0<yr&&Jf(ji,Er,gr,Ve+4),Cn.La&&Th(ji,Er,gr,Ve);else{var In=Hr.B,ua=Hr.qa,Ha=Hr.ra+8*Kn*In+8*Qr,Xi=Hr.Ha,Hr=Hr.Ia+8*Kn*In+8*Qr;Kn=Cn.ld,0<Qr&&(Dr(ji,Er,gr,Ve+4,je,Kn),os(ua,Ha,Xi,Hr,In,Ve+4,je,Kn)),Cn.La&&(Du(ji,Er,gr,Ve,je,Kn),Xf(ua,Ha,Xi,Hr,In,Ve,je,Kn)),0<yr&&(rr(ji,Er,gr,Ve+4,je,Kn),Rs(ua,Ha,Xi,Hr,In,Ve+4,je,Kn)),Cn.La&&(nl(ji,Er,gr,Ve,je,Kn),Eh(ua,Ha,Xi,Hr,In,Ve,je,Kn))}}if(fe.ia&&alert("todo:DitherRow"),oe.put!=null){if(Pn=16*zn,zn=16*(zn+1),zr?(oe.y=fe.sa,oe.O=fe.ta+Rn,oe.f=fe.qa,oe.N=fe.ra+Or,oe.ea=fe.Ha,oe.W=fe.Ia+Or):(Pn-=dn,oe.y=Kr,oe.O=Ei,oe.f=ir,oe.N=cn,oe.ea=Br,oe.W=Mi),Ur||(zn-=dn),zn>oe.o&&(zn=oe.o),oe.F=null,oe.J=null,fe.Fa!=null&&0<fe.Fa.length&&Pn<zn&&(oe.J=m(fe,oe,Pn,zn-Pn),oe.F=fe.mb,oe.F==null&&oe.F.length==0)){mr=pn(fe,3,"Could not decode alpha data.");break e}Pn<oe.j&&(dn=oe.j-Pn,Pn=oe.j,t(!(1&dn)),oe.O+=fe.R*dn,oe.N+=fe.B*(dn>>1),oe.W+=fe.B*(dn>>1),oe.F!=null&&(oe.J+=oe.width*dn)),Pn<zn&&(oe.O+=oe.v,oe.N+=oe.v>>1,oe.W+=oe.v>>1,oe.F!=null&&(oe.J+=oe.v),oe.ka=Pn-oe.j,oe.U=oe.va-oe.v,oe.T=zn-Pn,mr=oe.put(oe))}an+1!=fe.Ic||Ur||(i(fe.sa,fe.ta-Ge,Kr,Ei+16*fe.R,Ge),i(fe.qa,fe.ra-Un,ir,cn+8*fe.B,Un),i(fe.Ha,fe.Ia-Un,Br,Mi+8*fe.B,Un))}if(!mr)return pn(gn,6,"Output aborted.")}return 1})(rt,vt)),vt.bc!=null&&vt.bc(vt),At&=1}return At?(rt.cb=0,At):0})(p,C)||(v=p.a)}}else v=p.a}v==0&&G.Oa!=null&&G.Oa.fd&&(v=Iu(G.ba))}G=v}z=G!=0?null:11>z?X.f.RGBA.eb:X.f.kb.y}else z=null;return z};var Sc=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function d(D,H){for(var T="",P=0;P<4;P++)T+=String.fromCharCode(D[H++]);return T}function g(D,H){return D[H+0]|D[H+1]<<8}function w(D,H){return(D[H+0]|D[H+1]<<8|D[H+2]<<16)>>>0}function S(D,H){return(D[H+0]|D[H+1]<<8|D[H+2]<<16|D[H+3]<<24)>>>0}new f;var _=[0],N=[0],M=[],j=new f,R=n,Q=(function(D,H){var T={},P=0,F=!1,lt=0,xt=0;if(T.frames=[],!(function(O,K){for(var tt=0;tt<4;tt++)if(O[K+tt]!="RIFF".charCodeAt(tt))return!0;return!1})(D,H)){for(S(D,H+=4),H+=8;H<D.length;){var ot=d(D,H),dt=S(D,H+=4);H+=4;var ft=dt+(1&dt);switch(ot){case"VP8 ":case"VP8L":T.frames[P]===void 0&&(T.frames[P]={}),($=T.frames[P]).src_off=F?xt:H-8,$.src_size=lt+dt+8,P++,F&&(F=!1,lt=0,xt=0);break;case"VP8X":($=T.header={}).feature_flags=D[H];var Nt=H+4;$.canvas_width=1+w(D,Nt),Nt+=3,$.canvas_height=1+w(D,Nt),Nt+=3;break;case"ALPH":F=!0,lt=ft+8,xt=H-8;break;case"ANIM":($=T.header).bgcolor=S(D,H),Nt=H+4,$.loop_count=g(D,Nt),Nt+=2;break;case"ANMF":var Wt,$;($=T.frames[P]={}).offset_x=2*w(D,H),H+=3,$.offset_y=2*w(D,H),H+=3,$.width=1+w(D,H),H+=3,$.height=1+w(D,H),H+=3,$.duration=w(D,H),H+=3,Wt=D[H++],$.dispose=1&Wt,$.blend=Wt>>1&1}ot!="ANMF"&&(H+=ft)}return T}})(R,0);Q.response=R,Q.rgbaoutput=!0,Q.dataurl=!1;var W=Q.header?Q.header:null,nt=Q.frames?Q.frames:null;if(W){W.loop_counter=W.loop_count,_=[W.canvas_height],N=[W.canvas_width];for(var mt=0;mt<nt.length&&nt[mt].blend!=0;mt++);}var bt=nt[0],q=j.WebPDecodeRGBA(R,bt.src_off,bt.src_size,N,_);bt.rgba=q,bt.imgwidth=N[0],bt.imgheight=_[0];for(var V=0;V<N[0]*_[0]*4;V++)M[V]=q[V];return this.width=N,this.height=_,this.data=M,this}(function(n){var t,e,i,s,o,u,h,f,d,g=function(O){return O=O||{},this.isStrokeTransparent=O.isStrokeTransparent||!1,this.strokeOpacity=O.strokeOpacity||1,this.strokeStyle=O.strokeStyle||"#000000",this.fillStyle=O.fillStyle||"#000000",this.isFillTransparent=O.isFillTransparent||!1,this.fillOpacity=O.fillOpacity||1,this.font=O.font||"10px sans-serif",this.textBaseline=O.textBaseline||"alphabetic",this.textAlign=O.textAlign||"left",this.lineWidth=O.lineWidth||1,this.lineJoin=O.lineJoin||"miter",this.lineCap=O.lineCap||"butt",this.path=O.path||[],this.transform=O.transform!==void 0?O.transform.clone():new f,this.globalCompositeOperation=O.globalCompositeOperation||"normal",this.globalAlpha=O.globalAlpha||1,this.clip_path=O.clip_path||[],this.currentPoint=O.currentPoint||new u,this.miterLimit=O.miterLimit||10,this.lastPoint=O.lastPoint||new u,this.lineDashOffset=O.lineDashOffset||0,this.lineDash=O.lineDash||[],this.margin=O.margin||[0,0,0,0],this.prevPageLastElemOffset=O.prevPageLastElemOffset||0,this.ignoreClearRect=typeof O.ignoreClearRect!="boolean"||O.ignoreClearRect,this};n.events.push(["initialized",function(){this.context2d=new w(this),t=this.internal.f2,e=this.internal.getCoordinateString,i=this.internal.getVerticalCoordinateString,s=this.internal.getHorizontalCoordinate,o=this.internal.getVerticalCoordinate,u=this.internal.Point,h=this.internal.Rectangle,f=this.internal.Matrix,d=new g}]);var w=function(O){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var K=O;Object.defineProperty(this,"pdf",{get:function(){return K}});var tt=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return tt},set:function(Z){tt=!!Z}});var st=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return st},set:function(Z){st=!!Z}});var ut=0;Object.defineProperty(this,"posX",{get:function(){return ut},set:function(Z){isNaN(Z)||(ut=Z)}});var yt=0;Object.defineProperty(this,"posY",{get:function(){return yt},set:function(Z){isNaN(Z)||(yt=Z)}}),Object.defineProperty(this,"margin",{get:function(){return d.margin},set:function(Z){var ne;typeof Z=="number"?ne=[Z,Z,Z,Z]:((ne=new Array(4))[0]=Z[0],ne[1]=Z.length>=2?Z[1]:ne[0],ne[2]=Z.length>=3?Z[2]:ne[0],ne[3]=Z.length>=4?Z[3]:ne[1]),d.margin=ne}});var It=!1;Object.defineProperty(this,"autoPaging",{get:function(){return It},set:function(Z){It=Z}});var Rt=0;Object.defineProperty(this,"lastBreak",{get:function(){return Rt},set:function(Z){Rt=Z}});var zt=[];Object.defineProperty(this,"pageBreaks",{get:function(){return zt},set:function(Z){zt=Z}}),Object.defineProperty(this,"ctx",{get:function(){return d},set:function(Z){Z instanceof g&&(d=Z)}}),Object.defineProperty(this,"path",{get:function(){return d.path},set:function(Z){d.path=Z}});var Et=[];Object.defineProperty(this,"ctxStack",{get:function(){return Et},set:function(Z){Et=Z}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Z){var ne;ne=S(Z),this.ctx.fillStyle=ne.style,this.ctx.isFillTransparent=ne.a===0,this.ctx.fillOpacity=ne.a,this.pdf.setFillColor(ne.r,ne.g,ne.b,{a:ne.a}),this.pdf.setTextColor(ne.r,ne.g,ne.b,{a:ne.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Z){var ne=S(Z);this.ctx.strokeStyle=ne.style,this.ctx.isStrokeTransparent=ne.a===0,this.ctx.strokeOpacity=ne.a,ne.a===0?this.pdf.setDrawColor(255,255,255):(ne.a,this.pdf.setDrawColor(ne.r,ne.g,ne.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Z){["butt","round","square"].indexOf(Z)!==-1&&(this.ctx.lineCap=Z,this.pdf.setLineCap(Z))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Z){isNaN(Z)||(this.ctx.lineWidth=Z,this.pdf.setLineWidth(Z))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Z){["bevel","round","miter"].indexOf(Z)!==-1&&(this.ctx.lineJoin=Z,this.pdf.setLineJoin(Z))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Z){isNaN(Z)||(this.ctx.miterLimit=Z,this.pdf.setMiterLimit(Z))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Z){this.ctx.textBaseline=Z}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Z){["right","end","center","left","start"].indexOf(Z)!==-1&&(this.ctx.textAlign=Z)}});var jt=null,qt=null,Mt=null;Object.defineProperty(this,"fontFaces",{get:function(){return Mt},set:function(Z){jt=null,qt=null,Mt=Z}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Z){var ne;if(this.ctx.font=Z,(ne=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(Z))!==null){var Ce=ne[1];ne[2];var ce=ne[3],Ht=ne[4];ne[5];var le=ne[6],se=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Ht)[2];Ht=Math.floor(se==="px"?parseFloat(Ht)*this.pdf.internal.scaleFactor:se==="em"?parseFloat(Ht)*this.pdf.getFontSize():parseFloat(Ht)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Ht);var De=(function(ve){var Zn,nn,Re=[],qe=ve.trim();if(qe==="")return h0;if(qe in l_)return[l_[qe]];for(;qe!=="";){switch(nn=null,Zn=(qe=c_(qe)).charAt(0)){case'"':case"'":nn=eI(qe.substring(1),Zn);break;default:nn=nI(qe)}if(nn===null||(Re.push(nn[0]),(qe=c_(nn[1]))!==""&&qe.charAt(0)!==","))return h0;qe=qe.replace(/^,/,"")}return Re})(le);if(this.fontFaces){var Ae=(function(ve,Zn){var nn=ve.getFontList(),Re=JSON.stringify(nn);if(jt===null||qt!==Re){var qe=(function(Xe){var Ne=[];return Object.keys(Xe).forEach(function(En){Xe[En].forEach(function(Pe){var Oe=null;switch(Pe){case"bold":Oe={family:En,weight:"bold"};break;case"italic":Oe={family:En,style:"italic"};break;case"bolditalic":Oe={family:En,weight:"bold",style:"italic"};break;case"":case"normal":Oe={family:En}}Oe!==null&&(Oe.ref={name:En,style:Pe},Ne.push(Oe))})}),Ne})(nn);jt=(function(Xe){for(var Ne={},En=0;En<Xe.length;++En){var Pe=c0(Xe[En]),Oe=Pe.family,Tn=Pe.stretch,xe=Pe.style,Se=Pe.weight;Ne[Oe]=Ne[Oe]||{},Ne[Oe][Tn]=Ne[Oe][Tn]||{},Ne[Oe][Tn][xe]=Ne[Oe][Tn][xe]||{},Ne[Oe][Tn][xe][Se]=Pe}return Ne})(qe.concat(Zn)),qt=Re}return jt})(this.pdf,this.fontFaces),Ke=De.map(function(ve){return{family:ve,stretch:"normal",weight:ce,style:Ce}}),en=(function(ve,Zn,nn){for(var Re=(nn=nn||{}).defaultFontFamily||"times",qe=Object.assign({},tI,nn.genericFontFamilies||{}),Xe=null,Ne=null,En=0;En<Zn.length;++En)if(qe[(Xe=c0(Zn[En])).family]&&(Xe.family=qe[Xe.family]),ve.hasOwnProperty(Xe.family)){Ne=ve[Xe.family];break}if(!(Ne=Ne||ve[Re]))throw new Error("Could not find a font-family for the rule '"+u_(Xe)+"' and default family '"+Re+"'.");if(Ne=(function(Pe,Oe){if(Oe[Pe])return Oe[Pe];var Tn=t1[Pe],xe=Tn<=t1.normal?-1:1,Se=o_(Oe,Y4,Tn,xe);if(!Se)throw new Error("Could not find a matching font-stretch value for "+Pe);return Se})(Xe.stretch,Ne),Ne=(function(Pe,Oe){if(Oe[Pe])return Oe[Pe];for(var Tn=$4[Pe],xe=0;xe<Tn.length;++xe)if(Oe[Tn[xe]])return Oe[Tn[xe]];throw new Error("Could not find a matching font-style for "+Pe)})(Xe.style,Ne),!(Ne=(function(Pe,Oe){if(Oe[Pe])return Oe[Pe];if(Pe===400&&Oe[500])return Oe[500];if(Pe===500&&Oe[400])return Oe[400];var Tn=ZL[Pe],xe=o_(Oe,W4,Tn,Pe<400?-1:1);if(!xe)throw new Error("Could not find a matching font-weight for value "+Pe);return xe})(Xe.weight,Ne)))throw new Error("Failed to resolve a font for the rule '"+u_(Xe)+"'.");return Ne})(Ae,Ke);this.pdf.setFont(en.ref.name,en.ref.style)}else{var He="";(ce==="bold"||parseInt(ce,10)>=700||Ce==="bold")&&(He="bold"),Ce==="italic"&&(He+="italic"),He.length===0&&(He="normal");for(var un="",ze={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},ge=0;ge<De.length;ge++){if(this.pdf.internal.getFont(De[ge],He,{noFallback:!0,disableWarning:!0})!==void 0){un=De[ge];break}if(He==="bolditalic"&&this.pdf.internal.getFont(De[ge],"bold",{noFallback:!0,disableWarning:!0})!==void 0)un=De[ge],He="bold";else if(this.pdf.internal.getFont(De[ge],"normal",{noFallback:!0,disableWarning:!0})!==void 0){un=De[ge],He="normal";break}}if(un===""){for(var Ye=0;Ye<De.length;Ye++)if(ze[De[Ye]]){un=ze[De[Ye]];break}}un=un===""?"Times":un,this.pdf.setFont(un,He)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Z){this.ctx.globalCompositeOperation=Z}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Z){this.ctx.globalAlpha=Z}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Z){this.ctx.lineDashOffset=Z,$.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Z){this.ctx.lineDash=Z,$.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Z){this.ctx.ignoreClearRect=!!Z}})};w.prototype.setLineDash=function(O){this.lineDash=O},w.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},w.prototype.fill=function(){nt.call(this,"fill",!1)},w.prototype.stroke=function(){nt.call(this,"stroke",!1)},w.prototype.beginPath=function(){this.path=[{type:"begin"}]},w.prototype.moveTo=function(O,K){if(isNaN(O)||isNaN(K))throw fr.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var tt=this.ctx.transform.applyToPoint(new u(O,K));this.path.push({type:"mt",x:tt.x,y:tt.y}),this.ctx.lastPoint=new u(O,K)},w.prototype.closePath=function(){var O=new u(0,0),K=0;for(K=this.path.length-1;K!==-1;K--)if(this.path[K].type==="begin"&&Jn(this.path[K+1])==="object"&&typeof this.path[K+1].x=="number"){O=new u(this.path[K+1].x,this.path[K+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new u(O.x,O.y)},w.prototype.lineTo=function(O,K){if(isNaN(O)||isNaN(K))throw fr.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var tt=this.ctx.transform.applyToPoint(new u(O,K));this.path.push({type:"lt",x:tt.x,y:tt.y}),this.ctx.lastPoint=new u(tt.x,tt.y)},w.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),nt.call(this,null,!0)},w.prototype.quadraticCurveTo=function(O,K,tt,st){if(isNaN(tt)||isNaN(st)||isNaN(O)||isNaN(K))throw fr.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ut=this.ctx.transform.applyToPoint(new u(tt,st)),yt=this.ctx.transform.applyToPoint(new u(O,K));this.path.push({type:"qct",x1:yt.x,y1:yt.y,x:ut.x,y:ut.y}),this.ctx.lastPoint=new u(ut.x,ut.y)},w.prototype.bezierCurveTo=function(O,K,tt,st,ut,yt){if(isNaN(ut)||isNaN(yt)||isNaN(O)||isNaN(K)||isNaN(tt)||isNaN(st))throw fr.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var It=this.ctx.transform.applyToPoint(new u(ut,yt)),Rt=this.ctx.transform.applyToPoint(new u(O,K)),zt=this.ctx.transform.applyToPoint(new u(tt,st));this.path.push({type:"bct",x1:Rt.x,y1:Rt.y,x2:zt.x,y2:zt.y,x:It.x,y:It.y}),this.ctx.lastPoint=new u(It.x,It.y)},w.prototype.arc=function(O,K,tt,st,ut,yt){if(isNaN(O)||isNaN(K)||isNaN(tt)||isNaN(st)||isNaN(ut))throw fr.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(yt=!!yt,!this.ctx.transform.isIdentity){var It=this.ctx.transform.applyToPoint(new u(O,K));O=It.x,K=It.y;var Rt=this.ctx.transform.applyToPoint(new u(0,tt)),zt=this.ctx.transform.applyToPoint(new u(0,0));tt=Math.sqrt(Math.pow(Rt.x-zt.x,2)+Math.pow(Rt.y-zt.y,2))}Math.abs(ut-st)>=2*Math.PI&&(st=0,ut=2*Math.PI),this.path.push({type:"arc",x:O,y:K,radius:tt,startAngle:st,endAngle:ut,counterclockwise:yt})},w.prototype.arcTo=function(O,K,tt,st,ut){throw new Error("arcTo not implemented.")},w.prototype.rect=function(O,K,tt,st){if(isNaN(O)||isNaN(K)||isNaN(tt)||isNaN(st))throw fr.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(O,K),this.lineTo(O+tt,K),this.lineTo(O+tt,K+st),this.lineTo(O,K+st),this.lineTo(O,K),this.lineTo(O+tt,K),this.lineTo(O,K)},w.prototype.fillRect=function(O,K,tt,st){if(isNaN(O)||isNaN(K)||isNaN(tt)||isNaN(st))throw fr.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!_.call(this)){var ut={};this.lineCap!=="butt"&&(ut.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ut.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(O,K,tt,st),this.fill(),ut.hasOwnProperty("lineCap")&&(this.lineCap=ut.lineCap),ut.hasOwnProperty("lineJoin")&&(this.lineJoin=ut.lineJoin)}},w.prototype.strokeRect=function(O,K,tt,st){if(isNaN(O)||isNaN(K)||isNaN(tt)||isNaN(st))throw fr.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");N.call(this)||(this.beginPath(),this.rect(O,K,tt,st),this.stroke())},w.prototype.clearRect=function(O,K,tt,st){if(isNaN(O)||isNaN(K)||isNaN(tt)||isNaN(st))throw fr.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(O,K,tt,st))},w.prototype.save=function(O){O=typeof O!="boolean"||O;for(var K=this.pdf.internal.getCurrentPageInfo().pageNumber,tt=0;tt<this.pdf.internal.getNumberOfPages();tt++)this.pdf.setPage(tt+1),this.pdf.internal.out("q");if(this.pdf.setPage(K),O){this.ctx.fontSize=this.pdf.internal.getFontSize();var st=new g(this.ctx);this.ctxStack.push(this.ctx),this.ctx=st}},w.prototype.restore=function(O){O=typeof O!="boolean"||O;for(var K=this.pdf.internal.getCurrentPageInfo().pageNumber,tt=0;tt<this.pdf.internal.getNumberOfPages();tt++)this.pdf.setPage(tt+1),this.pdf.internal.out("Q");this.pdf.setPage(K),O&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},w.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var S=function(O){var K,tt,st,ut;if(O.isCanvasGradient===!0&&(O=O.getColor()),!O)return{r:0,g:0,b:0,a:0,style:O};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(O))K=0,tt=0,st=0,ut=0;else{var yt=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(O);if(yt!==null)K=parseInt(yt[1]),tt=parseInt(yt[2]),st=parseInt(yt[3]),ut=1;else if((yt=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(O))!==null)K=parseInt(yt[1]),tt=parseInt(yt[2]),st=parseInt(yt[3]),ut=parseFloat(yt[4]);else{if(ut=1,typeof O=="string"&&O.charAt(0)!=="#"){var It=new V4(O);O=It.ok?It.toHex():"#000000"}O.length===4?(K=O.substring(1,2),K+=K,tt=O.substring(2,3),tt+=tt,st=O.substring(3,4),st+=st):(K=O.substring(1,3),tt=O.substring(3,5),st=O.substring(5,7)),K=parseInt(K,16),tt=parseInt(tt,16),st=parseInt(st,16)}}return{r:K,g:tt,b:st,a:ut,style:O}},_=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},N=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};w.prototype.fillText=function(O,K,tt,st){if(isNaN(K)||isNaN(tt)||typeof O!="string")throw fr.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(st=isNaN(st)?void 0:st,!_.call(this)){var ut=ft(this.ctx.transform.rotation),yt=this.ctx.transform.scaleX;P.call(this,{text:O,x:K,y:tt,scale:yt,angle:ut,align:this.textAlign,maxWidth:st})}},w.prototype.strokeText=function(O,K,tt,st){if(isNaN(K)||isNaN(tt)||typeof O!="string")throw fr.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!N.call(this)){st=isNaN(st)?void 0:st;var ut=ft(this.ctx.transform.rotation),yt=this.ctx.transform.scaleX;P.call(this,{text:O,x:K,y:tt,scale:yt,renderingMode:"stroke",angle:ut,align:this.textAlign,maxWidth:st})}},w.prototype.measureText=function(O){if(typeof O!="string")throw fr.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var K=this.pdf,tt=this.pdf.internal.scaleFactor,st=K.internal.getFontSize(),ut=K.getStringUnitWidth(O)*st/K.internal.scaleFactor;return new function(yt){var It=(yt=yt||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return It}}),this}({width:ut*=Math.round(96*tt/72*1e4)/1e4})},w.prototype.scale=function(O,K){if(isNaN(O)||isNaN(K))throw fr.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var tt=new f(O,0,0,K,0,0);this.ctx.transform=this.ctx.transform.multiply(tt)},w.prototype.rotate=function(O){if(isNaN(O))throw fr.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var K=new f(Math.cos(O),Math.sin(O),-Math.sin(O),Math.cos(O),0,0);this.ctx.transform=this.ctx.transform.multiply(K)},w.prototype.translate=function(O,K){if(isNaN(O)||isNaN(K))throw fr.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var tt=new f(1,0,0,1,O,K);this.ctx.transform=this.ctx.transform.multiply(tt)},w.prototype.transform=function(O,K,tt,st,ut,yt){if(isNaN(O)||isNaN(K)||isNaN(tt)||isNaN(st)||isNaN(ut)||isNaN(yt))throw fr.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var It=new f(O,K,tt,st,ut,yt);this.ctx.transform=this.ctx.transform.multiply(It)},w.prototype.setTransform=function(O,K,tt,st,ut,yt){O=isNaN(O)?1:O,K=isNaN(K)?0:K,tt=isNaN(tt)?0:tt,st=isNaN(st)?1:st,ut=isNaN(ut)?0:ut,yt=isNaN(yt)?0:yt,this.ctx.transform=new f(O,K,tt,st,ut,yt)};var M=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};w.prototype.drawImage=function(O,K,tt,st,ut,yt,It,Rt,zt){var Et=this.pdf.getImageProperties(O),jt=1,qt=1,Mt=1,Z=1;st!==void 0&&Rt!==void 0&&(Mt=Rt/st,Z=zt/ut,jt=Et.width/st*Rt/st,qt=Et.height/ut*zt/ut),yt===void 0&&(yt=K,It=tt,K=0,tt=0),st!==void 0&&Rt===void 0&&(Rt=st,zt=ut),st===void 0&&Rt===void 0&&(Rt=Et.width,zt=Et.height);var ne=this.ctx.transform.decompose(),Ce=ft(ne.rotate.shx),ce=new f,Ht=(ce=(ce=(ce=ce.multiply(ne.translate)).multiply(ne.skew)).multiply(ne.scale)).applyToRectangle(new h(yt-K*Mt,It-tt*Z,st*jt,ut*qt));if(this.autoPaging){for(var le,se=j.call(this,Ht),De=[],Ae=0;Ae<se.length;Ae+=1)De.indexOf(se[Ae])===-1&&De.push(se[Ae]);W(De);for(var Ke=De[0],en=De[De.length-1],He=Ke;He<en+1;He++){this.pdf.setPage(He);var un=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ze=He===1?this.posY+this.margin[0]:this.margin[0],ge=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ye=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ve=He===1?0:ge+(He-2)*Ye;if(this.ctx.clip_path.length!==0){var Zn=this.path;le=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=Q(le,this.posX+this.margin[3],-ve+ze+this.ctx.prevPageLastElemOffset),mt.call(this,"fill",!0),this.path=Zn}var nn=JSON.parse(JSON.stringify(Ht));nn=Q([nn],this.posX+this.margin[3],-ve+ze+this.ctx.prevPageLastElemOffset)[0];var Re=(He>Ke||He<en)&&M.call(this);Re&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],un,Ye,null).clip().discardPath()),this.pdf.addImage(O,"JPEG",nn.x,nn.y,nn.w,nn.h,null,null,Ce),Re&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(O,"JPEG",Ht.x,Ht.y,Ht.w,Ht.h,null,null,Ce)};var j=function(O,K,tt){var st=[];K=K||this.pdf.internal.pageSize.width,tt=tt||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ut=this.posY+this.ctx.prevPageLastElemOffset;switch(O.type){default:case"mt":case"lt":st.push(Math.floor((O.y+ut)/tt)+1);break;case"arc":st.push(Math.floor((O.y+ut-O.radius)/tt)+1),st.push(Math.floor((O.y+ut+O.radius)/tt)+1);break;case"qct":var yt=Nt(this.ctx.lastPoint.x,this.ctx.lastPoint.y,O.x1,O.y1,O.x,O.y);st.push(Math.floor((yt.y+ut)/tt)+1),st.push(Math.floor((yt.y+yt.h+ut)/tt)+1);break;case"bct":var It=Wt(this.ctx.lastPoint.x,this.ctx.lastPoint.y,O.x1,O.y1,O.x2,O.y2,O.x,O.y);st.push(Math.floor((It.y+ut)/tt)+1),st.push(Math.floor((It.y+It.h+ut)/tt)+1);break;case"rect":st.push(Math.floor((O.y+ut)/tt)+1),st.push(Math.floor((O.y+O.h+ut)/tt)+1)}for(var Rt=0;Rt<st.length;Rt+=1)for(;this.pdf.internal.getNumberOfPages()<st[Rt];)R.call(this);return st},R=function(){var O=this.fillStyle,K=this.strokeStyle,tt=this.font,st=this.lineCap,ut=this.lineWidth,yt=this.lineJoin;this.pdf.addPage(),this.fillStyle=O,this.strokeStyle=K,this.font=tt,this.lineCap=st,this.lineWidth=ut,this.lineJoin=yt},Q=function(O,K,tt){for(var st=0;st<O.length;st++)switch(O[st].type){case"bct":O[st].x2+=K,O[st].y2+=tt;case"qct":O[st].x1+=K,O[st].y1+=tt;default:O[st].x+=K,O[st].y+=tt}return O},W=function(O){return O.sort(function(K,tt){return K-tt})},nt=function(O,K){var tt=this.fillStyle,st=this.strokeStyle,ut=this.lineCap,yt=this.lineWidth,It=Math.abs(yt*this.ctx.transform.scaleX),Rt=this.lineJoin;if(this.autoPaging){for(var zt,Et,jt=JSON.parse(JSON.stringify(this.path)),qt=JSON.parse(JSON.stringify(this.path)),Mt=[],Z=0;Z<qt.length;Z++)if(qt[Z].x!==void 0)for(var ne=j.call(this,qt[Z]),Ce=0;Ce<ne.length;Ce+=1)Mt.indexOf(ne[Ce])===-1&&Mt.push(ne[Ce]);for(var ce=0;ce<Mt.length;ce++)for(;this.pdf.internal.getNumberOfPages()<Mt[ce];)R.call(this);W(Mt);for(var Ht=Mt[0],le=Mt[Mt.length-1],se=Ht;se<le+1;se++){this.pdf.setPage(se),this.fillStyle=tt,this.strokeStyle=st,this.lineCap=ut,this.lineWidth=It,this.lineJoin=Rt;var De=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ae=se===1?this.posY+this.margin[0]:this.margin[0],Ke=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],en=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],He=se===1?0:Ke+(se-2)*en;if(this.ctx.clip_path.length!==0){var un=this.path;zt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=Q(zt,this.posX+this.margin[3],-He+Ae+this.ctx.prevPageLastElemOffset),mt.call(this,O,!0),this.path=un}if(Et=JSON.parse(JSON.stringify(jt)),this.path=Q(Et,this.posX+this.margin[3],-He+Ae+this.ctx.prevPageLastElemOffset),K===!1||se===0){var ze=(se>Ht||se<le)&&M.call(this);ze&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],De,en,null).clip().discardPath()),mt.call(this,O,K),ze&&this.pdf.restoreGraphicsState()}this.lineWidth=yt}this.path=jt}else this.lineWidth=It,mt.call(this,O,K),this.lineWidth=yt},mt=function(O,K){if((O!=="stroke"||K||!N.call(this))&&(O==="stroke"||K||!_.call(this))){for(var tt,st,ut=[],yt=this.path,It=0;It<yt.length;It++){var Rt=yt[It];switch(Rt.type){case"begin":ut.push({begin:!0});break;case"close":ut.push({close:!0});break;case"mt":ut.push({start:Rt,deltas:[],abs:[]});break;case"lt":var zt=ut.length;if(yt[It-1]&&!isNaN(yt[It-1].x)&&(tt=[Rt.x-yt[It-1].x,Rt.y-yt[It-1].y],zt>0)){for(;zt>=0;zt--)if(ut[zt-1].close!==!0&&ut[zt-1].begin!==!0){ut[zt-1].deltas.push(tt),ut[zt-1].abs.push(Rt);break}}break;case"bct":tt=[Rt.x1-yt[It-1].x,Rt.y1-yt[It-1].y,Rt.x2-yt[It-1].x,Rt.y2-yt[It-1].y,Rt.x-yt[It-1].x,Rt.y-yt[It-1].y],ut[ut.length-1].deltas.push(tt);break;case"qct":var Et=yt[It-1].x+2/3*(Rt.x1-yt[It-1].x),jt=yt[It-1].y+2/3*(Rt.y1-yt[It-1].y),qt=Rt.x+2/3*(Rt.x1-Rt.x),Mt=Rt.y+2/3*(Rt.y1-Rt.y),Z=Rt.x,ne=Rt.y;tt=[Et-yt[It-1].x,jt-yt[It-1].y,qt-yt[It-1].x,Mt-yt[It-1].y,Z-yt[It-1].x,ne-yt[It-1].y],ut[ut.length-1].deltas.push(tt);break;case"arc":ut.push({deltas:[],abs:[],arc:!0}),Array.isArray(ut[ut.length-1].abs)&&ut[ut.length-1].abs.push(Rt)}}st=K?null:O==="stroke"?"stroke":"fill";for(var Ce=!1,ce=0;ce<ut.length;ce++)if(ut[ce].arc)for(var Ht=ut[ce].abs,le=0;le<Ht.length;le++){var se=Ht[le];se.type==="arc"?V.call(this,se.x,se.y,se.radius,se.startAngle,se.endAngle,se.counterclockwise,void 0,K,!Ce):F.call(this,se.x,se.y),Ce=!0}else if(ut[ce].close===!0)this.pdf.internal.out("h"),Ce=!1;else if(ut[ce].begin!==!0){var De=ut[ce].start.x,Ae=ut[ce].start.y;lt.call(this,ut[ce].deltas,De,Ae),Ce=!0}st&&D.call(this,st),K&&H.call(this)}},bt=function(O){var K=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,tt=K*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return O-tt;case"top":return O+K-tt;case"hanging":return O+K-2*tt;case"middle":return O+K/2-tt;default:return O}},q=function(O){return O+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};w.prototype.createLinearGradient=function(){var O=function(){};return O.colorStops=[],O.addColorStop=function(K,tt){this.colorStops.push([K,tt])},O.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},O.isCanvasGradient=!0,O},w.prototype.createPattern=function(){return this.createLinearGradient()},w.prototype.createRadialGradient=function(){return this.createLinearGradient()};var V=function(O,K,tt,st,ut,yt,It,Rt,zt){for(var Et=ot.call(this,tt,st,ut,yt),jt=0;jt<Et.length;jt++){var qt=Et[jt];jt===0&&(zt?T.call(this,qt.x1+O,qt.y1+K):F.call(this,qt.x1+O,qt.y1+K)),xt.call(this,O,K,qt.x2,qt.y2,qt.x3,qt.y3,qt.x4,qt.y4)}Rt?H.call(this):D.call(this,It)},D=function(O){switch(O){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},H=function(){this.pdf.clip(),this.pdf.discardPath()},T=function(O,K){this.pdf.internal.out(e(O)+" "+i(K)+" m")},P=function(O){var K;switch(O.align){case"right":case"end":K="right";break;case"center":K="center";break;default:K="left"}var tt,st,ut,yt=this.pdf.getTextDimensions(O.text),It=bt.call(this,O.y),Rt=q.call(this,It)-yt.h,zt=this.ctx.transform.applyToPoint(new u(O.x,It));if(this.autoPaging){var Et=this.ctx.transform.decompose(),jt=new f;jt=(jt=(jt=jt.multiply(Et.translate)).multiply(Et.skew)).multiply(Et.scale);for(var qt=this.ctx.transform.applyToRectangle(new h(O.x,It,yt.w,yt.h)),Mt=jt.applyToRectangle(new h(O.x,Rt,yt.w,yt.h)),Z=j.call(this,Mt),ne=[],Ce=0;Ce<Z.length;Ce+=1)ne.indexOf(Z[Ce])===-1&&ne.push(Z[Ce]);W(ne);for(var ce=ne[0],Ht=ne[ne.length-1],le=ce;le<Ht+1;le++){this.pdf.setPage(le);var se=le===1?this.posY+this.margin[0]:this.margin[0],De=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ae=this.pdf.internal.pageSize.height-this.margin[2],Ke=Ae-this.margin[0],en=this.pdf.internal.pageSize.width-this.margin[1],He=en-this.margin[3],un=le===1?0:De+(le-2)*Ke;if(this.ctx.clip_path.length!==0){var ze=this.path;tt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=Q(tt,this.posX+this.margin[3],-1*un+se),mt.call(this,"fill",!0),this.path=ze}var ge=Q([JSON.parse(JSON.stringify(Mt))],this.posX+this.margin[3],-un+se+this.ctx.prevPageLastElemOffset)[0];O.scale>=.01&&(st=this.pdf.internal.getFontSize(),this.pdf.setFontSize(st*O.scale),ut=this.lineWidth,this.lineWidth=ut*O.scale);var Ye=this.autoPaging!=="text";if(Ye||ge.y+ge.h<=Ae){if(Ye||ge.y>=se&&ge.x<=en){var ve=Ye?O.text:this.pdf.splitTextToSize(O.text,O.maxWidth||en-ge.x)[0],Zn=Q([JSON.parse(JSON.stringify(qt))],this.posX+this.margin[3],-un+se+this.ctx.prevPageLastElemOffset)[0],nn=Ye&&(le>ce||le<Ht)&&M.call(this);nn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],He,Ke,null).clip().discardPath()),this.pdf.text(ve,Zn.x,Zn.y,{angle:O.angle,align:K,renderingMode:O.renderingMode}),nn&&this.pdf.restoreGraphicsState()}}else ge.y<Ae&&(this.ctx.prevPageLastElemOffset+=Ae-ge.y);O.scale>=.01&&(this.pdf.setFontSize(st),this.lineWidth=ut)}}else O.scale>=.01&&(st=this.pdf.internal.getFontSize(),this.pdf.setFontSize(st*O.scale),ut=this.lineWidth,this.lineWidth=ut*O.scale),this.pdf.text(O.text,zt.x+this.posX,zt.y+this.posY,{angle:O.angle,align:K,renderingMode:O.renderingMode,maxWidth:O.maxWidth}),O.scale>=.01&&(this.pdf.setFontSize(st),this.lineWidth=ut)},F=function(O,K,tt,st){tt=tt||0,st=st||0,this.pdf.internal.out(e(O+tt)+" "+i(K+st)+" l")},lt=function(O,K,tt){return this.pdf.lines(O,K,tt,null,null)},xt=function(O,K,tt,st,ut,yt,It,Rt){this.pdf.internal.out([t(s(tt+O)),t(o(st+K)),t(s(ut+O)),t(o(yt+K)),t(s(It+O)),t(o(Rt+K)),"c"].join(" "))},ot=function(O,K,tt,st){for(var ut=2*Math.PI,yt=Math.PI/2;K>tt;)K-=ut;var It=Math.abs(tt-K);It<ut&&st&&(It=ut-It);for(var Rt=[],zt=st?-1:1,Et=K;It>1e-5;){var jt=Et+zt*Math.min(It,yt);Rt.push(dt.call(this,O,Et,jt)),It-=Math.abs(jt-Et),Et=jt}return Rt},dt=function(O,K,tt){var st=(tt-K)/2,ut=O*Math.cos(st),yt=O*Math.sin(st),It=ut,Rt=-yt,zt=It*It+Rt*Rt,Et=zt+It*ut+Rt*yt,jt=4/3*(Math.sqrt(2*zt*Et)-Et)/(It*yt-Rt*ut),qt=It-jt*Rt,Mt=Rt+jt*It,Z=qt,ne=-Mt,Ce=st+K,ce=Math.cos(Ce),Ht=Math.sin(Ce);return{x1:O*Math.cos(K),y1:O*Math.sin(K),x2:qt*ce-Mt*Ht,y2:qt*Ht+Mt*ce,x3:Z*ce-ne*Ht,y3:Z*Ht+ne*ce,x4:O*Math.cos(tt),y4:O*Math.sin(tt)}},ft=function(O){return 180*O/Math.PI},Nt=function(O,K,tt,st,ut,yt){var It=O+.5*(tt-O),Rt=K+.5*(st-K),zt=ut+.5*(tt-ut),Et=yt+.5*(st-yt),jt=Math.min(O,ut,It,zt),qt=Math.max(O,ut,It,zt),Mt=Math.min(K,yt,Rt,Et),Z=Math.max(K,yt,Rt,Et);return new h(jt,Mt,qt-jt,Z-Mt)},Wt=function(O,K,tt,st,ut,yt,It,Rt){var zt,Et,jt,qt,Mt,Z,ne,Ce,ce,Ht,le,se,De,Ae,Ke=tt-O,en=st-K,He=ut-tt,un=yt-st,ze=It-ut,ge=Rt-yt;for(Et=0;Et<41;Et++)ce=(ne=(jt=O+(zt=Et/40)*Ke)+zt*((Mt=tt+zt*He)-jt))+zt*(Mt+zt*(ut+zt*ze-Mt)-ne),Ht=(Ce=(qt=K+zt*en)+zt*((Z=st+zt*un)-qt))+zt*(Z+zt*(yt+zt*ge-Z)-Ce),Et==0?(le=ce,se=Ht,De=ce,Ae=Ht):(le=Math.min(le,ce),se=Math.min(se,Ht),De=Math.max(De,ce),Ae=Math.max(Ae,Ht));return new h(Math.round(le),Math.round(se),Math.round(De-le),Math.round(Ae-se))},$=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var O,K,tt=(O=this.ctx.lineDash,K=this.ctx.lineDashOffset,JSON.stringify({lineDash:O,lineDashOffset:K}));this.prevLineDash!==tt&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=tt)}}})(Te.API),(function(n){var t=function(u){var h,f,d,g,w,S,_,N,M,j;for(f=[],d=0,g=(u+=h="\0\0\0\0".slice(u.length%4||4)).length;g>d;d+=4)(w=(u.charCodeAt(d)<<24)+(u.charCodeAt(d+1)<<16)+(u.charCodeAt(d+2)<<8)+u.charCodeAt(d+3))!==0?(S=(w=((w=((w=((w=(w-(j=w%85))/85)-(M=w%85))/85)-(N=w%85))/85)-(_=w%85))/85)%85,f.push(S+33,_+33,N+33,M+33,j+33)):f.push(122);return(function(R,Q){for(var W=Q;W>0;W--)R.pop()})(f,h.length),String.fromCharCode.apply(String,f)+"~>"},e=function(u){var h,f,d,g,w,S=String,_="length",N=255,M="charCodeAt",j="slice",R="replace";for(u[j](-2),u=u[j](0,-2)[R](/\s/g,"")[R]("z","!!!!!"),d=[],g=0,w=(u+=h="uuuuu"[j](u[_]%5||5))[_];w>g;g+=5)f=52200625*(u[M](g)-33)+614125*(u[M](g+1)-33)+7225*(u[M](g+2)-33)+85*(u[M](g+3)-33)+(u[M](g+4)-33),d.push(N&f>>24,N&f>>16,N&f>>8,N&f);return(function(Q,W){for(var nt=W;nt>0;nt--)Q.pop()})(d,h[_]),S.fromCharCode.apply(S,d)},i=function(u){return u.split("").map(function(h){return("0"+h.charCodeAt().toString(16)).slice(-2)}).join("")+">"},s=function(u){var h=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((u=u.replace(/\s/g,"")).indexOf(">")!==-1&&(u=u.substr(0,u.indexOf(">"))),u.length%2&&(u+="0"),h.test(u)===!1)return"";for(var f="",d=0;d<u.length;d+=2)f+=String.fromCharCode("0x"+(u[d]+u[d+1]));return f},o=function(u){for(var h=new Uint8Array(u.length),f=u.length;f--;)h[f]=u.charCodeAt(f);return(h=Y0(h)).reduce(function(d,g){return d+String.fromCharCode(g)},"")};n.processDataByFilters=function(u,h){var f=0,d=u||"",g=[];for(typeof(h=h||[])=="string"&&(h=[h]),f=0;f<h.length;f+=1)switch(h[f]){case"ASCII85Decode":case"/ASCII85Decode":d=e(d),g.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":d=t(d),g.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":d=s(d),g.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":d=i(d),g.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":d=o(d),g.push("/FlateDecode");break;default:throw new Error('The filter: "'+h[f]+'" is not implemented')}return{data:d,reverseChain:g.reverse().join(" ")}}})(Te.API),(function(n){n.loadFile=function(t,e,i){return(function(s,o,u){o=o!==!1,u=typeof u=="function"?u:function(){};var h=void 0;try{h=(function(f,d,g){var w=new XMLHttpRequest,S=0,_=function(N){var M=N.length,j=[],R=String.fromCharCode;for(S=0;S<M;S+=1)j.push(R(255&N.charCodeAt(S)));return j.join("")};if(w.open("GET",f,!d),w.overrideMimeType("text/plain; charset=x-user-defined"),d===!1&&(w.onload=function(){w.status===200?g(_(this.responseText)):g(void 0)}),w.send(null),d&&w.status===200)return _(w.responseText)})(s,o,u)}catch{}return h})(t,e,i)},n.loadImageFile=n.loadFile})(Te.API),(function(n){function t(){return(tn.html2canvas?Promise.resolve(tn.html2canvas):$g(()=>import("./html2canvas.esm-Ge7aVWlp.js"),[])).catch(function(h){return Promise.reject(new Error("Could not load html2canvas: "+h))}).then(function(h){return h.default?h.default:h})}function e(){return(tn.DOMPurify?Promise.resolve(tn.DOMPurify):$g(()=>import("./purify.es-C65SP4u9.js"),[])).catch(function(h){return Promise.reject(new Error("Could not load dompurify: "+h))}).then(function(h){return h.default?h.default:h})}var i=function(h){var f=Jn(h);return f==="undefined"?"undefined":f==="string"||h instanceof String?"string":f==="number"||h instanceof Number?"number":f==="function"||h instanceof Function?"function":h&&h.constructor===Array?"array":h&&h.nodeType===1?"element":f==="object"?"object":"unknown"},s=function(h,f){var d=document.createElement(h);for(var g in f.className&&(d.className=f.className),f.innerHTML&&f.dompurify&&(d.innerHTML=f.dompurify.sanitize(f.innerHTML)),f.style)d.style[g]=f.style[g];return d},o=function h(f,d){for(var g=f.nodeType===3?document.createTextNode(f.nodeValue):f.cloneNode(!1),w=f.firstChild;w;w=w.nextSibling)d!==!0&&w.nodeType===1&&w.nodeName==="SCRIPT"||g.appendChild(h(w,d));return f.nodeType===1&&(f.nodeName==="CANVAS"?(g.width=f.width,g.height=f.height,g.getContext("2d").drawImage(f,0,0)):f.nodeName!=="TEXTAREA"&&f.nodeName!=="SELECT"||(g.value=f.value),g.addEventListener("load",function(){g.scrollTop=f.scrollTop,g.scrollLeft=f.scrollLeft},!0)),g},u=function h(f){var d=Object.assign(h.convert(Promise.resolve()),JSON.parse(JSON.stringify(h.template))),g=h.convert(Promise.resolve(),d);return(g=g.setProgress(1,h,1,[h])).set(f)};(u.prototype=Object.create(Promise.prototype)).constructor=u,u.convert=function(h,f){return h.__proto__=f||u.prototype,h},u.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},u.prototype.from=function(h,f){return this.then(function(){switch(f=f||(function(d){switch(i(d)){case"string":return"string";case"element":return d.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(h),f){case"string":return this.then(e).then(function(d){return this.set({src:s("div",{innerHTML:h,dompurify:d})})});case"element":return this.set({src:h});case"canvas":return this.set({canvas:h});case"img":return this.set({img:h});default:return this.error("Unknown source type.")}})},u.prototype.to=function(h){switch(h){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},u.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var h={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},f=o(this.prop.src,this.opt.html2canvas.javascriptEnabled);f.tagName==="BODY"&&(h.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=s("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=s("div",{className:"html2pdf__container",style:h}),this.prop.container.appendChild(f),this.prop.container.firstChild.appendChild(s("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},u.prototype.toCanvas=function(){var h=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(h).then(t).then(function(f){var d=Object.assign({},this.opt.html2canvas);return delete d.onrendered,f(this.prop.container,d)}).then(function(f){(this.opt.html2canvas.onrendered||function(){})(f),this.prop.canvas=f,document.body.removeChild(this.prop.overlay)})},u.prototype.toContext2d=function(){var h=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(h).then(t).then(function(f){var d=this.opt.jsPDF,g=this.opt.fontFaces,w=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,S=Object.assign({async:!0,allowTaint:!0,scale:w,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete S.onrendered,d.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,d.context2d.posX=this.opt.x,d.context2d.posY=this.opt.y,d.context2d.margin=this.opt.margin,d.context2d.fontFaces=g,g)for(var _=0;_<g.length;++_){var N=g[_],M=N.src.find(function(j){return j.format==="truetype"});M&&d.addFont(M.url,N.ref.name,N.ref.style)}return S.windowHeight=S.windowHeight||0,S.windowHeight=S.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):S.windowHeight,d.context2d.save(!0),f(this.prop.container,S)}).then(function(f){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(f),this.prop.canvas=f,document.body.removeChild(this.prop.overlay)})},u.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var h=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=h})},u.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},u.prototype.output=function(h,f,d){return(d=d||"pdf").toLowerCase()==="img"||d.toLowerCase()==="image"?this.outputImg(h,f):this.outputPdf(h,f)},u.prototype.outputPdf=function(h,f){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(h,f)})},u.prototype.outputImg=function(h){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(h){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+h+'" is not supported.'}})},u.prototype.save=function(h){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(h?{filename:h}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},u.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},u.prototype.set=function(h){if(i(h)!=="object")return this;var f=Object.keys(h||{}).map(function(d){if(d in u.template.prop)return function(){this.prop[d]=h[d]};switch(d){case"margin":return this.setMargin.bind(this,h.margin);case"jsPDF":return function(){return this.opt.jsPDF=h.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,h.pageSize);default:return function(){this.opt[d]=h[d]}}},this);return this.then(function(){return this.thenList(f)})},u.prototype.get=function(h,f){return this.then(function(){var d=h in u.template.prop?this.prop[h]:this.opt[h];return f?f(d):d})},u.prototype.setMargin=function(h){return this.then(function(){switch(i(h)){case"number":h=[h,h,h,h];case"array":if(h.length===2&&(h=[h[0],h[1],h[0],h[1]]),h.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=h}).then(this.setPageSize)},u.prototype.setPageSize=function(h){function f(d,g){return Math.floor(d*g/72*96)}return this.then(function(){(h=h||Te.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(h.inner={width:h.width-this.opt.margin[1]-this.opt.margin[3],height:h.height-this.opt.margin[0]-this.opt.margin[2]},h.inner.px={width:f(h.inner.width,h.k),height:f(h.inner.height,h.k)},h.inner.ratio=h.inner.height/h.inner.width),this.prop.pageSize=h})},u.prototype.setProgress=function(h,f,d,g){return h!=null&&(this.progress.val=h),f!=null&&(this.progress.state=f),d!=null&&(this.progress.n=d),g!=null&&(this.progress.stack=g),this.progress.ratio=this.progress.val/this.progress.state,this},u.prototype.updateProgress=function(h,f,d,g){return this.setProgress(h?this.progress.val+h:null,f||null,d?this.progress.n+d:null,g?this.progress.stack.concat(g):null)},u.prototype.then=function(h,f){var d=this;return this.thenCore(h,f,function(g,w){return d.updateProgress(null,null,1,[g]),Promise.prototype.then.call(this,function(S){return d.updateProgress(null,g),S}).then(g,w).then(function(S){return d.updateProgress(1),S})})},u.prototype.thenCore=function(h,f,d){d=d||Promise.prototype.then;var g=this;h&&(h=h.bind(g)),f&&(f=f.bind(g));var w=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?g:u.convert(Object.assign({},g),Promise.prototype),S=d.call(w,h,f);return u.convert(S,g.__proto__)},u.prototype.thenExternal=function(h,f){return Promise.prototype.then.call(this,h,f)},u.prototype.thenList=function(h){var f=this;return h.forEach(function(d){f=f.thenCore(d)}),f},u.prototype.catch=function(h){h&&(h=h.bind(this));var f=Promise.prototype.catch.call(this,h);return u.convert(f,this)},u.prototype.catchExternal=function(h){return Promise.prototype.catch.call(this,h)},u.prototype.error=function(h){return this.then(function(){throw new Error(h)})},u.prototype.using=u.prototype.set,u.prototype.saveAs=u.prototype.save,u.prototype.export=u.prototype.output,u.prototype.run=u.prototype.then,Te.getPageSize=function(h,f,d){if(Jn(h)==="object"){var g=h;h=g.orientation,f=g.unit||f,d=g.format||d}f=f||"mm",d=d||"a4",h=(""+(h||"P")).toLowerCase();var w,S=(""+d).toLowerCase(),_={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(f){case"pt":w=1;break;case"mm":w=72/25.4;break;case"cm":w=72/2.54;break;case"in":w=72;break;case"px":w=.75;break;case"pc":case"em":w=12;break;case"ex":w=6;break;default:throw"Invalid unit: "+f}var N,M=0,j=0;if(_.hasOwnProperty(S))M=_[S][1]/w,j=_[S][0]/w;else try{M=d[1],j=d[0]}catch{throw new Error("Invalid format: "+d)}if(h==="p"||h==="portrait")h="p",j>M&&(N=j,j=M,M=N);else{if(h!=="l"&&h!=="landscape")throw"Invalid orientation: "+h;h="l",M>j&&(N=j,j=M,M=N)}return{width:j,height:M,unit:f,k:w,orientation:h}},n.html=function(h,f){(f=f||{}).callback=f.callback||function(){},f.html2canvas=f.html2canvas||{},f.html2canvas.canvas=f.html2canvas.canvas||this.canvas,f.jsPDF=f.jsPDF||this,f.fontFaces=f.fontFaces?f.fontFaces.map(c0):null;var d=new u(f);return f.worker?d:d.from(h).doCallback()}})(Te.API),Te.API.addJS=function(n){return f_=n,this.internal.events.subscribe("postPutResources",function(){rp=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(rp+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),h_=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+f_+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){rp!==void 0&&h_!==void 0&&this.internal.out("/Names <</JavaScript "+rp+" 0 R>>")}),this},(function(n){var t;n.events.push(["postPutResources",function(){var e=this,i=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var s=e.outline.render().split(/\r\n/),o=0;o<s.length;o++){var u=s[o],h=i.exec(u);if(h!=null){var f=h[1];e.internal.newObjectDeferredBegin(f,!1)}e.internal.write(u)}if(this.outline.createNamedDestinations){var d=this.internal.pages.length,g=[];for(o=0;o<d;o++){var w=e.internal.newObject();g.push(w);var S=e.internal.getPageInfo(o+1);e.internal.write("<< /D["+S.objId+" 0 R /XYZ null null null]>> endobj")}var _=e.internal.newObject();for(e.internal.write("<< /Names [ "),o=0;o<g.length;o++)e.internal.write("(page_"+(o+1)+")"+g[o]+" 0 R");e.internal.write(" ] >>","endobj"),t=e.internal.newObject(),e.internal.write("<< /Dests "+_+" 0 R"),e.internal.write(">>","endobj")}}]),n.events.push(["putCatalog",function(){var e=this;e.outline.root.children.length>0&&(e.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&e.internal.write("/Names "+t+" 0 R"))}]),n.events.push(["initialized",function(){var e=this;e.outline={createNamedDestinations:!1,root:{children:[]}},e.outline.add=function(i,s,o){var u={title:s,options:o,children:[]};return i==null&&(i=this.root),i.children.push(u),u},e.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=e,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},e.outline.genIds_r=function(i){i.id=e.internal.newObjectDeferred();for(var s=0;s<i.children.length;s++)this.genIds_r(i.children[s])},e.outline.renderRoot=function(i){this.objStart(i),this.line("/Type /Outlines"),i.children.length>0&&(this.line("/First "+this.makeRef(i.children[0])),this.line("/Last "+this.makeRef(i.children[i.children.length-1]))),this.line("/Count "+this.count_r({count:0},i)),this.objEnd()},e.outline.renderItems=function(i){for(var s=this.ctx.pdf.internal.getVerticalCoordinateString,o=0;o<i.children.length;o++){var u=i.children[o];this.objStart(u),this.line("/Title "+this.makeString(u.title)),this.line("/Parent "+this.makeRef(i)),o>0&&this.line("/Prev "+this.makeRef(i.children[o-1])),o<i.children.length-1&&this.line("/Next "+this.makeRef(i.children[o+1])),u.children.length>0&&(this.line("/First "+this.makeRef(u.children[0])),this.line("/Last "+this.makeRef(u.children[u.children.length-1])));var h=this.count=this.count_r({count:0},u);if(h>0&&this.line("/Count "+h),u.options&&u.options.pageNumber){var f=e.internal.getPageInfo(u.options.pageNumber);this.line("/Dest ["+f.objId+" 0 R /XYZ 0 "+s(0)+" 0]")}this.objEnd()}for(var d=0;d<i.children.length;d++)this.renderItems(i.children[d])},e.outline.line=function(i){this.ctx.val+=i+`\r
`},e.outline.makeRef=function(i){return i.id+" 0 R"},e.outline.makeString=function(i){return"("+e.internal.pdfEscape(i)+")"},e.outline.objStart=function(i){this.ctx.val+=`\r
`+i.id+` 0 obj\r
<<\r
`},e.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},e.outline.count_r=function(i,s){for(var o=0;o<s.children.length;o++)i.count++,this.count_r(i,s.children[o]);return i.count}}])})(Te.API),(function(n){var t=[192,193,194,195,196,197,198,199];n.processJPEG=function(e,i,s,o,u,h){var f,d=this.decode.DCT_DECODE,g=null;if(typeof e=="string"||this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e)){switch(e=u||e,e=this.__addimage__.isArrayBuffer(e)?new Uint8Array(e):e,f=(function(w){for(var S,_=256*w.charCodeAt(4)+w.charCodeAt(5),N=w.length,M={width:0,height:0,numcomponents:1},j=4;j<N;j+=2){if(j+=_,t.indexOf(w.charCodeAt(j+1))!==-1){S=256*w.charCodeAt(j+5)+w.charCodeAt(j+6),M={width:256*w.charCodeAt(j+7)+w.charCodeAt(j+8),height:S,numcomponents:w.charCodeAt(j+9)};break}_=256*w.charCodeAt(j+2)+w.charCodeAt(j+3)}return M})(e=this.__addimage__.isArrayBufferView(e)?this.__addimage__.arrayBufferToBinaryString(e):e),f.numcomponents){case 1:h=this.color_spaces.DEVICE_GRAY;break;case 4:h=this.color_spaces.DEVICE_CMYK;break;case 3:h=this.color_spaces.DEVICE_RGB}g={data:e,width:f.width,height:f.height,colorSpace:h,bitsPerComponent:8,filter:d,index:i,alias:s}}return g}})(Te.API),Te.API.processPNG=function(n,t,e,i){if(this.__addimage__.isArrayBuffer(n)&&(n=new Uint8Array(n)),this.__addimage__.isArrayBufferView(n)){var s,o=VL(n,{checkCrc:!0}),u=o.width,h=o.height,f=o.channels,d=o.palette,g=o.depth;s=d&&f===1?(function(V){for(var D=V.width,H=V.height,T=V.data,P=V.palette,F=V.depth,lt=!1,xt=[],ot=[],dt=void 0,ft=!1,Nt=0,Wt=0;Wt<P.length;Wt++){var $=gb(P[Wt],4),O=$[0],K=$[1],tt=$[2],st=$[3];xt.push(O,K,tt),st!=null&&(st===0?(Nt++,ot.length<1&&ot.push(Wt)):st<255&&(ft=!0))}if(ft||Nt>1){lt=!0,ot=void 0;var ut=D*H;dt=new Uint8Array(ut);for(var yt=new DataView(T.buffer),It=0;It<ut;It++){var Rt=f0(yt,It,F),zt=gb(P[Rt],4)[3];dt[It]=zt}}else Nt===0&&(ot=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:lt?8:void 0,colorBytes:T,alphaBytes:dt,needSMask:lt,palette:xt,mask:ot}})(o):f===2||f===4?(function(V){for(var D=V.data,H=V.width,T=V.height,P=V.channels,F=V.depth,lt=P===2?"DeviceGray":"DeviceRGB",xt=P-1,ot=H*T,dt=xt,ft=ot*dt,Nt=1*ot,Wt=Math.ceil(ft*F/8),$=Math.ceil(Nt*F/8),O=new Uint8Array(Wt),K=new Uint8Array($),tt=new DataView(D.buffer),st=new DataView(O.buffer),ut=new DataView(K.buffer),yt=!1,It=0;It<ot;It++){for(var Rt=It*P,zt=0;zt<dt;zt++)w_(st,f0(tt,Rt+zt,F),It*dt+zt,F);var Et=f0(tt,Rt+dt,F);Et<(1<<F)-1&&(yt=!0),w_(ut,Et,1*It,F)}return{colorSpace:lt,colorsPerPixel:xt,sMaskBitsPerComponent:yt?F:void 0,colorBytes:O,alphaBytes:K,needSMask:yt}})(o):(function(V){var D=V.data,H=V.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:H,colorsPerPixel:H==="DeviceGray"?1:3,colorBytes:D instanceof Uint16Array?(function(T){for(var P=T.length,F=new Uint8Array(2*P),lt=new DataView(F.buffer,F.byteOffset,F.byteLength),xt=0;xt<P;xt++)lt.setUint16(2*xt,T[xt],!1);return F})(D):D,needSMask:!1}})(o);var w,S,_,N=s,M=N.colorSpace,j=N.colorsPerPixel,R=N.sMaskBitsPerComponent,Q=N.colorBytes,W=N.alphaBytes,nt=N.needSMask,mt=N.palette,bt=N.mask,q=null;return i!==Te.API.image_compression.NONE&&typeof Y0=="function"?(q=(function(V){var D;switch(V){case Te.API.image_compression.FAST:D=11;break;case Te.API.image_compression.MEDIUM:D=13;break;case Te.API.image_compression.SLOW:D=14;break;default:D=12}return D})(i),w=this.decode.FLATE_DECODE,S="/Predictor ".concat(q," /Colors ").concat(j," /BitsPerComponent ").concat(g," /Columns ").concat(u),n=g_(Q,Math.ceil(u*j*g/8),j,g,i),nt&&(_=g_(W,Math.ceil(u*R/8),1,R,i))):(w=void 0,S=void 0,n=Q,nt&&(_=W)),(this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n))&&(n=this.__addimage__.arrayBufferToBinaryString(n)),(_&&this.__addimage__.isArrayBuffer(_)||this.__addimage__.isArrayBufferView(_))&&(_=this.__addimage__.arrayBufferToBinaryString(_)),{alias:e,data:n,index:t,filter:w,decodeParameters:S,transparency:bt,palette:mt,sMask:_,predictor:q,width:u,height:h,bitsPerComponent:g,sMaskBitsPerComponent:R,colorSpace:M}}},(function(n){n.processGIF89A=function(t,e,i,s){var o=new sI(t),u=o.width,h=o.height,f=[];o.decodeAndBlitFrameRGBA(0,f);var d={data:f,width:u,height:h},g=new d0(100).encode(d,100);return n.processJPEG.call(this,g,e,i,s)},n.processGIF87A=n.processGIF89A})(Te.API),oo.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var n=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(n);for(var t=0;t<n;t++){var e=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:s,green:i,blue:e,quad:o}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},oo.prototype.parseBGR=function(){this.pos=this.offset;try{var n="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[n]()}catch(e){fr.log("bit decode error:"+e)}},oo.prototype.bit1=function(){var n,t=Math.ceil(this.width/8),e=t%4;for(n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,s=0;s<t;s++)for(var o=this.datav.getUint8(this.pos++,!0),u=i*this.width*4+8*s*4,h=0;h<8&&8*s+h<this.width;h++){var f=this.palette[o>>7-h&1];this.data[u+4*h]=f.blue,this.data[u+4*h+1]=f.green,this.data[u+4*h+2]=f.red,this.data[u+4*h+3]=255}e!==0&&(this.pos+=4-e)}},oo.prototype.bit4=function(){for(var n=Math.ceil(this.width/2),t=n%4,e=this.height-1;e>=0;e--){for(var i=this.bottom_up?e:this.height-1-e,s=0;s<n;s++){var o=this.datav.getUint8(this.pos++,!0),u=i*this.width*4+2*s*4,h=o>>4,f=15&o,d=this.palette[h];if(this.data[u]=d.blue,this.data[u+1]=d.green,this.data[u+2]=d.red,this.data[u+3]=255,2*s+1>=this.width)break;d=this.palette[f],this.data[u+4]=d.blue,this.data[u+4+1]=d.green,this.data[u+4+2]=d.red,this.data[u+4+3]=255}t!==0&&(this.pos+=4-t)}},oo.prototype.bit8=function(){for(var n=this.width%4,t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,i=0;i<this.width;i++){var s=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*i;if(s<this.palette.length){var u=this.palette[s];this.data[o]=u.red,this.data[o+1]=u.green,this.data[o+2]=u.blue,this.data[o+3]=255}else this.data[o]=255,this.data[o+1]=255,this.data[o+2]=255,this.data[o+3]=255}n!==0&&(this.pos+=4-n)}},oo.prototype.bit15=function(){for(var n=this.width%3,t=parseInt("11111",2),e=this.height-1;e>=0;e--){for(var i=this.bottom_up?e:this.height-1-e,s=0;s<this.width;s++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var u=(o&t)/t*255|0,h=(o>>5&t)/t*255|0,f=(o>>10&t)/t*255|0,d=o>>15?255:0,g=i*this.width*4+4*s;this.data[g]=f,this.data[g+1]=h,this.data[g+2]=u,this.data[g+3]=d}this.pos+=n}},oo.prototype.bit16=function(){for(var n=this.width%3,t=parseInt("11111",2),e=parseInt("111111",2),i=this.height-1;i>=0;i--){for(var s=this.bottom_up?i:this.height-1-i,o=0;o<this.width;o++){var u=this.datav.getUint16(this.pos,!0);this.pos+=2;var h=(u&t)/t*255|0,f=(u>>5&e)/e*255|0,d=(u>>11)/t*255|0,g=s*this.width*4+4*o;this.data[g]=d,this.data[g+1]=f,this.data[g+2]=h,this.data[g+3]=255}this.pos+=n}},oo.prototype.bit24=function(){for(var n=this.height-1;n>=0;n--){for(var t=this.bottom_up?n:this.height-1-n,e=0;e<this.width;e++){var i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),u=t*this.width*4+4*e;this.data[u]=o,this.data[u+1]=s,this.data[u+2]=i,this.data[u+3]=255}this.pos+=this.width%4}},oo.prototype.bit32=function(){for(var n=this.height-1;n>=0;n--)for(var t=this.bottom_up?n:this.height-1-n,e=0;e<this.width;e++){var i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),u=this.datav.getUint8(this.pos++,!0),h=t*this.width*4+4*e;this.data[h]=o,this.data[h+1]=s,this.data[h+2]=i,this.data[h+3]=u}},oo.prototype.getData=function(){return this.data},(function(n){n.processBMP=function(t,e,i,s){var o=new oo(t,!1),u=o.width,h=o.height,f={data:o.getData(),width:u,height:h},d=new d0(100).encode(f,100);return n.processJPEG.call(this,d,e,i,s)}})(Te.API),S_.prototype.getData=function(){return this.data},(function(n){n.processWEBP=function(t,e,i,s){var o=new S_(t),u=o.width,h=o.height,f={data:o.getData(),width:u,height:h},d=new d0(100).encode(f,100);return n.processJPEG.call(this,d,e,i,s)}})(Te.API),Te.API.processRGBA=function(n,t,e){for(var i=n.data,s=i.length,o=new Uint8Array(s/4*3),u=new Uint8Array(s/4),h=0,f=0,d=0;d<s;d+=4){var g=i[d],w=i[d+1],S=i[d+2],_=i[d+3];o[h++]=g,o[h++]=w,o[h++]=S,u[f++]=_}var N=this.__addimage__.arrayBufferToBinaryString(o);return{alpha:this.__addimage__.arrayBufferToBinaryString(u),data:N,index:t,alias:e,colorSpace:"DeviceRGB",bitsPerComponent:8,width:n.width,height:n.height}},Te.API.setLanguage=function(n){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[n]!==void 0&&(this.internal.languageSettings.languageCode=n,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Yc=Te.API,ip=Yc.getCharWidthsArray=function(n,t){var e,i,s=(t=t||{}).font||this.internal.getFont(),o=t.fontSize||this.internal.getFontSize(),u=t.charSpace||this.internal.getCharSpace(),h=t.widths?t.widths:s.metadata.Unicode.widths,f=h.fof?h.fof:1,d=t.kerning?t.kerning:s.metadata.Unicode.kerning,g=d.fof?d.fof:1,w=t.doKerning!==!1,S=0,_=n.length,N=0,M=h[0]||f,j=[];for(e=0;e<_;e++)i=n.charCodeAt(e),typeof s.metadata.widthOfString=="function"?j.push((s.metadata.widthOfGlyph(s.metadata.characterToGlyph(i))+u*(1e3/o)||0)/1e3):(S=w&&Jn(d[i])==="object"&&!isNaN(parseInt(d[i][N],10))?d[i][N]/g:0,j.push((h[i]||M)/f+S)),N=i;return j},d_=Yc.getStringUnitWidth=function(n,t){var e=(t=t||{}).fontSize||this.internal.getFontSize(),i=t.font||this.internal.getFont(),s=t.charSpace||this.internal.getCharSpace();return Yc.processArabic&&(n=Yc.processArabic(n)),typeof i.metadata.widthOfString=="function"?i.metadata.widthOfString(n,e,s)/e:ip.apply(this,arguments).reduce(function(o,u){return o+u},0)},p_=function(n,t,e,i){for(var s=[],o=0,u=n.length,h=0;o!==u&&h+t[o]<e;)h+=t[o],o++;s.push(n.slice(0,o));var f=o;for(h=0;o!==u;)h+t[o]>i&&(s.push(n.slice(f,o)),h=0,f=o),h+=t[o],o++;return f!==o&&s.push(n.slice(f,o)),s},m_=function(n,t,e){e||(e={});var i,s,o,u,h,f,d,g=[],w=[g],S=e.textIndent||0,_=0,N=0,M=n.split(" "),j=ip.apply(this,[" ",e])[0];if(f=e.lineIndent===-1?M[0].length+2:e.lineIndent||0){var R=Array(f).join(" "),Q=[];M.map(function(nt){(nt=nt.split(/\s*\n/)).length>1?Q=Q.concat(nt.map(function(mt,bt){return(bt&&mt.length?`
`:"")+mt})):Q.push(nt[0])}),M=Q,f=d_.apply(this,[R,e])}for(o=0,u=M.length;o<u;o++){var W=0;if(i=M[o],f&&i[0]==`
`&&(i=i.substr(1),W=1),S+_+(N=(s=ip.apply(this,[i,e])).reduce(function(nt,mt){return nt+mt},0))>t||W){if(N>t){for(h=p_.apply(this,[i,s,t-(S+_),t]),g.push(h.shift()),g=[h.pop()];h.length;)w.push([h.shift()]);N=s.slice(i.length-(g[0]?g[0].length:0)).reduce(function(nt,mt){return nt+mt},0)}else g=[i];w.push(g),S=N+f,_=j}else g.push(i),S+=_+N,_=j}return d=f?function(nt,mt){return(mt?R:"")+nt.join(" ")}:function(nt){return nt.join(" ")},w.map(d)},Yc.splitTextToSize=function(n,t,e){var i,s=(e=e||{}).fontSize||this.internal.getFontSize(),o=(function(g){if(g.widths&&g.kerning)return{widths:g.widths,kerning:g.kerning};var w=this.internal.getFont(g.fontName,g.fontStyle),S="Unicode";return w.metadata[S]?{widths:w.metadata[S].widths||{0:1},kerning:w.metadata[S].kerning||{}}:{font:w.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,e);i=Array.isArray(n)?n:String(n).split(/\r?\n/);var u=1*this.internal.scaleFactor*t/s;o.textIndent=e.textIndent?1*e.textIndent*this.internal.scaleFactor/s:0,o.lineIndent=e.lineIndent;var h,f,d=[];for(h=0,f=i.length;h<f;h++)d=d.concat(m_.apply(this,[i[h],u,o]));return d},(function(n){n.__fontmetrics__=n.__fontmetrics__||{};for(var t="0123456789abcdef",e="klmnopqrstuvwxyz",i={},s={},o=0;o<16;o++)i[e[o]]=t[o],s[t[o]]=e[o];var u=function(S){return"0x"+parseInt(S,10).toString(16)},h=n.__fontmetrics__.compress=function(S){var _,N,M,j,R=["{"];for(var Q in S){if(_=S[Q],isNaN(parseInt(Q,10))?N="'"+Q+"'":(Q=parseInt(Q,10),N=(N=u(Q).slice(2)).slice(0,-1)+s[N.slice(-1)]),typeof _=="number")_<0?(M=u(_).slice(3),j="-"):(M=u(_).slice(2),j=""),M=j+M.slice(0,-1)+s[M.slice(-1)];else{if(Jn(_)!=="object")throw new Error("Don't know what to do with value type "+Jn(_)+".");M=h(_)}R.push(N+M)}return R.push("}"),R.join("")},f=n.__fontmetrics__.uncompress=function(S){if(typeof S!="string")throw new Error("Invalid argument passed to uncompress.");for(var _,N,M,j,R={},Q=1,W=R,nt=[],mt="",bt="",q=S.length-1,V=1;V<q;V+=1)(j=S[V])=="'"?_?(M=_.join(""),_=void 0):_=[]:_?_.push(j):j=="{"?(nt.push([W,M]),W={},M=void 0):j=="}"?((N=nt.pop())[0][N[1]]=W,M=void 0,W=N[0]):j=="-"?Q=-1:M===void 0?i.hasOwnProperty(j)?(mt+=i[j],M=parseInt(mt,16)*Q,Q=1,mt=""):mt+=j:i.hasOwnProperty(j)?(bt+=i[j],W[M]=parseInt(bt,16)*Q,Q=1,M=void 0,bt=""):bt+=j;return R},d={codePages:["WinAnsiEncoding"],WinAnsiEncoding:f("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},g={Unicode:{Courier:d,"Courier-Bold":d,"Courier-BoldOblique":d,"Courier-Oblique":d,Helvetica:d,"Helvetica-Bold":d,"Helvetica-BoldOblique":d,"Helvetica-Oblique":d,"Times-Roman":d,"Times-Bold":d,"Times-BoldItalic":d,"Times-Italic":d}},w={Unicode:{"Courier-Oblique":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":f("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":f("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":f("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:f("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:f("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":f("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:f("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":f("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":f("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":f("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};n.events.push(["addFont",function(S){var _=S.font,N=w.Unicode[_.postScriptName];N&&(_.metadata.Unicode={},_.metadata.Unicode.widths=N.widths,_.metadata.Unicode.kerning=N.kerning);var M=g.Unicode[_.postScriptName];M&&(_.metadata.Unicode.encoding=M,_.encoding=M.codePages[0])}])})(Te.API),(function(n){var t=function(e){for(var i=e.length,s=new Uint8Array(i),o=0;o<i;o++)s[o]=e.charCodeAt(o);return s};n.API.events.push(["addFont",function(e){var i=void 0,s=e.font,o=e.instance;if(!s.isStandardFont){if(o===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");if(typeof(i=o.existsFileInVFS(s.postScriptName)===!1?o.loadFile(s.postScriptName):o.getFileFromVFS(s.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");(function(u,h){h=/^\x00\x01\x00\x00/.test(h)?t(h):t(mp(h)),u.metadata=n.API.TTFFont.open(h),u.metadata.Unicode=u.metadata.Unicode||{encoding:{},kerning:{},widths:[]},u.metadata.glyIdsUsed=[0]})(s,i)}}])})(Te),Te.API.addSvgAsImage=function(n,t,e,i,s,o,u,h){if(isNaN(t)||isNaN(e))throw fr.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(i)||isNaN(s))throw fr.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var f=document.createElement("canvas");f.width=i,f.height=s;var d=f.getContext("2d");d.fillStyle="#fff",d.fillRect(0,0,f.width,f.height);var g={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},w=this;return(tn.canvg?Promise.resolve(tn.canvg):$g(()=>import("./index.es-CFD4NIED.js"),[])).catch(function(S){return Promise.reject(new Error("Could not load canvg: "+S))}).then(function(S){return S.default?S.default:S}).then(function(S){return S.fromString(d,n,g)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(S){return S.render(g)}).then(function(){w.addImage(f.toDataURL("image/jpeg",1),t,e,i,s,u,h)})},Te.API.putTotalPages=function(n){var t,e=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(n,"g"),e=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(n,this.internal.getFont()),"g"),e=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var i=1;i<=this.internal.getNumberOfPages();i++)for(var s=0;s<this.internal.pages[i].length;s++)this.internal.pages[i][s]=this.internal.pages[i][s].replace(t,e);return this},Te.API.viewerPreferences=function(n,t){var e;n=n||{},t=t||!1;var i,s,o,u={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},h=Object.keys(u),f=[],d=0,g=0,w=0;function S(N,M){var j,R=!1;for(j=0;j<N.length;j+=1)N[j]===M&&(R=!0);return R}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(u)),this.internal.viewerpreferences.isSubscribed=!1),e=this.internal.viewerpreferences.configuration,n==="reset"||t===!0){var _=h.length;for(w=0;w<_;w+=1)e[h[w]].value=e[h[w]].defaultValue,e[h[w]].explicitSet=!1}if(Jn(n)==="object"){for(s in n)if(o=n[s],S(h,s)&&o!==void 0){if(e[s].type==="boolean"&&typeof o=="boolean")e[s].value=o;else if(e[s].type==="name"&&S(e[s].valueSet,o))e[s].value=o;else if(e[s].type==="integer"&&Number.isInteger(o))e[s].value=o;else if(e[s].type==="array"){for(d=0;d<o.length;d+=1)if(i=!0,o[d].length===1&&typeof o[d][0]=="number")f.push(String(o[d]-1));else if(o[d].length>1){for(g=0;g<o[d].length;g+=1)typeof o[d][g]!="number"&&(i=!1);i===!0&&f.push([o[d][0]-1,o[d][1]-1].join(" "))}e[s].value="["+f.join(" ")+"]"}else e[s].value=e[s].defaultValue;e[s].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var N,M=[];for(N in e)e[N].explicitSet===!0&&(e[N].type==="name"?M.push("/"+N+" /"+e[N].value):M.push("/"+N+" "+e[N].value));M.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+M.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=e,this},(function(n){var t=function(){var i='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',s=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),o=unescape(encodeURIComponent(i)),u=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),h=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),f=unescape(encodeURIComponent("</x:xmpmeta>")),d=o.length+u.length+h.length+s.length+f.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+d+" >>"),this.internal.write("stream"),this.internal.write(s+o+u+h+f),this.internal.write("endstream"),this.internal.write("endobj")},e=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};n.addMetadata=function(i,s){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:i,namespaceuri:s||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",e),this.internal.events.subscribe("postPutResources",t)),this}})(Te.API),(function(n){var t=n.API,e=t.pdfEscape16=function(o,u){for(var h,f=u.metadata.Unicode.widths,d=["","0","00","000","0000"],g=[""],w=0,S=o.length;w<S;++w){if(h=u.metadata.characterToGlyph(o.charCodeAt(w)),u.metadata.glyIdsUsed.push(h),u.metadata.toUnicode[h]=o.charCodeAt(w),f.indexOf(h)==-1&&(f.push(h),f.push([parseInt(u.metadata.widthOfGlyph(h),10)])),h=="0")return g.join("");h=h.toString(16),g.push(d[4-h.length],h)}return g.join("")},i=function(o){var u,h,f,d,g,w,S;for(g=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,f=[],w=0,S=(h=Object.keys(o).sort(function(_,N){return _-N})).length;w<S;w++)u=h[w],f.length>=100&&(g+=`
`+f.length+` beginbfchar
`+f.join(`
`)+`
endbfchar`,f=[]),o[u]!==void 0&&o[u]!==null&&typeof o[u].toString=="function"&&(d=("0000"+o[u].toString(16)).slice(-4),u=("0000"+(+u).toString(16)).slice(-4),f.push("<"+u+"><"+d+">"));return f.length&&(g+=`
`+f.length+` beginbfchar
`+f.join(`
`)+`
endbfchar
`),g+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(o){(function(u){var h=u.font,f=u.out,d=u.newObject,g=u.putStream;if(h.metadata instanceof n.API.TTFFont&&h.encoding==="Identity-H"){for(var w=h.metadata.Unicode.widths,S=h.metadata.subset.encode(h.metadata.glyIdsUsed,1),_="",N=0;N<S.length;N++)_+=String.fromCharCode(S[N]);var M=d();g({data:_,addLength1:!0,objectId:M}),f("endobj");var j=d();g({data:i(h.metadata.toUnicode),addLength1:!0,objectId:j}),f("endobj");var R=d();f("<<"),f("/Type /FontDescriptor"),f("/FontName /"+Zc(h.fontName)),f("/FontFile2 "+M+" 0 R"),f("/FontBBox "+n.API.PDFObject.convert(h.metadata.bbox)),f("/Flags "+h.metadata.flags),f("/StemV "+h.metadata.stemV),f("/ItalicAngle "+h.metadata.italicAngle),f("/Ascent "+h.metadata.ascender),f("/Descent "+h.metadata.decender),f("/CapHeight "+h.metadata.capHeight),f(">>"),f("endobj");var Q=d();f("<<"),f("/Type /Font"),f("/BaseFont /"+Zc(h.fontName)),f("/FontDescriptor "+R+" 0 R"),f("/W "+n.API.PDFObject.convert(w)),f("/CIDToGIDMap /Identity"),f("/DW 1000"),f("/Subtype /CIDFontType2"),f("/CIDSystemInfo"),f("<<"),f("/Supplement 0"),f("/Registry (Adobe)"),f("/Ordering ("+h.encoding+")"),f(">>"),f(">>"),f("endobj"),h.objectNumber=d(),f("<<"),f("/Type /Font"),f("/Subtype /Type0"),f("/ToUnicode "+j+" 0 R"),f("/BaseFont /"+Zc(h.fontName)),f("/Encoding /"+h.encoding),f("/DescendantFonts ["+Q+" 0 R]"),f(">>"),f("endobj"),h.isAlreadyPutted=!0}})(o)}]),t.events.push(["putFont",function(o){(function(u){var h=u.font,f=u.out,d=u.newObject,g=u.putStream;if(h.metadata instanceof n.API.TTFFont&&h.encoding==="WinAnsiEncoding"){for(var w=h.metadata.rawData,S="",_=0;_<w.length;_++)S+=String.fromCharCode(w[_]);var N=d();g({data:S,addLength1:!0,objectId:N}),f("endobj");var M=d();g({data:i(h.metadata.toUnicode),addLength1:!0,objectId:M}),f("endobj");var j=d();f("<<"),f("/Descent "+h.metadata.decender),f("/CapHeight "+h.metadata.capHeight),f("/StemV "+h.metadata.stemV),f("/Type /FontDescriptor"),f("/FontFile2 "+N+" 0 R"),f("/Flags 96"),f("/FontBBox "+n.API.PDFObject.convert(h.metadata.bbox)),f("/FontName /"+Zc(h.fontName)),f("/ItalicAngle "+h.metadata.italicAngle),f("/Ascent "+h.metadata.ascender),f(">>"),f("endobj"),h.objectNumber=d();for(var R=0;R<h.metadata.hmtx.widths.length;R++)h.metadata.hmtx.widths[R]=parseInt(h.metadata.hmtx.widths[R]*(1e3/h.metadata.head.unitsPerEm));f("<</Subtype/TrueType/Type/Font/ToUnicode "+M+" 0 R/BaseFont/"+Zc(h.fontName)+"/FontDescriptor "+j+" 0 R/Encoding/"+h.encoding+" /FirstChar 29 /LastChar 255 /Widths "+n.API.PDFObject.convert(h.metadata.hmtx.widths)+">>"),f("endobj"),h.isAlreadyPutted=!0}})(o)}]);var s=function(o){var u,h=o.text||"",f=o.x,d=o.y,g=o.options||{},w=o.mutex||{},S=w.pdfEscape,_=w.activeFontKey,N=w.fonts,M=_,j="",R=0,Q="",W=N[M].encoding;if(N[M].encoding!=="Identity-H")return{text:h,x:f,y:d,options:g,mutex:w};for(Q=h,M=_,Array.isArray(h)&&(Q=h[0]),R=0;R<Q.length;R+=1)N[M].metadata.hasOwnProperty("cmap")&&(u=N[M].metadata.cmap.unicode.codeMap[Q[R].charCodeAt(0)]),u||Q[R].charCodeAt(0)<256&&N[M].metadata.hasOwnProperty("Unicode")?j+=Q[R]:j+="";var nt="";return parseInt(M.slice(1))<14||W==="WinAnsiEncoding"?nt=S(j,M).split("").map(function(mt){return mt.charCodeAt(0).toString(16)}).join(""):W==="Identity-H"&&(nt=e(j,N[M])),w.isHex=!0,{text:nt,x:f,y:d,options:g,mutex:w}};t.events.push(["postProcessText",function(o){var u=o.text||"",h=[],f={text:u,x:o.x,y:o.y,options:o.options,mutex:o.mutex};if(Array.isArray(u)){var d=0;for(d=0;d<u.length;d+=1)Array.isArray(u[d])&&u[d].length===3?h.push([s(Object.assign({},f,{text:u[d][0]})).text,u[d][1],u[d][2]]):h.push(s(Object.assign({},f,{text:u[d]})).text);o.text=h}else o.text=s(Object.assign({},f,{text:u})).text}])})(Te),(function(n){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};n.existsFileInVFS=function(e){return t.call(this),this.internal.vFS[e]!==void 0},n.addFileToVFS=function(e,i){return t.call(this),this.internal.vFS[e]=i,this},n.getFileFromVFS=function(e){return t.call(this),this.internal.vFS[e]!==void 0?this.internal.vFS[e]:null}})(Te.API),(function(n){n.__bidiEngine__=n.prototype.__bidiEngine__=function(i){var s,o,u,h,f,d,g,w=t,S=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],_=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],N={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},M={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},j=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],R=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),Q=!1,W=0;this.__bidiEngine__={};var nt=function(T){var P=T.charCodeAt(),F=P>>8,lt=M[F];return lt!==void 0?w[256*lt+(255&P)]:F===252||F===253?"AL":R.test(F)?"L":F===8?"R":"N"},mt=function(T){for(var P,F=0;F<T.length;F++){if((P=nt(T.charAt(F)))==="L")return!1;if(P==="R")return!0}return!1},bt=function(T,P,F,lt){var xt,ot,dt,ft,Nt=P[lt];switch(Nt){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":Q=!1;break;case"N":case"AN":break;case"EN":Q&&(Nt="AN");break;case"AL":Q=!0,Nt="R";break;case"WS":case"BN":Nt="N";break;case"CS":lt<1||lt+1>=P.length||(xt=F[lt-1])!=="EN"&&xt!=="AN"||(ot=P[lt+1])!=="EN"&&ot!=="AN"?Nt="N":Q&&(ot="AN"),Nt=ot===xt?ot:"N";break;case"ES":Nt=(xt=lt>0?F[lt-1]:"B")==="EN"&&lt+1<P.length&&P[lt+1]==="EN"?"EN":"N";break;case"ET":if(lt>0&&F[lt-1]==="EN"){Nt="EN";break}if(Q){Nt="N";break}for(dt=lt+1,ft=P.length;dt<ft&&P[dt]==="ET";)dt++;Nt=dt<ft&&P[dt]==="EN"?"EN":"N";break;case"NSM":if(u&&!h){for(ft=P.length,dt=lt+1;dt<ft&&P[dt]==="NSM";)dt++;if(dt<ft){var Wt=T[lt],$=Wt>=1425&&Wt<=2303||Wt===64286;if(xt=P[dt],$&&(xt==="R"||xt==="AL")){Nt="R";break}}}Nt=lt<1||(xt=P[lt-1])==="B"?"N":F[lt-1];break;case"B":Q=!1,s=!0,Nt=W;break;case"S":o=!0,Nt="N"}return Nt},q=function(T,P,F){var lt=T.split("");return F&&V(lt,F,{hiLevel:W}),lt.reverse(),P&&P.reverse(),lt.join("")},V=function(T,P,F){var lt,xt,ot,dt,ft,Nt=-1,Wt=T.length,$=0,O=[],K=W?_:S,tt=[];for(Q=!1,s=!1,o=!1,xt=0;xt<Wt;xt++)tt[xt]=nt(T[xt]);for(ot=0;ot<Wt;ot++){if(ft=$,O[ot]=bt(T,tt,O,ot),lt=240&($=K[ft][N[O[ot]]]),$&=15,P[ot]=dt=K[$][5],lt>0)if(lt===16){for(xt=Nt;xt<ot;xt++)P[xt]=1;Nt=-1}else Nt=-1;if(K[$][6])Nt===-1&&(Nt=ot);else if(Nt>-1){for(xt=Nt;xt<ot;xt++)P[xt]=dt;Nt=-1}tt[ot]==="B"&&(P[ot]=0),F.hiLevel|=dt}o&&(function(st,ut,yt){for(var It=0;It<yt;It++)if(st[It]==="S"){ut[It]=W;for(var Rt=It-1;Rt>=0&&st[Rt]==="WS";Rt--)ut[Rt]=W}})(tt,P,Wt)},D=function(T,P,F,lt,xt){if(!(xt.hiLevel<T)){if(T===1&&W===1&&!s)return P.reverse(),void(F&&F.reverse());for(var ot,dt,ft,Nt,Wt=P.length,$=0;$<Wt;){if(lt[$]>=T){for(ft=$+1;ft<Wt&&lt[ft]>=T;)ft++;for(Nt=$,dt=ft-1;Nt<dt;Nt++,dt--)ot=P[Nt],P[Nt]=P[dt],P[dt]=ot,F&&(ot=F[Nt],F[Nt]=F[dt],F[dt]=ot);$=ft}$++}}},H=function(T,P,F){var lt=T.split(""),xt={hiLevel:W};return F||(F=[]),V(lt,F,xt),(function(ot,dt,ft){if(ft.hiLevel!==0&&g)for(var Nt,Wt=0;Wt<ot.length;Wt++)dt[Wt]===1&&(Nt=j.indexOf(ot[Wt]))>=0&&(ot[Wt]=j[Nt+1])})(lt,F,xt),D(2,lt,P,F,xt),D(1,lt,P,F,xt),lt.join("")};return this.__bidiEngine__.doBidiReorder=function(T,P,F){if((function(xt,ot){if(ot)for(var dt=0;dt<xt.length;dt++)ot[dt]=dt;h===void 0&&(h=mt(xt)),d===void 0&&(d=mt(xt))})(T,P),u||!f||d)if(u&&f&&h^d)W=h?1:0,T=q(T,P,F);else if(!u&&f&&d)W=h?1:0,T=H(T,P,F),T=q(T,P);else if(!u||h||f||d){if(u&&!f&&h^d)T=q(T,P),h?(W=0,T=H(T,P,F)):(W=1,T=H(T,P,F),T=q(T,P));else if(u&&h&&!f&&d)W=1,T=H(T,P,F),T=q(T,P);else if(!u&&!f&&h^d){var lt=g;h?(W=1,T=H(T,P,F),W=0,g=!1,T=H(T,P,F),g=lt):(W=0,T=H(T,P,F),T=q(T,P),W=1,g=!1,T=H(T,P,F),g=lt,T=q(T,P))}}else W=0,T=H(T,P,F);else W=h?1:0,T=H(T,P,F);return T},this.__bidiEngine__.setOptions=function(T){T&&(u=T.isInputVisual,f=T.isOutputVisual,h=T.isInputRtl,d=T.isOutputRtl,g=T.isSymmetricSwapping)},this.__bidiEngine__.setOptions(i),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],e=new n.__bidiEngine__({isInputVisual:!0});n.API.events.push(["postProcessText",function(i){var s=i.text;i.x,i.y;var o=i.options||{};i.mutex,o.lang;var u=[];if(o.isInputVisual=typeof o.isInputVisual!="boolean"||o.isInputVisual,e.setOptions(o),Object.prototype.toString.call(s)==="[object Array]"){var h=0;for(u=[],h=0;h<s.length;h+=1)Object.prototype.toString.call(s[h])==="[object Array]"?u.push([e.doBidiReorder(s[h][0]),s[h][1],s[h][2]]):u.push([e.doBidiReorder(s[h])]);i.text=u}else i.text=e.doBidiReorder(s);e.setOptions({isInputVisual:!0})}])})(Te),Te.API.TTFFont=(function(){function n(t){var e;if(this.rawData=t,e=this.contents=new Au(t),this.contents.pos=4,e.readString(4)==="ttcf")throw new Error("TTCF not supported.");e.pos=0,this.parse(),this.subset=new wI(this),this.registerTTF()}return n.open=function(t){return new n(t)},n.prototype.parse=function(){return this.directory=new oI(this.contents),this.head=new uI(this),this.name=new pI(this),this.cmap=new Q4(this),this.toUnicode={},this.hhea=new cI(this),this.maxp=new mI(this),this.hmtx=new gI(this),this.post=new fI(this),this.os2=new hI(this),this.loca=new _I(this),this.glyf=new yI(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},n.prototype.registerTTF=function(){var t,e,i,s,o;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var u,h,f,d;for(d=[],u=0,h=(f=this.bbox).length;u<h;u++)t=f[u],d.push(Math.round(t*this.scaleFactor));return d}).call(this),this.stemV=0,this.post.exists?(i=255&(s=this.post.italic_angle),32768&(e=s>>16)&&(e=-(1+(65535^e))),this.italicAngle=+(e+"."+i)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(o=this.familyClass)===1||o===2||o===3||o===4||o===5||o===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},n.prototype.characterToGlyph=function(t){var e;return((e=this.cmap.unicode)!=null?e.codeMap[t]:void 0)||0},n.prototype.widthOfGlyph=function(t){var e;return e=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*e},n.prototype.widthOfString=function(t,e,i){var s,o,u,h;for(u=0,o=0,h=(t=""+t).length;0<=h?o<h:o>h;o=0<=h?++o:--o)s=t.charCodeAt(o),u+=this.widthOfGlyph(this.characterToGlyph(s))+i*(1e3/e)||0;return u*(e/1e3)},n.prototype.lineHeight=function(t,e){var i;return e==null&&(e=!1),i=e?this.lineGap:0,(this.ascender+i-this.decender)/1e3*t},n})();var po,Au=(function(){function n(t){this.data=t??[],this.pos=0,this.length=this.data.length}return n.prototype.readByte=function(){return this.data[this.pos++]},n.prototype.writeByte=function(t){return this.data[this.pos++]=t},n.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},n.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},n.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},n.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},n.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},n.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},n.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},n.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},n.prototype.readString=function(t){var e,i;for(i=[],e=0;0<=t?e<t:e>t;e=0<=t?++e:--e)i[e]=String.fromCharCode(this.readByte());return i.join("")},n.prototype.writeString=function(t){var e,i,s;for(s=[],e=0,i=t.length;0<=i?e<i:e>i;e=0<=i?++e:--e)s.push(this.writeByte(t.charCodeAt(e)));return s},n.prototype.readShort=function(){return this.readInt16()},n.prototype.writeShort=function(t){return this.writeInt16(t)},n.prototype.readLongLong=function(){var t,e,i,s,o,u,h,f;return t=this.readByte(),e=this.readByte(),i=this.readByte(),s=this.readByte(),o=this.readByte(),u=this.readByte(),h=this.readByte(),f=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^e)+1099511627776*(255^i)+4294967296*(255^s)+16777216*(255^o)+65536*(255^u)+256*(255^h)+(255^f)+1):72057594037927940*t+281474976710656*e+1099511627776*i+4294967296*s+16777216*o+65536*u+256*h+f},n.prototype.writeLongLong=function(t){var e,i;return e=Math.floor(t/4294967296),i=4294967295&t,this.writeByte(e>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e),this.writeByte(i>>24&255),this.writeByte(i>>16&255),this.writeByte(i>>8&255),this.writeByte(255&i)},n.prototype.readInt=function(){return this.readInt32()},n.prototype.writeInt=function(t){return this.writeInt32(t)},n.prototype.read=function(t){var e,i;for(e=[],i=0;0<=t?i<t:i>t;i=0<=t?++i:--i)e.push(this.readByte());return e},n.prototype.write=function(t){var e,i,s,o;for(o=[],i=0,s=t.length;i<s;i++)e=t[i],o.push(this.writeByte(e));return o},n})(),oI=(function(){var n;function t(e){var i,s,o;for(this.scalarType=e.readInt(),this.tableCount=e.readShort(),this.searchRange=e.readShort(),this.entrySelector=e.readShort(),this.rangeShift=e.readShort(),this.tables={},s=0,o=this.tableCount;0<=o?s<o:s>o;s=0<=o?++s:--s)i={tag:e.readString(4),checksum:e.readInt(),offset:e.readInt(),length:e.readInt()},this.tables[i.tag]=i}return t.prototype.encode=function(e){var i,s,o,u,h,f,d,g,w,S,_,N,M;for(M in _=Object.keys(e).length,f=Math.log(2),w=16*Math.floor(Math.log(_)/f),u=Math.floor(w/f),g=16*_-w,(s=new Au).writeInt(this.scalarType),s.writeShort(_),s.writeShort(w),s.writeShort(u),s.writeShort(g),o=16*_,d=s.pos+o,h=null,N=[],e)for(S=e[M],s.writeString(M),s.writeInt(n(S)),s.writeInt(d),s.writeInt(S.length),N=N.concat(S),M==="head"&&(h=d),d+=S.length;d%4;)N.push(0),d++;return s.write(N),i=2981146554-n(s.data),s.pos=h+8,s.writeUInt32(i),s.data},n=function(e){var i,s,o,u;for(e=X4.call(e);e.length%4;)e.push(0);for(o=new Au(e),s=0,i=0,u=e.length;i<u;i=i+=4)s+=o.readUInt32();return 4294967295&s},t})(),lI={}.hasOwnProperty,Yo=function(n,t){for(var e in t)lI.call(t,e)&&(n[e]=t[e]);function i(){this.constructor=n}return i.prototype=t.prototype,n.prototype=new i,n.__super__=t.prototype,n};po=(function(){function n(t){var e;this.file=t,e=this.file.directory.tables[this.tag],this.exists=!!e,e&&(this.offset=e.offset,this.length=e.length,this.parse(this.file.contents))}return n.prototype.parse=function(){},n.prototype.encode=function(){},n.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},n})();var uI=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Yo(n,po),n.prototype.tag="head",n.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},n.prototype.encode=function(t){var e;return(e=new Au).writeInt(this.version),e.writeInt(this.revision),e.writeInt(this.checkSumAdjustment),e.writeInt(this.magicNumber),e.writeShort(this.flags),e.writeShort(this.unitsPerEm),e.writeLongLong(this.created),e.writeLongLong(this.modified),e.writeShort(this.xMin),e.writeShort(this.yMin),e.writeShort(this.xMax),e.writeShort(this.yMax),e.writeShort(this.macStyle),e.writeShort(this.lowestRecPPEM),e.writeShort(this.fontDirectionHint),e.writeShort(t),e.writeShort(this.glyphDataFormat),e.data},n})(),A_=(function(){function n(t,e){var i,s,o,u,h,f,d,g,w,S,_,N,M,j,R,Q,W;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=e+t.readInt(),w=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(f=0;f<256;++f)this.codeMap[f]=t.readByte();break;case 4:for(_=t.readUInt16(),S=_/2,t.pos+=6,o=(function(){var nt,mt;for(mt=[],f=nt=0;0<=S?nt<S:nt>S;f=0<=S?++nt:--nt)mt.push(t.readUInt16());return mt})(),t.pos+=2,M=(function(){var nt,mt;for(mt=[],f=nt=0;0<=S?nt<S:nt>S;f=0<=S?++nt:--nt)mt.push(t.readUInt16());return mt})(),d=(function(){var nt,mt;for(mt=[],f=nt=0;0<=S?nt<S:nt>S;f=0<=S?++nt:--nt)mt.push(t.readUInt16());return mt})(),g=(function(){var nt,mt;for(mt=[],f=nt=0;0<=S?nt<S:nt>S;f=0<=S?++nt:--nt)mt.push(t.readUInt16());return mt})(),s=(this.length-t.pos+this.offset)/2,h=(function(){var nt,mt;for(mt=[],f=nt=0;0<=s?nt<s:nt>s;f=0<=s?++nt:--nt)mt.push(t.readUInt16());return mt})(),f=R=0,W=o.length;R<W;f=++R)for(j=o[f],i=Q=N=M[f];N<=j?Q<=j:Q>=j;i=N<=j?++Q:--Q)g[f]===0?u=i+d[f]:(u=h[g[f]/2+(i-N)-(S-f)]||0)!==0&&(u+=d[f]),this.codeMap[i]=65535&u}t.pos=w}return n.encode=function(t,e){var i,s,o,u,h,f,d,g,w,S,_,N,M,j,R,Q,W,nt,mt,bt,q,V,D,H,T,P,F,lt,xt,ot,dt,ft,Nt,Wt,$,O,K,tt,st,ut,yt,It,Rt,zt,Et,jt;switch(lt=new Au,u=Object.keys(t).sort(function(qt,Mt){return qt-Mt}),e){case"macroman":for(M=0,j=(function(){var qt=[];for(N=0;N<256;++N)qt.push(0);return qt})(),Q={0:0},o={},xt=0,Nt=u.length;xt<Nt;xt++)Q[Rt=t[s=u[xt]]]==null&&(Q[Rt]=++M),o[s]={old:t[s],new:Q[t[s]]},j[s]=Q[t[s]];return lt.writeUInt16(1),lt.writeUInt16(0),lt.writeUInt32(12),lt.writeUInt16(0),lt.writeUInt16(262),lt.writeUInt16(0),lt.write(j),{charMap:o,subtable:lt.data,maxGlyphID:M+1};case"unicode":for(P=[],w=[],W=0,Q={},i={},R=d=null,ot=0,Wt=u.length;ot<Wt;ot++)Q[mt=t[s=u[ot]]]==null&&(Q[mt]=++W),i[s]={old:mt,new:Q[mt]},h=Q[mt]-s,R!=null&&h===d||(R&&w.push(R),P.push(s),d=h),R=s;for(R&&w.push(R),w.push(65535),P.push(65535),H=2*(D=P.length),V=2*Math.pow(Math.log(D)/Math.LN2,2),S=Math.log(V/2)/Math.LN2,q=2*D-V,f=[],bt=[],_=[],N=dt=0,$=P.length;dt<$;N=++dt){if(T=P[N],g=w[N],T===65535){f.push(0),bt.push(0);break}if(T-(F=i[T].new)>=32768)for(f.push(0),bt.push(2*(_.length+D-N)),s=ft=T;T<=g?ft<=g:ft>=g;s=T<=g?++ft:--ft)_.push(i[s].new);else f.push(F-T),bt.push(0)}for(lt.writeUInt16(3),lt.writeUInt16(1),lt.writeUInt32(12),lt.writeUInt16(4),lt.writeUInt16(16+8*D+2*_.length),lt.writeUInt16(0),lt.writeUInt16(H),lt.writeUInt16(V),lt.writeUInt16(S),lt.writeUInt16(q),yt=0,O=w.length;yt<O;yt++)s=w[yt],lt.writeUInt16(s);for(lt.writeUInt16(0),It=0,K=P.length;It<K;It++)s=P[It],lt.writeUInt16(s);for(zt=0,tt=f.length;zt<tt;zt++)h=f[zt],lt.writeUInt16(h);for(Et=0,st=bt.length;Et<st;Et++)nt=bt[Et],lt.writeUInt16(nt);for(jt=0,ut=_.length;jt<ut;jt++)M=_[jt],lt.writeUInt16(M);return{charMap:i,subtable:lt.data,maxGlyphID:W+1}}},n})(),Q4=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Yo(n,po),n.prototype.tag="cmap",n.prototype.parse=function(t){var e,i,s;for(t.pos=this.offset,this.version=t.readUInt16(),s=t.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=s?i<s:i>s;i=0<=s?++i:--i)e=new A_(t,this.offset),this.tables.push(e),e.isUnicode&&this.unicode==null&&(this.unicode=e);return!0},n.encode=function(t,e){var i,s;return e==null&&(e="macroman"),i=A_.encode(t,e),(s=new Au).writeUInt16(0),s.writeUInt16(1),i.table=s.data.concat(i.subtable),i},n})(),cI=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Yo(n,po),n.prototype.tag="hhea",n.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},n})(),hI=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Yo(n,po),n.prototype.tag="OS/2",n.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=(function(){var e,i;for(i=[],e=0;e<10;++e)i.push(t.readByte());return i})(),this.charRange=(function(){var e,i;for(i=[],e=0;e<4;++e)i.push(t.readInt());return i})(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=(function(){var e,i;for(i=[],e=0;e<2;e=++e)i.push(t.readInt());return i})(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},n})(),fI=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Yo(n,po),n.prototype.tag="post",n.prototype.parse=function(t){var e,i,s;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:case 196608:break;case 131072:var o;for(i=t.readUInt16(),this.glyphNameIndex=[],o=0;0<=i?o<i:o>i;o=0<=i?++o:--o)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],s=[];t.pos<this.offset+this.length;)e=t.readByte(),s.push(this.names.push(t.readString(e)));return s;case 151552:return i=t.readUInt16(),this.offsets=t.read(i);case 262144:return this.map=(function(){var u,h,f;for(f=[],o=u=0,h=this.file.maxp.numGlyphs;0<=h?u<h:u>h;o=0<=h?++u:--u)f.push(t.readUInt32());return f}).call(this)}},n})(),dI=function(n,t){this.raw=n,this.length=n.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},pI=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Yo(n,po),n.prototype.tag="name",n.prototype.parse=function(t){var e,i,s,o,u,h,f,d,g,w,S;for(t.pos=this.offset,t.readShort(),e=t.readShort(),h=t.readShort(),i=[],o=0;0<=e?o<e:o>e;o=0<=e?++o:--o)i.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+h+t.readShort()});for(f={},o=g=0,w=i.length;g<w;o=++g)s=i[o],t.pos=s.offset,d=t.readString(s.length),u=new dI(d,s),f[S=s.nameID]==null&&(f[S]=[]),f[s.nameID].push(u);this.strings=f,this.copyright=f[0],this.fontFamily=f[1],this.fontSubfamily=f[2],this.uniqueSubfamily=f[3],this.fontName=f[4],this.version=f[5];try{this.postscriptName=f[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=f[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=f[7],this.manufacturer=f[8],this.designer=f[9],this.description=f[10],this.vendorUrl=f[11],this.designerUrl=f[12],this.license=f[13],this.licenseUrl=f[14],this.preferredFamily=f[15],this.preferredSubfamily=f[17],this.compatibleFull=f[18],this.sampleText=f[19]},n})(),mI=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Yo(n,po),n.prototype.tag="maxp",n.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},n})(),gI=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Yo(n,po),n.prototype.tag="hmtx",n.prototype.parse=function(t){var e,i,s,o,u,h,f;for(t.pos=this.offset,this.metrics=[],e=0,h=this.file.hhea.numberOfMetrics;0<=h?e<h:e>h;e=0<=h?++e:--e)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var d,g;for(g=[],e=d=0;0<=s?d<s:d>s;e=0<=s?++d:--d)g.push(t.readInt16());return g})(),this.widths=(function(){var d,g,w,S;for(S=[],d=0,g=(w=this.metrics).length;d<g;d++)o=w[d],S.push(o.advance);return S}).call(this),i=this.widths[this.widths.length-1],f=[],e=u=0;0<=s?u<s:u>s;e=0<=s?++u:--u)f.push(this.widths.push(i));return f},n.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},n})(),X4=[].slice,yI=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Yo(n,po),n.prototype.tag="glyf",n.prototype.parse=function(){return this.cache={}},n.prototype.glyphFor=function(t){var e,i,s,o,u,h,f,d,g,w;return t in this.cache?this.cache[t]:(o=this.file.loca,e=this.file.contents,i=o.indexOf(t),(s=o.lengthOf(t))===0?this.cache[t]=null:(e.pos=this.offset+i,u=(h=new Au(e.read(s))).readShort(),d=h.readShort(),w=h.readShort(),f=h.readShort(),g=h.readShort(),this.cache[t]=u===-1?new bI(h,d,w,f,g):new vI(h,u,d,w,f,g),this.cache[t]))},n.prototype.encode=function(t,e,i){var s,o,u,h,f;for(u=[],o=[],h=0,f=e.length;h<f;h++)s=t[e[h]],o.push(u.length),s&&(u=u.concat(s.encode(i)));return o.push(u.length),{table:u,offsets:o}},n})(),vI=(function(){function n(t,e,i,s,o,u){this.raw=t,this.numberOfContours=e,this.xMin=i,this.yMin=s,this.xMax=o,this.yMax=u,this.compound=!1}return n.prototype.encode=function(){return this.raw.data},n})(),bI=(function(){function n(t,e,i,s,o){var u,h;for(this.raw=t,this.xMin=e,this.yMin=i,this.xMax=s,this.yMax=o,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],u=this.raw;h=u.readShort(),this.glyphOffsets.push(u.pos),this.glyphIDs.push(u.readUInt16()),32&h;)u.pos+=1&h?4:2,128&h?u.pos+=8:64&h?u.pos+=4:8&h&&(u.pos+=2)}return n.prototype.encode=function(){var t,e,i;for(e=new Au(X4.call(this.raw.data)),t=0,i=this.glyphIDs.length;t<i;++t)e.pos=this.glyphOffsets[t];return e.data},n})(),_I=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Yo(n,po),n.prototype.tag="loca",n.prototype.parse=function(t){var e,i;return t.pos=this.offset,e=this.file.head.indexToLocFormat,this.offsets=e===0?(function(){var s,o;for(o=[],i=0,s=this.length;i<s;i+=2)o.push(2*t.readUInt16());return o}).call(this):(function(){var s,o;for(o=[],i=0,s=this.length;i<s;i+=4)o.push(t.readUInt32());return o}).call(this)},n.prototype.indexOf=function(t){return this.offsets[t]},n.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},n.prototype.encode=function(t,e){for(var i=new Uint32Array(this.offsets.length),s=0,o=0,u=0;u<i.length;++u)if(i[u]=s,o<e.length&&e[o]==u){++o,i[u]=s;var h=this.offsets[u],f=this.offsets[u+1]-h;f>0&&(s+=f)}for(var d=new Array(4*i.length),g=0;g<i.length;++g)d[4*g+3]=255&i[g],d[4*g+2]=(65280&i[g])>>8,d[4*g+1]=(16711680&i[g])>>16,d[4*g]=(4278190080&i[g])>>24;return d},n})(),wI=(function(){function n(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return n.prototype.generateCmap=function(){var t,e,i,s,o;for(e in s=this.font.cmap.tables[0].codeMap,t={},o=this.subset)i=o[e],t[e]=s[i];return t},n.prototype.glyphsFor=function(t){var e,i,s,o,u,h,f;for(s={},u=0,h=t.length;u<h;u++)s[o=t[u]]=this.font.glyf.glyphFor(o);for(o in e=[],s)(i=s[o])!=null&&i.compound&&e.push.apply(e,i.glyphIDs);if(e.length>0)for(o in f=this.glyphsFor(e))i=f[o],s[o]=i;return s},n.prototype.encode=function(t,e){var i,s,o,u,h,f,d,g,w,S,_,N,M,j,R;for(s in i=Q4.encode(this.generateCmap(),"unicode"),u=this.glyphsFor(t),_={0:0},R=i.charMap)_[(f=R[s]).old]=f.new;for(N in S=i.maxGlyphID,u)N in _||(_[N]=S++);return g=(function(Q){var W,nt;for(W in nt={},Q)nt[Q[W]]=W;return nt})(_),w=Object.keys(g).sort(function(Q,W){return Q-W}),M=(function(){var Q,W,nt;for(nt=[],Q=0,W=w.length;Q<W;Q++)h=w[Q],nt.push(g[h]);return nt})(),o=this.font.glyf.encode(u,M,_),d=this.font.loca.encode(o.offsets,M),j={cmap:this.font.cmap.raw(),glyf:o.table,loca:d,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(e)},this.font.os2.exists&&(j["OS/2"]=this.font.os2.raw()),this.font.directory.encode(j)},n})();Te.API.PDFObject=(function(){var n;function t(){}return n=function(e,i){return(Array(i+1).join("0")+e).slice(-i)},t.convert=function(e){var i,s,o,u;if(Array.isArray(e))return"["+(function(){var h,f,d;for(d=[],h=0,f=e.length;h<f;h++)i=e[h],d.push(t.convert(i));return d})().join(" ")+"]";if(typeof e=="string")return"/"+e;if(e?.isString)return"("+e+")";if(e instanceof Date)return"(D:"+n(e.getUTCFullYear(),4)+n(e.getUTCMonth(),2)+n(e.getUTCDate(),2)+n(e.getUTCHours(),2)+n(e.getUTCMinutes(),2)+n(e.getUTCSeconds(),2)+"Z)";if({}.toString.call(e)==="[object Object]"){for(s in o=["<<"],e)u=e[s],o.push("/"+s+" "+t.convert(u));return o.push(">>"),o.join(`
`)}return""+e},t})();function J4(n,t,e,i,s){i=i||{};var o=1.15,u=s.internal.scaleFactor,h=s.internal.getFontSize()/u,f=s.getLineHeightFactor?s.getLineHeightFactor():o,d=h*f,g=/\r\n|\r|\n/g,w="",S=1;if((i.valign==="middle"||i.valign==="bottom"||i.halign==="center"||i.halign==="right")&&(w=typeof n=="string"?n.split(g):n,S=w.length||1),e+=h*(2-o),i.valign==="middle"?e-=S/2*d:i.valign==="bottom"&&(e-=S*d),i.halign==="center"||i.halign==="right"){var _=h;if(i.halign==="center"&&(_*=.5),w&&S>=1){for(var N=0;N<w.length;N++)s.text(w[N],t-s.getStringUnitWidth(w[N])*_,e),e+=d;return s}t-=s.getStringUnitWidth(n)*_}return i.halign==="justify"?s.text(n,t,e,{maxWidth:i.maxWidth||100,align:"justify"}):s.text(n,t,e),s}var E_={},lh=(function(){function n(t){this.jsPDFDocument=t,this.userStyles={textColor:t.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:t.internal.getFontSize(),fontStyle:t.internal.getFont().fontStyle,font:t.internal.getFont().fontName,lineWidth:t.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:t.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return n.setDefaults=function(t,e){e===void 0&&(e=null),e?e.__autoTableDocumentDefaults=t:E_=t},n.unifyColor=function(t){return Array.isArray(t)?t:typeof t=="number"?[t,t,t]:typeof t=="string"?[t]:null},n.prototype.applyStyles=function(t,e){var i,s,o;e===void 0&&(e=!1),t.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(t.fontStyle);var u=this.jsPDFDocument.internal.getFont(),h=u.fontStyle,f=u.fontName;if(t.font&&(f=t.font),t.fontStyle){h=t.fontStyle;var d=this.getFontList()[f];d&&d.indexOf(h)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(d[0]),h=d[0])}if(this.jsPDFDocument.setFont(f,h),t.fontSize&&this.jsPDFDocument.setFontSize(t.fontSize),!e){var g=n.unifyColor(t.fillColor);g&&(i=this.jsPDFDocument).setFillColor.apply(i,g),g=n.unifyColor(t.textColor),g&&(s=this.jsPDFDocument).setTextColor.apply(s,g),g=n.unifyColor(t.lineColor),g&&(o=this.jsPDFDocument).setDrawColor.apply(o,g),typeof t.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(t.lineWidth)}},n.prototype.splitTextToSize=function(t,e,i){return this.jsPDFDocument.splitTextToSize(t,e,i)},n.prototype.rect=function(t,e,i,s,o){return this.jsPDFDocument.rect(t,e,i,s,o)},n.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},n.prototype.getTextWidth=function(t){return this.jsPDFDocument.getTextWidth(t)},n.prototype.getDocument=function(){return this.jsPDFDocument},n.prototype.setPage=function(t){this.jsPDFDocument.setPage(t)},n.prototype.addPage=function(){return this.jsPDFDocument.addPage()},n.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},n.prototype.getGlobalOptions=function(){return E_||{}},n.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},n.prototype.pageSize=function(){var t=this.jsPDFDocument.internal.pageSize;return t.width==null&&(t={width:t.getWidth(),height:t.getHeight()}),t},n.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},n.prototype.getLineHeightFactor=function(){var t=this.jsPDFDocument;return t.getLineHeightFactor?t.getLineHeightFactor():1.15},n.prototype.getLineHeight=function(t){return t/this.scaleFactor()*this.getLineHeightFactor()},n.prototype.pageNumber=function(){var t=this.jsPDFDocument.internal.getCurrentPageInfo();return t?t.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},n})(),e1=function(n,t){return e1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(e[s]=i[s])},e1(n,t)};function Z4(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e1(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}var tx=(function(n){Z4(t,n);function t(e){var i=n.call(this)||this;return i._element=e,i}return t})(Array);function xI(n){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/n,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function SI(n){var t={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return t[n]}function Up(n,t,e){e.applyStyles(t,!0);var i=Array.isArray(n)?n:[n],s=i.map(function(o){return e.getTextWidth(o)}).reduce(function(o,u){return Math.max(o,u)},0);return s}function ex(n,t,e,i){var s=t.settings.tableLineWidth,o=t.settings.tableLineColor;n.applyStyles({lineWidth:s,lineColor:o});var u=nx(s,!1);u&&n.rect(e.x,e.y,t.getWidth(n.pageSize().width),i.y-e.y,u)}function nx(n,t){var e=n>0,i=t||t===0;return e&&i?"DF":e?"S":i?"F":null}function dm(n,t){var e,i,s,o;if(n=n||t,Array.isArray(n)){if(n.length>=4)return{top:n[0],right:n[1],bottom:n[2],left:n[3]};if(n.length===3)return{top:n[0],right:n[1],bottom:n[2],left:n[1]};if(n.length===2)return{top:n[0],right:n[1],bottom:n[0],left:n[1]};n.length===1?n=n[0]:n=t}return typeof n=="object"?(typeof n.vertical=="number"&&(n.top=n.vertical,n.bottom=n.vertical),typeof n.horizontal=="number"&&(n.right=n.horizontal,n.left=n.horizontal),{left:(e=n.left)!==null&&e!==void 0?e:t,top:(i=n.top)!==null&&i!==void 0?i:t,right:(s=n.right)!==null&&s!==void 0?s:t,bottom:(o=n.bottom)!==null&&o!==void 0?o:t}):(typeof n!="number"&&(n=t),{top:n,right:n,bottom:n,left:n})}function rx(n,t){var e=dm(t.settings.margin,0);return n.pageSize().width-(e.left+e.right)}function AI(n,t,e,i,s){var o={},u=1.3333333333333333,h=p0(t,function(W){return s.getComputedStyle(W).backgroundColor});h!=null&&(o.fillColor=h);var f=p0(t,function(W){return s.getComputedStyle(W).color});f!=null&&(o.textColor=f);var d=TI(i,e);d&&(o.cellPadding=d);var g="borderTopColor",w=u*e,S=i.borderTopWidth;if(i.borderBottomWidth===S&&i.borderRightWidth===S&&i.borderLeftWidth===S){var _=(parseFloat(S)||0)/w;_&&(o.lineWidth=_)}else o.lineWidth={top:(parseFloat(i.borderTopWidth)||0)/w,right:(parseFloat(i.borderRightWidth)||0)/w,bottom:(parseFloat(i.borderBottomWidth)||0)/w,left:(parseFloat(i.borderLeftWidth)||0)/w},o.lineWidth.top||(o.lineWidth.right?g="borderRightColor":o.lineWidth.bottom?g="borderBottomColor":o.lineWidth.left&&(g="borderLeftColor"));var N=p0(t,function(W){return s.getComputedStyle(W)[g]});N!=null&&(o.lineColor=N);var M=["left","right","center","justify"];M.indexOf(i.textAlign)!==-1&&(o.halign=i.textAlign),M=["middle","bottom","top"],M.indexOf(i.verticalAlign)!==-1&&(o.valign=i.verticalAlign);var j=parseInt(i.fontSize||"");isNaN(j)||(o.fontSize=j/u);var R=EI(i);R&&(o.fontStyle=R);var Q=(i.fontFamily||"").toLowerCase();return n.indexOf(Q)!==-1&&(o.font=Q),o}function EI(n){var t="";return(n.fontWeight==="bold"||n.fontWeight==="bolder"||parseInt(n.fontWeight)>=700)&&(t="bold"),(n.fontStyle==="italic"||n.fontStyle==="oblique")&&(t+="italic"),t}function p0(n,t){var e=ix(n,t);if(!e)return null;var i=e.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!i||!Array.isArray(i))return null;var s=[parseInt(i[1]),parseInt(i[2]),parseInt(i[3])],o=parseInt(i[4]);return o===0||isNaN(s[0])||isNaN(s[1])||isNaN(s[2])?null:s}function ix(n,t){var e=t(n);return e==="rgba(0, 0, 0, 0)"||e==="transparent"||e==="initial"||e==="inherit"?n.parentElement==null?null:ix(n.parentElement,t):e}function TI(n,t){var e=[n.paddingTop,n.paddingRight,n.paddingBottom,n.paddingLeft],i=96/(72/t),s=(parseInt(n.lineHeight)-parseInt(n.fontSize))/t/2,o=e.map(function(h){return parseInt(h||"0")/i}),u=dm(o,0);return s>u.top&&(u.top=s),s>u.bottom&&(u.bottom=s),u}function ax(n,t,e,i,s){var o,u;i===void 0&&(i=!1),s===void 0&&(s=!1);var h;typeof t=="string"?h=e.document.querySelector(t):h=t;var f=Object.keys(n.getFontList()),d=n.scaleFactor(),g=[],w=[],S=[];if(!h)return console.error("Html table could not be found with input: ",t),{head:g,body:w,foot:S};for(var _=0;_<h.rows.length;_++){var N=h.rows[_],M=(u=(o=N?.parentElement)===null||o===void 0?void 0:o.tagName)===null||u===void 0?void 0:u.toLowerCase(),j=NI(f,d,e,N,i,s);j&&(M==="thead"?g.push(j):M==="tfoot"?S.push(j):w.push(j))}return{head:g,body:w,foot:S}}function NI(n,t,e,i,s,o){for(var u=new tx(i),h=0;h<i.cells.length;h++){var f=i.cells[h],d=e.getComputedStyle(f);if(s||d.display!=="none"){var g=void 0;o&&(g=AI(n,f,t,d,e)),u.push({rowSpan:f.rowSpan,colSpan:f.colSpan,styles:g,_element:f,content:CI(f)})}}var w=e.getComputedStyle(i);if(u.length>0&&(s||w.display!=="none"))return u}function CI(n){var t=n.cloneNode(!0);return t.innerHTML=t.innerHTML.replace(/\n/g,"").replace(/ +/g," "),t.innerHTML=t.innerHTML.split(/<br.*?>/).map(function(e){return e.trim()}).join(`
`),t.innerText||t.textContent||""}function RI(n,t,e){for(var i=0,s=[n,t,e];i<s.length;i++){var o=s[i];o&&typeof o!="object"&&console.error("The options parameter should be of type object, is: "+typeof o),o.startY&&typeof o.startY!="number"&&(console.error("Invalid value for startY option",o.startY),delete o.startY)}}function Sl(n,t,e,i,s){if(n==null)throw new TypeError("Cannot convert undefined or null to object");for(var o=Object(n),u=1;u<arguments.length;u++){var h=arguments[u];if(h!=null)for(var f in h)Object.prototype.hasOwnProperty.call(h,f)&&(o[f]=h[f])}return o}function sx(n,t){var e=new lh(n),i=e.getDocumentOptions(),s=e.getGlobalOptions();RI(s,i,t);var o=Sl({},s,i,t),u;typeof window<"u"&&(u=window);var h=LI(s,i,t),f=II(s,i,t),d=DI(e,o),g=OI(e,o,u);return{id:t.tableId,content:g,hooks:f,styles:h,settings:d}}function LI(n,t,e){for(var i={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},s=function(f){if(f==="columnStyles"){var d=n[f],g=t[f],w=e[f];i.columnStyles=Sl({},d,g,w)}else{var S=[n,t,e],_=S.map(function(N){return N[f]||{}});i[f]=Sl({},_[0],_[1],_[2])}},o=0,u=Object.keys(i);o<u.length;o++){var h=u[o];s(h)}return i}function II(n,t,e){for(var i=[n,t,e],s={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},o=0,u=i;o<u.length;o++){var h=u[o];h.didParseCell&&s.didParseCell.push(h.didParseCell),h.willDrawCell&&s.willDrawCell.push(h.willDrawCell),h.didDrawCell&&s.didDrawCell.push(h.didDrawCell),h.willDrawPage&&s.willDrawPage.push(h.willDrawPage),h.didDrawPage&&s.didDrawPage.push(h.didDrawPage)}return s}function DI(n,t){var e,i,s,o,u,h,f,d,g,w,S,_,N=dm(t.margin,40/n.scaleFactor()),M=(e=kI(n,t.startY))!==null&&e!==void 0?e:N.top,j;t.showFoot===!0?j="everyPage":t.showFoot===!1?j="never":j=(i=t.showFoot)!==null&&i!==void 0?i:"everyPage";var R;t.showHead===!0?R="everyPage":t.showHead===!1?R="never":R=(s=t.showHead)!==null&&s!==void 0?s:"everyPage";var Q=(o=t.useCss)!==null&&o!==void 0?o:!1,W=t.theme||(Q?"plain":"striped"),nt=!!t.horizontalPageBreak,mt=(u=t.horizontalPageBreakRepeat)!==null&&u!==void 0?u:null;return{includeHiddenHtml:(h=t.includeHiddenHtml)!==null&&h!==void 0?h:!1,useCss:Q,theme:W,startY:M,margin:N,pageBreak:(f=t.pageBreak)!==null&&f!==void 0?f:"auto",rowPageBreak:(d=t.rowPageBreak)!==null&&d!==void 0?d:"auto",tableWidth:(g=t.tableWidth)!==null&&g!==void 0?g:"auto",showHead:R,showFoot:j,tableLineWidth:(w=t.tableLineWidth)!==null&&w!==void 0?w:0,tableLineColor:(S=t.tableLineColor)!==null&&S!==void 0?S:200,horizontalPageBreak:nt,horizontalPageBreakRepeat:mt,horizontalPageBreakBehaviour:(_=t.horizontalPageBreakBehaviour)!==null&&_!==void 0?_:"afterAllRows"}}function kI(n,t){var e=n.getLastAutoTable(),i=n.scaleFactor(),s=n.pageNumber(),o=!1;if(e&&e.startPageNumber){var u=e.startPageNumber+e.pageNumber-1;o=u===s}return typeof t=="number"?t:(t==null||t===!1)&&o&&e?.finalY!=null?e.finalY+20/i:null}function OI(n,t,e){var i=t.head||[],s=t.body||[],o=t.foot||[];if(t.html){var u=t.includeHiddenHtml;if(e){var h=ax(n,t.html,e,u,t.useCss)||{};i=h.head||i,s=h.body||i,o=h.foot||i}else console.error("Cannot parse html in non browser environment")}var f=t.columns||PI(i,s,o);return{columns:f,head:i,body:s,foot:o}}function PI(n,t,e){var i=n[0]||t[0]||e[0]||[],s=[];return Object.keys(i).filter(function(o){return o!=="_element"}).forEach(function(o){var u=1,h;Array.isArray(i)?h=i[parseInt(o)]:h=i[o],typeof h=="object"&&!Array.isArray(h)&&(u=h?.colSpan||1);for(var f=0;f<u;f++){var d=void 0;Array.isArray(i)?d=s.length:d=o+(f>0?"_".concat(f):"");var g={dataKey:d};s.push(g)}}),s}var n1=(function(){function n(t,e,i){this.table=e,this.pageNumber=e.pageNumber,this.settings=e.settings,this.cursor=i,this.doc=t.getDocument()}return n})(),MI=(function(n){Z4(t,n);function t(e,i,s,o,u,h){var f=n.call(this,e,i,h)||this;return f.cell=s,f.row=o,f.column=u,f.section=o.section,f}return t})(n1),jI=(function(){function n(t,e){this.pageNumber=1,this.id=t.id,this.settings=t.settings,this.styles=t.styles,this.hooks=t.hooks,this.columns=e.columns,this.head=e.head,this.body=e.body,this.foot=e.foot}return n.prototype.getHeadHeight=function(t){return this.head.reduce(function(e,i){return e+i.getMaxCellHeight(t)},0)},n.prototype.getFootHeight=function(t){return this.foot.reduce(function(e,i){return e+i.getMaxCellHeight(t)},0)},n.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},n.prototype.callCellHooks=function(t,e,i,s,o,u){for(var h=0,f=e;h<f.length;h++){var d=f[h],g=new MI(t,this,i,s,o,u),w=d(g)===!1;if(i.text=Array.isArray(i.text)?i.text:[i.text],w)return!1}return!0},n.prototype.callEndPageHooks=function(t,e){t.applyStyles(t.userStyles);for(var i=0,s=this.hooks.didDrawPage;i<s.length;i++){var o=s[i];o(new n1(t,this,e))}},n.prototype.callWillDrawPageHooks=function(t,e){for(var i=0,s=this.hooks.willDrawPage;i<s.length;i++){var o=s[i];o(new n1(t,this,e))}},n.prototype.getWidth=function(t){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var e=this.columns.reduce(function(s,o){return s+o.wrappedWidth},0);return e}else{var i=this.settings.margin;return t-i.left-i.right}},n})(),ox=(function(){function n(t,e,i,s,o){o===void 0&&(o=!1),this.height=0,this.raw=t,t instanceof tx&&(this.raw=t._element,this.element=t._element),this.index=e,this.section=i,this.cells=s,this.spansMultiplePages=o}return n.prototype.getMaxCellHeight=function(t){var e=this;return t.reduce(function(i,s){var o;return Math.max(i,((o=e.cells[s.index])===null||o===void 0?void 0:o.height)||0)},0)},n.prototype.hasRowSpan=function(t){var e=this;return t.filter(function(i){var s=e.cells[i.index];return s?s.rowSpan>1:!1}).length>0},n.prototype.canEntireRowFit=function(t,e){return this.getMaxCellHeight(e)<=t},n.prototype.getMinimumRowHeight=function(t,e){var i=this;return t.reduce(function(s,o){var u=i.cells[o.index];if(!u)return 0;var h=e.getLineHeight(u.styles.fontSize),f=u.padding("vertical"),d=f+h;return d>s?d:s},0)},n})(),lx=(function(){function n(t,e,i){var s;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=e,this.section=i,this.raw=t;var o=t;t!=null&&typeof t=="object"&&!Array.isArray(t)?(this.rowSpan=t.rowSpan||1,this.colSpan=t.colSpan||1,o=(s=t.content)!==null&&s!==void 0?s:t,t._element&&(this.raw=t._element)):(this.rowSpan=1,this.colSpan=1);var u=o!=null?""+o:"",h=/\r\n|\r|\n/g;this.text=u.split(h)}return n.prototype.getTextPos=function(){var t;if(this.styles.valign==="top")t=this.y+this.padding("top");else if(this.styles.valign==="bottom")t=this.y+this.height-this.padding("bottom");else{var e=this.height-this.padding("vertical");t=this.y+e/2+this.padding("top")}var i;if(this.styles.halign==="right")i=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var s=this.width-this.padding("horizontal");i=this.x+s/2+this.padding("left")}else i=this.x+this.padding("left");return{x:i,y:t}},n.prototype.getContentHeight=function(t,e){e===void 0&&(e=1.15);var i=Array.isArray(this.text)?this.text.length:1,s=this.styles.fontSize/t*e,o=i*s+this.padding("vertical");return Math.max(o,this.styles.minCellHeight)},n.prototype.padding=function(t){var e=dm(this.styles.cellPadding,0);return t==="vertical"?e.top+e.bottom:t==="horizontal"?e.left+e.right:e[t]},n})(),FI=(function(){function n(t,e,i){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=t,this.raw=e,this.index=i}return n.prototype.getMaxCustomCellWidth=function(t){for(var e=0,i=0,s=t.allRows();i<s.length;i++){var o=s[i],u=o.cells[this.index];u&&typeof u.styles.cellWidth=="number"&&(e=Math.max(e,u.styles.cellWidth))}return e},n})();function VI(n,t){BI(n,t);var e=[],i=0;t.columns.forEach(function(o){var u=o.getMaxCustomCellWidth(t);u?o.width=u:(o.width=o.wrappedWidth,e.push(o)),i+=o.width});var s=t.getWidth(n.pageSize().width)-i;s&&(s=r1(e,s,function(o){return Math.max(o.minReadableWidth,o.minWidth)})),s&&(s=r1(e,s,function(o){return o.minWidth})),s=Math.abs(s),!t.settings.horizontalPageBreak&&s>.1/n.scaleFactor()&&(s=s<1?s:Math.round(s),console.warn("Of the table content, ".concat(s," units width could not fit page"))),zI(t),qI(t,n),UI(t)}function BI(n,t){var e=n.scaleFactor(),i=t.settings.horizontalPageBreak,s=rx(n,t);t.allRows().forEach(function(o){for(var u=0,h=t.columns;u<h.length;u++){var f=h[u],d=o.cells[f.index];if(d){var g=t.hooks.didParseCell;t.callCellHooks(n,g,d,o,f,null);var w=d.padding("horizontal");d.contentWidth=Up(d.text,d.styles,n)+w;var S=Up(d.text.join(" ").split(/[^\S\u00A0]+/),d.styles,n);if(d.minReadableWidth=S+d.padding("horizontal"),typeof d.styles.cellWidth=="number")d.minWidth=d.styles.cellWidth,d.wrappedWidth=d.styles.cellWidth;else if(d.styles.cellWidth==="wrap"||i===!0)d.contentWidth>s?(d.minWidth=s,d.wrappedWidth=s):(d.minWidth=d.contentWidth,d.wrappedWidth=d.contentWidth);else{var _=10/e;d.minWidth=d.styles.minCellWidth||_,d.wrappedWidth=d.contentWidth,d.minWidth>d.wrappedWidth&&(d.wrappedWidth=d.minWidth)}}}}),t.allRows().forEach(function(o){for(var u=0,h=t.columns;u<h.length;u++){var f=h[u],d=o.cells[f.index];if(d&&d.colSpan===1)f.wrappedWidth=Math.max(f.wrappedWidth,d.wrappedWidth),f.minWidth=Math.max(f.minWidth,d.minWidth),f.minReadableWidth=Math.max(f.minReadableWidth,d.minReadableWidth);else{var g=t.styles.columnStyles[f.dataKey]||t.styles.columnStyles[f.index]||{},w=g.cellWidth||g.minCellWidth;w&&typeof w=="number"&&(f.minWidth=w,f.wrappedWidth=w)}d&&(d.colSpan>1&&!f.minWidth&&(f.minWidth=d.minWidth),d.colSpan>1&&!f.wrappedWidth&&(f.wrappedWidth=d.minWidth))}})}function r1(n,t,e){for(var i=t,s=n.reduce(function(_,N){return _+N.wrappedWidth},0),o=0;o<n.length;o++){var u=n[o],h=u.wrappedWidth/s,f=i*h,d=u.width+f,g=e(u),w=d<g?g:d;t-=w-u.width,u.width=w}if(t=Math.round(t*1e10)/1e10,t){var S=n.filter(function(_){return t<0?_.width>e(_):!0});S.length&&(t=r1(S,t,e))}return t}function UI(n){for(var t={},e=1,i=n.allRows(),s=0;s<i.length;s++)for(var o=i[s],u=0,h=n.columns;u<h.length;u++){var f=h[u],d=t[f.index];if(e>1)e--,delete o.cells[f.index];else if(d)d.cell.height+=o.height,e=d.cell.colSpan,delete o.cells[f.index],d.left--,d.left<=1&&delete t[f.index];else{var g=o.cells[f.index];if(!g)continue;if(g.height=o.height,g.rowSpan>1){var w=i.length-s,S=g.rowSpan>w?w:g.rowSpan;t[f.index]={cell:g,left:S,row:o}}}}}function zI(n){for(var t=n.allRows(),e=0;e<t.length;e++)for(var i=t[e],s=null,o=0,u=0,h=0;h<n.columns.length;h++){var f=n.columns[h];if(u-=1,u>1&&n.columns[h+1])o+=f.width,delete i.cells[f.index];else if(s){var d=s;delete i.cells[f.index],s=null,d.width=f.width+o}else{var d=i.cells[f.index];if(!d)continue;if(u=d.colSpan,o=0,d.colSpan>1){s=d,o+=f.width;continue}d.width=f.width+o}}}function qI(n,t){for(var e={count:0,height:0},i=0,s=n.allRows();i<s.length;i++){for(var o=s[i],u=0,h=n.columns;u<h.length;u++){var f=h[u],d=o.cells[f.index];if(d){t.applyStyles(d.styles,!0);var g=d.width-d.padding("horizontal");if(d.styles.overflow==="linebreak")d.text=t.splitTextToSize(d.text,g+1/t.scaleFactor(),{fontSize:d.styles.fontSize});else if(d.styles.overflow==="ellipsize")d.text=T_(d.text,g,d.styles,t,"...");else if(d.styles.overflow==="hidden")d.text=T_(d.text,g,d.styles,t,"");else if(typeof d.styles.overflow=="function"){var w=d.styles.overflow(d.text,g);typeof w=="string"?d.text=[w]:d.text=w}d.contentHeight=d.getContentHeight(t.scaleFactor(),t.getLineHeightFactor());var S=d.contentHeight/d.rowSpan;d.rowSpan>1&&e.count*e.height<S*d.rowSpan?e={height:S,count:d.rowSpan}:e&&e.count>0&&e.height>S&&(S=e.height),S>o.height&&(o.height=S)}}e.count--}}function T_(n,t,e,i,s){return n.map(function(o){return HI(o,t,e,i,s)})}function HI(n,t,e,i,s){var o=1e4*i.scaleFactor();if(t=Math.ceil(t*o)/o,t>=Up(n,e,i))return n;for(;t<Up(n+s,e,i)&&!(n.length<=1);)n=n.substring(0,n.length-1);return n.trim()+s}function ux(n,t){var e=new lh(n),i=GI(t,e.scaleFactor()),s=new jI(t,i);return VI(e,s),e.applyStyles(e.userStyles),s}function GI(n,t){var e=n.content,i=YI(e.columns);if(e.head.length===0){var s=N_(i,"head");s&&e.head.push(s)}if(e.foot.length===0){var s=N_(i,"foot");s&&e.foot.push(s)}var o=n.settings.theme,u=n.styles;return{columns:i,head:m0("head",e.head,i,u,o,t),body:m0("body",e.body,i,u,o,t),foot:m0("foot",e.foot,i,u,o,t)}}function m0(n,t,e,i,s,o){var u={},h=t.map(function(f,d){for(var g=0,w={},S=0,_=0,N=0,M=e;N<M.length;N++){var j=M[N];if(u[j.index]==null||u[j.index].left===0)if(_===0){var R=void 0;Array.isArray(f)?R=f[j.index-S-g]:R=f[j.dataKey];var Q={};typeof R=="object"&&!Array.isArray(R)&&(Q=R?.styles||{});var W=WI(n,j,d,s,i,o,Q),nt=new lx(R,W,n);w[j.dataKey]=nt,w[j.index]=nt,_=nt.colSpan-1,u[j.index]={left:nt.rowSpan-1,times:_}}else _--,S++;else u[j.index].left--,_=u[j.index].times,g++}return new ox(f,d,n,w)});return h}function N_(n,t){var e={};return n.forEach(function(i){if(i.raw!=null){var s=$I(t,i.raw);s!=null&&(e[i.dataKey]=s)}}),Object.keys(e).length>0?e:null}function $I(n,t){if(n==="head"){if(typeof t=="object")return t.header||null;if(typeof t=="string"||typeof t=="number")return t}else if(n==="foot"&&typeof t=="object")return t.footer;return null}function YI(n){return n.map(function(t,e){var i,s;return typeof t=="object"?s=(i=t.dataKey)!==null&&i!==void 0?i:e:s=e,new FI(s,t,e)})}function WI(n,t,e,i,s,o,u){var h=SI(i),f;n==="head"?f=s.headStyles:n==="body"?f=s.bodyStyles:n==="foot"&&(f=s.footStyles);var d=Sl({},h.table,h[n],s.styles,f),g=s.columnStyles[t.dataKey]||s.columnStyles[t.index]||{},w=n==="body"?g:{},S=n==="body"&&e%2===0?Sl({},h.alternateRow,s.alternateRowStyles):{},_=xI(o),N=Sl({},_,d,S,w);return Sl(N,u)}function KI(n,t,e){var i;e===void 0&&(e={});var s=rx(n,t),o=new Map,u=[],h=[],f=[];Array.isArray(t.settings.horizontalPageBreakRepeat)?f=t.settings.horizontalPageBreakRepeat:(typeof t.settings.horizontalPageBreakRepeat=="string"||typeof t.settings.horizontalPageBreakRepeat=="number")&&(f=[t.settings.horizontalPageBreakRepeat]),f.forEach(function(S){var _=t.columns.find(function(N){return N.dataKey===S||N.index===S});_&&!o.has(_.index)&&(o.set(_.index,!0),u.push(_.index),h.push(t.columns[_.index]),s-=_.wrappedWidth)});for(var d=!0,g=(i=e?.start)!==null&&i!==void 0?i:0;g<t.columns.length;){if(o.has(g)){g++;continue}var w=t.columns[g].wrappedWidth;if(d||s>=w)d=!1,u.push(g),h.push(t.columns[g]),s-=w;else break;g++}return{colIndexes:u,columns:h,lastIndex:g-1}}function QI(n,t){for(var e=[],i=0;i<t.columns.length;i++){var s=KI(n,t,{start:i});s.columns.length&&(e.push(s),i=s.lastIndex)}return e}function cx(n,t){var e=t.settings,i=e.startY,s=e.margin,o={x:s.left,y:i},u=t.getHeadHeight(t.columns)+t.getFootHeight(t.columns),h=i+s.bottom+u;if(e.pageBreak==="avoid"){var f=t.body,d=f.reduce(function(S,_){return S+_.height},0);h+=d}var g=new lh(n);(e.pageBreak==="always"||e.startY!=null&&h>g.pageSize().height)&&(fx(g),o.y=s.top),t.callWillDrawPageHooks(g,o);var w=Sl({},o);t.startPageNumber=g.pageNumber(),e.horizontalPageBreak?XI(g,t,w,o):(g.applyStyles(g.userStyles),(e.showHead==="firstPage"||e.showHead==="everyPage")&&t.head.forEach(function(S){return Dl(g,t,S,o,t.columns)}),g.applyStyles(g.userStyles),t.body.forEach(function(S,_){var N=_===t.body.length-1;zp(g,t,S,N,w,o,t.columns)}),g.applyStyles(g.userStyles),(e.showFoot==="lastPage"||e.showFoot==="everyPage")&&t.foot.forEach(function(S){return Dl(g,t,S,o,t.columns)})),ex(g,t,w,o),t.callEndPageHooks(g,o),t.finalY=o.y,n.lastAutoTable=t,g.applyStyles(g.userStyles)}function XI(n,t,e,i){var s=QI(n,t),o=t.settings;if(o.horizontalPageBreakBehaviour==="afterAllRows")s.forEach(function(d,g){n.applyStyles(n.userStyles),g>0?Tf(n,t,e,i,d.columns,!0):C_(n,t,i,d.columns),JI(n,t,e,i,d.columns),g0(n,t,i,d.columns)});else for(var u=-1,h=s[0],f=function(){var d=u;if(h){n.applyStyles(n.userStyles);var g=h.columns;u>=0?Tf(n,t,e,i,g,!0):C_(n,t,i,g),d=R_(n,t,u+1,i,g),g0(n,t,i,g)}var w=d-u;s.slice(1).forEach(function(S){n.applyStyles(n.userStyles),Tf(n,t,e,i,S.columns,!0),R_(n,t,u+1,i,S.columns,w),g0(n,t,i,S.columns)}),u=d};u<t.body.length-1;)f()}function C_(n,t,e,i){var s=t.settings;n.applyStyles(n.userStyles),(s.showHead==="firstPage"||s.showHead==="everyPage")&&t.head.forEach(function(o){return Dl(n,t,o,e,i)})}function JI(n,t,e,i,s){n.applyStyles(n.userStyles),t.body.forEach(function(o,u){var h=u===t.body.length-1;zp(n,t,o,h,e,i,s)})}function R_(n,t,e,i,s,o){n.applyStyles(n.userStyles),o=o??t.body.length;var u=Math.min(e+o,t.body.length),h=-1;return t.body.slice(e,u).forEach(function(f,d){var g=e+d===t.body.length-1,w=hx(n,t,g,i);f.canEntireRowFit(w,s)&&(Dl(n,t,f,i,s),h=e+d)}),h}function g0(n,t,e,i){var s=t.settings;n.applyStyles(n.userStyles),(s.showFoot==="lastPage"||s.showFoot==="everyPage")&&t.foot.forEach(function(o){return Dl(n,t,o,e,i)})}function ZI(n,t,e){var i=e.getLineHeight(n.styles.fontSize),s=n.padding("vertical"),o=Math.floor((t-s)/i);return Math.max(0,o)}function tD(n,t,e,i){var s={};n.spansMultiplePages=!0,n.height=0;for(var o=0,u=0,h=e.columns;u<h.length;u++){var f=h[u],d=n.cells[f.index];if(d){Array.isArray(d.text)||(d.text=[d.text]);var g=new lx(d.raw,d.styles,d.section);g=Sl(g,d),g.text=[];var w=ZI(d,t,i);d.text.length>w&&(g.text=d.text.splice(w,d.text.length));var S=i.scaleFactor(),_=i.getLineHeightFactor();d.contentHeight=d.getContentHeight(S,_),d.contentHeight>=t&&(d.contentHeight=t,g.styles.minCellHeight-=t),d.contentHeight>n.height&&(n.height=d.contentHeight),g.contentHeight=g.getContentHeight(S,_),g.contentHeight>o&&(o=g.contentHeight),s[f.index]=g}}var N=new ox(n.raw,-1,n.section,s,!0);N.height=o;for(var M=0,j=e.columns;M<j.length;M++){var f=j[M],g=N.cells[f.index];g&&(g.height=N.height);var d=n.cells[f.index];d&&(d.height=n.height)}return N}function eD(n,t,e,i){var s=n.pageSize().height,o=i.settings.margin,u=o.top+o.bottom,h=s-u;t.section==="body"&&(h-=i.getHeadHeight(i.columns)+i.getFootHeight(i.columns));var f=t.getMinimumRowHeight(i.columns,n),d=f<e;if(f>h)return console.error("Will not be able to print row ".concat(t.index," correctly since it's minimum height is larger than page height")),!0;if(!d)return!1;var g=t.hasRowSpan(i.columns),w=t.getMaxCellHeight(i.columns)>h;return w?(g&&console.error("The content of row ".concat(t.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(g||i.settings.rowPageBreak==="avoid")}function zp(n,t,e,i,s,o,u){var h=hx(n,t,i,o);if(e.canEntireRowFit(h,u))Dl(n,t,e,o,u);else if(eD(n,e,h,t)){var f=tD(e,h,t,n);Dl(n,t,e,o,u),Tf(n,t,s,o,u),zp(n,t,f,i,s,o,u)}else Tf(n,t,s,o,u),zp(n,t,e,i,s,o,u)}function Dl(n,t,e,i,s){i.x=t.settings.margin.left;for(var o=0,u=s;o<u.length;o++){var h=u[o],f=e.cells[h.index];if(!f){i.x+=h.width;continue}n.applyStyles(f.styles),f.x=i.x,f.y=i.y;var d=t.callCellHooks(n,t.hooks.willDrawCell,f,e,h,i);if(d===!1){i.x+=h.width;continue}nD(n,f,i);var g=f.getTextPos();J4(f.text,g.x,g.y,{halign:f.styles.halign,valign:f.styles.valign,maxWidth:Math.ceil(f.width-f.padding("left")-f.padding("right"))},n.getDocument()),t.callCellHooks(n,t.hooks.didDrawCell,f,e,h,i),i.x+=h.width}i.y+=e.height}function nD(n,t,e){var i=t.styles;if(n.getDocument().setFillColor(n.getDocument().getFillColor()),typeof i.lineWidth=="number"){var s=nx(i.lineWidth,i.fillColor);s&&n.rect(t.x,e.y,t.width,t.height,s)}else typeof i.lineWidth=="object"&&(i.fillColor&&n.rect(t.x,e.y,t.width,t.height,"F"),rD(n,t,e,i.lineWidth))}function rD(n,t,e,i){var s,o,u,h;i.top&&(s=e.x,o=e.y,u=e.x+t.width,h=e.y,i.right&&(u+=.5*i.right),i.left&&(s-=.5*i.left),f(i.top,s,o,u,h)),i.bottom&&(s=e.x,o=e.y+t.height,u=e.x+t.width,h=e.y+t.height,i.right&&(u+=.5*i.right),i.left&&(s-=.5*i.left),f(i.bottom,s,o,u,h)),i.left&&(s=e.x,o=e.y,u=e.x,h=e.y+t.height,i.top&&(o-=.5*i.top),i.bottom&&(h+=.5*i.bottom),f(i.left,s,o,u,h)),i.right&&(s=e.x+t.width,o=e.y,u=e.x+t.width,h=e.y+t.height,i.top&&(o-=.5*i.top),i.bottom&&(h+=.5*i.bottom),f(i.right,s,o,u,h));function f(d,g,w,S,_){n.getDocument().setLineWidth(d),n.getDocument().line(g,w,S,_,"S")}}function hx(n,t,e,i){var s=t.settings.margin.bottom,o=t.settings.showFoot;return(o==="everyPage"||o==="lastPage"&&e)&&(s+=t.getFootHeight(t.columns)),n.pageSize().height-i.y-s}function Tf(n,t,e,i,s,o){s===void 0&&(s=[]),o===void 0&&(o=!1),n.applyStyles(n.userStyles),t.settings.showFoot==="everyPage"&&!o&&t.foot.forEach(function(h){return Dl(n,t,h,i,s)}),t.callEndPageHooks(n,i);var u=t.settings.margin;ex(n,t,e,i),fx(n),t.pageNumber++,i.x=u.left,i.y=u.top,e.y=u.top,t.callWillDrawPageHooks(n,i),t.settings.showHead==="everyPage"&&(t.head.forEach(function(h){return Dl(n,t,h,i,s)}),n.applyStyles(n.userStyles))}function fx(n){var t=n.pageNumber();n.setPage(t+1);var e=n.pageNumber();return e===t?(n.addPage(),!0):!1}function iD(n){n.API.autoTable=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var i=t[0],s=sx(this,i),o=ux(this,s);return cx(this,o),this},n.API.lastAutoTable=!1,n.API.autoTableText=function(t,e,i,s){J4(t,e,i,s,this)},n.API.autoTableSetDefaults=function(t){return lh.setDefaults(t,this),this},n.autoTableSetDefaults=function(t,e){lh.setDefaults(t,e)},n.API.autoTableHtmlToJson=function(t,e){var i;if(e===void 0&&(e=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var s=new lh(this),o=ax(s,t,window,e,!1),u=o.head,h=o.body,f=((i=u[0])===null||i===void 0?void 0:i.map(function(d){return d.content}))||[];return{columns:f,rows:h,data:h}}}var y0;function Ca(n,t){var e=sx(n,t),i=ux(n,e);cx(n,i)}try{if(typeof window<"u"&&window){var L_=window,I_=L_.jsPDF||((y0=L_.jspdf)===null||y0===void 0?void 0:y0.jsPDF);I_&&iD(I_)}}catch(n){console.error("Could not apply autoTable plugin",n)}function aD(n){console.log("Calculating hours for entry:",JSON.stringify(n,null,2));const t=(Q,W)=>{if(!Q||!W)return console.warn("Missing start or end time:",{start:Q,end:W}),0;const nt=new Date(`1970-01-01T${Q}:00`),mt=new Date(`1970-01-01T${W}:00`);if(isNaN(nt.getTime())||isNaN(mt.getTime()))return console.error("Invalid time format:",{start:Q,end:W}),0;const bt=(mt-nt)/1e3/60/60;return bt>=0?bt:0},e=(n.travel?.to?.active?t(n.travel.to.start,n.travel.to.end):0)+(n.travel?.home?.active?t(n.travel.home.start,n.travel.home.end):0),i=n.lunch&&Number(n.lunchDuration)||0;n.lunch&&isNaN(i)&&console.error("Invalid lunch duration:",n.lunchDuration);const s=n.onsite?.active?t(n.onsite.start,n.onsite.end)-i:0;if(s<0)return console.error("Negative on-site hours due to lunch duration:",{onSiteHours:s,lunchDuration:i}),{...n,travelHours:0,straight:0,overtime:0,double:0,total:0};const o=e+s,[u,h,f]=n.date.split("-").map(Number),d=new Date(u,h-1,f);if(isNaN(d.getTime()))return console.error("Invalid date in entry:",n.date),{...n,travelHours:0,straight:0,overtime:0,double:0,total:0};const g=d.getDay();console.log(`Entry date: ${n.date}, Local: ${d.toISOString()}, getDay: ${g}`);const w=g===6,S=g===0||n.holiday,_=!w&&!S;let N=0,M=0,j=0;n.onsite?.active&&s>0&&!n.travelOnly?S?(j=s,console.log(`Sunday/Holiday: Assigning ${s} hours to double`)):w?(M=s,console.log(`Saturday: Assigning ${s} hours to overtime`)):_&&(s>8?(N=8,M=s-8,console.log(`Weekday >8 hours: Assigning 8 hours to straight, ${s-8} hours to overtime`)):(N=s,console.log(`Weekday <=8 hours: Assigning ${s} hours to straight`))):console.log("No on-site hours, onsite inactive, or travel-only mode");const R={...n,travelHours:e,straight:N,overtime:M,double:j,total:o};return console.log("Calculated hours result:",JSON.stringify(R,null,2)),R}function c2(n,t){console.log("Calculating charges for entries:",JSON.stringify(n,null,2)),console.log("Travel data:",JSON.stringify(t,null,2));const e=n.map(N=>aD(N)),i={hours:e.reduce((N,M)=>N+(M.straight||0),0),charge:e.reduce((N,M)=>N+(M.straight||0),0)*120},s={hours:e.reduce((N,M)=>N+(M.overtime||0),0),charge:e.reduce((N,M)=>N+(M.overtime||0),0)*180},o={hours:e.reduce((N,M)=>N+(M.double||0),0),charge:e.reduce((N,M)=>N+(M.double||0),0)*240},u=i.charge+s.charge+o.charge,h={hours:e.filter(N=>{const[M,j,R]=N.date.split("-").map(Number),Q=new Date(M,j-1,R),W=Q.getDay();return console.log(`Entry date: ${N.date}, Local: ${Q.toISOString()}, getDay: ${W}`),W>=1&&W<=5&&!N.holiday}).reduce((N,M)=>N+(M.travelHours||0),0),charge:e.filter(N=>{const[M,j,R]=N.date.split("-").map(Number),Q=new Date(M,j-1,R);return Q.getDay()>=1&&Q.getDay()<=5&&!N.holiday}).reduce((N,M)=>N+(M.travelHours||0),0)*80},f={hours:e.filter(N=>{const[M,j,R]=N.date.split("-").map(Number),Q=new Date(M,j-1,R),W=Q.getDay();return console.log(`Entry date: ${N.date}, Local: ${Q.toISOString()}, getDay: ${W}`),W===6&&!N.holiday}).reduce((N,M)=>N+(M.travelHours||0),0),charge:e.filter(N=>{const[M,j,R]=N.date.split("-").map(Number);return new Date(M,j-1,R).getDay()===6&&!N.holiday}).reduce((N,M)=>N+(M.travelHours||0),0)*120},d={hours:e.filter(N=>{const[M,j,R]=N.date.split("-").map(Number),Q=new Date(M,j-1,R),W=Q.getDay();return console.log(`Entry date: ${N.date}, Local: ${Q.toISOString()}, getDay: ${W}`),W===0||N.holiday}).reduce((N,M)=>N+(M.travelHours||0),0),charge:e.filter(N=>{const[M,j,R]=N.date.split("-").map(Number);return new Date(M,j-1,R).getDay()===0||N.holiday}).reduce((N,M)=>N+(M.travelHours||0),0)*160},g=h.charge+f.charge+d.charge,w={perDiemTotal:Number(t?.perDiemDays||0)*(t?.perDiemType==="local"?65:220),mileageTotal:Number(t?.mileage||0)*.63,otherTravel:Number(t?.otherTravel||0),airTravel:Number(t?.airTravel?.cost||0)},S=w.perDiemTotal+w.mileageTotal+w.otherTravel+w.airTravel,_={straight:i,overtime:s,double:o,laborSubtotal:u,weekdayTravel:h,saturdayTravel:f,sundayTravel:d,travelChargesSubtotal:g,travel:{perDiemTotal:w.perDiemTotal,mileageTotal:w.mileageTotal,otherTravel:w.otherTravel,airTravel:w.airTravel,travelExpensesSubtotal:S},processedEntries:e};return console.log("Calculated charges:",JSON.stringify(_,null,2)),_}function sD(){const n=Kf(),t=yh();if(!n)return I.jsx("div",{className:"text-red-600 text-center p-4",children:"Error: Time Sheet context is unavailable. Please try refreshing."});const{resetData:e,setCustomerInfo:i,setTravelData:s,entries:o,setEntries:u,setServiceReportData:h,setInvoiceInfo:f,setMachineInfo:d,currentCustomer:g,customers:w,addCustomer:S,switchCustomer:_,saveCurrentCustomer:N,exportCustomerJSON:M,importCustomerJSON:j,saveToCloud:R,loadFromCloud:Q,loadFromHistory:W,renameVisit:nt,deleteVisit:mt,fetchAllCloudFiles:bt,attachToCustomer:q,deleteCustomer:V,customerForm:D,setCustomerForm:H,travelForm:T,setTravelForm:P,invoiceForm:F,setInvoiceForm:lt,machineForms:xt,setMachineForms:ot,serviceReportForm:dt,setServiceReportForm:ft,tableKey:Nt,renameCustomer:Wt}=n,[$,O]=Ot.useState(!1),[K,tt]=Ot.useState(null),[st,ut]=Ot.useState({customerInfo:!0,travelExpenses:!0,invoiceInfo:!0,serviceReport:!0,machineInfo:!0}),[yt,It]=Ot.useState([]),[Rt,zt]=Ot.useState(!1),[Et,jt]=Ot.useState([]),[qt,Mt]=Ot.useState(!1),[Z,ne]=Ot.useState(""),[Ce,ce]=Ot.useState(!1),Ht=c2(o||[],T||{}),le=Ot.useRef(!0);Ot.useEffect(()=>{const Bt=localStorage.getItem("timesheetData");if(Bt)try{const ie=JSON.parse(Bt);u(ie.entries||[]),i(ie.customerInfo||{}),s(ie.travelData||{}),f(ie.invoiceInfo||{}),d(ie.machineInfo||[]),h(ie.serviceReportData||{}),H(ie.customerInfo||{}),P(ie.travelData||{}),lt(ie.invoiceInfo||{}),ot(Array.isArray(ie.machineInfo)?ie.machineInfo.map(Le=>({model:Le.model||"",serial:Le.serial||Le.serialNumber||"",jobNumber:Le.jobNumber||""})):[]),ft(ie.serviceReportData||{})}catch(ie){console.error("Failed to load:",ie)}le.current=!1},[]),Ot.useEffect(()=>{if(le.current)return;const Bt={entries:o,customerInfo:D,travelData:T,serviceReportData:dt,invoiceInfo:F,machineInfo:xt};localStorage.setItem("timesheetData",JSON.stringify(Bt))},[o,D,T,dt,F,xt]);const se=Bt=>{ut(ie=>({...ie,[Bt]:!ie[Bt]}))},De=Bt=>{const ie={date:Bt.date,travel:{to:Bt.travelTo,home:Bt.travelHome},onsite:Bt.onsite,lunch:Bt.lunch,lunchDuration:Bt.lunchDuration,holiday:Bt.holiday,travelOnly:Bt.travelOnly,serviceWork:Bt.serviceWork||"",customer:g||"General"};u(Le=>{const Ie=Le.findIndex(ae=>ae.date===ie.date&&ae.customer===ie.customer);if(Ie>=0){const ae=[...Le];return ae[Ie]=ie,ae}return[...Le,ie]}),h(Le=>({...Le,[ie.date]:Bt.serviceWork||""})),ft(Le=>({...Le,[ie.date]:Bt.serviceWork||""})),O(!1),tt(null)},Ae=()=>{tt(null),O(!0)},Ke=Bt=>{const ie=o[Bt],Le=dt[ie.date]||ie.serviceWork||"";u(Ie=>{const ae=[...Ie];return ae[Bt]={...ae[Bt],serviceWork:Le},ae}),tt(Bt),O(!0)},en=Bt=>{window.confirm("Delete this day?")&&u(ie=>ie.filter((Le,Ie)=>Ie!==Bt))},He=()=>{window.confirm("Reset all data?")&&(e(),H({}),P({}),lt({}),ot([]),ft({}),localStorage.removeItem("timesheetData"))},un=Bt=>{const{name:ie,value:Le}=Bt.target;H(Ie=>({...Ie,[ie]:Le})),i(Ie=>({...Ie,[ie]:Le}))},ze=Bt=>{const{name:ie,value:Le}=Bt.target;if(ie.startsWith("airTravel.")){const Ie=ie.split(".")[1],ae=Ie==="cost"?parseFloat(Le)||0:Le;P(wr=>({...wr,airTravel:{...wr.airTravel,[Ie]:ae}})),s(wr=>({...wr,airTravel:{...wr.airTravel,[Ie]:ae}}))}else{const ae=["perDiemDays","mileage","otherTravel"].includes(ie)?parseFloat(Le)||0:Le;P(wr=>({...wr,[ie]:ae})),s(wr=>({...wr,[ie]:ae}))}},ge=()=>{const Bt=new Te;Bt.text(`Time Sheet Report - ${g||"General"}`,10,10),Bt.text(`Date: ${o[0]?.date||"N/A"}`,10,20),Bt.save(`${g||"report"}.pdf`)},Ye=Bt=>{try{const[ie,Le,Ie]=Bt.split("-").map(Number),ae=new Date(Date.UTC(ie,Le-1,Ie)),pi=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][ae.getUTCDay()],ei=String(ae.getUTCMonth()+1).padStart(2,"0"),ni=String(ae.getUTCDate()).padStart(2,"0");return`${pi} ${ei}/${ni}/${ie}`}catch{return Bt}},ve=async()=>{const Bt=await bt();jt(Bt),Mt(!0)},Zn=(T.perDiemType||"local")==="local"?65:220,Re=(Number(T.perDiemDays)||0)*Zn,Ne=(Number(T.mileage)||0)*.67,En=Number(T.otherTravel)||0,Pe=Number(T.airTravel?.cost)||0,Oe=Number(Ht?.laborSubtotal)||0,Tn=Number(Ht?.travelChargesSubtotal)||0,xe=Re+Ne+En+Pe,Se=Oe+Tn+xe,Je=Bt=>(Number(Bt)||0).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2});return I.jsxs("div",{className:"min-h-screen bg-gray-50 p-3 sm:p-6",children:[I.jsxs("div",{className:"flex justify-center items-center gap-4 mb-6 sm:mb-8",children:[I.jsx("h1",{className:"text-3xl sm:text-4xl font-bold text-center text-blue-600",children:"Time Sheet"}),I.jsx("button",{onClick:()=>ce(!0),className:"flex items-center justify-center w-8 h-8 bg-blue-600 text-white rounded-full hover:bg-blue-700 transition text-lg font-bold",title:"Help",children:"?"})]}),I.jsx("div",{className:"mb-8",children:I.jsxs("div",{className:"flex flex-col sm:flex-row justify-center gap-3",children:[I.jsxs("select",{className:"px-4 py-2 border border-gray-300 rounded-md bg-white focus:outline-none focus:ring-2 focus:ring-blue-500 w-full sm:w-auto sm:max-w-xs",value:g,onChange:Bt=>_(Bt.target.value),children:[I.jsx("option",{value:"",children:"Select Customer"}),w.map(Bt=>I.jsx("option",{value:Bt,children:Bt},Bt))]}),I.jsxs("div",{className:"grid grid-cols-3 gap-2 sm:flex sm:gap-3",children:[I.jsx("button",{onClick:()=>{const Bt=prompt("New Customer Name?");Bt&&S(Bt)},className:"px-3 py-2 bg-emerald-600 text-white rounded-md hover:bg-emerald-700 transition text-sm sm:text-base",children:"New"}),I.jsx("button",{onClick:()=>{if(!g)return alert("Select customer first");const Bt=prompt(`Rename "${g}" to?`,g);Bt&&Bt!==g&&Wt(g,Bt)},className:"px-3 py-2 bg-amber-600 text-white rounded-md hover:bg-amber-700 transition text-sm sm:text-base",children:"Rename"}),I.jsx("button",{onClick:()=>{if(!g)return alert("Select customer first");confirm(`Delete "${g}"? All data (local + cloud) will be lost.`)&&V(g)},className:"px-3 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 transition text-sm sm:text-base",children:"Delete"})]})]})}),I.jsxs("div",{className:"mb-8 space-y-3",children:[I.jsxs("div",{className:"flex flex-col sm:flex-row justify-center gap-2",children:[I.jsx("button",{onClick:()=>t("/"),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition",children:"Time Sheet"}),I.jsx("button",{onClick:()=>t("/service-report"),className:"px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700 transition",children:"Service Report"}),I.jsx("button",{onClick:()=>t("/invoice"),className:"px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700 transition",children:"Invoice"})]}),I.jsxs("div",{className:"grid grid-cols-2 sm:flex sm:flex-wrap justify-center gap-2",children:[I.jsx("button",{onClick:M,className:"px-3 py-2 bg-emerald-600 text-white rounded-md hover:bg-emerald-700 transition text-sm sm:text-base",children:"Export JSON"}),I.jsxs("label",{className:"px-3 py-2 bg-emerald-600 text-white rounded-md hover:bg-emerald-700 transition cursor-pointer text-center text-sm sm:text-base",children:["Import JSON",I.jsx("input",{type:"file",onChange:Bt=>j(Bt.target.files[0]),className:"hidden"})]}),I.jsx("button",{onClick:N,className:"px-3 py-2 bg-cyan-600 text-white rounded-md hover:bg-cyan-700 transition text-sm sm:text-base",children:"Save Local"}),I.jsx("button",{onClick:R,className:"px-3 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 transition text-sm sm:text-base",children:"Save Cloud"}),I.jsx("button",{onClick:Q,className:"px-3 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 transition text-sm sm:text-base",children:"Load Cloud"}),I.jsx("button",{onClick:ve,className:"px-3 py-2 bg-violet-600 text-white rounded-md hover:bg-violet-700 transition text-sm sm:text-base",children:"View Files"}),I.jsx("button",{onClick:ge,className:"px-3 py-2 bg-amber-600 text-white rounded-md hover:bg-amber-700 transition text-sm sm:text-base",children:"Export PDF"}),I.jsx("button",{onClick:He,className:"px-3 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 transition text-sm sm:text-base",children:"Reset All"})]})]}),I.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 sm:p-6 mb-6",children:[I.jsxs("button",{onClick:()=>se("customerInfo"),className:"w-full text-left text-xl font-semibold text-blue-600 flex justify-between items-center",children:["Customer Information",I.jsx("span",{className:"text-sm",children:st.customerInfo?"":"+"})]}),st.customerInfo&&I.jsx("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-2 gap-4",children:["company","contact","address","phone","city","email","state","purpose"].map(Bt=>I.jsxs("div",{children:[I.jsx("label",{className:"block text-sm font-medium text-gray-700 capitalize",children:Bt}),I.jsx("input",{type:"text",name:Bt,value:D[Bt]||"",onChange:un,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]},Bt))})]}),I.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 sm:p-6 mb-6",children:[I.jsxs("button",{onClick:()=>se("travelExpenses"),className:"w-full text-left text-xl font-semibold text-blue-600 flex justify-between items-center",children:["Travel",I.jsx("span",{className:"text-sm",children:st.travelExpenses?"":"+"})]}),st.travelExpenses&&I.jsxs("div",{className:"mt-4 space-y-6",children:[I.jsxs("div",{children:[I.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Per Diem"}),I.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[I.jsxs("div",{children:[I.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Per Diem Type"}),I.jsxs("select",{name:"perDiemType",value:T.perDiemType||"local",onChange:ze,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",children:[I.jsx("option",{value:"local",children:"Local ($65/day)"}),I.jsx("option",{value:"nonLocal",children:"Non-Local ($220/day)"})]})]}),I.jsxs("div",{children:[I.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Per Diem Days"}),I.jsx("input",{type:"number",name:"perDiemDays",value:T.perDiemDays||0,onChange:ze,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]})]})]}),I.jsxs("div",{children:[I.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Mileage & Other Travel"}),I.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[I.jsxs("div",{children:[I.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Mileage (miles)"}),I.jsx("input",{type:"number",name:"mileage",value:T.mileage||0,onChange:ze,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),I.jsxs("div",{children:[I.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Other Travel (Auto/Taxi $)"}),I.jsx("input",{type:"number",name:"otherTravel",value:T.otherTravel||0,onChange:ze,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]})]})]}),I.jsxs("div",{children:[I.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Airfare"}),I.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[I.jsxs("div",{children:[I.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Destination"}),I.jsx("input",{type:"text",name:"airTravel.destination",value:T.airTravel?.destination||"",onChange:ze,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),I.jsxs("div",{children:[I.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Origin"}),I.jsx("input",{type:"text",name:"airTravel.origin",value:T.airTravel?.origin||"",onChange:ze,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),I.jsxs("div",{children:[I.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Return Date"}),I.jsx("input",{type:"text",name:"airTravel.return",value:T.airTravel?.return||"",onChange:ze,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),I.jsxs("div",{className:"md:col-span-3",children:[I.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Airfare Cost ($)"}),I.jsx("input",{type:"number",name:"airTravel.cost",value:T.airTravel?.cost||0,onChange:ze,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]})]})]}),I.jsx("div",{className:"mt-6 pt-4 border-t border-gray-300",children:I.jsxs("div",{className:"flex justify-between items-center",children:[I.jsx("h3",{className:"text-lg font-semibold",children:"Travel Expenses Subtotal"}),I.jsxs("p",{className:"text-2xl font-bold text-blue-600",children:["$",Je(xe)]})]})})]})]}),I.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 sm:p-6 mb-6",children:[I.jsxs("button",{onClick:()=>se("invoiceInfo"),className:"w-full text-left text-xl font-semibold text-blue-600 flex justify-between items-center",children:["Invoice Details",I.jsx("span",{className:"text-sm",children:st.invoiceInfo?"":"+"})]}),st.invoiceInfo&&I.jsx("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-2 gap-4",children:["invoiceNumber","invoiceDate","dueDate","poRefer","serviceDates","paymentTerms"].map(Bt=>I.jsxs("div",{children:[I.jsx("label",{className:"block text-sm font-medium text-gray-700 capitalize",children:Bt.replace(/([A-Z])/g," $1").trim()}),I.jsx("input",{type:"text",name:Bt,value:F[Bt]||"",onChange:ie=>{const{name:Le,value:Ie}=ie.target;lt(ae=>({...ae,[Le]:Ie})),f(ae=>({...ae,[Le]:Ie}))},className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]},Bt))})]}),I.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 sm:p-6 mb-6",children:[I.jsxs("button",{onClick:()=>se("machineInfo"),className:"w-full text-left text-xl font-semibold text-blue-600 flex justify-between items-center",children:["Machine Information",I.jsx("span",{className:"text-sm",children:st.machineInfo?"":"+"})]}),st.machineInfo&&I.jsxs("div",{className:"mt-4",children:[xt.length>0?xt.map((Bt,ie)=>I.jsxs("div",{className:"mb-4 p-4 border rounded bg-gray-50",children:[I.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[I.jsxs("div",{children:[I.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Model"}),I.jsx("input",{type:"text",value:Bt.model||"",onChange:Le=>{const Ie=[...xt];Ie[ie].model=Le.target.value,ot(Ie),d(Ie)},className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),I.jsxs("div",{children:[I.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Serial Number"}),I.jsx("input",{type:"text",value:Bt.serial||"",onChange:Le=>{const Ie=[...xt];Ie[ie].serial=Le.target.value,ot(Ie),d(Ie)},className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),I.jsxs("div",{children:[I.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Job Number"}),I.jsx("input",{type:"text",value:Bt.jobNumber||"",onChange:Le=>{const Ie=[...xt];Ie[ie].jobNumber=Le.target.value,ot(Ie),d(Ie)},className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]})]}),I.jsx("button",{onClick:()=>{const Le=xt.filter((Ie,ae)=>ae!==ie);ot(Le),d(Le)},className:"mt-2 px-3 py-1 bg-red-600 text-white rounded text-sm hover:bg-red-700",children:"Remove Machine"})]},ie)):I.jsx("p",{className:"text-gray-500 text-center",children:"No machines added"}),I.jsx("button",{onClick:()=>{const Bt={model:"",serial:"",jobNumber:""};ot(ie=>[...ie,Bt]),d(ie=>[...ie,Bt])},className:"mt-4 px-4 py-2 bg-emerald-600 text-white rounded-md hover:bg-emerald-700 transition",children:"Add Machine"})]})]}),I.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 sm:p-6 mb-6",children:[I.jsxs("button",{onClick:()=>se("serviceReport"),className:"w-full text-left text-xl font-semibold text-blue-600 flex justify-between items-center",children:["Service Worked Performed",I.jsx("span",{className:"text-sm",children:st.serviceReport?"":"+"})]}),st.serviceReport&&I.jsx("div",{className:"mt-4",children:o.length>0?o.map((Bt,ie)=>I.jsxs("div",{className:"mb-4 p-4 border rounded bg-gray-50",children:[I.jsxs("p",{className:"font-medium text-sm text-gray-700",children:[Ye(Bt.date),"  ",Bt.customer]}),I.jsx("textarea",{value:dt[Bt.date]||"",onChange:Le=>{ft(Ie=>({...Ie,[Bt.date]:Le.target.value})),h(Ie=>({...Ie,[Bt.date]:Le.target.value}))},className:"mt-2 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",rows:"4",placeholder:"Describe work performed..."})]},ie)):I.jsx("p",{className:"text-gray-500 text-center",children:"No entries yet"})})]}),I.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 sm:p-6 mb-6",children:[I.jsxs("div",{className:"flex justify-between items-center mb-4",children:[I.jsx("h3",{className:"text-xl font-semibold",children:"Daily Time Entries"}),I.jsx("button",{onClick:Ae,className:"px-4 py-2 bg-emerald-600 text-white rounded-md hover:bg-emerald-700 transition",children:"Add Day"})]}),I.jsx(L7,{entries:o,onEdit:Ke,onDelete:en},Nt)]}),I.jsx(I7,{charges:Ht}),I.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 sm:p-6 mb-10",children:[I.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Totals"}),I.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4",children:[I.jsxs("div",{className:"p-4 border rounded",children:[I.jsx("p",{className:"text-sm text-gray-600",children:"Service Charges"}),I.jsxs("p",{className:"text-2xl font-bold",children:["$",Je(Oe)]})]}),I.jsxs("div",{className:"p-4 border rounded",children:[I.jsx("p",{className:"text-sm text-gray-600",children:"Travel Charges"}),I.jsxs("p",{className:"text-2xl font-bold",children:["$",Je(Tn)]})]}),I.jsxs("div",{className:"p-4 border rounded",children:[I.jsx("p",{className:"text-sm text-gray-600",children:"Travel Expenses"}),I.jsxs("p",{className:"text-2xl font-bold",children:["$",Je(xe)]})]}),I.jsxs("div",{className:"p-4 border rounded bg-blue-50",children:[I.jsx("p",{className:"text-sm text-gray-700",children:"Grand Total"}),I.jsxs("p",{className:"text-3xl font-extrabold text-blue-700",children:["$",Je(Se)]})]})]})]}),I.jsxs("div",{className:"flex flex-col sm:flex-row justify-center gap-4 mt-8",children:[I.jsx("button",{onClick:Ae,className:"px-6 py-3 bg-emerald-600 text-white text-lg font-medium rounded-md hover:bg-emerald-700 transition",children:"Add Day"}),I.jsx("button",{onClick:He,className:"px-6 py-3 bg-red-600 text-white text-lg font-medium rounded-md hover:bg-red-700 transition",children:"Reset All"})]}),Rt&&I.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:I.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-screen overflow-y-auto p-6",children:[I.jsxs("div",{className:"flex justify-between items-center mb-4",children:[I.jsxs("h3",{className:"text-xl font-bold",children:["Save History for ",g]}),I.jsx("button",{onClick:()=>zt(!1),className:"text-gray-500 hover:text-gray-700",children:""})]}),yt.length>0?I.jsx("div",{className:"space-y-2",children:yt.map(Bt=>I.jsxs("div",{className:"flex justify-between items-center p-3 border rounded hover:bg-gray-50",children:[I.jsxs("div",{className:"flex-1",children:[I.jsx("p",{className:"font-medium",children:Bt.visitName}),I.jsx("p",{className:"text-sm text-gray-600",children:new Date(Bt.timestamp).toLocaleString()})]}),I.jsxs("div",{className:"flex gap-2",children:[I.jsx("button",{onClick:()=>nt(Bt.id,Bt.visitName),className:"px-2 py-1 bg-amber-600 text-white rounded text-xs hover:bg-amber-700",children:"Rename"}),I.jsx("button",{onClick:()=>{W(Bt.id),zt(!1)},className:"px-3 py-1 bg-blue-600 text-white rounded text-sm hover:bg-blue-700",children:"Load"}),I.jsx("button",{onClick:()=>{mt(Bt.id),It(ie=>ie.filter(Le=>Le.id!==Bt.id))},className:"px-2 py-1 bg-red-600 text-white rounded text-xs hover:bg-red-700",children:"Delete"})]})]},Bt.id))}):I.jsx("p",{className:"text-gray-500 text-center",children:"No saves yet"})]})}),qt&&I.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:I.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-screen overflow-y-auto p-6",children:[I.jsxs("div",{className:"flex justify-between items-center mb-4",children:[I.jsx("h3",{className:"text-xl font-bold",children:"All Cloud Files"}),I.jsx("button",{onClick:()=>Mt(!1),className:"text-gray-500 hover:text-gray-700",children:""})]}),I.jsx("div",{className:"mb-4",children:I.jsxs("select",{className:"px-4 py-2 border border-gray-300 rounded-md bg-white",value:Z,onChange:Bt=>ne(Bt.target.value),children:[I.jsx("option",{value:"",children:"All Customers"}),w.map(Bt=>I.jsx("option",{value:Bt,children:Bt},Bt))]})}),I.jsx("div",{className:"space-y-2",children:Et.filter(Bt=>!Z||Bt.customer===Z).map(Bt=>I.jsxs("div",{className:"flex justify-between items-center p-3 border rounded hover:bg-gray-50",children:[I.jsxs("div",{className:"flex-1",children:[I.jsx("p",{className:"font-medium",children:Bt.visitName}),I.jsxs("p",{className:"text-sm text-gray-600",children:["Customer: ",Bt.customer,"  ",new Date(Bt.timestamp).toLocaleString()]})]}),I.jsxs("div",{className:"flex gap-2",children:[I.jsx("button",{onClick:()=>nt(Bt.id,Bt.visitName),className:"px-2 py-1 bg-amber-600 text-white rounded text-xs hover:bg-amber-700",children:"Rename"}),I.jsx("button",{onClick:()=>{W(Bt.id),Mt(!1)},className:"px-3 py-1 bg-blue-600 text-white rounded text-sm hover:bg-blue-700",children:"Load"}),I.jsx("button",{onClick:()=>{const ie=prompt("Attach to customer:",Bt.customer);ie&&ie!==Bt.customer&&(q(Bt.id,ie),Bt.customer=ie)},className:"px-3 py-1 bg-violet-600 text-white rounded text-sm hover:bg-violet-700",children:"Attach"}),I.jsx("button",{onClick:()=>{mt(Bt.id),jt(ie=>ie.filter(Le=>Le.id!==Bt.id))},className:"px-2 py-1 bg-red-600 text-white rounded text-xs hover:bg-red-700",children:"Delete"})]})]},Bt.id))}),Et.length===0&&I.jsx("p",{className:"text-gray-500 text-center",children:"No files in cloud"})]})}),$&&I.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:I.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-screen overflow-y-auto",children:I.jsxs("div",{className:"p-6",children:[I.jsxs("div",{className:"flex justify-between items-center mb-4",children:[I.jsx("h3",{className:"text-2xl font-bold",children:K!==null?"Edit Day":"Add Day"}),I.jsx("button",{onClick:()=>O(!1),className:"text-gray-500 hover:text-gray-700",children:""})]}),I.jsx(R7,{entry:K!==null?o[K]:null,onSave:De,onCancel:()=>O(!1)})]})})}),Ce&&I.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:I.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-3xl w-full max-h-screen overflow-y-auto",children:I.jsxs("div",{className:"p-6",children:[I.jsxs("div",{className:"flex justify-between items-center mb-6",children:[I.jsx("h3",{className:"text-2xl font-bold text-blue-600",children:"Help Guide"}),I.jsx("button",{onClick:()=>ce(!1),className:"text-gray-500 hover:text-gray-700 text-3xl leading-none",children:""})]}),I.jsxs("div",{className:"space-y-6",children:[I.jsxs("section",{children:[I.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Customer Management"}),I.jsxs("ul",{className:"space-y-2 text-sm text-gray-700",children:[I.jsxs("li",{children:[I.jsx("strong",{children:"Select Customer:"})," Choose from existing customers or create a new one"]}),I.jsxs("li",{children:[I.jsx("strong",{children:"New:"})," Create a new customer profile"]}),I.jsxs("li",{children:[I.jsx("strong",{children:"Rename:"})," Change the name of the selected customer"]}),I.jsxs("li",{children:[I.jsx("strong",{children:"Delete:"})," Remove the customer and all associated data (local and cloud)"]})]})]}),I.jsxs("section",{children:[I.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Navigation"}),I.jsxs("ul",{className:"space-y-2 text-sm text-gray-700",children:[I.jsxs("li",{children:[I.jsx("strong",{children:"Time Sheet:"})," Main page for entering time and expense data"]}),I.jsxs("li",{children:[I.jsx("strong",{children:"Service Report:"})," Generate and preview a service report PDF"]}),I.jsxs("li",{children:[I.jsx("strong",{children:"Invoice:"})," Generate and preview an invoice PDF"]})]})]}),I.jsxs("section",{children:[I.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Data Management"}),I.jsxs("ul",{className:"space-y-2 text-sm text-gray-700",children:[I.jsxs("li",{children:[I.jsx("strong",{children:"Export JSON:"})," Download customer data as a JSON file for backup"]}),I.jsxs("li",{children:[I.jsx("strong",{children:"Import JSON:"})," Upload a previously exported JSON file to restore data"]}),I.jsxs("li",{children:[I.jsx("strong",{children:"Save Local:"})," Save current customer data to browser's local storage"]}),I.jsxs("li",{children:[I.jsx("strong",{children:"Save Cloud:"})," Upload current data to cloud storage (requires authentication)"]}),I.jsxs("li",{children:[I.jsx("strong",{children:"Load Cloud:"})," Load previously saved data from cloud storage"]}),I.jsxs("li",{children:[I.jsx("strong",{children:"View Files:"})," Browse all cloud-saved files across all customers"]}),I.jsxs("li",{children:[I.jsx("strong",{children:"Export PDF:"})," Generate and download a PDF of the current timesheet"]}),I.jsxs("li",{children:[I.jsx("strong",{children:"Reset All:"})," Clear all data and start fresh (cannot be undone)"]})]})]}),I.jsxs("section",{children:[I.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Main Sections"}),I.jsxs("ul",{className:"space-y-2 text-sm text-gray-700",children:[I.jsxs("li",{children:[I.jsx("strong",{children:"Customer Information:"})," Enter client details (company, contact, address, etc.)"]}),I.jsxs("li",{children:[I.jsx("strong",{children:"Travel:"})," Record travel expenses including per diem, mileage, and airfare"]}),I.jsxs("li",{children:[I.jsx("strong",{children:"Invoice Details:"})," Set invoice number, dates, PO reference, and payment terms"]}),I.jsxs("li",{children:[I.jsx("strong",{children:"Machine Information:"})," Add equipment details (model, serial number, job number)"]}),I.jsxs("li",{children:[I.jsx("strong",{children:"Service Work Performed:"})," Describe the work done for each day"]}),I.jsxs("li",{children:[I.jsx("strong",{children:"Daily Time Entries:"})," Add time entries with travel and work hours"]})]})]}),I.jsxs("section",{children:[I.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Time Entry"}),I.jsxs("ul",{className:"space-y-2 text-sm text-gray-700",children:[I.jsxs("li",{children:[I.jsx("strong",{children:"Add Day:"})," Create a new time entry with travel times, work hours, and lunch breaks"]}),I.jsxs("li",{children:[I.jsx("strong",{children:"Edit:"})," Modify an existing time entry"]}),I.jsxs("li",{children:[I.jsx("strong",{children:"Delete:"})," Remove a time entry"]})]})]}),I.jsxs("section",{children:[I.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Charges Calculation"}),I.jsxs("ul",{className:"space-y-2 text-sm text-gray-700",children:[I.jsxs("li",{children:[I.jsx("strong",{children:"Service Charges:"})," Calculated based on work hours (Straight: $120/hr, Sat/OT: $180/hr, Sun/Hol: $240/hr)"]}),I.jsxs("li",{children:[I.jsx("strong",{children:"Travel Charges:"})," Calculated based on travel hours (Weekday: $80/hr, Saturday: $120/hr, Sun/Hol: $160/hr)"]}),I.jsxs("li",{children:[I.jsx("strong",{children:"Travel Expenses:"})," Sum of per diem, mileage, other travel costs, and airfare"]}),I.jsxs("li",{children:[I.jsx("strong",{children:"Grand Total:"})," Sum of all charges and expenses"]})]})]})]}),I.jsx("div",{className:"mt-6 pt-4 border-t",children:I.jsx("button",{onClick:()=>ce(!1),className:"w-full px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition",children:"Close"})})]})})})]})}const i1="/assets/logo-BrM3Y0Lt.png";function dx({pdfDataUrl:n}){return I.jsx("iframe",{src:n,title:"PDF Preview",style:{width:"800px",height:"800px",border:"none"}})}function oD(){const n=Kf(),t=yh();if(!n)return console.error("TimeSheetContext is undefined"),I.jsx("div",{className:"p-4 text-red-600",children:"Error: Time Sheet context is unavailable. Please try refreshing the page."});const{customerInfo:e,travelData:i={},entries:s=[],serviceReportData:o,machineInfo:u,invoiceInfo:h}=n,[f,d]=Ot.useState(null),g=c2(s,i),w=(g.laborSubtotal||0)+(g.travelChargesSubtotal||0)+(g.travel&&g.travel.travelExpensesSubtotal||0),S=j=>{if(!j||!/^\d{4}-\d{2}-\d{2}$/.test(j))return"N/A";const[R,Q,W]=j.split("-").map(Number),nt=new Date(R,Q-1,W);return isNaN(nt.getTime())?"N/A":`${["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][nt.getDay()]} ${String(Q).padStart(2,"0")}/${String(W).padStart(2,"0")}/${String(R).slice(-2)}`},_=()=>s.length&&s[0].date?S(s[0].date):"N/A",N=async(j=!1)=>{try{const R=new Te,Q=R.internal.pageSize.getWidth(),W=10,nt=10,mt=(Q-W*2-nt)/2;let bt=10;console.log("[ServiceReport] Logo URL:",i1);const q=await new Promise($=>{const O=new Image,K=setTimeout(()=>{console.warn("[ServiceReport] Logo load timeout, continuing without logo"),$(null)},3e3);O.onload=()=>{clearTimeout(K);try{const tt=document.createElement("canvas");tt.width=O.width,tt.height=O.height,tt.getContext("2d").drawImage(O,0,0);const ut=tt.toDataURL("image/png");console.log("[ServiceReport] Logo loaded successfully as data URI"),$(ut)}catch(tt){console.error("[ServiceReport] Error converting logo to data URI:",tt),$(null)}},O.onerror=tt=>{clearTimeout(K),console.error("[ServiceReport] Error loading logo image:",tt),$(null)},O.src=i1});if(q)try{R.addImage(q,"PNG",Q-52.5,10,37.5,11.25)}catch($){console.error("[ServiceReport] Error adding logo to PDF:",$)}R.setTextColor(0,0,255),R.setFontSize(8),R.text("Joshua Todd Industries, LLC Service Report",W,bt),bt+=3,R.setFontSize(7),R.text("Email: josh@jtiaz.com",W,bt),bt+=3,R.text("Phone: (623) 300-6445",W,bt),bt+=3,R.text(`Date: ${_()}`,W,bt),bt+=3,R.text(`Service Report Number: ${h?.invoiceNumber||"N/A"}`,W,bt),bt+=5,R.setFontSize(7),R.text("Customer Information",W,bt),bt+=3,Ca(R,{startY:bt,head:[["Field","Value","Field","Value"]],body:[["Company",e.company||"N/A","Contact",e.contact||"N/A"],["Address",e.address||"N/A","Phone",e.phone||"N/A"],["City",e.city||"N/A","Email",e.email||"N/A"],["State",e.state||"N/A","Purpose",e.purpose||"N/A"]],theme:"grid",styles:{fontSize:6,cellPadding:1},headStyles:{fillColor:[200,200,200],fontSize:6},margin:{left:W,right:W}}),bt=R.lastAutoTable.finalY+5,R.text("Machine Information",W,bt),bt+=3;let V=(Array.isArray(u)?u:u?[u]:[]).map($=>["Model",$.model||"N/A","Serial No.",$.serial||$.serialNumber||"N/A","Job No.",$.jobNumber||"N/A"]);V.length||(V=[["Model","N/A","Serial No.","N/A","Job No.","N/A"]]),Ca(R,{startY:bt,head:[["Field","Value","Field","Value","Field","Value"]],body:V,theme:"grid",styles:{fontSize:6,cellPadding:1},headStyles:{fillColor:[200,200,200],fontSize:6},margin:{left:W,right:W}}),bt=R.lastAutoTable.finalY+5,R.text("Service Work Details",W,bt),bt+=3;const D=s.map($=>[S($.date),o?.[$.date]||"No description"]);D.length&&(Ca(R,{startY:bt,head:[["Date","Work Performed"]],body:D,theme:"grid",styles:{fontSize:6,cellPadding:1,overflow:"linebreak"},headStyles:{fillColor:[200,200,200],fontSize:6},margin:{left:W,right:W},columnStyles:{0:{cellWidth:20},1:{cellWidth:"auto"}}}),bt=R.lastAutoTable.finalY+5),R.text("Hours Worked",W,bt),bt+=3,R.setFontSize(6),R.text("(All times are in MST if traveling that day. Return travel is the time zone at the start of day)",W,bt),bt+=3,R.setFontSize(7);const H=s.map($=>{const O=$.travel?.to?.active&&$.travel.to.start&&$.travel.to.end?`${$.travel.to.start}-${$.travel.to.end}`:"N/A",K=$.travel?.home?.active&&$.travel.home.start&&$.travel.home.end?`${$.travel.home.start}-${$.travel.home.end}`:"N/A",tt=$.onsite?.active&&$.onsite.start&&$.onsite.end?`${$.onsite.start}-${$.onsite.end}`:"N/A",st=$.onsite?.active&&$.onsite.start&&$.onsite.end?(new Date(`1970-01-01T${$.onsite.end}:00Z`)-new Date(`1970-01-01T${$.onsite.start}:00Z`))/36e5:0,ut=($.travel?.to?.active?(new Date(`1970-01-01T${$.travel.to.end}:00Z`)-new Date(`1970-01-01T${$.travel.to.start}:00Z`))/36e5:0)+($.travel?.home?.active?(new Date(`1970-01-01T${$.travel.home.end}:00Z`)-new Date(`1970-01-01T${$.travel.home.start}:00Z`))/36e5:0);return[S($.date),O,tt,K,$.lunch?`${$.lunchDuration} hrs`:"No",ut.toFixed(2),st.toFixed(2),(st+ut).toFixed(2)]});H.length&&(Ca(R,{head:[["Date","Travel To","On-site","Travel Home","Lunch","Travel Hrs","Work Hrs","Total Hrs"]],body:H,startY:bt,theme:"grid",styles:{fontSize:6,cellPadding:1},headStyles:{fillColor:[200,200,200],fontSize:6},margin:{left:W,right:W},columnStyles:{0:{cellWidth:20},1:{cellWidth:25},2:{cellWidth:25},3:{cellWidth:25},4:{cellWidth:20},5:{cellWidth:20},6:{cellWidth:28},7:{cellWidth:20}}}),bt=R.lastAutoTable.finalY+5);const T=bt;R.setFontSize(7),R.text("Service Charges",W,T),Ca(R,{margin:{left:W},startY:T+3,tableWidth:mt,head:[["Category","Hours","Rate","Charge"]],body:[["Straight",(g.straight?.hours??0).toFixed(2),"$120",`$${(g.straight?.charge??0).toFixed(2)}`],["Sat/OT",(g.overtime?.hours??0).toFixed(2),"$180",`$${(g.overtime?.charge??0).toFixed(2)}`],["Sun/Hol",(g.double?.hours??0).toFixed(2),"$240",`$${(g.double?.charge??0).toFixed(2)}`],["Subtotal","","",`$${(g.laborSubtotal??0).toFixed(2)}`]],theme:"grid",styles:{fontSize:6,cellPadding:1},headStyles:{fillColor:[200,200,200],fontSize:6}});const P=R.lastAutoTable.finalY;R.text("Travel Charges",W+mt+nt,T),Ca(R,{margin:{left:W+mt+nt},startY:T+3,tableWidth:mt,head:[["Category","Hours","Rate","Charge"]],body:[["Weekday",(g.weekdayTravel?.hours??0).toFixed(2),"$80",`$${(g.weekdayTravel?.charge??0).toFixed(2)}`],["Saturday",(g.saturdayTravel?.hours??0).toFixed(2),"$120",`$${(g.saturdayTravel?.charge??0).toFixed(2)}`],["Sun/Hol",(g.sundayTravel?.hours??0).toFixed(2),"$160",`$${(g.sundayTravel?.charge??0).toFixed(2)}`],["Subtotal","","",`$${(g.travelChargesSubtotal??0).toFixed(2)}`]],theme:"grid",styles:{fontSize:6,cellPadding:1},headStyles:{fillColor:[200,200,200],fontSize:6}});const F=R.lastAutoTable.finalY,lt=Math.max(P,F)+5;R.text("Travel Expenses",W,lt),Ca(R,{margin:{left:W},startY:lt+3,tableWidth:mt,head:[["Category","Amount","Details"]],body:[["Per Diem",`$${(g?.travel?.perDiemTotal??0).toFixed(2)}`,`${i.perDiemType==="local"?"$65/day":"$220/day"} x ${i.perDiemDays??0}`],["Mileage",`$${(g?.travel?.mileageTotal??0).toFixed(2)}`,`${i.mileage??0} miles at $0.63`],["Auto/Taxi",`$${(g?.travel?.otherTravel??0).toFixed(2)}`,""],["Airfare",`$${(g?.travel?.airTravel??0).toFixed(2)}`,`To: ${i.airTravel?.destination??""}, From: ${i.airTravel?.origin??""}, Return: ${i.airTravel?.return??""}`],["Subtotal",`$${(g?.travel?.travelExpensesSubtotal??0).toFixed(2)}`,""]],theme:"grid",styles:{fontSize:6,cellPadding:1},headStyles:{fillColor:[200,200,200],fontSize:6}});const xt=R.lastAutoTable.finalY;R.text("Total Charges",W+mt+nt,lt),Ca(R,{margin:{left:W+mt+nt},startY:lt+3,tableWidth:mt,head:[["Category","Total"]],body:[["Service Charges",`$${(g.laborSubtotal??0).toFixed(2)}`],["Travel Charges",`$${(g.travelChargesSubtotal??0).toFixed(2)}`],["Travel Expenses",`$${(g?.travel?.travelExpensesSubtotal??0).toFixed(2)}`],["Grand Total",`$${w.toFixed(2)}`]],theme:"grid",styles:{fontSize:6,cellPadding:1},headStyles:{fillColor:[173,216,230],fontSize:6}});const ot=R.lastAutoTable.finalY,dt=Math.max(xt,ot)+10;R.setFontSize(6),R.text("By signing you agree to the charges above and are satisfied with the service.",W,dt),R.text("Charges are APPROXIMATE unless stamped in lower right.",W,dt+3),R.setFont("helvetica","bold"),R.text("Thank you for your business.",W,dt+6);const ft=dt+12;R.setFont("helvetica","normal"),R.setFontSize(7);const Nt="Accepted By:",Wt=R.getTextWidth(Nt);if(R.text(Nt,Q-W-Wt-60,ft),R.line(Q-W-60,ft,Q-W,ft),j){const $=R.output("blob"),O=URL.createObjectURL($);return d(O),O}else R.save("JoshuaToddIndustriesServiceReport.pdf")}catch(R){console.error("Error generating PDF:",R),alert("Failed to generate PDF. See console for details.")}};Ot.useEffect(()=>(N(!0).then(j=>d(j)),()=>f&&URL.revokeObjectURL(f)),[e,s,i,o,u,h]);const M=()=>N(!1);return I.jsxs("div",{className:"mb-12",children:[I.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Service Report Preview"}),I.jsxs("div",{className:"flex gap-4 mb-4 flex-wrap",children:[I.jsx("button",{onClick:()=>t("/"),className:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600",children:"Time Sheet"}),I.jsx("button",{onClick:()=>t("/service-report"),className:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600",children:"Service Report"}),I.jsx("button",{onClick:()=>t("/invoice"),className:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600",children:"Invoice"}),I.jsx("button",{onClick:M,className:"bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600",children:"Export to PDF"})]}),I.jsx("div",{className:"w-[800px] h-[800px] overflow-auto border rounded",children:I.jsx(dx,{pdfDataUrl:f})})]})}function lD(){const n=Kf(),t=yh();if(!n)return console.error("TimeSheetContext is undefined"),I.jsx("div",{children:"Error: Time Sheet context is unavailable. Please try refreshing the page."});const{customerInfo:e,entries:i,travelData:s,invoiceInfo:o}=n,[u,h]=Ot.useState(null),f=c2(i||[],s||{});console.log("Charges in InvoicePage:",JSON.stringify(f,null,2));const d=S=>{try{if(console.log("Formatting date:",S),S&&S.includes("/"))return S;const[_,N,M]=S.split("-").map(Number),j=new Date(_,N-1,M);if(isNaN(j.getTime()))throw new Error("Invalid date");const R=String(j.getMonth()+1).padStart(2,"0"),Q=String(j.getDate()).padStart(2,"0"),W=String(j.getFullYear()).slice(-2);return console.log(`Formatted date: ${R}/${Q}/${W}`),`${R}/${Q}/${W}`}catch(_){return console.error("Error formatting date:",S,_),S||"Invalid Date"}},g=(S=!1)=>{try{if(console.log("Starting Invoice PDF generation",{preview:S}),console.log("Customer Info:",JSON.stringify(e,null,2)),console.log("Entries:",JSON.stringify(i,null,2)),console.log("Travel Data:",JSON.stringify(s,null,2)),console.log("Invoice Info:",JSON.stringify(o,null,2)),console.log("Charges:",JSON.stringify(f,null,2)),!Te||!Ca)throw new Error("jsPDF or jspdf-autotable is not loaded correctly.");const _=new Te;Ca(_,{});let N=10;_.setFontSize(9),_.text("Joshua Todd Industries, LLC Invoice",10,N),N+=4,_.text("Address: 1329 N Malibu Lane Gilbert, AZ 85234",10,N),N+=4,_.setFontSize(8),_.text(`Invoice Number: ${o?.invoiceNumber||"N/A"}`,10,N),_.text(`Due Date: ${o?.dueDate?d(o.dueDate):"N/A"}`,100,N),N+=4,_.text(`Invoice Date: ${o?.invoiceDate?d(o.invoiceDate):"N/A"}`,10,N),_.text(`PO Refer: ${o?.poRefer||"N/A"}`,100,N),N+=4,_.text("Email: josh@jtiaz.com",10,N),_.text(`Service Dates: ${o?.serviceDates||"N/A"}`,100,N),N+=4,_.text("Phone: (623) 300-6445",10,N),_.text(`Payment Terms: ${o?.paymentTerms||"N/A"}`,100,N),N+=4,_.setFontSize(9),_.text("Customer Information",10,N),N+=4;const M=[["Company",e?.company||"N/A","Contact",e?.contact||"N/A"],["Address",e?.address||"N/A","Phone",e?.phone||"N/A"],["City",e?.city||"N/A","Email",e?.email||"N/A"],["State",e?.state||"N/A","Purpose",e?.purpose||"N/A"]];Ca(_,{startY:N,head:[["Field","Value","Field","Value"]],body:M,theme:"grid",styles:{fontSize:8,cellPadding:2,overflow:"linebreak"},headStyles:{fillColor:[200,200,200],fontSize:8},margin:{left:10,right:10},columnStyles:{0:{cellWidth:30},1:{cellWidth:60},2:{cellWidth:30},3:{cellWidth:60}}}),N=_.lastAutoTable.finalY+4,_.setFontSize(9),_.text("Service Charges",10,N),N+=4,console.log("Charges tables margins:",{service:10,travel:10,expenses:10}),console.log("Charges tables widths:",{service:180,travel:180,expenses:180}),Ca(_,{startY:N,head:[["Category","Hours","Rate","Charge"]],body:[["Straight",f.straight?.hours.toFixed(2)||"0.00","$120",`$${f.straight?.charge.toFixed(2)||"0.00"}`],["Sat/OT",f.overtime?.hours.toFixed(2)||"0.00","$180",`$${f.overtime?.charge.toFixed(2)||"0.00"}`],["Sun/Hol",f.double?.hours.toFixed(2)||"0.00","$240",`$${f.double?.charge.toFixed(2)||"0.00"}`],["Subtotal","","",`$${f.laborSubtotal?.toFixed(2)||"0.00"}`]],theme:"grid",styles:{fontSize:8,cellPadding:2,overflow:"linebreak"},headStyles:{fillColor:[200,200,200],fontSize:8},margin:{left:10,right:10},columnStyles:{0:{cellWidth:30},1:{cellWidth:20},2:{cellWidth:20},3:{cellWidth:110}},didParseCell:R=>{R.column.index===3&&R.cell.section==="body"&&(R.cell.styles.fontStyle="bold")}}),N=_.lastAutoTable.finalY+4,_.setFontSize(9),_.text("Travel Charges",10,N),N+=4,Ca(_,{startY:N,head:[["Category","Hours","Rate","Charge"]],body:[["Weekday",f.weekdayTravel?.hours.toFixed(2)||"0.00","$80",`$${f.weekdayTravel?.charge.toFixed(2)||"0.00"}`],["Saturday",f.saturdayTravel?.hours.toFixed(2)||"0.00","$120",`$${f.saturdayTravel?.charge.toFixed(2)||"0.00"}`],["Sun/Hol",f.sundayTravel?.hours.toFixed(2)||"0.00","$160",`$${f.sundayTravel?.charge.toFixed(2)||"0.00"}`],["Subtotal","","",`$${f.travelChargesSubtotal?.toFixed(2)||"0.00"}`]],theme:"grid",styles:{fontSize:8,cellPadding:2,overflow:"linebreak"},headStyles:{fillColor:[200,200,200],fontSize:8},margin:{left:10,right:10},columnStyles:{0:{cellWidth:30},1:{cellWidth:20},2:{cellWidth:20},3:{cellWidth:110}},didParseCell:R=>{R.column.index===3&&R.cell.section==="body"&&(R.cell.styles.fontStyle="bold")}}),N=_.lastAutoTable.finalY+4,_.setFontSize(9),_.text("Travel Expenses",10,N),N+=4,Ca(_,{startY:N,head:[["Category","Amount","Details"]],body:[["Per Diem",`$${f.travel?.perDiemTotal.toFixed(2)||"0.00"}`,`${s?.perDiemType==="local"?"$65/day":"$220/day"}, ${s?.perDiemDays||0} days`],["Mileage",`$${f.travel?.mileageTotal.toFixed(2)||"0.00"}`,`${s?.mileage||0} miles at $0.63`],["Auto/Taxi",`$${f.travel?.otherTravel.toFixed(2)||"0.00"}`,""],["Airfare",`$${f.travel?.airTravel.toFixed(2)||"0.00"}`,`To: ${s?.airTravel?.destination||"N/A"}, From: ${s?.airTravel?.origin||"N/A"}, Return: ${s?.airTravel?.return||"N/A"}`],["Subtotal",`$${f.travel?.travelExpensesSubtotal.toFixed(2)||"0.00"}`,""]],theme:"grid",styles:{fontSize:8,cellPadding:2,overflow:"linebreak"},headStyles:{fillColor:[200,200,200],fontSize:8},margin:{left:10,right:10},columnStyles:{0:{cellWidth:30},1:{cellWidth:40},2:{cellWidth:110}},didParseCell:R=>{R.column.index===1&&R.cell.section==="body"&&(R.cell.styles.fontStyle="bold")}}),N=_.lastAutoTable.finalY+4,_.setFontSize(9),_.text("Total Charges",10,N),N+=4;const j=(f.laborSubtotal||0)+(f.travelChargesSubtotal||0)+(f.travel?.travelExpensesSubtotal||0);if(console.log("Total Charges calculated:",{laborSubtotal:f.laborSubtotal,travelChargesSubtotal:f.travelChargesSubtotal,travelExpensesSubtotal:f.travel?.travelExpensesSubtotal,totalCharges:j}),Ca(_,{startY:N,head:[["Category","Total"]],body:[["Service Charges",`$${f.laborSubtotal?.toFixed(2)||"0.00"}`],["Travel Charges",`$${f.travelChargesSubtotal?.toFixed(2)||"0.00"}`],["Travel Expenses",`$${f.travel?.travelExpensesSubtotal.toFixed(2)||"0.00"}`,""],["Grand Total",`$${j.toFixed(2)}`]],theme:"grid",styles:{fontSize:8,cellPadding:2,overflow:"linebreak"},headStyles:{fillColor:[200,200,200],fontSize:8},margin:{left:10,right:10},columnStyles:{0:{cellWidth:90},1:{cellWidth:90}},didParseCell:R=>{R.column.index===1&&R.cell.section==="body"&&(R.cell.styles.fontStyle="bold")}}),N=_.lastAutoTable.finalY+4,_.setFontSize(8),_.text("If not paying by ACH make checks payable to Joshua Todd Industries, LLC",10,N),N+=3,_.text("Any questions or concerns please contact Josh Lemmons at (623) 300-6445",10,N),N+=3,_.text("EMAIL: josh@jtiaz.com",10,N),N+=3,_.setFont("helvetica","bold"),_.text("THANK YOU FOR YOUR BUSINESS",10,N),_.setFont("helvetica","normal"),console.log("Final yOffset:",N),S){const R=_.output("blob"),Q=URL.createObjectURL(R);return h(Q),Q}else _.save(`Invoice_${o?.invoiceNumber||"2025016"}.pdf`),console.log("Invoice PDF generated successfully")}catch(_){console.error("Error generating Invoice PDF:",_.message,_.stack),alert("Failed to generate Invoice PDF. Check the console for details.")}};Ot.useEffect(()=>{const S=g(!0);return()=>{S&&URL.revokeObjectURL(S)}},[e,i,s,o]);const w=()=>{g(!1)};return I.jsxs("div",{className:"mb-12",children:[I.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Invoice Preview"}),I.jsxs("div",{className:"flex gap-4 mb-4 flex-wrap",children:[I.jsx("button",{onClick:()=>t("/"),className:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600",children:"Time Sheet"}),I.jsx("button",{onClick:()=>t("/service-report"),className:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600",children:"Service Report"}),I.jsx("button",{onClick:()=>t("/invoice"),className:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600",children:"Invoice"}),I.jsx("button",{onClick:w,className:"bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600",children:"Export to PDF"})]}),I.jsx("div",{className:"w-[800px] h-[800px] overflow-auto border rounded",children:u?I.jsx(dx,{pdfDataUrl:u}):I.jsx("p",{children:"Generating preview..."})})]})}function uD({children:n,isDark:t,toggleDarkMode:e}){return yh(),I.jsxs("div",{className:"min-h-screen",children:[I.jsx("header",{className:"nav shadow-sm",children:I.jsx("div",{className:"nav-inner",children:I.jsxs("div",{className:"flex justify-between items-center mb-4 sm:mb-6",children:[I.jsx("img",{src:i1,alt:"Logo",className:"h-16 sm:h-20 md:h-24 w-auto mx-auto"}),I.jsx("button",{onClick:e,className:"absolute right-4 top-4 px-3 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition text-sm",title:"Toggle Dark/Light Mode",children:t?" Light":" Dark"})]})})}),I.jsx("main",{className:"section",children:I.jsx("div",{className:"card",children:I.jsx("div",{className:"card-body p-2 sm:p-4",children:n})})})]})}function cD(){const[n]=ZA(),{loadFromHistory:t}=Kf();return Ot.useEffect(()=>{const e=n.get("id")||n.get("docId");e&&(console.log("Deep linking to timesheet:",e),t(e))},[n,t]),null}function hD(){const[n,t]=Ot.useState(()=>{const i=localStorage.getItem("timesheet-theme"),s=i?i==="dark":!0;return console.log("[Theme] Initial theme from localStorage:",i,"-> isDark:",s),s});Ot.useEffect(()=>{const i=n?"dark":"light";console.log("[Theme] Setting theme to:",i),document.documentElement.setAttribute("data-theme",i),localStorage.setItem("timesheet-theme",i)},[n]);const e=()=>{console.log("[Theme] Toggling from",n?"dark":"light","to",n?"light":"dark"),t(!n)};return I.jsx(WA,{children:I.jsxs(C7,{children:[I.jsx(cD,{}),I.jsx(uD,{isDark:n,toggleDarkMode:e,children:I.jsxs(AA,{children:[I.jsx(ap,{path:"/",element:I.jsx(sD,{})}),I.jsx(ap,{path:"/service-report",element:I.jsx(oD,{})}),I.jsx(ap,{path:"/invoice",element:I.jsx(lD,{})})]})})]})})}DS.createRoot(document.getElementById("root")).render(I.jsx(ES.StrictMode,{children:I.jsx(hD,{})}));export{Jn as _,fD as c,wS as g};
