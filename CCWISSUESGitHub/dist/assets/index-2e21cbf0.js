(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();var sl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function m0(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function GR(n){if(n.__esModule)return n;var e=n.default;if(typeof e=="function"){var t=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(r){var i=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:function(){return n[r]}})}),t}var dT={exports:{}},g0={},fT={exports:{}},Dt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var om=Symbol.for("react.element"),KR=Symbol.for("react.portal"),QR=Symbol.for("react.fragment"),YR=Symbol.for("react.strict_mode"),JR=Symbol.for("react.profiler"),XR=Symbol.for("react.provider"),ZR=Symbol.for("react.context"),e6=Symbol.for("react.forward_ref"),t6=Symbol.for("react.suspense"),n6=Symbol.for("react.memo"),r6=Symbol.for("react.lazy"),hI=Symbol.iterator;function i6(n){return n===null||typeof n!="object"?null:(n=hI&&n[hI]||n["@@iterator"],typeof n=="function"?n:null)}var pT={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},mT=Object.assign,gT={};function _d(n,e,t){this.props=n,this.context=e,this.refs=gT,this.updater=t||pT}_d.prototype.isReactComponent={};_d.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};_d.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function yT(){}yT.prototype=_d.prototype;function G_(n,e,t){this.props=n,this.context=e,this.refs=gT,this.updater=t||pT}var K_=G_.prototype=new yT;K_.constructor=G_;mT(K_,_d.prototype);K_.isPureReactComponent=!0;var dI=Array.isArray,vT=Object.prototype.hasOwnProperty,Q_={current:null},_T={key:!0,ref:!0,__self:!0,__source:!0};function wT(n,e,t){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)vT.call(e,r)&&!_T.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=t;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(n&&n.defaultProps)for(r in a=n.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:om,type:n,key:s,ref:o,props:i,_owner:Q_.current}}function s6(n,e){return{$$typeof:om,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function Y_(n){return typeof n=="object"&&n!==null&&n.$$typeof===om}function o6(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var fI=/\/+/g;function By(n,e){return typeof n=="object"&&n!==null&&n.key!=null?o6(""+n.key):e.toString(36)}function jg(n,e,t,r,i){var s=typeof n;(s==="undefined"||s==="boolean")&&(n=null);var o=!1;if(n===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(n.$$typeof){case om:case KR:o=!0}}if(o)return o=n,i=i(o),n=r===""?"."+By(o,0):r,dI(i)?(t="",n!=null&&(t=n.replace(fI,"$&/")+"/"),jg(i,e,t,"",function(c){return c})):i!=null&&(Y_(i)&&(i=s6(i,t+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(fI,"$&/")+"/")+n)),e.push(i)),1;if(o=0,r=r===""?".":r+":",dI(n))for(var a=0;a<n.length;a++){s=n[a];var l=r+By(s,a);o+=jg(s,e,t,l,i)}else if(l=i6(n),typeof l=="function")for(n=l.call(n),a=0;!(s=n.next()).done;)s=s.value,l=r+By(s,a++),o+=jg(s,e,t,l,i);else if(s==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function lg(n,e,t){if(n==null)return n;var r=[],i=0;return jg(n,r,"","",function(s){return e.call(t,s,i++)}),r}function a6(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var hi={current:null},Bg={transition:null},l6={ReactCurrentDispatcher:hi,ReactCurrentBatchConfig:Bg,ReactCurrentOwner:Q_};function bT(){throw Error("act(...) is not supported in production builds of React.")}Dt.Children={map:lg,forEach:function(n,e,t){lg(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return lg(n,function(){e++}),e},toArray:function(n){return lg(n,function(e){return e})||[]},only:function(n){if(!Y_(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};Dt.Component=_d;Dt.Fragment=QR;Dt.Profiler=JR;Dt.PureComponent=G_;Dt.StrictMode=YR;Dt.Suspense=t6;Dt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=l6;Dt.act=bT;Dt.cloneElement=function(n,e,t){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var r=mT({},n.props),i=n.key,s=n.ref,o=n._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Q_.current),e.key!==void 0&&(i=""+e.key),n.type&&n.type.defaultProps)var a=n.type.defaultProps;for(l in e)vT.call(e,l)&&!_T.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=t;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:om,type:n.type,key:i,ref:s,props:r,_owner:o}};Dt.createContext=function(n){return n={$$typeof:ZR,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:XR,_context:n},n.Consumer=n};Dt.createElement=wT;Dt.createFactory=function(n){var e=wT.bind(null,n);return e.type=n,e};Dt.createRef=function(){return{current:null}};Dt.forwardRef=function(n){return{$$typeof:e6,render:n}};Dt.isValidElement=Y_;Dt.lazy=function(n){return{$$typeof:r6,_payload:{_status:-1,_result:n},_init:a6}};Dt.memo=function(n,e){return{$$typeof:n6,type:n,compare:e===void 0?null:e}};Dt.startTransition=function(n){var e=Bg.transition;Bg.transition={};try{n()}finally{Bg.transition=e}};Dt.unstable_act=bT;Dt.useCallback=function(n,e){return hi.current.useCallback(n,e)};Dt.useContext=function(n){return hi.current.useContext(n)};Dt.useDebugValue=function(){};Dt.useDeferredValue=function(n){return hi.current.useDeferredValue(n)};Dt.useEffect=function(n,e){return hi.current.useEffect(n,e)};Dt.useId=function(){return hi.current.useId()};Dt.useImperativeHandle=function(n,e,t){return hi.current.useImperativeHandle(n,e,t)};Dt.useInsertionEffect=function(n,e){return hi.current.useInsertionEffect(n,e)};Dt.useLayoutEffect=function(n,e){return hi.current.useLayoutEffect(n,e)};Dt.useMemo=function(n,e){return hi.current.useMemo(n,e)};Dt.useReducer=function(n,e,t){return hi.current.useReducer(n,e,t)};Dt.useRef=function(n){return hi.current.useRef(n)};Dt.useState=function(n){return hi.current.useState(n)};Dt.useSyncExternalStore=function(n,e,t){return hi.current.useSyncExternalStore(n,e,t)};Dt.useTransition=function(){return hi.current.useTransition()};Dt.version="18.3.1";fT.exports=Dt;var se=fT.exports;const oi=m0(se);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var u6=se,c6=Symbol.for("react.element"),h6=Symbol.for("react.fragment"),d6=Object.prototype.hasOwnProperty,f6=u6.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p6={key:!0,ref:!0,__self:!0,__source:!0};function IT(n,e,t){var r,i={},s=null,o=null;t!==void 0&&(s=""+t),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)d6.call(e,r)&&!p6.hasOwnProperty(r)&&(i[r]=e[r]);if(n&&n.defaultProps)for(r in e=n.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:c6,type:n,key:s,ref:o,props:i,_owner:f6.current}}g0.Fragment=h6;g0.jsx=IT;g0.jsxs=IT;dT.exports=g0;var V=dT.exports,Hv={},ET={exports:{}},Qi={},ST={exports:{}},AT={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(K,Y){var oe=K.length;K.push(Y);e:for(;0<oe;){var me=oe-1>>>1,M=K[me];if(0<i(M,Y))K[me]=Y,K[oe]=M,oe=me;else break e}}function t(K){return K.length===0?null:K[0]}function r(K){if(K.length===0)return null;var Y=K[0],oe=K.pop();if(oe!==Y){K[0]=oe;e:for(var me=0,M=K.length,W=M>>>1;me<W;){var Q=2*(me+1)-1,te=K[Q],ne=Q+1,he=K[ne];if(0>i(te,oe))ne<M&&0>i(he,te)?(K[me]=he,K[ne]=oe,me=ne):(K[me]=te,K[Q]=oe,me=Q);else if(ne<M&&0>i(he,oe))K[me]=he,K[ne]=oe,me=ne;else break e}}return Y}function i(K,Y){var oe=K.sortIndex-Y.sortIndex;return oe!==0?oe:K.id-Y.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],c=[],d=1,f=null,p=3,g=!1,S=!1,x=!1,k=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(K){for(var Y=t(c);Y!==null;){if(Y.callback===null)r(c);else if(Y.startTime<=K)r(c),Y.sortIndex=Y.expirationTime,e(l,Y);else break;Y=t(c)}}function F(K){if(x=!1,E(K),!S)if(t(l)!==null)S=!0,ee(B);else{var Y=t(c);Y!==null&&X(F,Y.startTime-K)}}function B(K,Y){S=!1,x&&(x=!1,_(A),A=-1),g=!0;var oe=p;try{for(E(Y),f=t(l);f!==null&&(!(f.expirationTime>Y)||K&&!T());){var me=f.callback;if(typeof me=="function"){f.callback=null,p=f.priorityLevel;var M=me(f.expirationTime<=Y);Y=n.unstable_now(),typeof M=="function"?f.callback=M:f===t(l)&&r(l),E(Y)}else r(l);f=t(l)}if(f!==null)var W=!0;else{var Q=t(c);Q!==null&&X(F,Q.startTime-Y),W=!1}return W}finally{f=null,p=oe,g=!1}}var U=!1,N=null,A=-1,C=5,D=-1;function T(){return!(n.unstable_now()-D<C)}function P(){if(N!==null){var K=n.unstable_now();D=K;var Y=!0;try{Y=N(!0,K)}finally{Y?L():(U=!1,N=null)}}else U=!1}var L;if(typeof b=="function")L=function(){b(P)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,ue=G.port2;G.port1.onmessage=P,L=function(){ue.postMessage(null)}}else L=function(){k(P,0)};function ee(K){N=K,U||(U=!0,L())}function X(K,Y){A=k(function(){K(n.unstable_now())},Y)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(K){K.callback=null},n.unstable_continueExecution=function(){S||g||(S=!0,ee(B))},n.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<K?Math.floor(1e3/K):5},n.unstable_getCurrentPriorityLevel=function(){return p},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(K){switch(p){case 1:case 2:case 3:var Y=3;break;default:Y=p}var oe=p;p=Y;try{return K()}finally{p=oe}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(K,Y){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var oe=p;p=K;try{return Y()}finally{p=oe}},n.unstable_scheduleCallback=function(K,Y,oe){var me=n.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?me+oe:me):oe=me,K){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=oe+M,K={id:d++,callback:Y,priorityLevel:K,startTime:oe,expirationTime:M,sortIndex:-1},oe>me?(K.sortIndex=oe,e(c,K),t(l)===null&&K===t(c)&&(x?(_(A),A=-1):x=!0,X(F,oe-me))):(K.sortIndex=M,e(l,K),S||g||(S=!0,ee(B))),K},n.unstable_shouldYield=T,n.unstable_wrapCallback=function(K){var Y=p;return function(){var oe=p;p=Y;try{return K.apply(this,arguments)}finally{p=oe}}}})(AT);ST.exports=AT;var m6=ST.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var g6=se,Gi=m6;function Me(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var TT=new Set,gp={};function gc(n,e){zh(n,e),zh(n+"Capture",e)}function zh(n,e){for(gp[n]=e,n=0;n<e.length;n++)TT.add(e[n])}var la=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Gv=Object.prototype.hasOwnProperty,y6=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,pI={},mI={};function v6(n){return Gv.call(mI,n)?!0:Gv.call(pI,n)?!1:y6.test(n)?mI[n]=!0:(pI[n]=!0,!1)}function _6(n,e,t,r){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function w6(n,e,t,r){if(e===null||typeof e>"u"||_6(n,e,t,r))return!0;if(r)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function di(n,e,t,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var kr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){kr[n]=new di(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];kr[e]=new di(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){kr[n]=new di(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){kr[n]=new di(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){kr[n]=new di(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){kr[n]=new di(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){kr[n]=new di(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){kr[n]=new di(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){kr[n]=new di(n,5,!1,n.toLowerCase(),null,!1,!1)});var J_=/[\-:]([a-z])/g;function X_(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(J_,X_);kr[e]=new di(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(J_,X_);kr[e]=new di(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(J_,X_);kr[e]=new di(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){kr[n]=new di(n,1,!1,n.toLowerCase(),null,!1,!1)});kr.xlinkHref=new di("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){kr[n]=new di(n,1,!1,n.toLowerCase(),null,!0,!0)});function Z_(n,e,t,r){var i=kr.hasOwnProperty(e)?kr[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(w6(e,t,i,r)&&(t=null),r||i===null?v6(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):i.mustUseProperty?n[i.propertyName]=t===null?i.type===3?!1:"":t:(e=i.attributeName,r=i.attributeNamespace,t===null?n.removeAttribute(e):(i=i.type,t=i===3||i===4&&t===!0?"":""+t,r?n.setAttributeNS(r,e,t):n.setAttribute(e,t))))}var ya=g6.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ug=Symbol.for("react.element"),yh=Symbol.for("react.portal"),vh=Symbol.for("react.fragment"),ew=Symbol.for("react.strict_mode"),Kv=Symbol.for("react.profiler"),xT=Symbol.for("react.provider"),PT=Symbol.for("react.context"),tw=Symbol.for("react.forward_ref"),Qv=Symbol.for("react.suspense"),Yv=Symbol.for("react.suspense_list"),nw=Symbol.for("react.memo"),nl=Symbol.for("react.lazy"),NT=Symbol.for("react.offscreen"),gI=Symbol.iterator;function af(n){return n===null||typeof n!="object"?null:(n=gI&&n[gI]||n["@@iterator"],typeof n=="function"?n:null)}var kn=Object.assign,Uy;function xf(n){if(Uy===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);Uy=e&&e[1]||""}return`
`+Uy+n}var zy=!1;function qy(n,e){if(!n||zy)return"";zy=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(n,[],e)}else{try{e.call()}catch(c){r=c}n.call(e.prototype)}else{try{throw Error()}catch(c){r=c}n()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return n.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",n.displayName)),l}while(1<=o&&0<=a);break}}}finally{zy=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?xf(n):""}function b6(n){switch(n.tag){case 5:return xf(n.type);case 16:return xf("Lazy");case 13:return xf("Suspense");case 19:return xf("SuspenseList");case 0:case 2:case 15:return n=qy(n.type,!1),n;case 11:return n=qy(n.type.render,!1),n;case 1:return n=qy(n.type,!0),n;default:return""}}function Jv(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case vh:return"Fragment";case yh:return"Portal";case Kv:return"Profiler";case ew:return"StrictMode";case Qv:return"Suspense";case Yv:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case PT:return(n.displayName||"Context")+".Consumer";case xT:return(n._context.displayName||"Context")+".Provider";case tw:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case nw:return e=n.displayName||null,e!==null?e:Jv(n.type)||"Memo";case nl:e=n._payload,n=n._init;try{return Jv(n(e))}catch{}}return null}function I6(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Jv(e);case 8:return e===ew?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Cl(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function CT(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function E6(n){var e=CT(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),r=""+n[e];if(!n.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var i=t.get,s=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function cg(n){n._valueTracker||(n._valueTracker=E6(n))}function kT(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),r="";return n&&(r=CT(n)?n.checked?"true":"false":n.value),n=r,n!==t?(e.setValue(n),!0):!1}function m1(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function Xv(n,e){var t=e.checked;return kn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??n._wrapperState.initialChecked})}function yI(n,e){var t=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;t=Cl(e.value!=null?e.value:t),n._wrapperState={initialChecked:r,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function RT(n,e){e=e.checked,e!=null&&Z_(n,"checked",e,!1)}function Zv(n,e){RT(n,e);var t=Cl(e.value),r=e.type;if(t!=null)r==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(r==="submit"||r==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?e2(n,e.type,t):e.hasOwnProperty("defaultValue")&&e2(n,e.type,Cl(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function vI(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function e2(n,e,t){(e!=="number"||m1(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}var Pf=Array.isArray;function Ch(n,e,t,r){if(n=n.options,e){e={};for(var i=0;i<t.length;i++)e["$"+t[i]]=!0;for(t=0;t<n.length;t++)i=e.hasOwnProperty("$"+n[t].value),n[t].selected!==i&&(n[t].selected=i),i&&r&&(n[t].defaultSelected=!0)}else{for(t=""+Cl(t),e=null,i=0;i<n.length;i++){if(n[i].value===t){n[i].selected=!0,r&&(n[i].defaultSelected=!0);return}e!==null||n[i].disabled||(e=n[i])}e!==null&&(e.selected=!0)}}function t2(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Me(91));return kn({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function _I(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(Me(92));if(Pf(t)){if(1<t.length)throw Error(Me(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:Cl(t)}}function LT(n,e){var t=Cl(e.value),r=Cl(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),r!=null&&(n.defaultValue=""+r)}function wI(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function DT(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function n2(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?DT(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var hg,OT=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,r,i){MSApp.execUnsafeLocalFunction(function(){return n(e,t,r,i)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(hg=hg||document.createElement("div"),hg.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=hg.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function yp(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var Uf={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},S6=["Webkit","ms","Moz","O"];Object.keys(Uf).forEach(function(n){S6.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),Uf[e]=Uf[n]})});function FT(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||Uf.hasOwnProperty(n)&&Uf[n]?(""+e).trim():e+"px"}function MT(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var r=t.indexOf("--")===0,i=FT(t,e[t],r);t==="float"&&(t="cssFloat"),r?n.setProperty(t,i):n[t]=i}}var A6=kn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function r2(n,e){if(e){if(A6[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Me(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Me(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Me(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Me(62))}}function i2(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var s2=null;function rw(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var o2=null,kh=null,Rh=null;function bI(n){if(n=um(n)){if(typeof o2!="function")throw Error(Me(280));var e=n.stateNode;e&&(e=b0(e),o2(n.stateNode,n.type,e))}}function VT(n){kh?Rh?Rh.push(n):Rh=[n]:kh=n}function jT(){if(kh){var n=kh,e=Rh;if(Rh=kh=null,bI(n),e)for(n=0;n<e.length;n++)bI(e[n])}}function BT(n,e){return n(e)}function UT(){}var $y=!1;function zT(n,e,t){if($y)return n(e,t);$y=!0;try{return BT(n,e,t)}finally{$y=!1,(kh!==null||Rh!==null)&&(UT(),jT())}}function vp(n,e){var t=n.stateNode;if(t===null)return null;var r=b0(t);if(r===null)return null;t=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(n=n.type,r=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!r;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(Me(231,e,typeof t));return t}var a2=!1;if(la)try{var lf={};Object.defineProperty(lf,"passive",{get:function(){a2=!0}}),window.addEventListener("test",lf,lf),window.removeEventListener("test",lf,lf)}catch{a2=!1}function T6(n,e,t,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(t,c)}catch(d){this.onError(d)}}var zf=!1,g1=null,y1=!1,l2=null,x6={onError:function(n){zf=!0,g1=n}};function P6(n,e,t,r,i,s,o,a,l){zf=!1,g1=null,T6.apply(x6,arguments)}function N6(n,e,t,r,i,s,o,a,l){if(P6.apply(this,arguments),zf){if(zf){var c=g1;zf=!1,g1=null}else throw Error(Me(198));y1||(y1=!0,l2=c)}}function yc(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function qT(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function II(n){if(yc(n)!==n)throw Error(Me(188))}function C6(n){var e=n.alternate;if(!e){if(e=yc(n),e===null)throw Error(Me(188));return e!==n?null:n}for(var t=n,r=e;;){var i=t.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){t=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===t)return II(i),n;if(s===r)return II(i),e;s=s.sibling}throw Error(Me(188))}if(t.return!==r.return)t=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===t){o=!0,t=i,r=s;break}if(a===r){o=!0,r=i,t=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===t){o=!0,t=s,r=i;break}if(a===r){o=!0,r=s,t=i;break}a=a.sibling}if(!o)throw Error(Me(189))}}if(t.alternate!==r)throw Error(Me(190))}if(t.tag!==3)throw Error(Me(188));return t.stateNode.current===t?n:e}function $T(n){return n=C6(n),n!==null?WT(n):null}function WT(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=WT(n);if(e!==null)return e;n=n.sibling}return null}var HT=Gi.unstable_scheduleCallback,EI=Gi.unstable_cancelCallback,k6=Gi.unstable_shouldYield,R6=Gi.unstable_requestPaint,qn=Gi.unstable_now,L6=Gi.unstable_getCurrentPriorityLevel,iw=Gi.unstable_ImmediatePriority,GT=Gi.unstable_UserBlockingPriority,v1=Gi.unstable_NormalPriority,D6=Gi.unstable_LowPriority,KT=Gi.unstable_IdlePriority,y0=null,To=null;function O6(n){if(To&&typeof To.onCommitFiberRoot=="function")try{To.onCommitFiberRoot(y0,n,void 0,(n.current.flags&128)===128)}catch{}}var qs=Math.clz32?Math.clz32:V6,F6=Math.log,M6=Math.LN2;function V6(n){return n>>>=0,n===0?32:31-(F6(n)/M6|0)|0}var dg=64,fg=4194304;function Nf(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function _1(n,e){var t=n.pendingLanes;if(t===0)return 0;var r=0,i=n.suspendedLanes,s=n.pingedLanes,o=t&268435455;if(o!==0){var a=o&~i;a!==0?r=Nf(a):(s&=o,s!==0&&(r=Nf(s)))}else o=t&~i,o!==0?r=Nf(o):s!==0&&(r=Nf(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=t&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=r;0<e;)t=31-qs(e),i=1<<t,r|=n[t],e&=~i;return r}function j6(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function B6(n,e){for(var t=n.suspendedLanes,r=n.pingedLanes,i=n.expirationTimes,s=n.pendingLanes;0<s;){var o=31-qs(s),a=1<<o,l=i[o];l===-1?(!(a&t)||a&r)&&(i[o]=j6(a,e)):l<=e&&(n.expiredLanes|=a),s&=~a}}function u2(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function QT(){var n=dg;return dg<<=1,!(dg&4194240)&&(dg=64),n}function Wy(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function am(n,e,t){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-qs(e),n[e]=t}function U6(n,e){var t=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var r=n.eventTimes;for(n=n.expirationTimes;0<t;){var i=31-qs(t),s=1<<i;e[i]=0,r[i]=-1,n[i]=-1,t&=~s}}function sw(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var r=31-qs(t),i=1<<r;i&e|n[r]&e&&(n[r]|=e),t&=~i}}var Zt=0;function YT(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var JT,ow,XT,ZT,ex,c2=!1,pg=[],gl=null,yl=null,vl=null,_p=new Map,wp=new Map,ol=[],z6="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function SI(n,e){switch(n){case"focusin":case"focusout":gl=null;break;case"dragenter":case"dragleave":yl=null;break;case"mouseover":case"mouseout":vl=null;break;case"pointerover":case"pointerout":_p.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":wp.delete(e.pointerId)}}function uf(n,e,t,r,i,s){return n===null||n.nativeEvent!==s?(n={blockedOn:e,domEventName:t,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=um(e),e!==null&&ow(e)),n):(n.eventSystemFlags|=r,e=n.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),n)}function q6(n,e,t,r,i){switch(e){case"focusin":return gl=uf(gl,n,e,t,r,i),!0;case"dragenter":return yl=uf(yl,n,e,t,r,i),!0;case"mouseover":return vl=uf(vl,n,e,t,r,i),!0;case"pointerover":var s=i.pointerId;return _p.set(s,uf(_p.get(s)||null,n,e,t,r,i)),!0;case"gotpointercapture":return s=i.pointerId,wp.set(s,uf(wp.get(s)||null,n,e,t,r,i)),!0}return!1}function tx(n){var e=Fu(n.target);if(e!==null){var t=yc(e);if(t!==null){if(e=t.tag,e===13){if(e=qT(t),e!==null){n.blockedOn=e,ex(n.priority,function(){XT(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Ug(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=h2(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t===null){t=n.nativeEvent;var r=new t.constructor(t.type,t);s2=r,t.target.dispatchEvent(r),s2=null}else return e=um(t),e!==null&&ow(e),n.blockedOn=t,!1;e.shift()}return!0}function AI(n,e,t){Ug(n)&&t.delete(e)}function $6(){c2=!1,gl!==null&&Ug(gl)&&(gl=null),yl!==null&&Ug(yl)&&(yl=null),vl!==null&&Ug(vl)&&(vl=null),_p.forEach(AI),wp.forEach(AI)}function cf(n,e){n.blockedOn===e&&(n.blockedOn=null,c2||(c2=!0,Gi.unstable_scheduleCallback(Gi.unstable_NormalPriority,$6)))}function bp(n){function e(i){return cf(i,n)}if(0<pg.length){cf(pg[0],n);for(var t=1;t<pg.length;t++){var r=pg[t];r.blockedOn===n&&(r.blockedOn=null)}}for(gl!==null&&cf(gl,n),yl!==null&&cf(yl,n),vl!==null&&cf(vl,n),_p.forEach(e),wp.forEach(e),t=0;t<ol.length;t++)r=ol[t],r.blockedOn===n&&(r.blockedOn=null);for(;0<ol.length&&(t=ol[0],t.blockedOn===null);)tx(t),t.blockedOn===null&&ol.shift()}var Lh=ya.ReactCurrentBatchConfig,w1=!0;function W6(n,e,t,r){var i=Zt,s=Lh.transition;Lh.transition=null;try{Zt=1,aw(n,e,t,r)}finally{Zt=i,Lh.transition=s}}function H6(n,e,t,r){var i=Zt,s=Lh.transition;Lh.transition=null;try{Zt=4,aw(n,e,t,r)}finally{Zt=i,Lh.transition=s}}function aw(n,e,t,r){if(w1){var i=h2(n,e,t,r);if(i===null)tv(n,e,r,b1,t),SI(n,r);else if(q6(i,n,e,t,r))r.stopPropagation();else if(SI(n,r),e&4&&-1<z6.indexOf(n)){for(;i!==null;){var s=um(i);if(s!==null&&JT(s),s=h2(n,e,t,r),s===null&&tv(n,e,r,b1,t),s===i)break;i=s}i!==null&&r.stopPropagation()}else tv(n,e,r,null,t)}}var b1=null;function h2(n,e,t,r){if(b1=null,n=rw(r),n=Fu(n),n!==null)if(e=yc(n),e===null)n=null;else if(t=e.tag,t===13){if(n=qT(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return b1=n,null}function nx(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(L6()){case iw:return 1;case GT:return 4;case v1:case D6:return 16;case KT:return 536870912;default:return 16}default:return 16}}var cl=null,lw=null,zg=null;function rx(){if(zg)return zg;var n,e=lw,t=e.length,r,i="value"in cl?cl.value:cl.textContent,s=i.length;for(n=0;n<t&&e[n]===i[n];n++);var o=t-n;for(r=1;r<=o&&e[t-r]===i[s-r];r++);return zg=i.slice(n,1<r?1-r:void 0)}function qg(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function mg(){return!0}function TI(){return!1}function Yi(n){function e(t,r,i,s,o){this._reactName=t,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in n)n.hasOwnProperty(a)&&(t=n[a],this[a]=t?t(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?mg:TI,this.isPropagationStopped=TI,this}return kn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=mg)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=mg)},persist:function(){},isPersistent:mg}),e}var wd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},uw=Yi(wd),lm=kn({},wd,{view:0,detail:0}),G6=Yi(lm),Hy,Gy,hf,v0=kn({},lm,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:cw,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==hf&&(hf&&n.type==="mousemove"?(Hy=n.screenX-hf.screenX,Gy=n.screenY-hf.screenY):Gy=Hy=0,hf=n),Hy)},movementY:function(n){return"movementY"in n?n.movementY:Gy}}),xI=Yi(v0),K6=kn({},v0,{dataTransfer:0}),Q6=Yi(K6),Y6=kn({},lm,{relatedTarget:0}),Ky=Yi(Y6),J6=kn({},wd,{animationName:0,elapsedTime:0,pseudoElement:0}),X6=Yi(J6),Z6=kn({},wd,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),eL=Yi(Z6),tL=kn({},wd,{data:0}),PI=Yi(tL),nL={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},rL={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},iL={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function sL(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=iL[n])?!!e[n]:!1}function cw(){return sL}var oL=kn({},lm,{key:function(n){if(n.key){var e=nL[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=qg(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?rL[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:cw,charCode:function(n){return n.type==="keypress"?qg(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?qg(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),aL=Yi(oL),lL=kn({},v0,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),NI=Yi(lL),uL=kn({},lm,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:cw}),cL=Yi(uL),hL=kn({},wd,{propertyName:0,elapsedTime:0,pseudoElement:0}),dL=Yi(hL),fL=kn({},v0,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),pL=Yi(fL),mL=[9,13,27,32],hw=la&&"CompositionEvent"in window,qf=null;la&&"documentMode"in document&&(qf=document.documentMode);var gL=la&&"TextEvent"in window&&!qf,ix=la&&(!hw||qf&&8<qf&&11>=qf),CI=String.fromCharCode(32),kI=!1;function sx(n,e){switch(n){case"keyup":return mL.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ox(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var _h=!1;function yL(n,e){switch(n){case"compositionend":return ox(e);case"keypress":return e.which!==32?null:(kI=!0,CI);case"textInput":return n=e.data,n===CI&&kI?null:n;default:return null}}function vL(n,e){if(_h)return n==="compositionend"||!hw&&sx(n,e)?(n=rx(),zg=lw=cl=null,_h=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return ix&&e.locale!=="ko"?null:e.data;default:return null}}var _L={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function RI(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!_L[n.type]:e==="textarea"}function ax(n,e,t,r){VT(r),e=I1(e,"onChange"),0<e.length&&(t=new uw("onChange","change",null,t,r),n.push({event:t,listeners:e}))}var $f=null,Ip=null;function wL(n){vx(n,0)}function _0(n){var e=Ih(n);if(kT(e))return n}function bL(n,e){if(n==="change")return e}var lx=!1;if(la){var Qy;if(la){var Yy="oninput"in document;if(!Yy){var LI=document.createElement("div");LI.setAttribute("oninput","return;"),Yy=typeof LI.oninput=="function"}Qy=Yy}else Qy=!1;lx=Qy&&(!document.documentMode||9<document.documentMode)}function DI(){$f&&($f.detachEvent("onpropertychange",ux),Ip=$f=null)}function ux(n){if(n.propertyName==="value"&&_0(Ip)){var e=[];ax(e,Ip,n,rw(n)),zT(wL,e)}}function IL(n,e,t){n==="focusin"?(DI(),$f=e,Ip=t,$f.attachEvent("onpropertychange",ux)):n==="focusout"&&DI()}function EL(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return _0(Ip)}function SL(n,e){if(n==="click")return _0(e)}function AL(n,e){if(n==="input"||n==="change")return _0(e)}function TL(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var Ks=typeof Object.is=="function"?Object.is:TL;function Ep(n,e){if(Ks(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),r=Object.keys(e);if(t.length!==r.length)return!1;for(r=0;r<t.length;r++){var i=t[r];if(!Gv.call(e,i)||!Ks(n[i],e[i]))return!1}return!0}function OI(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function FI(n,e){var t=OI(n);n=0;for(var r;t;){if(t.nodeType===3){if(r=n+t.textContent.length,n<=e&&r>=e)return{node:t,offset:e-n};n=r}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=OI(t)}}function cx(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?cx(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function hx(){for(var n=window,e=m1();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=m1(n.document)}return e}function dw(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function xL(n){var e=hx(),t=n.focusedElem,r=n.selectionRange;if(e!==t&&t&&t.ownerDocument&&cx(t.ownerDocument.documentElement,t)){if(r!==null&&dw(t)){if(e=r.start,n=r.end,n===void 0&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if(n=(e=t.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var i=t.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!n.extend&&s>r&&(i=r,r=s,s=i),i=FI(t,s);var o=FI(t,r);i&&o&&(n.rangeCount!==1||n.anchorNode!==i.node||n.anchorOffset!==i.offset||n.focusNode!==o.node||n.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),n.removeAllRanges(),s>r?(n.addRange(e),n.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),n.addRange(e)))}}for(e=[],n=t;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)n=e[t],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var PL=la&&"documentMode"in document&&11>=document.documentMode,wh=null,d2=null,Wf=null,f2=!1;function MI(n,e,t){var r=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;f2||wh==null||wh!==m1(r)||(r=wh,"selectionStart"in r&&dw(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Wf&&Ep(Wf,r)||(Wf=r,r=I1(d2,"onSelect"),0<r.length&&(e=new uw("onSelect","select",null,e,t),n.push({event:e,listeners:r}),e.target=wh)))}function gg(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var bh={animationend:gg("Animation","AnimationEnd"),animationiteration:gg("Animation","AnimationIteration"),animationstart:gg("Animation","AnimationStart"),transitionend:gg("Transition","TransitionEnd")},Jy={},dx={};la&&(dx=document.createElement("div").style,"AnimationEvent"in window||(delete bh.animationend.animation,delete bh.animationiteration.animation,delete bh.animationstart.animation),"TransitionEvent"in window||delete bh.transitionend.transition);function w0(n){if(Jy[n])return Jy[n];if(!bh[n])return n;var e=bh[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in dx)return Jy[n]=e[t];return n}var fx=w0("animationend"),px=w0("animationiteration"),mx=w0("animationstart"),gx=w0("transitionend"),yx=new Map,VI="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Hl(n,e){yx.set(n,e),gc(e,[n])}for(var Xy=0;Xy<VI.length;Xy++){var Zy=VI[Xy],NL=Zy.toLowerCase(),CL=Zy[0].toUpperCase()+Zy.slice(1);Hl(NL,"on"+CL)}Hl(fx,"onAnimationEnd");Hl(px,"onAnimationIteration");Hl(mx,"onAnimationStart");Hl("dblclick","onDoubleClick");Hl("focusin","onFocus");Hl("focusout","onBlur");Hl(gx,"onTransitionEnd");zh("onMouseEnter",["mouseout","mouseover"]);zh("onMouseLeave",["mouseout","mouseover"]);zh("onPointerEnter",["pointerout","pointerover"]);zh("onPointerLeave",["pointerout","pointerover"]);gc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));gc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));gc("onBeforeInput",["compositionend","keypress","textInput","paste"]);gc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));gc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));gc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Cf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kL=new Set("cancel close invalid load scroll toggle".split(" ").concat(Cf));function jI(n,e,t){var r=n.type||"unknown-event";n.currentTarget=t,N6(r,e,void 0,n),n.currentTarget=null}function vx(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var r=n[t],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;jI(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;jI(i,a,c),s=l}}}if(y1)throw n=l2,y1=!1,l2=null,n}function gn(n,e){var t=e[v2];t===void 0&&(t=e[v2]=new Set);var r=n+"__bubble";t.has(r)||(_x(e,n,2,!1),t.add(r))}function ev(n,e,t){var r=0;e&&(r|=4),_x(t,n,r,e)}var yg="_reactListening"+Math.random().toString(36).slice(2);function Sp(n){if(!n[yg]){n[yg]=!0,TT.forEach(function(t){t!=="selectionchange"&&(kL.has(t)||ev(t,!1,n),ev(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[yg]||(e[yg]=!0,ev("selectionchange",!1,e))}}function _x(n,e,t,r){switch(nx(e)){case 1:var i=W6;break;case 4:i=H6;break;default:i=aw}t=i.bind(null,e,t,n),i=void 0,!a2||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?n.addEventListener(e,t,{capture:!0,passive:i}):n.addEventListener(e,t,!0):i!==void 0?n.addEventListener(e,t,{passive:i}):n.addEventListener(e,t,!1)}function tv(n,e,t,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Fu(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}zT(function(){var c=s,d=rw(t),f=[];e:{var p=yx.get(n);if(p!==void 0){var g=uw,S=n;switch(n){case"keypress":if(qg(t)===0)break e;case"keydown":case"keyup":g=aL;break;case"focusin":S="focus",g=Ky;break;case"focusout":S="blur",g=Ky;break;case"beforeblur":case"afterblur":g=Ky;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=xI;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=Q6;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=cL;break;case fx:case px:case mx:g=X6;break;case gx:g=dL;break;case"scroll":g=G6;break;case"wheel":g=pL;break;case"copy":case"cut":case"paste":g=eL;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=NI}var x=(e&4)!==0,k=!x&&n==="scroll",_=x?p!==null?p+"Capture":null:p;x=[];for(var b=c,E;b!==null;){E=b;var F=E.stateNode;if(E.tag===5&&F!==null&&(E=F,_!==null&&(F=vp(b,_),F!=null&&x.push(Ap(b,F,E)))),k)break;b=b.return}0<x.length&&(p=new g(p,S,null,t,d),f.push({event:p,listeners:x}))}}if(!(e&7)){e:{if(p=n==="mouseover"||n==="pointerover",g=n==="mouseout"||n==="pointerout",p&&t!==s2&&(S=t.relatedTarget||t.fromElement)&&(Fu(S)||S[ua]))break e;if((g||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,g?(S=t.relatedTarget||t.toElement,g=c,S=S?Fu(S):null,S!==null&&(k=yc(S),S!==k||S.tag!==5&&S.tag!==6)&&(S=null)):(g=null,S=c),g!==S)){if(x=xI,F="onMouseLeave",_="onMouseEnter",b="mouse",(n==="pointerout"||n==="pointerover")&&(x=NI,F="onPointerLeave",_="onPointerEnter",b="pointer"),k=g==null?p:Ih(g),E=S==null?p:Ih(S),p=new x(F,b+"leave",g,t,d),p.target=k,p.relatedTarget=E,F=null,Fu(d)===c&&(x=new x(_,b+"enter",S,t,d),x.target=E,x.relatedTarget=k,F=x),k=F,g&&S)t:{for(x=g,_=S,b=0,E=x;E;E=Zc(E))b++;for(E=0,F=_;F;F=Zc(F))E++;for(;0<b-E;)x=Zc(x),b--;for(;0<E-b;)_=Zc(_),E--;for(;b--;){if(x===_||_!==null&&x===_.alternate)break t;x=Zc(x),_=Zc(_)}x=null}else x=null;g!==null&&BI(f,p,g,x,!1),S!==null&&k!==null&&BI(f,k,S,x,!0)}}e:{if(p=c?Ih(c):window,g=p.nodeName&&p.nodeName.toLowerCase(),g==="select"||g==="input"&&p.type==="file")var B=bL;else if(RI(p))if(lx)B=AL;else{B=EL;var U=IL}else(g=p.nodeName)&&g.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(B=SL);if(B&&(B=B(n,c))){ax(f,B,t,d);break e}U&&U(n,p,c),n==="focusout"&&(U=p._wrapperState)&&U.controlled&&p.type==="number"&&e2(p,"number",p.value)}switch(U=c?Ih(c):window,n){case"focusin":(RI(U)||U.contentEditable==="true")&&(wh=U,d2=c,Wf=null);break;case"focusout":Wf=d2=wh=null;break;case"mousedown":f2=!0;break;case"contextmenu":case"mouseup":case"dragend":f2=!1,MI(f,t,d);break;case"selectionchange":if(PL)break;case"keydown":case"keyup":MI(f,t,d)}var N;if(hw)e:{switch(n){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else _h?sx(n,t)&&(A="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(A="onCompositionStart");A&&(ix&&t.locale!=="ko"&&(_h||A!=="onCompositionStart"?A==="onCompositionEnd"&&_h&&(N=rx()):(cl=d,lw="value"in cl?cl.value:cl.textContent,_h=!0)),U=I1(c,A),0<U.length&&(A=new PI(A,n,null,t,d),f.push({event:A,listeners:U}),N?A.data=N:(N=ox(t),N!==null&&(A.data=N)))),(N=gL?yL(n,t):vL(n,t))&&(c=I1(c,"onBeforeInput"),0<c.length&&(d=new PI("onBeforeInput","beforeinput",null,t,d),f.push({event:d,listeners:c}),d.data=N))}vx(f,e)})}function Ap(n,e,t){return{instance:n,listener:e,currentTarget:t}}function I1(n,e){for(var t=e+"Capture",r=[];n!==null;){var i=n,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=vp(n,t),s!=null&&r.unshift(Ap(n,s,i)),s=vp(n,e),s!=null&&r.push(Ap(n,s,i))),n=n.return}return r}function Zc(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function BI(n,e,t,r,i){for(var s=e._reactName,o=[];t!==null&&t!==r;){var a=t,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=vp(t,s),l!=null&&o.unshift(Ap(t,l,a))):i||(l=vp(t,s),l!=null&&o.push(Ap(t,l,a)))),t=t.return}o.length!==0&&n.push({event:e,listeners:o})}var RL=/\r\n?/g,LL=/\u0000|\uFFFD/g;function UI(n){return(typeof n=="string"?n:""+n).replace(RL,`
`).replace(LL,"")}function vg(n,e,t){if(e=UI(e),UI(n)!==e&&t)throw Error(Me(425))}function E1(){}var p2=null,m2=null;function g2(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var y2=typeof setTimeout=="function"?setTimeout:void 0,DL=typeof clearTimeout=="function"?clearTimeout:void 0,zI=typeof Promise=="function"?Promise:void 0,OL=typeof queueMicrotask=="function"?queueMicrotask:typeof zI<"u"?function(n){return zI.resolve(null).then(n).catch(FL)}:y2;function FL(n){setTimeout(function(){throw n})}function nv(n,e){var t=e,r=0;do{var i=t.nextSibling;if(n.removeChild(t),i&&i.nodeType===8)if(t=i.data,t==="/$"){if(r===0){n.removeChild(i),bp(e);return}r--}else t!=="$"&&t!=="$?"&&t!=="$!"||r++;t=i}while(t);bp(e)}function _l(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function qI(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var bd=Math.random().toString(36).slice(2),yo="__reactFiber$"+bd,Tp="__reactProps$"+bd,ua="__reactContainer$"+bd,v2="__reactEvents$"+bd,ML="__reactListeners$"+bd,VL="__reactHandles$"+bd;function Fu(n){var e=n[yo];if(e)return e;for(var t=n.parentNode;t;){if(e=t[ua]||t[yo]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=qI(n);n!==null;){if(t=n[yo])return t;n=qI(n)}return e}n=t,t=n.parentNode}return null}function um(n){return n=n[yo]||n[ua],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function Ih(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(Me(33))}function b0(n){return n[Tp]||null}var _2=[],Eh=-1;function Gl(n){return{current:n}}function _n(n){0>Eh||(n.current=_2[Eh],_2[Eh]=null,Eh--)}function dn(n,e){Eh++,_2[Eh]=n.current,n.current=e}var kl={},Hr=Gl(kl),Ni=Gl(!1),Zu=kl;function qh(n,e){var t=n.type.contextTypes;if(!t)return kl;var r=n.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in t)i[s]=e[s];return r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=i),i}function Ci(n){return n=n.childContextTypes,n!=null}function S1(){_n(Ni),_n(Hr)}function $I(n,e,t){if(Hr.current!==kl)throw Error(Me(168));dn(Hr,e),dn(Ni,t)}function wx(n,e,t){var r=n.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return t;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(Me(108,I6(n)||"Unknown",i));return kn({},t,r)}function A1(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||kl,Zu=Hr.current,dn(Hr,n),dn(Ni,Ni.current),!0}function WI(n,e,t){var r=n.stateNode;if(!r)throw Error(Me(169));t?(n=wx(n,e,Zu),r.__reactInternalMemoizedMergedChildContext=n,_n(Ni),_n(Hr),dn(Hr,n)):_n(Ni),dn(Ni,t)}var ea=null,I0=!1,rv=!1;function bx(n){ea===null?ea=[n]:ea.push(n)}function jL(n){I0=!0,bx(n)}function Kl(){if(!rv&&ea!==null){rv=!0;var n=0,e=Zt;try{var t=ea;for(Zt=1;n<t.length;n++){var r=t[n];do r=r(!0);while(r!==null)}ea=null,I0=!1}catch(i){throw ea!==null&&(ea=ea.slice(n+1)),HT(iw,Kl),i}finally{Zt=e,rv=!1}}return null}var Sh=[],Ah=0,T1=null,x1=0,hs=[],ds=0,ec=null,ta=1,na="";function Eu(n,e){Sh[Ah++]=x1,Sh[Ah++]=T1,T1=n,x1=e}function Ix(n,e,t){hs[ds++]=ta,hs[ds++]=na,hs[ds++]=ec,ec=n;var r=ta;n=na;var i=32-qs(r)-1;r&=~(1<<i),t+=1;var s=32-qs(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,ta=1<<32-qs(e)+i|t<<i|r,na=s+n}else ta=1<<s|t<<i|r,na=n}function fw(n){n.return!==null&&(Eu(n,1),Ix(n,1,0))}function pw(n){for(;n===T1;)T1=Sh[--Ah],Sh[Ah]=null,x1=Sh[--Ah],Sh[Ah]=null;for(;n===ec;)ec=hs[--ds],hs[ds]=null,na=hs[--ds],hs[ds]=null,ta=hs[--ds],hs[ds]=null}var Wi=null,zi=null,En=!1,Us=null;function Ex(n,e){var t=fs(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=n,e=n.deletions,e===null?(n.deletions=[t],n.flags|=16):e.push(t)}function HI(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,Wi=n,zi=_l(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,Wi=n,zi=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=ec!==null?{id:ta,overflow:na}:null,n.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=fs(18,null,null,0),t.stateNode=e,t.return=n,n.child=t,Wi=n,zi=null,!0):!1;default:return!1}}function w2(n){return(n.mode&1)!==0&&(n.flags&128)===0}function b2(n){if(En){var e=zi;if(e){var t=e;if(!HI(n,e)){if(w2(n))throw Error(Me(418));e=_l(t.nextSibling);var r=Wi;e&&HI(n,e)?Ex(r,t):(n.flags=n.flags&-4097|2,En=!1,Wi=n)}}else{if(w2(n))throw Error(Me(418));n.flags=n.flags&-4097|2,En=!1,Wi=n}}}function GI(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;Wi=n}function _g(n){if(n!==Wi)return!1;if(!En)return GI(n),En=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!g2(n.type,n.memoizedProps)),e&&(e=zi)){if(w2(n))throw Sx(),Error(Me(418));for(;e;)Ex(n,e),e=_l(e.nextSibling)}if(GI(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(Me(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){zi=_l(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}zi=null}}else zi=Wi?_l(n.stateNode.nextSibling):null;return!0}function Sx(){for(var n=zi;n;)n=_l(n.nextSibling)}function $h(){zi=Wi=null,En=!1}function mw(n){Us===null?Us=[n]:Us.push(n)}var BL=ya.ReactCurrentBatchConfig;function df(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(Me(309));var r=t.stateNode}if(!r)throw Error(Me(147,n));var i=r,s=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof n!="string")throw Error(Me(284));if(!t._owner)throw Error(Me(290,n))}return n}function wg(n,e){throw n=Object.prototype.toString.call(e),Error(Me(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function KI(n){var e=n._init;return e(n._payload)}function Ax(n){function e(_,b){if(n){var E=_.deletions;E===null?(_.deletions=[b],_.flags|=16):E.push(b)}}function t(_,b){if(!n)return null;for(;b!==null;)e(_,b),b=b.sibling;return null}function r(_,b){for(_=new Map;b!==null;)b.key!==null?_.set(b.key,b):_.set(b.index,b),b=b.sibling;return _}function i(_,b){return _=El(_,b),_.index=0,_.sibling=null,_}function s(_,b,E){return _.index=E,n?(E=_.alternate,E!==null?(E=E.index,E<b?(_.flags|=2,b):E):(_.flags|=2,b)):(_.flags|=1048576,b)}function o(_){return n&&_.alternate===null&&(_.flags|=2),_}function a(_,b,E,F){return b===null||b.tag!==6?(b=cv(E,_.mode,F),b.return=_,b):(b=i(b,E),b.return=_,b)}function l(_,b,E,F){var B=E.type;return B===vh?d(_,b,E.props.children,F,E.key):b!==null&&(b.elementType===B||typeof B=="object"&&B!==null&&B.$$typeof===nl&&KI(B)===b.type)?(F=i(b,E.props),F.ref=df(_,b,E),F.return=_,F):(F=Yg(E.type,E.key,E.props,null,_.mode,F),F.ref=df(_,b,E),F.return=_,F)}function c(_,b,E,F){return b===null||b.tag!==4||b.stateNode.containerInfo!==E.containerInfo||b.stateNode.implementation!==E.implementation?(b=hv(E,_.mode,F),b.return=_,b):(b=i(b,E.children||[]),b.return=_,b)}function d(_,b,E,F,B){return b===null||b.tag!==7?(b=Wu(E,_.mode,F,B),b.return=_,b):(b=i(b,E),b.return=_,b)}function f(_,b,E){if(typeof b=="string"&&b!==""||typeof b=="number")return b=cv(""+b,_.mode,E),b.return=_,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case ug:return E=Yg(b.type,b.key,b.props,null,_.mode,E),E.ref=df(_,null,b),E.return=_,E;case yh:return b=hv(b,_.mode,E),b.return=_,b;case nl:var F=b._init;return f(_,F(b._payload),E)}if(Pf(b)||af(b))return b=Wu(b,_.mode,E,null),b.return=_,b;wg(_,b)}return null}function p(_,b,E,F){var B=b!==null?b.key:null;if(typeof E=="string"&&E!==""||typeof E=="number")return B!==null?null:a(_,b,""+E,F);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case ug:return E.key===B?l(_,b,E,F):null;case yh:return E.key===B?c(_,b,E,F):null;case nl:return B=E._init,p(_,b,B(E._payload),F)}if(Pf(E)||af(E))return B!==null?null:d(_,b,E,F,null);wg(_,E)}return null}function g(_,b,E,F,B){if(typeof F=="string"&&F!==""||typeof F=="number")return _=_.get(E)||null,a(b,_,""+F,B);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case ug:return _=_.get(F.key===null?E:F.key)||null,l(b,_,F,B);case yh:return _=_.get(F.key===null?E:F.key)||null,c(b,_,F,B);case nl:var U=F._init;return g(_,b,E,U(F._payload),B)}if(Pf(F)||af(F))return _=_.get(E)||null,d(b,_,F,B,null);wg(b,F)}return null}function S(_,b,E,F){for(var B=null,U=null,N=b,A=b=0,C=null;N!==null&&A<E.length;A++){N.index>A?(C=N,N=null):C=N.sibling;var D=p(_,N,E[A],F);if(D===null){N===null&&(N=C);break}n&&N&&D.alternate===null&&e(_,N),b=s(D,b,A),U===null?B=D:U.sibling=D,U=D,N=C}if(A===E.length)return t(_,N),En&&Eu(_,A),B;if(N===null){for(;A<E.length;A++)N=f(_,E[A],F),N!==null&&(b=s(N,b,A),U===null?B=N:U.sibling=N,U=N);return En&&Eu(_,A),B}for(N=r(_,N);A<E.length;A++)C=g(N,_,A,E[A],F),C!==null&&(n&&C.alternate!==null&&N.delete(C.key===null?A:C.key),b=s(C,b,A),U===null?B=C:U.sibling=C,U=C);return n&&N.forEach(function(T){return e(_,T)}),En&&Eu(_,A),B}function x(_,b,E,F){var B=af(E);if(typeof B!="function")throw Error(Me(150));if(E=B.call(E),E==null)throw Error(Me(151));for(var U=B=null,N=b,A=b=0,C=null,D=E.next();N!==null&&!D.done;A++,D=E.next()){N.index>A?(C=N,N=null):C=N.sibling;var T=p(_,N,D.value,F);if(T===null){N===null&&(N=C);break}n&&N&&T.alternate===null&&e(_,N),b=s(T,b,A),U===null?B=T:U.sibling=T,U=T,N=C}if(D.done)return t(_,N),En&&Eu(_,A),B;if(N===null){for(;!D.done;A++,D=E.next())D=f(_,D.value,F),D!==null&&(b=s(D,b,A),U===null?B=D:U.sibling=D,U=D);return En&&Eu(_,A),B}for(N=r(_,N);!D.done;A++,D=E.next())D=g(N,_,A,D.value,F),D!==null&&(n&&D.alternate!==null&&N.delete(D.key===null?A:D.key),b=s(D,b,A),U===null?B=D:U.sibling=D,U=D);return n&&N.forEach(function(P){return e(_,P)}),En&&Eu(_,A),B}function k(_,b,E,F){if(typeof E=="object"&&E!==null&&E.type===vh&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case ug:e:{for(var B=E.key,U=b;U!==null;){if(U.key===B){if(B=E.type,B===vh){if(U.tag===7){t(_,U.sibling),b=i(U,E.props.children),b.return=_,_=b;break e}}else if(U.elementType===B||typeof B=="object"&&B!==null&&B.$$typeof===nl&&KI(B)===U.type){t(_,U.sibling),b=i(U,E.props),b.ref=df(_,U,E),b.return=_,_=b;break e}t(_,U);break}else e(_,U);U=U.sibling}E.type===vh?(b=Wu(E.props.children,_.mode,F,E.key),b.return=_,_=b):(F=Yg(E.type,E.key,E.props,null,_.mode,F),F.ref=df(_,b,E),F.return=_,_=F)}return o(_);case yh:e:{for(U=E.key;b!==null;){if(b.key===U)if(b.tag===4&&b.stateNode.containerInfo===E.containerInfo&&b.stateNode.implementation===E.implementation){t(_,b.sibling),b=i(b,E.children||[]),b.return=_,_=b;break e}else{t(_,b);break}else e(_,b);b=b.sibling}b=hv(E,_.mode,F),b.return=_,_=b}return o(_);case nl:return U=E._init,k(_,b,U(E._payload),F)}if(Pf(E))return S(_,b,E,F);if(af(E))return x(_,b,E,F);wg(_,E)}return typeof E=="string"&&E!==""||typeof E=="number"?(E=""+E,b!==null&&b.tag===6?(t(_,b.sibling),b=i(b,E),b.return=_,_=b):(t(_,b),b=cv(E,_.mode,F),b.return=_,_=b),o(_)):t(_,b)}return k}var Wh=Ax(!0),Tx=Ax(!1),P1=Gl(null),N1=null,Th=null,gw=null;function yw(){gw=Th=N1=null}function vw(n){var e=P1.current;_n(P1),n._currentValue=e}function I2(n,e,t){for(;n!==null;){var r=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),n===t)break;n=n.return}}function Dh(n,e){N1=n,gw=Th=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&e&&(Ai=!0),n.firstContext=null)}function ys(n){var e=n._currentValue;if(gw!==n)if(n={context:n,memoizedValue:e,next:null},Th===null){if(N1===null)throw Error(Me(308));Th=n,N1.dependencies={lanes:0,firstContext:n}}else Th=Th.next=n;return e}var Mu=null;function _w(n){Mu===null?Mu=[n]:Mu.push(n)}function xx(n,e,t,r){var i=e.interleaved;return i===null?(t.next=t,_w(e)):(t.next=i.next,i.next=t),e.interleaved=t,ca(n,r)}function ca(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}var rl=!1;function ww(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Px(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function sa(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function wl(n,e,t){var r=n.updateQueue;if(r===null)return null;if(r=r.shared,qt&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,ca(n,t)}return i=r.interleaved,i===null?(e.next=e,_w(r)):(e.next=i.next,i.next=e),r.interleaved=e,ca(n,t)}function $g(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,sw(n,t)}}function QI(n,e){var t=n.updateQueue,r=n.alternate;if(r!==null&&(r=r.updateQueue,t===r)){var i=null,s=null;if(t=t.firstBaseUpdate,t!==null){do{var o={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};s===null?i=s=o:s=s.next=o,t=t.next}while(t!==null);s===null?i=s=e:s=s.next=e}else i=s=e;t={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function C1(n,e,t,r){var i=n.updateQueue;rl=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var d=n.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(s!==null){var f=i.baseState;o=0,d=c=l=null,a=s;do{var p=a.lane,g=a.eventTime;if((r&p)===p){d!==null&&(d=d.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var S=n,x=a;switch(p=e,g=t,x.tag){case 1:if(S=x.payload,typeof S=="function"){f=S.call(g,f,p);break e}f=S;break e;case 3:S.flags=S.flags&-65537|128;case 0:if(S=x.payload,p=typeof S=="function"?S.call(g,f,p):S,p==null)break e;f=kn({},f,p);break e;case 2:rl=!0}}a.callback!==null&&a.lane!==0&&(n.flags|=64,p=i.effects,p===null?i.effects=[a]:p.push(a))}else g={eventTime:g,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=g,l=f):d=d.next=g,o|=p;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;p=a,a=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(1);if(d===null&&(l=f),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);nc|=o,n.lanes=o,n.memoizedState=f}}function YI(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var r=n[e],i=r.callback;if(i!==null){if(r.callback=null,r=t,typeof i!="function")throw Error(Me(191,i));i.call(r)}}}var cm={},xo=Gl(cm),xp=Gl(cm),Pp=Gl(cm);function Vu(n){if(n===cm)throw Error(Me(174));return n}function bw(n,e){switch(dn(Pp,e),dn(xp,n),dn(xo,cm),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:n2(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=n2(e,n)}_n(xo),dn(xo,e)}function Hh(){_n(xo),_n(xp),_n(Pp)}function Nx(n){Vu(Pp.current);var e=Vu(xo.current),t=n2(e,n.type);e!==t&&(dn(xp,n),dn(xo,t))}function Iw(n){xp.current===n&&(_n(xo),_n(xp))}var Nn=Gl(0);function k1(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var iv=[];function Ew(){for(var n=0;n<iv.length;n++)iv[n]._workInProgressVersionPrimary=null;iv.length=0}var Wg=ya.ReactCurrentDispatcher,sv=ya.ReactCurrentBatchConfig,tc=0,Cn=null,lr=null,vr=null,R1=!1,Hf=!1,Np=0,UL=0;function Dr(){throw Error(Me(321))}function Sw(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!Ks(n[t],e[t]))return!1;return!0}function Aw(n,e,t,r,i,s){if(tc=s,Cn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Wg.current=n===null||n.memoizedState===null?WL:HL,n=t(r,i),Hf){s=0;do{if(Hf=!1,Np=0,25<=s)throw Error(Me(301));s+=1,vr=lr=null,e.updateQueue=null,Wg.current=GL,n=t(r,i)}while(Hf)}if(Wg.current=L1,e=lr!==null&&lr.next!==null,tc=0,vr=lr=Cn=null,R1=!1,e)throw Error(Me(300));return n}function Tw(){var n=Np!==0;return Np=0,n}function po(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vr===null?Cn.memoizedState=vr=n:vr=vr.next=n,vr}function vs(){if(lr===null){var n=Cn.alternate;n=n!==null?n.memoizedState:null}else n=lr.next;var e=vr===null?Cn.memoizedState:vr.next;if(e!==null)vr=e,lr=n;else{if(n===null)throw Error(Me(310));lr=n,n={memoizedState:lr.memoizedState,baseState:lr.baseState,baseQueue:lr.baseQueue,queue:lr.queue,next:null},vr===null?Cn.memoizedState=vr=n:vr=vr.next=n}return vr}function Cp(n,e){return typeof e=="function"?e(n):e}function ov(n){var e=vs(),t=e.queue;if(t===null)throw Error(Me(311));t.lastRenderedReducer=n;var r=lr,i=r.baseQueue,s=t.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,t.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var d=c.lane;if((tc&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:n(r,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=f,o=r):l=l.next=f,Cn.lanes|=d,nc|=d}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,Ks(r,e.memoizedState)||(Ai=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,t.lastRenderedState=r}if(n=t.interleaved,n!==null){i=n;do s=i.lane,Cn.lanes|=s,nc|=s,i=i.next;while(i!==n)}else i===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function av(n){var e=vs(),t=e.queue;if(t===null)throw Error(Me(311));t.lastRenderedReducer=n;var r=t.dispatch,i=t.pending,s=e.memoizedState;if(i!==null){t.pending=null;var o=i=i.next;do s=n(s,o.action),o=o.next;while(o!==i);Ks(s,e.memoizedState)||(Ai=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),t.lastRenderedState=s}return[s,r]}function Cx(){}function kx(n,e){var t=Cn,r=vs(),i=e(),s=!Ks(r.memoizedState,i);if(s&&(r.memoizedState=i,Ai=!0),r=r.queue,xw(Dx.bind(null,t,r,n),[n]),r.getSnapshot!==e||s||vr!==null&&vr.memoizedState.tag&1){if(t.flags|=2048,kp(9,Lx.bind(null,t,r,i,e),void 0,null),wr===null)throw Error(Me(349));tc&30||Rx(t,e,i)}return i}function Rx(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=Cn.updateQueue,e===null?(e={lastEffect:null,stores:null},Cn.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function Lx(n,e,t,r){e.value=t,e.getSnapshot=r,Ox(e)&&Fx(n)}function Dx(n,e,t){return t(function(){Ox(e)&&Fx(n)})}function Ox(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!Ks(n,t)}catch{return!0}}function Fx(n){var e=ca(n,1);e!==null&&$s(e,n,1,-1)}function JI(n){var e=po();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Cp,lastRenderedState:n},e.queue=n,n=n.dispatch=$L.bind(null,Cn,n),[e.memoizedState,n]}function kp(n,e,t,r){return n={tag:n,create:e,destroy:t,deps:r,next:null},e=Cn.updateQueue,e===null?(e={lastEffect:null,stores:null},Cn.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(r=t.next,t.next=n,n.next=r,e.lastEffect=n)),n}function Mx(){return vs().memoizedState}function Hg(n,e,t,r){var i=po();Cn.flags|=n,i.memoizedState=kp(1|e,t,void 0,r===void 0?null:r)}function E0(n,e,t,r){var i=vs();r=r===void 0?null:r;var s=void 0;if(lr!==null){var o=lr.memoizedState;if(s=o.destroy,r!==null&&Sw(r,o.deps)){i.memoizedState=kp(e,t,s,r);return}}Cn.flags|=n,i.memoizedState=kp(1|e,t,s,r)}function XI(n,e){return Hg(8390656,8,n,e)}function xw(n,e){return E0(2048,8,n,e)}function Vx(n,e){return E0(4,2,n,e)}function jx(n,e){return E0(4,4,n,e)}function Bx(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function Ux(n,e,t){return t=t!=null?t.concat([n]):null,E0(4,4,Bx.bind(null,e,n),t)}function Pw(){}function zx(n,e){var t=vs();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&Sw(e,r[1])?r[0]:(t.memoizedState=[n,e],n)}function qx(n,e){var t=vs();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&Sw(e,r[1])?r[0]:(n=n(),t.memoizedState=[n,e],n)}function $x(n,e,t){return tc&21?(Ks(t,e)||(t=QT(),Cn.lanes|=t,nc|=t,n.baseState=!0),e):(n.baseState&&(n.baseState=!1,Ai=!0),n.memoizedState=t)}function zL(n,e){var t=Zt;Zt=t!==0&&4>t?t:4,n(!0);var r=sv.transition;sv.transition={};try{n(!1),e()}finally{Zt=t,sv.transition=r}}function Wx(){return vs().memoizedState}function qL(n,e,t){var r=Il(n);if(t={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null},Hx(n))Gx(e,t);else if(t=xx(n,e,t,r),t!==null){var i=ai();$s(t,n,r,i),Kx(t,e,r)}}function $L(n,e,t){var r=Il(n),i={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null};if(Hx(n))Gx(e,i);else{var s=n.alternate;if(n.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,t);if(i.hasEagerState=!0,i.eagerState=a,Ks(a,o)){var l=e.interleaved;l===null?(i.next=i,_w(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}t=xx(n,e,i,r),t!==null&&(i=ai(),$s(t,n,r,i),Kx(t,e,r))}}function Hx(n){var e=n.alternate;return n===Cn||e!==null&&e===Cn}function Gx(n,e){Hf=R1=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function Kx(n,e,t){if(t&4194240){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,sw(n,t)}}var L1={readContext:ys,useCallback:Dr,useContext:Dr,useEffect:Dr,useImperativeHandle:Dr,useInsertionEffect:Dr,useLayoutEffect:Dr,useMemo:Dr,useReducer:Dr,useRef:Dr,useState:Dr,useDebugValue:Dr,useDeferredValue:Dr,useTransition:Dr,useMutableSource:Dr,useSyncExternalStore:Dr,useId:Dr,unstable_isNewReconciler:!1},WL={readContext:ys,useCallback:function(n,e){return po().memoizedState=[n,e===void 0?null:e],n},useContext:ys,useEffect:XI,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,Hg(4194308,4,Bx.bind(null,e,n),t)},useLayoutEffect:function(n,e){return Hg(4194308,4,n,e)},useInsertionEffect:function(n,e){return Hg(4,2,n,e)},useMemo:function(n,e){var t=po();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var r=po();return e=t!==void 0?t(e):e,r.memoizedState=r.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},r.queue=n,n=n.dispatch=qL.bind(null,Cn,n),[r.memoizedState,n]},useRef:function(n){var e=po();return n={current:n},e.memoizedState=n},useState:JI,useDebugValue:Pw,useDeferredValue:function(n){return po().memoizedState=n},useTransition:function(){var n=JI(!1),e=n[0];return n=zL.bind(null,n[1]),po().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,t){var r=Cn,i=po();if(En){if(t===void 0)throw Error(Me(407));t=t()}else{if(t=e(),wr===null)throw Error(Me(349));tc&30||Rx(r,e,t)}i.memoizedState=t;var s={value:t,getSnapshot:e};return i.queue=s,XI(Dx.bind(null,r,s,n),[n]),r.flags|=2048,kp(9,Lx.bind(null,r,s,t,e),void 0,null),t},useId:function(){var n=po(),e=wr.identifierPrefix;if(En){var t=na,r=ta;t=(r&~(1<<32-qs(r)-1)).toString(32)+t,e=":"+e+"R"+t,t=Np++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=UL++,e=":"+e+"r"+t.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},HL={readContext:ys,useCallback:zx,useContext:ys,useEffect:xw,useImperativeHandle:Ux,useInsertionEffect:Vx,useLayoutEffect:jx,useMemo:qx,useReducer:ov,useRef:Mx,useState:function(){return ov(Cp)},useDebugValue:Pw,useDeferredValue:function(n){var e=vs();return $x(e,lr.memoizedState,n)},useTransition:function(){var n=ov(Cp)[0],e=vs().memoizedState;return[n,e]},useMutableSource:Cx,useSyncExternalStore:kx,useId:Wx,unstable_isNewReconciler:!1},GL={readContext:ys,useCallback:zx,useContext:ys,useEffect:xw,useImperativeHandle:Ux,useInsertionEffect:Vx,useLayoutEffect:jx,useMemo:qx,useReducer:av,useRef:Mx,useState:function(){return av(Cp)},useDebugValue:Pw,useDeferredValue:function(n){var e=vs();return lr===null?e.memoizedState=n:$x(e,lr.memoizedState,n)},useTransition:function(){var n=av(Cp)[0],e=vs().memoizedState;return[n,e]},useMutableSource:Cx,useSyncExternalStore:kx,useId:Wx,unstable_isNewReconciler:!1};function Ms(n,e){if(n&&n.defaultProps){e=kn({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}function E2(n,e,t,r){e=n.memoizedState,t=t(r,e),t=t==null?e:kn({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var S0={isMounted:function(n){return(n=n._reactInternals)?yc(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var r=ai(),i=Il(n),s=sa(r,i);s.payload=e,t!=null&&(s.callback=t),e=wl(n,s,i),e!==null&&($s(e,n,i,r),$g(e,n,i))},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var r=ai(),i=Il(n),s=sa(r,i);s.tag=1,s.payload=e,t!=null&&(s.callback=t),e=wl(n,s,i),e!==null&&($s(e,n,i,r),$g(e,n,i))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=ai(),r=Il(n),i=sa(t,r);i.tag=2,e!=null&&(i.callback=e),e=wl(n,i,r),e!==null&&($s(e,n,r,t),$g(e,n,r))}};function ZI(n,e,t,r,i,s,o){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Ep(t,r)||!Ep(i,s):!0}function Qx(n,e,t){var r=!1,i=kl,s=e.contextType;return typeof s=="object"&&s!==null?s=ys(s):(i=Ci(e)?Zu:Hr.current,r=e.contextTypes,s=(r=r!=null)?qh(n,i):kl),e=new e(t,s),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=S0,n.stateNode=e,e._reactInternals=n,r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=i,n.__reactInternalMemoizedMaskedChildContext=s),e}function eE(n,e,t,r){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,r),e.state!==n&&S0.enqueueReplaceState(e,e.state,null)}function S2(n,e,t,r){var i=n.stateNode;i.props=t,i.state=n.memoizedState,i.refs={},ww(n);var s=e.contextType;typeof s=="object"&&s!==null?i.context=ys(s):(s=Ci(e)?Zu:Hr.current,i.context=qh(n,s)),i.state=n.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(E2(n,e,s,t),i.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&S0.enqueueReplaceState(i,i.state,null),C1(n,t,i,r),i.state=n.memoizedState),typeof i.componentDidMount=="function"&&(n.flags|=4194308)}function Gh(n,e){try{var t="",r=e;do t+=b6(r),r=r.return;while(r);var i=t}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:n,source:e,stack:i,digest:null}}function lv(n,e,t){return{value:n,source:null,stack:t??null,digest:e??null}}function A2(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var KL=typeof WeakMap=="function"?WeakMap:Map;function Yx(n,e,t){t=sa(-1,t),t.tag=3,t.payload={element:null};var r=e.value;return t.callback=function(){O1||(O1=!0,O2=r),A2(n,e)},t}function Jx(n,e,t){t=sa(-1,t),t.tag=3;var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;t.payload=function(){return r(i)},t.callback=function(){A2(n,e)}}var s=n.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(t.callback=function(){A2(n,e),typeof r!="function"&&(bl===null?bl=new Set([this]):bl.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),t}function tE(n,e,t){var r=n.pingCache;if(r===null){r=n.pingCache=new KL;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(t)||(i.add(t),n=lD.bind(null,n,e,t),e.then(n,n))}function nE(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function rE(n,e,t,r,i){return n.mode&1?(n.flags|=65536,n.lanes=i,n):(n===e?n.flags|=65536:(n.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=sa(-1,1),e.tag=2,wl(t,e,1))),t.lanes|=1),n)}var QL=ya.ReactCurrentOwner,Ai=!1;function ri(n,e,t,r){e.child=n===null?Tx(e,null,t,r):Wh(e,n.child,t,r)}function iE(n,e,t,r,i){t=t.render;var s=e.ref;return Dh(e,i),r=Aw(n,e,t,r,s,i),t=Tw(),n!==null&&!Ai?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~i,ha(n,e,i)):(En&&t&&fw(e),e.flags|=1,ri(n,e,r,i),e.child)}function sE(n,e,t,r,i){if(n===null){var s=t.type;return typeof s=="function"&&!Fw(s)&&s.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=s,Xx(n,e,s,r,i)):(n=Yg(t.type,null,r,e,e.mode,i),n.ref=e.ref,n.return=e,e.child=n)}if(s=n.child,!(n.lanes&i)){var o=s.memoizedProps;if(t=t.compare,t=t!==null?t:Ep,t(o,r)&&n.ref===e.ref)return ha(n,e,i)}return e.flags|=1,n=El(s,r),n.ref=e.ref,n.return=e,e.child=n}function Xx(n,e,t,r,i){if(n!==null){var s=n.memoizedProps;if(Ep(s,r)&&n.ref===e.ref)if(Ai=!1,e.pendingProps=r=s,(n.lanes&i)!==0)n.flags&131072&&(Ai=!0);else return e.lanes=n.lanes,ha(n,e,i)}return T2(n,e,t,r,i)}function Zx(n,e,t){var r=e.pendingProps,i=r.children,s=n!==null?n.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},dn(Ph,ji),ji|=t;else{if(!(t&1073741824))return n=s!==null?s.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,dn(Ph,ji),ji|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:t,dn(Ph,ji),ji|=r}else s!==null?(r=s.baseLanes|t,e.memoizedState=null):r=t,dn(Ph,ji),ji|=r;return ri(n,e,i,t),e.child}function e4(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function T2(n,e,t,r,i){var s=Ci(t)?Zu:Hr.current;return s=qh(e,s),Dh(e,i),t=Aw(n,e,t,r,s,i),r=Tw(),n!==null&&!Ai?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~i,ha(n,e,i)):(En&&r&&fw(e),e.flags|=1,ri(n,e,t,i),e.child)}function oE(n,e,t,r,i){if(Ci(t)){var s=!0;A1(e)}else s=!1;if(Dh(e,i),e.stateNode===null)Gg(n,e),Qx(e,t,r),S2(e,t,r,i),r=!0;else if(n===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=t.contextType;typeof c=="object"&&c!==null?c=ys(c):(c=Ci(t)?Zu:Hr.current,c=qh(e,c));var d=t.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&eE(e,o,r,c),rl=!1;var p=e.memoizedState;o.state=p,C1(e,r,o,i),l=e.memoizedState,a!==r||p!==l||Ni.current||rl?(typeof d=="function"&&(E2(e,t,d,r),l=e.memoizedState),(a=rl||ZI(e,t,a,r,p,l,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,Px(n,e),a=e.memoizedProps,c=e.type===e.elementType?a:Ms(e.type,a),o.props=c,f=e.pendingProps,p=o.context,l=t.contextType,typeof l=="object"&&l!==null?l=ys(l):(l=Ci(t)?Zu:Hr.current,l=qh(e,l));var g=t.getDerivedStateFromProps;(d=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||p!==l)&&eE(e,o,r,l),rl=!1,p=e.memoizedState,o.state=p,C1(e,r,o,i);var S=e.memoizedState;a!==f||p!==S||Ni.current||rl?(typeof g=="function"&&(E2(e,t,g,r),S=e.memoizedState),(c=rl||ZI(e,t,c,r,p,S,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,S,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,S,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=S),o.props=r,o.state=S,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=1024),r=!1)}return x2(n,e,t,r,s,i)}function x2(n,e,t,r,i,s){e4(n,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&WI(e,t,!1),ha(n,e,s);r=e.stateNode,QL.current=e;var a=o&&typeof t.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,n!==null&&o?(e.child=Wh(e,n.child,null,s),e.child=Wh(e,null,a,s)):ri(n,e,a,s),e.memoizedState=r.state,i&&WI(e,t,!0),e.child}function t4(n){var e=n.stateNode;e.pendingContext?$I(n,e.pendingContext,e.pendingContext!==e.context):e.context&&$I(n,e.context,!1),bw(n,e.containerInfo)}function aE(n,e,t,r,i){return $h(),mw(i),e.flags|=256,ri(n,e,t,r),e.child}var P2={dehydrated:null,treeContext:null,retryLane:0};function N2(n){return{baseLanes:n,cachePool:null,transitions:null}}function n4(n,e,t){var r=e.pendingProps,i=Nn.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=n!==null&&n.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(i|=1),dn(Nn,i&1),n===null)return b2(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(e.mode&1?n.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,n=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=x0(o,r,0,null),n=Wu(n,r,t,null),s.return=e,n.return=e,s.sibling=n,e.child=s,e.child.memoizedState=N2(t),e.memoizedState=P2,n):Nw(e,o));if(i=n.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return YL(n,e,o,r,a,i,t);if(s){s=r.fallback,o=e.mode,i=n.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=El(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=El(a,s):(s=Wu(s,o,t,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=n.child.memoizedState,o=o===null?N2(t):{baseLanes:o.baseLanes|t,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=n.childLanes&~t,e.memoizedState=P2,r}return s=n.child,n=s.sibling,r=El(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=t),r.return=e,r.sibling=null,n!==null&&(t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)),e.child=r,e.memoizedState=null,r}function Nw(n,e){return e=x0({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function bg(n,e,t,r){return r!==null&&mw(r),Wh(e,n.child,null,t),n=Nw(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function YL(n,e,t,r,i,s,o){if(t)return e.flags&256?(e.flags&=-257,r=lv(Error(Me(422))),bg(n,e,o,r)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=x0({mode:"visible",children:r.children},i,0,null),s=Wu(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Wh(e,n.child,null,o),e.child.memoizedState=N2(o),e.memoizedState=P2,s);if(!(e.mode&1))return bg(n,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(Me(419)),r=lv(s,r,void 0),bg(n,e,o,r)}if(a=(o&n.childLanes)!==0,Ai||a){if(r=wr,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,ca(n,i),$s(r,n,i,-1))}return Ow(),r=lv(Error(Me(421))),bg(n,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=n.child,e=uD.bind(null,n),i._reactRetry=e,null):(n=s.treeContext,zi=_l(i.nextSibling),Wi=e,En=!0,Us=null,n!==null&&(hs[ds++]=ta,hs[ds++]=na,hs[ds++]=ec,ta=n.id,na=n.overflow,ec=e),e=Nw(e,r.children),e.flags|=4096,e)}function lE(n,e,t){n.lanes|=e;var r=n.alternate;r!==null&&(r.lanes|=e),I2(n.return,e,t)}function uv(n,e,t,r,i){var s=n.memoizedState;s===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:t,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=t,s.tailMode=i)}function r4(n,e,t){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(ri(n,e,r.children,t),r=Nn.current,r&2)r=r&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&lE(n,t,e);else if(n.tag===19)lE(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}r&=1}if(dn(Nn,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(t=e.child,i=null;t!==null;)n=t.alternate,n!==null&&k1(n)===null&&(i=t),t=t.sibling;t=i,t===null?(i=e.child,e.child=null):(i=t.sibling,t.sibling=null),uv(e,!1,i,t,s);break;case"backwards":for(t=null,i=e.child,e.child=null;i!==null;){if(n=i.alternate,n!==null&&k1(n)===null){e.child=i;break}n=i.sibling,i.sibling=t,t=i,i=n}uv(e,!0,t,null,s);break;case"together":uv(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Gg(n,e){!(e.mode&1)&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function ha(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),nc|=e.lanes,!(t&e.childLanes))return null;if(n!==null&&e.child!==n.child)throw Error(Me(153));if(e.child!==null){for(n=e.child,t=El(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=El(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function JL(n,e,t){switch(e.tag){case 3:t4(e),$h();break;case 5:Nx(e);break;case 1:Ci(e.type)&&A1(e);break;case 4:bw(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;dn(P1,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(dn(Nn,Nn.current&1),e.flags|=128,null):t&e.child.childLanes?n4(n,e,t):(dn(Nn,Nn.current&1),n=ha(n,e,t),n!==null?n.sibling:null);dn(Nn,Nn.current&1);break;case 19:if(r=(t&e.childLanes)!==0,n.flags&128){if(r)return r4(n,e,t);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),dn(Nn,Nn.current),r)break;return null;case 22:case 23:return e.lanes=0,Zx(n,e,t)}return ha(n,e,t)}var i4,C2,s4,o4;i4=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};C2=function(){};s4=function(n,e,t,r){var i=n.memoizedProps;if(i!==r){n=e.stateNode,Vu(xo.current);var s=null;switch(t){case"input":i=Xv(n,i),r=Xv(n,r),s=[];break;case"select":i=kn({},i,{value:void 0}),r=kn({},r,{value:void 0}),s=[];break;case"textarea":i=t2(n,i),r=t2(n,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(n.onclick=E1)}r2(t,r);var o;t=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(t||(t={}),t[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(gp.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(t||(t={}),t[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(t||(t={}),t[o]=l[o])}else t||(s||(s=[]),s.push(c,t)),t=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(gp.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&gn("scroll",n),s||a===l||(s=[])):(s=s||[]).push(c,l))}t&&(s=s||[]).push("style",t);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};o4=function(n,e,t,r){t!==r&&(e.flags|=4)};function ff(n,e){if(!En)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:r.sibling=null}}function Or(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,r=0;if(e)for(var i=n.child;i!==null;)t|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=n,i=i.sibling;else for(i=n.child;i!==null;)t|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=n,i=i.sibling;return n.subtreeFlags|=r,n.childLanes=t,e}function XL(n,e,t){var r=e.pendingProps;switch(pw(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Or(e),null;case 1:return Ci(e.type)&&S1(),Or(e),null;case 3:return r=e.stateNode,Hh(),_n(Ni),_n(Hr),Ew(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(n===null||n.child===null)&&(_g(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Us!==null&&(V2(Us),Us=null))),C2(n,e),Or(e),null;case 5:Iw(e);var i=Vu(Pp.current);if(t=e.type,n!==null&&e.stateNode!=null)s4(n,e,t,r,i),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Me(166));return Or(e),null}if(n=Vu(xo.current),_g(e)){r=e.stateNode,t=e.type;var s=e.memoizedProps;switch(r[yo]=e,r[Tp]=s,n=(e.mode&1)!==0,t){case"dialog":gn("cancel",r),gn("close",r);break;case"iframe":case"object":case"embed":gn("load",r);break;case"video":case"audio":for(i=0;i<Cf.length;i++)gn(Cf[i],r);break;case"source":gn("error",r);break;case"img":case"image":case"link":gn("error",r),gn("load",r);break;case"details":gn("toggle",r);break;case"input":yI(r,s),gn("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},gn("invalid",r);break;case"textarea":_I(r,s),gn("invalid",r)}r2(t,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&vg(r.textContent,a,n),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&vg(r.textContent,a,n),i=["children",""+a]):gp.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&gn("scroll",r)}switch(t){case"input":cg(r),vI(r,s,!0);break;case"textarea":cg(r),wI(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=E1)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=DT(t)),n==="http://www.w3.org/1999/xhtml"?t==="script"?(n=o.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof r.is=="string"?n=o.createElement(t,{is:r.is}):(n=o.createElement(t),t==="select"&&(o=n,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):n=o.createElementNS(n,t),n[yo]=e,n[Tp]=r,i4(n,e,!1,!1),e.stateNode=n;e:{switch(o=i2(t,r),t){case"dialog":gn("cancel",n),gn("close",n),i=r;break;case"iframe":case"object":case"embed":gn("load",n),i=r;break;case"video":case"audio":for(i=0;i<Cf.length;i++)gn(Cf[i],n);i=r;break;case"source":gn("error",n),i=r;break;case"img":case"image":case"link":gn("error",n),gn("load",n),i=r;break;case"details":gn("toggle",n),i=r;break;case"input":yI(n,r),i=Xv(n,r),gn("invalid",n);break;case"option":i=r;break;case"select":n._wrapperState={wasMultiple:!!r.multiple},i=kn({},r,{value:void 0}),gn("invalid",n);break;case"textarea":_I(n,r),i=t2(n,r),gn("invalid",n);break;default:i=r}r2(t,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?MT(n,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&OT(n,l)):s==="children"?typeof l=="string"?(t!=="textarea"||l!=="")&&yp(n,l):typeof l=="number"&&yp(n,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(gp.hasOwnProperty(s)?l!=null&&s==="onScroll"&&gn("scroll",n):l!=null&&Z_(n,s,l,o))}switch(t){case"input":cg(n),vI(n,r,!1);break;case"textarea":cg(n),wI(n);break;case"option":r.value!=null&&n.setAttribute("value",""+Cl(r.value));break;case"select":n.multiple=!!r.multiple,s=r.value,s!=null?Ch(n,!!r.multiple,s,!1):r.defaultValue!=null&&Ch(n,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(n.onclick=E1)}switch(t){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Or(e),null;case 6:if(n&&e.stateNode!=null)o4(n,e,n.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Me(166));if(t=Vu(Pp.current),Vu(xo.current),_g(e)){if(r=e.stateNode,t=e.memoizedProps,r[yo]=e,(s=r.nodeValue!==t)&&(n=Wi,n!==null))switch(n.tag){case 3:vg(r.nodeValue,t,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&vg(r.nodeValue,t,(n.mode&1)!==0)}s&&(e.flags|=4)}else r=(t.nodeType===9?t:t.ownerDocument).createTextNode(r),r[yo]=e,e.stateNode=r}return Or(e),null;case 13:if(_n(Nn),r=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(En&&zi!==null&&e.mode&1&&!(e.flags&128))Sx(),$h(),e.flags|=98560,s=!1;else if(s=_g(e),r!==null&&r.dehydrated!==null){if(n===null){if(!s)throw Error(Me(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Me(317));s[yo]=e}else $h(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Or(e),s=!1}else Us!==null&&(V2(Us),Us=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(r=r!==null,r!==(n!==null&&n.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(n===null||Nn.current&1?cr===0&&(cr=3):Ow())),e.updateQueue!==null&&(e.flags|=4),Or(e),null);case 4:return Hh(),C2(n,e),n===null&&Sp(e.stateNode.containerInfo),Or(e),null;case 10:return vw(e.type._context),Or(e),null;case 17:return Ci(e.type)&&S1(),Or(e),null;case 19:if(_n(Nn),s=e.memoizedState,s===null)return Or(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)ff(s,!1);else{if(cr!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(o=k1(n),o!==null){for(e.flags|=128,ff(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=t,t=e.child;t!==null;)s=t,n=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=n,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,n=o.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return dn(Nn,Nn.current&1|2),e.child}n=n.sibling}s.tail!==null&&qn()>Kh&&(e.flags|=128,r=!0,ff(s,!1),e.lanes=4194304)}else{if(!r)if(n=k1(o),n!==null){if(e.flags|=128,r=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),ff(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!En)return Or(e),null}else 2*qn()-s.renderingStartTime>Kh&&t!==1073741824&&(e.flags|=128,r=!0,ff(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(t=s.last,t!==null?t.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=qn(),e.sibling=null,t=Nn.current,dn(Nn,r?t&1|2:t&1),e):(Or(e),null);case 22:case 23:return Dw(),r=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?ji&1073741824&&(Or(e),e.subtreeFlags&6&&(e.flags|=8192)):Or(e),null;case 24:return null;case 25:return null}throw Error(Me(156,e.tag))}function ZL(n,e){switch(pw(e),e.tag){case 1:return Ci(e.type)&&S1(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return Hh(),_n(Ni),_n(Hr),Ew(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 5:return Iw(e),null;case 13:if(_n(Nn),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(Me(340));$h()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return _n(Nn),null;case 4:return Hh(),null;case 10:return vw(e.type._context),null;case 22:case 23:return Dw(),null;case 24:return null;default:return null}}var Ig=!1,zr=!1,eD=typeof WeakSet=="function"?WeakSet:Set,et=null;function xh(n,e){var t=n.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(r){Mn(n,e,r)}else t.current=null}function k2(n,e,t){try{t()}catch(r){Mn(n,e,r)}}var uE=!1;function tD(n,e){if(p2=w1,n=hx(),dw(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var r=t.getSelection&&t.getSelection();if(r&&r.rangeCount!==0){t=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{t.nodeType,s.nodeType}catch{t=null;break e}var o=0,a=-1,l=-1,c=0,d=0,f=n,p=null;t:for(;;){for(var g;f!==t||i!==0&&f.nodeType!==3||(a=o+i),f!==s||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(g=f.firstChild)!==null;)p=f,f=g;for(;;){if(f===n)break t;if(p===t&&++c===i&&(a=o),p===s&&++d===r&&(l=o),(g=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=g}t=a===-1||l===-1?null:{start:a,end:l}}else t=null}t=t||{start:0,end:0}}else t=null;for(m2={focusedElem:n,selectionRange:t},w1=!1,et=e;et!==null;)if(e=et,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,et=n;else for(;et!==null;){e=et;try{var S=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(S!==null){var x=S.memoizedProps,k=S.memoizedState,_=e.stateNode,b=_.getSnapshotBeforeUpdate(e.elementType===e.type?x:Ms(e.type,x),k);_.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var E=e.stateNode.containerInfo;E.nodeType===1?E.textContent="":E.nodeType===9&&E.documentElement&&E.removeChild(E.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Me(163))}}catch(F){Mn(e,e.return,F)}if(n=e.sibling,n!==null){n.return=e.return,et=n;break}et=e.return}return S=uE,uE=!1,S}function Gf(n,e,t){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&n)===n){var s=i.destroy;i.destroy=void 0,s!==void 0&&k2(e,t,s)}i=i.next}while(i!==r)}}function A0(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&n)===n){var r=t.create;t.destroy=r()}t=t.next}while(t!==e)}}function R2(n){var e=n.ref;if(e!==null){var t=n.stateNode;switch(n.tag){case 5:n=t;break;default:n=t}typeof e=="function"?e(n):e.current=n}}function a4(n){var e=n.alternate;e!==null&&(n.alternate=null,a4(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[yo],delete e[Tp],delete e[v2],delete e[ML],delete e[VL])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function l4(n){return n.tag===5||n.tag===3||n.tag===4}function cE(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||l4(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function L2(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=E1));else if(r!==4&&(n=n.child,n!==null))for(L2(n,e,t),n=n.sibling;n!==null;)L2(n,e,t),n=n.sibling}function D2(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(r!==4&&(n=n.child,n!==null))for(D2(n,e,t),n=n.sibling;n!==null;)D2(n,e,t),n=n.sibling}var Tr=null,js=!1;function Ka(n,e,t){for(t=t.child;t!==null;)u4(n,e,t),t=t.sibling}function u4(n,e,t){if(To&&typeof To.onCommitFiberUnmount=="function")try{To.onCommitFiberUnmount(y0,t)}catch{}switch(t.tag){case 5:zr||xh(t,e);case 6:var r=Tr,i=js;Tr=null,Ka(n,e,t),Tr=r,js=i,Tr!==null&&(js?(n=Tr,t=t.stateNode,n.nodeType===8?n.parentNode.removeChild(t):n.removeChild(t)):Tr.removeChild(t.stateNode));break;case 18:Tr!==null&&(js?(n=Tr,t=t.stateNode,n.nodeType===8?nv(n.parentNode,t):n.nodeType===1&&nv(n,t),bp(n)):nv(Tr,t.stateNode));break;case 4:r=Tr,i=js,Tr=t.stateNode.containerInfo,js=!0,Ka(n,e,t),Tr=r,js=i;break;case 0:case 11:case 14:case 15:if(!zr&&(r=t.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&k2(t,e,o),i=i.next}while(i!==r)}Ka(n,e,t);break;case 1:if(!zr&&(xh(t,e),r=t.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=t.memoizedProps,r.state=t.memoizedState,r.componentWillUnmount()}catch(a){Mn(t,e,a)}Ka(n,e,t);break;case 21:Ka(n,e,t);break;case 22:t.mode&1?(zr=(r=zr)||t.memoizedState!==null,Ka(n,e,t),zr=r):Ka(n,e,t);break;default:Ka(n,e,t)}}function hE(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new eD),e.forEach(function(r){var i=cD.bind(null,n,r);t.has(r)||(t.add(r),r.then(i,i))})}}function Ds(n,e){var t=e.deletions;if(t!==null)for(var r=0;r<t.length;r++){var i=t[r];try{var s=n,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Tr=a.stateNode,js=!1;break e;case 3:Tr=a.stateNode.containerInfo,js=!0;break e;case 4:Tr=a.stateNode.containerInfo,js=!0;break e}a=a.return}if(Tr===null)throw Error(Me(160));u4(s,o,i),Tr=null,js=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Mn(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)c4(e,n),e=e.sibling}function c4(n,e){var t=n.alternate,r=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(Ds(e,n),ho(n),r&4){try{Gf(3,n,n.return),A0(3,n)}catch(x){Mn(n,n.return,x)}try{Gf(5,n,n.return)}catch(x){Mn(n,n.return,x)}}break;case 1:Ds(e,n),ho(n),r&512&&t!==null&&xh(t,t.return);break;case 5:if(Ds(e,n),ho(n),r&512&&t!==null&&xh(t,t.return),n.flags&32){var i=n.stateNode;try{yp(i,"")}catch(x){Mn(n,n.return,x)}}if(r&4&&(i=n.stateNode,i!=null)){var s=n.memoizedProps,o=t!==null?t.memoizedProps:s,a=n.type,l=n.updateQueue;if(n.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&RT(i,s),i2(a,o);var c=i2(a,s);for(o=0;o<l.length;o+=2){var d=l[o],f=l[o+1];d==="style"?MT(i,f):d==="dangerouslySetInnerHTML"?OT(i,f):d==="children"?yp(i,f):Z_(i,d,f,c)}switch(a){case"input":Zv(i,s);break;case"textarea":LT(i,s);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var g=s.value;g!=null?Ch(i,!!s.multiple,g,!1):p!==!!s.multiple&&(s.defaultValue!=null?Ch(i,!!s.multiple,s.defaultValue,!0):Ch(i,!!s.multiple,s.multiple?[]:"",!1))}i[Tp]=s}catch(x){Mn(n,n.return,x)}}break;case 6:if(Ds(e,n),ho(n),r&4){if(n.stateNode===null)throw Error(Me(162));i=n.stateNode,s=n.memoizedProps;try{i.nodeValue=s}catch(x){Mn(n,n.return,x)}}break;case 3:if(Ds(e,n),ho(n),r&4&&t!==null&&t.memoizedState.isDehydrated)try{bp(e.containerInfo)}catch(x){Mn(n,n.return,x)}break;case 4:Ds(e,n),ho(n);break;case 13:Ds(e,n),ho(n),i=n.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Rw=qn())),r&4&&hE(n);break;case 22:if(d=t!==null&&t.memoizedState!==null,n.mode&1?(zr=(c=zr)||d,Ds(e,n),zr=c):Ds(e,n),ho(n),r&8192){if(c=n.memoizedState!==null,(n.stateNode.isHidden=c)&&!d&&n.mode&1)for(et=n,d=n.child;d!==null;){for(f=et=d;et!==null;){switch(p=et,g=p.child,p.tag){case 0:case 11:case 14:case 15:Gf(4,p,p.return);break;case 1:xh(p,p.return);var S=p.stateNode;if(typeof S.componentWillUnmount=="function"){r=p,t=p.return;try{e=r,S.props=e.memoizedProps,S.state=e.memoizedState,S.componentWillUnmount()}catch(x){Mn(r,t,x)}}break;case 5:xh(p,p.return);break;case 22:if(p.memoizedState!==null){fE(f);continue}}g!==null?(g.return=p,et=g):fE(f)}d=d.sibling}e:for(d=null,f=n;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=FT("display",o))}catch(x){Mn(n,n.return,x)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(x){Mn(n,n.return,x)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===n)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===n)break e;for(;f.sibling===null;){if(f.return===null||f.return===n)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Ds(e,n),ho(n),r&4&&hE(n);break;case 21:break;default:Ds(e,n),ho(n)}}function ho(n){var e=n.flags;if(e&2){try{e:{for(var t=n.return;t!==null;){if(l4(t)){var r=t;break e}t=t.return}throw Error(Me(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(yp(i,""),r.flags&=-33);var s=cE(n);D2(n,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=cE(n);L2(n,a,o);break;default:throw Error(Me(161))}}catch(l){Mn(n,n.return,l)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function nD(n,e,t){et=n,h4(n)}function h4(n,e,t){for(var r=(n.mode&1)!==0;et!==null;){var i=et,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Ig;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||zr;a=Ig;var c=zr;if(Ig=o,(zr=l)&&!c)for(et=i;et!==null;)o=et,l=o.child,o.tag===22&&o.memoizedState!==null?pE(i):l!==null?(l.return=o,et=l):pE(i);for(;s!==null;)et=s,h4(s),s=s.sibling;et=i,Ig=a,zr=c}dE(n)}else i.subtreeFlags&8772&&s!==null?(s.return=i,et=s):dE(n)}}function dE(n){for(;et!==null;){var e=et;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:zr||A0(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!zr)if(t===null)r.componentDidMount();else{var i=e.elementType===e.type?t.memoizedProps:Ms(e.type,t.memoizedProps);r.componentDidUpdate(i,t.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&YI(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}YI(e,o,t)}break;case 5:var a=e.stateNode;if(t===null&&e.flags&4){t=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&t.focus();break;case"img":l.src&&(t.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&bp(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Me(163))}zr||e.flags&512&&R2(e)}catch(p){Mn(e,e.return,p)}}if(e===n){et=null;break}if(t=e.sibling,t!==null){t.return=e.return,et=t;break}et=e.return}}function fE(n){for(;et!==null;){var e=et;if(e===n){et=null;break}var t=e.sibling;if(t!==null){t.return=e.return,et=t;break}et=e.return}}function pE(n){for(;et!==null;){var e=et;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{A0(4,e)}catch(l){Mn(e,t,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Mn(e,i,l)}}var s=e.return;try{R2(e)}catch(l){Mn(e,s,l)}break;case 5:var o=e.return;try{R2(e)}catch(l){Mn(e,o,l)}}}catch(l){Mn(e,e.return,l)}if(e===n){et=null;break}var a=e.sibling;if(a!==null){a.return=e.return,et=a;break}et=e.return}}var rD=Math.ceil,D1=ya.ReactCurrentDispatcher,Cw=ya.ReactCurrentOwner,ms=ya.ReactCurrentBatchConfig,qt=0,wr=null,tr=null,Nr=0,ji=0,Ph=Gl(0),cr=0,Rp=null,nc=0,T0=0,kw=0,Kf=null,Si=null,Rw=0,Kh=1/0,Zo=null,O1=!1,O2=null,bl=null,Eg=!1,hl=null,F1=0,Qf=0,F2=null,Kg=-1,Qg=0;function ai(){return qt&6?qn():Kg!==-1?Kg:Kg=qn()}function Il(n){return n.mode&1?qt&2&&Nr!==0?Nr&-Nr:BL.transition!==null?(Qg===0&&(Qg=QT()),Qg):(n=Zt,n!==0||(n=window.event,n=n===void 0?16:nx(n.type)),n):1}function $s(n,e,t,r){if(50<Qf)throw Qf=0,F2=null,Error(Me(185));am(n,t,r),(!(qt&2)||n!==wr)&&(n===wr&&(!(qt&2)&&(T0|=t),cr===4&&al(n,Nr)),ki(n,r),t===1&&qt===0&&!(e.mode&1)&&(Kh=qn()+500,I0&&Kl()))}function ki(n,e){var t=n.callbackNode;B6(n,e);var r=_1(n,n===wr?Nr:0);if(r===0)t!==null&&EI(t),n.callbackNode=null,n.callbackPriority=0;else if(e=r&-r,n.callbackPriority!==e){if(t!=null&&EI(t),e===1)n.tag===0?jL(mE.bind(null,n)):bx(mE.bind(null,n)),OL(function(){!(qt&6)&&Kl()}),t=null;else{switch(YT(r)){case 1:t=iw;break;case 4:t=GT;break;case 16:t=v1;break;case 536870912:t=KT;break;default:t=v1}t=_4(t,d4.bind(null,n))}n.callbackPriority=e,n.callbackNode=t}}function d4(n,e){if(Kg=-1,Qg=0,qt&6)throw Error(Me(327));var t=n.callbackNode;if(Oh()&&n.callbackNode!==t)return null;var r=_1(n,n===wr?Nr:0);if(r===0)return null;if(r&30||r&n.expiredLanes||e)e=M1(n,r);else{e=r;var i=qt;qt|=2;var s=p4();(wr!==n||Nr!==e)&&(Zo=null,Kh=qn()+500,$u(n,e));do try{oD();break}catch(a){f4(n,a)}while(1);yw(),D1.current=s,qt=i,tr!==null?e=0:(wr=null,Nr=0,e=cr)}if(e!==0){if(e===2&&(i=u2(n),i!==0&&(r=i,e=M2(n,i))),e===1)throw t=Rp,$u(n,0),al(n,r),ki(n,qn()),t;if(e===6)al(n,r);else{if(i=n.current.alternate,!(r&30)&&!iD(i)&&(e=M1(n,r),e===2&&(s=u2(n),s!==0&&(r=s,e=M2(n,s))),e===1))throw t=Rp,$u(n,0),al(n,r),ki(n,qn()),t;switch(n.finishedWork=i,n.finishedLanes=r,e){case 0:case 1:throw Error(Me(345));case 2:Su(n,Si,Zo);break;case 3:if(al(n,r),(r&130023424)===r&&(e=Rw+500-qn(),10<e)){if(_1(n,0)!==0)break;if(i=n.suspendedLanes,(i&r)!==r){ai(),n.pingedLanes|=n.suspendedLanes&i;break}n.timeoutHandle=y2(Su.bind(null,n,Si,Zo),e);break}Su(n,Si,Zo);break;case 4:if(al(n,r),(r&4194240)===r)break;for(e=n.eventTimes,i=-1;0<r;){var o=31-qs(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=qn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*rD(r/1960))-r,10<r){n.timeoutHandle=y2(Su.bind(null,n,Si,Zo),r);break}Su(n,Si,Zo);break;case 5:Su(n,Si,Zo);break;default:throw Error(Me(329))}}}return ki(n,qn()),n.callbackNode===t?d4.bind(null,n):null}function M2(n,e){var t=Kf;return n.current.memoizedState.isDehydrated&&($u(n,e).flags|=256),n=M1(n,e),n!==2&&(e=Si,Si=t,e!==null&&V2(e)),n}function V2(n){Si===null?Si=n:Si.push.apply(Si,n)}function iD(n){for(var e=n;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var r=0;r<t.length;r++){var i=t[r],s=i.getSnapshot;i=i.value;try{if(!Ks(s(),i))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function al(n,e){for(e&=~kw,e&=~T0,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-qs(e),r=1<<t;n[t]=-1,e&=~r}}function mE(n){if(qt&6)throw Error(Me(327));Oh();var e=_1(n,0);if(!(e&1))return ki(n,qn()),null;var t=M1(n,e);if(n.tag!==0&&t===2){var r=u2(n);r!==0&&(e=r,t=M2(n,r))}if(t===1)throw t=Rp,$u(n,0),al(n,e),ki(n,qn()),t;if(t===6)throw Error(Me(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,Su(n,Si,Zo),ki(n,qn()),null}function Lw(n,e){var t=qt;qt|=1;try{return n(e)}finally{qt=t,qt===0&&(Kh=qn()+500,I0&&Kl())}}function rc(n){hl!==null&&hl.tag===0&&!(qt&6)&&Oh();var e=qt;qt|=1;var t=ms.transition,r=Zt;try{if(ms.transition=null,Zt=1,n)return n()}finally{Zt=r,ms.transition=t,qt=e,!(qt&6)&&Kl()}}function Dw(){ji=Ph.current,_n(Ph)}function $u(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,DL(t)),tr!==null)for(t=tr.return;t!==null;){var r=t;switch(pw(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&S1();break;case 3:Hh(),_n(Ni),_n(Hr),Ew();break;case 5:Iw(r);break;case 4:Hh();break;case 13:_n(Nn);break;case 19:_n(Nn);break;case 10:vw(r.type._context);break;case 22:case 23:Dw()}t=t.return}if(wr=n,tr=n=El(n.current,null),Nr=ji=e,cr=0,Rp=null,kw=T0=nc=0,Si=Kf=null,Mu!==null){for(e=0;e<Mu.length;e++)if(t=Mu[e],r=t.interleaved,r!==null){t.interleaved=null;var i=r.next,s=t.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}t.pending=r}Mu=null}return n}function f4(n,e){do{var t=tr;try{if(yw(),Wg.current=L1,R1){for(var r=Cn.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}R1=!1}if(tc=0,vr=lr=Cn=null,Hf=!1,Np=0,Cw.current=null,t===null||t.return===null){cr=1,Rp=e,tr=null;break}e:{var s=n,o=t.return,a=t,l=e;if(e=Nr,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=nE(o);if(g!==null){g.flags&=-257,rE(g,o,a,s,e),g.mode&1&&tE(s,c,e),e=g,l=c;var S=e.updateQueue;if(S===null){var x=new Set;x.add(l),e.updateQueue=x}else S.add(l);break e}else{if(!(e&1)){tE(s,c,e),Ow();break e}l=Error(Me(426))}}else if(En&&a.mode&1){var k=nE(o);if(k!==null){!(k.flags&65536)&&(k.flags|=256),rE(k,o,a,s,e),mw(Gh(l,a));break e}}s=l=Gh(l,a),cr!==4&&(cr=2),Kf===null?Kf=[s]:Kf.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var _=Yx(s,l,e);QI(s,_);break e;case 1:a=l;var b=s.type,E=s.stateNode;if(!(s.flags&128)&&(typeof b.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(bl===null||!bl.has(E)))){s.flags|=65536,e&=-e,s.lanes|=e;var F=Jx(s,a,e);QI(s,F);break e}}s=s.return}while(s!==null)}g4(t)}catch(B){e=B,tr===t&&t!==null&&(tr=t=t.return);continue}break}while(1)}function p4(){var n=D1.current;return D1.current=L1,n===null?L1:n}function Ow(){(cr===0||cr===3||cr===2)&&(cr=4),wr===null||!(nc&268435455)&&!(T0&268435455)||al(wr,Nr)}function M1(n,e){var t=qt;qt|=2;var r=p4();(wr!==n||Nr!==e)&&(Zo=null,$u(n,e));do try{sD();break}catch(i){f4(n,i)}while(1);if(yw(),qt=t,D1.current=r,tr!==null)throw Error(Me(261));return wr=null,Nr=0,cr}function sD(){for(;tr!==null;)m4(tr)}function oD(){for(;tr!==null&&!k6();)m4(tr)}function m4(n){var e=v4(n.alternate,n,ji);n.memoizedProps=n.pendingProps,e===null?g4(n):tr=e,Cw.current=null}function g4(n){var e=n;do{var t=e.alternate;if(n=e.return,e.flags&32768){if(t=ZL(t,e),t!==null){t.flags&=32767,tr=t;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{cr=6,tr=null;return}}else if(t=XL(t,e,ji),t!==null){tr=t;return}if(e=e.sibling,e!==null){tr=e;return}tr=e=n}while(e!==null);cr===0&&(cr=5)}function Su(n,e,t){var r=Zt,i=ms.transition;try{ms.transition=null,Zt=1,aD(n,e,t,r)}finally{ms.transition=i,Zt=r}return null}function aD(n,e,t,r){do Oh();while(hl!==null);if(qt&6)throw Error(Me(327));t=n.finishedWork;var i=n.finishedLanes;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(Me(177));n.callbackNode=null,n.callbackPriority=0;var s=t.lanes|t.childLanes;if(U6(n,s),n===wr&&(tr=wr=null,Nr=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||Eg||(Eg=!0,_4(v1,function(){return Oh(),null})),s=(t.flags&15990)!==0,t.subtreeFlags&15990||s){s=ms.transition,ms.transition=null;var o=Zt;Zt=1;var a=qt;qt|=4,Cw.current=null,tD(n,t),c4(t,n),xL(m2),w1=!!p2,m2=p2=null,n.current=t,nD(t),R6(),qt=a,Zt=o,ms.transition=s}else n.current=t;if(Eg&&(Eg=!1,hl=n,F1=i),s=n.pendingLanes,s===0&&(bl=null),O6(t.stateNode),ki(n,qn()),e!==null)for(r=n.onRecoverableError,t=0;t<e.length;t++)i=e[t],r(i.value,{componentStack:i.stack,digest:i.digest});if(O1)throw O1=!1,n=O2,O2=null,n;return F1&1&&n.tag!==0&&Oh(),s=n.pendingLanes,s&1?n===F2?Qf++:(Qf=0,F2=n):Qf=0,Kl(),null}function Oh(){if(hl!==null){var n=YT(F1),e=ms.transition,t=Zt;try{if(ms.transition=null,Zt=16>n?16:n,hl===null)var r=!1;else{if(n=hl,hl=null,F1=0,qt&6)throw Error(Me(331));var i=qt;for(qt|=4,et=n.current;et!==null;){var s=et,o=s.child;if(et.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(et=c;et!==null;){var d=et;switch(d.tag){case 0:case 11:case 15:Gf(8,d,s)}var f=d.child;if(f!==null)f.return=d,et=f;else for(;et!==null;){d=et;var p=d.sibling,g=d.return;if(a4(d),d===c){et=null;break}if(p!==null){p.return=g,et=p;break}et=g}}}var S=s.alternate;if(S!==null){var x=S.child;if(x!==null){S.child=null;do{var k=x.sibling;x.sibling=null,x=k}while(x!==null)}}et=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,et=o;else e:for(;et!==null;){if(s=et,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Gf(9,s,s.return)}var _=s.sibling;if(_!==null){_.return=s.return,et=_;break e}et=s.return}}var b=n.current;for(et=b;et!==null;){o=et;var E=o.child;if(o.subtreeFlags&2064&&E!==null)E.return=o,et=E;else e:for(o=b;et!==null;){if(a=et,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:A0(9,a)}}catch(B){Mn(a,a.return,B)}if(a===o){et=null;break e}var F=a.sibling;if(F!==null){F.return=a.return,et=F;break e}et=a.return}}if(qt=i,Kl(),To&&typeof To.onPostCommitFiberRoot=="function")try{To.onPostCommitFiberRoot(y0,n)}catch{}r=!0}return r}finally{Zt=t,ms.transition=e}}return!1}function gE(n,e,t){e=Gh(t,e),e=Yx(n,e,1),n=wl(n,e,1),e=ai(),n!==null&&(am(n,1,e),ki(n,e))}function Mn(n,e,t){if(n.tag===3)gE(n,n,t);else for(;e!==null;){if(e.tag===3){gE(e,n,t);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(bl===null||!bl.has(r))){n=Gh(t,n),n=Jx(e,n,1),e=wl(e,n,1),n=ai(),e!==null&&(am(e,1,n),ki(e,n));break}}e=e.return}}function lD(n,e,t){var r=n.pingCache;r!==null&&r.delete(e),e=ai(),n.pingedLanes|=n.suspendedLanes&t,wr===n&&(Nr&t)===t&&(cr===4||cr===3&&(Nr&130023424)===Nr&&500>qn()-Rw?$u(n,0):kw|=t),ki(n,e)}function y4(n,e){e===0&&(n.mode&1?(e=fg,fg<<=1,!(fg&130023424)&&(fg=4194304)):e=1);var t=ai();n=ca(n,e),n!==null&&(am(n,e,t),ki(n,t))}function uD(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),y4(n,t)}function cD(n,e){var t=0;switch(n.tag){case 13:var r=n.stateNode,i=n.memoizedState;i!==null&&(t=i.retryLane);break;case 19:r=n.stateNode;break;default:throw Error(Me(314))}r!==null&&r.delete(e),y4(n,t)}var v4;v4=function(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps||Ni.current)Ai=!0;else{if(!(n.lanes&t)&&!(e.flags&128))return Ai=!1,JL(n,e,t);Ai=!!(n.flags&131072)}else Ai=!1,En&&e.flags&1048576&&Ix(e,x1,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Gg(n,e),n=e.pendingProps;var i=qh(e,Hr.current);Dh(e,t),i=Aw(null,e,r,n,i,t);var s=Tw();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ci(r)?(s=!0,A1(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,ww(e),i.updater=S0,e.stateNode=i,i._reactInternals=e,S2(e,r,n,t),e=x2(null,e,r,!0,s,t)):(e.tag=0,En&&s&&fw(e),ri(null,e,i,t),e=e.child),e;case 16:r=e.elementType;e:{switch(Gg(n,e),n=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=dD(r),n=Ms(r,n),i){case 0:e=T2(null,e,r,n,t);break e;case 1:e=oE(null,e,r,n,t);break e;case 11:e=iE(null,e,r,n,t);break e;case 14:e=sE(null,e,r,Ms(r.type,n),t);break e}throw Error(Me(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ms(r,i),T2(n,e,r,i,t);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ms(r,i),oE(n,e,r,i,t);case 3:e:{if(t4(e),n===null)throw Error(Me(387));r=e.pendingProps,s=e.memoizedState,i=s.element,Px(n,e),C1(e,r,null,t);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Gh(Error(Me(423)),e),e=aE(n,e,r,t,i);break e}else if(r!==i){i=Gh(Error(Me(424)),e),e=aE(n,e,r,t,i);break e}else for(zi=_l(e.stateNode.containerInfo.firstChild),Wi=e,En=!0,Us=null,t=Tx(e,null,r,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if($h(),r===i){e=ha(n,e,t);break e}ri(n,e,r,t)}e=e.child}return e;case 5:return Nx(e),n===null&&b2(e),r=e.type,i=e.pendingProps,s=n!==null?n.memoizedProps:null,o=i.children,g2(r,i)?o=null:s!==null&&g2(r,s)&&(e.flags|=32),e4(n,e),ri(n,e,o,t),e.child;case 6:return n===null&&b2(e),null;case 13:return n4(n,e,t);case 4:return bw(e,e.stateNode.containerInfo),r=e.pendingProps,n===null?e.child=Wh(e,null,r,t):ri(n,e,r,t),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ms(r,i),iE(n,e,r,i,t);case 7:return ri(n,e,e.pendingProps,t),e.child;case 8:return ri(n,e,e.pendingProps.children,t),e.child;case 12:return ri(n,e,e.pendingProps.children,t),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,dn(P1,r._currentValue),r._currentValue=o,s!==null)if(Ks(s.value,o)){if(s.children===i.children&&!Ni.current){e=ha(n,e,t);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=sa(-1,t&-t),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}s.lanes|=t,l=s.alternate,l!==null&&(l.lanes|=t),I2(s.return,t,e),a.lanes|=t;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(Me(341));o.lanes|=t,a=o.alternate,a!==null&&(a.lanes|=t),I2(o,t,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}ri(n,e,i.children,t),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Dh(e,t),i=ys(i),r=r(i),e.flags|=1,ri(n,e,r,t),e.child;case 14:return r=e.type,i=Ms(r,e.pendingProps),i=Ms(r.type,i),sE(n,e,r,i,t);case 15:return Xx(n,e,e.type,e.pendingProps,t);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ms(r,i),Gg(n,e),e.tag=1,Ci(r)?(n=!0,A1(e)):n=!1,Dh(e,t),Qx(e,r,i),S2(e,r,i,t),x2(null,e,r,!0,n,t);case 19:return r4(n,e,t);case 22:return Zx(n,e,t)}throw Error(Me(156,e.tag))};function _4(n,e){return HT(n,e)}function hD(n,e,t,r){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fs(n,e,t,r){return new hD(n,e,t,r)}function Fw(n){return n=n.prototype,!(!n||!n.isReactComponent)}function dD(n){if(typeof n=="function")return Fw(n)?1:0;if(n!=null){if(n=n.$$typeof,n===tw)return 11;if(n===nw)return 14}return 2}function El(n,e){var t=n.alternate;return t===null?(t=fs(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&14680064,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function Yg(n,e,t,r,i,s){var o=2;if(r=n,typeof n=="function")Fw(n)&&(o=1);else if(typeof n=="string")o=5;else e:switch(n){case vh:return Wu(t.children,i,s,e);case ew:o=8,i|=8;break;case Kv:return n=fs(12,t,e,i|2),n.elementType=Kv,n.lanes=s,n;case Qv:return n=fs(13,t,e,i),n.elementType=Qv,n.lanes=s,n;case Yv:return n=fs(19,t,e,i),n.elementType=Yv,n.lanes=s,n;case NT:return x0(t,i,s,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case xT:o=10;break e;case PT:o=9;break e;case tw:o=11;break e;case nw:o=14;break e;case nl:o=16,r=null;break e}throw Error(Me(130,n==null?n:typeof n,""))}return e=fs(o,t,e,i),e.elementType=n,e.type=r,e.lanes=s,e}function Wu(n,e,t,r){return n=fs(7,n,r,e),n.lanes=t,n}function x0(n,e,t,r){return n=fs(22,n,r,e),n.elementType=NT,n.lanes=t,n.stateNode={isHidden:!1},n}function cv(n,e,t){return n=fs(6,n,null,e),n.lanes=t,n}function hv(n,e,t){return e=fs(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function fD(n,e,t,r,i){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Wy(0),this.expirationTimes=Wy(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wy(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Mw(n,e,t,r,i,s,o,a,l){return n=new fD(n,e,t,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=fs(3,null,null,e),n.current=s,s.stateNode=n,s.memoizedState={element:r,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},ww(s),n}function pD(n,e,t){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:yh,key:r==null?null:""+r,children:n,containerInfo:e,implementation:t}}function w4(n){if(!n)return kl;n=n._reactInternals;e:{if(yc(n)!==n||n.tag!==1)throw Error(Me(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ci(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Me(171))}if(n.tag===1){var t=n.type;if(Ci(t))return wx(n,t,e)}return e}function b4(n,e,t,r,i,s,o,a,l){return n=Mw(t,r,!0,n,i,s,o,a,l),n.context=w4(null),t=n.current,r=ai(),i=Il(t),s=sa(r,i),s.callback=e??null,wl(t,s,i),n.current.lanes=i,am(n,i,r),ki(n,r),n}function P0(n,e,t,r){var i=e.current,s=ai(),o=Il(i);return t=w4(t),e.context===null?e.context=t:e.pendingContext=t,e=sa(s,o),e.payload={element:n},r=r===void 0?null:r,r!==null&&(e.callback=r),n=wl(i,e,o),n!==null&&($s(n,i,o,s),$g(n,i,o)),o}function V1(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function yE(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function Vw(n,e){yE(n,e),(n=n.alternate)&&yE(n,e)}function mD(){return null}var I4=typeof reportError=="function"?reportError:function(n){console.error(n)};function jw(n){this._internalRoot=n}N0.prototype.render=jw.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(Me(409));P0(n,e,null,null)};N0.prototype.unmount=jw.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;rc(function(){P0(null,n,null,null)}),e[ua]=null}};function N0(n){this._internalRoot=n}N0.prototype.unstable_scheduleHydration=function(n){if(n){var e=ZT();n={blockedOn:null,target:n,priority:e};for(var t=0;t<ol.length&&e!==0&&e<ol[t].priority;t++);ol.splice(t,0,n),t===0&&tx(n)}};function Bw(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function C0(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function vE(){}function gD(n,e,t,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=V1(o);s.call(c)}}var o=b4(e,r,n,0,null,!1,!1,"",vE);return n._reactRootContainer=o,n[ua]=o.current,Sp(n.nodeType===8?n.parentNode:n),rc(),o}for(;i=n.lastChild;)n.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=V1(l);a.call(c)}}var l=Mw(n,0,!1,null,null,!1,!1,"",vE);return n._reactRootContainer=l,n[ua]=l.current,Sp(n.nodeType===8?n.parentNode:n),rc(function(){P0(e,l,t,r)}),l}function k0(n,e,t,r,i){var s=t._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=V1(o);a.call(l)}}P0(e,o,n,i)}else o=gD(t,e,n,i,r);return V1(o)}JT=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var t=Nf(e.pendingLanes);t!==0&&(sw(e,t|1),ki(e,qn()),!(qt&6)&&(Kh=qn()+500,Kl()))}break;case 13:rc(function(){var r=ca(n,1);if(r!==null){var i=ai();$s(r,n,1,i)}}),Vw(n,1)}};ow=function(n){if(n.tag===13){var e=ca(n,134217728);if(e!==null){var t=ai();$s(e,n,134217728,t)}Vw(n,134217728)}};XT=function(n){if(n.tag===13){var e=Il(n),t=ca(n,e);if(t!==null){var r=ai();$s(t,n,e,r)}Vw(n,e)}};ZT=function(){return Zt};ex=function(n,e){var t=Zt;try{return Zt=n,e()}finally{Zt=t}};o2=function(n,e,t){switch(e){case"input":if(Zv(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var r=t[e];if(r!==n&&r.form===n.form){var i=b0(r);if(!i)throw Error(Me(90));kT(r),Zv(r,i)}}}break;case"textarea":LT(n,t);break;case"select":e=t.value,e!=null&&Ch(n,!!t.multiple,e,!1)}};BT=Lw;UT=rc;var yD={usingClientEntryPoint:!1,Events:[um,Ih,b0,VT,jT,Lw]},pf={findFiberByHostInstance:Fu,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},vD={bundleType:pf.bundleType,version:pf.version,rendererPackageName:pf.rendererPackageName,rendererConfig:pf.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ya.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=$T(n),n===null?null:n.stateNode},findFiberByHostInstance:pf.findFiberByHostInstance||mD,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Sg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Sg.isDisabled&&Sg.supportsFiber)try{y0=Sg.inject(vD),To=Sg}catch{}}Qi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=yD;Qi.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Bw(e))throw Error(Me(200));return pD(n,e,null,t)};Qi.createRoot=function(n,e){if(!Bw(n))throw Error(Me(299));var t=!1,r="",i=I4;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Mw(n,1,!1,null,null,t,!1,r,i),n[ua]=e.current,Sp(n.nodeType===8?n.parentNode:n),new jw(e)};Qi.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(Me(188)):(n=Object.keys(n).join(","),Error(Me(268,n)));return n=$T(e),n=n===null?null:n.stateNode,n};Qi.flushSync=function(n){return rc(n)};Qi.hydrate=function(n,e,t){if(!C0(e))throw Error(Me(200));return k0(null,n,e,!0,t)};Qi.hydrateRoot=function(n,e,t){if(!Bw(n))throw Error(Me(405));var r=t!=null&&t.hydratedSources||null,i=!1,s="",o=I4;if(t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),e=b4(e,null,n,1,t??null,i,!1,s,o),n[ua]=e.current,Sp(n),r)for(n=0;n<r.length;n++)t=r[n],i=t._getVersion,i=i(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,i]:e.mutableSourceEagerHydrationData.push(t,i);return new N0(e)};Qi.render=function(n,e,t){if(!C0(e))throw Error(Me(200));return k0(null,n,e,!1,t)};Qi.unmountComponentAtNode=function(n){if(!C0(n))throw Error(Me(40));return n._reactRootContainer?(rc(function(){k0(null,null,n,!1,function(){n._reactRootContainer=null,n[ua]=null})}),!0):!1};Qi.unstable_batchedUpdates=Lw;Qi.unstable_renderSubtreeIntoContainer=function(n,e,t,r){if(!C0(t))throw Error(Me(200));if(n==null||n._reactInternals===void 0)throw Error(Me(38));return k0(n,e,t,!1,r)};Qi.version="18.3.1-next-f1338f8080-20240426";function E4(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(E4)}catch(n){console.error(n)}}E4(),ET.exports=Qi;var S4=ET.exports;const kf=m0(S4);var _E=S4;Hv.createRoot=_E.createRoot,Hv.hydrateRoot=_E.hydrateRoot;const _D="modulepreload",wD=function(n){return"/"+n},wE={},j1=function(e,t,r){if(!t||t.length===0)return e();const i=document.getElementsByTagName("link");return Promise.all(t.map(s=>{if(s=wD(s),s in wE)return;wE[s]=!0;const o=s.endsWith(".css"),a=o?'[rel="stylesheet"]':"";if(!!r)for(let d=i.length-1;d>=0;d--){const f=i[d];if(f.href===s&&(!o||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${a}`))return;const c=document.createElement("link");if(c.rel=o?"stylesheet":_D,o||(c.as="script",c.crossOrigin=""),c.href=s,document.head.appendChild(c),o)return new Promise((d,f)=>{c.addEventListener("load",d),c.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>e()).catch(s=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s})};var bE="popstate";function bD(n={}){function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return j2("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(r,i){return typeof i=="string"?i:Lp(i)}return ED(e,t,null,n)}function rr(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function _s(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function ID(){return Math.random().toString(36).substring(2,10)}function IE(n,e){return{usr:n.state,key:n.key,idx:e}}function j2(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Id(e):e,state:t,key:e&&e.key||r||ID()}}function Lp({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Id(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function ED(n,e,t,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a="POP",l=null,c=d();c==null&&(c=0,o.replaceState({...o.state,idx:c},""));function d(){return(o.state||{idx:null}).idx}function f(){a="POP";let k=d(),_=k==null?null:k-c;c=k,l&&l({action:a,location:x.location,delta:_})}function p(k,_){a="PUSH";let b=j2(x.location,k,_);t&&t(b,k),c=d()+1;let E=IE(b,c),F=x.createHref(b);try{o.pushState(E,"",F)}catch(B){if(B instanceof DOMException&&B.name==="DataCloneError")throw B;i.location.assign(F)}s&&l&&l({action:a,location:x.location,delta:1})}function g(k,_){a="REPLACE";let b=j2(x.location,k,_);t&&t(b,k),c=d();let E=IE(b,c),F=x.createHref(b);o.replaceState(E,"",F),s&&l&&l({action:a,location:x.location,delta:0})}function S(k){return SD(k)}let x={get action(){return a},get location(){return n(i,o)},listen(k){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(bE,f),l=k,()=>{i.removeEventListener(bE,f),l=null}},createHref(k){return e(i,k)},createURL:S,encodeLocation(k){let _=S(k);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:p,replace:g,go(k){return o.go(k)}};return x}function SD(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),rr(t,"No window.location.(origin|href) available to create URL");let r=typeof n=="string"?n:Lp(n);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=t+r),new URL(r,t)}function A4(n,e,t="/"){return AD(n,e,t,!1)}function AD(n,e,t,r){let i=typeof e=="string"?Id(e):e,s=da(i.pathname||"/",t);if(s==null)return null;let o=T4(n);TD(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=MD(s);a=OD(o[l],c,r)}return a}function T4(n,e=[],t=[],r="",i=!1){let s=(o,a,l=i,c)=>{let d={relativePath:c===void 0?o.path||"":c,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};if(d.relativePath.startsWith("/")){if(!d.relativePath.startsWith(r)&&l)return;rr(d.relativePath.startsWith(r),`Absolute route path "${d.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(r.length)}let f=oa([r,d.relativePath]),p=t.concat(d);o.children&&o.children.length>0&&(rr(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),T4(o.children,e,p,f,l)),!(o.path==null&&!o.index)&&e.push({path:f,score:LD(f,o.index),routesMeta:p})};return n.forEach((o,a)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))s(o,a);else for(let c of x4(o.path))s(o,a,!0,c)}),e}function x4(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,i=t.endsWith("?"),s=t.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=x4(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>n.startsWith("/")&&l===""?"/":l)}function TD(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:DD(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var xD=/^:[\w-]+$/,PD=3,ND=2,CD=1,kD=10,RD=-2,EE=n=>n==="*";function LD(n,e){let t=n.split("/"),r=t.length;return t.some(EE)&&(r+=RD),e&&(r+=ND),t.filter(i=>!EE(i)).reduce((i,s)=>i+(xD.test(s)?PD:s===""?CD:kD),r)}function DD(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function OD(n,e,t=!1){let{routesMeta:r}=n,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,d=s==="/"?e:e.slice(s.length)||"/",f=B1({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},d),p=l.route;if(!f&&c&&t&&!r[r.length-1].route.index&&(f=B1({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!f)return null;Object.assign(i,f.params),o.push({params:i,pathname:oa([s,f.pathname]),pathnameBase:zD(oa([s,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(s=oa([s,f.pathnameBase]))}return o}function B1(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=FD(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,{paramName:d,isOptional:f},p)=>{if(d==="*"){let S=a[p]||"";o=s.slice(0,s.length-S.length).replace(/(.)\/+$/,"$1")}const g=a[p];return f&&!g?c[d]=void 0:c[d]=(g||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:n}}function FD(n,e=!1,t=!0){_s(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(r.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function MD(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return _s(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function da(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}var VD=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,jD=n=>VD.test(n);function BD(n,e="/"){let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?Id(n):n,s;if(t)if(jD(t))s=t;else{if(t.includes("//")){let o=t;t=t.replace(/\/\/+/g,"/"),_s(!1,`Pathnames cannot have embedded double slashes - normalizing ${o} -> ${t}`)}t.startsWith("/")?s=SE(t.substring(1),"/"):s=SE(t,e)}else s=e;return{pathname:s,search:qD(r),hash:$D(i)}}function SE(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function dv(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function UD(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function P4(n){let e=UD(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function N4(n,e,t,r=!1){let i;typeof n=="string"?i=Id(n):(i={...n},rr(!i.pathname||!i.pathname.includes("?"),dv("?","pathname","search",i)),rr(!i.pathname||!i.pathname.includes("#"),dv("#","pathname","hash",i)),rr(!i.search||!i.search.includes("#"),dv("#","search","hash",i)));let s=n===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=t;else{let f=e.length-1;if(!r&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),f-=1;i.pathname=p.join("/")}a=f>=0?e[f]:"/"}let l=BD(i,a),c=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&t.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}var oa=n=>n.join("/").replace(/\/\/+/g,"/"),zD=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),qD=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,$D=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function WD(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var C4=["POST","PUT","PATCH","DELETE"];new Set(C4);var HD=["GET",...C4];new Set(HD);var Ed=se.createContext(null);Ed.displayName="DataRouter";var R0=se.createContext(null);R0.displayName="DataRouterState";se.createContext(!1);var k4=se.createContext({isTransitioning:!1});k4.displayName="ViewTransition";var GD=se.createContext(new Map);GD.displayName="Fetchers";var KD=se.createContext(null);KD.displayName="Await";var Fo=se.createContext(null);Fo.displayName="Navigation";var hm=se.createContext(null);hm.displayName="Location";var va=se.createContext({outlet:null,matches:[],isDataRoute:!1});va.displayName="Route";var Uw=se.createContext(null);Uw.displayName="RouteError";function QD(n,{relative:e}={}){rr(dm(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=se.useContext(Fo),{hash:i,pathname:s,search:o}=fm(n,{relative:e}),a=s;return t!=="/"&&(a=s==="/"?t:oa([t,s])),r.createHref({pathname:a,search:o,hash:i})}function dm(){return se.useContext(hm)!=null}function Ql(){return rr(dm(),"useLocation() may be used only in the context of a <Router> component."),se.useContext(hm).location}var R4="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function L4(n){se.useContext(Fo).static||se.useLayoutEffect(n)}function D4(){let{isDataRoute:n}=se.useContext(va);return n?l8():YD()}function YD(){rr(dm(),"useNavigate() may be used only in the context of a <Router> component.");let n=se.useContext(Ed),{basename:e,navigator:t}=se.useContext(Fo),{matches:r}=se.useContext(va),{pathname:i}=Ql(),s=JSON.stringify(P4(r)),o=se.useRef(!1);return L4(()=>{o.current=!0}),se.useCallback((l,c={})=>{if(_s(o.current,R4),!o.current)return;if(typeof l=="number"){t.go(l);return}let d=N4(l,JSON.parse(s),i,c.relative==="path");n==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:oa([e,d.pathname])),(c.replace?t.replace:t.push)(d,c.state,c)},[e,t,s,i,n])}se.createContext(null);function fm(n,{relative:e}={}){let{matches:t}=se.useContext(va),{pathname:r}=Ql(),i=JSON.stringify(P4(t));return se.useMemo(()=>N4(n,JSON.parse(i),r,e==="path"),[n,i,r,e])}function JD(n,e,t,r,i){var b;rr(dm(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=se.useContext(Fo),{matches:o}=se.useContext(va),a=o[o.length-1],l=a?a.params:{},c=a?a.pathname:"/",d=a?a.pathnameBase:"/",f=a&&a.route;{let E=f&&f.path||"";O4(c,!f||E.endsWith("*")||E.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${E}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${E}"> to <Route path="${E==="/"?"*":`${E}/*`}">.`)}let p=Ql(),g;if(e){let E=typeof e=="string"?Id(e):e;rr(d==="/"||((b=E.pathname)==null?void 0:b.startsWith(d)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${E.pathname}" was given in the \`location\` prop.`),g=E}else g=p;let S=g.pathname||"/",x=S;if(d!=="/"){let E=d.replace(/^\//,"").split("/");x="/"+S.replace(/^\//,"").split("/").slice(E.length).join("/")}let k=A4(n,{pathname:x});_s(f||k!=null,`No routes matched location "${g.pathname}${g.search}${g.hash}" `),_s(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${g.pathname}${g.search}${g.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let _=n8(k&&k.map(E=>Object.assign({},E,{params:Object.assign({},l,E.params),pathname:oa([d,s.encodeLocation?s.encodeLocation(E.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?d:oa([d,s.encodeLocation?s.encodeLocation(E.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:E.pathnameBase])})),o,t,r,i);return e&&_?se.createElement(hm.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...g},navigationType:"POP"}},_):_}function XD(){let n=a8(),e=WD(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",n),o=se.createElement(se.Fragment,null,se.createElement("p",null," Hey developer "),se.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",se.createElement("code",{style:s},"ErrorBoundary")," or"," ",se.createElement("code",{style:s},"errorElement")," prop on your route.")),se.createElement(se.Fragment,null,se.createElement("h2",null,"Unexpected Application Error!"),se.createElement("h3",{style:{fontStyle:"italic"}},e),t?se.createElement("pre",{style:i},t):null,o)}var ZD=se.createElement(XD,null),e8=class extends se.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.onError?this.props.onError(n,e):console.error("React Router caught the following error during render",n)}render(){return this.state.error!==void 0?se.createElement(va.Provider,{value:this.props.routeContext},se.createElement(Uw.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function t8({routeContext:n,match:e,children:t}){let r=se.useContext(Ed);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),se.createElement(va.Provider,{value:n},t)}function n8(n,e=[],t=null,r=null,i=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let s=n,o=t==null?void 0:t.errors;if(o!=null){let d=s.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);rr(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),s=s.slice(0,Math.min(s.length,d+1))}let a=!1,l=-1;if(t)for(let d=0;d<s.length;d++){let f=s[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(l=d),f.route.id){let{loaderData:p,errors:g}=t,S=f.route.loader&&!p.hasOwnProperty(f.route.id)&&(!g||g[f.route.id]===void 0);if(f.route.lazy||S){a=!0,l>=0?s=s.slice(0,l+1):s=[s[0]];break}}}let c=t&&r?(d,f)=>{var p,g;r(d,{location:t.location,params:((g=(p=t.matches)==null?void 0:p[0])==null?void 0:g.params)??{},errorInfo:f})}:void 0;return s.reduceRight((d,f,p)=>{let g,S=!1,x=null,k=null;t&&(g=o&&f.route.id?o[f.route.id]:void 0,x=f.route.errorElement||ZD,a&&(l<0&&p===0?(O4("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,k=null):l===p&&(S=!0,k=f.route.hydrateFallbackElement||null)));let _=e.concat(s.slice(0,p+1)),b=()=>{let E;return g?E=x:S?E=k:f.route.Component?E=se.createElement(f.route.Component,null):f.route.element?E=f.route.element:E=d,se.createElement(t8,{match:f,routeContext:{outlet:d,matches:_,isDataRoute:t!=null},children:E})};return t&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?se.createElement(e8,{location:t.location,revalidation:t.revalidation,component:x,error:g,children:b(),routeContext:{outlet:null,matches:_,isDataRoute:!0},onError:c}):b()},null)}function zw(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function r8(n){let e=se.useContext(Ed);return rr(e,zw(n)),e}function i8(n){let e=se.useContext(R0);return rr(e,zw(n)),e}function s8(n){let e=se.useContext(va);return rr(e,zw(n)),e}function qw(n){let e=s8(n),t=e.matches[e.matches.length-1];return rr(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function o8(){return qw("useRouteId")}function a8(){var r;let n=se.useContext(Uw),e=i8("useRouteError"),t=qw("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function l8(){let{router:n}=r8("useNavigate"),e=qw("useNavigate"),t=se.useRef(!1);return L4(()=>{t.current=!0}),se.useCallback(async(i,s={})=>{_s(t.current,R4),t.current&&(typeof i=="number"?n.navigate(i):await n.navigate(i,{fromRouteId:e,...s}))},[n,e])}var AE={};function O4(n,e,t){!e&&!AE[n]&&(AE[n]=!0,_s(!1,t))}se.memo(u8);function u8({routes:n,future:e,state:t,unstable_onError:r}){return JD(n,void 0,t,r,e)}function c8({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:i,static:s=!1}){rr(!dm(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=n.replace(/^\/*/,"/"),a=se.useMemo(()=>({basename:o,navigator:i,static:s,future:{}}),[o,i,s]);typeof t=="string"&&(t=Id(t));let{pathname:l="/",search:c="",hash:d="",state:f=null,key:p="default"}=t,g=se.useMemo(()=>{let S=da(l,o);return S==null?null:{location:{pathname:S,search:c,hash:d,state:f,key:p},navigationType:r}},[o,l,c,d,f,p,r]);return _s(g!=null,`<Router basename="${o}"> is not able to match the URL "${l}${c}${d}" because it does not start with the basename, so the <Router> won't render anything.`),g==null?null:se.createElement(Fo.Provider,{value:a},se.createElement(hm.Provider,{children:e,value:g}))}var Jg="get",Xg="application/x-www-form-urlencoded";function L0(n){return n!=null&&typeof n.tagName=="string"}function h8(n){return L0(n)&&n.tagName.toLowerCase()==="button"}function d8(n){return L0(n)&&n.tagName.toLowerCase()==="form"}function f8(n){return L0(n)&&n.tagName.toLowerCase()==="input"}function p8(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function m8(n,e){return n.button===0&&(!e||e==="_self")&&!p8(n)}function B2(n=""){return new URLSearchParams(typeof n=="string"||Array.isArray(n)||n instanceof URLSearchParams?n:Object.keys(n).reduce((e,t)=>{let r=n[t];return e.concat(Array.isArray(r)?r.map(i=>[t,i]):[[t,r]])},[]))}function g8(n,e){let t=B2(n);return e&&e.forEach((r,i)=>{t.has(i)||e.getAll(i).forEach(s=>{t.append(i,s)})}),t}var Ag=null;function y8(){if(Ag===null)try{new FormData(document.createElement("form"),0),Ag=!1}catch{Ag=!0}return Ag}var v8=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function fv(n){return n!=null&&!v8.has(n)?(_s(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Xg}"`),null):n}function _8(n,e){let t,r,i,s,o;if(d8(n)){let a=n.getAttribute("action");r=a?da(a,e):null,t=n.getAttribute("method")||Jg,i=fv(n.getAttribute("enctype"))||Xg,s=new FormData(n)}else if(h8(n)||f8(n)&&(n.type==="submit"||n.type==="image")){let a=n.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=n.getAttribute("formaction")||a.getAttribute("action");if(r=l?da(l,e):null,t=n.getAttribute("formmethod")||a.getAttribute("method")||Jg,i=fv(n.getAttribute("formenctype"))||fv(a.getAttribute("enctype"))||Xg,s=new FormData(a,n),!y8()){let{name:c,type:d,value:f}=n;if(d==="image"){let p=c?`${c}.`:"";s.append(`${p}x`,"0"),s.append(`${p}y`,"0")}else c&&s.append(c,f)}}else{if(L0(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Jg,r=null,i=Xg,o=n}return s&&i==="text/plain"&&(o=s,s=void 0),{action:r,method:t.toLowerCase(),encType:i,formData:s,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function $w(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function w8(n,e,t){let r=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return r.pathname==="/"?r.pathname=`_root.${t}`:e&&da(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${t}`,r}async function b8(n,e){if(n.id in e)return e[n.id];try{let t=await j1(()=>import(n.module),[]);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function I8(n){return n!=null&&typeof n.page=="string"}function E8(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function S8(n,e,t){let r=await Promise.all(n.map(async i=>{let s=e.routes[i.route.id];if(s){let o=await b8(s,t);return o.links?o.links():[]}return[]}));return P8(r.flat(1).filter(E8).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function TE(n,e,t,r,i,s){let o=(l,c)=>t[c]?l.route.id!==t[c].route.id:!0,a=(l,c)=>{var d;return t[c].pathname!==l.pathname||((d=t[c].route.path)==null?void 0:d.endsWith("*"))&&t[c].params["*"]!==l.params["*"]};return s==="assets"?e.filter((l,c)=>o(l,c)||a(l,c)):s==="data"?e.filter((l,c)=>{var f;let d=r.routes[l.route.id];if(!d||!d.hasLoader)return!1;if(o(l,c)||a(l,c))return!0;if(l.route.shouldRevalidate){let p=l.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((f=t[0])==null?void 0:f.params)||{},nextUrl:new URL(n,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function A8(n,e,{includeHydrateFallback:t}={}){return T8(n.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),t&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function T8(n){return[...new Set(n)]}function x8(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function P8(n,e){let t=new Set,r=new Set(e);return n.reduce((i,s)=>{if(e&&!I8(s)&&s.as==="script"&&s.href&&r.has(s.href))return i;let a=JSON.stringify(x8(s));return t.has(a)||(t.add(a),i.push({key:a,link:s})),i},[])}function F4(){let n=se.useContext(Ed);return $w(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function N8(){let n=se.useContext(R0);return $w(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Ww=se.createContext(void 0);Ww.displayName="FrameworkContext";function M4(){let n=se.useContext(Ww);return $w(n,"You must render this element inside a <HydratedRouter> element"),n}function C8(n,e){let t=se.useContext(Ww),[r,i]=se.useState(!1),[s,o]=se.useState(!1),{onFocus:a,onBlur:l,onMouseEnter:c,onMouseLeave:d,onTouchStart:f}=e,p=se.useRef(null);se.useEffect(()=>{if(n==="render"&&o(!0),n==="viewport"){let x=_=>{_.forEach(b=>{o(b.isIntersecting)})},k=new IntersectionObserver(x,{threshold:.5});return p.current&&k.observe(p.current),()=>{k.disconnect()}}},[n]),se.useEffect(()=>{if(r){let x=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(x)}}},[r]);let g=()=>{i(!0)},S=()=>{i(!1),o(!1)};return t?n!=="intent"?[s,p,{}]:[s,p,{onFocus:mf(a,g),onBlur:mf(l,S),onMouseEnter:mf(c,g),onMouseLeave:mf(d,S),onTouchStart:mf(f,g)}]:[!1,p,{}]}function mf(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function k8({page:n,...e}){let{router:t}=F4(),r=se.useMemo(()=>A4(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?se.createElement(L8,{page:n,matches:r,...e}):null}function R8(n){let{manifest:e,routeModules:t}=M4(),[r,i]=se.useState([]);return se.useEffect(()=>{let s=!1;return S8(n,e,t).then(o=>{s||i(o)}),()=>{s=!0}},[n,e,t]),r}function L8({page:n,matches:e,...t}){let r=Ql(),{manifest:i,routeModules:s}=M4(),{basename:o}=F4(),{loaderData:a,matches:l}=N8(),c=se.useMemo(()=>TE(n,e,l,i,r,"data"),[n,e,l,i,r]),d=se.useMemo(()=>TE(n,e,l,i,r,"assets"),[n,e,l,i,r]),f=se.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let S=new Set,x=!1;if(e.forEach(_=>{var E;let b=i.routes[_.route.id];!b||!b.hasLoader||(!c.some(F=>F.route.id===_.route.id)&&_.route.id in a&&((E=s[_.route.id])!=null&&E.shouldRevalidate)||b.hasClientLoader?x=!0:S.add(_.route.id))}),S.size===0)return[];let k=w8(n,o,"data");return x&&S.size>0&&k.searchParams.set("_routes",e.filter(_=>S.has(_.route.id)).map(_=>_.route.id).join(",")),[k.pathname+k.search]},[o,a,r,i,c,e,n,s]),p=se.useMemo(()=>A8(d,i),[d,i]),g=R8(d);return se.createElement(se.Fragment,null,f.map(S=>se.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...t})),p.map(S=>se.createElement("link",{key:S,rel:"modulepreload",href:S,...t})),g.map(({key:S,link:x})=>se.createElement("link",{key:S,nonce:t.nonce,...x})))}function D8(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var V4=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{V4&&(window.__reactRouterVersion="7.9.6")}catch{}function O8({basename:n,children:e,window:t}){let r=se.useRef();r.current==null&&(r.current=bD({window:t,v5Compat:!0}));let i=r.current,[s,o]=se.useState({action:i.action,location:i.location}),a=se.useCallback(l=>{se.startTransition(()=>o(l))},[o]);return se.useLayoutEffect(()=>i.listen(a),[i,a]),se.createElement(c8,{basename:n,children:e,location:s.location,navigationType:s.action,navigator:i})}var j4=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,B4=se.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:i,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:d,viewTransition:f,...p},g){let{basename:S}=se.useContext(Fo),x=typeof c=="string"&&j4.test(c),k,_=!1;if(typeof c=="string"&&x&&(k=c,V4))try{let C=new URL(window.location.href),D=c.startsWith("//")?new URL(C.protocol+c):new URL(c),T=da(D.pathname,S);D.origin===C.origin&&T!=null?c=T+D.search+D.hash:_=!0}catch{_s(!1,`<Link to="${c}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let b=QD(c,{relative:i}),[E,F,B]=C8(r,p),U=j8(c,{replace:o,state:a,target:l,preventScrollReset:d,relative:i,viewTransition:f});function N(C){e&&e(C),C.defaultPrevented||U(C)}let A=se.createElement("a",{...p,...B,href:k||b,onClick:_||s?e:N,ref:D8(g,F),target:l,"data-discover":!x&&t==="render"?"true":void 0});return E&&!x?se.createElement(se.Fragment,null,A,se.createElement(k8,{page:b})):A});B4.displayName="Link";var F8=se.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:i=!1,style:s,to:o,viewTransition:a,children:l,...c},d){let f=fm(o,{relative:c.relative}),p=Ql(),g=se.useContext(R0),{navigator:S,basename:x}=se.useContext(Fo),k=g!=null&&W8(f)&&a===!0,_=S.encodeLocation?S.encodeLocation(f).pathname:f.pathname,b=p.pathname,E=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;t||(b=b.toLowerCase(),E=E?E.toLowerCase():null,_=_.toLowerCase()),E&&x&&(E=da(E,x)||E);const F=_!=="/"&&_.endsWith("/")?_.length-1:_.length;let B=b===_||!i&&b.startsWith(_)&&b.charAt(F)==="/",U=E!=null&&(E===_||!i&&E.startsWith(_)&&E.charAt(_.length)==="/"),N={isActive:B,isPending:U,isTransitioning:k},A=B?e:void 0,C;typeof r=="function"?C=r(N):C=[r,B?"active":null,U?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let D=typeof s=="function"?s(N):s;return se.createElement(B4,{...c,"aria-current":A,className:C,ref:d,style:D,to:o,viewTransition:a},typeof l=="function"?l(N):l)});F8.displayName="NavLink";var M8=se.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:i,state:s,method:o=Jg,action:a,onSubmit:l,relative:c,preventScrollReset:d,viewTransition:f,...p},g)=>{let S=q8(),x=$8(a,{relative:c}),k=o.toLowerCase()==="get"?"get":"post",_=typeof a=="string"&&j4.test(a),b=E=>{if(l&&l(E),E.defaultPrevented)return;E.preventDefault();let F=E.nativeEvent.submitter,B=(F==null?void 0:F.getAttribute("formmethod"))||o;S(F||E.currentTarget,{fetcherKey:e,method:B,navigate:t,replace:i,state:s,relative:c,preventScrollReset:d,viewTransition:f})};return se.createElement("form",{ref:g,method:k,action:x,onSubmit:r?l:b,...p,"data-discover":!_&&n==="render"?"true":void 0})});M8.displayName="Form";function V8(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function U4(n){let e=se.useContext(Ed);return rr(e,V8(n)),e}function j8(n,{target:e,replace:t,state:r,preventScrollReset:i,relative:s,viewTransition:o}={}){let a=D4(),l=Ql(),c=fm(n,{relative:s});return se.useCallback(d=>{if(m8(d,e)){d.preventDefault();let f=t!==void 0?t:Lp(l)===Lp(c);a(n,{replace:f,state:r,preventScrollReset:i,relative:s,viewTransition:o})}},[l,a,c,t,r,e,n,i,s,o])}function B8(n){_s(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=se.useRef(B2(n)),t=se.useRef(!1),r=Ql(),i=se.useMemo(()=>g8(r.search,t.current?null:e.current),[r.search]),s=D4(),o=se.useCallback((a,l)=>{const c=B2(typeof a=="function"?a(new URLSearchParams(i)):a);t.current=!0,s("?"+c,l)},[s,i]);return[i,o]}var U8=0,z8=()=>`__${String(++U8)}__`;function q8(){let{router:n}=U4("useSubmit"),{basename:e}=se.useContext(Fo),t=o8();return se.useCallback(async(r,i={})=>{let{action:s,method:o,encType:a,formData:l,body:c}=_8(r,e);if(i.navigate===!1){let d=i.fetcherKey||z8();await n.fetch(d,t,i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||o,formEncType:i.encType||a,flushSync:i.flushSync})}else await n.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||o,formEncType:i.encType||a,replace:i.replace,state:i.state,fromRouteId:t,flushSync:i.flushSync,viewTransition:i.viewTransition})},[n,e,t])}function $8(n,{relative:e}={}){let{basename:t}=se.useContext(Fo),r=se.useContext(va);rr(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...fm(n||".",{relative:e})},o=Ql();if(n==null){s.search=o.search;let a=new URLSearchParams(s.search),l=a.getAll("index");if(l.some(d=>d==="")){a.delete("index"),l.filter(f=>f).forEach(f=>a.append("index",f));let d=a.toString();s.search=d?`?${d}`:""}}return(!n||n===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(s.pathname=s.pathname==="/"?t:oa([t,s.pathname])),Lp(s)}function W8(n,{relative:e}={}){let t=se.useContext(k4);rr(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=U4("useViewTransitionState"),i=fm(n,{relative:e});if(!t.isTransitioning)return!1;let s=da(t.currentLocation.pathname,r)||t.currentLocation.pathname,o=da(t.nextLocation.pathname,r)||t.nextLocation.pathname;return B1(i.pathname,o)!=null||B1(i.pathname,s)!=null}const H8=({globalData:n,setGlobalData:e,addLine:t,lines:r,activeLineId:i,onPrevious:s,onNext:o})=>{console.log("Rendering GlobalForm with globalData:",n);const a=r.findIndex(d=>d.id===i),l=a===0,c=a===r.length-1;return V.jsxs("div",{className:"global-fields",style:{marginBottom:"20px",display:"flex",gap:"10px",alignItems:"center"},children:[V.jsx("button",{onClick:t,className:"btn btn-primary",children:"Add Line"}),V.jsx("button",{onClick:s,disabled:!i||l,className:"btn btn-sm btn-outline-secondary",children:" Prev"}),V.jsx("button",{onClick:o,disabled:!i||c,className:"btn btn-sm btn-outline-secondary",children:"Next "})]})},G8=({heads:n,updateHeadWeight:e})=>V.jsxs("table",{children:[V.jsx("thead",{children:V.jsxs("tr",{children:[V.jsx("th",{children:"Head #"}),V.jsx("th",{children:"Current Weight"}),V.jsx("th",{children:"Span Weight"}),V.jsx("th",{children:"Difference"})]})}),V.jsx("tbody",{children:n.map((t,r)=>V.jsxs("tr",{children:[V.jsx("td",{"data-label":"Head #",children:r+1}),V.jsx("td",{"data-label":"Current Weight",children:V.jsx("input",{type:"number",step:"any",value:t.currentWeight,onChange:i=>e(r,"currentWeight",i.target.value)})}),V.jsx("td",{"data-label":"Span Weight",children:V.jsx("input",{type:"number",step:"any",value:t.spanWeight,onChange:i=>e(r,"spanWeight",i.target.value)})}),V.jsx("td",{"data-label":"Difference",children:t.weightDifference.toFixed(2)})]},r))})]}),K8=({line:n,updateLine:e,removeLine:t,resetLine:r,isVisible:i,exportLineToPDF:s})=>{const[o,a]=se.useState(n),[l,c]=se.useState(!1),[d,f]=se.useState(!0),[p,g]=se.useState(!1);se.useEffect(()=>{console.debug("Line component updated with new prop:",n),a(n)},[n]);const S=C=>{console.debug(`Line field changed: ${C.target.name}=${C.target.value}`);const D={...o,[C.target.name]:C.target.value};a(D),e(D)},x=C=>{console.debug(`Checkbox changed: ${C.target.name}=${C.target.checked}`);const D={...o,[C.target.name]:C.target.checked};a(D),e(D)},k=(C,D,T)=>{console.debug(`Head ${C+1} changed: ${D}=${T}`);const P=o.heads.map((G,ue)=>ue===C?{...G,[D]:T}:G),L={...o,heads:P};a(L),e(L)},_=C=>{const D=C.target.checked;if(console.debug(`Toggling span adjust for line ${n.id}: ${D}`),D){const T={...o,showSpanAdjust:!0};a(T),e(T)}else if(window.confirm("Are you sure you want to hide and clear Span Adjust data?")){const T=o.heads.map(L=>({...L,currentWeight:0,spanWeight:0,weightDifference:0})),P={...o,showSpanAdjust:!1,heads:T};a(P),e(P)}else C.target.checked=!0},b=(C,D,T)=>{console.debug(`Updating weight for head ${C+1}: ${D}=${T}`);const P=o.heads.map((G,ue)=>ue===C?{...G,[D]:parseFloat(T)||0,weightDifference:(D==="spanWeight"?parseFloat(T)||0:G.spanWeight)-(D==="currentWeight"?parseFloat(T)||0:G.currentWeight)}:G),L={...o,heads:P};a(L),e(L)},E=C=>{const D={...o,title:C.target.value};a(D),e(D)},F=()=>{c(!l)},B=(C,D)=>{const T=o.heads.map((L,G)=>G===C?{...L,status:D?"offline":"active"}:L),P={...o,heads:T};a(P),e(P)},U=o.heads.map((C,D)=>({...C,index:D})).filter(C=>C.status==="offline"),N=o.heads.map((C,D)=>({...C,index:D})).filter(C=>C.status==="active"),A=U.length>0||o.heads.some(C=>C.error!=="None"||C.notes.trim()!==""||C.fixed!=="na");return se.useEffect(()=>{f(A)},[A]),console.log("Rendering Line component - id:",n.id,"isVisible:",i,"localLine:",o),V.jsxs("div",{className:"machine-section",style:{display:i?"block":"none"},children:[V.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"10px"},children:l?V.jsxs("div",{style:{flex:1},children:[V.jsx("input",{type:"text",value:o.title,onChange:E,onBlur:F,autoFocus:!0,className:"text-2xl font-bold mb-2",style:{width:"300px"}}),V.jsx("button",{onClick:F,className:"btn btn-sm btn-success ms-2",children:"Save Title"})]}):V.jsxs(V.Fragment,{children:[V.jsx("h2",{className:"text-2xl font-bold mb-0",children:o.title}),V.jsxs("div",{style:{display:"flex",gap:"5px"},children:[V.jsx("button",{onClick:()=>g(!p),className:"btn btn-sm btn-outline-secondary line-action-btn",children:p?"Hide Details":"Show Details"}),V.jsx("button",{onClick:F,className:"btn btn-sm btn-outline-secondary line-action-btn",children:"Rename"})]})]})}),V.jsxs("div",{children:[p&&V.jsxs("div",{className:"line-fields",children:[V.jsx("label",{children:"Model:"}),V.jsx("input",{type:"text",name:"model",value:o.model,onChange:S}),V.jsx("label",{children:"Job Number:"}),V.jsx("input",{type:"text",name:"jobNumber",value:o.jobNumber,onChange:S}),V.jsx("label",{children:"Serial Number:"}),V.jsx("input",{type:"text",name:"serialNumber",value:o.serialNumber,onChange:S})]}),V.jsx("div",{className:"machine-running",children:V.jsxs("label",{children:[V.jsx("input",{type:"checkbox",name:"running",checked:o.running,onChange:x})," Line Running?"]})}),V.jsxs("div",{className:"quick-head-toggle mb-3 p-3",style:{background:"#f8f9fa",borderRadius:"8px"},children:[V.jsx("h6",{className:"mb-2",children:V.jsx("strong",{children:"Quick Head Toggle"})}),V.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(7, 1fr)",gap:"10px",maxWidth:"700px",margin:"0 auto"},children:o.heads.map((C,D)=>{let T="btn-success";return C.fixed==="fixed"?T="btn-warning":C.status==="offline"&&(T="btn-danger"),V.jsx("button",{onClick:()=>B(D,C.status==="active"),className:`btn btn-sm ${T}`,style:{aspectRatio:"1",fontWeight:"bold",padding:"8px",fontSize:"1.1rem",display:"flex",alignItems:"center",justifyContent:"center",minWidth:"0",width:"100%"},title:`Head ${D+1}: ${C.fixed==="fixed"?"Fixed":C.status==="offline"?"Click to set Active":"Click to set Offline"}`,children:D+1},D)})}),V.jsxs("small",{className:"text-muted d-block mt-2",style:{textAlign:"center",maxWidth:"700px",margin:"0.5rem auto 0"},children:[V.jsx("span",{className:"badge bg-success me-1",children:"Green"})," Active",V.jsx("span",{className:"badge bg-danger ms-2 me-1",children:"Red"})," Offline",V.jsx("span",{className:"badge bg-warning text-dark ms-2 me-1",children:"Orange"})," Fixed"]})]}),U.length>0&&V.jsxs("div",{className:"mb-3",children:[V.jsx("h6",{className:"text-danger",children:V.jsxs("strong",{children:["Offline Heads (",U.length,")"]})}),V.jsxs("table",{children:[V.jsx("thead",{children:V.jsxs("tr",{children:[V.jsx("th",{children:"Head #"}),V.jsx("th",{children:"Status"}),V.jsx("th",{children:"Error"}),V.jsx("th",{children:"Notes"}),V.jsx("th",{children:"Fixed"})]})}),V.jsx("tbody",{children:U.map(C=>V.jsxs("tr",{style:{backgroundColor:C.fixed==="fixed"?"orange":"lightcoral"},children:[V.jsx("td",{"data-label":"Head #",children:C.index+1}),V.jsx("td",{"data-label":"Status",children:V.jsxs("select",{value:C.status,onChange:D=>k(C.index,"status",D.target.value),children:[V.jsx("option",{value:"active",children:"Active"}),V.jsx("option",{value:"offline",children:"Offline"})]})}),V.jsx("td",{"data-label":"Error",children:V.jsxs("select",{value:C.error,onChange:D=>k(C.index,"error",D.target.value),children:[V.jsx("option",{value:"None",children:"None"}),V.jsx("option",{value:"Chute",children:"Chute"}),V.jsx("option",{value:"Operator",children:"Operator"}),V.jsx("option",{value:"Load Cell",children:"Load Cell"}),V.jsx("option",{value:"Detached Head",children:"Detached Head"}),V.jsx("option",{value:"Stepper Motor Error",children:"Stepper Motor Error"}),V.jsx("option",{value:"Hopper Issues",children:"Hopper Issues"}),V.jsx("option",{value:"Installed Wrong",children:"Installed Wrong"}),V.jsx("option",{value:"Radial Feeder",children:"Radial Feeder"}),V.jsx("option",{value:"Booster Hopper Issues",children:"Booster Hopper Issues"}),V.jsx("option",{value:"Other",children:"Other"})]})}),V.jsx("td",{"data-label":"Notes",children:V.jsx("input",{type:"text",value:C.notes,onChange:D=>k(C.index,"notes",D.target.value)})}),V.jsx("td",{"data-label":"Fixed",children:V.jsxs("select",{value:C.fixed,onChange:D=>k(C.index,"fixed",D.target.value),children:[V.jsx("option",{value:"na",children:"N/A"}),V.jsx("option",{value:"not_fixed",children:"Not Fixed"}),V.jsx("option",{value:"fixed",children:"Fixed"})]})})]},C.index))})]})]}),N.length>0&&V.jsxs("div",{className:"mb-3",children:[V.jsxs("h6",{className:"cursor-pointer mb-2",style:{cursor:"pointer",fontWeight:"bold",color:"#28a745",userSelect:"none"},onClick:()=>f(!d),children:["Active Heads (",N.length,") ",d?"":""]}),d&&V.jsxs("table",{children:[V.jsx("thead",{children:V.jsxs("tr",{children:[V.jsx("th",{children:"Head #"}),V.jsx("th",{children:"Status"}),V.jsx("th",{children:"Error"}),V.jsx("th",{children:"Notes"}),V.jsx("th",{children:"Fixed"})]})}),V.jsx("tbody",{children:N.map(C=>V.jsxs("tr",{style:{backgroundColor:"lightgreen"},children:[V.jsx("td",{"data-label":"Head #",children:C.index+1}),V.jsx("td",{"data-label":"Status",children:V.jsxs("select",{value:C.status,onChange:D=>k(C.index,"status",D.target.value),children:[V.jsx("option",{value:"active",children:"Active"}),V.jsx("option",{value:"offline",children:"Offline"})]})}),V.jsx("td",{"data-label":"Error",children:V.jsxs("select",{value:C.error,onChange:D=>k(C.index,"error",D.target.value),children:[V.jsx("option",{value:"None",children:"None"}),V.jsx("option",{value:"Chute",children:"Chute"}),V.jsx("option",{value:"Operator",children:"Operator"}),V.jsx("option",{value:"Load Cell",children:"Load Cell"}),V.jsx("option",{value:"Detached Head",children:"Detached Head"}),V.jsx("option",{value:"Stepper Motor Error",children:"Stepper Motor Error"}),V.jsx("option",{value:"Hopper Issues",children:"Hopper Issues"}),V.jsx("option",{value:"Installed Wrong",children:"Installed Wrong"}),V.jsx("option",{value:"Radial Feeder",children:"Radial Feeder"}),V.jsx("option",{value:"Booster Hopper Issues",children:"Booster Hopper Issues"}),V.jsx("option",{value:"Other",children:"Other"})]})}),V.jsx("td",{"data-label":"Notes",children:V.jsx("input",{type:"text",value:C.notes,onChange:D=>k(C.index,"notes",D.target.value)})}),V.jsx("td",{"data-label":"Fixed",children:V.jsxs("select",{value:C.fixed,onChange:D=>k(C.index,"fixed",D.target.value),children:[V.jsx("option",{value:"na",children:"N/A"}),V.jsx("option",{value:"not_fixed",children:"Not Fixed"}),V.jsx("option",{value:"fixed",children:"Fixed"})]})})]},C.index))})]})]}),V.jsxs("label",{children:[V.jsx("input",{type:"checkbox",checked:o.showSpanAdjust,onChange:_})," Span Adjust"]}),o.showSpanAdjust&&V.jsx(G8,{heads:o.heads,updateHeadWeight:(C,D,T)=>b(C,D,T)}),V.jsxs("div",{className:"notes-container",children:[V.jsx("label",{children:V.jsx("strong",{children:"Notes:"})}),V.jsx("textarea",{name:"notes",rows:"4",value:o.notes,onChange:S})]}),V.jsxs("div",{style:{display:"flex",gap:"10px",marginTop:"10px"},children:[V.jsx("button",{onClick:s,className:"btn btn-success",children:"Export Line PDF"}),V.jsx("button",{onClick:r,className:"btn btn-warning",children:"Reset Line"}),V.jsx("button",{onClick:t,className:"btn btn-danger",children:"Remove Line"})]})]})]})},Q8=({lines:n,setShowDashboardView:e})=>{se.useEffect(()=>{console.debug("Dashboard rendered with lines:",n)},[n]);const t=n.some(r=>r.heads.some(i=>i.status==="offline"));return V.jsxs("div",{className:"dashboard",style:{display:"block"},children:[V.jsx("h3",{children:"Dashboard: Offline Heads"}),n.map(r=>{const i=r.heads.map((s,o)=>({...s,index:o+1})).filter(s=>s.status==="offline");return i.length===0?null:(console.debug("Offline heads for line",r.title,i),V.jsxs("div",{children:[V.jsx("h4",{children:r.title}),r.notes&&V.jsxs("p",{children:[V.jsx("strong",{children:"Line Notes:"})," ",r.notes]}),V.jsxs("table",{children:[V.jsx("thead",{children:V.jsxs("tr",{children:[V.jsx("th",{children:"Head #"}),V.jsx("th",{children:"Status"}),V.jsx("th",{children:"Reason"}),V.jsx("th",{children:"Fixed"}),V.jsx("th",{children:"Notes"})]})}),V.jsx("tbody",{children:i.map(s=>V.jsxs("tr",{style:{backgroundColor:s.fixed==="fixed"?"orange":"lightcoral"},children:[V.jsx("td",{children:s.index}),V.jsx("td",{children:"Offline"}),V.jsx("td",{children:s.error}),V.jsx("td",{children:s.fixed}),V.jsx("td",{children:s.notes})]},s.index))})]})]},r.id))}),!t&&V.jsx("p",{children:"No offline heads."}),V.jsx("button",{onClick:()=>e(!1),children:"Back to Form"})]})};var z4={exports:{}};(function(n,e){(function(t,r){r()})(sl,function(){function t(c,d){return typeof d>"u"?d={autoBom:!1}:typeof d!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),d={autoBom:!d}),d.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(c.type)?new Blob(["\uFEFF",c],{type:c.type}):c}function r(c,d,f){var p=new XMLHttpRequest;p.open("GET",c),p.responseType="blob",p.onload=function(){l(p.response,d,f)},p.onerror=function(){console.error("could not download file")},p.send()}function i(c){var d=new XMLHttpRequest;d.open("HEAD",c,!1);try{d.send()}catch{}return 200<=d.status&&299>=d.status}function s(c){try{c.dispatchEvent(new MouseEvent("click"))}catch{var d=document.createEvent("MouseEvents");d.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),c.dispatchEvent(d)}}var o=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof sl=="object"&&sl.global===sl?sl:void 0,a=o.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),l=o.saveAs||(typeof window!="object"||window!==o?function(){}:"download"in HTMLAnchorElement.prototype&&!a?function(c,d,f){var p=o.URL||o.webkitURL,g=document.createElement("a");d=d||c.name||"download",g.download=d,g.rel="noopener",typeof c=="string"?(g.href=c,g.origin===location.origin?s(g):i(g.href)?r(c,d,f):s(g,g.target="_blank")):(g.href=p.createObjectURL(c),setTimeout(function(){p.revokeObjectURL(g.href)},4e4),setTimeout(function(){s(g)},0))}:"msSaveOrOpenBlob"in navigator?function(c,d,f){if(d=d||c.name||"download",typeof c!="string")navigator.msSaveOrOpenBlob(t(c,f),d);else if(i(c))r(c,d,f);else{var p=document.createElement("a");p.href=c,p.target="_blank",setTimeout(function(){s(p)})}}:function(c,d,f,p){if(p=p||open("","_blank"),p&&(p.document.title=p.document.body.innerText="downloading..."),typeof c=="string")return r(c,d,f);var g=c.type==="application/octet-stream",S=/constructor/i.test(o.HTMLElement)||o.safari,x=/CriOS\/[\d]+/.test(navigator.userAgent);if((x||g&&S||a)&&typeof FileReader<"u"){var k=new FileReader;k.onloadend=function(){var E=k.result;E=x?E:E.replace(/^data:[^;]*;/,"data:attachment/file;"),p?p.location.href=E:location=E,p=null},k.readAsDataURL(c)}else{var _=o.URL||o.webkitURL,b=_.createObjectURL(c);p?p.location=b:location.href=b,p=null,setTimeout(function(){_.revokeObjectURL(b)},4e4)}});o.saveAs=l.saveAs=l,n.exports=l})})(z4);var Y8=z4.exports;function Jt(n){"@babel/helpers - typeof";return Jt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jt(n)}var qr=Uint8Array,qi=Uint16Array,Hw=Int32Array,D0=new qr([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),O0=new qr([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),U2=new qr([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),q4=function(n,e){for(var t=new qi(31),r=0;r<31;++r)t[r]=e+=1<<n[r-1];for(var i=new Hw(t[30]),r=1;r<30;++r)for(var s=t[r];s<t[r+1];++s)i[s]=s-t[r]<<5|r;return{b:t,r:i}},$4=q4(D0,2),W4=$4.b,z2=$4.r;W4[28]=258,z2[258]=28;var H4=q4(O0,0),J8=H4.b,xE=H4.r,q2=new qi(32768);for(var vn=0;vn<32768;++vn){var Qa=(vn&43690)>>1|(vn&21845)<<1;Qa=(Qa&52428)>>2|(Qa&13107)<<2,Qa=(Qa&61680)>>4|(Qa&3855)<<4,q2[vn]=((Qa&65280)>>8|(Qa&255)<<8)>>1}var Po=function(n,e,t){for(var r=n.length,i=0,s=new qi(e);i<r;++i)n[i]&&++s[n[i]-1];var o=new qi(e);for(i=1;i<e;++i)o[i]=o[i-1]+s[i-1]<<1;var a;if(t){a=new qi(1<<e);var l=15-e;for(i=0;i<r;++i)if(n[i])for(var c=i<<4|n[i],d=e-n[i],f=o[n[i]-1]++<<d,p=f|(1<<d)-1;f<=p;++f)a[q2[f]>>l]=c}else for(a=new qi(r),i=0;i<r;++i)n[i]&&(a[i]=q2[o[n[i]-1]++]>>15-n[i]);return a},Rl=new qr(288);for(var vn=0;vn<144;++vn)Rl[vn]=8;for(var vn=144;vn<256;++vn)Rl[vn]=9;for(var vn=256;vn<280;++vn)Rl[vn]=7;for(var vn=280;vn<288;++vn)Rl[vn]=8;var Dp=new qr(32);for(var vn=0;vn<32;++vn)Dp[vn]=5;var X8=Po(Rl,9,0),Z8=Po(Rl,9,1),eO=Po(Dp,5,0),tO=Po(Dp,5,1),pv=function(n){for(var e=n[0],t=1;t<n.length;++t)n[t]>e&&(e=n[t]);return e},Os=function(n,e,t){var r=e/8|0;return(n[r]|n[r+1]<<8)>>(e&7)&t},mv=function(n,e){var t=e/8|0;return(n[t]|n[t+1]<<8|n[t+2]<<16)>>(e&7)},Gw=function(n){return(n+7)/8|0},G4=function(n,e,t){return(e==null||e<0)&&(e=0),(t==null||t>n.length)&&(t=n.length),new qr(n.subarray(e,t))},nO=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Vs=function(n,e,t){var r=new Error(e||nO[n]);if(r.code=n,Error.captureStackTrace&&Error.captureStackTrace(r,Vs),!t)throw r;return r},rO=function(n,e,t,r){var i=n.length,s=r?r.length:0;if(!i||e.f&&!e.l)return t||new qr(0);var o=!t,a=o||e.i!=2,l=e.i;o&&(t=new qr(i*3));var c=function(Re){var Ue=t.length;if(Re>Ue){var ze=new qr(Math.max(Ue*2,Re));ze.set(t),t=ze}},d=e.f||0,f=e.p||0,p=e.b||0,g=e.l,S=e.d,x=e.m,k=e.n,_=i*8;do{if(!g){d=Os(n,f,1);var b=Os(n,f+1,3);if(f+=3,b)if(b==1)g=Z8,S=tO,x=9,k=5;else if(b==2){var U=Os(n,f,31)+257,N=Os(n,f+10,15)+4,A=U+Os(n,f+5,31)+1;f+=14;for(var C=new qr(A),D=new qr(19),T=0;T<N;++T)D[U2[T]]=Os(n,f+T*3,7);f+=N*3;for(var P=pv(D),L=(1<<P)-1,G=Po(D,P,1),T=0;T<A;){var ue=G[Os(n,f,L)];f+=ue&15;var E=ue>>4;if(E<16)C[T++]=E;else{var ee=0,X=0;for(E==16?(X=3+Os(n,f,3),f+=2,ee=C[T-1]):E==17?(X=3+Os(n,f,7),f+=3):E==18&&(X=11+Os(n,f,127),f+=7);X--;)C[T++]=ee}}var K=C.subarray(0,U),Y=C.subarray(U);x=pv(K),k=pv(Y),g=Po(K,x,1),S=Po(Y,k,1)}else Vs(1);else{var E=Gw(f)+4,F=n[E-4]|n[E-3]<<8,B=E+F;if(B>i){l&&Vs(0);break}a&&c(p+F),t.set(n.subarray(E,B),p),e.b=p+=F,e.p=f=B*8,e.f=d;continue}if(f>_){l&&Vs(0);break}}a&&c(p+131072);for(var oe=(1<<x)-1,me=(1<<k)-1,M=f;;M=f){var ee=g[mv(n,f)&oe],W=ee>>4;if(f+=ee&15,f>_){l&&Vs(0);break}if(ee||Vs(2),W<256)t[p++]=W;else if(W==256){M=f,g=null;break}else{var Q=W-254;if(W>264){var T=W-257,te=D0[T];Q=Os(n,f,(1<<te)-1)+W4[T],f+=te}var ne=S[mv(n,f)&me],he=ne>>4;ne||Vs(3),f+=ne&15;var Y=J8[he];if(he>3){var te=O0[he];Y+=mv(n,f)&(1<<te)-1,f+=te}if(f>_){l&&Vs(0);break}a&&c(p+131072);var fe=p+Q;if(p<Y){var ge=s-Y,Ce=Math.min(Y,fe);for(ge+p<0&&Vs(3);p<Ce;++p)t[p]=r[ge+p]}for(;p<fe;++p)t[p]=t[p-Y]}}e.l=g,e.p=M,e.b=p,e.f=d,g&&(d=1,e.m=x,e.d=S,e.n=k)}while(!d);return p!=t.length&&o?G4(t,0,p):t.subarray(0,p)},Xo=function(n,e,t){t<<=e&7;var r=e/8|0;n[r]|=t,n[r+1]|=t>>8},gf=function(n,e,t){t<<=e&7;var r=e/8|0;n[r]|=t,n[r+1]|=t>>8,n[r+2]|=t>>16},gv=function(n,e){for(var t=[],r=0;r<n.length;++r)n[r]&&t.push({s:r,f:n[r]});var i=t.length,s=t.slice();if(!i)return{t:Q4,l:0};if(i==1){var o=new qr(t[0].s+1);return o[t[0].s]=1,{t:o,l:1}}t.sort(function(B,U){return B.f-U.f}),t.push({s:-1,f:25001});var a=t[0],l=t[1],c=0,d=1,f=2;for(t[0]={s:-1,f:a.f+l.f,l:a,r:l};d!=i-1;)a=t[t[c].f<t[f].f?c++:f++],l=t[c!=d&&t[c].f<t[f].f?c++:f++],t[d++]={s:-1,f:a.f+l.f,l:a,r:l};for(var p=s[0].s,r=1;r<i;++r)s[r].s>p&&(p=s[r].s);var g=new qi(p+1),S=$2(t[d-1],g,0);if(S>e){var r=0,x=0,k=S-e,_=1<<k;for(s.sort(function(U,N){return g[N.s]-g[U.s]||U.f-N.f});r<i;++r){var b=s[r].s;if(g[b]>e)x+=_-(1<<S-g[b]),g[b]=e;else break}for(x>>=k;x>0;){var E=s[r].s;g[E]<e?x-=1<<e-g[E]++-1:++r}for(;r>=0&&x;--r){var F=s[r].s;g[F]==e&&(--g[F],++x)}S=e}return{t:new qr(g),l:S}},$2=function(n,e,t){return n.s==-1?Math.max($2(n.l,e,t+1),$2(n.r,e,t+1)):e[n.s]=t},PE=function(n){for(var e=n.length;e&&!n[--e];);for(var t=new qi(++e),r=0,i=n[0],s=1,o=function(l){t[r++]=l},a=1;a<=e;++a)if(n[a]==i&&a!=e)++s;else{if(!i&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(i),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(i);s=1,i=n[a]}return{c:t.subarray(0,r),n:e}},yf=function(n,e){for(var t=0,r=0;r<e.length;++r)t+=n[r]*e[r];return t},K4=function(n,e,t){var r=t.length,i=Gw(e+2);n[i]=r&255,n[i+1]=r>>8,n[i+2]=n[i]^255,n[i+3]=n[i+1]^255;for(var s=0;s<r;++s)n[i+s+4]=t[s];return(i+4+r)*8},NE=function(n,e,t,r,i,s,o,a,l,c,d){Xo(e,d++,t),++i[256];for(var f=gv(i,15),p=f.t,g=f.l,S=gv(s,15),x=S.t,k=S.l,_=PE(p),b=_.c,E=_.n,F=PE(x),B=F.c,U=F.n,N=new qi(19),A=0;A<b.length;++A)++N[b[A]&31];for(var A=0;A<B.length;++A)++N[B[A]&31];for(var C=gv(N,7),D=C.t,T=C.l,P=19;P>4&&!D[U2[P-1]];--P);var L=c+5<<3,G=yf(i,Rl)+yf(s,Dp)+o,ue=yf(i,p)+yf(s,x)+o+14+3*P+yf(N,D)+2*N[16]+3*N[17]+7*N[18];if(l>=0&&L<=G&&L<=ue)return K4(e,d,n.subarray(l,l+c));var ee,X,K,Y;if(Xo(e,d,1+(ue<G)),d+=2,ue<G){ee=Po(p,g,0),X=p,K=Po(x,k,0),Y=x;var oe=Po(D,T,0);Xo(e,d,E-257),Xo(e,d+5,U-1),Xo(e,d+10,P-4),d+=14;for(var A=0;A<P;++A)Xo(e,d+3*A,D[U2[A]]);d+=3*P;for(var me=[b,B],M=0;M<2;++M)for(var W=me[M],A=0;A<W.length;++A){var Q=W[A]&31;Xo(e,d,oe[Q]),d+=D[Q],Q>15&&(Xo(e,d,W[A]>>5&127),d+=W[A]>>12)}}else ee=X8,X=Rl,K=eO,Y=Dp;for(var A=0;A<a;++A){var te=r[A];if(te>255){var Q=te>>18&31;gf(e,d,ee[Q+257]),d+=X[Q+257],Q>7&&(Xo(e,d,te>>23&31),d+=D0[Q]);var ne=te&31;gf(e,d,K[ne]),d+=Y[ne],ne>3&&(gf(e,d,te>>5&8191),d+=O0[ne])}else gf(e,d,ee[te]),d+=X[te]}return gf(e,d,ee[256]),d+X[256]},iO=new Hw([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Q4=new qr(0),sO=function(n,e,t,r,i,s){var o=s.z||n.length,a=new qr(r+o+5*(1+Math.ceil(o/7e3))+i),l=a.subarray(r,a.length-i),c=s.l,d=(s.r||0)&7;if(e){d&&(l[0]=s.r>>3);for(var f=iO[e-1],p=f>>13,g=f&8191,S=(1<<t)-1,x=s.p||new qi(32768),k=s.h||new qi(S+1),_=Math.ceil(t/3),b=2*_,E=function(at){return(n[at]^n[at+1]<<_^n[at+2]<<b)&S},F=new Hw(25e3),B=new qi(288),U=new qi(32),N=0,A=0,C=s.i||0,D=0,T=s.w||0,P=0;C+2<o;++C){var L=E(C),G=C&32767,ue=k[L];if(x[G]=ue,k[L]=G,T<=C){var ee=o-C;if((N>7e3||D>24576)&&(ee>423||!c)){d=NE(n,l,0,F,B,U,A,D,P,C-P,d),D=N=A=0,P=C;for(var X=0;X<286;++X)B[X]=0;for(var X=0;X<30;++X)U[X]=0}var K=2,Y=0,oe=g,me=G-ue&32767;if(ee>2&&L==E(C-me))for(var M=Math.min(p,ee)-1,W=Math.min(32767,C),Q=Math.min(258,ee);me<=W&&--oe&&G!=ue;){if(n[C+K]==n[C+K-me]){for(var te=0;te<Q&&n[C+te]==n[C+te-me];++te);if(te>K){if(K=te,Y=me,te>M)break;for(var ne=Math.min(me,te-2),he=0,X=0;X<ne;++X){var fe=C-me+X&32767,ge=x[fe],Ce=fe-ge&32767;Ce>he&&(he=Ce,ue=fe)}}}G=ue,ue=x[G],me+=G-ue&32767}if(Y){F[D++]=268435456|z2[K]<<18|xE[Y];var Re=z2[K]&31,Ue=xE[Y]&31;A+=D0[Re]+O0[Ue],++B[257+Re],++U[Ue],T=C+K,++N}else F[D++]=n[C],++B[n[C]]}}for(C=Math.max(C,T);C<o;++C)F[D++]=n[C],++B[n[C]];d=NE(n,l,c,F,B,U,A,D,P,C-P,d),c||(s.r=d&7|l[d/8|0]<<3,d-=7,s.h=k,s.p=x,s.i=C,s.w=T)}else{for(var C=s.w||0;C<o+c;C+=65535){var ze=C+65535;ze>=o&&(l[d/8|0]=c,ze=o),d=K4(l,d+1,n.subarray(C,ze))}s.i=o}return G4(a,0,r+Gw(d)+i)},Y4=function(){var n=1,e=0;return{p:function(t){for(var r=n,i=e,s=t.length|0,o=0;o!=s;){for(var a=Math.min(o+2655,s);o<a;++o)i+=r+=t[o];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}n=r,e=i},d:function(){return n%=65521,e%=65521,(n&255)<<24|(n&65280)<<8|(e&255)<<8|e>>8}}},oO=function(n,e,t,r,i){if(!i&&(i={l:1},e.dictionary)){var s=e.dictionary.subarray(-32768),o=new qr(s.length+n.length);o.set(s),o.set(n,s.length),n=o,i.w=s.length}return sO(n,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(n.length)))*1.5):20:12+e.mem,t,r,i)},J4=function(n,e,t){for(;t;++e)n[e]=t,t>>>=8},aO=function(n,e){var t=e.level,r=t==0?0:t<6?1:t==9?3:2;if(n[0]=120,n[1]=r<<6|(e.dictionary&&32),n[1]|=31-(n[0]<<8|n[1])%31,e.dictionary){var i=Y4();i.p(e.dictionary),J4(n,2,i.d())}},lO=function(n,e){return((n[0]&15)!=8||n[0]>>4>7||(n[0]<<8|n[1])%31)&&Vs(6,"invalid zlib data"),(n[1]>>5&1)==+!e&&Vs(6,"invalid zlib data: "+(n[1]&32?"need":"unexpected")+" dictionary"),(n[1]>>3&4)+2};function W2(n,e){e||(e={});var t=Y4();t.p(n);var r=oO(n,e,e.dictionary?6:2,4);return aO(r,e),J4(r,r.length-4,t.d()),r}function uO(n,e){return rO(n.subarray(lO(n,e&&e.dictionary),-4),{i:2},e&&e.out,e&&e.dictionary)}var cO=typeof TextDecoder<"u"&&new TextDecoder,hO=0;try{cO.decode(Q4,{stream:!0}),hO=1}catch{}var yt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function yv(){yt.console&&typeof yt.console.log=="function"&&yt.console.log.apply(yt.console,arguments)}var an={log:yv,warn:function(n){yt.console&&(typeof yt.console.warn=="function"?yt.console.warn.apply(yt.console,arguments):yv.call(null,arguments))},error:function(n){yt.console&&(typeof yt.console.error=="function"?yt.console.error.apply(yt.console,arguments):yv(n))}};function vv(n,e,t){var r=new XMLHttpRequest;r.open("GET",n),r.responseType="blob",r.onload=function(){Au(r.response,e,t)},r.onerror=function(){an.error("could not download file")},r.send()}function CE(n){var e=new XMLHttpRequest;e.open("HEAD",n,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Tg(n){try{n.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),n.dispatchEvent(e)}}var Yf,H2,Au=yt.saveAs||((typeof window>"u"?"undefined":Jt(window))!=="object"||window!==yt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(n,e,t){var r=yt.URL||yt.webkitURL,i=document.createElement("a");e=e||n.name||"download",i.download=e,i.rel="noopener",typeof n=="string"?(i.href=n,i.origin!==location.origin?CE(i.href)?vv(n,e,t):Tg(i,i.target="_blank"):Tg(i)):(i.href=r.createObjectURL(n),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){Tg(i)},0))}:"msSaveOrOpenBlob"in navigator?function(n,e,t){if(e=e||n.name||"download",typeof n=="string")if(CE(n))vv(n,e,t);else{var r=document.createElement("a");r.href=n,r.target="_blank",setTimeout(function(){Tg(r)})}else navigator.msSaveOrOpenBlob(function(i,s){return s===void 0?s={autoBom:!1}:Jt(s)!=="object"&&(an.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob([String.fromCharCode(65279),i],{type:i.type}):i}(n,t),e)}:function(n,e,t,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof n=="string")return vv(n,e,t);var i=n.type==="application/octet-stream",s=/constructor/i.test(yt.HTMLElement)||yt.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||i&&s)&&(typeof FileReader>"u"?"undefined":Jt(FileReader))==="object"){var a=new FileReader;a.onloadend=function(){var d=a.result;d=o?d:d.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=d:location=d,r=null},a.readAsDataURL(n)}else{var l=yt.URL||yt.webkitURL,c=l.createObjectURL(n);r?r.location=c:location.href=c,r=null,setTimeout(function(){l.revokeObjectURL(c)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function X4(n){var e;n=n||"",this.ok=!1,n.charAt(0)=="#"&&(n=n.substr(1,6)),n={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[n=(n=n.replace(/ /g,"")).toLowerCase()]||n;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(a){return[parseInt(a[1]),parseInt(a[2]),parseInt(a[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}}],r=0;r<t.length;r++){var i=t[r].re,s=t[r].process,o=i.exec(n);o&&(e=s(o),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var a=this.r.toString(16),l=this.g.toString(16),c=this.b.toString(16);return a.length==1&&(a="0"+a),l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),"#"+a+l+c}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function _v(n,e){var t=n[0],r=n[1],i=n[2],s=n[3];t=Fr(t,r,i,s,e[0],7,-680876936),s=Fr(s,t,r,i,e[1],12,-389564586),i=Fr(i,s,t,r,e[2],17,606105819),r=Fr(r,i,s,t,e[3],22,-1044525330),t=Fr(t,r,i,s,e[4],7,-176418897),s=Fr(s,t,r,i,e[5],12,1200080426),i=Fr(i,s,t,r,e[6],17,-1473231341),r=Fr(r,i,s,t,e[7],22,-45705983),t=Fr(t,r,i,s,e[8],7,1770035416),s=Fr(s,t,r,i,e[9],12,-1958414417),i=Fr(i,s,t,r,e[10],17,-42063),r=Fr(r,i,s,t,e[11],22,-1990404162),t=Fr(t,r,i,s,e[12],7,1804603682),s=Fr(s,t,r,i,e[13],12,-40341101),i=Fr(i,s,t,r,e[14],17,-1502002290),t=Mr(t,r=Fr(r,i,s,t,e[15],22,1236535329),i,s,e[1],5,-165796510),s=Mr(s,t,r,i,e[6],9,-1069501632),i=Mr(i,s,t,r,e[11],14,643717713),r=Mr(r,i,s,t,e[0],20,-373897302),t=Mr(t,r,i,s,e[5],5,-701558691),s=Mr(s,t,r,i,e[10],9,38016083),i=Mr(i,s,t,r,e[15],14,-660478335),r=Mr(r,i,s,t,e[4],20,-405537848),t=Mr(t,r,i,s,e[9],5,568446438),s=Mr(s,t,r,i,e[14],9,-1019803690),i=Mr(i,s,t,r,e[3],14,-187363961),r=Mr(r,i,s,t,e[8],20,1163531501),t=Mr(t,r,i,s,e[13],5,-1444681467),s=Mr(s,t,r,i,e[2],9,-51403784),i=Mr(i,s,t,r,e[7],14,1735328473),t=Vr(t,r=Mr(r,i,s,t,e[12],20,-1926607734),i,s,e[5],4,-378558),s=Vr(s,t,r,i,e[8],11,-2022574463),i=Vr(i,s,t,r,e[11],16,1839030562),r=Vr(r,i,s,t,e[14],23,-35309556),t=Vr(t,r,i,s,e[1],4,-1530992060),s=Vr(s,t,r,i,e[4],11,1272893353),i=Vr(i,s,t,r,e[7],16,-155497632),r=Vr(r,i,s,t,e[10],23,-1094730640),t=Vr(t,r,i,s,e[13],4,681279174),s=Vr(s,t,r,i,e[0],11,-358537222),i=Vr(i,s,t,r,e[3],16,-722521979),r=Vr(r,i,s,t,e[6],23,76029189),t=Vr(t,r,i,s,e[9],4,-640364487),s=Vr(s,t,r,i,e[12],11,-421815835),i=Vr(i,s,t,r,e[15],16,530742520),t=jr(t,r=Vr(r,i,s,t,e[2],23,-995338651),i,s,e[0],6,-198630844),s=jr(s,t,r,i,e[7],10,1126891415),i=jr(i,s,t,r,e[14],15,-1416354905),r=jr(r,i,s,t,e[5],21,-57434055),t=jr(t,r,i,s,e[12],6,1700485571),s=jr(s,t,r,i,e[3],10,-1894986606),i=jr(i,s,t,r,e[10],15,-1051523),r=jr(r,i,s,t,e[1],21,-2054922799),t=jr(t,r,i,s,e[8],6,1873313359),s=jr(s,t,r,i,e[15],10,-30611744),i=jr(i,s,t,r,e[6],15,-1560198380),r=jr(r,i,s,t,e[13],21,1309151649),t=jr(t,r,i,s,e[4],6,-145523070),s=jr(s,t,r,i,e[11],10,-1120210379),i=jr(i,s,t,r,e[2],15,718787259),r=jr(r,i,s,t,e[9],21,-343485551),n[0]=dl(t,n[0]),n[1]=dl(r,n[1]),n[2]=dl(i,n[2]),n[3]=dl(s,n[3])}function F0(n,e,t,r,i,s){return e=dl(dl(e,n),dl(r,s)),dl(e<<i|e>>>32-i,t)}function Fr(n,e,t,r,i,s,o){return F0(e&t|~e&r,n,e,i,s,o)}function Mr(n,e,t,r,i,s,o){return F0(e&r|t&~r,n,e,i,s,o)}function Vr(n,e,t,r,i,s,o){return F0(e^t^r,n,e,i,s,o)}function jr(n,e,t,r,i,s,o){return F0(t^(e|~r),n,e,i,s,o)}function Z4(n){var e,t=n.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=n.length;e+=64)_v(r,dO(n.substring(e-64,e)));n=n.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<n.length;e++)i[e>>2]|=n.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(_v(r,i),e=0;e<16;e++)i[e]=0;return i[14]=8*t,_v(r,i),r}function dO(n){var e,t=[];for(e=0;e<64;e+=4)t[e>>2]=n.charCodeAt(e)+(n.charCodeAt(e+1)<<8)+(n.charCodeAt(e+2)<<16)+(n.charCodeAt(e+3)<<24);return t}Yf=yt.atob.bind(yt),H2=yt.btoa.bind(yt);var kE="0123456789abcdef".split("");function fO(n){for(var e="",t=0;t<4;t++)e+=kE[n>>8*t+4&15]+kE[n>>8*t&15];return e}function pO(n){return String.fromCharCode((255&n)>>0,(65280&n)>>8,(16711680&n)>>16,(4278190080&n)>>24)}function G2(n){return Z4(n).map(pO).join("")}var mO=function(n){for(var e=0;e<n.length;e++)n[e]=fO(n[e]);return n.join("")}(Z4("hello"))!="5d41402abc4b2a76b9719d911017c592";function dl(n,e){if(mO){var t=(65535&n)+(65535&e);return(n>>16)+(e>>16)+(t>>16)<<16|65535&t}return n+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function K2(n,e){var t,r,i,s;if(n!==t){for(var o=(i=n,s=1+(256/n.length>>0),new Array(s+1).join(i)),a=[],l=0;l<256;l++)a[l]=l;var c=0;for(l=0;l<256;l++){var d=a[l];c=(c+d+o.charCodeAt(l))%256,a[l]=a[c],a[c]=d}t=n,r=a}else a=r;var f=e.length,p=0,g=0,S="";for(l=0;l<f;l++)g=(g+(d=a[p=(p+1)%256]))%256,a[p]=a[g],a[g]=d,o=a[(a[p]+a[g])%256],S+=String.fromCharCode(e.charCodeAt(l)^o);return S}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var RE={print:4,modify:8,copy:16,"annot-forms":32};function ch(n,e,t,r){this.v=1,this.r=2;var i=192;n.forEach(function(a){if(RE.perm!==void 0)throw new Error("Invalid permission: "+a);i+=RE[a]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var s=(e+this.padding).substr(0,32),o=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,o),this.P=-(1+(255^i)),this.encryptionKey=G2(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=K2(this.encryptionKey,this.padding)}function hh(n){if(/[^\u0000-\u00ff]/.test(n))throw new Error("Invalid PDF Name Object: "+n+", Only accept ASCII characters.");for(var e="",t=n.length,r=0;r<t;r++){var i=n.charCodeAt(r);i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?e+="#"+("0"+i.toString(16)).slice(-2):e+=n[r]}return e}function LE(n){if(Jt(n)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(t,r,i){if(i=i||!1,typeof t!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(t)||(e[t]={});var s=Math.random().toString(35);return e[t][s]=[r,!!i],s},this.unsubscribe=function(t){for(var r in e)if(e[r][t])return delete e[r][t],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(t){if(e.hasOwnProperty(t)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var s in e[t]){var o=e[t][s];try{o[0].apply(n,r)}catch(a){yt.console&&an.error("jsPDF PubSub Error",a.message,a)}o[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function Op(n){if(!(this instanceof Op))return new Op(n);var e="opacity,stroke-opacity".split(",");for(var t in n)n.hasOwnProperty(t)&&e.indexOf(t)>=0&&(this[t]=n[t]);this.id="",this.objectNumber=-1}function eP(n,e){this.gState=n,this.matrix=e,this.id="",this.objectNumber=-1}function ll(n,e,t,r,i){if(!(this instanceof ll))return new ll(n,e,t,r,i);this.type=n==="axial"?2:3,this.coords=e,this.colors=t,eP.call(this,r,i)}function ju(n,e,t,r,i){if(!(this instanceof ju))return new ju(n,e,t,r,i);this.boundingBox=n,this.xStep=e,this.yStep=t,this.stream="",this.cloneIndex=0,eP.call(this,r,i)}function ct(n){var e,t=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],s=arguments[3],o=[],a=1,l=16,c="S",d=null;Jt(n=n||{})==="object"&&(t=n.orientation,r=n.unit||r,i=n.format||i,s=n.compress||n.compressPdf||s,(d=n.encryption||null)!==null&&(d.userPassword=d.userPassword||"",d.ownerPassword=d.ownerPassword||"",d.userPermissions=d.userPermissions||[]),a=typeof n.userUnit=="number"?Math.abs(n.userUnit):1,n.precision!==void 0&&(e=n.precision),n.floatPrecision!==void 0&&(l=n.floatPrecision),c=n.defaultPathOperation||"S"),o=n.filters||(s===!0?["FlateEncode"]:o),r=r||"mm",t=(""+(t||"P")).toLowerCase();var f=n.putOnlyUsedFonts||!1,p={},g={internal:{},__private__:{}};g.__private__.PubSub=LE;var S="1.3",x=g.__private__.getPdfVersion=function(){return S};g.__private__.setPdfVersion=function(v){S=v};var k={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};g.__private__.getPageFormats=function(){return k};var _=g.__private__.getPageFormat=function(v){return k[v]};i=i||"a4";var b={COMPAT:"compat",ADVANCED:"advanced"},E=b.COMPAT;function F(){this.saveGraphicsState(),ie(new lt(Ke,0,0,-Ke,0,ks()*Ke).toString()+" cm"),this.setFontSize(this.getFontSize()/Ke),c="n",E=b.ADVANCED}function B(){this.restoreGraphicsState(),c="S",E=b.COMPAT}var U=g.__private__.combineFontStyleAndFontWeight=function(v,u){if(v=="bold"&&u=="normal"||v=="bold"&&u==400||v=="normal"&&u=="italic"||v=="bold"&&u=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return u&&(v=u==400||u==="normal"?v==="italic"?"italic":"normal":u!=700&&u!=="bold"||v!=="normal"?(u==700?"bold":u)+""+v:"bold"),v};g.advancedAPI=function(v){var u=E===b.COMPAT;return u&&F.call(this),typeof v!="function"||(v(this),u&&B.call(this)),this},g.compatAPI=function(v){var u=E===b.ADVANCED;return u&&B.call(this),typeof v!="function"||(v(this),u&&F.call(this)),this},g.isAdvancedAPI=function(){return E===b.ADVANCED};var N,A=function(v){if(E!==b.ADVANCED)throw new Error(v+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},C=g.roundToPrecision=g.__private__.roundToPrecision=function(v,u){var y=e||u;if(isNaN(v)||isNaN(y))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return v.toFixed(y).replace(/0+$/,"")};N=g.hpf=g.__private__.hpf=typeof l=="number"?function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.hpf");return C(v,l)}:l==="smart"?function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.hpf");return C(v,v>-1&&v<1?16:5)}:function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.hpf");return C(v,16)};var D=g.f2=g.__private__.f2=function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.f2");return C(v,2)},T=g.__private__.f3=function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.f3");return C(v,3)},P=g.scale=g.__private__.scale=function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.scale");return E===b.COMPAT?v*Ke:E===b.ADVANCED?v:void 0},L=function(v){return E===b.COMPAT?ks()-v:E===b.ADVANCED?v:void 0},G=function(v){return P(L(v))};g.__private__.setPrecision=g.setPrecision=function(v){typeof parseInt(v,10)=="number"&&(e=parseInt(v,10))};var ue,ee="00000000000000000000000000000000",X=g.__private__.getFileId=function(){return ee},K=g.__private__.setFileId=function(v){return ee=v!==void 0&&/^[a-fA-F0-9]{32}$/.test(v)?v.toUpperCase():ee.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),d!==null&&(pr=new ch(d.userPermissions,d.userPassword,d.ownerPassword,ee)),ee};g.setFileId=function(v){return K(v),this},g.getFileId=function(){return X()};var Y=g.__private__.convertDateToPDFDate=function(v){var u=v.getTimezoneOffset(),y=u<0?"+":"-",I=Math.floor(Math.abs(u/60)),O=Math.abs(u%60),J=[y,Q(I),"'",Q(O),"'"].join("");return["D:",v.getFullYear(),Q(v.getMonth()+1),Q(v.getDate()),Q(v.getHours()),Q(v.getMinutes()),Q(v.getSeconds()),J].join("")},oe=g.__private__.convertPDFDateToDate=function(v){var u=parseInt(v.substr(2,4),10),y=parseInt(v.substr(6,2),10)-1,I=parseInt(v.substr(8,2),10),O=parseInt(v.substr(10,2),10),J=parseInt(v.substr(12,2),10),re=parseInt(v.substr(14,2),10);return new Date(u,y,I,O,J,re,0)},me=g.__private__.setCreationDate=function(v){var u;if(v===void 0&&(v=new Date),v instanceof Date)u=Y(v);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(v))throw new Error("Invalid argument passed to jsPDF.setCreationDate");u=v}return ue=u},M=g.__private__.getCreationDate=function(v){var u=ue;return v==="jsDate"&&(u=oe(ue)),u};g.setCreationDate=function(v){return me(v),this},g.getCreationDate=function(v){return M(v)};var W,Q=g.__private__.padd2=function(v){return("0"+parseInt(v)).slice(-2)},te=g.__private__.padd2Hex=function(v){return("00"+(v=v.toString())).substr(v.length)},ne=0,he=[],fe=[],ge=0,Ce=[],Re=[],Ue=!1,ze=fe,at=function(){ne=0,ge=0,fe=[],he=[],Ce=[],fr=bn(),pi=bn()};g.__private__.setCustomOutputDestination=function(v){Ue=!0,ze=v};var Ee=function(v){Ue||(ze=v)};g.__private__.resetCustomOutputDestination=function(){Ue=!1,ze=fe};var ie=g.__private__.out=function(v){return v=v.toString(),ge+=v.length+1,ze.push(v),ze},Ve=g.__private__.write=function(v){return ie(arguments.length===1?v.toString():Array.prototype.join.call(arguments," "))},Ze=g.__private__.getArrayBuffer=function(v){for(var u=v.length,y=new ArrayBuffer(u),I=new Uint8Array(y);u--;)I[u]=v.charCodeAt(u);return y},Le=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];g.__private__.getStandardFonts=function(){return Le};var De=n.fontSize||16;g.__private__.setFontSize=g.setFontSize=function(v){return De=E===b.ADVANCED?v/Ke:v,this};var je,qe=g.__private__.getFontSize=g.getFontSize=function(){return E===b.COMPAT?De:De*Ke},st=n.R2L||!1;g.__private__.setR2L=g.setR2L=function(v){return st=v,this},g.__private__.getR2L=g.getR2L=function(){return st};var mt,It=g.__private__.setZoomMode=function(v){var u=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(v))je=v;else if(isNaN(v)){if(u.indexOf(v)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+v+'" is not recognized.');je=v}else je=parseInt(v,10)};g.__private__.getZoomMode=function(){return je};var _t,Pt=g.__private__.setPageMode=function(v){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(v)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+v+'" is not recognized.');mt=v};g.__private__.getPageMode=function(){return mt};var Vt=g.__private__.setLayoutMode=function(v){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(v)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+v+'" is not recognized.');_t=v};g.__private__.getLayoutMode=function(){return _t},g.__private__.setDisplayMode=g.setDisplayMode=function(v,u,y){return It(v),Vt(u),Pt(y),this};var ht={title:"",subject:"",author:"",keywords:"",creator:""};g.__private__.getDocumentProperty=function(v){if(Object.keys(ht).indexOf(v)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return ht[v]},g.__private__.getDocumentProperties=function(){return ht},g.__private__.setDocumentProperties=g.setProperties=g.setDocumentProperties=function(v){for(var u in ht)ht.hasOwnProperty(u)&&v[u]&&(ht[u]=v[u]);return this},g.__private__.setDocumentProperty=function(v,u){if(Object.keys(ht).indexOf(v)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return ht[v]=u};var xt,Ke,ln,Ct,ir,pe={},ke={},Be=[],We={},Nt={},gt={},Ot={},Ut=null,vt=0,it=[],wt=new LE(g),rn=n.hotfixes||[],tn={},sn={},wn=[],lt=function v(u,y,I,O,J,re){if(!(this instanceof v))return new v(u,y,I,O,J,re);isNaN(u)&&(u=1),isNaN(y)&&(y=0),isNaN(I)&&(I=0),isNaN(O)&&(O=1),isNaN(J)&&(J=0),isNaN(re)&&(re=0),this._matrix=[u,y,I,O,J,re]};Object.defineProperty(lt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(v){this._matrix[0]=v}}),Object.defineProperty(lt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(v){this._matrix[1]=v}}),Object.defineProperty(lt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(v){this._matrix[2]=v}}),Object.defineProperty(lt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(v){this._matrix[3]=v}}),Object.defineProperty(lt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(v){this._matrix[4]=v}}),Object.defineProperty(lt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(v){this._matrix[5]=v}}),Object.defineProperty(lt.prototype,"a",{get:function(){return this._matrix[0]},set:function(v){this._matrix[0]=v}}),Object.defineProperty(lt.prototype,"b",{get:function(){return this._matrix[1]},set:function(v){this._matrix[1]=v}}),Object.defineProperty(lt.prototype,"c",{get:function(){return this._matrix[2]},set:function(v){this._matrix[2]=v}}),Object.defineProperty(lt.prototype,"d",{get:function(){return this._matrix[3]},set:function(v){this._matrix[3]=v}}),Object.defineProperty(lt.prototype,"e",{get:function(){return this._matrix[4]},set:function(v){this._matrix[4]=v}}),Object.defineProperty(lt.prototype,"f",{get:function(){return this._matrix[5]},set:function(v){this._matrix[5]=v}}),Object.defineProperty(lt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(lt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(lt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(lt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),lt.prototype.join=function(v){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(N).join(v)},lt.prototype.multiply=function(v){var u=v.sx*this.sx+v.shy*this.shx,y=v.sx*this.shy+v.shy*this.sy,I=v.shx*this.sx+v.sy*this.shx,O=v.shx*this.shy+v.sy*this.sy,J=v.tx*this.sx+v.ty*this.shx+this.tx,re=v.tx*this.shy+v.ty*this.sy+this.ty;return new lt(u,y,I,O,J,re)},lt.prototype.decompose=function(){var v=this.sx,u=this.shy,y=this.shx,I=this.sy,O=this.tx,J=this.ty,re=Math.sqrt(v*v+u*u),we=(v/=re)*y+(u/=re)*I;y-=v*we,I-=u*we;var Fe=Math.sqrt(y*y+I*I);return we/=Fe,v*(I/=Fe)<u*(y/=Fe)&&(v=-v,u=-u,we=-we,re=-re),{scale:new lt(re,0,0,Fe,0,0),translate:new lt(1,0,0,1,O,J),rotate:new lt(v,u,-u,v,0,0),skew:new lt(1,0,we,1,0,0)}},lt.prototype.toString=function(v){return this.join(" ")},lt.prototype.inversed=function(){var v=this.sx,u=this.shy,y=this.shx,I=this.sy,O=this.tx,J=this.ty,re=1/(v*I-u*y),we=I*re,Fe=-u*re,nt=-y*re,Ye=v*re;return new lt(we,Fe,nt,Ye,-we*O-nt*J,-Fe*O-Ye*J)},lt.prototype.applyToPoint=function(v){var u=v.x*this.sx+v.y*this.shx+this.tx,y=v.x*this.shy+v.y*this.sy+this.ty;return new qo(u,y)},lt.prototype.applyToRectangle=function(v){var u=this.applyToPoint(v),y=this.applyToPoint(new qo(v.x+v.w,v.y+v.h));return new Di(u.x,u.y,y.x-u.x,y.y-u.y)},lt.prototype.clone=function(){var v=this.sx,u=this.shy,y=this.shx,I=this.sy,O=this.tx,J=this.ty;return new lt(v,u,y,I,O,J)},g.Matrix=lt;var Lr=g.matrixMult=function(v,u){return u.multiply(v)},Ir=new lt(1,0,0,1,0,0);g.unitMatrix=g.identityMatrix=Ir;var Er=function(v,u){if(!Nt[v]){var y=(u instanceof ll?"Sh":"P")+(Object.keys(We).length+1).toString(10);u.id=y,Nt[v]=y,We[y]=u,wt.publish("addPattern",u)}};g.ShadingPattern=ll,g.TilingPattern=ju,g.addShadingPattern=function(v,u){return A("addShadingPattern()"),Er(v,u),this},g.beginTilingPattern=function(v){A("beginTilingPattern()"),pu(v.boundingBox[0],v.boundingBox[1],v.boundingBox[2]-v.boundingBox[0],v.boundingBox[3]-v.boundingBox[1],v.matrix)},g.endTilingPattern=function(v,u){A("endTilingPattern()"),u.stream=Re[W].join(`
`),Er(v,u),wt.publish("endTilingPattern",u),wn.pop().restore()};var Dn=g.__private__.newObject=function(){var v=bn();return sr(v,!0),v},bn=g.__private__.newObjectDeferred=function(){return ne++,he[ne]=function(){return ge},ne},sr=function(v,u){return u=typeof u=="boolean"&&u,he[v]=ge,u&&ie(v+" 0 obj"),v},Ta=g.__private__.newAdditionalObject=function(){var v={objId:bn(),content:""};return Ce.push(v),v},fr=bn(),pi=bn(),mi=g.__private__.decodeColorString=function(v){var u=v.split(" ");if(u.length!==2||u[1]!=="g"&&u[1]!=="G")u.length===5&&(u[4]==="k"||u[4]==="K")&&(u=[(1-u[0])*(1-u[3]),(1-u[1])*(1-u[3]),(1-u[2])*(1-u[3]),"r"]);else{var y=parseFloat(u[0]);u=[y,y,y,"r"]}for(var I="#",O=0;O<3;O++)I+=("0"+Math.floor(255*parseFloat(u[O])).toString(16)).slice(-2);return I},Kr=g.__private__.encodeColorString=function(v){var u;typeof v=="string"&&(v={ch1:v});var y=v.ch1,I=v.ch2,O=v.ch3,J=v.ch4,re=v.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof y=="string"&&y.charAt(0)!=="#"){var we=new X4(y);if(we.ok)y=we.toHex();else if(!/^\d*\.?\d*$/.test(y))throw new Error('Invalid color "'+y+'" passed to jsPDF.encodeColorString.')}if(typeof y=="string"&&/^#[0-9A-Fa-f]{3}$/.test(y)&&(y="#"+y[1]+y[1]+y[2]+y[2]+y[3]+y[3]),typeof y=="string"&&/^#[0-9A-Fa-f]{6}$/.test(y)){var Fe=parseInt(y.substr(1),16);y=Fe>>16&255,I=Fe>>8&255,O=255&Fe}if(I===void 0||J===void 0&&y===I&&I===O)if(typeof y=="string")u=y+" "+re[0];else switch(v.precision){case 2:u=D(y/255)+" "+re[0];break;case 3:default:u=T(y/255)+" "+re[0]}else if(J===void 0||Jt(J)==="object"){if(J&&!isNaN(J.a)&&J.a===0)return u=["1.","1.","1.",re[1]].join(" ");if(typeof y=="string")u=[y,I,O,re[1]].join(" ");else switch(v.precision){case 2:u=[D(y/255),D(I/255),D(O/255),re[1]].join(" ");break;default:case 3:u=[T(y/255),T(I/255),T(O/255),re[1]].join(" ")}}else if(typeof y=="string")u=[y,I,O,J,re[2]].join(" ");else switch(v.precision){case 2:u=[D(y),D(I),D(O),D(J),re[2]].join(" ");break;case 3:default:u=[T(y),T(I),T(O),T(J),re[2]].join(" ")}return u},gi=g.__private__.getFilters=function(){return o},Qr=g.__private__.putStream=function(v){var u=(v=v||{}).data||"",y=v.filters||gi(),I=v.alreadyAppliedFilters||[],O=v.addLength1||!1,J=u.length,re=v.objectId,we=function(mn){return mn};if(d!==null&&re===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");d!==null&&(we=pr.encryptor(re,0));var Fe={};y===!0&&(y=["FlateEncode"]);var nt=v.additionalKeyValues||[],Ye=(Fe=ct.API.processDataByFilters!==void 0?ct.API.processDataByFilters(u,y):{data:u,reverseChain:[]}).reverseChain+(Array.isArray(I)?I.join(" "):I.toString());if(Fe.data.length!==0&&(nt.push({key:"Length",value:Fe.data.length}),O===!0&&nt.push({key:"Length1",value:J})),Ye.length!=0)if(Ye.split("/").length-1==1)nt.push({key:"Filter",value:Ye});else{nt.push({key:"Filter",value:"["+Ye+"]"});for(var dt=0;dt<nt.length;dt+=1)if(nt[dt].key==="DecodeParms"){for(var jt=[],Ht=0;Ht<Fe.reverseChain.split("/").length-1;Ht+=1)jt.push("null");jt.push(nt[dt].value),nt[dt].value="["+jt.join(" ")+"]"}}ie("<<");for(var Kt=0;Kt<nt.length;Kt++)ie("/"+nt[Kt].key+" "+nt[Kt].value);ie(">>"),Fe.data.length!==0&&(ie("stream"),ie(we(Fe.data)),ie("endstream"))},Ji=g.__private__.putPage=function(v){var u=v.number,y=v.data,I=v.objId,O=v.contentsObjId;sr(I,!0),ie("<</Type /Page"),ie("/Parent "+v.rootDictionaryObjId+" 0 R"),ie("/Resources "+v.resourceDictionaryObjId+" 0 R"),ie("/MediaBox ["+parseFloat(N(v.mediaBox.bottomLeftX))+" "+parseFloat(N(v.mediaBox.bottomLeftY))+" "+N(v.mediaBox.topRightX)+" "+N(v.mediaBox.topRightY)+"]"),v.cropBox!==null&&ie("/CropBox ["+N(v.cropBox.bottomLeftX)+" "+N(v.cropBox.bottomLeftY)+" "+N(v.cropBox.topRightX)+" "+N(v.cropBox.topRightY)+"]"),v.bleedBox!==null&&ie("/BleedBox ["+N(v.bleedBox.bottomLeftX)+" "+N(v.bleedBox.bottomLeftY)+" "+N(v.bleedBox.topRightX)+" "+N(v.bleedBox.topRightY)+"]"),v.trimBox!==null&&ie("/TrimBox ["+N(v.trimBox.bottomLeftX)+" "+N(v.trimBox.bottomLeftY)+" "+N(v.trimBox.topRightX)+" "+N(v.trimBox.topRightY)+"]"),v.artBox!==null&&ie("/ArtBox ["+N(v.artBox.bottomLeftX)+" "+N(v.artBox.bottomLeftY)+" "+N(v.artBox.topRightX)+" "+N(v.artBox.topRightY)+"]"),typeof v.userUnit=="number"&&v.userUnit!==1&&ie("/UserUnit "+v.userUnit),wt.publish("putPage",{objId:I,pageContext:it[u],pageNumber:u,page:y}),ie("/Contents "+O+" 0 R"),ie(">>"),ie("endobj");var J=y.join(`
`);return E===b.ADVANCED&&(J+=`
Q`),sr(O,!0),Qr({data:J,filters:gi(),objectId:O}),ie("endobj"),I},Xs=g.__private__.putPages=function(){var v,u,y=[];for(v=1;v<=vt;v++)it[v].objId=bn(),it[v].contentsObjId=bn();for(v=1;v<=vt;v++)y.push(Ji({number:v,data:Re[v],objId:it[v].objId,contentsObjId:it[v].contentsObjId,mediaBox:it[v].mediaBox,cropBox:it[v].cropBox,bleedBox:it[v].bleedBox,trimBox:it[v].trimBox,artBox:it[v].artBox,userUnit:it[v].userUnit,rootDictionaryObjId:fr,resourceDictionaryObjId:pi}));sr(fr,!0),ie("<</Type /Pages");var I="/Kids [";for(u=0;u<vt;u++)I+=y[u]+" 0 R ";ie(I+"]"),ie("/Count "+vt),ie(">>"),ie("endobj"),wt.publish("postPutPages")},xa=function(v){wt.publish("putFont",{font:v,out:ie,newObject:Dn,putStream:Qr}),v.isAlreadyPutted!==!0&&(v.objectNumber=Dn(),ie("<<"),ie("/Type /Font"),ie("/BaseFont /"+hh(v.postScriptName)),ie("/Subtype /Type1"),typeof v.encoding=="string"&&ie("/Encoding /"+v.encoding),ie("/FirstChar 32"),ie("/LastChar 255"),ie(">>"),ie("endobj"))},bs=function(){for(var v in pe)pe.hasOwnProperty(v)&&(f===!1||f===!0&&p.hasOwnProperty(v))&&xa(pe[v])},Vo=function(v){v.objectNumber=Dn();var u=[];u.push({key:"Type",value:"/XObject"}),u.push({key:"Subtype",value:"/Form"}),u.push({key:"BBox",value:"["+[N(v.x),N(v.y),N(v.x+v.width),N(v.y+v.height)].join(" ")+"]"}),u.push({key:"Matrix",value:"["+v.matrix.toString()+"]"});var y=v.pages[1].join(`
`);Qr({data:y,additionalKeyValues:u,objectId:v.objectNumber}),ie("endobj")},Zs=function(){for(var v in tn)tn.hasOwnProperty(v)&&Vo(tn[v])},eo=function(v,u){var y,I=[],O=1/(u-1);for(y=0;y<1;y+=O)I.push(y);if(I.push(1),v[0].offset!=0){var J={offset:0,color:v[0].color};v.unshift(J)}if(v[v.length-1].offset!=1){var re={offset:1,color:v[v.length-1].color};v.push(re)}for(var we="",Fe=0,nt=0;nt<I.length;nt++){for(y=I[nt];y>v[Fe+1].offset;)Fe++;var Ye=v[Fe].offset,dt=(y-Ye)/(v[Fe+1].offset-Ye),jt=v[Fe].color,Ht=v[Fe+1].color;we+=te(Math.round((1-dt)*jt[0]+dt*Ht[0]).toString(16))+te(Math.round((1-dt)*jt[1]+dt*Ht[1]).toString(16))+te(Math.round((1-dt)*jt[2]+dt*Ht[2]).toString(16))}return we.trim()},Is=function(v,u){u||(u=21);var y=Dn(),I=eo(v.colors,u),O=[];O.push({key:"FunctionType",value:"0"}),O.push({key:"Domain",value:"[0.0 1.0]"}),O.push({key:"Size",value:"["+u+"]"}),O.push({key:"BitsPerSample",value:"8"}),O.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),O.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Qr({data:I,additionalKeyValues:O,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:y}),ie("endobj"),v.objectNumber=Dn(),ie("<< /ShadingType "+v.type),ie("/ColorSpace /DeviceRGB");var J="/Coords ["+N(parseFloat(v.coords[0]))+" "+N(parseFloat(v.coords[1]))+" ";v.type===2?J+=N(parseFloat(v.coords[2]))+" "+N(parseFloat(v.coords[3])):J+=N(parseFloat(v.coords[2]))+" "+N(parseFloat(v.coords[3]))+" "+N(parseFloat(v.coords[4]))+" "+N(parseFloat(v.coords[5])),ie(J+="]"),v.matrix&&ie("/Matrix ["+v.matrix.toString()+"]"),ie("/Function "+y+" 0 R"),ie("/Extend [true true]"),ie(">>"),ie("endobj")},ru=function(v,u){var y=bn(),I=Dn();u.push({resourcesOid:y,objectOid:I}),v.objectNumber=I;var O=[];O.push({key:"Type",value:"/Pattern"}),O.push({key:"PatternType",value:"1"}),O.push({key:"PaintType",value:"1"}),O.push({key:"TilingType",value:"1"}),O.push({key:"BBox",value:"["+v.boundingBox.map(N).join(" ")+"]"}),O.push({key:"XStep",value:N(v.xStep)}),O.push({key:"YStep",value:N(v.yStep)}),O.push({key:"Resources",value:y+" 0 R"}),v.matrix&&O.push({key:"Matrix",value:"["+v.matrix.toString()+"]"}),Qr({data:v.stream,additionalKeyValues:O,objectId:v.objectNumber}),ie("endobj")},Pa=function(v){var u;for(u in We)We.hasOwnProperty(u)&&(We[u]instanceof ll?Is(We[u]):We[u]instanceof ju&&ru(We[u],v))},iu=function(v){for(var u in v.objectNumber=Dn(),ie("<<"),v)switch(u){case"opacity":ie("/ca "+D(v[u]));break;case"stroke-opacity":ie("/CA "+D(v[u]))}ie(">>"),ie("endobj")},Ac=function(){var v;for(v in gt)gt.hasOwnProperty(v)&&iu(gt[v])},Na=function(){for(var v in ie("/XObject <<"),tn)tn.hasOwnProperty(v)&&tn[v].objectNumber>=0&&ie("/"+v+" "+tn[v].objectNumber+" 0 R");wt.publish("putXobjectDict"),ie(">>")},su=function(){pr.oid=Dn(),ie("<<"),ie("/Filter /Standard"),ie("/V "+pr.v),ie("/R "+pr.r),ie("/U <"+pr.toHexString(pr.U)+">"),ie("/O <"+pr.toHexString(pr.O)+">"),ie("/P "+pr.P),ie(">>"),ie("endobj")},Ca=function(){for(var v in ie("/Font <<"),pe)pe.hasOwnProperty(v)&&(f===!1||f===!0&&p.hasOwnProperty(v))&&ie("/"+v+" "+pe[v].objectNumber+" 0 R");ie(">>")},Tc=function(){if(Object.keys(We).length>0){for(var v in ie("/Shading <<"),We)We.hasOwnProperty(v)&&We[v]instanceof ll&&We[v].objectNumber>=0&&ie("/"+v+" "+We[v].objectNumber+" 0 R");wt.publish("putShadingPatternDict"),ie(">>")}},jo=function(v){if(Object.keys(We).length>0){for(var u in ie("/Pattern <<"),We)We.hasOwnProperty(u)&&We[u]instanceof g.TilingPattern&&We[u].objectNumber>=0&&We[u].objectNumber<v&&ie("/"+u+" "+We[u].objectNumber+" 0 R");wt.publish("putTilingPatternDict"),ie(">>")}},xc=function(){if(Object.keys(gt).length>0){var v;for(v in ie("/ExtGState <<"),gt)gt.hasOwnProperty(v)&&gt[v].objectNumber>=0&&ie("/"+v+" "+gt[v].objectNumber+" 0 R");wt.publish("putGStateDict"),ie(">>")}},xn=function(v){sr(v.resourcesOid,!0),ie("<<"),ie("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),Ca(),Tc(),jo(v.objectOid),xc(),Na(),ie(">>"),ie("endobj")},Li=function(){var v=[];bs(),Ac(),Zs(),Pa(v),wt.publish("putResources"),v.forEach(xn),xn({resourcesOid:pi,objectOid:Number.MAX_SAFE_INTEGER}),wt.publish("postPutResources")},Yr=function(){wt.publish("putAdditionalObjects");for(var v=0;v<Ce.length;v++){var u=Ce[v];sr(u.objId,!0),ie(u.content),ie("endobj")}wt.publish("postPutAdditionalObjects")},to=function(v){ke[v.fontName]=ke[v.fontName]||{},ke[v.fontName][v.fontStyle]=v.id},Es=function(v,u,y,I,O){var J={id:"F"+(Object.keys(pe).length+1).toString(10),postScriptName:v,fontName:u,fontStyle:y,encoding:I,isStandardFont:O||!1,metadata:{}};return wt.publish("addFont",{font:J,instance:this}),pe[J.id]=J,to(J),J.id},ou=function(v){for(var u=0,y=Le.length;u<y;u++){var I=Es.call(this,v[u][0],v[u][1],v[u][2],Le[u][3],!0);f===!1&&(p[I]=!0);var O=v[u][0].split("-");to({id:I,fontName:O[0],fontStyle:O[1]||""})}wt.publish("addFonts",{fonts:pe,dictionary:ke})},kt=function(v){return v.foo=function(){try{return v.apply(this,arguments)}catch(I){var u=I.stack||"";~u.indexOf(" at ")&&(u=u.split(" at ")[1]);var y="Error in function "+u.split(`
`)[0].split("<")[0]+": "+I.message;if(!yt.console)throw new Error(y);yt.console.error(y,I),yt.alert&&alert(y)}},v.foo.bar=v,v.foo},Ss=function(v,u){var y,I,O,J,re,we,Fe,nt,Ye;if(O=(u=u||{}).sourceEncoding||"Unicode",re=u.outputEncoding,(u.autoencode||re)&&pe[xt].metadata&&pe[xt].metadata[O]&&pe[xt].metadata[O].encoding&&(J=pe[xt].metadata[O].encoding,!re&&pe[xt].encoding&&(re=pe[xt].encoding),!re&&J.codePages&&(re=J.codePages[0]),typeof re=="string"&&(re=J[re]),re)){for(Fe=!1,we=[],y=0,I=v.length;y<I;y++)(nt=re[v.charCodeAt(y)])?we.push(String.fromCharCode(nt)):we.push(v[y]),we[y].charCodeAt(0)>>8&&(Fe=!0);v=we.join("")}for(y=v.length;Fe===void 0&&y!==0;)v.charCodeAt(y-1)>>8&&(Fe=!0),y--;if(!Fe)return v;for(we=u.noBOM?[]:[254,255],y=0,I=v.length;y<I;y++){if((Ye=(nt=v.charCodeAt(y))>>8)>>8)throw new Error("Character at position "+y+" of string '"+v+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");we.push(Ye),we.push(nt-(Ye<<8))}return String.fromCharCode.apply(void 0,we)},Yn=g.__private__.pdfEscape=g.pdfEscape=function(v,u){return Ss(v,u).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},As=g.__private__.beginPage=function(v){Re[++vt]=[],it[vt]={objId:0,contentsObjId:0,userUnit:Number(a),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(v[0]),topRightY:Number(v[1])}},Cc(vt),Ee(Re[W])},Pc=function(v,u){var y,I,O;switch(t=u||t,typeof v=="string"&&(y=_(v.toLowerCase()),Array.isArray(y)&&(I=y[0],O=y[1])),Array.isArray(v)&&(I=v[0]*Ke,O=v[1]*Ke),isNaN(I)&&(I=i[0],O=i[1]),(I>14400||O>14400)&&(an.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),I=Math.min(14400,I),O=Math.min(14400,O)),i=[I,O],t.substr(0,1)){case"l":O>I&&(i=[O,I]);break;case"p":I>O&&(i=[O,I])}As(i),Fc(yi),ie(vi),Da!==0&&ie(Da+" J"),lo!==0&&ie(lo+" j"),wt.publish("addPage",{pageNumber:vt})},Nc=function(v){v>0&&v<=vt&&(Re.splice(v,1),it.splice(v,1),vt--,W>vt&&(W=vt),this.setPage(W))},Cc=function(v){v>0&&v<=vt&&(W=v)},jd=g.__private__.getNumberOfPages=g.getNumberOfPages=function(){return Re.length-1},kc=function(v,u,y){var I,O=void 0;return y=y||{},v=v!==void 0?v:pe[xt].fontName,u=u!==void 0?u:pe[xt].fontStyle,I=v.toLowerCase(),ke[I]!==void 0&&ke[I][u]!==void 0?O=ke[I][u]:ke[v]!==void 0&&ke[v][u]!==void 0?O=ke[v][u]:y.disableWarning===!1&&an.warn("Unable to look up font label for font '"+v+"', '"+u+"'. Refer to getFontList() for available fonts."),O||y.noFallback||(O=ke.times[u])==null&&(O=ke.times.normal),O},Bd=g.__private__.putInfo=function(){var v=Dn(),u=function(I){return I};for(var y in d!==null&&(u=pr.encryptor(v,0)),ie("<<"),ie("/Producer ("+Yn(u("jsPDF "+ct.version))+")"),ht)ht.hasOwnProperty(y)&&ht[y]&&ie("/"+y.substr(0,1).toUpperCase()+y.substr(1)+" ("+Yn(u(ht[y]))+")");ie("/CreationDate ("+Yn(u(ue))+")"),ie(">>"),ie("endobj")},Ts=g.__private__.putCatalog=function(v){var u=(v=v||{}).rootDictionaryObjId||fr;switch(Dn(),ie("<<"),ie("/Type /Catalog"),ie("/Pages "+u+" 0 R"),je||(je="fullwidth"),je){case"fullwidth":ie("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ie("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ie("/OpenAction [3 0 R /Fit]");break;case"original":ie("/OpenAction [3 0 R /XYZ null null 1]");break;default:var y=""+je;y.substr(y.length-1)==="%"&&(je=parseInt(je)/100),typeof je=="number"&&ie("/OpenAction [3 0 R /XYZ null null "+D(je)+"]")}switch(_t||(_t="continuous"),_t){case"continuous":ie("/PageLayout /OneColumn");break;case"single":ie("/PageLayout /SinglePage");break;case"two":case"twoleft":ie("/PageLayout /TwoColumnLeft");break;case"tworight":ie("/PageLayout /TwoColumnRight")}mt&&ie("/PageMode /"+mt),wt.publish("putCatalog"),ie(">>"),ie("endobj")},xs=g.__private__.putTrailer=function(){ie("trailer"),ie("<<"),ie("/Size "+(ne+1)),ie("/Root "+ne+" 0 R"),ie("/Info "+(ne-1)+" 0 R"),d!==null&&ie("/Encrypt "+pr.oid+" 0 R"),ie("/ID [ <"+ee+"> <"+ee+"> ]"),ie(">>")},Rc=g.__private__.putHeader=function(){ie("%PDF-"+S),ie("%")},Lc=g.__private__.putXRef=function(){var v="0000000000";ie("xref"),ie("0 "+(ne+1)),ie("0000000000 65535 f ");for(var u=1;u<=ne;u++)typeof he[u]=="function"?ie((v+he[u]()).slice(-10)+" 00000 n "):he[u]!==void 0?ie((v+he[u]).slice(-10)+" 00000 n "):ie("0000000000 00000 n ")},Xi=g.__private__.buildDocument=function(){at(),Ee(fe),wt.publish("buildDocument"),Rc(),Xs(),Yr(),Li(),d!==null&&su(),Bd(),Ts();var v=ge;return Lc(),xs(),ie("startxref"),ie(""+v),ie("%%EOF"),Ee(Re[W]),fe.join(`
`)},Bo=g.__private__.getBlob=function(v){return new Blob([Ze(v)],{type:"application/pdf"})},Uo=g.output=g.__private__.output=kt(function(v,u){switch(typeof(u=u||{})=="string"?u={filename:u}:u.filename=u.filename||"generated.pdf",v){case void 0:return Xi();case"save":g.save(u.filename);break;case"arraybuffer":return Ze(Xi());case"blob":return Bo(Xi());case"bloburi":case"bloburl":if(yt.URL!==void 0&&typeof yt.URL.createObjectURL=="function")return yt.URL&&yt.URL.createObjectURL(Bo(Xi()))||void 0;an.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var y="",I=Xi();try{y=H2(I)}catch{y=H2(unescape(encodeURIComponent(I)))}return"data:application/pdf;filename="+u.filename+";base64,"+y;case"pdfobjectnewwindow":if(Object.prototype.toString.call(yt)==="[object Window]"){var O="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",J=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';u.pdfObjectUrl&&(O=u.pdfObjectUrl,J="");var re='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+O+'"'+J+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(u)+");<\/script></body></html>",we=yt.open();return we!==null&&we.document.write(re),we}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(yt)==="[object Window]"){var Fe='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(u.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+u.filename+'" width="500px" height="400px" /></body></html>',nt=yt.open();if(nt!==null){nt.document.write(Fe);var Ye=this;nt.document.documentElement.querySelector("#pdfViewer").onload=function(){nt.document.title=u.filename,nt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Ye.output("bloburl"))}}return nt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(yt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var dt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",u)+'"></iframe></body></html>',jt=yt.open();if(jt!==null&&(jt.document.write(dt),jt.document.title=u.filename),jt||typeof safari>"u")return jt;break;case"datauri":case"dataurl":return yt.document.location.href=this.output("datauristring",u);default:return null}}),Ps=function(v){return Array.isArray(rn)===!0&&rn.indexOf(v)>-1};switch(r){case"pt":Ke=1;break;case"mm":Ke=72/25.4;break;case"cm":Ke=72/2.54;break;case"in":Ke=72;break;case"px":Ke=Ps("px_scaling")==1?.75:96/72;break;case"pc":case"em":Ke=12;break;case"ex":Ke=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);Ke=r}var pr=null;me(),K();var Ud=function(v){return d!==null?pr.encryptor(v,0):function(u){return u}},Dc=g.__private__.getPageInfo=g.getPageInfo=function(v){if(isNaN(v)||v%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:it[v].objId,pageNumber:v,pageContext:it[v]}},ut=g.__private__.getPageInfoByObjId=function(v){if(isNaN(v)||v%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var u in it)if(it[u].objId===v)break;return Dc(u)},zd=g.__private__.getCurrentPageInfo=g.getCurrentPageInfo=function(){return{objId:it[W].objId,pageNumber:W,pageContext:it[W]}};g.addPage=function(){return Pc.apply(this,arguments),this},g.setPage=function(){return Cc.apply(this,arguments),Ee.call(this,Re[W]),this},g.insertPage=function(v){return this.addPage(),this.movePage(W,v),this},g.movePage=function(v,u){var y,I;if(v>u){y=Re[v],I=it[v];for(var O=v;O>u;O--)Re[O]=Re[O-1],it[O]=it[O-1];Re[u]=y,it[u]=I,this.setPage(u)}else if(v<u){y=Re[v],I=it[v];for(var J=v;J<u;J++)Re[J]=Re[J+1],it[J]=it[J+1];Re[u]=y,it[u]=I,this.setPage(u)}return this},g.deletePage=function(){return Nc.apply(this,arguments),this},g.__private__.text=g.text=function(v,u,y,I,O){var J,re,we,Fe,nt,Ye,dt,jt,Ht,Kt=(I=I||{}).scope||this;if(typeof v=="number"&&typeof u=="number"&&(typeof y=="string"||Array.isArray(y))){var mn=y;y=u,u=v,v=mn}if(arguments[3]instanceof lt?(A("The transform parameter of text() with a Matrix value"),Ht=O):(we=arguments[4],Fe=arguments[5],Jt(dt=arguments[3])==="object"&&dt!==null||(typeof we=="string"&&(Fe=we,we=null),typeof dt=="string"&&(Fe=dt,dt=null),typeof dt=="number"&&(we=dt,dt=null),I={flags:dt,angle:we,align:Fe})),isNaN(u)||isNaN(y)||v==null)throw new Error("Invalid arguments passed to jsPDF.text");if(v.length===0)return Kt;var Pn="",Zr=!1,Oi=typeof I.lineHeightFactor=="number"?I.lineHeightFactor:es,uo=Kt.internal.scaleFactor;function Mm(cn){return cn=cn.split("	").join(Array(I.TabLen||9).join(" ")),Yn(cn,dt)}function $d(cn){for(var hn,zn=cn.concat(),ar=[],Ko=zn.length;Ko--;)typeof(hn=zn.shift())=="string"?ar.push(hn):Array.isArray(cn)&&(hn.length===1||hn[1]===void 0&&hn[2]===void 0)?ar.push(hn[0]):ar.push([hn[0],hn[1],hn[2]]);return ar}function Wd(cn,hn){var zn;if(typeof cn=="string")zn=hn(cn)[0];else if(Array.isArray(cn)){for(var ar,Ko,Zd=cn.concat(),Kc=[],zm=Zd.length;zm--;)typeof(ar=Zd.shift())=="string"?Kc.push(hn(ar)[0]):Array.isArray(ar)&&typeof ar[0]=="string"&&(Ko=hn(ar[0],ar[1],ar[2]),Kc.push([Ko[0],Ko[1],Ko[2]]));zn=Kc}return zn}var jc=!1,Hd=!0;if(typeof v=="string")jc=!0;else if(Array.isArray(v)){var Gd=v.concat();re=[];for(var Bc,Sr=Gd.length;Sr--;)(typeof(Bc=Gd.shift())!="string"||Array.isArray(Bc)&&typeof Bc[0]!="string")&&(Hd=!1);jc=Hd}if(jc===!1)throw new Error('Type of text must be string or Array. "'+v+'" is not recognized.');typeof v=="string"&&(v=v.match(/[\r?\n]/)?v.split(/\r\n|\r|\n/g):[v]);var Uc=De/Kt.internal.scaleFactor,zc=Uc*(Oi-1);switch(I.baseline){case"bottom":y-=zc;break;case"top":y+=Uc-zc;break;case"hanging":y+=Uc-2*zc;break;case"middle":y+=Uc/2-zc}if((Ye=I.maxWidth||0)>0&&(typeof v=="string"?v=Kt.splitTextToSize(v,Ye):Object.prototype.toString.call(v)==="[object Array]"&&(v=v.reduce(function(cn,hn){return cn.concat(Kt.splitTextToSize(hn,Ye))},[]))),J={text:v,x:u,y,options:I,mutex:{pdfEscape:Yn,activeFontKey:xt,fonts:pe,activeFontSize:De}},wt.publish("preProcessText",J),v=J.text,we=(I=J.options).angle,!(Ht instanceof lt)&&we&&typeof we=="number"){we*=Math.PI/180,I.rotationDirection===0&&(we=-we),E===b.ADVANCED&&(we=-we);var qc=Math.cos(we),Kd=Math.sin(we);Ht=new lt(qc,Kd,-Kd,qc,0,0)}else we&&we instanceof lt&&(Ht=we);E!==b.ADVANCED||Ht||(Ht=Ir),(nt=I.charSpace||ao)!==void 0&&(Pn+=N(P(nt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(jt=I.horizontalScale)!==void 0&&(Pn+=N(100*jt)+` Tz
`),I.lang;var _i=-1,Iy=I.renderingMode!==void 0?I.renderingMode:I.stroke,Qd=Kt.internal.getCurrentPageInfo().pageContext;switch(Iy){case 0:case!1:case"fill":_i=0;break;case 1:case!0:case"stroke":_i=1;break;case 2:case"fillThenStroke":_i=2;break;case 3:case"invisible":_i=3;break;case 4:case"fillAndAddForClipping":_i=4;break;case 5:case"strokeAndAddPathForClipping":_i=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":_i=6;break;case 7:case"addToPathForClipping":_i=7}var Vm=Qd.usedRenderingMode!==void 0?Qd.usedRenderingMode:-1;_i!==-1?Pn+=_i+` Tr
`:Vm!==-1&&(Pn+=`0 Tr
`),_i!==-1&&(Qd.usedRenderingMode=_i),Fe=I.align||"left";var rs,$c=De*Oi,jm=Kt.internal.pageSize.getWidth(),Bm=pe[xt];nt=I.charSpace||ao,Ye=I.maxWidth||0,dt=Object.assign({autoencode:!0,noBOM:!0},I.flags);var Ma=[],mu=function(cn){return Kt.getStringUnitWidth(cn,{font:Bm,charSpace:nt,fontSize:De,doKerning:!1})*De/uo};if(Object.prototype.toString.call(v)==="[object Array]"){var wi;re=$d(v),Fe!=="left"&&(rs=re.map(mu));var ei,Va=0;if(Fe==="right"){u-=rs[0],v=[],Sr=re.length;for(var Wo=0;Wo<Sr;Wo++)Wo===0?(ei=Xr(u),wi=ts(y)):(ei=P(Va-rs[Wo]),wi=-$c),v.push([re[Wo],ei,wi]),Va=rs[Wo]}else if(Fe==="center"){u-=rs[0]/2,v=[],Sr=re.length;for(var Ho=0;Ho<Sr;Ho++)Ho===0?(ei=Xr(u),wi=ts(y)):(ei=P((Va-rs[Ho])/2),wi=-$c),v.push([re[Ho],ei,wi]),Va=rs[Ho]}else if(Fe==="left"){v=[],Sr=re.length;for(var Wc=0;Wc<Sr;Wc++)v.push(re[Wc])}else if(Fe==="justify"&&Bm.encoding==="Identity-H"){v=[],Sr=re.length,Ye=Ye!==0?Ye:jm;for(var Go=0,Un=0;Un<Sr;Un++)if(wi=Un===0?ts(y):-$c,ei=Un===0?Xr(u):Go,Un<Sr-1){var Yd=P((Ye-rs[Un])/(re[Un].split(" ").length-1)),ti=re[Un].split(" ");v.push([ti[0]+" ",ei,wi]),Go=0;for(var is=1;is<ti.length;is++){var Hc=(mu(ti[is-1]+" "+ti[is])-mu(ti[is]))*uo+Yd;is==ti.length-1?v.push([ti[is],Hc,0]):v.push([ti[is]+" ",Hc,0]),Go-=Hc}}else v.push([re[Un],ei,wi]);v.push(["",Go,0])}else{if(Fe!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(v=[],Sr=re.length,Ye=Ye!==0?Ye:jm,Un=0;Un<Sr;Un++)wi=Un===0?ts(y):-$c,ei=Un===0?Xr(u):0,Un<Sr-1?Ma.push(N(P((Ye-rs[Un])/(re[Un].split(" ").length-1)))):Ma.push(0),v.push([re[Un],ei,wi])}}var Um=typeof I.R2L=="boolean"?I.R2L:st;Um===!0&&(v=Wd(v,function(cn,hn,zn){return[cn.split("").reverse().join(""),hn,zn]})),J={text:v,x:u,y,options:I,mutex:{pdfEscape:Yn,activeFontKey:xt,fonts:pe,activeFontSize:De}},wt.publish("postProcessText",J),v=J.text,Zr=J.mutex.isHex||!1;var Jd=pe[xt].encoding;Jd!=="WinAnsiEncoding"&&Jd!=="StandardEncoding"||(v=Wd(v,function(cn,hn,zn){return[Mm(cn),hn,zn]})),re=$d(v),v=[];for(var gu,yu,ja,vu=0,Gc=1,_u=Array.isArray(re[0])?Gc:vu,Ba="",Xd=function(cn,hn,zn){var ar="";return zn instanceof lt?(zn=typeof I.angle=="number"?Lr(zn,new lt(1,0,0,1,cn,hn)):Lr(new lt(1,0,0,1,cn,hn),zn),E===b.ADVANCED&&(zn=Lr(new lt(1,0,0,-1,0,0),zn)),ar=zn.join(" ")+` Tm
`):ar=N(cn)+" "+N(hn)+` Td
`,ar},ss=0;ss<re.length;ss++){switch(Ba="",_u){case Gc:ja=(Zr?"<":"(")+re[ss][0]+(Zr?">":")"),gu=parseFloat(re[ss][1]),yu=parseFloat(re[ss][2]);break;case vu:ja=(Zr?"<":"(")+re[ss]+(Zr?">":")"),gu=Xr(u),yu=ts(y)}Ma!==void 0&&Ma[ss]!==void 0&&(Ba=Ma[ss]+` Tw
`),ss===0?v.push(Ba+Xd(gu,yu,Ht)+ja):_u===vu?v.push(Ba+ja):_u===Gc&&v.push(Ba+Xd(gu,yu,Ht)+ja)}v=_u===vu?v.join(` Tj
T* `):v.join(` Tj
`),v+=` Tj
`;var os=`BT
/`;return os+=xt+" "+De+` Tf
`,os+=N(De*Oi)+` TL
`,os+=oo+`
`,os+=Pn,os+=v,ie(os+="ET"),p[xt]=!0,Kt};var au=g.__private__.clip=g.clip=function(v){return ie(v==="evenodd"?"W*":"W"),this};g.clipEvenOdd=function(){return au("evenodd")},g.__private__.discardPath=g.discardPath=function(){return ie("n"),this};var Jr=g.__private__.isValidStyle=function(v){var u=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(v)!==-1&&(u=!0),u};g.__private__.setDefaultPathOperation=g.setDefaultPathOperation=function(v){return Jr(v)&&(c=v),this};var lu=g.__private__.getStyle=g.getStyle=function(v){var u=c;switch(v){case"D":case"S":u="S";break;case"F":u="f";break;case"FD":case"DF":u="B";break;case"f":case"f*":case"B":case"B*":u=v}return u},no=g.close=function(){return ie("h"),this};g.stroke=function(){return ie("S"),this},g.fill=function(v){return Zi("f",v),this},g.fillEvenOdd=function(v){return Zi("f*",v),this},g.fillStroke=function(v){return Zi("B",v),this},g.fillStrokeEvenOdd=function(v){return Zi("B*",v),this};var Zi=function(v,u){Jt(u)==="object"?un(u,v):ie(v)},ka=function(v){v===null||E===b.ADVANCED&&v===void 0||(v=lu(v),ie(v))};function uu(v,u,y,I,O){var J=new ju(u||this.boundingBox,y||this.xStep,I||this.yStep,this.gState,O||this.matrix);J.stream=this.stream;var re=v+"$$"+this.cloneIndex+++"$$";return Er(re,J),J}var un=function(v,u){var y=Nt[v.key],I=We[y];if(I instanceof ll)ie("q"),ie(qd(u)),I.gState&&g.setGState(I.gState),ie(v.matrix.toString()+" cm"),ie("/"+y+" sh"),ie("Q");else if(I instanceof ju){var O=new lt(1,0,0,-1,0,ks());v.matrix&&(O=O.multiply(v.matrix||Ir),y=uu.call(I,v.key,v.boundingBox,v.xStep,v.yStep,O).id),ie("q"),ie("/Pattern cs"),ie("/"+y+" scn"),I.gState&&g.setGState(I.gState),ie(u),ie("Q")}},qd=function(v){switch(v){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},cu=g.moveTo=function(v,u){return ie(N(P(v))+" "+N(G(u))+" m"),this},ro=g.lineTo=function(v,u){return ie(N(P(v))+" "+N(G(u))+" l"),this},Ns=g.curveTo=function(v,u,y,I,O,J){return ie([N(P(v)),N(G(u)),N(P(y)),N(G(I)),N(P(O)),N(G(J)),"c"].join(" ")),this};g.__private__.line=g.line=function(v,u,y,I,O){if(isNaN(v)||isNaN(u)||isNaN(y)||isNaN(I)||!Jr(O))throw new Error("Invalid arguments passed to jsPDF.line");return E===b.COMPAT?this.lines([[y-v,I-u]],v,u,[1,1],O||"S"):this.lines([[y-v,I-u]],v,u,[1,1]).stroke()},g.__private__.lines=g.lines=function(v,u,y,I,O,J){var re,we,Fe,nt,Ye,dt,jt,Ht,Kt,mn,Pn,Zr;if(typeof v=="number"&&(Zr=y,y=u,u=v,v=Zr),I=I||[1,1],J=J||!1,isNaN(u)||isNaN(y)||!Array.isArray(v)||!Array.isArray(I)||!Jr(O)||typeof J!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(cu(u,y),re=I[0],we=I[1],nt=v.length,mn=u,Pn=y,Fe=0;Fe<nt;Fe++)(Ye=v[Fe]).length===2?(mn=Ye[0]*re+mn,Pn=Ye[1]*we+Pn,ro(mn,Pn)):(dt=Ye[0]*re+mn,jt=Ye[1]*we+Pn,Ht=Ye[2]*re+mn,Kt=Ye[3]*we+Pn,mn=Ye[4]*re+mn,Pn=Ye[5]*we+Pn,Ns(dt,jt,Ht,Kt,mn,Pn));return J&&no(),ka(O),this},g.path=function(v){for(var u=0;u<v.length;u++){var y=v[u],I=y.c;switch(y.op){case"m":cu(I[0],I[1]);break;case"l":ro(I[0],I[1]);break;case"c":Ns.apply(this,I);break;case"h":no()}}return this},g.__private__.rect=g.rect=function(v,u,y,I,O){if(isNaN(v)||isNaN(u)||isNaN(y)||isNaN(I)||!Jr(O))throw new Error("Invalid arguments passed to jsPDF.rect");return E===b.COMPAT&&(I=-I),ie([N(P(v)),N(G(u)),N(P(y)),N(P(I)),"re"].join(" ")),ka(O),this},g.__private__.triangle=g.triangle=function(v,u,y,I,O,J,re){if(isNaN(v)||isNaN(u)||isNaN(y)||isNaN(I)||isNaN(O)||isNaN(J)||!Jr(re))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[y-v,I-u],[O-y,J-I],[v-O,u-J]],v,u,[1,1],re,!0),this},g.__private__.roundedRect=g.roundedRect=function(v,u,y,I,O,J,re){if(isNaN(v)||isNaN(u)||isNaN(y)||isNaN(I)||isNaN(O)||isNaN(J)||!Jr(re))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var we=4/3*(Math.SQRT2-1);return O=Math.min(O,.5*y),J=Math.min(J,.5*I),this.lines([[y-2*O,0],[O*we,0,O,J-J*we,O,J],[0,I-2*J],[0,J*we,-O*we,J,-O,J],[2*O-y,0],[-O*we,0,-O,-J*we,-O,-J],[0,2*J-I],[0,-J*we,O*we,-J,O,-J]],v+O,u,[1,1],re,!0),this},g.__private__.ellipse=g.ellipse=function(v,u,y,I,O){if(isNaN(v)||isNaN(u)||isNaN(y)||isNaN(I)||!Jr(O))throw new Error("Invalid arguments passed to jsPDF.ellipse");var J=4/3*(Math.SQRT2-1)*y,re=4/3*(Math.SQRT2-1)*I;return cu(v+y,u),Ns(v+y,u-re,v+J,u-I,v,u-I),Ns(v-J,u-I,v-y,u-re,v-y,u),Ns(v-y,u+re,v-J,u+I,v,u+I),Ns(v+J,u+I,v+y,u+re,v+y,u),ka(O),this},g.__private__.circle=g.circle=function(v,u,y,I){if(isNaN(v)||isNaN(u)||isNaN(y)||!Jr(I))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(v,u,y,y,I)},g.setFont=function(v,u,y){return y&&(u=U(u,y)),xt=kc(v,u,{disableWarning:!1}),this};var Oc=g.__private__.getFont=g.getFont=function(){return pe[kc.apply(g,arguments)]};g.__private__.getFontList=g.getFontList=function(){var v,u,y={};for(v in ke)if(ke.hasOwnProperty(v))for(u in y[v]=[],ke[v])ke[v].hasOwnProperty(u)&&y[v].push(u);return y},g.addFont=function(v,u,y,I,O){var J=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&J.indexOf(arguments[3])!==-1?O=arguments[3]:arguments[3]&&J.indexOf(arguments[3])==-1&&(y=U(y,I)),O=O||"Identity-H",Es.call(this,v,u,y,O)};var es,yi=n.lineWidth||.200025,zo=g.__private__.getLineWidth=g.getLineWidth=function(){return yi},Fc=g.__private__.setLineWidth=g.setLineWidth=function(v){return yi=v,ie(N(P(v))+" w"),this};g.__private__.setLineDash=ct.API.setLineDash=ct.API.setLineDashPattern=function(v,u){if(v=v||[],u=u||0,isNaN(u)||!Array.isArray(v))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return v=v.map(function(y){return N(P(y))}).join(" "),u=N(P(u)),ie("["+v+"] "+u+" d"),this};var io=g.__private__.getLineHeight=g.getLineHeight=function(){return De*es};g.__private__.getLineHeight=g.getLineHeight=function(){return De*es};var hu=g.__private__.setLineHeightFactor=g.setLineHeightFactor=function(v){return typeof(v=v||1.15)=="number"&&(es=v),this},Ra=g.__private__.getLineHeightFactor=g.getLineHeightFactor=function(){return es};hu(n.lineHeight);var Xr=g.__private__.getHorizontalCoordinate=function(v){return P(v)},ts=g.__private__.getVerticalCoordinate=function(v){return E===b.ADVANCED?v:it[W].mediaBox.topRightY-it[W].mediaBox.bottomLeftY-P(v)},La=g.__private__.getHorizontalCoordinateString=g.getHorizontalCoordinateString=function(v){return N(Xr(v))},so=g.__private__.getVerticalCoordinateString=g.getVerticalCoordinateString=function(v){return N(ts(v))},vi=n.strokeColor||"0 G";g.__private__.getStrokeColor=g.getDrawColor=function(){return mi(vi)},g.__private__.setStrokeColor=g.setDrawColor=function(v,u,y,I){return vi=Kr({ch1:v,ch2:u,ch3:y,ch4:I,pdfColorType:"draw",precision:2}),ie(vi),this};var Cs=n.fillColor||"0 g";g.__private__.getFillColor=g.getFillColor=function(){return mi(Cs)},g.__private__.setFillColor=g.setFillColor=function(v,u,y,I){return Cs=Kr({ch1:v,ch2:u,ch3:y,ch4:I,pdfColorType:"fill",precision:2}),ie(Cs),this};var oo=n.textColor||"0 g",Mc=g.__private__.getTextColor=g.getTextColor=function(){return mi(oo)};g.__private__.setTextColor=g.setTextColor=function(v,u,y,I){return oo=Kr({ch1:v,ch2:u,ch3:y,ch4:I,pdfColorType:"text",precision:3}),this};var ao=n.charSpace,du=g.__private__.getCharSpace=g.getCharSpace=function(){return parseFloat(ao||0)};g.__private__.setCharSpace=g.setCharSpace=function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return ao=v,this};var Da=0;g.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},g.__private__.setLineCap=g.setLineCap=function(v){var u=g.CapJoinStyles[v];if(u===void 0)throw new Error("Line cap style of '"+v+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Da=u,ie(u+" J"),this};var lo=0;g.__private__.setLineJoin=g.setLineJoin=function(v){var u=g.CapJoinStyles[v];if(u===void 0)throw new Error("Line join style of '"+v+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return lo=u,ie(u+" j"),this},g.__private__.setLineMiterLimit=g.__private__.setMiterLimit=g.setLineMiterLimit=g.setMiterLimit=function(v){if(v=v||0,isNaN(v))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ie(N(P(v))+" M"),this},g.GState=Op,g.setGState=function(v){(v=typeof v=="string"?gt[Ot[v]]:fu(null,v)).equals(Ut)||(ie("/"+v.id+" gs"),Ut=v)};var fu=function(v,u){if(!v||!Ot[v]){var y=!1;for(var I in gt)if(gt.hasOwnProperty(I)&&gt[I].equals(u)){y=!0;break}if(y)u=gt[I];else{var O="GS"+(Object.keys(gt).length+1).toString(10);gt[O]=u,u.id=O}return v&&(Ot[v]=u.id),wt.publish("addGState",u),u}};g.addGState=function(v,u){return fu(v,u),this},g.saveGraphicsState=function(){return ie("q"),Be.push({key:xt,size:De,color:oo}),this},g.restoreGraphicsState=function(){ie("Q");var v=Be.pop();return xt=v.key,De=v.size,oo=v.color,Ut=null,this},g.setCurrentTransformationMatrix=function(v){return ie(v.toString()+" cm"),this},g.comment=function(v){return ie("#"+v),this};var qo=function(v,u){var y=v||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return y},set:function(J){isNaN(J)||(y=parseFloat(J))}});var I=u||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return I},set:function(J){isNaN(J)||(I=parseFloat(J))}});var O="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return O},set:function(J){O=J.toString()}}),this},Di=function(v,u,y,I){qo.call(this,v,u),this.type="rect";var O=y||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return O},set:function(re){isNaN(re)||(O=parseFloat(re))}});var J=I||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return J},set:function(re){isNaN(re)||(J=parseFloat(re))}}),this},Oa=function(){this.page=vt,this.currentPage=W,this.pages=Re.slice(0),this.pagesContext=it.slice(0),this.x=ln,this.y=Ct,this.matrix=ir,this.width=ns(W),this.height=ks(W),this.outputDestination=ze,this.id="",this.objectNumber=-1};Oa.prototype.restore=function(){vt=this.page,W=this.currentPage,it=this.pagesContext,Re=this.pages,ln=this.x,Ct=this.y,ir=this.matrix,or(W,this.width),Fa(W,this.height),ze=this.outputDestination};var pu=function(v,u,y,I,O){wn.push(new Oa),vt=W=0,Re=[],ln=v,Ct=u,ir=O,As([y,I])},Vc=function(v){if(sn[v])wn.pop().restore();else{var u=new Oa,y="Xo"+(Object.keys(tn).length+1).toString(10);u.id=y,sn[v]=y,tn[y]=u,wt.publish("addFormObject",u),wn.pop().restore()}};for(var $o in g.beginFormObject=function(v,u,y,I,O){return pu(v,u,y,I,O),this},g.endFormObject=function(v){return Vc(v),this},g.doFormObject=function(v,u){var y=tn[sn[v]];return ie("q"),ie(u.toString()+" cm"),ie("/"+y.id+" Do"),ie("Q"),this},g.getFormObject=function(v){var u=tn[sn[v]];return{x:u.x,y:u.y,width:u.width,height:u.height,matrix:u.matrix}},g.save=function(v,u){return v=v||"generated.pdf",(u=u||{}).returnPromise=u.returnPromise||!1,u.returnPromise===!1?(Au(Bo(Xi()),v),typeof Au.unload=="function"&&yt.setTimeout&&setTimeout(Au.unload,911),this):new Promise(function(y,I){try{var O=Au(Bo(Xi()),v);typeof Au.unload=="function"&&yt.setTimeout&&setTimeout(Au.unload,911),y(O)}catch(J){I(J.message)}})},ct.API)ct.API.hasOwnProperty($o)&&($o==="events"&&ct.API.events.length?function(v,u){var y,I,O;for(O=u.length-1;O!==-1;O--)y=u[O][0],I=u[O][1],v.subscribe.apply(v,[y].concat(typeof I=="function"?[I]:I))}(wt,ct.API.events):g[$o]=ct.API[$o]);var ns=g.getPageWidth=function(v){return(it[v=v||W].mediaBox.topRightX-it[v].mediaBox.bottomLeftX)/Ke},or=g.setPageWidth=function(v,u){it[v].mediaBox.topRightX=u*Ke+it[v].mediaBox.bottomLeftX},ks=g.getPageHeight=function(v){return(it[v=v||W].mediaBox.topRightY-it[v].mediaBox.bottomLeftY)/Ke},Fa=g.setPageHeight=function(v,u){it[v].mediaBox.topRightY=u*Ke+it[v].mediaBox.bottomLeftY};return g.internal={pdfEscape:Yn,getStyle:lu,getFont:Oc,getFontSize:qe,getCharSpace:du,getTextColor:Mc,getLineHeight:io,getLineHeightFactor:Ra,getLineWidth:zo,write:Ve,getHorizontalCoordinate:Xr,getVerticalCoordinate:ts,getCoordinateString:La,getVerticalCoordinateString:so,collections:{},newObject:Dn,newAdditionalObject:Ta,newObjectDeferred:bn,newObjectDeferredBegin:sr,getFilters:gi,putStream:Qr,events:wt,scaleFactor:Ke,pageSize:{getWidth:function(){return ns(W)},setWidth:function(v){or(W,v)},getHeight:function(){return ks(W)},setHeight:function(v){Fa(W,v)}},encryptionOptions:d,encryption:pr,getEncryptor:Ud,output:Uo,getNumberOfPages:jd,pages:Re,out:ie,f2:D,f3:T,getPageInfo:Dc,getPageInfoByObjId:ut,getCurrentPageInfo:zd,getPDFVersion:x,Point:qo,Rectangle:Di,Matrix:lt,hasHotfix:Ps},Object.defineProperty(g.internal.pageSize,"width",{get:function(){return ns(W)},set:function(v){or(W,v)},enumerable:!0,configurable:!0}),Object.defineProperty(g.internal.pageSize,"height",{get:function(){return ks(W)},set:function(v){Fa(W,v)},enumerable:!0,configurable:!0}),ou.call(g,Le),xt="F1",Pc(i,t),wt.publish("initialized"),g}ch.prototype.lsbFirstWord=function(n){return String.fromCharCode(n>>0&255,n>>8&255,n>>16&255,n>>24&255)},ch.prototype.toHexString=function(n){return n.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},ch.prototype.hexToBytes=function(n){for(var e=[],t=0;t<n.length;t+=2)e.push(String.fromCharCode(parseInt(n.substr(t,2),16)));return e.join("")},ch.prototype.processOwnerPassword=function(n,e){return K2(G2(e).substr(0,5),n)},ch.prototype.encryptor=function(n,e){var t=G2(this.encryptionKey+String.fromCharCode(255&n,n>>8&255,n>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return K2(t,r)}},Op.prototype.equals=function(n){var e,t="id,objectNumber,equals";if(!n||Jt(n)!==Jt(this))return!1;var r=0;for(e in this)if(!(t.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!n.hasOwnProperty(e)||this[e]!==n[e])return!1;r++}for(e in n)n.hasOwnProperty(e)&&t.indexOf(e)<0&&r--;return r===0},ct.API={events:[]},ct.version="2.5.2";var Fn=ct.API,Kw=1,vc=function(n){return n.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},eh=function(n){return n.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Et=function(n){return n.toFixed(2)},Ya=function(n){return n.toFixed(5)};Fn.__acroform__={};var Ri=function(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n},DE=function(n){return n*Kw},fo=function(n){var e=new nP,t=tt.internal.getHeight(n)||0,r=tt.internal.getWidth(n)||0;return e.BBox=[0,0,Number(Et(r)),Number(Et(t))],e},gO=Fn.__acroform__.setBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return n|=1<<e},yO=Fn.__acroform__.clearBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return n&=~(1<<e)},vO=Fn.__acroform__.getBit=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return n&1<<e?1:0},$n=Fn.__acroform__.getBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return vO(n,e-1)},Wn=Fn.__acroform__.setBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return gO(n,e-1)},Hn=Fn.__acroform__.clearBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return yO(n,e-1)},_O=Fn.__acroform__.calculateCoordinates=function(n,e){var t=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,i=n[0],s=n[1],o=n[2],a=n[3],l={};return l.lowerLeft_X=t(i)||0,l.lowerLeft_Y=r(s+a)||0,l.upperRight_X=t(i+o)||0,l.upperRight_Y=r(s)||0,[Number(Et(l.lowerLeft_X)),Number(Et(l.lowerLeft_Y)),Number(Et(l.upperRight_X)),Number(Et(l.upperRight_Y))]},wO=function(n){if(n.appearanceStreamContent)return n.appearanceStreamContent;if(n.V||n.DV){var e=[],t=n._V||n.DV,r=Q2(n,t),i=n.scope.internal.getFont(n.fontName,n.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(n.scope.__private__.encodeColorString(n.color)),e.push("/"+i+" "+Et(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var s=fo(n);return s.scope=n.scope,s.stream=e.join(`
`),s}},Q2=function(n,e){var t=n.fontSize===0?n.maxFontSize:n.fontSize,r={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=n.multiline?i.map(function(T){return T.split(`
`)}):i.map(function(T){return[T]});var s=t,o=tt.internal.getHeight(n)||0;o=o<0?-o:o;var a=tt.internal.getWidth(n)||0;a=a<0?-a:a;var l=function(T,P,L){if(T+1<i.length){var G=P+" "+i[T+1][0];return xg(G,n,L).width<=a-4}return!1};s++;e:for(;s>0;){e="",s--;var c,d,f=xg("3",n,s).height,p=n.multiline?o-s:(o-f)/2,g=p+=2,S=0,x=0,k=0;if(s<=0){e=`(...) Tj
`,e+="% Width of Text: "+xg(e,n,s=12).width+", FieldWidth:"+a+`
`;break}for(var _="",b=0,E=0;E<i.length;E++)if(i.hasOwnProperty(E)){var F=!1;if(i[E].length!==1&&k!==i[E].length-1){if((f+2)*(b+2)+2>o)continue e;_+=i[E][k],F=!0,x=E,E--}else{_=(_+=i[E][k]+" ").substr(_.length-1)==" "?_.substr(0,_.length-1):_;var B=parseInt(E),U=l(B,_,s),N=E>=i.length-1;if(U&&!N){_+=" ",k=0;continue}if(U||N){if(N)x=B;else if(n.multiline&&(f+2)*(b+2)+2>o)continue e}else{if(!n.multiline||(f+2)*(b+2)+2>o)continue e;x=B}}for(var A="",C=S;C<=x;C++){var D=i[C];if(n.multiline){if(C===x){A+=D[k]+" ",k=(k+1)%D.length;continue}if(C===S){A+=D[D.length-1]+" ";continue}}A+=D[0]+" "}switch(A=A.substr(A.length-1)==" "?A.substr(0,A.length-1):A,d=xg(A,n,s).width,n.textAlign){case"right":c=a-d-2;break;case"center":c=(a-d)/2;break;case"left":default:c=2}e+=Et(c)+" "+Et(g)+` Td
`,e+="("+vc(A)+`) Tj
`,e+=-Et(c)+` 0 Td
`,g=-(s+2),d=0,S=F?x:x+1,b++,_=""}break}return r.text=e,r.fontSize=s,r},xg=function(n,e,t){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(n,{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:i}},bO={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},IO=function(n,e){var t={type:"reference",object:n};e.internal.getPageInfo(n.page).pageContext.annotations.find(function(r){return r.type===t.type&&r.object===t.object})===void 0&&e.internal.getPageInfo(n.page).pageContext.annotations.push(t)},EO=function(n,e){for(var t in n)if(n.hasOwnProperty(t)){var r=t,i=n[t];e.internal.newObjectDeferredBegin(i.objId,!0),Jt(i)==="object"&&typeof i.putStream=="function"&&i.putStream(),delete n[r]}},SO=function(n,e){if(e.scope=n,n.internal!==void 0&&(n.internal.acroformPlugin===void 0||n.internal.acroformPlugin.isInitialized===!1)){if(Ys.FieldNum=0,n.internal.acroformPlugin=JSON.parse(JSON.stringify(bO)),n.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Kw=n.internal.scaleFactor,n.internal.acroformPlugin.acroFormDictionaryRoot=new rP,n.internal.acroformPlugin.acroFormDictionaryRoot.scope=n,n.internal.acroformPlugin.acroFormDictionaryRoot._eventID=n.internal.events.subscribe("postPutResources",function(){(function(t){t.internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0})(n)}),n.internal.events.subscribe("buildDocument",function(){(function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var s=r[i];s.objId=void 0,s.hasAnnotation&&IO(s,t)}})(n)}),n.internal.events.subscribe("putCatalog",function(){(function(t){if(t.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(n)}),n.internal.events.subscribe("postPutPages",function(t){(function(r,i){var s=!r;for(var o in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(o)){var a=r[o],l=[],c=a.Rect;if(a.Rect&&(a.Rect=_O(a.Rect,i)),i.internal.newObjectDeferredBegin(a.objId,!0),a.DA=tt.createDefaultAppearanceStream(a),Jt(a)==="object"&&typeof a.getKeyValueListForStream=="function"&&(l=a.getKeyValueListForStream()),a.Rect=c,a.hasAppearanceStream&&!a.appearanceStreamContent){var d=wO(a);l.push({key:"AP",value:"<</N "+d+">>"}),i.internal.acroformPlugin.xForms.push(d)}if(a.appearanceStreamContent){var f="";for(var p in a.appearanceStreamContent)if(a.appearanceStreamContent.hasOwnProperty(p)){var g=a.appearanceStreamContent[p];if(f+="/"+p+" ",f+="<<",Object.keys(g).length>=1||Array.isArray(g)){for(var o in g)if(g.hasOwnProperty(o)){var S=g[o];typeof S=="function"&&(S=S.call(i,a)),f+="/"+o+" "+S+" ",i.internal.acroformPlugin.xForms.indexOf(S)>=0||i.internal.acroformPlugin.xForms.push(S)}}else typeof(S=g)=="function"&&(S=S.call(i,a)),f+="/"+o+" "+S,i.internal.acroformPlugin.xForms.indexOf(S)>=0||i.internal.acroformPlugin.xForms.push(S);f+=">>"}l.push({key:"AP",value:`<<
`+f+">>"})}i.internal.putStream({additionalKeyValues:l,objectId:a.objId}),i.internal.out("endobj")}s&&EO(i.internal.acroformPlugin.xForms,i)})(t,n)}),n.internal.acroformPlugin.isInitialized=!0}},tP=Fn.__acroform__.arrayToPdfArray=function(n,e,t){var r=function(o){return o};if(Array.isArray(n)){for(var i="[",s=0;s<n.length;s++)switch(s!==0&&(i+=" "),Jt(n[s])){case"boolean":case"number":case"object":i+=n[s].toString();break;case"string":n[s].substr(0,1)!=="/"?(e!==void 0&&t&&(r=t.internal.getEncryptor(e)),i+="("+vc(r(n[s].toString()))+")"):i+=n[s].toString()}return i+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},wv=function(n,e,t){var r=function(i){return i};return e!==void 0&&t&&(r=t.internal.getEncryptor(e)),(n=n||"").toString(),n="("+vc(r(n))+")"},Io=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(n){this._objId=n}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Io.prototype.toString=function(){return this.objId+" 0 R"},Io.prototype.putStream=function(){var n=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:n,objectId:this.objId}),this.scope.internal.out("endobj")},Io.prototype.getKeyValueListForStream=function(){var n=[],e=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var t in e)if(Object.getOwnPropertyDescriptor(this,e[t]).configurable===!1){var r=e[t],i=this[r];i&&(Array.isArray(i)?n.push({key:r,value:tP(i,this.objId,this.scope)}):i instanceof Io?(i.scope=this.scope,n.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&n.push({key:r,value:i}))}return n};var nP=function(){Io.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var n,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){n=t.trim()},get:function(){return n||null}})};Ri(nP,Io);var rP=function(){Io.call(this);var n,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(n){var t=function(r){return r};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+vc(t(n))+")"}},set:function(t){n=t}})};Ri(rP,Io);var Ys=function n(){Io.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(_){if(isNaN(_))throw new Error('Invalid value "'+_+'" for attribute F supplied.');e=_}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!$n(e,3)},set:function(_){_?this.F=Wn(e,3):this.F=Hn(e,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(_){if(isNaN(_))throw new Error('Invalid value "'+_+'" for attribute Ff supplied.');t=_}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(_){r=_!==void 0?_:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(_){r[0]=_}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(_){r[1]=_}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(_){r[2]=_}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(_){r[3]=_}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(_){switch(_){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=_;break;default:throw new Error('Invalid value "'+_+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof U1)return;s="FieldObject"+n.FieldNum++}var _=function(b){return b};return this.scope&&(_=this.scope.internal.getEncryptor(this.objId)),"("+vc(_(s))+")"},set:function(_){s=_.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(_){s=_}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(_){o=_}});var a="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return a},set:function(_){a=_}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(_){l=_}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return c===void 0?50/Kw:c},set:function(_){c=_}});var d="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return d},set:function(_){d=_}});var f="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!f||this instanceof U1||this instanceof Sl))return wv(f,this.objId,this.scope)},set:function(_){_=_.toString(),f=_}});var p=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof ur?p:wv(p,this.objId,this.scope)},set:function(_){_=_.toString(),p=this instanceof ur?_:_.substr(0,1)==="("?eh(_.substr(1,_.length-2)):eh(_)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof ur?eh(p.substr(1,p.length-1)):p},set:function(_){_=_.toString(),p=this instanceof ur?"/"+_:_}});var g=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(g)return g},set:function(_){this.V=_}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(g)return this instanceof ur?g:wv(g,this.objId,this.scope)},set:function(_){_=_.toString(),g=this instanceof ur?_:_.substr(0,1)==="("?eh(_.substr(1,_.length-2)):eh(_)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof ur?eh(g.substr(1,g.length-1)):g},set:function(_){_=_.toString(),g=this instanceof ur?"/"+_:_}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var S,x=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return x},set:function(_){_=!!_,x=_}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(S)return S},set:function(_){S=_}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!$n(this.Ff,1)},set:function(_){_?this.Ff=Wn(this.Ff,1):this.Ff=Hn(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!$n(this.Ff,2)},set:function(_){_?this.Ff=Wn(this.Ff,2):this.Ff=Hn(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!$n(this.Ff,3)},set:function(_){_?this.Ff=Wn(this.Ff,3):this.Ff=Hn(this.Ff,3)}});var k=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(k!==null)return k},set:function(_){if([0,1,2].indexOf(_)===-1)throw new Error('Invalid value "'+_+'" for attribute Q supplied.');k=_}}),Object.defineProperty(this,"textAlign",{get:function(){var _;switch(k){case 0:default:_="left";break;case 1:_="center";break;case 2:_="right"}return _},configurable:!0,enumerable:!0,set:function(_){switch(_){case"right":case 2:k=2;break;case"center":case 1:k=1;break;case"left":case 0:default:k=0}}})};Ri(Ys,Io);var Hu=function(){Ys.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var n=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return n},set:function(t){n=t}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return tP(e,this.objId,this.scope)},set:function(t){var r,i;i=[],typeof(r=t)=="string"&&(i=function(s,o,a){a||(a=1);for(var l,c=[];l=o.exec(s);)c.push(l[a]);return c}(r,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,r){for(r=r||!1,t=(t=t||"").toString();e.indexOf(t)!==-1&&(e.splice(e.indexOf(t),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!$n(this.Ff,18)},set:function(t){t?this.Ff=Wn(this.Ff,18):this.Ff=Hn(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!$n(this.Ff,19)},set:function(t){this.combo===!0&&(t?this.Ff=Wn(this.Ff,19):this.Ff=Hn(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!$n(this.Ff,20)},set:function(t){t?(this.Ff=Wn(this.Ff,20),e.sort()):this.Ff=Hn(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!$n(this.Ff,22)},set:function(t){t?this.Ff=Wn(this.Ff,22):this.Ff=Hn(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!$n(this.Ff,23)},set:function(t){t?this.Ff=Wn(this.Ff,23):this.Ff=Hn(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!$n(this.Ff,27)},set:function(t){t?this.Ff=Wn(this.Ff,27):this.Ff=Hn(this.Ff,27)}}),this.hasAppearanceStream=!1};Ri(Hu,Ys);var Gu=function(){Hu.call(this),this.fontName="helvetica",this.combo=!1};Ri(Gu,Hu);var Ku=function(){Gu.call(this),this.combo=!0};Ri(Ku,Gu);var Jf=function(){Ku.call(this),this.edit=!0};Ri(Jf,Ku);var ur=function(){Ys.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!$n(this.Ff,15)},set:function(t){t?this.Ff=Wn(this.Ff,15):this.Ff=Hn(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!$n(this.Ff,16)},set:function(t){t?this.Ff=Wn(this.Ff,16):this.Ff=Hn(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!$n(this.Ff,17)},set:function(t){t?this.Ff=Wn(this.Ff,17):this.Ff=Hn(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!$n(this.Ff,26)},set:function(t){t?this.Ff=Wn(this.Ff,26):this.Ff=Hn(this.Ff,26)}});var n,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(s){return s};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,i=[];for(r in i.push("<<"),e)i.push("/"+r+" ("+vc(t(e[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(t){Jt(t)==="object"&&(e=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(t){typeof t=="string"&&(e.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(t){n="/"+t}})};Ri(ur,Ys);var Xf=function(){ur.call(this),this.pushButton=!0};Ri(Xf,ur);var Qu=function(){ur.call(this),this.radio=!0,this.pushButton=!1;var n=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e!==void 0?e:[]}})};Ri(Qu,ur);var U1=function(){var n,e;Ys.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var t,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(a){return a};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var s,o=[];for(s in o.push("<<"),r)o.push("/"+s+" ("+vc(i(r[s]))+")");return o.push(">>"),o.join(`
`)},set:function(i){Jt(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(i){t="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=tt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Ri(U1,Ys),Qu.prototype.setAppearance=function(n){if(!("createAppearanceStream"in n)||!("getCA"in n))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var t=this.Kids[e];t.appearanceStreamContent=n.createAppearanceStream(t.optionName),t.caption=n.getCA()}},Qu.prototype.createOption=function(n){var e=new U1;return e.Parent=this,e.optionName=n,this.Kids.push(e),AO.call(this.scope,e),e};var Zf=function(){ur.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=tt.CheckBox.createAppearanceStream()};Ri(Zf,ur);var Sl=function(){Ys.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!$n(this.Ff,13)},set:function(e){e?this.Ff=Wn(this.Ff,13):this.Ff=Hn(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!$n(this.Ff,21)},set:function(e){e?this.Ff=Wn(this.Ff,21):this.Ff=Hn(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!$n(this.Ff,23)},set:function(e){e?this.Ff=Wn(this.Ff,23):this.Ff=Hn(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!$n(this.Ff,24)},set:function(e){e?this.Ff=Wn(this.Ff,24):this.Ff=Hn(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!$n(this.Ff,25)},set:function(e){e?this.Ff=Wn(this.Ff,25):this.Ff=Hn(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!$n(this.Ff,26)},set:function(e){e?this.Ff=Wn(this.Ff,26):this.Ff=Hn(this.Ff,26)}});var n=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return n},set:function(e){Number.isInteger(e)&&(n=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Ri(Sl,Ys);var ep=function(){Sl.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!$n(this.Ff,14)},set:function(n){n?this.Ff=Wn(this.Ff,14):this.Ff=Hn(this.Ff,14)}}),this.password=!0};Ri(ep,Sl);var tt={CheckBox:{createAppearanceStream:function(){return{N:{On:tt.CheckBox.YesNormal},D:{On:tt.CheckBox.YesPushDown,Off:tt.CheckBox.OffPushDown}}},YesPushDown:function(n){var e=fo(n);e.scope=n.scope;var t=[],r=n.scope.internal.getFont(n.fontName,n.fontStyle).id,i=n.scope.__private__.encodeColorString(n.color),s=Q2(n,n.caption);return t.push("0.749023 g"),t.push("0 0 "+Et(tt.internal.getWidth(n))+" "+Et(tt.internal.getHeight(n))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+r+" "+Et(s.fontSize)+" Tf "+i),t.push("BT"),t.push(s.text),t.push("ET"),t.push("Q"),t.push("EMC"),e.stream=t.join(`
`),e},YesNormal:function(n){var e=fo(n);e.scope=n.scope;var t=n.scope.internal.getFont(n.fontName,n.fontStyle).id,r=n.scope.__private__.encodeColorString(n.color),i=[],s=tt.internal.getHeight(n),o=tt.internal.getWidth(n),a=Q2(n,n.caption);return i.push("1 g"),i.push("0 0 "+Et(o)+" "+Et(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+Et(o-1)+" "+Et(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+t+" "+Et(a.fontSize)+" Tf "+r),i.push(a.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(n){var e=fo(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+Et(tt.internal.getWidth(n))+" "+Et(tt.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(n){var e={D:{Off:tt.RadioButton.Circle.OffPushDown},N:{}};return e.N[n]=tt.RadioButton.Circle.YesNormal,e.D[n]=tt.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(n){var e=fo(n);e.scope=n.scope;var t=[],r=tt.internal.getWidth(n)<=tt.internal.getHeight(n)?tt.internal.getWidth(n)/4:tt.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var i=tt.internal.Bezier_C,s=Number((r*i).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+Ya(tt.internal.getWidth(n)/2)+" "+Ya(tt.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),t.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),t.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),t.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=fo(n);e.scope=n.scope;var t=[],r=tt.internal.getWidth(n)<=tt.internal.getHeight(n)?tt.internal.getWidth(n)/4:tt.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*tt.internal.Bezier_C).toFixed(5)),o=Number((r*tt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+Ya(tt.internal.getWidth(n)/2)+" "+Ya(tt.internal.getHeight(n)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),t.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),t.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),t.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+Ya(tt.internal.getWidth(n)/2)+" "+Ya(tt.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),t.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),t.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),t.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},OffPushDown:function(n){var e=fo(n);e.scope=n.scope;var t=[],r=tt.internal.getWidth(n)<=tt.internal.getHeight(n)?tt.internal.getWidth(n)/4:tt.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*tt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+Ya(tt.internal.getWidth(n)/2)+" "+Ya(tt.internal.getHeight(n)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),t.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),t.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),t.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e}},Cross:{createAppearanceStream:function(n){var e={D:{Off:tt.RadioButton.Cross.OffPushDown},N:{}};return e.N[n]=tt.RadioButton.Cross.YesNormal,e.D[n]=tt.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(n){var e=fo(n);e.scope=n.scope;var t=[],r=tt.internal.calculateCross(n);return t.push("q"),t.push("1 1 "+Et(tt.internal.getWidth(n)-2)+" "+Et(tt.internal.getHeight(n)-2)+" re"),t.push("W"),t.push("n"),t.push(Et(r.x1.x)+" "+Et(r.x1.y)+" m"),t.push(Et(r.x2.x)+" "+Et(r.x2.y)+" l"),t.push(Et(r.x4.x)+" "+Et(r.x4.y)+" m"),t.push(Et(r.x3.x)+" "+Et(r.x3.y)+" l"),t.push("s"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=fo(n);e.scope=n.scope;var t=tt.internal.calculateCross(n),r=[];return r.push("0.749023 g"),r.push("0 0 "+Et(tt.internal.getWidth(n))+" "+Et(tt.internal.getHeight(n))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+Et(tt.internal.getWidth(n)-2)+" "+Et(tt.internal.getHeight(n)-2)+" re"),r.push("W"),r.push("n"),r.push(Et(t.x1.x)+" "+Et(t.x1.y)+" m"),r.push(Et(t.x2.x)+" "+Et(t.x2.y)+" l"),r.push(Et(t.x4.x)+" "+Et(t.x4.y)+" m"),r.push(Et(t.x3.x)+" "+Et(t.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(n){var e=fo(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+Et(tt.internal.getWidth(n))+" "+Et(tt.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}}},createDefaultAppearanceStream:function(n){var e=n.scope.internal.getFont(n.fontName,n.fontStyle).id,t=n.scope.__private__.encodeColorString(n.color);return"/"+e+" "+n.fontSize+" Tf "+t}};tt.internal={Bezier_C:.551915024494,calculateCross:function(n){var e=tt.internal.getWidth(n),t=tt.internal.getHeight(n),r=Math.min(e,t);return{x1:{x:(e-r)/2,y:(t-r)/2+r},x2:{x:(e-r)/2+r,y:(t-r)/2},x3:{x:(e-r)/2,y:(t-r)/2},x4:{x:(e-r)/2+r,y:(t-r)/2+r}}}},tt.internal.getWidth=function(n){var e=0;return Jt(n)==="object"&&(e=DE(n.Rect[2])),e},tt.internal.getHeight=function(n){var e=0;return Jt(n)==="object"&&(e=DE(n.Rect[3])),e};var AO=Fn.addField=function(n){if(SO(this,n),!(n instanceof Ys))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=n).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),n.page=n.scope.internal.getCurrentPageInfo().pageNumber,this};Fn.AcroFormChoiceField=Hu,Fn.AcroFormListBox=Gu,Fn.AcroFormComboBox=Ku,Fn.AcroFormEditBox=Jf,Fn.AcroFormButton=ur,Fn.AcroFormPushButton=Xf,Fn.AcroFormRadioButton=Qu,Fn.AcroFormCheckBox=Zf,Fn.AcroFormTextField=Sl,Fn.AcroFormPasswordField=ep,Fn.AcroFormAppearance=tt,Fn.AcroForm={ChoiceField:Hu,ListBox:Gu,ComboBox:Ku,EditBox:Jf,Button:ur,PushButton:Xf,RadioButton:Qu,CheckBox:Zf,TextField:Sl,PasswordField:ep,Appearance:tt},ct.AcroForm={ChoiceField:Hu,ListBox:Gu,ComboBox:Ku,EditBox:Jf,Button:ur,PushButton:Xf,RadioButton:Qu,CheckBox:Zf,TextField:Sl,PasswordField:ep,Appearance:tt};var TO=ct.AcroForm;function iP(n){return n.reduce(function(e,t,r){return e[t]=r,e},{})}(function(n){n.__addimage__={};var e="UNKNOWN",t={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=n.__addimage__.getImageFileTypeByImageData=function(T,P){var L,G,ue,ee,X,K=e;if((P=P||e)==="RGBA"||T.data!==void 0&&T.data instanceof Uint8ClampedArray&&"height"in T&&"width"in T)return"RGBA";if(U(T))for(X in t)for(ue=t[X],L=0;L<ue.length;L+=1){for(ee=!0,G=0;G<ue[L].length;G+=1)if(ue[L][G]!==void 0&&ue[L][G]!==T[G]){ee=!1;break}if(ee===!0){K=X;break}}else for(X in t)for(ue=t[X],L=0;L<ue.length;L+=1){for(ee=!0,G=0;G<ue[L].length;G+=1)if(ue[L][G]!==void 0&&ue[L][G]!==T.charCodeAt(G)){ee=!1;break}if(ee===!0){K=X;break}}return K===e&&P!==e&&(K=P),K},i=function T(P){for(var L=this.internal.write,G=this.internal.putStream,ue=(0,this.internal.getFilters)();ue.indexOf("FlateEncode")!==-1;)ue.splice(ue.indexOf("FlateEncode"),1);P.objectId=this.internal.newObject();var ee=[];if(ee.push({key:"Type",value:"/XObject"}),ee.push({key:"Subtype",value:"/Image"}),ee.push({key:"Width",value:P.width}),ee.push({key:"Height",value:P.height}),P.colorSpace===k.INDEXED?ee.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(P.palette.length/3-1)+" "+("sMask"in P&&P.sMask!==void 0?P.objectId+2:P.objectId+1)+" 0 R]"}):(ee.push({key:"ColorSpace",value:"/"+P.colorSpace}),P.colorSpace===k.DEVICE_CMYK&&ee.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),ee.push({key:"BitsPerComponent",value:P.bitsPerComponent}),"decodeParameters"in P&&P.decodeParameters!==void 0&&ee.push({key:"DecodeParms",value:"<<"+P.decodeParameters+">>"}),"transparency"in P&&Array.isArray(P.transparency)){for(var X="",K=0,Y=P.transparency.length;K<Y;K++)X+=P.transparency[K]+" "+P.transparency[K]+" ";ee.push({key:"Mask",value:"["+X+"]"})}P.sMask!==void 0&&ee.push({key:"SMask",value:P.objectId+1+" 0 R"});var oe=P.filter!==void 0?["/"+P.filter]:void 0;if(G({data:P.data,additionalKeyValues:ee,alreadyAppliedFilters:oe,objectId:P.objectId}),L("endobj"),"sMask"in P&&P.sMask!==void 0){var me="/Predictor "+P.predictor+" /Colors 1 /BitsPerComponent "+P.bitsPerComponent+" /Columns "+P.width,M={width:P.width,height:P.height,colorSpace:"DeviceGray",bitsPerComponent:P.bitsPerComponent,decodeParameters:me,data:P.sMask};"filter"in P&&(M.filter=P.filter),T.call(this,M)}if(P.colorSpace===k.INDEXED){var W=this.internal.newObject();G({data:A(new Uint8Array(P.palette)),objectId:W}),L("endobj")}},s=function(){var T=this.internal.collections.addImage_images;for(var P in T)i.call(this,T[P])},o=function(){var T,P=this.internal.collections.addImage_images,L=this.internal.write;for(var G in P)L("/I"+(T=P[G]).index,T.objectId,"0","R")},a=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",o))},l=function(){var T=this.internal.collections.addImage_images;return a.call(this),T},c=function(){return Object.keys(this.internal.collections.addImage_images).length},d=function(T){return typeof n["process"+T.toUpperCase()]=="function"},f=function(T){return Jt(T)==="object"&&T.nodeType===1},p=function(T,P){if(T.nodeName==="IMG"&&T.hasAttribute("src")){var L=""+T.getAttribute("src");if(L.indexOf("data:image/")===0)return Yf(unescape(L).split("base64,").pop());var G=n.loadFile(L,!0);if(G!==void 0)return G}if(T.nodeName==="CANVAS"){if(T.width===0||T.height===0)throw new Error("Given canvas must have data. Canvas width: "+T.width+", height: "+T.height);var ue;switch(P){case"PNG":ue="image/png";break;case"WEBP":ue="image/webp";break;case"JPEG":case"JPG":default:ue="image/jpeg"}return Yf(T.toDataURL(ue,1).split("base64,").pop())}},g=function(T){var P=this.internal.collections.addImage_images;if(P){for(var L in P)if(T===P[L].alias)return P[L]}},S=function(T,P,L){return T||P||(T=-96,P=-96),T<0&&(T=-1*L.width*72/T/this.internal.scaleFactor),P<0&&(P=-1*L.height*72/P/this.internal.scaleFactor),T===0&&(T=P*L.width/L.height),P===0&&(P=T*L.height/L.width),[T,P]},x=function(T,P,L,G,ue,ee){var X=S.call(this,L,G,ue),K=this.internal.getCoordinateString,Y=this.internal.getVerticalCoordinateString,oe=l.call(this);if(L=X[0],G=X[1],oe[ue.index]=ue,ee){ee*=Math.PI/180;var me=Math.cos(ee),M=Math.sin(ee),W=function(te){return te.toFixed(4)},Q=[W(me),W(M),W(-1*M),W(me),0,0,"cm"]}this.internal.write("q"),ee?(this.internal.write([1,"0","0",1,K(T),Y(P+G),"cm"].join(" ")),this.internal.write(Q.join(" ")),this.internal.write([K(L),"0","0",K(G),"0","0","cm"].join(" "))):this.internal.write([K(L),"0","0",K(G),K(T),Y(P+G),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ue.index+" Do"),this.internal.write("Q")},k=n.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};n.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var _=n.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},b=n.__addimage__.sHashCode=function(T){var P,L,G=0;if(typeof T=="string")for(L=T.length,P=0;P<L;P++)G=(G<<5)-G+T.charCodeAt(P),G|=0;else if(U(T))for(L=T.byteLength/2,P=0;P<L;P++)G=(G<<5)-G+T[P],G|=0;return G},E=n.__addimage__.validateStringAsBase64=function(T){(T=T||"").toString().trim();var P=!0;return T.length===0&&(P=!1),T.length%4!=0&&(P=!1),/^[A-Za-z0-9+/]+$/.test(T.substr(0,T.length-2))===!1&&(P=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(T.substr(-2))===!1&&(P=!1),P},F=n.__addimage__.extractImageFromDataUrl=function(T){var P=(T=T||"").split("base64,"),L=null;if(P.length===2){var G=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(P[0]);Array.isArray(G)&&(L={mimeType:G[1],charset:G[2],data:P[1]})}return L},B=n.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};n.__addimage__.isArrayBuffer=function(T){return B()&&T instanceof ArrayBuffer};var U=n.__addimage__.isArrayBufferView=function(T){return B()&&typeof Uint32Array<"u"&&(T instanceof Int8Array||T instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&T instanceof Uint8ClampedArray||T instanceof Int16Array||T instanceof Uint16Array||T instanceof Int32Array||T instanceof Uint32Array||T instanceof Float32Array||T instanceof Float64Array)},N=n.__addimage__.binaryStringToUint8Array=function(T){for(var P=T.length,L=new Uint8Array(P),G=0;G<P;G++)L[G]=T.charCodeAt(G);return L},A=n.__addimage__.arrayBufferToBinaryString=function(T){for(var P="",L=U(T)?T:new Uint8Array(T),G=0;G<L.length;G+=8192)P+=String.fromCharCode.apply(null,L.subarray(G,G+8192));return P};n.addImage=function(){var T,P,L,G,ue,ee,X,K,Y;if(typeof arguments[1]=="number"?(P=e,L=arguments[1],G=arguments[2],ue=arguments[3],ee=arguments[4],X=arguments[5],K=arguments[6],Y=arguments[7]):(P=arguments[1],L=arguments[2],G=arguments[3],ue=arguments[4],ee=arguments[5],X=arguments[6],K=arguments[7],Y=arguments[8]),Jt(T=arguments[0])==="object"&&!f(T)&&"imageData"in T){var oe=T;T=oe.imageData,P=oe.format||P||e,L=oe.x||L||0,G=oe.y||G||0,ue=oe.w||oe.width||ue,ee=oe.h||oe.height||ee,X=oe.alias||X,K=oe.compression||K,Y=oe.rotation||oe.angle||Y}var me=this.internal.getFilters();if(K===void 0&&me.indexOf("FlateEncode")!==-1&&(K="SLOW"),isNaN(L)||isNaN(G))throw new Error("Invalid coordinates passed to jsPDF.addImage");a.call(this);var M=C.call(this,T,P,X,K);return x.call(this,L,G,ue,ee,M,Y),this};var C=function(T,P,L,G){var ue,ee,X;if(typeof T=="string"&&r(T)===e){T=unescape(T);var K=D(T,!1);(K!==""||(K=n.loadFile(T,!0))!==void 0)&&(T=K)}if(f(T)&&(T=p(T,P)),P=r(T,P),!d(P))throw new Error("addImage does not support files of type '"+P+"', please ensure that a plugin for '"+P+"' support is added.");if(((X=L)==null||X.length===0)&&(L=function(Y){return typeof Y=="string"||U(Y)?b(Y):U(Y.data)?b(Y.data):null}(T)),(ue=g.call(this,L))||(B()&&(T instanceof Uint8Array||P==="RGBA"||(ee=T,T=N(T))),ue=this["process"+P.toUpperCase()](T,c.call(this),L,function(Y){return Y&&typeof Y=="string"&&(Y=Y.toUpperCase()),Y in n.image_compression?Y:_.NONE}(G),ee)),!ue)throw new Error("An unknown error occurred whilst processing the image.");return ue},D=n.__addimage__.convertBase64ToBinaryString=function(T,P){var L;P=typeof P!="boolean"||P;var G,ue="";if(typeof T=="string"){G=(L=F(T))!==null?L.data:T;try{ue=Yf(G)}catch(ee){if(P)throw E(G)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+ee.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return ue};n.getImageProperties=function(T){var P,L,G="";if(f(T)&&(T=p(T)),typeof T=="string"&&r(T)===e&&((G=D(T,!1))===""&&(G=n.loadFile(T)||""),T=G),L=r(T),!d(L))throw new Error("addImage does not support files of type '"+L+"', please ensure that a plugin for '"+L+"' support is added.");if(!B()||T instanceof Uint8Array||(T=N(T)),!(P=this["process"+L.toUpperCase()](T)))throw new Error("An unknown error occurred whilst processing the image");return P.fileType=L,P}})(ct.API),function(n){var e=function(t){if(t!==void 0&&t!="")return!0};ct.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),n.events.push(["putPage",function(t){for(var r,i,s,o=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(t.objId),c=t.pageContext.annotations,d=!1,f=0;f<c.length&&!d;f++)switch((r=c[f]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(d=!0);break;case"reference":case"text":case"freetext":d=!0}if(d!=0){this.internal.write("/Annots [");for(var p=0;p<c.length;p++){r=c[p];var g=this.internal.pdfEscape,S=this.internal.getEncryptor(t.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var x=this.internal.newAdditionalObject(),k=this.internal.newAdditionalObject(),_=this.internal.getEncryptor(x.objId),b=r.title||"Note";s="<</Type /Annot /Subtype /Text "+(i="/Rect ["+o(r.bounds.x)+" "+a(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y)+"] ")+"/Contents ("+g(_(r.contents))+")",s+=" /Popup "+k.objId+" 0 R",s+=" /P "+l.objId+" 0 R",s+=" /T ("+g(_(b))+") >>",x.content=s;var E=x.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+o(r.bounds.x+30)+" "+a(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w+30)+" "+a(r.bounds.y)+"] ")+" /Parent "+E,r.open&&(s+=" /Open true"),s+=" >>",k.content=s,this.internal.write(x.objId,"0 R",k.objId,"0 R");break;case"freetext":i="/Rect ["+o(r.bounds.x)+" "+a(r.bounds.y)+" "+o(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y+r.bounds.h)+"] ";var F=r.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+g(S(r.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+F+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(r.options.name){var B=this.annotations._nameMap[r.options.name];r.options.pageNumber=B.page,r.options.top=B.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",s="",r.options.url)s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+g(S(r.options.url))+") >>";else if(r.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,s+=" /FitV "+r.options.left+"]";break;case"XYZ":default:var U=a(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),s+=" /XYZ "+r.options.left+" "+U+" "+r.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),n.createAnnotation=function(t){var r=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":r.pageContext.annotations.push(t)}},n.link=function(t,r,i,s,o){var a=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString;a.pageContext.annotations.push({finalBounds:{x:l(t),y:c(r),w:l(t+i),h:c(r+s)},options:o,type:"link"})},n.textWithLink=function(t,r,i,s){var o,a,l=this.getTextWidth(t),c=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){a=s.maxWidth;var d=this.splitTextToSize(t,a).length;o=Math.ceil(c*d)}else a=l,o=c;return this.text(t,r,i,s),i+=.2*c,s.align==="center"&&(r-=l/2),s.align==="right"&&(r-=l),this.link(r,i-c,a,o,s),l},n.getTextWidth=function(t){var r=this.internal.getFontSize();return this.getStringUnitWidth(t)*r/this.internal.scaleFactor}}(ct.API),function(n){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];n.__arabicParser__={};var s=n.__arabicParser__.isInArabicSubstitutionA=function(x){return e[x.charCodeAt(0)]!==void 0},o=n.__arabicParser__.isArabicLetter=function(x){return typeof x=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(x)},a=n.__arabicParser__.isArabicEndLetter=function(x){return o(x)&&s(x)&&e[x.charCodeAt(0)].length<=2},l=n.__arabicParser__.isArabicAlfLetter=function(x){return o(x)&&i.indexOf(x.charCodeAt(0))>=0};n.__arabicParser__.arabicLetterHasIsolatedForm=function(x){return o(x)&&s(x)&&e[x.charCodeAt(0)].length>=1};var c=n.__arabicParser__.arabicLetterHasFinalForm=function(x){return o(x)&&s(x)&&e[x.charCodeAt(0)].length>=2};n.__arabicParser__.arabicLetterHasInitialForm=function(x){return o(x)&&s(x)&&e[x.charCodeAt(0)].length>=3};var d=n.__arabicParser__.arabicLetterHasMedialForm=function(x){return o(x)&&s(x)&&e[x.charCodeAt(0)].length==4},f=n.__arabicParser__.resolveLigatures=function(x){var k=0,_=t,b="",E=0;for(k=0;k<x.length;k+=1)_[x.charCodeAt(k)]!==void 0?(E++,typeof(_=_[x.charCodeAt(k)])=="number"&&(b+=String.fromCharCode(_),_=t,E=0),k===x.length-1&&(_=t,b+=x.charAt(k-(E-1)),k-=E-1,E=0)):(_=t,b+=x.charAt(k-E),k-=E,E=0);return b};n.__arabicParser__.isArabicDiacritic=function(x){return x!==void 0&&r[x.charCodeAt(0)]!==void 0};var p=n.__arabicParser__.getCorrectForm=function(x,k,_){return o(x)?s(x)===!1?-1:!c(x)||!o(k)&&!o(_)||!o(_)&&a(k)||a(x)&&!o(k)||a(x)&&l(k)||a(x)&&a(k)?0:d(x)&&o(k)&&!a(k)&&o(_)&&c(_)?3:a(x)||!o(_)?1:2:-1},g=function(x){var k=0,_=0,b=0,E="",F="",B="",U=(x=x||"").split("\\s+"),N=[];for(k=0;k<U.length;k+=1){for(N.push(""),_=0;_<U[k].length;_+=1)E=U[k][_],F=U[k][_-1],B=U[k][_+1],o(E)?(b=p(E,F,B),N[k]+=b!==-1?String.fromCharCode(e[E.charCodeAt(0)][b]):E):N[k]+=E;N[k]=f(N[k])}return N.join(" ")},S=n.__arabicParser__.processArabic=n.processArabic=function(){var x,k=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,_=[];if(Array.isArray(k)){var b=0;for(_=[],b=0;b<k.length;b+=1)Array.isArray(k[b])?_.push([g(k[b][0]),k[b][1],k[b][2]]):_.push([g(k[b])]);x=_}else x=g(k);return typeof arguments[0]=="string"?x:(arguments[0].text=x,arguments[0])};n.events.push(["preProcessText",S])}(ct.API),ct.API.autoPrint=function(n){var e;switch((n=n||{}).variant=n.variant||"non-conform",n.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})}return this},function(n){var e=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(a){t=a}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(a){r=isNaN(a)||Number.isInteger(a)===!1||a<0?150:a,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(a){i=isNaN(a)||Number.isInteger(a)===!1||a<0?300:a,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(a){s=a}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(a){o=a}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(t,r){var i;if((t=t||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},n.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(ct.API),function(n){var e={left:0,top:0,bottom:0,right:0},t=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(x){l=x}});var c=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return c},set:function(x){c=x}});var d=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return d},set:function(x){d=x}});var f=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return f},set:function(x){f=x}});var p=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return p},set:function(x){p=x}});var g=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return g},set:function(x){g=x}});var S=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return S},set:function(x){S=x}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},n.setHeaderFunction=function(l){return r.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},n.getTextDimensions=function(l,c){r.call(this);var d=(c=c||{}).fontSize||this.getFontSize(),f=c.font||this.getFont(),p=c.scaleFactor||this.internal.scaleFactor,g=0,S=0,x=0,k=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var _=c.maxWidth;_>0?typeof l=="string"?l=this.splitTextToSize(l,_):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(E,F){return E.concat(k.splitTextToSize(F,_))},[])):l=Array.isArray(l)?l:[l];for(var b=0;b<l.length;b++)g<(x=this.getStringUnitWidth(l[b],{font:f})*d)&&(g=x);return g!==0&&(S=l.length),{w:g/=p,h:Math.max((S*d*this.getLineHeightFactor()-d*(this.getLineHeightFactor()-1))/p,0)}},n.cellAddPage=function(){r.call(this),this.addPage();var l=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new s(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=n.cell=function(){var l;l=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var c=this.internal.__cell__.lastCell,d=this.internal.__cell__.padding,f=this.internal.__cell__.margins||e,p=this.internal.__cell__.tableHeaderRow,g=this.internal.__cell__.printHeaders;return c.lineNumber!==void 0&&(c.lineNumber===l.lineNumber?(l.x=(c.x||0)+(c.width||0),l.y=c.y||0):c.y+c.height+l.height+f.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=f.top,g&&p&&(this.printHeaderRow(l.lineNumber,!0),l.y+=p[0].height)):l.y=c.y+c.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,t===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-d,l.y+d,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+d,{align:"center",baseline:"top",maxWidth:l.width-d-d}):this.text(l.text,l.x+d,l.y+d,{align:"left",baseline:"top",maxWidth:l.width-d-d})),this.internal.__cell__.lastCell=l,this};n.table=function(l,c,d,f,p){if(r.call(this),!d)throw new Error("No data for PDF table.");var g,S,x,k,_=[],b=[],E=[],F={},B={},U=[],N=[],A=(p=p||{}).autoSize||!1,C=p.printHeaders!==!1,D=p.css&&p.css["font-size"]!==void 0?16*p.css["font-size"]:p.fontSize||12,T=p.margins||Object.assign({width:this.getPageWidth()},e),P=typeof p.padding=="number"?p.padding:3,L=p.headerBackgroundColor||"#c8c8c8",G=p.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=C,this.internal.__cell__.margins=T,this.internal.__cell__.table_font_size=D,this.internal.__cell__.padding=P,this.internal.__cell__.headerBackgroundColor=L,this.internal.__cell__.headerTextColor=G,this.setFontSize(D),f==null)b=_=Object.keys(d[0]),E=_.map(function(){return"left"});else if(Array.isArray(f)&&Jt(f[0])==="object")for(_=f.map(function(oe){return oe.name}),b=f.map(function(oe){return oe.prompt||oe.name||""}),E=f.map(function(oe){return oe.align||"left"}),g=0;g<f.length;g+=1)B[f[g].name]=f[g].width*(19.049976/25.4);else Array.isArray(f)&&typeof f[0]=="string"&&(b=_=f,E=_.map(function(){return"left"}));if(A||Array.isArray(f)&&typeof f[0]=="string")for(g=0;g<_.length;g+=1){for(F[k=_[g]]=d.map(function(oe){return oe[k]}),this.setFont(void 0,"bold"),U.push(this.getTextDimensions(b[g],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),S=F[k],this.setFont(void 0,"normal"),x=0;x<S.length;x+=1)U.push(this.getTextDimensions(S[x],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);B[k]=Math.max.apply(null,U)+P+P,U=[]}if(C){var ue={};for(g=0;g<_.length;g+=1)ue[_[g]]={},ue[_[g]].text=b[g],ue[_[g]].align=E[g];var ee=a.call(this,ue,B);N=_.map(function(oe){return new s(l,c,B[oe],ee,ue[oe].text,void 0,ue[oe].align)}),this.setTableHeaderRow(N),this.printHeaderRow(1,!1)}var X=f.reduce(function(oe,me){return oe[me.name]=me.align,oe},{});for(g=0;g<d.length;g+=1){"rowStart"in p&&p.rowStart instanceof Function&&p.rowStart({row:g,data:d[g]},this);var K=a.call(this,d[g],B);for(x=0;x<_.length;x+=1){var Y=d[g][_[x]];"cellStart"in p&&p.cellStart instanceof Function&&p.cellStart({row:g,col:x,data:Y},this),o.call(this,new s(l,c,B[_[x]],K,Y,g+2,X[_[x]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=c,this};var a=function(l,c){var d=this.internal.__cell__.padding,f=this.internal.__cell__.table_font_size,p=this.internal.scaleFactor;return Object.keys(l).map(function(g){var S=l[g];return this.splitTextToSize(S.hasOwnProperty("text")?S.text:S,c[g]-d-d)},this).map(function(g){return this.getLineHeightFactor()*g.length*f/p+d+d},this).reduce(function(g,S){return Math.max(g,S)},0)};n.setTableHeaderRow=function(l){r.call(this),this.internal.__cell__.tableHeaderRow=l},n.printHeaderRow=function(l,c){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var d;if(t=!0,typeof this.internal.__cell__.headerFunction=="function"){var f=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(f[0],f[1],f[2],f[3],void 0,-1)}this.setFont(void 0,"bold");for(var p=[],g=0;g<this.internal.__cell__.tableHeaderRow.length;g+=1){d=this.internal.__cell__.tableHeaderRow[g].clone(),c&&(d.y=this.internal.__cell__.margins.top||0,p.push(d)),d.lineNumber=l;var S=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,d),this.setTextColor(S)}p.length>0&&this.setTableHeaderRow(p),this.setFont(void 0,"normal"),t=!1}}(ct.API);var sP={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},oP=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Y2=iP(oP),aP=[100,200,300,400,500,600,700,800,900],xO=iP(aP);function J2(n){var e=n.family.replace(/"|'/g,"").toLowerCase(),t=function(s){return sP[s=s||"normal"]?s:"normal"}(n.style),r=function(s){if(!s)return 400;if(typeof s=="number")return s>=100&&s<=900&&s%100==0?s:400;if(/^\d00$/.test(s))return parseInt(s);switch(s){case"bold":return 700;case"normal":default:return 400}}(n.weight),i=function(s){return typeof Y2[s=s||"normal"]=="number"?s:"normal"}(n.stretch);return{family:e,style:t,weight:r,stretch:i,src:n.src||[],ref:n.ref||{name:e,style:[i,t,r].join(" ")}}}function OE(n,e,t,r){var i;for(i=t;i>=0&&i<e.length;i+=r)if(n[e[i]])return n[e[i]];for(i=t;i>=0&&i<e.length;i-=r)if(n[e[i]])return n[e[i]]}var PO={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},FE={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function ME(n){return[n.stretch,n.style,n.weight,n.family].join(" ")}function NO(n,e,t){for(var r=(t=t||{}).defaultFontFamily||"times",i=Object.assign({},PO,t.genericFontFamilies||{}),s=null,o=null,a=0;a<e.length;++a)if(i[(s=J2(e[a])).family]&&(s.family=i[s.family]),n.hasOwnProperty(s.family)){o=n[s.family];break}if(!(o=o||n[r]))throw new Error("Could not find a font-family for the rule '"+ME(s)+"' and default family '"+r+"'.");if(o=function(l,c){if(c[l])return c[l];var d=Y2[l],f=d<=Y2.normal?-1:1,p=OE(c,oP,d,f);if(!p)throw new Error("Could not find a matching font-stretch value for "+l);return p}(s.stretch,o),o=function(l,c){if(c[l])return c[l];for(var d=sP[l],f=0;f<d.length;++f)if(c[d[f]])return c[d[f]];throw new Error("Could not find a matching font-style for "+l)}(s.style,o),!(o=function(l,c){if(c[l])return c[l];if(l===400&&c[500])return c[500];if(l===500&&c[400])return c[400];var d=xO[l],f=OE(c,aP,d,l<400?-1:1);if(!f)throw new Error("Could not find a matching font-weight for value "+l);return f}(s.weight,o)))throw new Error("Failed to resolve a font for the rule '"+ME(s)+"'.");return o}function VE(n){return n.trimLeft()}function CO(n,e){for(var t=0;t<n.length;){if(n.charAt(t)===e)return[n.substring(0,t),n.substring(t+1)];t+=1}return null}function kO(n){var e=n.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],n.substring(e[0].length)]}var Pg,jE,BE,bv=["times"];(function(n){var e,t,r,i,s,o,a,l,c,d=function(M){return M=M||{},this.isStrokeTransparent=M.isStrokeTransparent||!1,this.strokeOpacity=M.strokeOpacity||1,this.strokeStyle=M.strokeStyle||"#000000",this.fillStyle=M.fillStyle||"#000000",this.isFillTransparent=M.isFillTransparent||!1,this.fillOpacity=M.fillOpacity||1,this.font=M.font||"10px sans-serif",this.textBaseline=M.textBaseline||"alphabetic",this.textAlign=M.textAlign||"left",this.lineWidth=M.lineWidth||1,this.lineJoin=M.lineJoin||"miter",this.lineCap=M.lineCap||"butt",this.path=M.path||[],this.transform=M.transform!==void 0?M.transform.clone():new l,this.globalCompositeOperation=M.globalCompositeOperation||"normal",this.globalAlpha=M.globalAlpha||1,this.clip_path=M.clip_path||[],this.currentPoint=M.currentPoint||new o,this.miterLimit=M.miterLimit||10,this.lastPoint=M.lastPoint||new o,this.lineDashOffset=M.lineDashOffset||0,this.lineDash=M.lineDash||[],this.margin=M.margin||[0,0,0,0],this.prevPageLastElemOffset=M.prevPageLastElemOffset||0,this.ignoreClearRect=typeof M.ignoreClearRect!="boolean"||M.ignoreClearRect,this};n.events.push(["initialized",function(){this.context2d=new f(this),e=this.internal.f2,t=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,o=this.internal.Point,a=this.internal.Rectangle,l=this.internal.Matrix,c=new d}]);var f=function(M){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var W=M;Object.defineProperty(this,"pdf",{get:function(){return W}});var Q=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return Q},set:function(Ee){Q=!!Ee}});var te=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return te},set:function(Ee){te=!!Ee}});var ne=0;Object.defineProperty(this,"posX",{get:function(){return ne},set:function(Ee){isNaN(Ee)||(ne=Ee)}});var he=0;Object.defineProperty(this,"posY",{get:function(){return he},set:function(Ee){isNaN(Ee)||(he=Ee)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(Ee){var ie;typeof Ee=="number"?ie=[Ee,Ee,Ee,Ee]:((ie=new Array(4))[0]=Ee[0],ie[1]=Ee.length>=2?Ee[1]:ie[0],ie[2]=Ee.length>=3?Ee[2]:ie[0],ie[3]=Ee.length>=4?Ee[3]:ie[1]),c.margin=ie}});var fe=!1;Object.defineProperty(this,"autoPaging",{get:function(){return fe},set:function(Ee){fe=Ee}});var ge=0;Object.defineProperty(this,"lastBreak",{get:function(){return ge},set:function(Ee){ge=Ee}});var Ce=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Ce},set:function(Ee){Ce=Ee}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(Ee){Ee instanceof d&&(c=Ee)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(Ee){c.path=Ee}});var Re=[];Object.defineProperty(this,"ctxStack",{get:function(){return Re},set:function(Ee){Re=Ee}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Ee){var ie;ie=p(Ee),this.ctx.fillStyle=ie.style,this.ctx.isFillTransparent=ie.a===0,this.ctx.fillOpacity=ie.a,this.pdf.setFillColor(ie.r,ie.g,ie.b,{a:ie.a}),this.pdf.setTextColor(ie.r,ie.g,ie.b,{a:ie.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Ee){var ie=p(Ee);this.ctx.strokeStyle=ie.style,this.ctx.isStrokeTransparent=ie.a===0,this.ctx.strokeOpacity=ie.a,ie.a===0?this.pdf.setDrawColor(255,255,255):(ie.a,this.pdf.setDrawColor(ie.r,ie.g,ie.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Ee){["butt","round","square"].indexOf(Ee)!==-1&&(this.ctx.lineCap=Ee,this.pdf.setLineCap(Ee))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Ee){isNaN(Ee)||(this.ctx.lineWidth=Ee,this.pdf.setLineWidth(Ee))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Ee){["bevel","round","miter"].indexOf(Ee)!==-1&&(this.ctx.lineJoin=Ee,this.pdf.setLineJoin(Ee))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Ee){isNaN(Ee)||(this.ctx.miterLimit=Ee,this.pdf.setMiterLimit(Ee))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Ee){this.ctx.textBaseline=Ee}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Ee){["right","end","center","left","start"].indexOf(Ee)!==-1&&(this.ctx.textAlign=Ee)}});var Ue=null;function ze(Ee,ie){if(Ue===null){var Ve=function(Ze){var Le=[];return Object.keys(Ze).forEach(function(De){Ze[De].forEach(function(je){var qe=null;switch(je){case"bold":qe={family:De,weight:"bold"};break;case"italic":qe={family:De,style:"italic"};break;case"bolditalic":qe={family:De,weight:"bold",style:"italic"};break;case"":case"normal":qe={family:De}}qe!==null&&(qe.ref={name:De,style:je},Le.push(qe))})}),Le}(Ee.getFontList());Ue=function(Ze){for(var Le={},De=0;De<Ze.length;++De){var je=J2(Ze[De]),qe=je.family,st=je.stretch,mt=je.style,It=je.weight;Le[qe]=Le[qe]||{},Le[qe][st]=Le[qe][st]||{},Le[qe][st][mt]=Le[qe][st][mt]||{},Le[qe][st][mt][It]=je}return Le}(Ve.concat(ie))}return Ue}var at=null;Object.defineProperty(this,"fontFaces",{get:function(){return at},set:function(Ee){Ue=null,at=Ee}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Ee){var ie;if(this.ctx.font=Ee,(ie=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Ee))!==null){var Ve=ie[1],Ze=(ie[2],ie[3]),Le=ie[4],De=(ie[5],ie[6]),je=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Le)[2];Le=Math.floor(je==="px"?parseFloat(Le)*this.pdf.internal.scaleFactor:je==="em"?parseFloat(Le)*this.pdf.getFontSize():parseFloat(Le)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Le);var qe=function(ht){var xt,Ke,ln=[],Ct=ht.trim();if(Ct==="")return bv;if(Ct in FE)return[FE[Ct]];for(;Ct!=="";){switch(Ke=null,xt=(Ct=VE(Ct)).charAt(0)){case'"':case"'":Ke=CO(Ct.substring(1),xt);break;default:Ke=kO(Ct)}if(Ke===null||(ln.push(Ke[0]),(Ct=VE(Ke[1]))!==""&&Ct.charAt(0)!==","))return bv;Ct=Ct.replace(/^,/,"")}return ln}(De);if(this.fontFaces){var st=NO(ze(this.pdf,this.fontFaces),qe.map(function(ht){return{family:ht,stretch:"normal",weight:Ze,style:Ve}}));this.pdf.setFont(st.ref.name,st.ref.style)}else{var mt="";(Ze==="bold"||parseInt(Ze,10)>=700||Ve==="bold")&&(mt="bold"),Ve==="italic"&&(mt+="italic"),mt.length===0&&(mt="normal");for(var It="",_t={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Pt=0;Pt<qe.length;Pt++){if(this.pdf.internal.getFont(qe[Pt],mt,{noFallback:!0,disableWarning:!0})!==void 0){It=qe[Pt];break}if(mt==="bolditalic"&&this.pdf.internal.getFont(qe[Pt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)It=qe[Pt],mt="bold";else if(this.pdf.internal.getFont(qe[Pt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){It=qe[Pt],mt="normal";break}}if(It===""){for(var Vt=0;Vt<qe.length;Vt++)if(_t[qe[Vt]]){It=_t[qe[Vt]];break}}It=It===""?"Times":It,this.pdf.setFont(It,mt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Ee){this.ctx.globalCompositeOperation=Ee}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Ee){this.ctx.globalAlpha=Ee}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Ee){this.ctx.lineDashOffset=Ee,me.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Ee){this.ctx.lineDash=Ee,me.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Ee){this.ctx.ignoreClearRect=!!Ee}})};f.prototype.setLineDash=function(M){this.lineDash=M},f.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},f.prototype.fill=function(){F.call(this,"fill",!1)},f.prototype.stroke=function(){F.call(this,"stroke",!1)},f.prototype.beginPath=function(){this.path=[{type:"begin"}]},f.prototype.moveTo=function(M,W){if(isNaN(M)||isNaN(W))throw an.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var Q=this.ctx.transform.applyToPoint(new o(M,W));this.path.push({type:"mt",x:Q.x,y:Q.y}),this.ctx.lastPoint=new o(M,W)},f.prototype.closePath=function(){var M=new o(0,0),W=0;for(W=this.path.length-1;W!==-1;W--)if(this.path[W].type==="begin"&&Jt(this.path[W+1])==="object"&&typeof this.path[W+1].x=="number"){M=new o(this.path[W+1].x,this.path[W+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(M.x,M.y)},f.prototype.lineTo=function(M,W){if(isNaN(M)||isNaN(W))throw an.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var Q=this.ctx.transform.applyToPoint(new o(M,W));this.path.push({type:"lt",x:Q.x,y:Q.y}),this.ctx.lastPoint=new o(Q.x,Q.y)},f.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),F.call(this,null,!0)},f.prototype.quadraticCurveTo=function(M,W,Q,te){if(isNaN(Q)||isNaN(te)||isNaN(M)||isNaN(W))throw an.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ne=this.ctx.transform.applyToPoint(new o(Q,te)),he=this.ctx.transform.applyToPoint(new o(M,W));this.path.push({type:"qct",x1:he.x,y1:he.y,x:ne.x,y:ne.y}),this.ctx.lastPoint=new o(ne.x,ne.y)},f.prototype.bezierCurveTo=function(M,W,Q,te,ne,he){if(isNaN(ne)||isNaN(he)||isNaN(M)||isNaN(W)||isNaN(Q)||isNaN(te))throw an.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var fe=this.ctx.transform.applyToPoint(new o(ne,he)),ge=this.ctx.transform.applyToPoint(new o(M,W)),Ce=this.ctx.transform.applyToPoint(new o(Q,te));this.path.push({type:"bct",x1:ge.x,y1:ge.y,x2:Ce.x,y2:Ce.y,x:fe.x,y:fe.y}),this.ctx.lastPoint=new o(fe.x,fe.y)},f.prototype.arc=function(M,W,Q,te,ne,he){if(isNaN(M)||isNaN(W)||isNaN(Q)||isNaN(te)||isNaN(ne))throw an.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(he=!!he,!this.ctx.transform.isIdentity){var fe=this.ctx.transform.applyToPoint(new o(M,W));M=fe.x,W=fe.y;var ge=this.ctx.transform.applyToPoint(new o(0,Q)),Ce=this.ctx.transform.applyToPoint(new o(0,0));Q=Math.sqrt(Math.pow(ge.x-Ce.x,2)+Math.pow(ge.y-Ce.y,2))}Math.abs(ne-te)>=2*Math.PI&&(te=0,ne=2*Math.PI),this.path.push({type:"arc",x:M,y:W,radius:Q,startAngle:te,endAngle:ne,counterclockwise:he})},f.prototype.arcTo=function(M,W,Q,te,ne){throw new Error("arcTo not implemented.")},f.prototype.rect=function(M,W,Q,te){if(isNaN(M)||isNaN(W)||isNaN(Q)||isNaN(te))throw an.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(M,W),this.lineTo(M+Q,W),this.lineTo(M+Q,W+te),this.lineTo(M,W+te),this.lineTo(M,W),this.lineTo(M+Q,W),this.lineTo(M,W)},f.prototype.fillRect=function(M,W,Q,te){if(isNaN(M)||isNaN(W)||isNaN(Q)||isNaN(te))throw an.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!g.call(this)){var ne={};this.lineCap!=="butt"&&(ne.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ne.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(M,W,Q,te),this.fill(),ne.hasOwnProperty("lineCap")&&(this.lineCap=ne.lineCap),ne.hasOwnProperty("lineJoin")&&(this.lineJoin=ne.lineJoin)}},f.prototype.strokeRect=function(M,W,Q,te){if(isNaN(M)||isNaN(W)||isNaN(Q)||isNaN(te))throw an.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");S.call(this)||(this.beginPath(),this.rect(M,W,Q,te),this.stroke())},f.prototype.clearRect=function(M,W,Q,te){if(isNaN(M)||isNaN(W)||isNaN(Q)||isNaN(te))throw an.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(M,W,Q,te))},f.prototype.save=function(M){M=typeof M!="boolean"||M;for(var W=this.pdf.internal.getCurrentPageInfo().pageNumber,Q=0;Q<this.pdf.internal.getNumberOfPages();Q++)this.pdf.setPage(Q+1),this.pdf.internal.out("q");if(this.pdf.setPage(W),M){this.ctx.fontSize=this.pdf.internal.getFontSize();var te=new d(this.ctx);this.ctxStack.push(this.ctx),this.ctx=te}},f.prototype.restore=function(M){M=typeof M!="boolean"||M;for(var W=this.pdf.internal.getCurrentPageInfo().pageNumber,Q=0;Q<this.pdf.internal.getNumberOfPages();Q++)this.pdf.setPage(Q+1),this.pdf.internal.out("Q");this.pdf.setPage(W),M&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},f.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var p=function(M){var W,Q,te,ne;if(M.isCanvasGradient===!0&&(M=M.getColor()),!M)return{r:0,g:0,b:0,a:0,style:M};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(M))W=0,Q=0,te=0,ne=0;else{var he=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(M);if(he!==null)W=parseInt(he[1]),Q=parseInt(he[2]),te=parseInt(he[3]),ne=1;else if((he=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(M))!==null)W=parseInt(he[1]),Q=parseInt(he[2]),te=parseInt(he[3]),ne=parseFloat(he[4]);else{if(ne=1,typeof M=="string"&&M.charAt(0)!=="#"){var fe=new X4(M);M=fe.ok?fe.toHex():"#000000"}M.length===4?(W=M.substring(1,2),W+=W,Q=M.substring(2,3),Q+=Q,te=M.substring(3,4),te+=te):(W=M.substring(1,3),Q=M.substring(3,5),te=M.substring(5,7)),W=parseInt(W,16),Q=parseInt(Q,16),te=parseInt(te,16)}}return{r:W,g:Q,b:te,a:ne,style:M}},g=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},S=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};f.prototype.fillText=function(M,W,Q,te){if(isNaN(W)||isNaN(Q)||typeof M!="string")throw an.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(te=isNaN(te)?void 0:te,!g.call(this)){var ne=K(this.ctx.transform.rotation),he=this.ctx.transform.scaleX;P.call(this,{text:M,x:W,y:Q,scale:he,angle:ne,align:this.textAlign,maxWidth:te})}},f.prototype.strokeText=function(M,W,Q,te){if(isNaN(W)||isNaN(Q)||typeof M!="string")throw an.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!S.call(this)){te=isNaN(te)?void 0:te;var ne=K(this.ctx.transform.rotation),he=this.ctx.transform.scaleX;P.call(this,{text:M,x:W,y:Q,scale:he,renderingMode:"stroke",angle:ne,align:this.textAlign,maxWidth:te})}},f.prototype.measureText=function(M){if(typeof M!="string")throw an.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var W=this.pdf,Q=this.pdf.internal.scaleFactor,te=W.internal.getFontSize(),ne=W.getStringUnitWidth(M)*te/W.internal.scaleFactor,he=function(fe){var ge=(fe=fe||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ge}}),this};return new he({width:ne*=Math.round(96*Q/72*1e4)/1e4})},f.prototype.scale=function(M,W){if(isNaN(M)||isNaN(W))throw an.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var Q=new l(M,0,0,W,0,0);this.ctx.transform=this.ctx.transform.multiply(Q)},f.prototype.rotate=function(M){if(isNaN(M))throw an.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var W=new l(Math.cos(M),Math.sin(M),-Math.sin(M),Math.cos(M),0,0);this.ctx.transform=this.ctx.transform.multiply(W)},f.prototype.translate=function(M,W){if(isNaN(M)||isNaN(W))throw an.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var Q=new l(1,0,0,1,M,W);this.ctx.transform=this.ctx.transform.multiply(Q)},f.prototype.transform=function(M,W,Q,te,ne,he){if(isNaN(M)||isNaN(W)||isNaN(Q)||isNaN(te)||isNaN(ne)||isNaN(he))throw an.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var fe=new l(M,W,Q,te,ne,he);this.ctx.transform=this.ctx.transform.multiply(fe)},f.prototype.setTransform=function(M,W,Q,te,ne,he){M=isNaN(M)?1:M,W=isNaN(W)?0:W,Q=isNaN(Q)?0:Q,te=isNaN(te)?1:te,ne=isNaN(ne)?0:ne,he=isNaN(he)?0:he,this.ctx.transform=new l(M,W,Q,te,ne,he)};var x=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};f.prototype.drawImage=function(M,W,Q,te,ne,he,fe,ge,Ce){var Re=this.pdf.getImageProperties(M),Ue=1,ze=1,at=1,Ee=1;te!==void 0&&ge!==void 0&&(at=ge/te,Ee=Ce/ne,Ue=Re.width/te*ge/te,ze=Re.height/ne*Ce/ne),he===void 0&&(he=W,fe=Q,W=0,Q=0),te!==void 0&&ge===void 0&&(ge=te,Ce=ne),te===void 0&&ge===void 0&&(ge=Re.width,Ce=Re.height);for(var ie,Ve=this.ctx.transform.decompose(),Ze=K(Ve.rotate.shx),Le=new l,De=(Le=(Le=(Le=Le.multiply(Ve.translate)).multiply(Ve.skew)).multiply(Ve.scale)).applyToRectangle(new a(he-W*at,fe-Q*Ee,te*Ue,ne*ze)),je=k.call(this,De),qe=[],st=0;st<je.length;st+=1)qe.indexOf(je[st])===-1&&qe.push(je[st]);if(E(qe),this.autoPaging)for(var mt=qe[0],It=qe[qe.length-1],_t=mt;_t<It+1;_t++){this.pdf.setPage(_t);var Pt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Vt=_t===1?this.posY+this.margin[0]:this.margin[0],ht=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],xt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ke=_t===1?0:ht+(_t-2)*xt;if(this.ctx.clip_path.length!==0){var ln=this.path;ie=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(ie,this.posX+this.margin[3],-Ke+Vt+this.ctx.prevPageLastElemOffset),B.call(this,"fill",!0),this.path=ln}var Ct=JSON.parse(JSON.stringify(De));Ct=b([Ct],this.posX+this.margin[3],-Ke+Vt+this.ctx.prevPageLastElemOffset)[0];var ir=(_t>mt||_t<It)&&x.call(this);ir&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Pt,xt,null).clip().discardPath()),this.pdf.addImage(M,"JPEG",Ct.x,Ct.y,Ct.w,Ct.h,null,null,Ze),ir&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(M,"JPEG",De.x,De.y,De.w,De.h,null,null,Ze)};var k=function(M,W,Q){var te=[];W=W||this.pdf.internal.pageSize.width,Q=Q||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ne=this.posY+this.ctx.prevPageLastElemOffset;switch(M.type){default:case"mt":case"lt":te.push(Math.floor((M.y+ne)/Q)+1);break;case"arc":te.push(Math.floor((M.y+ne-M.radius)/Q)+1),te.push(Math.floor((M.y+ne+M.radius)/Q)+1);break;case"qct":var he=Y(this.ctx.lastPoint.x,this.ctx.lastPoint.y,M.x1,M.y1,M.x,M.y);te.push(Math.floor((he.y+ne)/Q)+1),te.push(Math.floor((he.y+he.h+ne)/Q)+1);break;case"bct":var fe=oe(this.ctx.lastPoint.x,this.ctx.lastPoint.y,M.x1,M.y1,M.x2,M.y2,M.x,M.y);te.push(Math.floor((fe.y+ne)/Q)+1),te.push(Math.floor((fe.y+fe.h+ne)/Q)+1);break;case"rect":te.push(Math.floor((M.y+ne)/Q)+1),te.push(Math.floor((M.y+M.h+ne)/Q)+1)}for(var ge=0;ge<te.length;ge+=1)for(;this.pdf.internal.getNumberOfPages()<te[ge];)_.call(this);return te},_=function(){var M=this.fillStyle,W=this.strokeStyle,Q=this.font,te=this.lineCap,ne=this.lineWidth,he=this.lineJoin;this.pdf.addPage(),this.fillStyle=M,this.strokeStyle=W,this.font=Q,this.lineCap=te,this.lineWidth=ne,this.lineJoin=he},b=function(M,W,Q){for(var te=0;te<M.length;te++)switch(M[te].type){case"bct":M[te].x2+=W,M[te].y2+=Q;case"qct":M[te].x1+=W,M[te].y1+=Q;case"mt":case"lt":case"arc":default:M[te].x+=W,M[te].y+=Q}return M},E=function(M){return M.sort(function(W,Q){return W-Q})},F=function(M,W){for(var Q,te,ne=this.fillStyle,he=this.strokeStyle,fe=this.lineCap,ge=this.lineWidth,Ce=Math.abs(ge*this.ctx.transform.scaleX),Re=this.lineJoin,Ue=JSON.parse(JSON.stringify(this.path)),ze=JSON.parse(JSON.stringify(this.path)),at=[],Ee=0;Ee<ze.length;Ee++)if(ze[Ee].x!==void 0)for(var ie=k.call(this,ze[Ee]),Ve=0;Ve<ie.length;Ve+=1)at.indexOf(ie[Ve])===-1&&at.push(ie[Ve]);for(var Ze=0;Ze<at.length;Ze++)for(;this.pdf.internal.getNumberOfPages()<at[Ze];)_.call(this);if(E(at),this.autoPaging)for(var Le=at[0],De=at[at.length-1],je=Le;je<De+1;je++){this.pdf.setPage(je),this.fillStyle=ne,this.strokeStyle=he,this.lineCap=fe,this.lineWidth=Ce,this.lineJoin=Re;var qe=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],st=je===1?this.posY+this.margin[0]:this.margin[0],mt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],It=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],_t=je===1?0:mt+(je-2)*It;if(this.ctx.clip_path.length!==0){var Pt=this.path;Q=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(Q,this.posX+this.margin[3],-_t+st+this.ctx.prevPageLastElemOffset),B.call(this,M,!0),this.path=Pt}if(te=JSON.parse(JSON.stringify(Ue)),this.path=b(te,this.posX+this.margin[3],-_t+st+this.ctx.prevPageLastElemOffset),W===!1||je===0){var Vt=(je>Le||je<De)&&x.call(this);Vt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],qe,It,null).clip().discardPath()),B.call(this,M,W),Vt&&this.pdf.restoreGraphicsState()}this.lineWidth=ge}else this.lineWidth=Ce,B.call(this,M,W),this.lineWidth=ge;this.path=Ue},B=function(M,W){if((M!=="stroke"||W||!S.call(this))&&(M==="stroke"||W||!g.call(this))){for(var Q,te,ne=[],he=this.path,fe=0;fe<he.length;fe++){var ge=he[fe];switch(ge.type){case"begin":ne.push({begin:!0});break;case"close":ne.push({close:!0});break;case"mt":ne.push({start:ge,deltas:[],abs:[]});break;case"lt":var Ce=ne.length;if(he[fe-1]&&!isNaN(he[fe-1].x)&&(Q=[ge.x-he[fe-1].x,ge.y-he[fe-1].y],Ce>0)){for(;Ce>=0;Ce--)if(ne[Ce-1].close!==!0&&ne[Ce-1].begin!==!0){ne[Ce-1].deltas.push(Q),ne[Ce-1].abs.push(ge);break}}break;case"bct":Q=[ge.x1-he[fe-1].x,ge.y1-he[fe-1].y,ge.x2-he[fe-1].x,ge.y2-he[fe-1].y,ge.x-he[fe-1].x,ge.y-he[fe-1].y],ne[ne.length-1].deltas.push(Q);break;case"qct":var Re=he[fe-1].x+2/3*(ge.x1-he[fe-1].x),Ue=he[fe-1].y+2/3*(ge.y1-he[fe-1].y),ze=ge.x+2/3*(ge.x1-ge.x),at=ge.y+2/3*(ge.y1-ge.y),Ee=ge.x,ie=ge.y;Q=[Re-he[fe-1].x,Ue-he[fe-1].y,ze-he[fe-1].x,at-he[fe-1].y,Ee-he[fe-1].x,ie-he[fe-1].y],ne[ne.length-1].deltas.push(Q);break;case"arc":ne.push({deltas:[],abs:[],arc:!0}),Array.isArray(ne[ne.length-1].abs)&&ne[ne.length-1].abs.push(ge)}}te=W?null:M==="stroke"?"stroke":"fill";for(var Ve=!1,Ze=0;Ze<ne.length;Ze++)if(ne[Ze].arc)for(var Le=ne[Ze].abs,De=0;De<Le.length;De++){var je=Le[De];je.type==="arc"?A.call(this,je.x,je.y,je.radius,je.startAngle,je.endAngle,je.counterclockwise,void 0,W,!Ve):L.call(this,je.x,je.y),Ve=!0}else if(ne[Ze].close===!0)this.pdf.internal.out("h"),Ve=!1;else if(ne[Ze].begin!==!0){var qe=ne[Ze].start.x,st=ne[Ze].start.y;G.call(this,ne[Ze].deltas,qe,st),Ve=!0}te&&C.call(this,te),W&&D.call(this)}},U=function(M){var W=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,Q=W*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return M-Q;case"top":return M+W-Q;case"hanging":return M+W-2*Q;case"middle":return M+W/2-Q;case"ideographic":return M;case"alphabetic":default:return M}},N=function(M){return M+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};f.prototype.createLinearGradient=function(){var M=function(){};return M.colorStops=[],M.addColorStop=function(W,Q){this.colorStops.push([W,Q])},M.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},M.isCanvasGradient=!0,M},f.prototype.createPattern=function(){return this.createLinearGradient()},f.prototype.createRadialGradient=function(){return this.createLinearGradient()};var A=function(M,W,Q,te,ne,he,fe,ge,Ce){for(var Re=ee.call(this,Q,te,ne,he),Ue=0;Ue<Re.length;Ue++){var ze=Re[Ue];Ue===0&&(Ce?T.call(this,ze.x1+M,ze.y1+W):L.call(this,ze.x1+M,ze.y1+W)),ue.call(this,M,W,ze.x2,ze.y2,ze.x3,ze.y3,ze.x4,ze.y4)}ge?D.call(this):C.call(this,fe)},C=function(M){switch(M){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},D=function(){this.pdf.clip(),this.pdf.discardPath()},T=function(M,W){this.pdf.internal.out(t(M)+" "+r(W)+" m")},P=function(M){var W;switch(M.align){case"right":case"end":W="right";break;case"center":W="center";break;case"left":case"start":default:W="left"}var Q=this.pdf.getTextDimensions(M.text),te=U.call(this,M.y),ne=N.call(this,te)-Q.h,he=this.ctx.transform.applyToPoint(new o(M.x,te)),fe=this.ctx.transform.decompose(),ge=new l;ge=(ge=(ge=ge.multiply(fe.translate)).multiply(fe.skew)).multiply(fe.scale);for(var Ce,Re,Ue,ze=this.ctx.transform.applyToRectangle(new a(M.x,te,Q.w,Q.h)),at=ge.applyToRectangle(new a(M.x,ne,Q.w,Q.h)),Ee=k.call(this,at),ie=[],Ve=0;Ve<Ee.length;Ve+=1)ie.indexOf(Ee[Ve])===-1&&ie.push(Ee[Ve]);if(E(ie),this.autoPaging)for(var Ze=ie[0],Le=ie[ie.length-1],De=Ze;De<Le+1;De++){this.pdf.setPage(De);var je=De===1?this.posY+this.margin[0]:this.margin[0],qe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],st=this.pdf.internal.pageSize.height-this.margin[2],mt=st-this.margin[0],It=this.pdf.internal.pageSize.width-this.margin[1],_t=It-this.margin[3],Pt=De===1?0:qe+(De-2)*mt;if(this.ctx.clip_path.length!==0){var Vt=this.path;Ce=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(Ce,this.posX+this.margin[3],-1*Pt+je),B.call(this,"fill",!0),this.path=Vt}var ht=b([JSON.parse(JSON.stringify(at))],this.posX+this.margin[3],-Pt+je+this.ctx.prevPageLastElemOffset)[0];M.scale>=.01&&(Re=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Re*M.scale),Ue=this.lineWidth,this.lineWidth=Ue*M.scale);var xt=this.autoPaging!=="text";if(xt||ht.y+ht.h<=st){if(xt||ht.y>=je&&ht.x<=It){var Ke=xt?M.text:this.pdf.splitTextToSize(M.text,M.maxWidth||It-ht.x)[0],ln=b([JSON.parse(JSON.stringify(ze))],this.posX+this.margin[3],-Pt+je+this.ctx.prevPageLastElemOffset)[0],Ct=xt&&(De>Ze||De<Le)&&x.call(this);Ct&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],_t,mt,null).clip().discardPath()),this.pdf.text(Ke,ln.x,ln.y,{angle:M.angle,align:W,renderingMode:M.renderingMode}),Ct&&this.pdf.restoreGraphicsState()}}else ht.y<st&&(this.ctx.prevPageLastElemOffset+=st-ht.y);M.scale>=.01&&(this.pdf.setFontSize(Re),this.lineWidth=Ue)}else M.scale>=.01&&(Re=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Re*M.scale),Ue=this.lineWidth,this.lineWidth=Ue*M.scale),this.pdf.text(M.text,he.x+this.posX,he.y+this.posY,{angle:M.angle,align:W,renderingMode:M.renderingMode,maxWidth:M.maxWidth}),M.scale>=.01&&(this.pdf.setFontSize(Re),this.lineWidth=Ue)},L=function(M,W,Q,te){Q=Q||0,te=te||0,this.pdf.internal.out(t(M+Q)+" "+r(W+te)+" l")},G=function(M,W,Q){return this.pdf.lines(M,W,Q,null,null)},ue=function(M,W,Q,te,ne,he,fe,ge){this.pdf.internal.out([e(i(Q+M)),e(s(te+W)),e(i(ne+M)),e(s(he+W)),e(i(fe+M)),e(s(ge+W)),"c"].join(" "))},ee=function(M,W,Q,te){for(var ne=2*Math.PI,he=Math.PI/2;W>Q;)W-=ne;var fe=Math.abs(Q-W);fe<ne&&te&&(fe=ne-fe);for(var ge=[],Ce=te?-1:1,Re=W;fe>1e-5;){var Ue=Re+Ce*Math.min(fe,he);ge.push(X.call(this,M,Re,Ue)),fe-=Math.abs(Ue-Re),Re=Ue}return ge},X=function(M,W,Q){var te=(Q-W)/2,ne=M*Math.cos(te),he=M*Math.sin(te),fe=ne,ge=-he,Ce=fe*fe+ge*ge,Re=Ce+fe*ne+ge*he,Ue=4/3*(Math.sqrt(2*Ce*Re)-Re)/(fe*he-ge*ne),ze=fe-Ue*ge,at=ge+Ue*fe,Ee=ze,ie=-at,Ve=te+W,Ze=Math.cos(Ve),Le=Math.sin(Ve);return{x1:M*Math.cos(W),y1:M*Math.sin(W),x2:ze*Ze-at*Le,y2:ze*Le+at*Ze,x3:Ee*Ze-ie*Le,y3:Ee*Le+ie*Ze,x4:M*Math.cos(Q),y4:M*Math.sin(Q)}},K=function(M){return 180*M/Math.PI},Y=function(M,W,Q,te,ne,he){var fe=M+.5*(Q-M),ge=W+.5*(te-W),Ce=ne+.5*(Q-ne),Re=he+.5*(te-he),Ue=Math.min(M,ne,fe,Ce),ze=Math.max(M,ne,fe,Ce),at=Math.min(W,he,ge,Re),Ee=Math.max(W,he,ge,Re);return new a(Ue,at,ze-Ue,Ee-at)},oe=function(M,W,Q,te,ne,he,fe,ge){var Ce,Re,Ue,ze,at,Ee,ie,Ve,Ze,Le,De,je,qe,st,mt=Q-M,It=te-W,_t=ne-Q,Pt=he-te,Vt=fe-ne,ht=ge-he;for(Re=0;Re<41;Re++)Ze=(ie=(Ue=M+(Ce=Re/40)*mt)+Ce*((at=Q+Ce*_t)-Ue))+Ce*(at+Ce*(ne+Ce*Vt-at)-ie),Le=(Ve=(ze=W+Ce*It)+Ce*((Ee=te+Ce*Pt)-ze))+Ce*(Ee+Ce*(he+Ce*ht-Ee)-Ve),Re==0?(De=Ze,je=Le,qe=Ze,st=Le):(De=Math.min(De,Ze),je=Math.min(je,Le),qe=Math.max(qe,Ze),st=Math.max(st,Le));return new a(Math.round(De),Math.round(je),Math.round(qe-De),Math.round(st-je))},me=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var M,W,Q=(M=this.ctx.lineDash,W=this.ctx.lineDashOffset,JSON.stringify({lineDash:M,lineDashOffset:W}));this.prevLineDash!==Q&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=Q)}}})(ct.API),function(n){var e=function(s){var o,a,l,c,d,f,p,g,S,x;for(a=[],l=0,c=(s+=o="\0\0\0\0".slice(s.length%4||4)).length;c>l;l+=4)(d=(s.charCodeAt(l)<<24)+(s.charCodeAt(l+1)<<16)+(s.charCodeAt(l+2)<<8)+s.charCodeAt(l+3))!==0?(f=(d=((d=((d=((d=(d-(x=d%85))/85)-(S=d%85))/85)-(g=d%85))/85)-(p=d%85))/85)%85,a.push(f+33,p+33,g+33,S+33,x+33)):a.push(122);return function(k,_){for(var b=_;b>0;b--)k.pop()}(a,o.length),String.fromCharCode.apply(String,a)+"~>"},t=function(s){var o,a,l,c,d,f=String,p="length",g=255,S="charCodeAt",x="slice",k="replace";for(s[x](-2),s=s[x](0,-2)[k](/\s/g,"")[k]("z","!!!!!"),l=[],c=0,d=(s+=o="uuuuu"[x](s[p]%5||5))[p];d>c;c+=5)a=52200625*(s[S](c)-33)+614125*(s[S](c+1)-33)+7225*(s[S](c+2)-33)+85*(s[S](c+3)-33)+(s[S](c+4)-33),l.push(g&a>>24,g&a>>16,g&a>>8,g&a);return function(_,b){for(var E=b;E>0;E--)_.pop()}(l,o[p]),f.fromCharCode.apply(f,l)},r=function(s){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),o.test(s)===!1)return"";for(var a="",l=0;l<s.length;l+=2)a+=String.fromCharCode("0x"+(s[l]+s[l+1]));return a},i=function(s){for(var o=new Uint8Array(s.length),a=s.length;a--;)o[a]=s.charCodeAt(a);return s=(o=W2(o)).reduce(function(l,c){return l+String.fromCharCode(c)},"")};n.processDataByFilters=function(s,o){var a=0,l=s||"",c=[];for(typeof(o=o||[])=="string"&&(o=[o]),a=0;a<o.length;a+=1)switch(o[a]){case"ASCII85Decode":case"/ASCII85Decode":l=t(l),c.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":l=e(l),c.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":l=r(l),c.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":l=l.split("").map(function(d){return("0"+d.charCodeAt().toString(16)).slice(-2)}).join("")+">",c.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":l=i(l),c.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[a]+'" is not implemented')}return{data:l,reverseChain:c.reverse().join(" ")}}}(ct.API),function(n){n.loadFile=function(e,t,r){return function(i,s,o){s=s!==!1,o=typeof o=="function"?o:function(){};var a=void 0;try{a=function(l,c,d){var f=new XMLHttpRequest,p=0,g=function(S){var x=S.length,k=[],_=String.fromCharCode;for(p=0;p<x;p+=1)k.push(_(255&S.charCodeAt(p)));return k.join("")};if(f.open("GET",l,!c),f.overrideMimeType("text/plain; charset=x-user-defined"),c===!1&&(f.onload=function(){f.status===200?d(g(this.responseText)):d(void 0)}),f.send(null),c&&f.status===200)return g(f.responseText)}(i,s,o)}catch{}return a}(e,t,r)},n.loadImageFile=n.loadFile}(ct.API),function(n){function e(){return(yt.html2canvas?Promise.resolve(yt.html2canvas):j1(()=>import("./html2canvas.esm-e0a7d97b.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function t(){return(yt.DOMPurify?Promise.resolve(yt.DOMPurify):j1(()=>import("./purify.es-2de9db7f.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var r=function(o){var a=Jt(o);return a==="undefined"?"undefined":a==="string"||o instanceof String?"string":a==="number"||o instanceof Number?"number":a==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":a==="object"?"object":"unknown"},i=function(o,a){var l=document.createElement(o);for(var c in a.className&&(l.className=a.className),a.innerHTML&&a.dompurify&&(l.innerHTML=a.dompurify.sanitize(a.innerHTML)),a.style)l.style[c]=a.style[c];return l},s=function o(a){var l=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),c=o.convert(Promise.resolve(),l);return c=(c=c.setProgress(1,o,1,[o])).set(a)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(o,a){return o.__proto__=a||s.prototype,o},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(o,a){return this.then(function(){switch(a=a||function(l){switch(r(l)){case"string":return"string";case"element":return l.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o)){case"string":return this.then(t).then(function(l){return this.set({src:i("div",{innerHTML:o,dompurify:l})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},s.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},a=function l(c,d){for(var f=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),p=c.firstChild;p;p=p.nextSibling)d!==!0&&p.nodeType===1&&p.nodeName==="SCRIPT"||f.appendChild(l(p,d));return c.nodeType===1&&(c.nodeName==="CANVAS"?(f.width=c.width,f.height=c.height,f.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(f.value=c.value),f.addEventListener("load",function(){f.scrollTop=c.scrollTop,f.scrollLeft=c.scrollLeft},!0)),f}(this.prop.src,this.opt.html2canvas.javascriptEnabled);a.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(a),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(a){var l=Object.assign({},this.opt.html2canvas);return delete l.onrendered,a(this.prop.container,l)}).then(function(a){(this.opt.html2canvas.onrendered||function(){})(a),this.prop.canvas=a,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(a){var l=this.opt.jsPDF,c=this.opt.fontFaces,d=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,f=Object.assign({async:!0,allowTaint:!0,scale:d,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete f.onrendered,l.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,l.context2d.posX=this.opt.x,l.context2d.posY=this.opt.y,l.context2d.margin=this.opt.margin,l.context2d.fontFaces=c,c)for(var p=0;p<c.length;++p){var g=c[p],S=g.src.find(function(x){return x.format==="truetype"});S&&l.addFont(S.url,g.ref.name,g.ref.style)}return f.windowHeight=f.windowHeight||0,f.windowHeight=f.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):f.windowHeight,l.context2d.save(!0),a(this.prop.container,f)}).then(function(a){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(a),this.prop.canvas=a,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(o,a,l){return(l=l||"pdf").toLowerCase()==="img"||l.toLowerCase()==="image"?this.outputImg(o,a):this.outputPdf(o,a)},s.prototype.outputPdf=function(o,a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,a)})},s.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},s.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(o){if(r(o)!=="object")return this;var a=Object.keys(o||{}).map(function(l){if(l in s.template.prop)return function(){this.prop[l]=o[l]};switch(l){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[l]=o[l]}}},this);return this.then(function(){return this.thenList(a)})},s.prototype.get=function(o,a){return this.then(function(){var l=o in s.template.prop?this.prop[o]:this.opt[o];return a?a(l):l})},s.prototype.setMargin=function(o){return this.then(function(){switch(r(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},s.prototype.setPageSize=function(o){function a(l,c){return Math.floor(l*c/72*96)}return this.then(function(){(o=o||ct.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:a(o.inner.width,o.k),height:a(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},s.prototype.setProgress=function(o,a,l,c){return o!=null&&(this.progress.val=o),a!=null&&(this.progress.state=a),l!=null&&(this.progress.n=l),c!=null&&(this.progress.stack=c),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(o,a,l,c){return this.setProgress(o?this.progress.val+o:null,a||null,l?this.progress.n+l:null,c?this.progress.stack.concat(c):null)},s.prototype.then=function(o,a){var l=this;return this.thenCore(o,a,function(c,d){return l.updateProgress(null,null,1,[c]),Promise.prototype.then.call(this,function(f){return l.updateProgress(null,c),f}).then(c,d).then(function(f){return l.updateProgress(1),f})})},s.prototype.thenCore=function(o,a,l){l=l||Promise.prototype.then,o&&(o=o.bind(this)),a&&(a=a.bind(this));var c=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:s.convert(Object.assign({},this),Promise.prototype),d=l.call(c,o,a);return s.convert(d,this.__proto__)},s.prototype.thenExternal=function(o,a){return Promise.prototype.then.call(this,o,a)},s.prototype.thenList=function(o){var a=this;return o.forEach(function(l){a=a.thenCore(l)}),a},s.prototype.catch=function(o){o&&(o=o.bind(this));var a=Promise.prototype.catch.call(this,o);return s.convert(a,this)},s.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},s.prototype.error=function(o){return this.then(function(){throw new Error(o)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,ct.getPageSize=function(o,a,l){if(Jt(o)==="object"){var c=o;o=c.orientation,a=c.unit||a,l=c.format||l}a=a||"mm",l=l||"a4",o=(""+(o||"P")).toLowerCase();var d,f=(""+l).toLowerCase(),p={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(a){case"pt":d=1;break;case"mm":d=72/25.4;break;case"cm":d=72/2.54;break;case"in":d=72;break;case"px":d=.75;break;case"pc":case"em":d=12;break;case"ex":d=6;break;default:throw"Invalid unit: "+a}var g,S=0,x=0;if(p.hasOwnProperty(f))S=p[f][1]/d,x=p[f][0]/d;else try{S=l[1],x=l[0]}catch{throw new Error("Invalid format: "+l)}if(o==="p"||o==="portrait")o="p",x>S&&(g=x,x=S,S=g);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",S>x&&(g=x,x=S,S=g)}return{width:x,height:S,unit:a,k:d,orientation:o}},n.html=function(o,a){(a=a||{}).callback=a.callback||function(){},a.html2canvas=a.html2canvas||{},a.html2canvas.canvas=a.html2canvas.canvas||this.canvas,a.jsPDF=a.jsPDF||this,a.fontFaces=a.fontFaces?a.fontFaces.map(J2):null;var l=new s(a);return a.worker?l:l.from(o).doCallback()}}(ct.API),ct.API.addJS=function(n){return BE=n,this.internal.events.subscribe("postPutResources",function(){Pg=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Pg+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),jE=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+BE+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Pg!==void 0&&jE!==void 0&&this.internal.out("/Names <</JavaScript "+Pg+" 0 R>>")}),this},function(n){var e;n.events.push(["postPutResources",function(){var t=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=t.outline.render().split(/\r\n/),s=0;s<i.length;s++){var o=i[s],a=r.exec(o);if(a!=null){var l=a[1];t.internal.newObjectDeferredBegin(l,!1)}t.internal.write(o)}if(this.outline.createNamedDestinations){var c=this.internal.pages.length,d=[];for(s=0;s<c;s++){var f=t.internal.newObject();d.push(f);var p=t.internal.getPageInfo(s+1);t.internal.write("<< /D["+p.objId+" 0 R /XYZ null null null]>> endobj")}var g=t.internal.newObject();for(t.internal.write("<< /Names [ "),s=0;s<d.length;s++)t.internal.write("(page_"+(s+1)+")"+d[s]+" 0 R");t.internal.write(" ] >>","endobj"),e=t.internal.newObject(),t.internal.write("<< /Dests "+g+" 0 R"),t.internal.write(">>","endobj")}}]),n.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),n.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(r,i,s){var o={title:i,options:s,children:[]};return r==null&&(r=this.root),r.children.push(o),o},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(r){r.id=t.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},t.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},t.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<r.children.length;s++){var o=r.children[s];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(r)),s>0&&this.line("/Prev "+this.makeRef(r.children[s-1])),s<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[s+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var a=this.count=this.count_r({count:0},o);if(a>0&&this.line("/Count "+a),o.options&&o.options.pageNumber){var l=t.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var c=0;c<r.children.length;c++)this.renderItems(r.children[c])},t.outline.line=function(r){this.ctx.val+=r+`\r
`},t.outline.makeRef=function(r){return r.id+" 0 R"},t.outline.makeString=function(r){return"("+t.internal.pdfEscape(r)+")"},t.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},t.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},t.outline.count_r=function(r,i){for(var s=0;s<i.children.length;s++)r.count++,this.count_r(r,i.children[s]);return r.count}}])}(ct.API),function(n){var e=[192,193,194,195,196,197,198,199];n.processJPEG=function(t,r,i,s,o,a){var l,c=this.decode.DCT_DECODE,d=null;if(typeof t=="string"||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=o||t,t=this.__addimage__.isArrayBuffer(t)?new Uint8Array(t):t,(l=function(f){for(var p,g=256*f.charCodeAt(4)+f.charCodeAt(5),S=f.length,x={width:0,height:0,numcomponents:1},k=4;k<S;k+=2){if(k+=g,e.indexOf(f.charCodeAt(k+1))!==-1){p=256*f.charCodeAt(k+5)+f.charCodeAt(k+6),x={width:256*f.charCodeAt(k+7)+f.charCodeAt(k+8),height:p,numcomponents:f.charCodeAt(k+9)};break}g=256*f.charCodeAt(k+2)+f.charCodeAt(k+3)}return x}(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t)).numcomponents){case 1:a=this.color_spaces.DEVICE_GRAY;break;case 4:a=this.color_spaces.DEVICE_CMYK;break;case 3:a=this.color_spaces.DEVICE_RGB}d={data:t,width:l.width,height:l.height,colorSpace:a,bitsPerComponent:8,filter:c,index:r,alias:i}}return d}}(ct.API);var th,Ng,UE,zE,qE,RO=function(){var n,e,t;function r(s){var o,a,l,c,d,f,p,g,S,x,k,_,b,E;for(this.data=s,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},f=null;;){switch(o=this.readUInt32(),S=(function(){var F,B;for(B=[],F=0;F<4;++F)B.push(String.fromCharCode(this.data[this.pos++]));return B}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(o);break;case"fcTL":f&&this.animation.frames.push(f),this.pos+=4,f={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},d=this.readUInt16(),c=this.readUInt16()||100,f.delay=1e3*d/c,f.disposeOp=this.data[this.pos++],f.blendOp=this.data[this.pos++],f.data=[];break;case"IDAT":case"fdAT":for(S==="fdAT"&&(this.pos+=4,o-=4),s=(f!=null?f.data:void 0)||this.imgData,_=0;0<=o?_<o:_>o;0<=o?++_:--_)s.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(l=this.palette.length/3,this.transparency.indexed=this.read(o),this.transparency.indexed.length>l)throw new Error("More transparent colors than palette size");if((x=l-this.transparency.indexed.length)>0)for(b=0;0<=x?b<x:b>x;0<=x?++b:--b)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(o)[0];break;case 2:this.transparency.rgb=this.read(o)}break;case"tEXt":p=(k=this.read(o)).indexOf(0),g=String.fromCharCode.apply(String,k.slice(0,p)),this.text[g]=String.fromCharCode.apply(String,k.slice(p+1));break;case"IEND":return f&&this.animation.frames.push(f),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(E=this.colorType)===4||E===6,a=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*a,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=o}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}r.prototype.read=function(s){var o,a;for(a=[],o=0;0<=s?o<s:o>s;0<=s?++o:--o)a.push(this.data[this.pos++]);return a},r.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.decodePixels=function(s){var o=this.pixelBitlength/8,a=new Uint8Array(this.width*this.height*o),l=0,c=this;if(s==null&&(s=this.imgData),s.length===0)return new Uint8Array(0);function d(f,p,g,S){var x,k,_,b,E,F,B,U,N,A,C,D,T,P,L,G,ue,ee,X,K,Y,oe=Math.ceil((c.width-f)/g),me=Math.ceil((c.height-p)/S),M=c.width==oe&&c.height==me;for(P=o*oe,D=M?a:new Uint8Array(P*me),F=s.length,T=0,k=0;T<me&&l<F;){switch(s[l++]){case 0:for(b=ue=0;ue<P;b=ue+=1)D[k++]=s[l++];break;case 1:for(b=ee=0;ee<P;b=ee+=1)x=s[l++],E=b<o?0:D[k-o],D[k++]=(x+E)%256;break;case 2:for(b=X=0;X<P;b=X+=1)x=s[l++],_=(b-b%o)/o,L=T&&D[(T-1)*P+_*o+b%o],D[k++]=(L+x)%256;break;case 3:for(b=K=0;K<P;b=K+=1)x=s[l++],_=(b-b%o)/o,E=b<o?0:D[k-o],L=T&&D[(T-1)*P+_*o+b%o],D[k++]=(x+Math.floor((E+L)/2))%256;break;case 4:for(b=Y=0;Y<P;b=Y+=1)x=s[l++],_=(b-b%o)/o,E=b<o?0:D[k-o],T===0?L=G=0:(L=D[(T-1)*P+_*o+b%o],G=_&&D[(T-1)*P+(_-1)*o+b%o]),B=E+L-G,U=Math.abs(B-E),A=Math.abs(B-L),C=Math.abs(B-G),N=U<=A&&U<=C?E:A<=C?L:G,D[k++]=(x+N)%256;break;default:throw new Error("Invalid filter algorithm: "+s[l-1])}if(!M){var W=((p+T*S)*c.width+f)*o,Q=T*P;for(b=0;b<oe;b+=1){for(var te=0;te<o;te+=1)a[W++]=D[Q++];W+=(g-1)*o}}T++}}return s=uO(s),c.interlaceMethod==1?(d(0,0,8,8),d(4,0,8,8),d(0,4,4,8),d(2,0,4,4),d(0,2,2,4),d(1,0,2,2),d(0,1,1,2)):d(0,0,1,1),a},r.prototype.decodePalette=function(){var s,o,a,l,c,d,f,p,g;for(a=this.palette,d=this.transparency.indexed||[],c=new Uint8Array((d.length||0)+a.length),l=0,s=0,o=f=0,p=a.length;f<p;o=f+=3)c[l++]=a[o],c[l++]=a[o+1],c[l++]=a[o+2],c[l++]=(g=d[s++])!=null?g:255;return c},r.prototype.copyToImageData=function(s,o){var a,l,c,d,f,p,g,S,x,k,_;if(l=this.colors,x=null,a=this.hasAlphaChannel,this.palette.length&&(x=(_=this._decodedPalette)!=null?_:this._decodedPalette=this.decodePalette(),l=4,a=!0),S=(c=s.data||s).length,f=x||o,d=p=0,l===1)for(;d<S;)g=x?4*o[d/4]:p,k=f[g++],c[d++]=k,c[d++]=k,c[d++]=k,c[d++]=a?f[g++]:255,p=g;else for(;d<S;)g=x?4*o[d/4]:p,c[d++]=f[g++],c[d++]=f[g++],c[d++]=f[g++],c[d++]=a?f[g++]:255,p=g},r.prototype.decode=function(){var s;return s=new Uint8Array(this.width*this.height*4),this.copyToImageData(s,this.decodePixels()),s};var i=function(){if(Object.prototype.toString.call(yt)==="[object Window]"){try{e=yt.document.createElement("canvas"),t=e.getContext("2d")}catch{return!1}return!0}return!1};return i(),n=function(s){var o;if(i()===!0)return t.width=s.width,t.height=s.height,t.clearRect(0,0,s.width,s.height),t.putImageData(s,0,0),(o=new Image).src=e.toDataURL(),o;throw new Error("This method requires a Browser with Canvas-capability.")},r.prototype.decodeFrames=function(s){var o,a,l,c,d,f,p,g;if(this.animation){for(g=[],a=d=0,f=(p=this.animation.frames).length;d<f;a=++d)o=p[a],l=s.createImageData(o.width,o.height),c=this.decodePixels(new Uint8Array(o.data)),this.copyToImageData(l,c),o.imageData=l,g.push(o.image=n(l));return g}},r.prototype.renderFrame=function(s,o){var a,l,c;return a=(l=this.animation.frames)[o],c=l[o-1],o===0&&s.clearRect(0,0,this.width,this.height),(c!=null?c.disposeOp:void 0)===1?s.clearRect(c.xOffset,c.yOffset,c.width,c.height):(c!=null?c.disposeOp:void 0)===2&&s.putImageData(c.imageData,c.xOffset,c.yOffset),a.blendOp===0&&s.clearRect(a.xOffset,a.yOffset,a.width,a.height),s.drawImage(a.image,a.xOffset,a.yOffset)},r.prototype.animate=function(s){var o,a,l,c,d,f,p=this;return a=0,f=this.animation,c=f.numFrames,l=f.frames,d=f.numPlays,(o=function(){var g,S;if(g=a++%c,S=l[g],p.renderFrame(s,g),c>1&&a/c<d)return p.animation._timeout=setTimeout(o,S.delay)})()},r.prototype.stopAnimation=function(){var s;return clearTimeout((s=this.animation)!=null?s._timeout:void 0)},r.prototype.render=function(s){var o,a;return s._png&&s._png.stopAnimation(),s._png=this,s.width=this.width,s.height=this.height,o=s.getContext("2d"),this.animation?(this.decodeFrames(o),this.animate(o)):(a=o.createImageData(this.width,this.height),this.copyToImageData(a,this.decodePixels()),o.putImageData(a,0,0))},r}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function LO(n){var e=0;if(n[e++]!==71||n[e++]!==73||n[e++]!==70||n[e++]!==56||(n[e++]+1&253)!=56||n[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var t=n[e++]|n[e++]<<8,r=n[e++]|n[e++]<<8,i=n[e++],s=i>>7,o=1<<(7&i)+1;n[e++],n[e++];var a=null,l=null;s&&(a=e,l=o,e+=3*o);var c=!0,d=[],f=0,p=null,g=0,S=null;for(this.width=t,this.height=r;c&&e<n.length;)switch(n[e++]){case 33:switch(n[e++]){case 255:if(n[e]!==11||n[e+1]==78&&n[e+2]==69&&n[e+3]==84&&n[e+4]==83&&n[e+5]==67&&n[e+6]==65&&n[e+7]==80&&n[e+8]==69&&n[e+9]==50&&n[e+10]==46&&n[e+11]==48&&n[e+12]==3&&n[e+13]==1&&n[e+16]==0)e+=14,S=n[e++]|n[e++]<<8,e++;else for(e+=12;;){if(!((T=n[e++])>=0))throw Error("Invalid block size");if(T===0)break;e+=T}break;case 249:if(n[e++]!==4||n[e+4]!==0)throw new Error("Invalid graphics extension block.");var x=n[e++];f=n[e++]|n[e++]<<8,p=n[e++],!(1&x)&&(p=null),g=x>>2&7,e++;break;case 254:for(;;){if(!((T=n[e++])>=0))throw Error("Invalid block size");if(T===0)break;e+=T}break;default:throw new Error("Unknown graphic control label: 0x"+n[e-1].toString(16))}break;case 44:var k=n[e++]|n[e++]<<8,_=n[e++]|n[e++]<<8,b=n[e++]|n[e++]<<8,E=n[e++]|n[e++]<<8,F=n[e++],B=F>>6&1,U=1<<(7&F)+1,N=a,A=l,C=!1;F>>7&&(C=!0,N=e,A=U,e+=3*U);var D=e;for(e++;;){var T;if(!((T=n[e++])>=0))throw Error("Invalid block size");if(T===0)break;e+=T}d.push({x:k,y:_,width:b,height:E,has_local_palette:C,palette_offset:N,palette_size:A,data_offset:D,data_length:e-D,transparent_index:p,interlaced:!!B,delay:f,disposal:g});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+n[e-1].toString(16))}this.numFrames=function(){return d.length},this.loopCount=function(){return S},this.frameInfo=function(P){if(P<0||P>=d.length)throw new Error("Frame index out of range.");return d[P]},this.decodeAndBlitFrameBGRA=function(P,L){var G=this.frameInfo(P),ue=G.width*G.height,ee=new Uint8Array(ue);$E(n,G.data_offset,ee,ue);var X=G.palette_offset,K=G.transparent_index;K===null&&(K=256);var Y=G.width,oe=t-Y,me=Y,M=4*(G.y*t+G.x),W=4*((G.y+G.height)*t+G.x),Q=M,te=4*oe;G.interlaced===!0&&(te+=4*t*7);for(var ne=8,he=0,fe=ee.length;he<fe;++he){var ge=ee[he];if(me===0&&(me=Y,(Q+=te)>=W&&(te=4*oe+4*t*(ne-1),Q=M+(Y+oe)*(ne<<1),ne>>=1)),ge===K)Q+=4;else{var Ce=n[X+3*ge],Re=n[X+3*ge+1],Ue=n[X+3*ge+2];L[Q++]=Ue,L[Q++]=Re,L[Q++]=Ce,L[Q++]=255}--me}},this.decodeAndBlitFrameRGBA=function(P,L){var G=this.frameInfo(P),ue=G.width*G.height,ee=new Uint8Array(ue);$E(n,G.data_offset,ee,ue);var X=G.palette_offset,K=G.transparent_index;K===null&&(K=256);var Y=G.width,oe=t-Y,me=Y,M=4*(G.y*t+G.x),W=4*((G.y+G.height)*t+G.x),Q=M,te=4*oe;G.interlaced===!0&&(te+=4*t*7);for(var ne=8,he=0,fe=ee.length;he<fe;++he){var ge=ee[he];if(me===0&&(me=Y,(Q+=te)>=W&&(te=4*oe+4*t*(ne-1),Q=M+(Y+oe)*(ne<<1),ne>>=1)),ge===K)Q+=4;else{var Ce=n[X+3*ge],Re=n[X+3*ge+1],Ue=n[X+3*ge+2];L[Q++]=Ce,L[Q++]=Re,L[Q++]=Ue,L[Q++]=255}--me}}}function $E(n,e,t,r){for(var i=n[e++],s=1<<i,o=s+1,a=o+1,l=i+1,c=(1<<l)-1,d=0,f=0,p=0,g=n[e++],S=new Int32Array(4096),x=null;;){for(;d<16&&g!==0;)f|=n[e++]<<d,d+=8,g===1?g=n[e++]:--g;if(d<l)break;var k=f&c;if(f>>=l,d-=l,k!==s){if(k===o)break;for(var _=k<a?k:x,b=0,E=_;E>s;)E=S[E]>>8,++b;var F=E;if(p+b+(_!==k?1:0)>r)return void an.log("Warning, gif stream longer than expected.");t[p++]=F;var B=p+=b;for(_!==k&&(t[p++]=F),E=_;b--;)E=S[E],t[--B]=255&E,E>>=8;x!==null&&a<4096&&(S[a++]=x<<8|F,a>=c+1&&l<12&&(++l,c=c<<1|1)),x=k}else a=o+1,c=(1<<(l=i+1))-1,x=null}return p!==r&&an.log("Warning, gif stream shorter than expected."),t}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Iv(n){var e,t,r,i,s,o=Math.floor,a=new Array(64),l=new Array(64),c=new Array(64),d=new Array(64),f=new Array(65535),p=new Array(65535),g=new Array(64),S=new Array(64),x=[],k=0,_=7,b=new Array(64),E=new Array(64),F=new Array(64),B=new Array(256),U=new Array(2048),N=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],A=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],C=[0,1,2,3,4,5,6,7,8,9,10,11],D=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],T=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],P=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],L=[0,1,2,3,4,5,6,7,8,9,10,11],G=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ue=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function ee(M,W){for(var Q=0,te=0,ne=new Array,he=1;he<=16;he++){for(var fe=1;fe<=M[he];fe++)ne[W[te]]=[],ne[W[te]][0]=Q,ne[W[te]][1]=he,te++,Q++;Q*=2}return ne}function X(M){for(var W=M[0],Q=M[1]-1;Q>=0;)W&1<<Q&&(k|=1<<_),Q--,--_<0&&(k==255?(K(255),K(0)):K(k),_=7,k=0)}function K(M){x.push(M)}function Y(M){K(M>>8&255),K(255&M)}function oe(M,W,Q,te,ne){for(var he,fe=ne[0],ge=ne[240],Ce=function(Le,De){var je,qe,st,mt,It,_t,Pt,Vt,ht,xt,Ke=0;for(ht=0;ht<8;++ht){je=Le[Ke],qe=Le[Ke+1],st=Le[Ke+2],mt=Le[Ke+3],It=Le[Ke+4],_t=Le[Ke+5],Pt=Le[Ke+6];var ln=je+(Vt=Le[Ke+7]),Ct=je-Vt,ir=qe+Pt,pe=qe-Pt,ke=st+_t,Be=st-_t,We=mt+It,Nt=mt-It,gt=ln+We,Ot=ln-We,Ut=ir+ke,vt=ir-ke;Le[Ke]=gt+Ut,Le[Ke+4]=gt-Ut;var it=.707106781*(vt+Ot);Le[Ke+2]=Ot+it,Le[Ke+6]=Ot-it;var wt=.382683433*((gt=Nt+Be)-(vt=pe+Ct)),rn=.5411961*gt+wt,tn=1.306562965*vt+wt,sn=.707106781*(Ut=Be+pe),wn=Ct+sn,lt=Ct-sn;Le[Ke+5]=lt+rn,Le[Ke+3]=lt-rn,Le[Ke+1]=wn+tn,Le[Ke+7]=wn-tn,Ke+=8}for(Ke=0,ht=0;ht<8;++ht){je=Le[Ke],qe=Le[Ke+8],st=Le[Ke+16],mt=Le[Ke+24],It=Le[Ke+32],_t=Le[Ke+40],Pt=Le[Ke+48];var Lr=je+(Vt=Le[Ke+56]),Ir=je-Vt,Er=qe+Pt,Dn=qe-Pt,bn=st+_t,sr=st-_t,Ta=mt+It,fr=mt-It,pi=Lr+Ta,mi=Lr-Ta,Kr=Er+bn,gi=Er-bn;Le[Ke]=pi+Kr,Le[Ke+32]=pi-Kr;var Qr=.707106781*(gi+mi);Le[Ke+16]=mi+Qr,Le[Ke+48]=mi-Qr;var Ji=.382683433*((pi=fr+sr)-(gi=Dn+Ir)),Xs=.5411961*pi+Ji,xa=1.306562965*gi+Ji,bs=.707106781*(Kr=sr+Dn),Vo=Ir+bs,Zs=Ir-bs;Le[Ke+40]=Zs+Xs,Le[Ke+24]=Zs-Xs,Le[Ke+8]=Vo+xa,Le[Ke+56]=Vo-xa,Ke++}for(ht=0;ht<64;++ht)xt=Le[ht]*De[ht],g[ht]=xt>0?xt+.5|0:xt-.5|0;return g}(M,W),Re=0;Re<64;++Re)S[N[Re]]=Ce[Re];var Ue=S[0]-Q;Q=S[0],Ue==0?X(te[0]):(X(te[p[he=32767+Ue]]),X(f[he]));for(var ze=63;ze>0&&S[ze]==0;)ze--;if(ze==0)return X(fe),Q;for(var at,Ee=1;Ee<=ze;){for(var ie=Ee;S[Ee]==0&&Ee<=ze;)++Ee;var Ve=Ee-ie;if(Ve>=16){at=Ve>>4;for(var Ze=1;Ze<=at;++Ze)X(ge);Ve&=15}he=32767+S[Ee],X(ne[(Ve<<4)+p[he]]),X(f[he]),Ee++}return ze!=63&&X(fe),Q}function me(M){M=Math.min(Math.max(M,1),100),s!=M&&(function(W){for(var Q=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],te=0;te<64;te++){var ne=o((Q[te]*W+50)/100);ne=Math.min(Math.max(ne,1),255),a[N[te]]=ne}for(var he=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],fe=0;fe<64;fe++){var ge=o((he[fe]*W+50)/100);ge=Math.min(Math.max(ge,1),255),l[N[fe]]=ge}for(var Ce=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Re=0,Ue=0;Ue<8;Ue++)for(var ze=0;ze<8;ze++)c[Re]=1/(a[N[Re]]*Ce[Ue]*Ce[ze]*8),d[Re]=1/(l[N[Re]]*Ce[Ue]*Ce[ze]*8),Re++}(M<50?Math.floor(5e3/M):Math.floor(200-2*M)),s=M)}this.encode=function(M,W){W&&me(W),x=new Array,k=0,_=7,Y(65496),Y(65504),Y(16),K(74),K(70),K(73),K(70),K(0),K(1),K(1),K(0),Y(1),Y(1),K(0),K(0),function(){Y(65499),Y(132),K(0);for(var qe=0;qe<64;qe++)K(a[qe]);K(1);for(var st=0;st<64;st++)K(l[st])}(),function(qe,st){Y(65472),Y(17),K(8),Y(st),Y(qe),K(3),K(1),K(17),K(0),K(2),K(17),K(1),K(3),K(17),K(1)}(M.width,M.height),function(){Y(65476),Y(418),K(0);for(var qe=0;qe<16;qe++)K(A[qe+1]);for(var st=0;st<=11;st++)K(C[st]);K(16);for(var mt=0;mt<16;mt++)K(D[mt+1]);for(var It=0;It<=161;It++)K(T[It]);K(1);for(var _t=0;_t<16;_t++)K(P[_t+1]);for(var Pt=0;Pt<=11;Pt++)K(L[Pt]);K(17);for(var Vt=0;Vt<16;Vt++)K(G[Vt+1]);for(var ht=0;ht<=161;ht++)K(ue[ht])}(),Y(65498),Y(12),K(3),K(1),K(0),K(2),K(17),K(3),K(17),K(0),K(63),K(0);var Q=0,te=0,ne=0;k=0,_=7,this.encode.displayName="_encode_";for(var he,fe,ge,Ce,Re,Ue,ze,at,Ee,ie=M.data,Ve=M.width,Ze=M.height,Le=4*Ve,De=0;De<Ze;){for(he=0;he<Le;){for(Re=Le*De+he,ze=-1,at=0,Ee=0;Ee<64;Ee++)Ue=Re+(at=Ee>>3)*Le+(ze=4*(7&Ee)),De+at>=Ze&&(Ue-=Le*(De+1+at-Ze)),he+ze>=Le&&(Ue-=he+ze-Le+4),fe=ie[Ue++],ge=ie[Ue++],Ce=ie[Ue++],b[Ee]=(U[fe]+U[ge+256>>0]+U[Ce+512>>0]>>16)-128,E[Ee]=(U[fe+768>>0]+U[ge+1024>>0]+U[Ce+1280>>0]>>16)-128,F[Ee]=(U[fe+1280>>0]+U[ge+1536>>0]+U[Ce+1792>>0]>>16)-128;Q=oe(b,c,Q,e,r),te=oe(E,d,te,t,i),ne=oe(F,d,ne,t,i),he+=32}De+=8}if(_>=0){var je=[];je[1]=_+1,je[0]=(1<<_+1)-1,X(je)}return Y(65497),new Uint8Array(x)},n=n||50,function(){for(var M=String.fromCharCode,W=0;W<256;W++)B[W]=M(W)}(),e=ee(A,C),t=ee(P,L),r=ee(D,T),i=ee(G,ue),function(){for(var M=1,W=2,Q=1;Q<=15;Q++){for(var te=M;te<W;te++)p[32767+te]=Q,f[32767+te]=[],f[32767+te][1]=Q,f[32767+te][0]=te;for(var ne=-(W-1);ne<=-M;ne++)p[32767+ne]=Q,f[32767+ne]=[],f[32767+ne][1]=Q,f[32767+ne][0]=W-1+ne;M<<=1,W<<=1}}(),function(){for(var M=0;M<256;M++)U[M]=19595*M,U[M+256>>0]=38470*M,U[M+512>>0]=7471*M+32768,U[M+768>>0]=-11059*M,U[M+1024>>0]=-21709*M,U[M+1280>>0]=32768*M+8421375,U[M+1536>>0]=-27439*M,U[M+1792>>0]=-5329*M}(),me(n)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Fs(n,e){if(this.pos=0,this.buffer=n,this.datav=new DataView(n.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function WE(n){function e(A){if(!A)throw Error("assert :P")}function t(A,C,D){for(var T=0;4>T;T++)if(A[C+T]!=D.charCodeAt(T))return!0;return!1}function r(A,C,D,T,P){for(var L=0;L<P;L++)A[C+L]=D[T+L]}function i(A,C,D,T){for(var P=0;P<T;P++)A[C+P]=D}function s(A){return new Int32Array(A)}function o(A,C){for(var D=[],T=0;T<A;T++)D.push(new C);return D}function a(A,C){var D=[];return function T(P,L,G){for(var ue=G[L],ee=0;ee<ue&&(P.push(G.length>L+1?[]:new C),!(G.length<L+1));ee++)T(P[ee],L+1,G)}(D,0,A),D}var l=function(){var A=this;function C(h,m){for(var w=1<<m-1>>>0;h&w;)w>>>=1;return w?(h&w-1)+w:h}function D(h,m,w,R,j){e(!(R%w));do h[m+(R-=w)]=j;while(0<R)}function T(h,m,w,R,j){if(e(2328>=j),512>=j)var z=s(512);else if((z=s(j))==null)return 0;return function(q,$,H,Z,ae,ve){var _e,de,Te=$,Ie=1<<H,le=s(16),ce=s(16);for(e(ae!=0),e(Z!=null),e(q!=null),e(0<H),de=0;de<ae;++de){if(15<Z[de])return 0;++le[Z[de]]}if(le[0]==ae)return 0;for(ce[1]=0,_e=1;15>_e;++_e){if(le[_e]>1<<_e)return 0;ce[_e+1]=ce[_e]+le[_e]}for(de=0;de<ae;++de)_e=Z[de],0<Z[de]&&(ve[ce[_e]++]=de);if(ce[15]==1)return(Z=new P).g=0,Z.value=ve[0],D(q,Te,1,Ie,Z),Ie;var Se,Pe=-1,Ae=Ie-1,Xe=0,He=1,ft=1,Qe=1<<H;for(de=0,_e=1,ae=2;_e<=H;++_e,ae<<=1){if(He+=ft<<=1,0>(ft-=le[_e]))return 0;for(;0<le[_e];--le[_e])(Z=new P).g=_e,Z.value=ve[de++],D(q,Te+Xe,ae,Qe,Z),Xe=C(Xe,_e)}for(_e=H+1,ae=2;15>=_e;++_e,ae<<=1){if(He+=ft<<=1,0>(ft-=le[_e]))return 0;for(;0<le[_e];--le[_e]){if(Z=new P,(Xe&Ae)!=Pe){for(Te+=Qe,Se=1<<(Pe=_e)-H;15>Pe&&!(0>=(Se-=le[Pe]));)++Pe,Se<<=1;Ie+=Qe=1<<(Se=Pe-H),q[$+(Pe=Xe&Ae)].g=Se+H,q[$+Pe].value=Te-$-Pe}Z.g=_e-H,Z.value=ve[de++],D(q,Te+(Xe>>H),ae,Qe,Z),Xe=C(Xe,_e)}}return He!=2*ce[15]-1?0:Ie}(h,m,w,R,j,z)}function P(){this.value=this.g=0}function L(){this.value=this.g=0}function G(){this.G=o(5,P),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(Sr,L)}function ue(h,m,w,R){e(h!=null),e(m!=null),e(2147483648>R),h.Ca=254,h.I=0,h.b=-8,h.Ka=0,h.oa=m,h.pa=w,h.Jd=m,h.Yc=w+R,h.Zc=4<=R?w+R-4+1:w,he(h)}function ee(h,m){for(var w=0;0<m--;)w|=ge(h,128)<<m;return w}function X(h,m){var w=ee(h,m);return fe(h)?-w:w}function K(h,m,w,R){var j,z=0;for(e(h!=null),e(m!=null),e(4294967288>R),h.Sb=R,h.Ra=0,h.u=0,h.h=0,4<R&&(R=4),j=0;j<R;++j)z+=m[w+j]<<8*j;h.Ra=z,h.bb=R,h.oa=m,h.pa=w}function Y(h){for(;8<=h.u&&h.bb<h.Sb;)h.Ra>>>=8,h.Ra+=h.oa[h.pa+h.bb]<<qc-8>>>0,++h.bb,h.u-=8;Q(h)&&(h.h=1,h.u=0)}function oe(h,m){if(e(0<=m),!h.h&&m<=zc){var w=W(h)&Uc[m];return h.u+=m,Y(h),w}return h.h=1,h.u=0}function me(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function M(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function W(h){return h.Ra>>>(h.u&qc-1)>>>0}function Q(h){return e(h.bb<=h.Sb),h.h||h.bb==h.Sb&&h.u>qc}function te(h,m){h.u=m,h.h=Q(h)}function ne(h){h.u>=Kd&&(e(h.u>=Kd),Y(h))}function he(h){e(h!=null&&h.oa!=null),h.pa<h.Zc?(h.I=(h.oa[h.pa++]|h.I<<8)>>>0,h.b+=8):(e(h!=null&&h.oa!=null),h.pa<h.Yc?(h.b+=8,h.I=h.oa[h.pa++]|h.I<<8):h.Ka?h.b=0:(h.I<<=8,h.b+=8,h.Ka=1))}function fe(h){return ee(h,1)}function ge(h,m){var w=h.Ca;0>h.b&&he(h);var R=h.b,j=w*m>>>8,z=(h.I>>>R>j)+0;for(z?(w-=j,h.I-=j+1<<R>>>0):w=j+1,R=w,j=0;256<=R;)j+=8,R>>=8;return R=7^j+_i[R],h.b-=R,h.Ca=(w<<R)-1,z}function Ce(h,m,w){h[m+0]=w>>24&255,h[m+1]=w>>16&255,h[m+2]=w>>8&255,h[m+3]=w>>0&255}function Re(h,m){return h[m+0]<<0|h[m+1]<<8}function Ue(h,m){return Re(h,m)|h[m+2]<<16}function ze(h,m){return Re(h,m)|Re(h,m+2)<<16}function at(h,m){var w=1<<m;return e(h!=null),e(0<m),h.X=s(w),h.X==null?0:(h.Mb=32-m,h.Xa=m,1)}function Ee(h,m){e(h!=null),e(m!=null),e(h.Xa==m.Xa),r(m.X,0,h.X,0,1<<m.Xa)}function ie(){this.X=[],this.Xa=this.Mb=0}function Ve(h,m,w,R){e(w!=null),e(R!=null);var j=w[0],z=R[0];return j==0&&(j=(h*z+m/2)/m),z==0&&(z=(m*j+h/2)/h),0>=j||0>=z?0:(w[0]=j,R[0]=z,1)}function Ze(h,m){return h+(1<<m)-1>>>m}function Le(h,m){return((4278255360&h)+(4278255360&m)>>>0&4278255360)+((16711935&h)+(16711935&m)>>>0&16711935)>>>0}function De(h,m){A[m]=function(w,R,j,z,q,$,H){var Z;for(Z=0;Z<q;++Z){var ae=A[h]($[H+Z-1],j,z+Z);$[H+Z]=Le(w[R+Z],ae)}}}function je(){this.ud=this.hd=this.jd=0}function qe(h,m){return((4278124286&(h^m))>>>1)+(h&m)>>>0}function st(h){return 0<=h&&256>h?h:0>h?0:255<h?255:void 0}function mt(h,m){return st(h+(h-m+.5>>1))}function It(h,m,w){return Math.abs(m-w)-Math.abs(h-w)}function _t(h,m,w,R,j,z,q){for(R=z[q-1],w=0;w<j;++w)z[q+w]=R=Le(h[m+w],R)}function Pt(h,m,w,R,j){var z;for(z=0;z<w;++z){var q=h[m+z],$=q>>8&255,H=16711935&(H=(H=16711935&q)+(($<<16)+$));R[j+z]=(4278255360&q)+H>>>0}}function Vt(h,m){m.jd=h>>0&255,m.hd=h>>8&255,m.ud=h>>16&255}function ht(h,m,w,R,j,z){var q;for(q=0;q<R;++q){var $=m[w+q],H=$>>>8,Z=$,ae=255&(ae=(ae=$>>>16)+((h.jd<<24>>24)*(H<<24>>24)>>>5));Z=255&(Z=(Z=Z+((h.hd<<24>>24)*(H<<24>>24)>>>5))+((h.ud<<24>>24)*(ae<<24>>24)>>>5)),j[z+q]=(4278255360&$)+(ae<<16)+Z}}function xt(h,m,w,R,j){A[m]=function(z,q,$,H,Z,ae,ve,_e,de){for(H=ve;H<_e;++H)for(ve=0;ve<de;++ve)Z[ae++]=j($[R(z[q++])])},A[h]=function(z,q,$,H,Z,ae,ve){var _e=8>>z.b,de=z.Ea,Te=z.K[0],Ie=z.w;if(8>_e)for(z=(1<<z.b)-1,Ie=(1<<_e)-1;q<$;++q){var le,ce=0;for(le=0;le<de;++le)le&z||(ce=R(H[Z++])),ae[ve++]=j(Te[ce&Ie]),ce>>=_e}else A["VP8LMapColor"+w](H,Z,Te,Ie,ae,ve,q,$,de)}}function Ke(h,m,w,R,j){for(w=m+w;m<w;){var z=h[m++];R[j++]=z>>16&255,R[j++]=z>>8&255,R[j++]=z>>0&255}}function ln(h,m,w,R,j){for(w=m+w;m<w;){var z=h[m++];R[j++]=z>>16&255,R[j++]=z>>8&255,R[j++]=z>>0&255,R[j++]=z>>24&255}}function Ct(h,m,w,R,j){for(w=m+w;m<w;){var z=(q=h[m++])>>16&240|q>>12&15,q=q>>0&240|q>>28&15;R[j++]=z,R[j++]=q}}function ir(h,m,w,R,j){for(w=m+w;m<w;){var z=(q=h[m++])>>16&248|q>>13&7,q=q>>5&224|q>>3&31;R[j++]=z,R[j++]=q}}function pe(h,m,w,R,j){for(w=m+w;m<w;){var z=h[m++];R[j++]=z>>0&255,R[j++]=z>>8&255,R[j++]=z>>16&255}}function ke(h,m,w,R,j,z){if(z==0)for(w=m+w;m<w;)Ce(R,((z=h[m++])[0]>>24|z[1]>>8&65280|z[2]<<8&16711680|z[3]<<24)>>>0),j+=32;else r(R,j,h,m,w)}function Be(h,m){A[m][0]=A[h+"0"],A[m][1]=A[h+"1"],A[m][2]=A[h+"2"],A[m][3]=A[h+"3"],A[m][4]=A[h+"4"],A[m][5]=A[h+"5"],A[m][6]=A[h+"6"],A[m][7]=A[h+"7"],A[m][8]=A[h+"8"],A[m][9]=A[h+"9"],A[m][10]=A[h+"10"],A[m][11]=A[h+"11"],A[m][12]=A[h+"12"],A[m][13]=A[h+"13"],A[m][14]=A[h+"0"],A[m][15]=A[h+"0"]}function We(h){return h==Ay||h==Ty||h==Km||h==xy}function Nt(){this.eb=[],this.size=this.A=this.fb=0}function gt(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Ot(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Nt,this.f.kb=new gt,this.sd=null}function Ut(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function vt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function it(h){return alert("todo:WebPSamplerProcessPlane"),h.T}function wt(h,m){var w=h.T,R=m.ba.f.RGBA,j=R.eb,z=R.fb+h.ka*R.A,q=ls[m.ba.S],$=h.y,H=h.O,Z=h.f,ae=h.N,ve=h.ea,_e=h.W,de=m.cc,Te=m.dc,Ie=m.Mc,le=m.Nc,ce=h.ka,Se=h.ka+h.T,Pe=h.U,Ae=Pe+1>>1;for(ce==0?q($,H,null,null,Z,ae,ve,_e,Z,ae,ve,_e,j,z,null,null,Pe):(q(m.ec,m.fc,$,H,de,Te,Ie,le,Z,ae,ve,_e,j,z-R.A,j,z,Pe),++w);ce+2<Se;ce+=2)de=Z,Te=ae,Ie=ve,le=_e,ae+=h.Rc,_e+=h.Rc,z+=2*R.A,q($,(H+=2*h.fa)-h.fa,$,H,de,Te,Ie,le,Z,ae,ve,_e,j,z-R.A,j,z,Pe);return H+=h.fa,h.j+Se<h.o?(r(m.ec,m.fc,$,H,Pe),r(m.cc,m.dc,Z,ae,Ae),r(m.Mc,m.Nc,ve,_e,Ae),w--):1&Se||q($,H,null,null,Z,ae,ve,_e,Z,ae,ve,_e,j,z+R.A,null,null,Pe),w}function rn(h,m,w){var R=h.F,j=[h.J];if(R!=null){var z=h.U,q=m.ba.S,$=q==Gm||q==Km;m=m.ba.f.RGBA;var H=[0],Z=h.ka;H[0]=h.T,h.Kb&&(Z==0?--H[0]:(--Z,j[0]-=h.width),h.j+h.ka+h.T==h.o&&(H[0]=h.o-h.j-Z));var ae=m.eb;Z=m.fb+Z*m.A,h=hn(R,j[0],h.width,z,H,ae,Z+($?0:3),m.A),e(w==H),h&&We(q)&&os(ae,Z,$,z,H,m.A)}return 0}function tn(h){var m=h.ma,w=m.ba.S,R=11>w,j=w==Wm||w==Hm||w==Gm||w==Sy||w==12||We(w);if(m.memory=null,m.Ib=null,m.Jb=null,m.Nd=null,!Hd(m.Oa,h,j?11:12))return 0;if(j&&We(w)&&re(),h.da)alert("todo:use_scaling");else{if(R){if(m.Ib=it,h.Kb){if(w=h.U+1>>1,m.memory=s(h.U+2*w),m.memory==null)return 0;m.ec=m.memory,m.fc=0,m.cc=m.ec,m.dc=m.fc+h.U,m.Mc=m.cc,m.Nc=m.dc+w,m.Ib=wt,re()}}else alert("todo:EmitYUV");j&&(m.Jb=rn,R&&O())}if(R&&!Gb){for(h=0;256>h;++h)PR[h]=89858*(h-128)+Ym>>Qm,kR[h]=-22014*(h-128)+Ym,CR[h]=-45773*(h-128),NR[h]=113618*(h-128)+Ym>>Qm;for(h=tf;h<Cy;++h)m=76283*(h-16)+Ym>>Qm,RR[h-tf]=Oi(m,255),LR[h-tf]=Oi(m+8>>4,15);Gb=1}return 1}function sn(h){var m=h.ma,w=h.U,R=h.T;return e(!(1&h.ka)),0>=w||0>=R?0:(w=m.Ib(h,m),m.Jb!=null&&m.Jb(h,m,w),m.Dc+=w,1)}function wn(h){h.ma.memory=null}function lt(h,m,w,R){return oe(h,8)!=47?0:(m[0]=oe(h,14)+1,w[0]=oe(h,14)+1,R[0]=oe(h,1),oe(h,3)!=0?0:!h.h)}function Lr(h,m){if(4>h)return h+1;var w=h-2>>1;return(2+(1&h)<<w)+oe(m,w)+1}function Ir(h,m){return 120<m?m-120:1<=(w=((w=pR[m-1])>>4)*h+(8-(15&w)))?w:1;var w}function Er(h,m,w){var R=W(w),j=h[m+=255&R].g-8;return 0<j&&(te(w,w.u+8),R=W(w),m+=h[m].value,m+=R&(1<<j)-1),te(w,w.u+h[m].g),h[m].value}function Dn(h,m,w){return w.g+=h.g,w.value+=h.value<<m>>>0,e(8>=w.g),h.g}function bn(h,m,w){var R=h.xc;return e((m=R==0?0:h.vc[h.md*(w>>R)+(m>>R)])<h.Wb),h.Ya[m]}function sr(h,m,w,R){var j=h.ab,z=h.c*m,q=h.C;m=q+m;var $=w,H=R;for(R=h.Ta,w=h.Ua;0<j--;){var Z=h.gc[j],ae=q,ve=m,_e=$,de=H,Te=(H=R,$=w,Z.Ea);switch(e(ae<ve),e(ve<=Z.nc),Z.hc){case 2:Vm(_e,de,(ve-ae)*Te,H,$);break;case 0:var Ie=ae,le=ve,ce=H,Se=$,Pe=(Qe=Z).Ea;Ie==0&&(Iy(_e,de,null,null,1,ce,Se),_t(_e,de+1,0,0,Pe-1,ce,Se+1),de+=Pe,Se+=Pe,++Ie);for(var Ae=1<<Qe.b,Xe=Ae-1,He=Ze(Pe,Qe.b),ft=Qe.K,Qe=Qe.w+(Ie>>Qe.b)*He;Ie<le;){var Wt=ft,Qt=Qe,zt=1;for(Qd(_e,de,ce,Se-Pe,1,ce,Se);zt<Pe;){var Ft=(zt&~Xe)+Ae;Ft>Pe&&(Ft=Pe),(0,Ma[Wt[Qt++]>>8&15])(_e,de+ +zt,ce,Se+zt-Pe,Ft-zt,ce,Se+zt),zt=Ft}de+=Pe,Se+=Pe,++Ie&Xe||(Qe+=He)}ve!=Z.nc&&r(H,$-Te,H,$+(ve-ae-1)*Te,Te);break;case 1:for(Te=_e,le=de,Pe=(_e=Z.Ea)-(Se=_e&~(ce=(de=1<<Z.b)-1)),Ie=Ze(_e,Z.b),Ae=Z.K,Z=Z.w+(ae>>Z.b)*Ie;ae<ve;){for(Xe=Ae,He=Z,ft=new je,Qe=le+Se,Wt=le+_e;le<Qe;)Vt(Xe[He++],ft),mu(ft,Te,le,de,H,$),le+=de,$+=de;le<Wt&&(Vt(Xe[He++],ft),mu(ft,Te,le,Pe,H,$),le+=Pe,$+=Pe),++ae&ce||(Z+=Ie)}break;case 3:if(_e==H&&de==$&&0<Z.b){for(le=H,_e=Te=$+(ve-ae)*Te-(Se=(ve-ae)*Ze(Z.Ea,Z.b)),de=H,ce=$,Ie=[],Se=(Pe=Se)-1;0<=Se;--Se)Ie[Se]=de[ce+Se];for(Se=Pe-1;0<=Se;--Se)le[_e+Se]=Ie[Se];rs(Z,ae,ve,H,Te,H,$)}else rs(Z,ae,ve,_e,de,H,$)}$=R,H=w}H!=w&&r(R,w,$,H,z)}function Ta(h,m){var w=h.V,R=h.Ba+h.c*h.C,j=m-h.C;if(e(m<=h.l.o),e(16>=j),0<j){var z=h.l,q=h.Ta,$=h.Ua,H=z.width;if(sr(h,j,w,R),j=$=[$],e((w=h.C)<(R=m)),e(z.v<z.va),R>z.o&&(R=z.o),w<z.j){var Z=z.j-w;w=z.j,j[0]+=Z*H}if(w>=R?w=0:(j[0]+=4*z.v,z.ka=w-z.j,z.U=z.va-z.v,z.T=R-w,w=1),w){if($=$[0],11>(w=h.ca).S){var ae=w.f.RGBA,ve=(R=w.S,j=z.U,z=z.T,Z=ae.eb,ae.A),_e=z;for(ae=ae.fb+h.Ma*ae.A;0<_e--;){var de=q,Te=$,Ie=j,le=Z,ce=ae;switch(R){case $m:wi(de,Te,Ie,le,ce);break;case Wm:ei(de,Te,Ie,le,ce);break;case Ay:ei(de,Te,Ie,le,ce),os(le,ce,0,Ie,1,0);break;case Mb:Ho(de,Te,Ie,le,ce);break;case Hm:ke(de,Te,Ie,le,ce,1);break;case Ty:ke(de,Te,Ie,le,ce,1),os(le,ce,0,Ie,1,0);break;case Gm:ke(de,Te,Ie,le,ce,0);break;case Km:ke(de,Te,Ie,le,ce,0),os(le,ce,1,Ie,1,0);break;case Sy:Va(de,Te,Ie,le,ce);break;case xy:Va(de,Te,Ie,le,ce),cn(le,ce,Ie,1,0);break;case Vb:Wo(de,Te,Ie,le,ce);break;default:e(0)}$+=H,ae+=ve}h.Ma+=z}else alert("todo:EmitRescaledRowsYUVA");e(h.Ma<=w.height)}}h.C=m,e(h.C<=h.i)}function fr(h){var m;if(0<h.ua)return 0;for(m=0;m<h.Wb;++m){var w=h.Ya[m].G,R=h.Ya[m].H;if(0<w[1][R[1]+0].g||0<w[2][R[2]+0].g||0<w[3][R[3]+0].g)return 0}return 1}function pi(h,m,w,R,j,z){if(h.Z!=0){var q=h.qd,$=h.rd;for(e(za[h.Z]!=null);m<w;++m)za[h.Z](q,$,R,j,R,j,z),q=R,$=j,j+=z;h.qd=q,h.rd=$}}function mi(h,m){var w=h.l.ma,R=w.Z==0||w.Z==1?h.l.j:h.C;if(R=h.C<R?R:h.C,e(m<=h.l.o),m>R){var j=h.l.width,z=w.ca,q=w.tb+j*R,$=h.V,H=h.Ba+h.c*R,Z=h.gc;e(h.ab==1),e(Z[0].hc==3),jm(Z[0],R,m,$,H,z,q),pi(w,R,m,z,q,j)}h.C=h.Ma=m}function Kr(h,m,w,R,j,z,q){var $=h.$/R,H=h.$%R,Z=h.m,ae=h.s,ve=w+h.$,_e=ve;j=w+R*j;var de=w+R*z,Te=280+ae.ua,Ie=h.Pb?$:16777216,le=0<ae.ua?ae.Wa:null,ce=ae.wc,Se=ve<de?bn(ae,H,$):null;e(h.C<z),e(de<=j);var Pe=!1;e:for(;;){for(;Pe||ve<de;){var Ae=0;if($>=Ie){var Xe=ve-w;e((Ie=h).Pb),Ie.wd=Ie.m,Ie.xd=Xe,0<Ie.s.ua&&Ee(Ie.s.Wa,Ie.s.vb),Ie=$+gR}if(H&ce||(Se=bn(ae,H,$)),e(Se!=null),Se.Qb&&(m[ve]=Se.qb,Pe=!0),!Pe)if(ne(Z),Se.jc){Ae=Z,Xe=m;var He=ve,ft=Se.pd[W(Ae)&Sr-1];e(Se.jc),256>ft.g?(te(Ae,Ae.u+ft.g),Xe[He]=ft.value,Ae=0):(te(Ae,Ae.u+ft.g-256),e(256<=ft.value),Ae=ft.value),Ae==0&&(Pe=!0)}else Ae=Er(Se.G[0],Se.H[0],Z);if(Z.h)break;if(Pe||256>Ae){if(!Pe)if(Se.nd)m[ve]=(Se.qb|Ae<<8)>>>0;else{if(ne(Z),Pe=Er(Se.G[1],Se.H[1],Z),ne(Z),Xe=Er(Se.G[2],Se.H[2],Z),He=Er(Se.G[3],Se.H[3],Z),Z.h)break;m[ve]=(He<<24|Pe<<16|Ae<<8|Xe)>>>0}if(Pe=!1,++ve,++H>=R&&(H=0,++$,q!=null&&$<=z&&!($%16)&&q(h,$),le!=null))for(;_e<ve;)Ae=m[_e++],le.X[(506832829*Ae&4294967295)>>>le.Mb]=Ae}else if(280>Ae){if(Ae=Lr(Ae-256,Z),Xe=Er(Se.G[4],Se.H[4],Z),ne(Z),Xe=Ir(R,Xe=Lr(Xe,Z)),Z.h)break;if(ve-w<Xe||j-ve<Ae)break e;for(He=0;He<Ae;++He)m[ve+He]=m[ve+He-Xe];for(ve+=Ae,H+=Ae;H>=R;)H-=R,++$,q!=null&&$<=z&&!($%16)&&q(h,$);if(e(ve<=j),H&ce&&(Se=bn(ae,H,$)),le!=null)for(;_e<ve;)Ae=m[_e++],le.X[(506832829*Ae&4294967295)>>>le.Mb]=Ae}else{if(!(Ae<Te))break e;for(Pe=Ae-280,e(le!=null);_e<ve;)Ae=m[_e++],le.X[(506832829*Ae&4294967295)>>>le.Mb]=Ae;Ae=ve,e(!(Pe>>>(Xe=le).Xa)),m[Ae]=Xe.X[Pe],Pe=!0}Pe||e(Z.h==Q(Z))}if(h.Pb&&Z.h&&ve<j)e(h.m.h),h.a=5,h.m=h.wd,h.$=h.xd,0<h.s.ua&&Ee(h.s.vb,h.s.Wa);else{if(Z.h)break e;q!=null&&q(h,$>z?z:$),h.a=0,h.$=ve-w}return 1}return h.a=3,0}function gi(h){e(h!=null),h.vc=null,h.yc=null,h.Ya=null;var m=h.Wa;m!=null&&(m.X=null),h.vb=null,e(h!=null)}function Qr(){var h=new Vc;return h==null?null:(h.a=0,h.xb=Ub,Be("Predictor","VP8LPredictors"),Be("Predictor","VP8LPredictors_C"),Be("PredictorAdd","VP8LPredictorsAdd"),Be("PredictorAdd","VP8LPredictorsAdd_C"),Vm=Pt,mu=ht,wi=Ke,ei=ln,Va=Ct,Wo=ir,Ho=pe,A.VP8LMapColor32b=$c,A.VP8LMapColor8b=Bm,h)}function Ji(h,m,w,R,j){var z=1,q=[h],$=[m],H=R.m,Z=R.s,ae=null,ve=0;e:for(;;){if(w)for(;z&&oe(H,1);){var _e=q,de=$,Te=R,Ie=1,le=Te.m,ce=Te.gc[Te.ab],Se=oe(le,2);if(Te.Oc&1<<Se)z=0;else{switch(Te.Oc|=1<<Se,ce.hc=Se,ce.Ea=_e[0],ce.nc=de[0],ce.K=[null],++Te.ab,e(4>=Te.ab),Se){case 0:case 1:ce.b=oe(le,3)+2,Ie=Ji(Ze(ce.Ea,ce.b),Ze(ce.nc,ce.b),0,Te,ce.K),ce.K=ce.K[0];break;case 3:var Pe,Ae=oe(le,8)+1,Xe=16<Ae?0:4<Ae?1:2<Ae?2:3;if(_e[0]=Ze(ce.Ea,Xe),ce.b=Xe,Pe=Ie=Ji(Ae,1,0,Te,ce.K)){var He,ft=Ae,Qe=ce,Wt=1<<(8>>Qe.b),Qt=s(Wt);if(Qt==null)Pe=0;else{var zt=Qe.K[0],Ft=Qe.w;for(Qt[0]=Qe.K[0][0],He=1;He<1*ft;++He)Qt[He]=Le(zt[Ft+He],Qt[He-1]);for(;He<4*Wt;++He)Qt[He]=0;Qe.K[0]=null,Qe.K[0]=Qt,Pe=1}}Ie=Pe;break;case 2:break;default:e(0)}z=Ie}}if(q=q[0],$=$[0],z&&oe(H,1)&&!(z=1<=(ve=oe(H,4))&&11>=ve)){R.a=3;break e}var on;if(on=z)t:{var nn,St,Jn,bi=R,Xn=q,Ii=$,Yt=ve,Mi=w,Vi=bi.m,mr=bi.s,Ar=[null],ni=1,us=0,co=mR[Yt];n:for(;;){if(Mi&&oe(Vi,1)){var gr=oe(Vi,3)+2,Yo=Ze(Xn,gr),wu=Ze(Ii,gr),Qc=Yo*wu;if(!Ji(Yo,wu,0,bi,Ar))break n;for(Ar=Ar[0],mr.xc=gr,nn=0;nn<Qc;++nn){var qa=Ar[nn]>>8&65535;Ar[nn]=qa,qa>=ni&&(ni=qa+1)}}if(Vi.h)break n;for(St=0;5>St;++St){var On=jb[St];!St&&0<Yt&&(On+=1<<Yt),us<On&&(us=On)}var ky=o(ni*co,P),Yb=ni,Jb=o(Yb,G);if(Jb==null)var Xm=null;else e(65536>=Yb),Xm=Jb;var nf=s(us);if(Xm==null||nf==null||ky==null){bi.a=1;break n}var Zm=ky;for(nn=Jn=0;nn<ni;++nn){var Ls=Xm[nn],Yc=Ls.G,Jc=Ls.H,Xb=0,eg=1,Zb=0;for(St=0;5>St;++St){On=jb[St],Yc[St]=Zm,Jc[St]=Jn,!St&&0<Yt&&(On+=1<<Yt);i:{var tg,Ry=On,ng=bi,rf=nf,FR=Zm,MR=Jn,Ly=0,$a=ng.m,VR=oe($a,1);if(i(rf,0,0,Ry),VR){var jR=oe($a,1)+1,BR=oe($a,1),eI=oe($a,BR==0?1:8);rf[eI]=1,jR==2&&(rf[eI=oe($a,8)]=1);var rg=1}else{var tI=s(19),nI=oe($a,4)+4;if(19<nI){ng.a=3;var ig=0;break i}for(tg=0;tg<nI;++tg)tI[fR[tg]]=oe($a,3);var Dy=void 0,sf=void 0,rI=ng,UR=tI,sg=Ry,iI=rf,Oy=0,Wa=rI.m,sI=8,oI=o(128,P);r:for(;T(oI,0,7,UR,19);){if(oe(Wa,1)){var zR=2+2*oe(Wa,3);if((Dy=2+oe(Wa,zR))>sg)break r}else Dy=sg;for(sf=0;sf<sg&&Dy--;){ne(Wa);var aI=oI[0+(127&W(Wa))];te(Wa,Wa.u+aI.g);var Xc=aI.value;if(16>Xc)iI[sf++]=Xc,Xc!=0&&(sI=Xc);else{var qR=Xc==16,lI=Xc-16,$R=hR[lI],uI=oe(Wa,cR[lI])+$R;if(sf+uI>sg)break r;for(var WR=qR?sI:0;0<uI--;)iI[sf++]=WR}}Oy=1;break r}Oy||(rI.a=3),rg=Oy}(rg=rg&&!$a.h)&&(Ly=T(FR,MR,8,rf,Ry)),rg&&Ly!=0?ig=Ly:(ng.a=3,ig=0)}if(ig==0)break n;if(eg&&dR[St]==1&&(eg=Zm[Jn].g==0),Xb+=Zm[Jn].g,Jn+=ig,3>=St){var of,Fy=nf[0];for(of=1;of<On;++of)nf[of]>Fy&&(Fy=nf[of]);Zb+=Fy}}if(Ls.nd=eg,Ls.Qb=0,eg&&(Ls.qb=(Yc[3][Jc[3]+0].value<<24|Yc[1][Jc[1]+0].value<<16|Yc[2][Jc[2]+0].value)>>>0,Xb==0&&256>Yc[0][Jc[0]+0].value&&(Ls.Qb=1,Ls.qb+=Yc[0][Jc[0]+0].value<<8)),Ls.jc=!Ls.Qb&&6>Zb,Ls.jc){var og,Jo=Ls;for(og=0;og<Sr;++og){var Ha=og,Ga=Jo.pd[Ha],ag=Jo.G[0][Jo.H[0]+Ha];256<=ag.value?(Ga.g=ag.g+256,Ga.value=ag.value):(Ga.g=0,Ga.value=0,Ha>>=Dn(ag,8,Ga),Ha>>=Dn(Jo.G[1][Jo.H[1]+Ha],16,Ga),Ha>>=Dn(Jo.G[2][Jo.H[2]+Ha],0,Ga),Dn(Jo.G[3][Jo.H[3]+Ha],24,Ga))}}}mr.vc=Ar,mr.Wb=ni,mr.Ya=Xm,mr.yc=ky,on=1;break t}on=0}if(!(z=on)){R.a=3;break e}if(0<ve){if(Z.ua=1<<ve,!at(Z.Wa,ve)){R.a=1,z=0;break e}}else Z.ua=0;var My=R,cI=q,HR=$,Vy=My.s,jy=Vy.xc;if(My.c=cI,My.i=HR,Vy.md=Ze(cI,jy),Vy.wc=jy==0?-1:(1<<jy)-1,w){R.xb=ER;break e}if((ae=s(q*$))==null){R.a=1,z=0;break e}z=(z=Kr(R,ae,0,q,$,$,null))&&!H.h;break e}return z?(j!=null?j[0]=ae:(e(ae==null),e(w)),R.$=0,w||gi(Z)):gi(Z),z}function Xs(h,m){var w=h.c*h.i,R=w+m+16*m;return e(h.c<=m),h.V=s(R),h.V==null?(h.Ta=null,h.Ua=0,h.a=1,0):(h.Ta=h.V,h.Ua=h.Ba+w+m,1)}function xa(h,m){var w=h.C,R=m-w,j=h.V,z=h.Ba+h.c*w;for(e(m<=h.l.o);0<R;){var q=16<R?16:R,$=h.l.ma,H=h.l.width,Z=H*q,ae=$.ca,ve=$.tb+H*w,_e=h.Ta,de=h.Ua;sr(h,q,j,z),zn(_e,de,ae,ve,Z),pi($,w,w+q,ae,ve,H),R-=q,j+=q*h.c,w+=q}e(w==m),h.C=h.Ma=m}function bs(){this.ub=this.yd=this.td=this.Rb=0}function Vo(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Zs(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function eo(){this.Yb=function(){var h=[];return function m(w,R,j){for(var z=j[R],q=0;q<z&&(w.push(j.length>R+1?[]:0),!(j.length<R+1));q++)m(w[q],R+1,j)}(h,0,[3,11]),h}()}function Is(){this.jb=s(3),this.Wc=a([4,8],eo),this.Xc=a([4,17],eo)}function ru(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function Pa(){this.ld=this.La=this.dd=this.tc=0}function iu(){this.Na=this.la=0}function Ac(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Na(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function su(){this.uc=this.M=this.Nb=0,this.wa=Array(new Pa),this.Y=0,this.ya=Array(new Na),this.aa=0,this.l=new jo}function Ca(){this.y=s(16),this.f=s(8),this.ea=s(8)}function Tc(){this.cb=this.a=0,this.sc="",this.m=new me,this.Od=new bs,this.Kc=new Vo,this.ed=new ru,this.Qa=new Zs,this.Ic=this.$c=this.Aa=0,this.D=new su,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,me),this.ia=0,this.pb=o(4,Ac),this.Pa=new Is,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Ca),this.Hd=0,this.rb=Array(new iu),this.sb=0,this.wa=Array(new Pa),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Na),this.L=this.aa=0,this.gd=a([4,2],Pa),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function jo(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function xc(){var h=new Tc;return h!=null&&(h.a=0,h.sc="OK",h.cb=0,h.Xb=0,ef||(ef=to)),h}function xn(h,m,w){return h.a==0&&(h.a=m,h.sc=w,h.cb=0),0}function Li(h,m,w){return 3<=w&&h[m+0]==157&&h[m+1]==1&&h[m+2]==42}function Yr(h,m){if(h==null)return 0;if(h.a=0,h.sc="OK",m==null)return xn(h,2,"null VP8Io passed to VP8GetHeaders()");var w=m.data,R=m.w,j=m.ha;if(4>j)return xn(h,7,"Truncated header.");var z=w[R+0]|w[R+1]<<8|w[R+2]<<16,q=h.Od;if(q.Rb=!(1&z),q.td=z>>1&7,q.yd=z>>4&1,q.ub=z>>5,3<q.td)return xn(h,3,"Incorrect keyframe parameters.");if(!q.yd)return xn(h,4,"Frame not displayable.");R+=3,j-=3;var $=h.Kc;if(q.Rb){if(7>j)return xn(h,7,"cannot parse picture header");if(!Li(w,R,j))return xn(h,3,"Bad code word");$.c=16383&(w[R+4]<<8|w[R+3]),$.Td=w[R+4]>>6,$.i=16383&(w[R+6]<<8|w[R+5]),$.Ud=w[R+6]>>6,R+=7,j-=7,h.za=$.c+15>>4,h.Ub=$.i+15>>4,m.width=$.c,m.height=$.i,m.Da=0,m.j=0,m.v=0,m.va=m.width,m.o=m.height,m.da=0,m.ib=m.width,m.hb=m.height,m.U=m.width,m.T=m.height,i((z=h.Pa).jb,0,255,z.jb.length),e((z=h.Qa)!=null),z.Cb=0,z.Bb=0,z.Fb=1,i(z.Zb,0,0,z.Zb.length),i(z.Lb,0,0,z.Lb)}if(q.ub>j)return xn(h,7,"bad partition length");ue(z=h.m,w,R,q.ub),R+=q.ub,j-=q.ub,q.Rb&&($.Ld=fe(z),$.Kd=fe(z)),$=h.Qa;var H,Z=h.Pa;if(e(z!=null),e($!=null),$.Cb=fe(z),$.Cb){if($.Bb=fe(z),fe(z)){for($.Fb=fe(z),H=0;4>H;++H)$.Zb[H]=fe(z)?X(z,7):0;for(H=0;4>H;++H)$.Lb[H]=fe(z)?X(z,6):0}if($.Bb)for(H=0;3>H;++H)Z.jb[H]=fe(z)?ee(z,8):255}else $.Bb=0;if(z.Ka)return xn(h,3,"cannot parse segment header");if(($=h.ed).zd=fe(z),$.Tb=ee(z,6),$.wb=ee(z,3),$.Pc=fe(z),$.Pc&&fe(z)){for(Z=0;4>Z;++Z)fe(z)&&($.vd[Z]=X(z,6));for(Z=0;4>Z;++Z)fe(z)&&($.od[Z]=X(z,6))}if(h.L=$.Tb==0?0:$.zd?1:2,z.Ka)return xn(h,3,"cannot parse filter header");var ae=j;if(j=H=R,R=H+ae,$=ae,h.Xb=(1<<ee(h.m,2))-1,ae<3*(Z=h.Xb))w=7;else{for(H+=3*Z,$-=3*Z,ae=0;ae<Z;++ae){var ve=w[j+0]|w[j+1]<<8|w[j+2]<<16;ve>$&&(ve=$),ue(h.Jc[+ae],w,H,ve),H+=ve,$-=ve,j+=3}ue(h.Jc[+Z],w,H,$),w=H<R?0:5}if(w!=0)return xn(h,w,"cannot parse partitions");for(w=ee(H=h.m,7),j=fe(H)?X(H,4):0,R=fe(H)?X(H,4):0,$=fe(H)?X(H,4):0,Z=fe(H)?X(H,4):0,H=fe(H)?X(H,4):0,ae=h.Qa,ve=0;4>ve;++ve){if(ae.Cb){var _e=ae.Zb[ve];ae.Fb||(_e+=w)}else{if(0<ve){h.pb[ve]=h.pb[0];continue}_e=w}var de=h.pb[ve];de.Sc[0]=Py[Oi(_e+j,127)],de.Sc[1]=Ny[Oi(_e+0,127)],de.Eb[0]=2*Py[Oi(_e+R,127)],de.Eb[1]=101581*Ny[Oi(_e+$,127)]>>16,8>de.Eb[1]&&(de.Eb[1]=8),de.Qc[0]=Py[Oi(_e+Z,117)],de.Qc[1]=Ny[Oi(_e+H,127)],de.lc=_e+H}if(!q.Rb)return xn(h,4,"Not a key frame.");for(fe(z),q=h.Pa,w=0;4>w;++w){for(j=0;8>j;++j)for(R=0;3>R;++R)for($=0;11>$;++$)Z=ge(z,bR[w][j][R][$])?ee(z,8):_R[w][j][R][$],q.Wc[w][j].Yb[R][$]=Z;for(j=0;17>j;++j)q.Xc[w][j]=q.Wc[w][IR[j]]}return h.kc=fe(z),h.kc&&(h.Bd=ee(z,8)),h.cb=1}function to(h,m,w,R,j,z,q){var $=m[j].Yb[w];for(w=0;16>j;++j){if(!ge(h,$[w+0]))return j;for(;!ge(h,$[w+1]);)if($=m[++j].Yb[0],w=0,j==16)return 16;var H=m[j+1].Yb;if(ge(h,$[w+2])){var Z=h,ae=0;if(ge(Z,(_e=$)[(ve=w)+3]))if(ge(Z,_e[ve+6])){for($=0,ve=2*(ae=ge(Z,_e[ve+8]))+(_e=ge(Z,_e[ve+9+ae])),ae=0,_e=yR[ve];_e[$];++$)ae+=ae+ge(Z,_e[$]);ae+=3+(8<<ve)}else ge(Z,_e[ve+7])?(ae=7+2*ge(Z,165),ae+=ge(Z,145)):ae=5+ge(Z,159);else ae=ge(Z,_e[ve+4])?3+ge(Z,_e[ve+5]):2;$=H[2]}else ae=1,$=H[1];H=q+vR[j],0>(Z=h).b&&he(Z);var ve,_e=Z.b,de=(ve=Z.Ca>>1)-(Z.I>>_e)>>31;--Z.b,Z.Ca+=de,Z.Ca|=1,Z.I-=(ve+1&de)<<_e,z[H]=((ae^de)-de)*R[(0<j)+0]}return 16}function Es(h){var m=h.rb[h.sb-1];m.la=0,m.Na=0,i(h.zc,0,0,h.zc.length),h.ja=0}function ou(h,m){if(h==null)return 0;if(m==null)return xn(h,2,"NULL VP8Io parameter in VP8Decode().");if(!h.cb&&!Yr(h,m))return 0;if(e(h.cb),m.ac==null||m.ac(m)){m.ob&&(h.L=0);var w=Jm[h.L];if(h.L==2?(h.yb=0,h.zb=0):(h.yb=m.v-w>>4,h.zb=m.j-w>>4,0>h.yb&&(h.yb=0),0>h.zb&&(h.zb=0)),h.Va=m.o+15+w>>4,h.Hb=m.va+15+w>>4,h.Hb>h.za&&(h.Hb=h.za),h.Va>h.Ub&&(h.Va=h.Ub),0<h.L){var R=h.ed;for(w=0;4>w;++w){var j;if(h.Qa.Cb){var z=h.Qa.Lb[w];h.Qa.Fb||(z+=R.Tb)}else z=R.Tb;for(j=0;1>=j;++j){var q=h.gd[w][j],$=z;if(R.Pc&&($+=R.vd[0],j&&($+=R.od[0])),0<($=0>$?0:63<$?63:$)){var H=$;0<R.wb&&(H=4<R.wb?H>>2:H>>1)>9-R.wb&&(H=9-R.wb),1>H&&(H=1),q.dd=H,q.tc=2*$+H,q.ld=40<=$?2:15<=$?1:0}else q.tc=0;q.La=j}}}w=0}else xn(h,6,"Frame setup failed"),w=h.a;if(w=w==0){if(w){h.$c=0,0<h.Aa||(h.Ic=OR);e:{w=h.Ic,R=4*(H=h.za);var Z=32*H,ae=H+1,ve=0<h.L?H*(0<h.Aa?2:1):0,_e=(h.Aa==2?2:1)*H;if((q=R+832+(j=3*(16*w+Jm[h.L])/2*Z)+(z=h.Fa!=null&&0<h.Fa.length?h.Kc.c*h.Kc.i:0))!=q)w=0;else{if(q>h.Vb){if(h.Vb=0,h.Ec=s(q),h.Fc=0,h.Ec==null){w=xn(h,1,"no memory during frame initialization.");break e}h.Vb=q}q=h.Ec,$=h.Fc,h.Ac=q,h.Bc=$,$+=R,h.Gd=o(Z,Ca),h.Hd=0,h.rb=o(ae+1,iu),h.sb=1,h.wa=ve?o(ve,Pa):null,h.Y=0,h.D.Nb=0,h.D.wa=h.wa,h.D.Y=h.Y,0<h.Aa&&(h.D.Y+=H),e(!0),h.oc=q,h.pc=$,$+=832,h.ya=o(_e,Na),h.aa=0,h.D.ya=h.ya,h.D.aa=h.aa,h.Aa==2&&(h.D.aa+=H),h.R=16*H,h.B=8*H,H=(Z=Jm[h.L])*h.R,Z=Z/2*h.B,h.sa=q,h.ta=$+H,h.qa=h.sa,h.ra=h.ta+16*w*h.R+Z,h.Ha=h.qa,h.Ia=h.ra+8*w*h.B+Z,h.$c=0,$+=j,h.mb=z?q:null,h.nb=z?$:null,e($+z<=h.Fc+h.Vb),Es(h),i(h.Ac,h.Bc,0,R),w=1}}if(w){if(m.ka=0,m.y=h.sa,m.O=h.ta,m.f=h.qa,m.N=h.ra,m.ea=h.Ha,m.Vd=h.Ia,m.fa=h.R,m.Rc=h.B,m.F=null,m.J=0,!zm){for(w=-255;255>=w;++w)ar[255+w]=0>w?-w:w;for(w=-1020;1020>=w;++w)Ko[1020+w]=-128>w?-128:127<w?127:w;for(w=-112;112>=w;++w)Zd[112+w]=-16>w?-16:15<w?15:w;for(w=-255;510>=w;++w)Kc[255+w]=0>w?0:255<w?255:w;zm=1}Wc=Bd,Go=Nc,Yd=Cc,ti=jd,is=kc,Un=Pc,Hc=Cs,Um=oo,Jd=du,gu=Da,yu=Mc,ja=ao,vu=lo,Gc=fu,_u=Ra,Ba=Xr,Xd=ts,ss=La,Rs[0]=Jr,Rs[1]=xs,Rs[2]=zd,Rs[3]=au,Rs[4]=lu,Rs[5]=Zi,Rs[6]=no,Rs[7]=ka,Rs[8]=un,Rs[9]=uu,Ua[0]=Ps,Ua[1]=Lc,Ua[2]=Xi,Ua[3]=Bo,Ua[4]=pr,Ua[5]=Ud,Ua[6]=Dc,Qo[0]=Ns,Qo[1]=Rc,Qo[2]=qd,Qo[3]=cu,Qo[4]=es,Qo[5]=Oc,Qo[6]=yi,w=1}else w=0}w&&(w=function(de,Te){for(de.M=0;de.M<de.Va;++de.M){var Ie,le=de.Jc[de.M&de.Xb],ce=de.m,Se=de;for(Ie=0;Ie<Se.za;++Ie){var Pe=ce,Ae=Se,Xe=Ae.Ac,He=Ae.Bc+4*Ie,ft=Ae.zc,Qe=Ae.ya[Ae.aa+Ie];if(Ae.Qa.Bb?Qe.$b=ge(Pe,Ae.Pa.jb[0])?2+ge(Pe,Ae.Pa.jb[2]):ge(Pe,Ae.Pa.jb[1]):Qe.$b=0,Ae.kc&&(Qe.Ad=ge(Pe,Ae.Bd)),Qe.Za=!ge(Pe,145)+0,Qe.Za){var Wt=Qe.Ob,Qt=0;for(Ae=0;4>Ae;++Ae){var zt,Ft=ft[0+Ae];for(zt=0;4>zt;++zt){Ft=wR[Xe[He+zt]][Ft];for(var on=Bb[ge(Pe,Ft[0])];0<on;)on=Bb[2*on+ge(Pe,Ft[on])];Ft=-on,Xe[He+zt]=Ft}r(Wt,Qt,Xe,He,4),Qt+=4,ft[0+Ae]=Ft}}else Ft=ge(Pe,156)?ge(Pe,128)?1:3:ge(Pe,163)?2:0,Qe.Ob[0]=Ft,i(Xe,He,Ft,4),i(ft,0,Ft,4);Qe.Dd=ge(Pe,142)?ge(Pe,114)?ge(Pe,183)?1:3:2:0}if(Se.m.Ka)return xn(de,7,"Premature end-of-partition0 encountered.");for(;de.ja<de.za;++de.ja){if(Se=le,Pe=(ce=de).rb[ce.sb-1],Xe=ce.rb[ce.sb+ce.ja],Ie=ce.ya[ce.aa+ce.ja],He=ce.kc?Ie.Ad:0)Pe.la=Xe.la=0,Ie.Za||(Pe.Na=Xe.Na=0),Ie.Hc=0,Ie.Gc=0,Ie.ia=0;else{var nn,St;if(Pe=Xe,Xe=Se,He=ce.Pa.Xc,ft=ce.ya[ce.aa+ce.ja],Qe=ce.pb[ft.$b],Ae=ft.ad,Wt=0,Qt=ce.rb[ce.sb-1],Ft=zt=0,i(Ae,Wt,0,384),ft.Za)var Jn=0,bi=He[3];else{on=s(16);var Xn=Pe.Na+Qt.Na;if(Xn=ef(Xe,He[1],Xn,Qe.Eb,0,on,0),Pe.Na=Qt.Na=(0<Xn)+0,1<Xn)Wc(on,0,Ae,Wt);else{var Ii=on[0]+3>>3;for(on=0;256>on;on+=16)Ae[Wt+on]=Ii}Jn=1,bi=He[0]}var Yt=15&Pe.la,Mi=15&Qt.la;for(on=0;4>on;++on){var Vi=1&Mi;for(Ii=St=0;4>Ii;++Ii)Yt=Yt>>1|(Vi=(Xn=ef(Xe,bi,Xn=Vi+(1&Yt),Qe.Sc,Jn,Ae,Wt))>Jn)<<7,St=St<<2|(3<Xn?3:1<Xn?2:Ae[Wt+0]!=0),Wt+=16;Yt>>=4,Mi=Mi>>1|Vi<<7,zt=(zt<<8|St)>>>0}for(bi=Yt,Jn=Mi>>4,nn=0;4>nn;nn+=2){for(St=0,Yt=Pe.la>>4+nn,Mi=Qt.la>>4+nn,on=0;2>on;++on){for(Vi=1&Mi,Ii=0;2>Ii;++Ii)Xn=Vi+(1&Yt),Yt=Yt>>1|(Vi=0<(Xn=ef(Xe,He[2],Xn,Qe.Qc,0,Ae,Wt)))<<3,St=St<<2|(3<Xn?3:1<Xn?2:Ae[Wt+0]!=0),Wt+=16;Yt>>=2,Mi=Mi>>1|Vi<<5}Ft|=St<<4*nn,bi|=Yt<<4<<nn,Jn|=(240&Mi)<<nn}Pe.la=bi,Qt.la=Jn,ft.Hc=zt,ft.Gc=Ft,ft.ia=43690&Ft?0:Qe.ia,He=!(zt|Ft)}if(0<ce.L&&(ce.wa[ce.Y+ce.ja]=ce.gd[Ie.$b][Ie.Za],ce.wa[ce.Y+ce.ja].La|=!He),Se.Ka)return xn(de,7,"Premature end-of-file encountered.")}if(Es(de),ce=Te,Se=1,Ie=(le=de).D,Pe=0<le.L&&le.M>=le.zb&&le.M<=le.Va,le.Aa==0)e:{if(Ie.M=le.M,Ie.uc=Pe,Wd(le,Ie),Se=1,Ie=(St=le.D).Nb,Pe=(Ft=Jm[le.L])*le.R,Xe=Ft/2*le.B,on=16*Ie*le.R,Ii=8*Ie*le.B,He=le.sa,ft=le.ta-Pe+on,Qe=le.qa,Ae=le.ra-Xe+Ii,Wt=le.Ha,Qt=le.Ia-Xe+Ii,Mi=(Yt=St.M)==0,zt=Yt>=le.Va-1,le.Aa==2&&Wd(le,St),St.uc)for(Vi=(Xn=le).D.M,e(Xn.D.uc),St=Xn.yb;St<Xn.Hb;++St){Jn=St,bi=Vi;var mr=(Ar=(On=Xn).D).Nb;nn=On.R;var Ar=Ar.wa[Ar.Y+Jn],ni=On.sa,us=On.ta+16*mr*nn+16*Jn,co=Ar.dd,gr=Ar.tc;if(gr!=0)if(e(3<=gr),On.L==1)0<Jn&&Ba(ni,us,nn,gr+4),Ar.La&&ss(ni,us,nn,gr),0<bi&&_u(ni,us,nn,gr+4),Ar.La&&Xd(ni,us,nn,gr);else{var Yo=On.B,wu=On.qa,Qc=On.ra+8*mr*Yo+8*Jn,qa=On.Ha,On=On.Ia+8*mr*Yo+8*Jn;mr=Ar.ld,0<Jn&&(Um(ni,us,nn,gr+4,co,mr),gu(wu,Qc,qa,On,Yo,gr+4,co,mr)),Ar.La&&(ja(ni,us,nn,gr,co,mr),Gc(wu,Qc,qa,On,Yo,gr,co,mr)),0<bi&&(Hc(ni,us,nn,gr+4,co,mr),Jd(wu,Qc,qa,On,Yo,gr+4,co,mr)),Ar.La&&(yu(ni,us,nn,gr,co,mr),vu(wu,Qc,qa,On,Yo,gr,co,mr))}}if(le.ia&&alert("todo:DitherRow"),ce.put!=null){if(St=16*Yt,Yt=16*(Yt+1),Mi?(ce.y=le.sa,ce.O=le.ta+on,ce.f=le.qa,ce.N=le.ra+Ii,ce.ea=le.Ha,ce.W=le.Ia+Ii):(St-=Ft,ce.y=He,ce.O=ft,ce.f=Qe,ce.N=Ae,ce.ea=Wt,ce.W=Qt),zt||(Yt-=Ft),Yt>ce.o&&(Yt=ce.o),ce.F=null,ce.J=null,le.Fa!=null&&0<le.Fa.length&&St<Yt&&(ce.J=Fa(le,ce,St,Yt-St),ce.F=le.mb,ce.F==null&&ce.F.length==0)){Se=xn(le,3,"Could not decode alpha data.");break e}St<ce.j&&(Ft=ce.j-St,St=ce.j,e(!(1&Ft)),ce.O+=le.R*Ft,ce.N+=le.B*(Ft>>1),ce.W+=le.B*(Ft>>1),ce.F!=null&&(ce.J+=ce.width*Ft)),St<Yt&&(ce.O+=ce.v,ce.N+=ce.v>>1,ce.W+=ce.v>>1,ce.F!=null&&(ce.J+=ce.v),ce.ka=St-ce.j,ce.U=ce.va-ce.v,ce.T=Yt-St,Se=ce.put(ce))}Ie+1!=le.Ic||zt||(r(le.sa,le.ta-Pe,He,ft+16*le.R,Pe),r(le.qa,le.ra-Xe,Qe,Ae+8*le.B,Xe),r(le.Ha,le.Ia-Xe,Wt,Qt+8*le.B,Xe))}if(!Se)return xn(de,6,"Output aborted.")}return 1}(h,m)),m.bc!=null&&m.bc(m),w&=1}return w?(h.cb=0,w):0}function kt(h,m,w,R,j){j=h[m+w+32*R]+(j>>3),h[m+w+32*R]=-256&j?0>j?0:255:j}function Ss(h,m,w,R,j,z){kt(h,m,0,w,R+j),kt(h,m,1,w,R+z),kt(h,m,2,w,R-z),kt(h,m,3,w,R-j)}function Yn(h){return(20091*h>>16)+h}function As(h,m,w,R){var j,z=0,q=s(16);for(j=0;4>j;++j){var $=h[m+0]+h[m+8],H=h[m+0]-h[m+8],Z=(35468*h[m+4]>>16)-Yn(h[m+12]),ae=Yn(h[m+4])+(35468*h[m+12]>>16);q[z+0]=$+ae,q[z+1]=H+Z,q[z+2]=H-Z,q[z+3]=$-ae,z+=4,m++}for(j=z=0;4>j;++j)$=(h=q[z+0]+4)+q[z+8],H=h-q[z+8],Z=(35468*q[z+4]>>16)-Yn(q[z+12]),kt(w,R,0,0,$+(ae=Yn(q[z+4])+(35468*q[z+12]>>16))),kt(w,R,1,0,H+Z),kt(w,R,2,0,H-Z),kt(w,R,3,0,$-ae),z++,R+=32}function Pc(h,m,w,R){var j=h[m+0]+4,z=35468*h[m+4]>>16,q=Yn(h[m+4]),$=35468*h[m+1]>>16;Ss(w,R,0,j+q,h=Yn(h[m+1]),$),Ss(w,R,1,j+z,h,$),Ss(w,R,2,j-z,h,$),Ss(w,R,3,j-q,h,$)}function Nc(h,m,w,R,j){As(h,m,w,R),j&&As(h,m+16,w,R+4)}function Cc(h,m,w,R){Go(h,m+0,w,R,1),Go(h,m+32,w,R+128,1)}function jd(h,m,w,R){var j;for(h=h[m+0]+4,j=0;4>j;++j)for(m=0;4>m;++m)kt(w,R,m,j,h)}function kc(h,m,w,R){h[m+0]&&ti(h,m+0,w,R),h[m+16]&&ti(h,m+16,w,R+4),h[m+32]&&ti(h,m+32,w,R+128),h[m+48]&&ti(h,m+48,w,R+128+4)}function Bd(h,m,w,R){var j,z=s(16);for(j=0;4>j;++j){var q=h[m+0+j]+h[m+12+j],$=h[m+4+j]+h[m+8+j],H=h[m+4+j]-h[m+8+j],Z=h[m+0+j]-h[m+12+j];z[0+j]=q+$,z[8+j]=q-$,z[4+j]=Z+H,z[12+j]=Z-H}for(j=0;4>j;++j)q=(h=z[0+4*j]+3)+z[3+4*j],$=z[1+4*j]+z[2+4*j],H=z[1+4*j]-z[2+4*j],Z=h-z[3+4*j],w[R+0]=q+$>>3,w[R+16]=Z+H>>3,w[R+32]=q-$>>3,w[R+48]=Z-H>>3,R+=64}function Ts(h,m,w){var R,j=m-32,z=Fi,q=255-h[j-1];for(R=0;R<w;++R){var $,H=z,Z=q+h[m-1];for($=0;$<w;++$)h[m+$]=H[Z+h[j+$]];m+=32}}function xs(h,m){Ts(h,m,4)}function Rc(h,m){Ts(h,m,8)}function Lc(h,m){Ts(h,m,16)}function Xi(h,m){var w;for(w=0;16>w;++w)r(h,m+32*w,h,m-32,16)}function Bo(h,m){var w;for(w=16;0<w;--w)i(h,m,h[m-1],16),m+=32}function Uo(h,m,w){var R;for(R=0;16>R;++R)i(m,w+32*R,h,16)}function Ps(h,m){var w,R=16;for(w=0;16>w;++w)R+=h[m-1+32*w]+h[m+w-32];Uo(R>>5,h,m)}function pr(h,m){var w,R=8;for(w=0;16>w;++w)R+=h[m-1+32*w];Uo(R>>4,h,m)}function Ud(h,m){var w,R=8;for(w=0;16>w;++w)R+=h[m+w-32];Uo(R>>4,h,m)}function Dc(h,m){Uo(128,h,m)}function ut(h,m,w){return h+2*m+w+2>>2}function zd(h,m){var w,R=m-32;for(R=new Uint8Array([ut(h[R-1],h[R+0],h[R+1]),ut(h[R+0],h[R+1],h[R+2]),ut(h[R+1],h[R+2],h[R+3]),ut(h[R+2],h[R+3],h[R+4])]),w=0;4>w;++w)r(h,m+32*w,R,0,R.length)}function au(h,m){var w=h[m-1],R=h[m-1+32],j=h[m-1+64],z=h[m-1+96];Ce(h,m+0,16843009*ut(h[m-1-32],w,R)),Ce(h,m+32,16843009*ut(w,R,j)),Ce(h,m+64,16843009*ut(R,j,z)),Ce(h,m+96,16843009*ut(j,z,z))}function Jr(h,m){var w,R=4;for(w=0;4>w;++w)R+=h[m+w-32]+h[m-1+32*w];for(R>>=3,w=0;4>w;++w)i(h,m+32*w,R,4)}function lu(h,m){var w=h[m-1+0],R=h[m-1+32],j=h[m-1+64],z=h[m-1-32],q=h[m+0-32],$=h[m+1-32],H=h[m+2-32],Z=h[m+3-32];h[m+0+96]=ut(R,j,h[m-1+96]),h[m+1+96]=h[m+0+64]=ut(w,R,j),h[m+2+96]=h[m+1+64]=h[m+0+32]=ut(z,w,R),h[m+3+96]=h[m+2+64]=h[m+1+32]=h[m+0+0]=ut(q,z,w),h[m+3+64]=h[m+2+32]=h[m+1+0]=ut($,q,z),h[m+3+32]=h[m+2+0]=ut(H,$,q),h[m+3+0]=ut(Z,H,$)}function no(h,m){var w=h[m+1-32],R=h[m+2-32],j=h[m+3-32],z=h[m+4-32],q=h[m+5-32],$=h[m+6-32],H=h[m+7-32];h[m+0+0]=ut(h[m+0-32],w,R),h[m+1+0]=h[m+0+32]=ut(w,R,j),h[m+2+0]=h[m+1+32]=h[m+0+64]=ut(R,j,z),h[m+3+0]=h[m+2+32]=h[m+1+64]=h[m+0+96]=ut(j,z,q),h[m+3+32]=h[m+2+64]=h[m+1+96]=ut(z,q,$),h[m+3+64]=h[m+2+96]=ut(q,$,H),h[m+3+96]=ut($,H,H)}function Zi(h,m){var w=h[m-1+0],R=h[m-1+32],j=h[m-1+64],z=h[m-1-32],q=h[m+0-32],$=h[m+1-32],H=h[m+2-32],Z=h[m+3-32];h[m+0+0]=h[m+1+64]=z+q+1>>1,h[m+1+0]=h[m+2+64]=q+$+1>>1,h[m+2+0]=h[m+3+64]=$+H+1>>1,h[m+3+0]=H+Z+1>>1,h[m+0+96]=ut(j,R,w),h[m+0+64]=ut(R,w,z),h[m+0+32]=h[m+1+96]=ut(w,z,q),h[m+1+32]=h[m+2+96]=ut(z,q,$),h[m+2+32]=h[m+3+96]=ut(q,$,H),h[m+3+32]=ut($,H,Z)}function ka(h,m){var w=h[m+0-32],R=h[m+1-32],j=h[m+2-32],z=h[m+3-32],q=h[m+4-32],$=h[m+5-32],H=h[m+6-32],Z=h[m+7-32];h[m+0+0]=w+R+1>>1,h[m+1+0]=h[m+0+64]=R+j+1>>1,h[m+2+0]=h[m+1+64]=j+z+1>>1,h[m+3+0]=h[m+2+64]=z+q+1>>1,h[m+0+32]=ut(w,R,j),h[m+1+32]=h[m+0+96]=ut(R,j,z),h[m+2+32]=h[m+1+96]=ut(j,z,q),h[m+3+32]=h[m+2+96]=ut(z,q,$),h[m+3+64]=ut(q,$,H),h[m+3+96]=ut($,H,Z)}function uu(h,m){var w=h[m-1+0],R=h[m-1+32],j=h[m-1+64],z=h[m-1+96];h[m+0+0]=w+R+1>>1,h[m+2+0]=h[m+0+32]=R+j+1>>1,h[m+2+32]=h[m+0+64]=j+z+1>>1,h[m+1+0]=ut(w,R,j),h[m+3+0]=h[m+1+32]=ut(R,j,z),h[m+3+32]=h[m+1+64]=ut(j,z,z),h[m+3+64]=h[m+2+64]=h[m+0+96]=h[m+1+96]=h[m+2+96]=h[m+3+96]=z}function un(h,m){var w=h[m-1+0],R=h[m-1+32],j=h[m-1+64],z=h[m-1+96],q=h[m-1-32],$=h[m+0-32],H=h[m+1-32],Z=h[m+2-32];h[m+0+0]=h[m+2+32]=w+q+1>>1,h[m+0+32]=h[m+2+64]=R+w+1>>1,h[m+0+64]=h[m+2+96]=j+R+1>>1,h[m+0+96]=z+j+1>>1,h[m+3+0]=ut($,H,Z),h[m+2+0]=ut(q,$,H),h[m+1+0]=h[m+3+32]=ut(w,q,$),h[m+1+32]=h[m+3+64]=ut(R,w,q),h[m+1+64]=h[m+3+96]=ut(j,R,w),h[m+1+96]=ut(z,j,R)}function qd(h,m){var w;for(w=0;8>w;++w)r(h,m+32*w,h,m-32,8)}function cu(h,m){var w;for(w=0;8>w;++w)i(h,m,h[m-1],8),m+=32}function ro(h,m,w){var R;for(R=0;8>R;++R)i(m,w+32*R,h,8)}function Ns(h,m){var w,R=8;for(w=0;8>w;++w)R+=h[m+w-32]+h[m-1+32*w];ro(R>>4,h,m)}function Oc(h,m){var w,R=4;for(w=0;8>w;++w)R+=h[m+w-32];ro(R>>3,h,m)}function es(h,m){var w,R=4;for(w=0;8>w;++w)R+=h[m-1+32*w];ro(R>>3,h,m)}function yi(h,m){ro(128,h,m)}function zo(h,m,w){var R=h[m-w],j=h[m+0],z=3*(j-R)+Ey[1020+h[m-2*w]-h[m+w]],q=qm[112+(z+4>>3)];h[m-w]=Fi[255+R+qm[112+(z+3>>3)]],h[m+0]=Fi[255+j-q]}function Fc(h,m,w,R){var j=h[m+0],z=h[m+w];return as[255+h[m-2*w]-h[m-w]]>R||as[255+z-j]>R}function io(h,m,w,R){return 4*as[255+h[m-w]-h[m+0]]+as[255+h[m-2*w]-h[m+w]]<=R}function hu(h,m,w,R,j){var z=h[m-3*w],q=h[m-2*w],$=h[m-w],H=h[m+0],Z=h[m+w],ae=h[m+2*w],ve=h[m+3*w];return 4*as[255+$-H]+as[255+q-Z]>R?0:as[255+h[m-4*w]-z]<=j&&as[255+z-q]<=j&&as[255+q-$]<=j&&as[255+ve-ae]<=j&&as[255+ae-Z]<=j&&as[255+Z-H]<=j}function Ra(h,m,w,R){var j=2*R+1;for(R=0;16>R;++R)io(h,m+R,w,j)&&zo(h,m+R,w)}function Xr(h,m,w,R){var j=2*R+1;for(R=0;16>R;++R)io(h,m+R*w,1,j)&&zo(h,m+R*w,1)}function ts(h,m,w,R){var j;for(j=3;0<j;--j)Ra(h,m+=4*w,w,R)}function La(h,m,w,R){var j;for(j=3;0<j;--j)Xr(h,m+=4,w,R)}function so(h,m,w,R,j,z,q,$){for(z=2*z+1;0<j--;){if(hu(h,m,w,z,q))if(Fc(h,m,w,$))zo(h,m,w);else{var H=h,Z=m,ae=w,ve=H[Z-2*ae],_e=H[Z-ae],de=H[Z+0],Te=H[Z+ae],Ie=H[Z+2*ae],le=27*(Se=Ey[1020+3*(de-_e)+Ey[1020+ve-Te]])+63>>7,ce=18*Se+63>>7,Se=9*Se+63>>7;H[Z-3*ae]=Fi[255+H[Z-3*ae]+Se],H[Z-2*ae]=Fi[255+ve+ce],H[Z-ae]=Fi[255+_e+le],H[Z+0]=Fi[255+de-le],H[Z+ae]=Fi[255+Te-ce],H[Z+2*ae]=Fi[255+Ie-Se]}m+=R}}function vi(h,m,w,R,j,z,q,$){for(z=2*z+1;0<j--;){if(hu(h,m,w,z,q))if(Fc(h,m,w,$))zo(h,m,w);else{var H=h,Z=m,ae=w,ve=H[Z-ae],_e=H[Z+0],de=H[Z+ae],Te=qm[112+((Ie=3*(_e-ve))+4>>3)],Ie=qm[112+(Ie+3>>3)],le=Te+1>>1;H[Z-2*ae]=Fi[255+H[Z-2*ae]+le],H[Z-ae]=Fi[255+ve+Ie],H[Z+0]=Fi[255+_e-Te],H[Z+ae]=Fi[255+de-le]}m+=R}}function Cs(h,m,w,R,j,z){so(h,m,w,1,16,R,j,z)}function oo(h,m,w,R,j,z){so(h,m,1,w,16,R,j,z)}function Mc(h,m,w,R,j,z){var q;for(q=3;0<q;--q)vi(h,m+=4*w,w,1,16,R,j,z)}function ao(h,m,w,R,j,z){var q;for(q=3;0<q;--q)vi(h,m+=4,1,w,16,R,j,z)}function du(h,m,w,R,j,z,q,$){so(h,m,j,1,8,z,q,$),so(w,R,j,1,8,z,q,$)}function Da(h,m,w,R,j,z,q,$){so(h,m,1,j,8,z,q,$),so(w,R,1,j,8,z,q,$)}function lo(h,m,w,R,j,z,q,$){vi(h,m+4*j,j,1,8,z,q,$),vi(w,R+4*j,j,1,8,z,q,$)}function fu(h,m,w,R,j,z,q,$){vi(h,m+4,1,j,8,z,q,$),vi(w,R+4,1,j,8,z,q,$)}function qo(){this.ba=new Ot,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new vt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Di(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Oa(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function pu(){this.ua=0,this.Wa=new ie,this.vb=new ie,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new G,this.yc=new P}function Vc(){this.xb=this.a=0,this.l=new jo,this.ca=new Ot,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new M,this.Pb=0,this.wd=new M,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new pu,this.ab=0,this.gc=o(4,Oa),this.Oc=0}function $o(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new jo,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function ns(h,m,w,R,j,z,q){for(h=h==null?0:h[m+0],m=0;m<q;++m)j[z+m]=h+w[R+m]&255,h=j[z+m]}function or(h,m,w,R,j,z,q){var $;if(h==null)ns(null,null,w,R,j,z,q);else for($=0;$<q;++$)j[z+$]=h[m+$]+w[R+$]&255}function ks(h,m,w,R,j,z,q){if(h==null)ns(null,null,w,R,j,z,q);else{var $,H=h[m+0],Z=H,ae=H;for($=0;$<q;++$)Z=ae+(H=h[m+$])-Z,ae=w[R+$]+(-256&Z?0>Z?0:255:Z)&255,Z=H,j[z+$]=ae}}function Fa(h,m,w,R){var j=m.width,z=m.o;if(e(h!=null&&m!=null),0>w||0>=R||w+R>z)return null;if(!h.Cc){if(h.ga==null){var q;if(h.ga=new $o,(q=h.ga==null)||(q=m.width*m.o,e(h.Gb.length==0),h.Gb=s(q),h.Uc=0,h.Gb==null?q=0:(h.mb=h.Gb,h.nb=h.Uc,h.rc=null,q=1),q=!q),!q){q=h.ga;var $=h.Fa,H=h.P,Z=h.qc,ae=h.mb,ve=h.nb,_e=H+1,de=Z-1,Te=q.l;if(e($!=null&&ae!=null&&m!=null),za[0]=null,za[1]=ns,za[2]=or,za[3]=ks,q.ca=ae,q.tb=ve,q.c=m.width,q.i=m.height,e(0<q.c&&0<q.i),1>=Z)m=0;else if(q.$a=$[H+0]>>0&3,q.Z=$[H+0]>>2&3,q.Lc=$[H+0]>>4&3,H=$[H+0]>>6&3,0>q.$a||1<q.$a||4<=q.Z||1<q.Lc||H)m=0;else if(Te.put=sn,Te.ac=tn,Te.bc=wn,Te.ma=q,Te.width=m.width,Te.height=m.height,Te.Da=m.Da,Te.v=m.v,Te.va=m.va,Te.j=m.j,Te.o=m.o,q.$a)e:{e(q.$a==1),m=Qr();t:for(;;){if(m==null){m=0;break e}if(e(q!=null),q.mc=m,m.c=q.c,m.i=q.i,m.l=q.l,m.l.ma=q,m.l.width=q.c,m.l.height=q.i,m.a=0,K(m.m,$,_e,de),!Ji(q.c,q.i,1,m,null)||(m.ab==1&&m.gc[0].hc==3&&fr(m.s)?(q.ic=1,$=m.c*m.i,m.Ta=null,m.Ua=0,m.V=s($),m.Ba=0,m.V==null?(m.a=1,m=0):m=1):(q.ic=0,m=Xs(m,q.c)),!m))break t;m=1;break e}q.mc=null,m=0}else m=de>=q.c*q.i;q=!m}if(q)return null;h.ga.Lc!=1?h.Ga=0:R=z-w}e(h.ga!=null),e(w+R<=z);e:{if(m=($=h.ga).c,z=$.l.o,$.$a==0){if(_e=h.rc,de=h.Vc,Te=h.Fa,H=h.P+1+w*m,Z=h.mb,ae=h.nb+w*m,e(H<=h.P+h.qc),$.Z!=0)for(e(za[$.Z]!=null),q=0;q<R;++q)za[$.Z](_e,de,Te,H,Z,ae,m),_e=Z,de=ae,ae+=m,H+=m;else for(q=0;q<R;++q)r(Z,ae,Te,H,m),_e=Z,de=ae,ae+=m,H+=m;h.rc=_e,h.Vc=de}else{if(e($.mc!=null),m=w+R,e((q=$.mc)!=null),e(m<=q.i),q.C>=m)m=1;else if($.ic||O(),$.ic){$=q.V,_e=q.Ba,de=q.c;var Ie=q.i,le=(Te=1,H=q.$/de,Z=q.$%de,ae=q.m,ve=q.s,q.$),ce=de*Ie,Se=de*m,Pe=ve.wc,Ae=le<Se?bn(ve,Z,H):null;e(le<=ce),e(m<=Ie),e(fr(ve));t:for(;;){for(;!ae.h&&le<Se;){if(Z&Pe||(Ae=bn(ve,Z,H)),e(Ae!=null),ne(ae),256>(Ie=Er(Ae.G[0],Ae.H[0],ae)))$[_e+le]=Ie,++le,++Z>=de&&(Z=0,++H<=m&&!(H%16)&&mi(q,H));else{if(!(280>Ie)){Te=0;break t}Ie=Lr(Ie-256,ae);var Xe,He=Er(Ae.G[4],Ae.H[4],ae);if(ne(ae),!(le>=(He=Ir(de,He=Lr(He,ae)))&&ce-le>=Ie)){Te=0;break t}for(Xe=0;Xe<Ie;++Xe)$[_e+le+Xe]=$[_e+le+Xe-He];for(le+=Ie,Z+=Ie;Z>=de;)Z-=de,++H<=m&&!(H%16)&&mi(q,H);le<Se&&Z&Pe&&(Ae=bn(ve,Z,H))}e(ae.h==Q(ae))}mi(q,H>m?m:H);break t}!Te||ae.h&&le<ce?(Te=0,q.a=ae.h?5:3):q.$=le,m=Te}else m=Kr(q,q.V,q.Ba,q.c,q.i,m,xa);if(!m){R=0;break e}}w+R>=z&&(h.Cc=1),R=1}if(!R)return null;if(h.Cc&&((R=h.ga)!=null&&(R.mc=null),h.ga=null,0<h.Ga))return alert("todo:WebPDequantizeLevels"),null}return h.nb+w*j}function v(h,m,w,R,j,z){for(;0<j--;){var q,$=h,H=m+(w?1:0),Z=h,ae=m+(w?0:3);for(q=0;q<R;++q){var ve=Z[ae+4*q];ve!=255&&(ve*=32897,$[H+4*q+0]=$[H+4*q+0]*ve>>23,$[H+4*q+1]=$[H+4*q+1]*ve>>23,$[H+4*q+2]=$[H+4*q+2]*ve>>23)}m+=z}}function u(h,m,w,R,j){for(;0<R--;){var z;for(z=0;z<w;++z){var q=h[m+2*z+0],$=15&(Z=h[m+2*z+1]),H=4369*$,Z=(240&Z|Z>>4)*H>>16;h[m+2*z+0]=(240&q|q>>4)*H>>16&240|(15&q|q<<4)*H>>16>>4&15,h[m+2*z+1]=240&Z|$}m+=j}}function y(h,m,w,R,j,z,q,$){var H,Z,ae=255;for(Z=0;Z<j;++Z){for(H=0;H<R;++H){var ve=h[m+H];z[q+4*H]=ve,ae&=ve}m+=w,q+=$}return ae!=255}function I(h,m,w,R,j){var z;for(z=0;z<j;++z)w[R+z]=h[m+z]>>8}function O(){os=v,cn=u,hn=y,zn=I}function J(h,m,w){A[h]=function(R,j,z,q,$,H,Z,ae,ve,_e,de,Te,Ie,le,ce,Se,Pe){var Ae,Xe=Pe-1>>1,He=$[H+0]|Z[ae+0]<<16,ft=ve[_e+0]|de[Te+0]<<16;e(R!=null);var Qe=3*He+ft+131074>>2;for(m(R[j+0],255&Qe,Qe>>16,Ie,le),z!=null&&(Qe=3*ft+He+131074>>2,m(z[q+0],255&Qe,Qe>>16,ce,Se)),Ae=1;Ae<=Xe;++Ae){var Wt=$[H+Ae]|Z[ae+Ae]<<16,Qt=ve[_e+Ae]|de[Te+Ae]<<16,zt=He+Wt+ft+Qt+524296,Ft=zt+2*(Wt+ft)>>3;Qe=Ft+He>>1,He=(zt=zt+2*(He+Qt)>>3)+Wt>>1,m(R[j+2*Ae-1],255&Qe,Qe>>16,Ie,le+(2*Ae-1)*w),m(R[j+2*Ae-0],255&He,He>>16,Ie,le+(2*Ae-0)*w),z!=null&&(Qe=zt+ft>>1,He=Ft+Qt>>1,m(z[q+2*Ae-1],255&Qe,Qe>>16,ce,Se+(2*Ae-1)*w),m(z[q+2*Ae+0],255&He,He>>16,ce,Se+(2*Ae+0)*w)),He=Wt,ft=Qt}1&Pe||(Qe=3*He+ft+131074>>2,m(R[j+Pe-1],255&Qe,Qe>>16,Ie,le+(Pe-1)*w),z!=null&&(Qe=3*ft+He+131074>>2,m(z[q+Pe-1],255&Qe,Qe>>16,ce,Se+(Pe-1)*w)))}}function re(){ls[$m]=SR,ls[Wm]=zb,ls[Mb]=AR,ls[Hm]=qb,ls[Gm]=$b,ls[Sy]=Wb,ls[Vb]=TR,ls[Ay]=zb,ls[Ty]=qb,ls[Km]=$b,ls[xy]=Wb}function we(h){return h&~xR?0>h?0:255:h>>Hb}function Fe(h,m){return we((19077*h>>8)+(26149*m>>8)-14234)}function nt(h,m,w){return we((19077*h>>8)-(6419*m>>8)-(13320*w>>8)+8708)}function Ye(h,m){return we((19077*h>>8)+(33050*m>>8)-17685)}function dt(h,m,w,R,j){R[j+0]=Fe(h,w),R[j+1]=nt(h,m,w),R[j+2]=Ye(h,m)}function jt(h,m,w,R,j){R[j+0]=Ye(h,m),R[j+1]=nt(h,m,w),R[j+2]=Fe(h,w)}function Ht(h,m,w,R,j){var z=nt(h,m,w);m=z<<3&224|Ye(h,m)>>3,R[j+0]=248&Fe(h,w)|z>>5,R[j+1]=m}function Kt(h,m,w,R,j){var z=240&Ye(h,m)|15;R[j+0]=240&Fe(h,w)|nt(h,m,w)>>4,R[j+1]=z}function mn(h,m,w,R,j){R[j+0]=255,dt(h,m,w,R,j+1)}function Pn(h,m,w,R,j){jt(h,m,w,R,j),R[j+3]=255}function Zr(h,m,w,R,j){dt(h,m,w,R,j),R[j+3]=255}function Oi(h,m){return 0>h?0:h>m?m:h}function uo(h,m,w){A[h]=function(R,j,z,q,$,H,Z,ae,ve){for(var _e=ae+(-2&ve)*w;ae!=_e;)m(R[j+0],z[q+0],$[H+0],Z,ae),m(R[j+1],z[q+0],$[H+0],Z,ae+w),j+=2,++q,++H,ae+=2*w;1&ve&&m(R[j+0],z[q+0],$[H+0],Z,ae)}}function Mm(h,m,w){return w==0?h==0?m==0?6:5:m==0?4:0:w}function $d(h,m,w,R,j){switch(h>>>30){case 3:Go(m,w,R,j,0);break;case 2:Un(m,w,R,j);break;case 1:ti(m,w,R,j)}}function Wd(h,m){var w,R,j=m.M,z=m.Nb,q=h.oc,$=h.pc+40,H=h.oc,Z=h.pc+584,ae=h.oc,ve=h.pc+600;for(w=0;16>w;++w)q[$+32*w-1]=129;for(w=0;8>w;++w)H[Z+32*w-1]=129,ae[ve+32*w-1]=129;for(0<j?q[$-1-32]=H[Z-1-32]=ae[ve-1-32]=129:(i(q,$-32-1,127,21),i(H,Z-32-1,127,9),i(ae,ve-32-1,127,9)),R=0;R<h.za;++R){var _e=m.ya[m.aa+R];if(0<R){for(w=-1;16>w;++w)r(q,$+32*w-4,q,$+32*w+12,4);for(w=-1;8>w;++w)r(H,Z+32*w-4,H,Z+32*w+4,4),r(ae,ve+32*w-4,ae,ve+32*w+4,4)}var de=h.Gd,Te=h.Hd+R,Ie=_e.ad,le=_e.Hc;if(0<j&&(r(q,$-32,de[Te].y,0,16),r(H,Z-32,de[Te].f,0,8),r(ae,ve-32,de[Te].ea,0,8)),_e.Za){var ce=q,Se=$-32+16;for(0<j&&(R>=h.za-1?i(ce,Se,de[Te].y[15],4):r(ce,Se,de[Te+1].y,0,4)),w=0;4>w;w++)ce[Se+128+w]=ce[Se+256+w]=ce[Se+384+w]=ce[Se+0+w];for(w=0;16>w;++w,le<<=2)ce=q,Se=$+Kb[w],Rs[_e.Ob[w]](ce,Se),$d(le,Ie,16*+w,ce,Se)}else if(ce=Mm(R,j,_e.Ob[0]),Ua[ce](q,$),le!=0)for(w=0;16>w;++w,le<<=2)$d(le,Ie,16*+w,q,$+Kb[w]);for(w=_e.Gc,ce=Mm(R,j,_e.Dd),Qo[ce](H,Z),Qo[ce](ae,ve),le=Ie,ce=H,Se=Z,255&(_e=w>>0)&&(170&_e?Yd(le,256,ce,Se):is(le,256,ce,Se)),_e=ae,le=ve,255&(w>>=8)&&(170&w?Yd(Ie,320,_e,le):is(Ie,320,_e,le)),j<h.Ub-1&&(r(de[Te].y,0,q,$+480,16),r(de[Te].f,0,H,Z+224,8),r(de[Te].ea,0,ae,ve+224,8)),w=8*z*h.B,de=h.sa,Te=h.ta+16*R+16*z*h.R,Ie=h.qa,_e=h.ra+8*R+w,le=h.Ha,ce=h.Ia+8*R+w,w=0;16>w;++w)r(de,Te+w*h.R,q,$+32*w,16);for(w=0;8>w;++w)r(Ie,_e+w*h.B,H,Z+32*w,8),r(le,ce+w*h.B,ae,ve+32*w,8)}}function jc(h,m,w,R,j,z,q,$,H){var Z=[0],ae=[0],ve=0,_e=H!=null?H.kd:0,de=H??new Di;if(h==null||12>w)return 7;de.data=h,de.w=m,de.ha=w,m=[m],w=[w],de.gb=[de.gb];e:{var Te=m,Ie=w,le=de.gb;if(e(h!=null),e(Ie!=null),e(le!=null),le[0]=0,12<=Ie[0]&&!t(h,Te[0],"RIFF")){if(t(h,Te[0]+8,"WEBP")){le=3;break e}var ce=ze(h,Te[0]+4);if(12>ce||4294967286<ce){le=3;break e}if(_e&&ce>Ie[0]-8){le=7;break e}le[0]=ce,Te[0]+=12,Ie[0]-=12}le=0}if(le!=0)return le;for(ce=0<de.gb[0],w=w[0];;){e:{var Se=h;Ie=m,le=w;var Pe=Z,Ae=ae,Xe=Te=[0];if((Qe=ve=[ve])[0]=0,8>le[0])le=7;else{if(!t(Se,Ie[0],"VP8X")){if(ze(Se,Ie[0]+4)!=10){le=3;break e}if(18>le[0]){le=7;break e}var He=ze(Se,Ie[0]+8),ft=1+Ue(Se,Ie[0]+12);if(2147483648<=ft*(Se=1+Ue(Se,Ie[0]+15))){le=3;break e}Xe!=null&&(Xe[0]=He),Pe!=null&&(Pe[0]=ft),Ae!=null&&(Ae[0]=Se),Ie[0]+=18,le[0]-=18,Qe[0]=1}le=0}}if(ve=ve[0],Te=Te[0],le!=0)return le;if(Ie=!!(2&Te),!ce&&ve)return 3;if(z!=null&&(z[0]=!!(16&Te)),q!=null&&(q[0]=Ie),$!=null&&($[0]=0),q=Z[0],Te=ae[0],ve&&Ie&&H==null){le=0;break}if(4>w){le=7;break}if(ce&&ve||!ce&&!ve&&!t(h,m[0],"ALPH")){w=[w],de.na=[de.na],de.P=[de.P],de.Sa=[de.Sa];e:{He=h,le=m,ce=w;var Qe=de.gb;Pe=de.na,Ae=de.P,Xe=de.Sa,ft=22,e(He!=null),e(ce!=null),Se=le[0];var Wt=ce[0];for(e(Pe!=null),e(Xe!=null),Pe[0]=null,Ae[0]=null,Xe[0]=0;;){if(le[0]=Se,ce[0]=Wt,8>Wt){le=7;break e}var Qt=ze(He,Se+4);if(4294967286<Qt){le=3;break e}var zt=8+Qt+1&-2;if(ft+=zt,0<Qe&&ft>Qe){le=3;break e}if(!t(He,Se,"VP8 ")||!t(He,Se,"VP8L")){le=0;break e}if(Wt[0]<zt){le=7;break e}t(He,Se,"ALPH")||(Pe[0]=He,Ae[0]=Se+8,Xe[0]=Qt),Se+=zt,Wt-=zt}}if(w=w[0],de.na=de.na[0],de.P=de.P[0],de.Sa=de.Sa[0],le!=0)break}w=[w],de.Ja=[de.Ja],de.xa=[de.xa];e:if(Qe=h,le=m,ce=w,Pe=de.gb[0],Ae=de.Ja,Xe=de.xa,He=le[0],Se=!t(Qe,He,"VP8 "),ft=!t(Qe,He,"VP8L"),e(Qe!=null),e(ce!=null),e(Ae!=null),e(Xe!=null),8>ce[0])le=7;else{if(Se||ft){if(Qe=ze(Qe,He+4),12<=Pe&&Qe>Pe-12){le=3;break e}if(_e&&Qe>ce[0]-8){le=7;break e}Ae[0]=Qe,le[0]+=8,ce[0]-=8,Xe[0]=ft}else Xe[0]=5<=ce[0]&&Qe[He+0]==47&&!(Qe[He+4]>>5),Ae[0]=ce[0];le=0}if(w=w[0],de.Ja=de.Ja[0],de.xa=de.xa[0],m=m[0],le!=0)break;if(4294967286<de.Ja)return 3;if($==null||Ie||($[0]=de.xa?2:1),q=[q],Te=[Te],de.xa){if(5>w){le=7;break}$=q,_e=Te,Ie=z,h==null||5>w?h=0:5<=w&&h[m+0]==47&&!(h[m+4]>>5)?(ce=[0],Qe=[0],Pe=[0],K(Ae=new M,h,m,w),lt(Ae,ce,Qe,Pe)?($!=null&&($[0]=ce[0]),_e!=null&&(_e[0]=Qe[0]),Ie!=null&&(Ie[0]=Pe[0]),h=1):h=0):h=0}else{if(10>w){le=7;break}$=Te,h==null||10>w||!Li(h,m+3,w-3)?h=0:(_e=h[m+0]|h[m+1]<<8|h[m+2]<<16,Ie=16383&(h[m+7]<<8|h[m+6]),h=16383&(h[m+9]<<8|h[m+8]),1&_e||3<(_e>>1&7)||!(_e>>4&1)||_e>>5>=de.Ja||!Ie||!h?h=0:(q&&(q[0]=Ie),$&&($[0]=h),h=1))}if(!h||(q=q[0],Te=Te[0],ve&&(Z[0]!=q||ae[0]!=Te)))return 3;H!=null&&(H[0]=de,H.offset=m-H.w,e(4294967286>m-H.w),e(H.offset==H.ha-w));break}return le==0||le==7&&ve&&H==null?(z!=null&&(z[0]|=de.na!=null&&0<de.na.length),R!=null&&(R[0]=q),j!=null&&(j[0]=Te),0):le}function Hd(h,m,w){var R=m.width,j=m.height,z=0,q=0,$=R,H=j;if(m.Da=h!=null&&0<h.Da,m.Da&&($=h.cd,H=h.bd,z=h.v,q=h.j,11>w||(z&=-2,q&=-2),0>z||0>q||0>=$||0>=H||z+$>R||q+H>j))return 0;if(m.v=z,m.j=q,m.va=z+$,m.o=q+H,m.U=$,m.T=H,m.da=h!=null&&0<h.da,m.da){if(!Ve($,H,w=[h.ib],z=[h.hb]))return 0;m.ib=w[0],m.hb=z[0]}return m.ob=h!=null&&h.ob,m.Kb=h==null||!h.Sd,m.da&&(m.ob=m.ib<3*R/4&&m.hb<3*j/4,m.Kb=0),1}function Gd(h){if(h==null)return 2;if(11>h.S){var m=h.f.RGBA;m.fb+=(h.height-1)*m.A,m.A=-m.A}else m=h.f.kb,h=h.height,m.O+=(h-1)*m.fa,m.fa=-m.fa,m.N+=(h-1>>1)*m.Ab,m.Ab=-m.Ab,m.W+=(h-1>>1)*m.Db,m.Db=-m.Db,m.F!=null&&(m.J+=(h-1)*m.lb,m.lb=-m.lb);return 0}function Bc(h,m,w,R){if(R==null||0>=h||0>=m)return 2;if(w!=null){if(w.Da){var j=w.cd,z=w.bd,q=-2&w.v,$=-2&w.j;if(0>q||0>$||0>=j||0>=z||q+j>h||$+z>m)return 2;h=j,m=z}if(w.da){if(!Ve(h,m,j=[w.ib],z=[w.hb]))return 2;h=j[0],m=z[0]}}R.width=h,R.height=m;e:{var H=R.width,Z=R.height;if(h=R.S,0>=H||0>=Z||!(h>=$m&&13>h))h=2;else{if(0>=R.Rd&&R.sd==null){q=z=j=m=0;var ae=($=H*Qb[h])*Z;if(11>h||(z=(Z+1)/2*(m=(H+1)/2),h==12&&(q=(j=H)*Z)),(Z=s(ae+2*z+q))==null){h=1;break e}R.sd=Z,11>h?((H=R.f.RGBA).eb=Z,H.fb=0,H.A=$,H.size=ae):((H=R.f.kb).y=Z,H.O=0,H.fa=$,H.Fd=ae,H.f=Z,H.N=0+ae,H.Ab=m,H.Cd=z,H.ea=Z,H.W=0+ae+z,H.Db=m,H.Ed=z,h==12&&(H.F=Z,H.J=0+ae+2*z),H.Tc=q,H.lb=j)}if(m=1,j=R.S,z=R.width,q=R.height,j>=$m&&13>j)if(11>j)h=R.f.RGBA,m&=($=Math.abs(h.A))*(q-1)+z<=h.size,m&=$>=z*Qb[j],m&=h.eb!=null;else{h=R.f.kb,$=(z+1)/2,ae=(q+1)/2,H=Math.abs(h.fa),Z=Math.abs(h.Ab);var ve=Math.abs(h.Db),_e=Math.abs(h.lb),de=_e*(q-1)+z;m&=H*(q-1)+z<=h.Fd,m&=Z*(ae-1)+$<=h.Cd,m=(m&=ve*(ae-1)+$<=h.Ed)&H>=z&Z>=$&ve>=$,m&=h.y!=null,m&=h.f!=null,m&=h.ea!=null,j==12&&(m&=_e>=z,m&=de<=h.Tc,m&=h.F!=null)}else m=0;h=m?0:2}}return h!=0||w!=null&&w.fd&&(h=Gd(R)),h}var Sr=64,Uc=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],zc=24,qc=32,Kd=8,_i=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];De("Predictor0","PredictorAdd0"),A.Predictor0=function(){return 4278190080},A.Predictor1=function(h){return h},A.Predictor2=function(h,m,w){return m[w+0]},A.Predictor3=function(h,m,w){return m[w+1]},A.Predictor4=function(h,m,w){return m[w-1]},A.Predictor5=function(h,m,w){return qe(qe(h,m[w+1]),m[w+0])},A.Predictor6=function(h,m,w){return qe(h,m[w-1])},A.Predictor7=function(h,m,w){return qe(h,m[w+0])},A.Predictor8=function(h,m,w){return qe(m[w-1],m[w+0])},A.Predictor9=function(h,m,w){return qe(m[w+0],m[w+1])},A.Predictor10=function(h,m,w){return qe(qe(h,m[w-1]),qe(m[w+0],m[w+1]))},A.Predictor11=function(h,m,w){var R=m[w+0];return 0>=It(R>>24&255,h>>24&255,(m=m[w-1])>>24&255)+It(R>>16&255,h>>16&255,m>>16&255)+It(R>>8&255,h>>8&255,m>>8&255)+It(255&R,255&h,255&m)?R:h},A.Predictor12=function(h,m,w){var R=m[w+0];return(st((h>>24&255)+(R>>24&255)-((m=m[w-1])>>24&255))<<24|st((h>>16&255)+(R>>16&255)-(m>>16&255))<<16|st((h>>8&255)+(R>>8&255)-(m>>8&255))<<8|st((255&h)+(255&R)-(255&m)))>>>0},A.Predictor13=function(h,m,w){var R=m[w-1];return(mt((h=qe(h,m[w+0]))>>24&255,R>>24&255)<<24|mt(h>>16&255,R>>16&255)<<16|mt(h>>8&255,R>>8&255)<<8|mt(h>>0&255,R>>0&255))>>>0};var Iy=A.PredictorAdd0;A.PredictorAdd1=_t,De("Predictor2","PredictorAdd2"),De("Predictor3","PredictorAdd3"),De("Predictor4","PredictorAdd4"),De("Predictor5","PredictorAdd5"),De("Predictor6","PredictorAdd6"),De("Predictor7","PredictorAdd7"),De("Predictor8","PredictorAdd8"),De("Predictor9","PredictorAdd9"),De("Predictor10","PredictorAdd10"),De("Predictor11","PredictorAdd11"),De("Predictor12","PredictorAdd12"),De("Predictor13","PredictorAdd13");var Qd=A.PredictorAdd2;xt("ColorIndexInverseTransform","MapARGB","32b",function(h){return h>>8&255},function(h){return h}),xt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(h){return h},function(h){return h>>8&255});var Vm,rs=A.ColorIndexInverseTransform,$c=A.MapARGB,jm=A.VP8LColorIndexInverseTransformAlpha,Bm=A.MapAlpha,Ma=A.VP8LPredictorsAdd=[];Ma.length=16,(A.VP8LPredictors=[]).length=16,(A.VP8LPredictorsAdd_C=[]).length=16,(A.VP8LPredictors_C=[]).length=16;var mu,wi,ei,Va,Wo,Ho,Wc,Go,Un,Yd,ti,is,Hc,Um,Jd,gu,yu,ja,vu,Gc,_u,Ba,Xd,ss,os,cn,hn,zn,ar=s(511),Ko=s(2041),Zd=s(225),Kc=s(767),zm=0,Ey=Ko,qm=Zd,Fi=Kc,as=ar,$m=0,Wm=1,Mb=2,Hm=3,Gm=4,Sy=5,Vb=6,Ay=7,Ty=8,Km=9,xy=10,cR=[2,3,7],hR=[3,3,11],jb=[280,256,256,256,40],dR=[0,1,1,1,0],fR=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],pR=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],mR=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],gR=8,Py=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Ny=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],ef=null,yR=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],vR=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Bb=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],_R=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],wR=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],bR=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],IR=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Ua=[],Rs=[],Qo=[],ER=1,Ub=2,za=[],ls=[];J("UpsampleRgbLinePair",dt,3),J("UpsampleBgrLinePair",jt,3),J("UpsampleRgbaLinePair",Zr,4),J("UpsampleBgraLinePair",Pn,4),J("UpsampleArgbLinePair",mn,4),J("UpsampleRgba4444LinePair",Kt,2),J("UpsampleRgb565LinePair",Ht,2);var SR=A.UpsampleRgbLinePair,AR=A.UpsampleBgrLinePair,zb=A.UpsampleRgbaLinePair,qb=A.UpsampleBgraLinePair,$b=A.UpsampleArgbLinePair,Wb=A.UpsampleRgba4444LinePair,TR=A.UpsampleRgb565LinePair,Qm=16,Ym=1<<Qm-1,tf=-227,Cy=482,Hb=6,xR=(256<<Hb)-1,Gb=0,PR=s(256),NR=s(256),CR=s(256),kR=s(256),RR=s(Cy-tf),LR=s(Cy-tf);uo("YuvToRgbRow",dt,3),uo("YuvToBgrRow",jt,3),uo("YuvToRgbaRow",Zr,4),uo("YuvToBgraRow",Pn,4),uo("YuvToArgbRow",mn,4),uo("YuvToRgba4444Row",Kt,2),uo("YuvToRgb565Row",Ht,2);var Kb=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Jm=[0,2,8],DR=[8,7,6,4,4,2,2,2,1,1,1,1],OR=1;this.WebPDecodeRGBA=function(h,m,w,R,j){var z=Wm,q=new qo,$=new Ot;q.ba=$,$.S=z,$.width=[$.width],$.height=[$.height];var H=$.width,Z=$.height,ae=new Ut;if(ae==null||h==null)var ve=2;else e(ae!=null),ve=jc(h,m,w,ae.width,ae.height,ae.Pd,ae.Qd,ae.format,null);if(ve!=0?H=0:(H!=null&&(H[0]=ae.width[0]),Z!=null&&(Z[0]=ae.height[0]),H=1),H){$.width=$.width[0],$.height=$.height[0],R!=null&&(R[0]=$.width),j!=null&&(j[0]=$.height);e:{if(R=new jo,(j=new Di).data=h,j.w=m,j.ha=w,j.kd=1,m=[0],e(j!=null),((h=jc(j.data,j.w,j.ha,null,null,null,m,null,j))==0||h==7)&&m[0]&&(h=4),(m=h)==0){if(e(q!=null),R.data=j.data,R.w=j.w+j.offset,R.ha=j.ha-j.offset,R.put=sn,R.ac=tn,R.bc=wn,R.ma=q,j.xa){if((h=Qr())==null){q=1;break e}if(function(_e,de){var Te=[0],Ie=[0],le=[0];t:for(;;){if(_e==null)return 0;if(de==null)return _e.a=2,0;if(_e.l=de,_e.a=0,K(_e.m,de.data,de.w,de.ha),!lt(_e.m,Te,Ie,le)){_e.a=3;break t}if(_e.xb=Ub,de.width=Te[0],de.height=Ie[0],!Ji(Te[0],Ie[0],1,_e,null))break t;return 1}return e(_e.a!=0),0}(h,R)){if(R=(m=Bc(R.width,R.height,q.Oa,q.ba))==0){t:{R=h;n:for(;;){if(R==null){R=0;break t}if(e(R.s.yc!=null),e(R.s.Ya!=null),e(0<R.s.Wb),e((w=R.l)!=null),e((j=w.ma)!=null),R.xb!=0){if(R.ca=j.ba,R.tb=j.tb,e(R.ca!=null),!Hd(j.Oa,w,Hm)){R.a=2;break n}if(!Xs(R,w.width)||w.da)break n;if((w.da||We(R.ca.S))&&O(),11>R.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),R.ca.f.kb.F!=null&&O()),R.Pb&&0<R.s.ua&&R.s.vb.X==null&&!at(R.s.vb,R.s.Wa.Xa)){R.a=1;break n}R.xb=0}if(!Kr(R,R.V,R.Ba,R.c,R.i,w.o,Ta))break n;j.Dc=R.Ma,R=1;break t}e(R.a!=0),R=0}R=!R}R&&(m=h.a)}else m=h.a}else{if((h=new xc)==null){q=1;break e}if(h.Fa=j.na,h.P=j.P,h.qc=j.Sa,Yr(h,R)){if((m=Bc(R.width,R.height,q.Oa,q.ba))==0){if(h.Aa=0,w=q.Oa,e((j=h)!=null),w!=null){if(0<(H=0>(H=w.Md)?0:100<H?255:255*H/100)){for(Z=ae=0;4>Z;++Z)12>(ve=j.pb[Z]).lc&&(ve.ia=H*DR[0>ve.lc?0:ve.lc]>>3),ae|=ve.ia;ae&&(alert("todo:VP8InitRandom"),j.ia=1)}j.Ga=w.Id,100<j.Ga?j.Ga=100:0>j.Ga&&(j.Ga=0)}ou(h,R)||(m=h.a)}}else m=h.a}m==0&&q.Oa!=null&&q.Oa.fd&&(m=Gd(q.ba))}q=m}z=q!=0?null:11>z?$.f.RGBA.eb:$.f.kb.y}else z=null;return z};var Qb=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(A,C){for(var D="",T=0;T<4;T++)D+=String.fromCharCode(A[C++]);return D}function d(A,C){return(A[C+0]<<0|A[C+1]<<8|A[C+2]<<16)>>>0}function f(A,C){return(A[C+0]<<0|A[C+1]<<8|A[C+2]<<16|A[C+3]<<24)>>>0}new l;var p=[0],g=[0],S=[],x=new l,k=n,_=function(A,C){var D={},T=0,P=!1,L=0,G=0;if(D.frames=[],!function(W,Q,te,ne){for(var he=0;he<ne;he++)if(W[Q+he]!=te.charCodeAt(he))return!0;return!1}(A,C,"RIFF",4)){var ue,ee;for(f(A,C+=4),C+=8;C<A.length;){var X=c(A,C),K=f(A,C+=4);C+=4;var Y=K+(1&K);switch(X){case"VP8 ":case"VP8L":D.frames[T]===void 0&&(D.frames[T]={}),(M=D.frames[T]).src_off=P?G:C-8,M.src_size=L+K+8,T++,P&&(P=!1,L=0,G=0);break;case"VP8X":(M=D.header={}).feature_flags=A[C];var oe=C+4;M.canvas_width=1+d(A,oe),oe+=3,M.canvas_height=1+d(A,oe),oe+=3;break;case"ALPH":P=!0,L=Y+8,G=C-8;break;case"ANIM":(M=D.header).bgcolor=f(A,C),oe=C+4,M.loop_count=(ue=A)[(ee=oe)+0]<<0|ue[ee+1]<<8,oe+=2;break;case"ANMF":var me,M;(M=D.frames[T]={}).offset_x=2*d(A,C),C+=3,M.offset_y=2*d(A,C),C+=3,M.width=1+d(A,C),C+=3,M.height=1+d(A,C),C+=3,M.duration=d(A,C),C+=3,me=A[C++],M.dispose=1&me,M.blend=me>>1&1}X!="ANMF"&&(C+=Y)}return D}}(k,0);_.response=k,_.rgbaoutput=!0,_.dataurl=!1;var b=_.header?_.header:null,E=_.frames?_.frames:null;if(b){b.loop_counter=b.loop_count,p=[b.canvas_height],g=[b.canvas_width];for(var F=0;F<E.length&&E[F].blend!=0;F++);}var B=E[0],U=x.WebPDecodeRGBA(k,B.src_off,B.src_size,g,p);B.rgba=U,B.imgwidth=g[0],B.imgheight=p[0];for(var N=0;N<g[0]*p[0]*4;N++)S[N]=U[N];return this.width=g,this.height=p,this.data=S,this}(function(n){var e=function(){return typeof W2=="function"},t=function(p,g,S,x){var k=4,_=o;switch(x){case n.image_compression.FAST:k=1,_=s;break;case n.image_compression.MEDIUM:k=6,_=a;break;case n.image_compression.SLOW:k=9,_=l}p=r(p,g,S,_);var b=W2(p,{level:k});return n.__addimage__.arrayBufferToBinaryString(b)},r=function(p,g,S,x){for(var k,_,b,E=p.length/g,F=new Uint8Array(p.length+E),B=d(),U=0;U<E;U+=1){if(b=U*g,k=p.subarray(b,b+g),x)F.set(x(k,S,_),b+U);else{for(var N,A=B.length,C=[];N<A;N+=1)C[N]=B[N](k,S,_);var D=f(C.concat());F.set(C[D],b+U)}_=k}return F},i=function(p){var g=Array.apply([],p);return g.unshift(0),g},s=function(p,g){var S,x=[],k=p.length;x[0]=1;for(var _=0;_<k;_+=1)S=p[_-g]||0,x[_+1]=p[_]-S+256&255;return x},o=function(p,g,S){var x,k=[],_=p.length;k[0]=2;for(var b=0;b<_;b+=1)x=S&&S[b]||0,k[b+1]=p[b]-x+256&255;return k},a=function(p,g,S){var x,k,_=[],b=p.length;_[0]=3;for(var E=0;E<b;E+=1)x=p[E-g]||0,k=S&&S[E]||0,_[E+1]=p[E]+256-(x+k>>>1)&255;return _},l=function(p,g,S){var x,k,_,b,E=[],F=p.length;E[0]=4;for(var B=0;B<F;B+=1)x=p[B-g]||0,k=S&&S[B]||0,_=S&&S[B-g]||0,b=c(x,k,_),E[B+1]=p[B]-b+256&255;return E},c=function(p,g,S){if(p===g&&g===S)return p;var x=Math.abs(g-S),k=Math.abs(p-S),_=Math.abs(p+g-S-S);return x<=k&&x<=_?p:k<=_?g:S},d=function(){return[i,s,o,a,l]},f=function(p){var g=p.map(function(S){return S.reduce(function(x,k){return x+Math.abs(k)},0)});return g.indexOf(Math.min.apply(null,g))};n.processPNG=function(p,g,S,x){var k,_,b,E,F,B,U,N,A,C,D,T,P,L,G,ue=this.decode.FLATE_DECODE,ee="";if(this.__addimage__.isArrayBuffer(p)&&(p=new Uint8Array(p)),this.__addimage__.isArrayBufferView(p)){if(p=(b=new RO(p)).imgData,_=b.bits,k=b.colorSpace,F=b.colors,[4,6].indexOf(b.colorType)!==-1){if(b.bits===8){A=(N=b.pixelBitlength==32?new Uint32Array(b.decodePixels().buffer):b.pixelBitlength==16?new Uint16Array(b.decodePixels().buffer):new Uint8Array(b.decodePixels().buffer)).length,D=new Uint8Array(A*b.colors),C=new Uint8Array(A);var X,K=b.pixelBitlength-b.bits;for(L=0,G=0;L<A;L++){for(P=N[L],X=0;X<K;)D[G++]=P>>>X&255,X+=b.bits;C[L]=P>>>X&255}}if(b.bits===16){A=(N=new Uint32Array(b.decodePixels().buffer)).length,D=new Uint8Array(A*(32/b.pixelBitlength)*b.colors),C=new Uint8Array(A*(32/b.pixelBitlength)),T=b.colors>1,L=0,G=0;for(var Y=0;L<A;)P=N[L++],D[G++]=P>>>0&255,T&&(D[G++]=P>>>16&255,P=N[L++],D[G++]=P>>>0&255),C[Y++]=P>>>16&255;_=8}x!==n.image_compression.NONE&&e()?(p=t(D,b.width*b.colors,b.colors,x),U=t(C,b.width,1,x)):(p=D,U=C,ue=void 0)}if(b.colorType===3&&(k=this.color_spaces.INDEXED,B=b.palette,b.transparency.indexed)){var oe=b.transparency.indexed,me=0;for(L=0,A=oe.length;L<A;++L)me+=oe[L];if((me/=255)===A-1&&oe.indexOf(0)!==-1)E=[oe.indexOf(0)];else if(me!==A){for(N=b.decodePixels(),C=new Uint8Array(N.length),L=0,A=N.length;L<A;L++)C[L]=oe[N[L]];U=t(C,b.width,1)}}var M=function(W){var Q;switch(W){case n.image_compression.FAST:Q=11;break;case n.image_compression.MEDIUM:Q=13;break;case n.image_compression.SLOW:Q=14;break;default:Q=12}return Q}(x);return ue===this.decode.FLATE_DECODE&&(ee="/Predictor "+M+" "),ee+="/Colors "+F+" /BitsPerComponent "+_+" /Columns "+b.width,(this.__addimage__.isArrayBuffer(p)||this.__addimage__.isArrayBufferView(p))&&(p=this.__addimage__.arrayBufferToBinaryString(p)),(U&&this.__addimage__.isArrayBuffer(U)||this.__addimage__.isArrayBufferView(U))&&(U=this.__addimage__.arrayBufferToBinaryString(U)),{alias:S,data:p,index:g,filter:ue,decodeParameters:ee,transparency:E,palette:B,sMask:U,predictor:M,width:b.width,height:b.height,bitsPerComponent:_,colorSpace:k}}}})(ct.API),function(n){n.processGIF89A=function(e,t,r,i){var s=new LO(e),o=s.width,a=s.height,l=[];s.decodeAndBlitFrameRGBA(0,l);var c={data:l,width:o,height:a},d=new Iv(100).encode(c,100);return n.processJPEG.call(this,d,t,r,i)},n.processGIF87A=n.processGIF89A}(ct.API),Fs.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var n=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(n);for(var e=0;e<n;e++){var t=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:r,blue:t,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Fs.prototype.parseBGR=function(){this.pos=this.offset;try{var n="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[n]()}catch(t){an.log("bit decode error:"+t)}},Fs.prototype.bit1=function(){var n,e=Math.ceil(this.width/8),t=e%4;for(n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<e;i++)for(var s=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+8*i*4,a=0;a<8&&8*i+a<this.width;a++){var l=this.palette[s>>7-a&1];this.data[o+4*a]=l.blue,this.data[o+4*a+1]=l.green,this.data[o+4*a+2]=l.red,this.data[o+4*a+3]=255}t!==0&&(this.pos+=4-t)}},Fs.prototype.bit4=function(){for(var n=Math.ceil(this.width/2),e=n%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<n;i++){var s=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+2*i*4,a=s>>4,l=15&s,c=this.palette[a];if(this.data[o]=c.blue,this.data[o+1]=c.green,this.data[o+2]=c.red,this.data[o+3]=255,2*i+1>=this.width)break;c=this.palette[l],this.data[o+4]=c.blue,this.data[o+4+1]=c.green,this.data[o+4+2]=c.red,this.data[o+4+3]=255}e!==0&&(this.pos+=4-e)}},Fs.prototype.bit8=function(){for(var n=this.width%4,e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),s=t*this.width*4+4*r;if(i<this.palette.length){var o=this.palette[i];this.data[s]=o.red,this.data[s+1]=o.green,this.data[s+2]=o.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}n!==0&&(this.pos+=4-n)}},Fs.prototype.bit15=function(){for(var n=this.width%3,e=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&e)/e*255|0,a=(s>>5&e)/e*255|0,l=(s>>10&e)/e*255|0,c=s>>15?255:0,d=r*this.width*4+4*i;this.data[d]=l,this.data[d+1]=a,this.data[d+2]=o,this.data[d+3]=c}this.pos+=n}},Fs.prototype.bit16=function(){for(var n=this.width%3,e=parseInt("11111",2),t=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(o&e)/e*255|0,l=(o>>5&t)/t*255|0,c=(o>>11)/e*255|0,d=i*this.width*4+4*s;this.data[d]=c,this.data[d+1]=l,this.data[d+2]=a,this.data[d+3]=255}this.pos+=n}},Fs.prototype.bit24=function(){for(var n=this.height-1;n>=0;n--){for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*t;this.data[o]=s,this.data[o+1]=i,this.data[o+2]=r,this.data[o+3]=255}this.pos+=this.width%4}},Fs.prototype.bit32=function(){for(var n=this.height-1;n>=0;n--)for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*t;this.data[a]=s,this.data[a+1]=i,this.data[a+2]=r,this.data[a+3]=o}},Fs.prototype.getData=function(){return this.data},function(n){n.processBMP=function(e,t,r,i){var s=new Fs(e,!1),o=s.width,a=s.height,l={data:s.getData(),width:o,height:a},c=new Iv(100).encode(l,100);return n.processJPEG.call(this,c,t,r,i)}}(ct.API),WE.prototype.getData=function(){return this.data},function(n){n.processWEBP=function(e,t,r,i){var s=new WE(e),o=s.width,a=s.height,l={data:s.getData(),width:o,height:a},c=new Iv(100).encode(l,100);return n.processJPEG.call(this,c,t,r,i)}}(ct.API),ct.API.processRGBA=function(n,e,t){for(var r=n.data,i=r.length,s=new Uint8Array(i/4*3),o=new Uint8Array(i/4),a=0,l=0,c=0;c<i;c+=4){var d=r[c],f=r[c+1],p=r[c+2],g=r[c+3];s[a++]=d,s[a++]=f,s[a++]=p,o[l++]=g}var S=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:S,index:e,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:n.width,height:n.height}},ct.API.setLanguage=function(n){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[n]!==void 0&&(this.internal.languageSettings.languageCode=n,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},th=ct.API,Ng=th.getCharWidthsArray=function(n,e){var t,r,i=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),o=e.charSpace||this.internal.getCharSpace(),a=e.widths?e.widths:i.metadata.Unicode.widths,l=a.fof?a.fof:1,c=e.kerning?e.kerning:i.metadata.Unicode.kerning,d=c.fof?c.fof:1,f=e.doKerning!==!1,p=0,g=n.length,S=0,x=a[0]||l,k=[];for(t=0;t<g;t++)r=n.charCodeAt(t),typeof i.metadata.widthOfString=="function"?k.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+o*(1e3/s)||0)/1e3):(p=f&&Jt(c[r])==="object"&&!isNaN(parseInt(c[r][S],10))?c[r][S]/d:0,k.push((a[r]||x)/l+p)),S=r;return k},UE=th.getStringUnitWidth=function(n,e){var t=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return th.processArabic&&(n=th.processArabic(n)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(n,t,i)/t:Ng.apply(this,arguments).reduce(function(s,o){return s+o},0)},zE=function(n,e,t,r){for(var i=[],s=0,o=n.length,a=0;s!==o&&a+e[s]<t;)a+=e[s],s++;i.push(n.slice(0,s));var l=s;for(a=0;s!==o;)a+e[s]>r&&(i.push(n.slice(l,s)),a=0,l=s),a+=e[s],s++;return l!==s&&i.push(n.slice(l,s)),i},qE=function(n,e,t){t||(t={});var r,i,s,o,a,l,c,d=[],f=[d],p=t.textIndent||0,g=0,S=0,x=n.split(" "),k=Ng.apply(this,[" ",t])[0];if(l=t.lineIndent===-1?x[0].length+2:t.lineIndent||0){var _=Array(l).join(" "),b=[];x.map(function(F){(F=F.split(/\s*\n/)).length>1?b=b.concat(F.map(function(B,U){return(U&&B.length?`
`:"")+B})):b.push(F[0])}),x=b,l=UE.apply(this,[_,t])}for(s=0,o=x.length;s<o;s++){var E=0;if(r=x[s],l&&r[0]==`
`&&(r=r.substr(1),E=1),p+g+(S=(i=Ng.apply(this,[r,t])).reduce(function(F,B){return F+B},0))>e||E){if(S>e){for(a=zE.apply(this,[r,i,e-(p+g),e]),d.push(a.shift()),d=[a.pop()];a.length;)f.push([a.shift()]);S=i.slice(r.length-(d[0]?d[0].length:0)).reduce(function(F,B){return F+B},0)}else d=[r];f.push(d),p=S+l,g=k}else d.push(r),p+=g+S,g=k}return c=l?function(F,B){return(B?_:"")+F.join(" ")}:function(F){return F.join(" ")},f.map(c)},th.splitTextToSize=function(n,e,t){var r,i=(t=t||{}).fontSize||this.internal.getFontSize(),s=(function(d){if(d.widths&&d.kerning)return{widths:d.widths,kerning:d.kerning};var f=this.internal.getFont(d.fontName,d.fontStyle);return f.metadata.Unicode?{widths:f.metadata.Unicode.widths||{0:1},kerning:f.metadata.Unicode.kerning||{}}:{font:f.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,t);r=Array.isArray(n)?n:String(n).split(/\r?\n/);var o=1*this.internal.scaleFactor*e/i;s.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=t.lineIndent;var a,l,c=[];for(a=0,l=r.length;a<l;a++)c=c.concat(qE.apply(this,[r[a],o,s]));return c},function(n){n.__fontmetrics__=n.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",t={},r={},i=0;i<e.length;i++)t[e[i]]="0123456789abcdef"[i],r["0123456789abcdef"[i]]=e[i];var s=function(f){return"0x"+parseInt(f,10).toString(16)},o=n.__fontmetrics__.compress=function(f){var p,g,S,x,k=["{"];for(var _ in f){if(p=f[_],isNaN(parseInt(_,10))?g="'"+_+"'":(_=parseInt(_,10),g=(g=s(_).slice(2)).slice(0,-1)+r[g.slice(-1)]),typeof p=="number")p<0?(S=s(p).slice(3),x="-"):(S=s(p).slice(2),x=""),S=x+S.slice(0,-1)+r[S.slice(-1)];else{if(Jt(p)!=="object")throw new Error("Don't know what to do with value type "+Jt(p)+".");S=o(p)}k.push(g+S)}return k.push("}"),k.join("")},a=n.__fontmetrics__.uncompress=function(f){if(typeof f!="string")throw new Error("Invalid argument passed to uncompress.");for(var p,g,S,x,k={},_=1,b=k,E=[],F="",B="",U=f.length-1,N=1;N<U;N+=1)(x=f[N])=="'"?p?(S=p.join(""),p=void 0):p=[]:p?p.push(x):x=="{"?(E.push([b,S]),b={},S=void 0):x=="}"?((g=E.pop())[0][g[1]]=b,S=void 0,b=g[0]):x=="-"?_=-1:S===void 0?t.hasOwnProperty(x)?(F+=t[x],S=parseInt(F,16)*_,_=1,F=""):F+=x:t.hasOwnProperty(x)?(B+=t[x],b[S]=parseInt(B,16)*_,_=1,S=void 0,B=""):B+=x;return k},l={codePages:["WinAnsiEncoding"],WinAnsiEncoding:a("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},c={Unicode:{Courier:l,"Courier-Bold":l,"Courier-BoldOblique":l,"Courier-Oblique":l,Helvetica:l,"Helvetica-Bold":l,"Helvetica-BoldOblique":l,"Helvetica-Oblique":l,"Times-Roman":l,"Times-Bold":l,"Times-BoldItalic":l,"Times-Italic":l}},d={Unicode:{"Courier-Oblique":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":a("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":a("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":a("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:a("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:a("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":a("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:a("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":a("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":a("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":a("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};n.events.push(["addFont",function(f){var p=f.font,g=d.Unicode[p.postScriptName];g&&(p.metadata.Unicode={},p.metadata.Unicode.widths=g.widths,p.metadata.Unicode.kerning=g.kerning);var S=c.Unicode[p.postScriptName];S&&(p.metadata.Unicode.encoding=S,p.encoding=S.codePages[0])}])}(ct.API),function(n){var e=function(t){for(var r=t.length,i=new Uint8Array(r),s=0;s<r;s++)i[s]=t.charCodeAt(s);return i};n.API.events.push(["addFont",function(t){var r=void 0,i=t.font,s=t.instance;if(!i.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=s.existsFileInVFS(i.postScriptName)===!1?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(o,a){a=/^\x00\x01\x00\x00/.test(a)?e(a):e(Yf(a)),o.metadata=n.API.TTFFont.open(a),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(i,r)}}])}(ct),function(n){function e(){return(yt.canvg?Promise.resolve(yt.canvg):j1(()=>import("./index.es-bc30b651.js"),[])).catch(function(t){return Promise.reject(new Error("Could not load canvg: "+t))}).then(function(t){return t.default?t.default:t})}ct.API.addSvgAsImage=function(t,r,i,s,o,a,l,c){if(isNaN(r)||isNaN(i))throw an.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(s)||isNaN(o))throw an.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var d=document.createElement("canvas");d.width=s,d.height=o;var f=d.getContext("2d");f.fillStyle="#fff",f.fillRect(0,0,d.width,d.height);var p={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},g=this;return e().then(function(S){return S.fromString(f,t,p)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(S){return S.render(p)}).then(function(){g.addImage(d.toDataURL("image/jpeg",1),r,i,s,o,l,c)})}}(),ct.API.putTotalPages=function(n){var e,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(n,"g"),t=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(n,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(e,t);return this},ct.API.viewerPreferences=function(n,e){var t;n=n||{},e=e||!1;var r,i,s,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},a=Object.keys(o),l=[],c=0,d=0,f=0;function p(S,x){var k,_=!1;for(k=0;k<S.length;k+=1)S[k]===x&&(_=!0);return _}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,n==="reset"||e===!0){var g=a.length;for(f=0;f<g;f+=1)t[a[f]].value=t[a[f]].defaultValue,t[a[f]].explicitSet=!1}if(Jt(n)==="object"){for(i in n)if(s=n[i],p(a,i)&&s!==void 0){if(t[i].type==="boolean"&&typeof s=="boolean")t[i].value=s;else if(t[i].type==="name"&&p(t[i].valueSet,s))t[i].value=s;else if(t[i].type==="integer"&&Number.isInteger(s))t[i].value=s;else if(t[i].type==="array"){for(c=0;c<s.length;c+=1)if(r=!0,s[c].length===1&&typeof s[c][0]=="number")l.push(String(s[c]-1));else if(s[c].length>1){for(d=0;d<s[c].length;d+=1)typeof s[c][d]!="number"&&(r=!1);r===!0&&l.push([s[c][0]-1,s[c][1]-1].join(" "))}t[i].value="["+l.join(" ")+"]"}else t[i].value=t[i].defaultValue;t[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var S,x=[];for(S in t)t[S].explicitSet===!0&&(t[S].type==="name"?x.push("/"+S+" /"+t[S].value):x.push("/"+S+" "+t[S].value));x.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+x.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},function(n){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(r)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),a=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),c=s.length+o.length+a.length+i.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+c+" >>"),this.internal.write("stream"),this.internal.write(i+s+o+a+l),this.internal.write("endstream"),this.internal.write("endobj")},t=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};n.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",t),this.internal.events.subscribe("postPutResources",e)),this}}(ct.API),function(n){var e=n.API,t=e.pdfEscape16=function(s,o){for(var a,l=o.metadata.Unicode.widths,c=["","0","00","000","0000"],d=[""],f=0,p=s.length;f<p;++f){if(a=o.metadata.characterToGlyph(s.charCodeAt(f)),o.metadata.glyIdsUsed.push(a),o.metadata.toUnicode[a]=s.charCodeAt(f),l.indexOf(a)==-1&&(l.push(a),l.push([parseInt(o.metadata.widthOfGlyph(a),10)])),a=="0")return d.join("");a=a.toString(16),d.push(c[4-a.length],a)}return d.join("")},r=function(s){var o,a,l,c,d,f,p;for(d=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],f=0,p=(a=Object.keys(s).sort(function(g,S){return g-S})).length;f<p;f++)o=a[f],l.length>=100&&(d+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),s[o]!==void 0&&s[o]!==null&&typeof s[o].toString=="function"&&(c=("0000"+s[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),l.push("<"+o+"><"+c+">"));return l.length&&(d+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),d+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(s){(function(o){var a=o.font,l=o.out,c=o.newObject,d=o.putStream;if(a.metadata instanceof n.API.TTFFont&&a.encoding==="Identity-H"){for(var f=a.metadata.Unicode.widths,p=a.metadata.subset.encode(a.metadata.glyIdsUsed,1),g="",S=0;S<p.length;S++)g+=String.fromCharCode(p[S]);var x=c();d({data:g,addLength1:!0,objectId:x}),l("endobj");var k=c();d({data:r(a.metadata.toUnicode),addLength1:!0,objectId:k}),l("endobj");var _=c();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+hh(a.fontName)),l("/FontFile2 "+x+" 0 R"),l("/FontBBox "+n.API.PDFObject.convert(a.metadata.bbox)),l("/Flags "+a.metadata.flags),l("/StemV "+a.metadata.stemV),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l(">>"),l("endobj");var b=c();l("<<"),l("/Type /Font"),l("/BaseFont /"+hh(a.fontName)),l("/FontDescriptor "+_+" 0 R"),l("/W "+n.API.PDFObject.convert(f)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+a.encoding+")"),l(">>"),l(">>"),l("endobj"),a.objectNumber=c(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+k+" 0 R"),l("/BaseFont /"+hh(a.fontName)),l("/Encoding /"+a.encoding),l("/DescendantFonts ["+b+" 0 R]"),l(">>"),l("endobj"),a.isAlreadyPutted=!0}})(s)}]),e.events.push(["putFont",function(s){(function(o){var a=o.font,l=o.out,c=o.newObject,d=o.putStream;if(a.metadata instanceof n.API.TTFFont&&a.encoding==="WinAnsiEncoding"){for(var f=a.metadata.rawData,p="",g=0;g<f.length;g++)p+=String.fromCharCode(f[g]);var S=c();d({data:p,addLength1:!0,objectId:S}),l("endobj");var x=c();d({data:r(a.metadata.toUnicode),addLength1:!0,objectId:x}),l("endobj");var k=c();l("<<"),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l("/StemV "+a.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+S+" 0 R"),l("/Flags 96"),l("/FontBBox "+n.API.PDFObject.convert(a.metadata.bbox)),l("/FontName /"+hh(a.fontName)),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l(">>"),l("endobj"),a.objectNumber=c();for(var _=0;_<a.metadata.hmtx.widths.length;_++)a.metadata.hmtx.widths[_]=parseInt(a.metadata.hmtx.widths[_]*(1e3/a.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+x+" 0 R/BaseFont/"+hh(a.fontName)+"/FontDescriptor "+k+" 0 R/Encoding/"+a.encoding+" /FirstChar 29 /LastChar 255 /Widths "+n.API.PDFObject.convert(a.metadata.hmtx.widths)+">>"),l("endobj"),a.isAlreadyPutted=!0}})(s)}]);var i=function(s){var o,a=s.text||"",l=s.x,c=s.y,d=s.options||{},f=s.mutex||{},p=f.pdfEscape,g=f.activeFontKey,S=f.fonts,x=g,k="",_=0,b="",E=S[x].encoding;if(S[x].encoding!=="Identity-H")return{text:a,x:l,y:c,options:d,mutex:f};for(b=a,x=g,Array.isArray(a)&&(b=a[0]),_=0;_<b.length;_+=1)S[x].metadata.hasOwnProperty("cmap")&&(o=S[x].metadata.cmap.unicode.codeMap[b[_].charCodeAt(0)]),o||b[_].charCodeAt(0)<256&&S[x].metadata.hasOwnProperty("Unicode")?k+=b[_]:k+="";var F="";return parseInt(x.slice(1))<14||E==="WinAnsiEncoding"?F=p(k,x).split("").map(function(B){return B.charCodeAt(0).toString(16)}).join(""):E==="Identity-H"&&(F=t(k,S[x])),f.isHex=!0,{text:F,x:l,y:c,options:d,mutex:f}};e.events.push(["postProcessText",function(s){var o=s.text||"",a=[],l={text:o,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(o)){var c=0;for(c=0;c<o.length;c+=1)Array.isArray(o[c])&&o[c].length===3?a.push([i(Object.assign({},l,{text:o[c][0]})).text,o[c][1],o[c][2]]):a.push(i(Object.assign({},l,{text:o[c]})).text);s.text=a}else s.text=i(Object.assign({},l,{text:o})).text}])}(ct),function(n){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};n.existsFileInVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0},n.addFileToVFS=function(t,r){return e.call(this),this.internal.vFS[t]=r,this},n.getFileFromVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0?this.internal.vFS[t]:null}}(ct.API),function(n){n.__bidiEngine__=n.prototype.__bidiEngine__=function(r){var i,s,o,a,l,c,d,f=e,p=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],g=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],S={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},x={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},k=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],_=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),b=!1,E=0;this.__bidiEngine__={};var F=function(T){var P=T.charCodeAt(),L=P>>8,G=x[L];return G!==void 0?f[256*G+(255&P)]:L===252||L===253?"AL":_.test(L)?"L":L===8?"R":"N"},B=function(T){for(var P,L=0;L<T.length;L++){if((P=F(T.charAt(L)))==="L")return!1;if(P==="R")return!0}return!1},U=function(T,P,L,G){var ue,ee,X,K,Y=P[G];switch(Y){case"L":case"R":b=!1;break;case"N":case"AN":break;case"EN":b&&(Y="AN");break;case"AL":b=!0,Y="R";break;case"WS":Y="N";break;case"CS":G<1||G+1>=P.length||(ue=L[G-1])!=="EN"&&ue!=="AN"||(ee=P[G+1])!=="EN"&&ee!=="AN"?Y="N":b&&(ee="AN"),Y=ee===ue?ee:"N";break;case"ES":Y=(ue=G>0?L[G-1]:"B")==="EN"&&G+1<P.length&&P[G+1]==="EN"?"EN":"N";break;case"ET":if(G>0&&L[G-1]==="EN"){Y="EN";break}if(b){Y="N";break}for(X=G+1,K=P.length;X<K&&P[X]==="ET";)X++;Y=X<K&&P[X]==="EN"?"EN":"N";break;case"NSM":if(o&&!a){for(K=P.length,X=G+1;X<K&&P[X]==="NSM";)X++;if(X<K){var oe=T[G],me=oe>=1425&&oe<=2303||oe===64286;if(ue=P[X],me&&(ue==="R"||ue==="AL")){Y="R";break}}}Y=G<1||(ue=P[G-1])==="B"?"N":L[G-1];break;case"B":b=!1,i=!0,Y=E;break;case"S":s=!0,Y="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":b=!1;break;case"BN":Y="N"}return Y},N=function(T,P,L){var G=T.split("");return L&&A(G,L,{hiLevel:E}),G.reverse(),P&&P.reverse(),G.join("")},A=function(T,P,L){var G,ue,ee,X,K,Y=-1,oe=T.length,me=0,M=[],W=E?g:p,Q=[];for(b=!1,i=!1,s=!1,ue=0;ue<oe;ue++)Q[ue]=F(T[ue]);for(ee=0;ee<oe;ee++){if(K=me,M[ee]=U(T,Q,M,ee),G=240&(me=W[K][S[M[ee]]]),me&=15,P[ee]=X=W[me][5],G>0)if(G===16){for(ue=Y;ue<ee;ue++)P[ue]=1;Y=-1}else Y=-1;if(W[me][6])Y===-1&&(Y=ee);else if(Y>-1){for(ue=Y;ue<ee;ue++)P[ue]=X;Y=-1}Q[ee]==="B"&&(P[ee]=0),L.hiLevel|=X}s&&function(te,ne,he){for(var fe=0;fe<he;fe++)if(te[fe]==="S"){ne[fe]=E;for(var ge=fe-1;ge>=0&&te[ge]==="WS";ge--)ne[ge]=E}}(Q,P,oe)},C=function(T,P,L,G,ue){if(!(ue.hiLevel<T)){if(T===1&&E===1&&!i)return P.reverse(),void(L&&L.reverse());for(var ee,X,K,Y,oe=P.length,me=0;me<oe;){if(G[me]>=T){for(K=me+1;K<oe&&G[K]>=T;)K++;for(Y=me,X=K-1;Y<X;Y++,X--)ee=P[Y],P[Y]=P[X],P[X]=ee,L&&(ee=L[Y],L[Y]=L[X],L[X]=ee);me=K}me++}}},D=function(T,P,L){var G=T.split(""),ue={hiLevel:E};return L||(L=[]),A(G,L,ue),function(ee,X,K){if(K.hiLevel!==0&&d)for(var Y,oe=0;oe<ee.length;oe++)X[oe]===1&&(Y=k.indexOf(ee[oe]))>=0&&(ee[oe]=k[Y+1])}(G,L,ue),C(2,G,P,L,ue),C(1,G,P,L,ue),G.join("")};return this.__bidiEngine__.doBidiReorder=function(T,P,L){if(function(ue,ee){if(ee)for(var X=0;X<ue.length;X++)ee[X]=X;a===void 0&&(a=B(ue)),c===void 0&&(c=B(ue))}(T,P),o||!l||c)if(o&&l&&a^c)E=a?1:0,T=N(T,P,L);else if(!o&&l&&c)E=a?1:0,T=D(T,P,L),T=N(T,P);else if(!o||a||l||c){if(o&&!l&&a^c)T=N(T,P),a?(E=0,T=D(T,P,L)):(E=1,T=D(T,P,L),T=N(T,P));else if(o&&a&&!l&&c)E=1,T=D(T,P,L),T=N(T,P);else if(!o&&!l&&a^c){var G=d;a?(E=1,T=D(T,P,L),E=0,d=!1,T=D(T,P,L),d=G):(E=0,T=D(T,P,L),T=N(T,P),E=1,d=!1,T=D(T,P,L),d=G,T=N(T,P))}}else E=0,T=D(T,P,L);else E=a?1:0,T=D(T,P,L);return T},this.__bidiEngine__.setOptions=function(T){T&&(o=T.isInputVisual,l=T.isOutputVisual,a=T.isInputRtl,c=T.isOutputRtl,d=T.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new n.__bidiEngine__({isInputVisual:!0});n.API.events.push(["postProcessText",function(r){var i=r.text,s=(r.x,r.y,r.options||{}),o=(r.mutex,s.lang,[]);if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,t.setOptions(s),Object.prototype.toString.call(i)==="[object Array]"){var a=0;for(o=[],a=0;a<i.length;a+=1)Object.prototype.toString.call(i[a])==="[object Array]"?o.push([t.doBidiReorder(i[a][0]),i[a][1],i[a][2]]):o.push([t.doBidiReorder(i[a])]);r.text=o}else r.text=t.doBidiReorder(i);t.setOptions({isInputVisual:!0})}])}(ct),ct.API.TTFFont=function(){function n(e){var t;if(this.rawData=e,t=this.contents=new Ll(e),this.contents.pos=4,t.readString(4)==="ttcf")throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new KO(this),this.registerTTF()}return n.open=function(e){return new n(e)},n.prototype.parse=function(){return this.directory=new DO(this.contents),this.head=new FO(this),this.name=new UO(this),this.cmap=new lP(this),this.toUnicode={},this.hhea=new MO(this),this.maxp=new zO(this),this.hmtx=new qO(this),this.post=new jO(this),this.os2=new VO(this),this.loca=new GO(this),this.glyf=new $O(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},n.prototype.registerTTF=function(){var e,t,r,i,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,a,l,c;for(c=[],o=0,a=(l=this.bbox).length;o<a;o++)e=l[o],c.push(Math.round(e*this.scaleFactor));return c}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),32768&(t=i>>16)&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},n.prototype.characterToGlyph=function(e){var t;return((t=this.cmap.unicode)!=null?t.codeMap[e]:void 0)||0},n.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},n.prototype.widthOfString=function(e,t,r){var i,s,o,a;for(o=0,s=0,a=(e=""+e).length;0<=a?s<a:s>a;s=0<=a?++s:--s)i=e.charCodeAt(s),o+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/t)||0;return o*(t/1e3)},n.prototype.lineHeight=function(e,t){var r;return t==null&&(t=!1),r=t?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},n}();var Js,Ll=function(){function n(e){this.data=e??[],this.pos=0,this.length=this.data.length}return n.prototype.readByte=function(){return this.data[this.pos++]},n.prototype.writeByte=function(e){return this.data[this.pos++]=e},n.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},n.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},n.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},n.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},n.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},n.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},n.prototype.readString=function(e){var t,r;for(r=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)r[t]=String.fromCharCode(this.readByte());return r.join("")},n.prototype.writeString=function(e){var t,r,i;for(i=[],t=0,r=e.length;0<=r?t<r:t>r;t=0<=r?++t:--t)i.push(this.writeByte(e.charCodeAt(t)));return i},n.prototype.readShort=function(){return this.readInt16()},n.prototype.writeShort=function(e){return this.writeInt16(e)},n.prototype.readLongLong=function(){var e,t,r,i,s,o,a,l;return e=this.readByte(),t=this.readByte(),r=this.readByte(),i=this.readByte(),s=this.readByte(),o=this.readByte(),a=this.readByte(),l=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^s)+65536*(255^o)+256*(255^a)+(255^l)+1):72057594037927940*e+281474976710656*t+1099511627776*r+4294967296*i+16777216*s+65536*o+256*a+l},n.prototype.writeLongLong=function(e){var t,r;return t=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},n.prototype.readInt=function(){return this.readInt32()},n.prototype.writeInt=function(e){return this.writeInt32(e)},n.prototype.read=function(e){var t,r;for(t=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)t.push(this.readByte());return t},n.prototype.write=function(e){var t,r,i,s;for(s=[],r=0,i=e.length;r<i;r++)t=e[r],s.push(this.writeByte(t));return s},n}(),DO=function(){var n;function e(t){var r,i,s;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},i=0,s=this.tableCount;0<=s?i<s:i>s;i=0<=s?++i:--i)r={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(t){var r,i,s,o,a,l,c,d,f,p,g,S,x;for(x in g=Object.keys(t).length,l=Math.log(2),f=16*Math.floor(Math.log(g)/l),o=Math.floor(f/l),d=16*g-f,(i=new Ll).writeInt(this.scalarType),i.writeShort(g),i.writeShort(f),i.writeShort(o),i.writeShort(d),s=16*g,c=i.pos+s,a=null,S=[],t)for(p=t[x],i.writeString(x),i.writeInt(n(p)),i.writeInt(c),i.writeInt(p.length),S=S.concat(p),x==="head"&&(a=c),c+=p.length;c%4;)S.push(0),c++;return i.write(S),r=2981146554-n(i.data),i.pos=a+8,i.writeUInt32(r),i.data},n=function(t){var r,i,s,o;for(t=uP.call(t);t.length%4;)t.push(0);for(s=new Ll(t),i=0,r=0,o=t.length;r<o;r=r+=4)i+=s.readUInt32();return 4294967295&i},e}(),OO={}.hasOwnProperty,Mo=function(n,e){for(var t in e)OO.call(e,t)&&(n[t]=e[t]);function r(){this.constructor=n}return r.prototype=e.prototype,n.prototype=new r,n.__super__=e.prototype,n};Js=function(){function n(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return n.prototype.parse=function(){},n.prototype.encode=function(){},n.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},n}();var FO=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Mo(e,Js),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var r;return(r=new Ll).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(t),r.writeShort(this.glyphDataFormat),r.data},e}(),HE=function(){function n(e,t){var r,i,s,o,a,l,c,d,f,p,g,S,x,k,_,b,E;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),f=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=e.readByte();break;case 4:for(g=e.readUInt16(),p=g/2,e.pos+=6,s=function(){var F,B;for(B=[],l=F=0;0<=p?F<p:F>p;l=0<=p?++F:--F)B.push(e.readUInt16());return B}(),e.pos+=2,x=function(){var F,B;for(B=[],l=F=0;0<=p?F<p:F>p;l=0<=p?++F:--F)B.push(e.readUInt16());return B}(),c=function(){var F,B;for(B=[],l=F=0;0<=p?F<p:F>p;l=0<=p?++F:--F)B.push(e.readUInt16());return B}(),d=function(){var F,B;for(B=[],l=F=0;0<=p?F<p:F>p;l=0<=p?++F:--F)B.push(e.readUInt16());return B}(),i=(this.length-e.pos+this.offset)/2,a=function(){var F,B;for(B=[],l=F=0;0<=i?F<i:F>i;l=0<=i?++F:--F)B.push(e.readUInt16());return B}(),l=_=0,E=s.length;_<E;l=++_)for(k=s[l],r=b=S=x[l];S<=k?b<=k:b>=k;r=S<=k?++b:--b)d[l]===0?o=r+c[l]:(o=a[d[l]/2+(r-S)-(p-l)]||0)!==0&&(o+=c[l]),this.codeMap[r]=65535&o}e.pos=f}return n.encode=function(e,t){var r,i,s,o,a,l,c,d,f,p,g,S,x,k,_,b,E,F,B,U,N,A,C,D,T,P,L,G,ue,ee,X,K,Y,oe,me,M,W,Q,te,ne,he,fe,ge,Ce,Re,Ue;switch(G=new Ll,o=Object.keys(e).sort(function(ze,at){return ze-at}),t){case"macroman":for(x=0,k=function(){var ze=[];for(S=0;S<256;++S)ze.push(0);return ze}(),b={0:0},s={},ue=0,Y=o.length;ue<Y;ue++)b[ge=e[i=o[ue]]]==null&&(b[ge]=++x),s[i]={old:e[i],new:b[e[i]]},k[i]=b[e[i]];return G.writeUInt16(1),G.writeUInt16(0),G.writeUInt32(12),G.writeUInt16(0),G.writeUInt16(262),G.writeUInt16(0),G.write(k),{charMap:s,subtable:G.data,maxGlyphID:x+1};case"unicode":for(P=[],f=[],E=0,b={},r={},_=c=null,ee=0,oe=o.length;ee<oe;ee++)b[B=e[i=o[ee]]]==null&&(b[B]=++E),r[i]={old:B,new:b[B]},a=b[B]-i,_!=null&&a===c||(_&&f.push(_),P.push(i),c=a),_=i;for(_&&f.push(_),f.push(65535),P.push(65535),D=2*(C=P.length),A=2*Math.pow(Math.log(C)/Math.LN2,2),p=Math.log(A/2)/Math.LN2,N=2*C-A,l=[],U=[],g=[],S=X=0,me=P.length;X<me;S=++X){if(T=P[S],d=f[S],T===65535){l.push(0),U.push(0);break}if(T-(L=r[T].new)>=32768)for(l.push(0),U.push(2*(g.length+C-S)),i=K=T;T<=d?K<=d:K>=d;i=T<=d?++K:--K)g.push(r[i].new);else l.push(L-T),U.push(0)}for(G.writeUInt16(3),G.writeUInt16(1),G.writeUInt32(12),G.writeUInt16(4),G.writeUInt16(16+8*C+2*g.length),G.writeUInt16(0),G.writeUInt16(D),G.writeUInt16(A),G.writeUInt16(p),G.writeUInt16(N),he=0,M=f.length;he<M;he++)i=f[he],G.writeUInt16(i);for(G.writeUInt16(0),fe=0,W=P.length;fe<W;fe++)i=P[fe],G.writeUInt16(i);for(Ce=0,Q=l.length;Ce<Q;Ce++)a=l[Ce],G.writeUInt16(a);for(Re=0,te=U.length;Re<te;Re++)F=U[Re],G.writeUInt16(F);for(Ue=0,ne=g.length;Ue<ne;Ue++)x=g[Ue],G.writeUInt16(x);return{charMap:r,subtable:G.data,maxGlyphID:E+1}}},n}(),lP=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Mo(e,Js),e.prototype.tag="cmap",e.prototype.parse=function(t){var r,i,s;for(t.pos=this.offset,this.version=t.readUInt16(),s=t.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=s?i<s:i>s;i=0<=s?++i:--i)r=new HE(t,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},e.encode=function(t,r){var i,s;return r==null&&(r="macroman"),i=HE.encode(t,r),(s=new Ll).writeUInt16(0),s.writeUInt16(1),i.table=s.data.concat(i.subtable),i},e}(),MO=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Mo(e,Js),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e}(),VO=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Mo(e,Js),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=function(){var r,i;for(i=[],r=0;r<10;++r)i.push(t.readByte());return i}(),this.charRange=function(){var r,i;for(i=[],r=0;r<4;++r)i.push(t.readInt());return i}(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=function(){var r,i;for(i=[],r=0;r<2;r=++r)i.push(t.readInt());return i}(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e}(),jO=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Mo(e,Js),e.prototype.tag="post",e.prototype.parse=function(t){var r,i,s;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:break;case 131072:var o;for(i=t.readUInt16(),this.glyphNameIndex=[],o=0;0<=i?o<i:o>i;o=0<=i?++o:--o)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],s=[];t.pos<this.offset+this.length;)r=t.readByte(),s.push(this.names.push(t.readString(r)));return s;case 151552:return i=t.readUInt16(),this.offsets=t.read(i);case 196608:break;case 262144:return this.map=(function(){var a,l,c;for(c=[],o=a=0,l=this.file.maxp.numGlyphs;0<=l?a<l:a>l;o=0<=l?++a:--a)c.push(t.readUInt32());return c}).call(this)}},e}(),BO=function(n,e){this.raw=n,this.length=n.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},UO=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Mo(e,Js),e.prototype.tag="name",e.prototype.parse=function(t){var r,i,s,o,a,l,c,d,f,p,g;for(t.pos=this.offset,t.readShort(),r=t.readShort(),l=t.readShort(),i=[],o=0;0<=r?o<r:o>r;o=0<=r?++o:--o)i.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+l+t.readShort()});for(c={},o=f=0,p=i.length;f<p;o=++f)s=i[o],t.pos=s.offset,d=t.readString(s.length),a=new BO(d,s),c[g=s.nameID]==null&&(c[g]=[]),c[s.nameID].push(a);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},e}(),zO=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Mo(e,Js),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e}(),qO=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Mo(e,Js),e.prototype.tag="hmtx",e.prototype.parse=function(t){var r,i,s,o,a,l,c;for(t.pos=this.offset,this.metrics=[],r=0,l=this.file.hhea.numberOfMetrics;0<=l?r<l:r>l;r=0<=l?++r:--r)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var d,f;for(f=[],r=d=0;0<=s?d<s:d>s;r=0<=s?++d:--d)f.push(t.readInt16());return f}(),this.widths=(function(){var d,f,p,g;for(g=[],d=0,f=(p=this.metrics).length;d<f;d++)o=p[d],g.push(o.advance);return g}).call(this),i=this.widths[this.widths.length-1],c=[],r=a=0;0<=s?a<s:a>s;r=0<=s?++a:--a)c.push(this.widths.push(i));return c},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e}(),uP=[].slice,$O=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Mo(e,Js),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var r,i,s,o,a,l,c,d,f,p;return t in this.cache?this.cache[t]:(o=this.file.loca,r=this.file.contents,i=o.indexOf(t),(s=o.lengthOf(t))===0?this.cache[t]=null:(r.pos=this.offset+i,a=(l=new Ll(r.read(s))).readShort(),d=l.readShort(),p=l.readShort(),c=l.readShort(),f=l.readShort(),this.cache[t]=a===-1?new HO(l,d,p,c,f):new WO(l,a,d,p,c,f),this.cache[t]))},e.prototype.encode=function(t,r,i){var s,o,a,l,c;for(a=[],o=[],l=0,c=r.length;l<c;l++)s=t[r[l]],o.push(a.length),s&&(a=a.concat(s.encode(i)));return o.push(a.length),{table:a,offsets:o}},e}(),WO=function(){function n(e,t,r,i,s,o){this.raw=e,this.numberOfContours=t,this.xMin=r,this.yMin=i,this.xMax=s,this.yMax=o,this.compound=!1}return n.prototype.encode=function(){return this.raw.data},n}(),HO=function(){function n(e,t,r,i,s){var o,a;for(this.raw=e,this.xMin=t,this.yMin=r,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;a=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&a;)o.pos+=1&a?4:2,128&a?o.pos+=8:64&a?o.pos+=4:8&a&&(o.pos+=2)}return n.prototype.encode=function(){var e,t,r;for(t=new Ll(uP.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)t.pos=this.glyphOffsets[e];return t.data},n}(),GO=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Mo(e,Js),e.prototype.tag="loca",e.prototype.parse=function(t){var r,i;return t.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var s,o;for(o=[],i=0,s=this.length;i<s;i+=2)o.push(2*t.readUInt16());return o}).call(this):(function(){var s,o;for(o=[],i=0,s=this.length;i<s;i+=4)o.push(t.readUInt32());return o}).call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,r){for(var i=new Uint32Array(this.offsets.length),s=0,o=0,a=0;a<i.length;++a)if(i[a]=s,o<r.length&&r[o]==a){++o,i[a]=s;var l=this.offsets[a],c=this.offsets[a+1]-l;c>0&&(s+=c)}for(var d=new Array(4*i.length),f=0;f<i.length;++f)d[4*f+3]=255&i[f],d[4*f+2]=(65280&i[f])>>8,d[4*f+1]=(16711680&i[f])>>16,d[4*f]=(4278190080&i[f])>>24;return d},e}(),KO=function(){function n(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return n.prototype.generateCmap=function(){var e,t,r,i,s;for(t in i=this.font.cmap.tables[0].codeMap,e={},s=this.subset)r=s[t],e[t]=i[r];return e},n.prototype.glyphsFor=function(e){var t,r,i,s,o,a,l;for(i={},o=0,a=e.length;o<a;o++)i[s=e[o]]=this.font.glyf.glyphFor(s);for(s in t=[],i)(r=i[s])!=null&&r.compound&&t.push.apply(t,r.glyphIDs);if(t.length>0)for(s in l=this.glyphsFor(t))r=l[s],i[s]=r;return i},n.prototype.encode=function(e,t){var r,i,s,o,a,l,c,d,f,p,g,S,x,k,_;for(i in r=lP.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(e),g={0:0},_=r.charMap)g[(l=_[i]).old]=l.new;for(S in p=r.maxGlyphID,o)S in g||(g[S]=p++);return d=function(b){var E,F;for(E in F={},b)F[b[E]]=E;return F}(g),f=Object.keys(d).sort(function(b,E){return b-E}),x=function(){var b,E,F;for(F=[],b=0,E=f.length;b<E;b++)a=f[b],F.push(d[a]);return F}(),s=this.font.glyf.encode(o,x,g),c=this.font.loca.encode(s.offsets,x),k={cmap:this.font.cmap.raw(),glyf:s.table,loca:c,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(k["OS/2"]=this.font.os2.raw()),this.font.directory.encode(k)},n}();ct.API.PDFObject=function(){var n;function e(){}return n=function(t,r){return(Array(r+1).join("0")+t).slice(-r)},e.convert=function(t){var r,i,s,o;if(Array.isArray(t))return"["+function(){var a,l,c;for(c=[],a=0,l=t.length;a<l;a++)r=t[a],c.push(e.convert(r));return c}().join(" ")+"]";if(typeof t=="string")return"/"+t;if(t!=null&&t.isString)return"("+t+")";if(t instanceof Date)return"(D:"+n(t.getUTCFullYear(),4)+n(t.getUTCMonth(),2)+n(t.getUTCDate(),2)+n(t.getUTCHours(),2)+n(t.getUTCMinutes(),2)+n(t.getUTCSeconds(),2)+"Z)";if({}.toString.call(t)==="[object Object]"){for(i in s=["<<"],t)o=t[i],s.push("/"+i+" "+e.convert(o));return s.push(">>"),s.join(`
`)}return""+t},e}();const QO=Object.freeze(Object.defineProperty({__proto__:null,AcroForm:TO,AcroFormAppearance:tt,AcroFormButton:ur,AcroFormCheckBox:Zf,AcroFormChoiceField:Hu,AcroFormComboBox:Ku,AcroFormEditBox:Jf,AcroFormListBox:Gu,AcroFormPasswordField:ep,AcroFormPushButton:Xf,AcroFormRadioButton:Qu,AcroFormTextField:Sl,GState:Op,ShadingPattern:ll,TilingPattern:ju,default:ct,jsPDF:ct},Symbol.toStringTag,{value:"Module"}));var YO={exports:{}};const JO=GR(QO);/*!
 * 
 *               jsPDF AutoTable plugin v3.8.4
 *
 *               Copyright (c) 2024 Simon Bengtsson, https://github.com/simonbengtsson/jsPDF-AutoTable
 *               Licensed under the MIT License.
 *               http://opensource.org/licenses/mit-license
 *
 */(function(n,e){(function(r,i){n.exports=i(function(){try{return JO}catch{}}())})(typeof globalThis<"u"?globalThis:typeof sl<"u"?sl:typeof window<"u"?window:typeof self<"u"?self:sl,function(t){return function(){var r={172:function(a,l){var c=this&&this.__extends||function(){var p=function(g,S){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(x,k){x.__proto__=k}||function(x,k){for(var _ in k)Object.prototype.hasOwnProperty.call(k,_)&&(x[_]=k[_])},p(g,S)};return function(g,S){if(typeof S!="function"&&S!==null)throw new TypeError("Class extends value "+String(S)+" is not a constructor or null");p(g,S);function x(){this.constructor=g}g.prototype=S===null?Object.create(S):(x.prototype=S.prototype,new x)}}();Object.defineProperty(l,"__esModule",{value:!0}),l.CellHookData=l.HookData=void 0;var d=function(){function p(g,S,x){this.table=S,this.pageNumber=S.pageNumber,this.pageCount=this.pageNumber,this.settings=S.settings,this.cursor=x,this.doc=g.getDocument()}return p}();l.HookData=d;var f=function(p){c(g,p);function g(S,x,k,_,b,E){var F=p.call(this,S,x,E)||this;return F.cell=k,F.row=_,F.column=b,F.section=_.section,F}return g}(d);l.CellHookData=f},340:function(a,l,c){Object.defineProperty(l,"__esModule",{value:!0});var d=c(4),f=c(136),p=c(744),g=c(776),S=c(664),x=c(972);function k(_){_.API.autoTable=function(){for(var b=[],E=0;E<arguments.length;E++)b[E]=arguments[E];var F;b.length===1?F=b[0]:(console.error("Use of deprecated autoTable initiation"),F=b[2]||{},F.columns=b[0],F.body=b[1]);var B=(0,g.parseInput)(this,F),U=(0,x.createTable)(this,B);return(0,S.drawTable)(this,U),this},_.API.lastAutoTable=!1,_.API.previousAutoTable=!1,_.API.autoTable.previous=!1,_.API.autoTableText=function(b,E,F,B){(0,f.default)(b,E,F,B,this)},_.API.autoTableSetDefaults=function(b){return p.DocHandler.setDefaults(b,this),this},_.autoTableSetDefaults=function(b,E){p.DocHandler.setDefaults(b,E)},_.API.autoTableHtmlToJson=function(b,E){var F;if(E===void 0&&(E=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var B=new p.DocHandler(this),U=(0,d.parseHtml)(B,b,window,E,!1),N=U.head,A=U.body,C=((F=N[0])===null||F===void 0?void 0:F.map(function(D){return D.content}))||[];return{columns:C,rows:A,data:A}},_.API.autoTableEndPosY=function(){console.error("Use of deprecated function: autoTableEndPosY. Use doc.lastAutoTable.finalY instead.");var b=this.lastAutoTable;return b&&b.finalY?b.finalY:0},_.API.autoTableAddPageContent=function(b){return console.error("Use of deprecated function: autoTableAddPageContent. Use jsPDF.autoTableSetDefaults({didDrawPage: () => {}}) instead."),_.API.autoTable.globalDefaults||(_.API.autoTable.globalDefaults={}),_.API.autoTable.globalDefaults.addPageContent=b,this},_.API.autoTableAddPage=function(){return console.error("Use of deprecated function: autoTableAddPage. Use doc.addPage()"),this.addPage(),this}}l.default=k},136:function(a,l){Object.defineProperty(l,"__esModule",{value:!0});function c(d,f,p,g,S){g=g||{};var x=1.15,k=S.internal.scaleFactor,_=S.internal.getFontSize()/k,b=S.getLineHeightFactor?S.getLineHeightFactor():x,E=_*b,F=/\r\n|\r|\n/g,B="",U=1;if((g.valign==="middle"||g.valign==="bottom"||g.halign==="center"||g.halign==="right")&&(B=typeof d=="string"?d.split(F):d,U=B.length||1),p+=_*(2-x),g.valign==="middle"?p-=U/2*E:g.valign==="bottom"&&(p-=U*E),g.halign==="center"||g.halign==="right"){var N=_;if(g.halign==="center"&&(N*=.5),B&&U>=1){for(var A=0;A<B.length;A++)S.text(B[A],f-S.getStringUnitWidth(B[A])*N,p),p+=E;return S}f-=S.getStringUnitWidth(d)*N}return g.halign==="justify"?S.text(d,f,p,{maxWidth:g.maxWidth||100,align:"justify"}):S.text(d,f,p),S}l.default=c},420:function(a,l){Object.defineProperty(l,"__esModule",{value:!0}),l.getPageAvailableWidth=l.parseSpacing=l.getFillStyle=l.addTableBorder=l.getStringWidth=void 0;function c(S,x,k){k.applyStyles(x,!0);var _=Array.isArray(S)?S:[S],b=_.map(function(E){return k.getTextWidth(E)}).reduce(function(E,F){return Math.max(E,F)},0);return b}l.getStringWidth=c;function d(S,x,k,_){var b=x.settings.tableLineWidth,E=x.settings.tableLineColor;S.applyStyles({lineWidth:b,lineColor:E});var F=f(b,!1);F&&S.rect(k.x,k.y,x.getWidth(S.pageSize().width),_.y-k.y,F)}l.addTableBorder=d;function f(S,x){var k=S>0,_=x||x===0;return k&&_?"DF":k?"S":_?"F":null}l.getFillStyle=f;function p(S,x){var k,_,b,E;if(S=S||x,Array.isArray(S)){if(S.length>=4)return{top:S[0],right:S[1],bottom:S[2],left:S[3]};if(S.length===3)return{top:S[0],right:S[1],bottom:S[2],left:S[1]};if(S.length===2)return{top:S[0],right:S[1],bottom:S[0],left:S[1]};S.length===1?S=S[0]:S=x}return typeof S=="object"?(typeof S.vertical=="number"&&(S.top=S.vertical,S.bottom=S.vertical),typeof S.horizontal=="number"&&(S.right=S.horizontal,S.left=S.horizontal),{left:(k=S.left)!==null&&k!==void 0?k:x,top:(_=S.top)!==null&&_!==void 0?_:x,right:(b=S.right)!==null&&b!==void 0?b:x,bottom:(E=S.bottom)!==null&&E!==void 0?E:x}):(typeof S!="number"&&(S=x),{top:S,right:S,bottom:S,left:S})}l.parseSpacing=p;function g(S,x){var k=p(x.settings.margin,0);return S.pageSize().width-(k.left+k.right)}l.getPageAvailableWidth=g},796:function(a,l){var c=this&&this.__extends||function(){var g=function(S,x){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,_){k.__proto__=_}||function(k,_){for(var b in _)Object.prototype.hasOwnProperty.call(_,b)&&(k[b]=_[b])},g(S,x)};return function(S,x){if(typeof x!="function"&&x!==null)throw new TypeError("Class extends value "+String(x)+" is not a constructor or null");g(S,x);function k(){this.constructor=S}S.prototype=x===null?Object.create(x):(k.prototype=x.prototype,new k)}}();Object.defineProperty(l,"__esModule",{value:!0}),l.getTheme=l.defaultStyles=l.HtmlRowInput=void 0;var d=function(g){c(S,g);function S(x){var k=g.call(this)||this;return k._element=x,k}return S}(Array);l.HtmlRowInput=d;function f(g){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/g,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}l.defaultStyles=f;function p(g){var S={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return S[g]}l.getTheme=p},903:function(a,l,c){Object.defineProperty(l,"__esModule",{value:!0}),l.parseCss=void 0;var d=c(420);function f(k,_,b,E,F){var B={},U=1.3333333333333333,N=g(_,function(Y){return F.getComputedStyle(Y).backgroundColor});N!=null&&(B.fillColor=N);var A=g(_,function(Y){return F.getComputedStyle(Y).color});A!=null&&(B.textColor=A);var C=x(E,b);C&&(B.cellPadding=C);var D="borderTopColor",T=U*b,P=E.borderTopWidth;if(E.borderBottomWidth===P&&E.borderRightWidth===P&&E.borderLeftWidth===P){var L=(parseFloat(P)||0)/T;L&&(B.lineWidth=L)}else B.lineWidth={top:(parseFloat(E.borderTopWidth)||0)/T,right:(parseFloat(E.borderRightWidth)||0)/T,bottom:(parseFloat(E.borderBottomWidth)||0)/T,left:(parseFloat(E.borderLeftWidth)||0)/T},B.lineWidth.top||(B.lineWidth.right?D="borderRightColor":B.lineWidth.bottom?D="borderBottomColor":B.lineWidth.left&&(D="borderLeftColor"));var G=g(_,function(Y){return F.getComputedStyle(Y)[D]});G!=null&&(B.lineColor=G);var ue=["left","right","center","justify"];ue.indexOf(E.textAlign)!==-1&&(B.halign=E.textAlign),ue=["middle","bottom","top"],ue.indexOf(E.verticalAlign)!==-1&&(B.valign=E.verticalAlign);var ee=parseInt(E.fontSize||"");isNaN(ee)||(B.fontSize=ee/U);var X=p(E);X&&(B.fontStyle=X);var K=(E.fontFamily||"").toLowerCase();return k.indexOf(K)!==-1&&(B.font=K),B}l.parseCss=f;function p(k){var _="";return(k.fontWeight==="bold"||k.fontWeight==="bolder"||parseInt(k.fontWeight)>=700)&&(_="bold"),(k.fontStyle==="italic"||k.fontStyle==="oblique")&&(_+="italic"),_}function g(k,_){var b=S(k,_);if(!b)return null;var E=b.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!E||!Array.isArray(E))return null;var F=[parseInt(E[1]),parseInt(E[2]),parseInt(E[3])],B=parseInt(E[4]);return B===0||isNaN(F[0])||isNaN(F[1])||isNaN(F[2])?null:F}function S(k,_){var b=_(k);return b==="rgba(0, 0, 0, 0)"||b==="transparent"||b==="initial"||b==="inherit"?k.parentElement==null?null:S(k.parentElement,_):b}function x(k,_){var b=[k.paddingTop,k.paddingRight,k.paddingBottom,k.paddingLeft],E=96/(72/_),F=(parseInt(k.lineHeight)-parseInt(k.fontSize))/_/2,B=b.map(function(N){return parseInt(N||"0")/E}),U=(0,d.parseSpacing)(B,0);return F>U.top&&(U.top=F),F>U.bottom&&(U.bottom=F),U}},744:function(a,l){Object.defineProperty(l,"__esModule",{value:!0}),l.DocHandler=void 0;var c={},d=function(){function f(p){this.jsPDFDocument=p,this.userStyles={textColor:p.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:p.internal.getFontSize(),fontStyle:p.internal.getFont().fontStyle,font:p.internal.getFont().fontName,lineWidth:p.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:p.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return f.setDefaults=function(p,g){g===void 0&&(g=null),g?g.__autoTableDocumentDefaults=p:c=p},f.unifyColor=function(p){return Array.isArray(p)?p:typeof p=="number"?[p,p,p]:typeof p=="string"?[p]:null},f.prototype.applyStyles=function(p,g){var S,x,k;g===void 0&&(g=!1),p.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(p.fontStyle);var _=this.jsPDFDocument.internal.getFont(),b=_.fontStyle,E=_.fontName;if(p.font&&(E=p.font),p.fontStyle){b=p.fontStyle;var F=this.getFontList()[E];F&&F.indexOf(b)===-1&&(this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(F[0]),b=F[0])}if(this.jsPDFDocument.setFont(E,b),p.fontSize&&this.jsPDFDocument.setFontSize(p.fontSize),!g){var B=f.unifyColor(p.fillColor);B&&(S=this.jsPDFDocument).setFillColor.apply(S,B),B=f.unifyColor(p.textColor),B&&(x=this.jsPDFDocument).setTextColor.apply(x,B),B=f.unifyColor(p.lineColor),B&&(k=this.jsPDFDocument).setDrawColor.apply(k,B),typeof p.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(p.lineWidth)}},f.prototype.splitTextToSize=function(p,g,S){return this.jsPDFDocument.splitTextToSize(p,g,S)},f.prototype.rect=function(p,g,S,x,k){return this.jsPDFDocument.rect(p,g,S,x,k)},f.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},f.prototype.getTextWidth=function(p){return this.jsPDFDocument.getTextWidth(p)},f.prototype.getDocument=function(){return this.jsPDFDocument},f.prototype.setPage=function(p){this.jsPDFDocument.setPage(p)},f.prototype.addPage=function(){return this.jsPDFDocument.addPage()},f.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},f.prototype.getGlobalOptions=function(){return c||{}},f.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},f.prototype.pageSize=function(){var p=this.jsPDFDocument.internal.pageSize;return p.width==null&&(p={width:p.getWidth(),height:p.getHeight()}),p},f.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},f.prototype.getLineHeightFactor=function(){var p=this.jsPDFDocument;return p.getLineHeightFactor?p.getLineHeightFactor():1.15},f.prototype.getLineHeight=function(p){return p/this.scaleFactor()*this.getLineHeightFactor()},f.prototype.pageNumber=function(){var p=this.jsPDFDocument.internal.getCurrentPageInfo();return p?p.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},f}();l.DocHandler=d},4:function(a,l,c){Object.defineProperty(l,"__esModule",{value:!0}),l.parseHtml=void 0;var d=c(903),f=c(796);function p(x,k,_,b,E){var F,B;b===void 0&&(b=!1),E===void 0&&(E=!1);var U;typeof k=="string"?U=_.document.querySelector(k):U=k;var N=Object.keys(x.getFontList()),A=x.scaleFactor(),C=[],D=[],T=[];if(!U)return console.error("Html table could not be found with input: ",k),{head:C,body:D,foot:T};for(var P=0;P<U.rows.length;P++){var L=U.rows[P],G=(B=(F=L==null?void 0:L.parentElement)===null||F===void 0?void 0:F.tagName)===null||B===void 0?void 0:B.toLowerCase(),ue=g(N,A,_,L,b,E);ue&&(G==="thead"?C.push(ue):G==="tfoot"?T.push(ue):D.push(ue))}return{head:C,body:D,foot:T}}l.parseHtml=p;function g(x,k,_,b,E,F){for(var B=new f.HtmlRowInput(b),U=0;U<b.cells.length;U++){var N=b.cells[U],A=_.getComputedStyle(N);if(E||A.display!=="none"){var C=void 0;F&&(C=(0,d.parseCss)(x,N,k,A,_)),B.push({rowSpan:N.rowSpan,colSpan:N.colSpan,styles:C,_element:N,content:S(N)})}}var D=_.getComputedStyle(b);if(B.length>0&&(E||D.display!=="none"))return B}function S(x){var k=x.cloneNode(!0);return k.innerHTML=k.innerHTML.replace(/\n/g,"").replace(/ +/g," "),k.innerHTML=k.innerHTML.split(/<br.*?>/).map(function(_){return _.trim()}).join(`
`),k.innerText||k.textContent||""}},776:function(a,l,c){Object.defineProperty(l,"__esModule",{value:!0}),l.parseInput=void 0;var d=c(4),f=c(356),p=c(420),g=c(744),S=c(792);function x(U,N){var A=new g.DocHandler(U),C=A.getDocumentOptions(),D=A.getGlobalOptions();(0,S.default)(A,D,C,N);var T=(0,f.assign)({},D,C,N),P;typeof window<"u"&&(P=window);var L=k(D,C,N),G=_(D,C,N),ue=b(A,T),ee=F(A,T,P);return{id:N.tableId,content:ee,hooks:G,styles:L,settings:ue}}l.parseInput=x;function k(U,N,A){for(var C={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},D=function(G){if(G==="columnStyles"){var ue=U[G],ee=N[G],X=A[G];C.columnStyles=(0,f.assign)({},ue,ee,X)}else{var K=[U,N,A],Y=K.map(function(oe){return oe[G]||{}});C[G]=(0,f.assign)({},Y[0],Y[1],Y[2])}},T=0,P=Object.keys(C);T<P.length;T++){var L=P[T];D(L)}return C}function _(U,N,A){for(var C=[U,N,A],D={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},T=0,P=C;T<P.length;T++){var L=P[T];L.didParseCell&&D.didParseCell.push(L.didParseCell),L.willDrawCell&&D.willDrawCell.push(L.willDrawCell),L.didDrawCell&&D.didDrawCell.push(L.didDrawCell),L.willDrawPage&&D.willDrawPage.push(L.willDrawPage),L.didDrawPage&&D.didDrawPage.push(L.didDrawPage)}return D}function b(U,N){var A,C,D,T,P,L,G,ue,ee,X,K,Y,oe=(0,p.parseSpacing)(N.margin,40/U.scaleFactor()),me=(A=E(U,N.startY))!==null&&A!==void 0?A:oe.top,M;N.showFoot===!0?M="everyPage":N.showFoot===!1?M="never":M=(C=N.showFoot)!==null&&C!==void 0?C:"everyPage";var W;N.showHead===!0?W="everyPage":N.showHead===!1?W="never":W=(D=N.showHead)!==null&&D!==void 0?D:"everyPage";var Q=(T=N.useCss)!==null&&T!==void 0?T:!1,te=N.theme||(Q?"plain":"striped"),ne=!!N.horizontalPageBreak,he=(P=N.horizontalPageBreakRepeat)!==null&&P!==void 0?P:null;return{includeHiddenHtml:(L=N.includeHiddenHtml)!==null&&L!==void 0?L:!1,useCss:Q,theme:te,startY:me,margin:oe,pageBreak:(G=N.pageBreak)!==null&&G!==void 0?G:"auto",rowPageBreak:(ue=N.rowPageBreak)!==null&&ue!==void 0?ue:"auto",tableWidth:(ee=N.tableWidth)!==null&&ee!==void 0?ee:"auto",showHead:W,showFoot:M,tableLineWidth:(X=N.tableLineWidth)!==null&&X!==void 0?X:0,tableLineColor:(K=N.tableLineColor)!==null&&K!==void 0?K:200,horizontalPageBreak:ne,horizontalPageBreakRepeat:he,horizontalPageBreakBehaviour:(Y=N.horizontalPageBreakBehaviour)!==null&&Y!==void 0?Y:"afterAllRows"}}function E(U,N){var A=U.getLastAutoTable(),C=U.scaleFactor(),D=U.pageNumber(),T=!1;if(A&&A.startPageNumber){var P=A.startPageNumber+A.pageNumber-1;T=P===D}return typeof N=="number"?N:(N==null||N===!1)&&T&&(A==null?void 0:A.finalY)!=null?A.finalY+20/C:null}function F(U,N,A){var C=N.head||[],D=N.body||[],T=N.foot||[];if(N.html){var P=N.includeHiddenHtml;if(A){var L=(0,d.parseHtml)(U,N.html,A,P,N.useCss)||{};C=L.head||C,D=L.body||C,T=L.foot||C}else console.error("Cannot parse html in non browser environment")}var G=N.columns||B(C,D,T);return{columns:G,head:C,body:D,foot:T}}function B(U,N,A){var C=U[0]||N[0]||A[0]||[],D=[];return Object.keys(C).filter(function(T){return T!=="_element"}).forEach(function(T){var P=1,L;Array.isArray(C)?L=C[parseInt(T)]:L=C[T],typeof L=="object"&&!Array.isArray(L)&&(P=(L==null?void 0:L.colSpan)||1);for(var G=0;G<P;G++){var ue=void 0;Array.isArray(C)?ue=D.length:ue=T+(G>0?"_".concat(G):"");var ee={dataKey:ue};D.push(ee)}}),D}},792:function(a,l){Object.defineProperty(l,"__esModule",{value:!0});function c(f,p,g,S){for(var x=function(E){E&&typeof E!="object"&&console.error("The options parameter should be of type object, is: "+typeof E),typeof E.extendWidth<"u"&&(E.tableWidth=E.extendWidth?"auto":"wrap",console.error("Use of deprecated option: extendWidth, use tableWidth instead.")),typeof E.margins<"u"&&(typeof E.margin>"u"&&(E.margin=E.margins),console.error("Use of deprecated option: margins, use margin instead.")),E.startY&&typeof E.startY!="number"&&(console.error("Invalid value for startY option",E.startY),delete E.startY),!E.didDrawPage&&(E.afterPageContent||E.beforePageContent||E.afterPageAdd)&&(console.error("The afterPageContent, beforePageContent and afterPageAdd hooks are deprecated. Use didDrawPage instead"),E.didDrawPage=function(T){f.applyStyles(f.userStyles),E.beforePageContent&&E.beforePageContent(T),f.applyStyles(f.userStyles),E.afterPageContent&&E.afterPageContent(T),f.applyStyles(f.userStyles),E.afterPageAdd&&T.pageNumber>1&&T.afterPageAdd(T),f.applyStyles(f.userStyles)}),["createdHeaderCell","drawHeaderRow","drawRow","drawHeaderCell"].forEach(function(T){E[T]&&console.error('The "'.concat(T,'" hook has changed in version 3.0, check the changelog for how to migrate.'))}),[["showFoot","showFooter"],["showHead","showHeader"],["didDrawPage","addPageContent"],["didParseCell","createdCell"],["headStyles","headerStyles"]].forEach(function(T){var P=T[0],L=T[1];E[L]&&(console.error("Use of deprecated option ".concat(L,". Use ").concat(P," instead")),E[P]=E[L])}),[["padding","cellPadding"],["lineHeight","rowHeight"],"fontSize","overflow"].forEach(function(T){var P=typeof T=="string"?T:T[0],L=typeof T=="string"?T:T[1];typeof E[P]<"u"&&(typeof E.styles[L]>"u"&&(E.styles[L]=E[P]),console.error("Use of deprecated option: "+P+", use the style "+L+" instead."))});for(var F=0,B=["styles","bodyStyles","headStyles","footStyles"];F<B.length;F++){var U=B[F];d(E[U]||{})}for(var N=E.columnStyles||{},A=0,C=Object.keys(N);A<C.length;A++){var D=C[A];d(N[D]||{})}},k=0,_=[p,g,S];k<_.length;k++){var b=_[k];x(b)}}l.default=c;function d(f){f.rowHeight?(console.error("Use of deprecated style rowHeight. It is renamed to minCellHeight."),f.minCellHeight||(f.minCellHeight=f.rowHeight)):f.columnWidth&&(console.error("Use of deprecated style columnWidth. It is renamed to cellWidth."),f.cellWidth||(f.cellWidth=f.columnWidth))}},260:function(a,l,c){Object.defineProperty(l,"__esModule",{value:!0}),l.Column=l.Cell=l.Row=l.Table=void 0;var d=c(796),f=c(172),p=c(420),g=function(){function _(b,E){this.pageNumber=1,this.pageCount=1,this.id=b.id,this.settings=b.settings,this.styles=b.styles,this.hooks=b.hooks,this.columns=E.columns,this.head=E.head,this.body=E.body,this.foot=E.foot}return _.prototype.getHeadHeight=function(b){return this.head.reduce(function(E,F){return E+F.getMaxCellHeight(b)},0)},_.prototype.getFootHeight=function(b){return this.foot.reduce(function(E,F){return E+F.getMaxCellHeight(b)},0)},_.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},_.prototype.callCellHooks=function(b,E,F,B,U,N){for(var A=0,C=E;A<C.length;A++){var D=C[A],T=new f.CellHookData(b,this,F,B,U,N),P=D(T)===!1;if(F.text=Array.isArray(F.text)?F.text:[F.text],P)return!1}return!0},_.prototype.callEndPageHooks=function(b,E){b.applyStyles(b.userStyles);for(var F=0,B=this.hooks.didDrawPage;F<B.length;F++){var U=B[F];U(new f.HookData(b,this,E))}},_.prototype.callWillDrawPageHooks=function(b,E){for(var F=0,B=this.hooks.willDrawPage;F<B.length;F++){var U=B[F];U(new f.HookData(b,this,E))}},_.prototype.getWidth=function(b){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var E=this.columns.reduce(function(B,U){return B+U.wrappedWidth},0);return E}else{var F=this.settings.margin;return b-F.left-F.right}},_}();l.Table=g;var S=function(){function _(b,E,F,B,U){U===void 0&&(U=!1),this.height=0,this.raw=b,b instanceof d.HtmlRowInput&&(this.raw=b._element,this.element=b._element),this.index=E,this.section=F,this.cells=B,this.spansMultiplePages=U}return _.prototype.getMaxCellHeight=function(b){var E=this;return b.reduce(function(F,B){var U;return Math.max(F,((U=E.cells[B.index])===null||U===void 0?void 0:U.height)||0)},0)},_.prototype.hasRowSpan=function(b){var E=this;return b.filter(function(F){var B=E.cells[F.index];return B?B.rowSpan>1:!1}).length>0},_.prototype.canEntireRowFit=function(b,E){return this.getMaxCellHeight(E)<=b},_.prototype.getMinimumRowHeight=function(b,E){var F=this;return b.reduce(function(B,U){var N=F.cells[U.index];if(!N)return 0;var A=E.getLineHeight(N.styles.fontSize),C=N.padding("vertical"),D=C+A;return D>B?D:B},0)},_}();l.Row=S;var x=function(){function _(b,E,F){var B,U;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=E,this.section=F,this.raw=b;var N=b;b!=null&&typeof b=="object"&&!Array.isArray(b)?(this.rowSpan=b.rowSpan||1,this.colSpan=b.colSpan||1,N=(U=(B=b.content)!==null&&B!==void 0?B:b.title)!==null&&U!==void 0?U:b,b._element&&(this.raw=b._element)):(this.rowSpan=1,this.colSpan=1);var A=N!=null?""+N:"",C=/\r\n|\r|\n/g;this.text=A.split(C)}return _.prototype.getTextPos=function(){var b;if(this.styles.valign==="top")b=this.y+this.padding("top");else if(this.styles.valign==="bottom")b=this.y+this.height-this.padding("bottom");else{var E=this.height-this.padding("vertical");b=this.y+E/2+this.padding("top")}var F;if(this.styles.halign==="right")F=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var B=this.width-this.padding("horizontal");F=this.x+B/2+this.padding("left")}else F=this.x+this.padding("left");return{x:F,y:b}},_.prototype.getContentHeight=function(b,E){E===void 0&&(E=1.15);var F=Array.isArray(this.text)?this.text.length:1,B=this.styles.fontSize/b*E,U=F*B+this.padding("vertical");return Math.max(U,this.styles.minCellHeight)},_.prototype.padding=function(b){var E=(0,p.parseSpacing)(this.styles.cellPadding,0);return b==="vertical"?E.top+E.bottom:b==="horizontal"?E.left+E.right:E[b]},_}();l.Cell=x;var k=function(){function _(b,E,F){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=b,this.raw=E,this.index=F}return _.prototype.getMaxCustomCellWidth=function(b){for(var E=0,F=0,B=b.allRows();F<B.length;F++){var U=B[F],N=U.cells[this.index];N&&typeof N.styles.cellWidth=="number"&&(E=Math.max(E,N.styles.cellWidth))}return E},_}();l.Column=k},356:function(a,l){Object.defineProperty(l,"__esModule",{value:!0}),l.assign=void 0;function c(d,f,p,g,S){if(d==null)throw new TypeError("Cannot convert undefined or null to object");for(var x=Object(d),k=1;k<arguments.length;k++){var _=arguments[k];if(_!=null)for(var b in _)Object.prototype.hasOwnProperty.call(_,b)&&(x[b]=_[b])}return x}l.assign=c},972:function(a,l,c){Object.defineProperty(l,"__esModule",{value:!0}),l.createTable=void 0;var d=c(744),f=c(260),p=c(324),g=c(796),S=c(356);function x(U,N){var A=new d.DocHandler(U),C=k(N,A.scaleFactor()),D=new f.Table(N,C);return(0,p.calculateWidths)(A,D),A.applyStyles(A.userStyles),D}l.createTable=x;function k(U,N){var A=U.content,C=F(A.columns);if(A.head.length===0){var D=b(C,"head");D&&A.head.push(D)}if(A.foot.length===0){var D=b(C,"foot");D&&A.foot.push(D)}var T=U.settings.theme,P=U.styles;return{columns:C,head:_("head",A.head,C,P,T,N),body:_("body",A.body,C,P,T,N),foot:_("foot",A.foot,C,P,T,N)}}function _(U,N,A,C,D,T){var P={},L=N.map(function(G,ue){for(var ee=0,X={},K=0,Y=0,oe=0,me=A;oe<me.length;oe++){var M=me[oe];if(P[M.index]==null||P[M.index].left===0)if(Y===0){var W=void 0;Array.isArray(G)?W=G[M.index-K-ee]:W=G[M.dataKey];var Q={};typeof W=="object"&&!Array.isArray(W)&&(Q=(W==null?void 0:W.styles)||{});var te=B(U,M,ue,D,C,T,Q),ne=new f.Cell(W,te,U);X[M.dataKey]=ne,X[M.index]=ne,Y=ne.colSpan-1,P[M.index]={left:ne.rowSpan-1,times:Y}}else Y--,K++;else P[M.index].left--,Y=P[M.index].times,ee++}return new f.Row(G,ue,U,X)});return L}function b(U,N){var A={};return U.forEach(function(C){if(C.raw!=null){var D=E(N,C.raw);D!=null&&(A[C.dataKey]=D)}}),Object.keys(A).length>0?A:null}function E(U,N){if(U==="head"){if(typeof N=="object")return N.header||N.title||null;if(typeof N=="string"||typeof N=="number")return N}else if(U==="foot"&&typeof N=="object")return N.footer;return null}function F(U){return U.map(function(N,A){var C,D,T;return typeof N=="object"?T=(D=(C=N.dataKey)!==null&&C!==void 0?C:N.key)!==null&&D!==void 0?D:A:T=A,new f.Column(T,N,A)})}function B(U,N,A,C,D,T,P){var L=(0,g.getTheme)(C),G;U==="head"?G=D.headStyles:U==="body"?G=D.bodyStyles:U==="foot"&&(G=D.footStyles);var ue=(0,S.assign)({},L.table,L[U],D.styles,G),ee=D.columnStyles[N.dataKey]||D.columnStyles[N.index]||{},X=U==="body"?ee:{},K=U==="body"&&A%2===0?(0,S.assign)({},L.alternateRow,D.alternateRowStyles):{},Y=(0,g.defaultStyles)(T),oe=(0,S.assign)({},Y,ue,K,X);return(0,S.assign)(oe,P)}},664:function(a,l,c){Object.defineProperty(l,"__esModule",{value:!0}),l.addPage=l.drawTable=void 0;var d=c(420),f=c(260),p=c(744),g=c(356),S=c(136),x=c(224);function k(ee,X){var K=X.settings,Y=K.startY,oe=K.margin,me={x:oe.left,y:Y},M=X.getHeadHeight(X.columns)+X.getFootHeight(X.columns),W=Y+oe.bottom+M;if(K.pageBreak==="avoid"){var Q=X.body,te=Q.reduce(function(fe,ge){return fe+ge.height},0);W+=te}var ne=new p.DocHandler(ee);(K.pageBreak==="always"||K.startY!=null&&W>ne.pageSize().height)&&(ue(ne),me.y=oe.top),X.callWillDrawPageHooks(ne,me);var he=(0,g.assign)({},me);X.startPageNumber=ne.pageNumber(),K.horizontalPageBreak?_(ne,X,he,me):(ne.applyStyles(ne.userStyles),(K.showHead==="firstPage"||K.showHead==="everyPage")&&X.head.forEach(function(fe){return D(ne,X,fe,me,X.columns)}),ne.applyStyles(ne.userStyles),X.body.forEach(function(fe,ge){var Ce=ge===X.body.length-1;C(ne,X,fe,Ce,he,me,X.columns)}),ne.applyStyles(ne.userStyles),(K.showFoot==="lastPage"||K.showFoot==="everyPage")&&X.foot.forEach(function(fe){return D(ne,X,fe,me,X.columns)})),(0,d.addTableBorder)(ne,X,he,me),X.callEndPageHooks(ne,me),X.finalY=me.y,ee.lastAutoTable=X,ee.previousAutoTable=X,ee.autoTable&&(ee.autoTable.previous=X),ne.applyStyles(ne.userStyles)}l.drawTable=k;function _(ee,X,K,Y){var oe=(0,x.calculateAllColumnsCanFitInPage)(ee,X),me=X.settings;if(me.horizontalPageBreakBehaviour==="afterAllRows")oe.forEach(function(te,ne){ee.applyStyles(ee.userStyles),ne>0?G(ee,X,K,Y,te.columns,!0):b(ee,X,Y,te.columns),E(ee,X,K,Y,te.columns),B(ee,X,Y,te.columns)});else for(var M=-1,W=oe[0],Q=function(){var te=M;if(W){ee.applyStyles(ee.userStyles);var ne=W.columns;M>=0?G(ee,X,K,Y,ne,!0):b(ee,X,Y,ne),te=F(ee,X,M+1,Y,ne),B(ee,X,Y,ne)}var he=te-M;oe.slice(1).forEach(function(fe){ee.applyStyles(ee.userStyles),G(ee,X,K,Y,fe.columns,!0),F(ee,X,M+1,Y,fe.columns,he),B(ee,X,Y,fe.columns)}),M=te};M<X.body.length-1;)Q()}function b(ee,X,K,Y){var oe=X.settings;ee.applyStyles(ee.userStyles),(oe.showHead==="firstPage"||oe.showHead==="everyPage")&&X.head.forEach(function(me){return D(ee,X,me,K,Y)})}function E(ee,X,K,Y,oe){ee.applyStyles(ee.userStyles),X.body.forEach(function(me,M){var W=M===X.body.length-1;C(ee,X,me,W,K,Y,oe)})}function F(ee,X,K,Y,oe,me){ee.applyStyles(ee.userStyles),me=me??X.body.length;var M=Math.min(K+me,X.body.length),W=-1;return X.body.slice(K,M).forEach(function(Q,te){var ne=K+te===X.body.length-1,he=L(ee,X,ne,Y);Q.canEntireRowFit(he,oe)&&(D(ee,X,Q,Y,oe),W=K+te)}),W}function B(ee,X,K,Y){var oe=X.settings;ee.applyStyles(ee.userStyles),(oe.showFoot==="lastPage"||oe.showFoot==="everyPage")&&X.foot.forEach(function(me){return D(ee,X,me,K,Y)})}function U(ee,X,K){var Y=K.getLineHeight(ee.styles.fontSize),oe=ee.padding("vertical"),me=Math.floor((X-oe)/Y);return Math.max(0,me)}function N(ee,X,K,Y){var oe={};ee.spansMultiplePages=!0,ee.height=0;for(var me=0,M=0,W=K.columns;M<W.length;M++){var Q=W[M],te=ee.cells[Q.index];if(te){Array.isArray(te.text)||(te.text=[te.text]);var ne=new f.Cell(te.raw,te.styles,te.section);ne=(0,g.assign)(ne,te),ne.text=[];var he=U(te,X,Y);te.text.length>he&&(ne.text=te.text.splice(he,te.text.length));var fe=Y.scaleFactor(),ge=Y.getLineHeightFactor();te.contentHeight=te.getContentHeight(fe,ge),te.contentHeight>=X&&(te.contentHeight=X,ne.styles.minCellHeight-=X),te.contentHeight>ee.height&&(ee.height=te.contentHeight),ne.contentHeight=ne.getContentHeight(fe,ge),ne.contentHeight>me&&(me=ne.contentHeight),oe[Q.index]=ne}}var Ce=new f.Row(ee.raw,-1,ee.section,oe,!0);Ce.height=me;for(var Re=0,Ue=K.columns;Re<Ue.length;Re++){var Q=Ue[Re],ne=Ce.cells[Q.index];ne&&(ne.height=Ce.height);var te=ee.cells[Q.index];te&&(te.height=ee.height)}return Ce}function A(ee,X,K,Y){var oe=ee.pageSize().height,me=Y.settings.margin,M=me.top+me.bottom,W=oe-M;X.section==="body"&&(W-=Y.getHeadHeight(Y.columns)+Y.getFootHeight(Y.columns));var Q=X.getMinimumRowHeight(Y.columns,ee),te=Q<K;if(Q>W)return console.error("Will not be able to print row ".concat(X.index," correctly since it's minimum height is larger than page height")),!0;if(!te)return!1;var ne=X.hasRowSpan(Y.columns),he=X.getMaxCellHeight(Y.columns)>W;return he?(ne&&console.error("The content of row ".concat(X.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(ne||Y.settings.rowPageBreak==="avoid")}function C(ee,X,K,Y,oe,me,M){var W=L(ee,X,Y,me);if(K.canEntireRowFit(W,M))D(ee,X,K,me,M);else if(A(ee,K,W,X)){var Q=N(K,W,X,ee);D(ee,X,K,me,M),G(ee,X,oe,me,M),C(ee,X,Q,Y,oe,me,M)}else G(ee,X,oe,me,M),C(ee,X,K,Y,oe,me,M)}function D(ee,X,K,Y,oe){Y.x=X.settings.margin.left;for(var me=0,M=oe;me<M.length;me++){var W=M[me],Q=K.cells[W.index];if(!Q){Y.x+=W.width;continue}ee.applyStyles(Q.styles),Q.x=Y.x,Q.y=Y.y;var te=X.callCellHooks(ee,X.hooks.willDrawCell,Q,K,W,Y);if(te===!1){Y.x+=W.width;continue}T(ee,Q,Y);var ne=Q.getTextPos();(0,S.default)(Q.text,ne.x,ne.y,{halign:Q.styles.halign,valign:Q.styles.valign,maxWidth:Math.ceil(Q.width-Q.padding("left")-Q.padding("right"))},ee.getDocument()),X.callCellHooks(ee,X.hooks.didDrawCell,Q,K,W,Y),Y.x+=W.width}Y.y+=K.height}function T(ee,X,K){var Y=X.styles;if(ee.getDocument().setFillColor(ee.getDocument().getFillColor()),typeof Y.lineWidth=="number"){var oe=(0,d.getFillStyle)(Y.lineWidth,Y.fillColor);oe&&ee.rect(X.x,K.y,X.width,X.height,oe)}else typeof Y.lineWidth=="object"&&(Y.fillColor&&ee.rect(X.x,K.y,X.width,X.height,"F"),P(ee,X,K,Y.lineWidth))}function P(ee,X,K,Y){var oe,me,M,W;Y.top&&(oe=K.x,me=K.y,M=K.x+X.width,W=K.y,Y.right&&(M+=.5*Y.right),Y.left&&(oe-=.5*Y.left),Q(Y.top,oe,me,M,W)),Y.bottom&&(oe=K.x,me=K.y+X.height,M=K.x+X.width,W=K.y+X.height,Y.right&&(M+=.5*Y.right),Y.left&&(oe-=.5*Y.left),Q(Y.bottom,oe,me,M,W)),Y.left&&(oe=K.x,me=K.y,M=K.x,W=K.y+X.height,Y.top&&(me-=.5*Y.top),Y.bottom&&(W+=.5*Y.bottom),Q(Y.left,oe,me,M,W)),Y.right&&(oe=K.x+X.width,me=K.y,M=K.x+X.width,W=K.y+X.height,Y.top&&(me-=.5*Y.top),Y.bottom&&(W+=.5*Y.bottom),Q(Y.right,oe,me,M,W));function Q(te,ne,he,fe,ge){ee.getDocument().setLineWidth(te),ee.getDocument().line(ne,he,fe,ge,"S")}}function L(ee,X,K,Y){var oe=X.settings.margin.bottom,me=X.settings.showFoot;return(me==="everyPage"||me==="lastPage"&&K)&&(oe+=X.getFootHeight(X.columns)),ee.pageSize().height-Y.y-oe}function G(ee,X,K,Y,oe,me){oe===void 0&&(oe=[]),me===void 0&&(me=!1),ee.applyStyles(ee.userStyles),X.settings.showFoot==="everyPage"&&!me&&X.foot.forEach(function(W){return D(ee,X,W,Y,oe)}),X.callEndPageHooks(ee,Y);var M=X.settings.margin;(0,d.addTableBorder)(ee,X,K,Y),ue(ee),X.pageNumber++,X.pageCount++,Y.x=M.left,Y.y=M.top,K.y=M.top,X.callWillDrawPageHooks(ee,Y),X.settings.showHead==="everyPage"&&(X.head.forEach(function(W){return D(ee,X,W,Y,oe)}),ee.applyStyles(ee.userStyles))}l.addPage=G;function ue(ee){var X=ee.pageNumber();ee.setPage(X+1);var K=ee.pageNumber();return K===X?(ee.addPage(),!0):!1}},224:function(a,l,c){Object.defineProperty(l,"__esModule",{value:!0}),l.calculateAllColumnsCanFitInPage=void 0;var d=c(420);function f(g,S,x){var k;x===void 0&&(x={});var _=(0,d.getPageAvailableWidth)(g,S),b=new Map,E=[],F=[],B=[];S.settings.horizontalPageBreakRepeat,Array.isArray(S.settings.horizontalPageBreakRepeat)?B=S.settings.horizontalPageBreakRepeat:(typeof S.settings.horizontalPageBreakRepeat=="string"||typeof S.settings.horizontalPageBreakRepeat=="number")&&(B=[S.settings.horizontalPageBreakRepeat]),B.forEach(function(C){var D=S.columns.find(function(T){return T.dataKey===C||T.index===C});D&&!b.has(D.index)&&(b.set(D.index,!0),E.push(D.index),F.push(S.columns[D.index]),_-=D.wrappedWidth)});for(var U=!0,N=(k=x==null?void 0:x.start)!==null&&k!==void 0?k:0;N<S.columns.length;){if(b.has(N)){N++;continue}var A=S.columns[N].wrappedWidth;if(U||_>=A)U=!1,E.push(N),F.push(S.columns[N]),_-=A;else break;N++}return{colIndexes:E,columns:F,lastIndex:N-1}}function p(g,S){for(var x=[],k=0;k<S.columns.length;k++){var _=f(g,S,{start:k});_.columns.length&&(x.push(_),k=_.lastIndex)}return x}l.calculateAllColumnsCanFitInPage=p},324:function(a,l,c){Object.defineProperty(l,"__esModule",{value:!0}),l.ellipsize=l.resizeColumns=l.calculateWidths=void 0;var d=c(420);function f(E,F){p(E,F);var B=[],U=0;F.columns.forEach(function(A){var C=A.getMaxCustomCellWidth(F);C?A.width=C:(A.width=A.wrappedWidth,B.push(A)),U+=A.width});var N=F.getWidth(E.pageSize().width)-U;N&&(N=g(B,N,function(A){return Math.max(A.minReadableWidth,A.minWidth)})),N&&(N=g(B,N,function(A){return A.minWidth})),N=Math.abs(N),!F.settings.horizontalPageBreak&&N>.1/E.scaleFactor()&&(N=N<1?N:Math.round(N),console.warn("Of the table content, ".concat(N," units width could not fit page"))),x(F),k(F,E),S(F)}l.calculateWidths=f;function p(E,F){var B=E.scaleFactor(),U=F.settings.horizontalPageBreak,N=(0,d.getPageAvailableWidth)(E,F);F.allRows().forEach(function(A){for(var C=0,D=F.columns;C<D.length;C++){var T=D[C],P=A.cells[T.index];if(P){var L=F.hooks.didParseCell;F.callCellHooks(E,L,P,A,T,null);var G=P.padding("horizontal");P.contentWidth=(0,d.getStringWidth)(P.text,P.styles,E)+G;var ue=(0,d.getStringWidth)(P.text.join(" ").split(/[^\S\u00A0]+/),P.styles,E);if(P.minReadableWidth=ue+P.padding("horizontal"),typeof P.styles.cellWidth=="number")P.minWidth=P.styles.cellWidth,P.wrappedWidth=P.styles.cellWidth;else if(P.styles.cellWidth==="wrap"||U===!0)P.contentWidth>N?(P.minWidth=N,P.wrappedWidth=N):(P.minWidth=P.contentWidth,P.wrappedWidth=P.contentWidth);else{var ee=10/B;P.minWidth=P.styles.minCellWidth||ee,P.wrappedWidth=P.contentWidth,P.minWidth>P.wrappedWidth&&(P.wrappedWidth=P.minWidth)}}}}),F.allRows().forEach(function(A){for(var C=0,D=F.columns;C<D.length;C++){var T=D[C],P=A.cells[T.index];if(P&&P.colSpan===1)T.wrappedWidth=Math.max(T.wrappedWidth,P.wrappedWidth),T.minWidth=Math.max(T.minWidth,P.minWidth),T.minReadableWidth=Math.max(T.minReadableWidth,P.minReadableWidth);else{var L=F.styles.columnStyles[T.dataKey]||F.styles.columnStyles[T.index]||{},G=L.cellWidth||L.minCellWidth;G&&typeof G=="number"&&(T.minWidth=G,T.wrappedWidth=G)}P&&(P.colSpan>1&&!T.minWidth&&(T.minWidth=P.minWidth),P.colSpan>1&&!T.wrappedWidth&&(T.wrappedWidth=P.minWidth))}})}function g(E,F,B){for(var U=F,N=E.reduce(function(ee,X){return ee+X.wrappedWidth},0),A=0;A<E.length;A++){var C=E[A],D=C.wrappedWidth/N,T=U*D,P=C.width+T,L=B(C),G=P<L?L:P;F-=G-C.width,C.width=G}if(F=Math.round(F*1e10)/1e10,F){var ue=E.filter(function(ee){return F<0?ee.width>B(ee):!0});ue.length&&(F=g(ue,F,B))}return F}l.resizeColumns=g;function S(E){for(var F={},B=1,U=E.allRows(),N=0;N<U.length;N++)for(var A=U[N],C=0,D=E.columns;C<D.length;C++){var T=D[C],P=F[T.index];if(B>1)B--,delete A.cells[T.index];else if(P)P.cell.height+=A.height,B=P.cell.colSpan,delete A.cells[T.index],P.left--,P.left<=1&&delete F[T.index];else{var L=A.cells[T.index];if(!L)continue;if(L.height=A.height,L.rowSpan>1){var G=U.length-N,ue=L.rowSpan>G?G:L.rowSpan;F[T.index]={cell:L,left:ue,row:A}}}}}function x(E){for(var F=E.allRows(),B=0;B<F.length;B++)for(var U=F[B],N=null,A=0,C=0,D=0;D<E.columns.length;D++){var T=E.columns[D];if(C-=1,C>1&&E.columns[D+1])A+=T.width,delete U.cells[T.index];else if(N){var P=N;delete U.cells[T.index],N=null,P.width=T.width+A}else{var P=U.cells[T.index];if(!P)continue;if(C=P.colSpan,A=0,P.colSpan>1){N=P,A+=T.width;continue}P.width=T.width+A}}}function k(E,F){for(var B={count:0,height:0},U=0,N=E.allRows();U<N.length;U++){for(var A=N[U],C=0,D=E.columns;C<D.length;C++){var T=D[C],P=A.cells[T.index];if(P){F.applyStyles(P.styles,!0);var L=P.width-P.padding("horizontal");if(P.styles.overflow==="linebreak")P.text=F.splitTextToSize(P.text,L+1/F.scaleFactor(),{fontSize:P.styles.fontSize});else if(P.styles.overflow==="ellipsize")P.text=_(P.text,L,P.styles,F,"...");else if(P.styles.overflow==="hidden")P.text=_(P.text,L,P.styles,F,"");else if(typeof P.styles.overflow=="function"){var G=P.styles.overflow(P.text,L);typeof G=="string"?P.text=[G]:P.text=G}P.contentHeight=P.getContentHeight(F.scaleFactor(),F.getLineHeightFactor());var ue=P.contentHeight/P.rowSpan;P.rowSpan>1&&B.count*B.height<ue*P.rowSpan?B={height:ue,count:P.rowSpan}:B&&B.count>0&&B.height>ue&&(ue=B.height),ue>A.height&&(A.height=ue)}}B.count--}}function _(E,F,B,U,N){return E.map(function(A){return b(A,F,B,U,N)})}l.ellipsize=_;function b(E,F,B,U,N){var A=1e4*U.scaleFactor();if(F=Math.ceil(F*A)/A,F>=(0,d.getStringWidth)(E,B,U))return E;for(;F<(0,d.getStringWidth)(E+N,B,U)&&!(E.length<=1);)E=E.substring(0,E.length-1);return E.trim()+N}},964:function(a){if(typeof t>"u"){var l=new Error("Cannot find module 'undefined'");throw l.code="MODULE_NOT_FOUND",l}a.exports=t}},i={};function s(a){var l=i[a];if(l!==void 0)return l.exports;var c=i[a]={exports:{}};return r[a].call(c.exports,c,c.exports,s),c.exports}var o={};return function(){var a=o;Object.defineProperty(a,"__esModule",{value:!0}),a.Cell=a.Column=a.Row=a.Table=a.CellHookData=a.__drawTable=a.__createTable=a.applyPlugin=void 0;var l=s(340),c=s(776),d=s(664),f=s(972),p=s(260);Object.defineProperty(a,"Table",{enumerable:!0,get:function(){return p.Table}});var g=s(172);Object.defineProperty(a,"CellHookData",{enumerable:!0,get:function(){return g.CellHookData}});var S=s(260);Object.defineProperty(a,"Cell",{enumerable:!0,get:function(){return S.Cell}}),Object.defineProperty(a,"Column",{enumerable:!0,get:function(){return S.Column}}),Object.defineProperty(a,"Row",{enumerable:!0,get:function(){return S.Row}});function x(F){(0,l.default)(F)}a.applyPlugin=x;function k(F,B){var U=(0,c.parseInput)(F,B),N=(0,f.createTable)(F,U);(0,d.drawTable)(F,N)}function _(F,B){var U=(0,c.parseInput)(F,B);return(0,f.createTable)(F,U)}a.__createTable=_;function b(F,B){(0,d.drawTable)(F,B)}a.__drawTable=b;try{var E=s(964);E.jsPDF&&(E=E.jsPDF),x(E)}catch{}a.default=k}(),o}()})})(YO);var cP={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(n){(function(){var e={}.hasOwnProperty;function t(){for(var s="",o=0;o<arguments.length;o++){var a=arguments[o];a&&(s=i(s,r(a)))}return s}function r(s){if(typeof s=="string"||typeof s=="number")return s;if(typeof s!="object")return"";if(Array.isArray(s))return t.apply(null,s);if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]"))return s.toString();var o="";for(var a in s)e.call(s,a)&&s[a]&&(o=i(o,a));return o}function i(s,o){return o?s?s+" "+o:s+o:s}n.exports?(t.default=t,n.exports=t):window.classNames=t})()})(cP);var XO=cP.exports;const Sd=m0(XO);function X2(){return X2=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},X2.apply(null,arguments)}function hP(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}function GE(n){return"default"+n.charAt(0).toUpperCase()+n.substr(1)}function ZO(n){var e=e7(n,"string");return typeof e=="symbol"?e:String(e)}function e7(n,e){if(typeof n!="object"||n===null)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function t7(n,e,t){var r=se.useRef(n!==void 0),i=se.useState(e),s=i[0],o=i[1],a=n!==void 0,l=r.current;return r.current=a,!a&&l&&s!==e&&o(e),[a?n:s,se.useCallback(function(c){for(var d=arguments.length,f=new Array(d>1?d-1:0),p=1;p<d;p++)f[p-1]=arguments[p];t&&t.apply(void 0,[c].concat(f)),o(c)},[t])]}function dP(n,e){return Object.keys(e).reduce(function(t,r){var i,s=t,o=s[GE(r)],a=s[r],l=hP(s,[GE(r),r].map(ZO)),c=e[r],d=t7(a,o,n[c]),f=d[0],p=d[1];return X2({},l,(i={},i[r]=f,i[c]=p,i))},n)}function Z2(n,e){return Z2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,r){return t.__proto__=r,t},Z2(n,e)}function n7(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,Z2(n,e)}const r7=["xxl","xl","lg","md","sm","xs"],i7="xs",s7=se.createContext({prefixes:{},breakpoints:r7,minBreakpoint:i7});function pm(n,e){const{prefixes:t}=se.useContext(s7);return n||t[e]||e}function o7(n){return n&&n.ownerDocument||document}function a7(n){var e=o7(n);return e&&e.defaultView||window}function l7(n,e){return a7(n).getComputedStyle(n,e)}var u7=/([A-Z])/g;function c7(n){return n.replace(u7,"-$1").toLowerCase()}var h7=/^ms-/;function Cg(n){return c7(n).replace(h7,"-ms-")}var d7=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function f7(n){return!!(n&&d7.test(n))}function fP(n,e){var t="",r="";if(typeof e=="string")return n.style.getPropertyValue(Cg(e))||l7(n).getPropertyValue(Cg(e));Object.keys(e).forEach(function(i){var s=e[i];!s&&s!==0?n.style.removeProperty(Cg(i)):f7(i)?r+=i+"("+s+") ":t+=Cg(i)+": "+s+";"}),r&&(t+="transform: "+r+";"),n.style.cssText+=";"+t}var pP={exports:{}},p7="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",m7=p7,g7=m7;function mP(){}function gP(){}gP.resetWarningCache=mP;var y7=function(){function n(r,i,s,o,a,l){if(l!==g7){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}n.isRequired=n;function e(){return n}var t={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:e,element:n,elementType:n,instanceOf:e,node:n,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:gP,resetWarningCache:mP};return t.PropTypes=t,t};pP.exports=y7();var v7=pP.exports;const bu=m0(v7),KE={disabled:!1},yP=oi.createContext(null);var _7=function(e){return e.scrollTop},Rf="unmounted",Tu="exited",il="entering",Cu="entered",e_="exiting",_a=function(n){n7(e,n);function e(r,i){var s;s=n.call(this,r,i)||this;var o=i,a=o&&!o.isMounting?r.enter:r.appear,l;return s.appearStatus=null,r.in?a?(l=Tu,s.appearStatus=il):l=Cu:r.unmountOnExit||r.mountOnEnter?l=Rf:l=Tu,s.state={status:l},s.nextCallback=null,s}e.getDerivedStateFromProps=function(i,s){var o=i.in;return o&&s.status===Rf?{status:Tu}:null};var t=e.prototype;return t.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},t.componentDidUpdate=function(i){var s=null;if(i!==this.props){var o=this.state.status;this.props.in?o!==il&&o!==Cu&&(s=il):(o===il||o===Cu)&&(s=e_)}this.updateStatus(!1,s)},t.componentWillUnmount=function(){this.cancelNextCallback()},t.getTimeouts=function(){var i=this.props.timeout,s,o,a;return s=o=a=i,i!=null&&typeof i!="number"&&(s=i.exit,o=i.enter,a=i.appear!==void 0?i.appear:o),{exit:s,enter:o,appear:a}},t.updateStatus=function(i,s){if(i===void 0&&(i=!1),s!==null)if(this.cancelNextCallback(),s===il){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:kf.findDOMNode(this);o&&_7(o)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Tu&&this.setState({status:Rf})},t.performEnter=function(i){var s=this,o=this.props.enter,a=this.context?this.context.isMounting:i,l=this.props.nodeRef?[a]:[kf.findDOMNode(this),a],c=l[0],d=l[1],f=this.getTimeouts(),p=a?f.appear:f.enter;if(!i&&!o||KE.disabled){this.safeSetState({status:Cu},function(){s.props.onEntered(c)});return}this.props.onEnter(c,d),this.safeSetState({status:il},function(){s.props.onEntering(c,d),s.onTransitionEnd(p,function(){s.safeSetState({status:Cu},function(){s.props.onEntered(c,d)})})})},t.performExit=function(){var i=this,s=this.props.exit,o=this.getTimeouts(),a=this.props.nodeRef?void 0:kf.findDOMNode(this);if(!s||KE.disabled){this.safeSetState({status:Tu},function(){i.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:e_},function(){i.props.onExiting(a),i.onTransitionEnd(o.exit,function(){i.safeSetState({status:Tu},function(){i.props.onExited(a)})})})},t.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},t.safeSetState=function(i,s){s=this.setNextCallback(s),this.setState(i,s)},t.setNextCallback=function(i){var s=this,o=!0;return this.nextCallback=function(a){o&&(o=!1,s.nextCallback=null,i(a))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},t.onTransitionEnd=function(i,s){this.setNextCallback(s);var o=this.props.nodeRef?this.props.nodeRef.current:kf.findDOMNode(this),a=i==null&&!this.props.addEndListener;if(!o||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],c=l[0],d=l[1];this.props.addEndListener(c,d)}i!=null&&setTimeout(this.nextCallback,i)},t.render=function(){var i=this.state.status;if(i===Rf)return null;var s=this.props,o=s.children;s.in,s.mountOnEnter,s.unmountOnExit,s.appear,s.enter,s.exit,s.timeout,s.addEndListener,s.onEnter,s.onEntering,s.onEntered,s.onExit,s.onExiting,s.onExited,s.nodeRef;var a=hP(s,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return oi.createElement(yP.Provider,{value:null},typeof o=="function"?o(i,a):oi.cloneElement(oi.Children.only(o),a))},e}(oi.Component);_a.contextType=yP;_a.propTypes={};function nh(){}_a.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:nh,onEntering:nh,onEntered:nh,onExit:nh,onExiting:nh,onExited:nh};_a.UNMOUNTED=Rf;_a.EXITED=Tu;_a.ENTERING=il;_a.ENTERED=Cu;_a.EXITING=e_;const w7=_a;function b7(){const n=se.version.split(".");return{major:+n[0],minor:+n[1],patch:+n[2]}}function vP(n){if(!n||typeof n=="function")return null;const{major:e}=b7();return e>=19?n.props.ref:n.ref}const I7=!!(typeof window<"u"&&window.document&&window.document.createElement);var t_=!1,n_=!1;try{var Ev={get passive(){return t_=!0},get once(){return n_=t_=!0}};I7&&(window.addEventListener("test",Ev,Ev),window.removeEventListener("test",Ev,!0))}catch{}function E7(n,e,t,r){if(r&&typeof r!="boolean"&&!n_){var i=r.once,s=r.capture,o=t;!n_&&i&&(o=t.__once||function a(l){this.removeEventListener(e,a,s),t.call(this,l)},t.__once=o),n.addEventListener(e,o,t_?r:s)}n.addEventListener(e,t,r)}function S7(n,e,t,r){var i=r&&typeof r!="boolean"?r.capture:r;n.removeEventListener(e,t,i),t.__once&&n.removeEventListener(e,t.__once,i)}function _P(n,e,t,r){return E7(n,e,t,r),function(){S7(n,e,t,r)}}function A7(n,e,t,r){if(t===void 0&&(t=!1),r===void 0&&(r=!0),n){var i=document.createEvent("HTMLEvents");i.initEvent(e,t,r),n.dispatchEvent(i)}}function T7(n){var e=fP(n,"transitionDuration")||"",t=e.indexOf("ms")===-1?1e3:1;return parseFloat(e)*t}function x7(n,e,t){t===void 0&&(t=5);var r=!1,i=setTimeout(function(){r||A7(n,"transitionend",!0)},e+t),s=_P(n,"transitionend",function(){r=!0},{once:!0});return function(){clearTimeout(i),s()}}function P7(n,e,t,r){t==null&&(t=T7(n)||0);var i=x7(n,t,r),s=_P(n,"transitionend",e);return function(){i(),s()}}function QE(n,e){const t=fP(n,e)||"",r=t.indexOf("ms")===-1?1e3:1;return parseFloat(t)*r}function N7(n,e){const t=QE(n,"transitionDuration"),r=QE(n,"transitionDelay"),i=P7(n,s=>{s.target===n&&(i(),e(s))},t+r)}function C7(n){n.offsetHeight}const YE=n=>!n||typeof n=="function"?n:e=>{n.current=e};function k7(n,e){const t=YE(n),r=YE(e);return i=>{t&&t(i),r&&r(i)}}function R7(n,e){return se.useMemo(()=>k7(n,e),[n,e])}function L7(n){return n&&"setState"in n?kf.findDOMNode(n):n??null}const wP=oi.forwardRef(({onEnter:n,onEntering:e,onEntered:t,onExit:r,onExiting:i,onExited:s,addEndListener:o,children:a,childRef:l,...c},d)=>{const f=se.useRef(null),p=R7(f,l),g=U=>{p(L7(U))},S=U=>N=>{U&&f.current&&U(f.current,N)},x=se.useCallback(S(n),[n]),k=se.useCallback(S(e),[e]),_=se.useCallback(S(t),[t]),b=se.useCallback(S(r),[r]),E=se.useCallback(S(i),[i]),F=se.useCallback(S(s),[s]),B=se.useCallback(S(o),[o]);return V.jsx(w7,{ref:d,...c,onEnter:x,onEntered:_,onEntering:k,onExit:b,onExited:F,onExiting:E,addEndListener:B,nodeRef:f,children:typeof a=="function"?(U,N)=>a(U,{...N,ref:g}):oi.cloneElement(a,{ref:g})})});wP.displayName="TransitionWrapper";const D7=wP;function O7(n){const e=se.useRef(n);return se.useEffect(()=>{e.current=n},[n]),e}function Qw(n){const e=O7(n);return se.useCallback(function(...t){return e.current&&e.current(...t)},[e])}const F7=["as","disabled"];function M7(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function V7(n){return!n||n.trim()==="#"}function bP({tagName:n,disabled:e,href:t,target:r,rel:i,role:s,onClick:o,tabIndex:a=0,type:l}){n||(t!=null||r!=null||i!=null?n="a":n="button");const c={tagName:n};if(n==="button")return[{type:l||"button",disabled:e},c];const d=p=>{if((e||n==="a"&&V7(t))&&p.preventDefault(),e){p.stopPropagation();return}o==null||o(p)},f=p=>{p.key===" "&&(p.preventDefault(),d(p))};return n==="a"&&(t||(t="#"),e&&(t=void 0)),[{role:s??"button",disabled:void 0,tabIndex:e?void 0:a,href:t,target:n==="a"?r:void 0,"aria-disabled":e||void 0,rel:n==="a"?i:void 0,onClick:d,onKeyDown:f},c]}const IP=se.forwardRef((n,e)=>{let{as:t,disabled:r}=n,i=M7(n,F7);const[s,{tagName:o}]=bP(Object.assign({tagName:t,disabled:r},i));return V.jsx(o,Object.assign({},i,s,{ref:e}))});IP.displayName="Button";const j7=["onKeyDown"];function B7(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function U7(n){return!n||n.trim()==="#"}const EP=se.forwardRef((n,e)=>{let{onKeyDown:t}=n,r=B7(n,j7);const[i]=bP(Object.assign({tagName:"a"},r)),s=Qw(o=>{i.onKeyDown(o),t==null||t(o)});return U7(r.href)||r.role==="button"?V.jsx("a",Object.assign({ref:e},r,i,{onKeyDown:s})):V.jsx("a",Object.assign({ref:e},r,{onKeyDown:t}))});EP.displayName="Anchor";const z7=EP,q7={[il]:"show",[Cu]:"show"},SP=se.forwardRef(({className:n,children:e,transitionClasses:t={},onEnter:r,...i},s)=>{const o={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...i},a=se.useCallback((l,c)=>{C7(l),r==null||r(l,c)},[r]);return V.jsx(D7,{ref:s,addEndListener:N7,...o,onEnter:a,childRef:vP(e),children:(l,c)=>se.cloneElement(e,{...c,className:Sd("fade",n,e.props.className,q7[l],t[l])})})});SP.displayName="Fade";const AP=SP,TP=se.createContext(null);TP.displayName="CardHeaderContext";const $7=TP;function JE(n,e){let t=0;return se.Children.map(n,r=>se.isValidElement(r)?e(r,t++):r)}function W7(n,e){let t=0;se.Children.forEach(n,r=>{se.isValidElement(r)&&e(r,t++)})}var H7=Function.prototype.bind.call(Function.prototype.call,[].slice);function G7(n,e){return H7(n.querySelectorAll(e))}function K7(n,e,t){const r=se.useRef(n!==void 0),[i,s]=se.useState(e),o=n!==void 0,a=r.current;return r.current=o,!o&&a&&i!==e&&s(e),[o?n:i,se.useCallback((...l)=>{const[c,...d]=l;let f=t==null?void 0:t(c,...d);return s(c),f},[t])]}function Q7(){const[,n]=se.useReducer(e=>e+1,0);return n}const z1={prefix:String(Math.round(Math.random()*1e10)),current:0},xP=oi.createContext(z1),Y7=oi.createContext(!1);let J7=!!(typeof window<"u"&&window.document&&window.document.createElement),Sv=new WeakMap;function X7(n=!1){let e=se.useContext(xP),t=se.useRef(null);if(t.current===null&&!n){var r,i;let s=(i=oi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)===null||i===void 0||(r=i.ReactCurrentOwner)===null||r===void 0?void 0:r.current;if(s){let o=Sv.get(s);o==null?Sv.set(s,{id:e.current,state:s.memoizedState}):s.memoizedState!==o.state&&(e.current=o.id,Sv.delete(s))}t.current=++e.current}return t.current}function Z7(n){let e=se.useContext(xP),t=X7(!!n),r=`react-aria${e.prefix}`;return n||`${r}-${t}`}function eF(n){let e=oi.useId(),[t]=se.useState(sF()),r=t?"react-aria":`react-aria${z1.prefix}`;return n||`${r}-${e}`}const tF=typeof oi.useId=="function"?eF:Z7;function nF(){return!1}function rF(){return!0}function iF(n){return()=>{}}function sF(){return typeof oi.useSyncExternalStore=="function"?oi.useSyncExternalStore(iF,nF,rF):se.useContext(Y7)}const oF=se.createContext(null),Fp=(n,e=null)=>n!=null?String(n):e||null,Qh=oF,PP=se.createContext(null);PP.displayName="NavContext";const NP=PP,aF="data-rr-ui-",lF="rrUi";function Yw(n){return`${aF}${n}`}function uF(n){return`${lF}${n}`}const CP=se.createContext(null);CP.displayName="NavbarContext";const cF=CP,XE=n=>!n||typeof n=="function"?n:e=>{n.current=e};function hF(n,e){const t=XE(n),r=XE(e);return i=>{t&&t(i),r&&r(i)}}function kP(n,e){return se.useMemo(()=>hF(n,e),[n,e])}const dF=se.createContext(null),Ad=dF,fF=["as","active","eventKey"];function pF(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function RP({key:n,onClick:e,active:t,id:r,role:i,disabled:s}){const o=se.useContext(Qh),a=se.useContext(NP),l=se.useContext(Ad);let c=t;const d={role:i};if(a){!i&&a.role==="tablist"&&(d.role="tab");const f=a.getControllerId(n??null),p=a.getControlledId(n??null);d[Yw("event-key")]=n,d.id=f||r,c=t==null&&n!=null?a.activeKey===n:t,(c||!(l!=null&&l.unmountOnExit)&&!(l!=null&&l.mountOnEnter))&&(d["aria-controls"]=p)}return d.role==="tab"&&(d["aria-selected"]=c,c||(d.tabIndex=-1),s&&(d.tabIndex=-1,d["aria-disabled"]=!0)),d.onClick=Qw(f=>{s||(e==null||e(f),n!=null&&o&&!f.isPropagationStopped()&&o(n,f))}),[d,{isActive:c}]}const LP=se.forwardRef((n,e)=>{let{as:t=IP,active:r,eventKey:i}=n,s=pF(n,fF);const[o,a]=RP(Object.assign({key:Fp(i,s.href),active:r},s));return o[Yw("active")]=a.isActive,V.jsx(t,Object.assign({},s,o,{ref:e}))});LP.displayName="NavItem";const mF=LP,gF=["as","onSelect","activeKey","role","onKeyDown"];function yF(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}const ZE=()=>{},eS=Yw("event-key"),DP=se.forwardRef((n,e)=>{let{as:t="div",onSelect:r,activeKey:i,role:s,onKeyDown:o}=n,a=yF(n,gF);const l=Q7(),c=se.useRef(!1),d=se.useContext(Qh),f=se.useContext(Ad);let p,g;f&&(s=s||"tablist",i=f.activeKey,p=f.getControlledId,g=f.getControllerId);const S=se.useRef(null),x=E=>{const F=S.current;if(!F)return null;const B=G7(F,`[${eS}]:not([aria-disabled=true])`),U=F.querySelector("[aria-selected=true]");if(!U||U!==document.activeElement)return null;const N=B.indexOf(U);if(N===-1)return null;let A=N+E;return A>=B.length&&(A=0),A<0&&(A=B.length-1),B[A]},k=(E,F)=>{E!=null&&(r==null||r(E,F),d==null||d(E,F))},_=E=>{if(o==null||o(E),!f)return;let F;switch(E.key){case"ArrowLeft":case"ArrowUp":F=x(-1);break;case"ArrowRight":case"ArrowDown":F=x(1);break;default:return}F&&(E.preventDefault(),k(F.dataset[uF("EventKey")]||null,E),c.current=!0,l())};se.useEffect(()=>{if(S.current&&c.current){const E=S.current.querySelector(`[${eS}][aria-selected=true]`);E==null||E.focus()}c.current=!1});const b=kP(e,S);return V.jsx(Qh.Provider,{value:k,children:V.jsx(NP.Provider,{value:{role:s,activeKey:Fp(i),getControlledId:p||ZE,getControllerId:g||ZE},children:V.jsx(t,Object.assign({},a,{onKeyDown:_,ref:b,role:s}))})})});DP.displayName="Nav";const vF=Object.assign(DP,{Item:mF});function OP({children:n,in:e,onExited:t,mountOnEnter:r,unmountOnExit:i}){const s=se.useRef(null),o=se.useRef(e),a=Qw(t);se.useEffect(()=>{e?o.current=!0:a(s.current)},[e,a]);const l=kP(s,vP(n)),c=se.cloneElement(n,{ref:l});return e?c:i||!o.current&&r?null:c}const FP=se.forwardRef(({className:n,bsPrefix:e,as:t="div",...r},i)=>(e=pm(e,"nav-item"),V.jsx(t,{ref:i,className:Sd(n,e),...r})));FP.displayName="NavItem";const MP=FP,VP=se.forwardRef(({bsPrefix:n,className:e,as:t=z7,active:r,eventKey:i,disabled:s=!1,...o},a)=>{n=pm(n,"nav-link");const[l,c]=RP({key:Fp(i,o.href),active:r,disabled:s,...o});return V.jsx(t,{...o,...l,ref:a,disabled:s,className:Sd(e,n,s&&"disabled",c.isActive&&"active")})});VP.displayName="NavLink";const jP=VP,BP=se.forwardRef((n,e)=>{const{as:t="div",bsPrefix:r,variant:i,fill:s=!1,justify:o=!1,navbar:a,navbarScroll:l,className:c,activeKey:d,...f}=dP(n,{activeKey:"onSelect"}),p=pm(r,"nav");let g,S,x=!1;const k=se.useContext(cF),_=se.useContext($7);return k?(g=k.bsPrefix,x=a??!0):_&&({cardHeaderBsPrefix:S}=_),V.jsx(vF,{as:t,ref:e,activeKey:d,className:Sd(c,{[p]:!x,[`${g}-nav`]:x,[`${g}-nav-scroll`]:x&&l,[`${S}-${i}`]:!!S,[`${p}-${i}`]:!!i,[`${p}-fill`]:s,[`${p}-justified`]:o}),...f})});BP.displayName="Nav";const _F=Object.assign(BP,{Item:MP,Link:jP}),wF=["active","eventKey","mountOnEnter","transition","unmountOnExit","role","onEnter","onEntering","onEntered","onExit","onExiting","onExited"],bF=["activeKey","getControlledId","getControllerId"],IF=["as"];function r_(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function UP(n){let{active:e,eventKey:t,mountOnEnter:r,transition:i,unmountOnExit:s,role:o="tabpanel",onEnter:a,onEntering:l,onEntered:c,onExit:d,onExiting:f,onExited:p}=n,g=r_(n,wF);const S=se.useContext(Ad);if(!S)return[Object.assign({},g,{role:o}),{eventKey:t,isActive:e,mountOnEnter:r,transition:i,unmountOnExit:s,onEnter:a,onEntering:l,onEntered:c,onExit:d,onExiting:f,onExited:p}];const{activeKey:x,getControlledId:k,getControllerId:_}=S,b=r_(S,bF),E=Fp(t);return[Object.assign({},g,{role:o,id:k(t),"aria-labelledby":_(t)}),{eventKey:t,isActive:e==null&&E!=null?Fp(x)===E:e,transition:i||b.transition,mountOnEnter:r??b.mountOnEnter,unmountOnExit:s??b.unmountOnExit,onEnter:a,onEntering:l,onEntered:c,onExit:d,onExiting:f,onExited:p}]}const zP=se.forwardRef((n,e)=>{let{as:t="div"}=n,r=r_(n,IF);const[i,{isActive:s,onEnter:o,onEntering:a,onEntered:l,onExit:c,onExiting:d,onExited:f,mountOnEnter:p,unmountOnExit:g,transition:S=OP}]=UP(r);return V.jsx(Ad.Provider,{value:null,children:V.jsx(Qh.Provider,{value:null,children:V.jsx(S,{in:s,onEnter:o,onEntering:a,onEntered:l,onExit:c,onExiting:d,onExited:f,mountOnEnter:p,unmountOnExit:g,children:V.jsx(t,Object.assign({},i,{ref:e,hidden:!s,"aria-hidden":!s}))})})})});zP.displayName="TabPanel";const qP=n=>{const{id:e,generateChildId:t,onSelect:r,activeKey:i,defaultActiveKey:s,transition:o,mountOnEnter:a,unmountOnExit:l,children:c}=n,[d,f]=K7(i,s,r),p=tF(e),g=se.useMemo(()=>t||((x,k)=>p?`${p}-${k}-${x}`:null),[p,t]),S=se.useMemo(()=>({onSelect:f,activeKey:d,transition:o,mountOnEnter:a||!1,unmountOnExit:l||!1,getControlledId:x=>g(x,"tabpane"),getControllerId:x=>g(x,"tab")}),[f,d,o,a,l,g]);return V.jsx(Ad.Provider,{value:S,children:V.jsx(Qh.Provider,{value:f||null,children:c})})};qP.Panel=zP;const $P=qP;function Jw(n){return typeof n=="boolean"?n?AP:OP:n}const WP=({transition:n,...e})=>V.jsx($P,{...e,transition:Jw(n)});WP.displayName="TabContainer";const EF=WP,HP=se.forwardRef(({className:n,bsPrefix:e,as:t="div",...r},i)=>(e=pm(e,"tab-content"),V.jsx(t,{ref:i,className:Sd(n,e),...r})));HP.displayName="TabContent";const GP=HP,KP=se.forwardRef(({bsPrefix:n,transition:e,...t},r)=>{const[{className:i,as:s="div",...o},{isActive:a,onEnter:l,onEntering:c,onEntered:d,onExit:f,onExiting:p,onExited:g,mountOnEnter:S,unmountOnExit:x,transition:k=AP}]=UP({...t,transition:Jw(e)}),_=pm(n,"tab-pane");return V.jsx(Ad.Provider,{value:null,children:V.jsx(Qh.Provider,{value:null,children:V.jsx(k,{in:a,onEnter:l,onEntering:c,onEntered:d,onExit:f,onExiting:p,onExited:g,mountOnEnter:S,unmountOnExit:x,children:V.jsx(s,{...o,ref:r,className:Sd(i,_,a&&"active")})})})})});KP.displayName="TabPane";const QP=KP,SF={eventKey:bu.oneOfType([bu.string,bu.number]),title:bu.node.isRequired,disabled:bu.bool,tabClassName:bu.string,tabAttrs:bu.object},YP=()=>{throw new Error("ReactBootstrap: The `Tab` component is not meant to be rendered! It's an abstract component that is only valid as a direct Child of the `Tabs` Component. For custom tabs components use TabPane and TabsContainer directly")};YP.propTypes=SF;const Av=Object.assign(YP,{Container:EF,Content:GP,Pane:QP});function AF(n){let e;return W7(n,t=>{e==null&&(e=t.props.eventKey)}),e}function TF(n){const{title:e,eventKey:t,disabled:r,tabClassName:i,tabAttrs:s,id:o}=n.props;return e==null?null:V.jsx(MP,{as:"li",role:"presentation",children:V.jsx(jP,{as:"button",type:"button",eventKey:t,disabled:r,id:o,className:i,...s,children:e})})}const JP=n=>{const{id:e,onSelect:t,transition:r,mountOnEnter:i=!1,unmountOnExit:s=!1,variant:o="tabs",children:a,activeKey:l=AF(a),...c}=dP(n,{activeKey:"onSelect"});return V.jsxs($P,{id:e,activeKey:l,onSelect:t,transition:Jw(r),mountOnEnter:i,unmountOnExit:s,children:[V.jsx(_F,{id:e,...c,role:"tablist",as:"ul",variant:o,children:JE(a,TF)}),V.jsx(GP,{children:JE(a,d=>{const f={...d.props};return delete f.title,delete f.disabled,delete f.tabClassName,delete f.tabAttrs,V.jsx(QP,{...f})})})]})};JP.displayName="Tabs";const xF=JP;/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PF=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),NF=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),tS=n=>{const e=NF(n);return e.charAt(0).toUpperCase()+e.slice(1)},XP=(...n)=>n.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim(),CF=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var kF={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RF=se.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:o,...a},l)=>se.createElement("svg",{ref:l,...kF,width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:XP("lucide",i),...!s&&!CF(a)&&{"aria-hidden":"true"},...a},[...o.map(([c,d])=>se.createElement(c,d)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fi=(n,e)=>{const t=se.forwardRef(({className:r,...i},s)=>se.createElement(RF,{ref:s,iconNode:e,className:XP(`lucide-${PF(tS(n))}`,`lucide-${n}`,r),...i}));return t.displayName=tS(n),t};/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LF=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],DF=fi("circle-question-mark",LF);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OF=[["path",{d:"M12 13v8l-4-4",key:"1f5nwf"}],["path",{d:"m12 21 4-4",key:"1lfcce"}],["path",{d:"M4.393 15.269A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.436 8.284",key:"ui1hmy"}]],FF=fi("cloud-download",OF);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MF=[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]],VF=fi("cloud-upload",MF);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jF=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],BF=fi("copy",jF);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UF=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],zF=fi("download",UF);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qF=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],$F=fi("eye",qF);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WF=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],nS=fi("file-text",WF);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HF=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],GF=fi("history",HF);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KF=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],QF=fi("pen-line",KF);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YF=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],JF=fi("plus",YF);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XF=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],ZF=fi("refresh-cw",XF);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eM=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],tM=fi("save",eM);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nM=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],rM=fi("settings",nM);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iM=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],rS=fi("trash-2",iM);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sM=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],oM=fi("upload",sM),aM=()=>{};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZP=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},lM=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=n[t++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=n[t++],o=n[t++],a=n[t++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=n[t++],o=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},e3={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const s=n[i],o=i+1<n.length,a=o?n[i+1]:0,l=i+2<n.length,c=l?n[i+2]:0,d=s>>2,f=(s&3)<<4|a>>4;let p=(a&15)<<2|c>>6,g=c&63;l||(g=64,o||(p=64)),r.push(t[d],t[f],t[p],t[g])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(ZP(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):lM(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const s=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;const c=i<n.length?t[n.charAt(i)]:64;++i;const f=i<n.length?t[n.charAt(i)]:64;if(++i,s==null||a==null||c==null||f==null)throw new uM;const p=s<<2|a>>4;if(r.push(p),c!==64){const g=a<<4&240|c>>2;if(r.push(g),f!==64){const S=c<<6&192|f;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class uM extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const cM=function(n){const e=ZP(n);return e3.encodeByteArray(e,!0)},q1=function(n){return cM(n).replace(/\./g,"")},Xw=function(n){try{return e3.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function $1(n,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const t=e;return new Date(t.getTime());case Object:n===void 0&&(n={});break;case Array:n=[];break;default:return e}for(const t in e)!e.hasOwnProperty(t)||!hM(t)||(n[t]=$1(n[t],e[t]));return n}function hM(n){return n!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dM=()=>Zw().__FIREBASE_DEFAULTS__,fM=()=>{if(typeof process>"u"||typeof process.env>"u")return;const n={}.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},pM=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&Xw(n[1]);return e&&JSON.parse(e)},e5=()=>{try{return aM()||dM()||fM()||pM()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},t5=()=>{var n;return(n=e5())==null?void 0:n.config},mM=n=>{var e;return(e=e5())==null?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gM{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Td(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function t3(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yM(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...n},a="";return[q1(JSON.stringify(t)),q1(JSON.stringify(o)),a].join(".")}const tp={};function vM(){const n={prod:[],emulator:[]};for(const e of Object.keys(tp))tp[e]?n.emulator.push(e):n.prod.push(e);return n}function _M(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let iS=!1;function n3(n,e){if(typeof window>"u"||typeof document>"u"||!Td(window.location.host)||tp[n]===e||tp[n]||iS)return;tp[n]=e;function t(p){return`__firebase__banner__${p}`}const r="__firebase__banner",s=vM().prod.length>0;function o(){const p=document.getElementById(r);p&&p.remove()}function a(p){p.style.display="flex",p.style.background="#7faaf0",p.style.position="fixed",p.style.bottom="5px",p.style.left="5px",p.style.padding=".5em",p.style.borderRadius="5px",p.style.alignItems="center"}function l(p,g){p.setAttribute("width","24"),p.setAttribute("id",g),p.setAttribute("height","24"),p.setAttribute("viewBox","0 0 24 24"),p.setAttribute("fill","none"),p.style.marginLeft="-6px"}function c(){const p=document.createElement("span");return p.style.cursor="pointer",p.style.marginLeft="16px",p.style.fontSize="24px",p.innerHTML=" &times;",p.onclick=()=>{iS=!0,o()},p}function d(p,g){p.setAttribute("id",g),p.innerText="Learn more",p.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",p.setAttribute("target","__blank"),p.style.paddingLeft="5px",p.style.textDecoration="underline"}function f(){const p=_M(r),g=t("text"),S=document.getElementById(g)||document.createElement("span"),x=t("learnmore"),k=document.getElementById(x)||document.createElement("a"),_=t("preprendIcon"),b=document.getElementById(_)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(p.created){const E=p.element;a(E),d(k,x);const F=c();l(b,_),E.append(b,S,k,F),document.body.appendChild(E)}s?(S.innerText="Preview backend disconnected.",b.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(b.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,S.innerText="Preview backend running in this workspace."),S.setAttribute("id",g)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function wM(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Rn())}function M0(){var e;const n=(e=e5())==null?void 0:e.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function bM(){return typeof window<"u"||r3()}function r3(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function IM(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function i3(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function n5(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function s3(){const n=Rn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function o3(){return!M0()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function a3(){return!M0()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function Mp(){try{return typeof indexedDB=="object"}catch{return!1}}function EM(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var s;e(((s=i.error)==null?void 0:s.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SM="FirebaseError";class li extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=SM,Object.setPrototypeOf(this,li.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,_c.prototype.create)}}class _c{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?AM(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new li(i,a,r)}}function AM(n,e){return n.replace(TM,(t,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const TM=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sS(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function xM(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Dl(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const s=n[i],o=e[i];if(oS(s)&&oS(o)){if(!Dl(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function oS(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xd(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Nh(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Lf(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function l3(n,e){const t=new PM(n,e);return t.subscribe.bind(t)}class PM{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");NM(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=Tv),i.error===void 0&&(i.error=Tv),i.complete===void 0&&(i.complete=Tv);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function NM(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Tv(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pt(n){return n&&n._delegate?n._delegate:n}class Ro{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xu="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CM{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new gM;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(RM(e))try{this.getOrInitializeService({instanceIdentifier:xu})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=xu){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=xu){return this.instances.has(e)}getOptions(e=xu){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,t){const r=this.normalizeInstanceIdentifier(t),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:kM(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=xu){return this.component?this.component.multipleInstances?e:xu:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function kM(n){return n===xu?void 0:n}function RM(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u3{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new CM(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r5=[];var Rt;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Rt||(Rt={}));const c3={debug:Rt.DEBUG,verbose:Rt.VERBOSE,info:Rt.INFO,warn:Rt.WARN,error:Rt.ERROR,silent:Rt.SILENT},LM=Rt.INFO,DM={[Rt.DEBUG]:"log",[Rt.VERBOSE]:"log",[Rt.INFO]:"info",[Rt.WARN]:"warn",[Rt.ERROR]:"error"},OM=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),i=DM[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class V0{constructor(e){this.name=e,this._logLevel=LM,this._logHandler=OM,this._userLogHandler=null,r5.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Rt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?c3[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Rt.DEBUG,...e),this._logHandler(this,Rt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Rt.VERBOSE,...e),this._logHandler(this,Rt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Rt.INFO,...e),this._logHandler(this,Rt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Rt.WARN,...e),this._logHandler(this,Rt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Rt.ERROR,...e),this._logHandler(this,Rt.ERROR,...e)}}function FM(n){r5.forEach(e=>{e.setLogLevel(n)})}function MM(n,e){for(const t of r5){let r=null;e&&e.level&&(r=c3[e.level]),n===null?t.userLogHandler=null:t.userLogHandler=(i,s,...o)=>{const a=o.map(l=>{if(l==null)return null;if(typeof l=="string")return l;if(typeof l=="number"||typeof l=="boolean")return l.toString();if(l instanceof Error)return l.message;try{return JSON.stringify(l)}catch{return null}}).filter(l=>l).join(" ");s>=(r??i.logLevel)&&n({level:Rt[s].toLowerCase(),message:a,args:o,type:i.name})}}}const VM=(n,e)=>e.some(t=>n instanceof t);let aS,lS;function jM(){return aS||(aS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function BM(){return lS||(lS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const h3=new WeakMap,i_=new WeakMap,d3=new WeakMap,xv=new WeakMap,i5=new WeakMap;function UM(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{t(Al(n.result)),i()},o=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&h3.set(t,n)}).catch(()=>{}),i5.set(e,n),e}function zM(n){if(i_.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{t(),i()},o=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});i_.set(n,e)}let s_={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return i_.get(n);if(e==="objectStoreNames")return n.objectStoreNames||d3.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Al(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function qM(n){s_=n(s_)}function $M(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(Pv(this),e,...t);return d3.set(r,e.sort?e.sort():[e]),Al(r)}:BM().includes(n)?function(...e){return n.apply(Pv(this),e),Al(h3.get(this))}:function(...e){return Al(n.apply(Pv(this),e))}}function WM(n){return typeof n=="function"?$M(n):(n instanceof IDBTransaction&&zM(n),VM(n,jM())?new Proxy(n,s_):n)}function Al(n){if(n instanceof IDBRequest)return UM(n);if(xv.has(n))return xv.get(n);const e=WM(n);return e!==n&&(xv.set(n,e),i5.set(e,n)),e}const Pv=n=>i5.get(n);function HM(n,e,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(n,e),a=Al(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Al(o.result),l.oldVersion,l.newVersion,Al(o.transaction),l)}),t&&o.addEventListener("blocked",l=>t(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const GM=["get","getKey","getAll","getAllKeys","count"],KM=["put","add","delete","clear"],Nv=new Map;function uS(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Nv.get(e))return Nv.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=KM.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||GM.includes(t)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[t](...a),i&&l.done]))[0]};return Nv.set(e,s),s}qM(n=>({...n,get:(e,t,r)=>uS(e,t)||n.get(e,t,r),has:(e,t)=>!!uS(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QM{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(YM(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function YM(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const W1="@firebase/app",o_="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fa=new V0("@firebase/app"),JM="@firebase/app-compat",XM="@firebase/analytics-compat",ZM="@firebase/analytics",eV="@firebase/app-check-compat",tV="@firebase/app-check",nV="@firebase/auth",rV="@firebase/auth-compat",iV="@firebase/database",sV="@firebase/data-connect",oV="@firebase/database-compat",aV="@firebase/functions",lV="@firebase/functions-compat",uV="@firebase/installations",cV="@firebase/installations-compat",hV="@firebase/messaging",dV="@firebase/messaging-compat",fV="@firebase/performance",pV="@firebase/performance-compat",mV="@firebase/remote-config",gV="@firebase/remote-config-compat",yV="@firebase/storage",vV="@firebase/storage-compat",_V="@firebase/firestore",wV="@firebase/ai",bV="@firebase/firestore-compat",IV="firebase",EV="12.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ol="[DEFAULT]",SV={[W1]:"fire-core",[JM]:"fire-core-compat",[ZM]:"fire-analytics",[XM]:"fire-analytics-compat",[tV]:"fire-app-check",[eV]:"fire-app-check-compat",[nV]:"fire-auth",[rV]:"fire-auth-compat",[iV]:"fire-rtdb",[sV]:"fire-data-connect",[oV]:"fire-rtdb-compat",[aV]:"fire-fn",[lV]:"fire-fn-compat",[uV]:"fire-iid",[cV]:"fire-iid-compat",[hV]:"fire-fcm",[dV]:"fire-fcm-compat",[fV]:"fire-perf",[pV]:"fire-perf-compat",[mV]:"fire-rc",[gV]:"fire-rc-compat",[yV]:"fire-gcs",[vV]:"fire-gcs-compat",[_V]:"fire-fst",[bV]:"fire-fst-compat",[wV]:"fire-vertex","fire-js":"fire-js",[IV]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fl=new Map,Yh=new Map,Jh=new Map;function Vp(n,e){try{n.container.addComponent(e)}catch(t){fa.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function f3(n,e){n.container.addOrOverwriteComponent(e)}function Ml(n){const e=n.name;if(Jh.has(e))return fa.debug(`There were multiple attempts to register component ${e}.`),!1;Jh.set(e,n);for(const t of Fl.values())Vp(t,n);for(const t of Yh.values())Vp(t,n);return!0}function p3(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function AV(n,e,t=Ol){p3(n,e).clearInstance(t)}function s5(n){return n.options!==void 0}function m3(n){return s5(n)?!1:"authIdToken"in n||"appCheckToken"in n||"releaseOnDeref"in n||"automaticDataCollectionEnabled"in n}function Sn(n){return n==null?!1:n.settings!==void 0}function TV(){Jh.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xV={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Hi=new _c("app","Firebase",xV);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let g3=class{constructor(e,t,r){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ro("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Hi.create("app-deleted",{appName:this._name})}};/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cS(n,e){const t=Xw(n.split(".")[1]);if(t===null){console.error(`FirebaseServerApp ${e} is invalid: second part could not be parsed.`);return}if(JSON.parse(t).exp===void 0){console.error(`FirebaseServerApp ${e} is invalid: expiration claim could not be parsed`);return}const i=JSON.parse(t).exp*1e3,s=new Date().getTime();i-s<=0&&console.error(`FirebaseServerApp ${e} is invalid: the token has expired.`)}class PV extends g3{constructor(e,t,r,i){const s=t.automaticDataCollectionEnabled!==void 0?t.automaticDataCollectionEnabled:!0,o={name:r,automaticDataCollectionEnabled:s};if(e.apiKey!==void 0)super(e,o,i);else{const a=e;super(a.options,o,i)}this._serverConfig={automaticDataCollectionEnabled:s,...t},this._serverConfig.authIdToken&&cS(this._serverConfig.authIdToken,"authIdToken"),this._serverConfig.appCheckToken&&cS(this._serverConfig.appCheckToken,"appCheckToken"),this._finalizationRegistry=null,typeof FinalizationRegistry<"u"&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,t.releaseOnDeref=void 0,Ws(W1,o_,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(e){this.isDeleted||(this._refCount++,e!==void 0&&this._finalizationRegistry!==null&&this._finalizationRegistry.register(e,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){a5(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw Hi.create("server-app-deleted")}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yl=EV;function o5(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r={name:Ol,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw Hi.create("bad-app-name",{appName:String(i)});if(t||(t=t5()),!t)throw Hi.create("no-options");const s=Fl.get(i);if(s){if(Dl(t,s.options)&&Dl(r,s.config))return s;throw Hi.create("duplicate-app",{appName:i})}const o=new u3(i);for(const l of Jh.values())o.addComponent(l);const a=new g3(t,r,o);return Fl.set(i,a),a}function NV(n,e={}){if(bM()&&!r3())throw Hi.create("invalid-server-app-environment");let t,r=e||{};if(n&&(s5(n)?t=n.options:m3(n)?r=n:t=n),r.automaticDataCollectionEnabled===void 0&&(r.automaticDataCollectionEnabled=!0),t||(t=t5()),!t)throw Hi.create("no-options");const i={...r,...t};i.releaseOnDeref!==void 0&&delete i.releaseOnDeref;const s=d=>[...d].reduce((f,p)=>Math.imul(31,f)+p.charCodeAt(0)|0,0);if(r.releaseOnDeref!==void 0&&typeof FinalizationRegistry>"u")throw Hi.create("finalization-registry-not-supported",{});const o=""+s(JSON.stringify(i)),a=Yh.get(o);if(a)return a.incRefCount(r.releaseOnDeref),a;const l=new u3(o);for(const d of Jh.values())l.addComponent(d);const c=new PV(t,r,o,l);return Yh.set(o,c),c}function CV(n=Ol){const e=Fl.get(n);if(!e&&n===Ol&&t5())return o5();if(!e)throw Hi.create("no-app",{appName:n});return e}function kV(){return Array.from(Fl.values())}async function a5(n){let e=!1;const t=n.name;Fl.has(t)?(e=!0,Fl.delete(t)):Yh.has(t)&&n.decRefCount()<=0&&(Yh.delete(t),e=!0),e&&(await Promise.all(n.container.getProviders().map(r=>r.delete())),n.isDeleted=!0)}function Ws(n,e,t){let r=SV[n]??n;t&&(r+=`-${t}`);const i=r.match(/\s|\//),s=e.match(/\s|\//);if(i||s){const o=[`Unable to register library "${r}" with version "${e}":`];i&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&s&&o.push("and"),s&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),fa.warn(o.join(" "));return}Ml(new Ro(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}function y3(n,e){if(n!==null&&typeof n!="function")throw Hi.create("invalid-log-argument");MM(n,e)}function v3(n){FM(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RV="firebase-heartbeat-database",LV=1,jp="firebase-heartbeat-store";let Cv=null;function _3(){return Cv||(Cv=HM(RV,LV,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(jp)}catch(t){console.warn(t)}}}}).catch(n=>{throw Hi.create("idb-open",{originalErrorMessage:n.message})})),Cv}async function DV(n){try{const t=(await _3()).transaction(jp),r=await t.objectStore(jp).get(w3(n));return await t.done,r}catch(e){if(e instanceof li)fa.warn(e.message);else{const t=Hi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});fa.warn(t.message)}}}async function hS(n,e){try{const r=(await _3()).transaction(jp,"readwrite");await r.objectStore(jp).put(e,w3(n)),await r.done}catch(t){if(t instanceof li)fa.warn(t.message);else{const r=Hi.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});fa.warn(r.message)}}}function w3(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OV=1024,FV=30;class MV{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new jV(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=dS();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>FV){const o=BV(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){fa.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=dS(),{heartbeatsToSend:r,unsentEntries:i}=VV(this._heartbeatsCache.heartbeats),s=q1(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(t){return fa.warn(t),""}}}function dS(){return new Date().toISOString().substring(0,10)}function VV(n,e=OV){const t=[];let r=n.slice();for(const i of n){const s=t.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),fS(t)>e){s.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),fS(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class jV{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Mp()?EM().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await DV(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return hS(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return hS(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function fS(n){return q1(JSON.stringify({version:2,heartbeats:n})).length}function BV(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UV(n){Ml(new Ro("platform-logger",e=>new QM(e),"PRIVATE")),Ml(new Ro("heartbeat",e=>new MV(e),"PRIVATE")),Ws(W1,o_,n),Ws(W1,o_,"esm2020"),Ws("fire-js","")}UV("");const zV=Object.freeze(Object.defineProperty({__proto__:null,FirebaseError:li,SDK_VERSION:Yl,_DEFAULT_ENTRY_NAME:Ol,_addComponent:Vp,_addOrOverwriteComponent:f3,_apps:Fl,_clearComponents:TV,_components:Jh,_getProvider:p3,_isFirebaseApp:s5,_isFirebaseServerApp:Sn,_isFirebaseServerAppSettings:m3,_registerComponent:Ml,_removeServiceInstance:AV,_serverApps:Yh,deleteApp:a5,getApp:CV,getApps:kV,initializeApp:o5,initializeServerApp:NV,onLog:y3,registerVersion:Ws,setLogLevel:v3},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qV{constructor(e,t){this._delegate=e,this.firebase=t,Vp(e,new Ro("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),a5(this._delegate)))}_getService(e,t=Ol){var i;this._delegate.checkDestroyed();const r=this._delegate.container.getProvider(e);return!r.isInitialized()&&((i=r.getComponent())==null?void 0:i.instantiationMode)==="EXPLICIT"&&r.initialize(),r.getImmediate({identifier:t})}_removeServiceInstance(e,t=Ol){this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){Vp(this._delegate,e)}_addOrOverwriteComponent(e){f3(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $V={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."},pS=new _c("app-compat","Firebase",$V);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WV(n){const e={},t={__esModule:!0,initializeApp:s,app:i,registerVersion:Ws,setLogLevel:v3,onLog:y3,apps:null,SDK_VERSION:Yl,INTERNAL:{registerComponent:a,removeApp:r,useAsService:l,modularAPIs:zV}};t.default=t,Object.defineProperty(t,"apps",{get:o});function r(c){delete e[c]}function i(c){if(c=c||Ol,!sS(e,c))throw pS.create("no-app",{appName:c});return e[c]}i.App=n;function s(c,d={}){const f=o5(c,d);if(sS(e,f.name))return e[f.name];const p=new n(f,t);return e[f.name]=p,p}function o(){return Object.keys(e).map(c=>e[c])}function a(c){const d=c.name,f=d.replace("-compat","");if(Ml(c)&&c.type==="PUBLIC"){const p=(g=i())=>{if(typeof g[f]!="function")throw pS.create("invalid-app-argument",{appName:d});return g[f]()};c.serviceProps!==void 0&&$1(p,c.serviceProps),t[f]=p,n.prototype[f]=function(...g){return this._getService.bind(this,d).apply(this,c.multipleInstances?g:[])}}return c.type==="PUBLIC"?t[f]:null}function l(c,d){return d==="serverAuth"?null:d}return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b3(){const n=WV(qV);n.INTERNAL={...n.INTERNAL,createFirebaseNamespace:b3,extendNamespace:e,createSubscribe:l3,ErrorFactory:_c,deepExtend:$1};function e(t){$1(n,t)}return n}const HV=b3();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mS=new V0("@firebase/app-compat"),GV="@firebase/app-compat",KV="0.5.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QV(n){Ws(GV,KV,n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */try{const n=Zw();if(n.firebase!==void 0){mS.warn(`
      Warning: Firebase is already defined in the global scope. Please make sure
      Firebase library is only loaded once.
    `);const e=n.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&mS.warn(`
        Warning: You are trying to load Firebase while using Firebase Performance standalone script.
        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
        `)}}catch{}const At=HV;QV();var YV="firebase",JV="12.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */At.registerVersion(YV,JV,"app-compat");const vf={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},rh={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XV(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registered for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements.","invalid-hosting-link-domain":"The provided Hosting link domain is not configured in Firebase Hosting or is not owned by the current project. This cannot be a default Hosting domain (`web.app` or `firebaseapp.com`)."}}function I3(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const ZV=XV,ej=I3,E3=new _c("auth","Firebase",I3());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H1=new V0("@firebase/auth");function tj(n,...e){H1.logLevel<=Rt.WARN&&H1.warn(`Auth (${Yl}): ${n}`,...e)}function Zg(n,...e){H1.logLevel<=Rt.ERROR&&H1.error(`Auth (${Yl}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rr(n,...e){throw u5(n,...e)}function hr(n,...e){return u5(n,...e)}function l5(n,e,t){const r={...ej(),[e]:t};return new _c("auth","Firebase",r).create(e,{appName:n.name})}function br(n){return l5(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Pd(n,e,t){const r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&Rr(n,"argument-error"),l5(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function u5(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return E3.create(n,...e)}function Oe(n,e,...t){if(!n)throw u5(e,...t)}function Eo(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Zg(e),new Error(e)}function Qs(n,e){n||Eo(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bp(){var n;return typeof self<"u"&&((n=self.location)==null?void 0:n.href)||""}function c5(){return gS()==="http:"||gS()==="https:"}function gS(){var n;return typeof self<"u"&&((n=self.location)==null?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nj(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(c5()||i3()||"connection"in navigator)?navigator.onLine:!0}function rj(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mm{constructor(e,t){this.shortDelay=e,this.longDelay=t,Qs(t>e,"Short delay should be less than long delay!"),this.isMobile=wM()||n5()}get(){return nj()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h5(n,e){Qs(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S3{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Eo("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Eo("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Eo("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ij={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sj=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],oj=new mm(3e4,6e4);function jn(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function Bn(n,e,t,r,i={}){return A3(n,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=xd({key:n.config.apiKey,...o}).slice(1),l=await n._getAdditionalHeaders();l["Content-Type"]="application/json",n.languageCode&&(l["X-Firebase-Locale"]=n.languageCode);const c={method:e,headers:l,...s};return IM()||(c.referrerPolicy="no-referrer"),n.emulatorConfig&&Td(n.emulatorConfig.host)&&(c.credentials="include"),S3.fetch()(await T3(n,n.config.apiHost,t,a),c)})}async function A3(n,e,t){n._canInitEmulator=!1;const r={...ij,...e};try{const i=new lj(n),s=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Df(n,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Df(n,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Df(n,"email-already-in-use",o);if(l==="USER_DISABLED")throw Df(n,"user-disabled",o);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw l5(n,d,c);Rr(n,d)}}catch(i){if(i instanceof li)throw i;Rr(n,"network-request-failed",{message:String(i)})}}async function wa(n,e,t,r,i={}){const s=await Bn(n,e,t,r,i);return"mfaPendingCredential"in s&&Rr(n,"multi-factor-auth-required",{_serverResponse:s}),s}async function T3(n,e,t,r){const i=`${e}${t}?${r}`,s=n,o=s.config.emulator?h5(n.config,i):`${n.config.apiScheme}://${i}`;return sj.includes(t)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(o).toString():o}function aj(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class lj{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(hr(this.auth,"network-request-failed")),oj.get())})}}function Df(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=hr(n,e,r);return i.customData._tokenResponse=t,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yS(n){return n!==void 0&&n.getResponse!==void 0}function vS(n){return n!==void 0&&n.enterprise!==void 0}class x3{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return aj(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uj(n){return(await Bn(n,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}async function P3(n,e){return Bn(n,"GET","/v2/recaptchaConfig",jn(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cj(n,e){return Bn(n,"POST","/v1/accounts:delete",e)}async function hj(n,e){return Bn(n,"POST","/v1/accounts:update",e)}async function G1(n,e){return Bn(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function np(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function dj(n,e=!1){const t=pt(n),r=await t.getIdToken(e),i=j0(r);Oe(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:np(kv(i.auth_time)),issuedAtTime:np(kv(i.iat)),expirationTime:np(kv(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function kv(n){return Number(n)*1e3}function j0(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Zg("JWT malformed, contained fewer than 3 sections"),null;try{const i=Xw(t);return i?JSON.parse(i):(Zg("Failed to decode base64 JWT payload"),null)}catch(i){return Zg("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function _S(n){const e=j0(n);return Oe(e,"internal-error"),Oe(typeof e.exp<"u","internal-error"),Oe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pa(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof li&&fj(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function fj({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pj{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a_{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=np(this.lastLoginAt),this.creationTime=np(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Up(n){var f;const e=n.auth,t=await n.getIdToken(),r=await pa(n,G1(e,{idToken:t}));Oe(r==null?void 0:r.users.length,e,"internal-error");const i=r.users[0];n._notifyReloadListener(i);const s=(f=i.providerUserInfo)!=null&&f.length?N3(i.providerUserInfo):[],o=gj(n.providerData,s),a=n.isAnonymous,l=!(n.email&&i.passwordHash)&&!(o!=null&&o.length),c=a?l:!1,d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new a_(i.createdAt,i.lastLoginAt),isAnonymous:c};Object.assign(n,d)}async function mj(n){const e=pt(n);await Up(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function gj(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function N3(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yj(n,e){const t=await A3(n,{},async()=>{const r=xd({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=n.config,o=await T3(n,i,"/v1/token",`key=${s}`),a=await n._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:a,body:r};return n.emulatorConfig&&Td(n.emulatorConfig.host)&&(l.credentials="include"),S3.fetch()(o,l)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function vj(n,e){return Bn(n,"POST","/v2/accounts:revokeToken",jn(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Oe(e.idToken,"internal-error"),Oe(typeof e.idToken<"u","internal-error"),Oe(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):_S(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Oe(e.length!==0,"internal-error");const t=_S(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Oe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:i,expiresIn:s}=await yj(e,t);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:s}=t,o=new Fh;return r&&(Oe(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(Oe(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(Oe(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Fh,this.toJSON())}_performRefresh(){return Eo("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ja(n,e){Oe(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class zs{constructor({uid:e,auth:t,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new pj(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new a_(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await pa(this,this.stsTokenManager.getToken(this.auth,e));return Oe(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return dj(this,e)}reload(){return mj(this)}_assign(e){this!==e&&(Oe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new zs({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Oe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await Up(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Sn(this.auth.app))return Promise.reject(br(this.auth));const e=await this.getIdToken();return await pa(this,cj(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const r=t.displayName??void 0,i=t.email??void 0,s=t.phoneNumber??void 0,o=t.photoURL??void 0,a=t.tenantId??void 0,l=t._redirectEventId??void 0,c=t.createdAt??void 0,d=t.lastLoginAt??void 0,{uid:f,emailVerified:p,isAnonymous:g,providerData:S,stsTokenManager:x}=t;Oe(f&&x,e,"internal-error");const k=Fh.fromJSON(this.name,x);Oe(typeof f=="string",e,"internal-error"),Ja(r,e.name),Ja(i,e.name),Oe(typeof p=="boolean",e,"internal-error"),Oe(typeof g=="boolean",e,"internal-error"),Ja(s,e.name),Ja(o,e.name),Ja(a,e.name),Ja(l,e.name),Ja(c,e.name),Ja(d,e.name);const _=new zs({uid:f,auth:e,email:i,emailVerified:p,displayName:r,isAnonymous:g,photoURL:o,phoneNumber:s,tenantId:a,stsTokenManager:k,createdAt:c,lastLoginAt:d});return S&&Array.isArray(S)&&(_.providerData=S.map(b=>({...b}))),l&&(_._redirectEventId=l),_}static async _fromIdTokenResponse(e,t,r=!1){const i=new Fh;i.updateFromServerResponse(t);const s=new zs({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Up(s),s}static async _fromGetAccountInfoResponse(e,t,r){const i=t.users[0];Oe(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?N3(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new Fh;a.updateFromIdToken(r);const l=new zs({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new a_(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wS=new Map;function $i(n){Qs(n instanceof Function,"Expected a class definition");let e=wS.get(n);return e?(Qs(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,wS.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C3{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}C3.type="NONE";const Xh=C3;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yu(n,e,t){return`firebase:${n}:${e}:${t}`}class Mh{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Yu(this.userKey,i.apiKey,s),this.fullPersistenceKey=Yu("persistence",i.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await G1(this.auth,{idToken:e}).catch(()=>{});return t?zs._fromGetAccountInfoResponse(this.auth,t,e):null}return zs._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Mh($i(Xh),e,r);const i=(await Promise.all(t.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||$i(Xh);const o=Yu(r,e.config.apiKey,e.name);let a=null;for(const c of t)try{const d=await c._get(o);if(d){let f;if(typeof d=="string"){const p=await G1(e,{idToken:d}).catch(()=>{});if(!p)break;f=await zs._fromGetAccountInfoResponse(e,p,d)}else f=zs._fromJSON(e,d);c!==s&&(a=f),s=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Mh(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(t.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new Mh(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bS(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(D3(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(k3(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(O3(e))return"Blackberry";if(F3(e))return"Webos";if(R3(e))return"Safari";if((e.includes("chrome/")||L3(e))&&!e.includes("edge/"))return"Chrome";if(gm(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function k3(n=Rn()){return/firefox\//i.test(n)}function R3(n=Rn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function L3(n=Rn()){return/crios\//i.test(n)}function D3(n=Rn()){return/iemobile/i.test(n)}function gm(n=Rn()){return/android/i.test(n)}function O3(n=Rn()){return/blackberry/i.test(n)}function F3(n=Rn()){return/webos/i.test(n)}function ym(n=Rn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function _j(n=Rn()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(n)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(n)}function wj(n=Rn()){var e;return ym(n)&&!!((e=window.navigator)!=null&&e.standalone)}function bj(){return s3()&&document.documentMode===10}function M3(n=Rn()){return ym(n)||gm(n)||F3(n)||O3(n)||/windows phone/i.test(n)||D3(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V3(n,e=[]){let t;switch(n){case"Browser":t=bS(Rn());break;case"Worker":t=`${bS(Rn())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Yl}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ij{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ej(n,e={}){return Bn(n,"GET","/v2/passwordPolicy",jn(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sj=6;class Aj{constructor(e){var r;const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??Sj,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tj{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new IS(this),this.idTokenSubscription=new IS(this),this.beforeStateQueue=new Ij(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=E3,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=$i(t)),this._initializationPromise=this.queue(async()=>{var r,i,s;if(!this._deleted&&(this.persistenceManager=await Mh.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((s=this.currentUser)==null?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await G1(this,{idToken:e}),r=await zs._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var s;if(Sn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let r=t,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(s=this.redirectUser)==null?void 0:s._redirectEventId,a=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(r=l.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Oe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Up(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=rj()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Sn(this.app))return Promise.reject(br(this));const t=e?pt(e):null;return t&&Oe(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Oe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Sn(this.app)?Promise.reject(br(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Sn(this.app)?Promise.reject(br(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence($i(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Ej(this),t=new Aj(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new _c("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await vj(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&$i(e)||this._popupRedirectResolver;Oe(t,this,"argument-error"),this.redirectPersistenceManager=await Mh.create(this,[$i(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)==null?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((t=this.currentUser)==null?void 0:t.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const s=typeof t=="function"?t:t.next.bind(t);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Oe(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof t=="function"){const l=e.addObserver(t,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(t);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Oe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=V3(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());t&&(e["X-Firebase-Client"]=t);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var t;if(Sn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:t.getToken());return e!=null&&e.error&&tj(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Ln(n){return pt(n)}class IS{constructor(e){this.auth=e,this.observer=null,this.addObserver=l3(t=>this.observer=t)}get next(){return Oe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function xj(n){vm=n}function d5(n){return vm.loadJS(n)}function Pj(){return vm.recaptchaV2Script}function Nj(){return vm.recaptchaEnterpriseScript}function Cj(){return vm.gapiScript}function j3(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kj=500,Rj=6e4,kg=1e12;class Lj{constructor(e){this.auth=e,this.counter=kg,this._widgets=new Map}render(e,t){const r=this.counter;return this._widgets.set(r,new Fj(e,this.auth.name,t||{})),this.counter++,r}reset(e){var r;const t=e||kg;(r=this._widgets.get(t))==null||r.delete(),this._widgets.delete(t)}getResponse(e){var r;const t=e||kg;return((r=this._widgets.get(t))==null?void 0:r.getResponse())||""}async execute(e){var r;const t=e||kg;return(r=this._widgets.get(t))==null||r.execute(),""}}class Dj{constructor(){this.enterprise=new Oj}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class Oj{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class Fj{constructor(e,t,r){this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const i=typeof e=="string"?document.getElementById(e):e;Oe(i,"argument-error",{appName:t}),this.container=i,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=Mj(50);const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch{}this.isVisible&&this.execute()},Rj)},kj))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function Mj(n){const e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<n;r++)e.push(t.charAt(Math.floor(Math.random()*t.length)));return e.join("")}const Vj="recaptcha-enterprise",rp="NO_RECAPTCHA";class B3{constructor(e){this.type=Vj,this.auth=Ln(e)}async verify(e="verify",t=!1){async function r(s){if(!t){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{P3(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new x3(l);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;vS(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(c=>{o(c)}).catch(()=>{o(rp)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Dj().execute("siteKey",{action:"verify"}):new Promise((s,o)=>{r(this.auth).then(a=>{if(!t&&vS(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=Nj();l.length!==0&&(l+=a),d5(l).then(()=>{i(a,s,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function _f(n,e,t,r=!1,i=!1){const s=new B3(n);let o;if(i)o=rp;else try{o=await s.verify(t)}catch{o=await s.verify(t,!0)}const a={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,c=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function Tl(n,e,t,r,i){var s,o;if(i==="EMAIL_PASSWORD_PROVIDER")if((s=n._getRecaptchaConfig())!=null&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await _f(n,e,t,t==="getOobCode");return r(n,a)}else return r(n,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await _f(n,e,t,t==="getOobCode");return r(n,l)}else return Promise.reject(a)});else if(i==="PHONE_PROVIDER")if((o=n._getRecaptchaConfig())!=null&&o.isProviderEnabled("PHONE_PROVIDER")){const a=await _f(n,e,t);return r(n,a).catch(async l=>{var c;if(((c=n._getRecaptchaConfig())==null?void 0:c.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(l.code==="auth/missing-recaptcha-token"||l.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${t} flow.`);const d=await _f(n,e,t,!1,!0);return r(n,d)}return Promise.reject(l)})}else{const a=await _f(n,e,t,!1,!0);return r(n,a)}else return Promise.reject(i+" provider is not supported.")}async function jj(n){const e=Ln(n),t=await P3(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new x3(t);e.tenantId==null?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.isAnyProviderEnabled()&&new B3(e).verify()}function Bj(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map($i);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function Uj(n,e,t){const r=Ln(n);Oe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(t!=null&&t.disableWarnings),s=U3(e),{host:o,port:a}=zj(e),l=a===null?"":`:${a}`,c={url:`${s}//${o}${l}/`},d=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Oe(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Oe(Dl(c,r.config.emulator)&&Dl(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=c,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,Td(o)?(t3(`${s}//${o}${l}`),n3("Auth",!0)):i||qj()}function U3(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function zj(n){const e=U3(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:ES(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:ES(o)}}}function ES(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function qj(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nd{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Eo("not implemented")}_getIdTokenResponse(e){return Eo("not implemented")}_linkToIdToken(e,t){return Eo("not implemented")}_getReauthenticationResolver(e){return Eo("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z3(n,e){return Bn(n,"POST","/v1/accounts:resetPassword",jn(n,e))}async function $j(n,e){return Bn(n,"POST","/v1/accounts:update",e)}async function Wj(n,e){return Bn(n,"POST","/v1/accounts:signUp",e)}async function Hj(n,e){return Bn(n,"POST","/v1/accounts:update",jn(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gj(n,e){return wa(n,"POST","/v1/accounts:signInWithPassword",jn(n,e))}async function B0(n,e){return Bn(n,"POST","/v1/accounts:sendOobCode",jn(n,e))}async function Kj(n,e){return B0(n,e)}async function Qj(n,e){return B0(n,e)}async function Yj(n,e){return B0(n,e)}async function Jj(n,e){return B0(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xj(n,e){return wa(n,"POST","/v1/accounts:signInWithEmailLink",jn(n,e))}async function Zj(n,e){return wa(n,"POST","/v1/accounts:signInWithEmailLink",jn(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zp extends Nd{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new zp(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new zp(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Tl(e,t,"signInWithPassword",Gj,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return Xj(e,{email:this._email,oobCode:this._password});default:Rr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Tl(e,r,"signUpPassword",Wj,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return Zj(e,{idToken:t,email:this._email,oobCode:this._password});default:Rr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aa(n,e){return wa(n,"POST","/v1/accounts:signInWithIdp",jn(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e9="http://localhost";class Lo extends Nd{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Lo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Rr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...s}=t;if(!r||!i)return null;const o=new Lo(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const t=this.buildRequest();return aa(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,aa(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,aa(e,t)}buildRequest(){const e={requestUri:e9,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=xd(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SS(n,e){return Bn(n,"POST","/v1/accounts:sendVerificationCode",jn(n,e))}async function t9(n,e){return wa(n,"POST","/v1/accounts:signInWithPhoneNumber",jn(n,e))}async function n9(n,e){const t=await wa(n,"POST","/v1/accounts:signInWithPhoneNumber",jn(n,e));if(t.temporaryProof)throw Df(n,"account-exists-with-different-credential",t);return t}const r9={USER_NOT_FOUND:"user-not-found"};async function i9(n,e){const t={...e,operation:"REAUTH"};return wa(n,"POST","/v1/accounts:signInWithPhoneNumber",jn(n,t),r9)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ju extends Nd{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new Ju({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new Ju({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return t9(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return n9(e,{idToken:t,...this._makeVerificationRequest()})}_getReauthenticationResolver(e){return i9(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:r,verificationCode:i}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:r,code:i}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));const{verificationId:t,verificationCode:r,phoneNumber:i,temporaryProof:s}=e;return!r&&!t&&!i&&!s?null:new Ju({verificationId:t,verificationCode:r,phoneNumber:i,temporaryProof:s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s9(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function o9(n){const e=Nh(Lf(n)).link,t=e?Nh(Lf(e)).deep_link_id:null,r=Nh(Lf(n)).deep_link_id;return(r?Nh(Lf(r)).link:null)||r||t||e||n}class U0{constructor(e){const t=Nh(Lf(e)),r=t.apiKey??null,i=t.oobCode??null,s=s9(t.mode??null);Oe(r&&i&&s,"argument-error"),this.apiKey=r,this.operation=s,this.code=i,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=o9(e);try{return new U0(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jl{constructor(){this.providerId=Jl.PROVIDER_ID}static credential(e,t){return zp._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=U0.parseLink(t);return Oe(r,"argument-error"),zp._fromEmailAndCode(e,r.code,r.tenantId)}}Jl.PROVIDER_ID="password";Jl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Jl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd extends ba{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Vh extends Cd{static credentialFromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;return Oe("providerId"in t&&"signInMethod"in t,"argument-error"),Lo._fromParams(t)}credential(e){return this._credential({...e,nonce:e.rawNonce})}_credential(e){return Oe(e.idToken||e.accessToken,"argument-error"),Lo._fromParams({...e,providerId:this.providerId,signInMethod:this.providerId})}static credentialFromResult(e){return Vh.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return Vh.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r,oauthTokenSecret:i,pendingToken:s,nonce:o,providerId:a}=e;if(!r&&!i&&!t&&!s||!a)return null;try{return new Vh(a)._credential({idToken:t,accessToken:r,nonce:o,pendingToken:s})}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo extends Cd{constructor(){super("facebook.com")}static credential(e){return Lo._fromParams({providerId:vo.PROVIDER_ID,signInMethod:vo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return vo.credentialFromTaggedObject(e)}static credentialFromError(e){return vo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return vo.credential(e.oauthAccessToken)}catch{return null}}}vo.FACEBOOK_SIGN_IN_METHOD="facebook.com";vo.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o extends Cd{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Lo._fromParams({providerId:_o.PROVIDER_ID,signInMethod:_o.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return _o.credentialFromTaggedObject(e)}static credentialFromError(e){return _o.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return _o.credential(t,r)}catch{return null}}}_o.GOOGLE_SIGN_IN_METHOD="google.com";_o.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo extends Cd{constructor(){super("github.com")}static credential(e){return Lo._fromParams({providerId:wo.PROVIDER_ID,signInMethod:wo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return wo.credentialFromTaggedObject(e)}static credentialFromError(e){return wo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return wo.credential(e.oauthAccessToken)}catch{return null}}}wo.GITHUB_SIGN_IN_METHOD="github.com";wo.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a9="http://localhost";class Zh extends Nd{constructor(e,t){super(e,e),this.pendingToken=t}_getIdTokenResponse(e){const t=this.buildRequest();return aa(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,aa(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,aa(e,t)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,pendingToken:s}=t;return!r||!i||!s||r!==i?null:new Zh(r,s)}static _create(e,t){return new Zh(e,t)}buildRequest(){return{requestUri:a9,returnSecureToken:!0,pendingToken:this.pendingToken}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l9="saml.";class K1 extends ba{constructor(e){Oe(e.startsWith(l9),"argument-error"),super(e)}static credentialFromResult(e){return K1.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return K1.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const t=Zh.fromJSON(e);return Oe(t,"argument-error"),t}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:t,providerId:r}=e;if(!t||!r)return null;try{return Zh._create(r,t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo extends Cd{constructor(){super("twitter.com")}static credential(e,t){return Lo._fromParams({providerId:bo.PROVIDER_ID,signInMethod:bo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return bo.credentialFromTaggedObject(e)}static credentialFromError(e){return bo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return bo.credential(t,r)}catch{return null}}}bo.TWITTER_SIGN_IN_METHOD="twitter.com";bo.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function q3(n,e){return wa(n,"POST","/v1/accounts:signUp",jn(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,i=!1){const s=await zs._fromIdTokenResponse(e,r,i),o=AS(r);return new ws({user:s,providerId:o,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const i=AS(r);return new ws({user:e,providerId:i,_tokenResponse:r,operationType:t})}}function AS(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function u9(n){var i;if(Sn(n.app))return Promise.reject(br(n));const e=Ln(n);if(await e._initializationPromise,(i=e.currentUser)!=null&&i.isAnonymous)return new ws({user:e.currentUser,providerId:null,operationType:"signIn"});const t=await q3(e,{returnSecureToken:!0}),r=await ws._fromIdTokenResponse(e,"signIn",t,!0);return await e._updateCurrentUser(r.user),r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q1 extends li{constructor(e,t,r,i){super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Q1.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new Q1(e,t,r,i)}}function $3(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Q1._fromErrorAndOperation(n,s,e,r):s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W3(n){return new Set(n.map(({providerId:e})=>e).filter(e=>!!e))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c9(n,e){const t=pt(n);await z0(!0,t,e);const{providerUserInfo:r}=await hj(t.auth,{idToken:await t.getIdToken(),deleteProvider:[e]}),i=W3(r||[]);return t.providerData=t.providerData.filter(s=>i.has(s.providerId)),i.has("phone")||(t.phoneNumber=null),await t.auth._persistUserIfCurrent(t),t}async function f5(n,e,t=!1){const r=await pa(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return ws._forOperation(n,"link",r)}async function z0(n,e,t){await Up(e);const r=W3(e.providerData),i=n===!1?"provider-already-linked":"no-such-provider";Oe(r.has(t)===n,e.auth,i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H3(n,e,t=!1){const{auth:r}=n;if(Sn(r.app))return Promise.reject(br(r));const i="reauthenticate";try{const s=await pa(n,$3(r,i,e,n),t);Oe(s.idToken,r,"internal-error");const o=j0(s.idToken);Oe(o,r,"internal-error");const{sub:a}=o;return Oe(n.uid===a,r,"user-mismatch"),ws._forOperation(n,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Rr(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G3(n,e,t=!1){if(Sn(n.app))return Promise.reject(br(n));const r="signIn",i=await $3(n,r,e),s=await ws._fromIdTokenResponse(n,r,i);return t||await n._updateCurrentUser(s.user),s}async function q0(n,e){return G3(Ln(n),e)}async function K3(n,e){const t=pt(n);return await z0(!1,t,e.providerId),f5(t,e)}async function Q3(n,e){return H3(pt(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function h9(n,e){return wa(n,"POST","/v1/accounts:signInWithCustomToken",jn(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d9(n,e){if(Sn(n.app))return Promise.reject(br(n));const t=Ln(n),r=await h9(t,{token:e,returnSecureToken:!0}),i=await ws._fromIdTokenResponse(t,"signIn",r);return await t._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _m{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?p5._fromServerResponse(e,t):"totpInfo"in t?m5._fromServerResponse(e,t):Rr(e,"internal-error")}}class p5 extends _m{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new p5(t)}}class m5 extends _m{constructor(e){super("totp",e)}static _fromServerResponse(e,t){return new m5(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $0(n,e,t){var r;Oe(((r=t.url)==null?void 0:r.length)>0,n,"invalid-continue-uri"),Oe(typeof t.dynamicLinkDomain>"u"||t.dynamicLinkDomain.length>0,n,"invalid-dynamic-link-domain"),Oe(typeof t.linkDomain>"u"||t.linkDomain.length>0,n,"invalid-hosting-link-domain"),e.continueUrl=t.url,e.dynamicLinkDomain=t.dynamicLinkDomain,e.linkDomain=t.linkDomain,e.canHandleCodeInApp=t.handleCodeInApp,t.iOS&&(Oe(t.iOS.bundleId.length>0,n,"missing-ios-bundle-id"),e.iOSBundleId=t.iOS.bundleId),t.android&&(Oe(t.android.packageName.length>0,n,"missing-android-pkg-name"),e.androidInstallApp=t.android.installApp,e.androidMinimumVersionCode=t.android.minimumVersion,e.androidPackageName=t.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function g5(n){const e=Ln(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function f9(n,e,t){const r=Ln(n),i={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};t&&$0(r,i,t),await Tl(r,i,"getOobCode",Qj,"EMAIL_PASSWORD_PROVIDER")}async function p9(n,e,t){await z3(pt(n),{oobCode:e,newPassword:t}).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&g5(n),r})}async function m9(n,e){await Hj(pt(n),{oobCode:e})}async function Y3(n,e){const t=pt(n),r=await z3(t,{oobCode:e}),i=r.requestType;switch(Oe(i,t,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Oe(r.newEmail,t,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Oe(r.mfaInfo,t,"internal-error");default:Oe(r.email,t,"internal-error")}let s=null;return r.mfaInfo&&(s=_m._fromServerResponse(Ln(t),r.mfaInfo)),{data:{email:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.newEmail:r.email)||null,previousEmail:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.email:r.newEmail)||null,multiFactorInfo:s},operation:i}}async function g9(n,e){const{data:t}=await Y3(pt(n),e);return t.email}async function y9(n,e,t){if(Sn(n.app))return Promise.reject(br(n));const r=Ln(n),o=await Tl(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",q3,"EMAIL_PASSWORD_PROVIDER").catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&g5(n),l}),a=await ws._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function v9(n,e,t){return Sn(n.app)?Promise.reject(br(n)):q0(pt(n),Jl.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&g5(n),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _9(n,e,t){const r=Ln(n),i={requestType:"EMAIL_SIGNIN",email:e,clientType:"CLIENT_TYPE_WEB"};function s(o,a){Oe(a.handleCodeInApp,r,"argument-error"),a&&$0(r,o,a)}s(i,t),await Tl(r,i,"getOobCode",Yj,"EMAIL_PASSWORD_PROVIDER")}function w9(n,e){const t=U0.parseLink(e);return(t==null?void 0:t.operation)==="EMAIL_SIGNIN"}async function b9(n,e,t){if(Sn(n.app))return Promise.reject(br(n));const r=pt(n),i=Jl.credentialWithLink(e,t||Bp());return Oe(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),q0(r,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I9(n,e){return Bn(n,"POST","/v1/accounts:createAuthUri",jn(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E9(n,e){const t=c5()?Bp():"http://localhost",r={identifier:e,continueUri:t},{signinMethods:i}=await I9(pt(n),r);return i||[]}async function S9(n,e){const t=pt(n),i={requestType:"VERIFY_EMAIL",idToken:await n.getIdToken()};e&&$0(t.auth,i,e);const{email:s}=await Kj(t.auth,i);s!==n.email&&await n.reload()}async function A9(n,e,t){const r=pt(n),s={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await n.getIdToken(),newEmail:e};t&&$0(r.auth,s,t);const{email:o}=await Jj(r.auth,s);o!==n.email&&await n.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T9(n,e){return Bn(n,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x9(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const r=pt(n),s={idToken:await r.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},o=await pa(r,T9(r.auth,s));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:l})=>l==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function P9(n,e){const t=pt(n);return Sn(t.auth.app)?Promise.reject(br(t.auth)):J3(t,e,null)}function N9(n,e){return J3(pt(n),null,e)}async function J3(n,e,t){const{auth:r}=n,s={idToken:await n.getIdToken(),returnSecureToken:!0};e&&(s.email=e),t&&(s.password=t);const o=await pa(n,$j(r,s));await n._updateTokensIfNecessary(o,!0)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C9(n){var i,s;if(!n)return null;const{providerId:e}=n,t=n.rawUserInfo?JSON.parse(n.rawUserInfo):{},r=n.isNewUser||n.kind==="identitytoolkit#SignupNewUserResponse";if(!e&&(n!=null&&n.idToken)){const o=(s=(i=j0(n.idToken))==null?void 0:i.firebase)==null?void 0:s.sign_in_provider;if(o){const a=o!=="anonymous"&&o!=="custom"?o:null;return new jh(r,a)}}if(!e)return null;switch(e){case"facebook.com":return new k9(r,t);case"github.com":return new R9(r,t);case"google.com":return new L9(r,t);case"twitter.com":return new D9(r,t,n.screenName||null);case"custom":case"anonymous":return new jh(r,null);default:return new jh(r,e,t)}}class jh{constructor(e,t,r={}){this.isNewUser=e,this.providerId=t,this.profile=r}}class X3 extends jh{constructor(e,t,r,i){super(e,t,r),this.username=i}}class k9 extends jh{constructor(e,t){super(e,"facebook.com",t)}}class R9 extends X3{constructor(e,t){super(e,"github.com",t,typeof(t==null?void 0:t.login)=="string"?t==null?void 0:t.login:null)}}class L9 extends jh{constructor(e,t){super(e,"google.com",t)}}class D9 extends X3{constructor(e,t,r){super(e,"twitter.com",t,r)}}function O9(n){const{user:e,_tokenResponse:t}=n;return e.isAnonymous&&!t?{providerId:null,isNewUser:!1,profile:null}:C9(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bu{constructor(e,t,r){this.type=e,this.credential=t,this.user=r}static _fromIdtoken(e,t){return new Bu("enroll",e,t)}static _fromMfaPendingCredential(e){return new Bu("signin",e)}toJSON(){return{multiFactorSession:{[this.type==="enroll"?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var t,r;if(e!=null&&e.multiFactorSession){if((t=e.multiFactorSession)!=null&&t.pendingCredential)return Bu._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if((r=e.multiFactorSession)!=null&&r.idToken)return Bu._fromIdtoken(e.multiFactorSession.idToken)}return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y5{constructor(e,t,r){this.session=e,this.hints=t,this.signInResolver=r}static _fromError(e,t){const r=Ln(e),i=t.customData._serverResponse,s=(i.mfaInfo||[]).map(a=>_m._fromServerResponse(r,a));Oe(i.mfaPendingCredential,r,"internal-error");const o=Bu._fromMfaPendingCredential(i.mfaPendingCredential);return new y5(o,s,async a=>{const l=await a._process(r,o);delete i.mfaInfo,delete i.mfaPendingCredential;const c={...i,idToken:l.idToken,refreshToken:l.refreshToken};switch(t.operationType){case"signIn":const d=await ws._fromIdTokenResponse(r,t.operationType,c);return await r._updateCurrentUser(d.user),d;case"reauthenticate":return Oe(t.user,r,"internal-error"),ws._forOperation(t.user,t.operationType,c);default:Rr(r,"internal-error")}})}async resolveSignIn(e){const t=e;return this.signInResolver(t)}}function F9(n,e){var i;const t=pt(n),r=e;return Oe(e.customData.operationType,t,"argument-error"),Oe((i=r.customData._serverResponse)==null?void 0:i.mfaPendingCredential,t,"argument-error"),y5._fromError(t,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TS(n,e){return Bn(n,"POST","/v2/accounts/mfaEnrollment:start",jn(n,e))}function M9(n,e){return Bn(n,"POST","/v2/accounts/mfaEnrollment:finalize",jn(n,e))}function V9(n,e){return Bn(n,"POST","/v2/accounts/mfaEnrollment:withdraw",jn(n,e))}class v5{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map(r=>_m._fromServerResponse(e.auth,r)))})}static _fromUser(e){return new v5(e)}async getSession(){return Bu._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,t){const r=e,i=await this.getSession(),s=await pa(this.user,r._process(this.user.auth,i,t));return await this.user._updateTokensIfNecessary(s),this.user.reload()}async unenroll(e){const t=typeof e=="string"?e:e.uid,r=await this.user.getIdToken();try{const i=await pa(this.user,V9(this.user.auth,{idToken:r,mfaEnrollmentId:t}));this.enrolledFactors=this.enrolledFactors.filter(({uid:s})=>s!==t),await this.user._updateTokensIfNecessary(i),await this.user.reload()}catch(i){throw i}}}const Rv=new WeakMap;function j9(n){const e=pt(n);return Rv.has(e)||Rv.set(e,v5._fromUser(e)),Rv.get(e)}const Y1="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z3{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Y1,"1"),this.storage.removeItem(Y1),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B9=1e3,U9=10;class eN extends Z3{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=M3(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),i=this.localCache[t];r!==i&&e(t,i,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!t&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);bj()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,U9):i()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},B9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}eN.type="LOCAL";const _5=eN;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tN extends Z3{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}tN.type="SESSION";const ic=tN;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z9(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W0{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const r=new W0(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:i,data:s}=t.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async c=>c(t.origin,s)),l=await z9(a);t.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}W0.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wm(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q9{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const c=wm("",20);i.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(f){const p=f;if(p.data.eventId===c)switch(p.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(p.data.response);break;default:clearTimeout(d),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:t},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function er(){return window}function $9(n){er().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w5(){return typeof er().WorkerGlobalScope<"u"&&typeof er().importScripts=="function"}async function W9(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function H9(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)==null?void 0:n.controller)||null}function G9(){return w5()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nN="firebaseLocalStorageDb",K9=1,J1="firebaseLocalStorage",rN="fbase_key";class bm{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function H0(n,e){return n.transaction([J1],e?"readwrite":"readonly").objectStore(J1)}function Q9(){const n=indexedDB.deleteDatabase(nN);return new bm(n).toPromise()}function l_(){const n=indexedDB.open(nN,K9);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(J1,{keyPath:rN})}catch(i){t(i)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(J1)?e(r):(r.close(),await Q9(),e(await l_()))})})}async function xS(n,e,t){const r=H0(n,!0).put({[rN]:e,value:t});return new bm(r).toPromise()}async function Y9(n,e){const t=H0(n,!1).get(e),r=await new bm(t).toPromise();return r===void 0?null:r.value}function PS(n,e){const t=H0(n,!0).delete(e);return new bm(t).toPromise()}const J9=800,X9=3;class iN{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await l_(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>X9)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return w5()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=W0._getInstance(G9()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var t,r;if(this.activeServiceWorker=await W9(),!this.activeServiceWorker)return;this.sender=new q9(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(t=e[0])!=null&&t.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||H9()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await l_();return await xS(e,Y1,"1"),await PS(e,Y1),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>xS(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>Y9(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>PS(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=H0(i,!1).getAll();return new bm(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),J9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}iN.type="LOCAL";const qp=iN;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NS(n,e){return Bn(n,"POST","/v2/accounts/mfaSignIn:start",jn(n,e))}function Z9(n,e){return Bn(n,"POST","/v2/accounts/mfaSignIn:finalize",jn(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lv=j3("rcb"),eB=new mm(3e4,6e4);class tB{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!((e=er().grecaptcha)!=null&&e.render)}load(e,t=""){return Oe(nB(t),e,"argument-error"),this.shouldResolveImmediately(t)&&yS(er().grecaptcha)?Promise.resolve(er().grecaptcha):new Promise((r,i)=>{const s=er().setTimeout(()=>{i(hr(e,"network-request-failed"))},eB.get());er()[Lv]=()=>{er().clearTimeout(s),delete er()[Lv];const a=er().grecaptcha;if(!a||!yS(a)){i(hr(e,"internal-error"));return}const l=a.render;a.render=(c,d)=>{const f=l(c,d);return this.counter++,f},this.hostLanguage=t,r(a)};const o=`${Pj()}?${xd({onload:Lv,render:"explicit",hl:t})}`;d5(o).catch(()=>{clearTimeout(s),i(hr(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var t;return!!((t=er().grecaptcha)!=null&&t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function nB(n){return n.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(n)}class rB{async load(e){return new Lj(e)}clearedOneInstance(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ip="recaptcha",iB={theme:"light",type:"image"};let sB=class{constructor(e,t,r={...iB}){this.parameters=r,this.type=ip,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Ln(e),this.isInvisible=this.parameters.size==="invisible",Oe(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const i=typeof t=="string"?document.getElementById(t):t;Oe(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new rB:new tB,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),t=this.getAssertedRecaptcha(),r=t.getResponse(e);return r||new Promise(i=>{const s=o=>{o&&(this.tokenChangeListeners.delete(s),i(o))};this.tokenChangeListeners.add(s),this.isInvisible&&t.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){Oe(!this.parameters.sitekey,this.auth,"argument-error"),Oe(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Oe(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach(r=>r(t)),typeof e=="function")e(t);else if(typeof e=="string"){const r=er()[e];typeof r=="function"&&r(t)}}}assertNotDestroyed(){Oe(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const t=document.createElement("div");e.appendChild(t),e=t}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){Oe(c5()&&!w5(),this.auth,"internal-error"),await oB(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await uj(this.auth);Oe(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return Oe(this.recaptcha,this.auth,"internal-error"),this.recaptcha}};function oB(){let n=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}n=()=>e(),window.addEventListener("load",n)}).catch(e=>{throw n&&window.removeEventListener("load",n),e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b5{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=Ju._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}async function aB(n,e,t){if(Sn(n.app))return Promise.reject(br(n));const r=Ln(n),i=await G0(r,e,pt(t));return new b5(i,s=>q0(r,s))}async function lB(n,e,t){const r=pt(n);await z0(!1,r,"phone");const i=await G0(r.auth,e,pt(t));return new b5(i,s=>K3(r,s))}async function uB(n,e,t){const r=pt(n);if(Sn(r.auth.app))return Promise.reject(br(r.auth));const i=await G0(r.auth,e,pt(t));return new b5(i,s=>Q3(r,s))}async function G0(n,e,t){var r;if(!n._getRecaptchaConfig())try{await jj(n)}catch{console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let i;if(typeof e=="string"?i={phoneNumber:e}:i=e,"session"in i){const s=i.session;if("phoneNumber"in i){Oe(s.type==="enroll",n,"internal-error");const o={idToken:s.credential,phoneEnrollmentInfo:{phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"}};return(await Tl(n,o,"mfaSmsEnrollment",async(d,f)=>{if(f.phoneEnrollmentInfo.captchaResponse===rp){Oe((t==null?void 0:t.type)===ip,d,"argument-error");const p=await Dv(d,f,t);return TS(d,p)}return TS(d,f)},"PHONE_PROVIDER").catch(d=>Promise.reject(d))).phoneSessionInfo.sessionInfo}else{Oe(s.type==="signin",n,"internal-error");const o=((r=i.multiFactorHint)==null?void 0:r.uid)||i.multiFactorUid;Oe(o,n,"missing-multi-factor-info");const a={mfaPendingCredential:s.credential,mfaEnrollmentId:o,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}};return(await Tl(n,a,"mfaSmsSignIn",async(f,p)=>{if(p.phoneSignInInfo.captchaResponse===rp){Oe((t==null?void 0:t.type)===ip,f,"argument-error");const g=await Dv(f,p,t);return NS(f,g)}return NS(f,p)},"PHONE_PROVIDER").catch(f=>Promise.reject(f))).phoneResponseInfo.sessionInfo}}else{const s={phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"};return(await Tl(n,s,"sendVerificationCode",async(c,d)=>{if(d.captchaResponse===rp){Oe((t==null?void 0:t.type)===ip,c,"argument-error");const f=await Dv(c,d,t);return SS(c,f)}return SS(c,d)},"PHONE_PROVIDER").catch(c=>Promise.reject(c))).sessionInfo}}finally{t==null||t._reset()}}async function cB(n,e){const t=pt(n);if(Sn(t.auth.app))return Promise.reject(br(t.auth));await f5(t,e)}async function Dv(n,e,t){Oe(t.type===ip,n,"argument-error");const r=await t.verify();Oe(typeof r=="string",n,"argument-error");const i={...e};if("phoneEnrollmentInfo"in i){const s=i.phoneEnrollmentInfo.phoneNumber,o=i.phoneEnrollmentInfo.captchaResponse,a=i.phoneEnrollmentInfo.clientType,l=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:s,recaptchaToken:r,captchaResponse:o,clientType:a,recaptchaVersion:l}}),i}else if("phoneSignInInfo"in i){const s=i.phoneSignInInfo.captchaResponse,o=i.phoneSignInInfo.clientType,a=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:s,clientType:o,recaptchaVersion:a}}),i}else return Object.assign(i,{recaptchaToken:r}),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sc=class e1{constructor(e){this.providerId=e1.PROVIDER_ID,this.auth=Ln(e)}verifyPhoneNumber(e,t){return G0(this.auth,e,pt(t))}static credential(e,t){return Ju._fromVerification(e,t)}static credentialFromResult(e){const t=e;return e1.credentialFromTaggedObject(t)}static credentialFromError(e){return e1.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:t,temporaryProof:r}=e;return t&&r?Ju._fromTokenResponse(t,r):null}};sc.PROVIDER_ID="phone";sc.PHONE_SIGN_IN_METHOD="phone";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wc(n,e){return e?$i(e):(Oe(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I5 extends Nd{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return aa(e,this._buildIdpRequest())}_linkToIdToken(e,t){return aa(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return aa(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function hB(n){return G3(n.auth,new I5(n),n.bypassAuthState)}function dB(n){const{auth:e,user:t}=n;return Oe(t,e,"internal-error"),H3(t,new I5(n),n.bypassAuthState)}async function fB(n){const{auth:e,user:t}=n;return Oe(t,e,"internal-error"),f5(t,new I5(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sN{constructor(e,t,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:t,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return hB;case"linkViaPopup":case"linkViaRedirect":return fB;case"reauthViaPopup":case"reauthViaRedirect":return dB;default:Rr(this.auth,"internal-error")}}resolve(e){Qs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Qs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pB=new mm(2e3,1e4);async function mB(n,e,t){if(Sn(n.app))return Promise.reject(hr(n,"operation-not-supported-in-this-environment"));const r=Ln(n);Pd(n,e,ba);const i=wc(r,t);return new ra(r,"signInViaPopup",e,i).executeNotNull()}async function gB(n,e,t){const r=pt(n);if(Sn(r.auth.app))return Promise.reject(hr(r.auth,"operation-not-supported-in-this-environment"));Pd(r.auth,e,ba);const i=wc(r.auth,t);return new ra(r.auth,"reauthViaPopup",e,i,r).executeNotNull()}async function yB(n,e,t){const r=pt(n);Pd(r.auth,e,ba);const i=wc(r.auth,t);return new ra(r.auth,"linkViaPopup",e,i,r).executeNotNull()}class ra extends sN{constructor(e,t,r,i,s){super(e,t,i,s),this.provider=r,this.authWindow=null,this.pollId=null,ra.currentPopupAction&&ra.currentPopupAction.cancel(),ra.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Oe(e,this.auth,"internal-error"),e}async onExecution(){Qs(this.filter.length===1,"Popup operations only handle one event");const e=wm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(hr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(hr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ra.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if((r=(t=this.authWindow)==null?void 0:t.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(hr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,pB.get())};e()}}ra.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vB="pendingRedirect",sp=new Map;class _B extends sN{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=sp.get(this.auth._key());if(!e){try{const r=await wB(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}sp.set(this.auth._key(),e)}return this.bypassAuthState||sp.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function wB(n,e){const t=aN(e),r=oN(n);if(!await r._isAvailable())return!1;const i=await r._get(t)==="true";return await r._remove(t),i}async function E5(n,e){return oN(n)._set(aN(e),"true")}function bB(){sp.clear()}function S5(n,e){sp.set(n._key(),e)}function oN(n){return $i(n._redirectPersistence)}function aN(n){return Yu(vB,n.config.apiKey,n.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IB(n,e,t){return EB(n,e,t)}async function EB(n,e,t){if(Sn(n.app))return Promise.reject(br(n));const r=Ln(n);Pd(n,e,ba),await r._initializationPromise;const i=wc(r,t);return await E5(i,r),i._openRedirect(r,e,"signInViaRedirect")}function SB(n,e,t){return AB(n,e,t)}async function AB(n,e,t){const r=pt(n);if(Pd(r.auth,e,ba),Sn(r.auth.app))return Promise.reject(br(r.auth));await r.auth._initializationPromise;const i=wc(r.auth,t);await E5(i,r.auth);const s=await lN(r);return i._openRedirect(r.auth,e,"reauthViaRedirect",s)}function TB(n,e,t){return xB(n,e,t)}async function xB(n,e,t){const r=pt(n);Pd(r.auth,e,ba),await r.auth._initializationPromise;const i=wc(r.auth,t);await z0(!1,r,e.providerId),await E5(i,r.auth);const s=await lN(r);return i._openRedirect(r.auth,e,"linkViaRedirect",s)}async function PB(n,e){return await Ln(n)._initializationPromise,K0(n,e,!1)}async function K0(n,e,t=!1){if(Sn(n.app))return Promise.reject(br(n));const r=Ln(n),i=wc(r,e),o=await new _B(r,i,t).execute();return o&&!t&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}async function lN(n){const e=wm(`${n.uid}:::`);return n._redirectEventId=e,await n.auth._setRedirectUser(n),await n.auth._persistUserIfCurrent(n),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NB=10*60*1e3;class uN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!CB(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!cN(e)){const i=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";t.onError(hr(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=NB&&this.cachedEventUids.clear(),this.cachedEventUids.has(CS(e))}saveEventToCache(e){this.cachedEventUids.add(CS(e)),this.lastProcessedEventTime=Date.now()}}function CS(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function cN({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function CB(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return cN(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hN(n,e={}){return Bn(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kB=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,RB=/^https?/;async function LB(n){if(n.config.emulator)return;const{authorizedDomains:e}=await hN(n);for(const t of e)try{if(DB(t))return}catch{}Rr(n,"unauthorized-domain")}function DB(n){const e=Bp(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const o=new URL(n);return o.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&o.hostname===r}if(!RB.test(t))return!1;if(kB.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OB=new mm(3e4,6e4);function kS(){const n=er().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function FB(n){return new Promise((e,t)=>{var i,s,o;function r(){kS(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{kS(),t(hr(n,"network-request-failed"))},timeout:OB.get()})}if((s=(i=er().gapi)==null?void 0:i.iframes)!=null&&s.Iframe)e(gapi.iframes.getContext());else if((o=er().gapi)!=null&&o.load)r();else{const a=j3("iframefcb");return er()[a]=()=>{gapi.load?r():t(hr(n,"network-request-failed"))},d5(`${Cj()}?onload=${a}`).catch(l=>t(l))}}).catch(e=>{throw t1=null,e})}let t1=null;function MB(n){return t1=t1||FB(n),t1}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VB=new mm(5e3,15e3),jB="__/auth/iframe",BB="emulator/auth/iframe",UB={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},zB=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function qB(n){const e=n.config;Oe(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?h5(e,BB):`https://${n.config.authDomain}/${jB}`,r={apiKey:e.apiKey,appName:n.name,v:Yl},i=zB.get(n.config.apiHost);i&&(r.eid=i);const s=n._getFrameworks();return s.length&&(r.fw=s.join(",")),`${t}?${xd(r).slice(1)}`}async function $B(n){const e=await MB(n),t=er().gapi;return Oe(t,n,"internal-error"),e.open({where:document.body,url:qB(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:UB,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=hr(n,"network-request-failed"),a=er().setTimeout(()=>{s(o)},VB.get());function l(){er().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WB={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},HB=500,GB=600,KB="_blank",QB="http://localhost";class RS{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function YB(n,e,t,r=HB,i=GB){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l={...WB,width:r.toString(),height:i.toString(),top:s,left:o},c=Rn().toLowerCase();t&&(a=L3(c)?KB:t),k3(c)&&(e=e||QB,l.scrollbars="yes");const d=Object.entries(l).reduce((p,[g,S])=>`${p}${g}=${S},`,"");if(wj(c)&&a!=="_self")return JB(e||"",a),new RS(null);const f=window.open(e||"",a,d);Oe(f,n,"popup-blocked");try{f.focus()}catch{}return new RS(f)}function JB(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XB="__/auth/handler",ZB="emulator/auth/handler",eU=encodeURIComponent("fac");async function u_(n,e,t,r,i,s){Oe(n.config.authDomain,n,"auth-domain-config-required"),Oe(n.config.apiKey,n,"invalid-api-key");const o={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Yl,eventId:i};if(e instanceof ba){e.setDefaultLanguage(n.languageCode),o.providerId=e.providerId||"",xM(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,f]of Object.entries(s||{}))o[d]=f}if(e instanceof Cd){const d=e.getScopes().filter(f=>f!=="");d.length>0&&(o.scopes=d.join(","))}n.tenantId&&(o.tid=n.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await n._getAppCheckToken(),c=l?`#${eU}=${encodeURIComponent(l)}`:"";return`${tU(n)}?${xd(a).slice(1)}${c}`}function tU({config:n}){return n.emulator?h5(n,ZB):`https://${n.authDomain}/${XB}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ov="webStorageSupport";class nU{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ic,this._completeRedirectFn=K0,this._overrideRedirectResult=S5}async _openPopup(e,t,r,i){var o;Qs((o=this.eventManagers[e._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const s=await u_(e,t,r,Bp(),i);return YB(e,s,wm())}async _openRedirect(e,t,r,i){await this._originValidation(e);const s=await u_(e,t,r,Bp(),i);return $9(s),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:s}=this.eventManagers[t];return i?Promise.resolve(i):(Qs(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await $B(e),r=new uN(e);return t.register("authEvent",i=>(Oe(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Ov,{type:Ov},i=>{var o;const s=(o=i==null?void 0:i[0])==null?void 0:o[Ov];s!==void 0&&t(!!s),Rr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=LB(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return M3()||R3()||ym()}}const rU=nU;class iU{constructor(e){this.factorId=e}_process(e,t,r){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,r);case"signin":return this._finalizeSignIn(e,t.credential);default:return Eo("unexpected MultiFactorSessionType")}}}class A5 extends iU{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new A5(e)}_finalizeEnroll(e,t,r){return M9(e,{idToken:t,displayName:r,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return Z9(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class dN{constructor(){}static assertion(e){return A5._fromCredential(e)}}dN.FACTOR_ID="phone";var LS="@firebase/auth",DS="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sU{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Oe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oU(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function aU(n){Ml(new Ro("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Oe(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:V3(n)},c=new Tj(r,i,s,l);return Bj(c,t),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Ml(new Ro("auth-internal",e=>{const t=Ln(e.getProvider("auth").getImmediate());return(r=>new sU(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ws(LS,DS,oU(n)),Ws(LS,DS,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lU=5*60;mM("authIdTokenMaxAge");function uU(){var n;return((n=document.getElementsByTagName("head"))==null?void 0:n[0])??document}xj({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const s=hr("internal-error");s.customData=i,t(s)},r.type="text/javascript",r.charset="UTF-8",uU().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});aU("Browser");/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oc(){return window}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cU=2e3;async function hU(n,e,t){const{BuildInfo:r}=oc();Qs(e.sessionId,"AuthEvent did not contain a session ID");const i=await gU(e.sessionId),s={};return ym()?s.ibi=r.packageName:gm()?s.apn=r.packageName:Rr(n,"operation-not-supported-in-this-environment"),r.displayName&&(s.appDisplayName=r.displayName),s.sessionId=i,u_(n,t,e.type,void 0,e.eventId??void 0,s)}async function dU(n){const{BuildInfo:e}=oc(),t={};ym()?t.iosBundleId=e.packageName:gm()?t.androidPackageName=e.packageName:Rr(n,"operation-not-supported-in-this-environment"),await hN(n,t)}function fU(n){const{cordova:e}=oc();return new Promise(t=>{e.plugins.browsertab.isAvailable(r=>{let i=null;r?e.plugins.browsertab.openUrl(n):i=e.InAppBrowser.open(n,_j()?"_blank":"_system","location=yes"),t(i)})})}async function pU(n,e,t){const{cordova:r}=oc();let i=()=>{};try{await new Promise((s,o)=>{let a=null;function l(){var p;s();const f=(p=r.plugins.browsertab)==null?void 0:p.close;typeof f=="function"&&f(),typeof(t==null?void 0:t.close)=="function"&&t.close()}function c(){a||(a=window.setTimeout(()=>{o(hr(n,"redirect-cancelled-by-user"))},cU))}function d(){(document==null?void 0:document.visibilityState)==="visible"&&c()}e.addPassiveListener(l),document.addEventListener("resume",c,!1),gm()&&document.addEventListener("visibilitychange",d,!1),i=()=>{e.removePassiveListener(l),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",d,!1),a&&window.clearTimeout(a)}})}finally{i()}}function mU(n){var t,r,i,s,o,a,l,c,d,f;const e=oc();Oe(typeof((t=e==null?void 0:e.universalLinks)==null?void 0:t.subscribe)=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Oe(typeof((r=e==null?void 0:e.BuildInfo)==null?void 0:r.packageName)<"u",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Oe(typeof((o=(s=(i=e==null?void 0:e.cordova)==null?void 0:i.plugins)==null?void 0:s.browsertab)==null?void 0:o.openUrl)=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Oe(typeof((c=(l=(a=e==null?void 0:e.cordova)==null?void 0:a.plugins)==null?void 0:l.browsertab)==null?void 0:c.isAvailable)=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Oe(typeof((f=(d=e==null?void 0:e.cordova)==null?void 0:d.InAppBrowser)==null?void 0:f.open)=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}async function gU(n){const e=yU(n),t=await crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(t)).map(i=>i.toString(16).padStart(2,"0")).join("")}function yU(n){if(Qs(/[0-9a-zA-Z]+/.test(n),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return new TextEncoder().encode(n);const e=new ArrayBuffer(n.length),t=new Uint8Array(e);for(let r=0;r<n.length;r++)t[r]=n.charCodeAt(r);return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vU=20;class _U extends uN{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInitialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInitialized(),this.passiveListeners.forEach(t=>t(e)),super.onEvent(e)}async initialized(){await this.initPromise}}function wU(n,e,t=null){return{type:e,eventId:t,urlResponse:null,sessionId:EU(),postBody:null,tenantId:n.tenantId,error:hr(n,"no-auth-event")}}function bU(n,e){return c_()._set(h_(n),e)}async function OS(n){const e=await c_()._get(h_(n));return e&&await c_()._remove(h_(n)),e}function IU(n,e){var r,i;const t=AU(e);if(t.includes("/__/auth/callback")){const s=n1(t),o=s.firebaseError?SU(decodeURIComponent(s.firebaseError)):null,a=(i=(r=o==null?void 0:o.code)==null?void 0:r.split("auth/"))==null?void 0:i[1],l=a?hr(a):null;return l?{type:n.type,eventId:n.eventId,tenantId:n.tenantId,error:l,urlResponse:null,sessionId:null,postBody:null}:{type:n.type,eventId:n.eventId,tenantId:n.tenantId,sessionId:n.sessionId,urlResponse:t,postBody:null}}return null}function EU(){const n=[],e="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let t=0;t<vU;t++){const r=Math.floor(Math.random()*e.length);n.push(e.charAt(r))}return n.join("")}function c_(){return $i(_5)}function h_(n){return Yu("authEvent",n.config.apiKey,n.name)}function SU(n){try{return JSON.parse(n)}catch{return null}}function AU(n){const e=n1(n),t=e.link?decodeURIComponent(e.link):void 0,r=n1(t).link,i=e.deep_link_id?decodeURIComponent(e.deep_link_id):void 0;return n1(i).link||i||r||t||n}function n1(n){if(!(n!=null&&n.includes("?")))return{};const[e,...t]=n.split("?");return Nh(t.join("?"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TU=500;class xU{constructor(){this._redirectPersistence=ic,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=K0,this._overrideRedirectResult=S5}async _initialize(e){const t=e._key();let r=this.eventManagers.get(t);return r||(r=new _U(e),this.eventManagers.set(t,r),this.attachCallbackListeners(e,r)),r}_openPopup(e){Rr(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,t,r,i){mU(e);const s=await this._initialize(e);await s.initialized(),s.resetRedirect(),bB(),await this._originValidation(e);const o=wU(e,r,i);await bU(e,o);const a=await hU(e,o,t),l=await fU(a);return pU(e,s,l)}_isIframeWebStorageSupported(e,t){throw new Error("Method not implemented.")}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=dU(e)),this.originValidationPromises[t]}attachCallbackListeners(e,t){const{universalLinks:r,handleOpenURL:i,BuildInfo:s}=oc(),o=setTimeout(async()=>{await OS(e),t.onEvent(FS())},TU),a=async d=>{clearTimeout(o);const f=await OS(e);let p=null;f&&(d!=null&&d.url)&&(p=IU(f,d.url)),t.onEvent(p||FS())};typeof r<"u"&&typeof r.subscribe=="function"&&r.subscribe(null,a);const l=i,c=`${s.packageName.toLowerCase()}://`;oc().handleOpenURL=async d=>{if(d.toLowerCase().startsWith(c)&&a({url:d}),typeof l=="function")try{l(d)}catch(f){console.error(f)}}}}const PU=xU;function FS(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:hr("no-auth-event")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NU(n,e){Ln(n)._logFramework(e)}var CU="@firebase/auth-compat",kU="0.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RU=1e3;function op(){var n;return((n=self==null?void 0:self.location)==null?void 0:n.protocol)||null}function LU(){return op()==="http:"||op()==="https:"}function fN(n=Rn()){return!!((op()==="file:"||op()==="ionic:"||op()==="capacitor:")&&n.toLowerCase().match(/iphone|ipad|ipod|android/))}function DU(){return n5()||M0()}function OU(){return s3()&&(document==null?void 0:document.documentMode)===11}function FU(n=Rn()){return/Edge\/\d+/.test(n)}function MU(n=Rn()){return OU()||FU(n)}function pN(){try{const n=self.localStorage,e=wm();if(n)return n.setItem(e,"1"),n.removeItem(e),MU()?Mp():!0}catch{return T5()&&Mp()}return!1}function T5(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Fv(){return(LU()||i3()||fN())&&!DU()&&pN()&&!T5()}function mN(){return fN()&&typeof document<"u"}async function VU(){return mN()?new Promise(n=>{const e=setTimeout(()=>{n(!1)},RU);document.addEventListener("deviceready",()=>{clearTimeout(e),n(!0)})}):!1}function jU(){return typeof window<"u"?window:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ui={LOCAL:"local",NONE:"none",SESSION:"session"},wf=Oe,gN="persistence";function BU(n,e){if(wf(Object.values(Ui).includes(e),n,"invalid-persistence-type"),n5()){wf(e!==Ui.SESSION,n,"unsupported-persistence-type");return}if(M0()){wf(e===Ui.NONE,n,"unsupported-persistence-type");return}if(T5()){wf(e===Ui.NONE||e===Ui.LOCAL&&Mp(),n,"unsupported-persistence-type");return}wf(e===Ui.NONE||pN(),n,"unsupported-persistence-type")}async function d_(n){await n._initializationPromise;const e=yN(),t=Yu(gN,n.config.apiKey,n.name);e&&e.setItem(t,n._getPersistenceType())}function UU(n,e){const t=yN();if(!t)return[];const r=Yu(gN,n,e);switch(t.getItem(r)){case Ui.NONE:return[Xh];case Ui.LOCAL:return[qp,ic];case Ui.SESSION:return[ic];default:return[]}}function yN(){var n;try{return((n=jU())==null?void 0:n.sessionStorage)||null}catch{return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zU=Oe;class fl{constructor(){this.browserResolver=$i(rU),this.cordovaResolver=$i(PU),this.underlyingResolver=null,this._redirectPersistence=ic,this._completeRedirectFn=K0,this._overrideRedirectResult=S5}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,t,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,t,r,i)}async _openRedirect(e,t,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,t,r,i)}_isIframeWebStorageSupported(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return mN()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return zU(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await VU();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vN(n){return n.unwrap()}function qU(n){return n.wrapped()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $U(n){return _N(n)}function WU(n,e){var r;const t=(r=e.customData)==null?void 0:r._tokenResponse;if((e==null?void 0:e.code)==="auth/multi-factor-auth-required"){const i=e;i.resolver=new HU(n,F9(n,e))}else if(t){const i=_N(e),s=e;i&&(s.credential=i,s.tenantId=t.tenantId||void 0,s.email=t.email||void 0,s.phoneNumber=t.phoneNumber||void 0)}}function _N(n){const{_tokenResponse:e}=n instanceof li?n.customData:n;if(!e)return null;if(!(n instanceof li)&&"temporaryProof"in e&&"phoneNumber"in e)return sc.credentialFromResult(n);const t=e.providerId;if(!t||t===vf.PASSWORD)return null;let r;switch(t){case vf.GOOGLE:r=_o;break;case vf.FACEBOOK:r=vo;break;case vf.GITHUB:r=wo;break;case vf.TWITTER:r=bo;break;default:const{oauthIdToken:i,oauthAccessToken:s,oauthTokenSecret:o,pendingToken:a,nonce:l}=e;return!s&&!o&&!i&&!a?null:a?t.startsWith("saml.")?Zh._create(t,a):Lo._fromParams({providerId:t,signInMethod:t,pendingToken:a,idToken:i,accessToken:s}):new Vh(t).credential({idToken:i,accessToken:s,rawNonce:l})}return n instanceof li?r.credentialFromError(n):r.credentialFromResult(n)}function Ei(n,e){return e.catch(t=>{throw t instanceof li&&WU(n,t),t}).then(t=>{const r=t.operationType,i=t.user;return{operationType:r,credential:$U(t),additionalUserInfo:O9(t),user:Q0.getOrCreate(i)}})}async function f_(n,e){const t=await e;return{verificationId:t.verificationId,confirm:r=>Ei(n,t.confirm(r))}}class HU{constructor(e,t){this.resolver=t,this.auth=qU(e)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return Ei(vN(this.auth),this.resolver.resolveSignIn(e))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Q0=class Of{constructor(e){this._delegate=e,this.multiFactor=j9(e)}static getOrCreate(e){return Of.USER_MAP.has(e)||Of.USER_MAP.set(e,new Of(e)),Of.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return Ei(this.auth,K3(this._delegate,e))}async linkWithPhoneNumber(e,t){return f_(this.auth,lB(this._delegate,e,t))}async linkWithPopup(e){return Ei(this.auth,yB(this._delegate,e,fl))}async linkWithRedirect(e){return await d_(Ln(this.auth)),TB(this._delegate,e,fl)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return Ei(this.auth,Q3(this._delegate,e))}reauthenticateWithPhoneNumber(e,t){return f_(this.auth,uB(this._delegate,e,t))}reauthenticateWithPopup(e){return Ei(this.auth,gB(this._delegate,e,fl))}async reauthenticateWithRedirect(e){return await d_(Ln(this.auth)),SB(this._delegate,e,fl)}sendEmailVerification(e){return S9(this._delegate,e)}async unlink(e){return await c9(this._delegate,e),this}updateEmail(e){return P9(this._delegate,e)}updatePassword(e){return N9(this._delegate,e)}updatePhoneNumber(e){return cB(this._delegate,e)}updateProfile(e){return x9(this._delegate,e)}verifyBeforeUpdateEmail(e,t){return A9(this._delegate,e,t)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}};Q0.USER_MAP=new WeakMap;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bf=Oe;class p_{constructor(e,t){if(this.app=e,t.isInitialized()){this._delegate=t.getImmediate(),this.linkUnderlyingAuth();return}const{apiKey:r}=e.options;bf(r,"invalid-api-key",{appName:e.name}),bf(r,"invalid-api-key",{appName:e.name});const i=typeof window<"u"?fl:void 0;this._delegate=t.initialize({options:{persistence:GU(r,e.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(ZV),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Q0.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,t){Uj(this._delegate,e,t)}applyActionCode(e){return m9(this._delegate,e)}checkActionCode(e){return Y3(this._delegate,e)}confirmPasswordReset(e,t){return p9(this._delegate,e,t)}async createUserWithEmailAndPassword(e,t){return Ei(this._delegate,y9(this._delegate,e,t))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return E9(this._delegate,e)}isSignInWithEmailLink(e){return w9(this._delegate,e)}async getRedirectResult(){bf(Fv(),this._delegate,"operation-not-supported-in-this-environment");const e=await PB(this._delegate,fl);return e?Ei(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){NU(this._delegate,e)}onAuthStateChanged(e,t,r){const{next:i,error:s,complete:o}=MS(e,t,r);return this._delegate.onAuthStateChanged(i,s,o)}onIdTokenChanged(e,t,r){const{next:i,error:s,complete:o}=MS(e,t,r);return this._delegate.onIdTokenChanged(i,s,o)}sendSignInLinkToEmail(e,t){return _9(this._delegate,e,t)}sendPasswordResetEmail(e,t){return f9(this._delegate,e,t||void 0)}async setPersistence(e){BU(this._delegate,e);let t;switch(e){case Ui.SESSION:t=ic;break;case Ui.LOCAL:t=await $i(qp)._isAvailable()?qp:_5;break;case Ui.NONE:t=Xh;break;default:return Rr("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(t)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return Ei(this._delegate,u9(this._delegate))}signInWithCredential(e){return Ei(this._delegate,q0(this._delegate,e))}signInWithCustomToken(e){return Ei(this._delegate,d9(this._delegate,e))}signInWithEmailAndPassword(e,t){return Ei(this._delegate,v9(this._delegate,e,t))}signInWithEmailLink(e,t){return Ei(this._delegate,b9(this._delegate,e,t))}signInWithPhoneNumber(e,t){return f_(this._delegate,aB(this._delegate,e,t))}async signInWithPopup(e){return bf(Fv(),this._delegate,"operation-not-supported-in-this-environment"),Ei(this._delegate,mB(this._delegate,e,fl))}async signInWithRedirect(e){return bf(Fv(),this._delegate,"operation-not-supported-in-this-environment"),await d_(this._delegate),IB(this._delegate,e,fl)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return g9(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}p_.Persistence=Ui;function MS(n,e,t){let r=n;typeof n!="function"&&({next:r,error:e,complete:t}=n);const i=r;return{next:o=>i(o&&Q0.getOrCreate(o)),error:e,complete:t}}function GU(n,e){const t=UU(n,e);if(typeof self<"u"&&!t.includes(qp)&&t.push(qp),typeof window<"u")for(const r of[_5,ic])t.includes(r)||t.push(r);return t.includes(Xh)||t.push(Xh),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x5{static credential(e,t){return sc.credential(e,t)}constructor(){this.providerId="phone",this._delegate=new sc(vN(At.auth()))}verifyPhoneNumber(e,t){return this._delegate.verifyPhoneNumber(e,t)}unwrap(){return this._delegate}}x5.PHONE_SIGN_IN_METHOD=sc.PHONE_SIGN_IN_METHOD;x5.PROVIDER_ID=sc.PROVIDER_ID;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KU=Oe;class QU{constructor(e,t,r=At.app()){var i;KU((i=r.options)==null?void 0:i.apiKey,"invalid-api-key",{appName:r.name}),this._delegate=new sB(r.auth(),e,t),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YU="auth-compat";function JU(n){n.INTERNAL.registerComponent(new Ro(YU,e=>{const t=e.getProvider("app-compat").getImmediate(),r=e.getProvider("auth");return new p_(t,r)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:rh.EMAIL_SIGNIN,PASSWORD_RESET:rh.PASSWORD_RESET,RECOVER_EMAIL:rh.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:rh.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:rh.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:rh.VERIFY_EMAIL}},EmailAuthProvider:Jl,FacebookAuthProvider:vo,GithubAuthProvider:wo,GoogleAuthProvider:_o,OAuthProvider:Vh,SAMLAuthProvider:K1,PhoneAuthProvider:x5,PhoneMultiFactorGenerator:dN,RecaptchaVerifier:QU,TwitterAuthProvider:bo,Auth:p_,AuthCredential:Nd,Error:li}).setInstantiationMode("LAZY").setMultipleInstances(!1)),n.registerVersion(CU,kU)}JU(At);var VS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var xl,wN;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,A){function C(){}C.prototype=A.prototype,N.F=A.prototype,N.prototype=new C,N.prototype.constructor=N,N.D=function(D,T,P){for(var L=Array(arguments.length-2),G=2;G<arguments.length;G++)L[G-2]=arguments[G];return A.prototype[T].apply(D,L)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,t),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(N,A,C){C||(C=0);const D=Array(16);if(typeof A=="string")for(var T=0;T<16;++T)D[T]=A.charCodeAt(C++)|A.charCodeAt(C++)<<8|A.charCodeAt(C++)<<16|A.charCodeAt(C++)<<24;else for(T=0;T<16;++T)D[T]=A[C++]|A[C++]<<8|A[C++]<<16|A[C++]<<24;A=N.g[0],C=N.g[1],T=N.g[2];let P=N.g[3],L;L=A+(P^C&(T^P))+D[0]+3614090360&4294967295,A=C+(L<<7&4294967295|L>>>25),L=P+(T^A&(C^T))+D[1]+3905402710&4294967295,P=A+(L<<12&4294967295|L>>>20),L=T+(C^P&(A^C))+D[2]+606105819&4294967295,T=P+(L<<17&4294967295|L>>>15),L=C+(A^T&(P^A))+D[3]+3250441966&4294967295,C=T+(L<<22&4294967295|L>>>10),L=A+(P^C&(T^P))+D[4]+4118548399&4294967295,A=C+(L<<7&4294967295|L>>>25),L=P+(T^A&(C^T))+D[5]+1200080426&4294967295,P=A+(L<<12&4294967295|L>>>20),L=T+(C^P&(A^C))+D[6]+2821735955&4294967295,T=P+(L<<17&4294967295|L>>>15),L=C+(A^T&(P^A))+D[7]+4249261313&4294967295,C=T+(L<<22&4294967295|L>>>10),L=A+(P^C&(T^P))+D[8]+1770035416&4294967295,A=C+(L<<7&4294967295|L>>>25),L=P+(T^A&(C^T))+D[9]+2336552879&4294967295,P=A+(L<<12&4294967295|L>>>20),L=T+(C^P&(A^C))+D[10]+4294925233&4294967295,T=P+(L<<17&4294967295|L>>>15),L=C+(A^T&(P^A))+D[11]+2304563134&4294967295,C=T+(L<<22&4294967295|L>>>10),L=A+(P^C&(T^P))+D[12]+1804603682&4294967295,A=C+(L<<7&4294967295|L>>>25),L=P+(T^A&(C^T))+D[13]+4254626195&4294967295,P=A+(L<<12&4294967295|L>>>20),L=T+(C^P&(A^C))+D[14]+2792965006&4294967295,T=P+(L<<17&4294967295|L>>>15),L=C+(A^T&(P^A))+D[15]+1236535329&4294967295,C=T+(L<<22&4294967295|L>>>10),L=A+(T^P&(C^T))+D[1]+4129170786&4294967295,A=C+(L<<5&4294967295|L>>>27),L=P+(C^T&(A^C))+D[6]+3225465664&4294967295,P=A+(L<<9&4294967295|L>>>23),L=T+(A^C&(P^A))+D[11]+643717713&4294967295,T=P+(L<<14&4294967295|L>>>18),L=C+(P^A&(T^P))+D[0]+3921069994&4294967295,C=T+(L<<20&4294967295|L>>>12),L=A+(T^P&(C^T))+D[5]+3593408605&4294967295,A=C+(L<<5&4294967295|L>>>27),L=P+(C^T&(A^C))+D[10]+38016083&4294967295,P=A+(L<<9&4294967295|L>>>23),L=T+(A^C&(P^A))+D[15]+3634488961&4294967295,T=P+(L<<14&4294967295|L>>>18),L=C+(P^A&(T^P))+D[4]+3889429448&4294967295,C=T+(L<<20&4294967295|L>>>12),L=A+(T^P&(C^T))+D[9]+568446438&4294967295,A=C+(L<<5&4294967295|L>>>27),L=P+(C^T&(A^C))+D[14]+3275163606&4294967295,P=A+(L<<9&4294967295|L>>>23),L=T+(A^C&(P^A))+D[3]+4107603335&4294967295,T=P+(L<<14&4294967295|L>>>18),L=C+(P^A&(T^P))+D[8]+1163531501&4294967295,C=T+(L<<20&4294967295|L>>>12),L=A+(T^P&(C^T))+D[13]+2850285829&4294967295,A=C+(L<<5&4294967295|L>>>27),L=P+(C^T&(A^C))+D[2]+4243563512&4294967295,P=A+(L<<9&4294967295|L>>>23),L=T+(A^C&(P^A))+D[7]+1735328473&4294967295,T=P+(L<<14&4294967295|L>>>18),L=C+(P^A&(T^P))+D[12]+2368359562&4294967295,C=T+(L<<20&4294967295|L>>>12),L=A+(C^T^P)+D[5]+4294588738&4294967295,A=C+(L<<4&4294967295|L>>>28),L=P+(A^C^T)+D[8]+2272392833&4294967295,P=A+(L<<11&4294967295|L>>>21),L=T+(P^A^C)+D[11]+1839030562&4294967295,T=P+(L<<16&4294967295|L>>>16),L=C+(T^P^A)+D[14]+4259657740&4294967295,C=T+(L<<23&4294967295|L>>>9),L=A+(C^T^P)+D[1]+2763975236&4294967295,A=C+(L<<4&4294967295|L>>>28),L=P+(A^C^T)+D[4]+1272893353&4294967295,P=A+(L<<11&4294967295|L>>>21),L=T+(P^A^C)+D[7]+4139469664&4294967295,T=P+(L<<16&4294967295|L>>>16),L=C+(T^P^A)+D[10]+3200236656&4294967295,C=T+(L<<23&4294967295|L>>>9),L=A+(C^T^P)+D[13]+681279174&4294967295,A=C+(L<<4&4294967295|L>>>28),L=P+(A^C^T)+D[0]+3936430074&4294967295,P=A+(L<<11&4294967295|L>>>21),L=T+(P^A^C)+D[3]+3572445317&4294967295,T=P+(L<<16&4294967295|L>>>16),L=C+(T^P^A)+D[6]+76029189&4294967295,C=T+(L<<23&4294967295|L>>>9),L=A+(C^T^P)+D[9]+3654602809&4294967295,A=C+(L<<4&4294967295|L>>>28),L=P+(A^C^T)+D[12]+3873151461&4294967295,P=A+(L<<11&4294967295|L>>>21),L=T+(P^A^C)+D[15]+530742520&4294967295,T=P+(L<<16&4294967295|L>>>16),L=C+(T^P^A)+D[2]+3299628645&4294967295,C=T+(L<<23&4294967295|L>>>9),L=A+(T^(C|~P))+D[0]+4096336452&4294967295,A=C+(L<<6&4294967295|L>>>26),L=P+(C^(A|~T))+D[7]+1126891415&4294967295,P=A+(L<<10&4294967295|L>>>22),L=T+(A^(P|~C))+D[14]+2878612391&4294967295,T=P+(L<<15&4294967295|L>>>17),L=C+(P^(T|~A))+D[5]+4237533241&4294967295,C=T+(L<<21&4294967295|L>>>11),L=A+(T^(C|~P))+D[12]+1700485571&4294967295,A=C+(L<<6&4294967295|L>>>26),L=P+(C^(A|~T))+D[3]+2399980690&4294967295,P=A+(L<<10&4294967295|L>>>22),L=T+(A^(P|~C))+D[10]+4293915773&4294967295,T=P+(L<<15&4294967295|L>>>17),L=C+(P^(T|~A))+D[1]+2240044497&4294967295,C=T+(L<<21&4294967295|L>>>11),L=A+(T^(C|~P))+D[8]+1873313359&4294967295,A=C+(L<<6&4294967295|L>>>26),L=P+(C^(A|~T))+D[15]+4264355552&4294967295,P=A+(L<<10&4294967295|L>>>22),L=T+(A^(P|~C))+D[6]+2734768916&4294967295,T=P+(L<<15&4294967295|L>>>17),L=C+(P^(T|~A))+D[13]+1309151649&4294967295,C=T+(L<<21&4294967295|L>>>11),L=A+(T^(C|~P))+D[4]+4149444226&4294967295,A=C+(L<<6&4294967295|L>>>26),L=P+(C^(A|~T))+D[11]+3174756917&4294967295,P=A+(L<<10&4294967295|L>>>22),L=T+(A^(P|~C))+D[2]+718787259&4294967295,T=P+(L<<15&4294967295|L>>>17),L=C+(P^(T|~A))+D[9]+3951481745&4294967295,N.g[0]=N.g[0]+A&4294967295,N.g[1]=N.g[1]+(T+(L<<21&4294967295|L>>>11))&4294967295,N.g[2]=N.g[2]+T&4294967295,N.g[3]=N.g[3]+P&4294967295}r.prototype.v=function(N,A){A===void 0&&(A=N.length);const C=A-this.blockSize,D=this.C;let T=this.h,P=0;for(;P<A;){if(T==0)for(;P<=C;)i(this,N,P),P+=this.blockSize;if(typeof N=="string"){for(;P<A;)if(D[T++]=N.charCodeAt(P++),T==this.blockSize){i(this,D),T=0;break}}else for(;P<A;)if(D[T++]=N[P++],T==this.blockSize){i(this,D),T=0;break}}this.h=T,this.o+=A},r.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var A=1;A<N.length-8;++A)N[A]=0;A=this.o*8;for(var C=N.length-8;C<N.length;++C)N[C]=A&255,A/=256;for(this.v(N),N=Array(16),A=0,C=0;C<4;++C)for(let D=0;D<32;D+=8)N[A++]=this.g[C]>>>D&255;return N};function s(N,A){var C=a;return Object.prototype.hasOwnProperty.call(C,N)?C[N]:C[N]=A(N)}function o(N,A){this.h=A;const C=[];let D=!0;for(let T=N.length-1;T>=0;T--){const P=N[T]|0;D&&P==A||(C[T]=P,D=!1)}this.g=C}var a={};function l(N){return-128<=N&&N<128?s(N,function(A){return new o([A|0],A<0?-1:0)}):new o([N|0],N<0?-1:0)}function c(N){if(isNaN(N)||!isFinite(N))return f;if(N<0)return k(c(-N));const A=[];let C=1;for(let D=0;N>=C;D++)A[D]=N/C|0,C*=4294967296;return new o(A,0)}function d(N,A){if(N.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(N.charAt(0)=="-")return k(d(N.substring(1),A));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=c(Math.pow(A,8));let D=f;for(let P=0;P<N.length;P+=8){var T=Math.min(8,N.length-P);const L=parseInt(N.substring(P,P+T),A);T<8?(T=c(Math.pow(A,T)),D=D.j(T).add(c(L))):(D=D.j(C),D=D.add(c(L)))}return D}var f=l(0),p=l(1),g=l(16777216);n=o.prototype,n.m=function(){if(x(this))return-k(this).m();let N=0,A=1;for(let C=0;C<this.g.length;C++){const D=this.i(C);N+=(D>=0?D:4294967296+D)*A,A*=4294967296}return N},n.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(S(this))return"0";if(x(this))return"-"+k(this).toString(N);const A=c(Math.pow(N,6));var C=this;let D="";for(;;){const T=F(C,A).g;C=_(C,T.j(A));let P=((C.g.length>0?C.g[0]:C.h)>>>0).toString(N);if(C=T,S(C))return P+D;for(;P.length<6;)P="0"+P;D=P+D}},n.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function S(N){if(N.h!=0)return!1;for(let A=0;A<N.g.length;A++)if(N.g[A]!=0)return!1;return!0}function x(N){return N.h==-1}n.l=function(N){return N=_(this,N),x(N)?-1:S(N)?0:1};function k(N){const A=N.g.length,C=[];for(let D=0;D<A;D++)C[D]=~N.g[D];return new o(C,~N.h).add(p)}n.abs=function(){return x(this)?k(this):this},n.add=function(N){const A=Math.max(this.g.length,N.g.length),C=[];let D=0;for(let T=0;T<=A;T++){let P=D+(this.i(T)&65535)+(N.i(T)&65535),L=(P>>>16)+(this.i(T)>>>16)+(N.i(T)>>>16);D=L>>>16,P&=65535,L&=65535,C[T]=L<<16|P}return new o(C,C[C.length-1]&-2147483648?-1:0)};function _(N,A){return N.add(k(A))}n.j=function(N){if(S(this)||S(N))return f;if(x(this))return x(N)?k(this).j(k(N)):k(k(this).j(N));if(x(N))return k(this.j(k(N)));if(this.l(g)<0&&N.l(g)<0)return c(this.m()*N.m());const A=this.g.length+N.g.length,C=[];for(var D=0;D<2*A;D++)C[D]=0;for(D=0;D<this.g.length;D++)for(let T=0;T<N.g.length;T++){const P=this.i(D)>>>16,L=this.i(D)&65535,G=N.i(T)>>>16,ue=N.i(T)&65535;C[2*D+2*T]+=L*ue,b(C,2*D+2*T),C[2*D+2*T+1]+=P*ue,b(C,2*D+2*T+1),C[2*D+2*T+1]+=L*G,b(C,2*D+2*T+1),C[2*D+2*T+2]+=P*G,b(C,2*D+2*T+2)}for(N=0;N<A;N++)C[N]=C[2*N+1]<<16|C[2*N];for(N=A;N<2*A;N++)C[N]=0;return new o(C,0)};function b(N,A){for(;(N[A]&65535)!=N[A];)N[A+1]+=N[A]>>>16,N[A]&=65535,A++}function E(N,A){this.g=N,this.h=A}function F(N,A){if(S(A))throw Error("division by zero");if(S(N))return new E(f,f);if(x(N))return A=F(k(N),A),new E(k(A.g),k(A.h));if(x(A))return A=F(N,k(A)),new E(k(A.g),A.h);if(N.g.length>30){if(x(N)||x(A))throw Error("slowDivide_ only works with positive integers.");for(var C=p,D=A;D.l(N)<=0;)C=B(C),D=B(D);var T=U(C,1),P=U(D,1);for(D=U(D,2),C=U(C,2);!S(D);){var L=P.add(D);L.l(N)<=0&&(T=T.add(C),P=L),D=U(D,1),C=U(C,1)}return A=_(N,T.j(A)),new E(T,A)}for(T=f;N.l(A)>=0;){for(C=Math.max(1,Math.floor(N.m()/A.m())),D=Math.ceil(Math.log(C)/Math.LN2),D=D<=48?1:Math.pow(2,D-48),P=c(C),L=P.j(A);x(L)||L.l(N)>0;)C-=D,P=c(C),L=P.j(A);S(P)&&(P=p),T=T.add(P),N=_(N,L)}return new E(T,N)}n.B=function(N){return F(this,N).h},n.and=function(N){const A=Math.max(this.g.length,N.g.length),C=[];for(let D=0;D<A;D++)C[D]=this.i(D)&N.i(D);return new o(C,this.h&N.h)},n.or=function(N){const A=Math.max(this.g.length,N.g.length),C=[];for(let D=0;D<A;D++)C[D]=this.i(D)|N.i(D);return new o(C,this.h|N.h)},n.xor=function(N){const A=Math.max(this.g.length,N.g.length),C=[];for(let D=0;D<A;D++)C[D]=this.i(D)^N.i(D);return new o(C,this.h^N.h)};function B(N){const A=N.g.length+1,C=[];for(let D=0;D<A;D++)C[D]=N.i(D)<<1|N.i(D-1)>>>31;return new o(C,N.h)}function U(N,A){const C=A>>5;A%=32;const D=N.g.length-C,T=[];for(let P=0;P<D;P++)T[P]=A>0?N.i(P+C)>>>A|N.i(P+C+1)<<32-A:N.i(P+C);return new o(T,N.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,wN=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=d,xl=o}).apply(typeof VS<"u"?VS:typeof self<"u"?self:typeof window<"u"?window:{});var Rg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var bN,Ff,IN,r1,m_,EN,SN,AN;(function(){var n,e=Object.defineProperty;function t(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Rg=="object"&&Rg];for(var y=0;y<u.length;++y){var I=u[y];if(I&&I.Math==Math)return I}throw Error("Cannot find global object")}var r=t(this);function i(u,y){if(y)e:{var I=r;u=u.split(".");for(var O=0;O<u.length-1;O++){var J=u[O];if(!(J in I))break e;I=I[J]}u=u[u.length-1],O=I[u],y=y(O),y!=O&&y!=null&&e(I,u,{configurable:!0,writable:!0,value:y})}}i("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(u){return u||function(y){var I=[],O;for(O in y)Object.prototype.hasOwnProperty.call(y,O)&&I.push([O,y[O]]);return I}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},o=this||self;function a(u){var y=typeof u;return y=="object"&&u!=null||y=="function"}function l(u,y,I){return u.call.apply(u.bind,arguments)}function c(u,y,I){return c=l,c.apply(null,arguments)}function d(u,y){var I=Array.prototype.slice.call(arguments,1);return function(){var O=I.slice();return O.push.apply(O,arguments),u.apply(this,O)}}function f(u,y){function I(){}I.prototype=y.prototype,u.Z=y.prototype,u.prototype=new I,u.prototype.constructor=u,u.Ob=function(O,J,re){for(var we=Array(arguments.length-2),Fe=2;Fe<arguments.length;Fe++)we[Fe-2]=arguments[Fe];return y.prototype[J].apply(O,we)}}var p=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function g(u){const y=u.length;if(y>0){const I=Array(y);for(let O=0;O<y;O++)I[O]=u[O];return I}return[]}function S(u,y){for(let O=1;O<arguments.length;O++){const J=arguments[O];var I=typeof J;if(I=I!="object"?I:J?Array.isArray(J)?"array":I:"null",I=="array"||I=="object"&&typeof J.length=="number"){I=u.length||0;const re=J.length||0;u.length=I+re;for(let we=0;we<re;we++)u[I+we]=J[we]}else u.push(J)}}class x{constructor(y,I){this.i=y,this.j=I,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function k(u){o.setTimeout(()=>{throw u},0)}function _(){var u=N;let y=null;return u.g&&(y=u.g,u.g=u.g.next,u.g||(u.h=null),y.next=null),y}class b{constructor(){this.h=this.g=null}add(y,I){const O=E.get();O.set(y,I),this.h?this.h.next=O:this.g=O,this.h=O}}var E=new x(()=>new F,u=>u.reset());class F{constructor(){this.next=this.g=this.h=null}set(y,I){this.h=y,this.g=I,this.next=null}reset(){this.next=this.g=this.h=null}}let B,U=!1,N=new b,A=()=>{const u=Promise.resolve(void 0);B=()=>{u.then(C)}};function C(){for(var u;u=_();){try{u.h.call(u.g)}catch(I){k(I)}var y=E;y.j(u),y.h<100&&(y.h++,u.next=y.g,y.g=u)}U=!1}function D(){this.u=this.u,this.C=this.C}D.prototype.u=!1,D.prototype.dispose=function(){this.u||(this.u=!0,this.N())},D.prototype[Symbol.dispose]=function(){this.dispose()},D.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function T(u,y){this.type=u,this.g=this.target=y,this.defaultPrevented=!1}T.prototype.h=function(){this.defaultPrevented=!0};var P=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var u=!1,y=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const I=()=>{};o.addEventListener("test",I,y),o.removeEventListener("test",I,y)}catch{}return u}();function L(u){return/^[\s\xa0]*$/.test(u)}function G(u,y){T.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,y)}f(G,T),G.prototype.init=function(u,y){const I=this.type=u.type,O=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=y,y=u.relatedTarget,y||(I=="mouseover"?y=u.fromElement:I=="mouseout"&&(y=u.toElement)),this.relatedTarget=y,O?(this.clientX=O.clientX!==void 0?O.clientX:O.pageX,this.clientY=O.clientY!==void 0?O.clientY:O.pageY,this.screenX=O.screenX||0,this.screenY=O.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&G.Z.h.call(this)},G.prototype.h=function(){G.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var ue="closure_listenable_"+(Math.random()*1e6|0),ee=0;function X(u,y,I,O,J){this.listener=u,this.proxy=null,this.src=y,this.type=I,this.capture=!!O,this.ha=J,this.key=++ee,this.da=this.fa=!1}function K(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Y(u,y,I){for(const O in u)y.call(I,u[O],O,u)}function oe(u,y){for(const I in u)y.call(void 0,u[I],I,u)}function me(u){const y={};for(const I in u)y[I]=u[I];return y}const M="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function W(u,y){let I,O;for(let J=1;J<arguments.length;J++){O=arguments[J];for(I in O)u[I]=O[I];for(let re=0;re<M.length;re++)I=M[re],Object.prototype.hasOwnProperty.call(O,I)&&(u[I]=O[I])}}function Q(u){this.src=u,this.g={},this.h=0}Q.prototype.add=function(u,y,I,O,J){const re=u.toString();u=this.g[re],u||(u=this.g[re]=[],this.h++);const we=ne(u,y,O,J);return we>-1?(y=u[we],I||(y.fa=!1)):(y=new X(y,this.src,re,!!O,J),y.fa=I,u.push(y)),y};function te(u,y){const I=y.type;if(I in u.g){var O=u.g[I],J=Array.prototype.indexOf.call(O,y,void 0),re;(re=J>=0)&&Array.prototype.splice.call(O,J,1),re&&(K(y),u.g[I].length==0&&(delete u.g[I],u.h--))}}function ne(u,y,I,O){for(let J=0;J<u.length;++J){const re=u[J];if(!re.da&&re.listener==y&&re.capture==!!I&&re.ha==O)return J}return-1}var he="closure_lm_"+(Math.random()*1e6|0),fe={};function ge(u,y,I,O,J){if(O&&O.once)return Ue(u,y,I,O,J);if(Array.isArray(y)){for(let re=0;re<y.length;re++)ge(u,y[re],I,O,J);return null}return I=Le(I),u&&u[ue]?u.J(y,I,a(O)?!!O.capture:!!O,J):Ce(u,y,I,!1,O,J)}function Ce(u,y,I,O,J,re){if(!y)throw Error("Invalid event type");const we=a(J)?!!J.capture:!!J;let Fe=Ve(u);if(Fe||(u[he]=Fe=new Q(u)),I=Fe.add(y,I,O,we,re),I.proxy)return I;if(O=Re(),I.proxy=O,O.src=u,O.listener=I,u.addEventListener)P||(J=we),J===void 0&&(J=!1),u.addEventListener(y.toString(),O,J);else if(u.attachEvent)u.attachEvent(Ee(y.toString()),O);else if(u.addListener&&u.removeListener)u.addListener(O);else throw Error("addEventListener and attachEvent are unavailable.");return I}function Re(){function u(I){return y.call(u.src,u.listener,I)}const y=ie;return u}function Ue(u,y,I,O,J){if(Array.isArray(y)){for(let re=0;re<y.length;re++)Ue(u,y[re],I,O,J);return null}return I=Le(I),u&&u[ue]?u.K(y,I,a(O)?!!O.capture:!!O,J):Ce(u,y,I,!0,O,J)}function ze(u,y,I,O,J){if(Array.isArray(y))for(var re=0;re<y.length;re++)ze(u,y[re],I,O,J);else O=a(O)?!!O.capture:!!O,I=Le(I),u&&u[ue]?(u=u.i,re=String(y).toString(),re in u.g&&(y=u.g[re],I=ne(y,I,O,J),I>-1&&(K(y[I]),Array.prototype.splice.call(y,I,1),y.length==0&&(delete u.g[re],u.h--)))):u&&(u=Ve(u))&&(y=u.g[y.toString()],u=-1,y&&(u=ne(y,I,O,J)),(I=u>-1?y[u]:null)&&at(I))}function at(u){if(typeof u!="number"&&u&&!u.da){var y=u.src;if(y&&y[ue])te(y.i,u);else{var I=u.type,O=u.proxy;y.removeEventListener?y.removeEventListener(I,O,u.capture):y.detachEvent?y.detachEvent(Ee(I),O):y.addListener&&y.removeListener&&y.removeListener(O),(I=Ve(y))?(te(I,u),I.h==0&&(I.src=null,y[he]=null)):K(u)}}}function Ee(u){return u in fe?fe[u]:fe[u]="on"+u}function ie(u,y){if(u.da)u=!0;else{y=new G(y,this);const I=u.listener,O=u.ha||u.src;u.fa&&at(u),u=I.call(O,y)}return u}function Ve(u){return u=u[he],u instanceof Q?u:null}var Ze="__closure_events_fn_"+(Math.random()*1e9>>>0);function Le(u){return typeof u=="function"?u:(u[Ze]||(u[Ze]=function(y){return u.handleEvent(y)}),u[Ze])}function De(){D.call(this),this.i=new Q(this),this.M=this,this.G=null}f(De,D),De.prototype[ue]=!0,De.prototype.removeEventListener=function(u,y,I,O){ze(this,u,y,I,O)};function je(u,y){var I,O=u.G;if(O)for(I=[];O;O=O.G)I.push(O);if(u=u.M,O=y.type||y,typeof y=="string")y=new T(y,u);else if(y instanceof T)y.target=y.target||u;else{var J=y;y=new T(O,u),W(y,J)}J=!0;let re,we;if(I)for(we=I.length-1;we>=0;we--)re=y.g=I[we],J=qe(re,O,!0,y)&&J;if(re=y.g=u,J=qe(re,O,!0,y)&&J,J=qe(re,O,!1,y)&&J,I)for(we=0;we<I.length;we++)re=y.g=I[we],J=qe(re,O,!1,y)&&J}De.prototype.N=function(){if(De.Z.N.call(this),this.i){var u=this.i;for(const y in u.g){const I=u.g[y];for(let O=0;O<I.length;O++)K(I[O]);delete u.g[y],u.h--}}this.G=null},De.prototype.J=function(u,y,I,O){return this.i.add(String(u),y,!1,I,O)},De.prototype.K=function(u,y,I,O){return this.i.add(String(u),y,!0,I,O)};function qe(u,y,I,O){if(y=u.i.g[String(y)],!y)return!0;y=y.concat();let J=!0;for(let re=0;re<y.length;++re){const we=y[re];if(we&&!we.da&&we.capture==I){const Fe=we.listener,nt=we.ha||we.src;we.fa&&te(u.i,we),J=Fe.call(nt,O)!==!1&&J}}return J&&!O.defaultPrevented}function st(u,y){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=c(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:o.setTimeout(u,y||0)}function mt(u){u.g=st(()=>{u.g=null,u.i&&(u.i=!1,mt(u))},u.l);const y=u.h;u.h=null,u.m.apply(null,y)}class It extends D{constructor(y,I){super(),this.m=y,this.l=I,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:mt(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function _t(u){D.call(this),this.h=u,this.g={}}f(_t,D);var Pt=[];function Vt(u){Y(u.g,function(y,I){this.g.hasOwnProperty(I)&&at(y)},u),u.g={}}_t.prototype.N=function(){_t.Z.N.call(this),Vt(this)},_t.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ht=o.JSON.stringify,xt=o.JSON.parse,Ke=class{stringify(u){return o.JSON.stringify(u,void 0)}parse(u){return o.JSON.parse(u,void 0)}};function ln(){}function Ct(){}var ir={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function pe(){T.call(this,"d")}f(pe,T);function ke(){T.call(this,"c")}f(ke,T);var Be={},We=null;function Nt(){return We=We||new De}Be.Ia="serverreachability";function gt(u){T.call(this,Be.Ia,u)}f(gt,T);function Ot(u){const y=Nt();je(y,new gt(y))}Be.STAT_EVENT="statevent";function Ut(u,y){T.call(this,Be.STAT_EVENT,u),this.stat=y}f(Ut,T);function vt(u){const y=Nt();je(y,new Ut(y,u))}Be.Ja="timingevent";function it(u,y){T.call(this,Be.Ja,u),this.size=y}f(it,T);function wt(u,y){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){u()},y)}function rn(){this.g=!0}rn.prototype.ua=function(){this.g=!1};function tn(u,y,I,O,J,re){u.info(function(){if(u.g)if(re){var we="",Fe=re.split("&");for(let Ye=0;Ye<Fe.length;Ye++){var nt=Fe[Ye].split("=");if(nt.length>1){const dt=nt[0];nt=nt[1];const jt=dt.split("_");we=jt.length>=2&&jt[1]=="type"?we+(dt+"="+nt+"&"):we+(dt+"=redacted&")}}}else we=null;else we=re;return"XMLHTTP REQ ("+O+") [attempt "+J+"]: "+y+`
`+I+`
`+we})}function sn(u,y,I,O,J,re,we){u.info(function(){return"XMLHTTP RESP ("+O+") [ attempt "+J+"]: "+y+`
`+I+`
`+re+" "+we})}function wn(u,y,I,O){u.info(function(){return"XMLHTTP TEXT ("+y+"): "+Lr(u,I)+(O?" "+O:"")})}function lt(u,y){u.info(function(){return"TIMEOUT: "+y})}rn.prototype.info=function(){};function Lr(u,y){if(!u.g)return y;if(!y)return null;try{const re=JSON.parse(y);if(re){for(u=0;u<re.length;u++)if(Array.isArray(re[u])){var I=re[u];if(!(I.length<2)){var O=I[1];if(Array.isArray(O)&&!(O.length<1)){var J=O[0];if(J!="noop"&&J!="stop"&&J!="close")for(let we=1;we<O.length;we++)O[we]=""}}}}return ht(re)}catch{return y}}var Ir={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Er={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Dn;function bn(){}f(bn,ln),bn.prototype.g=function(){return new XMLHttpRequest},Dn=new bn;function sr(u){return encodeURIComponent(String(u))}function Ta(u){var y=1;u=u.split(":");const I=[];for(;y>0&&u.length;)I.push(u.shift()),y--;return u.length&&I.push(u.join(":")),I}function fr(u,y,I,O){this.j=u,this.i=y,this.l=I,this.S=O||1,this.V=new _t(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new pi}function pi(){this.i=null,this.g="",this.h=!1}var mi={},Kr={};function gi(u,y,I){u.M=1,u.A=Ss(Yr(y)),u.u=I,u.R=!0,Qr(u,null)}function Qr(u,y){u.F=Date.now(),bs(u),u.B=Yr(u.A);var I=u.B,O=u.S;Array.isArray(O)||(O=[String(O)]),Bo(I.i,"t",O),u.C=0,I=u.j.L,u.h=new pi,u.g=Vc(u.j,I?y:null,!u.u),u.P>0&&(u.O=new It(c(u.Y,u,u.g),u.P)),y=u.V,I=u.g,O=u.ba;var J="readystatechange";Array.isArray(J)||(J&&(Pt[0]=J.toString()),J=Pt);for(let re=0;re<J.length;re++){const we=ge(I,J[re],O||y.handleEvent,!1,y.h||y);if(!we)break;y.g[we.key]=we}y=u.J?me(u.J):{},u.u?(u.v||(u.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,y)):(u.v="GET",u.g.ea(u.B,u.v,null,y)),Ot(),tn(u.i,u.v,u.B,u.l,u.S,u.u)}fr.prototype.ba=function(u){u=u.target;const y=this.O;y&&yi(u)==3?y.j():this.Y(u)},fr.prototype.Y=function(u){try{if(u==this.g)e:{const Fe=yi(this.g),nt=this.g.ya(),Ye=this.g.ca();if(!(Fe<3)&&(Fe!=3||this.g&&(this.h.h||this.g.la()||zo(this.g)))){this.K||Fe!=4||nt==7||(nt==8||Ye<=0?Ot(3):Ot(2)),Zs(this);var y=this.g.ca();this.X=y;var I=Ji(this);if(this.o=y==200,sn(this.i,this.v,this.B,this.l,this.S,Fe,y),this.o){if(this.U&&!this.L){t:{if(this.g){var O,J=this.g;if((O=J.g?J.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!L(O)){var re=O;break t}}re=null}if(u=re)wn(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ru(this,u);else{this.o=!1,this.m=3,vt(12),Is(this),eo(this);break e}}if(this.R){u=!0;let dt;for(;!this.K&&this.C<I.length;)if(dt=xa(this,I),dt==Kr){Fe==4&&(this.m=4,vt(14),u=!1),wn(this.i,this.l,null,"[Incomplete Response]");break}else if(dt==mi){this.m=4,vt(15),wn(this.i,this.l,I,"[Invalid Chunk]"),u=!1;break}else wn(this.i,this.l,dt,null),ru(this,dt);if(Xs(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Fe!=4||I.length!=0||this.h.h||(this.m=1,vt(16),u=!1),this.o=this.o&&u,!u)wn(this.i,this.l,I,"[Invalid Chunked Response]"),Is(this),eo(this);else if(I.length>0&&!this.W){this.W=!0;var we=this.j;we.g==this&&we.aa&&!we.P&&(we.j.info("Great, no buffering proxy detected. Bytes received: "+I.length),du(we),we.P=!0,vt(11))}}else wn(this.i,this.l,I,null),ru(this,I);Fe==4&&Is(this),this.o&&!this.K&&(Fe==4?fu(this.j,this):(this.o=!1,bs(this)))}else Fc(this.g),y==400&&I.indexOf("Unknown SID")>0?(this.m=3,vt(12)):(this.m=0,vt(13)),Is(this),eo(this)}}}catch{}finally{}};function Ji(u){if(!Xs(u))return u.g.la();const y=zo(u.g);if(y==="")return"";let I="";const O=y.length,J=yi(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return Is(u),eo(u),"";u.h.i=new o.TextDecoder}for(let re=0;re<O;re++)u.h.h=!0,I+=u.h.i.decode(y[re],{stream:!(J&&re==O-1)});return y.length=0,u.h.g+=I,u.C=0,u.h.g}function Xs(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function xa(u,y){var I=u.C,O=y.indexOf(`
`,I);return O==-1?Kr:(I=Number(y.substring(I,O)),isNaN(I)?mi:(O+=1,O+I>y.length?Kr:(y=y.slice(O,O+I),u.C=O+I,y)))}fr.prototype.cancel=function(){this.K=!0,Is(this)};function bs(u){u.T=Date.now()+u.H,Vo(u,u.H)}function Vo(u,y){if(u.D!=null)throw Error("WatchDog timer not null");u.D=wt(c(u.aa,u),y)}function Zs(u){u.D&&(o.clearTimeout(u.D),u.D=null)}fr.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(lt(this.i,this.B),this.M!=2&&(Ot(),vt(17)),Is(this),this.m=2,eo(this)):Vo(this,this.T-u)};function eo(u){u.j.I==0||u.K||fu(u.j,u)}function Is(u){Zs(u);var y=u.O;y&&typeof y.dispose=="function"&&y.dispose(),u.O=null,Vt(u.V),u.g&&(y=u.g,u.g=null,y.abort(),y.dispose())}function ru(u,y){try{var I=u.j;if(I.I!=0&&(I.g==u||su(I.h,u))){if(!u.L&&su(I.h,u)&&I.I==3){try{var O=I.Ba.g.parse(y)}catch{O=null}if(Array.isArray(O)&&O.length==3){var J=O;if(J[0]==0){e:if(!I.v){if(I.g)if(I.g.F+3e3<u.F)lo(I),Xr(I);else break e;ao(I),vt(18)}}else I.xa=J[1],0<I.xa-I.K&&J[2]<37500&&I.F&&I.A==0&&!I.C&&(I.C=wt(c(I.Va,I),6e3));Na(I.h)<=1&&I.ta&&(I.ta=void 0)}else Di(I,11)}else if((u.L||I.g==u)&&lo(I),!L(y))for(J=I.Ba.g.parse(y),y=0;y<J.length;y++){let Ye=J[y];const dt=Ye[0];if(!(dt<=I.K))if(I.K=dt,Ye=Ye[1],I.I==2)if(Ye[0]=="c"){I.M=Ye[1],I.ba=Ye[2];const jt=Ye[3];jt!=null&&(I.ka=jt,I.j.info("VER="+I.ka));const Ht=Ye[4];Ht!=null&&(I.za=Ht,I.j.info("SVER="+I.za));const Kt=Ye[5];Kt!=null&&typeof Kt=="number"&&Kt>0&&(O=1.5*Kt,I.O=O,I.j.info("backChannelRequestTimeoutMs_="+O)),O=I;const mn=u.g;if(mn){const Pn=mn.g?mn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Pn){var re=O.h;re.g||Pn.indexOf("spdy")==-1&&Pn.indexOf("quic")==-1&&Pn.indexOf("h2")==-1||(re.j=re.l,re.g=new Set,re.h&&(Ca(re,re.h),re.h=null))}if(O.G){const Zr=mn.g?mn.g.getResponseHeader("X-HTTP-Session-Id"):null;Zr&&(O.wa=Zr,kt(O.J,O.G,Zr))}}I.I=3,I.l&&I.l.ra(),I.aa&&(I.T=Date.now()-u.F,I.j.info("Handshake RTT: "+I.T+"ms")),O=I;var we=u;if(O.na=pu(O,O.L?O.ba:null,O.W),we.L){Tc(O.h,we);var Fe=we,nt=O.O;nt&&(Fe.H=nt),Fe.D&&(Zs(Fe),bs(Fe)),O.g=we}else Mc(O);I.i.length>0&&La(I)}else Ye[0]!="stop"&&Ye[0]!="close"||Di(I,7);else I.I==3&&(Ye[0]=="stop"||Ye[0]=="close"?Ye[0]=="stop"?Di(I,7):Ra(I):Ye[0]!="noop"&&I.l&&I.l.qa(Ye),I.A=0)}}Ot(4)}catch{}}var Pa=class{constructor(u,y){this.g=u,this.map=y}};function iu(u){this.l=u||10,o.PerformanceNavigationTiming?(u=o.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ac(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Na(u){return u.h?1:u.g?u.g.size:0}function su(u,y){return u.h?u.h==y:u.g?u.g.has(y):!1}function Ca(u,y){u.g?u.g.add(y):u.h=y}function Tc(u,y){u.h&&u.h==y?u.h=null:u.g&&u.g.has(y)&&u.g.delete(y)}iu.prototype.cancel=function(){if(this.i=jo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function jo(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let y=u.i;for(const I of u.g.values())y=y.concat(I.G);return y}return g(u.i)}var xc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function xn(u,y){if(u){u=u.split("&");for(let I=0;I<u.length;I++){const O=u[I].indexOf("=");let J,re=null;O>=0?(J=u[I].substring(0,O),re=u[I].substring(O+1)):J=u[I],y(J,re?decodeURIComponent(re.replace(/\+/g," ")):"")}}}function Li(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;u instanceof Li?(this.l=u.l,to(this,u.j),this.o=u.o,this.g=u.g,Es(this,u.u),this.h=u.h,ou(this,Uo(u.i)),this.m=u.m):u&&(y=String(u).match(xc))?(this.l=!1,to(this,y[1]||"",!0),this.o=Yn(y[2]||""),this.g=Yn(y[3]||"",!0),Es(this,y[4]),this.h=Yn(y[5]||"",!0),ou(this,y[6]||"",!0),this.m=Yn(y[7]||"")):(this.l=!1,this.i=new Ts(null,this.l))}Li.prototype.toString=function(){const u=[];var y=this.j;y&&u.push(As(y,Nc,!0),":");var I=this.g;return(I||y=="file")&&(u.push("//"),(y=this.o)&&u.push(As(y,Nc,!0),"@"),u.push(sr(I).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),I=this.u,I!=null&&u.push(":",String(I))),(I=this.h)&&(this.g&&I.charAt(0)!="/"&&u.push("/"),u.push(As(I,I.charAt(0)=="/"?jd:Cc,!0))),(I=this.i.toString())&&u.push("?",I),(I=this.m)&&u.push("#",As(I,Bd)),u.join("")},Li.prototype.resolve=function(u){const y=Yr(this);let I=!!u.j;I?to(y,u.j):I=!!u.o,I?y.o=u.o:I=!!u.g,I?y.g=u.g:I=u.u!=null;var O=u.h;if(I)Es(y,u.u);else if(I=!!u.h){if(O.charAt(0)!="/")if(this.g&&!this.h)O="/"+O;else{var J=y.h.lastIndexOf("/");J!=-1&&(O=y.h.slice(0,J+1)+O)}if(J=O,J==".."||J==".")O="";else if(J.indexOf("./")!=-1||J.indexOf("/.")!=-1){O=J.lastIndexOf("/",0)==0,J=J.split("/");const re=[];for(let we=0;we<J.length;){const Fe=J[we++];Fe=="."?O&&we==J.length&&re.push(""):Fe==".."?((re.length>1||re.length==1&&re[0]!="")&&re.pop(),O&&we==J.length&&re.push("")):(re.push(Fe),O=!0)}O=re.join("/")}else O=J}return I?y.h=O:I=u.i.toString()!=="",I?ou(y,Uo(u.i)):I=!!u.m,I&&(y.m=u.m),y};function Yr(u){return new Li(u)}function to(u,y,I){u.j=I?Yn(y,!0):y,u.j&&(u.j=u.j.replace(/:$/,""))}function Es(u,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);u.u=y}else u.u=null}function ou(u,y,I){y instanceof Ts?(u.i=y,pr(u.i,u.l)):(I||(y=As(y,kc)),u.i=new Ts(y,u.l))}function kt(u,y,I){u.i.set(y,I)}function Ss(u){return kt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Yn(u,y){return u?y?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function As(u,y,I){return typeof u=="string"?(u=encodeURI(u).replace(y,Pc),I&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Pc(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Nc=/[#\/\?@]/g,Cc=/[#\?:]/g,jd=/[#\?]/g,kc=/[#\?@]/g,Bd=/#/g;function Ts(u,y){this.h=this.g=null,this.i=u||null,this.j=!!y}function xs(u){u.g||(u.g=new Map,u.h=0,u.i&&xn(u.i,function(y,I){u.add(decodeURIComponent(y.replace(/\+/g," ")),I)}))}n=Ts.prototype,n.add=function(u,y){xs(this),this.i=null,u=Ps(this,u);let I=this.g.get(u);return I||this.g.set(u,I=[]),I.push(y),this.h+=1,this};function Rc(u,y){xs(u),y=Ps(u,y),u.g.has(y)&&(u.i=null,u.h-=u.g.get(y).length,u.g.delete(y))}function Lc(u,y){return xs(u),y=Ps(u,y),u.g.has(y)}n.forEach=function(u,y){xs(this),this.g.forEach(function(I,O){I.forEach(function(J){u.call(y,J,O,this)},this)},this)};function Xi(u,y){xs(u);let I=[];if(typeof y=="string")Lc(u,y)&&(I=I.concat(u.g.get(Ps(u,y))));else for(u=Array.from(u.g.values()),y=0;y<u.length;y++)I=I.concat(u[y]);return I}n.set=function(u,y){return xs(this),this.i=null,u=Ps(this,u),Lc(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[y]),this.h+=1,this},n.get=function(u,y){return u?(u=Xi(this,u),u.length>0?String(u[0]):y):y};function Bo(u,y,I){Rc(u,y),I.length>0&&(u.i=null,u.g.set(Ps(u,y),g(I)),u.h+=I.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],y=Array.from(this.g.keys());for(let O=0;O<y.length;O++){var I=y[O];const J=sr(I);I=Xi(this,I);for(let re=0;re<I.length;re++){let we=J;I[re]!==""&&(we+="="+sr(I[re])),u.push(we)}}return this.i=u.join("&")};function Uo(u){const y=new Ts;return y.i=u.i,u.g&&(y.g=new Map(u.g),y.h=u.h),y}function Ps(u,y){return y=String(y),u.j&&(y=y.toLowerCase()),y}function pr(u,y){y&&!u.j&&(xs(u),u.i=null,u.g.forEach(function(I,O){const J=O.toLowerCase();O!=J&&(Rc(this,O),Bo(this,J,I))},u)),u.j=y}function Ud(u,y){const I=new rn;if(o.Image){const O=new Image;O.onload=d(ut,I,"TestLoadImage: loaded",!0,y,O),O.onerror=d(ut,I,"TestLoadImage: error",!1,y,O),O.onabort=d(ut,I,"TestLoadImage: abort",!1,y,O),O.ontimeout=d(ut,I,"TestLoadImage: timeout",!1,y,O),o.setTimeout(function(){O.ontimeout&&O.ontimeout()},1e4),O.src=u}else y(!1)}function Dc(u,y){const I=new rn,O=new AbortController,J=setTimeout(()=>{O.abort(),ut(I,"TestPingServer: timeout",!1,y)},1e4);fetch(u,{signal:O.signal}).then(re=>{clearTimeout(J),re.ok?ut(I,"TestPingServer: ok",!0,y):ut(I,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(J),ut(I,"TestPingServer: error",!1,y)})}function ut(u,y,I,O,J){try{J&&(J.onload=null,J.onerror=null,J.onabort=null,J.ontimeout=null),O(I)}catch{}}function zd(){this.g=new Ke}function au(u){this.i=u.Sb||null,this.h=u.ab||!1}f(au,ln),au.prototype.g=function(){return new Jr(this.i,this.h)};function Jr(u,y){De.call(this),this.H=u,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}f(Jr,De),n=Jr.prototype,n.open=function(u,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=y,this.readyState=1,Zi(this)},n.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(y.body=u),(this.H||o).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,no(this)),this.readyState=0},n.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Zi(this)),this.g&&(this.readyState=3,Zi(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;lu(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function lu(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}n.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var y=u.value?u.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!u.done}))&&(this.response=this.responseText+=y)}u.done?no(this):Zi(this),this.readyState==3&&lu(this)}},n.Oa=function(u){this.g&&(this.response=this.responseText=u,no(this))},n.Na=function(u){this.g&&(this.response=u,no(this))},n.ga=function(){this.g&&no(this)};function no(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Zi(u)}n.setRequestHeader=function(u,y){this.A.append(u,y)},n.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],y=this.h.entries();for(var I=y.next();!I.done;)I=I.value,u.push(I[0]+": "+I[1]),I=y.next();return u.join(`\r
`)};function Zi(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Jr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function ka(u){let y="";return Y(u,function(I,O){y+=O,y+=":",y+=I,y+=`\r
`}),y}function uu(u,y,I){e:{for(O in I){var O=!1;break e}O=!0}O||(I=ka(I),typeof u=="string"?I!=null&&sr(I):kt(u,y,I))}function un(u){De.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}f(un,De);var qd=/^https?$/i,cu=["POST","PUT"];n=un.prototype,n.Fa=function(u){this.H=u},n.ea=function(u,y,I,O){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);y=y?y.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Dn.g(),this.g.onreadystatechange=p(c(this.Ca,this));try{this.B=!0,this.g.open(y,String(u),!0),this.B=!1}catch(re){ro(this,re);return}if(u=I||"",I=new Map(this.headers),O)if(Object.getPrototypeOf(O)===Object.prototype)for(var J in O)I.set(J,O[J]);else if(typeof O.keys=="function"&&typeof O.get=="function")for(const re of O.keys())I.set(re,O.get(re));else throw Error("Unknown input type for opt_headers: "+String(O));O=Array.from(I.keys()).find(re=>re.toLowerCase()=="content-type"),J=o.FormData&&u instanceof o.FormData,!(Array.prototype.indexOf.call(cu,y,void 0)>=0)||O||J||I.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[re,we]of I)this.g.setRequestHeader(re,we);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(re){ro(this,re)}};function ro(u,y){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=y,u.o=5,Ns(u),es(u)}function Ns(u){u.A||(u.A=!0,je(u,"complete"),je(u,"error"))}n.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,je(this,"complete"),je(this,"abort"),es(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),es(this,!0)),un.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?Oc(this):this.Xa())},n.Xa=function(){Oc(this)};function Oc(u){if(u.h&&typeof s<"u"){if(u.v&&yi(u)==4)setTimeout(u.Ca.bind(u),0);else if(je(u,"readystatechange"),yi(u)==4){u.h=!1;try{const re=u.ca();e:switch(re){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var I;if(!(I=y)){var O;if(O=re===0){let we=String(u.D).match(xc)[1]||null;!we&&o.self&&o.self.location&&(we=o.self.location.protocol.slice(0,-1)),O=!qd.test(we?we.toLowerCase():"")}I=O}if(I)je(u,"complete"),je(u,"success");else{u.o=6;try{var J=yi(u)>2?u.g.statusText:""}catch{J=""}u.l=J+" ["+u.ca()+"]",Ns(u)}}finally{es(u)}}}}function es(u,y){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const I=u.g;u.g=null,y||je(u,"ready");try{I.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function yi(u){return u.g?u.g.readyState:0}n.ca=function(){try{return yi(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(u){if(this.g){var y=this.g.responseText;return u&&y.indexOf(u)==0&&(y=y.substring(u.length)),xt(y)}};function zo(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Fc(u){const y={};u=(u.g&&yi(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let O=0;O<u.length;O++){if(L(u[O]))continue;var I=Ta(u[O]);const J=I[0];if(I=I[1],typeof I!="string")continue;I=I.trim();const re=y[J]||[];y[J]=re,re.push(I)}oe(y,function(O){return O.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function io(u,y,I){return I&&I.internalChannelParams&&I.internalChannelParams[u]||y}function hu(u){this.za=0,this.i=[],this.j=new rn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=io("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=io("baseRetryDelayMs",5e3,u),this.Za=io("retryDelaySeedMs",1e4,u),this.Ta=io("forwardChannelMaxRetries",2,u),this.va=io("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new iu(u&&u.concurrentRequestLimit),this.Ba=new zd,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=hu.prototype,n.ka=8,n.I=1,n.connect=function(u,y,I,O){vt(0),this.W=u,this.H=y||{},I&&O!==void 0&&(this.H.OSID=I,this.H.OAID=O),this.F=this.X,this.J=pu(this,null,this.W),La(this)};function Ra(u){if(ts(u),u.I==3){var y=u.V++,I=Yr(u.J);if(kt(I,"SID",u.M),kt(I,"RID",y),kt(I,"TYPE","terminate"),Cs(u,I),y=new fr(u,u.j,y),y.M=2,y.A=Ss(Yr(I)),I=!1,o.navigator&&o.navigator.sendBeacon)try{I=o.navigator.sendBeacon(y.A.toString(),"")}catch{}!I&&o.Image&&(new Image().src=y.A,I=!0),I||(y.g=Vc(y.j,null),y.g.ea(y.A)),y.F=Date.now(),bs(y)}Oa(u)}function Xr(u){u.g&&(du(u),u.g.cancel(),u.g=null)}function ts(u){Xr(u),u.v&&(o.clearTimeout(u.v),u.v=null),lo(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&o.clearTimeout(u.m),u.m=null)}function La(u){if(!Ac(u.h)&&!u.m){u.m=!0;var y=u.Ea;B||A(),U||(B(),U=!0),N.add(y,u),u.D=0}}function so(u,y){return Na(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=y.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=wt(c(u.Ea,u,y),qo(u,u.D)),u.D++,!0)}n.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const J=new fr(this,this.j,u);let re=this.o;if(this.U&&(re?(re=me(re),W(re,this.U)):re=this.U),this.u!==null||this.R||(J.J=re,re=null),this.S)e:{for(var y=0,I=0;I<this.i.length;I++){t:{var O=this.i[I];if("__data__"in O.map&&(O=O.map.__data__,typeof O=="string")){O=O.length;break t}O=void 0}if(O===void 0)break;if(y+=O,y>4096){y=I;break e}if(y===4096||I===this.i.length-1){y=I+1;break e}}y=1e3}else y=1e3;y=oo(this,J,y),I=Yr(this.J),kt(I,"RID",u),kt(I,"CVER",22),this.G&&kt(I,"X-HTTP-Session-Id",this.G),Cs(this,I),re&&(this.R?y="headers="+sr(ka(re))+"&"+y:this.u&&uu(I,this.u,re)),Ca(this.h,J),this.Ra&&kt(I,"TYPE","init"),this.S?(kt(I,"$req",y),kt(I,"SID","null"),J.U=!0,gi(J,I,null)):gi(J,I,y),this.I=2}}else this.I==3&&(u?vi(this,u):this.i.length==0||Ac(this.h)||vi(this))};function vi(u,y){var I;y?I=y.l:I=u.V++;const O=Yr(u.J);kt(O,"SID",u.M),kt(O,"RID",I),kt(O,"AID",u.K),Cs(u,O),u.u&&u.o&&uu(O,u.u,u.o),I=new fr(u,u.j,I,u.D+1),u.u===null&&(I.J=u.o),y&&(u.i=y.G.concat(u.i)),y=oo(u,I,1e3),I.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Ca(u.h,I),gi(I,O,y)}function Cs(u,y){u.H&&Y(u.H,function(I,O){kt(y,O,I)}),u.l&&Y({},function(I,O){kt(y,O,I)})}function oo(u,y,I){I=Math.min(u.i.length,I);const O=u.l?c(u.l.Ka,u.l,u):null;e:{var J=u.i;let Fe=-1;for(;;){const nt=["count="+I];Fe==-1?I>0?(Fe=J[0].g,nt.push("ofs="+Fe)):Fe=0:nt.push("ofs="+Fe);let Ye=!0;for(let dt=0;dt<I;dt++){var re=J[dt].g;const jt=J[dt].map;if(re-=Fe,re<0)Fe=Math.max(0,J[dt].g-100),Ye=!1;else try{re="req"+re+"_"||"";try{var we=jt instanceof Map?jt:Object.entries(jt);for(const[Ht,Kt]of we){let mn=Kt;a(Kt)&&(mn=ht(Kt)),nt.push(re+Ht+"="+encodeURIComponent(mn))}}catch(Ht){throw nt.push(re+"type="+encodeURIComponent("_badmap")),Ht}}catch{O&&O(jt)}}if(Ye){we=nt.join("&");break e}}we=void 0}return u=u.i.splice(0,I),y.G=u,we}function Mc(u){if(!u.g&&!u.v){u.Y=1;var y=u.Da;B||A(),U||(B(),U=!0),N.add(y,u),u.A=0}}function ao(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=wt(c(u.Da,u),qo(u,u.A)),u.A++,!0)}n.Da=function(){if(this.v=null,Da(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=wt(c(this.Wa,this),u)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,vt(10),Xr(this),Da(this))};function du(u){u.B!=null&&(o.clearTimeout(u.B),u.B=null)}function Da(u){u.g=new fr(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var y=Yr(u.na);kt(y,"RID","rpc"),kt(y,"SID",u.M),kt(y,"AID",u.K),kt(y,"CI",u.F?"0":"1"),!u.F&&u.ia&&kt(y,"TO",u.ia),kt(y,"TYPE","xmlhttp"),Cs(u,y),u.u&&u.o&&uu(y,u.u,u.o),u.O&&(u.g.H=u.O);var I=u.g;u=u.ba,I.M=1,I.A=Ss(Yr(y)),I.u=null,I.R=!0,Qr(I,u)}n.Va=function(){this.C!=null&&(this.C=null,Xr(this),ao(this),vt(19))};function lo(u){u.C!=null&&(o.clearTimeout(u.C),u.C=null)}function fu(u,y){var I=null;if(u.g==y){lo(u),du(u),u.g=null;var O=2}else if(su(u.h,y))I=y.G,Tc(u.h,y),O=1;else return;if(u.I!=0){if(y.o)if(O==1){I=y.u?y.u.length:0,y=Date.now()-y.F;var J=u.D;O=Nt(),je(O,new it(O,I)),La(u)}else Mc(u);else if(J=y.m,J==3||J==0&&y.X>0||!(O==1&&so(u,y)||O==2&&ao(u)))switch(I&&I.length>0&&(y=u.h,y.i=y.i.concat(I)),J){case 1:Di(u,5);break;case 4:Di(u,10);break;case 3:Di(u,6);break;default:Di(u,2)}}}function qo(u,y){let I=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(I*=2),I*y}function Di(u,y){if(u.j.info("Error code "+y),y==2){var I=c(u.bb,u),O=u.Ua;const J=!O;O=new Li(O||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||to(O,"https"),Ss(O),J?Ud(O.toString(),I):Dc(O.toString(),I)}else vt(2);u.I=0,u.l&&u.l.pa(y),Oa(u),ts(u)}n.bb=function(u){u?(this.j.info("Successfully pinged google.com"),vt(2)):(this.j.info("Failed to ping google.com"),vt(1))};function Oa(u){if(u.I=0,u.ja=[],u.l){const y=jo(u.h);(y.length!=0||u.i.length!=0)&&(S(u.ja,y),S(u.ja,u.i),u.h.i.length=0,g(u.i),u.i.length=0),u.l.oa()}}function pu(u,y,I){var O=I instanceof Li?Yr(I):new Li(I);if(O.g!="")y&&(O.g=y+"."+O.g),Es(O,O.u);else{var J=o.location;O=J.protocol,y=y?y+"."+J.hostname:J.hostname,J=+J.port;const re=new Li(null);O&&to(re,O),y&&(re.g=y),J&&Es(re,J),I&&(re.h=I),O=re}return I=u.G,y=u.wa,I&&y&&kt(O,I,y),kt(O,"VER",u.ka),Cs(u,O),O}function Vc(u,y,I){if(y&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=u.Aa&&!u.ma?new un(new au({ab:I})):new un(u.ma),y.Fa(u.L),y}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function $o(){}n=$o.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function ns(){}ns.prototype.g=function(u,y){return new or(u,y)};function or(u,y){De.call(this),this.g=new hu(y),this.l=u,this.h=y&&y.messageUrlParams||null,u=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(u?u["X-WebChannel-Content-Type"]=y.messageContentType:u={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(u?u["X-WebChannel-Client-Profile"]=y.sa:u={"X-WebChannel-Client-Profile":y.sa}),this.g.U=u,(u=y&&y.Qb)&&!L(u)&&(this.g.u=u),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!L(y)&&(this.g.G=y,u=this.h,u!==null&&y in u&&(u=this.h,y in u&&delete u[y])),this.j=new v(this)}f(or,De),or.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},or.prototype.close=function(){Ra(this.g)},or.prototype.o=function(u){var y=this.g;if(typeof u=="string"){var I={};I.__data__=u,u=I}else this.v&&(I={},I.__data__=ht(u),u=I);y.i.push(new Pa(y.Ya++,u)),y.I==3&&La(y)},or.prototype.N=function(){this.g.l=null,delete this.j,Ra(this.g),delete this.g,or.Z.N.call(this)};function ks(u){pe.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var y=u.__sm__;if(y){e:{for(const I in y){u=I;break e}u=void 0}(this.i=u)&&(u=this.i,y=y!==null&&u in y?y[u]:void 0),this.data=y}else this.data=u}f(ks,pe);function Fa(){ke.call(this),this.status=1}f(Fa,ke);function v(u){this.g=u}f(v,$o),v.prototype.ra=function(){je(this.g,"a")},v.prototype.qa=function(u){je(this.g,new ks(u))},v.prototype.pa=function(u){je(this.g,new Fa)},v.prototype.oa=function(){je(this.g,"b")},ns.prototype.createWebChannel=ns.prototype.g,or.prototype.send=or.prototype.o,or.prototype.open=or.prototype.m,or.prototype.close=or.prototype.close,AN=function(){return new ns},SN=function(){return Nt()},EN=Be,m_={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ir.NO_ERROR=0,Ir.TIMEOUT=8,Ir.HTTP_ERROR=6,r1=Ir,Er.COMPLETE="complete",IN=Er,Ct.EventType=ir,ir.OPEN="a",ir.CLOSE="b",ir.ERROR="c",ir.MESSAGE="d",De.prototype.listen=De.prototype.J,Ff=Ct,un.prototype.listenOnce=un.prototype.K,un.prototype.getLastError=un.prototype.Ha,un.prototype.getLastErrorCode=un.prototype.ya,un.prototype.getStatus=un.prototype.ca,un.prototype.getResponseJson=un.prototype.La,un.prototype.getResponseText=un.prototype.la,un.prototype.send=un.prototype.ea,un.prototype.setWithCredentials=un.prototype.Fa,bN=un}).apply(typeof Rg<"u"?Rg:typeof self<"u"?self:typeof window<"u"?window:{});const jS="@firebase/firestore",BS="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}_r.UNAUTHENTICATED=new _r(null),_r.GOOGLE_CREDENTIALS=new _r("google-credentials-uid"),_r.FIRST_PARTY=new _r("first-party-uid"),_r.MOCK_USER=new _r("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kd="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vl=new V0("@firebase/firestore");function dh(){return Vl.logLevel}function XU(n){Vl.setLogLevel(n)}function Ne(n,...e){if(Vl.logLevel<=Rt.DEBUG){const t=e.map(P5);Vl.debug(`Firestore (${kd}): ${n}`,...t)}}function Gn(n,...e){if(Vl.logLevel<=Rt.ERROR){const t=e.map(P5);Vl.error(`Firestore (${kd}): ${n}`,...t)}}function Do(n,...e){if(Vl.logLevel<=Rt.WARN){const t=e.map(P5);Vl.warn(`Firestore (${kd}): ${n}`,...t)}}function P5(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Je(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,TN(n,r,t)}function TN(n,e,t){let r=`FIRESTORE (${kd}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw Gn(r),new Error(r)}function rt(n,e,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,n||TN(e,i,r)}function ZU(n,e){n||Je(57014,e)}function Ge(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const be={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class xe extends li{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xN{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ez{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(_r.UNAUTHENTICATED))}shutdown(){}}class tz{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class nz{constructor(e){this.t=e,this.currentUser=_r.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){rt(this.o===void 0,42304);let r=this.i;const i=l=>this.i!==r?(r=this.i,t(l)):Promise.resolve();let s=new Cr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Cr,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{Ne("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(Ne("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Cr)}},0),o()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Ne("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(rt(typeof r.accessToken=="string",31837,{l:r}),new xN(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return rt(e===null||typeof e=="string",2055,{h:e}),new _r(e)}}class rz{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=_r.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class iz{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new rz(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(_r.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class US{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class sz{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Sn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){rt(this.o===void 0,3512);const r=s=>{s.error!=null&&Ne("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.m;return this.m=s.token,Ne("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{Ne("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):Ne("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new US(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(rt(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new US(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oz(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N5{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=oz(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+=e.charAt(i[s]%62))}return r}}function bt(n,e){return n<e?-1:n>e?1:0}function g_(n,e){const t=Math.min(n.length,e.length);for(let r=0;r<t;r++){const i=n.charAt(r),s=e.charAt(r);if(i!==s)return Mv(i)===Mv(s)?bt(i,s):Mv(i)?1:-1}return bt(n.length,e.length)}const az=55296,lz=57343;function Mv(n){const e=n.charCodeAt(0);return e>=az&&e<=lz}function ed(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function PN(n){return n+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zS="__name__";class mo{constructor(e,t,r){t===void 0?t=0:t>e.length&&Je(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&Je(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return mo.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof mo?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const s=mo.compareSegments(e.get(i),t.get(i));if(s!==0)return s}return bt(e.length,t.length)}static compareSegments(e,t){const r=mo.isNumericId(e),i=mo.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?mo.extractNumericId(e).compare(mo.extractNumericId(t)):g_(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return xl.fromString(e.substring(4,e.length-2))}}class Lt extends mo{construct(e,t,r){return new Lt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new xe(be.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new Lt(t)}static emptyPath(){return new Lt([])}}const uz=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class An extends mo{construct(e,t,r){return new An(e,t,r)}static isValidIdentifier(e){return uz.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),An.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===zS}static keyField(){return new An([zS])}static fromServerFormat(e){const t=[];let r="",i=0;const s=()=>{if(r.length===0)throw new xe(be.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new xe(be.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new xe(be.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new xe(be.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new An(t)}static emptyPath(){return new An([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e{constructor(e){this.path=e}static fromPath(e){return new $e(Lt.fromString(e))}static fromName(e){return new $e(Lt.fromString(e).popFirst(5))}static empty(){return new $e(Lt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Lt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Lt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new $e(new Lt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C5(n,e,t){if(!t)throw new xe(be.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function NN(n,e,t,r){if(e===!0&&r===!0)throw new xe(be.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function qS(n){if(!$e.isDocumentKey(n))throw new xe(be.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function $S(n){if($e.isDocumentKey(n))throw new xe(be.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function CN(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Y0(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Je(12329,{type:typeof n})}function $t(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new xe(be.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Y0(n);throw new xe(be.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function kN(n,e){if(e<=0)throw new xe(be.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nr(n,e){const t={typeString:n};return e&&(t.value=e),t}function Im(n,e){if(!CN(n))throw new xe(be.INVALID_ARGUMENT,"JSON must be an object");let t;for(const r in e)if(e[r]){const i=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}const o=n[r];if(i&&typeof o!==i){t=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&o!==s.value){t=`Expected '${r}' field to equal '${s.value}'`;break}}if(t)throw new xe(be.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WS=-62135596800,HS=1e6;class Gt{static now(){return Gt.fromMillis(Date.now())}static fromDate(e){return Gt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*HS);return new Gt(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new xe(be.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new xe(be.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<WS)throw new xe(be.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new xe(be.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/HS}_compareTo(e){return this.seconds===e.seconds?bt(this.nanoseconds,e.nanoseconds):bt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Gt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Im(e,Gt._jsonSchema))return new Gt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-WS;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Gt._jsonSchemaVersion="firestore/timestamp/1.0",Gt._jsonSchema={type:nr("string",Gt._jsonSchemaVersion),seconds:nr("number"),nanoseconds:nr("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{static fromTimestamp(e){return new ot(e)}static min(){return new ot(new Gt(0,0))}static max(){return new ot(new Gt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const td=-1;class X1{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function y_(n){return n.fields.find(e=>e.kind===2)}function Pu(n){return n.fields.filter(e=>e.kind!==2)}X1.UNKNOWN_ID=-1;class i1{constructor(e,t){this.fieldPath=e,this.kind=t}}class $p{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new $p(0,Ki.min())}}function RN(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=ot.fromTimestamp(r===1e9?new Gt(t+1,0):new Gt(t,r));return new Ki(i,$e.empty(),e)}function LN(n){return new Ki(n.readTime,n.key,td)}class Ki{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Ki(ot.min(),$e.empty(),td)}static max(){return new Ki(ot.max(),$e.empty(),td)}}function k5(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=$e.comparator(n.documentKey,e.documentKey),t!==0?t:bt(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ON{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xl(n){if(n.code!==be.FAILED_PRECONDITION||n.message!==DN)throw n;Ne("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Je(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ye((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ye?t:ye.resolve(t)}catch(t){return ye.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ye.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ye.reject(t)}static resolve(e){return new ye((t,r)=>{t(e)})}static reject(e){return new ye((t,r)=>{r(e)})}static waitFor(e){return new ye((t,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&t()},l=>r(l))}),o=!0,s===i&&t()})}static or(e){let t=ye.resolve(!1);for(const r of e)t=t.next(i=>i?ye.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,s)=>{r.push(t.call(this,i,s))}),this.waitFor(r)}static mapArray(e,t){return new ye((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const c=l;t(e[c]).next(d=>{o[c]=d,++a,a===s&&r(o)},d=>i(d))}})}static doWhile(e,t){return new ye((r,i)=>{const s=()=>{e()===!0?t().next(()=>{s()},i):r()};s()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bi="SimpleDb";class J0{static open(e,t,r,i){try{return new J0(t,e.transaction(i,r))}catch(s){throw new ap(t,s)}}constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.S=new Cr,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{t.error?this.S.reject(new ap(e,t.error)):this.S.resolve()},this.transaction.onerror=r=>{const i=R5(r.target.error);this.S.reject(new ap(e,i))}}get D(){return this.S.promise}abort(e){e&&this.S.reject(e),this.aborted||(Ne(Bi,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}C(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const t=this.transaction.objectStore(e);return new hz(t)}}class No{static delete(e){return Ne(Bi,"Removing database:",e),ku(Zw().indexedDB.deleteDatabase(e)).toPromise()}static v(){if(!Mp())return!1;if(No.F())return!0;const e=Rn(),t=No.M(e),r=0<t&&t<10,i=FN(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static F(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)==null?void 0:e.__PRIVATE_USE_MOCK_PERSISTENCE)==="YES"}static O(e,t){return e.store(t)}static M(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}constructor(e,t,r){this.name=e,this.version=t,this.N=r,this.B=null,No.M(Rn())===12.2&&Gn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async L(e){return this.db||(Ne(Bi,"Opening database:",this.name),this.db=await new Promise((t,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{const o=s.target.result;t(o)},i.onblocked=()=>{r(new ap(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{const o=s.target.error;o.name==="VersionError"?r(new xe(be.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?r(new xe(be.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):r(new ap(e,o))},i.onupgradeneeded=s=>{Ne(Bi,'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);const o=s.target.result;this.N.k(o,i.transaction,s.oldVersion,this.version).next(()=>{Ne(Bi,"Database upgrade to version "+this.version+" complete")})}})),this.q&&(this.db.onversionchange=t=>this.q(t)),this.db}$(e){this.q=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,r,i){const s=t==="readonly";let o=0;for(;;){++o;try{this.db=await this.L(e);const a=J0.open(this.db,e,s?"readonly":"readwrite",r),l=i(a).next(c=>(a.C(),c)).catch(c=>(a.abort(c),ye.reject(c))).toPromise();return l.catch(()=>{}),await a.D,l}catch(a){const l=a,c=l.name!=="FirebaseError"&&o<3;if(Ne(Bi,"Transaction failed with error:",l.message,"Retrying:",c),this.close(),!c)return Promise.reject(l)}}}close(){this.db&&this.db.close(),this.db=void 0}}function FN(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}class cz{constructor(e){this.U=e,this.K=!1,this.W=null}get isDone(){return this.K}get G(){return this.W}set cursor(e){this.U=e}done(){this.K=!0}j(e){this.W=e}delete(){return ku(this.U.delete())}}class ap extends xe{constructor(e,t){super(be.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Zl(n){return n.name==="IndexedDbTransactionError"}class hz{constructor(e){this.store=e}put(e,t){let r;return t!==void 0?(Ne(Bi,"PUT",this.store.name,e,t),r=this.store.put(t,e)):(Ne(Bi,"PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),ku(r)}add(e){return Ne(Bi,"ADD",this.store.name,e,e),ku(this.store.add(e))}get(e){return ku(this.store.get(e)).next(t=>(t===void 0&&(t=null),Ne(Bi,"GET",this.store.name,e,t),t))}delete(e){return Ne(Bi,"DELETE",this.store.name,e),ku(this.store.delete(e))}count(){return Ne(Bi,"COUNT",this.store.name),ku(this.store.count())}J(e,t){const r=this.options(e,t),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const s=i.getAll(r.range);return new ye((o,a)=>{s.onerror=l=>{a(l.target.error)},s.onsuccess=l=>{o(l.target.result)}})}{const s=this.cursor(r),o=[];return this.H(s,(a,l)=>{o.push(l)}).next(()=>o)}}Y(e,t){const r=this.store.getAll(e,t===null?void 0:t);return new ye((i,s)=>{r.onerror=o=>{s(o.target.error)},r.onsuccess=o=>{i(o.target.result)}})}Z(e,t){Ne(Bi,"DELETE ALL",this.store.name);const r=this.options(e,t);r.X=!1;const i=this.cursor(r);return this.H(i,(s,o,a)=>a.delete())}ee(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.H(i,t)}te(e){const t=this.cursor({});return new ye((r,i)=>{t.onerror=s=>{const o=R5(s.target.error);i(o)},t.onsuccess=s=>{const o=s.target.result;o?e(o.primaryKey,o.value).next(a=>{a?o.continue():r()}):r()}})}H(e,t){const r=[];return new ye((i,s)=>{e.onerror=o=>{s(o.target.error)},e.onsuccess=o=>{const a=o.target.result;if(!a)return void i();const l=new cz(a),c=t(a.primaryKey,a.value,l);if(c instanceof ye){const d=c.catch(f=>(l.done(),ye.reject(f)));r.push(d)}l.isDone?i():l.G===null?a.continue():a.continue(l.G)}}).next(()=>ye.waitFor(r))}options(e,t){let r;return e!==void 0&&(typeof e=="string"?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.X?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function ku(n){return new ye((e,t)=>{n.onsuccess=r=>{const i=r.target.result;e(i)},n.onerror=r=>{const i=R5(r.target.error);t(i)}})}let GS=!1;function R5(n){const e=No.M(Rn());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new xe("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return GS||(GS=!0,setTimeout(()=>{throw r},0)),r}}return n}const lp="IndexBackfiller";class dz{constructor(e,t){this.asyncQueue=e,this.ne=t,this.task=null}start(){this.re(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}re(e){Ne(lp,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{const t=await this.ne.ie();Ne(lp,`Documents written: ${t}`)}catch(t){Zl(t)?Ne(lp,"Ignoring IndexedDB error during index backfill: ",t):await Xl(t)}await this.re(6e4)})}}class fz{constructor(e,t){this.localStore=e,this.persistence=t}async ie(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",t=>this.se(t,e))}se(e,t){const r=new Set;let i=t,s=!0;return ye.doWhile(()=>s===!0&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(o=>{if(o!==null&&!r.has(o))return Ne(lp,`Processing collection: ${o}`),this.oe(e,o,i).next(a=>{i-=a,r.add(o)});s=!1})).next(()=>t-i)}oe(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(i=>this.localStore.localDocuments.getNextDocuments(e,t,i,r).next(s=>{const o=s.changes;return this.localStore.indexManager.updateIndexEntries(e,o).next(()=>this._e(i,s)).next(a=>(Ne(lp,`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,t,a))).next(()=>o.size)}))}_e(e,t){let r=e;return t.changes.forEach((i,s)=>{const o=LN(s);k5(o,r)>0&&(r=o)}),new Ki(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>t.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Ti.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pl=-1;function Em(n){return n==null}function Wp(n){return n===0&&1/n==-1/0}function MN(n){return typeof n=="number"&&Number.isInteger(n)&&!Wp(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z1="";function Wr(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=KS(e)),e=pz(n.get(t),e);return KS(e)}function pz(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const s=n.charAt(i);switch(s){case"\0":t+="";break;case Z1:t+="";break;default:t+=s}}return t}function KS(n){return n+Z1+""}function So(n){const e=n.length;if(rt(e>=2,64408,{path:n}),e===2)return rt(n.charAt(0)===Z1&&n.charAt(1)==="",56145,{path:n}),Lt.emptyPath();const t=e-2,r=[];let i="";for(let s=0;s<e;){const o=n.indexOf(Z1,s);switch((o<0||o>t)&&Je(50515,{path:n}),n.charAt(o+1)){case"":const a=n.substring(s,o);let l;i.length===0?l=a:(i+=a,l=i,i=""),r.push(l);break;case"":i+=n.substring(s,o),i+="\0";break;case"":i+=n.substring(s,o+1);break;default:Je(61167,{path:n})}s=o+2}return new Lt(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nu="remoteDocuments",Sm="owner",ih="owner",Hp="mutationQueues",mz="userId",Bs="mutations",QS="batchId",Uu="userMutationsIndex",YS=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s1(n,e){return[n,Wr(e)]}function VN(n,e,t){return[n,Wr(e),t]}const gz={},nd="documentMutations",e0="remoteDocumentsV14",yz=["prefixPath","collectionGroup","readTime","documentId"],o1="documentKeyIndex",vz=["prefixPath","collectionGroup","documentId"],jN="collectionGroupIndex",_z=["collectionGroup","readTime","prefixPath","documentId"],Gp="remoteDocumentGlobal",v_="remoteDocumentGlobalKey",rd="targets",BN="queryTargetsIndex",wz=["canonicalId","targetId"],id="targetDocuments",bz=["targetId","path"],L5="documentTargetsIndex",Iz=["path","targetId"],t0="targetGlobalKey",Xu="targetGlobal",Kp="collectionParents",Ez=["collectionId","parent"],sd="clientMetadata",Sz="clientId",X0="bundles",Az="bundleId",Z0="namedQueries",Tz="name",D5="indexConfiguration",xz="indexId",__="collectionGroupIndex",Pz="collectionGroup",up="indexState",Nz=["indexId","uid"],UN="sequenceNumberIndex",Cz=["uid","sequenceNumber"],cp="indexEntries",kz=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],zN="documentKeyIndex",Rz=["indexId","uid","orderedDocumentKey"],ey="documentOverlays",Lz=["userId","collectionPath","documentId"],w_="collectionPathOverlayIndex",Dz=["userId","collectionPath","largestBatchId"],qN="collectionGroupOverlayIndex",Oz=["userId","collectionGroup","largestBatchId"],O5="globals",Fz="name",$N=[Hp,Bs,nd,Nu,rd,Sm,Xu,id,sd,Gp,Kp,X0,Z0],Mz=[...$N,ey],WN=[Hp,Bs,nd,e0,rd,Sm,Xu,id,sd,Gp,Kp,X0,Z0,ey],HN=WN,F5=[...HN,D5,up,cp],Vz=F5,GN=[...F5,O5],jz=GN;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b_ extends ON{constructor(e,t){super(),this.le=e,this.currentSequenceNumber=t}}function dr(n,e){const t=Ge(n);return No.O(t.le,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JS(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function eu(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function KN(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e,t){this.comparator=e,this.root=t||xr.EMPTY}insert(e,t){return new pn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,xr.BLACK,null,null))}remove(e){return new pn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,xr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Lg(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Lg(this.root,e,this.comparator,!1)}getReverseIterator(){return new Lg(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Lg(this.root,e,this.comparator,!0)}}class Lg{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class xr{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=r??xr.RED,this.left=i??xr.EMPTY,this.right=s??xr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new xr(e??this.key,t??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):s===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return xr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return xr.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,xr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,xr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Je(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Je(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Je(27949);return e+(this.isRed()?0:1)}}xr.EMPTY=null,xr.RED=!0,xr.BLACK=!1;xr.EMPTY=new class{constructor(){this.size=0}get key(){throw Je(57766)}get value(){throw Je(16141)}get color(){throw Je(16727)}get left(){throw Je(29726)}get right(){throw Je(36894)}copy(e,t,r,i,s){return this}insert(e,t,r){return new xr(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e){this.comparator=e,this.data=new pn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new XS(this.data.getIterator())}getIteratorFrom(e){return new XS(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof en)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new en(this.comparator);return t.data=e,t}}class XS{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function sh(n){return n.hasNext()?n.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi{constructor(e){this.fields=e,e.sort(An.comparator)}static empty(){return new xi([])}unionWith(e){let t=new en(An.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new xi(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ed(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QN extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bz(){return typeof atob<"u"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new QN("Invalid base64 string: "+s):s}}(e);return new Vn(t)}static fromUint8Array(e){const t=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new Vn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return bt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Vn.EMPTY_BYTE_STRING=new Vn("");const Uz=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ma(n){if(rt(!!n,39018),typeof n=="string"){let e=0;const t=Uz.exec(n);if(rt(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:In(n.seconds),nanos:In(n.nanos)}}function In(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function ga(n){return typeof n=="string"?Vn.fromBase64String(n):Vn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YN="server_timestamp",JN="__type__",XN="__previous_value__",ZN="__local_write_time__";function ty(n){var t,r;return((r=(((t=n==null?void 0:n.mapValue)==null?void 0:t.fields)||{})[JN])==null?void 0:r.stringValue)===YN}function ny(n){const e=n.mapValue.fields[XN];return ty(e)?ny(e):e}function Qp(n){const e=ma(n.mapValue.fields[ZN].timestampValue);return new Gt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zz{constructor(e,t,r,i,s,o,a,l,c,d){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c,this.isUsingEmulator=d}}const I_="(default)";class jl{constructor(e,t){this.projectId=e,this.database=t||I_}static empty(){return new jl("","")}get isDefaultDatabase(){return this.database===I_}isEqual(e){return e instanceof jl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M5="__type__",eC="__max__",pl={mapValue:{fields:{__type__:{stringValue:eC}}}},V5="__vector__",od="value",a1={nullValue:"NULL_VALUE"};function Bl(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?ty(n)?4:tC(n)?9007199254740991:ry(n)?10:11:Je(28295,{value:n})}function Oo(n,e){if(n===e)return!0;const t=Bl(n);if(t!==Bl(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Qp(n).isEqual(Qp(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=ma(i.timestampValue),a=ma(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,s){return ga(i.bytesValue).isEqual(ga(s.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,s){return In(i.geoPointValue.latitude)===In(s.geoPointValue.latitude)&&In(i.geoPointValue.longitude)===In(s.geoPointValue.longitude)}(n,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return In(i.integerValue)===In(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=In(i.doubleValue),a=In(s.doubleValue);return o===a?Wp(o)===Wp(a):isNaN(o)&&isNaN(a)}return!1}(n,e);case 9:return ed(n.arrayValue.values||[],e.arrayValue.values||[],Oo);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(JS(o)!==JS(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Oo(o[l],a[l])))return!1;return!0}(n,e);default:return Je(52216,{left:n})}}function Yp(n,e){return(n.values||[]).find(t=>Oo(t,e))!==void 0}function Ul(n,e){if(n===e)return 0;const t=Bl(n),r=Bl(e);if(t!==r)return bt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return bt(n.booleanValue,e.booleanValue);case 2:return function(s,o){const a=In(s.integerValue||s.doubleValue),l=In(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(n,e);case 3:return ZS(n.timestampValue,e.timestampValue);case 4:return ZS(Qp(n),Qp(e));case 5:return g_(n.stringValue,e.stringValue);case 6:return function(s,o){const a=ga(s),l=ga(o);return a.compareTo(l)}(n.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const d=bt(a[c],l[c]);if(d!==0)return d}return bt(a.length,l.length)}(n.referenceValue,e.referenceValue);case 8:return function(s,o){const a=bt(In(s.latitude),In(o.latitude));return a!==0?a:bt(In(s.longitude),In(o.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return eA(n.arrayValue,e.arrayValue);case 10:return function(s,o){var p,g,S,x;const a=s.fields||{},l=o.fields||{},c=(p=a[od])==null?void 0:p.arrayValue,d=(g=l[od])==null?void 0:g.arrayValue,f=bt(((S=c==null?void 0:c.values)==null?void 0:S.length)||0,((x=d==null?void 0:d.values)==null?void 0:x.length)||0);return f!==0?f:eA(c,d)}(n.mapValue,e.mapValue);case 11:return function(s,o){if(s===pl.mapValue&&o===pl.mapValue)return 0;if(s===pl.mapValue)return 1;if(o===pl.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),c=o.fields||{},d=Object.keys(c);l.sort(),d.sort();for(let f=0;f<l.length&&f<d.length;++f){const p=g_(l[f],d[f]);if(p!==0)return p;const g=Ul(a[l[f]],c[d[f]]);if(g!==0)return g}return bt(l.length,d.length)}(n.mapValue,e.mapValue);default:throw Je(23264,{he:t})}}function ZS(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return bt(n,e);const t=ma(n),r=ma(e),i=bt(t.seconds,r.seconds);return i!==0?i:bt(t.nanos,r.nanos)}function eA(n,e){const t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){const s=Ul(t[i],r[i]);if(s)return s}return bt(t.length,r.length)}function ad(n){return E_(n)}function E_(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=ma(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return ga(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return $e.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(const s of t.values||[])i?i=!1:r+=",",r+=E_(s);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${E_(t.fields[o])}`;return i+"}"}(n.mapValue):Je(61005,{value:n})}function l1(n){switch(Bl(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=ny(n);return e?16+l1(e):16;case 5:return 2*n.stringValue.length;case 6:return ga(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+l1(s),0)}(n.arrayValue);case 10:case 11:return function(r){let i=0;return eu(r.fields,(s,o)=>{i+=s.length+l1(o)}),i}(n.mapValue);default:throw Je(13486,{value:n})}}function ac(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function S_(n){return!!n&&"integerValue"in n}function Jp(n){return!!n&&"arrayValue"in n}function tA(n){return!!n&&"nullValue"in n}function nA(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function u1(n){return!!n&&"mapValue"in n}function ry(n){var t,r;return((r=(((t=n==null?void 0:n.mapValue)==null?void 0:t.fields)||{})[M5])==null?void 0:r.stringValue)===V5}function hp(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return eu(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=hp(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=hp(n.arrayValue.values[t]);return e}return{...n}}function tC(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===eC}const nC={mapValue:{fields:{[M5]:{stringValue:V5},[od]:{arrayValue:{}}}}};function qz(n){return"nullValue"in n?a1:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?ac(jl.empty(),$e.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?ry(n)?nC:{mapValue:{}}:Je(35942,{value:n})}function $z(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?ac(jl.empty(),$e.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?nC:"mapValue"in n?ry(n)?{mapValue:{}}:pl:Je(61959,{value:n})}function rA(n,e){const t=Ul(n.value,e.value);return t!==0?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function iA(n,e){const t=Ul(n.value,e.value);return t!==0?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr{constructor(e){this.value=e}static empty(){return new Pr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!u1(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=hp(t)}setAll(e){let t=An.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!t.isImmediateParentOf(a)){const l=this.getFieldsMap(t);this.applyChanges(l,r,i),r={},i=[],t=a.popLast()}o?r[a.lastSegment()]=hp(o):i.push(a.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,r,i)}delete(e){const t=this.field(e.popLast());u1(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Oo(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];u1(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){eu(t,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Pr(hp(this.value))}}function rC(n){const e=[];return eu(n.fields,(t,r)=>{const i=new An([t]);if(u1(r)){const s=rC(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new xi(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e,t,r,i,s,o,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new yn(e,0,ot.min(),ot.min(),ot.min(),Pr.empty(),0)}static newFoundDocument(e,t,r,i){return new yn(e,1,t,ot.min(),r,i,0)}static newNoDocument(e,t){return new yn(e,2,t,ot.min(),ot.min(),Pr.empty(),0)}static newUnknownDocument(e,t){return new yn(e,3,t,ot.min(),ot.min(),Pr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ot.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Pr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Pr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ot.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof yn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new yn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl{constructor(e,t){this.position=e,this.inclusive=t}}function sA(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const s=e[i],o=n.position[i];if(s.field.isKeyField()?r=$e.comparator($e.fromName(o.referenceValue),t.key):r=Ul(o,t.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function oA(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Oo(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xp{constructor(e,t="asc"){this.field=e,this.dir=t}}function Wz(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iC{}class Mt extends iC{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new Hz(e,t,r):t==="array-contains"?new Qz(e,r):t==="in"?new cC(e,r):t==="not-in"?new Yz(e,r):t==="array-contains-any"?new Jz(e,r):new Mt(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new Gz(e,r):new Kz(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Ul(t,this.value)):t!==null&&Bl(this.value)===Bl(t)&&this.matchesComparison(Ul(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Je(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Xt extends iC{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Xt(e,t)}matches(e){return ld(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function ld(n){return n.op==="and"}function A_(n){return n.op==="or"}function j5(n){return sC(n)&&ld(n)}function sC(n){for(const e of n.filters)if(e instanceof Xt)return!1;return!0}function T_(n){if(n instanceof Mt)return n.field.canonicalString()+n.op.toString()+ad(n.value);if(j5(n))return n.filters.map(e=>T_(e)).join(",");{const e=n.filters.map(t=>T_(t)).join(",");return`${n.op}(${e})`}}function oC(n,e){return n instanceof Mt?function(r,i){return i instanceof Mt&&r.op===i.op&&r.field.isEqual(i.field)&&Oo(r.value,i.value)}(n,e):n instanceof Xt?function(r,i){return i instanceof Xt&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&oC(o,i.filters[a]),!0):!1}(n,e):void Je(19439)}function aC(n,e){const t=n.filters.concat(e);return Xt.create(t,n.op)}function lC(n){return n instanceof Mt?function(t){return`${t.field.canonicalString()} ${t.op} ${ad(t.value)}`}(n):n instanceof Xt?function(t){return t.op.toString()+" {"+t.getFilters().map(lC).join(" ,")+"}"}(n):"Filter"}class Hz extends Mt{constructor(e,t,r){super(e,t,r),this.key=$e.fromName(r.referenceValue)}matches(e){const t=$e.comparator(e.key,this.key);return this.matchesComparison(t)}}class Gz extends Mt{constructor(e,t){super(e,"in",t),this.keys=uC("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Kz extends Mt{constructor(e,t){super(e,"not-in",t),this.keys=uC("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function uC(n,e){var t;return(((t=e.arrayValue)==null?void 0:t.values)||[]).map(r=>$e.fromName(r.referenceValue))}class Qz extends Mt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Jp(t)&&Yp(t.arrayValue,this.value)}}class cC extends Mt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Yp(this.value.arrayValue,t)}}class Yz extends Mt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Yp(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Yp(this.value.arrayValue,t)}}class Jz extends Mt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Jp(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Yp(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xz{constructor(e,t=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.Te=null}}function x_(n,e=null,t=[],r=[],i=null,s=null,o=null){return new Xz(n,e,t,r,i,s,o)}function lc(n){const e=Ge(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>T_(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Em(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>ad(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>ad(r)).join(",")),e.Te=t}return e.Te}function Am(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!Wz(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!oC(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!oA(n.startAt,e.startAt)&&oA(n.endAt,e.endAt)}function n0(n){return $e.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function r0(n,e){return n.filters.filter(t=>t instanceof Mt&&t.field.isEqual(e))}function aA(n,e,t){let r=a1,i=!0;for(const s of r0(n,e)){let o=a1,a=!0;switch(s.op){case"<":case"<=":o=qz(s.value);break;case"==":case"in":case">=":o=s.value;break;case">":o=s.value,a=!1;break;case"!=":case"not-in":o=a1}rA({value:r,inclusive:i},{value:o,inclusive:a})<0&&(r=o,i=a)}if(t!==null){for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(e)){const o=t.position[s];rA({value:r,inclusive:i},{value:o,inclusive:t.inclusive})<0&&(r=o,i=t.inclusive);break}}return{value:r,inclusive:i}}function lA(n,e,t){let r=pl,i=!0;for(const s of r0(n,e)){let o=pl,a=!0;switch(s.op){case">=":case">":o=$z(s.value),a=!1;break;case"==":case"in":case"<=":o=s.value;break;case"<":o=s.value,a=!1;break;case"!=":case"not-in":o=pl}iA({value:r,inclusive:i},{value:o,inclusive:a})>0&&(r=o,i=a)}if(t!==null){for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(e)){const o=t.position[s];iA({value:r,inclusive:i},{value:o,inclusive:t.inclusive})>0&&(r=o,i=t.inclusive);break}}return{value:r,inclusive:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia{constructor(e,t=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function hC(n,e,t,r,i,s,o,a){return new Ia(n,e,t,r,i,s,o,a)}function Rd(n){return new Ia(n)}function uA(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function B5(n){return n.collectionGroup!==null}function Bh(n){const e=Ge(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),t.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new en(An.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(s=>{t.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new Xp(s,r))}),t.has(An.keyField().canonicalString())||e.Ie.push(new Xp(An.keyField(),r))}return e.Ie}function ui(n){const e=Ge(n);return e.Ee||(e.Ee=Zz(e,Bh(n))),e.Ee}function Zz(n,e){if(n.limitType==="F")return x_(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Xp(i.field,s)});const t=n.endAt?new zl(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new zl(n.startAt.position,n.startAt.inclusive):null;return x_(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function P_(n,e){const t=n.filters.concat([e]);return new Ia(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function i0(n,e,t){return new Ia(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Tm(n,e){return Am(ui(n),ui(e))&&n.limitType===e.limitType}function dC(n){return`${lc(ui(n))}|lt:${n.limitType}`}function fh(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>lC(i)).join(", ")}]`),Em(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>ad(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>ad(i)).join(",")),`Target(${r})`}(ui(n))}; limitType=${n.limitType})`}function xm(n,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):$e.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(n,e)&&function(r,i){for(const s of Bh(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(n,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const c=sA(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,Bh(r),i)||r.endAt&&!function(o,a,l){const c=sA(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,Bh(r),i))}(n,e)}function fC(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function pC(n){return(e,t)=>{let r=!1;for(const i of Bh(n)){const s=eq(i,e,t);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function eq(n,e,t){const r=n.field.isKeyField()?$e.comparator(e.key,t.key):function(s,o,a){const l=o.data.field(s),c=a.data.field(s);return l!==null&&c!==null?Ul(l,c):Je(42886)}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Je(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){eu(this.inner,(t,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return KN(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tq=new pn($e.comparator);function Pi(){return tq}const mC=new pn($e.comparator);function Mf(...n){let e=mC;for(const t of n)e=e.insert(t.key,t);return e}function gC(n){let e=mC;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Ao(){return dp()}function yC(){return dp()}function dp(){return new Ea(n=>n.toString(),(n,e)=>n.isEqual(e))}const nq=new pn($e.comparator),rq=new en($e.comparator);function Tt(...n){let e=rq;for(const t of n)e=e.add(t);return e}const iq=new en(bt);function U5(){return iq}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z5(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Wp(e)?"-0":e}}function vC(n){return{integerValue:""+n}}function _C(n,e){return MN(e)?vC(e):z5(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iy{constructor(){this._=void 0}}function sq(n,e,t){return n instanceof ud?function(i,s){const o={fields:{[JN]:{stringValue:YN},[ZN]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&ty(s)&&(s=ny(s)),s&&(o.fields[XN]=s),{mapValue:o}}(t,e):n instanceof uc?bC(n,e):n instanceof cc?IC(n,e):function(i,s){const o=wC(i,s),a=cA(o)+cA(i.Ae);return S_(o)&&S_(i.Ae)?vC(a):z5(i.serializer,a)}(n,e)}function oq(n,e,t){return n instanceof uc?bC(n,e):n instanceof cc?IC(n,e):t}function wC(n,e){return n instanceof cd?function(r){return S_(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class ud extends iy{}class uc extends iy{constructor(e){super(),this.elements=e}}function bC(n,e){const t=EC(e);for(const r of n.elements)t.some(i=>Oo(i,r))||t.push(r);return{arrayValue:{values:t}}}class cc extends iy{constructor(e){super(),this.elements=e}}function IC(n,e){let t=EC(e);for(const r of n.elements)t=t.filter(i=>!Oo(i,r));return{arrayValue:{values:t}}}class cd extends iy{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function cA(n){return In(n.integerValue||n.doubleValue)}function EC(n){return Jp(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pm{constructor(e,t){this.field=e,this.transform=t}}function aq(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof uc&&i instanceof uc||r instanceof cc&&i instanceof cc?ed(r.elements,i.elements,Oo):r instanceof cd&&i instanceof cd?Oo(r.Ae,i.Ae):r instanceof ud&&i instanceof ud}(n.transform,e.transform)}class lq{constructor(e,t){this.version=e,this.transformResults=t}}class Tn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Tn}static exists(e){return new Tn(void 0,e)}static updateTime(e){return new Tn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function c1(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class sy{}function SC(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Dd(n.key,Tn.none()):new Ld(n.key,n.data,Tn.none());{const t=n.data,r=Pr.empty();let i=new en(An.comparator);for(let s of e.fields)if(!i.has(s)){let o=t.field(s);o===null&&s.length>1&&(s=s.popLast(),o=t.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Sa(n.key,r,new xi(i.toArray()),Tn.none())}}function uq(n,e,t){n instanceof Ld?function(i,s,o){const a=i.value.clone(),l=dA(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(n,e,t):n instanceof Sa?function(i,s,o){if(!c1(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=dA(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(AC(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(n,e,t):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,t)}function fp(n,e,t,r){return n instanceof Ld?function(s,o,a,l){if(!c1(s.precondition,o))return a;const c=s.value.clone(),d=fA(s.fieldTransforms,l,o);return c.setAll(d),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(n,e,t,r):n instanceof Sa?function(s,o,a,l){if(!c1(s.precondition,o))return a;const c=fA(s.fieldTransforms,l,o),d=o.data;return d.setAll(AC(s)),d.setAll(c),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(f=>f.field))}(n,e,t,r):function(s,o,a){return c1(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(n,e,t)}function cq(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),s=wC(r.transform,i||null);s!=null&&(t===null&&(t=Pr.empty()),t.set(r.field,s))}return t||null}function hA(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ed(r,i,(s,o)=>aq(s,o))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Ld extends sy{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Sa extends sy{constructor(e,t,r,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function AC(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function dA(n,e,t){const r=new Map;rt(n.length===t.length,32656,{Re:t.length,Ve:n.length});for(let i=0;i<t.length;i++){const s=n[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,oq(o,a,t[i]))}return r}function fA(n,e,t){const r=new Map;for(const i of n){const s=i.transform,o=t.data.field(i.field);r.set(i.field,sq(s,o,e))}return r}class Dd extends sy{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class q5 extends sy{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $5{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&uq(s,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=fp(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=fp(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=yC();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=t.has(i.key)?null:a;const l=SC(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(ot.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Tt())}isEqual(e){return this.batchId===e.batchId&&ed(this.mutations,e.mutations,(t,r)=>hA(t,r))&&ed(this.baseMutations,e.baseMutations,(t,r)=>hA(t,r))}}class W5{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){rt(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=function(){return nq}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new W5(e,t,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H5{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hq{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zn,Bt;function TC(n){switch(n){case be.OK:return Je(64938);case be.CANCELLED:case be.UNKNOWN:case be.DEADLINE_EXCEEDED:case be.RESOURCE_EXHAUSTED:case be.INTERNAL:case be.UNAVAILABLE:case be.UNAUTHENTICATED:return!1;case be.INVALID_ARGUMENT:case be.NOT_FOUND:case be.ALREADY_EXISTS:case be.PERMISSION_DENIED:case be.FAILED_PRECONDITION:case be.ABORTED:case be.OUT_OF_RANGE:case be.UNIMPLEMENTED:case be.DATA_LOSS:return!0;default:return Je(15467,{code:n})}}function xC(n){if(n===void 0)return Gn("GRPC error has no .code"),be.UNKNOWN;switch(n){case Zn.OK:return be.OK;case Zn.CANCELLED:return be.CANCELLED;case Zn.UNKNOWN:return be.UNKNOWN;case Zn.DEADLINE_EXCEEDED:return be.DEADLINE_EXCEEDED;case Zn.RESOURCE_EXHAUSTED:return be.RESOURCE_EXHAUSTED;case Zn.INTERNAL:return be.INTERNAL;case Zn.UNAVAILABLE:return be.UNAVAILABLE;case Zn.UNAUTHENTICATED:return be.UNAUTHENTICATED;case Zn.INVALID_ARGUMENT:return be.INVALID_ARGUMENT;case Zn.NOT_FOUND:return be.NOT_FOUND;case Zn.ALREADY_EXISTS:return be.ALREADY_EXISTS;case Zn.PERMISSION_DENIED:return be.PERMISSION_DENIED;case Zn.FAILED_PRECONDITION:return be.FAILED_PRECONDITION;case Zn.ABORTED:return be.ABORTED;case Zn.OUT_OF_RANGE:return be.OUT_OF_RANGE;case Zn.UNIMPLEMENTED:return be.UNIMPLEMENTED;case Zn.DATA_LOSS:return be.DATA_LOSS;default:return Je(39323,{code:n})}}(Bt=Zn||(Zn={}))[Bt.OK=0]="OK",Bt[Bt.CANCELLED=1]="CANCELLED",Bt[Bt.UNKNOWN=2]="UNKNOWN",Bt[Bt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Bt[Bt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Bt[Bt.NOT_FOUND=5]="NOT_FOUND",Bt[Bt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Bt[Bt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Bt[Bt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Bt[Bt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Bt[Bt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Bt[Bt.ABORTED=10]="ABORTED",Bt[Bt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Bt[Bt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Bt[Bt.INTERNAL=13]="INTERNAL",Bt[Bt.UNAVAILABLE=14]="UNAVAILABLE",Bt[Bt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PC(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dq=new xl([4294967295,4294967295],0);function pA(n){const e=PC().encode(n),t=new wN;return t.update(e),new Uint8Array(t.digest())}function mA(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new xl([t,r],0),new xl([i,s],0)]}class G5{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Vf(`Invalid padding: ${t}`);if(r<0)throw new Vf(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Vf(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Vf(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=xl.fromNumber(this.ge)}ye(e,t,r){let i=e.add(t.multiply(xl.fromNumber(r)));return i.compare(dq)===1&&(i=new xl([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=pA(e),[r,i]=mA(t);for(let s=0;s<this.hashCount;s++){const o=this.ye(r,i,s);if(!this.we(o))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new G5(s,i,t);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.ge===0)return;const t=pA(e),[r,i]=mA(t);for(let s=0;s<this.hashCount;s++){const o=this.ye(r,i,s);this.Se(o)}}Se(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Vf extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nm{constructor(e,t,r,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,Cm.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Nm(ot.min(),i,new pn(bt),Pi(),Tt())}}class Cm{constructor(e,t,r,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Cm(r,t,Tt(),Tt(),Tt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h1{constructor(e,t,r,i){this.be=e,this.removedTargetIds=t,this.key=r,this.De=i}}class NC{constructor(e,t){this.targetId=e,this.Ce=t}}class CC{constructor(e,t,r=Vn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class gA{constructor(){this.ve=0,this.Fe=yA(),this.Me=Vn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Tt(),t=Tt(),r=Tt();return this.Fe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:Je(38017,{changeType:s})}}),new Cm(this.Me,this.xe,e,t,r)}qe(){this.Oe=!1,this.Fe=yA()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,rt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class fq{constructor(e){this.Ge=e,this.ze=new Map,this.je=Pi(),this.Je=Dg(),this.He=Dg(),this.Ye=new pn(bt)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,t=>{const r=this.nt(t);switch(e.state){case 0:this.rt(t)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),r.Le(e.resumeToken));break;default:Je(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach((r,i)=>{this.rt(i)&&t(i)})}st(e){const t=e.targetId,r=e.Ce.count,i=this.ot(t);if(i){const s=i.target;if(n0(s))if(r===0){const o=new $e(s.path);this.et(t,o,yn.newNoDocument(o,ot.min()))}else rt(r===1,20013,{expectedCount:r});else{const o=this._t(t);if(o!==r){const a=this.ut(e),l=a?this.ct(a,e,o):1;if(l!==0){this.it(t);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,c)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=t;let o,a;try{o=ga(r).toUint8Array()}catch(l){if(l instanceof QN)return Do("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new G5(o,i,s)}catch(l){return Do(l instanceof Vf?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.ge===0?null:a}ct(e,t,r){return t.Ce.count===r-this.Pt(e,t.targetId)?0:2}Pt(e,t){const r=this.Ge.getRemoteKeysForTarget(t);let i=0;return r.forEach(s=>{const o=this.Ge.ht(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.et(t,s,null),i++)}),i}Tt(e){const t=new Map;this.ze.forEach((s,o)=>{const a=this.ot(o);if(a){if(s.current&&n0(a.target)){const l=new $e(a.target.path);this.It(l).has(o)||this.Et(o,l)||this.et(o,l,yn.newNoDocument(l,e))}s.Be&&(t.set(o,s.ke()),s.qe())}});let r=Tt();this.He.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.ot(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.je.forEach((s,o)=>o.setReadTime(e));const i=new Nm(e,t,this.Ye,this.je,r);return this.je=Pi(),this.Je=Dg(),this.He=Dg(),this.Ye=new pn(bt),i}Xe(e,t){if(!this.rt(e))return;const r=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,r),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,t)?i.Qe(t,1):i.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),r&&(this.je=this.je.insert(t,r))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new gA,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new en(bt),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new en(bt),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||Ne("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new gA),this.Ge.getRemoteKeysForTarget(e).forEach(t=>{this.et(e,t,null)})}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Dg(){return new pn($e.comparator)}function yA(){return new pn($e.comparator)}const pq=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),mq=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),gq=(()=>({and:"AND",or:"OR"}))();class yq{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function N_(n,e){return n.useProto3Json||Em(e)?e:{value:e}}function hd(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function kC(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function vq(n,e){return hd(n,e.toTimestamp())}function Kn(n){return rt(!!n,49232),ot.fromTimestamp(function(t){const r=ma(t);return new Gt(r.seconds,r.nanos)}(n))}function K5(n,e){return C_(n,e).canonicalString()}function C_(n,e){const t=function(i){return new Lt(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function RC(n){const e=Lt.fromString(n);return rt(zC(e),10190,{key:e.toString()}),e}function Zp(n,e){return K5(n.databaseId,e.path)}function Co(n,e){const t=RC(e);if(t.get(1)!==n.databaseId.projectId)throw new xe(be.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new xe(be.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new $e(OC(t))}function LC(n,e){return K5(n.databaseId,e)}function DC(n){const e=RC(n);return e.length===4?Lt.emptyPath():OC(e)}function k_(n){return new Lt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function OC(n){return rt(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function vA(n,e,t){return{name:Zp(n,e),fields:t.value.mapValue.fields}}function FC(n,e,t){const r=Co(n,e.name),i=Kn(e.updateTime),s=e.createTime?Kn(e.createTime):ot.min(),o=new Pr({mapValue:{fields:e.fields}}),a=yn.newFoundDocument(r,i,s,o);return t&&a.setHasCommittedMutations(),t?a.setHasCommittedMutations():a}function _q(n,e){return"found"in e?function(r,i){rt(!!i.found,43571),i.found.name,i.found.updateTime;const s=Co(r,i.found.name),o=Kn(i.found.updateTime),a=i.found.createTime?Kn(i.found.createTime):ot.min(),l=new Pr({mapValue:{fields:i.found.fields}});return yn.newFoundDocument(s,o,a,l)}(n,e):"missing"in e?function(r,i){rt(!!i.missing,3894),rt(!!i.readTime,22933);const s=Co(r,i.missing),o=Kn(i.readTime);return yn.newNoDocument(s,o)}(n,e):Je(7234,{result:e})}function wq(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:Je(39313,{state:c})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(c,d){return c.useProto3Json?(rt(d===void 0||typeof d=="string",58123),Vn.fromBase64String(d||"")):(rt(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),Vn.fromUint8Array(d||new Uint8Array))}(n,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const d=c.code===void 0?be.UNKNOWN:xC(c.code);return new xe(d,c.message||"")}(o);t=new CC(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Co(n,r.document.name),s=Kn(r.document.updateTime),o=r.document.createTime?Kn(r.document.createTime):ot.min(),a=new Pr({mapValue:{fields:r.document.fields}}),l=yn.newFoundDocument(i,s,o,a),c=r.targetIds||[],d=r.removedTargetIds||[];t=new h1(c,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Co(n,r.document),s=r.readTime?Kn(r.readTime):ot.min(),o=yn.newNoDocument(i,s),a=r.removedTargetIds||[];t=new h1([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Co(n,r.document),s=r.removedTargetIds||[];t=new h1([],s,i,null)}else{if(!("filter"in e))return Je(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new hq(i,s),a=r.targetId;t=new NC(a,o)}}return t}function em(n,e){let t;if(e instanceof Ld)t={update:vA(n,e.key,e.value)};else if(e instanceof Dd)t={delete:Zp(n,e.key)};else if(e instanceof Sa)t={update:vA(n,e.key,e.data),updateMask:Tq(e.fieldMask)};else{if(!(e instanceof q5))return Je(16599,{Vt:e.type});t={verify:Zp(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof ud)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof uc)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof cc)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof cd)return{fieldPath:o.field.canonicalString(),increment:a.Ae};throw Je(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:vq(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Je(27497)}(n,e.precondition)),t}function R_(n,e){const t=e.currentDocument?function(s){return s.updateTime!==void 0?Tn.updateTime(Kn(s.updateTime)):s.exists!==void 0?Tn.exists(s.exists):Tn.none()}(e.currentDocument):Tn.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(o,a){let l=null;if("setToServerValue"in a)rt(a.setToServerValue==="REQUEST_TIME",16630,{proto:a}),l=new ud;else if("appendMissingElements"in a){const d=a.appendMissingElements.values||[];l=new uc(d)}else if("removeAllFromArray"in a){const d=a.removeAllFromArray.values||[];l=new cc(d)}else"increment"in a?l=new cd(o,a.increment):Je(16584,{proto:a});const c=An.fromServerFormat(a.fieldPath);return new Pm(c,l)}(n,i)):[];if(e.update){e.update.name;const i=Co(n,e.update.name),s=new Pr({mapValue:{fields:e.update.fields}});if(e.updateMask){const o=function(l){const c=l.fieldPaths||[];return new xi(c.map(d=>An.fromServerFormat(d)))}(e.updateMask);return new Sa(i,s,o,t,r)}return new Ld(i,s,t,r)}if(e.delete){const i=Co(n,e.delete);return new Dd(i,t)}if(e.verify){const i=Co(n,e.verify);return new q5(i,t)}return Je(1463,{proto:e})}function bq(n,e){return n&&n.length>0?(rt(e!==void 0,14353),n.map(t=>function(i,s){let o=i.updateTime?Kn(i.updateTime):Kn(s);return o.isEqual(ot.min())&&(o=Kn(s)),new lq(o,i.transformResults||[])}(t,e))):[]}function MC(n,e){return{documents:[LC(n,e.path)]}}function VC(n,e){const t={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=LC(n,i);const s=function(c){if(c.length!==0)return UC(Xt.create(c,"and"))}(e.filters);s&&(t.structuredQuery.where=s);const o=function(c){if(c.length!==0)return c.map(d=>function(p){return{field:ph(p.field),direction:Eq(p.dir)}}(d))}(e.orderBy);o&&(t.structuredQuery.orderBy=o);const a=N_(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ft:t,parent:i}}function jC(n){let e=DC(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){rt(r===1,65062);const d=t.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let s=[];t.where&&(s=function(f){const p=BC(f);return p instanceof Xt&&j5(p)?p.getFilters():[p]}(t.where));let o=[];t.orderBy&&(o=function(f){return f.map(p=>function(S){return new Xp(mh(S.field),function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction))}(p))}(t.orderBy));let a=null;t.limit&&(a=function(f){let p;return p=typeof f=="object"?f.value:f,Em(p)?null:p}(t.limit));let l=null;t.startAt&&(l=function(f){const p=!!f.before,g=f.values||[];return new zl(g,p)}(t.startAt));let c=null;return t.endAt&&(c=function(f){const p=!f.before,g=f.values||[];return new zl(g,p)}(t.endAt)),hC(e,i,o,s,a,"F",l,c)}function Iq(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Je(28987,{purpose:i})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function BC(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=mh(t.unaryFilter.field);return Mt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=mh(t.unaryFilter.field);return Mt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=mh(t.unaryFilter.field);return Mt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=mh(t.unaryFilter.field);return Mt.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Je(61313);default:return Je(60726)}}(n):n.fieldFilter!==void 0?function(t){return Mt.create(mh(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Je(58110);default:return Je(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Xt.create(t.compositeFilter.filters.map(r=>BC(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Je(1026)}}(t.compositeFilter.op))}(n):Je(30097,{filter:n})}function Eq(n){return pq[n]}function Sq(n){return mq[n]}function Aq(n){return gq[n]}function ph(n){return{fieldPath:n.canonicalString()}}function mh(n){return An.fromServerFormat(n.fieldPath)}function UC(n){return n instanceof Mt?function(t){if(t.op==="=="){if(nA(t.value))return{unaryFilter:{field:ph(t.field),op:"IS_NAN"}};if(tA(t.value))return{unaryFilter:{field:ph(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(nA(t.value))return{unaryFilter:{field:ph(t.field),op:"IS_NOT_NAN"}};if(tA(t.value))return{unaryFilter:{field:ph(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ph(t.field),op:Sq(t.op),value:t.value}}}(n):n instanceof Xt?function(t){const r=t.getFilters().map(i=>UC(i));return r.length===1?r[0]:{compositeFilter:{op:Aq(t.op),filters:r}}}(n):Je(54877,{filter:n})}function Tq(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function zC(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia{constructor(e,t,r,i,s=ot.min(),o=ot.min(),a=Vn.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new ia(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ia(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ia(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ia(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qC{constructor(e){this.yt=e}}function xq(n,e){let t;if(e.document)t=FC(n.yt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=$e.fromSegments(e.noDocument.path),i=dc(e.noDocument.readTime);t=yn.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return Je(56709);{const r=$e.fromSegments(e.unknownDocument.path),i=dc(e.unknownDocument.version);t=yn.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(i){const s=new Gt(i[0],i[1]);return ot.fromTimestamp(s)}(e.readTime)),t}function _A(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:s0(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=function(s,o){return{name:Zp(s,o.key),fields:o.data.value.mapValue.fields,updateTime:hd(s,o.version.toTimestamp()),createTime:hd(s,o.createTime.toTimestamp())}}(n.yt,e);else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:hc(e.version)};else{if(!e.isUnknownDocument())return Je(57904,{document:e});r.unknownDocument={path:t.path.toArray(),version:hc(e.version)}}return r}function s0(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function hc(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function dc(n){const e=new Gt(n.seconds,n.nanoseconds);return ot.fromTimestamp(e)}function Ru(n,e){const t=(e.baseMutations||[]).map(s=>R_(n.yt,s));for(let s=0;s<e.mutations.length-1;++s){const o=e.mutations[s];if(s+1<e.mutations.length&&e.mutations[s+1].transform!==void 0){const a=e.mutations[s+1];o.updateTransforms=a.transform.fieldTransforms,e.mutations.splice(s+1,1),++s}}const r=e.mutations.map(s=>R_(n.yt,s)),i=Gt.fromMillis(e.localWriteTimeMs);return new $5(e.batchId,i,t,r)}function jf(n){const e=dc(n.readTime),t=n.lastLimboFreeSnapshotVersion!==void 0?dc(n.lastLimboFreeSnapshotVersion):ot.min();let r;return r=function(s){return s.documents!==void 0}(n.query)?function(s){const o=s.documents.length;return rt(o===1,1966,{count:o}),ui(Rd(DC(s.documents[0])))}(n.query):function(s){return ui(jC(s))}(n.query),new ia(r,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,Vn.fromBase64String(n.resumeToken))}function $C(n,e){const t=hc(e.snapshotVersion),r=hc(e.lastLimboFreeSnapshotVersion);let i;i=n0(e.target)?MC(n.yt,e.target):VC(n.yt,e.target).ft;const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:lc(e.target),readTime:t,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function Q5(n){const e=jC({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?i0(e,e.limit,"L"):e}function Vv(n,e){return new H5(e.largestBatchId,R_(n.yt,e.overlayMutation))}function wA(n,e){const t=e.path.lastSegment();return[n,Wr(e.path.popLast()),t]}function bA(n,e,t,r){return{indexId:n,uid:e,sequenceNumber:t,readTime:hc(r.readTime),documentKey:Wr(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pq{getBundleMetadata(e,t){return IA(e).get(t).next(r=>{if(r)return function(s){return{id:s.bundleId,createTime:dc(s.createTime),version:s.version}}(r)})}saveBundleMetadata(e,t){return IA(e).put(function(i){return{bundleId:i.id,createTime:hc(Kn(i.createTime)),version:i.version}}(t))}getNamedQuery(e,t){return EA(e).get(t).next(r=>{if(r)return function(s){return{name:s.name,query:Q5(s.bundledQuery),readTime:dc(s.readTime)}}(r)})}saveNamedQuery(e,t){return EA(e).put(function(i){return{name:i.name,readTime:hc(Kn(i.readTime)),bundledQuery:i.bundledQuery}}(t))}}function IA(n){return dr(n,X0)}function EA(n){return dr(n,Z0)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oy{constructor(e,t){this.serializer=e,this.userId=t}static wt(e,t){const r=t.uid||"";return new oy(e,r)}getOverlay(e,t){return If(e).get(wA(this.userId,t)).next(r=>r?Vv(this.serializer,r):null)}getOverlays(e,t){const r=Ao();return ye.forEach(t,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){const i=[];return r.forEach((s,o)=>{const a=new H5(t,o);i.push(this.St(e,a))}),ye.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(o=>i.add(Wr(o.getCollectionPath())));const s=[];return i.forEach(o=>{const a=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,r+1],!1,!0);s.push(If(e).Z(w_,a))}),ye.waitFor(s)}getOverlaysForCollection(e,t,r){const i=Ao(),s=Wr(t),o=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,Number.POSITIVE_INFINITY],!0);return If(e).J(w_,o).next(a=>{for(const l of a){const c=Vv(this.serializer,l);i.set(c.getKey(),c)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const s=Ao();let o;const a=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return If(e).ee({index:qN,range:a},(l,c,d)=>{const f=Vv(this.serializer,c);s.size()<i||f.largestBatchId===o?(s.set(f.getKey(),f),o=f.largestBatchId):d.done()}).next(()=>s)}St(e,t){return If(e).put(function(i,s,o){const[a,l,c]=wA(s,o.mutation.key);return{userId:s,collectionPath:l,documentId:c,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:em(i.yt,o.mutation)}}(this.serializer,this.userId,t))}}function If(n){return dr(n,ey)}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nq{bt(e){return dr(e,O5)}getSessionToken(e){return this.bt(e).get("sessionToken").next(t=>{const r=t==null?void 0:t.value;return r?Vn.fromUint8Array(r):Vn.EMPTY_BYTE_STRING})}setSessionToken(e,t){return this.bt(e).put({name:"sessionToken",value:t.toUint8Array()})}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lu{constructor(){}Dt(e,t){this.Ct(e,t),t.vt()}Ct(e,t){if("nullValue"in e)this.Ft(t,5);else if("booleanValue"in e)this.Ft(t,10),t.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(t,15),t.Mt(In(e.integerValue));else if("doubleValue"in e){const r=In(e.doubleValue);isNaN(r)?this.Ft(t,13):(this.Ft(t,15),Wp(r)?t.Mt(0):t.Mt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ft(t,20),typeof r=="string"&&(r=ma(r)),t.xt(`${r.seconds||""}`),t.Mt(r.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,t),this.Nt(t);else if("bytesValue"in e)this.Ft(t,30),t.Bt(ga(e.bytesValue)),this.Nt(t);else if("referenceValue"in e)this.Lt(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.Ft(t,45),t.Mt(r.latitude||0),t.Mt(r.longitude||0)}else"mapValue"in e?tC(e)?this.Ft(t,Number.MAX_SAFE_INTEGER):ry(e)?this.kt(e.mapValue,t):(this.qt(e.mapValue,t),this.Nt(t)):"arrayValue"in e?(this.Qt(e.arrayValue,t),this.Nt(t)):Je(19022,{$t:e})}Ot(e,t){this.Ft(t,25),this.Ut(e,t)}Ut(e,t){t.xt(e)}qt(e,t){const r=e.fields||{};this.Ft(t,55);for(const i of Object.keys(r))this.Ot(i,t),this.Ct(r[i],t)}kt(e,t){var o,a;const r=e.fields||{};this.Ft(t,53);const i=od,s=((a=(o=r[i].arrayValue)==null?void 0:o.values)==null?void 0:a.length)||0;this.Ft(t,15),t.Mt(In(s)),this.Ot(i,t),this.Ct(r[i],t)}Qt(e,t){const r=e.values||[];this.Ft(t,50);for(const i of r)this.Ct(i,t)}Lt(e,t){this.Ft(t,37),$e.fromName(e).path.forEach(r=>{this.Ft(t,60),this.Ut(r,t)})}Ft(e,t){e.Mt(t)}Nt(e){e.Mt(2)}}Lu.Kt=new Lu;/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law | agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES | CONDITIONS OF ANY KIND, either express | implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oh=255;function Cq(n){if(n===0)return 8;let e=0;return n>>4||(e+=4,n<<=4),n>>6||(e+=2,n<<=2),n>>7||(e+=1),e}function SA(n){const e=64-function(r){let i=0;for(let s=0;s<8;++s){const o=Cq(255&r[s]);if(i+=o,o!==8)break}return i}(n);return Math.ceil(e/8)}class kq{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Wt(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Gt(r.value),r=t.next();this.zt()}jt(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Jt(r.value),r=t.next();this.Ht()}Yt(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Gt(r);else if(r<2048)this.Gt(960|r>>>6),this.Gt(128|63&r);else if(t<"\uD800"||"\uDBFF"<t)this.Gt(480|r>>>12),this.Gt(128|63&r>>>6),this.Gt(128|63&r);else{const i=t.codePointAt(0);this.Gt(240|i>>>18),this.Gt(128|63&i>>>12),this.Gt(128|63&i>>>6),this.Gt(128|63&i)}}this.zt()}Zt(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Jt(r);else if(r<2048)this.Jt(960|r>>>6),this.Jt(128|63&r);else if(t<"\uD800"||"\uDBFF"<t)this.Jt(480|r>>>12),this.Jt(128|63&r>>>6),this.Jt(128|63&r);else{const i=t.codePointAt(0);this.Jt(240|i>>>18),this.Jt(128|63&i>>>12),this.Jt(128|63&i>>>6),this.Jt(128|63&i)}}this.Ht()}Xt(e){const t=this.en(e),r=SA(t);this.tn(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}nn(e){const t=this.en(e),r=SA(t);this.tn(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}rn(){this.sn(oh),this.sn(255)}_n(){this.an(oh),this.an(255)}reset(){this.position=0}seed(e){this.tn(e.length),this.buffer.set(e,this.position),this.position+=e.length}un(){return this.buffer.slice(0,this.position)}en(e){const t=function(s){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,s,!1),new Uint8Array(o.buffer)}(e),r=!!(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}Gt(e){const t=255&e;t===0?(this.sn(0),this.sn(255)):t===oh?(this.sn(oh),this.sn(0)):this.sn(t)}Jt(e){const t=255&e;t===0?(this.an(0),this.an(255)):t===oh?(this.an(oh),this.an(0)):this.an(e)}zt(){this.sn(0),this.sn(1)}Ht(){this.an(0),this.an(1)}sn(e){this.tn(1),this.buffer[this.position++]=e}an(e){this.tn(1),this.buffer[this.position++]=~e}tn(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class Rq{constructor(e){this.cn=e}Bt(e){this.cn.Wt(e)}xt(e){this.cn.Yt(e)}Mt(e){this.cn.Xt(e)}vt(){this.cn.rn()}}class Lq{constructor(e){this.cn=e}Bt(e){this.cn.jt(e)}xt(e){this.cn.Zt(e)}Mt(e){this.cn.nn(e)}vt(){this.cn._n()}}class Ef{constructor(){this.cn=new kq,this.ln=new Rq(this.cn),this.hn=new Lq(this.cn)}seed(e){this.cn.seed(e)}Pn(e){return e===0?this.ln:this.hn}un(){return this.cn.un()}reset(){this.cn.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Du{constructor(e,t,r,i){this.Tn=e,this.In=t,this.En=r,this.dn=i}An(){const e=this.dn.length,t=e===0||this.dn[e-1]===255?e+1:e,r=new Uint8Array(t);return r.set(this.dn,0),t!==e?r.set([0],this.dn.length):++r[r.length-1],new Du(this.Tn,this.In,this.En,r)}Rn(e,t,r){return{indexId:this.Tn,uid:e,arrayValue:d1(this.En),directionalValue:d1(this.dn),orderedDocumentKey:d1(t),documentKey:r.path.toArray()}}Vn(e,t,r){const i=this.Rn(e,t,r);return[i.indexId,i.uid,i.arrayValue,i.directionalValue,i.orderedDocumentKey,i.documentKey]}}function Xa(n,e){let t=n.Tn-e.Tn;return t!==0?t:(t=AA(n.En,e.En),t!==0?t:(t=AA(n.dn,e.dn),t!==0?t:$e.comparator(n.In,e.In)))}function AA(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(r!==0)return r}return n.length-e.length}function d1(n){return a3()?function(t){let r="";for(let i=0;i<t.length;i++)r+=String.fromCharCode(t[i]);return r}(n):n}function TA(n){return typeof n!="string"?n:function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(n)}class xA{constructor(e){this.mn=new en((t,r)=>An.comparator(t.field,r.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.fn=e.orderBy,this.gn=[];for(const t of e.filters){const r=t;r.isInequality()?this.mn=this.mn.add(r):this.gn.push(r)}}get pn(){return this.mn.size>1}yn(e){if(rt(e.collectionGroup===this.collectionId,49279),this.pn)return!1;const t=y_(e);if(t!==void 0&&!this.wn(t))return!1;const r=Pu(e);let i=new Set,s=0,o=0;for(;s<r.length&&this.wn(r[s]);++s)i=i.add(r[s].fieldPath.canonicalString());if(s===r.length)return!0;if(this.mn.size>0){const a=this.mn.getIterator().getNext();if(!i.has(a.field.canonicalString())){const l=r[s];if(!this.Sn(a,l)||!this.bn(this.fn[o++],l))return!1}++s}for(;s<r.length;++s){const a=r[s];if(o>=this.fn.length||!this.bn(this.fn[o++],a))return!1}return!0}Dn(){if(this.pn)return null;let e=new en(An.comparator);const t=[];for(const r of this.gn)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")t.push(new i1(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),t.push(new i1(r.field,0))}for(const r of this.fn)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),t.push(new i1(r.field,r.dir==="asc"?0:1)));return new X1(X1.UNKNOWN_ID,this.collectionId,t,$p.empty())}wn(e){for(const t of this.gn)if(this.Sn(t,e))return!0;return!1}Sn(e,t){if(e===void 0||!e.field.isEqual(t.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return t.kind===2===r}bn(e,t){return!!e.field.isEqual(t.fieldPath)&&(t.kind===0&&e.dir==="asc"||t.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WC(n){var t,r;if(rt(n instanceof Mt||n instanceof Xt,20012),n instanceof Mt){if(n instanceof cC){const i=((r=(t=n.value.arrayValue)==null?void 0:t.values)==null?void 0:r.map(s=>Mt.create(n.field,"==",s)))||[];return Xt.create(i,"or")}return n}const e=n.filters.map(i=>WC(i));return Xt.create(e,n.op)}function Dq(n){if(n.getFilters().length===0)return[];const e=O_(WC(n));return rt(HC(e),7391),L_(e)||D_(e)?[e]:e.getFilters()}function L_(n){return n instanceof Mt}function D_(n){return n instanceof Xt&&j5(n)}function HC(n){return L_(n)||D_(n)||function(t){if(t instanceof Xt&&A_(t)){for(const r of t.getFilters())if(!L_(r)&&!D_(r))return!1;return!0}return!1}(n)}function O_(n){if(rt(n instanceof Mt||n instanceof Xt,34018),n instanceof Mt)return n;if(n.filters.length===1)return O_(n.filters[0]);const e=n.filters.map(r=>O_(r));let t=Xt.create(e,n.op);return t=o0(t),HC(t)?t:(rt(t instanceof Xt,64498),rt(ld(t),40251),rt(t.filters.length>1,57927),t.filters.reduce((r,i)=>Y5(r,i)))}function Y5(n,e){let t;return rt(n instanceof Mt||n instanceof Xt,38388),rt(e instanceof Mt||e instanceof Xt,25473),t=n instanceof Mt?e instanceof Mt?function(i,s){return Xt.create([i,s],"and")}(n,e):PA(n,e):e instanceof Mt?PA(e,n):function(i,s){if(rt(i.filters.length>0&&s.filters.length>0,48005),ld(i)&&ld(s))return aC(i,s.getFilters());const o=A_(i)?i:s,a=A_(i)?s:i,l=o.filters.map(c=>Y5(c,a));return Xt.create(l,"or")}(n,e),o0(t)}function PA(n,e){if(ld(e))return aC(e,n.getFilters());{const t=e.filters.map(r=>Y5(n,r));return Xt.create(t,"or")}}function o0(n){if(rt(n instanceof Mt||n instanceof Xt,11850),n instanceof Mt)return n;const e=n.getFilters();if(e.length===1)return o0(e[0]);if(sC(n))return n;const t=e.map(i=>o0(i)),r=[];return t.forEach(i=>{i instanceof Mt?r.push(i):i instanceof Xt&&(i.op===n.op?r.push(...i.filters):r.push(i))}),r.length===1?r[0]:Xt.create(r,n.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oq{constructor(){this.Cn=new J5}addToCollectionParentIndex(e,t){return this.Cn.add(t),ye.resolve()}getCollectionParents(e,t){return ye.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return ye.resolve()}deleteFieldIndex(e,t){return ye.resolve()}deleteAllFieldIndexes(e){return ye.resolve()}createTargetIndexes(e,t){return ye.resolve()}getDocumentsMatchingTarget(e,t){return ye.resolve(null)}getIndexType(e,t){return ye.resolve(0)}getFieldIndexes(e,t){return ye.resolve([])}getNextCollectionGroupToUpdate(e){return ye.resolve(null)}getMinOffset(e,t){return ye.resolve(Ki.min())}getMinOffsetFromCollectionGroup(e,t){return ye.resolve(Ki.min())}updateCollectionGroup(e,t,r){return ye.resolve()}updateIndexEntries(e,t){return ye.resolve()}}class J5{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new en(Lt.comparator),s=!i.has(r);return this.index[t]=i.add(r),s}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new en(Lt.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NA="IndexedDbIndexManager",Og=new Uint8Array(0);class Fq{constructor(e,t){this.databaseId=t,this.vn=new J5,this.Fn=new Ea(r=>lc(r),(r,i)=>Am(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.vn.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.vn.add(t)});const s={collectionId:r,parent:Wr(i)};return CA(e).put(s)}return ye.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[PN(t),""],!1,!0);return CA(e).J(i).next(s=>{for(const o of s){if(o.collectionId!==t)break;r.push(So(o.parent))}return r})}addFieldIndex(e,t){const r=Sf(e),i=function(a){return{indexId:a.indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(l=>[l.fieldPath.canonicalString(),l.kind])}}(t);delete i.indexId;const s=r.add(i);if(t.indexState){const o=lh(e);return s.next(a=>{o.put(bA(a,this.uid,t.indexState.sequenceNumber,t.indexState.offset))})}return s.next()}deleteFieldIndex(e,t){const r=Sf(e),i=lh(e),s=ah(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const t=Sf(e),r=ah(e),i=lh(e);return t.Z().next(()=>r.Z()).next(()=>i.Z())}createTargetIndexes(e,t){return ye.forEach(this.Mn(t),r=>this.getIndexType(e,r).next(i=>{if(i===0||i===1){const s=new xA(r).Dn();if(s!=null)return this.addFieldIndex(e,s)}}))}getDocumentsMatchingTarget(e,t){const r=ah(e);let i=!0;const s=new Map;return ye.forEach(this.Mn(t),o=>this.xn(e,o).next(a=>{i&&(i=!!a),s.set(o,a)})).next(()=>{if(i){let o=Tt();const a=[];return ye.forEach(s,(l,c)=>{Ne(NA,`Using index ${function(E){return`id=${E.indexId}|cg=${E.collectionGroup}|f=${E.fields.map(F=>`${F.fieldPath}:${F.kind}`).join(",")}`}(l)} to execute ${lc(t)}`);const d=function(E,F){const B=y_(F);if(B===void 0)return null;for(const U of r0(E,B.fieldPath))switch(U.op){case"array-contains-any":return U.value.arrayValue.values||[];case"array-contains":return[U.value]}return null}(c,l),f=function(E,F){const B=new Map;for(const U of Pu(F))for(const N of r0(E,U.fieldPath))switch(N.op){case"==":case"in":B.set(U.fieldPath.canonicalString(),N.value);break;case"not-in":case"!=":return B.set(U.fieldPath.canonicalString(),N.value),Array.from(B.values())}return null}(c,l),p=function(E,F){const B=[];let U=!0;for(const N of Pu(F)){const A=N.kind===0?aA(E,N.fieldPath,E.startAt):lA(E,N.fieldPath,E.startAt);B.push(A.value),U&&(U=A.inclusive)}return new zl(B,U)}(c,l),g=function(E,F){const B=[];let U=!0;for(const N of Pu(F)){const A=N.kind===0?lA(E,N.fieldPath,E.endAt):aA(E,N.fieldPath,E.endAt);B.push(A.value),U&&(U=A.inclusive)}return new zl(B,U)}(c,l),S=this.On(l,c,p),x=this.On(l,c,g),k=this.Nn(l,c,f),_=this.Bn(l.indexId,d,S,p.inclusive,x,g.inclusive,k);return ye.forEach(_,b=>r.Y(b,t.limit).next(E=>{E.forEach(F=>{const B=$e.fromSegments(F.documentKey);o.has(B)||(o=o.add(B),a.push(B))})}))}).next(()=>a)}return ye.resolve(null)})}Mn(e){let t=this.Fn.get(e);return t||(e.filters.length===0?t=[e]:t=Dq(Xt.create(e.filters,"and")).map(r=>x_(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.Fn.set(e,t),t)}Bn(e,t,r,i,s,o,a){const l=(t!=null?t.length:1)*Math.max(r.length,s.length),c=l/(t!=null?t.length:1),d=[];for(let f=0;f<l;++f){const p=t?this.Ln(t[f/c]):Og,g=this.kn(e,p,r[f%c],i),S=this.qn(e,p,s[f%c],o),x=a.map(k=>this.kn(e,p,k,!0));d.push(...this.createRange(g,S,x))}return d}kn(e,t,r,i){const s=new Du(e,$e.empty(),t,r);return i?s:s.An()}qn(e,t,r,i){const s=new Du(e,$e.empty(),t,r);return i?s.An():s}xn(e,t){const r=new xA(t),i=t.collectionGroup!=null?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(s=>{let o=null;for(const a of s)r.yn(a)&&(!o||a.fields.length>o.fields.length)&&(o=a);return o})}getIndexType(e,t){let r=2;const i=this.Mn(t);return ye.forEach(i,s=>this.xn(e,s).next(o=>{o?r!==0&&o.fields.length<function(l){let c=new en(An.comparator),d=!1;for(const f of l.filters)for(const p of f.getFlattenedFilters())p.field.isKeyField()||(p.op==="array-contains"||p.op==="array-contains-any"?d=!0:c=c.add(p.field));for(const f of l.orderBy)f.field.isKeyField()||(c=c.add(f.field));return c.size+(d?1:0)}(s)&&(r=1):r=0})).next(()=>function(o){return o.limit!==null}(t)&&i.length>1&&r===2?1:r)}Qn(e,t){const r=new Ef;for(const i of Pu(e)){const s=t.data.field(i.fieldPath);if(s==null)return null;const o=r.Pn(i.kind);Lu.Kt.Dt(s,o)}return r.un()}Ln(e){const t=new Ef;return Lu.Kt.Dt(e,t.Pn(0)),t.un()}$n(e,t){const r=new Ef;return Lu.Kt.Dt(ac(this.databaseId,t),r.Pn(function(s){const o=Pu(s);return o.length===0?0:o[o.length-1].kind}(e))),r.un()}Nn(e,t,r){if(r===null)return[];let i=[];i.push(new Ef);let s=0;for(const o of Pu(e)){const a=r[s++];for(const l of i)if(this.Un(t,o.fieldPath)&&Jp(a))i=this.Kn(i,o,a);else{const c=l.Pn(o.kind);Lu.Kt.Dt(a,c)}}return this.Wn(i)}On(e,t,r){return this.Nn(e,t,r.position)}Wn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].un();return t}Kn(e,t,r){const i=[...e],s=[];for(const o of r.arrayValue.values||[])for(const a of i){const l=new Ef;l.seed(a.un()),Lu.Kt.Dt(o,l.Pn(t.kind)),s.push(l)}return s}Un(e,t){return!!e.filters.find(r=>r instanceof Mt&&r.field.isEqual(t)&&(r.op==="in"||r.op==="not-in"))}getFieldIndexes(e,t){const r=Sf(e),i=lh(e);return(t?r.J(__,IDBKeyRange.bound(t,t)):r.J()).next(s=>{const o=[];return ye.forEach(s,a=>i.get([a.indexId,this.uid]).next(l=>{o.push(function(d,f){const p=f?new $p(f.sequenceNumber,new Ki(dc(f.readTime),new $e(So(f.documentKey)),f.largestBatchId)):$p.empty(),g=d.fields.map(([S,x])=>new i1(An.fromServerFormat(S),x));return new X1(d.indexId,d.collectionGroup,g,p)}(a,l))})).next(()=>o)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>t.length===0?null:(t.sort((r,i)=>{const s=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return s!==0?s:bt(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=Sf(e),s=lh(e);return this.Gn(e).next(o=>i.J(__,IDBKeyRange.bound(t,t)).next(a=>ye.forEach(a,l=>s.put(bA(l.indexId,this.uid,o,r)))))}updateIndexEntries(e,t){const r=new Map;return ye.forEach(t,(i,s)=>{const o=r.get(i.collectionGroup);return(o?ye.resolve(o):this.getFieldIndexes(e,i.collectionGroup)).next(a=>(r.set(i.collectionGroup,a),ye.forEach(a,l=>this.zn(e,i,l).next(c=>{const d=this.jn(s,l);return c.isEqual(d)?ye.resolve():this.Jn(e,s,l,c,d)}))))})}Hn(e,t,r,i){return ah(e).put(i.Rn(this.uid,this.$n(r,t.key),t.key))}Yn(e,t,r,i){return ah(e).delete(i.Vn(this.uid,this.$n(r,t.key),t.key))}zn(e,t,r){const i=ah(e);let s=new en(Xa);return i.ee({index:zN,range:IDBKeyRange.only([r.indexId,this.uid,d1(this.$n(r,t))])},(o,a)=>{s=s.add(new Du(r.indexId,t,TA(a.arrayValue),TA(a.directionalValue)))}).next(()=>s)}jn(e,t){let r=new en(Xa);const i=this.Qn(t,e);if(i==null)return r;const s=y_(t);if(s!=null){const o=e.data.field(s.fieldPath);if(Jp(o))for(const a of o.arrayValue.values||[])r=r.add(new Du(t.indexId,e.key,this.Ln(a),i))}else r=r.add(new Du(t.indexId,e.key,Og,i));return r}Jn(e,t,r,i,s){Ne(NA,"Updating index entries for document '%s'",t.key);const o=[];return function(l,c,d,f,p){const g=l.getIterator(),S=c.getIterator();let x=sh(g),k=sh(S);for(;x||k;){let _=!1,b=!1;if(x&&k){const E=d(x,k);E<0?b=!0:E>0&&(_=!0)}else x!=null?b=!0:_=!0;_?(f(k),k=sh(S)):b?(p(x),x=sh(g)):(x=sh(g),k=sh(S))}}(i,s,Xa,a=>{o.push(this.Hn(e,t,r,a))},a=>{o.push(this.Yn(e,t,r,a))}),ye.waitFor(o)}Gn(e){let t=1;return lh(e).ee({index:UN,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,s)=>{s.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((o,a)=>Xa(o,a)).filter((o,a,l)=>!a||Xa(o,l[a-1])!==0);const i=[];i.push(e);for(const o of r){const a=Xa(o,e),l=Xa(o,t);if(a===0)i[0]=e.An();else if(a>0&&l<0)i.push(o),i.push(o.An());else if(l>0)break}i.push(t);const s=[];for(let o=0;o<i.length;o+=2){if(this.Zn(i[o],i[o+1]))return[];const a=i[o].Vn(this.uid,Og,$e.empty()),l=i[o+1].Vn(this.uid,Og,$e.empty());s.push(IDBKeyRange.bound(a,l))}return s}Zn(e,t){return Xa(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(kA)}getMinOffset(e,t){return ye.mapArray(this.Mn(t),r=>this.xn(e,r).next(i=>i||Je(44426))).next(kA)}}function CA(n){return dr(n,Kp)}function ah(n){return dr(n,cp)}function Sf(n){return dr(n,D5)}function lh(n){return dr(n,up)}function kA(n){rt(n.length!==0,28825);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const i=n[r].indexState.offset;k5(i,e)<0&&(e=i),t<i.largestBatchId&&(t=i.largestBatchId)}return new Ki(e.readTime,e.documentKey,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RA={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},GC=41943040;class Ur{static withCacheSize(e){return new Ur(e,Ur.DEFAULT_COLLECTION_PERCENTILE,Ur.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KC(n,e,t){const r=n.store(Bs),i=n.store(nd),s=[],o=IDBKeyRange.only(t.batchId);let a=0;const l=r.ee({range:o},(d,f,p)=>(a++,p.delete()));s.push(l.next(()=>{rt(a===1,47070,{batchId:t.batchId})}));const c=[];for(const d of t.mutations){const f=VN(e,d.key.path,t.batchId);s.push(i.delete(f)),c.push(d.key)}return ye.waitFor(s).next(()=>c)}function a0(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw Je(14731);e=n.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ur.DEFAULT_COLLECTION_PERCENTILE=10,Ur.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ur.DEFAULT=new Ur(GC,Ur.DEFAULT_COLLECTION_PERCENTILE,Ur.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ur.DISABLED=new Ur(-1,0,0);class ay{constructor(e,t,r,i){this.userId=e,this.serializer=t,this.indexManager=r,this.referenceDelegate=i,this.Xn={}}static wt(e,t,r,i){rt(e.uid!=="",64387);const s=e.isAuthenticated()?e.uid:"";return new ay(s,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Za(e).ee({index:Uu,range:r},(i,s,o)=>{t=!1,o.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const s=gh(e),o=Za(e);return o.add({}).next(a=>{rt(typeof a=="number",49019);const l=new $5(a,t,r,i),c=function(g,S,x){const k=x.baseMutations.map(b=>em(g.yt,b)),_=x.mutations.map(b=>em(g.yt,b));return{userId:S,batchId:x.batchId,localWriteTimeMs:x.localWriteTime.toMillis(),baseMutations:k,mutations:_}}(this.serializer,this.userId,l),d=[];let f=new en((p,g)=>bt(p.canonicalString(),g.canonicalString()));for(const p of i){const g=VN(this.userId,p.key.path,a);f=f.add(p.key.path.popLast()),d.push(o.put(c)),d.push(s.put(g,gz))}return f.forEach(p=>{d.push(this.indexManager.addToCollectionParentIndex(e,p))}),e.addOnCommittedListener(()=>{this.Xn[a]=l.keys()}),ye.waitFor(d).next(()=>l)})}lookupMutationBatch(e,t){return Za(e).get(t).next(r=>r?(rt(r.userId===this.userId,48,"Unexpected user for mutation batch",{userId:r.userId,batchId:t}),Ru(this.serializer,r)):null)}er(e,t){return this.Xn[t]?ye.resolve(this.Xn[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.Xn[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let s=null;return Za(e).ee({index:Uu,range:i},(o,a,l)=>{a.userId===this.userId&&(rt(a.batchId>=r,47524,{tr:r}),s=Ru(this.serializer,a)),l.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=Pl;return Za(e).ee({index:Uu,range:t,reverse:!0},(i,s,o)=>{r=s.batchId,o.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,Pl],[this.userId,Number.POSITIVE_INFINITY]);return Za(e).J(Uu,t).next(r=>r.map(i=>Ru(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=s1(this.userId,t.path),i=IDBKeyRange.lowerBound(r),s=[];return gh(e).ee({range:i},(o,a,l)=>{const[c,d,f]=o,p=So(d);if(c===this.userId&&t.path.isEqual(p))return Za(e).get(f).next(g=>{if(!g)throw Je(61480,{nr:o,batchId:f});rt(g.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:g.userId,batchId:f}),s.push(Ru(this.serializer,g))});l.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new en(bt);const i=[];return t.forEach(s=>{const o=s1(this.userId,s.path),a=IDBKeyRange.lowerBound(o),l=gh(e).ee({range:a},(c,d,f)=>{const[p,g,S]=c,x=So(g);p===this.userId&&s.path.isEqual(x)?r=r.add(S):f.done()});i.push(l)}),ye.waitFor(i).next(()=>this.rr(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,s=s1(this.userId,r),o=IDBKeyRange.lowerBound(s);let a=new en(bt);return gh(e).ee({range:o},(l,c,d)=>{const[f,p,g]=l,S=So(p);f===this.userId&&r.isPrefixOf(S)?S.length===i&&(a=a.add(g)):d.done()}).next(()=>this.rr(e,a))}rr(e,t){const r=[],i=[];return t.forEach(s=>{i.push(Za(e).get(s).next(o=>{if(o===null)throw Je(35274,{batchId:s});rt(o.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:o.userId,batchId:s}),r.push(Ru(this.serializer,o))}))}),ye.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return KC(e.le,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.ir(t.batchId)}),ye.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}ir(e){delete this.Xn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return ye.resolve();const r=IDBKeyRange.lowerBound(function(o){return[o]}(this.userId)),i=[];return gh(e).ee({range:r},(s,o,a)=>{if(s[0]===this.userId){const l=So(s[1]);i.push(l)}else a.done()}).next(()=>{rt(i.length===0,56720,{sr:i.map(s=>s.canonicalString())})})})}containsKey(e,t){return QC(e,this.userId,t)}_r(e){return YC(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:Pl,lastStreamToken:""})}}function QC(n,e,t){const r=s1(e,t.path),i=r[1],s=IDBKeyRange.lowerBound(r);let o=!1;return gh(n).ee({range:s,X:!0},(a,l,c)=>{const[d,f,p]=a;d===e&&f===i&&(o=!0),c.done()}).next(()=>o)}function Za(n){return dr(n,Bs)}function gh(n){return dr(n,nd)}function YC(n){return dr(n,Hp)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new fc(0)}static cr(){return new fc(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mq{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.lr(e).next(t=>{const r=new fc(t.highestTargetId);return t.highestTargetId=r.next(),this.hr(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.lr(e).next(t=>ot.fromTimestamp(new Gt(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.lr(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.lr(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.hr(e,i)))}addTargetData(e,t){return this.Pr(e,t).next(()=>this.lr(e).next(r=>(r.targetCount+=1,this.Tr(t,r),this.hr(e,r))))}updateTargetData(e,t){return this.Pr(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>uh(e).delete(t.targetId)).next(()=>this.lr(e)).next(r=>(rt(r.targetCount>0,8065),r.targetCount-=1,this.hr(e,r)))}removeTargets(e,t,r){let i=0;const s=[];return uh(e).ee((o,a)=>{const l=jf(a);l.sequenceNumber<=t&&r.get(l.targetId)===null&&(i++,s.push(this.removeTargetData(e,l)))}).next(()=>ye.waitFor(s)).next(()=>i)}forEachTarget(e,t){return uh(e).ee((r,i)=>{const s=jf(i);t(s)})}lr(e){return LA(e).get(t0).next(t=>(rt(t!==null,2888),t))}hr(e,t){return LA(e).put(t0,t)}Pr(e,t){return uh(e).put($C(this.serializer,t))}Tr(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.lr(e).next(t=>t.targetCount)}getTargetData(e,t){const r=lc(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let s=null;return uh(e).ee({range:i,index:BN},(o,a,l)=>{const c=jf(a);Am(t,c.target)&&(s=c,l.done())}).next(()=>s)}addMatchingKeys(e,t,r){const i=[],s=ul(e);return t.forEach(o=>{const a=Wr(o.path);i.push(s.put({targetId:r,path:a})),i.push(this.referenceDelegate.addReference(e,r,o))}),ye.waitFor(i)}removeMatchingKeys(e,t,r){const i=ul(e);return ye.forEach(t,s=>{const o=Wr(s.path);return ye.waitFor([i.delete([r,o]),this.referenceDelegate.removeReference(e,r,s)])})}removeMatchingKeysForTargetId(e,t){const r=ul(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=ul(e);let s=Tt();return i.ee({range:r,X:!0},(o,a,l)=>{const c=So(o[1]),d=new $e(c);s=s.add(d)}).next(()=>s)}containsKey(e,t){const r=Wr(t.path),i=IDBKeyRange.bound([r],[PN(r)],!1,!0);let s=0;return ul(e).ee({index:L5,X:!0,range:i},([o,a],l,c)=>{o!==0&&(s++,c.done())}).next(()=>s>0)}At(e,t){return uh(e).get(t).next(r=>r?jf(r):null)}}function uh(n){return dr(n,rd)}function LA(n){return dr(n,Xu)}function ul(n){return dr(n,id)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DA="LruGarbageCollector",Vq=1048576;function OA([n,e],[t,r]){const i=bt(n,t);return i===0?bt(e,r):i}class jq{constructor(e){this.Ir=e,this.buffer=new en(OA),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();OA(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class JC{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Ne(DA,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Zl(t)?Ne(DA,"Ignoring IndexedDB error during garbage collection: ",t):await Xl(t)}await this.Vr(3e5)})}}class Bq{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return ye.resolve(Ti.ce);const r=new jq(t);return this.mr.forEachTarget(e,i=>r.Ar(i.sequenceNumber)).next(()=>this.mr.pr(e,i=>r.Ar(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.mr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Ne("LruGarbageCollector","Garbage collection skipped; disabled"),ye.resolve(RA)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Ne("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),RA):this.yr(e,t))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let r,i,s,o,a,l,c;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(Ne("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,o=Date.now(),this.nthSequenceNumber(e,i))).next(f=>(r=f,a=Date.now(),this.removeTargets(e,r,t))).next(f=>(s=f,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(c=Date.now(),dh()<=Rt.DEBUG&&Ne("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(l-a)+`ms
	Removed ${f} documents in `+(c-l)+`ms
Total Duration: ${c-d}ms`),ye.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:f})))}}function XC(n,e){return new Bq(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uq{constructor(e,t){this.db=e,this.garbageCollector=XC(this,t)}gr(e){const t=this.wr(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}wr(e){let t=0;return this.pr(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}pr(e,t){return this.Sr(e,(r,i)=>t(i))}addReference(e,t,r){return Fg(e,r)}removeReference(e,t,r){return Fg(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return Fg(e,t)}br(e,t){return function(i,s){let o=!1;return YC(i).te(a=>QC(i,a,s).next(l=>(l&&(o=!0),ye.resolve(!l)))).next(()=>o)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let s=0;return this.Sr(e,(o,a)=>{if(a<=t){const l=this.br(e,o).next(c=>{if(!c)return s++,r.getEntry(e,o).next(()=>(r.removeEntry(o,ot.min()),ul(e).delete(function(f){return[0,Wr(f.path)]}(o))))});i.push(l)}}).next(()=>ye.waitFor(i)).next(()=>r.apply(e)).next(()=>s)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return Fg(e,t)}Sr(e,t){const r=ul(e);let i,s=Ti.ce;return r.ee({index:L5},([o,a],{path:l,sequenceNumber:c})=>{o===0?(s!==Ti.ce&&t(new $e(So(i)),s),s=c,i=l):s=Ti.ce}).next(()=>{s!==Ti.ce&&t(new $e(So(i)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Fg(n,e){return ul(n).put(function(r,i){return{targetId:0,path:Wr(r.path),sequenceNumber:i}}(e,n.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZC{constructor(){this.changes=new Ea(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,yn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?ye.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zq{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return Iu(e).put(r)}removeEntry(e,t,r){return Iu(e).delete(function(s,o){const a=s.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],s0(o),a[a.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Dr(e,r)))}getEntry(e,t){let r=yn.newInvalidDocument(t);return Iu(e).ee({index:o1,range:IDBKeyRange.only(Af(t))},(i,s)=>{r=this.Cr(t,s)}).next(()=>r)}vr(e,t){let r={size:0,document:yn.newInvalidDocument(t)};return Iu(e).ee({index:o1,range:IDBKeyRange.only(Af(t))},(i,s)=>{r={document:this.Cr(t,s),size:a0(s)}}).next(()=>r)}getEntries(e,t){let r=Pi();return this.Fr(e,t,(i,s)=>{const o=this.Cr(i,s);r=r.insert(i,o)}).next(()=>r)}Mr(e,t){let r=Pi(),i=new pn($e.comparator);return this.Fr(e,t,(s,o)=>{const a=this.Cr(s,o);r=r.insert(s,a),i=i.insert(s,a0(o))}).next(()=>({documents:r,Or:i}))}Fr(e,t,r){if(t.isEmpty())return ye.resolve();let i=new en(VA);t.forEach(l=>i=i.add(l));const s=IDBKeyRange.bound(Af(i.first()),Af(i.last())),o=i.getIterator();let a=o.getNext();return Iu(e).ee({index:o1,range:s},(l,c,d)=>{const f=$e.fromSegments([...c.prefixPath,c.collectionGroup,c.documentId]);for(;a&&VA(a,f)<0;)r(a,null),a=o.getNext();a&&a.isEqual(f)&&(r(a,c),a=o.hasNext()?o.getNext():null),a?d.j(Af(a)):d.done()}).next(()=>{for(;a;)r(a,null),a=o.hasNext()?o.getNext():null})}getDocumentsMatchingQuery(e,t,r,i,s){const o=t.path,a=[o.popLast().toArray(),o.lastSegment(),s0(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],l=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Iu(e).J(IDBKeyRange.bound(a,l,!0)).next(c=>{s==null||s.incrementDocumentReadCount(c.length);let d=Pi();for(const f of c){const p=this.Cr($e.fromSegments(f.prefixPath.concat(f.collectionGroup,f.documentId)),f);p.isFoundDocument()&&(xm(t,p)||i.has(p.key))&&(d=d.insert(p.key,p))}return d})}getAllFromCollectionGroup(e,t,r,i){let s=Pi();const o=MA(t,r),a=MA(t,Ki.max());return Iu(e).ee({index:jN,range:IDBKeyRange.bound(o,a,!0)},(l,c,d)=>{const f=this.Cr($e.fromSegments(c.prefixPath.concat(c.collectionGroup,c.documentId)),c);s=s.insert(f.key,f),s.size===i&&d.done()}).next(()=>s)}newChangeBuffer(e){return new qq(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return FA(e).get(v_).next(t=>(rt(!!t,20021),t))}Dr(e,t){return FA(e).put(v_,t)}Cr(e,t){if(t){const r=xq(this.serializer,t);if(!(r.isNoDocument()&&r.version.isEqual(ot.min())))return r}return yn.newInvalidDocument(e)}}function ek(n){return new zq(n)}class qq extends ZC{constructor(e,t){super(),this.Nr=e,this.trackRemovals=t,this.Br=new Ea(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new en((s,o)=>bt(s.canonicalString(),o.canonicalString()));return this.changes.forEach((s,o)=>{const a=this.Br.get(s);if(t.push(this.Nr.removeEntry(e,s,a.readTime)),o.isValidDocument()){const l=_A(this.Nr.serializer,o);i=i.add(s.path.popLast());const c=a0(l);r+=c-a.size,t.push(this.Nr.addEntry(e,s,l))}else if(r-=a.size,this.trackRemovals){const l=_A(this.Nr.serializer,o.convertToNoDocument(ot.min()));t.push(this.Nr.addEntry(e,s,l))}}),i.forEach(s=>{t.push(this.Nr.indexManager.addToCollectionParentIndex(e,s))}),t.push(this.Nr.updateMetadata(e,r)),ye.waitFor(t)}getFromCache(e,t){return this.Nr.vr(e,t).next(r=>(this.Br.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.Nr.Mr(e,t).next(({documents:r,Or:i})=>(i.forEach((s,o)=>{this.Br.set(s,{size:o,readTime:r.get(s).readTime})}),r))}}function FA(n){return dr(n,Gp)}function Iu(n){return dr(n,e0)}function Af(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function MA(n,e){const t=e.documentKey.path.toArray();return[n,s0(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function VA(n,e){const t=n.path.toArray(),r=e.path.toArray();let i=0;for(let s=0;s<t.length-2&&s<r.length-2;++s)if(i=bt(t[s],r[s]),i)return i;return i=bt(t.length,r.length),i||(i=bt(t[t.length-2],r[r.length-2]),i||bt(t[t.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $q{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tk{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&fp(r.mutation,i,xi.empty(),Gt.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Tt()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Tt()){const i=Ao();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(s=>{let o=Mf();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,t){const r=Ao();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Tt()))}populateOverlays(e,t,r){const i=[];return r.forEach(s=>{t.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{t.set(o,a)})})}computeViews(e,t,r,i){let s=Pi();const o=dp(),a=function(){return dp()}();return t.forEach((l,c)=>{const d=r.get(c.key);i.has(c.key)&&(d===void 0||d.mutation instanceof Sa)?s=s.insert(c.key,c):d!==void 0?(o.set(c.key,d.mutation.getFieldMask()),fp(d.mutation,c,d.mutation.getFieldMask(),Gt.now())):o.set(c.key,xi.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,d)=>o.set(c,d)),t.forEach((c,d)=>a.set(c,new $q(d,o.get(c)??null))),a))}recalculateAndSaveOverlays(e,t){const r=dp();let i=new pn((o,a)=>o-a),s=Tt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=t.get(l);if(c===null)return;let d=r.get(l)||xi.empty();d=a.applyToLocalView(c,d),r.set(l,d);const f=(i.get(a.batchId)||Tt()).add(l);i=i.insert(a.batchId,f)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,d=l.value,f=yC();d.forEach(p=>{if(!s.has(p)){const g=SC(t.get(p),r.get(p));g!==null&&f.set(p,g),s=s.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,f))}return ye.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(o){return $e.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):B5(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-s.size):ye.resolve(Ao());let a=td,l=s;return o.next(c=>ye.forEach(c,(d,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),s.get(d)?ye.resolve():this.remoteDocumentCache.getEntry(e,d).next(p=>{l=l.insert(d,p)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,Tt())).next(d=>({batchId:a,changes:gC(d)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new $e(t)).next(r=>{let i=Mf();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){const s=t.collectionGroup;let o=Mf();return this.indexManager.getCollectionParents(e,s).next(a=>ye.forEach(a,l=>{const c=function(f,p){return new Ia(p,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(t,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(d=>{d.forEach((f,p)=>{o=o.insert(f,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,t,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,s,i))).next(o=>{s.forEach((l,c)=>{const d=c.getKey();o.get(d)===null&&(o=o.insert(d,yn.newInvalidDocument(d)))});let a=Mf();return o.forEach((l,c)=>{const d=s.get(l);d!==void 0&&fp(d.mutation,c,xi.empty(),Gt.now()),xm(t,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wq{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return ye.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:Kn(i.createTime)}}(t)),ye.resolve()}getNamedQuery(e,t){return ye.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,function(i){return{name:i.name,query:Q5(i.bundledQuery),readTime:Kn(i.readTime)}}(t)),ye.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hq{constructor(){this.overlays=new pn($e.comparator),this.qr=new Map}getOverlay(e,t){return ye.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Ao();return ye.forEach(t,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,s)=>{this.St(e,t,s)}),ye.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.qr.delete(r)),ye.resolve()}getOverlaysForCollection(e,t,r){const i=Ao(),s=t.length+1,o=new $e(t.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!t.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return ye.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let s=new pn((c,d)=>c-d);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===t&&c.largestBatchId>r){let d=s.get(c.largestBatchId);d===null&&(d=Ao(),s=s.insert(c.largestBatchId,d)),d.set(c.getKey(),c)}}const a=Ao(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,d)=>a.set(c,d)),!(a.size()>=i)););return ye.resolve(a)}St(e,t,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new H5(t,r));let s=this.qr.get(t);s===void 0&&(s=Tt(),this.qr.set(t,s)),this.qr.set(t,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gq{constructor(){this.sessionToken=Vn.EMPTY_BYTE_STRING}getSessionToken(e){return ye.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ye.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X5{constructor(){this.Qr=new en(yr.$r),this.Ur=new en(yr.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const r=new yr(e,t);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Gr(new yr(e,t))}zr(e,t){e.forEach(r=>this.removeReference(r,t))}jr(e){const t=new $e(new Lt([])),r=new yr(t,e),i=new yr(t,e+1),s=[];return this.Ur.forEachInRange([r,i],o=>{this.Gr(o),s.push(o.key)}),s}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new $e(new Lt([])),r=new yr(t,e),i=new yr(t,e+1);let s=Tt();return this.Ur.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const t=new yr(e,0),r=this.Qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class yr{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return $e.comparator(e.key,t.key)||bt(e.Yr,t.Yr)}static Kr(e,t){return bt(e.Yr,t.Yr)||$e.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kq{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new en(yr.$r)}checkEmpty(e){return ye.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){const s=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new $5(s,t,r,i);this.mutationQueue.push(o);for(const a of i)this.Zr=this.Zr.add(new yr(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return ye.resolve(o)}lookupMutationBatch(e,t){return ye.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=this.ei(r),s=i<0?0:i;return ye.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return ye.resolve(this.mutationQueue.length===0?Pl:this.tr-1)}getAllMutationBatches(e){return ye.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new yr(t,0),i=new yr(t,Number.POSITIVE_INFINITY),s=[];return this.Zr.forEachInRange([r,i],o=>{const a=this.Xr(o.Yr);s.push(a)}),ye.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new en(bt);return t.forEach(i=>{const s=new yr(i,0),o=new yr(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([s,o],a=>{r=r.add(a.Yr)})}),ye.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let s=r;$e.isDocumentKey(s)||(s=s.child(""));const o=new yr(new $e(s),0);let a=new en(bt);return this.Zr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(l.Yr)),!0)},o),ye.resolve(this.ti(a))}ti(e){const t=[];return e.forEach(r=>{const i=this.Xr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){rt(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return ye.forEach(t.mutations,i=>{const s=new yr(i.key,t.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,t){const r=new yr(t,0),i=this.Zr.firstAfterOrEqual(r);return ye.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ye.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qq{constructor(e){this.ri=e,this.docs=function(){return new pn($e.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),s=i?i.size:0,o=this.ri(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return ye.resolve(r?r.document.mutableCopy():yn.newInvalidDocument(t))}getEntries(e,t){let r=Pi();return t.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():yn.newInvalidDocument(i))}),ye.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let s=Pi();const o=t.path,a=new $e(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:d}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||k5(LN(d),r)<=0||(i.has(d.key)||xm(t,d))&&(s=s.insert(d.key,d.mutableCopy()))}return ye.resolve(s)}getAllFromCollectionGroup(e,t,r,i){Je(9500)}ii(e,t){return ye.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new Yq(this)}getSize(e){return ye.resolve(this.size)}}class Yq extends ZC{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)}),ye.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jq{constructor(e){this.persistence=e,this.si=new Ea(t=>lc(t),Am),this.lastRemoteSnapshotVersion=ot.min(),this.highestTargetId=0,this.oi=0,this._i=new X5,this.targetCount=0,this.ai=fc.ur()}forEachTarget(e,t){return this.si.forEach((r,i)=>t(i)),ye.resolve()}getLastRemoteSnapshotVersion(e){return ye.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ye.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ye.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.oi&&(this.oi=t),ye.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new fc(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,ye.resolve()}updateTargetData(e,t){return this.Pr(t),ye.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,ye.resolve()}removeTargets(e,t,r){let i=0;const s=[];return this.si.forEach((o,a)=>{a.sequenceNumber<=t&&r.get(a.targetId)===null&&(this.si.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),ye.waitFor(s).next(()=>i)}getTargetCount(e){return ye.resolve(this.targetCount)}getTargetData(e,t){const r=this.si.get(t)||null;return ye.resolve(r)}addMatchingKeys(e,t,r){return this._i.Wr(t,r),ye.resolve()}removeMatchingKeys(e,t,r){this._i.zr(t,r);const i=this.persistence.referenceDelegate,s=[];return i&&t.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),ye.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),ye.resolve()}getMatchingKeysForTargetId(e,t){const r=this._i.Hr(t);return ye.resolve(r)}containsKey(e,t){return ye.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z5{constructor(e,t){this.ui={},this.overlays={},this.ci=new Ti(0),this.li=!1,this.li=!0,this.hi=new Gq,this.referenceDelegate=e(this),this.Pi=new Jq(this),this.indexManager=new Oq,this.remoteDocumentCache=function(i){return new Qq(i)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new qC(t),this.Ii=new Wq(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Hq,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ui[e.toKey()];return r||(r=new Kq(t,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,r){Ne("MemoryPersistence","Starting transaction:",e);const i=new Xq(this.ci.next());return this.referenceDelegate.Ei(),r(i).next(s=>this.referenceDelegate.di(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ai(e,t){return ye.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,t)))}}class Xq extends ON{constructor(e){super(),this.currentSequenceNumber=e}}class ly{constructor(e){this.persistence=e,this.Ri=new X5,this.Vi=null}static mi(e){return new ly(e)}get fi(){if(this.Vi)return this.Vi;throw Je(60996)}addReference(e,t,r){return this.Ri.addReference(r,t),this.fi.delete(r.toString()),ye.resolve()}removeReference(e,t,r){return this.Ri.removeReference(r,t),this.fi.add(r.toString()),ye.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),ye.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach(i=>this.fi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(s=>this.fi.add(s.toString()))}).next(()=>r.removeTargetData(e,t))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ye.forEach(this.fi,r=>{const i=$e.fromPath(r);return this.gi(e,i).next(s=>{s||t.removeEntry(i,ot.min())})}).next(()=>(this.Vi=null,t.apply(e)))}updateLimboDocument(e,t){return this.gi(e,t).next(r=>{r?this.fi.delete(t.toString()):this.fi.add(t.toString())})}Ti(e){return 0}gi(e,t){return ye.or([()=>ye.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class l0{constructor(e,t){this.persistence=e,this.pi=new Ea(r=>Wr(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=XC(this,t)}static mi(e,t){return new l0(e,t)}Ei(){}di(e){return ye.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}wr(e){let t=0;return this.pr(e,r=>{t++}).next(()=>t)}pr(e,t){return ye.forEach(this.pi,(r,i)=>this.br(e,r,i).next(s=>s?ye.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ii(e,o=>this.br(e,o,t).next(a=>{a||(r++,s.removeEntry(o,ot.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),ye.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),ye.resolve()}removeReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),ye.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),ye.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=l1(e.data.value)),t}br(e,t,r){return ye.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const i=this.pi.get(t);return ye.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zq{constructor(e){this.serializer=e}k(e,t,r,i){const s=new J0("createOrUpgrade",t);r<1&&i>=1&&(function(l){l.createObjectStore(Sm)}(e),function(l){l.createObjectStore(Hp,{keyPath:mz}),l.createObjectStore(Bs,{keyPath:QS,autoIncrement:!0}).createIndex(Uu,YS,{unique:!0}),l.createObjectStore(nd)}(e),jA(e),function(l){l.createObjectStore(Nu)}(e));let o=ye.resolve();return r<3&&i>=3&&(r!==0&&(function(l){l.deleteObjectStore(id),l.deleteObjectStore(rd),l.deleteObjectStore(Xu)}(e),jA(e)),o=o.next(()=>function(l){const c=l.store(Xu),d={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:ot.min().toTimestamp(),targetCount:0};return c.put(t0,d)}(s))),r<4&&i>=4&&(r!==0&&(o=o.next(()=>function(l,c){return c.store(Bs).J().next(f=>{l.deleteObjectStore(Bs),l.createObjectStore(Bs,{keyPath:QS,autoIncrement:!0}).createIndex(Uu,YS,{unique:!0});const p=c.store(Bs),g=f.map(S=>p.put(S));return ye.waitFor(g)})}(e,s))),o=o.next(()=>{(function(l){l.createObjectStore(sd,{keyPath:Sz})})(e)})),r<5&&i>=5&&(o=o.next(()=>this.yi(s))),r<6&&i>=6&&(o=o.next(()=>(function(l){l.createObjectStore(Gp)}(e),this.wi(s)))),r<7&&i>=7&&(o=o.next(()=>this.Si(s))),r<8&&i>=8&&(o=o.next(()=>this.bi(e,s))),r<9&&i>=9&&(o=o.next(()=>{(function(l){l.objectStoreNames.contains("remoteDocumentChanges")&&l.deleteObjectStore("remoteDocumentChanges")})(e)})),r<10&&i>=10&&(o=o.next(()=>this.Di(s))),r<11&&i>=11&&(o=o.next(()=>{(function(l){l.createObjectStore(X0,{keyPath:Az})})(e),function(l){l.createObjectStore(Z0,{keyPath:Tz})}(e)})),r<12&&i>=12&&(o=o.next(()=>{(function(l){const c=l.createObjectStore(ey,{keyPath:Lz});c.createIndex(w_,Dz,{unique:!1}),c.createIndex(qN,Oz,{unique:!1})})(e)})),r<13&&i>=13&&(o=o.next(()=>function(l){const c=l.createObjectStore(e0,{keyPath:yz});c.createIndex(o1,vz),c.createIndex(jN,_z)}(e)).next(()=>this.Ci(e,s)).next(()=>e.deleteObjectStore(Nu))),r<14&&i>=14&&(o=o.next(()=>this.Fi(e,s))),r<15&&i>=15&&(o=o.next(()=>function(l){l.createObjectStore(D5,{keyPath:xz,autoIncrement:!0}).createIndex(__,Pz,{unique:!1}),l.createObjectStore(up,{keyPath:Nz}).createIndex(UN,Cz,{unique:!1}),l.createObjectStore(cp,{keyPath:kz}).createIndex(zN,Rz,{unique:!1})}(e))),r<16&&i>=16&&(o=o.next(()=>{t.objectStore(up).clear()}).next(()=>{t.objectStore(cp).clear()})),r<17&&i>=17&&(o=o.next(()=>{(function(l){l.createObjectStore(O5,{keyPath:Fz})})(e)})),r<18&&i>=18&&a3()&&(o=o.next(()=>{t.objectStore(up).clear()}).next(()=>{t.objectStore(cp).clear()})),o}wi(e){let t=0;return e.store(Nu).ee((r,i)=>{t+=a0(i)}).next(()=>{const r={byteSize:t};return e.store(Gp).put(v_,r)})}yi(e){const t=e.store(Hp),r=e.store(Bs);return t.J().next(i=>ye.forEach(i,s=>{const o=IDBKeyRange.bound([s.userId,Pl],[s.userId,s.lastAcknowledgedBatchId]);return r.J(Uu,o).next(a=>ye.forEach(a,l=>{rt(l.userId===s.userId,18650,"Cannot process batch from unexpected user",{batchId:l.batchId});const c=Ru(this.serializer,l);return KC(e,s.userId,c).next(()=>{})}))}))}Si(e){const t=e.store(id),r=e.store(Nu);return e.store(Xu).get(t0).next(i=>{const s=[];return r.ee((o,a)=>{const l=new Lt(o),c=function(f){return[0,Wr(f)]}(l);s.push(t.get(c).next(d=>d?ye.resolve():(f=>t.put({targetId:0,path:Wr(f),sequenceNumber:i.highestListenSequenceNumber}))(l)))}).next(()=>ye.waitFor(s))})}bi(e,t){e.createObjectStore(Kp,{keyPath:Ez});const r=t.store(Kp),i=new J5,s=o=>{if(i.add(o)){const a=o.lastSegment(),l=o.popLast();return r.put({collectionId:a,parent:Wr(l)})}};return t.store(Nu).ee({X:!0},(o,a)=>{const l=new Lt(o);return s(l.popLast())}).next(()=>t.store(nd).ee({X:!0},([o,a,l],c)=>{const d=So(a);return s(d.popLast())}))}Di(e){const t=e.store(rd);return t.ee((r,i)=>{const s=jf(i),o=$C(this.serializer,s);return t.put(o)})}Ci(e,t){const r=t.store(Nu),i=[];return r.ee((s,o)=>{const a=t.store(e0),l=function(f){return f.document?new $e(Lt.fromString(f.document.name).popFirst(5)):f.noDocument?$e.fromSegments(f.noDocument.path):f.unknownDocument?$e.fromSegments(f.unknownDocument.path):Je(36783)}(o).path.toArray(),c={prefixPath:l.slice(0,l.length-2),collectionGroup:l[l.length-2],documentId:l[l.length-1],readTime:o.readTime||[0,0],unknownDocument:o.unknownDocument,noDocument:o.noDocument,document:o.document,hasCommittedMutations:!!o.hasCommittedMutations};i.push(a.put(c))}).next(()=>ye.waitFor(i))}Fi(e,t){const r=t.store(Bs),i=ek(this.serializer),s=new Z5(ly.mi,this.serializer.yt);return r.J().next(o=>{const a=new Map;return o.forEach(l=>{let c=a.get(l.userId)??Tt();Ru(this.serializer,l).keys().forEach(d=>c=c.add(d)),a.set(l.userId,c)}),ye.forEach(a,(l,c)=>{const d=new _r(c),f=oy.wt(this.serializer,d),p=s.getIndexManager(d),g=ay.wt(d,this.serializer,p,s.referenceDelegate);return new tk(i,g,f,p).recalculateAndSaveOverlaysForDocumentKeys(new b_(t,Ti.ce),l).next()})})}}function jA(n){n.createObjectStore(id,{keyPath:bz}).createIndex(L5,Iz,{unique:!0}),n.createObjectStore(rd,{keyPath:"targetId"}).createIndex(BN,wz,{unique:!0}),n.createObjectStore(Xu)}const el="IndexedDbPersistence",jv=18e5,Bv=5e3,Uv="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",nk="main";class eb{constructor(e,t,r,i,s,o,a,l,c,d,f=18){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Mi=s,this.window=o,this.document=a,this.xi=c,this.Oi=d,this.Ni=f,this.ci=null,this.li=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Bi=null,this.inForeground=!1,this.Li=null,this.ki=null,this.qi=Number.NEGATIVE_INFINITY,this.Qi=p=>Promise.resolve(),!eb.v())throw new xe(be.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Uq(this,i),this.$i=t+nk,this.serializer=new qC(l),this.Ui=new No(this.$i,this.Ni,new Zq(this.serializer)),this.hi=new Nq,this.Pi=new Mq(this.referenceDelegate,this.serializer),this.remoteDocumentCache=ek(this.serializer),this.Ii=new Pq,this.window&&this.window.localStorage?this.Ki=this.window.localStorage:(this.Ki=null,d===!1&&Gn(el,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Wi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new xe(be.FAILED_PRECONDITION,Uv);return this.Gi(),this.zi(),this.ji(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Pi.getHighestSequenceNumber(e))}).then(e=>{this.ci=new Ti(e,this.xi)}).then(()=>{this.li=!0}).catch(e=>(this.Ui&&this.Ui.close(),Promise.reject(e)))}Ji(e){return this.Qi=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ui.$(async t=>{t.newVersion===null&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Mi.enqueueAndForget(async()=>{this.started&&await this.Wi()}))}Wi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Mg(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Hi(e).next(t=>{t||(this.isPrimary=!1,this.Mi.enqueueRetryable(()=>this.Qi(!1)))})}).next(()=>this.Yi(e)).next(t=>this.isPrimary&&!t?this.Zi(e).next(()=>!1):!!t&&this.Xi(e).next(()=>!0))).catch(e=>{if(Zl(e))return Ne(el,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Ne(el,"Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Mi.enqueueRetryable(()=>this.Qi(e)),this.isPrimary=e})}Hi(e){return Tf(e).get(ih).next(t=>ye.resolve(this.es(t)))}ts(e){return Mg(e).delete(this.clientId)}async ns(){if(this.isPrimary&&!this.rs(this.qi,jv)){this.qi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",t=>{const r=dr(t,sd);return r.J().next(i=>{const s=this.ss(i,jv),o=i.filter(a=>s.indexOf(a)===-1);return ye.forEach(o,a=>r.delete(a.clientId)).next(()=>o)})}).catch(()=>[]);if(this.Ki)for(const t of e)this.Ki.removeItem(this._s(t.clientId))}}ji(){this.ki=this.Mi.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Wi().then(()=>this.ns()).then(()=>this.ji()))}es(e){return!!e&&e.ownerId===this.clientId}Yi(e){return this.Oi?ye.resolve(!0):Tf(e).get(ih).next(t=>{if(t!==null&&this.rs(t.leaseTimestampMs,Bv)&&!this.us(t.ownerId)){if(this.es(t)&&this.networkEnabled)return!0;if(!this.es(t)){if(!t.allowTabSynchronization)throw new xe(be.FAILED_PRECONDITION,Uv);return!1}}return!(!this.networkEnabled||!this.inForeground)||Mg(e).J().next(r=>this.ss(r,Bv).find(i=>{if(this.clientId!==i.clientId){const s=!this.networkEnabled&&i.networkEnabled,o=!this.inForeground&&i.inForeground,a=this.networkEnabled===i.networkEnabled;if(s||o&&a)return!0}return!1})===void 0)}).next(t=>(this.isPrimary!==t&&Ne(el,`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}async shutdown(){this.li=!1,this.cs(),this.ki&&(this.ki.cancel(),this.ki=null),this.ls(),this.hs(),await this.Ui.runTransaction("shutdown","readwrite",[Sm,sd],e=>{const t=new b_(e,Ti.ce);return this.Zi(t).next(()=>this.ts(t))}),this.Ui.close(),this.Ps()}ss(e,t){return e.filter(r=>this.rs(r.updateTimeMs,t)&&!this.us(r.clientId))}Ts(){return this.runTransaction("getActiveClients","readonly",e=>Mg(e).J().next(t=>this.ss(t,jv).map(r=>r.clientId)))}get started(){return this.li}getGlobalsCache(){return this.hi}getMutationQueue(e,t){return ay.wt(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Fq(e,this.serializer.yt.databaseId)}getDocumentOverlayCache(e){return oy.wt(this.serializer,e)}getBundleCache(){return this.Ii}runTransaction(e,t,r){Ne(el,"Starting transaction:",e);const i=t==="readonly"?"readonly":"readwrite",s=function(l){return l===18?jz:l===17?GN:l===16?Vz:l===15?F5:l===14?HN:l===13?WN:l===12?Mz:l===11?$N:void Je(60245)}(this.Ni);let o;return this.Ui.runTransaction(e,i,s,a=>(o=new b_(a,this.ci?this.ci.next():Ti.ce),t==="readwrite-primary"?this.Hi(o).next(l=>!!l||this.Yi(o)).next(l=>{if(!l)throw Gn(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Mi.enqueueRetryable(()=>this.Qi(!1)),new xe(be.FAILED_PRECONDITION,DN);return r(o)}).next(l=>this.Xi(o).next(()=>l)):this.Is(o).next(()=>r(o)))).then(a=>(o.raiseOnCommittedEvent(),a))}Is(e){return Tf(e).get(ih).next(t=>{if(t!==null&&this.rs(t.leaseTimestampMs,Bv)&&!this.us(t.ownerId)&&!this.es(t)&&!(this.Oi||this.allowTabSynchronization&&t.allowTabSynchronization))throw new xe(be.FAILED_PRECONDITION,Uv)})}Xi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Tf(e).put(ih,t)}static v(){return No.v()}Zi(e){const t=Tf(e);return t.get(ih).next(r=>this.es(r)?(Ne(el,"Releasing primary lease."),t.delete(ih)):ye.resolve())}rs(e,t){const r=Date.now();return!(e<r-t)&&(!(e>r)||(Gn(`Detected an update time that is in the future: ${e} > ${r}`),!1))}Gi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Li=()=>{this.Mi.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.Wi()))},this.document.addEventListener("visibilitychange",this.Li),this.inForeground=this.document.visibilityState==="visible")}ls(){this.Li&&(this.document.removeEventListener("visibilitychange",this.Li),this.Li=null)}zi(){var e;typeof((e=this.window)==null?void 0:e.addEventListener)=="function"&&(this.Bi=()=>{this.cs();const t=/(?:Version|Mobile)\/1[456]/;o3()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.Mi.enterRestrictedMode(!0),this.Mi.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Bi))}hs(){this.Bi&&(this.window.removeEventListener("pagehide",this.Bi),this.Bi=null)}us(e){var t;try{const r=((t=this.Ki)==null?void 0:t.getItem(this._s(e)))!==null;return Ne(el,`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Gn(el,"Failed to get zombied client id.",r),!1}}cs(){if(this.Ki)try{this.Ki.setItem(this._s(this.clientId),String(Date.now()))}catch(e){Gn("Failed to set zombie client id.",e)}}Ps(){if(this.Ki)try{this.Ki.removeItem(this._s(this.clientId))}catch{}}_s(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Tf(n){return dr(n,Sm)}function Mg(n){return dr(n,sd)}function tb(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nb{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Es=r,this.ds=i}static As(e,t){let r=Tt(),i=Tt();for(const s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new nb(e,t.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e${constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rk{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return o3()?8:FN(Rn())>0?6:4}()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,r,i){const s={result:null};return this.ys(e,t).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ws(e,t,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new e$;return this.Ss(e,t,o).next(a=>{if(s.result=a,this.Vs)return this.bs(e,t,o,a.size)})}).next(()=>s.result)}bs(e,t,r,i){return r.documentReadCount<this.fs?(dh()<=Rt.DEBUG&&Ne("QueryEngine","SDK will not create cache indexes for query:",fh(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ye.resolve()):(dh()<=Rt.DEBUG&&Ne("QueryEngine","Query:",fh(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(dh()<=Rt.DEBUG&&Ne("QueryEngine","The SDK decides to create cache indexes for query:",fh(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ui(t))):ye.resolve())}ys(e,t){if(uA(t))return ye.resolve(null);let r=ui(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=i0(t,null,"F"),r=ui(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=Tt(...s);return this.ps.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.Ds(t,a);return this.Cs(t,c,o,l.readTime)?this.ys(e,i0(t,null,"F")):this.vs(e,c,t,l)}))})))}ws(e,t,r,i){return uA(t)||i.isEqual(ot.min())?ye.resolve(null):this.ps.getDocuments(e,r).next(s=>{const o=this.Ds(t,s);return this.Cs(t,o,r,i)?ye.resolve(null):(dh()<=Rt.DEBUG&&Ne("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),fh(t)),this.vs(e,o,t,RN(i,td)).next(a=>a))})}Ds(e,t){let r=new en(pC(e));return t.forEach((i,s)=>{xm(e,s)&&(r=r.add(s))}),r}Cs(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const s=e.limitType==="F"?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ss(e,t,r){return dh()<=Rt.DEBUG&&Ne("QueryEngine","Using full collection scan to execute query:",fh(t)),this.ps.getDocumentsMatchingQuery(e,t,Ki.min(),r)}vs(e,t,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next(s=>(t.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rb="LocalStore",t$=3e8;class n${constructor(e,t,r,i){this.persistence=e,this.Fs=t,this.serializer=i,this.Ms=new pn(bt),this.xs=new Ea(s=>lc(s),Am),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new tk(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ms))}}function ik(n,e,t,r){return new n$(n,e,t,r)}async function sk(n,e){const t=Ge(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,t.Bs(e),t.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=Tt();for(const c of i){o.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}for(const c of s){a.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}return t.localDocuments.getDocuments(r,l).next(c=>({Ls:c,removedBatchIds:o,addedBatchIds:a}))})})}function r$(n,e){const t=Ge(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=t.Ns.newChangeBuffer({trackRemovals:!0});return function(a,l,c,d){const f=c.batch,p=f.keys();let g=ye.resolve();return p.forEach(S=>{g=g.next(()=>d.getEntry(l,S)).next(x=>{const k=c.docVersions.get(S);rt(k!==null,48541),x.version.compareTo(k)<0&&(f.applyToRemoteDocument(x,c),x.isValidDocument()&&(x.setReadTime(c.commitVersion),d.addEntry(x)))})}),g.next(()=>a.mutationQueue.removeMutationBatch(l,f))}(t,r,e,s).next(()=>s.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Tt();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function ok(n){const e=Ge(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Pi.getLastRemoteSnapshotVersion(t))}function i$(n,e){const t=Ge(n),r=e.snapshotVersion;let i=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=t.Ns.newChangeBuffer({trackRemovals:!0});i=t.Ms;const a=[];e.targetChanges.forEach((d,f)=>{const p=i.get(f);if(!p)return;a.push(t.Pi.removeMatchingKeys(s,d.removedDocuments,f).next(()=>t.Pi.addMatchingKeys(s,d.addedDocuments,f)));let g=p.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(f)!==null?g=g.withResumeToken(Vn.EMPTY_BYTE_STRING,ot.min()).withLastLimboFreeSnapshotVersion(ot.min()):d.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(d.resumeToken,r)),i=i.insert(f,g),function(x,k,_){return x.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-x.snapshotVersion.toMicroseconds()>=t$?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0}(p,g,d)&&a.push(t.Pi.updateTargetData(s,g))});let l=Pi(),c=Tt();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(s,d))}),a.push(ak(s,o,e.documentUpdates).next(d=>{l=d.ks,c=d.qs})),!r.isEqual(ot.min())){const d=t.Pi.getLastRemoteSnapshotVersion(s).next(f=>t.Pi.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(d)}return ye.waitFor(a).next(()=>o.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(t.Ms=i,s))}function ak(n,e,t){let r=Tt(),i=Tt();return t.forEach(s=>r=r.add(s)),e.getEntries(n,r).next(s=>{let o=Pi();return t.forEach((a,l)=>{const c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(ot.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):Ne(rb,"Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{ks:o,qs:i}})}function s$(n,e){const t=Ge(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Pl),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function dd(n,e){const t=Ge(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Pi.getTargetData(r,e).next(s=>s?(i=s,ye.resolve(i)):t.Pi.allocateTargetId(r).next(o=>(i=new ia(e,o,"TargetPurposeListen",r.currentSequenceNumber),t.Pi.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(r.targetId,r),t.xs.set(e,r.targetId)),r})}async function fd(n,e,t){const r=Ge(n),i=r.Ms.get(e),s=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Zl(o))throw o;Ne(rb,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function u0(n,e,t){const r=Ge(n);let i=ot.min(),s=Tt();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,d){const f=Ge(l),p=f.xs.get(d);return p!==void 0?ye.resolve(f.Ms.get(p)):f.Pi.getTargetData(c,d)}(r,o,ui(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.Fs.getDocumentsMatchingQuery(o,e,t?i:ot.min(),t?s:Tt())).next(a=>(ck(r,fC(e),a),{documents:a,Qs:s})))}function lk(n,e){const t=Ge(n),r=Ge(t.Pi),i=t.Ms.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",s=>r.At(s,e).next(o=>o?o.target:null))}function uk(n,e){const t=Ge(n),r=t.Os.get(e)||ot.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.Ns.getAllFromCollectionGroup(i,e,RN(r,td),Number.MAX_SAFE_INTEGER)).then(i=>(ck(t,e,i),i))}function ck(n,e,t){let r=n.Os.get(e)||ot.min();t.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),n.Os.set(e,r)}async function o$(n,e,t,r){const i=Ge(n);let s=Tt(),o=Pi();for(const c of t){const d=e.$s(c.metadata.name);c.document&&(s=s.add(d));const f=e.Us(c);f.setReadTime(e.Ks(c.metadata.readTime)),o=o.insert(d,f)}const a=i.Ns.newChangeBuffer({trackRemovals:!0}),l=await dd(i,function(d){return ui(Rd(Lt.fromString(`__bundle__/docs/${d}`)))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",c=>ak(c,a,o).next(d=>(a.apply(c),d)).next(d=>i.Pi.removeMatchingKeysForTargetId(c,l.targetId).next(()=>i.Pi.addMatchingKeys(c,s,l.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(c,d.ks,d.qs)).next(()=>d.ks)))}async function a$(n,e,t=Tt()){const r=await dd(n,ui(Q5(e.bundledQuery))),i=Ge(n);return i.persistence.runTransaction("Save named query","readwrite",s=>{const o=Kn(e.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Ii.saveNamedQuery(s,e);const a=r.withResumeToken(Vn.EMPTY_BYTE_STRING,o);return i.Ms=i.Ms.insert(a.targetId,a),i.Pi.updateTargetData(s,a).next(()=>i.Pi.removeMatchingKeysForTargetId(s,r.targetId)).next(()=>i.Pi.addMatchingKeys(s,t,r.targetId)).next(()=>i.Ii.saveNamedQuery(s,e))})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hk="firestore_clients";function BA(n,e){return`${hk}_${n}_${e}`}const dk="firestore_mutations";function UA(n,e,t){let r=`${dk}_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}const fk="firestore_targets";function zv(n,e){return`${fk}_${n}_${e}`}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const go="SharedClientState";class c0{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static Ws(e,t,r){const i=JSON.parse(r);let s,o=typeof i=="object"&&["pending","acknowledged","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return o&&i.error&&(o=typeof i.error.message=="string"&&typeof i.error.code=="string",o&&(s=new xe(i.error.code,i.error.message))),o?new c0(e,t,i.state,s):(Gn(go,`Failed to parse mutation state for ID '${t}': ${r}`),null)}Gs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class pp{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Ws(e,t){const r=JSON.parse(t);let i,s=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return s&&r.error&&(s=typeof r.error.message=="string"&&typeof r.error.code=="string",s&&(i=new xe(r.error.code,r.error.message))),s?new pp(e,r.state,i):(Gn(go,`Failed to parse target state for ID '${e}': ${t}`),null)}Gs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class h0{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Ws(e,t){const r=JSON.parse(t);let i=typeof r=="object"&&r.activeTargetIds instanceof Array,s=U5();for(let o=0;i&&o<r.activeTargetIds.length;++o)i=MN(r.activeTargetIds[o]),s=s.add(r.activeTargetIds[o]);return i?new h0(e,s):(Gn(go,`Failed to parse client data for instance '${e}': ${t}`),null)}}class ib{constructor(e,t){this.clientId=e,this.onlineState=t}static Ws(e){const t=JSON.parse(e);return typeof t=="object"&&["Unknown","Online","Offline"].indexOf(t.onlineState)!==-1&&typeof t.clientId=="string"?new ib(t.clientId,t.onlineState):(Gn(go,`Failed to parse online state: ${e}`),null)}}class F_{constructor(){this.activeTargetIds=U5()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class qv{constructor(e,t,r,i,s){this.window=e,this.Mi=t,this.persistenceKey=r,this.Js=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Hs=this.Ys.bind(this),this.Zs=new pn(bt),this.started=!1,this.Xs=[];const o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.eo=BA(this.persistenceKey,this.Js),this.no=function(l){return`firestore_sequence_number_${l}`}(this.persistenceKey),this.Zs=this.Zs.insert(this.Js,new F_),this.ro=new RegExp(`^${hk}_${o}_([^_]*)$`),this.io=new RegExp(`^${dk}_${o}_(\\d+)(?:_(.*))?$`),this.so=new RegExp(`^${fk}_${o}_(\\d+)$`),this.oo=function(l){return`firestore_online_state_${l}`}(this.persistenceKey),this._o=function(l){return`firestore_bundle_loaded_v2_${l}`}(this.persistenceKey),this.window.addEventListener("storage",this.Hs)}static v(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.Ts();for(const r of e){if(r===this.Js)continue;const i=this.getItem(BA(this.persistenceKey,r));if(i){const s=h0.Ws(r,i);s&&(this.Zs=this.Zs.insert(s.clientId,s))}}this.ao();const t=this.storage.getItem(this.oo);if(t){const r=this.uo(t);r&&this.co(r)}for(const r of this.Xs)this.Ys(r);this.Xs=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0}writeSequenceNumber(e){this.setItem(this.no,JSON.stringify(e))}getAllActiveQueryTargets(){return this.lo(this.Zs)}isActiveQueryTarget(e){let t=!1;return this.Zs.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.ho(e,"pending")}updateMutationState(e,t,r){this.ho(e,t,r),this.Po(e)}addLocalQueryTarget(e,t=!0){let r="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(zv(this.persistenceKey,e));if(i){const s=pp.Ws(e,i);s&&(r=s.state)}}return t&&this.To.zs(e),this.ao(),r}removeLocalQueryTarget(e){this.To.js(e),this.ao()}isLocalQueryTarget(e){return this.To.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(zv(this.persistenceKey,e))}updateQueryState(e,t,r){this.Io(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.Po(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Eo(e)}notifyBundleLoaded(e){this.Ao(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Hs),this.removeItem(this.eo),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Ne(go,"READ",e,t),t}setItem(e,t){Ne(go,"SET",e,t),this.storage.setItem(e,t)}removeItem(e){Ne(go,"REMOVE",e),this.storage.removeItem(e)}Ys(e){const t=e;if(t.storageArea===this.storage){if(Ne(go,"EVENT",t.key,t.newValue),t.key===this.eo)return void Gn("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Mi.enqueueRetryable(async()=>{if(this.started){if(t.key!==null){if(this.ro.test(t.key)){if(t.newValue==null){const r=this.Ro(t.key);return this.Vo(r,null)}{const r=this.mo(t.key,t.newValue);if(r)return this.Vo(r.clientId,r)}}else if(this.io.test(t.key)){if(t.newValue!==null){const r=this.fo(t.key,t.newValue);if(r)return this.po(r)}}else if(this.so.test(t.key)){if(t.newValue!==null){const r=this.yo(t.key,t.newValue);if(r)return this.wo(r)}}else if(t.key===this.oo){if(t.newValue!==null){const r=this.uo(t.newValue);if(r)return this.co(r)}}else if(t.key===this.no){const r=function(s){let o=Ti.ce;if(s!=null)try{const a=JSON.parse(s);rt(typeof a=="number",30636,{So:s}),o=a}catch(a){Gn(go,"Failed to read sequence number from WebStorage",a)}return o}(t.newValue);r!==Ti.ce&&this.sequenceNumberHandler(r)}else if(t.key===this._o){const r=this.bo(t.newValue);await Promise.all(r.map(i=>this.syncEngine.Do(i)))}}}else this.Xs.push(t)})}}get To(){return this.Zs.get(this.Js)}ao(){this.setItem(this.eo,this.To.Gs())}ho(e,t,r){const i=new c0(this.currentUser,e,t,r),s=UA(this.persistenceKey,this.currentUser,e);this.setItem(s,i.Gs())}Po(e){const t=UA(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Eo(e){const t={clientId:this.Js,onlineState:e};this.storage.setItem(this.oo,JSON.stringify(t))}Io(e,t,r){const i=zv(this.persistenceKey,e),s=new pp(e,t,r);this.setItem(i,s.Gs())}Ao(e){const t=JSON.stringify(Array.from(e));this.setItem(this._o,t)}Ro(e){const t=this.ro.exec(e);return t?t[1]:null}mo(e,t){const r=this.Ro(e);return h0.Ws(r,t)}fo(e,t){const r=this.io.exec(e),i=Number(r[1]),s=r[2]!==void 0?r[2]:null;return c0.Ws(new _r(s),i,t)}yo(e,t){const r=this.so.exec(e),i=Number(r[1]);return pp.Ws(i,t)}uo(e){return ib.Ws(e)}bo(e){return JSON.parse(e)}async po(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.Co(e.batchId,e.state,e.error);Ne(go,`Ignoring mutation for non-active user ${e.user.uid}`)}wo(e){return this.syncEngine.vo(e.targetId,e.state,e.error)}Vo(e,t){const r=t?this.Zs.insert(e,t):this.Zs.remove(e),i=this.lo(this.Zs),s=this.lo(r),o=[],a=[];return s.forEach(l=>{i.has(l)||o.push(l)}),i.forEach(l=>{s.has(l)||a.push(l)}),this.syncEngine.Fo(o,a).then(()=>{this.Zs=r})}co(e){this.Zs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}lo(e){let t=U5();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class pk{constructor(){this.Mo=new F_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,r){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new F_,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l${Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zA="ConnectivityMonitor";class qA{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Ne(zA,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Ne(zA,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vg=null;function M_(){return Vg===null?Vg=function(){return 268435456+Math.round(2147483648*Math.random())}():Vg++,"0x"+Vg.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $v="RestConnection",u$={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class c${get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===I_?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,t,r,i,s){const o=M_(),a=this.zo(e,t.toUriEncodedString());Ne($v,`Sending RPC '${e}' ${o}:`,a,r);const l={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(l,i,s);const{host:c}=new URL(a),d=Td(c);return this.Jo(e,a,l,r,d).then(f=>(Ne($v,`Received RPC '${e}' ${o}: `,f),f),f=>{throw Do($v,`RPC '${e}' ${o} failed with error: `,f,"url: ",a,"request:",r),f})}Ho(e,t,r,i,s,o){return this.Go(e,t,r,i,s)}jo(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+kd}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}zo(e,t){const r=u$[e];return`${this.Uo}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h${constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Br="WebChannelConnection";class d$ extends c${constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,r,i,s){const o=M_();return new Promise((a,l)=>{const c=new bN;c.setWithCredentials(!0),c.listenOnce(IN.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case r1.NO_ERROR:const f=c.getResponseJson();Ne(Br,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(f)),a(f);break;case r1.TIMEOUT:Ne(Br,`RPC '${e}' ${o} timed out`),l(new xe(be.DEADLINE_EXCEEDED,"Request time out"));break;case r1.HTTP_ERROR:const p=c.getStatus();if(Ne(Br,`RPC '${e}' ${o} failed with status:`,p,"response text:",c.getResponseText()),p>0){let g=c.getResponseJson();Array.isArray(g)&&(g=g[0]);const S=g==null?void 0:g.error;if(S&&S.status&&S.message){const x=function(_){const b=_.toLowerCase().replace(/_/g,"-");return Object.values(be).indexOf(b)>=0?b:be.UNKNOWN}(S.status);l(new xe(x,S.message))}else l(new xe(be.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new xe(be.UNAVAILABLE,"Connection failed."));break;default:Je(9055,{l_:e,streamId:o,h_:c.getLastErrorCode(),P_:c.getLastError()})}}finally{Ne(Br,`RPC '${e}' ${o} completed.`)}});const d=JSON.stringify(i);Ne(Br,`RPC '${e}' ${o} sending request:`,i),c.send(t,"POST",d,r,15)})}T_(e,t,r){const i=M_(),s=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=AN(),a=SN(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.jo(l.initMessageHeaders,t,r),l.encodeInitMessageHeaders=!0;const d=s.join("");Ne(Br,`Creating RPC '${e}' stream ${i}: ${d}`,l);const f=o.createWebChannel(d,l);this.I_(f);let p=!1,g=!1;const S=new h$({Yo:k=>{g?Ne(Br,`Not sending because RPC '${e}' stream ${i} is closed:`,k):(p||(Ne(Br,`Opening RPC '${e}' stream ${i} transport.`),f.open(),p=!0),Ne(Br,`RPC '${e}' stream ${i} sending:`,k),f.send(k))},Zo:()=>f.close()}),x=(k,_,b)=>{k.listen(_,E=>{try{b(E)}catch(F){setTimeout(()=>{throw F},0)}})};return x(f,Ff.EventType.OPEN,()=>{g||(Ne(Br,`RPC '${e}' stream ${i} transport opened.`),S.o_())}),x(f,Ff.EventType.CLOSE,()=>{g||(g=!0,Ne(Br,`RPC '${e}' stream ${i} transport closed`),S.a_(),this.E_(f))}),x(f,Ff.EventType.ERROR,k=>{g||(g=!0,Do(Br,`RPC '${e}' stream ${i} transport errored. Name:`,k.name,"Message:",k.message),S.a_(new xe(be.UNAVAILABLE,"The operation could not be completed")))}),x(f,Ff.EventType.MESSAGE,k=>{var _;if(!g){const b=k.data[0];rt(!!b,16349);const E=b,F=(E==null?void 0:E.error)||((_=E[0])==null?void 0:_.error);if(F){Ne(Br,`RPC '${e}' stream ${i} received error:`,F);const B=F.status;let U=function(C){const D=Zn[C];if(D!==void 0)return xC(D)}(B),N=F.message;U===void 0&&(U=be.INTERNAL,N="Unknown error status: "+B+" with message "+F.message),g=!0,S.a_(new xe(U,N)),f.close()}else Ne(Br,`RPC '${e}' stream ${i} received:`,b),S.u_(b)}}),x(a,EN.STAT_EVENT,k=>{k.stat===m_.PROXY?Ne(Br,`RPC '${e}' stream ${i} detected buffering proxy`):k.stat===m_.NOPROXY&&Ne(Br,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{S.__()},0),S}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(t=>t===e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mk(){return typeof window<"u"?window:null}function f1(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function km(n){return new yq(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sb{constructor(e,t,r=1e3,i=1.5,s=6e4){this.Mi=e,this.timerId=t,this.d_=r,this.A_=i,this.R_=s,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,t-r);i>0&&Ne("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $A="PersistentStream";class gk{constructor(e,t,r,i,s,o,a,l){this.Mi=e,this.S_=r,this.b_=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new sb(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===be.RESOURCE_EXHAUSTED?(Gn(t.toString()),Gn("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===be.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.D_===t&&this.G_(r,i)},r=>{e(()=>{const i=new xe(be.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)})})}G_(e,t){const r=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(i=>{r(()=>this.z_(i))}),this.stream.onMessage(i=>{r(()=>++this.F_==1?this.J_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return Ne($A,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget(()=>this.D_===e?t():(Ne($A,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class f$ extends gk{constructor(e,t,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=wq(this.serializer,e),r=function(s){if(!("targetChange"in s))return ot.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?ot.min():o.readTime?Kn(o.readTime):ot.min()}(e);return this.listener.H_(t,r)}Y_(e){const t={};t.database=k_(this.serializer),t.addTarget=function(s,o){let a;const l=o.target;if(a=n0(l)?{documents:MC(s,l)}:{query:VC(s,l).ft},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=kC(s,o.resumeToken);const c=N_(s,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(ot.min())>0){a.readTime=hd(s,o.snapshotVersion.toTimestamp());const c=N_(s,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=Iq(this.serializer,e);r&&(t.labels=r),this.q_(t)}Z_(e){const t={};t.database=k_(this.serializer),t.removeTarget=e,this.q_(t)}}class p$ extends gk{constructor(e,t,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return rt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,rt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){rt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=bq(e.writeResults,e.commitTime),r=Kn(e.commitTime);return this.listener.na(r,t)}ra(){const e={};e.database=k_(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>em(this.serializer,r))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m${}class g$ extends m${constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new xe(be.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Go(e,C_(t,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===be.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new xe(be.UNKNOWN,s.toString())})}Ho(e,t,r,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Ho(e,C_(t,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===be.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new xe(be.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class y${constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Gn(t),this.aa=!1):Ne("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pc="RemoteStore";class v${constructor(e,t,r,i,s){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=s,this.Aa.Oo(o=>{r.enqueueAndForget(async()=>{tu(this)&&(Ne(pc,"Restarting streams for network reachability change."),await async function(l){const c=Ge(l);c.Ea.add(4),await Od(c),c.Ra.set("Unknown"),c.Ea.delete(4),await Rm(c)}(this))})}),this.Ra=new y$(r,i)}}async function Rm(n){if(tu(n))for(const e of n.da)await e(!0)}async function Od(n){for(const e of n.da)await e(!1)}function uy(n,e){const t=Ge(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),lb(t)?ab(t):Md(t).O_()&&ob(t,e))}function pd(n,e){const t=Ge(n),r=Md(t);t.Ia.delete(e),r.O_()&&yk(t,e),t.Ia.size===0&&(r.O_()?r.L_():tu(t)&&t.Ra.set("Unknown"))}function ob(n,e){if(n.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ot.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Md(n).Y_(e)}function yk(n,e){n.Va.Ue(e),Md(n).Z_(e)}function ab(n){n.Va=new fq({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),Md(n).start(),n.Ra.ua()}function lb(n){return tu(n)&&!Md(n).x_()&&n.Ia.size>0}function tu(n){return Ge(n).Ea.size===0}function vk(n){n.Va=void 0}async function _$(n){n.Ra.set("Online")}async function w$(n){n.Ia.forEach((e,t)=>{ob(n,e)})}async function b$(n,e){vk(n),lb(n)?(n.Ra.ha(e),ab(n)):n.Ra.set("Unknown")}async function I$(n,e,t){if(n.Ra.set("Online"),e instanceof CC&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.Ia.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.Ia.delete(a),i.Va.removeTarget(a))}(n,e)}catch(r){Ne(pc,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await d0(n,r)}else if(e instanceof h1?n.Va.Ze(e):e instanceof NC?n.Va.st(e):n.Va.tt(e),!t.isEqual(ot.min()))try{const r=await ok(n.localStore);t.compareTo(r)>=0&&await function(s,o){const a=s.Va.Tt(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const d=s.Ia.get(c);d&&s.Ia.set(c,d.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const d=s.Ia.get(l);if(!d)return;s.Ia.set(l,d.withResumeToken(Vn.EMPTY_BYTE_STRING,d.snapshotVersion)),yk(s,l);const f=new ia(d.target,l,c,d.sequenceNumber);ob(s,f)}),s.remoteSyncer.applyRemoteEvent(a)}(n,t)}catch(r){Ne(pc,"Failed to raise snapshot:",r),await d0(n,r)}}async function d0(n,e,t){if(!Zl(e))throw e;n.Ea.add(1),await Od(n),n.Ra.set("Offline"),t||(t=()=>ok(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{Ne(pc,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await Rm(n)})}function _k(n,e){return e().catch(t=>d0(n,t,e))}async function Fd(n){const e=Ge(n),t=ql(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Pl;for(;E$(e);)try{const i=await s$(e.localStore,r);if(i===null){e.Ta.length===0&&t.L_();break}r=i.batchId,S$(e,i)}catch(i){await d0(e,i)}wk(e)&&bk(e)}function E$(n){return tu(n)&&n.Ta.length<10}function S$(n,e){n.Ta.push(e);const t=ql(n);t.O_()&&t.X_&&t.ea(e.mutations)}function wk(n){return tu(n)&&!ql(n).x_()&&n.Ta.length>0}function bk(n){ql(n).start()}async function A$(n){ql(n).ra()}async function T$(n){const e=ql(n);for(const t of n.Ta)e.ea(t.mutations)}async function x$(n,e,t){const r=n.Ta.shift(),i=W5.from(r,e,t);await _k(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),await Fd(n)}async function P$(n,e){e&&ql(n).X_&&await async function(r,i){if(function(o){return TC(o)&&o!==be.ABORTED}(i.code)){const s=r.Ta.shift();ql(r).B_(),await _k(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Fd(r)}}(n,e),wk(n)&&bk(n)}async function WA(n,e){const t=Ge(n);t.asyncQueue.verifyOperationInProgress(),Ne(pc,"RemoteStore received new credentials");const r=tu(t);t.Ea.add(3),await Od(t),r&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await Rm(t)}async function V_(n,e){const t=Ge(n);e?(t.Ea.delete(2),await Rm(t)):e||(t.Ea.add(2),await Od(t),t.Ra.set("Unknown"))}function Md(n){return n.ma||(n.ma=function(t,r,i){const s=Ge(t);return s.sa(),new f$(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{Xo:_$.bind(null,n),t_:w$.bind(null,n),r_:b$.bind(null,n),H_:I$.bind(null,n)}),n.da.push(async e=>{e?(n.ma.B_(),lb(n)?ab(n):n.Ra.set("Unknown")):(await n.ma.stop(),vk(n))})),n.ma}function ql(n){return n.fa||(n.fa=function(t,r,i){const s=Ge(t);return s.sa(),new p$(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:A$.bind(null,n),r_:P$.bind(null,n),ta:T$.bind(null,n),na:x$.bind(null,n)}),n.da.push(async e=>{e?(n.fa.B_(),await Fd(n)):(await n.fa.stop(),n.Ta.length>0&&(Ne(pc,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))})),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ub{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Cr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,s){const o=Date.now()+r,a=new ub(e,t,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new xe(be.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Vd(n,e){if(Gn("AsyncQueue",`${e}: ${n}`),Zl(n))return new xe(be.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh{static emptySet(e){return new Uh(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||$e.comparator(t.key,r.key):(t,r)=>$e.comparator(t.key,r.key),this.keyedMap=Mf(),this.sortedSet=new pn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Uh)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new Uh;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HA{constructor(){this.ga=new pn($e.comparator)}track(e){const t=e.doc.key,r=this.ga.get(t);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(t,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(t):e.type===1&&r.type===2?this.ga=this.ga.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Je(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal((t,r)=>{e.push(r)}),e}}class md{constructor(e,t,r,i,s,o,a,l,c){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,t,r,i,s){const o=[];return t.forEach(a=>{o.push({type:0,doc:a})}),new md(e,t,Uh.emptySet(t),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Tm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N${constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class C${constructor(){this.queries=GA(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){const i=Ge(t),s=i.queries;i.queries=GA(),s.forEach((o,a)=>{for(const l of a.Sa)l.onError(r)})})(this,new xe(be.ABORTED,"Firestore shutting down"))}}function GA(){return new Ea(n=>dC(n),Tm)}async function cb(n,e){const t=Ge(n);let r=3;const i=e.query;let s=t.queries.get(i);s?!s.ba()&&e.Da()&&(r=2):(s=new N$,r=e.Da()?0:1);try{switch(r){case 0:s.wa=await t.onListen(i,!0);break;case 1:s.wa=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(o){const a=Vd(o,`Initialization of query '${fh(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,s),s.Sa.push(e),e.va(t.onlineState),s.wa&&e.Fa(s.wa)&&db(t)}async function hb(n,e){const t=Ge(n),r=e.query;let i=3;const s=t.queries.get(r);if(s){const o=s.Sa.indexOf(e);o>=0&&(s.Sa.splice(o,1),s.Sa.length===0?i=e.Da()?0:1:!s.ba()&&e.Da()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function k$(n,e){const t=Ge(n);let r=!1;for(const i of e){const s=i.query,o=t.queries.get(s);if(o){for(const a of o.Sa)a.Fa(i)&&(r=!0);o.wa=i}}r&&db(t)}function R$(n,e,t){const r=Ge(n),i=r.queries.get(e);if(i)for(const s of i.Sa)s.onError(t);r.queries.delete(e)}function db(n){n.Ca.forEach(e=>{e.next()})}var j_,KA;(KA=j_||(j_={})).Ma="default",KA.Cache="cache";class fb{constructor(e,t,r){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new md(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const r=t!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=md.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==j_.Cache}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L${constructor(e,t){this.Qa=e,this.byteLength=t}$a(){return"metadata"in this.Qa}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QA{constructor(e){this.serializer=e}$s(e){return Co(this.serializer,e)}Us(e){return e.metadata.exists?FC(this.serializer,e.document,!1):yn.newNoDocument(this.$s(e.metadata.name),this.Ks(e.metadata.readTime))}Ks(e){return Kn(e)}}class D${constructor(e,t){this.Ua=e,this.serializer=t,this.Ka=[],this.Wa=[],this.collectionGroups=new Set,this.progress=Ik(e)}get queries(){return this.Ka}get documents(){return this.Wa}Ga(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Qa.namedQuery)this.Ka.push(e.Qa.namedQuery);else if(e.Qa.documentMetadata){this.Wa.push({metadata:e.Qa.documentMetadata}),e.Qa.documentMetadata.exists||++t;const r=Lt.fromString(e.Qa.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.Qa.document&&(this.Wa[this.Wa.length-1].document=e.Qa.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,{...this.progress}):null}za(e){const t=new Map,r=new QA(this.serializer);for(const i of e)if(i.metadata.queries){const s=r.$s(i.metadata.name);for(const o of i.metadata.queries){const a=(t.get(o)||Tt()).add(s);t.set(o,a)}}return t}async ja(e){const t=await o$(e,new QA(this.serializer),this.Wa,this.Ua.id),r=this.za(this.documents);for(const i of this.Ka)await a$(e,i,r.get(i.name));return this.progress.taskState="Success",{progress:this.progress,Ja:this.collectionGroups,Ha:t}}}function Ik(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ek{constructor(e){this.key=e}}class Sk{constructor(e){this.key=e}}class Ak{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Tt(),this.mutatedKeys=Tt(),this.eu=pC(e),this.tu=new Uh(this.eu)}get nu(){return this.Ya}ru(e,t){const r=t?t.iu:new HA,i=t?t.tu:this.tu;let s=t?t.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,f)=>{const p=i.get(d),g=xm(this.query,f)?f:null,S=!!p&&this.mutatedKeys.has(p.key),x=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let k=!1;p&&g?p.data.isEqual(g.data)?S!==x&&(r.track({type:3,doc:g}),k=!0):this.su(p,g)||(r.track({type:2,doc:g}),k=!0,(l&&this.eu(g,l)>0||c&&this.eu(g,c)<0)&&(a=!0)):!p&&g?(r.track({type:0,doc:g}),k=!0):p&&!g&&(r.track({type:1,doc:p}),k=!0,(l||c)&&(a=!0)),k&&(g?(o=o.add(g),s=x?s.add(d):s.delete(d)):(o=o.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),s=s.delete(d.key),r.track({type:1,doc:d})}return{tu:o,iu:r,Cs:a,mutatedKeys:s}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){const s=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((d,f)=>function(g,S){const x=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Je(20277,{Rt:k})}};return x(g)-x(S)}(d.type,f.type)||this.eu(d.doc,f.doc)),this.ou(r),i=i??!1;const a=t&&!i?this._u():[],l=this.Xa.size===0&&this.current&&!i?1:0,c=l!==this.Za;return this.Za=l,o.length!==0||c?{snapshot:new md(this.query,e.tu,s,o,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new HA,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(t=>this.Ya=this.Ya.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ya=this.Ya.delete(t)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Tt(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const t=[];return e.forEach(r=>{this.Xa.has(r)||t.push(new Sk(r))}),this.Xa.forEach(r=>{e.has(r)||t.push(new Ek(r))}),t}cu(e){this.Ya=e.Qs,this.Xa=Tt();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return md.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const nu="SyncEngine";class O${constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class F${constructor(e){this.key=e,this.hu=!1}}class M${constructor(e,t,r,i,s,o){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new Ea(a=>dC(a),Tm),this.Iu=new Map,this.Eu=new Set,this.du=new pn($e.comparator),this.Au=new Map,this.Ru=new X5,this.Vu={},this.mu=new Map,this.fu=fc.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function V$(n,e,t=!0){const r=cy(n);let i;const s=r.Tu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.lu()):i=await Tk(r,e,t,!0),i}async function j$(n,e){const t=cy(n);await Tk(t,e,!0,!1)}async function Tk(n,e,t,r){const i=await dd(n.localStore,ui(e)),s=i.targetId,o=n.sharedClientState.addLocalQueryTarget(s,t);let a;return r&&(a=await pb(n,e,s,o==="current",i.resumeToken)),n.isPrimaryClient&&t&&uy(n.remoteStore,i),a}async function pb(n,e,t,r,i){n.pu=(f,p,g)=>async function(x,k,_,b){let E=k.view.ru(_);E.Cs&&(E=await u0(x.localStore,k.query,!1).then(({documents:N})=>k.view.ru(N,E)));const F=b&&b.targetChanges.get(k.targetId),B=b&&b.targetMismatches.get(k.targetId)!=null,U=k.view.applyChanges(E,x.isPrimaryClient,F,B);return B_(x,k.targetId,U.au),U.snapshot}(n,f,p,g);const s=await u0(n.localStore,e,!0),o=new Ak(e,s.Qs),a=o.ru(s.documents),l=Cm.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),c=o.applyChanges(a,n.isPrimaryClient,l);B_(n,t,c.au);const d=new O$(e,t,o);return n.Tu.set(e,d),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),c.snapshot}async function B$(n,e,t){const r=Ge(n),i=r.Tu.get(e),s=r.Iu.get(i.targetId);if(s.length>1)return r.Iu.set(i.targetId,s.filter(o=>!Tm(o,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await fd(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&pd(r.remoteStore,i.targetId),gd(r,i.targetId)}).catch(Xl)):(gd(r,i.targetId),await fd(r.localStore,i.targetId,!0))}async function U$(n,e){const t=Ge(n),r=t.Tu.get(e),i=t.Iu.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),pd(t.remoteStore,r.targetId))}async function z$(n,e,t){const r=vb(n);try{const i=await function(o,a){const l=Ge(o),c=Gt.now(),d=a.reduce((g,S)=>g.add(S.key),Tt());let f,p;return l.persistence.runTransaction("Locally write mutations","readwrite",g=>{let S=Pi(),x=Tt();return l.Ns.getEntries(g,d).next(k=>{S=k,S.forEach((_,b)=>{b.isValidDocument()||(x=x.add(_))})}).next(()=>l.localDocuments.getOverlayedDocuments(g,S)).next(k=>{f=k;const _=[];for(const b of a){const E=cq(b,f.get(b.key).overlayedDocument);E!=null&&_.push(new Sa(b.key,E,rC(E.value.mapValue),Tn.exists(!0)))}return l.mutationQueue.addMutationBatch(g,c,_,a)}).next(k=>{p=k;const _=k.applyToLocalDocumentSet(f,x);return l.documentOverlayCache.saveOverlays(g,k.batchId,_)})}).then(()=>({batchId:p.batchId,changes:gC(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let c=o.Vu[o.currentUser.toKey()];c||(c=new pn(bt)),c=c.insert(a,l),o.Vu[o.currentUser.toKey()]=c}(r,i.batchId,t),await Aa(r,i.changes),await Fd(r.remoteStore)}catch(i){const s=Vd(i,"Failed to persist write");t.reject(s)}}async function xk(n,e){const t=Ge(n);try{const r=await i$(t.localStore,e);e.targetChanges.forEach((i,s)=>{const o=t.Au.get(s);o&&(rt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.hu=!0:i.modifiedDocuments.size>0?rt(o.hu,14607):i.removedDocuments.size>0&&(rt(o.hu,42227),o.hu=!1))}),await Aa(t,r,e)}catch(r){await Xl(r)}}function YA(n,e,t){const r=Ge(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const i=[];r.Tu.forEach((s,o)=>{const a=o.view.va(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=Ge(o);l.onlineState=a;let c=!1;l.queries.forEach((d,f)=>{for(const p of f.Sa)p.va(a)&&(c=!0)}),c&&db(l)}(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function q$(n,e,t){const r=Ge(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.Au.get(e),s=i&&i.key;if(s){let o=new pn($e.comparator);o=o.insert(s,yn.newNoDocument(s,ot.min()));const a=Tt().add(s),l=new Nm(ot.min(),new Map,new pn(bt),o,a);await xk(r,l),r.du=r.du.remove(s),r.Au.delete(e),yb(r)}else await fd(r.localStore,e,!1).then(()=>gd(r,e,t)).catch(Xl)}async function $$(n,e){const t=Ge(n),r=e.batch.batchId;try{const i=await r$(t.localStore,e);gb(t,r,null),mb(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await Aa(t,i)}catch(i){await Xl(i)}}async function W$(n,e,t){const r=Ge(n);try{const i=await function(o,a){const l=Ge(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let d;return l.mutationQueue.lookupMutationBatch(c,a).next(f=>(rt(f!==null,37113),d=f.keys(),l.mutationQueue.removeMutationBatch(c,f))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,d)).next(()=>l.localDocuments.getDocuments(c,d))})}(r.localStore,e);gb(r,e,t),mb(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await Aa(r,i)}catch(i){await Xl(i)}}async function H$(n,e){const t=Ge(n);tu(t.remoteStore)||Ne(nu,"The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=await function(o){const a=Ge(o);return a.persistence.runTransaction("Get highest unacknowledged batch id","readonly",l=>a.mutationQueue.getHighestUnacknowledgedBatchId(l))}(t.localStore);if(r===Pl)return void e.resolve();const i=t.mu.get(r)||[];i.push(e),t.mu.set(r,i)}catch(r){const i=Vd(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}function mb(n,e){(n.mu.get(e)||[]).forEach(t=>{t.resolve()}),n.mu.delete(e)}function gb(n,e,t){const r=Ge(n);let i=r.Vu[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(t?s.reject(t):s.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function gd(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Iu.get(e))n.Tu.delete(r),t&&n.Pu.yu(r,t);n.Iu.delete(e),n.isPrimaryClient&&n.Ru.jr(e).forEach(r=>{n.Ru.containsKey(r)||Pk(n,r)})}function Pk(n,e){n.Eu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(pd(n.remoteStore,t),n.du=n.du.remove(e),n.Au.delete(t),yb(n))}function B_(n,e,t){for(const r of t)r instanceof Ek?(n.Ru.addReference(r.key,e),G$(n,r)):r instanceof Sk?(Ne(nu,"Document no longer in limbo: "+r.key),n.Ru.removeReference(r.key,e),n.Ru.containsKey(r.key)||Pk(n,r.key)):Je(19791,{wu:r})}function G$(n,e){const t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Eu.has(r)||(Ne(nu,"New document in limbo: "+t),n.Eu.add(r),yb(n))}function yb(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new $e(Lt.fromString(e)),r=n.fu.next();n.Au.set(r,new F$(t)),n.du=n.du.insert(t,r),uy(n.remoteStore,new ia(ui(Rd(t.path)),r,"TargetPurposeLimboResolution",Ti.ce))}}async function Aa(n,e,t){const r=Ge(n),i=[],s=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach((a,l)=>{o.push(r.pu(l,e,t).then(c=>{var d;if((c||t)&&r.isPrimaryClient){const f=c?!c.fromCache:(d=t==null?void 0:t.targetChanges.get(l.targetId))==null?void 0:d.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(c){i.push(c);const f=nb.As(l.targetId,c);s.push(f)}}))}),await Promise.all(o),r.Pu.H_(i),await async function(l,c){const d=Ge(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>ye.forEach(c,p=>ye.forEach(p.Es,g=>d.persistence.referenceDelegate.addReference(f,p.targetId,g)).next(()=>ye.forEach(p.ds,g=>d.persistence.referenceDelegate.removeReference(f,p.targetId,g)))))}catch(f){if(!Zl(f))throw f;Ne(rb,"Failed to update sequence numbers: "+f)}for(const f of c){const p=f.targetId;if(!f.fromCache){const g=d.Ms.get(p),S=g.snapshotVersion,x=g.withLastLimboFreeSnapshotVersion(S);d.Ms=d.Ms.insert(p,x)}}}(r.localStore,s))}async function K$(n,e){const t=Ge(n);if(!t.currentUser.isEqual(e)){Ne(nu,"User change. New user:",e.toKey());const r=await sk(t.localStore,e);t.currentUser=e,function(s,o){s.mu.forEach(a=>{a.forEach(l=>{l.reject(new xe(be.CANCELLED,o))})}),s.mu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Aa(t,r.Ls)}}function Q$(n,e){const t=Ge(n),r=t.Au.get(e);if(r&&r.hu)return Tt().add(r.key);{let i=Tt();const s=t.Iu.get(e);if(!s)return i;for(const o of s){const a=t.Tu.get(o);i=i.unionWith(a.view.nu)}return i}}async function Y$(n,e){const t=Ge(n),r=await u0(t.localStore,e.query,!0),i=e.view.cu(r);return t.isPrimaryClient&&B_(t,e.targetId,i.au),i}async function J$(n,e){const t=Ge(n);return uk(t.localStore,e).then(r=>Aa(t,r))}async function X$(n,e,t,r){const i=Ge(n),s=await function(a,l){const c=Ge(a),d=Ge(c.mutationQueue);return c.persistence.runTransaction("Lookup mutation documents","readonly",f=>d.er(f,l).next(p=>p?c.localDocuments.getDocuments(f,p):ye.resolve(null)))}(i.localStore,e);s!==null?(t==="pending"?await Fd(i.remoteStore):t==="acknowledged"||t==="rejected"?(gb(i,e,r||null),mb(i,e),function(a,l){Ge(Ge(a).mutationQueue).ir(l)}(i.localStore,e)):Je(6720,"Unknown batchState",{Su:t}),await Aa(i,s)):Ne(nu,"Cannot apply mutation batch with id: "+e)}async function Z$(n,e){const t=Ge(n);if(cy(t),vb(t),e===!0&&t.gu!==!0){const r=t.sharedClientState.getAllActiveQueryTargets(),i=await JA(t,r.toArray());t.gu=!0,await V_(t.remoteStore,!0);for(const s of i)uy(t.remoteStore,s)}else if(e===!1&&t.gu!==!1){const r=[];let i=Promise.resolve();t.Iu.forEach((s,o)=>{t.sharedClientState.isLocalQueryTarget(o)?r.push(o):i=i.then(()=>(gd(t,o),fd(t.localStore,o,!0))),pd(t.remoteStore,o)}),await i,await JA(t,r),function(o){const a=Ge(o);a.Au.forEach((l,c)=>{pd(a.remoteStore,c)}),a.Ru.Jr(),a.Au=new Map,a.du=new pn($e.comparator)}(t),t.gu=!1,await V_(t.remoteStore,!1)}}async function JA(n,e,t){const r=Ge(n),i=[],s=[];for(const o of e){let a;const l=r.Iu.get(o);if(l&&l.length!==0){a=await dd(r.localStore,ui(l[0]));for(const c of l){const d=r.Tu.get(c),f=await Y$(r,d);f.snapshot&&s.push(f.snapshot)}}else{const c=await lk(r.localStore,o);a=await dd(r.localStore,c),await pb(r,Nk(c),o,!1,a.resumeToken)}i.push(a)}return r.Pu.H_(s),i}function Nk(n){return hC(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function eW(n){return function(t){return Ge(Ge(t).persistence).Ts()}(Ge(n).localStore)}async function tW(n,e,t,r){const i=Ge(n);if(i.gu)return void Ne(nu,"Ignoring unexpected query state notification.");const s=i.Iu.get(e);if(s&&s.length>0)switch(t){case"current":case"not-current":{const o=await uk(i.localStore,fC(s[0])),a=Nm.createSynthesizedRemoteEventForCurrentChange(e,t==="current",Vn.EMPTY_BYTE_STRING);await Aa(i,o,a);break}case"rejected":await fd(i.localStore,e,!0),gd(i,e,r);break;default:Je(64155,t)}}async function nW(n,e,t){const r=cy(n);if(r.gu){for(const i of e){if(r.Iu.has(i)&&r.sharedClientState.isActiveQueryTarget(i)){Ne(nu,"Adding an already active target "+i);continue}const s=await lk(r.localStore,i),o=await dd(r.localStore,s);await pb(r,Nk(s),o.targetId,!1,o.resumeToken),uy(r.remoteStore,o)}for(const i of t)r.Iu.has(i)&&await fd(r.localStore,i,!1).then(()=>{pd(r.remoteStore,i),gd(r,i)}).catch(Xl)}}function cy(n){const e=Ge(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=xk.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Q$.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=q$.bind(null,e),e.Pu.H_=k$.bind(null,e.eventManager),e.Pu.yu=R$.bind(null,e.eventManager),e}function vb(n){const e=Ge(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=$$.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=W$.bind(null,e),e}function rW(n,e,t){const r=Ge(n);(async function(s,o,a){try{const l=await o.getMetadata();if(await function(g,S){const x=Ge(g),k=Kn(S.createTime);return x.persistence.runTransaction("hasNewerBundle","readonly",_=>x.Ii.getBundleMetadata(_,S.id)).then(_=>!!_&&_.createTime.compareTo(k)>=0)}(s.localStore,l))return await o.close(),a._completeWith(function(g){return{taskState:"Success",documentsLoaded:g.totalDocuments,bytesLoaded:g.totalBytes,totalDocuments:g.totalDocuments,totalBytes:g.totalBytes}}(l)),Promise.resolve(new Set);a._updateProgress(Ik(l));const c=new D$(l,o.serializer);let d=await o.bu();for(;d;){const p=await c.Ga(d);p&&a._updateProgress(p),d=await o.bu()}const f=await c.ja(s.localStore);return await Aa(s,f.Ha,void 0),await function(g,S){const x=Ge(g);return x.persistence.runTransaction("Save bundle","readwrite",k=>x.Ii.saveBundleMetadata(k,S))}(s.localStore,l),a._completeWith(f.progress),Promise.resolve(f.Ja)}catch(l){return Do(nu,`Loading bundle failed with ${l}`),a._failWith(l),Promise.resolve(new Set)}})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}class tm{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=km(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return ik(this.persistence,new rk,e.initialUser,this.serializer)}Cu(e){return new Z5(ly.mi,this.serializer)}Du(e){return new pk}async terminate(){var e,t;(e=this.gcScheduler)==null||e.stop(),(t=this.indexBackfillerScheduler)==null||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}tm.provider={build:()=>new tm};class iW extends tm{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){rt(this.persistence.referenceDelegate instanceof l0,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new JC(r,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?Ur.withCacheSize(this.cacheSizeBytes):Ur.DEFAULT;return new Z5(r=>l0.mi(r,t),this.serializer)}}class Ck extends tm{constructor(e,t,r){super(),this.xu=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.xu.initialize(this,e),await vb(this.xu.syncEngine),await Fd(this.xu.remoteStore),await this.persistence.Ji(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}vu(e){return ik(this.persistence,new rk,e.initialUser,this.serializer)}Fu(e,t){const r=this.persistence.referenceDelegate.garbageCollector;return new JC(r,e.asyncQueue,t)}Mu(e,t){const r=new fz(t,this.persistence);return new dz(e.asyncQueue,r)}Cu(e){const t=tb(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?Ur.withCacheSize(this.cacheSizeBytes):Ur.DEFAULT;return new eb(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,mk(),f1(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Du(e){return new pk}}class sW extends Ck{constructor(e,t){super(e,t,!1),this.xu=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const t=this.xu.syncEngine;this.sharedClientState instanceof qv&&(this.sharedClientState.syncEngine={Co:X$.bind(null,t),vo:tW.bind(null,t),Fo:nW.bind(null,t),Ts:eW.bind(null,t),Do:J$.bind(null,t)},await this.sharedClientState.start()),await this.persistence.Ji(async r=>{await Z$(this.xu.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())})}Du(e){const t=mk();if(!qv.v(t))throw new xe(be.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=tb(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new qv(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class nm{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>YA(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=K$.bind(null,this.syncEngine),await V_(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new C$}()}createDatastore(e){const t=km(e.databaseInfo.databaseId),r=function(s){return new d$(s)}(e.databaseInfo);return function(s,o,a,l){return new g$(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,i,s,o,a){return new v$(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,t=>YA(this.syncEngine,t,0),function(){return qA.v()?new qA:new l$}())}createSyncEngine(e,t){return function(i,s,o,a,l,c,d){const f=new M$(i,s,o,a,l,c);return d&&(f.gu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(i){const s=Ge(i);Ne(pc,"RemoteStore shutting down."),s.Ea.add(5),await Od(s),s.Aa.shutdown(),s.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(t=this.eventManager)==null||t.terminate()}}nm.provider={build:()=>new nm};function XA(n,e=10240){let t=0;return{async read(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hy{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Gn("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oW{constructor(e,t){this.Bu=e,this.serializer=t,this.metadata=new Cr,this.buffer=new Uint8Array,this.Lu=function(){return new TextDecoder("utf-8")}(),this.ku().then(r=>{r&&r.$a()?this.metadata.resolve(r.Qa.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(r==null?void 0:r.Qa)}`))},r=>this.metadata.reject(r))}close(){return this.Bu.cancel()}async getMetadata(){return this.metadata.promise}async bu(){return await this.getMetadata(),this.ku()}async ku(){const e=await this.qu();if(e===null)return null;const t=this.Lu.decode(e),r=Number(t);isNaN(r)&&this.Qu(`length string (${t}) is not valid number`);const i=await this.$u(r);return new L$(JSON.parse(i),e.length+r)}Uu(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}async qu(){for(;this.Uu()<0&&!await this.Ku(););if(this.buffer.length===0)return null;const e=this.Uu();e<0&&this.Qu("Reached the end of bundle when a length string is expected.");const t=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),t}async $u(e){for(;this.buffer.length<e;)await this.Ku()&&this.Qu("Reached the end of bundle when more is expected.");const t=this.Lu.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),t}Qu(e){throw this.Bu.cancel(),new Error(`Invalid bundle format: ${e}`)}async Ku(){const e=await this.Bu.read();if(!e.done){const t=new Uint8Array(this.buffer.length+e.value.length);t.set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t}return e.done}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aW{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new xe(be.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const t=await async function(i,s){const o=Ge(i),a={documents:s.map(f=>Zp(o.serializer,f))},l=await o.Ho("BatchGetDocuments",o.serializer.databaseId,Lt.emptyPath(),a,s.length),c=new Map;l.forEach(f=>{const p=_q(o.serializer,f);c.set(p.key.toString(),p)});const d=[];return s.forEach(f=>{const p=c.get(f.toString());rt(!!p,55234,{key:f}),d.push(p)}),d}(this.datastore,e);return t.forEach(r=>this.recordVersion(r)),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Dd(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach(t=>{e.delete(t.key.toString())}),e.forEach((t,r)=>{const i=$e.fromPath(r);this.mutations.push(new q5(i,this.precondition(i)))}),await async function(r,i){const s=Ge(r),o={writes:i.map(a=>em(s.serializer,a))};await s.Go("Commit",s.serializer.databaseId,Lt.emptyPath(),o)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Je(50498,{Gu:e.constructor.name});t=ot.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new xe(be.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(ot.min())?Tn.exists(!1):Tn.updateTime(t):Tn.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(ot.min()))throw new xe(be.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Tn.updateTime(t)}return Tn.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lW{constructor(e,t,r,i,s){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=i,this.deferred=s,this.zu=r.maxAttempts,this.M_=new sb(this.asyncQueue,"transaction_retry")}ju(){this.zu-=1,this.Ju()}Ju(){this.M_.p_(async()=>{const e=new aW(this.datastore),t=this.Hu(e);t&&t.then(r=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(r)}).catch(i=>{this.Yu(i)}))}).catch(r=>{this.Yu(r)})})}Hu(e){try{const t=this.updateFunction(e);return!Em(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Yu(e){this.zu>0&&this.Zu(e)?(this.zu-=1,this.asyncQueue.enqueueAndForget(()=>(this.Ju(),Promise.resolve()))):this.deferred.reject(e)}Zu(e){if((e==null?void 0:e.name)==="FirebaseError"){const t=e.code;return t==="aborted"||t==="failed-precondition"||t==="already-exists"||!TC(t)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $l="FirestoreClient";class uW{constructor(e,t,r,i,s){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=_r.UNAUTHENTICATED,this.clientId=N5.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{Ne($l,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(Ne($l,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Cr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=Vd(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Wv(n,e){n.asyncQueue.verifyOperationInProgress(),Ne($l,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async i=>{r.isEqual(i)||(await sk(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function ZA(n,e){n.asyncQueue.verifyOperationInProgress();const t=await _b(n);Ne($l,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>WA(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>WA(e.remoteStore,i)),n._onlineComponents=e}async function _b(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Ne($l,"Using user provided OfflineComponentProvider");try{await Wv(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(i){return i.name==="FirebaseError"?i.code===be.FAILED_PRECONDITION||i.code===be.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;Do("Error using user provided cache. Falling back to memory cache: "+t),await Wv(n,new tm)}}else Ne($l,"Using default OfflineComponentProvider"),await Wv(n,new iW(void 0));return n._offlineComponents}async function dy(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Ne($l,"Using user provided OnlineComponentProvider"),await ZA(n,n._uninitializedComponentsProvider._online)):(Ne($l,"Using default OnlineComponentProvider"),await ZA(n,new nm))),n._onlineComponents}function kk(n){return _b(n).then(e=>e.persistence)}function wb(n){return _b(n).then(e=>e.localStore)}function Rk(n){return dy(n).then(e=>e.remoteStore)}function bb(n){return dy(n).then(e=>e.syncEngine)}function cW(n){return dy(n).then(e=>e.datastore)}async function yd(n){const e=await dy(n),t=e.eventManager;return t.onListen=V$.bind(null,e.syncEngine),t.onUnlisten=B$.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=j$.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=U$.bind(null,e.syncEngine),t}function hW(n){return n.asyncQueue.enqueue(async()=>{const e=await kk(n),t=await Rk(n);return e.setNetworkEnabled(!0),function(i){const s=Ge(i);return s.Ea.delete(0),Rm(s)}(t)})}function dW(n){return n.asyncQueue.enqueue(async()=>{const e=await kk(n),t=await Rk(n);return e.setNetworkEnabled(!1),async function(i){const s=Ge(i);s.Ea.add(0),await Od(s),s.Ra.set("Offline")}(t)})}function fW(n,e){const t=new Cr;return n.asyncQueue.enqueueAndForget(async()=>async function(i,s,o){try{const a=await function(c,d){const f=Ge(c);return f.persistence.runTransaction("read document","readonly",p=>f.localDocuments.getDocument(p,d))}(i,s);a.isFoundDocument()?o.resolve(a):a.isNoDocument()?o.resolve(null):o.reject(new xe(be.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(a){const l=Vd(a,`Failed to get document '${s} from cache`);o.reject(l)}}(await wb(n),e,t)),t.promise}function Lk(n,e,t={}){const r=new Cr;return n.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const d=new hy({next:p=>{d.Nu(),o.enqueueAndForget(()=>hb(s,f));const g=p.docs.has(a);!g&&p.fromCache?c.reject(new xe(be.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&p.fromCache&&l&&l.source==="server"?c.reject(new xe(be.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(p)},error:p=>c.reject(p)}),f=new fb(Rd(a.path),d,{includeMetadataChanges:!0,qa:!0});return cb(s,f)}(await yd(n),n.asyncQueue,e,t,r)),r.promise}function pW(n,e){const t=new Cr;return n.asyncQueue.enqueueAndForget(async()=>async function(i,s,o){try{const a=await u0(i,s,!0),l=new Ak(s,a.Qs),c=l.ru(a.documents),d=l.applyChanges(c,!1);o.resolve(d.snapshot)}catch(a){const l=Vd(a,`Failed to execute query '${s} against cache`);o.reject(l)}}(await wb(n),e,t)),t.promise}function Dk(n,e,t={}){const r=new Cr;return n.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const d=new hy({next:p=>{d.Nu(),o.enqueueAndForget(()=>hb(s,f)),p.fromCache&&l.source==="server"?c.reject(new xe(be.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(p)},error:p=>c.reject(p)}),f=new fb(a,d,{includeMetadataChanges:!0,qa:!0});return cb(s,f)}(await yd(n),n.asyncQueue,e,t,r)),r.promise}function mW(n,e){const t=new hy(e);return n.asyncQueue.enqueueAndForget(async()=>function(i,s){Ge(i).Ca.add(s),s.next()}(await yd(n),t)),()=>{t.Nu(),n.asyncQueue.enqueueAndForget(async()=>function(i,s){Ge(i).Ca.delete(s)}(await yd(n),t))}}function gW(n,e,t,r){const i=function(o,a){let l;return l=typeof o=="string"?PC().encode(o):o,function(d,f){return new oW(d,f)}(function(d,f){if(d instanceof Uint8Array)return XA(d,f);if(d instanceof ArrayBuffer)return XA(new Uint8Array(d),f);if(d instanceof ReadableStream)return d.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(l),a)}(t,km(e));n.asyncQueue.enqueueAndForget(async()=>{rW(await bb(n),i,r)})}function yW(n,e){return n.asyncQueue.enqueue(async()=>function(r,i){const s=Ge(r);return s.persistence.runTransaction("Get named query","readonly",o=>s.Ii.getNamedQuery(o,i))}(await wb(n),e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ok(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eT=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fk="firestore.googleapis.com",tT=!0;class nT{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new xe(be.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Fk,this.ssl=tT}else this.host=e.host,this.ssl=e.ssl??tT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=GC;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Vq)throw new xe(be.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}NN("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Ok(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new xe(be.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new xe(be.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new xe(be.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Lm{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new nT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new xe(be.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new xe(be.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new nT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new ez;switch(r.type){case"firstParty":return new iz(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new xe(be.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=eT.get(t);r&&(Ne("ComponentProvider","Removing Datastore"),eT.delete(t),r.terminate())}(this),Promise.resolve()}}function vW(n,e,t,r={}){var c;n=$t(n,Lm);const i=Td(e),s=n._getSettings(),o={...s,emulatorOptions:n._getEmulatorOptions()},a=`${e}:${t}`;i&&(t3(`https://${a}`),n3("Firestore",!0)),s.host!==Fk&&s.host!==a&&Do("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...s,host:a,ssl:i,emulatorOptions:r};if(!Dl(l,o)&&(n._setSettings(l),r.mockUserToken)){let d,f;if(typeof r.mockUserToken=="string")d=r.mockUserToken,f=_r.MOCK_USER;else{d=yM(r.mockUserToken,(c=n._app)==null?void 0:c.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new xe(be.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new _r(p)}n._authCredentials=new tz(new xN(d,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ci=class Mk{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Mk(this.firestore,e,this._query)}},fn=class Bf{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Nl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Bf(this.firestore,e,this._key)}toJSON(){return{type:Bf._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(Im(t,Bf._jsonSchema))return new Bf(e,r||null,new $e(Lt.fromString(t.referencePath)))}};fn._jsonSchemaVersion="firestore/documentReference/1.0",fn._jsonSchema={type:nr("string",fn._jsonSchemaVersion),referencePath:nr("string")};let Nl=class Vk extends ci{constructor(e,t,r){super(e,t,Rd(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new fn(this.firestore,null,new $e(e))}withConverter(e){return new Vk(this.firestore,e,this._path)}};function jk(n,e,...t){if(n=pt(n),C5("collection","path",e),n instanceof Lm){const r=Lt.fromString(e,...t);return $S(r),new Nl(n,null,r)}{if(!(n instanceof fn||n instanceof Nl))throw new xe(be.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Lt.fromString(e,...t));return $S(r),new Nl(n.firestore,null,r)}}function _W(n,e){if(n=$t(n,Lm),C5("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new xe(be.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new ci(n,null,function(r){return new Ia(Lt.emptyPath(),r)}(e))}function f0(n,e,...t){if(n=pt(n),arguments.length===1&&(e=N5.newId()),C5("doc","path",e),n instanceof Lm){const r=Lt.fromString(e,...t);return qS(r),new fn(n,null,new $e(r))}{if(!(n instanceof fn||n instanceof Nl))throw new xe(be.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Lt.fromString(e,...t));return qS(r),new fn(n.firestore,n instanceof Nl?n.converter:null,new $e(r))}}function Bk(n,e){return n=pt(n),e=pt(e),(n instanceof fn||n instanceof Nl)&&(e instanceof fn||e instanceof Nl)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function Uk(n,e){return n=pt(n),e=pt(e),n instanceof ci&&e instanceof ci&&n.firestore===e.firestore&&Tm(n._query,e._query)&&n.converter===e.converter}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rT="AsyncQueue";class iT{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new sb(this,"async_queue_retry"),this._c=()=>{const r=f1();r&&Ne(rT,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const t=f1();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=f1();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const t=new Cr;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Zl(e))throw e;Ne(rT,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const t=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,Gn("INTERNAL UNHANDLED ERROR: ",sT(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=t,t}enqueueAfterDelay(e,t,r){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const i=ub.createAndSchedule(this,e,t,r,s=>this.hc(s));return this.tc.push(i),i}uc(){this.nc&&Je(47125,{Pc:sT(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function sT(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U_(n){return function(t,r){if(typeof t!="object"||t===null)return!1;const i=t;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(n,["next","error","complete"])}class wW{constructor(){this._progressObserver={},this._taskCompletionResolver=new Cr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bW=-1;let Qn=class extends Lm{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new iT,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new iT(e),this._firestoreClient=void 0,await e}}};function Gr(n){if(n._terminated)throw new xe(be.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||zk(n),n._firestoreClient}function zk(n){var r,i,s;const e=n._freezeSettings(),t=function(a,l,c,d){return new zz(a,l,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,Ok(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(n._databaseId,((r=n._app)==null?void 0:r.options.appId)||"",n._persistenceKey,e);n._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((s=e.localCache)!=null&&s._onlineComponentProvider)&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new uW(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(n._componentsProvider))}function IW(n,e){Do("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings();return qk(n,nm.provider,{build:r=>new Ck(r,t.cacheSizeBytes,e==null?void 0:e.forceOwnership)}),Promise.resolve()}async function EW(n){Do("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=n._freezeSettings();qk(n,nm.provider,{build:t=>new sW(t,e.cacheSizeBytes)})}function qk(n,e,t){if((n=$t(n,Qn))._firestoreClient||n._terminated)throw new xe(be.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(n._componentsProvider||n._getSettings().localCache)throw new xe(be.FAILED_PRECONDITION,"SDK cache is already specified.");n._componentsProvider={_online:e,_offline:t},zk(n)}function SW(n){if(n._initialized&&!n._terminated)throw new xe(be.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Cr;return n._queue.enqueueAndForgetEvenWhileRestricted(async()=>{try{await async function(r){if(!No.v())return Promise.resolve();const i=r+nk;await No.delete(i)}(tb(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}}),e.promise}function AW(n){return function(t){const r=new Cr;return t.asyncQueue.enqueueAndForget(async()=>H$(await bb(t),r)),r.promise}(Gr(n=$t(n,Qn)))}function TW(n){return hW(Gr(n=$t(n,Qn)))}function xW(n){return dW(Gr(n=$t(n,Qn)))}function PW(n,e){const t=Gr(n=$t(n,Qn)),r=new wW;return gW(t,n._databaseId,e,r),r}function NW(n,e){return yW(Gr(n=$t(n,Qn)),e).then(t=>t?new ci(n,null,t.query):null)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r{constructor(e){this._byteString=e}static fromBase64String(e){try{return new $r(Vn.fromBase64String(e))}catch(t){throw new xe(be.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new $r(Vn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:$r._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Im(e,$r._jsonSchema))return $r.fromBase64String(e.bytes)}}$r._jsonSchemaVersion="firestore/bytes/1.0",$r._jsonSchema={type:nr("string",$r._jsonSchemaVersion),bytes:nr("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wl=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new xe(be.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new An(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bc=class{constructor(e){this._methodName=e}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new xe(be.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new xe(be.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return bt(this._lat,e._lat)||bt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Hs._jsonSchemaVersion}}static fromJSON(e){if(Im(e,Hs._jsonSchema))return new Hs(e.latitude,e.longitude)}}Hs._jsonSchemaVersion="firestore/geoPoint/1.0",Hs._jsonSchema={type:nr("string",Hs._jsonSchemaVersion),latitude:nr("number"),longitude:nr("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}toJSON(){return{type:ko._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Im(e,ko._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new ko(e.vectorValues);throw new xe(be.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ko._jsonSchemaVersion="firestore/vectorValue/1.0",ko._jsonSchema={type:nr("string",ko._jsonSchemaVersion),vectorValues:nr("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CW=/^__.*__$/;class kW{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Sa(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ld(e,this.data,t,this.fieldTransforms)}}class $k{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Sa(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Wk(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Je(40011,{Ac:n})}}class fy{constructor(e,t,r,i,s,o){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Rc(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new fy({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var i;const t=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:t,fc:!1});return r.gc(e),r}yc(e){var i;const t=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:t,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return p0(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(Wk(this.Ac)&&CW.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class RW{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||km(e)}Cc(e,t,r,i=!1){return new fy({Ac:e,methodName:t,Dc:r,path:An.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ic(n){const e=n._freezeSettings(),t=km(n._databaseId);return new RW(n._databaseId,!!e.ignoreUndefinedProperties,t)}function py(n,e,t,r,i,s={}){const o=n.Cc(s.merge||s.mergeFields?2:0,e,t,i);Pb("Data must be an object, but it was:",o,r);const a=Kk(r,o);let l,c;if(s.merge)l=new xi(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const d=[];for(const f of s.mergeFields){const p=z_(e,f,t);if(!o.contains(p))throw new xe(be.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);Yk(d,p)||d.push(p)}l=new xi(d),c=o.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,c=o.fieldTransforms;return new kW(new Pr(a),l,c)}class Dm extends bc{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Dm}}function Hk(n,e,t){return new fy({Ac:3,Dc:e.settings.Dc,methodName:n._methodName,fc:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Ib extends bc{_toFieldTransform(e){return new Pm(e.path,new ud)}isEqual(e){return e instanceof Ib}}class Eb extends bc{constructor(e,t){super(e),this.vc=t}_toFieldTransform(e){const t=Hk(this,e,!0),r=this.vc.map(s=>Ec(s,t)),i=new uc(r);return new Pm(e.path,i)}isEqual(e){return e instanceof Eb&&Dl(this.vc,e.vc)}}class Sb extends bc{constructor(e,t){super(e),this.vc=t}_toFieldTransform(e){const t=Hk(this,e,!0),r=this.vc.map(s=>Ec(s,t)),i=new cc(r);return new Pm(e.path,i)}isEqual(e){return e instanceof Sb&&Dl(this.vc,e.vc)}}class Ab extends bc{constructor(e,t){super(e),this.Fc=t}_toFieldTransform(e){const t=new cd(e.serializer,_C(e.serializer,this.Fc));return new Pm(e.path,t)}isEqual(e){return e instanceof Ab&&this.Fc===e.Fc}}function Tb(n,e,t,r){const i=n.Cc(1,e,t);Pb("Data must be an object, but it was:",i,r);const s=[],o=Pr.empty();eu(r,(l,c)=>{const d=Nb(e,l,t);c=pt(c);const f=i.yc(d);if(c instanceof Dm)s.push(d);else{const p=Ec(c,f);p!=null&&(s.push(d),o.set(d,p))}});const a=new xi(s);return new $k(o,a,i.fieldTransforms)}function xb(n,e,t,r,i,s){const o=n.Cc(1,e,t),a=[z_(e,r,t)],l=[i];if(s.length%2!=0)throw new xe(be.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<s.length;p+=2)a.push(z_(e,s[p])),l.push(s[p+1]);const c=[],d=Pr.empty();for(let p=a.length-1;p>=0;--p)if(!Yk(c,a[p])){const g=a[p];let S=l[p];S=pt(S);const x=o.yc(g);if(S instanceof Dm)c.push(g);else{const k=Ec(S,x);k!=null&&(c.push(g),d.set(g,k))}}const f=new xi(c);return new $k(d,f,o.fieldTransforms)}function Gk(n,e,t,r=!1){return Ec(t,n.Cc(r?4:3,e))}function Ec(n,e){if(Qk(n=pt(n)))return Pb("Unsupported field value:",e,n),Kk(n,e);if(n instanceof bc)return function(r,i){if(!Wk(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=Ec(a,i.wc(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(n,e)}return function(r,i){if((r=pt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return _C(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Gt.fromDate(r);return{timestampValue:hd(i.serializer,s)}}if(r instanceof Gt){const s=new Gt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:hd(i.serializer,s)}}if(r instanceof Hs)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof $r)return{bytesValue:kC(i.serializer,r._byteString)};if(r instanceof fn){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:K5(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof ko)return function(o,a){return{mapValue:{fields:{[M5]:{stringValue:V5},[od]:{arrayValue:{values:o.toArray().map(c=>{if(typeof c!="number")throw a.Sc("VectorValues must only contain numeric values.");return z5(a.serializer,c)})}}}}}}(r,i);throw i.Sc(`Unsupported field value: ${Y0(r)}`)}(n,e)}function Kk(n,e){const t={};return KN(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):eu(n,(r,i)=>{const s=Ec(i,e.mc(r));s!=null&&(t[r]=s)}),{mapValue:{fields:t}}}function Qk(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Gt||n instanceof Hs||n instanceof $r||n instanceof fn||n instanceof bc||n instanceof ko)}function Pb(n,e,t){if(!Qk(t)||!CN(t)){const r=Y0(t);throw r==="an object"?e.Sc(n+" a custom object"):e.Sc(n+" "+r)}}function z_(n,e,t){if((e=pt(e))instanceof Wl)return e._internalPath;if(typeof e=="string")return Nb(n,e);throw p0("Field path arguments must be of type string or ",n,!1,void 0,t)}const LW=new RegExp("[~\\*/\\[\\]]");function Nb(n,e,t){if(e.search(LW)>=0)throw p0(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Wl(...e.split("."))._internalPath}catch{throw p0(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function p0(n,e,t,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new xe(be.INVALID_ARGUMENT,a+n+l)}function Yk(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rm{constructor(e,t,r,i,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new fn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new DW(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(my("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class DW extends rm{data(){return super.data()}}function my(n,e){return typeof e=="string"?Nb(n,e):e instanceof Wl?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jk(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new xe(be.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Cb{}class Om extends Cb{}function tl(n,e,...t){let r=[];e instanceof Cb&&r.push(e),r=r.concat(t),function(s){const o=s.filter(l=>l instanceof kb).length,a=s.filter(l=>l instanceof gy).length;if(o>1||o>0&&a>0)throw new xe(be.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class gy extends Om{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new gy(e,t,r)}_apply(e){const t=this._parse(e);return Zk(e._query,t),new ci(e.firestore,e.converter,P_(e._query,t))}_parse(e){const t=Ic(e.firestore);return function(s,o,a,l,c,d,f){let p;if(c.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new xe(be.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){aT(f,d);const S=[];for(const x of f)S.push(oT(l,s,x));p={arrayValue:{values:S}}}else p=oT(l,s,f)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||aT(f,d),p=Gk(a,o,f,d==="in"||d==="not-in");return Mt.create(c,d,p)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function OW(n,e,t){const r=e,i=my("where",n);return gy._create(i,r,t)}class kb extends Cb{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new kb(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:Xt.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)Zk(o,l),o=P_(o,l)}(e._query,t),new ci(e.firestore,e.converter,P_(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Rb extends Om{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Rb(e,t)}_apply(e){const t=function(i,s,o){if(i.startAt!==null)throw new xe(be.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new xe(be.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Xp(s,o)}(e._query,this._field,this._direction);return new ci(e.firestore,e.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new Ia(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}function FW(n,e="asc"){const t=e,r=my("orderBy",n);return Rb._create(r,t)}class yy extends Om{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new yy(e,t,r)}_apply(e){return new ci(e.firestore,e.converter,i0(e._query,this._limit,this._limitType))}}function MW(n){return kN("limit",n),yy._create("limit",n,"F")}function VW(n){return kN("limitToLast",n),yy._create("limitToLast",n,"L")}class vy extends Om{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new vy(e,t,r)}_apply(e){const t=Xk(e,this.type,this._docOrFields,this._inclusive);return new ci(e.firestore,e.converter,function(i,s){return new Ia(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,s,i.endAt)}(e._query,t))}}function jW(...n){return vy._create("startAt",n,!0)}function BW(...n){return vy._create("startAfter",n,!1)}class _y extends Om{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new _y(e,t,r)}_apply(e){const t=Xk(e,this.type,this._docOrFields,this._inclusive);return new ci(e.firestore,e.converter,function(i,s){return new Ia(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,s)}(e._query,t))}}function UW(...n){return _y._create("endBefore",n,!1)}function zW(...n){return _y._create("endAt",n,!0)}function Xk(n,e,t,r){if(t[0]=pt(t[0]),t[0]instanceof rm)return function(s,o,a,l,c){if(!l)throw new xe(be.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);const d=[];for(const f of Bh(s))if(f.field.isKeyField())d.push(ac(o,l.key));else{const p=l.data.field(f.field);if(ty(p))throw new xe(be.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+f.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(p===null){const g=f.field.canonicalString();throw new xe(be.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${g}' (used as the orderBy) does not exist.`)}d.push(p)}return new zl(d,c)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=Ic(n.firestore);return function(o,a,l,c,d,f){const p=o.explicitOrderBy;if(d.length>p.length)throw new xe(be.INVALID_ARGUMENT,`Too many arguments provided to ${c}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const g=[];for(let S=0;S<d.length;S++){const x=d[S];if(p[S].field.isKeyField()){if(typeof x!="string")throw new xe(be.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${c}(), but got a ${typeof x}`);if(!B5(o)&&x.indexOf("/")!==-1)throw new xe(be.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${c}() must be a plain document ID, but '${x}' contains a slash.`);const k=o.path.child(Lt.fromString(x));if(!$e.isDocumentKey(k))throw new xe(be.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${c}() must result in a valid document path, but '${k}' is not because it contains an odd number of segments.`);const _=new $e(k);g.push(ac(a,_))}else{const k=Gk(l,c,x);g.push(k)}}return new zl(g,f)}(n._query,n.firestore._databaseId,i,e,t,r)}}function oT(n,e,t){if(typeof(t=pt(t))=="string"){if(t==="")throw new xe(be.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!B5(e)&&t.indexOf("/")!==-1)throw new xe(be.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Lt.fromString(t));if(!$e.isDocumentKey(r))throw new xe(be.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return ac(n,new $e(r))}if(t instanceof fn)return ac(n,t._key);throw new xe(be.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Y0(t)}.`)}function aT(n,e){if(!Array.isArray(n)||n.length===0)throw new xe(be.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Zk(n,e){const t=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new xe(be.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new xe(be.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class Lb{convertValue(e,t="none"){switch(Bl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return In(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ga(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Je(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return eu(e,(i,s)=>{r[i]=this.convertValue(s,t)}),r}convertVectorValue(e){var r,i,s;const t=(s=(i=(r=e.fields)==null?void 0:r[od].arrayValue)==null?void 0:i.values)==null?void 0:s.map(o=>In(o.doubleValue));return new ko(t)}convertGeoPoint(e){return new Hs(In(e.latitude),In(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=ny(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Qp(e));default:return null}}convertTimestamp(e){const t=ma(e);return new Gt(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Lt.fromString(e);rt(zC(r),9688,{name:e});const i=new jl(r.get(1),r.get(3)),s=new $e(r.popFirst(5));return i.isEqual(t)||Gn(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wy(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class qW extends Lb{constructor(e){super(),this.firestore=e}convertBytes(e){return new $r(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new fn(this.firestore,null,t)}}class zu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}let gs=class eR extends rm{constructor(e,t,r,i,s,o){super(e,t,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new mp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(my("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new xe(be.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=eR._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}};gs._jsonSchemaVersion="firestore/documentSnapshot/1.0",gs._jsonSchema={type:nr("string",gs._jsonSchemaVersion),bundleSource:nr("string","DocumentSnapshot"),bundleName:nr("string"),bundle:nr("string")};let mp=class extends gs{data(e={}){return super.data(e)}},Gs=class tR{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new zu(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new mp(this._firestore,this._userDataWriter,r.key,r,new zu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new xe(be.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new mp(i._firestore,i._userDataWriter,a.doc.key,a.doc,new zu(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new mp(i._firestore,i._userDataWriter,a.doc.key,a.doc,new zu(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,d=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:$W(a.type),doc:l,oldIndex:c,newIndex:d}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new xe(be.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=tR._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=N5.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],r=[],i=[];return this.docs.forEach(s=>{s._document!==null&&(t.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}};function $W(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Je(61501,{type:n})}}function nR(n,e){return n instanceof gs&&e instanceof gs?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(n._document===null?e._document===null:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Gs&&e instanceof Gs&&n._firestore===e._firestore&&Uk(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WW(n){n=$t(n,fn);const e=$t(n.firestore,Qn);return Lk(Gr(e),n._key).then(t=>Db(e,n,t))}Gs._jsonSchemaVersion="firestore/querySnapshot/1.0",Gs._jsonSchema={type:nr("string",Gs._jsonSchemaVersion),bundleSource:nr("string","QuerySnapshot"),bundleName:nr("string"),bundle:nr("string")};class Sc extends Lb{constructor(e){super(),this.firestore=e}convertBytes(e){return new $r(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new fn(this.firestore,null,t)}}function HW(n){n=$t(n,fn);const e=$t(n.firestore,Qn),t=Gr(e),r=new Sc(e);return fW(t,n._key).then(i=>new gs(e,r,n._key,i,new zu(i!==null&&i.hasLocalMutations,!0),n.converter))}function GW(n){n=$t(n,fn);const e=$t(n.firestore,Qn);return Lk(Gr(e),n._key,{source:"server"}).then(t=>Db(e,n,t))}function KW(n){n=$t(n,ci);const e=$t(n.firestore,Qn),t=Gr(e),r=new Sc(e);return Jk(n._query),Dk(t,n._query).then(i=>new Gs(e,r,n,i))}function QW(n){n=$t(n,ci);const e=$t(n.firestore,Qn),t=Gr(e),r=new Sc(e);return pW(t,n._query).then(i=>new Gs(e,r,n,i))}function YW(n){n=$t(n,ci);const e=$t(n.firestore,Qn),t=Gr(e),r=new Sc(e);return Dk(t,n._query,{source:"server"}).then(i=>new Gs(e,r,n,i))}function lT(n,e,t){n=$t(n,fn);const r=$t(n.firestore,Qn),i=wy(n.converter,e,t);return Fm(r,[py(Ic(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,Tn.none())])}function uT(n,e,t,...r){n=$t(n,fn);const i=$t(n.firestore,Qn),s=Ic(i);let o;return o=typeof(e=pt(e))=="string"||e instanceof Wl?xb(s,"updateDoc",n._key,e,t,r):Tb(s,"updateDoc",n._key,e),Fm(i,[o.toMutation(n._key,Tn.exists(!0))])}function JW(n){return Fm($t(n.firestore,Qn),[new Dd(n._key,Tn.none())])}function XW(n,e){const t=$t(n.firestore,Qn),r=f0(n),i=wy(n.converter,e);return Fm(t,[py(Ic(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,Tn.exists(!1))]).then(()=>r)}function rR(n,...e){var l,c,d;n=pt(n);let t={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||U_(e[r])||(t=e[r++]);const i={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(U_(e[r])){const f=e[r];e[r]=(l=f.next)==null?void 0:l.bind(f),e[r+1]=(c=f.error)==null?void 0:c.bind(f),e[r+2]=(d=f.complete)==null?void 0:d.bind(f)}let s,o,a;if(n instanceof fn)o=$t(n.firestore,Qn),a=Rd(n._key.path),s={next:f=>{e[r]&&e[r](Db(o,n,f))},error:e[r+1],complete:e[r+2]};else{const f=$t(n,ci);o=$t(f.firestore,Qn),a=f._query;const p=new Sc(o);s={next:g=>{e[r]&&e[r](new Gs(o,p,f,g))},error:e[r+1],complete:e[r+2]},Jk(n._query)}return function(p,g,S,x){const k=new hy(x),_=new fb(g,k,S);return p.asyncQueue.enqueueAndForget(async()=>cb(await yd(p),_)),()=>{k.Nu(),p.asyncQueue.enqueueAndForget(async()=>hb(await yd(p),_))}}(Gr(o),a,i,s)}function ZW(n,e){return mW(Gr(n=$t(n,Qn)),U_(e)?e:{next:e})}function Fm(n,e){return function(r,i){const s=new Cr;return r.asyncQueue.enqueueAndForget(async()=>z$(await bb(r),i,s)),s.promise}(Gr(n),e)}function Db(n,e,t){const r=t.docs.get(e._key),i=new Sc(n);return new gs(n,i,e._key,r,new zu(t.hasPendingWrites,t.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eH={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tH=class{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Ic(e)}set(e,t,r){this._verifyNotCommitted();const i=ml(e,this._firestore),s=wy(i.converter,t,r),o=py(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(o.toMutation(i._key,Tn.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const s=ml(e,this._firestore);let o;return o=typeof(t=pt(t))=="string"||t instanceof Wl?xb(this._dataReader,"WriteBatch.update",s._key,t,r,i):Tb(this._dataReader,"WriteBatch.update",s._key,t),this._mutations.push(o.toMutation(s._key,Tn.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=ml(e,this._firestore);return this._mutations=this._mutations.concat(new Dd(t._key,Tn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new xe(be.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}};function ml(n,e){if((n=pt(n)).firestore!==e)throw new xe(be.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nH{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Ic(e)}get(e){const t=ml(e,this._firestore),r=new qW(this._firestore);return this._transaction.lookup([t._key]).then(i=>{if(!i||i.length!==1)return Je(24041);const s=i[0];if(s.isFoundDocument())return new rm(this._firestore,r,s.key,s,t.converter);if(s.isNoDocument())return new rm(this._firestore,r,t._key,null,t.converter);throw Je(18433,{doc:s})})}set(e,t,r){const i=ml(e,this._firestore),s=wy(i.converter,t,r),o=py(this._dataReader,"Transaction.set",i._key,s,i.converter!==null,r);return this._transaction.set(i._key,o),this}update(e,t,r,...i){const s=ml(e,this._firestore);let o;return o=typeof(t=pt(t))=="string"||t instanceof Wl?xb(this._dataReader,"Transaction.update",s._key,t,r,i):Tb(this._dataReader,"Transaction.update",s._key,t),this._transaction.update(s._key,o),this}delete(e){const t=ml(e,this._firestore);return this._transaction.delete(t._key),this}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rH=class extends nH{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=ml(e,this._firestore),r=new Sc(this._firestore);return super.get(e).then(i=>new gs(this._firestore,r,t._key,i._document,new zu(!1,!1),t.converter))}};function iH(n,e,t){n=$t(n,Qn);const r={...eH,...t};return function(s){if(s.maxAttempts<1)throw new xe(be.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(s,o,a){const l=new Cr;return s.asyncQueue.enqueueAndForget(async()=>{const c=await cW(s);new lW(s.asyncQueue,c,a,o,l).ju()}),l.promise}(Gr(n),i=>e(new rH(n,i)),r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sH(){return new Dm("deleteField")}function oH(){return new Ib("serverTimestamp")}function aH(...n){return new Eb("arrayUnion",n)}function lH(...n){return new Sb("arrayRemove",n)}function uH(n){return new Ab("increment",n)}(function(e,t=!0){(function(i){kd=i})(Yl),Ml(new Ro("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new Qn(new nz(r.getProvider("auth-internal")),new sz(o,r.getProvider("app-check-internal")),function(c,d){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new xe(be.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new jl(c.options.projectId,d)}(o,i),o);return s={useFetchStreams:t,...s},a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Ws(jS,BS,e),Ws(jS,BS,"esm2020")})();const cH="@firebase/firestore-compat",hH="0.4.2";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ob(n,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new xe("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cT(){if(typeof Uint8Array>"u")throw new xe("unimplemented","Uint8Arrays are not available in this environment.")}function hT(){if(!Bz())throw new xe("unimplemented","Blobs are unavailable in Firestore in this environment.")}let iR=class q_{constructor(e){this._delegate=e}static fromBase64String(e){return hT(),new q_($r.fromBase64String(e))}static fromUint8Array(e){return cT(),new q_($r.fromUint8Array(e))}toBase64(){return hT(),this._delegate.toBase64()}toUint8Array(){return cT(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $_(n){return dH(n,["next","error","complete"])}function dH(n,e){if(typeof n!="object"||n===null)return!1;const t=n;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fH{enableIndexedDbPersistence(e,t){return IW(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return EW(e._delegate)}clearIndexedDbPersistence(e){return SW(e._delegate)}}class sR{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof jl||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Do("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&(e={...t,...e},delete e.merge),this._delegate._setSettings(e)}useEmulator(e,t,r={}){vW(this._delegate,e,t,r)}enableNetwork(){return TW(this._delegate)}disableNetwork(){return xW(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,NN("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return AW(this._delegate)}onSnapshotsInSync(e){return ZW(this._delegate,e)}get app(){if(!this._appCompat)throw new xe("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new vd(this,jk(this._delegate,e))}catch(t){throw si(t,"collection()","Firestore.collection()")}}doc(e){try{return new ps(this,f0(this._delegate,e))}catch(t){throw si(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new ii(this,_W(this._delegate,e))}catch(t){throw si(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return iH(this._delegate,t=>e(new oR(this,t)))}batch(){return Gr(this._delegate),new aR(new tH(this._delegate,e=>Fm(this._delegate,e)))}loadBundle(e){return PW(this._delegate,e)}namedQuery(e){return NW(this._delegate,e).then(t=>t?new ii(this,t):null)}}class by extends Lb{constructor(e){super(),this.firestore=e}convertBytes(e){return new iR(new $r(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return ps.forKey(t,this.firestore,null)}}function pH(n){XU(n)}class oR{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new by(e)}get(e){const t=qu(e);return this._delegate.get(t).then(r=>new im(this._firestore,new gs(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=qu(e);return r?(Ob("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const s=qu(e);return arguments.length===2?this._delegate.update(s,t):this._delegate.update(s,t,r,...i),this}delete(e){const t=qu(e);return this._delegate.delete(t),this}}class aR{constructor(e){this._delegate=e}set(e,t,r){const i=qu(e);return r?(Ob("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const s=qu(e);return arguments.length===2?this._delegate.update(s,t):this._delegate.update(s,t,r,...i),this}delete(e){const t=qu(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class mc{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new mp(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new sm(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=mc.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let s=i.get(t);return s||(s=new mc(e,new by(e),t),i.set(t,s)),s}}mc.INSTANCES=new WeakMap;class ps{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new by(e)}static forPath(e,t,r){if(e.length%2!==0)throw new xe("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new ps(t,new fn(t._delegate,r,new $e(e)))}static forKey(e,t,r){return new ps(t,new fn(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new vd(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new vd(this.firestore,jk(this._delegate,e))}catch(t){throw si(t,"collection()","DocumentReference.collection()")}}isEqual(e){return e=pt(e),e instanceof fn?Bk(this._delegate,e):!1}set(e,t){t=Ob("DocumentReference.set",t);try{return t?lT(this._delegate,e,t):lT(this._delegate,e)}catch(r){throw si(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return arguments.length===1?uT(this._delegate,e):uT(this._delegate,e,t,...r)}catch(i){throw si(i,"updateDoc()","DocumentReference.update()")}}delete(){return JW(this._delegate)}onSnapshot(...e){const t=lR(e),r=uR(e,i=>new im(this.firestore,new gs(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return rR(this._delegate,t,r)}get(e){let t;return(e==null?void 0:e.source)==="cache"?t=HW(this._delegate):(e==null?void 0:e.source)==="server"?t=GW(this._delegate):t=WW(this._delegate),t.then(r=>new im(this.firestore,new gs(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new ps(this.firestore,e?this._delegate.withConverter(mc.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function si(n,e,t){return n.message=n.message.replace(e,t),n}function lR(n){for(const e of n)if(typeof e=="object"&&!$_(e))return e;return{}}function uR(n,e){var r,i;let t;return $_(n[0])?t=n[0]:$_(n[1])?t=n[1]:typeof n[0]=="function"?t={next:n[0],error:n[1],complete:n[2]}:t={next:n[1],error:n[2],complete:n[3]},{next:s=>{t.next&&t.next(e(s))},error:(r=t.error)==null?void 0:r.bind(t),complete:(i=t.complete)==null?void 0:i.bind(t)}}class im{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new ps(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return nR(this._delegate,e._delegate)}}class sm extends im{data(e){const t=this._delegate.data(e);return this._delegate._converter||ZU(t!==void 0,"Document in a QueryDocumentSnapshot should exist"),t}}class ii{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new by(e)}where(e,t,r){try{return new ii(this.firestore,tl(this._delegate,OW(e,t,r)))}catch(i){throw si(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new ii(this.firestore,tl(this._delegate,FW(e,t)))}catch(r){throw si(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new ii(this.firestore,tl(this._delegate,MW(e)))}catch(t){throw si(t,"limit()","Query.limit()")}}limitToLast(e){try{return new ii(this.firestore,tl(this._delegate,VW(e)))}catch(t){throw si(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new ii(this.firestore,tl(this._delegate,jW(...e)))}catch(t){throw si(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new ii(this.firestore,tl(this._delegate,BW(...e)))}catch(t){throw si(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new ii(this.firestore,tl(this._delegate,UW(...e)))}catch(t){throw si(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new ii(this.firestore,tl(this._delegate,zW(...e)))}catch(t){throw si(t,"endAt()","Query.endAt()")}}isEqual(e){return Uk(this._delegate,e._delegate)}get(e){let t;return(e==null?void 0:e.source)==="cache"?t=QW(this._delegate):(e==null?void 0:e.source)==="server"?t=YW(this._delegate):t=KW(this._delegate),t.then(r=>new W_(this.firestore,new Gs(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=lR(e),r=uR(e,i=>new W_(this.firestore,new Gs(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return rR(this._delegate,t,r)}withConverter(e){return new ii(this.firestore,e?this._delegate.withConverter(mc.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class mH{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new sm(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class W_{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new ii(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new sm(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new mH(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new sm(this._firestore,r))})}isEqual(e){return nR(this._delegate,e._delegate)}}class vd extends ii{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new ps(this.firestore,e):null}doc(e){try{return e===void 0?new ps(this.firestore,f0(this._delegate)):new ps(this.firestore,f0(this._delegate,e))}catch(t){throw si(t,"doc()","CollectionReference.doc()")}}add(e){return XW(this._delegate,e).then(t=>new ps(this.firestore,t))}isEqual(e){return Bk(this._delegate,e._delegate)}withConverter(e){return new vd(this.firestore,e?this._delegate.withConverter(mc.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function qu(n){return $t(n,fn)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fb{constructor(...e){this._delegate=new Wl(...e)}static documentId(){return new Fb(An.keyField().canonicalString())}isEqual(e){return e=pt(e),e instanceof Wl?this._delegate._internalPath.isEqual(e._internalPath):!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ou{static serverTimestamp(){const e=oH();return e._methodName="FieldValue.serverTimestamp",new Ou(e)}static delete(){const e=sH();return e._methodName="FieldValue.delete",new Ou(e)}static arrayUnion(...e){const t=aH(...e);return t._methodName="FieldValue.arrayUnion",new Ou(t)}static arrayRemove(...e){const t=lH(...e);return t._methodName="FieldValue.arrayRemove",new Ou(t)}static increment(e){const t=uH(e);return t._methodName="FieldValue.increment",new Ou(t)}constructor(e){this._delegate=e}isEqual(e){return this._delegate.isEqual(e._delegate)}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gH={Firestore:sR,GeoPoint:Hs,Timestamp:Gt,Blob:iR,Transaction:oR,WriteBatch:aR,DocumentReference:ps,DocumentSnapshot:im,Query:ii,QueryDocumentSnapshot:sm,QuerySnapshot:W_,CollectionReference:vd,FieldPath:Fb,FieldValue:Ou,setLogLevel:pH,CACHE_SIZE_UNLIMITED:bW};function yH(n,e){n.INTERNAL.registerComponent(new Ro("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps({...gH}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vH(n){yH(n,(e,t)=>new sR(e,t,new fH)),n.registerVersion(cH,hH)}vH(At);const _H="ccw-offline-queue",wH=1,cs="pending-operations";class bH{constructor(){this.db=null}async init(){return new Promise((e,t)=>{const r=indexedDB.open(_H,wH);r.onerror=()=>t(r.error),r.onsuccess=()=>{this.db=r.result,e()},r.onupgradeneeded=i=>{const s=i.target.result;if(!s.objectStoreNames.contains(cs)){const o=s.createObjectStore(cs,{keyPath:"id",autoIncrement:!0});o.createIndex("timestamp","timestamp",{unique:!1}),o.createIndex("type","type",{unique:!1})}}})}async addOperation(e){return this.db||await this.init(),new Promise((t,r)=>{const s=this.db.transaction([cs],"readwrite").objectStore(cs),o={...e,timestamp:Date.now(),retries:0},a=s.add(o);a.onsuccess=()=>{console.log("[OfflineQueue] Operation queued:",e.type),t(a.result)},a.onerror=()=>r(a.error)})}async getAllOperations(){return this.db||await this.init(),new Promise((e,t)=>{const s=this.db.transaction([cs],"readonly").objectStore(cs).getAll();s.onsuccess=()=>e(s.result),s.onerror=()=>t(s.error)})}async removeOperation(e){return this.db||await this.init(),new Promise((t,r)=>{const o=this.db.transaction([cs],"readwrite").objectStore(cs).delete(e);o.onsuccess=()=>t(),o.onerror=()=>r(o.error)})}async clearAll(){return this.db||await this.init(),new Promise((e,t)=>{const s=this.db.transaction([cs],"readwrite").objectStore(cs).clear();s.onsuccess=()=>e(),s.onerror=()=>t(s.error)})}async getCount(){return this.db||await this.init(),new Promise((e,t)=>{const s=this.db.transaction([cs],"readonly").objectStore(cs).count();s.onsuccess=()=>e(s.result),s.onerror=()=>t(s.error)})}}const H_=new bH;class IH{constructor(){this.isSyncing=!1,this.syncCallbacks=[]}onSyncStatusChange(e){this.syncCallbacks.push(e)}notifyListeners(e){this.syncCallbacks.forEach(t=>t(e))}async syncAll(){if(this.isSyncing){console.log("[SyncManager] Sync already in progress");return}this.isSyncing=!0,this.notifyListeners({syncing:!0,error:null});try{const e=await H_.getAllOperations();if(console.log(`[SyncManager] Processing ${e.length} queued operations`),e.length===0){this.isSyncing=!1,this.notifyListeners({syncing:!1,error:null,completed:0});return}let t=0,r=0;for(const i of e)try{await this.processOperation(i),await H_.removeOperation(i.id),t++,console.log(`[SyncManager] Processed operation ${t}/${e.length}`)}catch(s){console.error("[SyncManager] Failed to process operation:",s),r++}this.isSyncing=!1,this.notifyListeners({syncing:!1,error:r>0?`${r} operations failed`:null,completed:t}),console.log(`[SyncManager] Sync complete: ${t} succeeded, ${r} failed`)}catch(e){console.error("[SyncManager] Sync error:",e),this.isSyncing=!1,this.notifyListeners({syncing:!1,error:e.message})}}async processOperation(e){const{type:t,data:r}=e,i=At.firestore();switch(t){case"CREATE_VISIT":await i.collection("user_files").doc(r.userId).collection("customers").doc(r.customerId).collection("visits").doc(r.visitId).set(r.visitData);break;case"UPDATE_VISIT":await i.collection("user_files").doc(r.userId).collection("customers").doc(r.customerId).collection("visits").doc(r.visitId).update(r.updates);break;case"DELETE_VISIT":await i.collection("user_files").doc(r.userId).collection("customers").doc(r.customerId).collection("visits").doc(r.visitId).delete();break;case"CREATE_CUSTOMER":await i.collection("user_files").doc(r.userId).collection("customers").doc(r.customerId).set(r.customerData);break;case"UPDATE_CUSTOMER":await i.collection("user_files").doc(r.userId).collection("customers").doc(r.customerId).update(r.updates);break;case"DELETE_CUSTOMER":await i.collection("user_files").doc(r.userId).collection("customers").doc(r.customerId).delete();break;default:console.warn("[SyncManager] Unknown operation type:",t)}}}const p1=new IH;function EH(){const[n,e]=se.useState(navigator.onLine),[t,r]=se.useState(0),[i,s]=se.useState({syncing:!1,error:null});se.useEffect(()=>{const l=()=>{console.log("[OfflineIndicator] Connection restored"),e(!0),setTimeout(()=>p1.syncAll(),1e3)},c=()=>{console.log("[OfflineIndicator] Connection lost"),e(!1)};window.addEventListener("online",l),window.addEventListener("offline",c),p1.onSyncStatusChange(f=>{s(f),o()});const d=setInterval(o,2e3);return o(),()=>{window.removeEventListener("online",l),window.removeEventListener("offline",c),clearInterval(d)}},[]);const o=async()=>{try{const l=await H_.getCount();r(l)}catch(l){console.error("[OfflineIndicator] Error getting queue count:",l)}},a=async()=>{n&&t>0&&await p1.syncAll()};return n&&t===0&&!i.syncing?null:V.jsxs("div",{style:{position:"fixed",top:"60px",right:"10px",zIndex:1040,maxWidth:"300px"},children:[!n&&V.jsxs("div",{className:"alert alert-warning d-flex align-items-center",style:{padding:"10px 15px",marginBottom:"8px",fontSize:"14px"},children:[V.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",style:{marginRight:"8px",flexShrink:0},children:V.jsx("path",{d:"M1 1l6 6m0 0l6 6m-6-6l6-6m-6 6l-6 6"})}),V.jsxs("span",{children:[V.jsx("strong",{children:"Offline Mode"}),V.jsx("br",{}),"Changes will sync when online"]})]}),t>0&&V.jsxs("div",{className:`alert ${n?"alert-info":"alert-secondary"} d-flex align-items-center justify-content-between`,style:{padding:"10px 15px",fontSize:"14px"},children:[V.jsx("div",{style:{display:"flex",alignItems:"center",flex:1},children:i.syncing?V.jsxs(V.Fragment,{children:[V.jsx("div",{className:"spinner-border spinner-border-sm",role:"status",style:{marginRight:"8px"},children:V.jsx("span",{className:"visually-hidden",children:"Syncing..."})}),V.jsxs("span",{children:["Syncing ",t," change",t!==1?"s":"","..."]})]}):V.jsxs(V.Fragment,{children:[V.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",style:{marginRight:"8px",flexShrink:0},children:V.jsx("path",{d:"M12 2v20M17 7l-5-5-5 5"})}),V.jsxs("span",{children:[t," change",t!==1?"s":""," pending"]})]})}),n&&!i.syncing&&V.jsx("button",{onClick:a,className:"btn btn-sm btn-primary",style:{marginLeft:"10px",padding:"4px 8px",fontSize:"12px"},children:"Sync Now"})]}),i.error&&V.jsxs("div",{className:"alert alert-danger",style:{padding:"10px 15px",fontSize:"14px",marginTop:"8px"},children:[V.jsx("strong",{children:"Sync Error:"})," ",i.error]})]})}console.log("Starting App module load 1");console.log("Starting App module load 2");console.log("Starting App module load 3");const SH={apiKey:"AIzaSyDnhtjMPh5bkKgRyZEfqIJmVISrJ_UkrB4",authDomain:"downtimelogger-a96fb.firebaseapp.com",projectId:"downtimelogger-a96fb",storageBucket:"downtimelogger-a96fb.firebasestorage.app",messagingSenderId:"941297034751",appId:"1:941297034751:web:80322c27de1b1b2e0cf3ca",measurementId:"G-ZRNDDFPK74"};try{At.initializeApp(SH),console.log("Firebase initialized successfully"),At.firestore().enablePersistence({synchronizeTabs:!0}).then(()=>{console.log("Firestore offline persistence enabled")}).catch(n=>{n.code==="failed-precondition"?console.warn("Persistence failed: Multiple tabs open"):n.code==="unimplemented"&&console.warn("Persistence not supported in this browser")}),At.auth().setPersistence(At.auth.Auth.Persistence.LOCAL)}catch(n){console.error("Firebase init error:",n)}const AH=(n,e,t,r)=>{const i=window.prompt("Enter line name:",`Line ${r.length+1}`);if(!i||i.trim()==="")return;const s=window.prompt("How many heads?",t.headCount||"14");if(!s)return;const o=parseInt(s);if(isNaN(o)||o<1){alert("Please enter a valid number of heads (must be at least 1)");return}const a={id:Date.now(),title:i.trim(),model:"",jobNumber:"",serialNumber:"",running:!1,notes:"",heads:Array.from({length:o},(l,c)=>({id:c+1,status:"active",error:"None",notes:"",fixed:"na",currentWeight:0,spanWeight:0,weightDifference:0})),showSpanAdjust:!1};n([...r,a]),e(a.id)},TH=(n,e,t,r)=>{window.confirm("Remove this line?")&&(e(r.filter(i=>i.id!==n)),t===n&&setActiveLineId(r.length>1?r[r.length-2].id:null))},xH=(n,e,t,r)=>{t(r.map(i=>i.id===n?{...e}:i))},PH=(n,e,t,r)=>{if(!window.confirm(`Reset ${n.title} to default? All data for this line will be cleared.`))return;const i={...n,notes:"",heads:Array.from({length:parseInt(e.headCount)||14},(s,o)=>({id:o+1,status:"active",error:"None",notes:"",fixed:"na",currentWeight:0,spanWeight:0,weightDifference:0}))};t(r.map(s=>s.id===n.id?i:s))},NH=(n,e,t)=>{e(!1),t(n)},CH=async n=>{const e=prompt("Enter your email:"),t=prompt("Enter your password:");if(!e||!t)return!1;try{const r=await At.auth().signInWithEmailAndPassword(e,t);return n(r.user),alert("Signed in successfully!"),!0}catch(r){return alert(`Sign-in failed: ${r.message}`),!1}},kH=(n,e)=>{if(n.length===0)return alert("No data to export");const t=new ct("p","mm","a4"),r=t.internal.pageSize.height,i="https://i.imgur.com/GQRZTtW.png";t.addImage(i,"PNG",14,10,30,15),t.setFontSize(16),t.text("Ishida Dashboard Report",105,20,{align:"center"});let s=35;const o=n.filter(c=>c.heads.some(d=>d.status!=="active"||d.error!=="None"||d.notes.trim()!==""||d.fixed!=="na")),a=n.filter(c=>!c.heads.some(d=>d.status!=="active"||d.error!=="None"||d.notes.trim()!==""||d.fixed!=="na")),l=[...o,...a];l.forEach((c,d)=>{const f=d===l.length-1,p=c.notes&&c.notes.trim(),g=c.heads.filter(k=>k.status!=="active"||k.error!=="None"||k.notes.trim()!==""||k.fixed!=="na"),S=g.length>0;let x=6;if(p){const k=`Line Notes: ${c.notes}`,_=t.splitTextToSize(k,190);x+=_.length*4+5}if(S?x+=15+g.length*5:x+=10,s+x>r-20&&!f&&(t.addPage(),t.addImage(i,"PNG",14,10,30,15),t.setFontSize(16),t.text("Ishida Dashboard Report",105,20,{align:"center"}),s=35),t.setFontSize(12),t.text(c.title,14,s),s+=6,p){t.setFontSize(10);const k=`Line Notes: ${c.notes}`,_=t.splitTextToSize(k,182);t.text(_,14,s),s+=_.length*4+5}if(S){const k=g.map(_=>[_.id,_.status,_.error,_.fixed,_.notes||""]);t.autoTable({startY:s,head:[["Head #","Status","Error","Fixed","Notes"]],body:k,theme:"grid",styles:{fontSize:8,cellPadding:2},headStyles:{fillColor:[0,102,204],textColor:255,fontStyle:"bold"},columnStyles:{0:{halign:"center",cellWidth:18},1:{halign:"center",cellWidth:25},2:{halign:"left",cellWidth:40},3:{halign:"center",cellWidth:20},4:{halign:"left",cellWidth:70}},margin:{left:14,right:14}}),s=t.lastAutoTable.finalY+8}else t.setFontSize(10),t.text("No issues were found",14,s),s+=10;f||(s+=5)}),t.save(`${e.customer||"ishida"}-dashboard.pdf`)},RH=(n,e)=>{if(!n)return alert("No line data to export");const t=new ct("p","mm","a4"),r="https://i.imgur.com/GQRZTtW.png";t.addImage(r,"PNG",14,10,30,15),t.setFontSize(16),t.text("Ishida Line Report",105,20,{align:"center"}),t.setFontSize(10),t.text(`Customer: ${e.customer||"N/A"}`,105,28,{align:"center"});let i=35;if(t.setFontSize(14),t.text(n.title,14,i),i+=8,t.setFontSize(10),t.text(`Model: ${n.model||"N/A"}`,14,i),i+=6,t.text(`Job Number: ${n.jobNumber||"N/A"}`,14,i),i+=6,t.text(`Serial Number: ${n.serialNumber||"N/A"}`,14,i),i+=6,t.text(`Running: ${n.running?"Yes":"No"}`,14,i),i+=10,n.notes&&n.notes.trim()){t.setFontSize(10);const o=`Line Notes: ${n.notes}`,a=t.splitTextToSize(o,182);t.text(a,14,i),i+=a.length*4+5}const s=n.heads.filter(o=>o.status!=="active"||o.error!=="None"||o.notes.trim()!==""||o.fixed!=="na");if(s.length>0){t.setFontSize(12),t.text("Issues:",14,i),i+=6;const o=s.map(a=>[a.id,a.status,a.error,a.fixed,a.notes||""]);t.autoTable({startY:i,head:[["Head #","Status","Error","Fixed","Notes"]],body:o,theme:"grid",styles:{fontSize:8,cellPadding:2},headStyles:{fillColor:[0,102,204],textColor:255,fontStyle:"bold"},columnStyles:{0:{halign:"center",cellWidth:18},1:{halign:"center",cellWidth:25},2:{halign:"left",cellWidth:40},3:{halign:"center",cellWidth:20},4:{halign:"left",cellWidth:70}},margin:{left:14,right:14}})}else t.setFontSize(10),t.text("No issues were found",14,i);t.save(`${e.customer||"ishida"}-${n.title.replace(/[^a-z0-9]/gi,"-")}.pdf`)},LH=(n,e,t)=>{if(n.length===0)return alert("No history to export");const r=new ct("p","mm","a4"),i=r.internal.pageSize.height,s="https://i.imgur.com/GQRZTtW.png";r.addImage(s,"PNG",14,10,30,15),r.setFontSize(16),r.text(`Issue History Report - ${t}`,105,20,{align:"center"}),r.setFontSize(10),r.text(`Customer: ${e}`,105,28,{align:"center"});let o=35;n.forEach((a,l)=>{const c=l===n.length-1,d=15+a.issues.length*5;o+d>i-20&&!c&&(r.addPage(),r.addImage(s,"PNG",14,10,30,15),r.setFontSize(16),r.text(`Issue History Report - ${t}`,105,20,{align:"center"}),r.setFontSize(10),r.text(`Customer: ${e}`,105,28,{align:"center"}),o=35),r.setFontSize(12);const f=t==="All-Lines"&&a.lineTitle?`${a.lineTitle} - Head #${a.headId}`:`Head #${a.headId}`;r.text(f,14,o),o+=6;const p=a.issues.map(g=>[g.visitName,g.status,g.error,g.fixed,g.notes||""]);r.autoTable({startY:o,head:[["Visit Name","Status","Error","Fixed","Notes"]],body:p,theme:"grid",styles:{fontSize:8,cellPadding:2},headStyles:{fillColor:[0,102,204],textColor:255,fontStyle:"bold"},columnStyles:{0:{halign:"left",cellWidth:40},1:{halign:"center",cellWidth:25},2:{halign:"left",cellWidth:40},3:{halign:"center",cellWidth:20},4:{halign:"left",cellWidth:60}},margin:{left:14,right:14}}),o=r.lastAutoTable.finalY+8,c||(o+=5)}),r.save(`${e}-${t}-history.pdf`)},DH=({customers:n,visits:e,onExportPDF:t})=>{const[r,i]=se.useState(""),[s,o]=se.useState(""),[a,l]=se.useState([]),c=()=>{if(!r||!s||!n.find(S=>S.id===r))return;const f=e.filter(S=>S.customerId===r),p={};f.forEach(S=>{(s==="__ALL__"?S.lines:S.lines.filter(k=>k.title===s)).forEach(k=>{k.heads.forEach(_=>{if(_.status!=="active"||_.error!=="None"||_.notes.trim()!==""||_.fixed!=="na"){const b=s==="__ALL__"?`${k.title}__${_.id}`:_.id.toString();p[b]||(p[b]={lineTitle:k.title,headId:_.id,issues:[]}),p[b].issues.push({visitName:S.name||`Visit ${new Date(S.date).toLocaleDateString()}`,status:_.status,error:_.error,fixed:_.fixed,notes:_.notes})}})})});const g=Object.values(p).map(S=>({lineTitle:S.lineTitle,headId:S.headId,issues:S.issues.sort((x,k)=>new Date(x.date||0)-new Date(k.date||0))}));g.sort((S,x)=>S.lineTitle!==x.lineTitle?S.lineTitle.localeCompare(x.lineTitle):S.headId-x.headId),l(g)};return se.useEffect(()=>{r&&s&&c()},[r,s]),V.jsxs("div",{className:"p-4 bg-light rounded",children:[V.jsx("h5",{className:"mb-3",children:"Issue History"}),V.jsxs("div",{className:"d-flex gap-3 mb-3 flex-wrap",children:[V.jsxs("select",{value:r,onChange:d=>{i(d.target.value),o("")},className:"form-select form-select-sm",style:{minWidth:"180px"},children:[V.jsx("option",{value:"",children:"-- Select Customer --"}),n.map(d=>V.jsx("option",{value:d.id,children:d.name},d.id))]}),r&&V.jsxs("select",{value:s,onChange:d=>o(d.target.value),className:"form-select form-select-sm",style:{minWidth:"180px"},children:[V.jsx("option",{value:"",children:"-- Select Line --"}),V.jsx("option",{value:"__ALL__",children:"All Lines"}),(()=>{const d=new Set;return e.filter(f=>f.customerId===r).forEach(f=>{f.lines.forEach(p=>d.add(p.title))}),Array.from(d).sort().map(f=>V.jsx("option",{value:f,children:f},f))})()]}),s&&a.length>0&&V.jsx("button",{onClick:()=>{var d;return t(a,((d=n.find(f=>f.id===r))==null?void 0:d.name)||"Unknown",s==="__ALL__"?"All-Lines":s)},className:"btn btn-success btn-sm",children:"Export History PDF"})]}),a.length>0?V.jsxs("div",{children:[V.jsxs("h6",{children:["Issue History for ",s==="__ALL__"?"All Lines":s]}),a.map((d,f)=>V.jsxs("div",{className:"mb-4 bg-white p-3 rounded shadow-sm",children:[V.jsxs("h6",{className:"text-primary",children:[s==="__ALL__"?`${d.lineTitle} - `:"","Head #",d.headId]}),V.jsxs("table",{className:"table table-sm table-bordered",children:[V.jsx("thead",{className:"table-primary",children:V.jsxs("tr",{children:[V.jsx("th",{children:"Visit Name"}),V.jsx("th",{children:"Status"}),V.jsx("th",{children:"Error"}),V.jsx("th",{children:"Fixed"}),V.jsx("th",{children:"Notes"})]})}),V.jsx("tbody",{children:d.issues.map((p,g)=>V.jsxs("tr",{children:[V.jsx("td",{children:p.visitName}),V.jsx("td",{children:p.status}),V.jsx("td",{children:p.error}),V.jsx("td",{children:p.fixed}),V.jsx("td",{children:p.notes||"-"})]},g))})]})]},`${d.lineTitle}-${d.headId}-${f}`))]}):s?V.jsxs("p",{className:"text-muted",children:["No issues found for ",s==="__ALL__"?"All Lines":s]}):null]})},OH=()=>{console.log("App component defined");const[n]=B8(),[e,t]=se.useState({customer:"",address:"",cityState:"",headCount:"14"}),[r,i]=se.useState([]),[s,o]=se.useState(!1),[a,l]=se.useState(null),[c,d]=se.useState(null),[f,p]=se.useState(Date.now()),[g,S]=se.useState(!0),[x,k]=se.useState(!1),[_,b]=se.useState(()=>{const pe=localStorage.getItem("ccwissues-theme");return pe?pe==="dark":window.matchMedia("(prefers-color-scheme: dark)").matches});se.useEffect(()=>{document.documentElement.setAttribute("data-theme",_?"dark":"light"),localStorage.setItem("ccwissues-theme",_?"dark":"light")},[_]);const E=()=>{b(!_)},[F,B]=se.useState([]),[U,N]=se.useState(null),[A,C]=se.useState([]),[D,T]=se.useState(!1),[P,L]=se.useState(!1),[G,ue]=se.useState({name:"",address:"",cityState:"",headCount:"14"}),[ee,X]=se.useState("");se.useState(!1);const[K,Y]=se.useState(!1),[oe,me]=se.useState(""),[M,W]=se.useState(""),[Q,te]=se.useState(null),[ne,he]=se.useState(""),[fe,ge]=se.useState(null),[Ce,Re]=se.useState(!1),[Ue,ze]=se.useState(!1),[at,Ee]=se.useState(!1),ie=se.useRef(null),Ve=At.auth().currentUser,Ze=async(pe,ke,Be,We)=>{if(Ve)try{const Nt=(Ot,Ut,vt)=>{N({id:vt,...Ut}),t({customer:Ut.name,address:Ut.address||"",cityState:Ut.cityState||"",headCount:(Ut.headCount||"14").toString()});const it=Ot.lines.map(rn=>({...rn,heads:rn.heads.map((tn,sn)=>({...tn,id:tn.id||sn+1}))}));i(it);let wt=it.length>0?it[0].id:null;if(Be&&it.length>0){const rn=it.find(tn=>{var sn;return tn.title===Be||((sn=tn.title)==null?void 0:sn.toLowerCase())===Be.toLowerCase()});rn&&(wt=rn.id,console.log(`Navigating to line: ${rn.title}`))}l(wt),o(!1),X(Ot.name||""),ge(pe),p(Date.now()),We&&setTimeout(()=>{const rn=document.querySelector(`[data-head-id="${We}"]`);rn&&(rn.scrollIntoView({behavior:"smooth",block:"center"}),rn.style.animation="pulse 1s ease-in-out 3")},500),console.log(`Deep linked to visit: ${Ot.name||pe}${Be?`, line: ${Be}`:""}${We?`, head: ${We}`:""}`)};if(ke){const Ut=await At.firestore().collection("user_files").doc(Ve.uid).collection("customers").doc(ke).collection("visits").doc(pe).get();if(Ut.exists){const vt=Ut.data(),it=await At.firestore().collection("user_files").doc(Ve.uid).collection("customers").doc(ke).get();if(it.exists){const wt=it.data().profile;Nt(vt,wt,ke);return}}}const gt=await At.firestore().collection("user_files").doc(Ve.uid).collection("customers").get();for(const Ot of gt.docs){const Ut=await At.firestore().collection("user_files").doc(Ve.uid).collection("customers").doc(Ot.id).collection("visits").doc(pe).get();if(Ut.exists){const vt=Ut.data(),it=Ot.data().profile;Nt(vt,it,Ot.id);return}}console.error("Visit not found:",pe)}catch(Nt){console.error("Deep link load failed:",Nt)}};se.useEffect(()=>{if(!Ve||at)return;const pe=n.get("id")||n.get("visitId"),ke=n.get("customer")||n.get("customerId"),Be=n.get("line"),We=n.get("head");pe&&(console.log("Deep linking to visit:",pe,Be?`line: ${Be}`:"",We?`head: ${We}`:""),Ze(pe,ke,Be,We),Ee(!0))},[Ve,n,at]);const Le=async pe=>{if(!Ve||!U)return alert("Select a customer first");const ke=await At.firestore().collection("user_files").doc(Ve.uid).collection("customers").doc(U.id).collection("visits").doc(pe).get();if(ke.exists){const Be=ke.data(),We=Be.lines.map(Nt=>({...Nt,heads:Nt.heads.map((gt,Ot)=>({...gt,id:gt.id||Ot+1}))}));t(Be.globalData),i(We),l(We.length>0?We[0].id:null),X(Be.name||""),ge(pe),p(Date.now()),alert("Visit loaded!")}else alert("Visit not found")},De=async pe=>{var ke;if(window.confirm(`Delete customer "${(ke=F.find(Be=>Be.id===pe))==null?void 0:ke.name}" and all its visits?`))try{const Be=await At.firestore().collection("user_files").doc(Ve.uid).collection("customers").doc(pe).collection("visits").get(),We=At.firestore().batch();Be.docs.forEach(Nt=>{We.delete(Nt.ref)}),await We.commit(),await At.firestore().collection("user_files").doc(Ve.uid).collection("customers").doc(pe).delete(),localStorage.removeItem(`ishida_${pe}`),alert("Customer and all visits deleted from cloud")}catch(Be){console.error("Delete error:",Be),alert("Failed to delete customer")}},je=async(pe,ke)=>{if(window.confirm("Delete this visit?"))try{await At.firestore().collection("user_files").doc(Ve.uid).collection("customers").doc(pe).collection("visits").doc(ke).delete(),alert("Visit deleted from cloud"),(U==null?void 0:U.id)===pe&&(await ln(pe),fe===ke&&ge(null))}catch(Be){console.error("Delete visit error:",Be),alert("Failed to delete visit")}},qe=async()=>{if(Q)try{await At.firestore().collection("user_files").doc(Ve.uid).collection("customers").doc(U.id).collection("visits").doc(Q.id).update({date:new Date(ne).toISOString()}),alert("Timestamp updated"),te(null),he(""),await ln(U.id)}catch{alert("Failed to update timestamp")}},st=async(pe=!1)=>{if(!Ve||!U)return alert("Select a customer first");if(!window.confirm(pe?"Override current visit?":"Save current visit to cloud?"))return;const ke={date:new Date().toISOString(),name:ee,globalData:e,lines:r.map(Be=>({...Be,heads:Be.heads.map(We=>({...We,id:We.id}))}))};try{if(pe&&fe)await At.firestore().collection("user_files").doc(Ve.uid).collection("customers").doc(U.id).collection("visits").doc(fe).set(ke),alert("Visit overridden!");else{const Be=`visit_${Date.now()}`;await At.firestore().collection("user_files").doc(Ve.uid).collection("customers").doc(U.id).collection("visits").doc(Be).set(ke),ge(Be),alert("Saved to cloud!")}await ln(U.id)}catch{alert("Failed to save to cloud. Data saved locally."),localStorage.setItem(`offline_${U.id}_${Date.now()}`,JSON.stringify(ke))}},mt=async()=>{if(!fe)return alert("No visit to duplicate");if(!window.confirm("Duplicate current visit?"))return;const pe=`visit_${Date.now()}`,ke={date:new Date().toISOString(),name:`${ee} (Copy)`,globalData:e,lines:r.map(Be=>({...Be,heads:Be.heads.map(We=>({...We,id:We.id}))}))};try{await At.firestore().collection("user_files").doc(Ve.uid).collection("customers").doc(U.id).collection("visits").doc(pe).set(ke),ge(pe),X(ke.name),alert("Visit duplicated!"),await ln(U.id)}catch{alert("Failed to duplicate visit")}},It=async()=>{if(!Ve)return alert("Sign in first");if(window.confirm("Save ALL customers and visits to cloud?"))try{const pe=await At.firestore().collection("user_files").doc(Ve.uid).collection("customers").get();for(const ke of pe.docs){const Be=ke.id,We=await At.firestore().collection("user_files").doc(Ve.uid).collection("customers").doc(Be).collection("visits").get(),Nt=At.firestore().batch();We.docs.forEach(gt=>{Nt.set(gt.ref,gt.data())}),await Nt.commit()}alert("All data saved to cloud!")}catch{alert("Failed to save all to cloud")}},_t=async()=>{if(!Ve)return alert("Sign in first");if(window.confirm("Load ALL customers and visits from cloud? This will overwrite local data."))try{const pe=await At.firestore().collection("user_files").doc(Ve.uid).collection("customers").get(),ke={customers:[],visits:[]};ke.customers=pe.docs.map(Be=>({id:Be.id,...Be.data()}));for(const Be of pe.docs){const We=Be.id,Nt=await At.firestore().collection("user_files").doc(Ve.uid).collection("customers").doc(We).collection("visits").get();ke.visits=ke.visits.concat(Nt.docs.map(gt=>({id:gt.id,customerId:We,...gt.data()})))}localStorage.clear(),B([]),N(null),i([]),X(""),ge(null),await Pt(),alert("All data loaded from cloud!")}catch{alert("Failed to load all from cloud")}};se.useEffect(()=>{const pe=At.auth().onAuthStateChanged(async ke=>{ke||await CH(d)||alert("Sign-in required"),d(ke),S(!1)});return()=>pe()},[]),se.useEffect(()=>{"serviceWorker"in navigator&&(navigator.serviceWorker.register("/service-worker.js").then(pe=>{console.log("[SW] Service Worker registered:",pe)}).catch(pe=>{console.error("[SW] Service Worker registration failed:",pe)}),navigator.serviceWorker.addEventListener("message",pe=>{pe.data&&pe.data.type==="SYNC_QUEUE"&&(console.log("[SW] Received sync request from service worker"),p1.syncAll())}))},[]),se.useEffect(()=>{if(!Ve)return;console.log("Setting up live customer listener for UID:",Ve.uid);const pe=At.firestore().collection("user_files").doc(Ve.uid).collection("customers").onSnapshot(ke=>{const Be=ke.docs.map(We=>({id:We.id,...We.data().profile}));console.log("CUSTOMERS UPDATED:",Be),B(Be)});return()=>pe()},[Ve]);const Pt=async()=>{if(!Ve)return;const ke=(await At.firestore().collection("user_files").doc(Ve.uid).collection("customers").get()).docs.map(Be=>({id:Be.id,...Be.data().profile}));console.log("REFRESHED CUSTOMERS:",ke),B(ke)},Vt=async pe=>{const Be=pe.name.trim().toLowerCase().replace(/[^a-z0-9]/g,"_"),We=At.firestore().collection("user_files").doc(Ve.uid).collection("customers").doc(Be),Nt=await We.get();if(Nt.exists){const gt=Nt.data().profile;await We.update({profile:{...gt,address:pe.address||gt.address||"",cityState:pe.cityState||gt.cityState||"",headCount:pe.headCount||gt.headCount}})}else await We.set({profile:pe});return console.log("Customer upserted:",Be),Be},ht=async pe=>{if(pe.preventDefault(),!(!Ve||!G.name.trim()))try{await Vt(G),await Pt(),ue({name:"",address:"",cityState:"",headCount:"14"}),L(!1)}catch{alert("Failed to add customer")}},xt=async pe=>{const ke=pe.target.files[0];if(!ke||!ke.name.endsWith(".json")){alert("Please select a valid .json file.");return}const Be=new FileReader;Be.onload=async We=>{var Nt,gt;try{const Ot=JSON.parse(We.target.result),{globalData:Ut,lines:vt}=Ot;if(!(Ut!=null&&Ut.customer))throw new Error("No customer name in file");const it={name:Ut.customer.trim(),address:((Nt=Ut.address)==null?void 0:Nt.trim())||"",cityState:((gt=Ut.cityState)==null?void 0:gt.trim())||"",headCount:parseInt(Ut.headCount)||14};console.log("Importing:",it);const wt=await Vt(it);console.log("Customer ID:",wt);const rn=`visit_${Date.now()}`;await At.firestore().collection("user_files").doc(Ve.uid).collection("customers").doc(wt).collection("visits").doc(rn).set({date:new Date().toISOString(),name:"",globalData:Ut,lines:vt.map(sn=>({...sn,heads:sn.heads.map((wn,lt)=>({...wn,id:wn.id||lt+1}))}))}),setTimeout(()=>{p(Date.now())},100);const tn=await At.firestore().collection("user_files").doc(Ve.uid).collection("customers").doc(wt).get();if(tn.exists){const sn={id:wt,...tn.data().profile};console.log("Customer fetched:",sn),N(sn),t({customer:sn.name,address:sn.address,cityState:sn.cityState,headCount:sn.headCount.toString()});const wn=vt.map(lt=>({...lt,heads:lt.heads.map((Lr,Ir)=>({...Lr,id:Lr.id||Ir+1}))}));i(wn),l(wn.length>0?wn[0].id:null),X(""),ge(rn)}alert(`Imported "${it.name}"  new visit saved!`)}catch(Ot){console.error("Import error:",Ot),alert(`Import failed: ${Ot.message}`)}},Be.readAsText(ke),ie.current.value=""},Ke=pe=>{const ke=F.find(Be=>Be.id===pe);ke&&(console.log("Selected:",ke),N(ke),t({customer:ke.name,address:ke.address,cityState:ke.cityState,headCount:ke.headCount.toString()}),i([]),T(!1),X(""),ge(null))},ln=async pe=>{if(!Ve)return;const Be=(await At.firestore().collection("user_files").doc(Ve.uid).collection("customers").doc(pe).collection("visits").orderBy("date","desc").get()).docs.map(We=>({id:We.id,customerId:pe,...We.data()}));C(Be)},Ct=async pe=>{if(window.confirm("Delete this visit?"))try{await At.firestore().collection("user_files").doc(Ve.uid).collection("customers").doc(U.id).collection("visits").doc(pe).delete(),alert("Visit deleted"),await ln(U.id),fe===pe&&ge(null)}catch{alert("Failed to delete visit")}},ir=async()=>{if(!Ve)return alert("Sign in first");if(!window.confirm("Export all data?"))return;const pe={customers:[],visits:[]},ke=await At.firestore().collection("user_files").doc(Ve.uid).collection("customers").get();pe.customers=ke.docs.map(We=>({id:We.id,...We.data()}));for(const We of ke.docs){const Nt=We.id,gt=await At.firestore().collection("user_files").doc(Ve.uid).collection("customers").doc(Nt).collection("visits").get();pe.visits=pe.visits.concat(gt.docs.map(Ot=>({id:Ot.id,customerId:Nt,...Ot.data()})))}const Be=new Blob([JSON.stringify(pe,null,2)],{type:"application/json"});Y8.saveAs(Be,"all-ishida-data.json"),alert("All data exported!")};return se.useEffect(()=>{if(!U||r.length===0)return;const pe=setTimeout(()=>{k(!0);const ke={lines:r,globalData:e,currentVisitName:ee,currentVisitId:fe};localStorage.setItem(`ishida_${U.id}`,JSON.stringify(ke)),k(!1)},500);return()=>clearTimeout(pe)},[r,e,ee,U,fe]),se.useEffect(()=>{var ke;if(!U)return;if(at){console.log("Skipping localStorage load - deep link already loaded data");return}const pe=localStorage.getItem(`ishida_${U.id}`);if(pe)try{const Be=JSON.parse(pe);i(Be.lines||[]),t(Be.globalData||e),X(Be.currentVisitName||""),ge(Be.currentVisitId||null),l(((ke=Be.lines)==null?void 0:ke.length)>0?Be.lines[0].id:null)}catch(Be){console.error("Failed to load from localStorage",Be)}},[U,at]),se.useEffect(()=>{Ve&&(async()=>{const ke=[],Be=await At.firestore().collection("user_files").doc(Ve.uid).collection("customers").get();for(const We of Be.docs){const Nt=await At.firestore().collection("user_files").doc(Ve.uid).collection("customers").doc(We.id).collection("visits").get();ke.push(...Nt.docs.map(gt=>({id:gt.id,customerId:We.id,...gt.data()})))}C(ke)})()},[Ve]),g?V.jsx("div",{className:"text-center p-5",children:"Loading..."}):V.jsxs("div",{className:"container-fluid p-0",children:[V.jsx(EH,{}),V.jsx("button",{onClick:E,className:"dark-mode-toggle",children:_?" Light":" Dark"}),V.jsx("style",{children:`
        .control-bar {
          background: var(--bg-secondary);
          border-bottom: 1px solid var(--border-color);
          padding: 12px;
          max-height: 400px;
          overflow-y: auto;
          overflow-x: hidden;
          position: sticky;
          top: 0;
          z-index: 1000;
        }
        .control-bar .d-flex {
          display: flex;
          flex-wrap: wrap;
          gap: 6px;
          align-items: center;
        }
        .control-bar .btn-sm {
          font-size: 0.75rem;
          padding: 0.25rem 0.4rem;
        }
        .control-bar .btn-sm svg {
          width: 14px;
          height: 14px;
        }
        .saving {
          margin-left: 12px;
          color: #28a745;
          font-weight: 500;
          animation: pulse 1.5s infinite;
        }
        [data-theme="dark"] .saving {
          color: #5cb85c;
        }
        @keyframes pulse {
          0% { opacity: 0.6; }
          50% { opacity: 1; }
          100% { opacity: 0.6; }
        }
        .nav-button {
          font-size: 0.85rem;
          padding: 0.25rem 0.5rem;
        }
        .tab-content {
          padding: 10px 20px;
        }
        .dropdown-menu {
          min-width: 180px;
        }
      `}),V.jsx("div",{className:"control-bar",children:V.jsxs("div",{className:"d-flex align-items-center gap-2 flex-wrap",children:[V.jsx("label",{className:"mb-0",children:V.jsx("strong",{children:"Customer:"})}),V.jsxs("select",{value:(U==null?void 0:U.id)||"",onChange:pe=>Ke(pe.target.value),className:"form-select form-select-sm",style:{minWidth:"180px"},children:[V.jsx("option",{value:"",children:"-- Select Customer --"}),F.map(pe=>V.jsxs("option",{value:pe.id,children:[pe.name," (",pe.headCount," heads)"]},pe.id))]}),V.jsxs("button",{onClick:()=>Re(!Ce),className:`btn btn-outline-secondary btn-sm ${Ce?"active":""}`,children:[V.jsx(rM,{className:"w-4 h-4"})," ",Ce?"Hide":"Settings"]}),Ce&&V.jsxs(V.Fragment,{children:[V.jsxs("button",{onClick:()=>ze(!Ue),className:"btn btn-outline-secondary btn-sm",title:"Help",children:[V.jsx(DF,{className:"w-4 h-4"})," Help"]}),V.jsxs("button",{onClick:()=>L(!0),className:"btn btn-outline-primary btn-sm",children:[V.jsx(JF,{className:"w-4 h-4"})," Add"]}),V.jsxs("button",{onClick:()=>st(!1),className:"btn btn-outline-success btn-sm",children:[V.jsx(tM,{className:"w-4 h-4"})," New"]}),fe&&V.jsxs("button",{onClick:()=>st(!0),className:"btn btn-outline-warning btn-sm",children:[V.jsx(ZF,{className:"w-4 h-4"})," Override"]}),fe&&V.jsxs("button",{onClick:mt,className:"btn btn-outline-info btn-sm",children:[V.jsx(BF,{className:"w-4 h-4"})," Duplicate"]}),V.jsxs("button",{onClick:It,className:"btn btn-outline-success btn-sm",children:[V.jsx(VF,{className:"w-4 h-4"})," All to Cloud"]}),V.jsxs("button",{onClick:_t,className:"btn btn-outline-primary btn-sm",children:[V.jsx(FF,{className:"w-4 h-4"})," All from Cloud"]}),V.jsxs("div",{className:"btn-group",children:[V.jsxs("button",{className:"btn btn-outline-secondary btn-sm dropdown-toggle",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false",children:[V.jsx(zF,{className:"w-4 h-4"})," Export"]}),V.jsxs("ul",{className:"dropdown-menu",children:[V.jsx("li",{children:V.jsxs("button",{className:"dropdown-item d-flex align-items-center gap-2",onClick:()=>kH(r,e),children:[V.jsx(nS,{className:"w-4 h-4"})," Dashboard PDF"]})}),V.jsx("li",{children:V.jsxs("button",{className:"dropdown-item d-flex align-items-center gap-2",onClick:ir,children:[V.jsx(nS,{className:"w-4 h-4"})," All Data JSON"]})})]})]}),V.jsxs("button",{onClick:()=>ie.current.click(),className:"btn btn-outline-secondary btn-sm",children:[V.jsx(oM,{className:"w-4 h-4"})," Import"]}),V.jsxs("button",{onClick:()=>Y(!K),className:"btn btn-outline-danger btn-sm",children:[V.jsx(rS,{className:"w-4 h-4"})," Delete"]})]}),x&&V.jsx("span",{className:"saving",children:"Saving locally..."})]})}),P&&V.jsx("div",{className:"p-3 bg-light border-bottom",children:V.jsxs("form",{onSubmit:ht,className:"row g-2",children:[V.jsx("div",{className:"col-md-3",children:V.jsx("input",{placeholder:"Name *",value:G.name,onChange:pe=>ue({...G,name:pe.target.value}),required:!0,className:"form-control form-control-sm"})}),V.jsx("div",{className:"col-md-3",children:V.jsx("input",{placeholder:"Address",value:G.address,onChange:pe=>ue({...G,address:pe.target.value}),className:"form-control form-control-sm"})}),V.jsx("div",{className:"col-md-3",children:V.jsx("input",{placeholder:"City, State",value:G.cityState,onChange:pe=>ue({...G,cityState:pe.target.value}),className:"form-control form-control-sm"})}),V.jsx("div",{className:"col-md-1",children:V.jsx("input",{type:"number",placeholder:"Heads",value:G.headCount,onChange:pe=>ue({...G,headCount:pe.target.value}),min:"1",className:"form-control form-control-sm"})}),V.jsxs("div",{className:"col-md-2 d-flex gap-1",children:[V.jsx("button",{type:"submit",className:"btn btn-primary btn-sm",children:"Save"}),V.jsx("button",{type:"button",onClick:()=>L(!1),className:"btn btn-secondary btn-sm",children:"Cancel"})]})]})}),K&&V.jsxs("div",{className:"p-3 bg-warning bg-opacity-10 border-bottom",children:[V.jsxs("div",{className:"d-flex justify-content-between align-items-start mb-2",children:[V.jsx("h6",{className:"mb-0",children:"Delete Options"}),V.jsx("button",{onClick:()=>Y(!1),className:"btn btn-sm btn-outline-secondary",children:"Close"})]}),V.jsxs("div",{className:"row g-3",children:[V.jsxs("div",{className:"col-md-6",children:[V.jsx("label",{className:"form-label",children:V.jsx("strong",{children:"Delete Customer:"})}),V.jsxs("div",{className:"d-flex gap-2",children:[V.jsxs("select",{value:oe,onChange:pe=>me(pe.target.value),className:"form-select form-select-sm",children:[V.jsx("option",{value:"",children:"-- Select --"}),F.map(pe=>V.jsx("option",{value:pe.id,children:pe.name},pe.id))]}),oe&&V.jsx("button",{onClick:()=>{De(oe),me("")},className:"btn btn-danger btn-sm",children:"Delete"})]})]}),U&&V.jsxs("div",{className:"col-md-6",children:[V.jsx("label",{className:"form-label",children:V.jsx("strong",{children:"Delete Visit:"})}),V.jsxs("div",{className:"d-flex gap-2",children:[V.jsxs("select",{value:M,onChange:pe=>W(pe.target.value),className:"form-select form-select-sm",children:[V.jsx("option",{value:"",children:"-- Select --"}),A.filter(pe=>pe.customerId===U.id).slice(0,5).map(pe=>V.jsxs("option",{value:pe.id,children:[pe.name?`${pe.name} - `:"",new Date(pe.date).toLocaleDateString()]},pe.id))]}),M&&V.jsx("button",{onClick:()=>{je(U.id,M),W("")},className:"btn btn-danger btn-sm",children:"Delete"})]})]})]})]}),Ue&&V.jsxs("div",{className:"p-3 bg-info bg-opacity-10 border-bottom",style:{maxHeight:"400px",overflowY:"auto"},children:[V.jsxs("div",{className:"d-flex justify-content-between align-items-start mb-3",children:[V.jsx("h5",{className:"mb-0",children:"Help Guide"}),V.jsx("button",{onClick:()=>ze(!1),className:"btn btn-sm btn-outline-secondary",children:"Close"})]}),V.jsxs("div",{className:"mb-4",children:[V.jsx("h6",{className:"text-primary mb-2",children:V.jsx("strong",{children:"How to Run the App"})}),V.jsxs("ol",{className:"small",children:[V.jsx("li",{children:"Select or add a customer from the dropdown menu"}),V.jsx("li",{children:"Enter a visit name (optional) to identify this session"}),V.jsx("li",{children:'Click "Add Line" to create a new production line'}),V.jsx("li",{children:"Configure heads, track issues, and add notes for each line"}),V.jsx("li",{children:'Save your work to the cloud using the "New" button in Settings'}),V.jsx("li",{children:"Export to PDF or JSON for reporting and backup"})]})]}),V.jsxs("div",{className:"mb-3",children:[V.jsx("h6",{className:"text-primary mb-2",children:V.jsx("strong",{children:"Button Descriptions"})}),V.jsxs("div",{className:"mb-2",children:[V.jsx("strong",{className:"text-secondary",children:"Settings Button:"}),V.jsx("p",{className:"small mb-1",children:"Shows/hides all action buttons for managing customers, visits, and data."})]}),V.jsxs("div",{className:"mb-2",children:[V.jsx("strong",{className:"text-success",children:"Add Button:"}),V.jsx("p",{className:"small mb-1",children:"Create a new customer with name, address, city/state, and default head count."})]}),V.jsxs("div",{className:"mb-2",children:[V.jsx("strong",{className:"text-success",children:"New Button:"}),V.jsx("p",{className:"small mb-1",children:"Save the current visit to the cloud as a new entry."})]}),V.jsxs("div",{className:"mb-2",children:[V.jsx("strong",{className:"text-warning",children:"Override Button:"}),V.jsx("p",{className:"small mb-1",children:"Update the currently loaded visit with your changes."})]}),V.jsxs("div",{className:"mb-2",children:[V.jsx("strong",{className:"text-info",children:"Duplicate Button:"}),V.jsx("p",{className:"small mb-1",children:"Create a copy of the current visit as a new entry."})]}),V.jsxs("div",{className:"mb-2",children:[V.jsx("strong",{className:"text-success",children:"All to Cloud Button:"}),V.jsx("p",{className:"small mb-1",children:"Upload all customers and visits to the cloud for backup."})]}),V.jsxs("div",{className:"mb-2",children:[V.jsx("strong",{className:"text-primary",children:"All from Cloud Button:"}),V.jsx("p",{className:"small mb-1",children:"Download all your data from the cloud to this device."})]}),V.jsxs("div",{className:"mb-2",children:[V.jsx("strong",{className:"text-secondary",children:"Export Menu:"}),V.jsx("p",{className:"small mb-1",children:"Export dashboard as PDF or export all data as JSON file."})]}),V.jsxs("div",{className:"mb-2",children:[V.jsx("strong",{className:"text-secondary",children:"Import Button:"}),V.jsx("p",{className:"small mb-1",children:"Import previously exported JSON data file."})]}),V.jsxs("div",{className:"mb-2",children:[V.jsx("strong",{className:"text-danger",children:"Delete Button:"}),V.jsx("p",{className:"small mb-1",children:"Open panel to delete customers or visits from the cloud."})]}),V.jsxs("div",{className:"mb-2",children:[V.jsx("strong",{className:"text-primary",children:"Add Line Button:"}),V.jsx("p",{className:"small mb-1",children:"Create a new production line with custom name and head count."})]}),V.jsxs("div",{className:"mb-2",children:[V.jsx("strong",{className:"text-secondary",children:"Prev/Next Buttons:"}),V.jsx("p",{className:"small mb-1",children:"Navigate between lines without using the dropdown."})]}),V.jsxs("div",{className:"mb-2",children:[V.jsx("strong",{className:"text-secondary",children:"Show/Hide Details:"}),V.jsx("p",{className:"small mb-1",children:"Toggle visibility of model, job number, and serial number fields."})]}),V.jsxs("div",{className:"mb-2",children:[V.jsx("strong",{className:"text-secondary",children:"Rename Button:"}),V.jsx("p",{className:"small mb-1",children:"Change the name of the current line."})]}),V.jsxs("div",{className:"mb-2",children:[V.jsx("strong",{className:"text-success",children:"Export Line PDF:"}),V.jsx("p",{className:"small mb-1",children:"Export the current line details to a PDF file."})]}),V.jsxs("div",{className:"mb-2",children:[V.jsx("strong",{className:"text-warning",children:"Reset Line:"}),V.jsx("p",{className:"small mb-1",children:"Clear all data for this line and reset heads to default."})]}),V.jsxs("div",{className:"mb-2",children:[V.jsx("strong",{className:"text-danger",children:"Remove Line:"}),V.jsx("p",{className:"small mb-1",children:"Permanently delete this line from the visit."})]})]}),V.jsxs("div",{className:"mb-2",children:[V.jsx("h6",{className:"text-primary mb-2",children:V.jsx("strong",{children:"Quick Tips"})}),V.jsxs("ul",{className:"small",children:[V.jsx("li",{children:"Use the Quick Head Toggle buttons to quickly mark heads as Active/Offline"}),V.jsx("li",{children:"Green heads are active, red are offline, orange are fixed"}),V.jsx("li",{children:"Data is automatically saved to local storage as you work"}),V.jsx("li",{children:"Use Past Visits tab to load previous sessions"}),V.jsx("li",{children:"Issue History shows all heads with problems across visits"})]})]})]}),V.jsxs(xF,{defaultActiveKey:"current",className:"mb-1 border-bottom",children:[V.jsx(Av,{eventKey:"current",title:"Current Visit",children:V.jsxs("div",{className:"tab-content p-3",children:[U&&V.jsxs("div",{className:"mb-3",children:[V.jsx("label",{className:"form-label",children:V.jsx("strong",{children:"Visit Name:"})}),V.jsx("input",{type:"text",value:ee,onChange:pe=>X(pe.target.value),placeholder:"Enter visit name (optional)",className:"form-control"})]}),V.jsx(H8,{globalData:e,setGlobalData:t,addLine:()=>AH(i,l,e,r),lines:r,activeLineId:a,onPrevious:()=>{const pe=r.findIndex(ke=>ke.id===a);pe>0&&(l(r[pe-1].id),o(!1))},onNext:()=>{const pe=r.findIndex(ke=>ke.id===a);pe<r.length-1&&(l(r[pe+1].id),o(!1))}},`gf-${r.length}-${JSON.stringify(e)}`),V.jsxs("div",{className:"d-flex flex-wrap gap-2 my-3 align-items-center",children:[V.jsxs("select",{value:a||"",onChange:pe=>{const ke=parseInt(pe.target.value);ke&&NH(ke,o,l)},className:"form-select form-select-sm",style:{width:"auto",minWidth:"150px"},children:[V.jsx("option",{value:"",children:"-- Select Line --"}),r.map(pe=>V.jsx("option",{value:pe.id,children:pe.title},pe.id))]}),r.length>0&&V.jsxs("button",{onClick:()=>o(!0),className:"btn btn-sm btn-outline-secondary",title:"View Dashboard",children:[V.jsx($F,{className:"w-4 h-4"})," Dashboard"]})]}),s?V.jsx(Q8,{lines:r,setShowDashboardView:o},`dash-${r.length}`):V.jsx("div",{children:r.map(pe=>V.jsx(K8,{line:pe,updateLine:ke=>xH(pe.id,ke,i,r),removeLine:()=>TH(pe.id,i,a,r),resetLine:()=>PH(pe,e,i,r),isVisible:pe.id===a,exportLineToPDF:()=>RH(pe,e)},pe.id))})]})}),V.jsx(Av,{eventKey:"visits",title:"Past Visits",children:V.jsx("div",{className:"tab-content p-3",children:U&&V.jsxs(V.Fragment,{children:[V.jsxs("button",{onClick:async()=>{T(!0),await ln(U.id)},className:"btn btn-outline-primary btn-sm mb-3",children:[V.jsx(GF,{className:"w-4 h-4"})," Load Past Visits"]}),D&&A.length>0&&V.jsx("div",{className:"row row-cols-1 row-cols-md-2 g-3",children:A.slice(0,10).map(pe=>V.jsx("div",{className:"col",children:V.jsx("div",{className:"card h-100",children:V.jsxs("div",{className:"card-body d-flex justify-content-between align-items-center",children:[V.jsxs("div",{children:[V.jsx("h6",{className:"card-title mb-1",children:pe.name?`${pe.name}`:"Unnamed Visit"}),V.jsx("small",{className:"text-muted",children:new Date(pe.date).toLocaleString()})]}),V.jsxs("div",{className:"btn-group",children:[V.jsx("button",{onClick:()=>Le(pe.id),className:"btn btn-sm btn-outline-primary",children:"Load"}),V.jsx("button",{onClick:()=>{te(pe),he(new Date(pe.date).toISOString().slice(0,16))},className:"btn btn-sm btn-outline-secondary",children:V.jsx(QF,{className:"w-4 h-4"})}),V.jsx("button",{onClick:()=>Ct(pe.id),className:"btn btn-sm btn-outline-danger",children:V.jsx(rS,{className:"w-4 h-4"})})]})]})})},pe.id))})]})})}),V.jsx(Av,{eventKey:"history",title:"Issue History",children:V.jsx("div",{className:"tab-content p-3",children:V.jsx(DH,{customers:F,visits:A,onExportPDF:LH})})})]}),Q&&V.jsx("div",{className:"position-fixed bottom-0 end-0 p-3",style:{zIndex:1050},children:V.jsx("div",{className:"card shadow",children:V.jsxs("div",{className:"card-body",children:[V.jsx("h6",{className:"card-title",children:"Edit Visit Timestamp"}),V.jsxs("div",{className:"d-flex gap-2 align-items-center",children:[V.jsx("input",{type:"datetime-local",value:ne,onChange:pe=>he(pe.target.value),className:"form-control form-control-sm"}),V.jsx("button",{onClick:qe,className:"btn btn-primary btn-sm",children:"Update"}),V.jsx("button",{onClick:()=>{te(null),he("")},className:"btn btn-secondary btn-sm",children:"Cancel"})]})]})})}),V.jsx("input",{ref:ie,type:"file",accept:".json",onChange:xt,className:"d-none"})]})},FH=()=>V.jsx(O8,{children:V.jsx(OH,{})});Hv.createRoot(document.getElementById("root")).render(V.jsx(oi.StrictMode,{children:V.jsx(FH,{})}));export{Jt as _,sl as c,m0 as g};
