(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function t(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=t(i);fetch(i.href,a)}})();var b1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function eg(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var $v={exports:{}},jp={};var PA;function nL(){if(PA)return jp;PA=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,i,a){var l=null;if(a!==void 0&&(l=""+a),i.key!==void 0&&(l=""+i.key),"key"in i){a={};for(var c in i)c!=="key"&&(a[c]=i[c])}else a=i;return i=a.ref,{$$typeof:n,type:r,key:l,ref:i!==void 0?i:null,props:a}}return jp.Fragment=e,jp.jsx=t,jp.jsxs=t,jp}var LA;function rL(){return LA||(LA=1,$v.exports=nL()),$v.exports}var V=rL(),Wv={exports:{}},cn={};var kA;function iL(){if(kA)return cn;kA=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),E=Symbol.iterator;function b(J){return J===null||typeof J!="object"?null:(J=E&&J[E]||J["@@iterator"],typeof J=="function"?J:null)}var R={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P=Object.assign,M={};function k(J,O,Y){this.props=J,this.context=O,this.refs=M,this.updater=Y||R}k.prototype.isReactComponent={},k.prototype.setState=function(J,O){if(typeof J!="object"&&typeof J!="function"&&J!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,J,O,"setState")},k.prototype.forceUpdate=function(J){this.updater.enqueueForceUpdate(this,J,"forceUpdate")};function K(){}K.prototype=k.prototype;function $(J,O,Y){this.props=J,this.context=O,this.refs=M,this.updater=Y||R}var ee=$.prototype=new K;ee.constructor=$,P(ee,k.prototype),ee.isPureReactComponent=!0;var ye=Array.isArray;function ve(){}var z={H:null,A:null,T:null,S:null},F=Object.prototype.hasOwnProperty;function D(J,O,Y){var ne=Y.ref;return{$$typeof:n,type:J,key:O,ref:ne!==void 0?ne:null,props:Y}}function G(J,O){return D(J.type,O,J.props)}function I(J){return typeof J=="object"&&J!==null&&J.$$typeof===n}function j(J){var O={"=":"=0",":":"=2"};return"$"+J.replace(/[=:]/g,function(Y){return O[Y]})}var N=/\/+/g;function te(J,O){return typeof J=="object"&&J!==null&&J.key!=null?j(""+J.key):O.toString(36)}function fe(J){switch(J.status){case"fulfilled":return J.value;case"rejected":throw J.reason;default:switch(typeof J.status=="string"?J.then(ve,ve):(J.status="pending",J.then(function(O){J.status==="pending"&&(J.status="fulfilled",J.value=O)},function(O){J.status==="pending"&&(J.status="rejected",J.reason=O)})),J.status){case"fulfilled":return J.value;case"rejected":throw J.reason}}throw J}function re(J,O,Y,ne,le){var he=typeof J;(he==="undefined"||he==="boolean")&&(J=null);var we=!1;if(J===null)we=!0;else switch(he){case"bigint":case"string":case"number":we=!0;break;case"object":switch(J.$$typeof){case n:case e:we=!0;break;case p:return we=J._init,re(we(J._payload),O,Y,ne,le)}}if(we)return le=le(J),we=ne===""?"."+te(J,0):ne,ye(le)?(Y="",we!=null&&(Y=we.replace(N,"$&/")+"/"),re(le,O,Y,"",function(ze){return ze})):le!=null&&(I(le)&&(le=G(le,Y+(le.key==null||J&&J.key===le.key?"":(""+le.key).replace(N,"$&/")+"/")+we)),O.push(le)),1;we=0;var Oe=ne===""?".":ne+":";if(ye(J))for(var Pe=0;Pe<J.length;Pe++)ne=J[Pe],he=Oe+te(ne,Pe),we+=re(ne,O,Y,he,le);else if(Pe=b(J),typeof Pe=="function")for(J=Pe.call(J),Pe=0;!(ne=J.next()).done;)ne=ne.value,he=Oe+te(ne,Pe++),we+=re(ne,O,Y,he,le);else if(he==="object"){if(typeof J.then=="function")return re(fe(J),O,Y,ne,le);throw O=String(J),Error("Objects are not valid as a React child (found: "+(O==="[object Object]"?"object with keys {"+Object.keys(J).join(", ")+"}":O)+"). If you meant to render a collection of children, use an array instead.")}return we}function ue(J,O,Y){if(J==null)return J;var ne=[],le=0;return re(J,ne,"","",function(he){return O.call(Y,he,le++)}),ne}function pe(J){if(J._status===-1){var O=J._result;O=O(),O.then(function(Y){(J._status===0||J._status===-1)&&(J._status=1,J._result=Y)},function(Y){(J._status===0||J._status===-1)&&(J._status=2,J._result=Y)}),J._status===-1&&(J._status=0,J._result=O)}if(J._status===1)return J._result.default;throw J._result}var xe=typeof reportError=="function"?reportError:function(J){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var O=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof J=="object"&&J!==null&&typeof J.message=="string"?String(J.message):String(J),error:J});if(!window.dispatchEvent(O))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",J);return}console.error(J)},Be={map:ue,forEach:function(J,O,Y){ue(J,function(){O.apply(this,arguments)},Y)},count:function(J){var O=0;return ue(J,function(){O++}),O},toArray:function(J){return ue(J,function(O){return O})||[]},only:function(J){if(!I(J))throw Error("React.Children.only expected to receive a single React element child.");return J}};return cn.Activity=v,cn.Children=Be,cn.Component=k,cn.Fragment=t,cn.Profiler=i,cn.PureComponent=$,cn.StrictMode=r,cn.Suspense=h,cn.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=z,cn.__COMPILER_RUNTIME={__proto__:null,c:function(J){return z.H.useMemoCache(J)}},cn.cache=function(J){return function(){return J.apply(null,arguments)}},cn.cacheSignal=function(){return null},cn.cloneElement=function(J,O,Y){if(J==null)throw Error("The argument must be a React element, but you passed "+J+".");var ne=P({},J.props),le=J.key;if(O!=null)for(he in O.key!==void 0&&(le=""+O.key),O)!F.call(O,he)||he==="key"||he==="__self"||he==="__source"||he==="ref"&&O.ref===void 0||(ne[he]=O[he]);var he=arguments.length-2;if(he===1)ne.children=Y;else if(1<he){for(var we=Array(he),Oe=0;Oe<he;Oe++)we[Oe]=arguments[Oe+2];ne.children=we}return D(J.type,le,ne)},cn.createContext=function(J){return J={$$typeof:l,_currentValue:J,_currentValue2:J,_threadCount:0,Provider:null,Consumer:null},J.Provider=J,J.Consumer={$$typeof:a,_context:J},J},cn.createElement=function(J,O,Y){var ne,le={},he=null;if(O!=null)for(ne in O.key!==void 0&&(he=""+O.key),O)F.call(O,ne)&&ne!=="key"&&ne!=="__self"&&ne!=="__source"&&(le[ne]=O[ne]);var we=arguments.length-2;if(we===1)le.children=Y;else if(1<we){for(var Oe=Array(we),Pe=0;Pe<we;Pe++)Oe[Pe]=arguments[Pe+2];le.children=Oe}if(J&&J.defaultProps)for(ne in we=J.defaultProps,we)le[ne]===void 0&&(le[ne]=we[ne]);return D(J,he,le)},cn.createRef=function(){return{current:null}},cn.forwardRef=function(J){return{$$typeof:c,render:J}},cn.isValidElement=I,cn.lazy=function(J){return{$$typeof:p,_payload:{_status:-1,_result:J},_init:pe}},cn.memo=function(J,O){return{$$typeof:f,type:J,compare:O===void 0?null:O}},cn.startTransition=function(J){var O=z.T,Y={};z.T=Y;try{var ne=J(),le=z.S;le!==null&&le(Y,ne),typeof ne=="object"&&ne!==null&&typeof ne.then=="function"&&ne.then(ve,xe)}catch(he){xe(he)}finally{O!==null&&Y.types!==null&&(O.types=Y.types),z.T=O}},cn.unstable_useCacheRefresh=function(){return z.H.useCacheRefresh()},cn.use=function(J){return z.H.use(J)},cn.useActionState=function(J,O,Y){return z.H.useActionState(J,O,Y)},cn.useCallback=function(J,O){return z.H.useCallback(J,O)},cn.useContext=function(J){return z.H.useContext(J)},cn.useDebugValue=function(){},cn.useDeferredValue=function(J,O){return z.H.useDeferredValue(J,O)},cn.useEffect=function(J,O){return z.H.useEffect(J,O)},cn.useEffectEvent=function(J){return z.H.useEffectEvent(J)},cn.useId=function(){return z.H.useId()},cn.useImperativeHandle=function(J,O,Y){return z.H.useImperativeHandle(J,O,Y)},cn.useInsertionEffect=function(J,O){return z.H.useInsertionEffect(J,O)},cn.useLayoutEffect=function(J,O){return z.H.useLayoutEffect(J,O)},cn.useMemo=function(J,O){return z.H.useMemo(J,O)},cn.useOptimistic=function(J,O){return z.H.useOptimistic(J,O)},cn.useReducer=function(J,O,Y){return z.H.useReducer(J,O,Y)},cn.useRef=function(J){return z.H.useRef(J)},cn.useState=function(J){return z.H.useState(J)},cn.useSyncExternalStore=function(J,O,Y){return z.H.useSyncExternalStore(J,O,Y)},cn.useTransition=function(){return z.H.useTransition()},cn.version="19.2.1",cn}var DA;function c5(){return DA||(DA=1,Wv.exports=iL()),Wv.exports}var ce=c5();const Bs=eg(ce);var Kv={exports:{}},Fp={},Yv={exports:{}},Qv={};var OA;function sL(){return OA||(OA=1,(function(n){function e(re,ue){var pe=re.length;re.push(ue);e:for(;0<pe;){var xe=pe-1>>>1,Be=re[xe];if(0<i(Be,ue))re[xe]=ue,re[pe]=Be,pe=xe;else break e}}function t(re){return re.length===0?null:re[0]}function r(re){if(re.length===0)return null;var ue=re[0],pe=re.pop();if(pe!==ue){re[0]=pe;e:for(var xe=0,Be=re.length,J=Be>>>1;xe<J;){var O=2*(xe+1)-1,Y=re[O],ne=O+1,le=re[ne];if(0>i(Y,pe))ne<Be&&0>i(le,Y)?(re[xe]=le,re[ne]=pe,xe=ne):(re[xe]=Y,re[O]=pe,xe=O);else if(ne<Be&&0>i(le,pe))re[xe]=le,re[ne]=pe,xe=ne;else break e}}return ue}function i(re,ue){var pe=re.sortIndex-ue.sortIndex;return pe!==0?pe:re.id-ue.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var l=Date,c=l.now();n.unstable_now=function(){return l.now()-c}}var h=[],f=[],p=1,v=null,E=3,b=!1,R=!1,P=!1,M=!1,k=typeof setTimeout=="function"?setTimeout:null,K=typeof clearTimeout=="function"?clearTimeout:null,$=typeof setImmediate<"u"?setImmediate:null;function ee(re){for(var ue=t(f);ue!==null;){if(ue.callback===null)r(f);else if(ue.startTime<=re)r(f),ue.sortIndex=ue.expirationTime,e(h,ue);else break;ue=t(f)}}function ye(re){if(P=!1,ee(re),!R)if(t(h)!==null)R=!0,ve||(ve=!0,j());else{var ue=t(f);ue!==null&&fe(ye,ue.startTime-re)}}var ve=!1,z=-1,F=5,D=-1;function G(){return M?!0:!(n.unstable_now()-D<F)}function I(){if(M=!1,ve){var re=n.unstable_now();D=re;var ue=!0;try{e:{R=!1,P&&(P=!1,K(z),z=-1),b=!0;var pe=E;try{t:{for(ee(re),v=t(h);v!==null&&!(v.expirationTime>re&&G());){var xe=v.callback;if(typeof xe=="function"){v.callback=null,E=v.priorityLevel;var Be=xe(v.expirationTime<=re);if(re=n.unstable_now(),typeof Be=="function"){v.callback=Be,ee(re),ue=!0;break t}v===t(h)&&r(h),ee(re)}else r(h);v=t(h)}if(v!==null)ue=!0;else{var J=t(f);J!==null&&fe(ye,J.startTime-re),ue=!1}}break e}finally{v=null,E=pe,b=!1}ue=void 0}}finally{ue?j():ve=!1}}}var j;if(typeof $=="function")j=function(){$(I)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,te=N.port2;N.port1.onmessage=I,j=function(){te.postMessage(null)}}else j=function(){k(I,0)};function fe(re,ue){z=k(function(){re(n.unstable_now())},ue)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(re){re.callback=null},n.unstable_forceFrameRate=function(re){0>re||125<re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<re?Math.floor(1e3/re):5},n.unstable_getCurrentPriorityLevel=function(){return E},n.unstable_next=function(re){switch(E){case 1:case 2:case 3:var ue=3;break;default:ue=E}var pe=E;E=ue;try{return re()}finally{E=pe}},n.unstable_requestPaint=function(){M=!0},n.unstable_runWithPriority=function(re,ue){switch(re){case 1:case 2:case 3:case 4:case 5:break;default:re=3}var pe=E;E=re;try{return ue()}finally{E=pe}},n.unstable_scheduleCallback=function(re,ue,pe){var xe=n.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?xe+pe:xe):pe=xe,re){case 1:var Be=-1;break;case 2:Be=250;break;case 5:Be=1073741823;break;case 4:Be=1e4;break;default:Be=5e3}return Be=pe+Be,re={id:p++,callback:ue,priorityLevel:re,startTime:pe,expirationTime:Be,sortIndex:-1},pe>xe?(re.sortIndex=pe,e(f,re),t(h)===null&&re===t(f)&&(P?(K(z),z=-1):P=!0,fe(ye,pe-xe))):(re.sortIndex=Be,e(h,re),R||b||(R=!0,ve||(ve=!0,j()))),re},n.unstable_shouldYield=G,n.unstable_wrapCallback=function(re){var ue=E;return function(){var pe=E;E=ue;try{return re.apply(this,arguments)}finally{E=pe}}}})(Qv)),Qv}var MA;function aL(){return MA||(MA=1,Yv.exports=sL()),Yv.exports}var Xv={exports:{}},ks={};var VA;function oL(){if(VA)return ks;VA=1;var n=c5();function e(h){var f="https://react.dev/errors/"+h;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)f+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+h+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(h,f,p){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:v==null?null:""+v,children:h,containerInfo:f,implementation:p}}var l=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(h,f){if(h==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return ks.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,ks.createPortal=function(h,f){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return a(h,f,null,p)},ks.flushSync=function(h){var f=l.T,p=r.p;try{if(l.T=null,r.p=2,h)return h()}finally{l.T=f,r.p=p,r.d.f()}},ks.preconnect=function(h,f){typeof h=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,r.d.C(h,f))},ks.prefetchDNS=function(h){typeof h=="string"&&r.d.D(h)},ks.preinit=function(h,f){if(typeof h=="string"&&f&&typeof f.as=="string"){var p=f.as,v=c(p,f.crossOrigin),E=typeof f.integrity=="string"?f.integrity:void 0,b=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;p==="style"?r.d.S(h,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:v,integrity:E,fetchPriority:b}):p==="script"&&r.d.X(h,{crossOrigin:v,integrity:E,fetchPriority:b,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},ks.preinitModule=function(h,f){if(typeof h=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var p=c(f.as,f.crossOrigin);r.d.M(h,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&r.d.M(h)},ks.preload=function(h,f){if(typeof h=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var p=f.as,v=c(p,f.crossOrigin);r.d.L(h,p,{crossOrigin:v,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},ks.preloadModule=function(h,f){if(typeof h=="string")if(f){var p=c(f.as,f.crossOrigin);r.d.m(h,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else r.d.m(h)},ks.requestFormReset=function(h){r.d.r(h)},ks.unstable_batchedUpdates=function(h,f){return h(f)},ks.useFormState=function(h,f,p){return l.H.useFormState(h,f,p)},ks.useFormStatus=function(){return l.H.useHostTransitionStatus()},ks.version="19.2.1",ks}var jA;function B4(){if(jA)return Xv.exports;jA=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Xv.exports=oL(),Xv.exports}var FA;function lL(){if(FA)return Fp;FA=1;var n=aL(),e=c5(),t=B4();function r(s){var o="https://react.dev/errors/"+s;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+s+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function a(s){var o=s,u=s;if(s.alternate)for(;o.return;)o=o.return;else{s=o;do o=s,(o.flags&4098)!==0&&(u=o.return),s=o.return;while(s)}return o.tag===3?u:null}function l(s){if(s.tag===13){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function c(s){if(s.tag===31){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function h(s){if(a(s)!==s)throw Error(r(188))}function f(s){var o=s.alternate;if(!o){if(o=a(s),o===null)throw Error(r(188));return o!==s?null:s}for(var u=s,d=o;;){var y=u.return;if(y===null)break;var w=y.alternate;if(w===null){if(d=y.return,d!==null){u=d;continue}break}if(y.child===w.child){for(w=y.child;w;){if(w===u)return h(y),s;if(w===d)return h(y),o;w=w.sibling}throw Error(r(188))}if(u.return!==d.return)u=y,d=w;else{for(var C=!1,W=y.child;W;){if(W===u){C=!0,u=y,d=w;break}if(W===d){C=!0,d=y,u=w;break}W=W.sibling}if(!C){for(W=w.child;W;){if(W===u){C=!0,u=w,d=y;break}if(W===d){C=!0,d=w,u=y;break}W=W.sibling}if(!C)throw Error(r(189))}}if(u.alternate!==d)throw Error(r(190))}if(u.tag!==3)throw Error(r(188));return u.stateNode.current===u?s:o}function p(s){var o=s.tag;if(o===5||o===26||o===27||o===6)return s;for(s=s.child;s!==null;){if(o=p(s),o!==null)return o;s=s.sibling}return null}var v=Object.assign,E=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),R=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),K=Symbol.for("react.consumer"),$=Symbol.for("react.context"),ee=Symbol.for("react.forward_ref"),ye=Symbol.for("react.suspense"),ve=Symbol.for("react.suspense_list"),z=Symbol.for("react.memo"),F=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),G=Symbol.for("react.memo_cache_sentinel"),I=Symbol.iterator;function j(s){return s===null||typeof s!="object"?null:(s=I&&s[I]||s["@@iterator"],typeof s=="function"?s:null)}var N=Symbol.for("react.client.reference");function te(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===N?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case P:return"Fragment";case k:return"Profiler";case M:return"StrictMode";case ye:return"Suspense";case ve:return"SuspenseList";case D:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case R:return"Portal";case $:return s.displayName||"Context";case K:return(s._context.displayName||"Context")+".Consumer";case ee:var o=s.render;return s=s.displayName,s||(s=o.displayName||o.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case z:return o=s.displayName||null,o!==null?o:te(s.type)||"Memo";case F:o=s._payload,s=s._init;try{return te(s(o))}catch{}}return null}var fe=Array.isArray,re=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pe={pending:!1,data:null,method:null,action:null},xe=[],Be=-1;function J(s){return{current:s}}function O(s){0>Be||(s.current=xe[Be],xe[Be]=null,Be--)}function Y(s,o){Be++,xe[Be]=s.current,s.current=o}var ne=J(null),le=J(null),he=J(null),we=J(null);function Oe(s,o){switch(Y(he,o),Y(le,s),Y(ne,null),o.nodeType){case 9:case 11:s=(s=o.documentElement)&&(s=s.namespaceURI)?eA(s):0;break;default:if(s=o.tagName,o=o.namespaceURI)o=eA(o),s=tA(o,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}O(ne),Y(ne,s)}function Pe(){O(ne),O(le),O(he)}function ze(s){s.memoizedState!==null&&Y(we,s);var o=ne.current,u=tA(o,s.type);o!==u&&(Y(le,s),Y(ne,u))}function Ze(s){le.current===s&&(O(ne),O(le)),we.current===s&&(O(we),Dp._currentValue=pe)}var ot,ct;function _t(s){if(ot===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);ot=o&&o[1]||"",ct=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ot+s+ct}var ie=!1;function at(s,o){if(!s||ie)return"";ie=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var d={DetermineComponentFrameRoot:function(){try{if(o){var Xe=function(){throw Error()};if(Object.defineProperty(Xe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Xe,[])}catch(Fe){var Ve=Fe}Reflect.construct(s,[],Xe)}else{try{Xe.call()}catch(Fe){Ve=Fe}s.call(Xe.prototype)}}else{try{throw Error()}catch(Fe){Ve=Fe}(Xe=s())&&typeof Xe.catch=="function"&&Xe.catch(function(){})}}catch(Fe){if(Fe&&Ve&&typeof Fe.stack=="string")return[Fe.stack,Ve.stack]}return[null,null]}};d.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(d.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(d.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var w=d.DetermineComponentFrameRoot(),C=w[0],W=w[1];if(C&&W){var de=C.split(`
`),De=W.split(`
`);for(y=d=0;d<de.length&&!de[d].includes("DetermineComponentFrameRoot");)d++;for(;y<De.length&&!De[y].includes("DetermineComponentFrameRoot");)y++;if(d===de.length||y===De.length)for(d=de.length-1,y=De.length-1;1<=d&&0<=y&&de[d]!==De[y];)y--;for(;1<=d&&0<=y;d--,y--)if(de[d]!==De[y]){if(d!==1||y!==1)do if(d--,y--,0>y||de[d]!==De[y]){var We=`
`+de[d].replace(" at new "," at ");return s.displayName&&We.includes("<anonymous>")&&(We=We.replace("<anonymous>",s.displayName)),We}while(1<=d&&0<=y);break}}}finally{ie=!1,Error.prepareStackTrace=u}return(u=s?s.displayName||s.name:"")?_t(u):""}function Xt(s,o){switch(s.tag){case 26:case 27:case 5:return _t(s.type);case 16:return _t("Lazy");case 13:return s.child!==o&&o!==null?_t("Suspense Fallback"):_t("Suspense");case 19:return _t("SuspenseList");case 0:case 15:return at(s.type,!1);case 11:return at(s.type.render,!1);case 1:return at(s.type,!0);case 31:return _t("Activity");default:return""}}function Rt(s){try{var o="",u=null;do o+=Xt(s,u),u=s,s=s.return;while(s);return o}catch(d){return`
Error generating stack: `+d.message+`
`+d.stack}}var Ae=Object.prototype.hasOwnProperty,pt=n.unstable_scheduleCallback,dt=n.unstable_cancelCallback,Vt=n.unstable_shouldYield,Pt=n.unstable_requestPaint,Jt=n.unstable_now,tn=n.unstable_getCurrentPriorityLevel,Kt=n.unstable_ImmediatePriority,fn=n.unstable_UserBlockingPriority,nn=n.unstable_NormalPriority,wt=n.unstable_LowPriority,Qt=n.unstable_IdlePriority,Et=n.log,rr=n.unstable_setDisableYieldValue,rn=null,Dt=null;function zt(s){if(typeof Et=="function"&&rr(s),Dt&&typeof Dt.setStrictMode=="function")try{Dt.setStrictMode(rn,s)}catch{}}var Zt=Math.clz32?Math.clz32:Ft,St=Math.log,Ln=Math.LN2;function Ft(s){return s>>>=0,s===0?32:31-(St(s)/Ln|0)|0}var ge=256,qe=262144,Ue=4194304;function Ke(s){var o=s&42;if(o!==0)return o;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function ht(s,o,u){var d=s.pendingLanes;if(d===0)return 0;var y=0,w=s.suspendedLanes,C=s.pingedLanes;s=s.warmLanes;var W=d&134217727;return W!==0?(d=W&~w,d!==0?y=Ke(d):(C&=W,C!==0?y=Ke(C):u||(u=W&~s,u!==0&&(y=Ke(u))))):(W=d&~w,W!==0?y=Ke(W):C!==0?y=Ke(C):u||(u=d&~s,u!==0&&(y=Ke(u)))),y===0?0:o!==0&&o!==y&&(o&w)===0&&(w=y&-y,u=o&-o,w>=u||w===32&&(u&4194048)!==0)?o:y}function Ot(s,o){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&o)===0}function pn(s,o){switch(s){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Un(){var s=Ue;return Ue<<=1,(Ue&62914560)===0&&(Ue=4194304),s}function On(s){for(var o=[],u=0;31>u;u++)o.push(s);return o}function mt(s,o){s.pendingLanes|=o,o!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function fi(s,o,u,d,y,w){var C=s.pendingLanes;s.pendingLanes=u,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=u,s.entangledLanes&=u,s.errorRecoveryDisabledLanes&=u,s.shellSuspendCounter=0;var W=s.entanglements,de=s.expirationTimes,De=s.hiddenUpdates;for(u=C&~u;0<u;){var We=31-Zt(u),Xe=1<<We;W[We]=0,de[We]=-1;var Ve=De[We];if(Ve!==null)for(De[We]=null,We=0;We<Ve.length;We++){var Fe=Ve[We];Fe!==null&&(Fe.lane&=-536870913)}u&=~Xe}d!==0&&bn(s,d,0),w!==0&&y===0&&s.tag!==0&&(s.suspendedLanes|=w&~(C&~o))}function bn(s,o,u){s.pendingLanes|=o,s.suspendedLanes&=~o;var d=31-Zt(o);s.entangledLanes|=o,s.entanglements[d]=s.entanglements[d]|1073741824|u&261930}function Qn(s,o){var u=s.entangledLanes|=o;for(s=s.entanglements;u;){var d=31-Zt(u),y=1<<d;y&o|s[d]&o&&(s[d]|=o),u&=~y}}function xr(s,o){var u=o&-o;return u=(u&42)!==0?1:Bn(u),(u&(s.suspendedLanes|o))!==0?0:u}function Bn(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function er(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function Zr(){var s=ue.p;return s!==0?s:(s=window.event,s===void 0?32:SA(s.type))}function ki(s,o){var u=ue.p;try{return ue.p=s,o()}finally{ue.p=u}}var Ai=Math.random().toString(36).slice(2),Hn="__reactFiber$"+Ai,ir="__reactProps$"+Ai,ei="__reactContainer$"+Ai,Ki="__reactEvents$"+Ai,xs="__reactListeners$"+Ai,Xa="__reactHandles$"+Ai,Hs="__reactResources$"+Ai,Yi="__reactMarker$"+Ai;function Pa(s){delete s[Hn],delete s[ir],delete s[Ki],delete s[xs],delete s[Xa]}function us(s){var o=s[Hn];if(o)return o;for(var u=s.parentNode;u;){if(o=u[ei]||u[Hn]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(s=lA(s);s!==null;){if(u=s[Hn])return u;s=lA(s)}return o}s=u,u=s.parentNode}return null}function Di(s){if(s=s[Hn]||s[ei]){var o=s.tag;if(o===5||o===6||o===13||o===31||o===26||o===27||o===3)return s}return null}function cs(s){var o=s.tag;if(o===5||o===26||o===27||o===6)return s.stateNode;throw Error(r(33))}function Is(s){var o=s[Hs];return o||(o=s[Hs]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function Ir(s){s[Yi]=!0}var tl=new Set,Qi={};function Ns(s,o){Gs(s,o),Gs(s+"Capture",o)}function Gs(s,o){for(Qi[s]=o,s=0;s<o.length;s++)tl.add(o[s])}var Ao=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),nl={},rl={};function ql(s){return Ae.call(rl,s)?!0:Ae.call(nl,s)?!1:Ao.test(s)?rl[s]=!0:(nl[s]=!0,!1)}function hs(s,o,u){if(ql(o))if(u===null)s.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":s.removeAttribute(o);return;case"boolean":var d=o.toLowerCase().slice(0,5);if(d!=="data-"&&d!=="aria-"){s.removeAttribute(o);return}}s.setAttribute(o,""+u)}}function Si(s,o,u){if(u===null)s.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(o);return}s.setAttribute(o,""+u)}}function Dr(s,o,u,d){if(d===null)s.removeAttribute(u);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(u);return}s.setAttributeNS(o,u,""+d)}}function _n(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function La(s){var o=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Cs(s,o,u){var d=Object.getOwnPropertyDescriptor(s.constructor.prototype,o);if(!s.hasOwnProperty(o)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var y=d.get,w=d.set;return Object.defineProperty(s,o,{configurable:!0,get:function(){return y.call(this)},set:function(C){u=""+C,w.call(this,C)}}),Object.defineProperty(s,o,{enumerable:d.enumerable}),{getValue:function(){return u},setValue:function(C){u=""+C},stopTracking:function(){s._valueTracker=null,delete s[o]}}}}function Nn(s){if(!s._valueTracker){var o=La(s)?"checked":"value";s._valueTracker=Cs(s,o,""+s[o])}}function Ja(s){if(!s)return!1;var o=s._valueTracker;if(!o)return!0;var u=o.getValue(),d="";return s&&(d=La(s)?s.checked?"true":"false":s.value),s=d,s!==u?(o.setValue(s),!0):!1}function Gr(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var _r=/[\n"\\]/g;function Or(s){return s.replace(_r,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function So(s,o,u,d,y,w,C,W){s.name="",C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?s.type=C:s.removeAttribute("type"),o!=null?C==="number"?(o===0&&s.value===""||s.value!=o)&&(s.value=""+_n(o)):s.value!==""+_n(o)&&(s.value=""+_n(o)):C!=="submit"&&C!=="reset"||s.removeAttribute("value"),o!=null?Hl(s,C,_n(o)):u!=null?Hl(s,C,_n(u)):d!=null&&s.removeAttribute("value"),y==null&&w!=null&&(s.defaultChecked=!!w),y!=null&&(s.checked=y&&typeof y!="function"&&typeof y!="symbol"),W!=null&&typeof W!="function"&&typeof W!="symbol"&&typeof W!="boolean"?s.name=""+_n(W):s.removeAttribute("name")}function Vu(s,o,u,d,y,w,C,W){if(w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(s.type=w),o!=null||u!=null){if(!(w!=="submit"&&w!=="reset"||o!=null)){Nn(s);return}u=u!=null?""+_n(u):"",o=o!=null?""+_n(o):u,W||o===s.value||(s.value=o),s.defaultValue=o}d=d??y,d=typeof d!="function"&&typeof d!="symbol"&&!!d,s.checked=W?s.checked:!!d,s.defaultChecked=!!d,C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(s.name=C),Nn(s)}function Hl(s,o,u){o==="number"&&Gr(s.ownerDocument)===s||s.defaultValue===""+u||(s.defaultValue=""+u)}function Oi(s,o,u,d){if(s=s.options,o){o={};for(var y=0;y<u.length;y++)o["$"+u[y]]=!0;for(u=0;u<s.length;u++)y=o.hasOwnProperty("$"+s[u].value),s[u].selected!==y&&(s[u].selected=y),y&&d&&(s[u].defaultSelected=!0)}else{for(u=""+_n(u),o=null,y=0;y<s.length;y++){if(s[y].value===u){s[y].selected=!0,d&&(s[y].defaultSelected=!0);return}o!==null||s[y].disabled||(o=s[y])}o!==null&&(o.selected=!0)}}function Gl(s,o,u){if(o!=null&&(o=""+_n(o),o!==s.value&&(s.value=o),u==null)){s.defaultValue!==o&&(s.defaultValue=o);return}s.defaultValue=u!=null?""+_n(u):""}function ka(s,o,u,d){if(o==null){if(d!=null){if(u!=null)throw Error(r(92));if(fe(d)){if(1<d.length)throw Error(r(93));d=d[0]}u=d}u==null&&(u=""),o=u}u=_n(o),s.defaultValue=u,d=s.textContent,d===u&&d!==""&&d!==null&&(s.value=d),Nn(s)}function di(s,o){if(o){var u=s.firstChild;if(u&&u===s.lastChild&&u.nodeType===3){u.nodeValue=o;return}}s.textContent=o}var Za=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function $l(s,o,u){var d=o.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?d?s.setProperty(o,""):o==="float"?s.cssFloat="":s[o]="":d?s.setProperty(o,u):typeof u!="number"||u===0||Za.has(o)?o==="float"?s.cssFloat=u:s[o]=(""+u).trim():s[o]=u+"px"}function Wl(s,o,u){if(o!=null&&typeof o!="object")throw Error(r(62));if(s=s.style,u!=null){for(var d in u)!u.hasOwnProperty(d)||o!=null&&o.hasOwnProperty(d)||(d.indexOf("--")===0?s.setProperty(d,""):d==="float"?s.cssFloat="":s[d]="");for(var y in o)d=o[y],o.hasOwnProperty(y)&&u[y]!==d&&$l(s,y,d)}else for(var w in o)o.hasOwnProperty(w)&&$l(s,w,o[w])}function il(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sl=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Da=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Xi(s){return Da.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function $s(){}var Oa=null;function Ji(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var eo=null,Ut=null;function To(s){var o=Di(s);if(o&&(s=o.stateNode)){var u=s[ir]||null;e:switch(s=o.stateNode,o.type){case"input":if(So(s,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),o=u.name,u.type==="radio"&&o!=null){for(u=s;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+Or(""+o)+'"][type="radio"]'),o=0;o<u.length;o++){var d=u[o];if(d!==s&&d.form===s.form){var y=d[ir]||null;if(!y)throw Error(r(90));So(d,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(o=0;o<u.length;o++)d=u[o],d.form===s.form&&Ja(d)}break e;case"textarea":Gl(s,u.value,u.defaultValue);break e;case"select":o=u.value,o!=null&&Oi(s,!!u.multiple,o,!1)}}}var al=!1;function to(s,o,u){if(al)return s(o,u);al=!0;try{var d=s(o);return d}finally{if(al=!1,(eo!==null||Ut!==null)&&(Jg(),eo&&(o=eo,s=Ut,Ut=eo=null,To(o),s)))for(o=0;o<s.length;o++)To(s[o])}}function pi(s,o){var u=s.stateNode;if(u===null)return null;var d=u[ir]||null;if(d===null)return null;u=d[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(s=s.type,d=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!d;break e;default:s=!1}if(s)return null;if(u&&typeof u!="function")throw Error(r(231,o,typeof u));return u}var ti=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),xo=!1;if(ti)try{var Gn={};Object.defineProperty(Gn,"passive",{get:function(){xo=!0}}),window.addEventListener("test",Gn,Gn),window.removeEventListener("test",Gn,Gn)}catch{xo=!1}var fs=null,Io=null,Ws=null;function Kl(){if(Ws)return Ws;var s,o=Io,u=o.length,d,y="value"in fs?fs.value:fs.textContent,w=y.length;for(s=0;s<u&&o[s]===y[s];s++);var C=u-s;for(d=1;d<=C&&o[u-d]===y[w-d];d++);return Ws=y.slice(s,1<d?1-d:void 0)}function ds(s){var o=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&o===13&&(s=13)):s=o,s===10&&(s=13),32<=s||s===13?s:0}function Ma(){return!0}function ps(){return!1}function $r(s){function o(u,d,y,w,C){this._reactName=u,this._targetInst=y,this.type=d,this.nativeEvent=w,this.target=C,this.currentTarget=null;for(var W in s)s.hasOwnProperty(W)&&(u=s[W],this[W]=u?u(w):w[W]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?Ma:ps,this.isPropagationStopped=ps,this}return v(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Ma)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Ma)},persist:function(){},isPersistent:Ma}),o}var aa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ti=$r(aa),oa=v({},aa,{view:0,detail:0}),no=$r(oa),la,ua,Rs,No=v({},oa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qt,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Rs&&(Rs&&s.type==="mousemove"?(la=s.screenX-Rs.screenX,ua=s.screenY-Rs.screenY):ua=la=0,Rs=s),la)},movementY:function(s){return"movementY"in s?s.movementY:ua}}),ol=$r(No),ms=v({},No,{dataTransfer:0}),ca=$r(ms),Yl=v({},oa,{relatedTarget:0}),Ks=$r(Yl),ll=v({},aa,{animationName:0,elapsedTime:0,pseudoElement:0}),A=$r(ll),U=v({},aa,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),ae=$r(U),me=v({},aa,{data:0}),Se=$r(me),$e={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},et={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bt={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xt(s){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(s):(s=bt[s])?!!o[s]:!1}function qt(){return xt}var jt=v({},oa,{key:function(s){if(s.key){var o=$e[s.key]||s.key;if(o!=="Unidentified")return o}return s.type==="keypress"?(s=ds(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?et[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qt,charCode:function(s){return s.type==="keypress"?ds(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?ds(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),wn=$r(jt),fr=v({},No,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),tr=$r(fr),g=v({},oa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qt}),T=$r(g),L=v({},aa,{propertyName:0,elapsedTime:0,pseudoElement:0}),X=$r(L),Ie=v({},No,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Me=$r(Ie),st=v({},aa,{newState:0,oldState:0}),en=$r(st),dr=[9,13,27,32],yn=ti&&"CompositionEvent"in window,$n=null;ti&&"documentMode"in document&&($n=document.documentMode);var xi=ti&&"TextEvent"in window&&!$n,Mi=ti&&(!yn||$n&&8<$n&&11>=$n),sr=" ",Vi=!1;function Ys(s,o){switch(s){case"keyup":return dr.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ro(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var io=!1;function gs(s,o){switch(s){case"compositionend":return ro(o);case"keypress":return o.which!==32?null:(Vi=!0,sr);case"textInput":return s=o.data,s===sr&&Vi?null:s;default:return null}}function Co(s,o){if(io)return s==="compositionend"||!yn&&Ys(s,o)?(s=Kl(),Ws=Io=fs=null,io=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Mi&&o.locale!=="ko"?null:o.data;default:return null}}var ju={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Xc(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o==="input"?!!ju[s.type]:o==="textarea"}function Qs(s,o,u,d){eo?Ut?Ut.push(d):Ut=[d]:eo=d,o=s1(o,"onChange"),0<o.length&&(u=new Ti("onChange","change",null,u,d),s.push({event:u,listeners:o}))}var Va=null,Ro=null;function Jc(s){KE(s,0)}function ja(s){var o=cs(s);if(Ja(o))return s}function ul(s,o){if(s==="change")return o}var Ps=!1;if(ti){var ys;if(ti){var so="oninput"in document;if(!so){var ao=document.createElement("div");ao.setAttribute("oninput","return;"),so=typeof ao.oninput=="function"}ys=so}else ys=!1;Ps=ys&&(!document.documentMode||9<document.documentMode)}function Po(){Va&&(Va.detachEvent("onpropertychange",Fu),Ro=Va=null)}function Fu(s){if(s.propertyName==="value"&&ja(Ro)){var o=[];Qs(o,Ro,s,Ji(s)),to(Jc,o)}}function Uu(s,o,u){s==="focusin"?(Po(),Va=o,Ro=u,Va.attachEvent("onpropertychange",Fu)):s==="focusout"&&Po()}function Wr(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return ja(Ro)}function sf(s,o){if(s==="click")return ja(o)}function oo(s,o){if(s==="input"||s==="change")return ja(o)}function lo(s,o){return s===o&&(s!==0||1/s===1/o)||s!==s&&o!==o}var ji=typeof Object.is=="function"?Object.is:lo;function Lo(s,o){if(ji(s,o))return!0;if(typeof s!="object"||s===null||typeof o!="object"||o===null)return!1;var u=Object.keys(s),d=Object.keys(o);if(u.length!==d.length)return!1;for(d=0;d<u.length;d++){var y=u[d];if(!Ae.call(o,y)||!ji(s[y],o[y]))return!1}return!0}function Bu(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function zu(s,o){var u=Bu(s);s=0;for(var d;u;){if(u.nodeType===3){if(d=s+u.textContent.length,s<=o&&d>=o)return{node:u,offset:o-s};s=d}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=Bu(u)}}function ko(s,o){return s&&o?s===o?!0:s&&s.nodeType===3?!1:o&&o.nodeType===3?ko(s,o.parentNode):"contains"in s?s.contains(o):s.compareDocumentPosition?!!(s.compareDocumentPosition(o)&16):!1:!1}function Do(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var o=Gr(s.document);o instanceof s.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)s=o.contentWindow;else break;o=Gr(s.document)}return o}function uo(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o&&(o==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||o==="textarea"||s.contentEditable==="true")}var Ql=ti&&"documentMode"in document&&11>=document.documentMode,Xs=null,Oo=null,Zi=null,ha=!1;function zn(s,o,u){var d=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;ha||Xs==null||Xs!==Gr(d)||(d=Xs,"selectionStart"in d&&uo(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Zi&&Lo(Zi,d)||(Zi=d,d=s1(Oo,"onSelect"),0<d.length&&(o=new Ti("onSelect","select",null,o,u),s.push({event:o,listeners:d}),o.target=Xs)))}function kn(s,o){var u={};return u[s.toLowerCase()]=o.toLowerCase(),u["Webkit"+s]="webkit"+o,u["Moz"+s]="moz"+o,u}var pr={animationend:kn("Animation","AnimationEnd"),animationiteration:kn("Animation","AnimationIteration"),animationstart:kn("Animation","AnimationStart"),transitionrun:kn("Transition","TransitionRun"),transitionstart:kn("Transition","TransitionStart"),transitioncancel:kn("Transition","TransitionCancel"),transitionend:kn("Transition","TransitionEnd")},Kr={},co={};ti&&(co=document.createElement("div").style,"AnimationEvent"in window||(delete pr.animationend.animation,delete pr.animationiteration.animation,delete pr.animationstart.animation),"TransitionEvent"in window||delete pr.transitionend.transition);function Fa(s){if(Kr[s])return Kr[s];if(!pr[s])return s;var o=pr[s],u;for(u in o)if(o.hasOwnProperty(u)&&u in co)return Kr[s]=o[u];return s}var Xl=Fa("animationend"),Zc=Fa("animationiteration"),rp=Fa("animationstart"),Ng=Fa("transitionrun"),Cg=Fa("transitionstart"),Rg=Fa("transitioncancel"),ip=Fa("transitionend"),sp=new Map,Jl="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Jl.push("scrollEnd");function fa(s,o){sp.set(s,o),Ns(o,[s])}var eh=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},Js=[],Zl=0,af=0;function th(){for(var s=Zl,o=af=Zl=0;o<s;){var u=Js[o];Js[o++]=null;var d=Js[o];Js[o++]=null;var y=Js[o];Js[o++]=null;var w=Js[o];if(Js[o++]=null,d!==null&&y!==null){var C=d.pending;C===null?y.next=y:(y.next=C.next,C.next=y),d.pending=y}w!==0&&rh(u,y,w)}}function nh(s,o,u,d){Js[Zl++]=s,Js[Zl++]=o,Js[Zl++]=u,Js[Zl++]=d,af|=d,s.lanes|=d,s=s.alternate,s!==null&&(s.lanes|=d)}function of(s,o,u,d){return nh(s,o,u,d),es(s)}function Mo(s,o){return nh(s,null,null,o),es(s)}function rh(s,o,u){s.lanes|=u;var d=s.alternate;d!==null&&(d.lanes|=u);for(var y=!1,w=s.return;w!==null;)w.childLanes|=u,d=w.alternate,d!==null&&(d.childLanes|=u),w.tag===22&&(s=w.stateNode,s===null||s._visibility&1||(y=!0)),s=w,w=w.return;return s.tag===3?(w=s.stateNode,y&&o!==null&&(y=31-Zt(u),s=w.hiddenUpdates,d=s[y],d===null?s[y]=[o]:d.push(o),o.lane=u|536870912),w):null}function es(s){if(50<Ip)throw Ip=0,gv=null,Error(r(185));for(var o=s.return;o!==null;)s=o,o=s.return;return s.tag===3?s.stateNode:null}var Fi={};function lf(s,o,u,d){this.tag=s,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ts(s,o,u,d){return new lf(s,o,u,d)}function uf(s){return s=s.prototype,!(!s||!s.isReactComponent)}function da(s,o){var u=s.alternate;return u===null?(u=ts(s.tag,o,s.key,s.mode),u.elementType=s.elementType,u.type=s.type,u.stateNode=s.stateNode,u.alternate=s,s.alternate=u):(u.pendingProps=o,u.type=s.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=s.flags&65011712,u.childLanes=s.childLanes,u.lanes=s.lanes,u.child=s.child,u.memoizedProps=s.memoizedProps,u.memoizedState=s.memoizedState,u.updateQueue=s.updateQueue,o=s.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=s.sibling,u.index=s.index,u.ref=s.ref,u.refCleanup=s.refCleanup,u}function ih(s,o){s.flags&=65011714;var u=s.alternate;return u===null?(s.childLanes=0,s.lanes=o,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=u.childLanes,s.lanes=u.lanes,s.child=u.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=u.memoizedProps,s.memoizedState=u.memoizedState,s.updateQueue=u.updateQueue,s.type=u.type,o=u.dependencies,s.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),s}function qu(s,o,u,d,y,w){var C=0;if(d=s,typeof s=="function")uf(s)&&(C=1);else if(typeof s=="string")C=HP(s,u,ne.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case D:return s=ts(31,u,o,y),s.elementType=D,s.lanes=w,s;case P:return cl(u.children,y,w,o);case M:C=8,y|=24;break;case k:return s=ts(12,u,o,y|2),s.elementType=k,s.lanes=w,s;case ye:return s=ts(13,u,o,y),s.elementType=ye,s.lanes=w,s;case ve:return s=ts(19,u,o,y),s.elementType=ve,s.lanes=w,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case $:C=10;break e;case K:C=9;break e;case ee:C=11;break e;case z:C=14;break e;case F:C=16,d=null;break e}C=29,u=Error(r(130,s===null?"null":typeof s,"")),d=null}return o=ts(C,u,o,y),o.elementType=s,o.type=d,o.lanes=w,o}function cl(s,o,u,d){return s=ts(7,s,d,o),s.lanes=u,s}function sh(s,o,u){return s=ts(6,s,null,o),s.lanes=u,s}function cf(s){var o=ts(18,null,null,0);return o.stateNode=s,o}function Hu(s,o,u){return o=ts(4,s.children!==null?s.children:[],s.key,o),o.lanes=u,o.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},o}var hf=new WeakMap;function pa(s,o){if(typeof s=="object"&&s!==null){var u=hf.get(s);return u!==void 0?u:(o={value:s,source:o,stack:Rt(o)},hf.set(s,o),o)}return{value:s,source:o,stack:Rt(o)}}var Gu=[],eu=0,ff=null,ah=0,ma=[],ga=0,hl=null,ya=1,va="";function Zs(s,o){Gu[eu++]=ah,Gu[eu++]=ff,ff=s,ah=o}function Pg(s,o,u){ma[ga++]=ya,ma[ga++]=va,ma[ga++]=hl,hl=s;var d=ya;s=va;var y=32-Zt(d)-1;d&=~(1<<y),u+=1;var w=32-Zt(o)+y;if(30<w){var C=y-y%5;w=(d&(1<<C)-1).toString(32),d>>=C,y-=C,ya=1<<32-Zt(o)+y|u<<y|d,va=w+s}else ya=1<<w|u<<y|d,va=s}function ap(s){s.return!==null&&(Zs(s,1),Pg(s,1,0))}function df(s){for(;s===ff;)ff=Gu[--eu],Gu[eu]=null,ah=Gu[--eu],Gu[eu]=null;for(;s===hl;)hl=ma[--ga],ma[ga]=null,va=ma[--ga],ma[ga]=null,ya=ma[--ga],ma[ga]=null}function Lg(s,o){ma[ga++]=ya,ma[ga++]=va,ma[ga++]=hl,ya=o.id,va=o.overflow,hl=s}var Ui=null,br=null,An=!1,vs=null,Mr=!1,Ua=Error(r(519));function fl(s){var o=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw $u(pa(o,s)),Ua}function op(s){var o=s.stateNode,u=s.type,d=s.memoizedProps;switch(o[Hn]=s,o[ir]=d,u){case"dialog":Tn("cancel",o),Tn("close",o);break;case"iframe":case"object":case"embed":Tn("load",o);break;case"video":case"audio":for(u=0;u<Cp.length;u++)Tn(Cp[u],o);break;case"source":Tn("error",o);break;case"img":case"image":case"link":Tn("error",o),Tn("load",o);break;case"details":Tn("toggle",o);break;case"input":Tn("invalid",o),Vu(o,d.value,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name,!0);break;case"select":Tn("invalid",o);break;case"textarea":Tn("invalid",o),ka(o,d.value,d.defaultValue,d.children)}u=d.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||o.textContent===""+u||d.suppressHydrationWarning===!0||JE(o.textContent,u)?(d.popover!=null&&(Tn("beforetoggle",o),Tn("toggle",o)),d.onScroll!=null&&Tn("scroll",o),d.onScrollEnd!=null&&Tn("scrollend",o),d.onClick!=null&&(o.onclick=$s),o=!0):o=!1,o||fl(s,!0)}function Vo(s){for(Ui=s.return;Ui;)switch(Ui.tag){case 5:case 31:case 13:Mr=!1;return;case 27:case 3:Mr=!0;return;default:Ui=Ui.return}}function Bi(s){if(s!==Ui)return!1;if(!An)return Vo(s),An=!0,!1;var o=s.tag,u;if((u=o!==3&&o!==27)&&((u=o===5)&&(u=s.type,u=!(u!=="form"&&u!=="button")||Pv(s.type,s.memoizedProps)),u=!u),u&&br&&fl(s),Vo(s),o===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));br=oA(s)}else if(o===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));br=oA(s)}else o===27?(o=br,ac(s.type)?(s=Mv,Mv=null,br=s):br=o):br=Ui?mo(s.stateNode.nextSibling):null;return!0}function tu(){br=Ui=null,An=!1}function lp(){var s=vs;return s!==null&&(Sa===null?Sa=s:Sa.push.apply(Sa,s),vs=null),s}function $u(s){vs===null?vs=[s]:vs.push(s)}var pf=J(null),dl=null,ho=null;function pl(s,o,u){Y(pf,o._currentValue),o._currentValue=u}function _a(s){s._currentValue=pf.current,O(pf)}function Wu(s,o,u){for(;s!==null;){var d=s.alternate;if((s.childLanes&o)!==o?(s.childLanes|=o,d!==null&&(d.childLanes|=o)):d!==null&&(d.childLanes&o)!==o&&(d.childLanes|=o),s===u)break;s=s.return}}function nu(s,o,u,d){var y=s.child;for(y!==null&&(y.return=s);y!==null;){var w=y.dependencies;if(w!==null){var C=y.child;w=w.firstContext;e:for(;w!==null;){var W=w;w=y;for(var de=0;de<o.length;de++)if(W.context===o[de]){w.lanes|=u,W=w.alternate,W!==null&&(W.lanes|=u),Wu(w.return,u,s),d||(C=null);break e}w=W.next}}else if(y.tag===18){if(C=y.return,C===null)throw Error(r(341));C.lanes|=u,w=C.alternate,w!==null&&(w.lanes|=u),Wu(C,u,s),C=null}else C=y.child;if(C!==null)C.return=y;else for(C=y;C!==null;){if(C===s){C=null;break}if(y=C.sibling,y!==null){y.return=C.return,C=y;break}C=C.return}y=C}}function ml(s,o,u,d){s=null;for(var y=o,w=!1;y!==null;){if(!w){if((y.flags&524288)!==0)w=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var C=y.alternate;if(C===null)throw Error(r(387));if(C=C.memoizedProps,C!==null){var W=y.type;ji(y.pendingProps.value,C.value)||(s!==null?s.push(W):s=[W])}}else if(y===we.current){if(C=y.alternate,C===null)throw Error(r(387));C.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(s!==null?s.push(Dp):s=[Dp])}y=y.return}s!==null&&nu(o,s,u,d),o.flags|=262144}function mf(s){for(s=s.firstContext;s!==null;){if(!ji(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function gl(s){dl=s,ho=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function zi(s){return kg(dl,s)}function gf(s,o){return dl===null&&gl(s),kg(s,o)}function kg(s,o){var u=o._currentValue;if(o={context:o,memoizedValue:u,next:null},ho===null){if(s===null)throw Error(r(308));ho=o,s.dependencies={lanes:0,firstContext:o},s.flags|=524288}else ho=ho.next=o;return u}var O0=typeof AbortController<"u"?AbortController:function(){var s=[],o=this.signal={aborted:!1,addEventListener:function(u,d){s.push(d)}};this.abort=function(){o.aborted=!0,s.forEach(function(u){return u()})}},M0=n.unstable_scheduleCallback,V0=n.unstable_NormalPriority,Yr={$$typeof:$,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ku(){return{controller:new O0,data:new Map,refCount:0}}function oh(s){s.refCount--,s.refCount===0&&M0(V0,function(){s.controller.abort()})}var lh=null,yf=0,m=0,_=null;function S(s,o){if(lh===null){var u=lh=[];yf=0,m=Ev(),_={status:"pending",value:void 0,then:function(d){u.push(d)}}}return yf++,o.then(x,x),o}function x(){if(--yf===0&&lh!==null){_!==null&&(_.status="fulfilled");var s=lh;lh=null,m=0,_=null;for(var o=0;o<s.length;o++)(0,s[o])()}}function B(s,o){var u=[],d={status:"pending",value:null,reason:null,then:function(y){u.push(y)}};return s.then(function(){d.status="fulfilled",d.value=o;for(var y=0;y<u.length;y++)(0,u[y])(o)},function(y){for(d.status="rejected",d.reason=y,y=0;y<u.length;y++)(0,u[y])(void 0)}),d}var q=re.S;re.S=function(s,o){EE=Jt(),typeof o=="object"&&o!==null&&typeof o.then=="function"&&S(s,o),q!==null&&q(s,o)};var H=J(null);function Q(){var s=H.current;return s!==null?s:Er.pooledCache}function Z(s,o){o===null?Y(H,H.current):Y(H,o.pool)}function oe(){var s=Q();return s===null?null:{parent:Yr._currentValue,pool:s}}var _e=Error(r(460)),Le=Error(r(474)),se=Error(r(542)),Ee={then:function(){}};function Ne(s){return s=s.status,s==="fulfilled"||s==="rejected"}function Ge(s,o,u){switch(u=s[u],u===void 0?s.push(o):u!==o&&(o.then($s,$s),o=u),o.status){case"fulfilled":return o.value;case"rejected":throw s=o.reason,rt(s),s;default:if(typeof o.status=="string")o.then($s,$s);else{if(s=Er,s!==null&&100<s.shellSuspendCounter)throw Error(r(482));s=o,s.status="pending",s.then(function(d){if(o.status==="pending"){var y=o;y.status="fulfilled",y.value=d}},function(d){if(o.status==="pending"){var y=o;y.status="rejected",y.reason=d}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw s=o.reason,rt(s),s}throw He=o,_e}}function Ce(s){try{var o=s._init;return o(s._payload)}catch(u){throw u!==null&&typeof u=="object"&&typeof u.then=="function"?(He=u,_e):u}}var He=null;function Ye(){if(He===null)throw Error(r(459));var s=He;return He=null,s}function rt(s){if(s===_e||s===se)throw Error(r(483))}var Je=null,It=0;function yt(s){var o=It;return It+=1,Je===null&&(Je=[]),Ge(Je,s,o)}function sn(s,o){o=o.props.ref,s.ref=o!==void 0?o:null}function At(s,o){throw o.$$typeof===E?Error(r(525)):(s=Object.prototype.toString.call(o),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":s)))}function En(s){function o(Te,be){if(s){var ke=Te.deletions;ke===null?(Te.deletions=[be],Te.flags|=16):ke.push(be)}}function u(Te,be){if(!s)return null;for(;be!==null;)o(Te,be),be=be.sibling;return null}function d(Te){for(var be=new Map;Te!==null;)Te.key!==null?be.set(Te.key,Te):be.set(Te.index,Te),Te=Te.sibling;return be}function y(Te,be){return Te=da(Te,be),Te.index=0,Te.sibling=null,Te}function w(Te,be,ke){return Te.index=ke,s?(ke=Te.alternate,ke!==null?(ke=ke.index,ke<be?(Te.flags|=67108866,be):ke):(Te.flags|=67108866,be)):(Te.flags|=1048576,be)}function C(Te){return s&&Te.alternate===null&&(Te.flags|=67108866),Te}function W(Te,be,ke,Qe){return be===null||be.tag!==6?(be=sh(ke,Te.mode,Qe),be.return=Te,be):(be=y(be,ke),be.return=Te,be)}function de(Te,be,ke,Qe){var Gt=ke.type;return Gt===P?We(Te,be,ke.props.children,Qe,ke.key):be!==null&&(be.elementType===Gt||typeof Gt=="object"&&Gt!==null&&Gt.$$typeof===F&&Ce(Gt)===be.type)?(be=y(be,ke.props),sn(be,ke),be.return=Te,be):(be=qu(ke.type,ke.key,ke.props,null,Te.mode,Qe),sn(be,ke),be.return=Te,be)}function De(Te,be,ke,Qe){return be===null||be.tag!==4||be.stateNode.containerInfo!==ke.containerInfo||be.stateNode.implementation!==ke.implementation?(be=Hu(ke,Te.mode,Qe),be.return=Te,be):(be=y(be,ke.children||[]),be.return=Te,be)}function We(Te,be,ke,Qe,Gt){return be===null||be.tag!==7?(be=cl(ke,Te.mode,Qe,Gt),be.return=Te,be):(be=y(be,ke),be.return=Te,be)}function Xe(Te,be,ke){if(typeof be=="string"&&be!==""||typeof be=="number"||typeof be=="bigint")return be=sh(""+be,Te.mode,ke),be.return=Te,be;if(typeof be=="object"&&be!==null){switch(be.$$typeof){case b:return ke=qu(be.type,be.key,be.props,null,Te.mode,ke),sn(ke,be),ke.return=Te,ke;case R:return be=Hu(be,Te.mode,ke),be.return=Te,be;case F:return be=Ce(be),Xe(Te,be,ke)}if(fe(be)||j(be))return be=cl(be,Te.mode,ke,null),be.return=Te,be;if(typeof be.then=="function")return Xe(Te,yt(be),ke);if(be.$$typeof===$)return Xe(Te,gf(Te,be),ke);At(Te,be)}return null}function Ve(Te,be,ke,Qe){var Gt=be!==null?be.key:null;if(typeof ke=="string"&&ke!==""||typeof ke=="number"||typeof ke=="bigint")return Gt!==null?null:W(Te,be,""+ke,Qe);if(typeof ke=="object"&&ke!==null){switch(ke.$$typeof){case b:return ke.key===Gt?de(Te,be,ke,Qe):null;case R:return ke.key===Gt?De(Te,be,ke,Qe):null;case F:return ke=Ce(ke),Ve(Te,be,ke,Qe)}if(fe(ke)||j(ke))return Gt!==null?null:We(Te,be,ke,Qe,null);if(typeof ke.then=="function")return Ve(Te,be,yt(ke),Qe);if(ke.$$typeof===$)return Ve(Te,be,gf(Te,ke),Qe);At(Te,ke)}return null}function Fe(Te,be,ke,Qe,Gt){if(typeof Qe=="string"&&Qe!==""||typeof Qe=="number"||typeof Qe=="bigint")return Te=Te.get(ke)||null,W(be,Te,""+Qe,Gt);if(typeof Qe=="object"&&Qe!==null){switch(Qe.$$typeof){case b:return Te=Te.get(Qe.key===null?ke:Qe.key)||null,de(be,Te,Qe,Gt);case R:return Te=Te.get(Qe.key===null?ke:Qe.key)||null,De(be,Te,Qe,Gt);case F:return Qe=Ce(Qe),Fe(Te,be,ke,Qe,Gt)}if(fe(Qe)||j(Qe))return Te=Te.get(ke)||null,We(be,Te,Qe,Gt,null);if(typeof Qe.then=="function")return Fe(Te,be,ke,yt(Qe),Gt);if(Qe.$$typeof===$)return Fe(Te,be,ke,gf(be,Qe),Gt);At(be,Qe)}return null}function Tt(Te,be,ke,Qe){for(var Gt=null,Wn=null,Lt=be,gn=be=0,Rn=null;Lt!==null&&gn<ke.length;gn++){Lt.index>gn?(Rn=Lt,Lt=null):Rn=Lt.sibling;var Kn=Ve(Te,Lt,ke[gn],Qe);if(Kn===null){Lt===null&&(Lt=Rn);break}s&&Lt&&Kn.alternate===null&&o(Te,Lt),be=w(Kn,be,gn),Wn===null?Gt=Kn:Wn.sibling=Kn,Wn=Kn,Lt=Rn}if(gn===ke.length)return u(Te,Lt),An&&Zs(Te,gn),Gt;if(Lt===null){for(;gn<ke.length;gn++)Lt=Xe(Te,ke[gn],Qe),Lt!==null&&(be=w(Lt,be,gn),Wn===null?Gt=Lt:Wn.sibling=Lt,Wn=Lt);return An&&Zs(Te,gn),Gt}for(Lt=d(Lt);gn<ke.length;gn++)Rn=Fe(Lt,Te,gn,ke[gn],Qe),Rn!==null&&(s&&Rn.alternate!==null&&Lt.delete(Rn.key===null?gn:Rn.key),be=w(Rn,be,gn),Wn===null?Gt=Rn:Wn.sibling=Rn,Wn=Rn);return s&&Lt.forEach(function(hc){return o(Te,hc)}),An&&Zs(Te,gn),Gt}function Yt(Te,be,ke,Qe){if(ke==null)throw Error(r(151));for(var Gt=null,Wn=null,Lt=be,gn=be=0,Rn=null,Kn=ke.next();Lt!==null&&!Kn.done;gn++,Kn=ke.next()){Lt.index>gn?(Rn=Lt,Lt=null):Rn=Lt.sibling;var hc=Ve(Te,Lt,Kn.value,Qe);if(hc===null){Lt===null&&(Lt=Rn);break}s&&Lt&&hc.alternate===null&&o(Te,Lt),be=w(hc,be,gn),Wn===null?Gt=hc:Wn.sibling=hc,Wn=hc,Lt=Rn}if(Kn.done)return u(Te,Lt),An&&Zs(Te,gn),Gt;if(Lt===null){for(;!Kn.done;gn++,Kn=ke.next())Kn=Xe(Te,Kn.value,Qe),Kn!==null&&(be=w(Kn,be,gn),Wn===null?Gt=Kn:Wn.sibling=Kn,Wn=Kn);return An&&Zs(Te,gn),Gt}for(Lt=d(Lt);!Kn.done;gn++,Kn=ke.next())Kn=Fe(Lt,Te,gn,Kn.value,Qe),Kn!==null&&(s&&Kn.alternate!==null&&Lt.delete(Kn.key===null?gn:Kn.key),be=w(Kn,be,gn),Wn===null?Gt=Kn:Wn.sibling=Kn,Wn=Kn);return s&&Lt.forEach(function(tL){return o(Te,tL)}),An&&Zs(Te,gn),Gt}function vr(Te,be,ke,Qe){if(typeof ke=="object"&&ke!==null&&ke.type===P&&ke.key===null&&(ke=ke.props.children),typeof ke=="object"&&ke!==null){switch(ke.$$typeof){case b:e:{for(var Gt=ke.key;be!==null;){if(be.key===Gt){if(Gt=ke.type,Gt===P){if(be.tag===7){u(Te,be.sibling),Qe=y(be,ke.props.children),Qe.return=Te,Te=Qe;break e}}else if(be.elementType===Gt||typeof Gt=="object"&&Gt!==null&&Gt.$$typeof===F&&Ce(Gt)===be.type){u(Te,be.sibling),Qe=y(be,ke.props),sn(Qe,ke),Qe.return=Te,Te=Qe;break e}u(Te,be);break}else o(Te,be);be=be.sibling}ke.type===P?(Qe=cl(ke.props.children,Te.mode,Qe,ke.key),Qe.return=Te,Te=Qe):(Qe=qu(ke.type,ke.key,ke.props,null,Te.mode,Qe),sn(Qe,ke),Qe.return=Te,Te=Qe)}return C(Te);case R:e:{for(Gt=ke.key;be!==null;){if(be.key===Gt)if(be.tag===4&&be.stateNode.containerInfo===ke.containerInfo&&be.stateNode.implementation===ke.implementation){u(Te,be.sibling),Qe=y(be,ke.children||[]),Qe.return=Te,Te=Qe;break e}else{u(Te,be);break}else o(Te,be);be=be.sibling}Qe=Hu(ke,Te.mode,Qe),Qe.return=Te,Te=Qe}return C(Te);case F:return ke=Ce(ke),vr(Te,be,ke,Qe)}if(fe(ke))return Tt(Te,be,ke,Qe);if(j(ke)){if(Gt=j(ke),typeof Gt!="function")throw Error(r(150));return ke=Gt.call(ke),Yt(Te,be,ke,Qe)}if(typeof ke.then=="function")return vr(Te,be,yt(ke),Qe);if(ke.$$typeof===$)return vr(Te,be,gf(Te,ke),Qe);At(Te,ke)}return typeof ke=="string"&&ke!==""||typeof ke=="number"||typeof ke=="bigint"?(ke=""+ke,be!==null&&be.tag===6?(u(Te,be.sibling),Qe=y(be,ke),Qe.return=Te,Te=Qe):(u(Te,be),Qe=sh(ke,Te.mode,Qe),Qe.return=Te,Te=Qe),C(Te)):u(Te,be)}return function(Te,be,ke,Qe){try{It=0;var Gt=vr(Te,be,ke,Qe);return Je=null,Gt}catch(Lt){if(Lt===_e||Lt===se)throw Lt;var Wn=ts(29,Lt,null,Te.mode);return Wn.lanes=Qe,Wn.return=Te,Wn}finally{}}}var wr=En(!0),un=En(!1),vt=!1;function lt(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Nr(s,o){s=s.updateQueue,o.updateQueue===s&&(o.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function $t(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function dn(s,o,u){var d=s.updateQueue;if(d===null)return null;if(d=d.shared,(Zn&2)!==0){var y=d.pending;return y===null?o.next=o:(o.next=y.next,y.next=o),d.pending=o,o=es(s),rh(s,null,u),o}return nh(s,d,o,u),es(s)}function Xn(s,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194048)!==0)){var d=o.lanes;d&=s.pendingLanes,u|=d,o.lanes=u,Qn(s,u)}}function mi(s,o){var u=s.updateQueue,d=s.alternate;if(d!==null&&(d=d.updateQueue,u===d)){var y=null,w=null;if(u=u.firstBaseUpdate,u!==null){do{var C={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};w===null?y=w=C:w=w.next=C,u=u.next}while(u!==null);w===null?y=w=o:w=w.next=o}else y=w=o;u={baseState:d.baseState,firstBaseUpdate:y,lastBaseUpdate:w,shared:d.shared,callbacks:d.callbacks},s.updateQueue=u;return}s=u.lastBaseUpdate,s===null?u.firstBaseUpdate=o:s.next=o,u.lastBaseUpdate=o}var qi=!1;function mr(){if(qi){var s=_;if(s!==null)throw s}}function ni(s,o,u,d){qi=!1;var y=s.updateQueue;vt=!1;var w=y.firstBaseUpdate,C=y.lastBaseUpdate,W=y.shared.pending;if(W!==null){y.shared.pending=null;var de=W,De=de.next;de.next=null,C===null?w=De:C.next=De,C=de;var We=s.alternate;We!==null&&(We=We.updateQueue,W=We.lastBaseUpdate,W!==C&&(W===null?We.firstBaseUpdate=De:W.next=De,We.lastBaseUpdate=de))}if(w!==null){var Xe=y.baseState;C=0,We=De=de=null,W=w;do{var Ve=W.lane&-536870913,Fe=Ve!==W.lane;if(Fe?(Cn&Ve)===Ve:(d&Ve)===Ve){Ve!==0&&Ve===m&&(qi=!0),We!==null&&(We=We.next={lane:0,tag:W.tag,payload:W.payload,callback:null,next:null});e:{var Tt=s,Yt=W;Ve=o;var vr=u;switch(Yt.tag){case 1:if(Tt=Yt.payload,typeof Tt=="function"){Xe=Tt.call(vr,Xe,Ve);break e}Xe=Tt;break e;case 3:Tt.flags=Tt.flags&-65537|128;case 0:if(Tt=Yt.payload,Ve=typeof Tt=="function"?Tt.call(vr,Xe,Ve):Tt,Ve==null)break e;Xe=v({},Xe,Ve);break e;case 2:vt=!0}}Ve=W.callback,Ve!==null&&(s.flags|=64,Fe&&(s.flags|=8192),Fe=y.callbacks,Fe===null?y.callbacks=[Ve]:Fe.push(Ve))}else Fe={lane:Ve,tag:W.tag,payload:W.payload,callback:W.callback,next:null},We===null?(De=We=Fe,de=Xe):We=We.next=Fe,C|=Ve;if(W=W.next,W===null){if(W=y.shared.pending,W===null)break;Fe=W,W=Fe.next,Fe.next=null,y.lastBaseUpdate=Fe,y.shared.pending=null}}while(!0);We===null&&(de=Xe),y.baseState=de,y.firstBaseUpdate=De,y.lastBaseUpdate=We,w===null&&(y.shared.lanes=0),tc|=C,s.lanes=C,s.memoizedState=Xe}}function ns(s,o){if(typeof s!="function")throw Error(r(191,s));s.call(o)}function ri(s,o){var u=s.callbacks;if(u!==null)for(s.callbacks=null,s=0;s<u.length;s++)ns(u[s],o)}var vn=J(null),Mn=J(0);function Cr(s,o){s=fu,Y(Mn,s),Y(vn,o),fu=s|o.baseLanes}function qn(){Y(Mn,fu),Y(vn,vn.current)}function gi(){fu=Mn.current,O(vn),O(Mn)}var Rr=J(null),Vn=null;function Qr(s){var o=s.alternate;Y(Dn,Dn.current&1),Y(Rr,s),Vn===null&&(o===null||vn.current!==null||o.memoizedState!==null)&&(Vn=s)}function Jn(s){Y(Dn,Dn.current),Y(Rr,s),Vn===null&&(Vn=s)}function ii(s){s.tag===22?(Y(Dn,Dn.current),Y(Rr,s),Vn===null&&(Vn=s)):si()}function si(){Y(Dn,Dn.current),Y(Rr,Rr.current)}function ar(s){O(Rr),Vn===s&&(Vn=null),O(Dn)}var Dn=J(0);function rs(s){for(var o=s;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||Dv(u)||Ov(u)))return o}else if(o.tag===19&&(o.memoizedProps.revealOrder==="forwards"||o.memoizedProps.revealOrder==="backwards"||o.memoizedProps.revealOrder==="unstable_legacy-backwards"||o.memoizedProps.revealOrder==="together")){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Vr=0,Bt=null,Ht=null,jn=null,Ls=!1,ba=!1,_s=!1,ai=0,yl=0,vl=null,vf=0;function gr(){throw Error(r(321))}function up(s,o){if(o===null)return!1;for(var u=0;u<o.length&&u<s.length;u++)if(!ji(s[u],o[u]))return!1;return!0}function cp(s,o,u,d,y,w){return Vr=w,Bt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,re.H=s===null||s.memoizedState===null?kw:G0,_s=!1,w=u(d,y),_s=!1,ba&&(w=jo(o,u,d,y)),_f(s),w}function _f(s){re.H=vp;var o=Ht!==null&&Ht.next!==null;if(Vr=0,jn=Ht=Bt=null,Ls=!1,yl=0,vl=null,o)throw Error(r(300));s===null||Ni||(s=s.dependencies,s!==null&&mf(s)&&(Ni=!0))}function jo(s,o,u,d){Bt=s;var y=0;do{if(ba&&(vl=null),yl=0,ba=!1,25<=y)throw Error(r(301));if(y+=1,jn=Ht=null,s.updateQueue!=null){var w=s.updateQueue;w.lastEffect=null,w.events=null,w.stores=null,w.memoCache!=null&&(w.memoCache.index=0)}re.H=Dw,w=o(u,d)}while(ba);return w}function j0(){var s=re.H,o=s.useState()[0];return o=typeof o.then=="function"?_l(o):o,s=s.useState()[0],(Ht!==null?Ht.memoizedState:null)!==s&&(Bt.flags|=1024),o}function hp(){var s=ai!==0;return ai=0,s}function fp(s,o,u){o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~u}function bf(s){if(Ls){for(s=s.memoizedState;s!==null;){var o=s.queue;o!==null&&(o.pending=null),s=s.next}Ls=!1}Vr=0,jn=Ht=Bt=null,ba=!1,yl=ai=0,vl=null}function Ii(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return jn===null?Bt.memoizedState=jn=s:jn=jn.next=s,jn}function jr(){if(Ht===null){var s=Bt.alternate;s=s!==null?s.memoizedState:null}else s=Ht.next;var o=jn===null?Bt.memoizedState:jn.next;if(o!==null)jn=o,Ht=s;else{if(s===null)throw Bt.alternate===null?Error(r(467)):Error(r(310));Ht=s,s={memoizedState:Ht.memoizedState,baseState:Ht.baseState,baseQueue:Ht.baseQueue,queue:Ht.queue,next:null},jn===null?Bt.memoizedState=jn=s:jn=jn.next=s}return jn}function uh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function _l(s){var o=yl;return yl+=1,vl===null&&(vl=[]),s=Ge(vl,s,o),o=Bt,(jn===null?o.memoizedState:jn.next)===null&&(o=o.alternate,re.H=o===null||o.memoizedState===null?kw:G0),s}function Yu(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return _l(s);if(s.$$typeof===$)return zi(s)}throw Error(r(438,String(s)))}function ru(s){var o=null,u=Bt.updateQueue;if(u!==null&&(o=u.memoCache),o==null){var d=Bt.alternate;d!==null&&(d=d.updateQueue,d!==null&&(d=d.memoCache,d!=null&&(o={data:d.data.map(function(y){return y.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),u===null&&(u=uh(),Bt.updateQueue=u),u.memoCache=o,u=o.data[o.index],u===void 0)for(u=o.data[o.index]=Array(s),d=0;d<s;d++)u[d]=G;return o.index++,u}function fo(s,o){return typeof o=="function"?o(s):o}function wf(s){var o=jr();return Qu(o,Ht,s)}function Qu(s,o,u){var d=s.queue;if(d===null)throw Error(r(311));d.lastRenderedReducer=u;var y=s.baseQueue,w=d.pending;if(w!==null){if(y!==null){var C=y.next;y.next=w.next,w.next=C}o.baseQueue=y=w,d.pending=null}if(w=s.baseState,y===null)s.memoizedState=w;else{o=y.next;var W=C=null,de=null,De=o,We=!1;do{var Xe=De.lane&-536870913;if(Xe!==De.lane?(Cn&Xe)===Xe:(Vr&Xe)===Xe){var Ve=De.revertLane;if(Ve===0)de!==null&&(de=de.next={lane:0,revertLane:0,gesture:null,action:De.action,hasEagerState:De.hasEagerState,eagerState:De.eagerState,next:null}),Xe===m&&(We=!0);else if((Vr&Ve)===Ve){De=De.next,Ve===m&&(We=!0);continue}else Xe={lane:0,revertLane:De.revertLane,gesture:null,action:De.action,hasEagerState:De.hasEagerState,eagerState:De.eagerState,next:null},de===null?(W=de=Xe,C=w):de=de.next=Xe,Bt.lanes|=Ve,tc|=Ve;Xe=De.action,_s&&u(w,Xe),w=De.hasEagerState?De.eagerState:u(w,Xe)}else Ve={lane:Xe,revertLane:De.revertLane,gesture:De.gesture,action:De.action,hasEagerState:De.hasEagerState,eagerState:De.eagerState,next:null},de===null?(W=de=Ve,C=w):de=de.next=Ve,Bt.lanes|=Xe,tc|=Xe;De=De.next}while(De!==null&&De!==o);if(de===null?C=w:de.next=W,!ji(w,s.memoizedState)&&(Ni=!0,We&&(u=_,u!==null)))throw u;s.memoizedState=w,s.baseState=C,s.baseQueue=de,d.lastRenderedState=w}return y===null&&(d.lanes=0),[s.memoizedState,d.dispatch]}function Ef(s){var o=jr(),u=o.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=s;var d=u.dispatch,y=u.pending,w=o.memoizedState;if(y!==null){u.pending=null;var C=y=y.next;do w=s(w,C.action),C=C.next;while(C!==y);ji(w,o.memoizedState)||(Ni=!0),o.memoizedState=w,o.baseQueue===null&&(o.baseState=w),u.lastRenderedState=w}return[w,d]}function Af(s,o,u){var d=Bt,y=jr(),w=An;if(w){if(u===void 0)throw Error(r(407));u=u()}else u=o();var C=!ji((Ht||y).memoizedState,u);if(C&&(y.memoizedState=u,Ni=!0),y=y.queue,F0(pp.bind(null,d,y,s),[s]),y.getSnapshot!==o||C||jn!==null&&jn.memoizedState.tag&1){if(d.flags|=2048,su(9,{destroy:void 0},dp.bind(null,d,y,u,o),null),Er===null)throw Error(r(349));w||(Vr&127)!==0||Fo(d,o,u)}return u}function Fo(s,o,u){s.flags|=16384,s={getSnapshot:o,value:u},o=Bt.updateQueue,o===null?(o=uh(),Bt.updateQueue=o,o.stores=[s]):(u=o.stores,u===null?o.stores=[s]:u.push(s))}function dp(s,o,u,d){o.value=u,o.getSnapshot=d,Dg(o)&&mp(s)}function pp(s,o,u){return u(function(){Dg(o)&&mp(s)})}function Dg(s){var o=s.getSnapshot;s=s.value;try{var u=o();return!ji(s,u)}catch{return!0}}function mp(s){var o=Mo(s,2);o!==null&&Ta(o,s,2)}function bl(s){var o=Ii();if(typeof s=="function"){var u=s;if(s=u(),_s){zt(!0);try{u()}finally{zt(!1)}}}return o.memoizedState=o.baseState=s,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fo,lastRenderedState:s},o}function Og(s,o,u,d){return s.baseState=u,Qu(s,Ht,typeof d=="function"?d:fo)}function Mg(s,o,u,d,y){if(Ug(s))throw Error(r(485));if(s=o.action,s!==null){var w={payload:y,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(C){w.listeners.push(C)}};re.T!==null?u(!0):w.isTransition=!1,d(w),u=o.pending,u===null?(w.next=o.pending=w,Vg(o,w)):(w.next=u.next,o.pending=u.next=w)}}function Vg(s,o){var u=o.action,d=o.payload,y=s.state;if(o.isTransition){var w=re.T,C={};re.T=C;try{var W=u(y,d),de=re.S;de!==null&&de(C,W),gp(s,o,W)}catch(De){iu(s,o,De)}finally{w!==null&&C.types!==null&&(w.types=C.types),re.T=w}}else try{w=u(y,d),gp(s,o,w)}catch(De){iu(s,o,De)}}function gp(s,o,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(d){jg(s,o,d)},function(d){return iu(s,o,d)}):jg(s,o,u)}function jg(s,o,u){o.status="fulfilled",o.value=u,Sf(o),s.state=u,o=s.pending,o!==null&&(u=o.next,u===o?s.pending=null:(u=u.next,o.next=u,Vg(s,u)))}function iu(s,o,u){var d=s.pending;if(s.pending=null,d!==null){d=d.next;do o.status="rejected",o.reason=u,Sf(o),o=o.next;while(o!==d)}s.action=null}function Sf(s){s=s.listeners;for(var o=0;o<s.length;o++)(0,s[o])()}function ch(s,o){return o}function po(s,o){if(An){var u=Er.formState;if(u!==null){e:{var d=Bt;if(An){if(br){t:{for(var y=br,w=Mr;y.nodeType!==8;){if(!w){y=null;break t}if(y=mo(y.nextSibling),y===null){y=null;break t}}w=y.data,y=w==="F!"||w==="F"?y:null}if(y){br=mo(y.nextSibling),d=y.data==="F!";break e}}fl(d)}d=!1}d&&(o=u[0])}}return u=Ii(),u.memoizedState=u.baseState=o,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ch,lastRenderedState:o},u.queue=d,u=Rw.bind(null,Bt,d),d.dispatch=u,d=bl(!1),w=H0.bind(null,Bt,!1,d.queue),d=Ii(),y={state:o,dispatch:null,action:s,pending:null},d.queue=y,u=Mg.bind(null,Bt,y,w,u),y.dispatch=u,d.memoizedState=s,[o,u,!1]}function Uo(s){var o=jr();return Bo(o,Ht,s)}function Bo(s,o,u){if(o=Qu(s,o,ch)[0],s=wf(fo)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var d=_l(o)}catch(C){throw C===_e?se:C}else d=o;o=jr();var y=o.queue,w=y.dispatch;return u!==o.memoizedState&&(Bt.flags|=2048,su(9,{destroy:void 0},Tf.bind(null,y,u),null)),[d,w,s]}function Tf(s,o){s.action=o}function xf(s){var o=jr(),u=Ht;if(u!==null)return Bo(o,u,s);jr(),o=o.memoizedState,u=jr();var d=u.queue.dispatch;return u.memoizedState=s,[o,d,!1]}function su(s,o,u,d){return s={tag:s,create:u,deps:d,inst:o,next:null},o=Bt.updateQueue,o===null&&(o=uh(),Bt.updateQueue=o),u=o.lastEffect,u===null?o.lastEffect=s.next=s:(d=u.next,u.next=s,s.next=d,o.lastEffect=s),s}function Fg(){return jr().memoizedState}function Xu(s,o,u,d){var y=Ii();Bt.flags|=s,y.memoizedState=su(1|o,{destroy:void 0},u,d===void 0?null:d)}function Ju(s,o,u,d){var y=jr();d=d===void 0?null:d;var w=y.memoizedState.inst;Ht!==null&&d!==null&&up(d,Ht.memoizedState.deps)?y.memoizedState=su(o,w,u,d):(Bt.flags|=s,y.memoizedState=su(1|o,w,u,d))}function gw(s,o){Xu(8390656,8,s,o)}function F0(s,o){Ju(2048,8,s,o)}function YR(s){Bt.flags|=4;var o=Bt.updateQueue;if(o===null)o=uh(),Bt.updateQueue=o,o.events=[s];else{var u=o.events;u===null?o.events=[s]:u.push(s)}}function yw(s){var o=jr().memoizedState;return YR({ref:o,nextImpl:s}),function(){if((Zn&2)!==0)throw Error(r(440));return o.impl.apply(void 0,arguments)}}function vw(s,o){return Ju(4,2,s,o)}function _w(s,o){return Ju(4,4,s,o)}function bw(s,o){if(typeof o=="function"){s=s();var u=o(s);return function(){typeof u=="function"?u():o(null)}}if(o!=null)return s=s(),o.current=s,function(){o.current=null}}function ww(s,o,u){u=u!=null?u.concat([s]):null,Ju(4,4,bw.bind(null,o,s),u)}function U0(){}function Ew(s,o){var u=jr();o=o===void 0?null:o;var d=u.memoizedState;return o!==null&&up(o,d[1])?d[0]:(u.memoizedState=[s,o],s)}function Aw(s,o){var u=jr();o=o===void 0?null:o;var d=u.memoizedState;if(o!==null&&up(o,d[1]))return d[0];if(d=s(),_s){zt(!0);try{s()}finally{zt(!1)}}return u.memoizedState=[d,o],d}function B0(s,o,u){return u===void 0||(Vr&1073741824)!==0&&(Cn&261930)===0?s.memoizedState=o:(s.memoizedState=u,s=SE(),Bt.lanes|=s,tc|=s,u)}function Sw(s,o,u,d){return ji(u,o)?u:vn.current!==null?(s=B0(s,u,d),ji(s,o)||(Ni=!0),s):(Vr&42)===0||(Vr&1073741824)!==0&&(Cn&261930)===0?(Ni=!0,s.memoizedState=u):(s=SE(),Bt.lanes|=s,tc|=s,o)}function Tw(s,o,u,d,y){var w=ue.p;ue.p=w!==0&&8>w?w:8;var C=re.T,W={};re.T=W,H0(s,!1,o,u);try{var de=y(),De=re.S;if(De!==null&&De(W,de),de!==null&&typeof de=="object"&&typeof de.then=="function"){var We=B(de,d);yp(s,o,We,qa(s))}else yp(s,o,d,qa(s))}catch(Xe){yp(s,o,{then:function(){},status:"rejected",reason:Xe},qa())}finally{ue.p=w,C!==null&&W.types!==null&&(C.types=W.types),re.T=C}}function QR(){}function z0(s,o,u,d){if(s.tag!==5)throw Error(r(476));var y=xw(s).queue;Tw(s,y,o,pe,u===null?QR:function(){return Iw(s),u(d)})}function xw(s){var o=s.memoizedState;if(o!==null)return o;o={memoizedState:pe,baseState:pe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fo,lastRenderedState:pe},next:null};var u={};return o.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fo,lastRenderedState:u},next:null},s.memoizedState=o,s=s.alternate,s!==null&&(s.memoizedState=o),o}function Iw(s){var o=xw(s);o.next===null&&(o=s.alternate.memoizedState),yp(s,o.next.queue,{},qa())}function q0(){return zi(Dp)}function Nw(){return jr().memoizedState}function Cw(){return jr().memoizedState}function XR(s){for(var o=s.return;o!==null;){switch(o.tag){case 24:case 3:var u=qa();s=$t(u);var d=dn(o,s,u);d!==null&&(Ta(d,o,u),Xn(d,o,u)),o={cache:Ku()},s.payload=o;return}o=o.return}}function JR(s,o,u){var d=qa();u={lane:d,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Ug(s)?Pw(o,u):(u=of(s,o,u,d),u!==null&&(Ta(u,s,d),Lw(u,o,d)))}function Rw(s,o,u){var d=qa();yp(s,o,u,d)}function yp(s,o,u,d){var y={lane:d,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null};if(Ug(s))Pw(o,y);else{var w=s.alternate;if(s.lanes===0&&(w===null||w.lanes===0)&&(w=o.lastRenderedReducer,w!==null))try{var C=o.lastRenderedState,W=w(C,u);if(y.hasEagerState=!0,y.eagerState=W,ji(W,C))return nh(s,o,y,0),Er===null&&th(),!1}catch{}finally{}if(u=of(s,o,y,d),u!==null)return Ta(u,s,d),Lw(u,o,d),!0}return!1}function H0(s,o,u,d){if(d={lane:2,revertLane:Ev(),gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null},Ug(s)){if(o)throw Error(r(479))}else o=of(s,u,d,2),o!==null&&Ta(o,s,2)}function Ug(s){var o=s.alternate;return s===Bt||o!==null&&o===Bt}function Pw(s,o){ba=Ls=!0;var u=s.pending;u===null?o.next=o:(o.next=u.next,u.next=o),s.pending=o}function Lw(s,o,u){if((u&4194048)!==0){var d=o.lanes;d&=s.pendingLanes,u|=d,o.lanes=u,Qn(s,u)}}var vp={readContext:zi,use:Yu,useCallback:gr,useContext:gr,useEffect:gr,useImperativeHandle:gr,useLayoutEffect:gr,useInsertionEffect:gr,useMemo:gr,useReducer:gr,useRef:gr,useState:gr,useDebugValue:gr,useDeferredValue:gr,useTransition:gr,useSyncExternalStore:gr,useId:gr,useHostTransitionStatus:gr,useFormState:gr,useActionState:gr,useOptimistic:gr,useMemoCache:gr,useCacheRefresh:gr};vp.useEffectEvent=gr;var kw={readContext:zi,use:Yu,useCallback:function(s,o){return Ii().memoizedState=[s,o===void 0?null:o],s},useContext:zi,useEffect:gw,useImperativeHandle:function(s,o,u){u=u!=null?u.concat([s]):null,Xu(4194308,4,bw.bind(null,o,s),u)},useLayoutEffect:function(s,o){return Xu(4194308,4,s,o)},useInsertionEffect:function(s,o){Xu(4,2,s,o)},useMemo:function(s,o){var u=Ii();o=o===void 0?null:o;var d=s();if(_s){zt(!0);try{s()}finally{zt(!1)}}return u.memoizedState=[d,o],d},useReducer:function(s,o,u){var d=Ii();if(u!==void 0){var y=u(o);if(_s){zt(!0);try{u(o)}finally{zt(!1)}}}else y=o;return d.memoizedState=d.baseState=y,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:y},d.queue=s,s=s.dispatch=JR.bind(null,Bt,s),[d.memoizedState,s]},useRef:function(s){var o=Ii();return s={current:s},o.memoizedState=s},useState:function(s){s=bl(s);var o=s.queue,u=Rw.bind(null,Bt,o);return o.dispatch=u,[s.memoizedState,u]},useDebugValue:U0,useDeferredValue:function(s,o){var u=Ii();return B0(u,s,o)},useTransition:function(){var s=bl(!1);return s=Tw.bind(null,Bt,s.queue,!0,!1),Ii().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,o,u){var d=Bt,y=Ii();if(An){if(u===void 0)throw Error(r(407));u=u()}else{if(u=o(),Er===null)throw Error(r(349));(Cn&127)!==0||Fo(d,o,u)}y.memoizedState=u;var w={value:u,getSnapshot:o};return y.queue=w,gw(pp.bind(null,d,w,s),[s]),d.flags|=2048,su(9,{destroy:void 0},dp.bind(null,d,w,u,o),null),u},useId:function(){var s=Ii(),o=Er.identifierPrefix;if(An){var u=va,d=ya;u=(d&~(1<<32-Zt(d)-1)).toString(32)+u,o="_"+o+"R_"+u,u=ai++,0<u&&(o+="H"+u.toString(32)),o+="_"}else u=vf++,o="_"+o+"r_"+u.toString(32)+"_";return s.memoizedState=o},useHostTransitionStatus:q0,useFormState:po,useActionState:po,useOptimistic:function(s){var o=Ii();o.memoizedState=o.baseState=s;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=u,o=H0.bind(null,Bt,!0,u),u.dispatch=o,[s,o]},useMemoCache:ru,useCacheRefresh:function(){return Ii().memoizedState=XR.bind(null,Bt)},useEffectEvent:function(s){var o=Ii(),u={impl:s};return o.memoizedState=u,function(){if((Zn&2)!==0)throw Error(r(440));return u.impl.apply(void 0,arguments)}}},G0={readContext:zi,use:Yu,useCallback:Ew,useContext:zi,useEffect:F0,useImperativeHandle:ww,useInsertionEffect:vw,useLayoutEffect:_w,useMemo:Aw,useReducer:wf,useRef:Fg,useState:function(){return wf(fo)},useDebugValue:U0,useDeferredValue:function(s,o){var u=jr();return Sw(u,Ht.memoizedState,s,o)},useTransition:function(){var s=wf(fo)[0],o=jr().memoizedState;return[typeof s=="boolean"?s:_l(s),o]},useSyncExternalStore:Af,useId:Nw,useHostTransitionStatus:q0,useFormState:Uo,useActionState:Uo,useOptimistic:function(s,o){var u=jr();return Og(u,Ht,s,o)},useMemoCache:ru,useCacheRefresh:Cw};G0.useEffectEvent=yw;var Dw={readContext:zi,use:Yu,useCallback:Ew,useContext:zi,useEffect:F0,useImperativeHandle:ww,useInsertionEffect:vw,useLayoutEffect:_w,useMemo:Aw,useReducer:Ef,useRef:Fg,useState:function(){return Ef(fo)},useDebugValue:U0,useDeferredValue:function(s,o){var u=jr();return Ht===null?B0(u,s,o):Sw(u,Ht.memoizedState,s,o)},useTransition:function(){var s=Ef(fo)[0],o=jr().memoizedState;return[typeof s=="boolean"?s:_l(s),o]},useSyncExternalStore:Af,useId:Nw,useHostTransitionStatus:q0,useFormState:xf,useActionState:xf,useOptimistic:function(s,o){var u=jr();return Ht!==null?Og(u,Ht,s,o):(u.baseState=s,[s,u.queue.dispatch])},useMemoCache:ru,useCacheRefresh:Cw};Dw.useEffectEvent=yw;function $0(s,o,u,d){o=s.memoizedState,u=u(d,o),u=u==null?o:v({},o,u),s.memoizedState=u,s.lanes===0&&(s.updateQueue.baseState=u)}var W0={enqueueSetState:function(s,o,u){s=s._reactInternals;var d=qa(),y=$t(d);y.payload=o,u!=null&&(y.callback=u),o=dn(s,y,d),o!==null&&(Ta(o,s,d),Xn(o,s,d))},enqueueReplaceState:function(s,o,u){s=s._reactInternals;var d=qa(),y=$t(d);y.tag=1,y.payload=o,u!=null&&(y.callback=u),o=dn(s,y,d),o!==null&&(Ta(o,s,d),Xn(o,s,d))},enqueueForceUpdate:function(s,o){s=s._reactInternals;var u=qa(),d=$t(u);d.tag=2,o!=null&&(d.callback=o),o=dn(s,d,u),o!==null&&(Ta(o,s,u),Xn(o,s,u))}};function Ow(s,o,u,d,y,w,C){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(d,w,C):o.prototype&&o.prototype.isPureReactComponent?!Lo(u,d)||!Lo(y,w):!0}function Mw(s,o,u,d){s=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,d),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,d),o.state!==s&&W0.enqueueReplaceState(o,o.state,null)}function hh(s,o){var u=o;if("ref"in o){u={};for(var d in o)d!=="ref"&&(u[d]=o[d])}if(s=s.defaultProps){u===o&&(u=v({},u));for(var y in s)u[y]===void 0&&(u[y]=s[y])}return u}function Vw(s){eh(s)}function jw(s){console.error(s)}function Fw(s){eh(s)}function Bg(s,o){try{var u=s.onUncaughtError;u(o.value,{componentStack:o.stack})}catch(d){setTimeout(function(){throw d})}}function Uw(s,o,u){try{var d=s.onCaughtError;d(u.value,{componentStack:u.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function K0(s,o,u){return u=$t(u),u.tag=3,u.payload={element:null},u.callback=function(){Bg(s,o)},u}function Bw(s){return s=$t(s),s.tag=3,s}function zw(s,o,u,d){var y=u.type.getDerivedStateFromError;if(typeof y=="function"){var w=d.value;s.payload=function(){return y(w)},s.callback=function(){Uw(o,u,d)}}var C=u.stateNode;C!==null&&typeof C.componentDidCatch=="function"&&(s.callback=function(){Uw(o,u,d),typeof y!="function"&&(nc===null?nc=new Set([this]):nc.add(this));var W=d.stack;this.componentDidCatch(d.value,{componentStack:W!==null?W:""})})}function ZR(s,o,u,d,y){if(u.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){if(o=u.alternate,o!==null&&ml(o,u,y,!0),u=Rr.current,u!==null){switch(u.tag){case 31:case 13:return Vn===null?Zg():u.alternate===null&&oi===0&&(oi=3),u.flags&=-257,u.flags|=65536,u.lanes=y,d===Ee?u.flags|=16384:(o=u.updateQueue,o===null?u.updateQueue=new Set([d]):o.add(d),_v(s,d,y)),!1;case 22:return u.flags|=65536,d===Ee?u.flags|=16384:(o=u.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([d])},u.updateQueue=o):(u=o.retryQueue,u===null?o.retryQueue=new Set([d]):u.add(d)),_v(s,d,y)),!1}throw Error(r(435,u.tag))}return _v(s,d,y),Zg(),!1}if(An)return o=Rr.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=y,d!==Ua&&(s=Error(r(422),{cause:d}),$u(pa(s,u)))):(d!==Ua&&(o=Error(r(423),{cause:d}),$u(pa(o,u))),s=s.current.alternate,s.flags|=65536,y&=-y,s.lanes|=y,d=pa(d,u),y=K0(s.stateNode,d,y),mi(s,y),oi!==4&&(oi=2)),!1;var w=Error(r(520),{cause:d});if(w=pa(w,u),xp===null?xp=[w]:xp.push(w),oi!==4&&(oi=2),o===null)return!0;d=pa(d,u),u=o;do{switch(u.tag){case 3:return u.flags|=65536,s=y&-y,u.lanes|=s,s=K0(u.stateNode,d,s),mi(u,s),!1;case 1:if(o=u.type,w=u.stateNode,(u.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(nc===null||!nc.has(w))))return u.flags|=65536,y&=-y,u.lanes|=y,y=Bw(y),zw(y,s,u,d),mi(u,y),!1}u=u.return}while(u!==null);return!1}var Y0=Error(r(461)),Ni=!1;function bs(s,o,u,d){o.child=s===null?un(o,null,u,d):wr(o,s.child,u,d)}function qw(s,o,u,d,y){u=u.render;var w=o.ref;if("ref"in d){var C={};for(var W in d)W!=="ref"&&(C[W]=d[W])}else C=d;return gl(o),d=cp(s,o,u,C,w,y),W=hp(),s!==null&&!Ni?(fp(s,o,y),au(s,o,y)):(An&&W&&ap(o),o.flags|=1,bs(s,o,d,y),o.child)}function Hw(s,o,u,d,y){if(s===null){var w=u.type;return typeof w=="function"&&!uf(w)&&w.defaultProps===void 0&&u.compare===null?(o.tag=15,o.type=w,Gw(s,o,w,d,y)):(s=qu(u.type,null,d,o,o.mode,y),s.ref=o.ref,s.return=o,o.child=s)}if(w=s.child,!rv(s,y)){var C=w.memoizedProps;if(u=u.compare,u=u!==null?u:Lo,u(C,d)&&s.ref===o.ref)return au(s,o,y)}return o.flags|=1,s=da(w,d),s.ref=o.ref,s.return=o,o.child=s}function Gw(s,o,u,d,y){if(s!==null){var w=s.memoizedProps;if(Lo(w,d)&&s.ref===o.ref)if(Ni=!1,o.pendingProps=d=w,rv(s,y))(s.flags&131072)!==0&&(Ni=!0);else return o.lanes=s.lanes,au(s,o,y)}return Q0(s,o,u,d,y)}function $w(s,o,u,d){var y=d.children,w=s!==null?s.memoizedState:null;if(s===null&&o.stateNode===null&&(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),d.mode==="hidden"){if((o.flags&128)!==0){if(w=w!==null?w.baseLanes|u:u,s!==null){for(d=o.child=s.child,y=0;d!==null;)y=y|d.lanes|d.childLanes,d=d.sibling;d=y&~w}else d=0,o.child=null;return Ww(s,o,w,u,d)}if((u&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},s!==null&&Z(o,w!==null?w.cachePool:null),w!==null?Cr(o,w):qn(),ii(o);else return d=o.lanes=536870912,Ww(s,o,w!==null?w.baseLanes|u:u,u,d)}else w!==null?(Z(o,w.cachePool),Cr(o,w),si(),o.memoizedState=null):(s!==null&&Z(o,null),qn(),si());return bs(s,o,y,u),o.child}function _p(s,o){return s!==null&&s.tag===22||o.stateNode!==null||(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.sibling}function Ww(s,o,u,d,y){var w=Q();return w=w===null?null:{parent:Yr._currentValue,pool:w},o.memoizedState={baseLanes:u,cachePool:w},s!==null&&Z(o,null),qn(),ii(o),s!==null&&ml(s,o,d,!0),o.childLanes=y,null}function zg(s,o){return o=Hg({mode:o.mode,children:o.children},s.mode),o.ref=s.ref,s.child=o,o.return=s,o}function Kw(s,o,u){return wr(o,s.child,null,u),s=zg(o,o.pendingProps),s.flags|=2,ar(o),o.memoizedState=null,s}function eP(s,o,u){var d=o.pendingProps,y=(o.flags&128)!==0;if(o.flags&=-129,s===null){if(An){if(d.mode==="hidden")return s=zg(o,d),o.lanes=536870912,_p(null,s);if(Jn(o),(s=br)?(s=aA(s,Mr),s=s!==null&&s.data==="&"?s:null,s!==null&&(o.memoizedState={dehydrated:s,treeContext:hl!==null?{id:ya,overflow:va}:null,retryLane:536870912,hydrationErrors:null},u=cf(s),u.return=o,o.child=u,Ui=o,br=null)):s=null,s===null)throw fl(o);return o.lanes=536870912,null}return zg(o,d)}var w=s.memoizedState;if(w!==null){var C=w.dehydrated;if(Jn(o),y)if(o.flags&256)o.flags&=-257,o=Kw(s,o,u);else if(o.memoizedState!==null)o.child=s.child,o.flags|=128,o=null;else throw Error(r(558));else if(Ni||ml(s,o,u,!1),y=(u&s.childLanes)!==0,Ni||y){if(d=Er,d!==null&&(C=xr(d,u),C!==0&&C!==w.retryLane))throw w.retryLane=C,Mo(s,C),Ta(d,s,C),Y0;Zg(),o=Kw(s,o,u)}else s=w.treeContext,br=mo(C.nextSibling),Ui=o,An=!0,vs=null,Mr=!1,s!==null&&Lg(o,s),o=zg(o,d),o.flags|=4096;return o}return s=da(s.child,{mode:d.mode,children:d.children}),s.ref=o.ref,o.child=s,s.return=o,s}function qg(s,o){var u=o.ref;if(u===null)s!==null&&s.ref!==null&&(o.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(r(284));(s===null||s.ref!==u)&&(o.flags|=4194816)}}function Q0(s,o,u,d,y){return gl(o),u=cp(s,o,u,d,void 0,y),d=hp(),s!==null&&!Ni?(fp(s,o,y),au(s,o,y)):(An&&d&&ap(o),o.flags|=1,bs(s,o,u,y),o.child)}function Yw(s,o,u,d,y,w){return gl(o),o.updateQueue=null,u=jo(o,d,u,y),_f(s),d=hp(),s!==null&&!Ni?(fp(s,o,w),au(s,o,w)):(An&&d&&ap(o),o.flags|=1,bs(s,o,u,w),o.child)}function Qw(s,o,u,d,y){if(gl(o),o.stateNode===null){var w=Fi,C=u.contextType;typeof C=="object"&&C!==null&&(w=zi(C)),w=new u(d,w),o.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,w.updater=W0,o.stateNode=w,w._reactInternals=o,w=o.stateNode,w.props=d,w.state=o.memoizedState,w.refs={},lt(o),C=u.contextType,w.context=typeof C=="object"&&C!==null?zi(C):Fi,w.state=o.memoizedState,C=u.getDerivedStateFromProps,typeof C=="function"&&($0(o,u,C,d),w.state=o.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(C=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),C!==w.state&&W0.enqueueReplaceState(w,w.state,null),ni(o,d,w,y),mr(),w.state=o.memoizedState),typeof w.componentDidMount=="function"&&(o.flags|=4194308),d=!0}else if(s===null){w=o.stateNode;var W=o.memoizedProps,de=hh(u,W);w.props=de;var De=w.context,We=u.contextType;C=Fi,typeof We=="object"&&We!==null&&(C=zi(We));var Xe=u.getDerivedStateFromProps;We=typeof Xe=="function"||typeof w.getSnapshotBeforeUpdate=="function",W=o.pendingProps!==W,We||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(W||De!==C)&&Mw(o,w,d,C),vt=!1;var Ve=o.memoizedState;w.state=Ve,ni(o,d,w,y),mr(),De=o.memoizedState,W||Ve!==De||vt?(typeof Xe=="function"&&($0(o,u,Xe,d),De=o.memoizedState),(de=vt||Ow(o,u,de,d,Ve,De,C))?(We||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(o.flags|=4194308)):(typeof w.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=d,o.memoizedState=De),w.props=d,w.state=De,w.context=C,d=de):(typeof w.componentDidMount=="function"&&(o.flags|=4194308),d=!1)}else{w=o.stateNode,Nr(s,o),C=o.memoizedProps,We=hh(u,C),w.props=We,Xe=o.pendingProps,Ve=w.context,De=u.contextType,de=Fi,typeof De=="object"&&De!==null&&(de=zi(De)),W=u.getDerivedStateFromProps,(De=typeof W=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(C!==Xe||Ve!==de)&&Mw(o,w,d,de),vt=!1,Ve=o.memoizedState,w.state=Ve,ni(o,d,w,y),mr();var Fe=o.memoizedState;C!==Xe||Ve!==Fe||vt||s!==null&&s.dependencies!==null&&mf(s.dependencies)?(typeof W=="function"&&($0(o,u,W,d),Fe=o.memoizedState),(We=vt||Ow(o,u,We,d,Ve,Fe,de)||s!==null&&s.dependencies!==null&&mf(s.dependencies))?(De||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(d,Fe,de),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(d,Fe,de)),typeof w.componentDidUpdate=="function"&&(o.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof w.componentDidUpdate!="function"||C===s.memoizedProps&&Ve===s.memoizedState||(o.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||C===s.memoizedProps&&Ve===s.memoizedState||(o.flags|=1024),o.memoizedProps=d,o.memoizedState=Fe),w.props=d,w.state=Fe,w.context=de,d=We):(typeof w.componentDidUpdate!="function"||C===s.memoizedProps&&Ve===s.memoizedState||(o.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||C===s.memoizedProps&&Ve===s.memoizedState||(o.flags|=1024),d=!1)}return w=d,qg(s,o),d=(o.flags&128)!==0,w||d?(w=o.stateNode,u=d&&typeof u.getDerivedStateFromError!="function"?null:w.render(),o.flags|=1,s!==null&&d?(o.child=wr(o,s.child,null,y),o.child=wr(o,null,u,y)):bs(s,o,u,y),o.memoizedState=w.state,s=o.child):s=au(s,o,y),s}function Xw(s,o,u,d){return tu(),o.flags|=256,bs(s,o,u,d),o.child}var X0={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function J0(s){return{baseLanes:s,cachePool:oe()}}function Z0(s,o,u){return s=s!==null?s.childLanes&~u:0,o&&(s|=za),s}function Jw(s,o,u){var d=o.pendingProps,y=!1,w=(o.flags&128)!==0,C;if((C=w)||(C=s!==null&&s.memoizedState===null?!1:(Dn.current&2)!==0),C&&(y=!0,o.flags&=-129),C=(o.flags&32)!==0,o.flags&=-33,s===null){if(An){if(y?Qr(o):si(),(s=br)?(s=aA(s,Mr),s=s!==null&&s.data!=="&"?s:null,s!==null&&(o.memoizedState={dehydrated:s,treeContext:hl!==null?{id:ya,overflow:va}:null,retryLane:536870912,hydrationErrors:null},u=cf(s),u.return=o,o.child=u,Ui=o,br=null)):s=null,s===null)throw fl(o);return Ov(s)?o.lanes=32:o.lanes=536870912,null}var W=d.children;return d=d.fallback,y?(si(),y=o.mode,W=Hg({mode:"hidden",children:W},y),d=cl(d,y,u,null),W.return=o,d.return=o,W.sibling=d,o.child=W,d=o.child,d.memoizedState=J0(u),d.childLanes=Z0(s,C,u),o.memoizedState=X0,_p(null,d)):(Qr(o),ev(o,W))}var de=s.memoizedState;if(de!==null&&(W=de.dehydrated,W!==null)){if(w)o.flags&256?(Qr(o),o.flags&=-257,o=tv(s,o,u)):o.memoizedState!==null?(si(),o.child=s.child,o.flags|=128,o=null):(si(),W=d.fallback,y=o.mode,d=Hg({mode:"visible",children:d.children},y),W=cl(W,y,u,null),W.flags|=2,d.return=o,W.return=o,d.sibling=W,o.child=d,wr(o,s.child,null,u),d=o.child,d.memoizedState=J0(u),d.childLanes=Z0(s,C,u),o.memoizedState=X0,o=_p(null,d));else if(Qr(o),Ov(W)){if(C=W.nextSibling&&W.nextSibling.dataset,C)var De=C.dgst;C=De,d=Error(r(419)),d.stack="",d.digest=C,$u({value:d,source:null,stack:null}),o=tv(s,o,u)}else if(Ni||ml(s,o,u,!1),C=(u&s.childLanes)!==0,Ni||C){if(C=Er,C!==null&&(d=xr(C,u),d!==0&&d!==de.retryLane))throw de.retryLane=d,Mo(s,d),Ta(C,s,d),Y0;Dv(W)||Zg(),o=tv(s,o,u)}else Dv(W)?(o.flags|=192,o.child=s.child,o=null):(s=de.treeContext,br=mo(W.nextSibling),Ui=o,An=!0,vs=null,Mr=!1,s!==null&&Lg(o,s),o=ev(o,d.children),o.flags|=4096);return o}return y?(si(),W=d.fallback,y=o.mode,de=s.child,De=de.sibling,d=da(de,{mode:"hidden",children:d.children}),d.subtreeFlags=de.subtreeFlags&65011712,De!==null?W=da(De,W):(W=cl(W,y,u,null),W.flags|=2),W.return=o,d.return=o,d.sibling=W,o.child=d,_p(null,d),d=o.child,W=s.child.memoizedState,W===null?W=J0(u):(y=W.cachePool,y!==null?(de=Yr._currentValue,y=y.parent!==de?{parent:de,pool:de}:y):y=oe(),W={baseLanes:W.baseLanes|u,cachePool:y}),d.memoizedState=W,d.childLanes=Z0(s,C,u),o.memoizedState=X0,_p(s.child,d)):(Qr(o),u=s.child,s=u.sibling,u=da(u,{mode:"visible",children:d.children}),u.return=o,u.sibling=null,s!==null&&(C=o.deletions,C===null?(o.deletions=[s],o.flags|=16):C.push(s)),o.child=u,o.memoizedState=null,u)}function ev(s,o){return o=Hg({mode:"visible",children:o},s.mode),o.return=s,s.child=o}function Hg(s,o){return s=ts(22,s,null,o),s.lanes=0,s}function tv(s,o,u){return wr(o,s.child,null,u),s=ev(o,o.pendingProps.children),s.flags|=2,o.memoizedState=null,s}function Zw(s,o,u){s.lanes|=o;var d=s.alternate;d!==null&&(d.lanes|=o),Wu(s.return,o,u)}function nv(s,o,u,d,y,w){var C=s.memoizedState;C===null?s.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:d,tail:u,tailMode:y,treeForkCount:w}:(C.isBackwards=o,C.rendering=null,C.renderingStartTime=0,C.last=d,C.tail=u,C.tailMode=y,C.treeForkCount=w)}function eE(s,o,u){var d=o.pendingProps,y=d.revealOrder,w=d.tail;d=d.children;var C=Dn.current,W=(C&2)!==0;if(W?(C=C&1|2,o.flags|=128):C&=1,Y(Dn,C),bs(s,o,d,u),d=An?ah:0,!W&&s!==null&&(s.flags&128)!==0)e:for(s=o.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Zw(s,u,o);else if(s.tag===19)Zw(s,u,o);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break e;for(;s.sibling===null;){if(s.return===null||s.return===o)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(y){case"forwards":for(u=o.child,y=null;u!==null;)s=u.alternate,s!==null&&rs(s)===null&&(y=u),u=u.sibling;u=y,u===null?(y=o.child,o.child=null):(y=u.sibling,u.sibling=null),nv(o,!1,y,u,w,d);break;case"backwards":case"unstable_legacy-backwards":for(u=null,y=o.child,o.child=null;y!==null;){if(s=y.alternate,s!==null&&rs(s)===null){o.child=y;break}s=y.sibling,y.sibling=u,u=y,y=s}nv(o,!0,u,null,w,d);break;case"together":nv(o,!1,null,null,void 0,d);break;default:o.memoizedState=null}return o.child}function au(s,o,u){if(s!==null&&(o.dependencies=s.dependencies),tc|=o.lanes,(u&o.childLanes)===0)if(s!==null){if(ml(s,o,u,!1),(u&o.childLanes)===0)return null}else return null;if(s!==null&&o.child!==s.child)throw Error(r(153));if(o.child!==null){for(s=o.child,u=da(s,s.pendingProps),o.child=u,u.return=o;s.sibling!==null;)s=s.sibling,u=u.sibling=da(s,s.pendingProps),u.return=o;u.sibling=null}return o.child}function rv(s,o){return(s.lanes&o)!==0?!0:(s=s.dependencies,!!(s!==null&&mf(s)))}function tP(s,o,u){switch(o.tag){case 3:Oe(o,o.stateNode.containerInfo),pl(o,Yr,s.memoizedState.cache),tu();break;case 27:case 5:ze(o);break;case 4:Oe(o,o.stateNode.containerInfo);break;case 10:pl(o,o.type,o.memoizedProps.value);break;case 31:if(o.memoizedState!==null)return o.flags|=128,Jn(o),null;break;case 13:var d=o.memoizedState;if(d!==null)return d.dehydrated!==null?(Qr(o),o.flags|=128,null):(u&o.child.childLanes)!==0?Jw(s,o,u):(Qr(o),s=au(s,o,u),s!==null?s.sibling:null);Qr(o);break;case 19:var y=(s.flags&128)!==0;if(d=(u&o.childLanes)!==0,d||(ml(s,o,u,!1),d=(u&o.childLanes)!==0),y){if(d)return eE(s,o,u);o.flags|=128}if(y=o.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),Y(Dn,Dn.current),d)break;return null;case 22:return o.lanes=0,$w(s,o,u,o.pendingProps);case 24:pl(o,Yr,s.memoizedState.cache)}return au(s,o,u)}function tE(s,o,u){if(s!==null)if(s.memoizedProps!==o.pendingProps)Ni=!0;else{if(!rv(s,u)&&(o.flags&128)===0)return Ni=!1,tP(s,o,u);Ni=(s.flags&131072)!==0}else Ni=!1,An&&(o.flags&1048576)!==0&&Pg(o,ah,o.index);switch(o.lanes=0,o.tag){case 16:e:{var d=o.pendingProps;if(s=Ce(o.elementType),o.type=s,typeof s=="function")uf(s)?(d=hh(s,d),o.tag=1,o=Qw(null,o,s,d,u)):(o.tag=0,o=Q0(null,o,s,d,u));else{if(s!=null){var y=s.$$typeof;if(y===ee){o.tag=11,o=qw(null,o,s,d,u);break e}else if(y===z){o.tag=14,o=Hw(null,o,s,d,u);break e}}throw o=te(s)||s,Error(r(306,o,""))}}return o;case 0:return Q0(s,o,o.type,o.pendingProps,u);case 1:return d=o.type,y=hh(d,o.pendingProps),Qw(s,o,d,y,u);case 3:e:{if(Oe(o,o.stateNode.containerInfo),s===null)throw Error(r(387));d=o.pendingProps;var w=o.memoizedState;y=w.element,Nr(s,o),ni(o,d,null,u);var C=o.memoizedState;if(d=C.cache,pl(o,Yr,d),d!==w.cache&&nu(o,[Yr],u,!0),mr(),d=C.element,w.isDehydrated)if(w={element:d,isDehydrated:!1,cache:C.cache},o.updateQueue.baseState=w,o.memoizedState=w,o.flags&256){o=Xw(s,o,d,u);break e}else if(d!==y){y=pa(Error(r(424)),o),$u(y),o=Xw(s,o,d,u);break e}else{switch(s=o.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(br=mo(s.firstChild),Ui=o,An=!0,vs=null,Mr=!0,u=un(o,null,d,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(tu(),d===y){o=au(s,o,u);break e}bs(s,o,d,u)}o=o.child}return o;case 26:return qg(s,o),s===null?(u=fA(o.type,null,o.pendingProps,null))?o.memoizedState=u:An||(u=o.type,s=o.pendingProps,d=a1(he.current).createElement(u),d[Hn]=o,d[ir]=s,ws(d,u,s),Ir(d),o.stateNode=d):o.memoizedState=fA(o.type,s.memoizedProps,o.pendingProps,s.memoizedState),null;case 27:return ze(o),s===null&&An&&(d=o.stateNode=uA(o.type,o.pendingProps,he.current),Ui=o,Mr=!0,y=br,ac(o.type)?(Mv=y,br=mo(d.firstChild)):br=y),bs(s,o,o.pendingProps.children,u),qg(s,o),s===null&&(o.flags|=4194304),o.child;case 5:return s===null&&An&&((y=d=br)&&(d=PP(d,o.type,o.pendingProps,Mr),d!==null?(o.stateNode=d,Ui=o,br=mo(d.firstChild),Mr=!1,y=!0):y=!1),y||fl(o)),ze(o),y=o.type,w=o.pendingProps,C=s!==null?s.memoizedProps:null,d=w.children,Pv(y,w)?d=null:C!==null&&Pv(y,C)&&(o.flags|=32),o.memoizedState!==null&&(y=cp(s,o,j0,null,null,u),Dp._currentValue=y),qg(s,o),bs(s,o,d,u),o.child;case 6:return s===null&&An&&((s=u=br)&&(u=LP(u,o.pendingProps,Mr),u!==null?(o.stateNode=u,Ui=o,br=null,s=!0):s=!1),s||fl(o)),null;case 13:return Jw(s,o,u);case 4:return Oe(o,o.stateNode.containerInfo),d=o.pendingProps,s===null?o.child=wr(o,null,d,u):bs(s,o,d,u),o.child;case 11:return qw(s,o,o.type,o.pendingProps,u);case 7:return bs(s,o,o.pendingProps,u),o.child;case 8:return bs(s,o,o.pendingProps.children,u),o.child;case 12:return bs(s,o,o.pendingProps.children,u),o.child;case 10:return d=o.pendingProps,pl(o,o.type,d.value),bs(s,o,d.children,u),o.child;case 9:return y=o.type._context,d=o.pendingProps.children,gl(o),y=zi(y),d=d(y),o.flags|=1,bs(s,o,d,u),o.child;case 14:return Hw(s,o,o.type,o.pendingProps,u);case 15:return Gw(s,o,o.type,o.pendingProps,u);case 19:return eE(s,o,u);case 31:return eP(s,o,u);case 22:return $w(s,o,u,o.pendingProps);case 24:return gl(o),d=zi(Yr),s===null?(y=Q(),y===null&&(y=Er,w=Ku(),y.pooledCache=w,w.refCount++,w!==null&&(y.pooledCacheLanes|=u),y=w),o.memoizedState={parent:d,cache:y},lt(o),pl(o,Yr,y)):((s.lanes&u)!==0&&(Nr(s,o),ni(o,null,null,u),mr()),y=s.memoizedState,w=o.memoizedState,y.parent!==d?(y={parent:d,cache:d},o.memoizedState=y,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=y),pl(o,Yr,d)):(d=w.cache,pl(o,Yr,d),d!==y.cache&&nu(o,[Yr],u,!0))),bs(s,o,o.pendingProps.children,u),o.child;case 29:throw o.pendingProps}throw Error(r(156,o.tag))}function ou(s){s.flags|=4}function iv(s,o,u,d,y){if((o=(s.mode&32)!==0)&&(o=!1),o){if(s.flags|=16777216,(y&335544128)===y)if(s.stateNode.complete)s.flags|=8192;else if(NE())s.flags|=8192;else throw He=Ee,Le}else s.flags&=-16777217}function nE(s,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!yA(o))if(NE())s.flags|=8192;else throw He=Ee,Le}function Gg(s,o){o!==null&&(s.flags|=4),s.flags&16384&&(o=s.tag!==22?Un():536870912,s.lanes|=o,Rf|=o)}function bp(s,o){if(!An)switch(s.tailMode){case"hidden":o=s.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?s.tail=null:u.sibling=null;break;case"collapsed":u=s.tail;for(var d=null;u!==null;)u.alternate!==null&&(d=u),u=u.sibling;d===null?o||s.tail===null?s.tail=null:s.tail.sibling=null:d.sibling=null}}function Pr(s){var o=s.alternate!==null&&s.alternate.child===s.child,u=0,d=0;if(o)for(var y=s.child;y!==null;)u|=y.lanes|y.childLanes,d|=y.subtreeFlags&65011712,d|=y.flags&65011712,y.return=s,y=y.sibling;else for(y=s.child;y!==null;)u|=y.lanes|y.childLanes,d|=y.subtreeFlags,d|=y.flags,y.return=s,y=y.sibling;return s.subtreeFlags|=d,s.childLanes=u,o}function nP(s,o,u){var d=o.pendingProps;switch(df(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pr(o),null;case 1:return Pr(o),null;case 3:return u=o.stateNode,d=null,s!==null&&(d=s.memoizedState.cache),o.memoizedState.cache!==d&&(o.flags|=2048),_a(Yr),Pe(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(s===null||s.child===null)&&(Bi(o)?ou(o):s===null||s.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,lp())),Pr(o),null;case 26:var y=o.type,w=o.memoizedState;return s===null?(ou(o),w!==null?(Pr(o),nE(o,w)):(Pr(o),iv(o,y,null,d,u))):w?w!==s.memoizedState?(ou(o),Pr(o),nE(o,w)):(Pr(o),o.flags&=-16777217):(s=s.memoizedProps,s!==d&&ou(o),Pr(o),iv(o,y,s,d,u)),null;case 27:if(Ze(o),u=he.current,y=o.type,s!==null&&o.stateNode!=null)s.memoizedProps!==d&&ou(o);else{if(!d){if(o.stateNode===null)throw Error(r(166));return Pr(o),null}s=ne.current,Bi(o)?op(o):(s=uA(y,d,u),o.stateNode=s,ou(o))}return Pr(o),null;case 5:if(Ze(o),y=o.type,s!==null&&o.stateNode!=null)s.memoizedProps!==d&&ou(o);else{if(!d){if(o.stateNode===null)throw Error(r(166));return Pr(o),null}if(w=ne.current,Bi(o))op(o);else{var C=a1(he.current);switch(w){case 1:w=C.createElementNS("http://www.w3.org/2000/svg",y);break;case 2:w=C.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;default:switch(y){case"svg":w=C.createElementNS("http://www.w3.org/2000/svg",y);break;case"math":w=C.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;case"script":w=C.createElement("div"),w.innerHTML="<script><\/script>",w=w.removeChild(w.firstChild);break;case"select":w=typeof d.is=="string"?C.createElement("select",{is:d.is}):C.createElement("select"),d.multiple?w.multiple=!0:d.size&&(w.size=d.size);break;default:w=typeof d.is=="string"?C.createElement(y,{is:d.is}):C.createElement(y)}}w[Hn]=o,w[ir]=d;e:for(C=o.child;C!==null;){if(C.tag===5||C.tag===6)w.appendChild(C.stateNode);else if(C.tag!==4&&C.tag!==27&&C.child!==null){C.child.return=C,C=C.child;continue}if(C===o)break e;for(;C.sibling===null;){if(C.return===null||C.return===o)break e;C=C.return}C.sibling.return=C.return,C=C.sibling}o.stateNode=w;e:switch(ws(w,y,d),y){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}d&&ou(o)}}return Pr(o),iv(o,o.type,s===null?null:s.memoizedProps,o.pendingProps,u),null;case 6:if(s&&o.stateNode!=null)s.memoizedProps!==d&&ou(o);else{if(typeof d!="string"&&o.stateNode===null)throw Error(r(166));if(s=he.current,Bi(o)){if(s=o.stateNode,u=o.memoizedProps,d=null,y=Ui,y!==null)switch(y.tag){case 27:case 5:d=y.memoizedProps}s[Hn]=o,s=!!(s.nodeValue===u||d!==null&&d.suppressHydrationWarning===!0||JE(s.nodeValue,u)),s||fl(o,!0)}else s=a1(s).createTextNode(d),s[Hn]=o,o.stateNode=s}return Pr(o),null;case 31:if(u=o.memoizedState,s===null||s.memoizedState!==null){if(d=Bi(o),u!==null){if(s===null){if(!d)throw Error(r(318));if(s=o.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(557));s[Hn]=o}else tu(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Pr(o),s=!1}else u=lp(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=u),s=!0;if(!s)return o.flags&256?(ar(o),o):(ar(o),null);if((o.flags&128)!==0)throw Error(r(558))}return Pr(o),null;case 13:if(d=o.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(y=Bi(o),d!==null&&d.dehydrated!==null){if(s===null){if(!y)throw Error(r(318));if(y=o.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(r(317));y[Hn]=o}else tu(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Pr(o),y=!1}else y=lp(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=y),y=!0;if(!y)return o.flags&256?(ar(o),o):(ar(o),null)}return ar(o),(o.flags&128)!==0?(o.lanes=u,o):(u=d!==null,s=s!==null&&s.memoizedState!==null,u&&(d=o.child,y=null,d.alternate!==null&&d.alternate.memoizedState!==null&&d.alternate.memoizedState.cachePool!==null&&(y=d.alternate.memoizedState.cachePool.pool),w=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(w=d.memoizedState.cachePool.pool),w!==y&&(d.flags|=2048)),u!==s&&u&&(o.child.flags|=8192),Gg(o,o.updateQueue),Pr(o),null);case 4:return Pe(),s===null&&xv(o.stateNode.containerInfo),Pr(o),null;case 10:return _a(o.type),Pr(o),null;case 19:if(O(Dn),d=o.memoizedState,d===null)return Pr(o),null;if(y=(o.flags&128)!==0,w=d.rendering,w===null)if(y)bp(d,!1);else{if(oi!==0||s!==null&&(s.flags&128)!==0)for(s=o.child;s!==null;){if(w=rs(s),w!==null){for(o.flags|=128,bp(d,!1),s=w.updateQueue,o.updateQueue=s,Gg(o,s),o.subtreeFlags=0,s=u,u=o.child;u!==null;)ih(u,s),u=u.sibling;return Y(Dn,Dn.current&1|2),An&&Zs(o,d.treeForkCount),o.child}s=s.sibling}d.tail!==null&&Jt()>Qg&&(o.flags|=128,y=!0,bp(d,!1),o.lanes=4194304)}else{if(!y)if(s=rs(w),s!==null){if(o.flags|=128,y=!0,s=s.updateQueue,o.updateQueue=s,Gg(o,s),bp(d,!0),d.tail===null&&d.tailMode==="hidden"&&!w.alternate&&!An)return Pr(o),null}else 2*Jt()-d.renderingStartTime>Qg&&u!==536870912&&(o.flags|=128,y=!0,bp(d,!1),o.lanes=4194304);d.isBackwards?(w.sibling=o.child,o.child=w):(s=d.last,s!==null?s.sibling=w:o.child=w,d.last=w)}return d.tail!==null?(s=d.tail,d.rendering=s,d.tail=s.sibling,d.renderingStartTime=Jt(),s.sibling=null,u=Dn.current,Y(Dn,y?u&1|2:u&1),An&&Zs(o,d.treeForkCount),s):(Pr(o),null);case 22:case 23:return ar(o),gi(),d=o.memoizedState!==null,s!==null?s.memoizedState!==null!==d&&(o.flags|=8192):d&&(o.flags|=8192),d?(u&536870912)!==0&&(o.flags&128)===0&&(Pr(o),o.subtreeFlags&6&&(o.flags|=8192)):Pr(o),u=o.updateQueue,u!==null&&Gg(o,u.retryQueue),u=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),d=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),d!==u&&(o.flags|=2048),s!==null&&O(H),null;case 24:return u=null,s!==null&&(u=s.memoizedState.cache),o.memoizedState.cache!==u&&(o.flags|=2048),_a(Yr),Pr(o),null;case 25:return null;case 30:return null}throw Error(r(156,o.tag))}function rP(s,o){switch(df(o),o.tag){case 1:return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 3:return _a(Yr),Pe(),s=o.flags,(s&65536)!==0&&(s&128)===0?(o.flags=s&-65537|128,o):null;case 26:case 27:case 5:return Ze(o),null;case 31:if(o.memoizedState!==null){if(ar(o),o.alternate===null)throw Error(r(340));tu()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 13:if(ar(o),s=o.memoizedState,s!==null&&s.dehydrated!==null){if(o.alternate===null)throw Error(r(340));tu()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 19:return O(Dn),null;case 4:return Pe(),null;case 10:return _a(o.type),null;case 22:case 23:return ar(o),gi(),s!==null&&O(H),s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 24:return _a(Yr),null;case 25:return null;default:return null}}function rE(s,o){switch(df(o),o.tag){case 3:_a(Yr),Pe();break;case 26:case 27:case 5:Ze(o);break;case 4:Pe();break;case 31:o.memoizedState!==null&&ar(o);break;case 13:ar(o);break;case 19:O(Dn);break;case 10:_a(o.type);break;case 22:case 23:ar(o),gi(),s!==null&&O(H);break;case 24:_a(Yr)}}function wp(s,o){try{var u=o.updateQueue,d=u!==null?u.lastEffect:null;if(d!==null){var y=d.next;u=y;do{if((u.tag&s)===s){d=void 0;var w=u.create,C=u.inst;d=w(),C.destroy=d}u=u.next}while(u!==y)}}catch(W){lr(o,o.return,W)}}function Zu(s,o,u){try{var d=o.updateQueue,y=d!==null?d.lastEffect:null;if(y!==null){var w=y.next;d=w;do{if((d.tag&s)===s){var C=d.inst,W=C.destroy;if(W!==void 0){C.destroy=void 0,y=o;var de=u,De=W;try{De()}catch(We){lr(y,de,We)}}}d=d.next}while(d!==w)}}catch(We){lr(o,o.return,We)}}function iE(s){var o=s.updateQueue;if(o!==null){var u=s.stateNode;try{ri(o,u)}catch(d){lr(s,s.return,d)}}}function sE(s,o,u){u.props=hh(s.type,s.memoizedProps),u.state=s.memoizedState;try{u.componentWillUnmount()}catch(d){lr(s,o,d)}}function Ep(s,o){try{var u=s.ref;if(u!==null){switch(s.tag){case 26:case 27:case 5:var d=s.stateNode;break;case 30:d=s.stateNode;break;default:d=s.stateNode}typeof u=="function"?s.refCleanup=u(d):u.current=d}}catch(y){lr(s,o,y)}}function wl(s,o){var u=s.ref,d=s.refCleanup;if(u!==null)if(typeof d=="function")try{d()}catch(y){lr(s,o,y)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(y){lr(s,o,y)}else u.current=null}function aE(s){var o=s.type,u=s.memoizedProps,d=s.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":u.autoFocus&&d.focus();break e;case"img":u.src?d.src=u.src:u.srcSet&&(d.srcset=u.srcSet)}}catch(y){lr(s,s.return,y)}}function sv(s,o,u){try{var d=s.stateNode;TP(d,s.type,u,o),d[ir]=o}catch(y){lr(s,s.return,y)}}function oE(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&ac(s.type)||s.tag===4}function av(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||oE(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&ac(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function ov(s,o,u){var d=s.tag;if(d===5||d===6)s=s.stateNode,o?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(s,o):(o=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,o.appendChild(s),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=$s));else if(d!==4&&(d===27&&ac(s.type)&&(u=s.stateNode,o=null),s=s.child,s!==null))for(ov(s,o,u),s=s.sibling;s!==null;)ov(s,o,u),s=s.sibling}function $g(s,o,u){var d=s.tag;if(d===5||d===6)s=s.stateNode,o?u.insertBefore(s,o):u.appendChild(s);else if(d!==4&&(d===27&&ac(s.type)&&(u=s.stateNode),s=s.child,s!==null))for($g(s,o,u),s=s.sibling;s!==null;)$g(s,o,u),s=s.sibling}function lE(s){var o=s.stateNode,u=s.memoizedProps;try{for(var d=s.type,y=o.attributes;y.length;)o.removeAttributeNode(y[0]);ws(o,d,u),o[Hn]=s,o[ir]=u}catch(w){lr(s,s.return,w)}}var lu=!1,Ci=!1,lv=!1,uE=typeof WeakSet=="function"?WeakSet:Set,is=null;function iP(s,o){if(s=s.containerInfo,Cv=d1,s=Do(s),uo(s)){if("selectionStart"in s)var u={start:s.selectionStart,end:s.selectionEnd};else e:{u=(u=s.ownerDocument)&&u.defaultView||window;var d=u.getSelection&&u.getSelection();if(d&&d.rangeCount!==0){u=d.anchorNode;var y=d.anchorOffset,w=d.focusNode;d=d.focusOffset;try{u.nodeType,w.nodeType}catch{u=null;break e}var C=0,W=-1,de=-1,De=0,We=0,Xe=s,Ve=null;t:for(;;){for(var Fe;Xe!==u||y!==0&&Xe.nodeType!==3||(W=C+y),Xe!==w||d!==0&&Xe.nodeType!==3||(de=C+d),Xe.nodeType===3&&(C+=Xe.nodeValue.length),(Fe=Xe.firstChild)!==null;)Ve=Xe,Xe=Fe;for(;;){if(Xe===s)break t;if(Ve===u&&++De===y&&(W=C),Ve===w&&++We===d&&(de=C),(Fe=Xe.nextSibling)!==null)break;Xe=Ve,Ve=Xe.parentNode}Xe=Fe}u=W===-1||de===-1?null:{start:W,end:de}}else u=null}u=u||{start:0,end:0}}else u=null;for(Rv={focusedElem:s,selectionRange:u},d1=!1,is=o;is!==null;)if(o=is,s=o.child,(o.subtreeFlags&1028)!==0&&s!==null)s.return=o,is=s;else for(;is!==null;){switch(o=is,w=o.alternate,s=o.flags,o.tag){case 0:if((s&4)!==0&&(s=o.updateQueue,s=s!==null?s.events:null,s!==null))for(u=0;u<s.length;u++)y=s[u],y.ref.impl=y.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&w!==null){s=void 0,u=o,y=w.memoizedProps,w=w.memoizedState,d=u.stateNode;try{var Tt=hh(u.type,y);s=d.getSnapshotBeforeUpdate(Tt,w),d.__reactInternalSnapshotBeforeUpdate=s}catch(Yt){lr(u,u.return,Yt)}}break;case 3:if((s&1024)!==0){if(s=o.stateNode.containerInfo,u=s.nodeType,u===9)kv(s);else if(u===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":kv(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(r(163))}if(s=o.sibling,s!==null){s.return=o.return,is=s;break}is=o.return}}function cE(s,o,u){var d=u.flags;switch(u.tag){case 0:case 11:case 15:cu(s,u),d&4&&wp(5,u);break;case 1:if(cu(s,u),d&4)if(s=u.stateNode,o===null)try{s.componentDidMount()}catch(C){lr(u,u.return,C)}else{var y=hh(u.type,o.memoizedProps);o=o.memoizedState;try{s.componentDidUpdate(y,o,s.__reactInternalSnapshotBeforeUpdate)}catch(C){lr(u,u.return,C)}}d&64&&iE(u),d&512&&Ep(u,u.return);break;case 3:if(cu(s,u),d&64&&(s=u.updateQueue,s!==null)){if(o=null,u.child!==null)switch(u.child.tag){case 27:case 5:o=u.child.stateNode;break;case 1:o=u.child.stateNode}try{ri(s,o)}catch(C){lr(u,u.return,C)}}break;case 27:o===null&&d&4&&lE(u);case 26:case 5:cu(s,u),o===null&&d&4&&aE(u),d&512&&Ep(u,u.return);break;case 12:cu(s,u);break;case 31:cu(s,u),d&4&&dE(s,u);break;case 13:cu(s,u),d&4&&pE(s,u),d&64&&(s=u.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(u=dP.bind(null,u),kP(s,u))));break;case 22:if(d=u.memoizedState!==null||lu,!d){o=o!==null&&o.memoizedState!==null||Ci,y=lu;var w=Ci;lu=d,(Ci=o)&&!w?hu(s,u,(u.subtreeFlags&8772)!==0):cu(s,u),lu=y,Ci=w}break;case 30:break;default:cu(s,u)}}function hE(s){var o=s.alternate;o!==null&&(s.alternate=null,hE(o)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(o=s.stateNode,o!==null&&Pa(o)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var Fr=null,wa=!1;function uu(s,o,u){for(u=u.child;u!==null;)fE(s,o,u),u=u.sibling}function fE(s,o,u){if(Dt&&typeof Dt.onCommitFiberUnmount=="function")try{Dt.onCommitFiberUnmount(rn,u)}catch{}switch(u.tag){case 26:Ci||wl(u,o),uu(s,o,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:Ci||wl(u,o);var d=Fr,y=wa;ac(u.type)&&(Fr=u.stateNode,wa=!1),uu(s,o,u),Pp(u.stateNode),Fr=d,wa=y;break;case 5:Ci||wl(u,o);case 6:if(d=Fr,y=wa,Fr=null,uu(s,o,u),Fr=d,wa=y,Fr!==null)if(wa)try{(Fr.nodeType===9?Fr.body:Fr.nodeName==="HTML"?Fr.ownerDocument.body:Fr).removeChild(u.stateNode)}catch(w){lr(u,o,w)}else try{Fr.removeChild(u.stateNode)}catch(w){lr(u,o,w)}break;case 18:Fr!==null&&(wa?(s=Fr,iA(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,u.stateNode),jf(s)):iA(Fr,u.stateNode));break;case 4:d=Fr,y=wa,Fr=u.stateNode.containerInfo,wa=!0,uu(s,o,u),Fr=d,wa=y;break;case 0:case 11:case 14:case 15:Zu(2,u,o),Ci||Zu(4,u,o),uu(s,o,u);break;case 1:Ci||(wl(u,o),d=u.stateNode,typeof d.componentWillUnmount=="function"&&sE(u,o,d)),uu(s,o,u);break;case 21:uu(s,o,u);break;case 22:Ci=(d=Ci)||u.memoizedState!==null,uu(s,o,u),Ci=d;break;default:uu(s,o,u)}}function dE(s,o){if(o.memoizedState===null&&(s=o.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{jf(s)}catch(u){lr(o,o.return,u)}}}function pE(s,o){if(o.memoizedState===null&&(s=o.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{jf(s)}catch(u){lr(o,o.return,u)}}function sP(s){switch(s.tag){case 31:case 13:case 19:var o=s.stateNode;return o===null&&(o=s.stateNode=new uE),o;case 22:return s=s.stateNode,o=s._retryCache,o===null&&(o=s._retryCache=new uE),o;default:throw Error(r(435,s.tag))}}function Wg(s,o){var u=sP(s);o.forEach(function(d){if(!u.has(d)){u.add(d);var y=pP.bind(null,s,d);d.then(y,y)}})}function Ea(s,o){var u=o.deletions;if(u!==null)for(var d=0;d<u.length;d++){var y=u[d],w=s,C=o,W=C;e:for(;W!==null;){switch(W.tag){case 27:if(ac(W.type)){Fr=W.stateNode,wa=!1;break e}break;case 5:Fr=W.stateNode,wa=!1;break e;case 3:case 4:Fr=W.stateNode.containerInfo,wa=!0;break e}W=W.return}if(Fr===null)throw Error(r(160));fE(w,C,y),Fr=null,wa=!1,w=y.alternate,w!==null&&(w.return=null),y.return=null}if(o.subtreeFlags&13886)for(o=o.child;o!==null;)mE(o,s),o=o.sibling}var zo=null;function mE(s,o){var u=s.alternate,d=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:Ea(o,s),Aa(s),d&4&&(Zu(3,s,s.return),wp(3,s),Zu(5,s,s.return));break;case 1:Ea(o,s),Aa(s),d&512&&(Ci||u===null||wl(u,u.return)),d&64&&lu&&(s=s.updateQueue,s!==null&&(d=s.callbacks,d!==null&&(u=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=u===null?d:u.concat(d))));break;case 26:var y=zo;if(Ea(o,s),Aa(s),d&512&&(Ci||u===null||wl(u,u.return)),d&4){var w=u!==null?u.memoizedState:null;if(d=s.memoizedState,u===null)if(d===null)if(s.stateNode===null){e:{d=s.type,u=s.memoizedProps,y=y.ownerDocument||y;t:switch(d){case"title":w=y.getElementsByTagName("title")[0],(!w||w[Yi]||w[Hn]||w.namespaceURI==="http://www.w3.org/2000/svg"||w.hasAttribute("itemprop"))&&(w=y.createElement(d),y.head.insertBefore(w,y.querySelector("head > title"))),ws(w,d,u),w[Hn]=s,Ir(w),d=w;break e;case"link":var C=mA("link","href",y).get(d+(u.href||""));if(C){for(var W=0;W<C.length;W++)if(w=C[W],w.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&w.getAttribute("rel")===(u.rel==null?null:u.rel)&&w.getAttribute("title")===(u.title==null?null:u.title)&&w.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){C.splice(W,1);break t}}w=y.createElement(d),ws(w,d,u),y.head.appendChild(w);break;case"meta":if(C=mA("meta","content",y).get(d+(u.content||""))){for(W=0;W<C.length;W++)if(w=C[W],w.getAttribute("content")===(u.content==null?null:""+u.content)&&w.getAttribute("name")===(u.name==null?null:u.name)&&w.getAttribute("property")===(u.property==null?null:u.property)&&w.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&w.getAttribute("charset")===(u.charSet==null?null:u.charSet)){C.splice(W,1);break t}}w=y.createElement(d),ws(w,d,u),y.head.appendChild(w);break;default:throw Error(r(468,d))}w[Hn]=s,Ir(w),d=w}s.stateNode=d}else gA(y,s.type,s.stateNode);else s.stateNode=pA(y,d,s.memoizedProps);else w!==d?(w===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):w.count--,d===null?gA(y,s.type,s.stateNode):pA(y,d,s.memoizedProps)):d===null&&s.stateNode!==null&&sv(s,s.memoizedProps,u.memoizedProps)}break;case 27:Ea(o,s),Aa(s),d&512&&(Ci||u===null||wl(u,u.return)),u!==null&&d&4&&sv(s,s.memoizedProps,u.memoizedProps);break;case 5:if(Ea(o,s),Aa(s),d&512&&(Ci||u===null||wl(u,u.return)),s.flags&32){y=s.stateNode;try{di(y,"")}catch(Tt){lr(s,s.return,Tt)}}d&4&&s.stateNode!=null&&(y=s.memoizedProps,sv(s,y,u!==null?u.memoizedProps:y)),d&1024&&(lv=!0);break;case 6:if(Ea(o,s),Aa(s),d&4){if(s.stateNode===null)throw Error(r(162));d=s.memoizedProps,u=s.stateNode;try{u.nodeValue=d}catch(Tt){lr(s,s.return,Tt)}}break;case 3:if(u1=null,y=zo,zo=o1(o.containerInfo),Ea(o,s),zo=y,Aa(s),d&4&&u!==null&&u.memoizedState.isDehydrated)try{jf(o.containerInfo)}catch(Tt){lr(s,s.return,Tt)}lv&&(lv=!1,gE(s));break;case 4:d=zo,zo=o1(s.stateNode.containerInfo),Ea(o,s),Aa(s),zo=d;break;case 12:Ea(o,s),Aa(s);break;case 31:Ea(o,s),Aa(s),d&4&&(d=s.updateQueue,d!==null&&(s.updateQueue=null,Wg(s,d)));break;case 13:Ea(o,s),Aa(s),s.child.flags&8192&&s.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(Yg=Jt()),d&4&&(d=s.updateQueue,d!==null&&(s.updateQueue=null,Wg(s,d)));break;case 22:y=s.memoizedState!==null;var de=u!==null&&u.memoizedState!==null,De=lu,We=Ci;if(lu=De||y,Ci=We||de,Ea(o,s),Ci=We,lu=De,Aa(s),d&8192)e:for(o=s.stateNode,o._visibility=y?o._visibility&-2:o._visibility|1,y&&(u===null||de||lu||Ci||fh(s)),u=null,o=s;;){if(o.tag===5||o.tag===26){if(u===null){de=u=o;try{if(w=de.stateNode,y)C=w.style,typeof C.setProperty=="function"?C.setProperty("display","none","important"):C.display="none";else{W=de.stateNode;var Xe=de.memoizedProps.style,Ve=Xe!=null&&Xe.hasOwnProperty("display")?Xe.display:null;W.style.display=Ve==null||typeof Ve=="boolean"?"":(""+Ve).trim()}}catch(Tt){lr(de,de.return,Tt)}}}else if(o.tag===6){if(u===null){de=o;try{de.stateNode.nodeValue=y?"":de.memoizedProps}catch(Tt){lr(de,de.return,Tt)}}}else if(o.tag===18){if(u===null){de=o;try{var Fe=de.stateNode;y?sA(Fe,!0):sA(de.stateNode,!1)}catch(Tt){lr(de,de.return,Tt)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===s)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break e;for(;o.sibling===null;){if(o.return===null||o.return===s)break e;u===o&&(u=null),o=o.return}u===o&&(u=null),o.sibling.return=o.return,o=o.sibling}d&4&&(d=s.updateQueue,d!==null&&(u=d.retryQueue,u!==null&&(d.retryQueue=null,Wg(s,u))));break;case 19:Ea(o,s),Aa(s),d&4&&(d=s.updateQueue,d!==null&&(s.updateQueue=null,Wg(s,d)));break;case 30:break;case 21:break;default:Ea(o,s),Aa(s)}}function Aa(s){var o=s.flags;if(o&2){try{for(var u,d=s.return;d!==null;){if(oE(d)){u=d;break}d=d.return}if(u==null)throw Error(r(160));switch(u.tag){case 27:var y=u.stateNode,w=av(s);$g(s,w,y);break;case 5:var C=u.stateNode;u.flags&32&&(di(C,""),u.flags&=-33);var W=av(s);$g(s,W,C);break;case 3:case 4:var de=u.stateNode.containerInfo,De=av(s);ov(s,De,de);break;default:throw Error(r(161))}}catch(We){lr(s,s.return,We)}s.flags&=-3}o&4096&&(s.flags&=-4097)}function gE(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var o=s;gE(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),s=s.sibling}}function cu(s,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)cE(s,o.alternate,o),o=o.sibling}function fh(s){for(s=s.child;s!==null;){var o=s;switch(o.tag){case 0:case 11:case 14:case 15:Zu(4,o,o.return),fh(o);break;case 1:wl(o,o.return);var u=o.stateNode;typeof u.componentWillUnmount=="function"&&sE(o,o.return,u),fh(o);break;case 27:Pp(o.stateNode);case 26:case 5:wl(o,o.return),fh(o);break;case 22:o.memoizedState===null&&fh(o);break;case 30:fh(o);break;default:fh(o)}s=s.sibling}}function hu(s,o,u){for(u=u&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var d=o.alternate,y=s,w=o,C=w.flags;switch(w.tag){case 0:case 11:case 15:hu(y,w,u),wp(4,w);break;case 1:if(hu(y,w,u),d=w,y=d.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(De){lr(d,d.return,De)}if(d=w,y=d.updateQueue,y!==null){var W=d.stateNode;try{var de=y.shared.hiddenCallbacks;if(de!==null)for(y.shared.hiddenCallbacks=null,y=0;y<de.length;y++)ns(de[y],W)}catch(De){lr(d,d.return,De)}}u&&C&64&&iE(w),Ep(w,w.return);break;case 27:lE(w);case 26:case 5:hu(y,w,u),u&&d===null&&C&4&&aE(w),Ep(w,w.return);break;case 12:hu(y,w,u);break;case 31:hu(y,w,u),u&&C&4&&dE(y,w);break;case 13:hu(y,w,u),u&&C&4&&pE(y,w);break;case 22:w.memoizedState===null&&hu(y,w,u),Ep(w,w.return);break;case 30:break;default:hu(y,w,u)}o=o.sibling}}function uv(s,o){var u=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),s=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(s=o.memoizedState.cachePool.pool),s!==u&&(s!=null&&s.refCount++,u!=null&&oh(u))}function cv(s,o){s=null,o.alternate!==null&&(s=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==s&&(o.refCount++,s!=null&&oh(s))}function qo(s,o,u,d){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)yE(s,o,u,d),o=o.sibling}function yE(s,o,u,d){var y=o.flags;switch(o.tag){case 0:case 11:case 15:qo(s,o,u,d),y&2048&&wp(9,o);break;case 1:qo(s,o,u,d);break;case 3:qo(s,o,u,d),y&2048&&(s=null,o.alternate!==null&&(s=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==s&&(o.refCount++,s!=null&&oh(s)));break;case 12:if(y&2048){qo(s,o,u,d),s=o.stateNode;try{var w=o.memoizedProps,C=w.id,W=w.onPostCommit;typeof W=="function"&&W(C,o.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(de){lr(o,o.return,de)}}else qo(s,o,u,d);break;case 31:qo(s,o,u,d);break;case 13:qo(s,o,u,d);break;case 23:break;case 22:w=o.stateNode,C=o.alternate,o.memoizedState!==null?w._visibility&2?qo(s,o,u,d):Ap(s,o):w._visibility&2?qo(s,o,u,d):(w._visibility|=2,If(s,o,u,d,(o.subtreeFlags&10256)!==0||!1)),y&2048&&uv(C,o);break;case 24:qo(s,o,u,d),y&2048&&cv(o.alternate,o);break;default:qo(s,o,u,d)}}function If(s,o,u,d,y){for(y=y&&((o.subtreeFlags&10256)!==0||!1),o=o.child;o!==null;){var w=s,C=o,W=u,de=d,De=C.flags;switch(C.tag){case 0:case 11:case 15:If(w,C,W,de,y),wp(8,C);break;case 23:break;case 22:var We=C.stateNode;C.memoizedState!==null?We._visibility&2?If(w,C,W,de,y):Ap(w,C):(We._visibility|=2,If(w,C,W,de,y)),y&&De&2048&&uv(C.alternate,C);break;case 24:If(w,C,W,de,y),y&&De&2048&&cv(C.alternate,C);break;default:If(w,C,W,de,y)}o=o.sibling}}function Ap(s,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var u=s,d=o,y=d.flags;switch(d.tag){case 22:Ap(u,d),y&2048&&uv(d.alternate,d);break;case 24:Ap(u,d),y&2048&&cv(d.alternate,d);break;default:Ap(u,d)}o=o.sibling}}var Sp=8192;function Nf(s,o,u){if(s.subtreeFlags&Sp)for(s=s.child;s!==null;)vE(s,o,u),s=s.sibling}function vE(s,o,u){switch(s.tag){case 26:Nf(s,o,u),s.flags&Sp&&s.memoizedState!==null&&GP(u,zo,s.memoizedState,s.memoizedProps);break;case 5:Nf(s,o,u);break;case 3:case 4:var d=zo;zo=o1(s.stateNode.containerInfo),Nf(s,o,u),zo=d;break;case 22:s.memoizedState===null&&(d=s.alternate,d!==null&&d.memoizedState!==null?(d=Sp,Sp=16777216,Nf(s,o,u),Sp=d):Nf(s,o,u));break;default:Nf(s,o,u)}}function _E(s){var o=s.alternate;if(o!==null&&(s=o.child,s!==null)){o.child=null;do o=s.sibling,s.sibling=null,s=o;while(s!==null)}}function Tp(s){var o=s.deletions;if((s.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var d=o[u];is=d,wE(d,s)}_E(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)bE(s),s=s.sibling}function bE(s){switch(s.tag){case 0:case 11:case 15:Tp(s),s.flags&2048&&Zu(9,s,s.return);break;case 3:Tp(s);break;case 12:Tp(s);break;case 22:var o=s.stateNode;s.memoizedState!==null&&o._visibility&2&&(s.return===null||s.return.tag!==13)?(o._visibility&=-3,Kg(s)):Tp(s);break;default:Tp(s)}}function Kg(s){var o=s.deletions;if((s.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var d=o[u];is=d,wE(d,s)}_E(s)}for(s=s.child;s!==null;){switch(o=s,o.tag){case 0:case 11:case 15:Zu(8,o,o.return),Kg(o);break;case 22:u=o.stateNode,u._visibility&2&&(u._visibility&=-3,Kg(o));break;default:Kg(o)}s=s.sibling}}function wE(s,o){for(;is!==null;){var u=is;switch(u.tag){case 0:case 11:case 15:Zu(8,u,o);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var d=u.memoizedState.cachePool.pool;d!=null&&d.refCount++}break;case 24:oh(u.memoizedState.cache)}if(d=u.child,d!==null)d.return=u,is=d;else e:for(u=s;is!==null;){d=is;var y=d.sibling,w=d.return;if(hE(d),d===u){is=null;break e}if(y!==null){y.return=w,is=y;break e}is=w}}}var aP={getCacheForType:function(s){var o=zi(Yr),u=o.data.get(s);return u===void 0&&(u=s(),o.data.set(s,u)),u},cacheSignal:function(){return zi(Yr).controller.signal}},oP=typeof WeakMap=="function"?WeakMap:Map,Zn=0,Er=null,Sn=null,Cn=0,or=0,Ba=null,ec=!1,Cf=!1,hv=!1,fu=0,oi=0,tc=0,dh=0,fv=0,za=0,Rf=0,xp=null,Sa=null,dv=!1,Yg=0,EE=0,Qg=1/0,Xg=null,nc=null,Hi=0,rc=null,Pf=null,du=0,pv=0,mv=null,AE=null,Ip=0,gv=null;function qa(){return(Zn&2)!==0&&Cn!==0?Cn&-Cn:re.T!==null?Ev():Zr()}function SE(){if(za===0)if((Cn&536870912)===0||An){var s=qe;qe<<=1,(qe&3932160)===0&&(qe=262144),za=s}else za=536870912;return s=Rr.current,s!==null&&(s.flags|=32),za}function Ta(s,o,u){(s===Er&&(or===2||or===9)||s.cancelPendingCommit!==null)&&(Lf(s,0),ic(s,Cn,za,!1)),mt(s,u),((Zn&2)===0||s!==Er)&&(s===Er&&((Zn&2)===0&&(dh|=u),oi===4&&ic(s,Cn,za,!1)),El(s))}function TE(s,o,u){if((Zn&6)!==0)throw Error(r(327));var d=!u&&(o&127)===0&&(o&s.expiredLanes)===0||Ot(s,o),y=d?cP(s,o):vv(s,o,!0),w=d;do{if(y===0){Cf&&!d&&ic(s,o,0,!1);break}else{if(u=s.current.alternate,w&&!lP(u)){y=vv(s,o,!1),w=!1;continue}if(y===2){if(w=o,s.errorRecoveryDisabledLanes&w)var C=0;else C=s.pendingLanes&-536870913,C=C!==0?C:C&536870912?536870912:0;if(C!==0){o=C;e:{var W=s;y=xp;var de=W.current.memoizedState.isDehydrated;if(de&&(Lf(W,C).flags|=256),C=vv(W,C,!1),C!==2){if(hv&&!de){W.errorRecoveryDisabledLanes|=w,dh|=w,y=4;break e}w=Sa,Sa=y,w!==null&&(Sa===null?Sa=w:Sa.push.apply(Sa,w))}y=C}if(w=!1,y!==2)continue}}if(y===1){Lf(s,0),ic(s,o,0,!0);break}e:{switch(d=s,w=y,w){case 0:case 1:throw Error(r(345));case 4:if((o&4194048)!==o)break;case 6:ic(d,o,za,!ec);break e;case 2:Sa=null;break;case 3:case 5:break;default:throw Error(r(329))}if((o&62914560)===o&&(y=Yg+300-Jt(),10<y)){if(ic(d,o,za,!ec),ht(d,0,!0)!==0)break e;du=o,d.timeoutHandle=nA(xE.bind(null,d,u,Sa,Xg,dv,o,za,dh,Rf,ec,w,"Throttled",-0,0),y);break e}xE(d,u,Sa,Xg,dv,o,za,dh,Rf,ec,w,null,-0,0)}}break}while(!0);El(s)}function xE(s,o,u,d,y,w,C,W,de,De,We,Xe,Ve,Fe){if(s.timeoutHandle=-1,Xe=o.subtreeFlags,Xe&8192||(Xe&16785408)===16785408){Xe={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:$s},vE(o,w,Xe);var Tt=(w&62914560)===w?Yg-Jt():(w&4194048)===w?EE-Jt():0;if(Tt=$P(Xe,Tt),Tt!==null){du=w,s.cancelPendingCommit=Tt(DE.bind(null,s,o,w,u,d,y,C,W,de,We,Xe,null,Ve,Fe)),ic(s,w,C,!De);return}}DE(s,o,w,u,d,y,C,W,de)}function lP(s){for(var o=s;;){var u=o.tag;if((u===0||u===11||u===15)&&o.flags&16384&&(u=o.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var d=0;d<u.length;d++){var y=u[d],w=y.getSnapshot;y=y.value;try{if(!ji(w(),y))return!1}catch{return!1}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function ic(s,o,u,d){o&=~fv,o&=~dh,s.suspendedLanes|=o,s.pingedLanes&=~o,d&&(s.warmLanes|=o),d=s.expirationTimes;for(var y=o;0<y;){var w=31-Zt(y),C=1<<w;d[w]=-1,y&=~C}u!==0&&bn(s,u,o)}function Jg(){return(Zn&6)===0?(Np(0),!1):!0}function yv(){if(Sn!==null){if(or===0)var s=Sn.return;else s=Sn,ho=dl=null,bf(s),Je=null,It=0,s=Sn;for(;s!==null;)rE(s.alternate,s),s=s.return;Sn=null}}function Lf(s,o){var u=s.timeoutHandle;u!==-1&&(s.timeoutHandle=-1,NP(u)),u=s.cancelPendingCommit,u!==null&&(s.cancelPendingCommit=null,u()),du=0,yv(),Er=s,Sn=u=da(s.current,null),Cn=o,or=0,Ba=null,ec=!1,Cf=Ot(s,o),hv=!1,Rf=za=fv=dh=tc=oi=0,Sa=xp=null,dv=!1,(o&8)!==0&&(o|=o&32);var d=s.entangledLanes;if(d!==0)for(s=s.entanglements,d&=o;0<d;){var y=31-Zt(d),w=1<<y;o|=s[y],d&=~w}return fu=o,th(),u}function IE(s,o){Bt=null,re.H=vp,o===_e||o===se?(o=Ye(),or=3):o===Le?(o=Ye(),or=4):or=o===Y0?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,Ba=o,Sn===null&&(oi=1,Bg(s,pa(o,s.current)))}function NE(){var s=Rr.current;return s===null?!0:(Cn&4194048)===Cn?Vn===null:(Cn&62914560)===Cn||(Cn&536870912)!==0?s===Vn:!1}function CE(){var s=re.H;return re.H=vp,s===null?vp:s}function RE(){var s=re.A;return re.A=aP,s}function Zg(){oi=4,ec||(Cn&4194048)!==Cn&&Rr.current!==null||(Cf=!0),(tc&134217727)===0&&(dh&134217727)===0||Er===null||ic(Er,Cn,za,!1)}function vv(s,o,u){var d=Zn;Zn|=2;var y=CE(),w=RE();(Er!==s||Cn!==o)&&(Xg=null,Lf(s,o)),o=!1;var C=oi;e:do try{if(or!==0&&Sn!==null){var W=Sn,de=Ba;switch(or){case 8:yv(),C=6;break e;case 3:case 2:case 9:case 6:Rr.current===null&&(o=!0);var De=or;if(or=0,Ba=null,kf(s,W,de,De),u&&Cf){C=0;break e}break;default:De=or,or=0,Ba=null,kf(s,W,de,De)}}uP(),C=oi;break}catch(We){IE(s,We)}while(!0);return o&&s.shellSuspendCounter++,ho=dl=null,Zn=d,re.H=y,re.A=w,Sn===null&&(Er=null,Cn=0,th()),C}function uP(){for(;Sn!==null;)PE(Sn)}function cP(s,o){var u=Zn;Zn|=2;var d=CE(),y=RE();Er!==s||Cn!==o?(Xg=null,Qg=Jt()+500,Lf(s,o)):Cf=Ot(s,o);e:do try{if(or!==0&&Sn!==null){o=Sn;var w=Ba;t:switch(or){case 1:or=0,Ba=null,kf(s,o,w,1);break;case 2:case 9:if(Ne(w)){or=0,Ba=null,LE(o);break}o=function(){or!==2&&or!==9||Er!==s||(or=7),El(s)},w.then(o,o);break e;case 3:or=7;break e;case 4:or=5;break e;case 7:Ne(w)?(or=0,Ba=null,LE(o)):(or=0,Ba=null,kf(s,o,w,7));break;case 5:var C=null;switch(Sn.tag){case 26:C=Sn.memoizedState;case 5:case 27:var W=Sn;if(C?yA(C):W.stateNode.complete){or=0,Ba=null;var de=W.sibling;if(de!==null)Sn=de;else{var De=W.return;De!==null?(Sn=De,e1(De)):Sn=null}break t}}or=0,Ba=null,kf(s,o,w,5);break;case 6:or=0,Ba=null,kf(s,o,w,6);break;case 8:yv(),oi=6;break e;default:throw Error(r(462))}}hP();break}catch(We){IE(s,We)}while(!0);return ho=dl=null,re.H=d,re.A=y,Zn=u,Sn!==null?0:(Er=null,Cn=0,th(),oi)}function hP(){for(;Sn!==null&&!Vt();)PE(Sn)}function PE(s){var o=tE(s.alternate,s,fu);s.memoizedProps=s.pendingProps,o===null?e1(s):Sn=o}function LE(s){var o=s,u=o.alternate;switch(o.tag){case 15:case 0:o=Yw(u,o,o.pendingProps,o.type,void 0,Cn);break;case 11:o=Yw(u,o,o.pendingProps,o.type.render,o.ref,Cn);break;case 5:bf(o);default:rE(u,o),o=Sn=ih(o,fu),o=tE(u,o,fu)}s.memoizedProps=s.pendingProps,o===null?e1(s):Sn=o}function kf(s,o,u,d){ho=dl=null,bf(o),Je=null,It=0;var y=o.return;try{if(ZR(s,y,o,u,Cn)){oi=1,Bg(s,pa(u,s.current)),Sn=null;return}}catch(w){if(y!==null)throw Sn=y,w;oi=1,Bg(s,pa(u,s.current)),Sn=null;return}o.flags&32768?(An||d===1?s=!0:Cf||(Cn&536870912)!==0?s=!1:(ec=s=!0,(d===2||d===9||d===3||d===6)&&(d=Rr.current,d!==null&&d.tag===13&&(d.flags|=16384))),kE(o,s)):e1(o)}function e1(s){var o=s;do{if((o.flags&32768)!==0){kE(o,ec);return}s=o.return;var u=nP(o.alternate,o,fu);if(u!==null){Sn=u;return}if(o=o.sibling,o!==null){Sn=o;return}Sn=o=s}while(o!==null);oi===0&&(oi=5)}function kE(s,o){do{var u=rP(s.alternate,s);if(u!==null){u.flags&=32767,Sn=u;return}if(u=s.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!o&&(s=s.sibling,s!==null)){Sn=s;return}Sn=s=u}while(s!==null);oi=6,Sn=null}function DE(s,o,u,d,y,w,C,W,de){s.cancelPendingCommit=null;do t1();while(Hi!==0);if((Zn&6)!==0)throw Error(r(327));if(o!==null){if(o===s.current)throw Error(r(177));if(w=o.lanes|o.childLanes,w|=af,fi(s,u,w,C,W,de),s===Er&&(Sn=Er=null,Cn=0),Pf=o,rc=s,du=u,pv=w,mv=y,AE=d,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,mP(nn,function(){return FE(),null})):(s.callbackNode=null,s.callbackPriority=0),d=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||d){d=re.T,re.T=null,y=ue.p,ue.p=2,C=Zn,Zn|=4;try{iP(s,o,u)}finally{Zn=C,ue.p=y,re.T=d}}Hi=1,OE(),ME(),VE()}}function OE(){if(Hi===1){Hi=0;var s=rc,o=Pf,u=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||u){u=re.T,re.T=null;var d=ue.p;ue.p=2;var y=Zn;Zn|=4;try{mE(o,s);var w=Rv,C=Do(s.containerInfo),W=w.focusedElem,de=w.selectionRange;if(C!==W&&W&&W.ownerDocument&&ko(W.ownerDocument.documentElement,W)){if(de!==null&&uo(W)){var De=de.start,We=de.end;if(We===void 0&&(We=De),"selectionStart"in W)W.selectionStart=De,W.selectionEnd=Math.min(We,W.value.length);else{var Xe=W.ownerDocument||document,Ve=Xe&&Xe.defaultView||window;if(Ve.getSelection){var Fe=Ve.getSelection(),Tt=W.textContent.length,Yt=Math.min(de.start,Tt),vr=de.end===void 0?Yt:Math.min(de.end,Tt);!Fe.extend&&Yt>vr&&(C=vr,vr=Yt,Yt=C);var Te=zu(W,Yt),be=zu(W,vr);if(Te&&be&&(Fe.rangeCount!==1||Fe.anchorNode!==Te.node||Fe.anchorOffset!==Te.offset||Fe.focusNode!==be.node||Fe.focusOffset!==be.offset)){var ke=Xe.createRange();ke.setStart(Te.node,Te.offset),Fe.removeAllRanges(),Yt>vr?(Fe.addRange(ke),Fe.extend(be.node,be.offset)):(ke.setEnd(be.node,be.offset),Fe.addRange(ke))}}}}for(Xe=[],Fe=W;Fe=Fe.parentNode;)Fe.nodeType===1&&Xe.push({element:Fe,left:Fe.scrollLeft,top:Fe.scrollTop});for(typeof W.focus=="function"&&W.focus(),W=0;W<Xe.length;W++){var Qe=Xe[W];Qe.element.scrollLeft=Qe.left,Qe.element.scrollTop=Qe.top}}d1=!!Cv,Rv=Cv=null}finally{Zn=y,ue.p=d,re.T=u}}s.current=o,Hi=2}}function ME(){if(Hi===2){Hi=0;var s=rc,o=Pf,u=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||u){u=re.T,re.T=null;var d=ue.p;ue.p=2;var y=Zn;Zn|=4;try{cE(s,o.alternate,o)}finally{Zn=y,ue.p=d,re.T=u}}Hi=3}}function VE(){if(Hi===4||Hi===3){Hi=0,Pt();var s=rc,o=Pf,u=du,d=AE;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?Hi=5:(Hi=0,Pf=rc=null,jE(s,s.pendingLanes));var y=s.pendingLanes;if(y===0&&(nc=null),er(u),o=o.stateNode,Dt&&typeof Dt.onCommitFiberRoot=="function")try{Dt.onCommitFiberRoot(rn,o,void 0,(o.current.flags&128)===128)}catch{}if(d!==null){o=re.T,y=ue.p,ue.p=2,re.T=null;try{for(var w=s.onRecoverableError,C=0;C<d.length;C++){var W=d[C];w(W.value,{componentStack:W.stack})}}finally{re.T=o,ue.p=y}}(du&3)!==0&&t1(),El(s),y=s.pendingLanes,(u&261930)!==0&&(y&42)!==0?s===gv?Ip++:(Ip=0,gv=s):Ip=0,Np(0)}}function jE(s,o){(s.pooledCacheLanes&=o)===0&&(o=s.pooledCache,o!=null&&(s.pooledCache=null,oh(o)))}function t1(){return OE(),ME(),VE(),FE()}function FE(){if(Hi!==5)return!1;var s=rc,o=pv;pv=0;var u=er(du),d=re.T,y=ue.p;try{ue.p=32>u?32:u,re.T=null,u=mv,mv=null;var w=rc,C=du;if(Hi=0,Pf=rc=null,du=0,(Zn&6)!==0)throw Error(r(331));var W=Zn;if(Zn|=4,bE(w.current),yE(w,w.current,C,u),Zn=W,Np(0,!1),Dt&&typeof Dt.onPostCommitFiberRoot=="function")try{Dt.onPostCommitFiberRoot(rn,w)}catch{}return!0}finally{ue.p=y,re.T=d,jE(s,o)}}function UE(s,o,u){o=pa(u,o),o=K0(s.stateNode,o,2),s=dn(s,o,2),s!==null&&(mt(s,2),El(s))}function lr(s,o,u){if(s.tag===3)UE(s,s,u);else for(;o!==null;){if(o.tag===3){UE(o,s,u);break}else if(o.tag===1){var d=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(nc===null||!nc.has(d))){s=pa(u,s),u=Bw(2),d=dn(o,u,2),d!==null&&(zw(u,d,o,s),mt(d,2),El(d));break}}o=o.return}}function _v(s,o,u){var d=s.pingCache;if(d===null){d=s.pingCache=new oP;var y=new Set;d.set(o,y)}else y=d.get(o),y===void 0&&(y=new Set,d.set(o,y));y.has(u)||(hv=!0,y.add(u),s=fP.bind(null,s,o,u),o.then(s,s))}function fP(s,o,u){var d=s.pingCache;d!==null&&d.delete(o),s.pingedLanes|=s.suspendedLanes&u,s.warmLanes&=~u,Er===s&&(Cn&u)===u&&(oi===4||oi===3&&(Cn&62914560)===Cn&&300>Jt()-Yg?(Zn&2)===0&&Lf(s,0):fv|=u,Rf===Cn&&(Rf=0)),El(s)}function BE(s,o){o===0&&(o=Un()),s=Mo(s,o),s!==null&&(mt(s,o),El(s))}function dP(s){var o=s.memoizedState,u=0;o!==null&&(u=o.retryLane),BE(s,u)}function pP(s,o){var u=0;switch(s.tag){case 31:case 13:var d=s.stateNode,y=s.memoizedState;y!==null&&(u=y.retryLane);break;case 19:d=s.stateNode;break;case 22:d=s.stateNode._retryCache;break;default:throw Error(r(314))}d!==null&&d.delete(o),BE(s,u)}function mP(s,o){return pt(s,o)}var n1=null,Df=null,bv=!1,r1=!1,wv=!1,sc=0;function El(s){s!==Df&&s.next===null&&(Df===null?n1=Df=s:Df=Df.next=s),r1=!0,bv||(bv=!0,yP())}function Np(s,o){if(!wv&&r1){wv=!0;do for(var u=!1,d=n1;d!==null;){if(s!==0){var y=d.pendingLanes;if(y===0)var w=0;else{var C=d.suspendedLanes,W=d.pingedLanes;w=(1<<31-Zt(42|s)+1)-1,w&=y&~(C&~W),w=w&201326741?w&201326741|1:w?w|2:0}w!==0&&(u=!0,GE(d,w))}else w=Cn,w=ht(d,d===Er?w:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),(w&3)===0||Ot(d,w)||(u=!0,GE(d,w));d=d.next}while(u);wv=!1}}function gP(){zE()}function zE(){r1=bv=!1;var s=0;sc!==0&&IP()&&(s=sc);for(var o=Jt(),u=null,d=n1;d!==null;){var y=d.next,w=qE(d,o);w===0?(d.next=null,u===null?n1=y:u.next=y,y===null&&(Df=u)):(u=d,(s!==0||(w&3)!==0)&&(r1=!0)),d=y}Hi!==0&&Hi!==5||Np(s),sc!==0&&(sc=0)}function qE(s,o){for(var u=s.suspendedLanes,d=s.pingedLanes,y=s.expirationTimes,w=s.pendingLanes&-62914561;0<w;){var C=31-Zt(w),W=1<<C,de=y[C];de===-1?((W&u)===0||(W&d)!==0)&&(y[C]=pn(W,o)):de<=o&&(s.expiredLanes|=W),w&=~W}if(o=Er,u=Cn,u=ht(s,s===o?u:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),d=s.callbackNode,u===0||s===o&&(or===2||or===9)||s.cancelPendingCommit!==null)return d!==null&&d!==null&&dt(d),s.callbackNode=null,s.callbackPriority=0;if((u&3)===0||Ot(s,u)){if(o=u&-u,o===s.callbackPriority)return o;switch(d!==null&&dt(d),er(u)){case 2:case 8:u=fn;break;case 32:u=nn;break;case 268435456:u=Qt;break;default:u=nn}return d=HE.bind(null,s),u=pt(u,d),s.callbackPriority=o,s.callbackNode=u,o}return d!==null&&d!==null&&dt(d),s.callbackPriority=2,s.callbackNode=null,2}function HE(s,o){if(Hi!==0&&Hi!==5)return s.callbackNode=null,s.callbackPriority=0,null;var u=s.callbackNode;if(t1()&&s.callbackNode!==u)return null;var d=Cn;return d=ht(s,s===Er?d:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),d===0?null:(TE(s,d,o),qE(s,Jt()),s.callbackNode!=null&&s.callbackNode===u?HE.bind(null,s):null)}function GE(s,o){if(t1())return null;TE(s,o,!0)}function yP(){CP(function(){(Zn&6)!==0?pt(Kt,gP):zE()})}function Ev(){if(sc===0){var s=m;s===0&&(s=ge,ge<<=1,(ge&261888)===0&&(ge=256)),sc=s}return sc}function $E(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:Xi(""+s)}function WE(s,o){var u=o.ownerDocument.createElement("input");return u.name=o.name,u.value=o.value,s.id&&u.setAttribute("form",s.id),o.parentNode.insertBefore(u,o),s=new FormData(s),u.parentNode.removeChild(u),s}function vP(s,o,u,d,y){if(o==="submit"&&u&&u.stateNode===y){var w=$E((y[ir]||null).action),C=d.submitter;C&&(o=(o=C[ir]||null)?$E(o.formAction):C.getAttribute("formAction"),o!==null&&(w=o,C=null));var W=new Ti("action","action",null,d,y);s.push({event:W,listeners:[{instance:null,listener:function(){if(d.defaultPrevented){if(sc!==0){var de=C?WE(y,C):new FormData(y);z0(u,{pending:!0,data:de,method:y.method,action:w},null,de)}}else typeof w=="function"&&(W.preventDefault(),de=C?WE(y,C):new FormData(y),z0(u,{pending:!0,data:de,method:y.method,action:w},w,de))},currentTarget:y}]})}}for(var Av=0;Av<Jl.length;Av++){var Sv=Jl[Av],_P=Sv.toLowerCase(),bP=Sv[0].toUpperCase()+Sv.slice(1);fa(_P,"on"+bP)}fa(Xl,"onAnimationEnd"),fa(Zc,"onAnimationIteration"),fa(rp,"onAnimationStart"),fa("dblclick","onDoubleClick"),fa("focusin","onFocus"),fa("focusout","onBlur"),fa(Ng,"onTransitionRun"),fa(Cg,"onTransitionStart"),fa(Rg,"onTransitionCancel"),fa(ip,"onTransitionEnd"),Gs("onMouseEnter",["mouseout","mouseover"]),Gs("onMouseLeave",["mouseout","mouseover"]),Gs("onPointerEnter",["pointerout","pointerover"]),Gs("onPointerLeave",["pointerout","pointerover"]),Ns("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ns("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ns("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ns("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ns("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ns("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Cp="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),wP=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Cp));function KE(s,o){o=(o&4)!==0;for(var u=0;u<s.length;u++){var d=s[u],y=d.event;d=d.listeners;e:{var w=void 0;if(o)for(var C=d.length-1;0<=C;C--){var W=d[C],de=W.instance,De=W.currentTarget;if(W=W.listener,de!==w&&y.isPropagationStopped())break e;w=W,y.currentTarget=De;try{w(y)}catch(We){eh(We)}y.currentTarget=null,w=de}else for(C=0;C<d.length;C++){if(W=d[C],de=W.instance,De=W.currentTarget,W=W.listener,de!==w&&y.isPropagationStopped())break e;w=W,y.currentTarget=De;try{w(y)}catch(We){eh(We)}y.currentTarget=null,w=de}}}}function Tn(s,o){var u=o[Ki];u===void 0&&(u=o[Ki]=new Set);var d=s+"__bubble";u.has(d)||(YE(o,s,2,!1),u.add(d))}function Tv(s,o,u){var d=0;o&&(d|=4),YE(u,s,d,o)}var i1="_reactListening"+Math.random().toString(36).slice(2);function xv(s){if(!s[i1]){s[i1]=!0,tl.forEach(function(u){u!=="selectionchange"&&(wP.has(u)||Tv(u,!1,s),Tv(u,!0,s))});var o=s.nodeType===9?s:s.ownerDocument;o===null||o[i1]||(o[i1]=!0,Tv("selectionchange",!1,o))}}function YE(s,o,u,d){switch(SA(o)){case 2:var y=YP;break;case 8:y=QP;break;default:y=Bv}u=y.bind(null,o,u,s),y=void 0,!xo||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(y=!0),d?y!==void 0?s.addEventListener(o,u,{capture:!0,passive:y}):s.addEventListener(o,u,!0):y!==void 0?s.addEventListener(o,u,{passive:y}):s.addEventListener(o,u,!1)}function Iv(s,o,u,d,y){var w=d;if((o&1)===0&&(o&2)===0&&d!==null)e:for(;;){if(d===null)return;var C=d.tag;if(C===3||C===4){var W=d.stateNode.containerInfo;if(W===y)break;if(C===4)for(C=d.return;C!==null;){var de=C.tag;if((de===3||de===4)&&C.stateNode.containerInfo===y)return;C=C.return}for(;W!==null;){if(C=us(W),C===null)return;if(de=C.tag,de===5||de===6||de===26||de===27){d=w=C;continue e}W=W.parentNode}}d=d.return}to(function(){var De=w,We=Ji(u),Xe=[];e:{var Ve=sp.get(s);if(Ve!==void 0){var Fe=Ti,Tt=s;switch(s){case"keypress":if(ds(u)===0)break e;case"keydown":case"keyup":Fe=wn;break;case"focusin":Tt="focus",Fe=Ks;break;case"focusout":Tt="blur",Fe=Ks;break;case"beforeblur":case"afterblur":Fe=Ks;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Fe=ol;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Fe=ca;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Fe=T;break;case Xl:case Zc:case rp:Fe=A;break;case ip:Fe=X;break;case"scroll":case"scrollend":Fe=no;break;case"wheel":Fe=Me;break;case"copy":case"cut":case"paste":Fe=ae;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Fe=tr;break;case"toggle":case"beforetoggle":Fe=en}var Yt=(o&4)!==0,vr=!Yt&&(s==="scroll"||s==="scrollend"),Te=Yt?Ve!==null?Ve+"Capture":null:Ve;Yt=[];for(var be=De,ke;be!==null;){var Qe=be;if(ke=Qe.stateNode,Qe=Qe.tag,Qe!==5&&Qe!==26&&Qe!==27||ke===null||Te===null||(Qe=pi(be,Te),Qe!=null&&Yt.push(Rp(be,Qe,ke))),vr)break;be=be.return}0<Yt.length&&(Ve=new Fe(Ve,Tt,null,u,We),Xe.push({event:Ve,listeners:Yt}))}}if((o&7)===0){e:{if(Ve=s==="mouseover"||s==="pointerover",Fe=s==="mouseout"||s==="pointerout",Ve&&u!==Oa&&(Tt=u.relatedTarget||u.fromElement)&&(us(Tt)||Tt[ei]))break e;if((Fe||Ve)&&(Ve=We.window===We?We:(Ve=We.ownerDocument)?Ve.defaultView||Ve.parentWindow:window,Fe?(Tt=u.relatedTarget||u.toElement,Fe=De,Tt=Tt?us(Tt):null,Tt!==null&&(vr=a(Tt),Yt=Tt.tag,Tt!==vr||Yt!==5&&Yt!==27&&Yt!==6)&&(Tt=null)):(Fe=null,Tt=De),Fe!==Tt)){if(Yt=ol,Qe="onMouseLeave",Te="onMouseEnter",be="mouse",(s==="pointerout"||s==="pointerover")&&(Yt=tr,Qe="onPointerLeave",Te="onPointerEnter",be="pointer"),vr=Fe==null?Ve:cs(Fe),ke=Tt==null?Ve:cs(Tt),Ve=new Yt(Qe,be+"leave",Fe,u,We),Ve.target=vr,Ve.relatedTarget=ke,Qe=null,us(We)===De&&(Yt=new Yt(Te,be+"enter",Tt,u,We),Yt.target=ke,Yt.relatedTarget=vr,Qe=Yt),vr=Qe,Fe&&Tt)t:{for(Yt=EP,Te=Fe,be=Tt,ke=0,Qe=Te;Qe;Qe=Yt(Qe))ke++;Qe=0;for(var Gt=be;Gt;Gt=Yt(Gt))Qe++;for(;0<ke-Qe;)Te=Yt(Te),ke--;for(;0<Qe-ke;)be=Yt(be),Qe--;for(;ke--;){if(Te===be||be!==null&&Te===be.alternate){Yt=Te;break t}Te=Yt(Te),be=Yt(be)}Yt=null}else Yt=null;Fe!==null&&QE(Xe,Ve,Fe,Yt,!1),Tt!==null&&vr!==null&&QE(Xe,vr,Tt,Yt,!0)}}e:{if(Ve=De?cs(De):window,Fe=Ve.nodeName&&Ve.nodeName.toLowerCase(),Fe==="select"||Fe==="input"&&Ve.type==="file")var Wn=ul;else if(Xc(Ve))if(Ps)Wn=oo;else{Wn=Wr;var Lt=Uu}else Fe=Ve.nodeName,!Fe||Fe.toLowerCase()!=="input"||Ve.type!=="checkbox"&&Ve.type!=="radio"?De&&il(De.elementType)&&(Wn=ul):Wn=sf;if(Wn&&(Wn=Wn(s,De))){Qs(Xe,Wn,u,We);break e}Lt&&Lt(s,Ve,De),s==="focusout"&&De&&Ve.type==="number"&&De.memoizedProps.value!=null&&Hl(Ve,"number",Ve.value)}switch(Lt=De?cs(De):window,s){case"focusin":(Xc(Lt)||Lt.contentEditable==="true")&&(Xs=Lt,Oo=De,Zi=null);break;case"focusout":Zi=Oo=Xs=null;break;case"mousedown":ha=!0;break;case"contextmenu":case"mouseup":case"dragend":ha=!1,zn(Xe,u,We);break;case"selectionchange":if(Ql)break;case"keydown":case"keyup":zn(Xe,u,We)}var gn;if(yn)e:{switch(s){case"compositionstart":var Rn="onCompositionStart";break e;case"compositionend":Rn="onCompositionEnd";break e;case"compositionupdate":Rn="onCompositionUpdate";break e}Rn=void 0}else io?Ys(s,u)&&(Rn="onCompositionEnd"):s==="keydown"&&u.keyCode===229&&(Rn="onCompositionStart");Rn&&(Mi&&u.locale!=="ko"&&(io||Rn!=="onCompositionStart"?Rn==="onCompositionEnd"&&io&&(gn=Kl()):(fs=We,Io="value"in fs?fs.value:fs.textContent,io=!0)),Lt=s1(De,Rn),0<Lt.length&&(Rn=new Se(Rn,s,null,u,We),Xe.push({event:Rn,listeners:Lt}),gn?Rn.data=gn:(gn=ro(u),gn!==null&&(Rn.data=gn)))),(gn=xi?gs(s,u):Co(s,u))&&(Rn=s1(De,"onBeforeInput"),0<Rn.length&&(Lt=new Se("onBeforeInput","beforeinput",null,u,We),Xe.push({event:Lt,listeners:Rn}),Lt.data=gn)),vP(Xe,s,De,u,We)}KE(Xe,o)})}function Rp(s,o,u){return{instance:s,listener:o,currentTarget:u}}function s1(s,o){for(var u=o+"Capture",d=[];s!==null;){var y=s,w=y.stateNode;if(y=y.tag,y!==5&&y!==26&&y!==27||w===null||(y=pi(s,u),y!=null&&d.unshift(Rp(s,y,w)),y=pi(s,o),y!=null&&d.push(Rp(s,y,w))),s.tag===3)return d;s=s.return}return[]}function EP(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function QE(s,o,u,d,y){for(var w=o._reactName,C=[];u!==null&&u!==d;){var W=u,de=W.alternate,De=W.stateNode;if(W=W.tag,de!==null&&de===d)break;W!==5&&W!==26&&W!==27||De===null||(de=De,y?(De=pi(u,w),De!=null&&C.unshift(Rp(u,De,de))):y||(De=pi(u,w),De!=null&&C.push(Rp(u,De,de)))),u=u.return}C.length!==0&&s.push({event:o,listeners:C})}var AP=/\r\n?/g,SP=/\u0000|\uFFFD/g;function XE(s){return(typeof s=="string"?s:""+s).replace(AP,`
`).replace(SP,"")}function JE(s,o){return o=XE(o),XE(s)===o}function yr(s,o,u,d,y,w){switch(u){case"children":typeof d=="string"?o==="body"||o==="textarea"&&d===""||di(s,d):(typeof d=="number"||typeof d=="bigint")&&o!=="body"&&di(s,""+d);break;case"className":Si(s,"class",d);break;case"tabIndex":Si(s,"tabindex",d);break;case"dir":case"role":case"viewBox":case"width":case"height":Si(s,u,d);break;case"style":Wl(s,d,w);break;case"data":if(o!=="object"){Si(s,"data",d);break}case"src":case"href":if(d===""&&(o!=="a"||u!=="href")){s.removeAttribute(u);break}if(d==null||typeof d=="function"||typeof d=="symbol"||typeof d=="boolean"){s.removeAttribute(u);break}d=Xi(""+d),s.setAttribute(u,d);break;case"action":case"formAction":if(typeof d=="function"){s.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof w=="function"&&(u==="formAction"?(o!=="input"&&yr(s,o,"name",y.name,y,null),yr(s,o,"formEncType",y.formEncType,y,null),yr(s,o,"formMethod",y.formMethod,y,null),yr(s,o,"formTarget",y.formTarget,y,null)):(yr(s,o,"encType",y.encType,y,null),yr(s,o,"method",y.method,y,null),yr(s,o,"target",y.target,y,null)));if(d==null||typeof d=="symbol"||typeof d=="boolean"){s.removeAttribute(u);break}d=Xi(""+d),s.setAttribute(u,d);break;case"onClick":d!=null&&(s.onclick=$s);break;case"onScroll":d!=null&&Tn("scroll",s);break;case"onScrollEnd":d!=null&&Tn("scrollend",s);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(r(61));if(u=d.__html,u!=null){if(y.children!=null)throw Error(r(60));s.innerHTML=u}}break;case"multiple":s.multiple=d&&typeof d!="function"&&typeof d!="symbol";break;case"muted":s.muted=d&&typeof d!="function"&&typeof d!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(d==null||typeof d=="function"||typeof d=="boolean"||typeof d=="symbol"){s.removeAttribute("xlink:href");break}u=Xi(""+d),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":d!=null&&typeof d!="function"&&typeof d!="symbol"?s.setAttribute(u,""+d):s.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":d&&typeof d!="function"&&typeof d!="symbol"?s.setAttribute(u,""):s.removeAttribute(u);break;case"capture":case"download":d===!0?s.setAttribute(u,""):d!==!1&&d!=null&&typeof d!="function"&&typeof d!="symbol"?s.setAttribute(u,d):s.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":d!=null&&typeof d!="function"&&typeof d!="symbol"&&!isNaN(d)&&1<=d?s.setAttribute(u,d):s.removeAttribute(u);break;case"rowSpan":case"start":d==null||typeof d=="function"||typeof d=="symbol"||isNaN(d)?s.removeAttribute(u):s.setAttribute(u,d);break;case"popover":Tn("beforetoggle",s),Tn("toggle",s),hs(s,"popover",d);break;case"xlinkActuate":Dr(s,"http://www.w3.org/1999/xlink","xlink:actuate",d);break;case"xlinkArcrole":Dr(s,"http://www.w3.org/1999/xlink","xlink:arcrole",d);break;case"xlinkRole":Dr(s,"http://www.w3.org/1999/xlink","xlink:role",d);break;case"xlinkShow":Dr(s,"http://www.w3.org/1999/xlink","xlink:show",d);break;case"xlinkTitle":Dr(s,"http://www.w3.org/1999/xlink","xlink:title",d);break;case"xlinkType":Dr(s,"http://www.w3.org/1999/xlink","xlink:type",d);break;case"xmlBase":Dr(s,"http://www.w3.org/XML/1998/namespace","xml:base",d);break;case"xmlLang":Dr(s,"http://www.w3.org/XML/1998/namespace","xml:lang",d);break;case"xmlSpace":Dr(s,"http://www.w3.org/XML/1998/namespace","xml:space",d);break;case"is":hs(s,"is",d);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=sl.get(u)||u,hs(s,u,d))}}function Nv(s,o,u,d,y,w){switch(u){case"style":Wl(s,d,w);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(r(61));if(u=d.__html,u!=null){if(y.children!=null)throw Error(r(60));s.innerHTML=u}}break;case"children":typeof d=="string"?di(s,d):(typeof d=="number"||typeof d=="bigint")&&di(s,""+d);break;case"onScroll":d!=null&&Tn("scroll",s);break;case"onScrollEnd":d!=null&&Tn("scrollend",s);break;case"onClick":d!=null&&(s.onclick=$s);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Qi.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(y=u.endsWith("Capture"),o=u.slice(2,y?u.length-7:void 0),w=s[ir]||null,w=w!=null?w[u]:null,typeof w=="function"&&s.removeEventListener(o,w,y),typeof d=="function")){typeof w!="function"&&w!==null&&(u in s?s[u]=null:s.hasAttribute(u)&&s.removeAttribute(u)),s.addEventListener(o,d,y);break e}u in s?s[u]=d:d===!0?s.setAttribute(u,""):hs(s,u,d)}}}function ws(s,o,u){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Tn("error",s),Tn("load",s);var d=!1,y=!1,w;for(w in u)if(u.hasOwnProperty(w)){var C=u[w];if(C!=null)switch(w){case"src":d=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:yr(s,o,w,C,u,null)}}y&&yr(s,o,"srcSet",u.srcSet,u,null),d&&yr(s,o,"src",u.src,u,null);return;case"input":Tn("invalid",s);var W=w=C=y=null,de=null,De=null;for(d in u)if(u.hasOwnProperty(d)){var We=u[d];if(We!=null)switch(d){case"name":y=We;break;case"type":C=We;break;case"checked":de=We;break;case"defaultChecked":De=We;break;case"value":w=We;break;case"defaultValue":W=We;break;case"children":case"dangerouslySetInnerHTML":if(We!=null)throw Error(r(137,o));break;default:yr(s,o,d,We,u,null)}}Vu(s,w,W,de,De,C,y,!1);return;case"select":Tn("invalid",s),d=C=w=null;for(y in u)if(u.hasOwnProperty(y)&&(W=u[y],W!=null))switch(y){case"value":w=W;break;case"defaultValue":C=W;break;case"multiple":d=W;default:yr(s,o,y,W,u,null)}o=w,u=C,s.multiple=!!d,o!=null?Oi(s,!!d,o,!1):u!=null&&Oi(s,!!d,u,!0);return;case"textarea":Tn("invalid",s),w=y=d=null;for(C in u)if(u.hasOwnProperty(C)&&(W=u[C],W!=null))switch(C){case"value":d=W;break;case"defaultValue":y=W;break;case"children":w=W;break;case"dangerouslySetInnerHTML":if(W!=null)throw Error(r(91));break;default:yr(s,o,C,W,u,null)}ka(s,d,y,w);return;case"option":for(de in u)if(u.hasOwnProperty(de)&&(d=u[de],d!=null))switch(de){case"selected":s.selected=d&&typeof d!="function"&&typeof d!="symbol";break;default:yr(s,o,de,d,u,null)}return;case"dialog":Tn("beforetoggle",s),Tn("toggle",s),Tn("cancel",s),Tn("close",s);break;case"iframe":case"object":Tn("load",s);break;case"video":case"audio":for(d=0;d<Cp.length;d++)Tn(Cp[d],s);break;case"image":Tn("error",s),Tn("load",s);break;case"details":Tn("toggle",s);break;case"embed":case"source":case"link":Tn("error",s),Tn("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(De in u)if(u.hasOwnProperty(De)&&(d=u[De],d!=null))switch(De){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:yr(s,o,De,d,u,null)}return;default:if(il(o)){for(We in u)u.hasOwnProperty(We)&&(d=u[We],d!==void 0&&Nv(s,o,We,d,u,void 0));return}}for(W in u)u.hasOwnProperty(W)&&(d=u[W],d!=null&&yr(s,o,W,d,u,null))}function TP(s,o,u,d){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,w=null,C=null,W=null,de=null,De=null,We=null;for(Fe in u){var Xe=u[Fe];if(u.hasOwnProperty(Fe)&&Xe!=null)switch(Fe){case"checked":break;case"value":break;case"defaultValue":de=Xe;default:d.hasOwnProperty(Fe)||yr(s,o,Fe,null,d,Xe)}}for(var Ve in d){var Fe=d[Ve];if(Xe=u[Ve],d.hasOwnProperty(Ve)&&(Fe!=null||Xe!=null))switch(Ve){case"type":w=Fe;break;case"name":y=Fe;break;case"checked":De=Fe;break;case"defaultChecked":We=Fe;break;case"value":C=Fe;break;case"defaultValue":W=Fe;break;case"children":case"dangerouslySetInnerHTML":if(Fe!=null)throw Error(r(137,o));break;default:Fe!==Xe&&yr(s,o,Ve,Fe,d,Xe)}}So(s,C,W,de,De,We,w,y);return;case"select":Fe=C=W=Ve=null;for(w in u)if(de=u[w],u.hasOwnProperty(w)&&de!=null)switch(w){case"value":break;case"multiple":Fe=de;default:d.hasOwnProperty(w)||yr(s,o,w,null,d,de)}for(y in d)if(w=d[y],de=u[y],d.hasOwnProperty(y)&&(w!=null||de!=null))switch(y){case"value":Ve=w;break;case"defaultValue":W=w;break;case"multiple":C=w;default:w!==de&&yr(s,o,y,w,d,de)}o=W,u=C,d=Fe,Ve!=null?Oi(s,!!u,Ve,!1):!!d!=!!u&&(o!=null?Oi(s,!!u,o,!0):Oi(s,!!u,u?[]:"",!1));return;case"textarea":Fe=Ve=null;for(W in u)if(y=u[W],u.hasOwnProperty(W)&&y!=null&&!d.hasOwnProperty(W))switch(W){case"value":break;case"children":break;default:yr(s,o,W,null,d,y)}for(C in d)if(y=d[C],w=u[C],d.hasOwnProperty(C)&&(y!=null||w!=null))switch(C){case"value":Ve=y;break;case"defaultValue":Fe=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(r(91));break;default:y!==w&&yr(s,o,C,y,d,w)}Gl(s,Ve,Fe);return;case"option":for(var Tt in u)if(Ve=u[Tt],u.hasOwnProperty(Tt)&&Ve!=null&&!d.hasOwnProperty(Tt))switch(Tt){case"selected":s.selected=!1;break;default:yr(s,o,Tt,null,d,Ve)}for(de in d)if(Ve=d[de],Fe=u[de],d.hasOwnProperty(de)&&Ve!==Fe&&(Ve!=null||Fe!=null))switch(de){case"selected":s.selected=Ve&&typeof Ve!="function"&&typeof Ve!="symbol";break;default:yr(s,o,de,Ve,d,Fe)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Yt in u)Ve=u[Yt],u.hasOwnProperty(Yt)&&Ve!=null&&!d.hasOwnProperty(Yt)&&yr(s,o,Yt,null,d,Ve);for(De in d)if(Ve=d[De],Fe=u[De],d.hasOwnProperty(De)&&Ve!==Fe&&(Ve!=null||Fe!=null))switch(De){case"children":case"dangerouslySetInnerHTML":if(Ve!=null)throw Error(r(137,o));break;default:yr(s,o,De,Ve,d,Fe)}return;default:if(il(o)){for(var vr in u)Ve=u[vr],u.hasOwnProperty(vr)&&Ve!==void 0&&!d.hasOwnProperty(vr)&&Nv(s,o,vr,void 0,d,Ve);for(We in d)Ve=d[We],Fe=u[We],!d.hasOwnProperty(We)||Ve===Fe||Ve===void 0&&Fe===void 0||Nv(s,o,We,Ve,d,Fe);return}}for(var Te in u)Ve=u[Te],u.hasOwnProperty(Te)&&Ve!=null&&!d.hasOwnProperty(Te)&&yr(s,o,Te,null,d,Ve);for(Xe in d)Ve=d[Xe],Fe=u[Xe],!d.hasOwnProperty(Xe)||Ve===Fe||Ve==null&&Fe==null||yr(s,o,Xe,Ve,d,Fe)}function ZE(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function xP(){if(typeof performance.getEntriesByType=="function"){for(var s=0,o=0,u=performance.getEntriesByType("resource"),d=0;d<u.length;d++){var y=u[d],w=y.transferSize,C=y.initiatorType,W=y.duration;if(w&&W&&ZE(C)){for(C=0,W=y.responseEnd,d+=1;d<u.length;d++){var de=u[d],De=de.startTime;if(De>W)break;var We=de.transferSize,Xe=de.initiatorType;We&&ZE(Xe)&&(de=de.responseEnd,C+=We*(de<W?1:(W-De)/(de-De)))}if(--d,o+=8*(w+C)/(y.duration/1e3),s++,10<s)break}}if(0<s)return o/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var Cv=null,Rv=null;function a1(s){return s.nodeType===9?s:s.ownerDocument}function eA(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function tA(s,o){if(s===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&o==="foreignObject"?0:s}function Pv(s,o){return s==="textarea"||s==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Lv=null;function IP(){var s=window.event;return s&&s.type==="popstate"?s===Lv?!1:(Lv=s,!0):(Lv=null,!1)}var nA=typeof setTimeout=="function"?setTimeout:void 0,NP=typeof clearTimeout=="function"?clearTimeout:void 0,rA=typeof Promise=="function"?Promise:void 0,CP=typeof queueMicrotask=="function"?queueMicrotask:typeof rA<"u"?function(s){return rA.resolve(null).then(s).catch(RP)}:nA;function RP(s){setTimeout(function(){throw s})}function ac(s){return s==="head"}function iA(s,o){var u=o,d=0;do{var y=u.nextSibling;if(s.removeChild(u),y&&y.nodeType===8)if(u=y.data,u==="/$"||u==="/&"){if(d===0){s.removeChild(y),jf(o);return}d--}else if(u==="$"||u==="$?"||u==="$~"||u==="$!"||u==="&")d++;else if(u==="html")Pp(s.ownerDocument.documentElement);else if(u==="head"){u=s.ownerDocument.head,Pp(u);for(var w=u.firstChild;w;){var C=w.nextSibling,W=w.nodeName;w[Yi]||W==="SCRIPT"||W==="STYLE"||W==="LINK"&&w.rel.toLowerCase()==="stylesheet"||u.removeChild(w),w=C}}else u==="body"&&Pp(s.ownerDocument.body);u=y}while(u);jf(o)}function sA(s,o){var u=s;s=0;do{var d=u.nextSibling;if(u.nodeType===1?o?(u._stashedDisplay=u.style.display,u.style.display="none"):(u.style.display=u._stashedDisplay||"",u.getAttribute("style")===""&&u.removeAttribute("style")):u.nodeType===3&&(o?(u._stashedText=u.nodeValue,u.nodeValue=""):u.nodeValue=u._stashedText||""),d&&d.nodeType===8)if(u=d.data,u==="/$"){if(s===0)break;s--}else u!=="$"&&u!=="$?"&&u!=="$~"&&u!=="$!"||s++;u=d}while(u)}function kv(s){var o=s.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var u=o;switch(o=o.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":kv(u),Pa(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}s.removeChild(u)}}function PP(s,o,u,d){for(;s.nodeType===1;){var y=u;if(s.nodeName.toLowerCase()!==o.toLowerCase()){if(!d&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(d){if(!s[Yi])switch(o){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(w=s.getAttribute("rel"),w==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(w!==y.rel||s.getAttribute("href")!==(y.href==null||y.href===""?null:y.href)||s.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||s.getAttribute("title")!==(y.title==null?null:y.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(w=s.getAttribute("src"),(w!==(y.src==null?null:y.src)||s.getAttribute("type")!==(y.type==null?null:y.type)||s.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&w&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(o==="input"&&s.type==="hidden"){var w=y.name==null?null:""+y.name;if(y.type==="hidden"&&s.getAttribute("name")===w)return s}else return s;if(s=mo(s.nextSibling),s===null)break}return null}function LP(s,o,u){if(o==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!u||(s=mo(s.nextSibling),s===null))return null;return s}function aA(s,o){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!o||(s=mo(s.nextSibling),s===null))return null;return s}function Dv(s){return s.data==="$?"||s.data==="$~"}function Ov(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function kP(s,o){var u=s.ownerDocument;if(s.data==="$~")s._reactRetry=o;else if(s.data!=="$?"||u.readyState!=="loading")o();else{var d=function(){o(),u.removeEventListener("DOMContentLoaded",d)};u.addEventListener("DOMContentLoaded",d),s._reactRetry=d}}function mo(s){for(;s!=null;s=s.nextSibling){var o=s.nodeType;if(o===1||o===3)break;if(o===8){if(o=s.data,o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"||o==="F!"||o==="F")break;if(o==="/$"||o==="/&")return null}}return s}var Mv=null;function oA(s){s=s.nextSibling;for(var o=0;s;){if(s.nodeType===8){var u=s.data;if(u==="/$"||u==="/&"){if(o===0)return mo(s.nextSibling);o--}else u!=="$"&&u!=="$!"&&u!=="$?"&&u!=="$~"&&u!=="&"||o++}s=s.nextSibling}return null}function lA(s){s=s.previousSibling;for(var o=0;s;){if(s.nodeType===8){var u=s.data;if(u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"){if(o===0)return s;o--}else u!=="/$"&&u!=="/&"||o++}s=s.previousSibling}return null}function uA(s,o,u){switch(o=a1(u),s){case"html":if(s=o.documentElement,!s)throw Error(r(452));return s;case"head":if(s=o.head,!s)throw Error(r(453));return s;case"body":if(s=o.body,!s)throw Error(r(454));return s;default:throw Error(r(451))}}function Pp(s){for(var o=s.attributes;o.length;)s.removeAttributeNode(o[0]);Pa(s)}var go=new Map,cA=new Set;function o1(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var pu=ue.d;ue.d={f:DP,r:OP,D:MP,C:VP,L:jP,m:FP,X:BP,S:UP,M:zP};function DP(){var s=pu.f(),o=Jg();return s||o}function OP(s){var o=Di(s);o!==null&&o.tag===5&&o.type==="form"?Iw(o):pu.r(s)}var Of=typeof document>"u"?null:document;function hA(s,o,u){var d=Of;if(d&&typeof o=="string"&&o){var y=Or(o);y='link[rel="'+s+'"][href="'+y+'"]',typeof u=="string"&&(y+='[crossorigin="'+u+'"]'),cA.has(y)||(cA.add(y),s={rel:s,crossOrigin:u,href:o},d.querySelector(y)===null&&(o=d.createElement("link"),ws(o,"link",s),Ir(o),d.head.appendChild(o)))}}function MP(s){pu.D(s),hA("dns-prefetch",s,null)}function VP(s,o){pu.C(s,o),hA("preconnect",s,o)}function jP(s,o,u){pu.L(s,o,u);var d=Of;if(d&&s&&o){var y='link[rel="preload"][as="'+Or(o)+'"]';o==="image"&&u&&u.imageSrcSet?(y+='[imagesrcset="'+Or(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(y+='[imagesizes="'+Or(u.imageSizes)+'"]')):y+='[href="'+Or(s)+'"]';var w=y;switch(o){case"style":w=Mf(s);break;case"script":w=Vf(s)}go.has(w)||(s=v({rel:"preload",href:o==="image"&&u&&u.imageSrcSet?void 0:s,as:o},u),go.set(w,s),d.querySelector(y)!==null||o==="style"&&d.querySelector(Lp(w))||o==="script"&&d.querySelector(kp(w))||(o=d.createElement("link"),ws(o,"link",s),Ir(o),d.head.appendChild(o)))}}function FP(s,o){pu.m(s,o);var u=Of;if(u&&s){var d=o&&typeof o.as=="string"?o.as:"script",y='link[rel="modulepreload"][as="'+Or(d)+'"][href="'+Or(s)+'"]',w=y;switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":w=Vf(s)}if(!go.has(w)&&(s=v({rel:"modulepreload",href:s},o),go.set(w,s),u.querySelector(y)===null)){switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(kp(w)))return}d=u.createElement("link"),ws(d,"link",s),Ir(d),u.head.appendChild(d)}}}function UP(s,o,u){pu.S(s,o,u);var d=Of;if(d&&s){var y=Is(d).hoistableStyles,w=Mf(s);o=o||"default";var C=y.get(w);if(!C){var W={loading:0,preload:null};if(C=d.querySelector(Lp(w)))W.loading=5;else{s=v({rel:"stylesheet",href:s,"data-precedence":o},u),(u=go.get(w))&&Vv(s,u);var de=C=d.createElement("link");Ir(de),ws(de,"link",s),de._p=new Promise(function(De,We){de.onload=De,de.onerror=We}),de.addEventListener("load",function(){W.loading|=1}),de.addEventListener("error",function(){W.loading|=2}),W.loading|=4,l1(C,o,d)}C={type:"stylesheet",instance:C,count:1,state:W},y.set(w,C)}}}function BP(s,o){pu.X(s,o);var u=Of;if(u&&s){var d=Is(u).hoistableScripts,y=Vf(s),w=d.get(y);w||(w=u.querySelector(kp(y)),w||(s=v({src:s,async:!0},o),(o=go.get(y))&&jv(s,o),w=u.createElement("script"),Ir(w),ws(w,"link",s),u.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},d.set(y,w))}}function zP(s,o){pu.M(s,o);var u=Of;if(u&&s){var d=Is(u).hoistableScripts,y=Vf(s),w=d.get(y);w||(w=u.querySelector(kp(y)),w||(s=v({src:s,async:!0,type:"module"},o),(o=go.get(y))&&jv(s,o),w=u.createElement("script"),Ir(w),ws(w,"link",s),u.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},d.set(y,w))}}function fA(s,o,u,d){var y=(y=he.current)?o1(y):null;if(!y)throw Error(r(446));switch(s){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(o=Mf(u.href),u=Is(y).hoistableStyles,d=u.get(o),d||(d={type:"style",instance:null,count:0,state:null},u.set(o,d)),d):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){s=Mf(u.href);var w=Is(y).hoistableStyles,C=w.get(s);if(C||(y=y.ownerDocument||y,C={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},w.set(s,C),(w=y.querySelector(Lp(s)))&&!w._p&&(C.instance=w,C.state.loading=5),go.has(s)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},go.set(s,u),w||qP(y,s,u,C.state))),o&&d===null)throw Error(r(528,""));return C}if(o&&d!==null)throw Error(r(529,""));return null;case"script":return o=u.async,u=u.src,typeof u=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=Vf(u),u=Is(y).hoistableScripts,d=u.get(o),d||(d={type:"script",instance:null,count:0,state:null},u.set(o,d)),d):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,s))}}function Mf(s){return'href="'+Or(s)+'"'}function Lp(s){return'link[rel="stylesheet"]['+s+"]"}function dA(s){return v({},s,{"data-precedence":s.precedence,precedence:null})}function qP(s,o,u,d){s.querySelector('link[rel="preload"][as="style"]['+o+"]")?d.loading=1:(o=s.createElement("link"),d.preload=o,o.addEventListener("load",function(){return d.loading|=1}),o.addEventListener("error",function(){return d.loading|=2}),ws(o,"link",u),Ir(o),s.head.appendChild(o))}function Vf(s){return'[src="'+Or(s)+'"]'}function kp(s){return"script[async]"+s}function pA(s,o,u){if(o.count++,o.instance===null)switch(o.type){case"style":var d=s.querySelector('style[data-href~="'+Or(u.href)+'"]');if(d)return o.instance=d,Ir(d),d;var y=v({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return d=(s.ownerDocument||s).createElement("style"),Ir(d),ws(d,"style",y),l1(d,u.precedence,s),o.instance=d;case"stylesheet":y=Mf(u.href);var w=s.querySelector(Lp(y));if(w)return o.state.loading|=4,o.instance=w,Ir(w),w;d=dA(u),(y=go.get(y))&&Vv(d,y),w=(s.ownerDocument||s).createElement("link"),Ir(w);var C=w;return C._p=new Promise(function(W,de){C.onload=W,C.onerror=de}),ws(w,"link",d),o.state.loading|=4,l1(w,u.precedence,s),o.instance=w;case"script":return w=Vf(u.src),(y=s.querySelector(kp(w)))?(o.instance=y,Ir(y),y):(d=u,(y=go.get(w))&&(d=v({},u),jv(d,y)),s=s.ownerDocument||s,y=s.createElement("script"),Ir(y),ws(y,"link",d),s.head.appendChild(y),o.instance=y);case"void":return null;default:throw Error(r(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(d=o.instance,o.state.loading|=4,l1(d,u.precedence,s));return o.instance}function l1(s,o,u){for(var d=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=d.length?d[d.length-1]:null,w=y,C=0;C<d.length;C++){var W=d[C];if(W.dataset.precedence===o)w=W;else if(w!==y)break}w?w.parentNode.insertBefore(s,w.nextSibling):(o=u.nodeType===9?u.head:u,o.insertBefore(s,o.firstChild))}function Vv(s,o){s.crossOrigin==null&&(s.crossOrigin=o.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=o.referrerPolicy),s.title==null&&(s.title=o.title)}function jv(s,o){s.crossOrigin==null&&(s.crossOrigin=o.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=o.referrerPolicy),s.integrity==null&&(s.integrity=o.integrity)}var u1=null;function mA(s,o,u){if(u1===null){var d=new Map,y=u1=new Map;y.set(u,d)}else y=u1,d=y.get(u),d||(d=new Map,y.set(u,d));if(d.has(s))return d;for(d.set(s,null),u=u.getElementsByTagName(s),y=0;y<u.length;y++){var w=u[y];if(!(w[Yi]||w[Hn]||s==="link"&&w.getAttribute("rel")==="stylesheet")&&w.namespaceURI!=="http://www.w3.org/2000/svg"){var C=w.getAttribute(o)||"";C=s+C;var W=d.get(C);W?W.push(w):d.set(C,[w])}}return d}function gA(s,o,u){s=s.ownerDocument||s,s.head.insertBefore(u,o==="title"?s.querySelector("head > title"):null)}function HP(s,o,u){if(u===1||o.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return s=o.disabled,typeof o.precedence=="string"&&s==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function yA(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function GP(s,o,u,d){if(u.type==="stylesheet"&&(typeof d.media!="string"||matchMedia(d.media).matches!==!1)&&(u.state.loading&4)===0){if(u.instance===null){var y=Mf(d.href),w=o.querySelector(Lp(y));if(w){o=w._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(s.count++,s=c1.bind(s),o.then(s,s)),u.state.loading|=4,u.instance=w,Ir(w);return}w=o.ownerDocument||o,d=dA(d),(y=go.get(y))&&Vv(d,y),w=w.createElement("link"),Ir(w);var C=w;C._p=new Promise(function(W,de){C.onload=W,C.onerror=de}),ws(w,"link",d),u.instance=w}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(u,o),(o=u.state.preload)&&(u.state.loading&3)===0&&(s.count++,u=c1.bind(s),o.addEventListener("load",u),o.addEventListener("error",u))}}var Fv=0;function $P(s,o){return s.stylesheets&&s.count===0&&f1(s,s.stylesheets),0<s.count||0<s.imgCount?function(u){var d=setTimeout(function(){if(s.stylesheets&&f1(s,s.stylesheets),s.unsuspend){var w=s.unsuspend;s.unsuspend=null,w()}},6e4+o);0<s.imgBytes&&Fv===0&&(Fv=62500*xP());var y=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&f1(s,s.stylesheets),s.unsuspend)){var w=s.unsuspend;s.unsuspend=null,w()}},(s.imgBytes>Fv?50:800)+o);return s.unsuspend=u,function(){s.unsuspend=null,clearTimeout(d),clearTimeout(y)}}:null}function c1(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)f1(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var h1=null;function f1(s,o){s.stylesheets=null,s.unsuspend!==null&&(s.count++,h1=new Map,o.forEach(WP,s),h1=null,c1.call(s))}function WP(s,o){if(!(o.state.loading&4)){var u=h1.get(s);if(u)var d=u.get(null);else{u=new Map,h1.set(s,u);for(var y=s.querySelectorAll("link[data-precedence],style[data-precedence]"),w=0;w<y.length;w++){var C=y[w];(C.nodeName==="LINK"||C.getAttribute("media")!=="not all")&&(u.set(C.dataset.precedence,C),d=C)}d&&u.set(null,d)}y=o.instance,C=y.getAttribute("data-precedence"),w=u.get(C)||d,w===d&&u.set(null,y),u.set(C,y),this.count++,d=c1.bind(this),y.addEventListener("load",d),y.addEventListener("error",d),w?w.parentNode.insertBefore(y,w.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(y,s.firstChild)),o.state.loading|=4}}var Dp={$$typeof:$,Provider:null,Consumer:null,_currentValue:pe,_currentValue2:pe,_threadCount:0};function KP(s,o,u,d,y,w,C,W,de){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=On(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=On(0),this.hiddenUpdates=On(null),this.identifierPrefix=d,this.onUncaughtError=y,this.onCaughtError=w,this.onRecoverableError=C,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=de,this.incompleteTransitions=new Map}function vA(s,o,u,d,y,w,C,W,de,De,We,Xe){return s=new KP(s,o,u,C,de,De,We,Xe,W),o=1,w===!0&&(o|=24),w=ts(3,null,null,o),s.current=w,w.stateNode=s,o=Ku(),o.refCount++,s.pooledCache=o,o.refCount++,w.memoizedState={element:d,isDehydrated:u,cache:o},lt(w),s}function _A(s){return s?(s=Fi,s):Fi}function bA(s,o,u,d,y,w){y=_A(y),d.context===null?d.context=y:d.pendingContext=y,d=$t(o),d.payload={element:u},w=w===void 0?null:w,w!==null&&(d.callback=w),u=dn(s,d,o),u!==null&&(Ta(u,s,o),Xn(u,s,o))}function wA(s,o){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var u=s.retryLane;s.retryLane=u!==0&&u<o?u:o}}function Uv(s,o){wA(s,o),(s=s.alternate)&&wA(s,o)}function EA(s){if(s.tag===13||s.tag===31){var o=Mo(s,67108864);o!==null&&Ta(o,s,67108864),Uv(s,67108864)}}function AA(s){if(s.tag===13||s.tag===31){var o=qa();o=Bn(o);var u=Mo(s,o);u!==null&&Ta(u,s,o),Uv(s,o)}}var d1=!0;function YP(s,o,u,d){var y=re.T;re.T=null;var w=ue.p;try{ue.p=2,Bv(s,o,u,d)}finally{ue.p=w,re.T=y}}function QP(s,o,u,d){var y=re.T;re.T=null;var w=ue.p;try{ue.p=8,Bv(s,o,u,d)}finally{ue.p=w,re.T=y}}function Bv(s,o,u,d){if(d1){var y=zv(d);if(y===null)Iv(s,o,d,p1,u),TA(s,d);else if(JP(y,s,o,u,d))d.stopPropagation();else if(TA(s,d),o&4&&-1<XP.indexOf(s)){for(;y!==null;){var w=Di(y);if(w!==null)switch(w.tag){case 3:if(w=w.stateNode,w.current.memoizedState.isDehydrated){var C=Ke(w.pendingLanes);if(C!==0){var W=w;for(W.pendingLanes|=2,W.entangledLanes|=2;C;){var de=1<<31-Zt(C);W.entanglements[1]|=de,C&=~de}El(w),(Zn&6)===0&&(Qg=Jt()+500,Np(0))}}break;case 31:case 13:W=Mo(w,2),W!==null&&Ta(W,w,2),Jg(),Uv(w,2)}if(w=zv(d),w===null&&Iv(s,o,d,p1,u),w===y)break;y=w}y!==null&&d.stopPropagation()}else Iv(s,o,d,null,u)}}function zv(s){return s=Ji(s),qv(s)}var p1=null;function qv(s){if(p1=null,s=us(s),s!==null){var o=a(s);if(o===null)s=null;else{var u=o.tag;if(u===13){if(s=l(o),s!==null)return s;s=null}else if(u===31){if(s=c(o),s!==null)return s;s=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;s=null}else o!==s&&(s=null)}}return p1=s,null}function SA(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(tn()){case Kt:return 2;case fn:return 8;case nn:case wt:return 32;case Qt:return 268435456;default:return 32}default:return 32}}var Hv=!1,oc=null,lc=null,uc=null,Op=new Map,Mp=new Map,cc=[],XP="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function TA(s,o){switch(s){case"focusin":case"focusout":oc=null;break;case"dragenter":case"dragleave":lc=null;break;case"mouseover":case"mouseout":uc=null;break;case"pointerover":case"pointerout":Op.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mp.delete(o.pointerId)}}function Vp(s,o,u,d,y,w){return s===null||s.nativeEvent!==w?(s={blockedOn:o,domEventName:u,eventSystemFlags:d,nativeEvent:w,targetContainers:[y]},o!==null&&(o=Di(o),o!==null&&EA(o)),s):(s.eventSystemFlags|=d,o=s.targetContainers,y!==null&&o.indexOf(y)===-1&&o.push(y),s)}function JP(s,o,u,d,y){switch(o){case"focusin":return oc=Vp(oc,s,o,u,d,y),!0;case"dragenter":return lc=Vp(lc,s,o,u,d,y),!0;case"mouseover":return uc=Vp(uc,s,o,u,d,y),!0;case"pointerover":var w=y.pointerId;return Op.set(w,Vp(Op.get(w)||null,s,o,u,d,y)),!0;case"gotpointercapture":return w=y.pointerId,Mp.set(w,Vp(Mp.get(w)||null,s,o,u,d,y)),!0}return!1}function xA(s){var o=us(s.target);if(o!==null){var u=a(o);if(u!==null){if(o=u.tag,o===13){if(o=l(u),o!==null){s.blockedOn=o,ki(s.priority,function(){AA(u)});return}}else if(o===31){if(o=c(u),o!==null){s.blockedOn=o,ki(s.priority,function(){AA(u)});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){s.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}s.blockedOn=null}function m1(s){if(s.blockedOn!==null)return!1;for(var o=s.targetContainers;0<o.length;){var u=zv(s.nativeEvent);if(u===null){u=s.nativeEvent;var d=new u.constructor(u.type,u);Oa=d,u.target.dispatchEvent(d),Oa=null}else return o=Di(u),o!==null&&EA(o),s.blockedOn=u,!1;o.shift()}return!0}function IA(s,o,u){m1(s)&&u.delete(o)}function ZP(){Hv=!1,oc!==null&&m1(oc)&&(oc=null),lc!==null&&m1(lc)&&(lc=null),uc!==null&&m1(uc)&&(uc=null),Op.forEach(IA),Mp.forEach(IA)}function g1(s,o){s.blockedOn===o&&(s.blockedOn=null,Hv||(Hv=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,ZP)))}var y1=null;function NA(s){y1!==s&&(y1=s,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){y1===s&&(y1=null);for(var o=0;o<s.length;o+=3){var u=s[o],d=s[o+1],y=s[o+2];if(typeof d!="function"){if(qv(d||u)===null)continue;break}var w=Di(u);w!==null&&(s.splice(o,3),o-=3,z0(w,{pending:!0,data:y,method:u.method,action:d},d,y))}}))}function jf(s){function o(de){return g1(de,s)}oc!==null&&g1(oc,s),lc!==null&&g1(lc,s),uc!==null&&g1(uc,s),Op.forEach(o),Mp.forEach(o);for(var u=0;u<cc.length;u++){var d=cc[u];d.blockedOn===s&&(d.blockedOn=null)}for(;0<cc.length&&(u=cc[0],u.blockedOn===null);)xA(u),u.blockedOn===null&&cc.shift();if(u=(s.ownerDocument||s).$$reactFormReplay,u!=null)for(d=0;d<u.length;d+=3){var y=u[d],w=u[d+1],C=y[ir]||null;if(typeof w=="function")C||NA(u);else if(C){var W=null;if(w&&w.hasAttribute("formAction")){if(y=w,C=w[ir]||null)W=C.formAction;else if(qv(y)!==null)continue}else W=C.action;typeof W=="function"?u[d+1]=W:(u.splice(d,3),d-=3),NA(u)}}}function CA(){function s(w){w.canIntercept&&w.info==="react-transition"&&w.intercept({handler:function(){return new Promise(function(C){return y=C})},focusReset:"manual",scroll:"manual"})}function o(){y!==null&&(y(),y=null),d||setTimeout(u,20)}function u(){if(!d&&!navigation.transition){var w=navigation.currentEntry;w&&w.url!=null&&navigation.navigate(w.url,{state:w.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var d=!1,y=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",o),navigation.addEventListener("navigateerror",o),setTimeout(u,100),function(){d=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",o),navigation.removeEventListener("navigateerror",o),y!==null&&(y(),y=null)}}}function Gv(s){this._internalRoot=s}v1.prototype.render=Gv.prototype.render=function(s){var o=this._internalRoot;if(o===null)throw Error(r(409));var u=o.current,d=qa();bA(u,d,s,o,null,null)},v1.prototype.unmount=Gv.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var o=s.containerInfo;bA(s.current,2,null,s,null,null),Jg(),o[ei]=null}};function v1(s){this._internalRoot=s}v1.prototype.unstable_scheduleHydration=function(s){if(s){var o=Zr();s={blockedOn:null,target:s,priority:o};for(var u=0;u<cc.length&&o!==0&&o<cc[u].priority;u++);cc.splice(u,0,s),u===0&&xA(s)}};var RA=e.version;if(RA!=="19.2.1")throw Error(r(527,RA,"19.2.1"));ue.findDOMNode=function(s){var o=s._reactInternals;if(o===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=f(o),s=s!==null?p(s):null,s=s===null?null:s.stateNode,s};var eL={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:re,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _1=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_1.isDisabled&&_1.supportsFiber)try{rn=_1.inject(eL),Dt=_1}catch{}}return Fp.createRoot=function(s,o){if(!i(s))throw Error(r(299));var u=!1,d="",y=Vw,w=jw,C=Fw;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onUncaughtError!==void 0&&(y=o.onUncaughtError),o.onCaughtError!==void 0&&(w=o.onCaughtError),o.onRecoverableError!==void 0&&(C=o.onRecoverableError)),o=vA(s,1,!1,null,null,u,d,null,y,w,C,CA),s[ei]=o.current,xv(s),new Gv(o)},Fp.hydrateRoot=function(s,o,u){if(!i(s))throw Error(r(299));var d=!1,y="",w=Vw,C=jw,W=Fw,de=null;return u!=null&&(u.unstable_strictMode===!0&&(d=!0),u.identifierPrefix!==void 0&&(y=u.identifierPrefix),u.onUncaughtError!==void 0&&(w=u.onUncaughtError),u.onCaughtError!==void 0&&(C=u.onCaughtError),u.onRecoverableError!==void 0&&(W=u.onRecoverableError),u.formState!==void 0&&(de=u.formState)),o=vA(s,1,!0,o,u??null,d,y,de,w,C,W,CA),o.context=_A(null),u=o.current,d=qa(),d=Bn(d),y=$t(d),y.callback=null,dn(u,y,d),u=d,o.current.lanes=u,mt(o,u),El(o),s[ei]=o.current,xv(s),new v1(o)},Fp.version="19.2.1",Fp}var UA;function uL(){if(UA)return Kv.exports;UA=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Kv.exports=lL(),Kv.exports}var cL=uL();const hL=eg(cL);var BA="popstate";function fL(n={}){function e(r,i){let{pathname:a,search:l,hash:c}=r.location;return Z2("",{pathname:a,search:l,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(r,i){return typeof i=="string"?i:xm(i)}return pL(e,t,null,n)}function Gi(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function bo(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function dL(){return Math.random().toString(36).substring(2,10)}function zA(n,e){return{usr:n.state,key:n.key,idx:e}}function Z2(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?tg(e):e,state:t,key:e&&e.key||r||dL()}}function xm({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function tg(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function pL(n,e,t,r={}){let{window:i=document.defaultView,v5Compat:a=!1}=r,l=i.history,c="POP",h=null,f=p();f==null&&(f=0,l.replaceState({...l.state,idx:f},""));function p(){return(l.state||{idx:null}).idx}function v(){c="POP";let M=p(),k=M==null?null:M-f;f=M,h&&h({action:c,location:P.location,delta:k})}function E(M,k){c="PUSH";let K=Z2(P.location,M,k);f=p()+1;let $=zA(K,f),ee=P.createHref(K);try{l.pushState($,"",ee)}catch(ye){if(ye instanceof DOMException&&ye.name==="DataCloneError")throw ye;i.location.assign(ee)}a&&h&&h({action:c,location:P.location,delta:1})}function b(M,k){c="REPLACE";let K=Z2(P.location,M,k);f=p();let $=zA(K,f),ee=P.createHref(K);l.replaceState($,"",ee),a&&h&&h({action:c,location:P.location,delta:0})}function R(M){return mL(M)}let P={get action(){return c},get location(){return n(i,l)},listen(M){if(h)throw new Error("A history only accepts one active listener");return i.addEventListener(BA,v),h=M,()=>{i.removeEventListener(BA,v),h=null}},createHref(M){return e(i,M)},createURL:R,encodeLocation(M){let k=R(M);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:E,replace:b,go(M){return l.go(M)}};return P}function mL(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Gi(t,"No window.location.(origin|href) available to create URL");let r=typeof n=="string"?n:xm(n);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=t+r),new URL(r,t)}function z4(n,e,t="/"){return gL(n,e,t,!1)}function gL(n,e,t,r){let i=typeof e=="string"?tg(e):e,a=Au(i.pathname||"/",t);if(a==null)return null;let l=q4(n);yL(l);let c=null;for(let h=0;c==null&&h<l.length;++h){let f=NL(a);c=xL(l[h],f,r)}return c}function q4(n,e=[],t=[],r="",i=!1){let a=(l,c,h=i,f)=>{let p={relativePath:f===void 0?l.path||"":f,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};if(p.relativePath.startsWith("/")){if(!p.relativePath.startsWith(r)&&h)return;Gi(p.relativePath.startsWith(r),`Absolute route path "${p.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(r.length)}let v=wu([r,p.relativePath]),E=t.concat(p);l.children&&l.children.length>0&&(Gi(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),q4(l.children,e,E,v,h)),!(l.path==null&&!l.index)&&e.push({path:v,score:SL(v,l.index),routesMeta:E})};return n.forEach((l,c)=>{if(l.path===""||!l.path?.includes("?"))a(l,c);else for(let h of H4(l.path))a(l,c,!0,h)}),e}function H4(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,i=t.endsWith("?"),a=t.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let l=H4(r.join("/")),c=[];return c.push(...l.map(h=>h===""?a:[a,h].join("/"))),i&&c.push(...l),c.map(h=>n.startsWith("/")&&h===""?"/":h)}function yL(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:TL(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var vL=/^:[\w-]+$/,_L=3,bL=2,wL=1,EL=10,AL=-2,qA=n=>n==="*";function SL(n,e){let t=n.split("/"),r=t.length;return t.some(qA)&&(r+=AL),e&&(r+=bL),t.filter(i=>!qA(i)).reduce((i,a)=>i+(vL.test(a)?_L:a===""?wL:EL),r)}function TL(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function xL(n,e,t=!1){let{routesMeta:r}=n,i={},a="/",l=[];for(let c=0;c<r.length;++c){let h=r[c],f=c===r.length-1,p=a==="/"?e:e.slice(a.length)||"/",v=hy({path:h.relativePath,caseSensitive:h.caseSensitive,end:f},p),E=h.route;if(!v&&f&&t&&!r[r.length-1].route.index&&(v=hy({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},p)),!v)return null;Object.assign(i,v.params),l.push({params:i,pathname:wu([a,v.pathname]),pathnameBase:kL(wu([a,v.pathnameBase])),route:E}),v.pathnameBase!=="/"&&(a=wu([a,v.pathnameBase]))}return l}function hy(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=IL(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let a=i[0],l=a.replace(/(.)\/+$/,"$1"),c=i.slice(1);return{params:r.reduce((f,{paramName:p,isOptional:v},E)=>{if(p==="*"){let R=c[E]||"";l=a.slice(0,a.length-R.length).replace(/(.)\/+$/,"$1")}const b=c[E];return v&&!b?f[p]=void 0:f[p]=(b||"").replace(/%2F/g,"/"),f},{}),pathname:a,pathnameBase:l,pattern:n}}function IL(n,e=!1,t=!0){bo(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,h)=>(r.push({paramName:c,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(r.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function NL(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return bo(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Au(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}var CL=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,RL=n=>CL.test(n);function PL(n,e="/"){let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?tg(n):n,a;if(t)if(RL(t))a=t;else{if(t.includes("//")){let l=t;t=t.replace(/\/\/+/g,"/"),bo(!1,`Pathnames cannot have embedded double slashes - normalizing ${l} -> ${t}`)}t.startsWith("/")?a=HA(t.substring(1),"/"):a=HA(t,e)}else a=e;return{pathname:a,search:DL(r),hash:OL(i)}}function HA(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function Jv(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function LL(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function G4(n){let e=LL(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function $4(n,e,t,r=!1){let i;typeof n=="string"?i=tg(n):(i={...n},Gi(!i.pathname||!i.pathname.includes("?"),Jv("?","pathname","search",i)),Gi(!i.pathname||!i.pathname.includes("#"),Jv("#","pathname","hash",i)),Gi(!i.search||!i.search.includes("#"),Jv("#","search","hash",i)));let a=n===""||i.pathname==="",l=a?"/":i.pathname,c;if(l==null)c=t;else{let v=e.length-1;if(!r&&l.startsWith("..")){let E=l.split("/");for(;E[0]==="..";)E.shift(),v-=1;i.pathname=E.join("/")}c=v>=0?e[v]:"/"}let h=PL(i,c),f=l&&l!=="/"&&l.endsWith("/"),p=(a||l===".")&&t.endsWith("/");return!h.pathname.endsWith("/")&&(f||p)&&(h.pathname+="/"),h}var wu=n=>n.join("/").replace(/\/\/+/g,"/"),kL=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),DL=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,OL=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function ML(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}function VL(n){return n.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var W4=["POST","PUT","PATCH","DELETE"];new Set(W4);var jL=["GET",...W4];new Set(jL);var Ud=ce.createContext(null);Ud.displayName="DataRouter";var Hy=ce.createContext(null);Hy.displayName="DataRouterState";ce.createContext(!1);var K4=ce.createContext({isTransitioning:!1});K4.displayName="ViewTransition";var FL=ce.createContext(new Map);FL.displayName="Fetchers";var UL=ce.createContext(null);UL.displayName="Await";var Jo=ce.createContext(null);Jo.displayName="Navigation";var Gy=ce.createContext(null);Gy.displayName="Location";var Cu=ce.createContext({outlet:null,matches:[],isDataRoute:!1});Cu.displayName="Route";var h5=ce.createContext(null);h5.displayName="RouteError";function BL(n,{relative:e}={}){Gi(ng(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=ce.useContext(Jo),{hash:i,pathname:a,search:l}=rg(n,{relative:e}),c=a;return t!=="/"&&(c=a==="/"?t:wu([t,a])),r.createHref({pathname:c,search:l,hash:i})}function ng(){return ce.useContext(Gy)!=null}function qc(){return Gi(ng(),"useLocation() may be used only in the context of a <Router> component."),ce.useContext(Gy).location}var Y4="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Q4(n){ce.useContext(Jo).static||ce.useLayoutEffect(n)}function X4(){let{isDataRoute:n}=ce.useContext(Cu);return n?ek():zL()}function zL(){Gi(ng(),"useNavigate() may be used only in the context of a <Router> component.");let n=ce.useContext(Ud),{basename:e,navigator:t}=ce.useContext(Jo),{matches:r}=ce.useContext(Cu),{pathname:i}=qc(),a=JSON.stringify(G4(r)),l=ce.useRef(!1);return Q4(()=>{l.current=!0}),ce.useCallback((h,f={})=>{if(bo(l.current,Y4),!l.current)return;if(typeof h=="number"){t.go(h);return}let p=$4(h,JSON.parse(a),i,f.relative==="path");n==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:wu([e,p.pathname])),(f.replace?t.replace:t.push)(p,f.state,f)},[e,t,a,i,n])}ce.createContext(null);function rg(n,{relative:e}={}){let{matches:t}=ce.useContext(Cu),{pathname:r}=qc(),i=JSON.stringify(G4(t));return ce.useMemo(()=>$4(n,JSON.parse(i),r,e==="path"),[n,i,r,e])}function qL(n,e,t,r,i){Gi(ng(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=ce.useContext(Jo),{matches:l}=ce.useContext(Cu),c=l[l.length-1],h=c?c.params:{},f=c?c.pathname:"/",p=c?c.pathnameBase:"/",v=c&&c.route;{let K=v&&v.path||"";J4(f,!v||K.endsWith("*")||K.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${K}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${K}"> to <Route path="${K==="/"?"*":`${K}/*`}">.`)}let E=qc(),b;b=E;let R=b.pathname||"/",P=R;if(p!=="/"){let K=p.replace(/^\//,"").split("/");P="/"+R.replace(/^\//,"").split("/").slice(K.length).join("/")}let M=z4(n,{pathname:P});return bo(v||M!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),bo(M==null||M[M.length-1].route.element!==void 0||M[M.length-1].route.Component!==void 0||M[M.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),KL(M&&M.map(K=>Object.assign({},K,{params:Object.assign({},h,K.params),pathname:wu([p,a.encodeLocation?a.encodeLocation(K.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:K.pathname]),pathnameBase:K.pathnameBase==="/"?p:wu([p,a.encodeLocation?a.encodeLocation(K.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:K.pathnameBase])})),l,t,r,i)}function HL(){let n=ZL(),e=ML(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",n),l=ce.createElement(ce.Fragment,null,ce.createElement("p",null," Hey developer "),ce.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",ce.createElement("code",{style:a},"ErrorBoundary")," or"," ",ce.createElement("code",{style:a},"errorElement")," prop on your route.")),ce.createElement(ce.Fragment,null,ce.createElement("h2",null,"Unexpected Application Error!"),ce.createElement("h3",{style:{fontStyle:"italic"}},e),t?ce.createElement("pre",{style:i},t):null,l)}var GL=ce.createElement(HL,null),$L=class extends ce.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.onError?this.props.onError(n,e):console.error("React Router caught the following error during render",n)}render(){return this.state.error!==void 0?ce.createElement(Cu.Provider,{value:this.props.routeContext},ce.createElement(h5.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function WL({routeContext:n,match:e,children:t}){let r=ce.useContext(Ud);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),ce.createElement(Cu.Provider,{value:n},t)}function KL(n,e=[],t=null,r=null,i=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let a=n,l=t?.errors;if(l!=null){let p=a.findIndex(v=>v.route.id&&l?.[v.route.id]!==void 0);Gi(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),a=a.slice(0,Math.min(a.length,p+1))}let c=!1,h=-1;if(t)for(let p=0;p<a.length;p++){let v=a[p];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(h=p),v.route.id){let{loaderData:E,errors:b}=t,R=v.route.loader&&!E.hasOwnProperty(v.route.id)&&(!b||b[v.route.id]===void 0);if(v.route.lazy||R){c=!0,h>=0?a=a.slice(0,h+1):a=[a[0]];break}}}let f=t&&r?(p,v)=>{r(p,{location:t.location,params:t.matches?.[0]?.params??{},unstable_pattern:VL(t.matches),errorInfo:v})}:void 0;return a.reduceRight((p,v,E)=>{let b,R=!1,P=null,M=null;t&&(b=l&&v.route.id?l[v.route.id]:void 0,P=v.route.errorElement||GL,c&&(h<0&&E===0?(J4("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),R=!0,M=null):h===E&&(R=!0,M=v.route.hydrateFallbackElement||null)));let k=e.concat(a.slice(0,E+1)),K=()=>{let $;return b?$=P:R?$=M:v.route.Component?$=ce.createElement(v.route.Component,null):v.route.element?$=v.route.element:$=p,ce.createElement(WL,{match:v,routeContext:{outlet:p,matches:k,isDataRoute:t!=null},children:$})};return t&&(v.route.ErrorBoundary||v.route.errorElement||E===0)?ce.createElement($L,{location:t.location,revalidation:t.revalidation,component:P,error:b,children:K(),routeContext:{outlet:null,matches:k,isDataRoute:!0},onError:f}):K()},null)}function f5(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function YL(n){let e=ce.useContext(Ud);return Gi(e,f5(n)),e}function QL(n){let e=ce.useContext(Hy);return Gi(e,f5(n)),e}function XL(n){let e=ce.useContext(Cu);return Gi(e,f5(n)),e}function d5(n){let e=XL(n),t=e.matches[e.matches.length-1];return Gi(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function JL(){return d5("useRouteId")}function ZL(){let n=ce.useContext(h5),e=QL("useRouteError"),t=d5("useRouteError");return n!==void 0?n:e.errors?.[t]}function ek(){let{router:n}=YL("useNavigate"),e=d5("useNavigate"),t=ce.useRef(!1);return Q4(()=>{t.current=!0}),ce.useCallback(async(i,a={})=>{bo(t.current,Y4),t.current&&(typeof i=="number"?await n.navigate(i):await n.navigate(i,{fromRouteId:e,...a}))},[n,e])}var GA={};function J4(n,e,t){!e&&!GA[n]&&(GA[n]=!0,bo(!1,t))}ce.memo(tk);function tk({routes:n,future:e,state:t,unstable_onError:r}){return qL(n,void 0,t,r,e)}function nk({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:i,static:a=!1,unstable_useTransitions:l}){Gi(!ng(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=n.replace(/^\/*/,"/"),h=ce.useMemo(()=>({basename:c,navigator:i,static:a,unstable_useTransitions:l,future:{}}),[c,i,a,l]);typeof t=="string"&&(t=tg(t));let{pathname:f="/",search:p="",hash:v="",state:E=null,key:b="default"}=t,R=ce.useMemo(()=>{let P=Au(f,c);return P==null?null:{location:{pathname:P,search:p,hash:v,state:E,key:b},navigationType:r}},[c,f,p,v,E,b,r]);return bo(R!=null,`<Router basename="${c}"> is not able to match the URL "${f}${p}${v}" because it does not start with the basename, so the <Router> won't render anything.`),R==null?null:ce.createElement(Jo.Provider,{value:h},ce.createElement(Gy.Provider,{children:e,value:R}))}var U1="get",B1="application/x-www-form-urlencoded";function $y(n){return typeof HTMLElement<"u"&&n instanceof HTMLElement}function rk(n){return $y(n)&&n.tagName.toLowerCase()==="button"}function ik(n){return $y(n)&&n.tagName.toLowerCase()==="form"}function sk(n){return $y(n)&&n.tagName.toLowerCase()==="input"}function ak(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function ok(n,e){return n.button===0&&(!e||e==="_self")&&!ak(n)}function e_(n=""){return new URLSearchParams(typeof n=="string"||Array.isArray(n)||n instanceof URLSearchParams?n:Object.keys(n).reduce((e,t)=>{let r=n[t];return e.concat(Array.isArray(r)?r.map(i=>[t,i]):[[t,r]])},[]))}function lk(n,e){let t=e_(n);return e&&e.forEach((r,i)=>{t.has(i)||e.getAll(i).forEach(a=>{t.append(i,a)})}),t}var w1=null;function uk(){if(w1===null)try{new FormData(document.createElement("form"),0),w1=!1}catch{w1=!0}return w1}var ck=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Zv(n){return n!=null&&!ck.has(n)?(bo(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${B1}"`),null):n}function hk(n,e){let t,r,i,a,l;if(ik(n)){let c=n.getAttribute("action");r=c?Au(c,e):null,t=n.getAttribute("method")||U1,i=Zv(n.getAttribute("enctype"))||B1,a=new FormData(n)}else if(rk(n)||sk(n)&&(n.type==="submit"||n.type==="image")){let c=n.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=n.getAttribute("formaction")||c.getAttribute("action");if(r=h?Au(h,e):null,t=n.getAttribute("formmethod")||c.getAttribute("method")||U1,i=Zv(n.getAttribute("formenctype"))||Zv(c.getAttribute("enctype"))||B1,a=new FormData(c,n),!uk()){let{name:f,type:p,value:v}=n;if(p==="image"){let E=f?`${f}.`:"";a.append(`${E}x`,"0"),a.append(`${E}y`,"0")}else f&&a.append(f,v)}}else{if($y(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=U1,r=null,i=B1,l=n}return a&&i==="text/plain"&&(l=a,a=void 0),{action:r,method:t.toLowerCase(),encType:i,formData:a,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function p5(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function fk(n,e,t){let r=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return r.pathname==="/"?r.pathname=`_root.${t}`:e&&Au(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${t}`,r}async function dk(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function pk(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function mk(n,e,t){let r=await Promise.all(n.map(async i=>{let a=e.routes[i.route.id];if(a){let l=await dk(a,t);return l.links?l.links():[]}return[]}));return _k(r.flat(1).filter(pk).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function $A(n,e,t,r,i,a){let l=(h,f)=>t[f]?h.route.id!==t[f].route.id:!0,c=(h,f)=>t[f].pathname!==h.pathname||t[f].route.path?.endsWith("*")&&t[f].params["*"]!==h.params["*"];return a==="assets"?e.filter((h,f)=>l(h,f)||c(h,f)):a==="data"?e.filter((h,f)=>{let p=r.routes[h.route.id];if(!p||!p.hasLoader)return!1;if(l(h,f)||c(h,f))return!0;if(h.route.shouldRevalidate){let v=h.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function gk(n,e,{includeHydrateFallback:t}={}){return yk(n.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),t&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function yk(n){return[...new Set(n)]}function vk(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function _k(n,e){let t=new Set;return new Set(e),n.reduce((r,i)=>{let a=JSON.stringify(vk(i));return t.has(a)||(t.add(a),r.push({key:a,link:i})),r},[])}function Z4(){let n=ce.useContext(Ud);return p5(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function bk(){let n=ce.useContext(Hy);return p5(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var m5=ce.createContext(void 0);m5.displayName="FrameworkContext";function eI(){let n=ce.useContext(m5);return p5(n,"You must render this element inside a <HydratedRouter> element"),n}function wk(n,e){let t=ce.useContext(m5),[r,i]=ce.useState(!1),[a,l]=ce.useState(!1),{onFocus:c,onBlur:h,onMouseEnter:f,onMouseLeave:p,onTouchStart:v}=e,E=ce.useRef(null);ce.useEffect(()=>{if(n==="render"&&l(!0),n==="viewport"){let P=k=>{k.forEach(K=>{l(K.isIntersecting)})},M=new IntersectionObserver(P,{threshold:.5});return E.current&&M.observe(E.current),()=>{M.disconnect()}}},[n]),ce.useEffect(()=>{if(r){let P=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(P)}}},[r]);let b=()=>{i(!0)},R=()=>{i(!1),l(!1)};return t?n!=="intent"?[a,E,{}]:[a,E,{onFocus:Up(c,b),onBlur:Up(h,R),onMouseEnter:Up(f,b),onMouseLeave:Up(p,R),onTouchStart:Up(v,b)}]:[!1,E,{}]}function Up(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function Ek({page:n,...e}){let{router:t}=Z4(),r=ce.useMemo(()=>z4(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?ce.createElement(Sk,{page:n,matches:r,...e}):null}function Ak(n){let{manifest:e,routeModules:t}=eI(),[r,i]=ce.useState([]);return ce.useEffect(()=>{let a=!1;return mk(n,e,t).then(l=>{a||i(l)}),()=>{a=!0}},[n,e,t]),r}function Sk({page:n,matches:e,...t}){let r=qc(),{manifest:i,routeModules:a}=eI(),{basename:l}=Z4(),{loaderData:c,matches:h}=bk(),f=ce.useMemo(()=>$A(n,e,h,i,r,"data"),[n,e,h,i,r]),p=ce.useMemo(()=>$A(n,e,h,i,r,"assets"),[n,e,h,i,r]),v=ce.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let R=new Set,P=!1;if(e.forEach(k=>{let K=i.routes[k.route.id];!K||!K.hasLoader||(!f.some($=>$.route.id===k.route.id)&&k.route.id in c&&a[k.route.id]?.shouldRevalidate||K.hasClientLoader?P=!0:R.add(k.route.id))}),R.size===0)return[];let M=fk(n,l,"data");return P&&R.size>0&&M.searchParams.set("_routes",e.filter(k=>R.has(k.route.id)).map(k=>k.route.id).join(",")),[M.pathname+M.search]},[l,c,r,i,f,e,n,a]),E=ce.useMemo(()=>gk(p,i),[p,i]),b=Ak(p);return ce.createElement(ce.Fragment,null,v.map(R=>ce.createElement("link",{key:R,rel:"prefetch",as:"fetch",href:R,...t})),E.map(R=>ce.createElement("link",{key:R,rel:"modulepreload",href:R,...t})),b.map(({key:R,link:P})=>ce.createElement("link",{key:R,nonce:t.nonce,...P})))}function Tk(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var tI=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{tI&&(window.__reactRouterVersion="7.10.1")}catch{}function xk({basename:n,children:e,unstable_useTransitions:t,window:r}){let i=ce.useRef();i.current==null&&(i.current=fL({window:r,v5Compat:!0}));let a=i.current,[l,c]=ce.useState({action:a.action,location:a.location}),h=ce.useCallback(f=>{t===!1?c(f):ce.startTransition(()=>c(f))},[t]);return ce.useLayoutEffect(()=>a.listen(h),[a,h]),ce.createElement(nk,{basename:n,children:e,location:l.location,navigationType:l.action,navigator:a,unstable_useTransitions:t===!0})}var nI=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,rI=ce.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:i,reloadDocument:a,replace:l,state:c,target:h,to:f,preventScrollReset:p,viewTransition:v,...E},b){let{basename:R,unstable_useTransitions:P}=ce.useContext(Jo),M=typeof f=="string"&&nI.test(f),k,K=!1;if(typeof f=="string"&&M&&(k=f,tI))try{let G=new URL(window.location.href),I=f.startsWith("//")?new URL(G.protocol+f):new URL(f),j=Au(I.pathname,R);I.origin===G.origin&&j!=null?f=j+I.search+I.hash:K=!0}catch{bo(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let $=BL(f,{relative:i}),[ee,ye,ve]=wk(r,E),z=Rk(f,{replace:l,state:c,target:h,preventScrollReset:p,relative:i,viewTransition:v,unstable_useTransitions:P});function F(G){e&&e(G),G.defaultPrevented||z(G)}let D=ce.createElement("a",{...E,...ve,href:k||$,onClick:K||a?e:F,ref:Tk(b,ye),target:h,"data-discover":!M&&t==="render"?"true":void 0});return ee&&!M?ce.createElement(ce.Fragment,null,D,ce.createElement(Ek,{page:$})):D});rI.displayName="Link";var Ik=ce.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:i=!1,style:a,to:l,viewTransition:c,children:h,...f},p){let v=rg(l,{relative:f.relative}),E=qc(),b=ce.useContext(Hy),{navigator:R,basename:P}=ce.useContext(Jo),M=b!=null&&Mk(v)&&c===!0,k=R.encodeLocation?R.encodeLocation(v).pathname:v.pathname,K=E.pathname,$=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;t||(K=K.toLowerCase(),$=$?$.toLowerCase():null,k=k.toLowerCase()),$&&P&&($=Au($,P)||$);const ee=k!=="/"&&k.endsWith("/")?k.length-1:k.length;let ye=K===k||!i&&K.startsWith(k)&&K.charAt(ee)==="/",ve=$!=null&&($===k||!i&&$.startsWith(k)&&$.charAt(k.length)==="/"),z={isActive:ye,isPending:ve,isTransitioning:M},F=ye?e:void 0,D;typeof r=="function"?D=r(z):D=[r,ye?"active":null,ve?"pending":null,M?"transitioning":null].filter(Boolean).join(" ");let G=typeof a=="function"?a(z):a;return ce.createElement(rI,{...f,"aria-current":F,className:D,ref:p,style:G,to:l,viewTransition:c},typeof h=="function"?h(z):h)});Ik.displayName="NavLink";var Nk=ce.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:i,state:a,method:l=U1,action:c,onSubmit:h,relative:f,preventScrollReset:p,viewTransition:v,...E},b)=>{let{unstable_useTransitions:R}=ce.useContext(Jo),P=Dk(),M=Ok(c,{relative:f}),k=l.toLowerCase()==="get"?"get":"post",K=typeof c=="string"&&nI.test(c),$=ee=>{if(h&&h(ee),ee.defaultPrevented)return;ee.preventDefault();let ye=ee.nativeEvent.submitter,ve=ye?.getAttribute("formmethod")||l,z=()=>P(ye||ee.currentTarget,{fetcherKey:e,method:ve,navigate:t,replace:i,state:a,relative:f,preventScrollReset:p,viewTransition:v});R&&t!==!1?ce.startTransition(()=>z()):z()};return ce.createElement("form",{ref:b,method:k,action:M,onSubmit:r?h:$,...E,"data-discover":!K&&n==="render"?"true":void 0})});Nk.displayName="Form";function Ck(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function iI(n){let e=ce.useContext(Ud);return Gi(e,Ck(n)),e}function Rk(n,{target:e,replace:t,state:r,preventScrollReset:i,relative:a,viewTransition:l,unstable_useTransitions:c}={}){let h=X4(),f=qc(),p=rg(n,{relative:a});return ce.useCallback(v=>{if(ok(v,e)){v.preventDefault();let E=t!==void 0?t:xm(f)===xm(p),b=()=>h(n,{replace:E,state:r,preventScrollReset:i,relative:a,viewTransition:l});c?ce.startTransition(()=>b()):b()}},[f,h,p,t,r,e,n,i,a,l,c])}function Pk(n){bo(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=ce.useRef(e_(n)),t=ce.useRef(!1),r=qc(),i=ce.useMemo(()=>lk(r.search,t.current?null:e.current),[r.search]),a=X4(),l=ce.useCallback((c,h)=>{const f=e_(typeof c=="function"?c(new URLSearchParams(i)):c);t.current=!0,a("?"+f,h)},[a,i]);return[i,l]}var Lk=0,kk=()=>`__${String(++Lk)}__`;function Dk(){let{router:n}=iI("useSubmit"),{basename:e}=ce.useContext(Jo),t=JL(),r=n.fetch,i=n.navigate;return ce.useCallback(async(a,l={})=>{let{action:c,method:h,encType:f,formData:p,body:v}=hk(a,e);if(l.navigate===!1){let E=l.fetcherKey||kk();await r(E,t,l.action||c,{preventScrollReset:l.preventScrollReset,formData:p,body:v,formMethod:l.method||h,formEncType:l.encType||f,flushSync:l.flushSync})}else await i(l.action||c,{preventScrollReset:l.preventScrollReset,formData:p,body:v,formMethod:l.method||h,formEncType:l.encType||f,replace:l.replace,state:l.state,fromRouteId:t,flushSync:l.flushSync,viewTransition:l.viewTransition})},[r,i,e,t])}function Ok(n,{relative:e}={}){let{basename:t}=ce.useContext(Jo),r=ce.useContext(Cu);Gi(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),a={...rg(n||".",{relative:e})},l=qc();if(n==null){a.search=l.search;let c=new URLSearchParams(a.search),h=c.getAll("index");if(h.some(p=>p==="")){c.delete("index"),h.filter(v=>v).forEach(v=>c.append("index",v));let p=c.toString();a.search=p?`?${p}`:""}}return(!n||n===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(a.pathname=a.pathname==="/"?t:wu([t,a.pathname])),xm(a)}function Mk(n,{relative:e}={}){let t=ce.useContext(K4);Gi(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=iI("useViewTransitionState"),i=rg(n,{relative:e});if(!t.isTransitioning)return!1;let a=Au(t.currentLocation.pathname,r)||t.currentLocation.pathname,l=Au(t.nextLocation.pathname,r)||t.nextLocation.pathname;return hy(i.pathname,l)!=null||hy(i.pathname,a)!=null}var Vk=B4();const Jp=eg(Vk),jk=({globalData:n,setGlobalData:e,addLine:t,lines:r,activeLineId:i,onPrevious:a,onNext:l})=>{console.log("Rendering GlobalForm with globalData:",n);const c=r.findIndex(p=>p.id===i),h=c===0,f=c===r.length-1;return V.jsxs("div",{className:"global-fields",style:{marginBottom:"20px",display:"flex",gap:"10px",alignItems:"center"},children:[V.jsx("button",{onClick:t,className:"btn btn-primary",children:"Add Line"}),V.jsx("button",{onClick:a,disabled:!i||h,className:"btn btn-sm btn-outline-secondary",children:" Prev"}),V.jsx("button",{onClick:l,disabled:!i||f,className:"btn btn-sm btn-outline-secondary",children:"Next "})]})},Fk=({heads:n,updateHeadWeight:e})=>V.jsxs("table",{children:[V.jsx("thead",{children:V.jsxs("tr",{children:[V.jsx("th",{children:"Head #"}),V.jsx("th",{children:"Current Weight"}),V.jsx("th",{children:"Span Weight"}),V.jsx("th",{children:"Difference"})]})}),V.jsx("tbody",{children:n.map((t,r)=>V.jsxs("tr",{children:[V.jsx("td",{"data-label":"Head #",children:r+1}),V.jsx("td",{"data-label":"Current Weight",children:V.jsx("input",{type:"number",step:"any",value:t.currentWeight,onChange:i=>e(r,"currentWeight",i.target.value)})}),V.jsx("td",{"data-label":"Span Weight",children:V.jsx("input",{type:"number",step:"any",value:t.spanWeight,onChange:i=>e(r,"spanWeight",i.target.value)})}),V.jsx("td",{"data-label":"Difference",children:t.weightDifference.toFixed(2)})]},r))})]}),Uk=({line:n,updateLine:e,removeLine:t,resetLine:r,isVisible:i,exportLineToPDF:a})=>{const[l,c]=ce.useState(n),[h,f]=ce.useState(!1),[p,v]=ce.useState(!1),[E,b]=ce.useState(!1);ce.useEffect(()=>{console.debug("Line component updated with new prop:",n),c(n)},[n]);const R=N=>{console.debug(`Line field changed: ${N.target.name}=${N.target.value}`);const te={...l,[N.target.name]:N.target.value};c(te),e(te)},P=N=>{console.debug(`Checkbox changed: ${N.target.name}=${N.target.checked}`);const te={...l,[N.target.name]:N.target.checked};c(te),e(te)},M=(N,te,fe)=>{console.debug(`Head ${N+1} changed: ${te}=${fe}`);const re=l.heads.map((pe,xe)=>xe===N?{...pe,[te]:fe}:pe),ue={...l,heads:re};c(ue),e(ue)},k=(N,te)=>{const fe=l.heads[N];let re=[];Array.isArray(fe.errors)?re=fe.errors:Array.isArray(fe.error)?re=fe.error.map(Be=>({type:Be,fixed:"na"})):fe.error&&fe.error!=="None"&&(re=[{type:fe.error,fixed:fe.fixed||"na"}]),re.findIndex(Be=>Be.type===te)>=0?re=re.filter(Be=>Be.type!==te):re=[...re,{type:te,fixed:"na"}];const pe=l.heads.map((Be,J)=>J===N?{...Be,errors:re,error:re.length>0?re.map(O=>O.type):"None",fixed:re.some(O=>O.fixed==="not_fixed")?"not_fixed":re.every(O=>O.fixed==="fixed")&&re.length>0?"fixed":"na"}:Be),xe={...l,heads:pe};c(xe),e(xe)},K=(N,te)=>{const fe=l.heads[N];let re=[];Array.isArray(fe.errors)?re=[...fe.errors]:Array.isArray(fe.error)?re=fe.error.map(xe=>({type:xe,fixed:"na"})):fe.error&&fe.error!=="None"&&(re=[{type:fe.error,fixed:fe.fixed||"na"}]),re=re.map(xe=>{if(xe.type===te){const Be=xe.fixed==="na"?"not_fixed":xe.fixed==="not_fixed"?"fixed":"na";return{...xe,fixed:Be}}return xe});const ue=l.heads.map((xe,Be)=>Be===N?{...xe,errors:re,error:re.length>0?re.map(J=>J.type):"None",fixed:re.some(J=>J.fixed==="not_fixed")?"not_fixed":re.every(J=>J.fixed==="fixed")&&re.length>0?"fixed":"na"}:xe),pe={...l,heads:ue};c(pe),e(pe)},$=N=>{const te=N.target.checked;if(console.debug(`Toggling span adjust for line ${n.id}: ${te}`),te){const fe={...l,showSpanAdjust:!0};c(fe),e(fe)}else if(window.confirm("Are you sure you want to hide and clear Span Adjust data?")){const fe=l.heads.map(ue=>({...ue,currentWeight:0,spanWeight:0,weightDifference:0})),re={...l,showSpanAdjust:!1,heads:fe};c(re),e(re)}else N.target.checked=!0},ee=(N,te,fe)=>{console.debug(`Updating weight for head ${N+1}: ${te}=${fe}`);const re=l.heads.map((pe,xe)=>xe===N?{...pe,[te]:parseFloat(fe)||0,weightDifference:(te==="spanWeight"?parseFloat(fe)||0:pe.spanWeight)-(te==="currentWeight"?parseFloat(fe)||0:pe.currentWeight)}:pe),ue={...l,heads:re};c(ue),e(ue)},ye=N=>{const te={...l,title:N.target.value};c(te),e(te)},ve=()=>{f(!h)},z=(N,te)=>{const fe=l.heads.map((ue,pe)=>pe===N?{...ue,status:te?"offline":"active"}:ue),re={...l,heads:fe};c(re),e(re)},F=()=>{const N=l.heads.length,te=window.prompt(`Current: ${N} heads. Enter new number of heads:`,N);if(!te)return;const fe=parseInt(te);if(isNaN(fe)||fe<1){alert("Please enter a valid number of heads (must be at least 1)");return}if(fe===N)return;let re;if(fe>N){const pe=Array.from({length:fe-N},(xe,Be)=>({id:N+Be+1,status:"active",error:"None",errors:[],notes:"",fixed:"na",currentWeight:0,spanWeight:0,weightDifference:0}));re=[...l.heads,...pe]}else re=l.heads.slice(0,fe);const ue={...l,heads:re};c(ue),e(ue)},D=l.heads.map((N,te)=>({...N,index:te})).filter(N=>N.status==="offline"),G=l.heads.map((N,te)=>({...N,index:te})).filter(N=>N.status==="active"),I=N=>Array.isArray(N.error)?N.error.length>0:N.error&&N.error!=="None",j=D.length>0||l.heads.some(N=>I(N)||N.notes.trim()!==""||N.fixed!=="na");return ce.useEffect(()=>{v(j)},[j]),console.log("Rendering Line component - id:",n.id,"isVisible:",i,"localLine:",l),V.jsxs("div",{className:"machine-section",style:{display:i?"block":"none"},children:[V.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"10px"},children:h?V.jsxs("div",{style:{flex:1},children:[V.jsx("input",{type:"text",value:l.title,onChange:ye,onBlur:ve,autoFocus:!0,className:"text-2xl font-bold mb-2",style:{width:"300px"}}),V.jsx("button",{onClick:ve,className:"btn btn-sm btn-success ms-2",children:"Save Title"})]}):V.jsxs(V.Fragment,{children:[V.jsx("h2",{className:"text-2xl font-bold mb-0",children:l.title}),V.jsxs("div",{style:{display:"flex",gap:"5px"},children:[V.jsx("button",{onClick:()=>b(!E),className:"btn btn-sm btn-outline-secondary line-action-btn",children:E?"Hide Details":"Show Details"}),V.jsx("button",{onClick:ve,className:"btn btn-sm btn-outline-secondary line-action-btn",children:"Rename"}),V.jsxs("button",{onClick:F,className:"btn btn-sm btn-outline-info line-action-btn",title:"Change number of heads",children:["Edit Heads (",l.heads.length,")"]})]})]})}),V.jsxs("div",{children:[E&&V.jsxs("div",{className:"line-fields",children:[V.jsx("label",{children:"Model:"}),V.jsx("input",{type:"text",name:"model",value:l.model,onChange:R}),V.jsx("label",{children:"Job Number:"}),V.jsx("input",{type:"text",name:"jobNumber",value:l.jobNumber,onChange:R}),V.jsx("label",{children:"Serial Number:"}),V.jsx("input",{type:"text",name:"serialNumber",value:l.serialNumber,onChange:R})]}),V.jsx("div",{className:"machine-running",children:V.jsxs("label",{children:[V.jsx("input",{type:"checkbox",name:"running",checked:l.running,onChange:P})," Line Running?"]})}),V.jsxs("div",{className:"quick-head-toggle mb-3 p-3",style:{background:"#343a40",borderRadius:"8px"},children:[V.jsx("h6",{className:"mb-2",style:{color:"white"},children:V.jsx("strong",{children:"Quick Head Toggle"})}),V.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(7, 1fr)",gap:"10px",maxWidth:"700px",margin:"0 auto"},children:l.heads.map((N,te)=>{let fe="btn-success";return N.fixed==="fixed"?fe="btn-warning":N.status==="offline"&&(fe="btn-danger"),V.jsx("button",{onClick:()=>z(te,N.status==="active"),className:`btn btn-sm ${fe}`,style:{aspectRatio:"1",fontWeight:"bold",padding:"8px",fontSize:"1.1rem",display:"flex",alignItems:"center",justifyContent:"center",minWidth:"0",width:"100%"},title:`Head ${te+1}: ${N.fixed==="fixed"?"Fixed":N.status==="offline"?"Click to set Active":"Click to set Offline"}`,children:te+1},te)})}),V.jsxs("small",{className:"d-block mt-2",style:{textAlign:"center",maxWidth:"700px",margin:"0.5rem auto 0",color:"white"},children:[V.jsx("span",{className:"badge bg-success me-1",style:{color:"white"},children:"Green"})," Active",V.jsx("span",{className:"badge bg-danger ms-2 me-1",style:{color:"white"},children:"Red"})," Offline",V.jsx("span",{className:"badge bg-warning text-dark ms-2 me-1",children:"Orange"})," Fixed"]})]}),D.length>0&&V.jsxs("div",{className:"mb-3",children:[V.jsx("h6",{className:"text-danger",children:V.jsxs("strong",{children:["Offline Heads (",D.length,")"]})}),V.jsxs("table",{children:[V.jsx("thead",{children:V.jsxs("tr",{children:[V.jsx("th",{children:"Head #"}),V.jsx("th",{children:"Status"}),V.jsx("th",{children:"Error"}),V.jsx("th",{children:"Notes"})]})}),V.jsx("tbody",{children:D.map(N=>V.jsxs("tr",{"data-head-number":N.index+1,style:{backgroundColor:N.fixed==="fixed"?"orange":"lightcoral"},children:[V.jsx("td",{"data-label":"Head #",children:N.index+1}),V.jsx("td",{"data-label":"Status",children:V.jsxs("select",{value:N.status,onChange:te=>M(N.index,"status",te.target.value),children:[V.jsx("option",{value:"active",children:"Active"}),V.jsx("option",{value:"offline",children:"Offline"})]})}),V.jsx("td",{"data-label":"Error",children:V.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"4px"},children:[(()=>{let te=[];return Array.isArray(N.errors)?te=N.errors:Array.isArray(N.error)?te=N.error.map(fe=>({type:fe,fixed:"na"})):N.error&&N.error!=="None"&&(te=[{type:N.error,fixed:N.fixed||"na"}]),te.map((fe,re)=>V.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"4px",fontSize:"0.85rem"},children:[V.jsx("span",{style:{flex:1},children:fe.type}),V.jsx("button",{onClick:()=>K(N.index,fe.type),style:{padding:"2px 6px",fontSize:"0.7rem",borderRadius:"3px",backgroundColor:fe.fixed==="fixed"?"#10b981":fe.fixed==="not_fixed"?"#ef4444":"#9ca3af",color:"white",border:"none",cursor:"pointer"},title:"Click to cycle: N/A  Not Fixed  Fixed",children:fe.fixed==="fixed"?"Fixed":fe.fixed==="not_fixed"?"Not Fixed":"N/A"}),V.jsx("button",{onClick:()=>k(N.index,fe.type),style:{padding:"2px 6px",fontSize:"0.7rem",backgroundColor:"#dc3545",color:"white",border:"none",borderRadius:"3px",cursor:"pointer"},title:"Remove error",children:""})]},re))})(),V.jsxs("select",{value:"",onChange:te=>{te.target.value&&(k(N.index,te.target.value),te.target.value="")},style:{fontSize:"0.85rem",padding:"4px"},children:[V.jsx("option",{value:"",children:"+ Add Error"}),["Chute","Operator","Load Cell","Detached Head","Stepper Motor Error","Hopper Issues","Installed Wrong","Radial Feeder","Booster Hopper Issues","Other"].map(te=>{let fe=[];return Array.isArray(N.errors)?fe=N.errors:Array.isArray(N.error)?fe=N.error.map(ue=>({type:ue,fixed:"na"})):N.error&&N.error!=="None"&&(fe=[{type:N.error,fixed:N.fixed||"na"}]),!fe.some(ue=>ue.type===te)&&V.jsx("option",{value:te,children:te},te)})]})]})}),V.jsx("td",{"data-label":"Notes",children:V.jsx("input",{type:"text",value:N.notes,onChange:te=>M(N.index,"notes",te.target.value)})})]},N.index))})]})]}),G.length>0&&V.jsxs("div",{className:"mb-3",children:[V.jsxs("h6",{className:"mb-2",style:{fontWeight:"bold",color:"#28a745",userSelect:"none"},children:["Active Heads: ",G.length]}),!1]}),V.jsxs("label",{children:[V.jsx("input",{type:"checkbox",checked:l.showSpanAdjust,onChange:$})," Span Adjust"]}),l.showSpanAdjust&&V.jsx(Fk,{heads:l.heads,updateHeadWeight:(N,te,fe)=>ee(N,te,fe)}),V.jsxs("div",{className:"notes-container",children:[V.jsx("label",{children:V.jsx("strong",{children:"Notes:"})}),V.jsx("textarea",{name:"notes",rows:"4",value:l.notes,onChange:R})]}),V.jsxs("div",{style:{display:"flex",gap:"10px",marginTop:"10px"},children:[V.jsx("button",{onClick:a,className:"btn btn-success",children:"Export Line PDF"}),V.jsx("button",{onClick:r,className:"btn btn-warning",children:"Reset Line"}),V.jsx("button",{onClick:t,className:"btn btn-danger",children:"Remove Line"})]})]})]})},Bk=({lines:n,setShowDashboardView:e,setActiveLineId:t,globalData:r,exportPDF:i})=>{ce.useEffect(()=>{console.debug("Dashboard rendered with lines:",n)},[n]);const a=n.some(c=>c.heads.some(h=>h.status==="offline")),l=(c,h)=>{t(c),e(!1),setTimeout(()=>{const f=document.querySelector(`[data-head-number="${h}"]`);f&&(f.scrollIntoView({behavior:"smooth",block:"center"}),f.style.animation="pulse 1s ease-in-out 3")},300)};return V.jsxs("div",{className:"dashboard",style:{display:"block"},children:[V.jsx("style",{children:`
        @keyframes pulse {
          0%, 100% { opacity: 1; }
          50% { opacity: 0.5; }
        }
        .clickable-row {
          cursor: pointer;
          transition: background-color 0.2s;
        }
        .clickable-row:hover {
          filter: brightness(0.9);
        }
      `}),V.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[V.jsx("h3",{children:"Dashboard: Offline Heads"}),V.jsx("button",{onClick:()=>i(n,r),style:{padding:"0.5rem 1rem",backgroundColor:"#28a745",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Export PDF"})]}),n.map(c=>{const h=c.heads.map((p,v)=>({...p,index:v+1})).filter(p=>p.status==="offline"),f=c.notes&&c.notes.trim();return h.length===0&&!f?null:(console.debug("Offline heads for line",c.title,h),V.jsxs("div",{style:{marginBottom:"1.5rem"},children:[V.jsx("h4",{children:c.title}),f&&V.jsxs("p",{style:{marginTop:"0.5rem",marginBottom:"0.5rem",fontStyle:"italic",color:"#555",backgroundColor:"#fff3cd",padding:"0.5rem",borderRadius:"4px"},children:[V.jsx("strong",{children:"Machine Notes:"})," ",c.notes]}),h.length>0&&V.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",marginTop:"0.5rem"},children:[V.jsx("thead",{children:V.jsxs("tr",{style:{backgroundColor:"#f8f9fa"},children:[V.jsx("th",{style:{padding:"0.5rem",border:"1px solid #ddd",textAlign:"center"},children:"Head #"}),V.jsx("th",{style:{padding:"0.5rem",border:"1px solid #ddd",textAlign:"center"},children:"Status"}),V.jsx("th",{style:{padding:"0.5rem",border:"1px solid #ddd",textAlign:"left"},children:"Reason"}),V.jsx("th",{style:{padding:"0.5rem",border:"1px solid #ddd",textAlign:"center"},children:"Fixed"}),V.jsx("th",{style:{padding:"0.5rem",border:"1px solid #ddd",textAlign:"left"},children:"Notes"})]})}),V.jsx("tbody",{children:h.map(p=>{let v="";return Array.isArray(p.errors)?v=p.errors.map(E=>`${E.type}${E.fixed!=="na"?` (${E.fixed==="fixed"?"Fixed":"Not Fixed"})`:""}`).join(", "):Array.isArray(p.error)?v=p.error.join(", "):v=p.error||"None",V.jsxs("tr",{className:"clickable-row",onClick:()=>l(c.id,p.index),style:{backgroundColor:p.fixed==="fixed"?"orange":"lightcoral"},title:"Click to view this head",children:[V.jsx("td",{style:{padding:"0.5rem",border:"1px solid #ddd",textAlign:"center"},children:p.index}),V.jsx("td",{style:{padding:"0.5rem",border:"1px solid #ddd",textAlign:"center"},children:"Offline"}),V.jsx("td",{style:{padding:"0.5rem",border:"1px solid #ddd"},children:v}),V.jsx("td",{style:{padding:"0.5rem",border:"1px solid #ddd",textAlign:"center"},children:p.fixed}),V.jsx("td",{style:{padding:"0.5rem",border:"1px solid #ddd"},children:p.notes||"-"})]},p.index)})})]})]},c.id))}),!a&&V.jsx("p",{children:"No offline heads."}),V.jsx("button",{onClick:()=>e(!1),children:"Back to Form"})]})};var z1={exports:{}},zk=z1.exports,WA;function qk(){return WA||(WA=1,(function(n,e){(function(t,r){r()})(zk,function(){function t(f,p){return typeof p>"u"?p={autoBom:!1}:typeof p!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),p={autoBom:!p}),p.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(f.type)?new Blob(["\uFEFF",f],{type:f.type}):f}function r(f,p,v){var E=new XMLHttpRequest;E.open("GET",f),E.responseType="blob",E.onload=function(){h(E.response,p,v)},E.onerror=function(){console.error("could not download file")},E.send()}function i(f){var p=new XMLHttpRequest;p.open("HEAD",f,!1);try{p.send()}catch{}return 200<=p.status&&299>=p.status}function a(f){try{f.dispatchEvent(new MouseEvent("click"))}catch{var p=document.createEvent("MouseEvents");p.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),f.dispatchEvent(p)}}var l=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof b1=="object"&&b1.global===b1?b1:void 0,c=l.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),h=l.saveAs||(typeof window!="object"||window!==l?function(){}:"download"in HTMLAnchorElement.prototype&&!c?function(f,p,v){var E=l.URL||l.webkitURL,b=document.createElement("a");p=p||f.name||"download",b.download=p,b.rel="noopener",typeof f=="string"?(b.href=f,b.origin===location.origin?a(b):i(b.href)?r(f,p,v):a(b,b.target="_blank")):(b.href=E.createObjectURL(f),setTimeout(function(){E.revokeObjectURL(b.href)},4e4),setTimeout(function(){a(b)},0))}:"msSaveOrOpenBlob"in navigator?function(f,p,v){if(p=p||f.name||"download",typeof f!="string")navigator.msSaveOrOpenBlob(t(f,v),p);else if(i(f))r(f,p,v);else{var E=document.createElement("a");E.href=f,E.target="_blank",setTimeout(function(){a(E)})}}:function(f,p,v,E){if(E=E||open("","_blank"),E&&(E.document.title=E.document.body.innerText="downloading..."),typeof f=="string")return r(f,p,v);var b=f.type==="application/octet-stream",R=/constructor/i.test(l.HTMLElement)||l.safari,P=/CriOS\/[\d]+/.test(navigator.userAgent);if((P||b&&R||c)&&typeof FileReader<"u"){var M=new FileReader;M.onloadend=function(){var $=M.result;$=P?$:$.replace(/^data:[^;]*;/,"data:attachment/file;"),E?E.location.href=$:location=$,E=null},M.readAsDataURL(f)}else{var k=l.URL||l.webkitURL,K=k.createObjectURL(f);E?E.location=K:location.href=K,E=null,setTimeout(function(){k.revokeObjectURL(K)},4e4)}});l.saveAs=h.saveAs=h,n.exports=h})})(z1)),z1.exports}var Hk=qk();const Gk="modulepreload",$k=function(n){return"/"+n},KA={},e2=function(e,t,r){let i=Promise.resolve();if(t&&t.length>0){let h=function(f){return Promise.all(f.map(p=>Promise.resolve(p).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),c=l?.nonce||l?.getAttribute("nonce");i=h(t.map(f=>{if(f=$k(f),f in KA)return;KA[f]=!0;const p=f.endsWith(".css"),v=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${v}`))return;const E=document.createElement("link");if(E.rel=p?"stylesheet":Gk,p||(E.as="script"),E.crossOrigin="",E.href=f,c&&E.setAttribute("nonce",c),document.head.appendChild(E),p)return new Promise((b,R)=>{E.addEventListener("load",b),E.addEventListener("error",()=>R(new Error(`Unable to preload CSS for ${f}`)))})}))}function a(l){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=l,window.dispatchEvent(c),!c.defaultPrevented)throw l}return i.then(l=>{for(const c of l||[])c.status==="rejected"&&a(c.reason);return e().catch(a)})};function ur(n){"@babel/helpers - typeof";return ur=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ur(n)}var Qo=Uint8Array,Wa=Uint16Array,g5=Int32Array,y5=new Qo([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),v5=new Qo([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),YA=new Qo([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),sI=function(n,e){for(var t=new Wa(31),r=0;r<31;++r)t[r]=e+=1<<n[r-1];for(var i=new g5(t[30]),r=1;r<30;++r)for(var a=t[r];a<t[r+1];++a)i[a]=a-t[r]<<5|r;return{b:t,r:i}},aI=sI(y5,2),Wk=aI.b,t_=aI.r;Wk[28]=258,t_[258]=28;var Kk=sI(v5,0),QA=Kk.r,n_=new Wa(32768);for(var kr=0;kr<32768;++kr){var fc=(kr&43690)>>1|(kr&21845)<<1;fc=(fc&52428)>>2|(fc&13107)<<2,fc=(fc&61680)>>4|(fc&3855)<<4,n_[kr]=((fc&65280)>>8|(fc&255)<<8)>>1}var lm=(function(n,e,t){for(var r=n.length,i=0,a=new Wa(e);i<r;++i)n[i]&&++a[n[i]-1];var l=new Wa(e);for(i=1;i<e;++i)l[i]=l[i-1]+a[i-1]<<1;var c;if(t){c=new Wa(1<<e);var h=15-e;for(i=0;i<r;++i)if(n[i])for(var f=i<<4|n[i],p=e-n[i],v=l[n[i]-1]++<<p,E=v|(1<<p)-1;v<=E;++v)c[n_[v]>>h]=f}else for(c=new Wa(r),i=0;i<r;++i)n[i]&&(c[i]=n_[l[n[i]-1]++]>>15-n[i]);return c}),Mh=new Qo(288);for(var kr=0;kr<144;++kr)Mh[kr]=8;for(var kr=144;kr<256;++kr)Mh[kr]=9;for(var kr=256;kr<280;++kr)Mh[kr]=7;for(var kr=280;kr<288;++kr)Mh[kr]=8;var fy=new Qo(32);for(var kr=0;kr<32;++kr)fy[kr]=5;var Yk=lm(Mh,9,0),Qk=lm(fy,5,0),oI=function(n){return(n+7)/8|0},Xk=function(n,e,t){return(t==null||t>n.length)&&(t=n.length),new Qo(n.subarray(e,t))},mu=function(n,e,t){t<<=e&7;var r=e/8|0;n[r]|=t,n[r+1]|=t>>8},Bp=function(n,e,t){t<<=e&7;var r=e/8|0;n[r]|=t,n[r+1]|=t>>8,n[r+2]|=t>>16},t2=function(n,e){for(var t=[],r=0;r<n.length;++r)n[r]&&t.push({s:r,f:n[r]});var i=t.length,a=t.slice();if(!i)return{t:uI,l:0};if(i==1){var l=new Qo(t[0].s+1);return l[t[0].s]=1,{t:l,l:1}}t.sort(function(ye,ve){return ye.f-ve.f}),t.push({s:-1,f:25001});var c=t[0],h=t[1],f=0,p=1,v=2;for(t[0]={s:-1,f:c.f+h.f,l:c,r:h};p!=i-1;)c=t[t[f].f<t[v].f?f++:v++],h=t[f!=p&&t[f].f<t[v].f?f++:v++],t[p++]={s:-1,f:c.f+h.f,l:c,r:h};for(var E=a[0].s,r=1;r<i;++r)a[r].s>E&&(E=a[r].s);var b=new Wa(E+1),R=r_(t[p-1],b,0);if(R>e){var r=0,P=0,M=R-e,k=1<<M;for(a.sort(function(ve,z){return b[z.s]-b[ve.s]||ve.f-z.f});r<i;++r){var K=a[r].s;if(b[K]>e)P+=k-(1<<R-b[K]),b[K]=e;else break}for(P>>=M;P>0;){var $=a[r].s;b[$]<e?P-=1<<e-b[$]++-1:++r}for(;r>=0&&P;--r){var ee=a[r].s;b[ee]==e&&(--b[ee],++P)}R=e}return{t:new Qo(b),l:R}},r_=function(n,e,t){return n.s==-1?Math.max(r_(n.l,e,t+1),r_(n.r,e,t+1)):e[n.s]=t},XA=function(n){for(var e=n.length;e&&!n[--e];);for(var t=new Wa(++e),r=0,i=n[0],a=1,l=function(h){t[r++]=h},c=1;c<=e;++c)if(n[c]==i&&c!=e)++a;else{if(!i&&a>2){for(;a>138;a-=138)l(32754);a>2&&(l(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(l(i),--a;a>6;a-=6)l(8304);a>2&&(l(a-3<<5|8208),a=0)}for(;a--;)l(i);a=1,i=n[c]}return{c:t.subarray(0,r),n:e}},zp=function(n,e){for(var t=0,r=0;r<e.length;++r)t+=n[r]*e[r];return t},lI=function(n,e,t){var r=t.length,i=oI(e+2);n[i]=r&255,n[i+1]=r>>8,n[i+2]=n[i]^255,n[i+3]=n[i+1]^255;for(var a=0;a<r;++a)n[i+a+4]=t[a];return(i+4+r)*8},JA=function(n,e,t,r,i,a,l,c,h,f,p){mu(e,p++,t),++i[256];for(var v=t2(i,15),E=v.t,b=v.l,R=t2(a,15),P=R.t,M=R.l,k=XA(E),K=k.c,$=k.n,ee=XA(P),ye=ee.c,ve=ee.n,z=new Wa(19),F=0;F<K.length;++F)++z[K[F]&31];for(var F=0;F<ye.length;++F)++z[ye[F]&31];for(var D=t2(z,7),G=D.t,I=D.l,j=19;j>4&&!G[YA[j-1]];--j);var N=f+5<<3,te=zp(i,Mh)+zp(a,fy)+l,fe=zp(i,E)+zp(a,P)+l+14+3*j+zp(z,G)+2*z[16]+3*z[17]+7*z[18];if(h>=0&&N<=te&&N<=fe)return lI(e,p,n.subarray(h,h+f));var re,ue,pe,xe;if(mu(e,p,1+(fe<te)),p+=2,fe<te){re=lm(E,b,0),ue=E,pe=lm(P,M,0),xe=P;var Be=lm(G,I,0);mu(e,p,$-257),mu(e,p+5,ve-1),mu(e,p+10,j-4),p+=14;for(var F=0;F<j;++F)mu(e,p+3*F,G[YA[F]]);p+=3*j;for(var J=[K,ye],O=0;O<2;++O)for(var Y=J[O],F=0;F<Y.length;++F){var ne=Y[F]&31;mu(e,p,Be[ne]),p+=G[ne],ne>15&&(mu(e,p,Y[F]>>5&127),p+=Y[F]>>12)}}else re=Yk,ue=Mh,pe=Qk,xe=fy;for(var F=0;F<c;++F){var le=r[F];if(le>255){var ne=le>>18&31;Bp(e,p,re[ne+257]),p+=ue[ne+257],ne>7&&(mu(e,p,le>>23&31),p+=y5[ne]);var he=le&31;Bp(e,p,pe[he]),p+=xe[he],he>3&&(Bp(e,p,le>>5&8191),p+=v5[he])}else Bp(e,p,re[le]),p+=ue[le]}return Bp(e,p,re[256]),p+ue[256]},Jk=new g5([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),uI=new Qo(0),Zk=function(n,e,t,r,i,a){var l=a.z||n.length,c=new Qo(r+l+5*(1+Math.ceil(l/7e3))+i),h=c.subarray(r,c.length-i),f=a.l,p=(a.r||0)&7;if(e){p&&(h[0]=a.r>>3);for(var v=Jk[e-1],E=v>>13,b=v&8191,R=(1<<t)-1,P=a.p||new Wa(32768),M=a.h||new Wa(R+1),k=Math.ceil(t/3),K=2*k,$=function(_t){return(n[_t]^n[_t+1]<<k^n[_t+2]<<K)&R},ee=new g5(25e3),ye=new Wa(288),ve=new Wa(32),z=0,F=0,D=a.i||0,G=0,I=a.w||0,j=0;D+2<l;++D){var N=$(D),te=D&32767,fe=M[N];if(P[te]=fe,M[N]=te,I<=D){var re=l-D;if((z>7e3||G>24576)&&(re>423||!f)){p=JA(n,h,0,ee,ye,ve,F,G,j,D-j,p),G=z=F=0,j=D;for(var ue=0;ue<286;++ue)ye[ue]=0;for(var ue=0;ue<30;++ue)ve[ue]=0}var pe=2,xe=0,Be=b,J=te-fe&32767;if(re>2&&N==$(D-J))for(var O=Math.min(E,re)-1,Y=Math.min(32767,D),ne=Math.min(258,re);J<=Y&&--Be&&te!=fe;){if(n[D+pe]==n[D+pe-J]){for(var le=0;le<ne&&n[D+le]==n[D+le-J];++le);if(le>pe){if(pe=le,xe=J,le>O)break;for(var he=Math.min(J,le-2),we=0,ue=0;ue<he;++ue){var Oe=D-J+ue&32767,Pe=P[Oe],ze=Oe-Pe&32767;ze>we&&(we=ze,fe=Oe)}}}te=fe,fe=P[te],J+=te-fe&32767}if(xe){ee[G++]=268435456|t_[pe]<<18|QA[xe];var Ze=t_[pe]&31,ot=QA[xe]&31;F+=y5[Ze]+v5[ot],++ye[257+Ze],++ve[ot],I=D+pe,++z}else ee[G++]=n[D],++ye[n[D]]}}for(D=Math.max(D,I);D<l;++D)ee[G++]=n[D],++ye[n[D]];p=JA(n,h,f,ee,ye,ve,F,G,j,D-j,p),f||(a.r=p&7|h[p/8|0]<<3,p-=7,a.h=M,a.p=P,a.i=D,a.w=I)}else{for(var D=a.w||0;D<l+f;D+=65535){var ct=D+65535;ct>=l&&(h[p/8|0]=f,ct=l),p=lI(h,p+1,n.subarray(D,ct))}a.i=l}return Xk(c,0,r+oI(p)+i)},cI=function(){var n=1,e=0;return{p:function(t){for(var r=n,i=e,a=t.length|0,l=0;l!=a;){for(var c=Math.min(l+2655,a);l<c;++l)i+=r+=t[l];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}n=r,e=i},d:function(){return n%=65521,e%=65521,(n&255)<<24|(n&65280)<<8|(e&255)<<8|e>>8}}},eD=function(n,e,t,r,i){if(!i&&(i={l:1},e.dictionary)){var a=e.dictionary.subarray(-32768),l=new Qo(a.length+n.length);l.set(a),l.set(n,a.length),n=l,i.w=a.length}return Zk(n,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(n.length)))*1.5):20:12+e.mem,t,r,i)},hI=function(n,e,t){for(;t;++e)n[e]=t,t>>>=8},tD=function(n,e){var t=e.level,r=t==0?0:t<6?1:t==9?3:2;if(n[0]=120,n[1]=r<<6|(e.dictionary&&32),n[1]|=31-(n[0]<<8|n[1])%31,e.dictionary){var i=cI();i.p(e.dictionary),hI(n,2,i.d())}};function i_(n,e){e||(e={});var t=cI();t.p(n);var r=eD(n,e,e.dictionary?6:2,4);return tD(r,e),hI(r,r.length-4,t.d()),r}var nD=typeof TextDecoder<"u"&&new TextDecoder,rD=0;try{nD.decode(uI,{stream:!0}),rD=1}catch{}function iD(n){if(Array.isArray(n))return n}function sD(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r,i,a,l,c=[],h=!0,f=!1;try{if(a=(t=t.call(n)).next,e!==0)for(;!(h=(r=a.call(t)).done)&&(c.push(r.value),c.length!==e);h=!0);}catch(p){f=!0,i=p}finally{try{if(!h&&t.return!=null&&(l=t.return(),Object(l)!==l))return}finally{if(f)throw i}}return c}}function ZA(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=Array(e);t<e;t++)r[t]=n[t];return r}function aD(n,e){if(n){if(typeof n=="string")return ZA(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?ZA(n,e):void 0}}function oD(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eS(n,e){return iD(n)||sD(n,e)||aD(n,e)||oD()}function tS(n,e="utf8"){return new TextDecoder(e).decode(n)}const lD=new TextEncoder;function uD(n){return lD.encode(n)}const cD=1024*8,hD=(()=>{const n=new Uint8Array(4),e=new Uint32Array(n.buffer);return!((e[0]=1)&n[0])})(),n2={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class _5{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(e=cD,t={}){let r=!1;typeof e=="number"?e=new ArrayBuffer(e):(r=!0,this.lastWrittenByte=e.byteLength);const i=t.offset?t.offset>>>0:0,a=e.byteLength-i;let l=i;(ArrayBuffer.isView(e)||e instanceof _5)&&(e.byteLength!==e.buffer.byteLength&&(l=e.byteOffset+i),e=e.buffer),r?this.lastWrittenByte=a:this.lastWrittenByte=0,this.buffer=e,this.length=a,this.byteLength=a,this.byteOffset=l,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,l,a),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const r=(this.offset+e)*2,i=new Uint8Array(r);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=r,this.byteLength=r,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,t){const r=n2[t].BYTES_PER_ELEMENT*e,i=this.byteOffset+this.offset,a=this.buffer.slice(i,i+r);if(this.littleEndian===hD&&t!=="uint8"&&t!=="int8"){const c=new Uint8Array(this.buffer.slice(i,i+r));c.reverse();const h=new n2[t](c.buffer);return this.offset+=r,h.reverse(),h}const l=new n2[t](a);return this.offset+=r,l}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let t="";for(let r=0;r<e;r++)t+=this.readChar();return t}readUtf8(e=1){return tS(this.readBytes(e))}decodeText(e=1,t="utf8"){return tS(this.readBytes(e),t)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let t=0;t<e.length;t++)this._data.setUint8(this.offset++,e[t]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let t=0;t<e.length;t++)this.writeUint8(e.charCodeAt(t));return this}writeUtf8(e){return this.writeBytes(uD(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function Bd(n){let e=n.length;for(;--e>=0;)n[e]=0}const fD=3,dD=258,fI=29,pD=256,mD=pD+1+fI,dI=30,gD=512,yD=new Array((mD+2)*2);Bd(yD);const vD=new Array(dI*2);Bd(vD);const _D=new Array(gD);Bd(_D);const bD=new Array(dD-fD+1);Bd(bD);const wD=new Array(fI);Bd(wD);const ED=new Array(dI);Bd(ED);const AD=(n,e,t,r)=>{let i=n&65535|0,a=n>>>16&65535|0,l=0;for(;t!==0;){l=t>2e3?2e3:t,t-=l;do i=i+e[r++]|0,a=a+i|0;while(--l);i%=65521,a%=65521}return i|a<<16|0};var s_=AD;const SD=()=>{let n,e=[];for(var t=0;t<256;t++){n=t;for(var r=0;r<8;r++)n=n&1?3988292384^n>>>1:n>>>1;e[t]=n}return e},TD=new Uint32Array(SD()),xD=(n,e,t,r)=>{const i=TD,a=r+t;n^=-1;for(let l=r;l<a;l++)n=n>>>8^i[(n^e[l])&255];return n^-1};var Al=xD,a_={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},pI={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const ID=(n,e)=>Object.prototype.hasOwnProperty.call(n,e);var ND=function(n){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const t=e.shift();if(t){if(typeof t!="object")throw new TypeError(t+"must be non-object");for(const r in t)ID(t,r)&&(n[r]=t[r])}}return n},CD=n=>{let e=0;for(let r=0,i=n.length;r<i;r++)e+=n[r].length;const t=new Uint8Array(e);for(let r=0,i=0,a=n.length;r<a;r++){let l=n[r];t.set(l,i),i+=l.length}return t},mI={assign:ND,flattenChunks:CD};let gI=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{gI=!1}const Im=new Uint8Array(256);for(let n=0;n<256;n++)Im[n]=n>=252?6:n>=248?5:n>=240?4:n>=224?3:n>=192?2:1;Im[254]=Im[254]=1;var RD=n=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(n);let e,t,r,i,a,l=n.length,c=0;for(i=0;i<l;i++)t=n.charCodeAt(i),(t&64512)===55296&&i+1<l&&(r=n.charCodeAt(i+1),(r&64512)===56320&&(t=65536+(t-55296<<10)+(r-56320),i++)),c+=t<128?1:t<2048?2:t<65536?3:4;for(e=new Uint8Array(c),a=0,i=0;a<c;i++)t=n.charCodeAt(i),(t&64512)===55296&&i+1<l&&(r=n.charCodeAt(i+1),(r&64512)===56320&&(t=65536+(t-55296<<10)+(r-56320),i++)),t<128?e[a++]=t:t<2048?(e[a++]=192|t>>>6,e[a++]=128|t&63):t<65536?(e[a++]=224|t>>>12,e[a++]=128|t>>>6&63,e[a++]=128|t&63):(e[a++]=240|t>>>18,e[a++]=128|t>>>12&63,e[a++]=128|t>>>6&63,e[a++]=128|t&63);return e};const PD=(n,e)=>{if(e<65534&&n.subarray&&gI)return String.fromCharCode.apply(null,n.length===e?n:n.subarray(0,e));let t="";for(let r=0;r<e;r++)t+=String.fromCharCode(n[r]);return t};var LD=(n,e)=>{const t=e||n.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(n.subarray(0,e));let r,i;const a=new Array(t*2);for(i=0,r=0;r<t;){let l=n[r++];if(l<128){a[i++]=l;continue}let c=Im[l];if(c>4){a[i++]=65533,r+=c-1;continue}for(l&=c===2?31:c===3?15:7;c>1&&r<t;)l=l<<6|n[r++]&63,c--;if(c>1){a[i++]=65533;continue}l<65536?a[i++]=l:(l-=65536,a[i++]=55296|l>>10&1023,a[i++]=56320|l&1023)}return PD(a,i)},kD=(n,e)=>{e=e||n.length,e>n.length&&(e=n.length);let t=e-1;for(;t>=0&&(n[t]&192)===128;)t--;return t<0||t===0?e:t+Im[n[t]]>e?t:e},o_={string2buf:RD,buf2string:LD,utf8border:kD};function DD(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var OD=DD;const E1=16209,MD=16191;var VD=function(e,t){let r,i,a,l,c,h,f,p,v,E,b,R,P,M,k,K,$,ee,ye,ve,z,F,D,G;const I=e.state;r=e.next_in,D=e.input,i=r+(e.avail_in-5),a=e.next_out,G=e.output,l=a-(t-e.avail_out),c=a+(e.avail_out-257),h=I.dmax,f=I.wsize,p=I.whave,v=I.wnext,E=I.window,b=I.hold,R=I.bits,P=I.lencode,M=I.distcode,k=(1<<I.lenbits)-1,K=(1<<I.distbits)-1;e:do{R<15&&(b+=D[r++]<<R,R+=8,b+=D[r++]<<R,R+=8),$=P[b&k];t:for(;;){if(ee=$>>>24,b>>>=ee,R-=ee,ee=$>>>16&255,ee===0)G[a++]=$&65535;else if(ee&16){ye=$&65535,ee&=15,ee&&(R<ee&&(b+=D[r++]<<R,R+=8),ye+=b&(1<<ee)-1,b>>>=ee,R-=ee),R<15&&(b+=D[r++]<<R,R+=8,b+=D[r++]<<R,R+=8),$=M[b&K];n:for(;;){if(ee=$>>>24,b>>>=ee,R-=ee,ee=$>>>16&255,ee&16){if(ve=$&65535,ee&=15,R<ee&&(b+=D[r++]<<R,R+=8,R<ee&&(b+=D[r++]<<R,R+=8)),ve+=b&(1<<ee)-1,ve>h){e.msg="invalid distance too far back",I.mode=E1;break e}if(b>>>=ee,R-=ee,ee=a-l,ve>ee){if(ee=ve-ee,ee>p&&I.sane){e.msg="invalid distance too far back",I.mode=E1;break e}if(z=0,F=E,v===0){if(z+=f-ee,ee<ye){ye-=ee;do G[a++]=E[z++];while(--ee);z=a-ve,F=G}}else if(v<ee){if(z+=f+v-ee,ee-=v,ee<ye){ye-=ee;do G[a++]=E[z++];while(--ee);if(z=0,v<ye){ee=v,ye-=ee;do G[a++]=E[z++];while(--ee);z=a-ve,F=G}}}else if(z+=v-ee,ee<ye){ye-=ee;do G[a++]=E[z++];while(--ee);z=a-ve,F=G}for(;ye>2;)G[a++]=F[z++],G[a++]=F[z++],G[a++]=F[z++],ye-=3;ye&&(G[a++]=F[z++],ye>1&&(G[a++]=F[z++]))}else{z=a-ve;do G[a++]=G[z++],G[a++]=G[z++],G[a++]=G[z++],ye-=3;while(ye>2);ye&&(G[a++]=G[z++],ye>1&&(G[a++]=G[z++]))}}else if((ee&64)===0){$=M[($&65535)+(b&(1<<ee)-1)];continue n}else{e.msg="invalid distance code",I.mode=E1;break e}break}}else if((ee&64)===0){$=P[($&65535)+(b&(1<<ee)-1)];continue t}else if(ee&32){I.mode=MD;break e}else{e.msg="invalid literal/length code",I.mode=E1;break e}break}}while(r<i&&a<c);ye=R>>3,r-=ye,R-=ye<<3,b&=(1<<R)-1,e.next_in=r,e.next_out=a,e.avail_in=r<i?5+(i-r):5-(r-i),e.avail_out=a<c?257+(c-a):257-(a-c),I.hold=b,I.bits=R};const Ff=15,nS=852,rS=592,iS=0,r2=1,sS=2,jD=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),FD=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),UD=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),BD=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),zD=(n,e,t,r,i,a,l,c)=>{const h=c.bits;let f=0,p=0,v=0,E=0,b=0,R=0,P=0,M=0,k=0,K=0,$,ee,ye,ve,z,F=null,D;const G=new Uint16Array(Ff+1),I=new Uint16Array(Ff+1);let j=null,N,te,fe;for(f=0;f<=Ff;f++)G[f]=0;for(p=0;p<r;p++)G[e[t+p]]++;for(b=h,E=Ff;E>=1&&G[E]===0;E--);if(b>E&&(b=E),E===0)return i[a++]=1<<24|64<<16|0,i[a++]=1<<24|64<<16|0,c.bits=1,0;for(v=1;v<E&&G[v]===0;v++);for(b<v&&(b=v),M=1,f=1;f<=Ff;f++)if(M<<=1,M-=G[f],M<0)return-1;if(M>0&&(n===iS||E!==1))return-1;for(I[1]=0,f=1;f<Ff;f++)I[f+1]=I[f]+G[f];for(p=0;p<r;p++)e[t+p]!==0&&(l[I[e[t+p]]++]=p);if(n===iS?(F=j=l,D=20):n===r2?(F=jD,j=FD,D=257):(F=UD,j=BD,D=0),K=0,p=0,f=v,z=a,R=b,P=0,ye=-1,k=1<<b,ve=k-1,n===r2&&k>nS||n===sS&&k>rS)return 1;for(;;){N=f-P,l[p]+1<D?(te=0,fe=l[p]):l[p]>=D?(te=j[l[p]-D],fe=F[l[p]-D]):(te=96,fe=0),$=1<<f-P,ee=1<<R,v=ee;do ee-=$,i[z+(K>>P)+ee]=N<<24|te<<16|fe|0;while(ee!==0);for($=1<<f-1;K&$;)$>>=1;if($!==0?(K&=$-1,K+=$):K=0,p++,--G[f]===0){if(f===E)break;f=e[t+l[p]]}if(f>b&&(K&ve)!==ye){for(P===0&&(P=b),z+=v,R=f-P,M=1<<R;R+P<E&&(M-=G[R+P],!(M<=0));)R++,M<<=1;if(k+=1<<R,n===r2&&k>nS||n===sS&&k>rS)return 1;ye=K&ve,i[ye]=b<<24|R<<16|z-a|0}}return K!==0&&(i[z+K]=f-P<<24|64<<16|0),c.bits=b,0};var um=zD;const qD=0,yI=1,vI=2,{Z_FINISH:aS,Z_BLOCK:HD,Z_TREES:A1,Z_OK:Vh,Z_STREAM_END:GD,Z_NEED_DICT:$D,Z_STREAM_ERROR:wo,Z_DATA_ERROR:_I,Z_MEM_ERROR:bI,Z_BUF_ERROR:WD,Z_DEFLATED:oS}=pI,Wy=16180,lS=16181,uS=16182,cS=16183,hS=16184,fS=16185,dS=16186,pS=16187,mS=16188,gS=16189,dy=16190,gu=16191,i2=16192,yS=16193,s2=16194,vS=16195,_S=16196,bS=16197,wS=16198,S1=16199,T1=16200,ES=16201,AS=16202,SS=16203,TS=16204,xS=16205,a2=16206,IS=16207,NS=16208,Ur=16209,wI=16210,EI=16211,KD=852,YD=592,QD=15,XD=QD,CS=n=>(n>>>24&255)+(n>>>8&65280)+((n&65280)<<8)+((n&255)<<24);function JD(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Qh=n=>{if(!n)return 1;const e=n.state;return!e||e.strm!==n||e.mode<Wy||e.mode>EI?1:0},AI=n=>{if(Qh(n))return wo;const e=n.state;return n.total_in=n.total_out=e.total=0,n.msg="",e.wrap&&(n.adler=e.wrap&1),e.mode=Wy,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(KD),e.distcode=e.distdyn=new Int32Array(YD),e.sane=1,e.back=-1,Vh},SI=n=>{if(Qh(n))return wo;const e=n.state;return e.wsize=0,e.whave=0,e.wnext=0,AI(n)},TI=(n,e)=>{let t;if(Qh(n))return wo;const r=n.state;return e<0?(t=0,e=-e):(t=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?wo:(r.window!==null&&r.wbits!==e&&(r.window=null),r.wrap=t,r.wbits=e,SI(n))},xI=(n,e)=>{if(!n)return wo;const t=new JD;n.state=t,t.strm=n,t.window=null,t.mode=Wy;const r=TI(n,e);return r!==Vh&&(n.state=null),r},ZD=n=>xI(n,XD);let RS=!0,o2,l2;const e8=n=>{if(RS){o2=new Int32Array(512),l2=new Int32Array(32);let e=0;for(;e<144;)n.lens[e++]=8;for(;e<256;)n.lens[e++]=9;for(;e<280;)n.lens[e++]=7;for(;e<288;)n.lens[e++]=8;for(um(yI,n.lens,0,288,o2,0,n.work,{bits:9}),e=0;e<32;)n.lens[e++]=5;um(vI,n.lens,0,32,l2,0,n.work,{bits:5}),RS=!1}n.lencode=o2,n.lenbits=9,n.distcode=l2,n.distbits=5},II=(n,e,t,r)=>{let i;const a=n.state;return a.window===null&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new Uint8Array(a.wsize)),r>=a.wsize?(a.window.set(e.subarray(t-a.wsize,t),0),a.wnext=0,a.whave=a.wsize):(i=a.wsize-a.wnext,i>r&&(i=r),a.window.set(e.subarray(t-r,t-r+i),a.wnext),r-=i,r?(a.window.set(e.subarray(t-r,t),0),a.wnext=r,a.whave=a.wsize):(a.wnext+=i,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=i))),0},t8=(n,e)=>{let t,r,i,a,l,c,h,f,p,v,E,b,R,P,M=0,k,K,$,ee,ye,ve,z,F;const D=new Uint8Array(4);let G,I;const j=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Qh(n)||!n.output||!n.input&&n.avail_in!==0)return wo;t=n.state,t.mode===gu&&(t.mode=i2),l=n.next_out,i=n.output,h=n.avail_out,a=n.next_in,r=n.input,c=n.avail_in,f=t.hold,p=t.bits,v=c,E=h,F=Vh;e:for(;;)switch(t.mode){case Wy:if(t.wrap===0){t.mode=i2;break}for(;p<16;){if(c===0)break e;c--,f+=r[a++]<<p,p+=8}if(t.wrap&2&&f===35615){t.wbits===0&&(t.wbits=15),t.check=0,D[0]=f&255,D[1]=f>>>8&255,t.check=Al(t.check,D,2,0),f=0,p=0,t.mode=lS;break}if(t.head&&(t.head.done=!1),!(t.wrap&1)||(((f&255)<<8)+(f>>8))%31){n.msg="incorrect header check",t.mode=Ur;break}if((f&15)!==oS){n.msg="unknown compression method",t.mode=Ur;break}if(f>>>=4,p-=4,z=(f&15)+8,t.wbits===0&&(t.wbits=z),z>15||z>t.wbits){n.msg="invalid window size",t.mode=Ur;break}t.dmax=1<<t.wbits,t.flags=0,n.adler=t.check=1,t.mode=f&512?gS:gu,f=0,p=0;break;case lS:for(;p<16;){if(c===0)break e;c--,f+=r[a++]<<p,p+=8}if(t.flags=f,(t.flags&255)!==oS){n.msg="unknown compression method",t.mode=Ur;break}if(t.flags&57344){n.msg="unknown header flags set",t.mode=Ur;break}t.head&&(t.head.text=f>>8&1),t.flags&512&&t.wrap&4&&(D[0]=f&255,D[1]=f>>>8&255,t.check=Al(t.check,D,2,0)),f=0,p=0,t.mode=uS;case uS:for(;p<32;){if(c===0)break e;c--,f+=r[a++]<<p,p+=8}t.head&&(t.head.time=f),t.flags&512&&t.wrap&4&&(D[0]=f&255,D[1]=f>>>8&255,D[2]=f>>>16&255,D[3]=f>>>24&255,t.check=Al(t.check,D,4,0)),f=0,p=0,t.mode=cS;case cS:for(;p<16;){if(c===0)break e;c--,f+=r[a++]<<p,p+=8}t.head&&(t.head.xflags=f&255,t.head.os=f>>8),t.flags&512&&t.wrap&4&&(D[0]=f&255,D[1]=f>>>8&255,t.check=Al(t.check,D,2,0)),f=0,p=0,t.mode=hS;case hS:if(t.flags&1024){for(;p<16;){if(c===0)break e;c--,f+=r[a++]<<p,p+=8}t.length=f,t.head&&(t.head.extra_len=f),t.flags&512&&t.wrap&4&&(D[0]=f&255,D[1]=f>>>8&255,t.check=Al(t.check,D,2,0)),f=0,p=0}else t.head&&(t.head.extra=null);t.mode=fS;case fS:if(t.flags&1024&&(b=t.length,b>c&&(b=c),b&&(t.head&&(z=t.head.extra_len-t.length,t.head.extra||(t.head.extra=new Uint8Array(t.head.extra_len)),t.head.extra.set(r.subarray(a,a+b),z)),t.flags&512&&t.wrap&4&&(t.check=Al(t.check,r,b,a)),c-=b,a+=b,t.length-=b),t.length))break e;t.length=0,t.mode=dS;case dS:if(t.flags&2048){if(c===0)break e;b=0;do z=r[a+b++],t.head&&z&&t.length<65536&&(t.head.name+=String.fromCharCode(z));while(z&&b<c);if(t.flags&512&&t.wrap&4&&(t.check=Al(t.check,r,b,a)),c-=b,a+=b,z)break e}else t.head&&(t.head.name=null);t.length=0,t.mode=pS;case pS:if(t.flags&4096){if(c===0)break e;b=0;do z=r[a+b++],t.head&&z&&t.length<65536&&(t.head.comment+=String.fromCharCode(z));while(z&&b<c);if(t.flags&512&&t.wrap&4&&(t.check=Al(t.check,r,b,a)),c-=b,a+=b,z)break e}else t.head&&(t.head.comment=null);t.mode=mS;case mS:if(t.flags&512){for(;p<16;){if(c===0)break e;c--,f+=r[a++]<<p,p+=8}if(t.wrap&4&&f!==(t.check&65535)){n.msg="header crc mismatch",t.mode=Ur;break}f=0,p=0}t.head&&(t.head.hcrc=t.flags>>9&1,t.head.done=!0),n.adler=t.check=0,t.mode=gu;break;case gS:for(;p<32;){if(c===0)break e;c--,f+=r[a++]<<p,p+=8}n.adler=t.check=CS(f),f=0,p=0,t.mode=dy;case dy:if(t.havedict===0)return n.next_out=l,n.avail_out=h,n.next_in=a,n.avail_in=c,t.hold=f,t.bits=p,$D;n.adler=t.check=1,t.mode=gu;case gu:if(e===HD||e===A1)break e;case i2:if(t.last){f>>>=p&7,p-=p&7,t.mode=a2;break}for(;p<3;){if(c===0)break e;c--,f+=r[a++]<<p,p+=8}switch(t.last=f&1,f>>>=1,p-=1,f&3){case 0:t.mode=yS;break;case 1:if(e8(t),t.mode=S1,e===A1){f>>>=2,p-=2;break e}break;case 2:t.mode=_S;break;case 3:n.msg="invalid block type",t.mode=Ur}f>>>=2,p-=2;break;case yS:for(f>>>=p&7,p-=p&7;p<32;){if(c===0)break e;c--,f+=r[a++]<<p,p+=8}if((f&65535)!==(f>>>16^65535)){n.msg="invalid stored block lengths",t.mode=Ur;break}if(t.length=f&65535,f=0,p=0,t.mode=s2,e===A1)break e;case s2:t.mode=vS;case vS:if(b=t.length,b){if(b>c&&(b=c),b>h&&(b=h),b===0)break e;i.set(r.subarray(a,a+b),l),c-=b,a+=b,h-=b,l+=b,t.length-=b;break}t.mode=gu;break;case _S:for(;p<14;){if(c===0)break e;c--,f+=r[a++]<<p,p+=8}if(t.nlen=(f&31)+257,f>>>=5,p-=5,t.ndist=(f&31)+1,f>>>=5,p-=5,t.ncode=(f&15)+4,f>>>=4,p-=4,t.nlen>286||t.ndist>30){n.msg="too many length or distance symbols",t.mode=Ur;break}t.have=0,t.mode=bS;case bS:for(;t.have<t.ncode;){for(;p<3;){if(c===0)break e;c--,f+=r[a++]<<p,p+=8}t.lens[j[t.have++]]=f&7,f>>>=3,p-=3}for(;t.have<19;)t.lens[j[t.have++]]=0;if(t.lencode=t.lendyn,t.lenbits=7,G={bits:t.lenbits},F=um(qD,t.lens,0,19,t.lencode,0,t.work,G),t.lenbits=G.bits,F){n.msg="invalid code lengths set",t.mode=Ur;break}t.have=0,t.mode=wS;case wS:for(;t.have<t.nlen+t.ndist;){for(;M=t.lencode[f&(1<<t.lenbits)-1],k=M>>>24,K=M>>>16&255,$=M&65535,!(k<=p);){if(c===0)break e;c--,f+=r[a++]<<p,p+=8}if($<16)f>>>=k,p-=k,t.lens[t.have++]=$;else{if($===16){for(I=k+2;p<I;){if(c===0)break e;c--,f+=r[a++]<<p,p+=8}if(f>>>=k,p-=k,t.have===0){n.msg="invalid bit length repeat",t.mode=Ur;break}z=t.lens[t.have-1],b=3+(f&3),f>>>=2,p-=2}else if($===17){for(I=k+3;p<I;){if(c===0)break e;c--,f+=r[a++]<<p,p+=8}f>>>=k,p-=k,z=0,b=3+(f&7),f>>>=3,p-=3}else{for(I=k+7;p<I;){if(c===0)break e;c--,f+=r[a++]<<p,p+=8}f>>>=k,p-=k,z=0,b=11+(f&127),f>>>=7,p-=7}if(t.have+b>t.nlen+t.ndist){n.msg="invalid bit length repeat",t.mode=Ur;break}for(;b--;)t.lens[t.have++]=z}}if(t.mode===Ur)break;if(t.lens[256]===0){n.msg="invalid code -- missing end-of-block",t.mode=Ur;break}if(t.lenbits=9,G={bits:t.lenbits},F=um(yI,t.lens,0,t.nlen,t.lencode,0,t.work,G),t.lenbits=G.bits,F){n.msg="invalid literal/lengths set",t.mode=Ur;break}if(t.distbits=6,t.distcode=t.distdyn,G={bits:t.distbits},F=um(vI,t.lens,t.nlen,t.ndist,t.distcode,0,t.work,G),t.distbits=G.bits,F){n.msg="invalid distances set",t.mode=Ur;break}if(t.mode=S1,e===A1)break e;case S1:t.mode=T1;case T1:if(c>=6&&h>=258){n.next_out=l,n.avail_out=h,n.next_in=a,n.avail_in=c,t.hold=f,t.bits=p,VD(n,E),l=n.next_out,i=n.output,h=n.avail_out,a=n.next_in,r=n.input,c=n.avail_in,f=t.hold,p=t.bits,t.mode===gu&&(t.back=-1);break}for(t.back=0;M=t.lencode[f&(1<<t.lenbits)-1],k=M>>>24,K=M>>>16&255,$=M&65535,!(k<=p);){if(c===0)break e;c--,f+=r[a++]<<p,p+=8}if(K&&(K&240)===0){for(ee=k,ye=K,ve=$;M=t.lencode[ve+((f&(1<<ee+ye)-1)>>ee)],k=M>>>24,K=M>>>16&255,$=M&65535,!(ee+k<=p);){if(c===0)break e;c--,f+=r[a++]<<p,p+=8}f>>>=ee,p-=ee,t.back+=ee}if(f>>>=k,p-=k,t.back+=k,t.length=$,K===0){t.mode=xS;break}if(K&32){t.back=-1,t.mode=gu;break}if(K&64){n.msg="invalid literal/length code",t.mode=Ur;break}t.extra=K&15,t.mode=ES;case ES:if(t.extra){for(I=t.extra;p<I;){if(c===0)break e;c--,f+=r[a++]<<p,p+=8}t.length+=f&(1<<t.extra)-1,f>>>=t.extra,p-=t.extra,t.back+=t.extra}t.was=t.length,t.mode=AS;case AS:for(;M=t.distcode[f&(1<<t.distbits)-1],k=M>>>24,K=M>>>16&255,$=M&65535,!(k<=p);){if(c===0)break e;c--,f+=r[a++]<<p,p+=8}if((K&240)===0){for(ee=k,ye=K,ve=$;M=t.distcode[ve+((f&(1<<ee+ye)-1)>>ee)],k=M>>>24,K=M>>>16&255,$=M&65535,!(ee+k<=p);){if(c===0)break e;c--,f+=r[a++]<<p,p+=8}f>>>=ee,p-=ee,t.back+=ee}if(f>>>=k,p-=k,t.back+=k,K&64){n.msg="invalid distance code",t.mode=Ur;break}t.offset=$,t.extra=K&15,t.mode=SS;case SS:if(t.extra){for(I=t.extra;p<I;){if(c===0)break e;c--,f+=r[a++]<<p,p+=8}t.offset+=f&(1<<t.extra)-1,f>>>=t.extra,p-=t.extra,t.back+=t.extra}if(t.offset>t.dmax){n.msg="invalid distance too far back",t.mode=Ur;break}t.mode=TS;case TS:if(h===0)break e;if(b=E-h,t.offset>b){if(b=t.offset-b,b>t.whave&&t.sane){n.msg="invalid distance too far back",t.mode=Ur;break}b>t.wnext?(b-=t.wnext,R=t.wsize-b):R=t.wnext-b,b>t.length&&(b=t.length),P=t.window}else P=i,R=l-t.offset,b=t.length;b>h&&(b=h),h-=b,t.length-=b;do i[l++]=P[R++];while(--b);t.length===0&&(t.mode=T1);break;case xS:if(h===0)break e;i[l++]=t.length,h--,t.mode=T1;break;case a2:if(t.wrap){for(;p<32;){if(c===0)break e;c--,f|=r[a++]<<p,p+=8}if(E-=h,n.total_out+=E,t.total+=E,t.wrap&4&&E&&(n.adler=t.check=t.flags?Al(t.check,i,E,l-E):s_(t.check,i,E,l-E)),E=h,t.wrap&4&&(t.flags?f:CS(f))!==t.check){n.msg="incorrect data check",t.mode=Ur;break}f=0,p=0}t.mode=IS;case IS:if(t.wrap&&t.flags){for(;p<32;){if(c===0)break e;c--,f+=r[a++]<<p,p+=8}if(t.wrap&4&&f!==(t.total&4294967295)){n.msg="incorrect length check",t.mode=Ur;break}f=0,p=0}t.mode=NS;case NS:F=GD;break e;case Ur:F=_I;break e;case wI:return bI;case EI:default:return wo}return n.next_out=l,n.avail_out=h,n.next_in=a,n.avail_in=c,t.hold=f,t.bits=p,(t.wsize||E!==n.avail_out&&t.mode<Ur&&(t.mode<a2||e!==aS))&&II(n,n.output,n.next_out,E-n.avail_out),v-=n.avail_in,E-=n.avail_out,n.total_in+=v,n.total_out+=E,t.total+=E,t.wrap&4&&E&&(n.adler=t.check=t.flags?Al(t.check,i,E,n.next_out-E):s_(t.check,i,E,n.next_out-E)),n.data_type=t.bits+(t.last?64:0)+(t.mode===gu?128:0)+(t.mode===S1||t.mode===s2?256:0),(v===0&&E===0||e===aS)&&F===Vh&&(F=WD),F},n8=n=>{if(Qh(n))return wo;let e=n.state;return e.window&&(e.window=null),n.state=null,Vh},r8=(n,e)=>{if(Qh(n))return wo;const t=n.state;return(t.wrap&2)===0?wo:(t.head=e,e.done=!1,Vh)},i8=(n,e)=>{const t=e.length;let r,i,a;return Qh(n)||(r=n.state,r.wrap!==0&&r.mode!==dy)?wo:r.mode===dy&&(i=1,i=s_(i,e,t,0),i!==r.check)?_I:(a=II(n,e,t,t),a?(r.mode=wI,bI):(r.havedict=1,Vh))};var s8=SI,a8=TI,o8=AI,l8=ZD,u8=xI,c8=t8,h8=n8,f8=r8,d8=i8,p8="pako inflate (from Nodeca project)",yu={inflateReset:s8,inflateReset2:a8,inflateResetKeep:o8,inflateInit:l8,inflateInit2:u8,inflate:c8,inflateEnd:h8,inflateGetHeader:f8,inflateSetDictionary:d8,inflateInfo:p8};function m8(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var g8=m8;const NI=Object.prototype.toString,{Z_NO_FLUSH:y8,Z_FINISH:v8,Z_OK:Nm,Z_STREAM_END:u2,Z_NEED_DICT:c2,Z_STREAM_ERROR:_8,Z_DATA_ERROR:PS,Z_MEM_ERROR:b8}=pI;function ig(n){this.options=mI.assign({chunkSize:1024*64,windowBits:15,to:""},n||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(n&&n.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new OD,this.strm.avail_out=0;let t=yu.inflateInit2(this.strm,e.windowBits);if(t!==Nm)throw new Error(a_[t]);if(this.header=new g8,yu.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=o_.string2buf(e.dictionary):NI.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(t=yu.inflateSetDictionary(this.strm,e.dictionary),t!==Nm)))throw new Error(a_[t])}ig.prototype.push=function(n,e){const t=this.strm,r=this.options.chunkSize,i=this.options.dictionary;let a,l,c;if(this.ended)return!1;for(e===~~e?l=e:l=e===!0?v8:y8,NI.call(n)==="[object ArrayBuffer]"?t.input=new Uint8Array(n):t.input=n,t.next_in=0,t.avail_in=t.input.length;;){for(t.avail_out===0&&(t.output=new Uint8Array(r),t.next_out=0,t.avail_out=r),a=yu.inflate(t,l),a===c2&&i&&(a=yu.inflateSetDictionary(t,i),a===Nm?a=yu.inflate(t,l):a===PS&&(a=c2));t.avail_in>0&&a===u2&&t.state.wrap>0&&n[t.next_in]!==0;)yu.inflateReset(t),a=yu.inflate(t,l);switch(a){case _8:case PS:case c2:case b8:return this.onEnd(a),this.ended=!0,!1}if(c=t.avail_out,t.next_out&&(t.avail_out===0||a===u2))if(this.options.to==="string"){let h=o_.utf8border(t.output,t.next_out),f=t.next_out-h,p=o_.buf2string(t.output,h);t.next_out=f,t.avail_out=r-f,f&&t.output.set(t.output.subarray(h,h+f),0),this.onData(p)}else this.onData(t.output.length===t.next_out?t.output:t.output.subarray(0,t.next_out));if(!(a===Nm&&c===0)){if(a===u2)return a=yu.inflateEnd(this.strm),this.onEnd(a),this.ended=!0,!0;if(t.avail_in===0)break}}return!0};ig.prototype.onData=function(n){this.chunks.push(n)};ig.prototype.onEnd=function(n){n===Nm&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=mI.flattenChunks(this.chunks)),this.chunks=[],this.err=n,this.msg=this.strm.msg};function w8(n,e){const t=new ig(e);if(t.push(n),t.err)throw t.msg||a_[t.err];return t.result}var E8=ig,A8=w8,S8={Inflate:E8,inflate:A8};const{Inflate:T8,inflate:x8}=S8;var LS=T8,I8=x8;const CI=[];for(let n=0;n<256;n++){let e=n;for(let t=0;t<8;t++)e&1?e=3988292384^e>>>1:e=e>>>1;CI[n]=e}const kS=4294967295;function N8(n,e,t){let r=n;for(let i=0;i<t;i++)r=CI[(r^e[i])&255]^r>>>8;return r}function C8(n,e){return(N8(kS,n,e)^kS)>>>0}function DS(n,e,t){const r=n.readUint32(),i=C8(new Uint8Array(n.buffer,n.byteOffset+n.offset-e-4,e),e);if(i!==r)throw new Error(`CRC mismatch for chunk ${t}. Expected ${r}, found ${i}`)}function RI(n,e,t){for(let r=0;r<t;r++)e[r]=n[r]}function PI(n,e,t,r){let i=0;for(;i<r;i++)e[i]=n[i];for(;i<t;i++)e[i]=n[i]+e[i-r]&255}function LI(n,e,t,r){let i=0;if(t.length===0)for(;i<r;i++)e[i]=n[i];else for(;i<r;i++)e[i]=n[i]+t[i]&255}function kI(n,e,t,r,i){let a=0;if(t.length===0){for(;a<i;a++)e[a]=n[a];for(;a<r;a++)e[a]=n[a]+(e[a-i]>>1)&255}else{for(;a<i;a++)e[a]=n[a]+(t[a]>>1)&255;for(;a<r;a++)e[a]=n[a]+(e[a-i]+t[a]>>1)&255}}function DI(n,e,t,r,i){let a=0;if(t.length===0){for(;a<i;a++)e[a]=n[a];for(;a<r;a++)e[a]=n[a]+e[a-i]&255}else{for(;a<i;a++)e[a]=n[a]+t[a]&255;for(;a<r;a++)e[a]=n[a]+R8(e[a-i],t[a],t[a-i])&255}}function R8(n,e,t){const r=n+e-t,i=Math.abs(r-n),a=Math.abs(r-e),l=Math.abs(r-t);return i<=a&&i<=l?n:a<=l?e:t}function P8(n,e,t,r,i,a){switch(n){case 0:RI(e,t,i);break;case 1:PI(e,t,i,a);break;case 2:LI(e,t,r,i);break;case 3:kI(e,t,r,i,a);break;case 4:DI(e,t,r,i,a);break;default:throw new Error(`Unsupported filter: ${n}`)}}const L8=new Uint16Array([255]),k8=new Uint8Array(L8.buffer),D8=k8[0]===255;function O8(n){const{data:e,width:t,height:r,channels:i,depth:a}=n,l=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],c=Math.ceil(a/8)*i,h=new Uint8Array(r*t*c);let f=0;for(let p=0;p<7;p++){const v=l[p],E=Math.ceil((t-v.x)/v.xStep),b=Math.ceil((r-v.y)/v.yStep);if(E<=0||b<=0)continue;const R=E*c,P=new Uint8Array(R);for(let M=0;M<b;M++){const k=e[f++],K=e.subarray(f,f+R);f+=R;const $=new Uint8Array(R);P8(k,K,$,P,R,c),P.set($);for(let ee=0;ee<E;ee++){const ye=v.x+ee*v.xStep,ve=v.y+M*v.yStep;if(!(ye>=t||ve>=r))for(let z=0;z<c;z++)h[(ve*t+ye)*c+z]=$[ee*c+z]}}}if(a===16){const p=new Uint16Array(h.buffer);if(D8)for(let v=0;v<p.length;v++)p[v]=M8(p[v]);return p}else return h}function M8(n){return(n&255)<<8|n>>8&255}const V8=new Uint16Array([255]),j8=new Uint8Array(V8.buffer),F8=j8[0]===255,U8=new Uint8Array(0);function OS(n){const{data:e,width:t,height:r,channels:i,depth:a}=n,l=Math.ceil(a/8)*i,c=Math.ceil(a/8*i*t),h=new Uint8Array(r*c);let f=U8,p=0,v,E;for(let b=0;b<r;b++){switch(v=e.subarray(p+1,p+1+c),E=h.subarray(b*c,(b+1)*c),e[p]){case 0:RI(v,E,c);break;case 1:PI(v,E,c,l);break;case 2:LI(v,E,f,c);break;case 3:kI(v,E,f,c,l);break;case 4:DI(v,E,f,c,l);break;default:throw new Error(`Unsupported filter: ${e[p]}`)}f=E,p+=c+1}if(a===16){const b=new Uint16Array(h.buffer);if(F8)for(let R=0;R<b.length;R++)b[R]=B8(b[R]);return b}else return h}function B8(n){return(n&255)<<8|n>>8&255}const q1=Uint8Array.of(137,80,78,71,13,10,26,10);function MS(n){if(!z8(n.readBytes(q1.length)))throw new Error("wrong PNG signature")}function z8(n){if(n.length<q1.length)return!1;for(let e=0;e<q1.length;e++)if(n[e]!==q1[e])return!1;return!0}const q8="tEXt",H8=0,OI=new TextDecoder("latin1");function G8(n){if(W8(n),n.length===0||n.length>79)throw new Error("keyword length must be between 1 and 79")}const $8=/^[\u0000-\u00FF]*$/;function W8(n){if(!$8.test(n))throw new Error("invalid latin1 text")}function K8(n,e,t){const r=MI(e);n[r]=Y8(e,t-r.length-1)}function MI(n){for(n.mark();n.readByte()!==H8;);const e=n.offset;n.reset();const t=OI.decode(n.readBytes(e-n.offset-1));return n.skip(1),G8(t),t}function Y8(n,e){return OI.decode(n.readBytes(e))}const Ha={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},h2={UNKNOWN:-1,DEFLATE:0},VS={UNKNOWN:-1,ADAPTIVE:0},f2={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},x1={NONE:0,BACKGROUND:1,PREVIOUS:2},d2={SOURCE:0,OVER:1};class Q8 extends _5{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(e,t={}){super(e);const{checkCrc:r=!1}=t;this._checkCrc=r,this._inflator=new LS,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=h2.UNKNOWN,this._filterMethod=VS.UNKNOWN,this._interlaceMethod=f2.UNKNOWN,this._colorType=Ha.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(MS(this);!this._end;){const e=this.readUint32(),t=this.readChars(4);this.decodeChunk(e,t)}return this.decodeImage(),this._png}decodeApng(){for(MS(this);!this._end;){const e=this.readUint32(),t=this.readChars(4);this.decodeApngChunk(e,t)}return this.decodeApngImage(),this._apng}decodeChunk(e,t){const r=this.offset;switch(t){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(e);break;case"IDAT":this.decodeIDAT(e);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(e);break;case"iCCP":this.decodeiCCP(e);break;case q8:K8(this._png.text,this,e);break;case"pHYs":this.decodepHYs();break;default:this.skip(e);break}if(this.offset-r!==e)throw new Error(`Length mismatch while decoding chunk ${t}`);this._checkCrc?DS(this,e+4,t):this.skip(4)}decodeApngChunk(e,t){const r=this.offset;switch(t!=="fdAT"&&t!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),t){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(e);break;default:this.decodeChunk(e,t),this.offset=r+e;break}if(this.offset-r!==e)throw new Error(`Length mismatch while decoding chunk ${t}`);this._checkCrc?DS(this,e+4,t):this.skip(4)}decodeIHDR(){const e=this._png;e.width=this.readUint32(),e.height=this.readUint32(),e.depth=X8(this.readUint8());const t=this.readUint8();this._colorType=t;let r;switch(t){case Ha.GREYSCALE:r=1;break;case Ha.TRUECOLOUR:r=3;break;case Ha.INDEXED_COLOUR:r=1;break;case Ha.GREYSCALE_ALPHA:r=2;break;case Ha.TRUECOLOUR_ALPHA:r=4;break;case Ha.UNKNOWN:default:throw new Error(`Unknown color type: ${t}`)}if(this._png.channels=r,this._compressionMethod=this.readUint8(),this._compressionMethod!==h2.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const e={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(e)}decodePLTE(e){if(e%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${e}`);const t=e/3;this._hasPalette=!0;const r=[];this._palette=r;for(let i=0;i<t;i++)r.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(e){this._writingDataChunks=!0;const t=e,r=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,r,t)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodeFDAT(e){this._writingDataChunks=!0;let t=e,r=this.offset+this.byteOffset;if(r+=4,t-=4,this._inflator.push(new Uint8Array(this.buffer,r,t)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodetRNS(e){switch(this._colorType){case Ha.GREYSCALE:case Ha.TRUECOLOUR:{if(e%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${e}`);if(e/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${e/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(e/2);for(let t=0;t<e/2;t++)this._transparency[t]=this.readUint16();break}case Ha.INDEXED_COLOUR:{if(e>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${e} vs ${this._palette.length})`);let t=0;for(;t<e;t++){const r=this.readByte();this._palette[t].push(r)}for(;t<this._palette.length;t++)this._palette[t].push(255);break}case Ha.UNKNOWN:case Ha.GREYSCALE_ALPHA:case Ha.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(e){const t=MI(this),r=this.readUint8();if(r!==h2.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${r}`);const i=this.readBytes(e-t.length-2);this._png.iccEmbeddedProfile={name:t,profile:I8(i)}}decodepHYs(){const e=this.readUint32(),t=this.readUint32(),r=this.readByte();this._png.resolution={x:e,y:t,unit:r}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let e=0;e<this._numberOfFrames;e++){const t={sequenceNumber:this._frames[e].sequenceNumber,delayNumber:this._frames[e].delayNumber,delayDenominator:this._frames[e].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},r=this._frames.at(e);if(r){if(r.data=OS({data:r.data,width:r.width,height:r.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),e===0||r.xOffset===0&&r.yOffset===0&&r.width===this._png.width&&r.height===this._png.height)t.data=r.data;else{const i=this._apng.frames.at(e-1);this.disposeFrame(r,i,t),this.addFrameDataToCanvas(t,r)}this._apng.frames.push(t)}}return this._apng}disposeFrame(e,t,r){switch(e.disposeOp){case x1.NONE:break;case x1.BACKGROUND:for(let i=0;i<this._png.height;i++)for(let a=0;a<this._png.width;a++){const l=(i*e.width+a)*this._png.channels;for(let c=0;c<this._png.channels;c++)r.data[l+c]=0}break;case x1.PREVIOUS:r.data.set(t.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(e,t){const r=1<<this._png.depth,i=(a,l)=>{const c=((a+t.yOffset)*this._png.width+t.xOffset+l)*this._png.channels,h=(a*t.width+l)*this._png.channels;return{index:c,frameIndex:h}};switch(t.blendOp){case d2.SOURCE:for(let a=0;a<t.height;a++)for(let l=0;l<t.width;l++){const{index:c,frameIndex:h}=i(a,l);for(let f=0;f<this._png.channels;f++)e.data[c+f]=t.data[h+f]}break;case d2.OVER:for(let a=0;a<t.height;a++)for(let l=0;l<t.width;l++){const{index:c,frameIndex:h}=i(a,l);for(let f=0;f<this._png.channels;f++){const p=t.data[h+this._png.channels-1]/r,v=f%(this._png.channels-1)===0?1:t.data[h+f],E=Math.floor(p*v+(1-p)*e.data[c+f]);e.data[c+f]+=E}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const e=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==VS.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===f2.NO_INTERLACE)this._png.data=OS({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===f2.ADAM7)this._png.data=O8({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const e=this._inflator.result,t=this._frames.at(-1);t?t.data=e:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:x1.NONE,blendOp:d2.SOURCE,data:e}),this._inflator=new LS,this._writingDataChunks=!1}}function X8(n){if(n!==1&&n!==2&&n!==4&&n!==8&&n!==16)throw new Error(`invalid bit depth: ${n}`);return n}var jS;(function(n){n[n.UNKNOWN=0]="UNKNOWN",n[n.METRE=1]="METRE"})(jS||(jS={}));function J8(n,e){return new Q8(n,e).decode()}var on=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function p2(){on.console&&typeof on.console.log=="function"&&on.console.log.apply(on.console,arguments)}var Ar={log:p2,warn:function(n){on.console&&(typeof on.console.warn=="function"?on.console.warn.apply(on.console,arguments):p2.call(null,arguments))},error:function(n){on.console&&(typeof on.console.error=="function"?on.console.error.apply(on.console,arguments):p2(n))}};function m2(n,e,t){var r=new XMLHttpRequest;r.open("GET",n),r.responseType="blob",r.onload=function(){gh(r.response,e,t)},r.onerror=function(){Ar.error("could not download file")},r.send()}function FS(n){var e=new XMLHttpRequest;e.open("HEAD",n,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function I1(n){try{n.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),n.dispatchEvent(e)}}var gh=on.saveAs||((typeof window>"u"?"undefined":ur(window))!=="object"||window!==on?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(n,e,t){var r=on.URL||on.webkitURL,i=document.createElement("a");e=e||n.name||"download",i.download=e,i.rel="noopener",typeof n=="string"?(i.href=n,i.origin!==location.origin?FS(i.href)?m2(n,e,t):I1(i,i.target="_blank"):I1(i)):(i.href=r.createObjectURL(n),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){I1(i)},0))}:"msSaveOrOpenBlob"in navigator?function(n,e,t){if(e=e||n.name||"download",typeof n=="string")if(FS(n))m2(n,e,t);else{var r=document.createElement("a");r.href=n,r.target="_blank",setTimeout(function(){I1(r)})}else navigator.msSaveOrOpenBlob((function(i,a){return a===void 0?a={autoBom:!1}:ur(a)!=="object"&&(Ar.warn("Deprecated: Expected third argument to be a object"),a={autoBom:!a}),a.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i})(n,t),e)}:function(n,e,t,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof n=="string")return m2(n,e,t);var i=n.type==="application/octet-stream",a=/constructor/i.test(on.HTMLElement)||on.safari,l=/CriOS\/[\d]+/.test(navigator.userAgent);if((l||i&&a)&&(typeof FileReader>"u"?"undefined":ur(FileReader))==="object"){var c=new FileReader;c.onloadend=function(){var p=c.result;p=l?p:p.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=p:location=p,r=null},c.readAsDataURL(n)}else{var h=on.URL||on.webkitURL,f=h.createObjectURL(n);r?r.location=f:location.href=f,r=null,setTimeout(function(){h.revokeObjectURL(f)},4e4)}});function VI(n){var e;n=n||"",this.ok=!1,n.charAt(0)=="#"&&(n=n.substr(1,6)),n={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[n=(n=n.replace(/ /g,"")).toLowerCase()]||n;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(c){return[parseInt(c[1]),parseInt(c[2]),parseInt(c[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(c){return[parseInt(c[1],16),parseInt(c[2],16),parseInt(c[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(c){return[parseInt(c[1]+c[1],16),parseInt(c[2]+c[2],16),parseInt(c[3]+c[3],16)]}}],r=0;r<t.length;r++){var i=t[r].re,a=t[r].process,l=i.exec(n);l&&(e=a(l),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var c=this.r.toString(16),h=this.g.toString(16),f=this.b.toString(16);return c.length==1&&(c="0"+c),h.length==1&&(h="0"+h),f.length==1&&(f="0"+f),"#"+c+h+f}}var H1=on.atob.bind(on),US=on.btoa.bind(on);function g2(n,e){var t=n[0],r=n[1],i=n[2],a=n[3];t=Ds(t,r,i,a,e[0],7,-680876936),a=Ds(a,t,r,i,e[1],12,-389564586),i=Ds(i,a,t,r,e[2],17,606105819),r=Ds(r,i,a,t,e[3],22,-1044525330),t=Ds(t,r,i,a,e[4],7,-176418897),a=Ds(a,t,r,i,e[5],12,1200080426),i=Ds(i,a,t,r,e[6],17,-1473231341),r=Ds(r,i,a,t,e[7],22,-45705983),t=Ds(t,r,i,a,e[8],7,1770035416),a=Ds(a,t,r,i,e[9],12,-1958414417),i=Ds(i,a,t,r,e[10],17,-42063),r=Ds(r,i,a,t,e[11],22,-1990404162),t=Ds(t,r,i,a,e[12],7,1804603682),a=Ds(a,t,r,i,e[13],12,-40341101),i=Ds(i,a,t,r,e[14],17,-1502002290),t=Os(t,r=Ds(r,i,a,t,e[15],22,1236535329),i,a,e[1],5,-165796510),a=Os(a,t,r,i,e[6],9,-1069501632),i=Os(i,a,t,r,e[11],14,643717713),r=Os(r,i,a,t,e[0],20,-373897302),t=Os(t,r,i,a,e[5],5,-701558691),a=Os(a,t,r,i,e[10],9,38016083),i=Os(i,a,t,r,e[15],14,-660478335),r=Os(r,i,a,t,e[4],20,-405537848),t=Os(t,r,i,a,e[9],5,568446438),a=Os(a,t,r,i,e[14],9,-1019803690),i=Os(i,a,t,r,e[3],14,-187363961),r=Os(r,i,a,t,e[8],20,1163531501),t=Os(t,r,i,a,e[13],5,-1444681467),a=Os(a,t,r,i,e[2],9,-51403784),i=Os(i,a,t,r,e[7],14,1735328473),t=Ms(t,r=Os(r,i,a,t,e[12],20,-1926607734),i,a,e[5],4,-378558),a=Ms(a,t,r,i,e[8],11,-2022574463),i=Ms(i,a,t,r,e[11],16,1839030562),r=Ms(r,i,a,t,e[14],23,-35309556),t=Ms(t,r,i,a,e[1],4,-1530992060),a=Ms(a,t,r,i,e[4],11,1272893353),i=Ms(i,a,t,r,e[7],16,-155497632),r=Ms(r,i,a,t,e[10],23,-1094730640),t=Ms(t,r,i,a,e[13],4,681279174),a=Ms(a,t,r,i,e[0],11,-358537222),i=Ms(i,a,t,r,e[3],16,-722521979),r=Ms(r,i,a,t,e[6],23,76029189),t=Ms(t,r,i,a,e[9],4,-640364487),a=Ms(a,t,r,i,e[12],11,-421815835),i=Ms(i,a,t,r,e[15],16,530742520),t=Vs(t,r=Ms(r,i,a,t,e[2],23,-995338651),i,a,e[0],6,-198630844),a=Vs(a,t,r,i,e[7],10,1126891415),i=Vs(i,a,t,r,e[14],15,-1416354905),r=Vs(r,i,a,t,e[5],21,-57434055),t=Vs(t,r,i,a,e[12],6,1700485571),a=Vs(a,t,r,i,e[3],10,-1894986606),i=Vs(i,a,t,r,e[10],15,-1051523),r=Vs(r,i,a,t,e[1],21,-2054922799),t=Vs(t,r,i,a,e[8],6,1873313359),a=Vs(a,t,r,i,e[15],10,-30611744),i=Vs(i,a,t,r,e[6],15,-1560198380),r=Vs(r,i,a,t,e[13],21,1309151649),t=Vs(t,r,i,a,e[4],6,-145523070),a=Vs(a,t,r,i,e[11],10,-1120210379),i=Vs(i,a,t,r,e[2],15,718787259),r=Vs(r,i,a,t,e[9],21,-343485551),n[0]=wc(t,n[0]),n[1]=wc(r,n[1]),n[2]=wc(i,n[2]),n[3]=wc(a,n[3])}function Ky(n,e,t,r,i,a){return e=wc(wc(e,n),wc(r,a)),wc(e<<i|e>>>32-i,t)}function Ds(n,e,t,r,i,a,l){return Ky(e&t|~e&r,n,e,i,a,l)}function Os(n,e,t,r,i,a,l){return Ky(e&r|t&~r,n,e,i,a,l)}function Ms(n,e,t,r,i,a,l){return Ky(e^t^r,n,e,i,a,l)}function Vs(n,e,t,r,i,a,l){return Ky(t^(e|~r),n,e,i,a,l)}function jI(n){var e,t=n.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=n.length;e+=64)g2(r,Z8(n.substring(e-64,e)));n=n.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<n.length;e++)i[e>>2]|=n.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(g2(r,i),e=0;e<16;e++)i[e]=0;return i[14]=8*t,g2(r,i),r}function Z8(n){var e,t=[];for(e=0;e<64;e+=4)t[e>>2]=n.charCodeAt(e)+(n.charCodeAt(e+1)<<8)+(n.charCodeAt(e+2)<<16)+(n.charCodeAt(e+3)<<24);return t}var BS="0123456789abcdef".split("");function eO(n){for(var e="",t=0;t<4;t++)e+=BS[n>>8*t+4&15]+BS[n>>8*t&15];return e}function tO(n){return String.fromCharCode(255&n,(65280&n)>>8,(16711680&n)>>16,(4278190080&n)>>24)}function l_(n){return jI(n).map(tO).join("")}var nO=(function(n){for(var e=0;e<n.length;e++)n[e]=eO(n[e]);return n.join("")})(jI("hello"))!="5d41402abc4b2a76b9719d911017c592";function wc(n,e){if(nO){var t=(65535&n)+(65535&e);return(n>>16)+(e>>16)+(t>>16)<<16|65535&t}return n+e&4294967295}function u_(n,e){var t,r,i,a;if(n!==t){for(var l=(i=n,a=1+(256/n.length|0),new Array(a+1).join(i)),c=[],h=0;h<256;h++)c[h]=h;var f=0;for(h=0;h<256;h++){var p=c[h];f=(f+p+l.charCodeAt(h))%256,c[h]=c[f],c[f]=p}t=n,r=c}else c=r;var v=e.length,E=0,b=0,R="";for(h=0;h<v;h++)b=(b+(p=c[E=(E+1)%256]))%256,c[E]=c[b],c[b]=p,l=c[(c[E]+c[b])%256],R+=String.fromCharCode(e.charCodeAt(h)^l);return R}var zS={print:4,modify:8,copy:16,"annot-forms":32};function Qf(n,e,t,r){this.v=1,this.r=2;var i=192;n.forEach(function(c){if(zS.perm!==void 0)throw new Error("Invalid permission: "+c);i+=zS[c]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var a=(e+this.padding).substr(0,32),l=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(a,l),this.P=-(1+(255^i)),this.encryptionKey=l_(a+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=u_(this.encryptionKey,this.padding)}function Xf(n){if(/[^\u0000-\u00ff]/.test(n))throw new Error("Invalid PDF Name Object: "+n+", Only accept ASCII characters.");for(var e="",t=n.length,r=0;r<t;r++){var i=n.charCodeAt(r);e+=i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?"#"+("0"+i.toString(16)).slice(-2):n[r]}return e}function qS(n){if(ur(n)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(t,r,i){if(i=i||!1,typeof t!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(t)||(e[t]={});var a=Math.random().toString(35);return e[t][a]=[r,!!i],a},this.unsubscribe=function(t){for(var r in e)if(e[r][t])return delete e[r][t],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(t){if(e.hasOwnProperty(t)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var a in e[t]){var l=e[t][a];try{l[0].apply(n,r)}catch(c){on.console&&Ar.error("jsPDF PubSub Error",c.message,c)}l[1]&&i.push(a)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function py(n){if(!(this instanceof py))return new py(n);var e="opacity,stroke-opacity".split(",");for(var t in n)n.hasOwnProperty(t)&&e.indexOf(t)>=0&&(this[t]=n[t]);this.id="",this.objectNumber=-1}function FI(n,e){this.gState=n,this.matrix=e,this.id="",this.objectNumber=-1}function wh(n,e,t,r,i){if(!(this instanceof wh))return new wh(n,e,t,r,i);this.type=n==="axial"?2:3,this.coords=e,this.colors=t,FI.call(this,r,i)}function rd(n,e,t,r,i){if(!(this instanceof rd))return new rd(n,e,t,r,i);this.boundingBox=n,this.xStep=e,this.yStep=t,this.stream="",this.cloneIndex=0,FI.call(this,r,i)}function kt(n){var e,t=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],a=arguments[3],l=[],c=1,h=16,f="S",p=null;ur(n=n||{})==="object"&&(t=n.orientation,r=n.unit||r,i=n.format||i,a=n.compress||n.compressPdf||a,(p=n.encryption||null)!==null&&(p.userPassword=p.userPassword||"",p.ownerPassword=p.ownerPassword||"",p.userPermissions=p.userPermissions||[]),c=typeof n.userUnit=="number"?Math.abs(n.userUnit):1,n.precision!==void 0&&(e=n.precision),n.floatPrecision!==void 0&&(h=n.floatPrecision),f=n.defaultPathOperation||"S"),l=n.filters||(a===!0?["FlateEncode"]:l),r=r||"mm",t=(""+(t||"P")).toLowerCase();var v=n.putOnlyUsedFonts||!1,E={},b={internal:{},__private__:{}};b.__private__.PubSub=qS;var R="1.3",P=b.__private__.getPdfVersion=function(){return R};b.__private__.setPdfVersion=function(A){R=A};var M={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};b.__private__.getPageFormats=function(){return M};var k=b.__private__.getPageFormat=function(A){return M[A]};i=i||"a4";var K="compat",$="advanced",ee=K;function ye(){this.saveGraphicsState(),ie(new mt(Qt,0,0,-Qt,0,Ks()*Qt).toString()+" cm"),this.setFontSize(this.getFontSize()/Qt),f="n",ee=$}function ve(){this.restoreGraphicsState(),f="S",ee=K}var z=b.__private__.combineFontStyleAndFontWeight=function(A,U){if(A=="bold"&&U=="normal"||A=="bold"&&U==400||A=="normal"&&U=="italic"||A=="bold"&&U=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return U&&(A=U==400||U==="normal"?A==="italic"?"italic":"normal":U!=700&&U!=="bold"||A!=="normal"?(U==700?"bold":U)+""+A:"bold"),A};b.advancedAPI=function(A){var U=ee===K;return U&&ye.call(this),typeof A!="function"||(A(this),U&&ve.call(this)),this},b.compatAPI=function(A){var U=ee===$;return U&&ve.call(this),typeof A!="function"||(A(this),U&&ye.call(this)),this},b.isAdvancedAPI=function(){return ee===$};var F,D=function(A){if(ee!==$)throw new Error(A+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},G=b.roundToPrecision=b.__private__.roundToPrecision=function(A,U){var ae=e||U;if(isNaN(A)||isNaN(ae))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return A.toFixed(ae).replace(/0+$/,"")};F=b.hpf=b.__private__.hpf=typeof h=="number"?function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.hpf");return G(A,h)}:h==="smart"?function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.hpf");return G(A,A>-1&&A<1?16:5)}:function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.hpf");return G(A,16)};var I=b.f2=b.__private__.f2=function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.f2");return G(A,2)},j=b.__private__.f3=function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.f3");return G(A,3)},N=b.scale=b.__private__.scale=function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.scale");return ee===K?A*Qt:ee===$?A:void 0},te=function(A){return N((function(U){return ee===K?Ks()-U:ee===$?U:void 0})(A))};b.__private__.setPrecision=b.setPrecision=function(A){typeof parseInt(A,10)=="number"&&(e=parseInt(A,10))};var fe,re="00000000000000000000000000000000",ue=b.__private__.getFileId=function(){return re},pe=b.__private__.setFileId=function(A){return re=A!==void 0&&/^[a-fA-F0-9]{32}$/.test(A)?A.toUpperCase():re.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),p!==null&&(_r=new Qf(p.userPermissions,p.userPassword,p.ownerPassword,re)),re};b.setFileId=function(A){return pe(A),this},b.getFileId=function(){return ue()};var xe=b.__private__.convertDateToPDFDate=function(A){var U=A.getTimezoneOffset(),ae=U<0?"+":"-",me=Math.floor(Math.abs(U/60)),Se=Math.abs(U%60),$e=[ae,ne(me),"'",ne(Se),"'"].join("");return["D:",A.getFullYear(),ne(A.getMonth()+1),ne(A.getDate()),ne(A.getHours()),ne(A.getMinutes()),ne(A.getSeconds()),$e].join("")},Be=b.__private__.convertPDFDateToDate=function(A){var U=parseInt(A.substr(2,4),10),ae=parseInt(A.substr(6,2),10)-1,me=parseInt(A.substr(8,2),10),Se=parseInt(A.substr(10,2),10),$e=parseInt(A.substr(12,2),10),et=parseInt(A.substr(14,2),10);return new Date(U,ae,me,Se,$e,et,0)},J=b.__private__.setCreationDate=function(A){var U;if(A===void 0&&(A=new Date),A instanceof Date)U=xe(A);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(A))throw new Error("Invalid argument passed to jsPDF.setCreationDate");U=A}return fe=U},O=b.__private__.getCreationDate=function(A){var U=fe;return A==="jsDate"&&(U=Be(fe)),U};b.setCreationDate=function(A){return J(A),this},b.getCreationDate=function(A){return O(A)};var Y,ne=b.__private__.padd2=function(A){return("0"+parseInt(A)).slice(-2)},le=b.__private__.padd2Hex=function(A){return("00"+(A=A.toString())).substr(A.length)},he=0,we=[],Oe=[],Pe=0,ze=[],Ze=[],ot=!1,ct=Oe;b.__private__.setCustomOutputDestination=function(A){ot=!0,ct=A};var _t=function(A){ot||(ct=A)};b.__private__.resetCustomOutputDestination=function(){ot=!1,ct=Oe};var ie=b.__private__.out=function(A){return A=A.toString(),Pe+=A.length+1,ct.push(A),ct},at=b.__private__.write=function(A){return ie(arguments.length===1?A.toString():Array.prototype.join.call(arguments," "))},Xt=b.__private__.getArrayBuffer=function(A){for(var U=A.length,ae=new ArrayBuffer(U),me=new Uint8Array(ae);U--;)me[U]=A.charCodeAt(U);return ae},Rt=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];b.__private__.getStandardFonts=function(){return Rt};var Ae=n.fontSize||16;b.__private__.setFontSize=b.setFontSize=function(A){return Ae=ee===$?A/Qt:A,this};var pt,dt=b.__private__.getFontSize=b.getFontSize=function(){return ee===K?Ae:Ae*Qt},Vt=n.R2L||!1;b.__private__.setR2L=b.setR2L=function(A){return Vt=A,this},b.__private__.getR2L=b.getR2L=function(){return Vt};var Pt,Jt=b.__private__.setZoomMode=function(A){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(A))pt=A;else if(isNaN(A)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(A)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+A+'" is not recognized.');pt=A}else pt=parseInt(A,10)};b.__private__.getZoomMode=function(){return pt};var tn,Kt=b.__private__.setPageMode=function(A){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(A)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+A+'" is not recognized.');Pt=A};b.__private__.getPageMode=function(){return Pt};var fn=b.__private__.setLayoutMode=function(A){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(A)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+A+'" is not recognized.');tn=A};b.__private__.getLayoutMode=function(){return tn},b.__private__.setDisplayMode=b.setDisplayMode=function(A,U,ae){return Jt(A),fn(U),Kt(ae),this};var nn={title:"",subject:"",author:"",keywords:"",creator:""};b.__private__.getDocumentProperty=function(A){if(Object.keys(nn).indexOf(A)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return nn[A]},b.__private__.getDocumentProperties=function(){return nn},b.__private__.setDocumentProperties=b.setProperties=b.setDocumentProperties=function(A){for(var U in nn)nn.hasOwnProperty(U)&&A[U]&&(nn[U]=A[U]);return this},b.__private__.setDocumentProperty=function(A,U){if(Object.keys(nn).indexOf(A)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return nn[A]=U};var wt,Qt,Et,rr,rn,Dt={},zt={},Zt=[],St={},Ln={},Ft={},ge={},qe=null,Ue=0,Ke=[],ht=new qS(b),Ot=n.hotfixes||[],pn={},Un={},On=[],mt=function A(U,ae,me,Se,$e,et){if(!(this instanceof A))return new A(U,ae,me,Se,$e,et);isNaN(U)&&(U=1),isNaN(ae)&&(ae=0),isNaN(me)&&(me=0),isNaN(Se)&&(Se=1),isNaN($e)&&($e=0),isNaN(et)&&(et=0),this._matrix=[U,ae,me,Se,$e,et]};Object.defineProperty(mt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(A){this._matrix[0]=A}}),Object.defineProperty(mt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(A){this._matrix[1]=A}}),Object.defineProperty(mt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(A){this._matrix[2]=A}}),Object.defineProperty(mt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(A){this._matrix[3]=A}}),Object.defineProperty(mt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(A){this._matrix[4]=A}}),Object.defineProperty(mt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(A){this._matrix[5]=A}}),Object.defineProperty(mt.prototype,"a",{get:function(){return this._matrix[0]},set:function(A){this._matrix[0]=A}}),Object.defineProperty(mt.prototype,"b",{get:function(){return this._matrix[1]},set:function(A){this._matrix[1]=A}}),Object.defineProperty(mt.prototype,"c",{get:function(){return this._matrix[2]},set:function(A){this._matrix[2]=A}}),Object.defineProperty(mt.prototype,"d",{get:function(){return this._matrix[3]},set:function(A){this._matrix[3]=A}}),Object.defineProperty(mt.prototype,"e",{get:function(){return this._matrix[4]},set:function(A){this._matrix[4]=A}}),Object.defineProperty(mt.prototype,"f",{get:function(){return this._matrix[5]},set:function(A){this._matrix[5]=A}}),Object.defineProperty(mt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(mt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(mt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(mt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),mt.prototype.join=function(A){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(F).join(A)},mt.prototype.multiply=function(A){var U=A.sx*this.sx+A.shy*this.shx,ae=A.sx*this.shy+A.shy*this.sy,me=A.shx*this.sx+A.sy*this.shx,Se=A.shx*this.shy+A.sy*this.sy,$e=A.tx*this.sx+A.ty*this.shx+this.tx,et=A.tx*this.shy+A.ty*this.sy+this.ty;return new mt(U,ae,me,Se,$e,et)},mt.prototype.decompose=function(){var A=this.sx,U=this.shy,ae=this.shx,me=this.sy,Se=this.tx,$e=this.ty,et=Math.sqrt(A*A+U*U),bt=(A/=et)*ae+(U/=et)*me;ae-=A*bt,me-=U*bt;var xt=Math.sqrt(ae*ae+me*me);return bt/=xt,A*(me/=xt)<U*(ae/=xt)&&(A=-A,U=-U,bt=-bt,et=-et),{scale:new mt(et,0,0,xt,0,0),translate:new mt(1,0,0,1,Se,$e),rotate:new mt(A,U,-U,A,0,0),skew:new mt(1,0,bt,1,0,0)}},mt.prototype.toString=function(A){return this.join(" ")},mt.prototype.inversed=function(){var A=this.sx,U=this.shy,ae=this.shx,me=this.sy,Se=this.tx,$e=this.ty,et=1/(A*me-U*ae),bt=me*et,xt=-U*et,qt=-ae*et,jt=A*et;return new mt(bt,xt,qt,jt,-bt*Se-qt*$e,-xt*Se-jt*$e)},mt.prototype.applyToPoint=function(A){var U=A.x*this.sx+A.y*this.shx+this.tx,ae=A.x*this.shy+A.y*this.sy+this.ty;return new Ti(U,ae)},mt.prototype.applyToRectangle=function(A){var U=this.applyToPoint(A),ae=this.applyToPoint(new Ti(A.x+A.w,A.y+A.h));return new oa(U.x,U.y,ae.x-U.x,ae.y-U.y)},mt.prototype.clone=function(){var A=this.sx,U=this.shy,ae=this.shx,me=this.sy,Se=this.tx,$e=this.ty;return new mt(A,U,ae,me,Se,$e)},b.Matrix=mt;var fi=b.matrixMult=function(A,U){return U.multiply(A)},bn=new mt(1,0,0,1,0,0);b.unitMatrix=b.identityMatrix=bn;var Qn=function(A,U){if(!Ln[A]){var ae=(U instanceof wh?"Sh":"P")+(Object.keys(St).length+1).toString(10);U.id=ae,Ln[A]=ae,St[ae]=U,ht.publish("addPattern",U)}};b.ShadingPattern=wh,b.TilingPattern=rd,b.addShadingPattern=function(A,U){return D("addShadingPattern()"),Qn(A,U),this},b.beginTilingPattern=function(A){D("beginTilingPattern()"),la(A.boundingBox[0],A.boundingBox[1],A.boundingBox[2]-A.boundingBox[0],A.boundingBox[3]-A.boundingBox[1],A.matrix)},b.endTilingPattern=function(A,U){D("endTilingPattern()"),U.stream=Ze[Y].join(`
`),Qn(A,U),ht.publish("endTilingPattern",U),On.pop().restore()};var xr,Bn=b.__private__.newObject=function(){var A=er();return Zr(A,!0),A},er=b.__private__.newObjectDeferred=function(){return he++,we[he]=function(){return Pe},he},Zr=function(A,U){return U=typeof U=="boolean"&&U,we[A]=Pe,U&&ie(A+" 0 obj"),A},ki=b.__private__.newAdditionalObject=function(){var A={objId:er(),content:""};return ze.push(A),A},Ai=er(),Hn=er(),ir=b.__private__.decodeColorString=function(A){var U=A.split(" ");if(U.length!==2||U[1]!=="g"&&U[1]!=="G")U.length!==5||U[4]!=="k"&&U[4]!=="K"||(U=[(1-U[0])*(1-U[3]),(1-U[1])*(1-U[3]),(1-U[2])*(1-U[3]),"r"]);else{var ae=parseFloat(U[0]);U=[ae,ae,ae,"r"]}for(var me="#",Se=0;Se<3;Se++)me+=("0"+Math.floor(255*parseFloat(U[Se])).toString(16)).slice(-2);return me},ei=b.__private__.encodeColorString=function(A){var U;typeof A=="string"&&(A={ch1:A});var ae=A.ch1,me=A.ch2,Se=A.ch3,$e=A.ch4,et=A.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof ae=="string"&&ae.charAt(0)!=="#"){var bt=new VI(ae);if(bt.ok)ae=bt.toHex();else if(!/^\d*\.?\d*$/.test(ae))throw new Error('Invalid color "'+ae+'" passed to jsPDF.encodeColorString.')}if(typeof ae=="string"&&/^#[0-9A-Fa-f]{3}$/.test(ae)&&(ae="#"+ae[1]+ae[1]+ae[2]+ae[2]+ae[3]+ae[3]),typeof ae=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ae)){var xt=parseInt(ae.substr(1),16);ae=xt>>16&255,me=xt>>8&255,Se=255&xt}if(me===void 0||$e===void 0&&ae===me&&me===Se)U=typeof ae=="string"?ae+" "+et[0]:A.precision===2?I(ae/255)+" "+et[0]:j(ae/255)+" "+et[0];else if($e===void 0||ur($e)==="object"){if($e&&!isNaN($e.a)&&$e.a===0)return["1.","1.","1.",et[1]].join(" ");U=typeof ae=="string"?[ae,me,Se,et[1]].join(" "):A.precision===2?[I(ae/255),I(me/255),I(Se/255),et[1]].join(" "):[j(ae/255),j(me/255),j(Se/255),et[1]].join(" ")}else U=typeof ae=="string"?[ae,me,Se,$e,et[2]].join(" "):A.precision===2?[I(ae),I(me),I(Se),I($e),et[2]].join(" "):[j(ae),j(me),j(Se),j($e),et[2]].join(" ");return U},Ki=b.__private__.getFilters=function(){return l},xs=b.__private__.putStream=function(A){var U=(A=A||{}).data||"",ae=A.filters||Ki(),me=A.alreadyAppliedFilters||[],Se=A.addLength1||!1,$e=U.length,et=A.objectId,bt=function(T){return T};if(p!==null&&et===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");p!==null&&(bt=_r.encryptor(et,0));var xt={};ae===!0&&(ae=["FlateEncode"]);var qt=A.additionalKeyValues||[],jt=(xt=kt.API.processDataByFilters!==void 0?kt.API.processDataByFilters(U,ae):{data:U,reverseChain:[]}).reverseChain+(Array.isArray(me)?me.join(" "):me.toString());if(xt.data.length!==0&&(qt.push({key:"Length",value:xt.data.length}),Se===!0&&qt.push({key:"Length1",value:$e})),jt.length!=0)if(jt.split("/").length-1==1)qt.push({key:"Filter",value:jt});else{qt.push({key:"Filter",value:"["+jt+"]"});for(var wn=0;wn<qt.length;wn+=1)if(qt[wn].key==="DecodeParms"){for(var fr=[],tr=0;tr<xt.reverseChain.split("/").length-1;tr+=1)fr.push("null");fr.push(qt[wn].value),qt[wn].value="["+fr.join(" ")+"]"}}ie("<<");for(var g=0;g<qt.length;g++)ie("/"+qt[g].key+" "+qt[g].value);ie(">>"),xt.data.length!==0&&(ie("stream"),ie(bt(xt.data)),ie("endstream"))},Xa=b.__private__.putPage=function(A){var U=A.number,ae=A.data,me=A.objId,Se=A.contentsObjId;Zr(me,!0),ie("<</Type /Page"),ie("/Parent "+A.rootDictionaryObjId+" 0 R"),ie("/Resources "+A.resourceDictionaryObjId+" 0 R"),ie("/MediaBox ["+parseFloat(F(A.mediaBox.bottomLeftX))+" "+parseFloat(F(A.mediaBox.bottomLeftY))+" "+F(A.mediaBox.topRightX)+" "+F(A.mediaBox.topRightY)+"]"),A.cropBox!==null&&ie("/CropBox ["+F(A.cropBox.bottomLeftX)+" "+F(A.cropBox.bottomLeftY)+" "+F(A.cropBox.topRightX)+" "+F(A.cropBox.topRightY)+"]"),A.bleedBox!==null&&ie("/BleedBox ["+F(A.bleedBox.bottomLeftX)+" "+F(A.bleedBox.bottomLeftY)+" "+F(A.bleedBox.topRightX)+" "+F(A.bleedBox.topRightY)+"]"),A.trimBox!==null&&ie("/TrimBox ["+F(A.trimBox.bottomLeftX)+" "+F(A.trimBox.bottomLeftY)+" "+F(A.trimBox.topRightX)+" "+F(A.trimBox.topRightY)+"]"),A.artBox!==null&&ie("/ArtBox ["+F(A.artBox.bottomLeftX)+" "+F(A.artBox.bottomLeftY)+" "+F(A.artBox.topRightX)+" "+F(A.artBox.topRightY)+"]"),typeof A.userUnit=="number"&&A.userUnit!==1&&ie("/UserUnit "+A.userUnit),ht.publish("putPage",{objId:me,pageContext:Ke[U],pageNumber:U,page:ae}),ie("/Contents "+Se+" 0 R"),ie(">>"),ie("endobj");var $e=ae.join(`
`);return ee===$&&($e+=`
Q`),Zr(Se,!0),xs({data:$e,filters:Ki(),objectId:Se}),ie("endobj"),me},Hs=b.__private__.putPages=function(){var A,U,ae=[];for(A=1;A<=Ue;A++)Ke[A].objId=er(),Ke[A].contentsObjId=er();for(A=1;A<=Ue;A++)ae.push(Xa({number:A,data:Ze[A],objId:Ke[A].objId,contentsObjId:Ke[A].contentsObjId,mediaBox:Ke[A].mediaBox,cropBox:Ke[A].cropBox,bleedBox:Ke[A].bleedBox,trimBox:Ke[A].trimBox,artBox:Ke[A].artBox,userUnit:Ke[A].userUnit,rootDictionaryObjId:Ai,resourceDictionaryObjId:Hn}));Zr(Ai,!0),ie("<</Type /Pages");var me="/Kids [";for(U=0;U<Ue;U++)me+=ae[U]+" 0 R ";ie(me+"]"),ie("/Count "+Ue),ie(">>"),ie("endobj"),ht.publish("postPutPages")},Yi=function(A){ht.publish("putFont",{font:A,out:ie,newObject:Bn,putStream:xs}),A.isAlreadyPutted!==!0&&(A.objectNumber=Bn(),ie("<<"),ie("/Type /Font"),ie("/BaseFont /"+Xf(A.postScriptName)),ie("/Subtype /Type1"),typeof A.encoding=="string"&&ie("/Encoding /"+A.encoding),ie("/FirstChar 32"),ie("/LastChar 255"),ie(">>"),ie("endobj"))},Pa=function(A){A.objectNumber=Bn();var U=[];U.push({key:"Type",value:"/XObject"}),U.push({key:"Subtype",value:"/Form"}),U.push({key:"BBox",value:"["+[F(A.x),F(A.y),F(A.x+A.width),F(A.y+A.height)].join(" ")+"]"}),U.push({key:"Matrix",value:"["+A.matrix.toString()+"]"});var ae=A.pages[1].join(`
`);xs({data:ae,additionalKeyValues:U,objectId:A.objectNumber}),ie("endobj")},us=function(A,U){U||(U=21);var ae=Bn(),me=(function(et,bt){var xt,qt=[],jt=1/(bt-1);for(xt=0;xt<1;xt+=jt)qt.push(xt);if(qt.push(1),et[0].offset!=0){var wn={offset:0,color:et[0].color};et.unshift(wn)}if(et[et.length-1].offset!=1){var fr={offset:1,color:et[et.length-1].color};et.push(fr)}for(var tr="",g=0,T=0;T<qt.length;T++){for(xt=qt[T];xt>et[g+1].offset;)g++;var L=et[g].offset,X=(xt-L)/(et[g+1].offset-L),Ie=et[g].color,Me=et[g+1].color;tr+=le(Math.round((1-X)*Ie[0]+X*Me[0]).toString(16))+le(Math.round((1-X)*Ie[1]+X*Me[1]).toString(16))+le(Math.round((1-X)*Ie[2]+X*Me[2]).toString(16))}return tr.trim()})(A.colors,U),Se=[];Se.push({key:"FunctionType",value:"0"}),Se.push({key:"Domain",value:"[0.0 1.0]"}),Se.push({key:"Size",value:"["+U+"]"}),Se.push({key:"BitsPerSample",value:"8"}),Se.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Se.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),xs({data:me,additionalKeyValues:Se,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ae}),ie("endobj"),A.objectNumber=Bn(),ie("<< /ShadingType "+A.type),ie("/ColorSpace /DeviceRGB");var $e="/Coords ["+F(parseFloat(A.coords[0]))+" "+F(parseFloat(A.coords[1]))+" ";A.type===2?$e+=F(parseFloat(A.coords[2]))+" "+F(parseFloat(A.coords[3])):$e+=F(parseFloat(A.coords[2]))+" "+F(parseFloat(A.coords[3]))+" "+F(parseFloat(A.coords[4]))+" "+F(parseFloat(A.coords[5])),ie($e+="]"),A.matrix&&ie("/Matrix ["+A.matrix.toString()+"]"),ie("/Function "+ae+" 0 R"),ie("/Extend [true true]"),ie(">>"),ie("endobj")},Di=function(A,U){var ae=er(),me=Bn();U.push({resourcesOid:ae,objectOid:me}),A.objectNumber=me;var Se=[];Se.push({key:"Type",value:"/Pattern"}),Se.push({key:"PatternType",value:"1"}),Se.push({key:"PaintType",value:"1"}),Se.push({key:"TilingType",value:"1"}),Se.push({key:"BBox",value:"["+A.boundingBox.map(F).join(" ")+"]"}),Se.push({key:"XStep",value:F(A.xStep)}),Se.push({key:"YStep",value:F(A.yStep)}),Se.push({key:"Resources",value:ae+" 0 R"}),A.matrix&&Se.push({key:"Matrix",value:"["+A.matrix.toString()+"]"}),xs({data:A.stream,additionalKeyValues:Se,objectId:A.objectNumber}),ie("endobj")},cs=function(A){for(var U in A.objectNumber=Bn(),ie("<<"),A)switch(U){case"opacity":ie("/ca "+I(A[U]));break;case"stroke-opacity":ie("/CA "+I(A[U]))}ie(">>"),ie("endobj")},Is=function(A){Zr(A.resourcesOid,!0),ie("<<"),ie("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var U in ie("/Font <<"),Dt)Dt.hasOwnProperty(U)&&(v===!1||v===!0&&E.hasOwnProperty(U))&&ie("/"+U+" "+Dt[U].objectNumber+" 0 R");ie(">>")})(),(function(){if(Object.keys(St).length>0){for(var U in ie("/Shading <<"),St)St.hasOwnProperty(U)&&St[U]instanceof wh&&St[U].objectNumber>=0&&ie("/"+U+" "+St[U].objectNumber+" 0 R");ht.publish("putShadingPatternDict"),ie(">>")}})(),(function(U){if(Object.keys(St).length>0){for(var ae in ie("/Pattern <<"),St)St.hasOwnProperty(ae)&&St[ae]instanceof b.TilingPattern&&St[ae].objectNumber>=0&&St[ae].objectNumber<U&&ie("/"+ae+" "+St[ae].objectNumber+" 0 R");ht.publish("putTilingPatternDict"),ie(">>")}})(A.objectOid),(function(){if(Object.keys(Ft).length>0){var U;for(U in ie("/ExtGState <<"),Ft)Ft.hasOwnProperty(U)&&Ft[U].objectNumber>=0&&ie("/"+U+" "+Ft[U].objectNumber+" 0 R");ht.publish("putGStateDict"),ie(">>")}})(),(function(){for(var U in ie("/XObject <<"),pn)pn.hasOwnProperty(U)&&pn[U].objectNumber>=0&&ie("/"+U+" "+pn[U].objectNumber+" 0 R");ht.publish("putXobjectDict"),ie(">>")})(),ie(">>"),ie("endobj")},Ir=function(A){zt[A.fontName]=zt[A.fontName]||{},zt[A.fontName][A.fontStyle]=A.id},tl=function(A,U,ae,me,Se){var $e={id:"F"+(Object.keys(Dt).length+1).toString(10),postScriptName:A,fontName:U,fontStyle:ae,encoding:me,isStandardFont:Se||!1,metadata:{}};return ht.publish("addFont",{font:$e,instance:this}),Dt[$e.id]=$e,Ir($e),$e.id},Qi=b.__private__.pdfEscape=b.pdfEscape=function(A,U){return(function(ae,me){var Se,$e,et,bt,xt,qt,jt,wn,fr;if(et=(me=me||{}).sourceEncoding||"Unicode",xt=me.outputEncoding,(me.autoencode||xt)&&Dt[wt].metadata&&Dt[wt].metadata[et]&&Dt[wt].metadata[et].encoding&&(bt=Dt[wt].metadata[et].encoding,!xt&&Dt[wt].encoding&&(xt=Dt[wt].encoding),!xt&&bt.codePages&&(xt=bt.codePages[0]),typeof xt=="string"&&(xt=bt[xt]),xt)){for(jt=!1,qt=[],Se=0,$e=ae.length;Se<$e;Se++)(wn=xt[ae.charCodeAt(Se)])?qt.push(String.fromCharCode(wn)):qt.push(ae[Se]),qt[Se].charCodeAt(0)>>8&&(jt=!0);ae=qt.join("")}for(Se=ae.length;jt===void 0&&Se!==0;)ae.charCodeAt(Se-1)>>8&&(jt=!0),Se--;if(!jt)return ae;for(qt=me.noBOM?[]:[254,255],Se=0,$e=ae.length;Se<$e;Se++){if((fr=(wn=ae.charCodeAt(Se))>>8)>>8)throw new Error("Character at position "+Se+" of string '"+ae+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");qt.push(fr),qt.push(wn-(fr<<8))}return String.fromCharCode.apply(void 0,qt)})(A,U).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Ns=b.__private__.beginPage=function(A){Ze[++Ue]=[],Ke[Ue]={objId:0,contentsObjId:0,userUnit:Number(c),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(A[0]),topRightY:Number(A[1])}},nl(Ue),_t(Ze[Y])},Gs=function(A,U){var ae,me,Se;switch(t=U||t,typeof A=="string"&&(ae=k(A.toLowerCase()),Array.isArray(ae)&&(me=ae[0],Se=ae[1])),Array.isArray(A)&&(me=A[0]*Qt,Se=A[1]*Qt),isNaN(me)&&(me=i[0],Se=i[1]),(me>14400||Se>14400)&&(Ar.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),me=Math.min(14400,me),Se=Math.min(14400,Se)),i=[me,Se],t.substr(0,1)){case"l":Se>me&&(i=[Se,me]);break;case"p":me>Se&&(i=[Se,me])}Ns(i),Ut(Ji),ie(fs),ps!==0&&ie(ps+" J"),$r!==0&&ie($r+" j"),ht.publish("addPage",{pageNumber:Ue})},Ao=function(A){A>0&&A<=Ue&&(Ze.splice(A,1),Ke.splice(A,1),Ue--,Y>Ue&&(Y=Ue),this.setPage(Y))},nl=function(A){A>0&&A<=Ue&&(Y=A)},rl=b.__private__.getNumberOfPages=b.getNumberOfPages=function(){return Ze.length-1},ql=function(A,U,ae){var me,Se=void 0;return ae=ae||{},A=A!==void 0?A:Dt[wt].fontName,U=U!==void 0?U:Dt[wt].fontStyle,me=A.toLowerCase(),zt[me]!==void 0&&zt[me][U]!==void 0?Se=zt[me][U]:zt[A]!==void 0&&zt[A][U]!==void 0?Se=zt[A][U]:ae.disableWarning===!1&&Ar.warn("Unable to look up font label for font '"+A+"', '"+U+"'. Refer to getFontList() for available fonts."),Se||ae.noFallback||(Se=zt.times[U])==null&&(Se=zt.times.normal),Se},hs=b.__private__.putInfo=function(){var A=Bn(),U=function(me){return me};for(var ae in p!==null&&(U=_r.encryptor(A,0)),ie("<<"),ie("/Producer ("+Qi(U("jsPDF "+kt.version))+")"),nn)nn.hasOwnProperty(ae)&&nn[ae]&&ie("/"+ae.substr(0,1).toUpperCase()+ae.substr(1)+" ("+Qi(U(nn[ae]))+")");ie("/CreationDate ("+Qi(U(fe))+")"),ie(">>"),ie("endobj")},Si=b.__private__.putCatalog=function(A){var U=(A=A||{}).rootDictionaryObjId||Ai;switch(Bn(),ie("<<"),ie("/Type /Catalog"),ie("/Pages "+U+" 0 R"),pt||(pt="fullwidth"),pt){case"fullwidth":ie("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ie("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ie("/OpenAction [3 0 R /Fit]");break;case"original":ie("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ae=""+pt;ae.substr(ae.length-1)==="%"&&(pt=parseInt(pt)/100),typeof pt=="number"&&ie("/OpenAction [3 0 R /XYZ null null "+I(pt)+"]")}switch(tn||(tn="continuous"),tn){case"continuous":ie("/PageLayout /OneColumn");break;case"single":ie("/PageLayout /SinglePage");break;case"two":case"twoleft":ie("/PageLayout /TwoColumnLeft");break;case"tworight":ie("/PageLayout /TwoColumnRight")}Pt&&ie("/PageMode /"+Pt),ht.publish("putCatalog"),ie(">>"),ie("endobj")},Dr=b.__private__.putTrailer=function(){ie("trailer"),ie("<<"),ie("/Size "+(he+1)),ie("/Root "+he+" 0 R"),ie("/Info "+(he-1)+" 0 R"),p!==null&&ie("/Encrypt "+_r.oid+" 0 R"),ie("/ID [ <"+re+"> <"+re+"> ]"),ie(">>")},_n=b.__private__.putHeader=function(){ie("%PDF-"+R),ie("%")},La=b.__private__.putXRef=function(){var A="0000000000";ie("xref"),ie("0 "+(he+1)),ie("0000000000 65535 f ");for(var U=1;U<=he;U++)typeof we[U]=="function"?ie((A+we[U]()).slice(-10)+" 00000 n "):we[U]!==void 0?ie((A+we[U]).slice(-10)+" 00000 n "):ie("0000000000 00000 n ")},Cs=b.__private__.buildDocument=function(){var A;he=0,Pe=0,Oe=[],we=[],ze=[],Ai=er(),Hn=er(),_t(Oe),ht.publish("buildDocument"),_n(),Hs(),(function(){ht.publish("putAdditionalObjects");for(var ae=0;ae<ze.length;ae++){var me=ze[ae];Zr(me.objId,!0),ie(me.content),ie("endobj")}ht.publish("postPutAdditionalObjects")})(),A=[],(function(){for(var ae in Dt)Dt.hasOwnProperty(ae)&&(v===!1||v===!0&&E.hasOwnProperty(ae))&&Yi(Dt[ae])})(),(function(){var ae;for(ae in Ft)Ft.hasOwnProperty(ae)&&cs(Ft[ae])})(),(function(){for(var ae in pn)pn.hasOwnProperty(ae)&&Pa(pn[ae])})(),(function(ae){var me;for(me in St)St.hasOwnProperty(me)&&(St[me]instanceof wh?us(St[me]):St[me]instanceof rd&&Di(St[me],ae))})(A),ht.publish("putResources"),A.forEach(Is),Is({resourcesOid:Hn,objectOid:Number.MAX_SAFE_INTEGER}),ht.publish("postPutResources"),p!==null&&(_r.oid=Bn(),ie("<<"),ie("/Filter /Standard"),ie("/V "+_r.v),ie("/R "+_r.r),ie("/U <"+_r.toHexString(_r.U)+">"),ie("/O <"+_r.toHexString(_r.O)+">"),ie("/P "+_r.P),ie(">>"),ie("endobj")),hs(),Si();var U=Pe;return La(),Dr(),ie("startxref"),ie(""+U),ie("%%EOF"),_t(Ze[Y]),Oe.join(`
`)},Nn=b.__private__.getBlob=function(A){return new Blob([Xt(A)],{type:"application/pdf"})},Ja=b.output=b.__private__.output=(xr=function(A,U){switch(typeof(U=U||{})=="string"?U={filename:U}:U.filename=U.filename||"generated.pdf",A){case void 0:return Cs();case"save":b.save(U.filename);break;case"arraybuffer":return Xt(Cs());case"blob":return Nn(Cs());case"bloburi":case"bloburl":if(on.URL!==void 0&&typeof on.URL.createObjectURL=="function")return on.URL&&on.URL.createObjectURL(Nn(Cs()))||void 0;Ar.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ae="",me=Cs();try{ae=US(me)}catch{ae=US(unescape(encodeURIComponent(me)))}return"data:application/pdf;filename="+U.filename+";base64,"+ae;case"pdfobjectnewwindow":if(Object.prototype.toString.call(on)==="[object Window]"){var Se="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",$e=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';U.pdfObjectUrl&&(Se=U.pdfObjectUrl,$e="");var et='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Se+'"'+$e+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(U)+");<\/script></body></html>",bt=on.open();return bt!==null&&bt.document.write(et),bt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(on)==="[object Window]"){var xt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(U.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+U.filename+'" width="500px" height="400px" /></body></html>',qt=on.open();if(qt!==null){qt.document.write(xt);var jt=this;qt.document.documentElement.querySelector("#pdfViewer").onload=function(){qt.document.title=U.filename,qt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(jt.output("bloburl"))}}return qt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(on)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var wn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",U)+'"></iframe></body></html>',fr=on.open();if(fr!==null&&(fr.document.write(wn),fr.document.title=U.filename),fr||typeof safari>"u")return fr;break;case"datauri":case"dataurl":return on.document.location.href=this.output("datauristring",U);default:return null}},xr.foo=function(){try{return xr.apply(this,arguments)}catch(ae){var A=ae.stack||"";~A.indexOf(" at ")&&(A=A.split(" at ")[1]);var U="Error in function "+A.split(`
`)[0].split("<")[0]+": "+ae.message;if(!on.console)throw new Error(U);on.console.error(U,ae),on.alert&&alert(U)}},xr.foo.bar=xr,xr.foo),Gr=function(A){return Array.isArray(Ot)===!0&&Ot.indexOf(A)>-1};switch(r){case"pt":Qt=1;break;case"mm":Qt=72/25.4;break;case"cm":Qt=72/2.54;break;case"in":Qt=72;break;case"px":Qt=Gr("px_scaling")==1?.75:96/72;break;case"pc":case"em":Qt=12;break;case"ex":Qt=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);Qt=r}var _r=null;J(),pe();var Or=b.__private__.getPageInfo=b.getPageInfo=function(A){if(isNaN(A)||A%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Ke[A].objId,pageNumber:A,pageContext:Ke[A]}},So=b.__private__.getPageInfoByObjId=function(A){if(isNaN(A)||A%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var U in Ke)if(Ke[U].objId===A)break;return Or(U)},Vu=b.__private__.getCurrentPageInfo=b.getCurrentPageInfo=function(){return{objId:Ke[Y].objId,pageNumber:Y,pageContext:Ke[Y]}};b.addPage=function(){return Gs.apply(this,arguments),this},b.setPage=function(){return nl.apply(this,arguments),_t.call(this,Ze[Y]),this},b.insertPage=function(A){return this.addPage(),this.movePage(Y,A),this},b.movePage=function(A,U){var ae,me;if(A>U){ae=Ze[A],me=Ke[A];for(var Se=A;Se>U;Se--)Ze[Se]=Ze[Se-1],Ke[Se]=Ke[Se-1];Ze[U]=ae,Ke[U]=me,this.setPage(U)}else if(A<U){ae=Ze[A],me=Ke[A];for(var $e=A;$e<U;$e++)Ze[$e]=Ze[$e+1],Ke[$e]=Ke[$e+1];Ze[U]=ae,Ke[U]=me,this.setPage(U)}return this},b.deletePage=function(){return Ao.apply(this,arguments),this},b.__private__.text=b.text=function(A,U,ae,me,Se){var $e,et,bt,xt,qt,jt,wn,fr,tr,g=(me=me||{}).scope||this;if(typeof A=="number"&&typeof U=="number"&&(typeof ae=="string"||Array.isArray(ae))){var T=ae;ae=U,U=A,A=T}if(arguments[3]instanceof mt==0?(bt=arguments[4],xt=arguments[5],ur(wn=arguments[3])==="object"&&wn!==null||(typeof bt=="string"&&(xt=bt,bt=null),typeof wn=="string"&&(xt=wn,wn=null),typeof wn=="number"&&(bt=wn,wn=null),me={flags:wn,angle:bt,align:xt})):(D("The transform parameter of text() with a Matrix value"),tr=Se),isNaN(U)||isNaN(ae)||A==null)throw new Error("Invalid arguments passed to jsPDF.text");if(A.length===0)return g;var L,X="",Ie=typeof me.lineHeightFactor=="number"?me.lineHeightFactor:Oa,Me=g.internal.scaleFactor;function st(zn){return zn=zn.split("	").join(Array(me.TabLen||9).join(" ")),Qi(zn,wn)}function en(zn){for(var kn,pr=zn.concat(),Kr=[],co=pr.length;co--;)typeof(kn=pr.shift())=="string"?Kr.push(kn):Array.isArray(zn)&&(kn.length===1||kn[1]===void 0&&kn[2]===void 0)?Kr.push(kn[0]):Kr.push([kn[0],kn[1],kn[2]]);return Kr}function dr(zn,kn){var pr;if(typeof zn=="string")pr=kn(zn)[0];else if(Array.isArray(zn)){for(var Kr,co,Fa=zn.concat(),Xl=[],Zc=Fa.length;Zc--;)typeof(Kr=Fa.shift())=="string"?Xl.push(kn(Kr)[0]):Array.isArray(Kr)&&typeof Kr[0]=="string"&&(co=kn(Kr[0],Kr[1],Kr[2]),Xl.push([co[0],co[1],co[2]]));pr=Xl}return pr}var yn=!1,$n=!0;if(typeof A=="string")yn=!0;else if(Array.isArray(A)){var xi=A.concat();et=[];for(var Mi,sr=xi.length;sr--;)(typeof(Mi=xi.shift())!="string"||Array.isArray(Mi)&&typeof Mi[0]!="string")&&($n=!1);yn=$n}if(yn===!1)throw new Error('Type of text must be string or Array. "'+A+'" is not recognized.');typeof A=="string"&&(A=A.match(/[\r?\n]/)?A.split(/\r\n|\r|\n/g):[A]);var Vi=Ae/g.internal.scaleFactor,Ys=Vi*(Ie-1);switch(me.baseline){case"bottom":ae-=Ys;break;case"top":ae+=Vi-Ys;break;case"hanging":ae+=Vi-2*Ys;break;case"middle":ae+=Vi/2-Ys}if((jt=me.maxWidth||0)>0&&(typeof A=="string"?A=g.splitTextToSize(A,jt):Object.prototype.toString.call(A)==="[object Array]"&&(A=A.reduce(function(zn,kn){return zn.concat(g.splitTextToSize(kn,jt))},[]))),$e={text:A,x:U,y:ae,options:me,mutex:{pdfEscape:Qi,activeFontKey:wt,fonts:Dt,activeFontSize:Ae}},ht.publish("preProcessText",$e),A=$e.text,bt=(me=$e.options).angle,tr instanceof mt==0&&bt&&typeof bt=="number"){bt*=Math.PI/180,me.rotationDirection===0&&(bt=-bt),ee===$&&(bt=-bt);var ro=Math.cos(bt),io=Math.sin(bt);tr=new mt(ro,io,-io,ro,0,0)}else bt&&bt instanceof mt&&(tr=bt);ee!==$||tr||(tr=bn),(qt=me.charSpace||ds)!==void 0&&(X+=F(N(qt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(fr=me.horizontalScale)!==void 0&&(X+=F(100*fr)+` Tz
`),me.lang;var gs=-1,Co=me.renderingMode!==void 0?me.renderingMode:me.stroke,ju=g.internal.getCurrentPageInfo().pageContext;switch(Co){case 0:case!1:case"fill":gs=0;break;case 1:case!0:case"stroke":gs=1;break;case 2:case"fillThenStroke":gs=2;break;case 3:case"invisible":gs=3;break;case 4:case"fillAndAddForClipping":gs=4;break;case 5:case"strokeAndAddPathForClipping":gs=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":gs=6;break;case 7:case"addToPathForClipping":gs=7}var Xc=ju.usedRenderingMode!==void 0?ju.usedRenderingMode:-1;gs!==-1?X+=gs+` Tr
`:Xc!==-1&&(X+=`0 Tr
`),gs!==-1&&(ju.usedRenderingMode=gs),xt=me.align||"left";var Qs,Va=Ae*Ie,Ro=g.internal.pageSize.getWidth(),Jc=Dt[wt];qt=me.charSpace||ds,jt=me.maxWidth||0,wn=Object.assign({autoencode:!0,noBOM:!0},me.flags);var ja=[],ul=function(zn){return g.getStringUnitWidth(zn,{font:Jc,charSpace:qt,fontSize:Ae,doKerning:!1})*Ae/Me};if(Object.prototype.toString.call(A)==="[object Array]"){var Ps;et=en(A),xt!=="left"&&(Qs=et.map(ul));var ys,so=0;if(xt==="right"){U-=Qs[0],A=[],sr=et.length;for(var ao=0;ao<sr;ao++)ao===0?(ys=pi(U),Ps=ti(ae)):(ys=N(so-Qs[ao]),Ps=-Va),A.push([et[ao],ys,Ps]),so=Qs[ao]}else if(xt==="center"){U-=Qs[0]/2,A=[],sr=et.length;for(var Po=0;Po<sr;Po++)Po===0?(ys=pi(U),Ps=ti(ae)):(ys=N((so-Qs[Po])/2),Ps=-Va),A.push([et[Po],ys,Ps]),so=Qs[Po]}else if(xt==="left"){A=[],sr=et.length;for(var Fu=0;Fu<sr;Fu++)A.push(et[Fu])}else if(xt==="justify"&&Jc.encoding==="Identity-H"){A=[],sr=et.length,jt=jt!==0?jt:Ro;for(var Uu=0,Wr=0;Wr<sr;Wr++)if(Ps=Wr===0?ti(ae):-Va,ys=Wr===0?pi(U):Uu,Wr<sr-1){var sf=N((jt-Qs[Wr])/(et[Wr].split(" ").length-1)),oo=et[Wr].split(" ");A.push([oo[0]+" ",ys,Ps]),Uu=0;for(var lo=1;lo<oo.length;lo++){var ji=(ul(oo[lo-1]+" "+oo[lo])-ul(oo[lo]))*Me+sf;lo==oo.length-1?A.push([oo[lo],ji,0]):A.push([oo[lo]+" ",ji,0]),Uu-=ji}}else A.push([et[Wr],ys,Ps]);A.push(["",Uu,0])}else{if(xt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(A=[],sr=et.length,jt=jt!==0?jt:Ro,Wr=0;Wr<sr;Wr++){Ps=Wr===0?ti(ae):-Va,ys=Wr===0?pi(U):0;var Lo=et[Wr].split(" ").length-1,Bu=Lo>0?(jt-Qs[Wr])/Lo:0;Wr<sr-1?ja.push(F(N(Bu))):ja.push(0),A.push([et[Wr],ys,Ps])}}}(typeof me.R2L=="boolean"?me.R2L:Vt)===!0&&(A=dr(A,function(zn,kn,pr){return[zn.split("").reverse().join(""),kn,pr]})),$e={text:A,x:U,y:ae,options:me,mutex:{pdfEscape:Qi,activeFontKey:wt,fonts:Dt,activeFontSize:Ae}},ht.publish("postProcessText",$e),A=$e.text,L=$e.mutex.isHex||!1;var zu=Dt[wt].encoding;zu!=="WinAnsiEncoding"&&zu!=="StandardEncoding"||(A=dr(A,function(zn,kn,pr){return[st(zn),kn,pr]})),et=en(A),A=[];for(var ko,Do,uo,Ql=Array.isArray(et[0])?1:0,Xs="",Oo=function(zn,kn,pr){var Kr="";return pr instanceof mt?(pr=typeof me.angle=="number"?fi(pr,new mt(1,0,0,1,zn,kn)):fi(new mt(1,0,0,1,zn,kn),pr),ee===$&&(pr=fi(new mt(1,0,0,-1,0,0),pr)),Kr=pr.join(" ")+` Tm
`):Kr=F(zn)+" "+F(kn)+` Td
`,Kr},Zi=0;Zi<et.length;Zi++){switch(Xs="",Ql){case 1:uo=(L?"<":"(")+et[Zi][0]+(L?">":")"),ko=parseFloat(et[Zi][1]),Do=parseFloat(et[Zi][2]);break;case 0:uo=(L?"<":"(")+et[Zi]+(L?">":")"),ko=pi(U),Do=ti(ae)}ja!==void 0&&ja[Zi]!==void 0&&(Xs=ja[Zi]+` Tw
`),Zi===0?A.push(Xs+Oo(ko,Do,tr)+uo):Ql===0?A.push(Xs+uo):Ql===1&&A.push(Xs+Oo(ko,Do,tr)+uo)}A=Ql===0?A.join(` Tj
T* `):A.join(` Tj
`),A+=` Tj
`;var ha=`BT
/`;return ha+=wt+" "+Ae+` Tf
`,ha+=F(Ae*Ie)+` TL
`,ha+=Ws+`
`,ha+=X,ha+=A,ie(ha+="ET"),E[wt]=!0,g};var Hl=b.__private__.clip=b.clip=function(A){return ie(A==="evenodd"?"W*":"W"),this};b.clipEvenOdd=function(){return Hl("evenodd")},b.__private__.discardPath=b.discardPath=function(){return ie("n"),this};var Oi=b.__private__.isValidStyle=function(A){var U=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(A)!==-1&&(U=!0),U};b.__private__.setDefaultPathOperation=b.setDefaultPathOperation=function(A){return Oi(A)&&(f=A),this};var Gl=b.__private__.getStyle=b.getStyle=function(A){var U=f;switch(A){case"D":case"S":U="S";break;case"F":U="f";break;case"FD":case"DF":U="B";break;case"f":case"f*":case"B":case"B*":U=A}return U},ka=b.close=function(){return ie("h"),this};b.stroke=function(){return ie("S"),this},b.fill=function(A){return di("f",A),this},b.fillEvenOdd=function(A){return di("f*",A),this},b.fillStroke=function(A){return di("B",A),this},b.fillStrokeEvenOdd=function(A){return di("B*",A),this};var di=function(A,U){ur(U)==="object"?Wl(U,A):ie(A)},Za=function(A){A===null||ee===$&&A===void 0||(A=Gl(A),ie(A))};function $l(A,U,ae,me,Se){var $e=new rd(U||this.boundingBox,ae||this.xStep,me||this.yStep,this.gState,Se||this.matrix);$e.stream=this.stream;var et=A+"$$"+this.cloneIndex+++"$$";return Qn(et,$e),$e}var Wl=function(A,U){var ae=Ln[A.key],me=St[ae];if(me instanceof wh)ie("q"),ie(il(U)),me.gState&&b.setGState(me.gState),ie(A.matrix.toString()+" cm"),ie("/"+ae+" sh"),ie("Q");else if(me instanceof rd){var Se=new mt(1,0,0,-1,0,Ks());A.matrix&&(Se=Se.multiply(A.matrix||bn),ae=$l.call(me,A.key,A.boundingBox,A.xStep,A.yStep,Se).id),ie("q"),ie("/Pattern cs"),ie("/"+ae+" scn"),me.gState&&b.setGState(me.gState),ie(U),ie("Q")}},il=function(A){switch(A){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},sl=b.moveTo=function(A,U){return ie(F(N(A))+" "+F(te(U))+" m"),this},Da=b.lineTo=function(A,U){return ie(F(N(A))+" "+F(te(U))+" l"),this},Xi=b.curveTo=function(A,U,ae,me,Se,$e){return ie([F(N(A)),F(te(U)),F(N(ae)),F(te(me)),F(N(Se)),F(te($e)),"c"].join(" ")),this};b.__private__.line=b.line=function(A,U,ae,me,Se){if(isNaN(A)||isNaN(U)||isNaN(ae)||isNaN(me)||!Oi(Se))throw new Error("Invalid arguments passed to jsPDF.line");return ee===K?this.lines([[ae-A,me-U]],A,U,[1,1],Se||"S"):this.lines([[ae-A,me-U]],A,U,[1,1]).stroke()},b.__private__.lines=b.lines=function(A,U,ae,me,Se,$e){var et,bt,xt,qt,jt,wn,fr,tr,g,T,L,X;if(typeof A=="number"&&(X=ae,ae=U,U=A,A=X),me=me||[1,1],$e=$e||!1,isNaN(U)||isNaN(ae)||!Array.isArray(A)||!Array.isArray(me)||!Oi(Se)||typeof $e!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(sl(U,ae),et=me[0],bt=me[1],qt=A.length,T=U,L=ae,xt=0;xt<qt;xt++)(jt=A[xt]).length===2?(T=jt[0]*et+T,L=jt[1]*bt+L,Da(T,L)):(wn=jt[0]*et+T,fr=jt[1]*bt+L,tr=jt[2]*et+T,g=jt[3]*bt+L,T=jt[4]*et+T,L=jt[5]*bt+L,Xi(wn,fr,tr,g,T,L));return $e&&ka(),Za(Se),this},b.path=function(A){for(var U=0;U<A.length;U++){var ae=A[U],me=ae.c;switch(ae.op){case"m":sl(me[0],me[1]);break;case"l":Da(me[0],me[1]);break;case"c":Xi.apply(this,me);break;case"h":ka()}}return this},b.__private__.rect=b.rect=function(A,U,ae,me,Se){if(isNaN(A)||isNaN(U)||isNaN(ae)||isNaN(me)||!Oi(Se))throw new Error("Invalid arguments passed to jsPDF.rect");return ee===K&&(me=-me),ie([F(N(A)),F(te(U)),F(N(ae)),F(N(me)),"re"].join(" ")),Za(Se),this},b.__private__.triangle=b.triangle=function(A,U,ae,me,Se,$e,et){if(isNaN(A)||isNaN(U)||isNaN(ae)||isNaN(me)||isNaN(Se)||isNaN($e)||!Oi(et))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ae-A,me-U],[Se-ae,$e-me],[A-Se,U-$e]],A,U,[1,1],et,!0),this},b.__private__.roundedRect=b.roundedRect=function(A,U,ae,me,Se,$e,et){if(isNaN(A)||isNaN(U)||isNaN(ae)||isNaN(me)||isNaN(Se)||isNaN($e)||!Oi(et))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var bt=4/3*(Math.SQRT2-1);return Se=Math.min(Se,.5*ae),$e=Math.min($e,.5*me),this.lines([[ae-2*Se,0],[Se*bt,0,Se,$e-$e*bt,Se,$e],[0,me-2*$e],[0,$e*bt,-Se*bt,$e,-Se,$e],[2*Se-ae,0],[-Se*bt,0,-Se,-$e*bt,-Se,-$e],[0,2*$e-me],[0,-$e*bt,Se*bt,-$e,Se,-$e]],A+Se,U,[1,1],et,!0),this},b.__private__.ellipse=b.ellipse=function(A,U,ae,me,Se){if(isNaN(A)||isNaN(U)||isNaN(ae)||isNaN(me)||!Oi(Se))throw new Error("Invalid arguments passed to jsPDF.ellipse");var $e=4/3*(Math.SQRT2-1)*ae,et=4/3*(Math.SQRT2-1)*me;return sl(A+ae,U),Xi(A+ae,U-et,A+$e,U-me,A,U-me),Xi(A-$e,U-me,A-ae,U-et,A-ae,U),Xi(A-ae,U+et,A-$e,U+me,A,U+me),Xi(A+$e,U+me,A+ae,U+et,A+ae,U),Za(Se),this},b.__private__.circle=b.circle=function(A,U,ae,me){if(isNaN(A)||isNaN(U)||isNaN(ae)||!Oi(me))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(A,U,ae,ae,me)},b.setFont=function(A,U,ae){return ae&&(U=z(U,ae)),wt=ql(A,U,{disableWarning:!1}),this};var $s=b.__private__.getFont=b.getFont=function(){return Dt[ql.apply(b,arguments)]};b.__private__.getFontList=b.getFontList=function(){var A,U,ae={};for(A in zt)if(zt.hasOwnProperty(A))for(U in ae[A]=[],zt[A])zt[A].hasOwnProperty(U)&&ae[A].push(U);return ae},b.addFont=function(A,U,ae,me,Se){var $e=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&$e.indexOf(arguments[3])!==-1?Se=arguments[3]:arguments[3]&&$e.indexOf(arguments[3])==-1&&(ae=z(ae,me)),tl.call(this,A,U,ae,Se=Se||"Identity-H")};var Oa,Ji=n.lineWidth||.200025,eo=b.__private__.getLineWidth=b.getLineWidth=function(){return Ji},Ut=b.__private__.setLineWidth=b.setLineWidth=function(A){return Ji=A,ie(F(N(A))+" w"),this};b.__private__.setLineDash=kt.API.setLineDash=kt.API.setLineDashPattern=function(A,U){if(A=A||[],U=U||0,isNaN(U)||!Array.isArray(A))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return A=A.map(function(ae){return F(N(ae))}).join(" "),U=F(N(U)),ie("["+A+"] "+U+" d"),this};var To=b.__private__.getLineHeight=b.getLineHeight=function(){return Ae*Oa};b.__private__.getLineHeight=b.getLineHeight=function(){return Ae*Oa};var al=b.__private__.setLineHeightFactor=b.setLineHeightFactor=function(A){return typeof(A=A||1.15)=="number"&&(Oa=A),this},to=b.__private__.getLineHeightFactor=b.getLineHeightFactor=function(){return Oa};al(n.lineHeight);var pi=b.__private__.getHorizontalCoordinate=function(A){return N(A)},ti=b.__private__.getVerticalCoordinate=function(A){return ee===$?A:Ke[Y].mediaBox.topRightY-Ke[Y].mediaBox.bottomLeftY-N(A)},xo=b.__private__.getHorizontalCoordinateString=b.getHorizontalCoordinateString=function(A){return F(pi(A))},Gn=b.__private__.getVerticalCoordinateString=b.getVerticalCoordinateString=function(A){return F(ti(A))},fs=n.strokeColor||"0 G";b.__private__.getStrokeColor=b.getDrawColor=function(){return ir(fs)},b.__private__.setStrokeColor=b.setDrawColor=function(A,U,ae,me){return fs=ei({ch1:A,ch2:U,ch3:ae,ch4:me,pdfColorType:"draw",precision:2}),ie(fs),this};var Io=n.fillColor||"0 g";b.__private__.getFillColor=b.getFillColor=function(){return ir(Io)},b.__private__.setFillColor=b.setFillColor=function(A,U,ae,me){return Io=ei({ch1:A,ch2:U,ch3:ae,ch4:me,pdfColorType:"fill",precision:2}),ie(Io),this};var Ws=n.textColor||"0 g",Kl=b.__private__.getTextColor=b.getTextColor=function(){return ir(Ws)};b.__private__.setTextColor=b.setTextColor=function(A,U,ae,me){return Ws=ei({ch1:A,ch2:U,ch3:ae,ch4:me,pdfColorType:"text",precision:3}),this};var ds=n.charSpace,Ma=b.__private__.getCharSpace=b.getCharSpace=function(){return parseFloat(ds||0)};b.__private__.setCharSpace=b.setCharSpace=function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return ds=A,this};var ps=0;b.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},b.__private__.setLineCap=b.setLineCap=function(A){var U=b.CapJoinStyles[A];if(U===void 0)throw new Error("Line cap style of '"+A+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return ps=U,ie(U+" J"),this};var $r=0;b.__private__.setLineJoin=b.setLineJoin=function(A){var U=b.CapJoinStyles[A];if(U===void 0)throw new Error("Line join style of '"+A+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return $r=U,ie(U+" j"),this},b.__private__.setLineMiterLimit=b.__private__.setMiterLimit=b.setLineMiterLimit=b.setMiterLimit=function(A){if(A=A||0,isNaN(A))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ie(F(N(A))+" M"),this},b.GState=py,b.setGState=function(A){(A=typeof A=="string"?Ft[ge[A]]:aa(null,A)).equals(qe)||(ie("/"+A.id+" gs"),qe=A)};var aa=function(A,U){if(!A||!ge[A]){var ae=!1;for(var me in Ft)if(Ft.hasOwnProperty(me)&&Ft[me].equals(U)){ae=!0;break}if(ae)U=Ft[me];else{var Se="GS"+(Object.keys(Ft).length+1).toString(10);Ft[Se]=U,U.id=Se}return A&&(ge[A]=U.id),ht.publish("addGState",U),U}};b.addGState=function(A,U){return aa(A,U),this},b.saveGraphicsState=function(){return ie("q"),Zt.push({key:wt,size:Ae,color:Ws}),this},b.restoreGraphicsState=function(){ie("Q");var A=Zt.pop();return wt=A.key,Ae=A.size,Ws=A.color,qe=null,this},b.setCurrentTransformationMatrix=function(A){return ie(A.toString()+" cm"),this},b.comment=function(A){return ie("#"+A),this};var Ti=function(A,U){var ae=A||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ae},set:function($e){isNaN($e)||(ae=parseFloat($e))}});var me=U||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return me},set:function($e){isNaN($e)||(me=parseFloat($e))}});var Se="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Se},set:function($e){Se=$e.toString()}}),this},oa=function(A,U,ae,me){Ti.call(this,A,U),this.type="rect";var Se=ae||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Se},set:function(et){isNaN(et)||(Se=parseFloat(et))}});var $e=me||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return $e},set:function(et){isNaN(et)||($e=parseFloat(et))}}),this},no=function(){this.page=Ue,this.currentPage=Y,this.pages=Ze.slice(0),this.pagesContext=Ke.slice(0),this.x=Et,this.y=rr,this.matrix=rn,this.width=Rs(Y),this.height=ol(Y),this.outputDestination=ct,this.id="",this.objectNumber=-1};no.prototype.restore=function(){Ue=this.page,Y=this.currentPage,Ke=this.pagesContext,Ze=this.pages,Et=this.x,rr=this.y,rn=this.matrix,No(Y,this.width),ms(Y,this.height),ct=this.outputDestination};var la=function(A,U,ae,me,Se){On.push(new no),Ue=Y=0,Ze=[],Et=A,rr=U,rn=Se,Ns([ae,me])};for(var ua in b.beginFormObject=function(A,U,ae,me,Se){return la(A,U,ae,me,Se),this},b.endFormObject=function(A){return(function(U){if(Un[U])On.pop().restore();else{var ae=new no,me="Xo"+(Object.keys(pn).length+1).toString(10);ae.id=me,Un[U]=me,pn[me]=ae,ht.publish("addFormObject",ae),On.pop().restore()}})(A),this},b.doFormObject=function(A,U){var ae=pn[Un[A]];return ie("q"),ie(U.toString()+" cm"),ie("/"+ae.id+" Do"),ie("Q"),this},b.getFormObject=function(A){var U=pn[Un[A]];return{x:U.x,y:U.y,width:U.width,height:U.height,matrix:U.matrix}},b.save=function(A,U){return A=A||"generated.pdf",(U=U||{}).returnPromise=U.returnPromise||!1,U.returnPromise===!1?(gh(Nn(Cs()),A),typeof gh.unload=="function"&&on.setTimeout&&setTimeout(gh.unload,911),this):new Promise(function(ae,me){try{var Se=gh(Nn(Cs()),A);typeof gh.unload=="function"&&on.setTimeout&&setTimeout(gh.unload,911),ae(Se)}catch($e){me($e.message)}})},kt.API)kt.API.hasOwnProperty(ua)&&(ua==="events"&&kt.API.events.length?(function(A,U){var ae,me,Se;for(Se=U.length-1;Se!==-1;Se--)ae=U[Se][0],me=U[Se][1],A.subscribe.apply(A,[ae].concat(typeof me=="function"?[me]:me))})(ht,kt.API.events):b[ua]=kt.API[ua]);function Rs(A){return Ke[A].mediaBox.topRightX-Ke[A].mediaBox.bottomLeftX}function No(A,U){Ke[A].mediaBox.topRightX=U+Ke[A].mediaBox.bottomLeftX}function ol(A){return Ke[A].mediaBox.topRightY-Ke[A].mediaBox.bottomLeftY}function ms(A,U){Ke[A].mediaBox.topRightY=U+Ke[A].mediaBox.bottomLeftY}var ca=b.getPageWidth=function(A){return Rs(A=A||Y)/Qt},Yl=b.setPageWidth=function(A,U){No(A,U*Qt)},Ks=b.getPageHeight=function(A){return ol(A=A||Y)/Qt},ll=b.setPageHeight=function(A,U){ms(A,U*Qt)};return b.internal={pdfEscape:Qi,getStyle:Gl,getFont:$s,getFontSize:dt,getCharSpace:Ma,getTextColor:Kl,getLineHeight:To,getLineHeightFactor:to,getLineWidth:eo,write:at,getHorizontalCoordinate:pi,getVerticalCoordinate:ti,getCoordinateString:xo,getVerticalCoordinateString:Gn,collections:{},newObject:Bn,newAdditionalObject:ki,newObjectDeferred:er,newObjectDeferredBegin:Zr,getFilters:Ki,putStream:xs,events:ht,scaleFactor:Qt,pageSize:{getWidth:function(){return ca(Y)},setWidth:function(A){Yl(Y,A)},getHeight:function(){return Ks(Y)},setHeight:function(A){ll(Y,A)}},encryptionOptions:p,encryption:_r,getEncryptor:function(A){return p!==null?_r.encryptor(A,0):function(U){return U}},output:Ja,getNumberOfPages:rl,get pages(){return Ze},out:ie,f2:I,f3:j,getPageInfo:Or,getPageInfoByObjId:So,getCurrentPageInfo:Vu,getPDFVersion:P,Point:Ti,Rectangle:oa,Matrix:mt,hasHotfix:Gr},Object.defineProperty(b.internal.pageSize,"width",{get:function(){return ca(Y)},set:function(A){Yl(Y,A)},enumerable:!0,configurable:!0}),Object.defineProperty(b.internal.pageSize,"height",{get:function(){return Ks(Y)},set:function(A){ll(Y,A)},enumerable:!0,configurable:!0}),(function(A){for(var U=0,ae=Rt.length;U<ae;U++){var me=tl.call(this,A[U][0],A[U][1],A[U][2],Rt[U][3],!0);v===!1&&(E[me]=!0);var Se=A[U][0].split("-");Ir({id:me,fontName:Se[0],fontStyle:Se[1]||""})}ht.publish("addFonts",{fonts:Dt,dictionary:zt})}).call(b,Rt),wt="F1",Gs(i,t),ht.publish("initialized"),b}Qf.prototype.lsbFirstWord=function(n){return String.fromCharCode(255&n,n>>8&255,n>>16&255,n>>24&255)},Qf.prototype.toHexString=function(n){return n.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Qf.prototype.hexToBytes=function(n){for(var e=[],t=0;t<n.length;t+=2)e.push(String.fromCharCode(parseInt(n.substr(t,2),16)));return e.join("")},Qf.prototype.processOwnerPassword=function(n,e){return u_(l_(e).substr(0,5),n)},Qf.prototype.encryptor=function(n,e){var t=l_(this.encryptionKey+String.fromCharCode(255&n,n>>8&255,n>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return u_(t,r)}},py.prototype.equals=function(n){var e,t="id,objectNumber,equals";if(!n||ur(n)!==ur(this))return!1;var r=0;for(e in this)if(!(t.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!n.hasOwnProperty(e)||this[e]!==n[e])return!1;r++}for(e in n)n.hasOwnProperty(e)&&t.indexOf(e)<0&&r--;return r===0},kt.API={events:[]},kt.version="3.0.4";var li=kt.API,b5=1,Xh=function(n){return n.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Uf=function(n){return n.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},hn=function(n){return n.toFixed(2)},dc=function(n){return n.toFixed(5)};li.__acroform__={};var Ra=function(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n},HS=function(n){return n*b5},Sl=function(n){var e=new BI,t=Nt.internal.getHeight(n)||0,r=Nt.internal.getWidth(n)||0;return e.BBox=[0,0,Number(hn(r)),Number(hn(t))],e},rO=li.__acroform__.setBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return n|1<<e},iO=li.__acroform__.clearBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return n&~(1<<e)},sO=li.__acroform__.getBit=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return n&1<<e?1:0},yi=li.__acroform__.getBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return sO(n,e-1)},vi=li.__acroform__.setBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return rO(n,e-1)},_i=li.__acroform__.clearBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return iO(n,e-1)},aO=li.__acroform__.calculateCoordinates=function(n,e){var t=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,i=n[0],a=n[1],l=n[2],c=n[3],h={};return h.lowerLeft_X=t(i)||0,h.lowerLeft_Y=r(a+c)||0,h.upperRight_X=t(i+l)||0,h.upperRight_Y=r(a)||0,[Number(hn(h.lowerLeft_X)),Number(hn(h.lowerLeft_Y)),Number(hn(h.upperRight_X)),Number(hn(h.upperRight_Y))]},oO=function(n){if(n.appearanceStreamContent)return n.appearanceStreamContent;if(n.V||n.DV){var e=[],t=n._V||n.DV,r=c_(n,t),i=n.scope.internal.getFont(n.fontName,n.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(n.scope.__private__.encodeColorString(n.color)),e.push("/"+i+" "+hn(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var a=Sl(n);return a.scope=n.scope,a.stream=e.join(`
`),a}},c_=function(n,e){var t=n.fontSize===0?n.maxFontSize:n.fontSize,r={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=n.multiline?i.map(function(I){return I.split(`
`)}):i.map(function(I){return[I]});var a=t,l=Nt.internal.getHeight(n)||0;l=l<0?-l:l;var c=Nt.internal.getWidth(n)||0;c=c<0?-c:c;var h=function(I,j,N){if(I+1<i.length){var te=j+" "+i[I+1][0];return N1(te,n,N).width<=c-4}return!1};a++;e:for(;a>0;){e="",a--;var f,p,v=N1("3",n,a).height,E=n.multiline?l-a:(l-v)/2,b=E+=2,R=0,P=0,M=0;if(a<=0){e=`(...) Tj
`,e+="% Width of Text: "+N1(e,n,a=12).width+", FieldWidth:"+c+`
`;break}for(var k="",K=0,$=0;$<i.length;$++)if(i.hasOwnProperty($)){var ee=!1;if(i[$].length!==1&&M!==i[$].length-1){if((v+2)*(K+2)+2>l)continue e;k+=i[$][M],ee=!0,P=$,$--}else{k=(k+=i[$][M]+" ").substr(k.length-1)==" "?k.substr(0,k.length-1):k;var ye=parseInt($),ve=h(ye,k,a),z=$>=i.length-1;if(ve&&!z){k+=" ",M=0;continue}if(ve||z){if(z)P=ye;else if(n.multiline&&(v+2)*(K+2)+2>l)continue e}else{if(!n.multiline||(v+2)*(K+2)+2>l)continue e;P=ye}}for(var F="",D=R;D<=P;D++){var G=i[D];if(n.multiline){if(D===P){F+=G[M]+" ",M=(M+1)%G.length;continue}if(D===R){F+=G[G.length-1]+" ";continue}}F+=G[0]+" "}switch(F=F.substr(F.length-1)==" "?F.substr(0,F.length-1):F,p=N1(F,n,a).width,n.textAlign){case"right":f=c-p-2;break;case"center":f=(c-p)/2;break;default:f=2}e+=hn(f)+" "+hn(b)+` Td
`,e+="("+Xh(F)+`) Tj
`,e+=-hn(f)+` 0 Td
`,b=-(a+2),p=0,R=ee?P:P+1,K++,k=""}break}return r.text=e,r.fontSize=a,r},N1=function(n,e,t){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(n,{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:i}},lO={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},uO=function(n,e){var t={type:"reference",object:n};e.internal.getPageInfo(n.page).pageContext.annotations.find(function(r){return r.type===t.type&&r.object===t.object})===void 0&&e.internal.getPageInfo(n.page).pageContext.annotations.push(t)},cO=function(n,e){if(e.scope=n,n.internal!==void 0&&(n.internal.acroformPlugin===void 0||n.internal.acroformPlugin.isInitialized===!1)){if(Zo.FieldNum=0,n.internal.acroformPlugin=JSON.parse(JSON.stringify(lO)),n.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");b5=n.internal.scaleFactor,n.internal.acroformPlugin.acroFormDictionaryRoot=new zI,n.internal.acroformPlugin.acroFormDictionaryRoot.scope=n,n.internal.acroformPlugin.acroFormDictionaryRoot._eventID=n.internal.events.subscribe("postPutResources",function(){(function(t){t.internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0})(n)}),n.internal.events.subscribe("buildDocument",function(){(function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var a=r[i];a.objId=void 0,a.hasAnnotation&&uO(a,t)}})(n)}),n.internal.events.subscribe("putCatalog",function(){(function(t){if(t.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(n)}),n.internal.events.subscribe("postPutPages",function(t){(function(r,i){var a=!r;for(var l in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(l)){var c=r[l],h=[],f=c.Rect;if(c.Rect&&(c.Rect=aO(c.Rect,i)),i.internal.newObjectDeferredBegin(c.objId,!0),c.DA=Nt.createDefaultAppearanceStream(c),ur(c)==="object"&&typeof c.getKeyValueListForStream=="function"&&(h=c.getKeyValueListForStream()),c.Rect=f,c.hasAppearanceStream&&!c.appearanceStreamContent){var p=oO(c);h.push({key:"AP",value:"<</N "+p+">>"}),i.internal.acroformPlugin.xForms.push(p)}if(c.appearanceStreamContent){var v="";for(var E in c.appearanceStreamContent)if(c.appearanceStreamContent.hasOwnProperty(E)){var b=c.appearanceStreamContent[E];if(v+="/"+E+" ",v+="<<",Object.keys(b).length>=1||Array.isArray(b)){for(var l in b)if(b.hasOwnProperty(l)){var R=b[l];typeof R=="function"&&(R=R.call(i,c)),v+="/"+l+" "+R+" ",i.internal.acroformPlugin.xForms.indexOf(R)>=0||i.internal.acroformPlugin.xForms.push(R)}}else typeof(R=b)=="function"&&(R=R.call(i,c)),v+="/"+l+" "+R,i.internal.acroformPlugin.xForms.indexOf(R)>=0||i.internal.acroformPlugin.xForms.push(R);v+=">>"}h.push({key:"AP",value:`<<
`+v+">>"})}i.internal.putStream({additionalKeyValues:h,objectId:c.objId}),i.internal.out("endobj")}a&&(function(P,M){for(var k in P)if(P.hasOwnProperty(k)){var K=k,$=P[k];M.internal.newObjectDeferredBegin($.objId,!0),ur($)==="object"&&typeof $.putStream=="function"&&$.putStream(),delete P[K]}})(i.internal.acroformPlugin.xForms,i)})(t,n)}),n.internal.acroformPlugin.isInitialized=!0}},UI=li.__acroform__.arrayToPdfArray=function(n,e,t){var r=function(l){return l};if(Array.isArray(n)){for(var i="[",a=0;a<n.length;a++)switch(a!==0&&(i+=" "),ur(n[a])){case"boolean":case"number":case"object":i+=n[a].toString();break;case"string":n[a].substr(0,1)!=="/"?(e!==void 0&&t&&(r=t.internal.getEncryptor(e)),i+="("+Xh(r(n[a].toString()))+")"):i+=n[a].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},y2=function(n,e,t){var r=function(i){return i};return e!==void 0&&t&&(r=t.internal.getEncryptor(e)),(n=n||"").toString(),"("+Xh(r(n))+")"},Pl=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(n){this._objId=n}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Pl.prototype.toString=function(){return this.objId+" 0 R"},Pl.prototype.putStream=function(){var n=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:n,objectId:this.objId}),this.scope.internal.out("endobj")},Pl.prototype.getKeyValueListForStream=function(){var n=[],e=Object.getOwnPropertyNames(this).filter(function(a){return a!="content"&&a!="appearanceStreamContent"&&a!="scope"&&a!="objId"&&a.substring(0,1)!="_"});for(var t in e)if(Object.getOwnPropertyDescriptor(this,e[t]).configurable===!1){var r=e[t],i=this[r];i&&(Array.isArray(i)?n.push({key:r,value:UI(i,this.objId,this.scope)}):i instanceof Pl?(i.scope=this.scope,n.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&n.push({key:r,value:i}))}return n};var BI=function(){Pl.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var n,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){n=t.trim()},get:function(){return n||null}})};Ra(BI,Pl);var zI=function(){Pl.call(this);var n,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(n){var t=function(r){return r};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+Xh(t(n))+")"}},set:function(t){n=t}})};Ra(zI,Pl);var Zo=function n(){Pl.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(k){if(isNaN(k))throw new Error('Invalid value "'+k+'" for attribute F supplied.');e=k}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!yi(e,3)},set:function(k){k?this.F=vi(e,3):this.F=_i(e,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(k){if(isNaN(k))throw new Error('Invalid value "'+k+'" for attribute Ff supplied.');t=k}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(k){r=k!==void 0?k:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(k){r[0]=k}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(k){r[1]=k}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(k){r[2]=k}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(k){r[3]=k}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(k){switch(k){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=k;break;default:throw new Error('Invalid value "'+k+'" for attribute FT supplied.')}}});var a=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!a||a.length<1){if(this instanceof my)return;a="FieldObject"+n.FieldNum++}var k=function(K){return K};return this.scope&&(k=this.scope.internal.getEncryptor(this.objId)),"("+Xh(k(a))+")"},set:function(k){a=k.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return a},set:function(k){a=k}});var l="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return l},set:function(k){l=k}});var c="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return c},set:function(k){c=k}});var h=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return h},set:function(k){h=k}});var f=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return f===void 0?50/b5:f},set:function(k){f=k}});var p="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return p},set:function(k){p=k}});var v="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!v||this instanceof my||this instanceof Lh))return y2(v,this.objId,this.scope)},set:function(k){k=k.toString(),v=k}});var E=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(E)return this instanceof as==0?y2(E,this.objId,this.scope):E},set:function(k){k=k.toString(),E=this instanceof as==0?k.substr(0,1)==="("?Uf(k.substr(1,k.length-2)):Uf(k):k}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof as==1?Uf(E.substr(1,E.length-1)):E},set:function(k){k=k.toString(),E=this instanceof as==1?"/"+k:k}});var b=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(b)return b},set:function(k){this.V=k}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(b)return this instanceof as==0?y2(b,this.objId,this.scope):b},set:function(k){k=k.toString(),b=this instanceof as==0?k.substr(0,1)==="("?Uf(k.substr(1,k.length-2)):Uf(k):k}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof as==1?Uf(b.substr(1,b.length-1)):b},set:function(k){k=k.toString(),b=this instanceof as==1?"/"+k:k}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var R,P=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return P},set:function(k){k=!!k,P=k}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(R)return R},set:function(k){R=k}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!yi(this.Ff,1)},set:function(k){k?this.Ff=vi(this.Ff,1):this.Ff=_i(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!yi(this.Ff,2)},set:function(k){k?this.Ff=vi(this.Ff,2):this.Ff=_i(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!yi(this.Ff,3)},set:function(k){k?this.Ff=vi(this.Ff,3):this.Ff=_i(this.Ff,3)}});var M=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(M!==null)return M},set:function(k){if([0,1,2].indexOf(k)===-1)throw new Error('Invalid value "'+k+'" for attribute Q supplied.');M=k}}),Object.defineProperty(this,"textAlign",{get:function(){var k;switch(M){case 0:default:k="left";break;case 1:k="center";break;case 2:k="right"}return k},configurable:!0,enumerable:!0,set:function(k){switch(k){case"right":case 2:M=2;break;case"center":case 1:M=1;break;default:M=0}}})};Ra(Zo,Pl);var sd=function(){Zo.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var n=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return n},set:function(t){n=t}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return UI(e,this.objId,this.scope)},set:function(t){var r,i;i=[],typeof(r=t)=="string"&&(i=(function(a,l,c){c||(c=1);for(var h,f=[];h=l.exec(a);)f.push(h[c]);return f})(r,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,r){for(r=r||!1,t=(t=t||"").toString();e.indexOf(t)!==-1&&(e.splice(e.indexOf(t),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!yi(this.Ff,18)},set:function(t){t?this.Ff=vi(this.Ff,18):this.Ff=_i(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!yi(this.Ff,19)},set:function(t){this.combo===!0&&(t?this.Ff=vi(this.Ff,19):this.Ff=_i(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!yi(this.Ff,20)},set:function(t){t?(this.Ff=vi(this.Ff,20),e.sort()):this.Ff=_i(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!yi(this.Ff,22)},set:function(t){t?this.Ff=vi(this.Ff,22):this.Ff=_i(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!yi(this.Ff,23)},set:function(t){t?this.Ff=vi(this.Ff,23):this.Ff=_i(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!yi(this.Ff,27)},set:function(t){t?this.Ff=vi(this.Ff,27):this.Ff=_i(this.Ff,27)}}),this.hasAppearanceStream=!1};Ra(sd,Zo);var ad=function(){sd.call(this),this.fontName="helvetica",this.combo=!1};Ra(ad,sd);var od=function(){ad.call(this),this.combo=!0};Ra(od,ad);var G1=function(){od.call(this),this.edit=!0};Ra(G1,od);var as=function(){Zo.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!yi(this.Ff,15)},set:function(t){t?this.Ff=vi(this.Ff,15):this.Ff=_i(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!yi(this.Ff,16)},set:function(t){t?this.Ff=vi(this.Ff,16):this.Ff=_i(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!yi(this.Ff,17)},set:function(t){t?this.Ff=vi(this.Ff,17):this.Ff=_i(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!yi(this.Ff,26)},set:function(t){t?this.Ff=vi(this.Ff,26):this.Ff=_i(this.Ff,26)}});var n,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(a){return a};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,i=[];for(r in i.push("<<"),e)i.push("/"+r+" ("+Xh(t(e[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(t){ur(t)==="object"&&(e=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(t){typeof t=="string"&&(e.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(t){n="/"+t}})};Ra(as,Zo);var $1=function(){as.call(this),this.pushButton=!0};Ra($1,as);var ld=function(){as.call(this),this.radio=!0,this.pushButton=!1;var n=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e!==void 0?e:[]}})};Ra(ld,as);var my=function(){var n,e;Zo.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var t,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(c){return c};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var a,l=[];for(a in l.push("<<"),r)l.push("/"+a+" ("+Xh(i(r[a]))+")");return l.push(">>"),l.join(`
`)},set:function(i){ur(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(i){t="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Nt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Ra(my,Zo),ld.prototype.setAppearance=function(n){if(!("createAppearanceStream"in n)||!("getCA"in n))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var t=this.Kids[e];t.appearanceStreamContent=n.createAppearanceStream(t.optionName),t.caption=n.getCA()}},ld.prototype.createOption=function(n){var e=new my;return e.Parent=this,e.optionName=n,this.Kids.push(e),hO.call(this.scope,e),e};var W1=function(){as.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Nt.CheckBox.createAppearanceStream()};Ra(W1,as);var Lh=function(){Zo.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!yi(this.Ff,13)},set:function(e){e?this.Ff=vi(this.Ff,13):this.Ff=_i(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!yi(this.Ff,21)},set:function(e){e?this.Ff=vi(this.Ff,21):this.Ff=_i(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!yi(this.Ff,23)},set:function(e){e?this.Ff=vi(this.Ff,23):this.Ff=_i(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!yi(this.Ff,24)},set:function(e){e?this.Ff=vi(this.Ff,24):this.Ff=_i(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!yi(this.Ff,25)},set:function(e){e?this.Ff=vi(this.Ff,25):this.Ff=_i(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!yi(this.Ff,26)},set:function(e){e?this.Ff=vi(this.Ff,26):this.Ff=_i(this.Ff,26)}});var n=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return n},set:function(e){Number.isInteger(e)&&(n=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Ra(Lh,Zo);var K1=function(){Lh.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!yi(this.Ff,14)},set:function(n){n?this.Ff=vi(this.Ff,14):this.Ff=_i(this.Ff,14)}}),this.password=!0};Ra(K1,Lh);var Nt={CheckBox:{createAppearanceStream:function(){return{N:{On:Nt.CheckBox.YesNormal},D:{On:Nt.CheckBox.YesPushDown,Off:Nt.CheckBox.OffPushDown}}},YesPushDown:function(n){var e=Sl(n);e.scope=n.scope;var t=[],r=n.scope.internal.getFont(n.fontName,n.fontStyle).id,i=n.scope.__private__.encodeColorString(n.color),a=c_(n,n.caption);return t.push("0.749023 g"),t.push("0 0 "+hn(Nt.internal.getWidth(n))+" "+hn(Nt.internal.getHeight(n))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+r+" "+hn(a.fontSize)+" Tf "+i),t.push("BT"),t.push(a.text),t.push("ET"),t.push("Q"),t.push("EMC"),e.stream=t.join(`
`),e},YesNormal:function(n){var e=Sl(n);e.scope=n.scope;var t=n.scope.internal.getFont(n.fontName,n.fontStyle).id,r=n.scope.__private__.encodeColorString(n.color),i=[],a=Nt.internal.getHeight(n),l=Nt.internal.getWidth(n),c=c_(n,n.caption);return i.push("1 g"),i.push("0 0 "+hn(l)+" "+hn(a)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+hn(l-1)+" "+hn(a-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+t+" "+hn(c.fontSize)+" Tf "+r),i.push(c.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(n){var e=Sl(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+hn(Nt.internal.getWidth(n))+" "+hn(Nt.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(n){var e={D:{Off:Nt.RadioButton.Circle.OffPushDown},N:{}};return e.N[n]=Nt.RadioButton.Circle.YesNormal,e.D[n]=Nt.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(n){var e=Sl(n);e.scope=n.scope;var t=[],r=Nt.internal.getWidth(n)<=Nt.internal.getHeight(n)?Nt.internal.getWidth(n)/4:Nt.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var i=Nt.internal.Bezier_C,a=Number((r*i).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+dc(Nt.internal.getWidth(n)/2)+" "+dc(Nt.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+a+" "+a+" "+r+" 0 "+r+" c"),t.push("-"+a+" "+r+" -"+r+" "+a+" -"+r+" 0 c"),t.push("-"+r+" -"+a+" -"+a+" -"+r+" 0 -"+r+" c"),t.push(a+" -"+r+" "+r+" -"+a+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=Sl(n);e.scope=n.scope;var t=[],r=Nt.internal.getWidth(n)<=Nt.internal.getHeight(n)?Nt.internal.getWidth(n)/4:Nt.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),a=Number((i*Nt.internal.Bezier_C).toFixed(5)),l=Number((r*Nt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+dc(Nt.internal.getWidth(n)/2)+" "+dc(Nt.internal.getHeight(n)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),t.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),t.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),t.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+dc(Nt.internal.getWidth(n)/2)+" "+dc(Nt.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+l+" "+l+" "+r+" 0 "+r+" c"),t.push("-"+l+" "+r+" -"+r+" "+l+" -"+r+" 0 c"),t.push("-"+r+" -"+l+" -"+l+" -"+r+" 0 -"+r+" c"),t.push(l+" -"+r+" "+r+" -"+l+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},OffPushDown:function(n){var e=Sl(n);e.scope=n.scope;var t=[],r=Nt.internal.getWidth(n)<=Nt.internal.getHeight(n)?Nt.internal.getWidth(n)/4:Nt.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),a=Number((i*Nt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+dc(Nt.internal.getWidth(n)/2)+" "+dc(Nt.internal.getHeight(n)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),t.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),t.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),t.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e}},Cross:{createAppearanceStream:function(n){var e={D:{Off:Nt.RadioButton.Cross.OffPushDown},N:{}};return e.N[n]=Nt.RadioButton.Cross.YesNormal,e.D[n]=Nt.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(n){var e=Sl(n);e.scope=n.scope;var t=[],r=Nt.internal.calculateCross(n);return t.push("q"),t.push("1 1 "+hn(Nt.internal.getWidth(n)-2)+" "+hn(Nt.internal.getHeight(n)-2)+" re"),t.push("W"),t.push("n"),t.push(hn(r.x1.x)+" "+hn(r.x1.y)+" m"),t.push(hn(r.x2.x)+" "+hn(r.x2.y)+" l"),t.push(hn(r.x4.x)+" "+hn(r.x4.y)+" m"),t.push(hn(r.x3.x)+" "+hn(r.x3.y)+" l"),t.push("s"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=Sl(n);e.scope=n.scope;var t=Nt.internal.calculateCross(n),r=[];return r.push("0.749023 g"),r.push("0 0 "+hn(Nt.internal.getWidth(n))+" "+hn(Nt.internal.getHeight(n))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+hn(Nt.internal.getWidth(n)-2)+" "+hn(Nt.internal.getHeight(n)-2)+" re"),r.push("W"),r.push("n"),r.push(hn(t.x1.x)+" "+hn(t.x1.y)+" m"),r.push(hn(t.x2.x)+" "+hn(t.x2.y)+" l"),r.push(hn(t.x4.x)+" "+hn(t.x4.y)+" m"),r.push(hn(t.x3.x)+" "+hn(t.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(n){var e=Sl(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+hn(Nt.internal.getWidth(n))+" "+hn(Nt.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}}},createDefaultAppearanceStream:function(n){var e=n.scope.internal.getFont(n.fontName,n.fontStyle).id,t=n.scope.__private__.encodeColorString(n.color);return"/"+e+" "+n.fontSize+" Tf "+t}};Nt.internal={Bezier_C:.551915024494,calculateCross:function(n){var e=Nt.internal.getWidth(n),t=Nt.internal.getHeight(n),r=Math.min(e,t);return{x1:{x:(e-r)/2,y:(t-r)/2+r},x2:{x:(e-r)/2+r,y:(t-r)/2},x3:{x:(e-r)/2,y:(t-r)/2},x4:{x:(e-r)/2+r,y:(t-r)/2+r}}}},Nt.internal.getWidth=function(n){var e=0;return ur(n)==="object"&&(e=HS(n.Rect[2])),e},Nt.internal.getHeight=function(n){var e=0;return ur(n)==="object"&&(e=HS(n.Rect[3])),e};var hO=li.addField=function(n){if(cO(this,n),!(n instanceof Zo))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=n).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),n.page=n.scope.internal.getCurrentPageInfo().pageNumber,this};li.AcroFormChoiceField=sd,li.AcroFormListBox=ad,li.AcroFormComboBox=od,li.AcroFormEditBox=G1,li.AcroFormButton=as,li.AcroFormPushButton=$1,li.AcroFormRadioButton=ld,li.AcroFormCheckBox=W1,li.AcroFormTextField=Lh,li.AcroFormPasswordField=K1,li.AcroFormAppearance=Nt,li.AcroForm={ChoiceField:sd,ListBox:ad,ComboBox:od,EditBox:G1,Button:as,PushButton:$1,RadioButton:ld,CheckBox:W1,TextField:Lh,PasswordField:K1,Appearance:Nt},kt.AcroForm={ChoiceField:sd,ListBox:ad,ComboBox:od,EditBox:G1,Button:as,PushButton:$1,RadioButton:ld,CheckBox:W1,TextField:Lh,PasswordField:K1,Appearance:Nt};kt.AcroForm;function qI(n){return n.reduce(function(e,t,r){return e[t]=r,e},{})}(function(n){var e="addImage_";n.__addimage__={};var t="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=n.__addimage__.getImageFileTypeByImageData=function(I,j){var N,te,fe,re,ue,pe=t;if((j=j||t)==="RGBA"||I.data!==void 0&&I.data instanceof Uint8ClampedArray&&"height"in I&&"width"in I)return"RGBA";if(ve(I))for(ue in r)for(fe=r[ue],N=0;N<fe.length;N+=1){for(re=!0,te=0;te<fe[N].length;te+=1)if(fe[N][te]!==void 0&&fe[N][te]!==I[te]){re=!1;break}if(re===!0){pe=ue;break}}else for(ue in r)for(fe=r[ue],N=0;N<fe.length;N+=1){for(re=!0,te=0;te<fe[N].length;te+=1)if(fe[N][te]!==void 0&&fe[N][te]!==I.charCodeAt(te)){re=!1;break}if(re===!0){pe=ue;break}}return pe===t&&j!==t&&(pe=j),pe},a=function I(j){for(var N=this.internal.write,te=this.internal.putStream,fe=(0,this.internal.getFilters)();fe.indexOf("FlateEncode")!==-1;)fe.splice(fe.indexOf("FlateEncode"),1);j.objectId=this.internal.newObject();var re=[];if(re.push({key:"Type",value:"/XObject"}),re.push({key:"Subtype",value:"/Image"}),re.push({key:"Width",value:j.width}),re.push({key:"Height",value:j.height}),j.colorSpace===k.INDEXED?re.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(j.palette.length/3-1)+" "+("sMask"in j&&j.sMask!==void 0?j.objectId+2:j.objectId+1)+" 0 R]"}):(re.push({key:"ColorSpace",value:"/"+j.colorSpace}),j.colorSpace===k.DEVICE_CMYK&&re.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),re.push({key:"BitsPerComponent",value:j.bitsPerComponent}),"decodeParameters"in j&&j.decodeParameters!==void 0&&re.push({key:"DecodeParms",value:"<<"+j.decodeParameters+">>"}),"transparency"in j&&Array.isArray(j.transparency)&&j.transparency.length>0){for(var ue="",pe=0,xe=j.transparency.length;pe<xe;pe++)ue+=j.transparency[pe]+" "+j.transparency[pe]+" ";re.push({key:"Mask",value:"["+ue+"]"})}j.sMask!==void 0&&re.push({key:"SMask",value:j.objectId+1+" 0 R"});var Be=j.filter!==void 0?["/"+j.filter]:void 0;if(te({data:j.data,additionalKeyValues:re,alreadyAppliedFilters:Be,objectId:j.objectId}),N("endobj"),"sMask"in j&&j.sMask!==void 0){var J,O=(J=j.sMaskBitsPerComponent)!==null&&J!==void 0?J:j.bitsPerComponent,Y={width:j.width,height:j.height,colorSpace:"DeviceGray",bitsPerComponent:O,data:j.sMask};"filter"in j&&(Y.decodeParameters="/Predictor ".concat(j.predictor," /Colors 1 /BitsPerComponent ").concat(O," /Columns ").concat(j.width),Y.filter=j.filter),I.call(this,Y)}if(j.colorSpace===k.INDEXED){var ne=this.internal.newObject();te({data:F(new Uint8Array(j.palette)),objectId:ne}),N("endobj")}},l=function(){var I=this.internal.collections[e+"images"];for(var j in I)a.call(this,I[j])},c=function(){var I,j=this.internal.collections[e+"images"],N=this.internal.write;for(var te in j)N("/I"+(I=j[te]).index,I.objectId,"0","R")},h=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",l),this.internal.events.subscribe("putXobjectDict",c))},f=function(){var I=this.internal.collections[e+"images"];return h.call(this),I},p=function(){return Object.keys(this.internal.collections[e+"images"]).length},v=function(I){return typeof n["process"+I.toUpperCase()]=="function"},E=function(I){return ur(I)==="object"&&I.nodeType===1},b=function(I,j){if(I.nodeName==="IMG"&&I.hasAttribute("src")){var N=""+I.getAttribute("src");if(N.indexOf("data:image/")===0)return H1(unescape(N).split("base64,").pop());var te=n.loadFile(N,!0);if(te!==void 0)return te}if(I.nodeName==="CANVAS"){if(I.width===0||I.height===0)throw new Error("Given canvas must have data. Canvas width: "+I.width+", height: "+I.height);var fe;switch(j){case"PNG":fe="image/png";break;case"WEBP":fe="image/webp";break;default:fe="image/jpeg"}return H1(I.toDataURL(fe,1).split("base64,").pop())}},R=function(I){var j=this.internal.collections[e+"images"];if(j){for(var N in j)if(I===j[N].alias)return j[N]}},P=function(I,j,N){return I||j||(I=-96,j=-96),I<0&&(I=-1*N.width*72/I/this.internal.scaleFactor),j<0&&(j=-1*N.height*72/j/this.internal.scaleFactor),I===0&&(I=j*N.width/N.height),j===0&&(j=I*N.height/N.width),[I,j]},M=function(I,j,N,te,fe,re){var ue=P.call(this,N,te,fe),pe=this.internal.getCoordinateString,xe=this.internal.getVerticalCoordinateString,Be=f.call(this);if(N=ue[0],te=ue[1],Be[fe.index]=fe,re){re*=Math.PI/180;var J=Math.cos(re),O=Math.sin(re),Y=function(le){return le.toFixed(4)},ne=[Y(J),Y(O),Y(-1*O),Y(J),0,0,"cm"]}this.internal.write("q"),re?(this.internal.write([1,"0","0",1,pe(I),xe(j+te),"cm"].join(" ")),this.internal.write(ne.join(" ")),this.internal.write([pe(N),"0","0",pe(te),"0","0","cm"].join(" "))):this.internal.write([pe(N),"0","0",pe(te),pe(I),xe(j+te),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+fe.index+" Do"),this.internal.write("Q")},k=n.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};n.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var K=n.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},$=n.__addimage__.sHashCode=function(I){var j,N,te=0;if(typeof I=="string")for(N=I.length,j=0;j<N;j++)te=(te<<5)-te+I.charCodeAt(j),te|=0;else if(ve(I))for(N=I.byteLength/2,j=0;j<N;j++)te=(te<<5)-te+I[j],te|=0;return te},ee=n.__addimage__.validateStringAsBase64=function(I){(I=I||"").toString().trim();var j=!0;return I.length===0&&(j=!1),I.length%4!=0&&(j=!1),/^[A-Za-z0-9+/]+$/.test(I.substr(0,I.length-2))===!1&&(j=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(I.substr(-2))===!1&&(j=!1),j},ye=n.__addimage__.extractImageFromDataUrl=function(I){if(I==null||!(I=I.trim()).startsWith("data:"))return null;var j=I.indexOf(",");return j<0?null:I.substring(0,j).trim().endsWith("base64")?I.substring(j+1):null};n.__addimage__.isArrayBuffer=function(I){return I instanceof ArrayBuffer};var ve=n.__addimage__.isArrayBufferView=function(I){return I instanceof Int8Array||I instanceof Uint8Array||I instanceof Uint8ClampedArray||I instanceof Int16Array||I instanceof Uint16Array||I instanceof Int32Array||I instanceof Uint32Array||I instanceof Float32Array||I instanceof Float64Array},z=n.__addimage__.binaryStringToUint8Array=function(I){for(var j=I.length,N=new Uint8Array(j),te=0;te<j;te++)N[te]=I.charCodeAt(te);return N},F=n.__addimage__.arrayBufferToBinaryString=function(I){for(var j="",N=ve(I)?I:new Uint8Array(I),te=0;te<N.length;te+=8192)j+=String.fromCharCode.apply(null,N.subarray(te,te+8192));return j};n.addImage=function(){var I,j,N,te,fe,re,ue,pe,xe;if(typeof arguments[1]=="number"?(j=t,N=arguments[1],te=arguments[2],fe=arguments[3],re=arguments[4],ue=arguments[5],pe=arguments[6],xe=arguments[7]):(j=arguments[1],N=arguments[2],te=arguments[3],fe=arguments[4],re=arguments[5],ue=arguments[6],pe=arguments[7],xe=arguments[8]),ur(I=arguments[0])==="object"&&!E(I)&&"imageData"in I){var Be=I;I=Be.imageData,j=Be.format||j||t,N=Be.x||N||0,te=Be.y||te||0,fe=Be.w||Be.width||fe,re=Be.h||Be.height||re,ue=Be.alias||ue,pe=Be.compression||pe,xe=Be.rotation||Be.angle||xe}var J=this.internal.getFilters();if(pe===void 0&&J.indexOf("FlateEncode")!==-1&&(pe="SLOW"),isNaN(N)||isNaN(te))throw new Error("Invalid coordinates passed to jsPDF.addImage");h.call(this);var O=D.call(this,I,j,ue,pe);return M.call(this,N,te,fe,re,O,xe),this};var D=function(I,j,N,te){var fe,re,ue;if(typeof I=="string"&&i(I)===t){I=unescape(I);var pe=G(I,!1);(pe!==""||(pe=n.loadFile(I,!0))!==void 0)&&(I=pe)}if(E(I)&&(I=b(I,j)),j=i(I,j),!v(j))throw new Error("addImage does not support files of type '"+j+"', please ensure that a plugin for '"+j+"' support is added.");if(((ue=N)==null||ue.length===0)&&(N=(function(xe){return typeof xe=="string"||ve(xe)?$(xe):ve(xe.data)?$(xe.data):null})(I)),(fe=R.call(this,N))||(I instanceof Uint8Array||j==="RGBA"||(re=I,I=z(I)),fe=this["process"+j.toUpperCase()](I,p.call(this),N,(function(xe){return xe&&typeof xe=="string"&&(xe=xe.toUpperCase()),xe in n.image_compression?xe:K.NONE})(te),re)),!fe)throw new Error("An unknown error occurred whilst processing the image.");return fe},G=n.__addimage__.convertBase64ToBinaryString=function(I,j){j=typeof j!="boolean"||j;var N,te="";if(typeof I=="string"){var fe;N=(fe=ye(I))!==null&&fe!==void 0?fe:I;try{te=H1(N)}catch(re){if(j)throw ee(N)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+re.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return te};n.getImageProperties=function(I){var j,N,te="";if(E(I)&&(I=b(I)),typeof I=="string"&&i(I)===t&&((te=G(I,!1))===""&&(te=n.loadFile(I)||""),I=te),N=i(I),!v(N))throw new Error("addImage does not support files of type '"+N+"', please ensure that a plugin for '"+N+"' support is added.");if(I instanceof Uint8Array||(I=z(I)),!(j=this["process"+N.toUpperCase()](I)))throw new Error("An unknown error occurred whilst processing the image");return j.fileType=N,j}})(kt.API),(function(n){var e=function(t){if(t!==void 0&&t!="")return!0};kt.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),n.events.push(["putPage",function(t){for(var r,i,a,l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString,h=this.internal.getPageInfoByObjId(t.objId),f=t.pageContext.annotations,p=!1,v=0;v<f.length&&!p;v++)switch((r=f[v]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(p=!0);break;case"reference":case"text":case"freetext":p=!0}if(p!=0){this.internal.write("/Annots [");for(var E=0;E<f.length;E++){r=f[E];var b=this.internal.pdfEscape,R=this.internal.getEncryptor(t.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var P=this.internal.newAdditionalObject(),M=this.internal.newAdditionalObject(),k=this.internal.getEncryptor(P.objId),K=r.title||"Note";a="<</Type /Annot /Subtype /Text "+(i="/Rect ["+l(r.bounds.x)+" "+c(r.bounds.y+r.bounds.h)+" "+l(r.bounds.x+r.bounds.w)+" "+c(r.bounds.y)+"] ")+"/Contents ("+b(k(r.contents))+")",a+=" /Popup "+M.objId+" 0 R",a+=" /P "+h.objId+" 0 R",a+=" /T ("+b(k(K))+") >>",P.content=a;var $=P.objId+" 0 R";a="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+l(r.bounds.x+30)+" "+c(r.bounds.y+r.bounds.h)+" "+l(r.bounds.x+r.bounds.w+30)+" "+c(r.bounds.y)+"] ")+" /Parent "+$,r.open&&(a+=" /Open true"),a+=" >>",M.content=a,this.internal.write(P.objId,"0 R",M.objId,"0 R");break;case"freetext":i="/Rect ["+l(r.bounds.x)+" "+c(r.bounds.y)+" "+l(r.bounds.x+r.bounds.w)+" "+c(r.bounds.y+r.bounds.h)+"] ";var ee=r.color||"#000000";a="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+b(R(r.contents))+")",a+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+ee+")",a+=" /Border [0 0 0]",a+=" >>",this.internal.write(a);break;case"link":if(r.options.name){var ye=this.annotations._nameMap[r.options.name];r.options.pageNumber=ye.page,r.options.top=ye.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",a="",r.options.url)a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+b(R(r.options.url))+") >>";else if(r.options.pageNumber)switch(a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":a+=" /Fit]";break;case"FitH":a+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,a+=" /FitV "+r.options.left+"]";break;default:var ve=c(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),a+=" /XYZ "+r.options.left+" "+ve+" "+r.options.zoom+"]"}a!=""&&(a+=" >>",this.internal.write(a))}}this.internal.write("]")}}]),n.createAnnotation=function(t){var r=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":r.pageContext.annotations.push(t)}},n.link=function(t,r,i,a,l){var c=this.internal.getCurrentPageInfo(),h=this.internal.getCoordinateString,f=this.internal.getVerticalCoordinateString;c.pageContext.annotations.push({finalBounds:{x:h(t),y:f(r),w:h(t+i),h:f(r+a)},options:l,type:"link"})},n.textWithLink=function(t,r,i,a){var l,c,h=this.getTextWidth(t),f=this.internal.getLineHeight()/this.internal.scaleFactor;if(a.maxWidth!==void 0){c=a.maxWidth;var p=this.splitTextToSize(t,c).length;l=Math.ceil(f*p)}else c=h,l=f;return this.text(t,r,i,a),i+=.2*f,a.align==="center"&&(r-=h/2),a.align==="right"&&(r-=h),this.link(r,i-f,c,l,a),h},n.getTextWidth=function(t){var r=this.internal.getFontSize();return this.getStringUnitWidth(t)*r/this.internal.scaleFactor}})(kt.API),(function(n){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];n.__arabicParser__={};var a=n.__arabicParser__.isInArabicSubstitutionA=function(P){return e[P.charCodeAt(0)]!==void 0},l=n.__arabicParser__.isArabicLetter=function(P){return typeof P=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(P)},c=n.__arabicParser__.isArabicEndLetter=function(P){return l(P)&&a(P)&&e[P.charCodeAt(0)].length<=2},h=n.__arabicParser__.isArabicAlfLetter=function(P){return l(P)&&i.indexOf(P.charCodeAt(0))>=0};n.__arabicParser__.arabicLetterHasIsolatedForm=function(P){return l(P)&&a(P)&&e[P.charCodeAt(0)].length>=1};var f=n.__arabicParser__.arabicLetterHasFinalForm=function(P){return l(P)&&a(P)&&e[P.charCodeAt(0)].length>=2};n.__arabicParser__.arabicLetterHasInitialForm=function(P){return l(P)&&a(P)&&e[P.charCodeAt(0)].length>=3};var p=n.__arabicParser__.arabicLetterHasMedialForm=function(P){return l(P)&&a(P)&&e[P.charCodeAt(0)].length==4},v=n.__arabicParser__.resolveLigatures=function(P){var M=0,k=t,K="",$=0;for(M=0;M<P.length;M+=1)k[P.charCodeAt(M)]!==void 0?($++,typeof(k=k[P.charCodeAt(M)])=="number"&&(K+=String.fromCharCode(k),k=t,$=0),M===P.length-1&&(k=t,K+=P.charAt(M-($-1)),M-=$-1,$=0)):(k=t,K+=P.charAt(M-$),M-=$,$=0);return K};n.__arabicParser__.isArabicDiacritic=function(P){return P!==void 0&&r[P.charCodeAt(0)]!==void 0};var E=n.__arabicParser__.getCorrectForm=function(P,M,k){return l(P)?a(P)===!1?-1:!f(P)||!l(M)&&!l(k)||!l(k)&&c(M)||c(P)&&!l(M)||c(P)&&h(M)||c(P)&&c(M)?0:p(P)&&l(M)&&!c(M)&&l(k)&&f(k)?3:c(P)||!l(k)?1:2:-1},b=function(P){var M=0,k=0,K=0,$="",ee="",ye="",ve=(P=P||"").split("\\s+"),z=[];for(M=0;M<ve.length;M+=1){for(z.push(""),k=0;k<ve[M].length;k+=1)$=ve[M][k],ee=ve[M][k-1],ye=ve[M][k+1],l($)?(K=E($,ee,ye),z[M]+=K!==-1?String.fromCharCode(e[$.charCodeAt(0)][K]):$):z[M]+=$;z[M]=v(z[M])}return z.join(" ")},R=n.__arabicParser__.processArabic=n.processArabic=function(){var P,M=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,k=[];if(Array.isArray(M)){var K=0;for(k=[],K=0;K<M.length;K+=1)Array.isArray(M[K])?k.push([b(M[K][0]),M[K][1],M[K][2]]):k.push([b(M[K])]);P=k}else P=b(M);return typeof arguments[0]=="string"?P:(arguments[0].text=P,arguments[0])};n.events.push(["preProcessText",R])})(kt.API),kt.API.autoPrint=function(n){var e;return(n=n||{}).variant=n.variant||"non-conform",n.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},(function(n){var e=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(c){t=c}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(c){r=isNaN(c)||Number.isInteger(c)===!1||c<0?150:c,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(c){i=isNaN(c)||Number.isInteger(c)===!1||c<0?300:c,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var a=[];Object.defineProperty(this,"childNodes",{get:function(){return a},set:function(c){a=c}});var l={};Object.defineProperty(this,"style",{get:function(){return l},set:function(c){l=c}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(t,r){var i;if((t=t||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},n.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])})(kt.API),(function(n){var e={left:0,top:0,bottom:0,right:0},t=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new a,this.internal.__cell__.pages=1},a=function(){var h=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return h},set:function(P){h=P}});var f=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return f},set:function(P){f=P}});var p=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return p},set:function(P){p=P}});var v=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return v},set:function(P){v=P}});var E=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return E},set:function(P){E=P}});var b=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return b},set:function(P){b=P}});var R=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return R},set:function(P){R=P}}),this};a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},a.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},n.setHeaderFunction=function(h){return r.call(this),this.internal.__cell__.headerFunction=typeof h=="function"?h:void 0,this},n.getTextDimensions=function(h,f){r.call(this);var p=(f=f||{}).fontSize||this.getFontSize(),v=f.font||this.getFont(),E=f.scaleFactor||this.internal.scaleFactor,b=0,R=0,P=0,M=this;if(!Array.isArray(h)&&typeof h!="string"){if(typeof h!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");h=String(h)}var k=f.maxWidth;k>0?typeof h=="string"?h=this.splitTextToSize(h,k):Object.prototype.toString.call(h)==="[object Array]"&&(h=h.reduce(function($,ee){return $.concat(M.splitTextToSize(ee,k))},[])):h=Array.isArray(h)?h:[h];for(var K=0;K<h.length;K++)b<(P=this.getStringUnitWidth(h[K],{font:v})*p)&&(b=P);return b!==0&&(R=h.length),{w:b/=E,h:Math.max((R*p*this.getLineHeightFactor()-p*(this.getLineHeightFactor()-1))/E,0)}},n.cellAddPage=function(){r.call(this),this.addPage();var h=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new a(h.left,h.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var l=n.cell=function(){var h;h=arguments[0]instanceof a?arguments[0]:new a(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),r.call(this);var f=this.internal.__cell__.lastCell,p=this.internal.__cell__.padding,v=this.internal.__cell__.margins||e,E=this.internal.__cell__.tableHeaderRow,b=this.internal.__cell__.printHeaders;return f.lineNumber!==void 0&&(f.lineNumber===h.lineNumber?(h.x=(f.x||0)+(f.width||0),h.y=f.y||0):f.y+f.height+h.height+v.bottom>this.getPageHeight()?(this.cellAddPage(),h.y=v.top,b&&E&&(this.printHeaderRow(h.lineNumber,!0),h.y+=E[0].height)):h.y=f.y+f.height||h.y),h.text[0]!==void 0&&(this.rect(h.x,h.y,h.width,h.height,t===!0?"FD":void 0),h.align==="right"?this.text(h.text,h.x+h.width-p,h.y+p,{align:"right",baseline:"top"}):h.align==="center"?this.text(h.text,h.x+h.width/2,h.y+p,{align:"center",baseline:"top",maxWidth:h.width-p-p}):this.text(h.text,h.x+p,h.y+p,{align:"left",baseline:"top",maxWidth:h.width-p-p})),this.internal.__cell__.lastCell=h,this};n.table=function(h,f,p,v,E){if(r.call(this),!p)throw new Error("No data for PDF table.");var b,R,P,M,k=[],K=[],$=[],ee={},ye={},ve=[],z=[],F=(E=E||{}).autoSize||!1,D=E.printHeaders!==!1,G=E.css&&E.css["font-size"]!==void 0?16*E.css["font-size"]:E.fontSize||12,I=E.margins||Object.assign({width:this.getPageWidth()},e),j=typeof E.padding=="number"?E.padding:3,N=E.headerBackgroundColor||"#c8c8c8",te=E.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=D,this.internal.__cell__.margins=I,this.internal.__cell__.table_font_size=G,this.internal.__cell__.padding=j,this.internal.__cell__.headerBackgroundColor=N,this.internal.__cell__.headerTextColor=te,this.setFontSize(G),v==null)K=k=Object.keys(p[0]),$=k.map(function(){return"left"});else if(Array.isArray(v)&&ur(v[0])==="object")for(k=v.map(function(Be){return Be.name}),K=v.map(function(Be){return Be.prompt||Be.name||""}),$=v.map(function(Be){return Be.align||"left"}),b=0;b<v.length;b+=1)ye[v[b].name]=.7499990551181103*v[b].width;else Array.isArray(v)&&typeof v[0]=="string"&&(K=k=v,$=k.map(function(){return"left"}));if(F||Array.isArray(v)&&typeof v[0]=="string")for(b=0;b<k.length;b+=1){for(ee[M=k[b]]=p.map(function(Be){return Be[M]}),this.setFont(void 0,"bold"),ve.push(this.getTextDimensions(K[b],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),R=ee[M],this.setFont(void 0,"normal"),P=0;P<R.length;P+=1)ve.push(this.getTextDimensions(R[P],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);ye[M]=Math.max.apply(null,ve)+j+j,ve=[]}if(D){var fe={};for(b=0;b<k.length;b+=1)fe[k[b]]={},fe[k[b]].text=K[b],fe[k[b]].align=$[b];var re=c.call(this,fe,ye);z=k.map(function(Be){return new a(h,f,ye[Be],re,fe[Be].text,void 0,fe[Be].align)}),this.setTableHeaderRow(z),this.printHeaderRow(1,!1)}var ue=v.reduce(function(Be,J){return Be[J.name]=J.align,Be},{});for(b=0;b<p.length;b+=1){"rowStart"in E&&E.rowStart instanceof Function&&E.rowStart({row:b,data:p[b]},this);var pe=c.call(this,p[b],ye);for(P=0;P<k.length;P+=1){var xe=p[b][k[P]];"cellStart"in E&&E.cellStart instanceof Function&&E.cellStart({row:b,col:P,data:xe},this),l.call(this,new a(h,f,ye[k[P]],pe,xe,b+2,ue[k[P]]))}}return this.internal.__cell__.table_x=h,this.internal.__cell__.table_y=f,this};var c=function(h,f){var p=this.internal.__cell__.padding,v=this.internal.__cell__.table_font_size,E=this.internal.scaleFactor;return Object.keys(h).map(function(b){var R=h[b];return this.splitTextToSize(R.hasOwnProperty("text")?R.text:R,f[b]-p-p)},this).map(function(b){return this.getLineHeightFactor()*b.length*v/E+p+p},this).reduce(function(b,R){return Math.max(b,R)},0)};n.setTableHeaderRow=function(h){r.call(this),this.internal.__cell__.tableHeaderRow=h},n.printHeaderRow=function(h,f){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var p;if(t=!0,typeof this.internal.__cell__.headerFunction=="function"){var v=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new a(v[0],v[1],v[2],v[3],void 0,-1)}this.setFont(void 0,"bold");for(var E=[],b=0;b<this.internal.__cell__.tableHeaderRow.length;b+=1){p=this.internal.__cell__.tableHeaderRow[b].clone(),f&&(p.y=this.internal.__cell__.margins.top||0,E.push(p)),p.lineNumber=h;var R=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),l.call(this,p),this.setTextColor(R)}E.length>0&&this.setTableHeaderRow(E),this.setFont(void 0,"normal"),t=!1}})(kt.API);var HI={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},GI=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],h_=qI(GI),$I=[100,200,300,400,500,600,700,800,900],fO=qI($I);function v2(n){var e=n.family.replace(/"|'/g,"").toLowerCase(),t=(function(a){return HI[a=a||"normal"]?a:"normal"})(n.style),r=(function(a){return a?typeof a=="number"?a>=100&&a<=900&&a%100==0?a:400:/^\d00$/.test(a)?parseInt(a):a==="bold"?700:400:400})(n.weight),i=(function(a){return typeof h_[a=a||"normal"]=="number"?a:"normal"})(n.stretch);return{family:e,style:t,weight:r,stretch:i,src:n.src||[],ref:n.ref||{name:e,style:[i,t,r].join(" ")}}}function GS(n,e,t,r){var i;for(i=t;i>=0&&i<e.length;i+=r)if(n[e[i]])return n[e[i]];for(i=t;i>=0&&i<e.length;i-=r)if(n[e[i]])return n[e[i]]}var dO={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},$S={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function WS(n){return[n.stretch,n.style,n.weight,n.family].join(" ")}function KS(n){return n.trimLeft()}function pO(n,e){for(var t=0;t<n.length;){if(n.charAt(t)===e)return[n.substring(0,t),n.substring(t+1)];t+=1}return null}function mO(n){var e=n.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],n.substring(e[0].length)]}var C1,YS,QS,Bf,R1,XS,JS,ZS,_2=["times"];function eT(n,e,t,r,i){var a=4,l=nT;switch(i){case kt.API.image_compression.FAST:a=1,l=tT;break;case kt.API.image_compression.MEDIUM:a=6,l=rT;break;case kt.API.image_compression.SLOW:a=9,l=iT}n=(function(h,f,p,v){for(var E,b=h.length/f,R=new Uint8Array(h.length+b),P=[gO,tT,nT,rT,iT],M=0;M<b;M+=1){var k=M*f,K=h.subarray(k,k+f);if(v)R.set(v(K,p,E),k+M);else{for(var $=P.length,ee=[],ye=0;ye<$;ye+=1)ee[ye]=P[ye](K,p,E);var ve=vO(ee.concat());R.set(ee[ve],k+M)}E=K}return R})(n,e,Math.ceil(t*r/8),l);var c=i_(n,{level:a});return kt.API.__addimage__.arrayBufferToBinaryString(c)}function gO(n){var e=Array.apply([],n);return e.unshift(0),e}function tT(n,e){var t=n.length,r=[];r[0]=1;for(var i=0;i<t;i+=1){var a=n[i-e]||0;r[i+1]=n[i]-a+256&255}return r}function nT(n,e,t){var r=n.length,i=[];i[0]=2;for(var a=0;a<r;a+=1){var l=t&&t[a]||0;i[a+1]=n[a]-l+256&255}return i}function rT(n,e,t){var r=n.length,i=[];i[0]=3;for(var a=0;a<r;a+=1){var l=n[a-e]||0,c=t&&t[a]||0;i[a+1]=n[a]+256-(l+c>>>1)&255}return i}function iT(n,e,t){var r=n.length,i=[];i[0]=4;for(var a=0;a<r;a+=1){var l=yO(n[a-e]||0,t&&t[a]||0,t&&t[a-e]||0);i[a+1]=n[a]-l+256&255}return i}function yO(n,e,t){if(n===e&&e===t)return n;var r=Math.abs(e-t),i=Math.abs(n-t),a=Math.abs(n+e-t-t);return r<=i&&r<=a?n:i<=a?e:t}function vO(n){var e=n.map(function(t){return t.reduce(function(r,i){return r+Math.abs(i)},0)});return e.indexOf(Math.min.apply(null,e))}function b2(n,e,t){var r=e*t,i=Math.floor(r/8),a=16-(r-8*i+t),l=(1<<t)-1;return WI(n,i)>>a&l}function sT(n,e,t,r){var i=t*r,a=Math.floor(i/8),l=16-(i-8*a+r),c=(1<<r)-1,h=(e&c)<<l;(function(f,p,v){if(p+1<f.byteLength)f.setUint16(p,v,!1);else{var E=v>>8&255;f.setUint8(p,E)}})(n,a,WI(n,a)&~(c<<l)&65535|h)}function WI(n,e){return e+1<n.byteLength?n.getUint16(e,!1):n.getUint8(e)<<8}function _O(n){var e=0;if(n[e++]!==71||n[e++]!==73||n[e++]!==70||n[e++]!==56||(n[e++]+1&253)!=56||n[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var t=n[e++]|n[e++]<<8,r=n[e++]|n[e++]<<8,i=n[e++],a=i>>7,l=1<<1+(7&i);n[e++],n[e++];var c=null,h=null;a&&(c=e,h=l,e+=3*l);var f=!0,p=[],v=0,E=null,b=0,R=null;for(this.width=t,this.height=r;f&&e<n.length;)switch(n[e++]){case 33:switch(n[e++]){case 255:if(n[e]!==11||n[e+1]==78&&n[e+2]==69&&n[e+3]==84&&n[e+4]==83&&n[e+5]==67&&n[e+6]==65&&n[e+7]==80&&n[e+8]==69&&n[e+9]==50&&n[e+10]==46&&n[e+11]==48&&n[e+12]==3&&n[e+13]==1&&n[e+16]==0)e+=14,R=n[e++]|n[e++]<<8,e++;else for(e+=12;;){if(!((I=n[e++])>=0))throw Error("Invalid block size");if(I===0)break;e+=I}break;case 249:if(n[e++]!==4||n[e+4]!==0)throw new Error("Invalid graphics extension block.");var P=n[e++];v=n[e++]|n[e++]<<8,E=n[e++],1&P||(E=null),b=P>>2&7,e++;break;case 254:for(;;){if(!((I=n[e++])>=0))throw Error("Invalid block size");if(I===0)break;e+=I}break;default:throw new Error("Unknown graphic control label: 0x"+n[e-1].toString(16))}break;case 44:var M=n[e++]|n[e++]<<8,k=n[e++]|n[e++]<<8,K=n[e++]|n[e++]<<8,$=n[e++]|n[e++]<<8,ee=n[e++],ye=ee>>6&1,ve=1<<1+(7&ee),z=c,F=h,D=!1;ee>>7&&(D=!0,z=e,F=ve,e+=3*ve);var G=e;for(e++;;){var I;if(!((I=n[e++])>=0))throw Error("Invalid block size");if(I===0)break;e+=I}p.push({x:M,y:k,width:K,height:$,has_local_palette:D,palette_offset:z,palette_size:F,data_offset:G,data_length:e-G,transparent_index:E,interlaced:!!ye,delay:v,disposal:b});break;case 59:f=!1;break;default:throw new Error("Unknown gif block: 0x"+n[e-1].toString(16))}this.numFrames=function(){return p.length},this.loopCount=function(){return R},this.frameInfo=function(j){if(j<0||j>=p.length)throw new Error("Frame index out of range.");return p[j]},this.decodeAndBlitFrameBGRA=function(j,N){var te=this.frameInfo(j),fe=te.width*te.height,re=new Uint8Array(fe);aT(n,te.data_offset,re,fe);var ue=te.palette_offset,pe=te.transparent_index;pe===null&&(pe=256);var xe=te.width,Be=t-xe,J=xe,O=4*(te.y*t+te.x),Y=4*((te.y+te.height)*t+te.x),ne=O,le=4*Be;te.interlaced===!0&&(le+=4*t*7);for(var he=8,we=0,Oe=re.length;we<Oe;++we){var Pe=re[we];if(J===0&&(J=xe,(ne+=le)>=Y&&(le=4*Be+4*t*(he-1),ne=O+(xe+Be)*(he<<1),he>>=1)),Pe===pe)ne+=4;else{var ze=n[ue+3*Pe],Ze=n[ue+3*Pe+1],ot=n[ue+3*Pe+2];N[ne++]=ot,N[ne++]=Ze,N[ne++]=ze,N[ne++]=255}--J}},this.decodeAndBlitFrameRGBA=function(j,N){var te=this.frameInfo(j),fe=te.width*te.height,re=new Uint8Array(fe);aT(n,te.data_offset,re,fe);var ue=te.palette_offset,pe=te.transparent_index;pe===null&&(pe=256);var xe=te.width,Be=t-xe,J=xe,O=4*(te.y*t+te.x),Y=4*((te.y+te.height)*t+te.x),ne=O,le=4*Be;te.interlaced===!0&&(le+=4*t*7);for(var he=8,we=0,Oe=re.length;we<Oe;++we){var Pe=re[we];if(J===0&&(J=xe,(ne+=le)>=Y&&(le=4*Be+4*t*(he-1),ne=O+(xe+Be)*(he<<1),he>>=1)),Pe===pe)ne+=4;else{var ze=n[ue+3*Pe],Ze=n[ue+3*Pe+1],ot=n[ue+3*Pe+2];N[ne++]=ze,N[ne++]=Ze,N[ne++]=ot,N[ne++]=255}--J}}}function aT(n,e,t,r){for(var i=n[e++],a=1<<i,l=a+1,c=l+1,h=i+1,f=(1<<h)-1,p=0,v=0,E=0,b=n[e++],R=new Int32Array(4096),P=null;;){for(;p<16&&b!==0;)v|=n[e++]<<p,p+=8,b===1?b=n[e++]:--b;if(p<h)break;var M=v&f;if(v>>=h,p-=h,M!==a){if(M===l)break;for(var k=M<c?M:P,K=0,$=k;$>a;)$=R[$]>>8,++K;var ee=$;if(E+K+(k!==M?1:0)>r)return void Ar.log("Warning, gif stream longer than expected.");t[E++]=ee;var ye=E+=K;for(k!==M&&(t[E++]=ee),$=k;K--;)$=R[$],t[--ye]=255&$,$>>=8;P!==null&&c<4096&&(R[c++]=P<<8|ee,c>=f+1&&h<12&&(++h,f=f<<1|1)),P=M}else c=l+1,f=(1<<(h=i+1))-1,P=null}return E!==r&&Ar.log("Warning, gif stream shorter than expected."),t}function w2(n){var e,t,r,i,a,l=Math.floor,c=new Array(64),h=new Array(64),f=new Array(64),p=new Array(64),v=new Array(65535),E=new Array(65535),b=new Array(64),R=new Array(64),P=[],M=0,k=7,K=new Array(64),$=new Array(64),ee=new Array(64),ye=new Array(256),ve=new Array(2048),z=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],F=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],D=[0,1,2,3,4,5,6,7,8,9,10,11],G=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],I=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],j=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],N=[0,1,2,3,4,5,6,7,8,9,10,11],te=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],fe=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function re(O,Y){for(var ne=0,le=0,he=new Array,we=1;we<=16;we++){for(var Oe=1;Oe<=O[we];Oe++)he[Y[le]]=[],he[Y[le]][0]=ne,he[Y[le]][1]=we,le++,ne++;ne*=2}return he}function ue(O){for(var Y=O[0],ne=O[1]-1;ne>=0;)Y&1<<ne&&(M|=1<<k),ne--,--k<0&&(M==255?(pe(255),pe(0)):pe(M),k=7,M=0)}function pe(O){P.push(O)}function xe(O){pe(O>>8&255),pe(255&O)}function Be(O,Y,ne,le,he){for(var we,Oe=he[0],Pe=he[240],ze=(function(Ae,pt){var dt,Vt,Pt,Jt,tn,Kt,fn,nn,wt,Qt,Et=0;for(wt=0;wt<8;++wt){dt=Ae[Et],Vt=Ae[Et+1],Pt=Ae[Et+2],Jt=Ae[Et+3],tn=Ae[Et+4],Kt=Ae[Et+5],fn=Ae[Et+6];var rr=dt+(nn=Ae[Et+7]),rn=dt-nn,Dt=Vt+fn,zt=Vt-fn,Zt=Pt+Kt,St=Pt-Kt,Ln=Jt+tn,Ft=Jt-tn,ge=rr+Ln,qe=rr-Ln,Ue=Dt+Zt,Ke=Dt-Zt;Ae[Et]=ge+Ue,Ae[Et+4]=ge-Ue;var ht=.707106781*(Ke+qe);Ae[Et+2]=qe+ht,Ae[Et+6]=qe-ht;var Ot=.382683433*((ge=Ft+St)-(Ke=zt+rn)),pn=.5411961*ge+Ot,Un=1.306562965*Ke+Ot,On=.707106781*(Ue=St+zt),mt=rn+On,fi=rn-On;Ae[Et+5]=fi+pn,Ae[Et+3]=fi-pn,Ae[Et+1]=mt+Un,Ae[Et+7]=mt-Un,Et+=8}for(Et=0,wt=0;wt<8;++wt){dt=Ae[Et],Vt=Ae[Et+8],Pt=Ae[Et+16],Jt=Ae[Et+24],tn=Ae[Et+32],Kt=Ae[Et+40],fn=Ae[Et+48];var bn=dt+(nn=Ae[Et+56]),Qn=dt-nn,xr=Vt+fn,Bn=Vt-fn,er=Pt+Kt,Zr=Pt-Kt,ki=Jt+tn,Ai=Jt-tn,Hn=bn+ki,ir=bn-ki,ei=xr+er,Ki=xr-er;Ae[Et]=Hn+ei,Ae[Et+32]=Hn-ei;var xs=.707106781*(Ki+ir);Ae[Et+16]=ir+xs,Ae[Et+48]=ir-xs;var Xa=.382683433*((Hn=Ai+Zr)-(Ki=Bn+Qn)),Hs=.5411961*Hn+Xa,Yi=1.306562965*Ki+Xa,Pa=.707106781*(ei=Zr+Bn),us=Qn+Pa,Di=Qn-Pa;Ae[Et+40]=Di+Hs,Ae[Et+24]=Di-Hs,Ae[Et+8]=us+Yi,Ae[Et+56]=us-Yi,Et++}for(wt=0;wt<64;++wt)Qt=Ae[wt]*pt[wt],b[wt]=Qt>0?Qt+.5|0:Qt-.5|0;return b})(O,Y),Ze=0;Ze<64;++Ze)R[z[Ze]]=ze[Ze];var ot=R[0]-ne;ne=R[0],ot==0?ue(le[0]):(ue(le[E[we=32767+ot]]),ue(v[we]));for(var ct=63;ct>0&&R[ct]==0;)ct--;if(ct==0)return ue(Oe),ne;for(var _t,ie=1;ie<=ct;){for(var at=ie;R[ie]==0&&ie<=ct;)++ie;var Xt=ie-at;if(Xt>=16){_t=Xt>>4;for(var Rt=1;Rt<=_t;++Rt)ue(Pe);Xt&=15}we=32767+R[ie],ue(he[(Xt<<4)+E[we]]),ue(v[we]),ie++}return ct!=63&&ue(Oe),ne}function J(O){O=Math.min(Math.max(O,1),100),a!=O&&((function(Y){for(var ne=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],le=0;le<64;le++){var he=l((ne[le]*Y+50)/100);he=Math.min(Math.max(he,1),255),c[z[le]]=he}for(var we=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Oe=0;Oe<64;Oe++){var Pe=l((we[Oe]*Y+50)/100);Pe=Math.min(Math.max(Pe,1),255),h[z[Oe]]=Pe}for(var ze=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Ze=0,ot=0;ot<8;ot++)for(var ct=0;ct<8;ct++)f[Ze]=1/(c[z[Ze]]*ze[ot]*ze[ct]*8),p[Ze]=1/(h[z[Ze]]*ze[ot]*ze[ct]*8),Ze++})(O<50?Math.floor(5e3/O):Math.floor(200-2*O)),a=O)}this.encode=function(O,Y){Y&&J(Y),P=new Array,M=0,k=7,xe(65496),xe(65504),xe(16),pe(74),pe(70),pe(73),pe(70),pe(0),pe(1),pe(1),pe(0),xe(1),xe(1),pe(0),pe(0),(function(){xe(65499),xe(132),pe(0);for(var Vt=0;Vt<64;Vt++)pe(c[Vt]);pe(1);for(var Pt=0;Pt<64;Pt++)pe(h[Pt])})(),(function(Vt,Pt){xe(65472),xe(17),pe(8),xe(Pt),xe(Vt),pe(3),pe(1),pe(17),pe(0),pe(2),pe(17),pe(1),pe(3),pe(17),pe(1)})(O.width,O.height),(function(){xe(65476),xe(418),pe(0);for(var Vt=0;Vt<16;Vt++)pe(F[Vt+1]);for(var Pt=0;Pt<=11;Pt++)pe(D[Pt]);pe(16);for(var Jt=0;Jt<16;Jt++)pe(G[Jt+1]);for(var tn=0;tn<=161;tn++)pe(I[tn]);pe(1);for(var Kt=0;Kt<16;Kt++)pe(j[Kt+1]);for(var fn=0;fn<=11;fn++)pe(N[fn]);pe(17);for(var nn=0;nn<16;nn++)pe(te[nn+1]);for(var wt=0;wt<=161;wt++)pe(fe[wt])})(),xe(65498),xe(12),pe(3),pe(1),pe(0),pe(2),pe(17),pe(3),pe(17),pe(0),pe(63),pe(0);var ne=0,le=0,he=0;M=0,k=7,this.encode.displayName="_encode_";for(var we,Oe,Pe,ze,Ze,ot,ct,_t,ie,at=O.data,Xt=O.width,Rt=O.height,Ae=4*Xt,pt=0;pt<Rt;){for(we=0;we<Ae;){for(Ze=Ae*pt+we,ct=-1,_t=0,ie=0;ie<64;ie++)ot=Ze+(_t=ie>>3)*Ae+(ct=4*(7&ie)),pt+_t>=Rt&&(ot-=Ae*(pt+1+_t-Rt)),we+ct>=Ae&&(ot-=we+ct-Ae+4),Oe=at[ot++],Pe=at[ot++],ze=at[ot++],K[ie]=(ve[Oe]+ve[Pe+256|0]+ve[ze+512|0]>>16)-128,$[ie]=(ve[Oe+768|0]+ve[Pe+1024|0]+ve[ze+1280|0]>>16)-128,ee[ie]=(ve[Oe+1280|0]+ve[Pe+1536|0]+ve[ze+1792|0]>>16)-128;ne=Be(K,f,ne,e,r),le=Be($,p,le,t,i),he=Be(ee,p,he,t,i),we+=32}pt+=8}if(k>=0){var dt=[];dt[1]=k+1,dt[0]=(1<<k+1)-1,ue(dt)}return xe(65497),new Uint8Array(P)},n=n||50,(function(){for(var O=String.fromCharCode,Y=0;Y<256;Y++)ye[Y]=O(Y)})(),e=re(F,D),t=re(j,N),r=re(G,I),i=re(te,fe),(function(){for(var O=1,Y=2,ne=1;ne<=15;ne++){for(var le=O;le<Y;le++)E[32767+le]=ne,v[32767+le]=[],v[32767+le][1]=ne,v[32767+le][0]=le;for(var he=-(Y-1);he<=-O;he++)E[32767+he]=ne,v[32767+he]=[],v[32767+he][1]=ne,v[32767+he][0]=Y-1+he;O<<=1,Y<<=1}})(),(function(){for(var O=0;O<256;O++)ve[O]=19595*O,ve[O+256|0]=38470*O,ve[O+512|0]=7471*O+32768,ve[O+768|0]=-11059*O,ve[O+1024|0]=-21709*O,ve[O+1280|0]=32768*O+8421375,ve[O+1536|0]=-27439*O,ve[O+1792|0]=-5329*O})(),J(n)}function Ho(n,e){if(this.pos=0,this.buffer=n,this.datav=new DataView(n.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function oT(n){function e(D){if(!D)throw Error("assert :P")}function t(D,G,I){for(var j=0;4>j;j++)if(D[G+j]!=I.charCodeAt(j))return!0;return!1}function r(D,G,I,j,N){for(var te=0;te<N;te++)D[G+te]=I[j+te]}function i(D,G,I,j){for(var N=0;N<j;N++)D[G+N]=I}function a(D){return new Int32Array(D)}function l(D,G){for(var I=[],j=0;j<D;j++)I.push(new G);return I}function c(D,G){var I=[];return(function j(N,te,fe){for(var re=fe[te],ue=0;ue<re&&(N.push(fe.length>te+1?[]:new G),!(fe.length<te+1));ue++)j(N[ue],te+1,fe)})(I,0,D),I}var h=function(){var D=this;function G(m,_){for(var S=1<<_-1>>>0;m&S;)S>>>=1;return S?(m&S-1)+S:m}function I(m,_,S,x,B){e(!(x%S));do m[_+(x-=S)]=B;while(0<x)}function j(m,_,S,x,B){if(e(2328>=B),512>=B)var q=a(512);else if((q=a(B))==null)return 0;return(function(H,Q,Z,oe,_e,Le){var se,Ee,Ne=Q,Ge=1<<Z,Ce=a(16),He=a(16);for(e(_e!=0),e(oe!=null),e(H!=null),e(0<Z),Ee=0;Ee<_e;++Ee){if(15<oe[Ee])return 0;++Ce[oe[Ee]]}if(Ce[0]==_e)return 0;for(He[1]=0,se=1;15>se;++se){if(Ce[se]>1<<se)return 0;He[se+1]=He[se]+Ce[se]}for(Ee=0;Ee<_e;++Ee)se=oe[Ee],0<oe[Ee]&&(Le[He[se]++]=Ee);if(He[15]==1)return(oe=new N).g=0,oe.value=Le[0],I(H,Ne,1,Ge,oe),Ge;var Ye,rt=-1,Je=Ge-1,It=0,yt=1,sn=1,At=1<<Z;for(Ee=0,se=1,_e=2;se<=Z;++se,_e<<=1){if(yt+=sn<<=1,0>(sn-=Ce[se]))return 0;for(;0<Ce[se];--Ce[se])(oe=new N).g=se,oe.value=Le[Ee++],I(H,Ne+It,_e,At,oe),It=G(It,se)}for(se=Z+1,_e=2;15>=se;++se,_e<<=1){if(yt+=sn<<=1,0>(sn-=Ce[se]))return 0;for(;0<Ce[se];--Ce[se]){if(oe=new N,(It&Je)!=rt){for(Ne+=At,Ye=1<<(rt=se)-Z;15>rt&&!(0>=(Ye-=Ce[rt]));)++rt,Ye<<=1;Ge+=At=1<<(Ye=rt-Z),H[Q+(rt=It&Je)].g=Ye+Z,H[Q+rt].value=Ne-Q-rt}oe.g=se-Z,oe.value=Le[Ee++],I(H,Ne+(It>>Z),_e,At,oe),It=G(It,se)}}return yt!=2*He[15]-1?0:Ge})(m,_,S,x,B,q)}function N(){this.value=this.g=0}function te(){this.value=this.g=0}function fe(){this.G=l(5,N),this.H=a(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=l(ul,te)}function re(m,_,S,x){e(m!=null),e(_!=null),e(2147483648>x),m.Ca=254,m.I=0,m.b=-8,m.Ka=0,m.oa=_,m.pa=S,m.Jd=_,m.Yc=S+x,m.Zc=4<=x?S+x-4+1:S,Oe(m)}function ue(m,_){for(var S=0;0<_--;)S|=ze(m,128)<<_;return S}function pe(m,_){var S=ue(m,_);return Pe(m)?-S:S}function xe(m,_,S,x){var B,q=0;for(e(m!=null),e(_!=null),e(4294967288>x),m.Sb=x,m.Ra=0,m.u=0,m.h=0,4<x&&(x=4),B=0;B<x;++B)q+=_[S+B]<<8*B;m.Ra=q,m.bb=x,m.oa=_,m.pa=S}function Be(m){for(;8<=m.u&&m.bb<m.Sb;)m.Ra>>>=8,m.Ra+=m.oa[m.pa+m.bb]<<so-8>>>0,++m.bb,m.u-=8;le(m)&&(m.h=1,m.u=0)}function J(m,_){if(e(0<=_),!m.h&&_<=ys){var S=ne(m)&Ps[_];return m.u+=_,Be(m),S}return m.h=1,m.u=0}function O(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function Y(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function ne(m){return m.Ra>>>(m.u&so-1)>>>0}function le(m){return e(m.bb<=m.Sb),m.h||m.bb==m.Sb&&m.u>so}function he(m,_){m.u=_,m.h=le(m)}function we(m){m.u>=ao&&(e(m.u>=ao),Be(m))}function Oe(m){e(m!=null&&m.oa!=null),m.pa<m.Zc?(m.I=(m.oa[m.pa++]|m.I<<8)>>>0,m.b+=8):(e(m!=null&&m.oa!=null),m.pa<m.Yc?(m.b+=8,m.I=m.oa[m.pa++]|m.I<<8):m.Ka?m.b=0:(m.I<<=8,m.b+=8,m.Ka=1))}function Pe(m){return ue(m,1)}function ze(m,_){var S=m.Ca;0>m.b&&Oe(m);var x=m.b,B=S*_>>>8,q=(m.I>>>x>B)+0;for(q?(S-=B,m.I-=B+1<<x>>>0):S=B+1,x=S,B=0;256<=x;)B+=8,x>>=8;return x=7^B+Po[x],m.b-=x,m.Ca=(S<<x)-1,q}function Ze(m,_,S){m[_+0]=S>>24&255,m[_+1]=S>>16&255,m[_+2]=S>>8&255,m[_+3]=255&S}function ot(m,_){return m[_+0]|m[_+1]<<8}function ct(m,_){return ot(m,_)|m[_+2]<<16}function _t(m,_){return ot(m,_)|ot(m,_+2)<<16}function ie(m,_){var S=1<<_;return e(m!=null),e(0<_),m.X=a(S),m.X==null?0:(m.Mb=32-_,m.Xa=_,1)}function at(m,_){e(m!=null),e(_!=null),e(m.Xa==_.Xa),r(_.X,0,m.X,0,1<<_.Xa)}function Xt(){this.X=[],this.Xa=this.Mb=0}function Rt(m,_,S,x){e(S!=null),e(x!=null);var B=S[0],q=x[0];return B==0&&(B=(m*q+_/2)/_),q==0&&(q=(_*B+m/2)/m),0>=B||0>=q?0:(S[0]=B,x[0]=q,1)}function Ae(m,_){return m+(1<<_)-1>>>_}function pt(m,_){return((4278255360&m)+(4278255360&_)>>>0&4278255360)+((16711935&m)+(16711935&_)>>>0&16711935)>>>0}function dt(m,_){D[_]=function(S,x,B,q,H,Q,Z){var oe;for(oe=0;oe<H;++oe){var _e=D[m](Q[Z+oe-1],B,q+oe);Q[Z+oe]=pt(S[x+oe],_e)}}}function Vt(){this.ud=this.hd=this.jd=0}function Pt(m,_){return((4278124286&(m^_))>>>1)+(m&_)>>>0}function Jt(m){return 0<=m&&256>m?m:0>m?0:255<m?255:void 0}function tn(m,_){return Jt(m+(m-_+.5>>1))}function Kt(m,_,S){return Math.abs(_-S)-Math.abs(m-S)}function fn(m,_,S,x,B,q,H){for(x=q[H-1],S=0;S<B;++S)q[H+S]=x=pt(m[_+S],x)}function nn(m,_,S,x,B){var q;for(q=0;q<S;++q){var H=m[_+q],Q=H>>8&255,Z=16711935&(Z=(Z=16711935&H)+((Q<<16)+Q));x[B+q]=(4278255360&H)+Z>>>0}}function wt(m,_){_.jd=255&m,_.hd=m>>8&255,_.ud=m>>16&255}function Qt(m,_,S,x,B,q){var H;for(H=0;H<x;++H){var Q=_[S+H],Z=Q>>>8,oe=Q,_e=255&(_e=(_e=Q>>>16)+((m.jd<<24>>24)*(Z<<24>>24)>>>5));oe=255&(oe=(oe+=(m.hd<<24>>24)*(Z<<24>>24)>>>5)+((m.ud<<24>>24)*(_e<<24>>24)>>>5)),B[q+H]=(4278255360&Q)+(_e<<16)+oe}}function Et(m,_,S,x,B){D[_]=function(q,H,Q,Z,oe,_e,Le,se,Ee){for(Z=Le;Z<se;++Z)for(Le=0;Le<Ee;++Le)oe[_e++]=B(Q[x(q[H++])])},D[m]=function(q,H,Q,Z,oe,_e,Le){var se=8>>q.b,Ee=q.Ea,Ne=q.K[0],Ge=q.w;if(8>se)for(q=(1<<q.b)-1,Ge=(1<<se)-1;H<Q;++H){var Ce,He=0;for(Ce=0;Ce<Ee;++Ce)Ce&q||(He=x(Z[oe++])),_e[Le++]=B(Ne[He&Ge]),He>>=se}else D["VP8LMapColor"+S](Z,oe,Ne,Ge,_e,Le,H,Q,Ee)}}function rr(m,_,S,x,B){for(S=_+S;_<S;){var q=m[_++];x[B++]=q>>16&255,x[B++]=q>>8&255,x[B++]=255&q}}function rn(m,_,S,x,B){for(S=_+S;_<S;){var q=m[_++];x[B++]=q>>16&255,x[B++]=q>>8&255,x[B++]=255&q,x[B++]=q>>24&255}}function Dt(m,_,S,x,B){for(S=_+S;_<S;){var q=(H=m[_++])>>16&240|H>>12&15,H=240&H|H>>28&15;x[B++]=q,x[B++]=H}}function zt(m,_,S,x,B){for(S=_+S;_<S;){var q=(H=m[_++])>>16&248|H>>13&7,H=H>>5&224|H>>3&31;x[B++]=q,x[B++]=H}}function Zt(m,_,S,x,B){for(S=_+S;_<S;){var q=m[_++];x[B++]=255&q,x[B++]=q>>8&255,x[B++]=q>>16&255}}function St(m,_,S,x,B,q){if(q==0)for(S=_+S;_<S;)Ze(x,((q=m[_++])[0]>>24|q[1]>>8&65280|q[2]<<8&16711680|q[3]<<24)>>>0),B+=32;else r(x,B,m,_,S)}function Ln(m,_){D[_][0]=D[m+"0"],D[_][1]=D[m+"1"],D[_][2]=D[m+"2"],D[_][3]=D[m+"3"],D[_][4]=D[m+"4"],D[_][5]=D[m+"5"],D[_][6]=D[m+"6"],D[_][7]=D[m+"7"],D[_][8]=D[m+"8"],D[_][9]=D[m+"9"],D[_][10]=D[m+"10"],D[_][11]=D[m+"11"],D[_][12]=D[m+"12"],D[_][13]=D[m+"13"],D[_][14]=D[m+"0"],D[_][15]=D[m+"0"]}function Ft(m){return m==sh||m==cf||m==Hu||m==hf}function ge(){this.eb=[],this.size=this.A=this.fb=0}function qe(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Ue(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new ge,this.f.kb=new qe,this.sd=null}function Ke(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function ht(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Ot(m){return alert("todo:WebPSamplerProcessPlane"),m.T}function pn(m,_){var S=m.T,x=_.ba.f.RGBA,B=x.eb,q=x.fb+m.ka*x.A,H=Bi[_.ba.S],Q=m.y,Z=m.O,oe=m.f,_e=m.N,Le=m.ea,se=m.W,Ee=_.cc,Ne=_.dc,Ge=_.Mc,Ce=_.Nc,He=m.ka,Ye=m.ka+m.T,rt=m.U,Je=rt+1>>1;for(He==0?H(Q,Z,null,null,oe,_e,Le,se,oe,_e,Le,se,B,q,null,null,rt):(H(_.ec,_.fc,Q,Z,Ee,Ne,Ge,Ce,oe,_e,Le,se,B,q-x.A,B,q,rt),++S);He+2<Ye;He+=2)Ee=oe,Ne=_e,Ge=Le,Ce=se,_e+=m.Rc,se+=m.Rc,q+=2*x.A,H(Q,(Z+=2*m.fa)-m.fa,Q,Z,Ee,Ne,Ge,Ce,oe,_e,Le,se,B,q-x.A,B,q,rt);return Z+=m.fa,m.j+Ye<m.o?(r(_.ec,_.fc,Q,Z,rt),r(_.cc,_.dc,oe,_e,Je),r(_.Mc,_.Nc,Le,se,Je),S--):1&Ye||H(Q,Z,null,null,oe,_e,Le,se,oe,_e,Le,se,B,q+x.A,null,null,rt),S}function Un(m,_,S){var x=m.F,B=[m.J];if(x!=null){var q=m.U,H=_.ba.S,Q=H==ih||H==Hu;_=_.ba.f.RGBA;var Z=[0],oe=m.ka;Z[0]=m.T,m.Kb&&(oe==0?--Z[0]:(--oe,B[0]-=m.width),m.j+m.ka+m.T==m.o&&(Z[0]=m.o-m.j-oe));var _e=_.eb;oe=_.fb+oe*_.A,m=eh(x,B[0],m.width,q,Z,_e,oe+(Q?0:3),_.A),e(S==Z),m&&Ft(H)&&Jl(_e,oe,Q,q,Z,_.A)}return 0}function On(m){var _=m.ma,S=_.ba.S,x=11>S,B=S==ts||S==da||S==ih||S==qu||S==12||Ft(S);if(_.memory=null,_.Ib=null,_.Jb=null,_.Nd=null,!Ro(_.Oa,m,B?11:12))return 0;if(B&&Ft(S)&&en(),m.da)alert("todo:use_scaling");else{if(x){if(_.Ib=Ot,m.Kb){if(S=m.U+1>>1,_.memory=a(m.U+2*S),_.memory==null)return 0;_.ec=_.memory,_.fc=0,_.cc=_.ec,_.dc=_.fc+m.U,_.Mc=_.cc,_.Nc=_.dc+S,_.Ib=pn,en()}}else alert("todo:EmitYUV");B&&(_.Jb=Un,x&&Me())}if(x&&!gl){for(m=0;256>m;++m)zi[m]=89858*(m-128)+Wu>>_a,O0[m]=-22014*(m-128)+Wu,kg[m]=-45773*(m-128),gf[m]=113618*(m-128)+Wu>>_a;for(m=nu;m<ml;++m)_=76283*(m-16)+Wu>>_a,M0[m-nu]=hs(_,255),V0[m-nu]=hs(_+8>>4,15);gl=1}return 1}function mt(m){var _=m.ma,S=m.U,x=m.T;return e(!(1&m.ka)),0>=S||0>=x?0:(S=_.Ib(m,_),_.Jb!=null&&_.Jb(m,_,S),_.Dc+=S,1)}function fi(m){m.ma.memory=null}function bn(m,_,S,x){return J(m,8)!=47?0:(_[0]=J(m,14)+1,S[0]=J(m,14)+1,x[0]=J(m,1),J(m,3)!=0?0:!m.h)}function Qn(m,_){if(4>m)return m+1;var S=m-2>>1;return(2+(1&m)<<S)+J(_,S)+1}function xr(m,_){return 120<_?_-120:1<=(S=((S=ma[_-1])>>4)*m+(8-(15&S)))?S:1;var S}function Bn(m,_,S){var x=ne(S),B=m[_+=255&x].g-8;return 0<B&&(he(S,S.u+8),x=ne(S),_+=m[_].value,_+=x&(1<<B)-1),he(S,S.u+m[_].g),m[_].value}function er(m,_,S){return S.g+=m.g,S.value+=m.value<<_>>>0,e(8>=S.g),m.g}function Zr(m,_,S){var x=m.xc;return e((_=x==0?0:m.vc[m.md*(S>>x)+(_>>x)])<m.Wb),m.Ya[_]}function ki(m,_,S,x){var B=m.ab,q=m.c*_,H=m.C;_=H+_;var Q=S,Z=x;for(x=m.Ta,S=m.Ua;0<B--;){var oe=m.gc[B],_e=H,Le=_,se=Q,Ee=Z,Ne=(Z=x,Q=S,oe.Ea);switch(e(_e<Le),e(Le<=oe.nc),oe.hc){case 2:Wr(se,Ee,(Le-_e)*Ne,Z,Q);break;case 0:var Ge=_e,Ce=Le,He=Z,Ye=Q,rt=(At=oe).Ea;Ge==0&&(Fu(se,Ee,null,null,1,He,Ye),fn(se,Ee+1,0,0,rt-1,He,Ye+1),Ee+=rt,Ye+=rt,++Ge);for(var Je=1<<At.b,It=Je-1,yt=Ae(rt,At.b),sn=At.K,At=At.w+(Ge>>At.b)*yt;Ge<Ce;){var En=sn,wr=At,un=1;for(Uu(se,Ee,He,Ye-rt,1,He,Ye);un<rt;){var vt=(un&~It)+Je;vt>rt&&(vt=rt),(0,Lo[En[wr++]>>8&15])(se,Ee+ +un,He,Ye+un-rt,vt-un,He,Ye+un),un=vt}Ee+=rt,Ye+=rt,++Ge&It||(At+=yt)}Le!=oe.nc&&r(Z,Q-Ne,Z,Q+(Le-_e-1)*Ne,Ne);break;case 1:for(Ne=se,Ce=Ee,rt=(se=oe.Ea)-(Ye=se&~(He=(Ee=1<<oe.b)-1)),Ge=Ae(se,oe.b),Je=oe.K,oe=oe.w+(_e>>oe.b)*Ge;_e<Le;){for(It=Je,yt=oe,sn=new Vt,At=Ce+Ye,En=Ce+se;Ce<At;)wt(It[yt++],sn),Bu(sn,Ne,Ce,Ee,Z,Q),Ce+=Ee,Q+=Ee;Ce<En&&(wt(It[yt++],sn),Bu(sn,Ne,Ce,rt,Z,Q),Ce+=rt,Q+=rt),++_e&He||(oe+=Ge)}break;case 3:if(se==Z&&Ee==Q&&0<oe.b){for(Ce=Z,se=Ne=Q+(Le-_e)*Ne-(Ye=(Le-_e)*Ae(oe.Ea,oe.b)),Ee=Z,He=Q,Ge=[],Ye=(rt=Ye)-1;0<=Ye;--Ye)Ge[Ye]=Ee[He+Ye];for(Ye=rt-1;0<=Ye;--Ye)Ce[se+Ye]=Ge[Ye];sf(oe,_e,Le,Z,Ne,Z,Q)}else sf(oe,_e,Le,se,Ee,Z,Q)}Q=x,Z=S}Z!=S&&r(x,S,Q,Z,q)}function Ai(m,_){var S=m.V,x=m.Ba+m.c*m.C,B=_-m.C;if(e(_<=m.l.o),e(16>=B),0<B){var q=m.l,H=m.Ta,Q=m.Ua,Z=q.width;if(ki(m,B,S,x),B=Q=[Q],e((S=m.C)<(x=_)),e(q.v<q.va),x>q.o&&(x=q.o),S<q.j){var oe=q.j-S;S=q.j,B[0]+=oe*Z}if(S>=x?S=0:(B[0]+=4*q.v,q.ka=S-q.j,q.U=q.va-q.v,q.T=x-S,S=1),S){if(Q=Q[0],11>(S=m.ca).S){var _e=S.f.RGBA,Le=(x=S.S,B=q.U,q=q.T,oe=_e.eb,_e.A),se=q;for(_e=_e.fb+m.Ma*_e.A;0<se--;){var Ee=H,Ne=Q,Ge=B,Ce=oe,He=_e;switch(x){case lf:zu(Ee,Ne,Ge,Ce,He);break;case ts:ko(Ee,Ne,Ge,Ce,He);break;case sh:ko(Ee,Ne,Ge,Ce,He),Jl(Ce,He,0,Ge,1,0);break;case uf:Ql(Ee,Ne,Ge,Ce,He);break;case da:St(Ee,Ne,Ge,Ce,He,1);break;case cf:St(Ee,Ne,Ge,Ce,He,1),Jl(Ce,He,0,Ge,1,0);break;case ih:St(Ee,Ne,Ge,Ce,He,0);break;case Hu:St(Ee,Ne,Ge,Ce,He,0),Jl(Ce,He,1,Ge,1,0);break;case qu:Do(Ee,Ne,Ge,Ce,He);break;case hf:Do(Ee,Ne,Ge,Ce,He),fa(Ce,He,Ge,1,0);break;case cl:uo(Ee,Ne,Ge,Ce,He);break;default:e(0)}Q+=Z,_e+=Le}m.Ma+=q}else alert("todo:EmitRescaledRowsYUVA");e(m.Ma<=S.height)}}m.C=_,e(m.C<=m.i)}function Hn(m){var _;if(0<m.ua)return 0;for(_=0;_<m.Wb;++_){var S=m.Ya[_].G,x=m.Ya[_].H;if(0<S[1][x[1]+0].g||0<S[2][x[2]+0].g||0<S[3][x[3]+0].g)return 0}return 1}function ir(m,_,S,x,B,q){if(m.Z!=0){var H=m.qd,Q=m.rd;for(e(Vo[m.Z]!=null);_<S;++_)Vo[m.Z](H,Q,x,B,x,B,q),H=x,Q=B,B+=q;m.qd=H,m.rd=Q}}function ei(m,_){var S=m.l.ma,x=S.Z==0||S.Z==1?m.l.j:m.C;if(x=m.C<x?x:m.C,e(_<=m.l.o),_>x){var B=m.l.width,q=S.ca,H=S.tb+B*x,Q=m.V,Z=m.Ba+m.c*x,oe=m.gc;e(m.ab==1),e(oe[0].hc==3),lo(oe[0],x,_,Q,Z,q,H),ir(S,x,_,q,H,B)}m.C=m.Ma=_}function Ki(m,_,S,x,B,q,H){var Q=m.$/x,Z=m.$%x,oe=m.m,_e=m.s,Le=S+m.$,se=Le;B=S+x*B;var Ee=S+x*q,Ne=280+_e.ua,Ge=m.Pb?Q:16777216,Ce=0<_e.ua?_e.Wa:null,He=_e.wc,Ye=Le<Ee?Zr(_e,Z,Q):null;e(m.C<q),e(Ee<=B);var rt=!1;e:for(;;){for(;rt||Le<Ee;){var Je=0;if(Q>=Ge){var It=Le-S;e((Ge=m).Pb),Ge.wd=Ge.m,Ge.xd=It,0<Ge.s.ua&&at(Ge.s.Wa,Ge.s.vb),Ge=Q+hl}if(Z&He||(Ye=Zr(_e,Z,Q)),e(Ye!=null),Ye.Qb&&(_[Le]=Ye.qb,rt=!0),!rt)if(we(oe),Ye.jc){Je=oe,It=_;var yt=Le,sn=Ye.pd[ne(Je)&ul-1];e(Ye.jc),256>sn.g?(he(Je,Je.u+sn.g),It[yt]=sn.value,Je=0):(he(Je,Je.u+sn.g-256),e(256<=sn.value),Je=sn.value),Je==0&&(rt=!0)}else Je=Bn(Ye.G[0],Ye.H[0],oe);if(oe.h)break;if(rt||256>Je){if(!rt)if(Ye.nd)_[Le]=(Ye.qb|Je<<8)>>>0;else{if(we(oe),rt=Bn(Ye.G[1],Ye.H[1],oe),we(oe),It=Bn(Ye.G[2],Ye.H[2],oe),yt=Bn(Ye.G[3],Ye.H[3],oe),oe.h)break;_[Le]=(yt<<24|rt<<16|Je<<8|It)>>>0}if(rt=!1,++Le,++Z>=x&&(Z=0,++Q,H!=null&&Q<=q&&!(Q%16)&&H(m,Q),Ce!=null))for(;se<Le;)Je=_[se++],Ce.X[(506832829*Je&4294967295)>>>Ce.Mb]=Je}else if(280>Je){if(Je=Qn(Je-256,oe),It=Bn(Ye.G[4],Ye.H[4],oe),we(oe),It=xr(x,It=Qn(It,oe)),oe.h)break;if(Le-S<It||B-Le<Je)break e;for(yt=0;yt<Je;++yt)_[Le+yt]=_[Le+yt-It];for(Le+=Je,Z+=Je;Z>=x;)Z-=x,++Q,H!=null&&Q<=q&&!(Q%16)&&H(m,Q);if(e(Le<=B),Z&He&&(Ye=Zr(_e,Z,Q)),Ce!=null)for(;se<Le;)Je=_[se++],Ce.X[(506832829*Je&4294967295)>>>Ce.Mb]=Je}else{if(!(Je<Ne))break e;for(rt=Je-280,e(Ce!=null);se<Le;)Je=_[se++],Ce.X[(506832829*Je&4294967295)>>>Ce.Mb]=Je;Je=Le,e(!(rt>>>(It=Ce).Xa)),_[Je]=It.X[rt],rt=!0}rt||e(oe.h==le(oe))}if(m.Pb&&oe.h&&Le<B)e(m.m.h),m.a=5,m.m=m.wd,m.$=m.xd,0<m.s.ua&&at(m.s.vb,m.s.Wa);else{if(oe.h)break e;H?.(m,Q>q?q:Q),m.a=0,m.$=Le-S}return 1}return m.a=3,0}function xs(m){e(m!=null),m.vc=null,m.yc=null,m.Ya=null;var _=m.Wa;_!=null&&(_.X=null),m.vb=null,e(m!=null)}function Xa(){var m=new qt;return m==null?null:(m.a=0,m.xb=op,Ln("Predictor","VP8LPredictors"),Ln("Predictor","VP8LPredictors_C"),Ln("PredictorAdd","VP8LPredictorsAdd"),Ln("PredictorAdd","VP8LPredictorsAdd_C"),Wr=nn,Bu=Qt,zu=rr,ko=rn,Do=Dt,uo=zt,Ql=Zt,D.VP8LMapColor32b=oo,D.VP8LMapColor8b=ji,m)}function Hs(m,_,S,x,B){var q=1,H=[m],Q=[_],Z=x.m,oe=x.s,_e=null,Le=0;e:for(;;){if(S)for(;q&&J(Z,1);){var se=H,Ee=Q,Ne=x,Ge=1,Ce=Ne.m,He=Ne.gc[Ne.ab],Ye=J(Ce,2);if(Ne.Oc&1<<Ye)q=0;else{switch(Ne.Oc|=1<<Ye,He.hc=Ye,He.Ea=se[0],He.nc=Ee[0],He.K=[null],++Ne.ab,e(4>=Ne.ab),Ye){case 0:case 1:He.b=J(Ce,3)+2,Ge=Hs(Ae(He.Ea,He.b),Ae(He.nc,He.b),0,Ne,He.K),He.K=He.K[0];break;case 3:var rt,Je=J(Ce,8)+1,It=16<Je?0:4<Je?1:2<Je?2:3;if(se[0]=Ae(He.Ea,It),He.b=It,rt=Ge=Hs(Je,1,0,Ne,He.K)){var yt,sn=Je,At=He,En=1<<(8>>At.b),wr=a(En);if(wr==null)rt=0;else{var un=At.K[0],vt=At.w;for(wr[0]=At.K[0][0],yt=1;yt<1*sn;++yt)wr[yt]=pt(un[vt+yt],wr[yt-1]);for(;yt<4*En;++yt)wr[yt]=0;At.K[0]=null,At.K[0]=wr,rt=1}}Ge=rt;break;case 2:break;default:e(0)}q=Ge}}if(H=H[0],Q=Q[0],q&&J(Z,1)&&!(q=1<=(Le=J(Z,4))&&11>=Le)){x.a=3;break e}var lt;if(lt=q)t:{var Nr,$t,dn,Xn=x,mi=H,qi=Q,mr=Le,ni=S,ns=Xn.m,ri=Xn.s,vn=[null],Mn=1,Cr=0,qn=ga[mr];n:for(;;){if(ni&&J(ns,1)){var gi=J(ns,3)+2,Rr=Ae(mi,gi),Vn=Ae(qi,gi),Qr=Rr*Vn;if(!Hs(Rr,Vn,0,Xn,vn))break n;for(vn=vn[0],ri.xc=gi,Nr=0;Nr<Qr;++Nr){var Jn=vn[Nr]>>8&65535;vn[Nr]=Jn,Jn>=Mn&&(Mn=Jn+1)}}if(ns.h)break n;for($t=0;5>$t;++$t){var ii=eu[$t];!$t&&0<mr&&(ii+=1<<mr),Cr<ii&&(Cr=ii)}var si=l(Mn*qn,N),ar=Mn,Dn=l(ar,fe);if(Dn==null)var rs=null;else e(65536>=ar),rs=Dn;var Vr=a(Cr);if(rs==null||Vr==null||si==null){Xn.a=1;break n}var Bt=si;for(Nr=dn=0;Nr<Mn;++Nr){var Ht=rs[Nr],jn=Ht.G,Ls=Ht.H,ba=0,_s=1,ai=0;for($t=0;5>$t;++$t){ii=eu[$t],jn[$t]=Bt,Ls[$t]=dn,!$t&&0<mr&&(ii+=1<<mr);i:{var yl,vl=ii,vf=Xn,gr=Vr,up=Bt,cp=dn,_f=0,jo=vf.m,j0=J(jo,1);if(i(gr,0,0,vl),j0){var hp=J(jo,1)+1,fp=J(jo,1),bf=J(jo,fp==0?1:8);gr[bf]=1,hp==2&&(gr[bf=J(jo,8)]=1);var Ii=1}else{var jr=a(19),uh=J(jo,4)+4;if(19<uh){vf.a=3;var _l=0;break i}for(yl=0;yl<uh;++yl)jr[ah[yl]]=J(jo,3);var Yu=void 0,ru=void 0,fo=vf,wf=jr,Qu=vl,Ef=gr,Af=0,Fo=fo.m,dp=8,pp=l(128,N);r:for(;j(pp,0,7,wf,19);){if(J(Fo,1)){var Dg=2+2*J(Fo,3);if((Yu=2+J(Fo,Dg))>Qu)break r}else Yu=Qu;for(ru=0;ru<Qu&&Yu--;){we(Fo);var mp=pp[0+(127&ne(Fo))];he(Fo,Fo.u+mp.g);var bl=mp.value;if(16>bl)Ef[ru++]=bl,bl!=0&&(dp=bl);else{var Og=bl==16,Mg=bl-16,Vg=Gu[Mg],gp=J(Fo,pa[Mg])+Vg;if(ru+gp>Qu)break r;for(var jg=Og?dp:0;0<gp--;)Ef[ru++]=jg}}Af=1;break r}Af||(fo.a=3),Ii=Af}(Ii=Ii&&!jo.h)&&(_f=j(up,cp,8,gr,vl)),Ii&&_f!=0?_l=_f:(vf.a=3,_l=0)}if(_l==0)break n;if(_s&&ff[$t]==1&&(_s=Bt[dn].g==0),ba+=Bt[dn].g,dn+=_l,3>=$t){var iu,Sf=Vr[0];for(iu=1;iu<ii;++iu)Vr[iu]>Sf&&(Sf=Vr[iu]);ai+=Sf}}if(Ht.nd=_s,Ht.Qb=0,_s&&(Ht.qb=(jn[3][Ls[3]+0].value<<24|jn[1][Ls[1]+0].value<<16|jn[2][Ls[2]+0].value)>>>0,ba==0&&256>jn[0][Ls[0]+0].value&&(Ht.Qb=1,Ht.qb+=jn[0][Ls[0]+0].value<<8)),Ht.jc=!Ht.Qb&&6>ai,Ht.jc){var ch,po=Ht;for(ch=0;ch<ul;++ch){var Uo=ch,Bo=po.pd[Uo],Tf=po.G[0][po.H[0]+Uo];256<=Tf.value?(Bo.g=Tf.g+256,Bo.value=Tf.value):(Bo.g=0,Bo.value=0,Uo>>=er(Tf,8,Bo),Uo>>=er(po.G[1][po.H[1]+Uo],16,Bo),Uo>>=er(po.G[2][po.H[2]+Uo],0,Bo),er(po.G[3][po.H[3]+Uo],24,Bo))}}}ri.vc=vn,ri.Wb=Mn,ri.Ya=rs,ri.yc=si,lt=1;break t}lt=0}if(!(q=lt)){x.a=3;break e}if(0<Le){if(oe.ua=1<<Le,!ie(oe.Wa,Le)){x.a=1,q=0;break e}}else oe.ua=0;var xf=x,su=H,Fg=Q,Xu=xf.s,Ju=Xu.xc;if(xf.c=su,xf.i=Fg,Xu.md=Ae(su,Ju),Xu.wc=Ju==0?-1:(1<<Ju)-1,S){x.xb=fl;break e}if((_e=a(H*Q))==null){x.a=1,q=0;break e}q=(q=Ki(x,_e,0,H,Q,Q,null))&&!Z.h;break e}return q?(B!=null?B[0]=_e:(e(_e==null),e(S)),x.$=0,S||xs(oe)):xs(oe),q}function Yi(m,_){var S=m.c*m.i,x=S+_+16*_;return e(m.c<=_),m.V=a(x),m.V==null?(m.Ta=null,m.Ua=0,m.a=1,0):(m.Ta=m.V,m.Ua=m.Ba+S+_,1)}function Pa(m,_){var S=m.C,x=_-S,B=m.V,q=m.Ba+m.c*S;for(e(_<=m.l.o);0<x;){var H=16<x?16:x,Q=m.l.ma,Z=m.l.width,oe=Z*H,_e=Q.ca,Le=Q.tb+Z*S,se=m.Ta,Ee=m.Ua;ki(m,H,B,q),Js(se,Ee,_e,Le,oe),ir(Q,S,S+H,_e,Le,Z),x-=H,B+=H*m.c,S+=H}e(S==_),m.C=m.Ma=_}function us(){this.ub=this.yd=this.td=this.Rb=0}function Di(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function cs(){this.Fb=this.Bb=this.Cb=0,this.Zb=a(4),this.Lb=a(4)}function Is(){this.Yb=(function(){var m=[];return(function _(S,x,B){for(var q=B[x],H=0;H<q&&(S.push(B.length>x+1?[]:0),!(B.length<x+1));H++)_(S[H],x+1,B)})(m,0,[3,11]),m})()}function Ir(){this.jb=a(3),this.Wc=c([4,8],Is),this.Xc=c([4,17],Is)}function tl(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new a(4),this.od=new a(4)}function Qi(){this.ld=this.La=this.dd=this.tc=0}function Ns(){this.Na=this.la=0}function Gs(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Ao(){this.ad=a(384),this.Za=0,this.Ob=a(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function nl(){this.uc=this.M=this.Nb=0,this.wa=Array(new Qi),this.Y=0,this.ya=Array(new Ao),this.aa=0,this.l=new Si}function rl(){this.y=a(16),this.f=a(8),this.ea=a(8)}function ql(){this.cb=this.a=0,this.sc="",this.m=new O,this.Od=new us,this.Kc=new Di,this.ed=new tl,this.Qa=new cs,this.Ic=this.$c=this.Aa=0,this.D=new nl,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=l(8,O),this.ia=0,this.pb=l(4,Gs),this.Pa=new Ir,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new rl),this.Hd=0,this.rb=Array(new Ns),this.sb=0,this.wa=Array(new Qi),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Ao),this.L=this.aa=0,this.gd=c([4,2],Qi),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function hs(m,_){return 0>m?0:m>_?_:m}function Si(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Dr(){var m=new ql;return m!=null&&(m.a=0,m.sc="OK",m.cb=0,m.Xb=0,Zs||(Zs=Nn)),m}function _n(m,_,S){return m.a==0&&(m.a=_,m.sc=S,m.cb=0),0}function La(m,_,S){return 3<=S&&m[_+0]==157&&m[_+1]==1&&m[_+2]==42}function Cs(m,_){if(m==null)return 0;if(m.a=0,m.sc="OK",_==null)return _n(m,2,"null VP8Io passed to VP8GetHeaders()");var S=_.data,x=_.w,B=_.ha;if(4>B)return _n(m,7,"Truncated header.");var q=S[x+0]|S[x+1]<<8|S[x+2]<<16,H=m.Od;if(H.Rb=!(1&q),H.td=q>>1&7,H.yd=q>>4&1,H.ub=q>>5,3<H.td)return _n(m,3,"Incorrect keyframe parameters.");if(!H.yd)return _n(m,4,"Frame not displayable.");x+=3,B-=3;var Q=m.Kc;if(H.Rb){if(7>B)return _n(m,7,"cannot parse picture header");if(!La(S,x,B))return _n(m,3,"Bad code word");Q.c=16383&(S[x+4]<<8|S[x+3]),Q.Td=S[x+4]>>6,Q.i=16383&(S[x+6]<<8|S[x+5]),Q.Ud=S[x+6]>>6,x+=7,B-=7,m.za=Q.c+15>>4,m.Ub=Q.i+15>>4,_.width=Q.c,_.height=Q.i,_.Da=0,_.j=0,_.v=0,_.va=_.width,_.o=_.height,_.da=0,_.ib=_.width,_.hb=_.height,_.U=_.width,_.T=_.height,i((q=m.Pa).jb,0,255,q.jb.length),e((q=m.Qa)!=null),q.Cb=0,q.Bb=0,q.Fb=1,i(q.Zb,0,0,q.Zb.length),i(q.Lb,0,0,q.Lb)}if(H.ub>B)return _n(m,7,"bad partition length");re(q=m.m,S,x,H.ub),x+=H.ub,B-=H.ub,H.Rb&&(Q.Ld=Pe(q),Q.Kd=Pe(q)),Q=m.Qa;var Z,oe=m.Pa;if(e(q!=null),e(Q!=null),Q.Cb=Pe(q),Q.Cb){if(Q.Bb=Pe(q),Pe(q)){for(Q.Fb=Pe(q),Z=0;4>Z;++Z)Q.Zb[Z]=Pe(q)?pe(q,7):0;for(Z=0;4>Z;++Z)Q.Lb[Z]=Pe(q)?pe(q,6):0}if(Q.Bb)for(Z=0;3>Z;++Z)oe.jb[Z]=Pe(q)?ue(q,8):255}else Q.Bb=0;if(q.Ka)return _n(m,3,"cannot parse segment header");if((Q=m.ed).zd=Pe(q),Q.Tb=ue(q,6),Q.wb=ue(q,3),Q.Pc=Pe(q),Q.Pc&&Pe(q)){for(oe=0;4>oe;++oe)Pe(q)&&(Q.vd[oe]=pe(q,6));for(oe=0;4>oe;++oe)Pe(q)&&(Q.od[oe]=pe(q,6))}if(m.L=Q.Tb==0?0:Q.zd?1:2,q.Ka)return _n(m,3,"cannot parse filter header");var _e=B;if(B=Z=x,x=Z+_e,Q=_e,m.Xb=(1<<ue(m.m,2))-1,_e<3*(oe=m.Xb))S=7;else{for(Z+=3*oe,Q-=3*oe,_e=0;_e<oe;++_e){var Le=S[B+0]|S[B+1]<<8|S[B+2]<<16;Le>Q&&(Le=Q),re(m.Jc[+_e],S,Z,Le),Z+=Le,Q-=Le,B+=3}re(m.Jc[+oe],S,Z,Q),S=Z<x?0:5}if(S!=0)return _n(m,S,"cannot parse partitions");for(S=ue(Z=m.m,7),B=Pe(Z)?pe(Z,4):0,x=Pe(Z)?pe(Z,4):0,Q=Pe(Z)?pe(Z,4):0,oe=Pe(Z)?pe(Z,4):0,Z=Pe(Z)?pe(Z,4):0,_e=m.Qa,Le=0;4>Le;++Le){if(_e.Cb){var se=_e.Zb[Le];_e.Fb||(se+=S)}else{if(0<Le){m.pb[Le]=m.pb[0];continue}se=S}var Ee=m.pb[Le];Ee.Sc[0]=ya[hs(se+B,127)],Ee.Sc[1]=va[hs(se+0,127)],Ee.Eb[0]=2*ya[hs(se+x,127)],Ee.Eb[1]=101581*va[hs(se+Q,127)]>>16,8>Ee.Eb[1]&&(Ee.Eb[1]=8),Ee.Qc[0]=ya[hs(se+oe,117)],Ee.Qc[1]=va[hs(se+Z,127)],Ee.lc=se+Z}if(!H.Rb)return _n(m,4,"Not a key frame.");for(Pe(q),H=m.Pa,S=0;4>S;++S){for(B=0;8>B;++B)for(x=0;3>x;++x)for(Q=0;11>Q;++Q)oe=ze(q,br[S][B][x][Q])?ue(q,8):Lg[S][B][x][Q],H.Wc[S][B].Yb[x][Q]=oe;for(B=0;17>B;++B)H.Xc[S][B]=H.Wc[S][An[B]]}return m.kc=Pe(q),m.kc&&(m.Bd=ue(q,8)),m.cb=1}function Nn(m,_,S,x,B,q,H){var Q=_[B].Yb[S];for(S=0;16>B;++B){if(!ze(m,Q[S+0]))return B;for(;!ze(m,Q[S+1]);)if(Q=_[++B].Yb[0],S=0,B==16)return 16;var Z=_[B+1].Yb;if(ze(m,Q[S+2])){var oe=m,_e=0;if(ze(oe,(se=Q)[(Le=S)+3]))if(ze(oe,se[Le+6])){for(Q=0,Le=2*(_e=ze(oe,se[Le+8]))+(se=ze(oe,se[Le+9+_e])),_e=0,se=Pg[Le];se[Q];++Q)_e+=_e+ze(oe,se[Q]);_e+=3+(8<<Le)}else ze(oe,se[Le+7])?(_e=7+2*ze(oe,165),_e+=ze(oe,145)):_e=5+ze(oe,159);else _e=ze(oe,se[Le+4])?3+ze(oe,se[Le+5]):2;Q=Z[2]}else _e=1,Q=Z[1];Z=H+ap[B],0>(oe=m).b&&Oe(oe);var Le,se=oe.b,Ee=(Le=oe.Ca>>1)-(oe.I>>se)>>31;--oe.b,oe.Ca+=Ee,oe.Ca|=1,oe.I-=(Le+1&Ee)<<se,q[Z]=((_e^Ee)-Ee)*x[(0<B)+0]}return 16}function Ja(m){var _=m.rb[m.sb-1];_.la=0,_.Na=0,i(m.zc,0,0,m.zc.length),m.ja=0}function Gr(m,_,S,x,B){B=m[_+S+32*x]+(B>>3),m[_+S+32*x]=-256&B?0>B?0:255:B}function _r(m,_,S,x,B,q){Gr(m,_,0,S,x+B),Gr(m,_,1,S,x+q),Gr(m,_,2,S,x-q),Gr(m,_,3,S,x-B)}function Or(m){return(20091*m>>16)+m}function So(m,_,S,x){var B,q=0,H=a(16);for(B=0;4>B;++B){var Q=m[_+0]+m[_+8],Z=m[_+0]-m[_+8],oe=(35468*m[_+4]>>16)-Or(m[_+12]),_e=Or(m[_+4])+(35468*m[_+12]>>16);H[q+0]=Q+_e,H[q+1]=Z+oe,H[q+2]=Z-oe,H[q+3]=Q-_e,q+=4,_++}for(B=q=0;4>B;++B)Q=(m=H[q+0]+4)+H[q+8],Z=m-H[q+8],oe=(35468*H[q+4]>>16)-Or(H[q+12]),Gr(S,x,0,0,Q+(_e=Or(H[q+4])+(35468*H[q+12]>>16))),Gr(S,x,1,0,Z+oe),Gr(S,x,2,0,Z-oe),Gr(S,x,3,0,Q-_e),q++,x+=32}function Vu(m,_,S,x){var B=m[_+0]+4,q=35468*m[_+4]>>16,H=Or(m[_+4]),Q=35468*m[_+1]>>16;_r(S,x,0,B+H,m=Or(m[_+1]),Q),_r(S,x,1,B+q,m,Q),_r(S,x,2,B-q,m,Q),_r(S,x,3,B-H,m,Q)}function Hl(m,_,S,x,B){So(m,_,S,x),B&&So(m,_+16,S,x+4)}function Oi(m,_,S,x){Oo(m,_+0,S,x,1),Oo(m,_+32,S,x+128,1)}function Gl(m,_,S,x){var B;for(m=m[_+0]+4,B=0;4>B;++B)for(_=0;4>_;++_)Gr(S,x,_,B,m)}function ka(m,_,S,x){m[_+0]&&zn(m,_+0,S,x),m[_+16]&&zn(m,_+16,S,x+4),m[_+32]&&zn(m,_+32,S,x+128),m[_+48]&&zn(m,_+48,S,x+128+4)}function di(m,_,S,x){var B,q=a(16);for(B=0;4>B;++B){var H=m[_+0+B]+m[_+12+B],Q=m[_+4+B]+m[_+8+B],Z=m[_+4+B]-m[_+8+B],oe=m[_+0+B]-m[_+12+B];q[0+B]=H+Q,q[8+B]=H-Q,q[4+B]=oe+Z,q[12+B]=oe-Z}for(B=0;4>B;++B)H=(m=q[0+4*B]+3)+q[3+4*B],Q=q[1+4*B]+q[2+4*B],Z=q[1+4*B]-q[2+4*B],oe=m-q[3+4*B],S[x+0]=H+Q>>3,S[x+16]=oe+Z>>3,S[x+32]=H-Q>>3,S[x+48]=oe-Z>>3,x+=64}function Za(m,_,S){var x,B=_-32,q=es,H=255-m[B-1];for(x=0;x<S;++x){var Q,Z=q,oe=H+m[_-1];for(Q=0;Q<S;++Q)m[_+Q]=Z[oe+m[B+Q]];_+=32}}function $l(m,_){Za(m,_,4)}function Wl(m,_){Za(m,_,8)}function il(m,_){Za(m,_,16)}function sl(m,_){var S;for(S=0;16>S;++S)r(m,_+32*S,m,_-32,16)}function Da(m,_){var S;for(S=16;0<S;--S)i(m,_,m[_-1],16),_+=32}function Xi(m,_,S){var x;for(x=0;16>x;++x)i(_,S+32*x,m,16)}function $s(m,_){var S,x=16;for(S=0;16>S;++S)x+=m[_-1+32*S]+m[_+S-32];Xi(x>>5,m,_)}function Oa(m,_){var S,x=8;for(S=0;16>S;++S)x+=m[_-1+32*S];Xi(x>>4,m,_)}function Ji(m,_){var S,x=8;for(S=0;16>S;++S)x+=m[_+S-32];Xi(x>>4,m,_)}function eo(m,_){Xi(128,m,_)}function Ut(m,_,S){return m+2*_+S+2>>2}function To(m,_){var S,x=_-32;for(x=new Uint8Array([Ut(m[x-1],m[x+0],m[x+1]),Ut(m[x+0],m[x+1],m[x+2]),Ut(m[x+1],m[x+2],m[x+3]),Ut(m[x+2],m[x+3],m[x+4])]),S=0;4>S;++S)r(m,_+32*S,x,0,x.length)}function al(m,_){var S=m[_-1],x=m[_-1+32],B=m[_-1+64],q=m[_-1+96];Ze(m,_+0,16843009*Ut(m[_-1-32],S,x)),Ze(m,_+32,16843009*Ut(S,x,B)),Ze(m,_+64,16843009*Ut(x,B,q)),Ze(m,_+96,16843009*Ut(B,q,q))}function to(m,_){var S,x=4;for(S=0;4>S;++S)x+=m[_+S-32]+m[_-1+32*S];for(x>>=3,S=0;4>S;++S)i(m,_+32*S,x,4)}function pi(m,_){var S=m[_-1+0],x=m[_-1+32],B=m[_-1+64],q=m[_-1-32],H=m[_+0-32],Q=m[_+1-32],Z=m[_+2-32],oe=m[_+3-32];m[_+0+96]=Ut(x,B,m[_-1+96]),m[_+1+96]=m[_+0+64]=Ut(S,x,B),m[_+2+96]=m[_+1+64]=m[_+0+32]=Ut(q,S,x),m[_+3+96]=m[_+2+64]=m[_+1+32]=m[_+0+0]=Ut(H,q,S),m[_+3+64]=m[_+2+32]=m[_+1+0]=Ut(Q,H,q),m[_+3+32]=m[_+2+0]=Ut(Z,Q,H),m[_+3+0]=Ut(oe,Z,Q)}function ti(m,_){var S=m[_+1-32],x=m[_+2-32],B=m[_+3-32],q=m[_+4-32],H=m[_+5-32],Q=m[_+6-32],Z=m[_+7-32];m[_+0+0]=Ut(m[_+0-32],S,x),m[_+1+0]=m[_+0+32]=Ut(S,x,B),m[_+2+0]=m[_+1+32]=m[_+0+64]=Ut(x,B,q),m[_+3+0]=m[_+2+32]=m[_+1+64]=m[_+0+96]=Ut(B,q,H),m[_+3+32]=m[_+2+64]=m[_+1+96]=Ut(q,H,Q),m[_+3+64]=m[_+2+96]=Ut(H,Q,Z),m[_+3+96]=Ut(Q,Z,Z)}function xo(m,_){var S=m[_-1+0],x=m[_-1+32],B=m[_-1+64],q=m[_-1-32],H=m[_+0-32],Q=m[_+1-32],Z=m[_+2-32],oe=m[_+3-32];m[_+0+0]=m[_+1+64]=q+H+1>>1,m[_+1+0]=m[_+2+64]=H+Q+1>>1,m[_+2+0]=m[_+3+64]=Q+Z+1>>1,m[_+3+0]=Z+oe+1>>1,m[_+0+96]=Ut(B,x,S),m[_+0+64]=Ut(x,S,q),m[_+0+32]=m[_+1+96]=Ut(S,q,H),m[_+1+32]=m[_+2+96]=Ut(q,H,Q),m[_+2+32]=m[_+3+96]=Ut(H,Q,Z),m[_+3+32]=Ut(Q,Z,oe)}function Gn(m,_){var S=m[_+0-32],x=m[_+1-32],B=m[_+2-32],q=m[_+3-32],H=m[_+4-32],Q=m[_+5-32],Z=m[_+6-32],oe=m[_+7-32];m[_+0+0]=S+x+1>>1,m[_+1+0]=m[_+0+64]=x+B+1>>1,m[_+2+0]=m[_+1+64]=B+q+1>>1,m[_+3+0]=m[_+2+64]=q+H+1>>1,m[_+0+32]=Ut(S,x,B),m[_+1+32]=m[_+0+96]=Ut(x,B,q),m[_+2+32]=m[_+1+96]=Ut(B,q,H),m[_+3+32]=m[_+2+96]=Ut(q,H,Q),m[_+3+64]=Ut(H,Q,Z),m[_+3+96]=Ut(Q,Z,oe)}function fs(m,_){var S=m[_-1+0],x=m[_-1+32],B=m[_-1+64],q=m[_-1+96];m[_+0+0]=S+x+1>>1,m[_+2+0]=m[_+0+32]=x+B+1>>1,m[_+2+32]=m[_+0+64]=B+q+1>>1,m[_+1+0]=Ut(S,x,B),m[_+3+0]=m[_+1+32]=Ut(x,B,q),m[_+3+32]=m[_+1+64]=Ut(B,q,q),m[_+3+64]=m[_+2+64]=m[_+0+96]=m[_+1+96]=m[_+2+96]=m[_+3+96]=q}function Io(m,_){var S=m[_-1+0],x=m[_-1+32],B=m[_-1+64],q=m[_-1+96],H=m[_-1-32],Q=m[_+0-32],Z=m[_+1-32],oe=m[_+2-32];m[_+0+0]=m[_+2+32]=S+H+1>>1,m[_+0+32]=m[_+2+64]=x+S+1>>1,m[_+0+64]=m[_+2+96]=B+x+1>>1,m[_+0+96]=q+B+1>>1,m[_+3+0]=Ut(Q,Z,oe),m[_+2+0]=Ut(H,Q,Z),m[_+1+0]=m[_+3+32]=Ut(S,H,Q),m[_+1+32]=m[_+3+64]=Ut(x,S,H),m[_+1+64]=m[_+3+96]=Ut(B,x,S),m[_+1+96]=Ut(q,B,x)}function Ws(m,_){var S;for(S=0;8>S;++S)r(m,_+32*S,m,_-32,8)}function Kl(m,_){var S;for(S=0;8>S;++S)i(m,_,m[_-1],8),_+=32}function ds(m,_,S){var x;for(x=0;8>x;++x)i(_,S+32*x,m,8)}function Ma(m,_){var S,x=8;for(S=0;8>S;++S)x+=m[_+S-32]+m[_-1+32*S];ds(x>>4,m,_)}function ps(m,_){var S,x=4;for(S=0;8>S;++S)x+=m[_+S-32];ds(x>>3,m,_)}function $r(m,_){var S,x=4;for(S=0;8>S;++S)x+=m[_-1+32*S];ds(x>>3,m,_)}function aa(m,_){ds(128,m,_)}function Ti(m,_,S){var x=m[_-S],B=m[_+0],q=3*(B-x)+Mo[1020+m[_-2*S]-m[_+S]],H=rh[112+(q+4>>3)];m[_-S]=es[255+x+rh[112+(q+3>>3)]],m[_+0]=es[255+B-H]}function oa(m,_,S,x){var B=m[_+0],q=m[_+S];return Fi[255+m[_-2*S]-m[_-S]]>x||Fi[255+q-B]>x}function no(m,_,S,x){return 4*Fi[255+m[_-S]-m[_+0]]+Fi[255+m[_-2*S]-m[_+S]]<=x}function la(m,_,S,x,B){var q=m[_-3*S],H=m[_-2*S],Q=m[_-S],Z=m[_+0],oe=m[_+S],_e=m[_+2*S],Le=m[_+3*S];return 4*Fi[255+Q-Z]+Fi[255+H-oe]>x?0:Fi[255+m[_-4*S]-q]<=B&&Fi[255+q-H]<=B&&Fi[255+H-Q]<=B&&Fi[255+Le-_e]<=B&&Fi[255+_e-oe]<=B&&Fi[255+oe-Z]<=B}function ua(m,_,S,x){var B=2*x+1;for(x=0;16>x;++x)no(m,_+x,S,B)&&Ti(m,_+x,S)}function Rs(m,_,S,x){var B=2*x+1;for(x=0;16>x;++x)no(m,_+x*S,1,B)&&Ti(m,_+x*S,1)}function No(m,_,S,x){var B;for(B=3;0<B;--B)ua(m,_+=4*S,S,x)}function ol(m,_,S,x){var B;for(B=3;0<B;--B)Rs(m,_+=4,S,x)}function ms(m,_,S,x,B,q,H,Q){for(q=2*q+1;0<B--;){if(la(m,_,S,q,H))if(oa(m,_,S,Q))Ti(m,_,S);else{var Z=m,oe=_,_e=S,Le=Z[oe-2*_e],se=Z[oe-_e],Ee=Z[oe+0],Ne=Z[oe+_e],Ge=Z[oe+2*_e],Ce=27*(Ye=Mo[1020+3*(Ee-se)+Mo[1020+Le-Ne]])+63>>7,He=18*Ye+63>>7,Ye=9*Ye+63>>7;Z[oe-3*_e]=es[255+Z[oe-3*_e]+Ye],Z[oe-2*_e]=es[255+Le+He],Z[oe-_e]=es[255+se+Ce],Z[oe+0]=es[255+Ee-Ce],Z[oe+_e]=es[255+Ne-He],Z[oe+2*_e]=es[255+Ge-Ye]}_+=x}}function ca(m,_,S,x,B,q,H,Q){for(q=2*q+1;0<B--;){if(la(m,_,S,q,H))if(oa(m,_,S,Q))Ti(m,_,S);else{var Z=m,oe=_,_e=S,Le=Z[oe-_e],se=Z[oe+0],Ee=Z[oe+_e],Ne=rh[112+(4+(Ge=3*(se-Le))>>3)],Ge=rh[112+(Ge+3>>3)],Ce=Ne+1>>1;Z[oe-2*_e]=es[255+Z[oe-2*_e]+Ce],Z[oe-_e]=es[255+Le+Ge],Z[oe+0]=es[255+se-Ne],Z[oe+_e]=es[255+Ee-Ce]}_+=x}}function Yl(m,_,S,x,B,q){ms(m,_,S,1,16,x,B,q)}function Ks(m,_,S,x,B,q){ms(m,_,1,S,16,x,B,q)}function ll(m,_,S,x,B,q){var H;for(H=3;0<H;--H)ca(m,_+=4*S,S,1,16,x,B,q)}function A(m,_,S,x,B,q){var H;for(H=3;0<H;--H)ca(m,_+=4,1,S,16,x,B,q)}function U(m,_,S,x,B,q,H,Q){ms(m,_,B,1,8,q,H,Q),ms(S,x,B,1,8,q,H,Q)}function ae(m,_,S,x,B,q,H,Q){ms(m,_,1,B,8,q,H,Q),ms(S,x,1,B,8,q,H,Q)}function me(m,_,S,x,B,q,H,Q){ca(m,_+4*B,B,1,8,q,H,Q),ca(S,x+4*B,B,1,8,q,H,Q)}function Se(m,_,S,x,B,q,H,Q){ca(m,_+4,1,B,8,q,H,Q),ca(S,x+4,1,B,8,q,H,Q)}function $e(){this.ba=new Ue,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new ht,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function et(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function bt(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function xt(){this.ua=0,this.Wa=new Xt,this.vb=new Xt,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new fe,this.yc=new N}function qt(){this.xb=this.a=0,this.l=new Si,this.ca=new Ue,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new Y,this.Pb=0,this.wd=new Y,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new xt,this.ab=0,this.gc=l(4,bt),this.Oc=0}function jt(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Si,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function wn(m,_,S,x,B,q,H){for(m=m==null?0:m[_+0],_=0;_<H;++_)B[q+_]=m+S[x+_]&255,m=B[q+_]}function fr(m,_,S,x,B,q,H){var Q;if(m==null)wn(null,null,S,x,B,q,H);else for(Q=0;Q<H;++Q)B[q+Q]=m[_+Q]+S[x+Q]&255}function tr(m,_,S,x,B,q,H){if(m==null)wn(null,null,S,x,B,q,H);else{var Q,Z=m[_+0],oe=Z,_e=Z;for(Q=0;Q<H;++Q)oe=_e+(Z=m[_+Q])-oe,_e=S[x+Q]+(-256&oe?0>oe?0:255:oe)&255,oe=Z,B[q+Q]=_e}}function g(m,_,S,x){var B=_.width,q=_.o;if(e(m!=null&&_!=null),0>S||0>=x||S+x>q)return null;if(!m.Cc){if(m.ga==null){var H;if(m.ga=new jt,(H=m.ga==null)||(H=_.width*_.o,e(m.Gb.length==0),m.Gb=a(H),m.Uc=0,m.Gb==null?H=0:(m.mb=m.Gb,m.nb=m.Uc,m.rc=null,H=1),H=!H),!H){H=m.ga;var Q=m.Fa,Z=m.P,oe=m.qc,_e=m.mb,Le=m.nb,se=Z+1,Ee=oe-1,Ne=H.l;if(e(Q!=null&&_e!=null&&_!=null),Vo[0]=null,Vo[1]=wn,Vo[2]=fr,Vo[3]=tr,H.ca=_e,H.tb=Le,H.c=_.width,H.i=_.height,e(0<H.c&&0<H.i),1>=oe)_=0;else if(H.$a=3&Q[Z+0],H.Z=Q[Z+0]>>2&3,H.Lc=Q[Z+0]>>4&3,Z=Q[Z+0]>>6&3,0>H.$a||1<H.$a||4<=H.Z||1<H.Lc||Z)_=0;else if(Ne.put=mt,Ne.ac=On,Ne.bc=fi,Ne.ma=H,Ne.width=_.width,Ne.height=_.height,Ne.Da=_.Da,Ne.v=_.v,Ne.va=_.va,Ne.j=_.j,Ne.o=_.o,H.$a)e:{e(H.$a==1),_=Xa();t:for(;;){if(_==null){_=0;break e}if(e(H!=null),H.mc=_,_.c=H.c,_.i=H.i,_.l=H.l,_.l.ma=H,_.l.width=H.c,_.l.height=H.i,_.a=0,xe(_.m,Q,se,Ee),!Hs(H.c,H.i,1,_,null)||(_.ab==1&&_.gc[0].hc==3&&Hn(_.s)?(H.ic=1,Q=_.c*_.i,_.Ta=null,_.Ua=0,_.V=a(Q),_.Ba=0,_.V==null?(_.a=1,_=0):_=1):(H.ic=0,_=Yi(_,H.c)),!_))break t;_=1;break e}H.mc=null,_=0}else _=Ee>=H.c*H.i;H=!_}if(H)return null;m.ga.Lc!=1?m.Ga=0:x=q-S}e(m.ga!=null),e(S+x<=q);e:{if(_=(Q=m.ga).c,q=Q.l.o,Q.$a==0){if(se=m.rc,Ee=m.Vc,Ne=m.Fa,Z=m.P+1+S*_,oe=m.mb,_e=m.nb+S*_,e(Z<=m.P+m.qc),Q.Z!=0)for(e(Vo[Q.Z]!=null),H=0;H<x;++H)Vo[Q.Z](se,Ee,Ne,Z,oe,_e,_),se=oe,Ee=_e,_e+=_,Z+=_;else for(H=0;H<x;++H)r(oe,_e,Ne,Z,_),se=oe,Ee=_e,_e+=_,Z+=_;m.rc=se,m.Vc=Ee}else{if(e(Q.mc!=null),_=S+x,e((H=Q.mc)!=null),e(_<=H.i),H.C>=_)_=1;else if(Q.ic||Me(),Q.ic){Q=H.V,se=H.Ba,Ee=H.c;var Ge=H.i,Ce=(Ne=1,Z=H.$/Ee,oe=H.$%Ee,_e=H.m,Le=H.s,H.$),He=Ee*Ge,Ye=Ee*_,rt=Le.wc,Je=Ce<Ye?Zr(Le,oe,Z):null;e(Ce<=He),e(_<=Ge),e(Hn(Le));t:for(;;){for(;!_e.h&&Ce<Ye;){if(oe&rt||(Je=Zr(Le,oe,Z)),e(Je!=null),we(_e),256>(Ge=Bn(Je.G[0],Je.H[0],_e)))Q[se+Ce]=Ge,++Ce,++oe>=Ee&&(oe=0,++Z<=_&&!(Z%16)&&ei(H,Z));else{if(!(280>Ge)){Ne=0;break t}Ge=Qn(Ge-256,_e);var It,yt=Bn(Je.G[4],Je.H[4],_e);if(we(_e),!(Ce>=(yt=xr(Ee,yt=Qn(yt,_e)))&&He-Ce>=Ge)){Ne=0;break t}for(It=0;It<Ge;++It)Q[se+Ce+It]=Q[se+Ce+It-yt];for(Ce+=Ge,oe+=Ge;oe>=Ee;)oe-=Ee,++Z<=_&&!(Z%16)&&ei(H,Z);Ce<Ye&&oe&rt&&(Je=Zr(Le,oe,Z))}e(_e.h==le(_e))}ei(H,Z>_?_:Z);break t}!Ne||_e.h&&Ce<He?(Ne=0,H.a=_e.h?5:3):H.$=Ce,_=Ne}else _=Ki(H,H.V,H.Ba,H.c,H.i,_,Pa);if(!_){x=0;break e}}S+x>=q&&(m.Cc=1),x=1}if(!x)return null;if(m.Cc&&((x=m.ga)!=null&&(x.mc=null),m.ga=null,0<m.Ga))return alert("todo:WebPDequantizeLevels"),null}return m.nb+S*B}function T(m,_,S,x,B,q){for(;0<B--;){var H,Q=m,Z=_+(S?1:0),oe=m,_e=_+(S?0:3);for(H=0;H<x;++H){var Le=oe[_e+4*H];Le!=255&&(Le*=32897,Q[Z+4*H+0]=Q[Z+4*H+0]*Le>>23,Q[Z+4*H+1]=Q[Z+4*H+1]*Le>>23,Q[Z+4*H+2]=Q[Z+4*H+2]*Le>>23)}_+=q}}function L(m,_,S,x,B){for(;0<x--;){var q;for(q=0;q<S;++q){var H=m[_+2*q+0],Q=15&(oe=m[_+2*q+1]),Z=4369*Q,oe=(240&oe|oe>>4)*Z>>16;m[_+2*q+0]=(240&H|H>>4)*Z>>16&240|(15&H|H<<4)*Z>>16>>4&15,m[_+2*q+1]=240&oe|Q}_+=B}}function X(m,_,S,x,B,q,H,Q){var Z,oe,_e=255;for(oe=0;oe<B;++oe){for(Z=0;Z<x;++Z){var Le=m[_+Z];q[H+4*Z]=Le,_e&=Le}_+=S,H+=Q}return _e!=255}function Ie(m,_,S,x,B){var q;for(q=0;q<B;++q)S[x+q]=m[_+q]>>8}function Me(){Jl=T,fa=L,eh=X,Js=Ie}function st(m,_,S){D[m]=function(x,B,q,H,Q,Z,oe,_e,Le,se,Ee,Ne,Ge,Ce,He,Ye,rt){var Je,It=rt-1>>1,yt=Q[Z+0]|oe[_e+0]<<16,sn=Le[se+0]|Ee[Ne+0]<<16;e(x!=null);var At=3*yt+sn+131074>>2;for(_(x[B+0],255&At,At>>16,Ge,Ce),q!=null&&(At=3*sn+yt+131074>>2,_(q[H+0],255&At,At>>16,He,Ye)),Je=1;Je<=It;++Je){var En=Q[Z+Je]|oe[_e+Je]<<16,wr=Le[se+Je]|Ee[Ne+Je]<<16,un=yt+En+sn+wr+524296,vt=un+2*(En+sn)>>3;At=vt+yt>>1,yt=(un=un+2*(yt+wr)>>3)+En>>1,_(x[B+2*Je-1],255&At,At>>16,Ge,Ce+(2*Je-1)*S),_(x[B+2*Je-0],255&yt,yt>>16,Ge,Ce+(2*Je-0)*S),q!=null&&(At=un+sn>>1,yt=vt+wr>>1,_(q[H+2*Je-1],255&At,At>>16,He,Ye+(2*Je-1)*S),_(q[H+2*Je+0],255&yt,yt>>16,He,Ye+(2*Je+0)*S)),yt=En,sn=wr}1&rt||(At=3*yt+sn+131074>>2,_(x[B+rt-1],255&At,At>>16,Ge,Ce+(rt-1)*S),q!=null&&(At=3*sn+yt+131074>>2,_(q[H+rt-1],255&At,At>>16,He,Ye+(rt-1)*S)))}}function en(){Bi[lf]=tu,Bi[ts]=$u,Bi[uf]=lp,Bi[da]=pf,Bi[ih]=dl,Bi[qu]=ho,Bi[cl]=pl,Bi[sh]=$u,Bi[cf]=pf,Bi[Hu]=dl,Bi[hf]=ho}function dr(m){return m&-16384?0>m?0:255:m>>mf}function yn(m,_){return dr((19077*m>>8)+(26149*_>>8)-14234)}function $n(m,_,S){return dr((19077*m>>8)-(6419*_>>8)-(13320*S>>8)+8708)}function xi(m,_){return dr((19077*m>>8)+(33050*_>>8)-17685)}function Mi(m,_,S,x,B){x[B+0]=yn(m,S),x[B+1]=$n(m,_,S),x[B+2]=xi(m,_)}function sr(m,_,S,x,B){x[B+0]=xi(m,_),x[B+1]=$n(m,_,S),x[B+2]=yn(m,S)}function Vi(m,_,S,x,B){var q=$n(m,_,S);_=q<<3&224|xi(m,_)>>3,x[B+0]=248&yn(m,S)|q>>5,x[B+1]=_}function Ys(m,_,S,x,B){var q=240&xi(m,_)|15;x[B+0]=240&yn(m,S)|$n(m,_,S)>>4,x[B+1]=q}function ro(m,_,S,x,B){x[B+0]=255,Mi(m,_,S,x,B+1)}function io(m,_,S,x,B){sr(m,_,S,x,B),x[B+3]=255}function gs(m,_,S,x,B){Mi(m,_,S,x,B),x[B+3]=255}function Co(m,_,S){D[m]=function(x,B,q,H,Q,Z,oe,_e,Le){for(var se=_e+(-2&Le)*S;_e!=se;)_(x[B+0],q[H+0],Q[Z+0],oe,_e),_(x[B+1],q[H+0],Q[Z+0],oe,_e+S),B+=2,++H,++Z,_e+=2*S;1&Le&&_(x[B+0],q[H+0],Q[Z+0],oe,_e)}}function ju(m,_,S){return S==0?m==0?_==0?6:5:_==0?4:0:S}function Xc(m,_,S,x,B){switch(m>>>30){case 3:Oo(_,S,x,B,0);break;case 2:Zi(_,S,x,B);break;case 1:zn(_,S,x,B)}}function Qs(m,_){var S,x,B=_.M,q=_.Nb,H=m.oc,Q=m.pc+40,Z=m.oc,oe=m.pc+584,_e=m.oc,Le=m.pc+600;for(S=0;16>S;++S)H[Q+32*S-1]=129;for(S=0;8>S;++S)Z[oe+32*S-1]=129,_e[Le+32*S-1]=129;for(0<B?H[Q-1-32]=Z[oe-1-32]=_e[Le-1-32]=129:(i(H,Q-32-1,127,21),i(Z,oe-32-1,127,9),i(_e,Le-32-1,127,9)),x=0;x<m.za;++x){var se=_.ya[_.aa+x];if(0<x){for(S=-1;16>S;++S)r(H,Q+32*S-4,H,Q+32*S+12,4);for(S=-1;8>S;++S)r(Z,oe+32*S-4,Z,oe+32*S+4,4),r(_e,Le+32*S-4,_e,Le+32*S+4,4)}var Ee=m.Gd,Ne=m.Hd+x,Ge=se.ad,Ce=se.Hc;if(0<B&&(r(H,Q-32,Ee[Ne].y,0,16),r(Z,oe-32,Ee[Ne].f,0,8),r(_e,Le-32,Ee[Ne].ea,0,8)),se.Za){var He=H,Ye=Q-32+16;for(0<B&&(x>=m.za-1?i(He,Ye,Ee[Ne].y[15],4):r(He,Ye,Ee[Ne+1].y,0,4)),S=0;4>S;S++)He[Ye+128+S]=He[Ye+256+S]=He[Ye+384+S]=He[Ye+0+S];for(S=0;16>S;++S,Ce<<=2)He=H,Ye=Q+Yr[S],Mr[se.Ob[S]](He,Ye),Xc(Ce,Ge,16*+S,He,Ye)}else if(He=ju(x,B,se.Ob[0]),vs[He](H,Q),Ce!=0)for(S=0;16>S;++S,Ce<<=2)Xc(Ce,Ge,16*+S,H,Q+Yr[S]);for(S=se.Gc,He=ju(x,B,se.Dd),Ua[He](Z,oe),Ua[He](_e,Le),Ce=Ge,He=Z,Ye=oe,255&(se=0|S)&&(170&se?ha(Ce,256,He,Ye):kn(Ce,256,He,Ye)),se=_e,Ce=Le,255&(S>>=8)&&(170&S?ha(Ge,320,se,Ce):kn(Ge,320,se,Ce)),B<m.Ub-1&&(r(Ee[Ne].y,0,H,Q+480,16),r(Ee[Ne].f,0,Z,oe+224,8),r(Ee[Ne].ea,0,_e,Le+224,8)),S=8*q*m.B,Ee=m.sa,Ne=m.ta+16*x+16*q*m.R,Ge=m.qa,se=m.ra+8*x+S,Ce=m.Ha,He=m.Ia+8*x+S,S=0;16>S;++S)r(Ee,Ne+S*m.R,H,Q+32*S,16);for(S=0;8>S;++S)r(Ge,se+S*m.B,Z,oe+32*S,8),r(Ce,He+S*m.B,_e,Le+32*S,8)}}function Va(m,_,S,x,B,q,H,Q,Z){var oe=[0],_e=[0],Le=0,se=Z!=null?Z.kd:0,Ee=Z??new et;if(m==null||12>S)return 7;Ee.data=m,Ee.w=_,Ee.ha=S,_=[_],S=[S],Ee.gb=[Ee.gb];e:{var Ne=_,Ge=S,Ce=Ee.gb;if(e(m!=null),e(Ge!=null),e(Ce!=null),Ce[0]=0,12<=Ge[0]&&!t(m,Ne[0],"RIFF")){if(t(m,Ne[0]+8,"WEBP")){Ce=3;break e}var He=_t(m,Ne[0]+4);if(12>He||4294967286<He){Ce=3;break e}if(se&&He>Ge[0]-8){Ce=7;break e}Ce[0]=He,Ne[0]+=12,Ge[0]-=12}Ce=0}if(Ce!=0)return Ce;for(He=0<Ee.gb[0],S=S[0];;){e:{var Ye=m;Ge=_,Ce=S;var rt=oe,Je=_e,It=Ne=[0];if((At=Le=[Le])[0]=0,8>Ce[0])Ce=7;else{if(!t(Ye,Ge[0],"VP8X")){if(_t(Ye,Ge[0]+4)!=10){Ce=3;break e}if(18>Ce[0]){Ce=7;break e}var yt=_t(Ye,Ge[0]+8),sn=1+ct(Ye,Ge[0]+12);if(2147483648<=sn*(Ye=1+ct(Ye,Ge[0]+15))){Ce=3;break e}It!=null&&(It[0]=yt),rt!=null&&(rt[0]=sn),Je!=null&&(Je[0]=Ye),Ge[0]+=18,Ce[0]-=18,At[0]=1}Ce=0}}if(Le=Le[0],Ne=Ne[0],Ce!=0)return Ce;if(Ge=!!(2&Ne),!He&&Le)return 3;if(q!=null&&(q[0]=!!(16&Ne)),H!=null&&(H[0]=Ge),Q!=null&&(Q[0]=0),H=oe[0],Ne=_e[0],Le&&Ge&&Z==null){Ce=0;break}if(4>S){Ce=7;break}if(He&&Le||!He&&!Le&&!t(m,_[0],"ALPH")){S=[S],Ee.na=[Ee.na],Ee.P=[Ee.P],Ee.Sa=[Ee.Sa];e:{yt=m,Ce=_,He=S;var At=Ee.gb;rt=Ee.na,Je=Ee.P,It=Ee.Sa,sn=22,e(yt!=null),e(He!=null),Ye=Ce[0];var En=He[0];for(e(rt!=null),e(It!=null),rt[0]=null,Je[0]=null,It[0]=0;;){if(Ce[0]=Ye,He[0]=En,8>En){Ce=7;break e}var wr=_t(yt,Ye+4);if(4294967286<wr){Ce=3;break e}var un=8+wr+1&-2;if(sn+=un,0<At&&sn>At){Ce=3;break e}if(!t(yt,Ye,"VP8 ")||!t(yt,Ye,"VP8L")){Ce=0;break e}if(En[0]<un){Ce=7;break e}t(yt,Ye,"ALPH")||(rt[0]=yt,Je[0]=Ye+8,It[0]=wr),Ye+=un,En-=un}}if(S=S[0],Ee.na=Ee.na[0],Ee.P=Ee.P[0],Ee.Sa=Ee.Sa[0],Ce!=0)break}S=[S],Ee.Ja=[Ee.Ja],Ee.xa=[Ee.xa];e:if(At=m,Ce=_,He=S,rt=Ee.gb[0],Je=Ee.Ja,It=Ee.xa,yt=Ce[0],Ye=!t(At,yt,"VP8 "),sn=!t(At,yt,"VP8L"),e(At!=null),e(He!=null),e(Je!=null),e(It!=null),8>He[0])Ce=7;else{if(Ye||sn){if(At=_t(At,yt+4),12<=rt&&At>rt-12){Ce=3;break e}if(se&&At>He[0]-8){Ce=7;break e}Je[0]=At,Ce[0]+=8,He[0]-=8,It[0]=sn}else It[0]=5<=He[0]&&At[yt+0]==47&&!(At[yt+4]>>5),Je[0]=He[0];Ce=0}if(S=S[0],Ee.Ja=Ee.Ja[0],Ee.xa=Ee.xa[0],_=_[0],Ce!=0)break;if(4294967286<Ee.Ja)return 3;if(Q==null||Ge||(Q[0]=Ee.xa?2:1),H=[H],Ne=[Ne],Ee.xa){if(5>S){Ce=7;break}Q=H,se=Ne,Ge=q,m==null||5>S?m=0:5<=S&&m[_+0]==47&&!(m[_+4]>>5)?(He=[0],At=[0],rt=[0],xe(Je=new Y,m,_,S),bn(Je,He,At,rt)?(Q!=null&&(Q[0]=He[0]),se!=null&&(se[0]=At[0]),Ge!=null&&(Ge[0]=rt[0]),m=1):m=0):m=0}else{if(10>S){Ce=7;break}Q=Ne,m==null||10>S||!La(m,_+3,S-3)?m=0:(se=m[_+0]|m[_+1]<<8|m[_+2]<<16,Ge=16383&(m[_+7]<<8|m[_+6]),m=16383&(m[_+9]<<8|m[_+8]),1&se||3<(se>>1&7)||!(se>>4&1)||se>>5>=Ee.Ja||!Ge||!m?m=0:(H&&(H[0]=Ge),Q&&(Q[0]=m),m=1))}if(!m||(H=H[0],Ne=Ne[0],Le&&(oe[0]!=H||_e[0]!=Ne)))return 3;Z!=null&&(Z[0]=Ee,Z.offset=_-Z.w,e(4294967286>_-Z.w),e(Z.offset==Z.ha-S));break}return Ce==0||Ce==7&&Le&&Z==null?(q!=null&&(q[0]|=Ee.na!=null&&0<Ee.na.length),x!=null&&(x[0]=H),B!=null&&(B[0]=Ne),0):Ce}function Ro(m,_,S){var x=_.width,B=_.height,q=0,H=0,Q=x,Z=B;if(_.Da=m!=null&&0<m.Da,_.Da&&(Q=m.cd,Z=m.bd,q=m.v,H=m.j,11>S||(q&=-2,H&=-2),0>q||0>H||0>=Q||0>=Z||q+Q>x||H+Z>B))return 0;if(_.v=q,_.j=H,_.va=q+Q,_.o=H+Z,_.U=Q,_.T=Z,_.da=m!=null&&0<m.da,_.da){if(!Rt(Q,Z,S=[m.ib],q=[m.hb]))return 0;_.ib=S[0],_.hb=q[0]}return _.ob=m!=null&&m.ob,_.Kb=m==null||!m.Sd,_.da&&(_.ob=_.ib<3*x/4&&_.hb<3*B/4,_.Kb=0),1}function Jc(m){if(m==null)return 2;if(11>m.S){var _=m.f.RGBA;_.fb+=(m.height-1)*_.A,_.A=-_.A}else _=m.f.kb,m=m.height,_.O+=(m-1)*_.fa,_.fa=-_.fa,_.N+=(m-1>>1)*_.Ab,_.Ab=-_.Ab,_.W+=(m-1>>1)*_.Db,_.Db=-_.Db,_.F!=null&&(_.J+=(m-1)*_.lb,_.lb=-_.lb);return 0}function ja(m,_,S,x){if(x==null||0>=m||0>=_)return 2;if(S!=null){if(S.Da){var B=S.cd,q=S.bd,H=-2&S.v,Q=-2&S.j;if(0>H||0>Q||0>=B||0>=q||H+B>m||Q+q>_)return 2;m=B,_=q}if(S.da){if(!Rt(m,_,B=[S.ib],q=[S.hb]))return 2;m=B[0],_=q[0]}}x.width=m,x.height=_;e:{var Z=x.width,oe=x.height;if(m=x.S,0>=Z||0>=oe||!(m>=lf&&13>m))m=2;else{if(0>=x.Rd&&x.sd==null){H=q=B=_=0;var _e=(Q=Z*yf[m])*oe;if(11>m||(q=(oe+1)/2*(_=(Z+1)/2),m==12&&(H=(B=Z)*oe)),(oe=a(_e+2*q+H))==null){m=1;break e}x.sd=oe,11>m?((Z=x.f.RGBA).eb=oe,Z.fb=0,Z.A=Q,Z.size=_e):((Z=x.f.kb).y=oe,Z.O=0,Z.fa=Q,Z.Fd=_e,Z.f=oe,Z.N=0+_e,Z.Ab=_,Z.Cd=q,Z.ea=oe,Z.W=0+_e+q,Z.Db=_,Z.Ed=q,m==12&&(Z.F=oe,Z.J=0+_e+2*q),Z.Tc=H,Z.lb=B)}if(_=1,B=x.S,q=x.width,H=x.height,B>=lf&&13>B)if(11>B)m=x.f.RGBA,_&=(Q=Math.abs(m.A))*(H-1)+q<=m.size,_&=Q>=q*yf[B],_&=m.eb!=null;else{m=x.f.kb,Q=(q+1)/2,_e=(H+1)/2,Z=Math.abs(m.fa),oe=Math.abs(m.Ab);var Le=Math.abs(m.Db),se=Math.abs(m.lb),Ee=se*(H-1)+q;_&=Z*(H-1)+q<=m.Fd,_&=oe*(_e-1)+Q<=m.Cd,_=(_&=Le*(_e-1)+Q<=m.Ed)&Z>=q&oe>=Q&Le>=Q,_&=m.y!=null,_&=m.f!=null,_&=m.ea!=null,B==12&&(_&=se>=q,_&=Ee<=m.Tc,_&=m.F!=null)}else _=0;m=_?0:2}}return m!=0||S!=null&&S.fd&&(m=Jc(x)),m}var ul=64,Ps=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],ys=24,so=32,ao=8,Po=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];dt("Predictor0","PredictorAdd0"),D.Predictor0=function(){return 4278190080},D.Predictor1=function(m){return m},D.Predictor2=function(m,_,S){return _[S+0]},D.Predictor3=function(m,_,S){return _[S+1]},D.Predictor4=function(m,_,S){return _[S-1]},D.Predictor5=function(m,_,S){return Pt(Pt(m,_[S+1]),_[S+0])},D.Predictor6=function(m,_,S){return Pt(m,_[S-1])},D.Predictor7=function(m,_,S){return Pt(m,_[S+0])},D.Predictor8=function(m,_,S){return Pt(_[S-1],_[S+0])},D.Predictor9=function(m,_,S){return Pt(_[S+0],_[S+1])},D.Predictor10=function(m,_,S){return Pt(Pt(m,_[S-1]),Pt(_[S+0],_[S+1]))},D.Predictor11=function(m,_,S){var x=_[S+0];return 0>=Kt(x>>24&255,m>>24&255,(_=_[S-1])>>24&255)+Kt(x>>16&255,m>>16&255,_>>16&255)+Kt(x>>8&255,m>>8&255,_>>8&255)+Kt(255&x,255&m,255&_)?x:m},D.Predictor12=function(m,_,S){var x=_[S+0];return(Jt((m>>24&255)+(x>>24&255)-((_=_[S-1])>>24&255))<<24|Jt((m>>16&255)+(x>>16&255)-(_>>16&255))<<16|Jt((m>>8&255)+(x>>8&255)-(_>>8&255))<<8|Jt((255&m)+(255&x)-(255&_)))>>>0},D.Predictor13=function(m,_,S){var x=_[S-1];return(tn((m=Pt(m,_[S+0]))>>24&255,x>>24&255)<<24|tn(m>>16&255,x>>16&255)<<16|tn(m>>8&255,x>>8&255)<<8|tn(255&m,255&x))>>>0};var Fu=D.PredictorAdd0;D.PredictorAdd1=fn,dt("Predictor2","PredictorAdd2"),dt("Predictor3","PredictorAdd3"),dt("Predictor4","PredictorAdd4"),dt("Predictor5","PredictorAdd5"),dt("Predictor6","PredictorAdd6"),dt("Predictor7","PredictorAdd7"),dt("Predictor8","PredictorAdd8"),dt("Predictor9","PredictorAdd9"),dt("Predictor10","PredictorAdd10"),dt("Predictor11","PredictorAdd11"),dt("Predictor12","PredictorAdd12"),dt("Predictor13","PredictorAdd13");var Uu=D.PredictorAdd2;Et("ColorIndexInverseTransform","MapARGB","32b",function(m){return m>>8&255},function(m){return m}),Et("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(m){return m},function(m){return m>>8&255});var Wr,sf=D.ColorIndexInverseTransform,oo=D.MapARGB,lo=D.VP8LColorIndexInverseTransformAlpha,ji=D.MapAlpha,Lo=D.VP8LPredictorsAdd=[];Lo.length=16,(D.VP8LPredictors=[]).length=16,(D.VP8LPredictorsAdd_C=[]).length=16,(D.VP8LPredictors_C=[]).length=16;var Bu,zu,ko,Do,uo,Ql,Xs,Oo,Zi,ha,zn,kn,pr,Kr,co,Fa,Xl,Zc,rp,Ng,Cg,Rg,ip,sp,Jl,fa,eh,Js,Zl=a(511),af=a(2041),th=a(225),nh=a(767),of=0,Mo=af,rh=th,es=nh,Fi=Zl,lf=0,ts=1,uf=2,da=3,ih=4,qu=5,cl=6,sh=7,cf=8,Hu=9,hf=10,pa=[2,3,7],Gu=[3,3,11],eu=[280,256,256,256,40],ff=[0,1,1,1,0],ah=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],ma=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],ga=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],hl=8,ya=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],va=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Zs=null,Pg=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],ap=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],df=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Lg=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Ui=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],br=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],An=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],vs=[],Mr=[],Ua=[],fl=1,op=2,Vo=[],Bi=[];st("UpsampleRgbLinePair",Mi,3),st("UpsampleBgrLinePair",sr,3),st("UpsampleRgbaLinePair",gs,4),st("UpsampleBgraLinePair",io,4),st("UpsampleArgbLinePair",ro,4),st("UpsampleRgba4444LinePair",Ys,2),st("UpsampleRgb565LinePair",Vi,2);var tu=D.UpsampleRgbLinePair,lp=D.UpsampleBgrLinePair,$u=D.UpsampleRgbaLinePair,pf=D.UpsampleBgraLinePair,dl=D.UpsampleArgbLinePair,ho=D.UpsampleRgba4444LinePair,pl=D.UpsampleRgb565LinePair,_a=16,Wu=1<<_a-1,nu=-227,ml=482,mf=6,gl=0,zi=a(256),gf=a(256),kg=a(256),O0=a(256),M0=a(ml-nu),V0=a(ml-nu);Co("YuvToRgbRow",Mi,3),Co("YuvToBgrRow",sr,3),Co("YuvToRgbaRow",gs,4),Co("YuvToBgraRow",io,4),Co("YuvToArgbRow",ro,4),Co("YuvToRgba4444Row",Ys,2),Co("YuvToRgb565Row",Vi,2);var Yr=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Ku=[0,2,8],oh=[8,7,6,4,4,2,2,2,1,1,1,1],lh=1;this.WebPDecodeRGBA=function(m,_,S,x,B){var q=ts,H=new $e,Q=new Ue;H.ba=Q,Q.S=q,Q.width=[Q.width],Q.height=[Q.height];var Z=Q.width,oe=Q.height,_e=new Ke;if(_e==null||m==null)var Le=2;else e(_e!=null),Le=Va(m,_,S,_e.width,_e.height,_e.Pd,_e.Qd,_e.format,null);if(Le!=0?Z=0:(Z!=null&&(Z[0]=_e.width[0]),oe!=null&&(oe[0]=_e.height[0]),Z=1),Z){Q.width=Q.width[0],Q.height=Q.height[0],x!=null&&(x[0]=Q.width),B!=null&&(B[0]=Q.height);e:{if(x=new Si,(B=new et).data=m,B.w=_,B.ha=S,B.kd=1,_=[0],e(B!=null),((m=Va(B.data,B.w,B.ha,null,null,null,_,null,B))==0||m==7)&&_[0]&&(m=4),(_=m)==0){if(e(H!=null),x.data=B.data,x.w=B.w+B.offset,x.ha=B.ha-B.offset,x.put=mt,x.ac=On,x.bc=fi,x.ma=H,B.xa){if((m=Xa())==null){H=1;break e}if((function(se,Ee){var Ne=[0],Ge=[0],Ce=[0];t:for(;;){if(se==null)return 0;if(Ee==null)return se.a=2,0;if(se.l=Ee,se.a=0,xe(se.m,Ee.data,Ee.w,Ee.ha),!bn(se.m,Ne,Ge,Ce)){se.a=3;break t}if(se.xb=op,Ee.width=Ne[0],Ee.height=Ge[0],!Hs(Ne[0],Ge[0],1,se,null))break t;return 1}return e(se.a!=0),0})(m,x)){if(x=(_=ja(x.width,x.height,H.Oa,H.ba))==0){t:{x=m;n:for(;;){if(x==null){x=0;break t}if(e(x.s.yc!=null),e(x.s.Ya!=null),e(0<x.s.Wb),e((S=x.l)!=null),e((B=S.ma)!=null),x.xb!=0){if(x.ca=B.ba,x.tb=B.tb,e(x.ca!=null),!Ro(B.Oa,S,da)){x.a=2;break n}if(!Yi(x,S.width)||S.da)break n;if((S.da||Ft(x.ca.S))&&Me(),11>x.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),x.ca.f.kb.F!=null&&Me()),x.Pb&&0<x.s.ua&&x.s.vb.X==null&&!ie(x.s.vb,x.s.Wa.Xa)){x.a=1;break n}x.xb=0}if(!Ki(x,x.V,x.Ba,x.c,x.i,S.o,Ai))break n;B.Dc=x.Ma,x=1;break t}e(x.a!=0),x=0}x=!x}x&&(_=m.a)}else _=m.a}else{if((m=new Dr)==null){H=1;break e}if(m.Fa=B.na,m.P=B.P,m.qc=B.Sa,Cs(m,x)){if((_=ja(x.width,x.height,H.Oa,H.ba))==0){if(m.Aa=0,S=H.Oa,e((B=m)!=null),S!=null){if(0<(Z=0>(Z=S.Md)?0:100<Z?255:255*Z/100)){for(oe=_e=0;4>oe;++oe)12>(Le=B.pb[oe]).lc&&(Le.ia=Z*oh[0>Le.lc?0:Le.lc]>>3),_e|=Le.ia;_e&&(alert("todo:VP8InitRandom"),B.ia=1)}B.Ga=S.Id,100<B.Ga?B.Ga=100:0>B.Ga&&(B.Ga=0)}(function(se,Ee){if(se==null)return 0;if(Ee==null)return _n(se,2,"NULL VP8Io parameter in VP8Decode().");if(!se.cb&&!Cs(se,Ee))return 0;if(e(se.cb),Ee.ac==null||Ee.ac(Ee)){Ee.ob&&(se.L=0);var Ne=Ku[se.L];if(se.L==2?(se.yb=0,se.zb=0):(se.yb=Ee.v-Ne>>4,se.zb=Ee.j-Ne>>4,0>se.yb&&(se.yb=0),0>se.zb&&(se.zb=0)),se.Va=Ee.o+15+Ne>>4,se.Hb=Ee.va+15+Ne>>4,se.Hb>se.za&&(se.Hb=se.za),se.Va>se.Ub&&(se.Va=se.Ub),0<se.L){var Ge=se.ed;for(Ne=0;4>Ne;++Ne){var Ce;if(se.Qa.Cb){var He=se.Qa.Lb[Ne];se.Qa.Fb||(He+=Ge.Tb)}else He=Ge.Tb;for(Ce=0;1>=Ce;++Ce){var Ye=se.gd[Ne][Ce],rt=He;if(Ge.Pc&&(rt+=Ge.vd[0],Ce&&(rt+=Ge.od[0])),0<(rt=0>rt?0:63<rt?63:rt)){var Je=rt;0<Ge.wb&&(Je=4<Ge.wb?Je>>2:Je>>1)>9-Ge.wb&&(Je=9-Ge.wb),1>Je&&(Je=1),Ye.dd=Je,Ye.tc=2*rt+Je,Ye.ld=40<=rt?2:15<=rt?1:0}else Ye.tc=0;Ye.La=Ce}}}Ne=0}else _n(se,6,"Frame setup failed"),Ne=se.a;if(Ne=Ne==0){if(Ne){se.$c=0,0<se.Aa||(se.Ic=lh);t:{Ne=se.Ic,Ge=4*(Je=se.za);var It=32*Je,yt=Je+1,sn=0<se.L?Je*(0<se.Aa?2:1):0,At=(se.Aa==2?2:1)*Je;if((Ye=Ge+832+(Ce=3*(16*Ne+Ku[se.L])/2*It)+(He=se.Fa!=null&&0<se.Fa.length?se.Kc.c*se.Kc.i:0))!=Ye)Ne=0;else{if(Ye>se.Vb){if(se.Vb=0,se.Ec=a(Ye),se.Fc=0,se.Ec==null){Ne=_n(se,1,"no memory during frame initialization.");break t}se.Vb=Ye}Ye=se.Ec,rt=se.Fc,se.Ac=Ye,se.Bc=rt,rt+=Ge,se.Gd=l(It,rl),se.Hd=0,se.rb=l(yt+1,Ns),se.sb=1,se.wa=sn?l(sn,Qi):null,se.Y=0,se.D.Nb=0,se.D.wa=se.wa,se.D.Y=se.Y,0<se.Aa&&(se.D.Y+=Je),e(!0),se.oc=Ye,se.pc=rt,rt+=832,se.ya=l(At,Ao),se.aa=0,se.D.ya=se.ya,se.D.aa=se.aa,se.Aa==2&&(se.D.aa+=Je),se.R=16*Je,se.B=8*Je,Je=(It=Ku[se.L])*se.R,It=It/2*se.B,se.sa=Ye,se.ta=rt+Je,se.qa=se.sa,se.ra=se.ta+16*Ne*se.R+It,se.Ha=se.qa,se.Ia=se.ra+8*Ne*se.B+It,se.$c=0,rt+=Ce,se.mb=He?Ye:null,se.nb=He?rt:null,e(rt+He<=se.Fc+se.Vb),Ja(se),i(se.Ac,se.Bc,0,Ge),Ne=1}}if(Ne){if(Ee.ka=0,Ee.y=se.sa,Ee.O=se.ta,Ee.f=se.qa,Ee.N=se.ra,Ee.ea=se.Ha,Ee.Vd=se.Ia,Ee.fa=se.R,Ee.Rc=se.B,Ee.F=null,Ee.J=0,!of){for(Ne=-255;255>=Ne;++Ne)Zl[255+Ne]=0>Ne?-Ne:Ne;for(Ne=-1020;1020>=Ne;++Ne)af[1020+Ne]=-128>Ne?-128:127<Ne?127:Ne;for(Ne=-112;112>=Ne;++Ne)th[112+Ne]=-16>Ne?-16:15<Ne?15:Ne;for(Ne=-255;510>=Ne;++Ne)nh[255+Ne]=0>Ne?0:255<Ne?255:Ne;of=1}Xs=di,Oo=Hl,ha=Oi,zn=Gl,kn=ka,Zi=Vu,pr=Yl,Kr=Ks,co=U,Fa=ae,Xl=ll,Zc=A,rp=me,Ng=Se,Cg=ua,Rg=Rs,ip=No,sp=ol,Mr[0]=to,Mr[1]=$l,Mr[2]=To,Mr[3]=al,Mr[4]=pi,Mr[5]=xo,Mr[6]=ti,Mr[7]=Gn,Mr[8]=Io,Mr[9]=fs,vs[0]=$s,vs[1]=il,vs[2]=sl,vs[3]=Da,vs[4]=Oa,vs[5]=Ji,vs[6]=eo,Ua[0]=Ma,Ua[1]=Wl,Ua[2]=Ws,Ua[3]=Kl,Ua[4]=$r,Ua[5]=ps,Ua[6]=aa,Ne=1}else Ne=0}Ne&&(Ne=(function(En,wr){for(En.M=0;En.M<En.Va;++En.M){var un,vt=En.Jc[En.M&En.Xb],lt=En.m,Nr=En;for(un=0;un<Nr.za;++un){var $t=lt,dn=Nr,Xn=dn.Ac,mi=dn.Bc+4*un,qi=dn.zc,mr=dn.ya[dn.aa+un];if(dn.Qa.Bb?mr.$b=ze($t,dn.Pa.jb[0])?2+ze($t,dn.Pa.jb[2]):ze($t,dn.Pa.jb[1]):mr.$b=0,dn.kc&&(mr.Ad=ze($t,dn.Bd)),mr.Za=!ze($t,145)+0,mr.Za){var ni=mr.Ob,ns=0;for(dn=0;4>dn;++dn){var ri,vn=qi[0+dn];for(ri=0;4>ri;++ri){vn=Ui[Xn[mi+ri]][vn];for(var Mn=df[ze($t,vn[0])];0<Mn;)Mn=df[2*Mn+ze($t,vn[Mn])];vn=-Mn,Xn[mi+ri]=vn}r(ni,ns,Xn,mi,4),ns+=4,qi[0+dn]=vn}}else vn=ze($t,156)?ze($t,128)?1:3:ze($t,163)?2:0,mr.Ob[0]=vn,i(Xn,mi,vn,4),i(qi,0,vn,4);mr.Dd=ze($t,142)?ze($t,114)?ze($t,183)?1:3:2:0}if(Nr.m.Ka)return _n(En,7,"Premature end-of-partition0 encountered.");for(;En.ja<En.za;++En.ja){if(Nr=vt,$t=(lt=En).rb[lt.sb-1],Xn=lt.rb[lt.sb+lt.ja],un=lt.ya[lt.aa+lt.ja],mi=lt.kc?un.Ad:0)$t.la=Xn.la=0,un.Za||($t.Na=Xn.Na=0),un.Hc=0,un.Gc=0,un.ia=0;else{var Cr,qn;if($t=Xn,Xn=Nr,mi=lt.Pa.Xc,qi=lt.ya[lt.aa+lt.ja],mr=lt.pb[qi.$b],dn=qi.ad,ni=0,ns=lt.rb[lt.sb-1],vn=ri=0,i(dn,ni,0,384),qi.Za)var gi=0,Rr=mi[3];else{Mn=a(16);var Vn=$t.Na+ns.Na;if(Vn=Zs(Xn,mi[1],Vn,mr.Eb,0,Mn,0),$t.Na=ns.Na=(0<Vn)+0,1<Vn)Xs(Mn,0,dn,ni);else{var Qr=Mn[0]+3>>3;for(Mn=0;256>Mn;Mn+=16)dn[ni+Mn]=Qr}gi=1,Rr=mi[0]}var Jn=15&$t.la,ii=15&ns.la;for(Mn=0;4>Mn;++Mn){var si=1&ii;for(Qr=qn=0;4>Qr;++Qr)Jn=Jn>>1|(si=(Vn=Zs(Xn,Rr,Vn=si+(1&Jn),mr.Sc,gi,dn,ni))>gi)<<7,qn=qn<<2|(3<Vn?3:1<Vn?2:dn[ni+0]!=0),ni+=16;Jn>>=4,ii=ii>>1|si<<7,ri=(ri<<8|qn)>>>0}for(Rr=Jn,gi=ii>>4,Cr=0;4>Cr;Cr+=2){for(qn=0,Jn=$t.la>>4+Cr,ii=ns.la>>4+Cr,Mn=0;2>Mn;++Mn){for(si=1&ii,Qr=0;2>Qr;++Qr)Vn=si+(1&Jn),Jn=Jn>>1|(si=0<(Vn=Zs(Xn,mi[2],Vn,mr.Qc,0,dn,ni)))<<3,qn=qn<<2|(3<Vn?3:1<Vn?2:dn[ni+0]!=0),ni+=16;Jn>>=2,ii=ii>>1|si<<5}vn|=qn<<4*Cr,Rr|=Jn<<4<<Cr,gi|=(240&ii)<<Cr}$t.la=Rr,ns.la=gi,qi.Hc=ri,qi.Gc=vn,qi.ia=43690&vn?0:mr.ia,mi=!(ri|vn)}if(0<lt.L&&(lt.wa[lt.Y+lt.ja]=lt.gd[un.$b][un.Za],lt.wa[lt.Y+lt.ja].La|=!mi),Nr.Ka)return _n(En,7,"Premature end-of-file encountered.")}if(Ja(En),lt=wr,Nr=1,un=(vt=En).D,$t=0<vt.L&&vt.M>=vt.zb&&vt.M<=vt.Va,vt.Aa==0)t:{if(un.M=vt.M,un.uc=$t,Qs(vt,un),Nr=1,un=(qn=vt.D).Nb,$t=(vn=Ku[vt.L])*vt.R,Xn=vn/2*vt.B,Mn=16*un*vt.R,Qr=8*un*vt.B,mi=vt.sa,qi=vt.ta-$t+Mn,mr=vt.qa,dn=vt.ra-Xn+Qr,ni=vt.Ha,ns=vt.Ia-Xn+Qr,ii=(Jn=qn.M)==0,ri=Jn>=vt.Va-1,vt.Aa==2&&Qs(vt,qn),qn.uc)for(si=(Vn=vt).D.M,e(Vn.D.uc),qn=Vn.yb;qn<Vn.Hb;++qn){gi=qn,Rr=si;var ar=(Dn=(ai=Vn).D).Nb;Cr=ai.R;var Dn=Dn.wa[Dn.Y+gi],rs=ai.sa,Vr=ai.ta+16*ar*Cr+16*gi,Bt=Dn.dd,Ht=Dn.tc;if(Ht!=0)if(e(3<=Ht),ai.L==1)0<gi&&Rg(rs,Vr,Cr,Ht+4),Dn.La&&sp(rs,Vr,Cr,Ht),0<Rr&&Cg(rs,Vr,Cr,Ht+4),Dn.La&&ip(rs,Vr,Cr,Ht);else{var jn=ai.B,Ls=ai.qa,ba=ai.ra+8*ar*jn+8*gi,_s=ai.Ha,ai=ai.Ia+8*ar*jn+8*gi;ar=Dn.ld,0<gi&&(Kr(rs,Vr,Cr,Ht+4,Bt,ar),Fa(Ls,ba,_s,ai,jn,Ht+4,Bt,ar)),Dn.La&&(Zc(rs,Vr,Cr,Ht,Bt,ar),Ng(Ls,ba,_s,ai,jn,Ht,Bt,ar)),0<Rr&&(pr(rs,Vr,Cr,Ht+4,Bt,ar),co(Ls,ba,_s,ai,jn,Ht+4,Bt,ar)),Dn.La&&(Xl(rs,Vr,Cr,Ht,Bt,ar),rp(Ls,ba,_s,ai,jn,Ht,Bt,ar))}}if(vt.ia&&alert("todo:DitherRow"),lt.put!=null){if(qn=16*Jn,Jn=16*(Jn+1),ii?(lt.y=vt.sa,lt.O=vt.ta+Mn,lt.f=vt.qa,lt.N=vt.ra+Qr,lt.ea=vt.Ha,lt.W=vt.Ia+Qr):(qn-=vn,lt.y=mi,lt.O=qi,lt.f=mr,lt.N=dn,lt.ea=ni,lt.W=ns),ri||(Jn-=vn),Jn>lt.o&&(Jn=lt.o),lt.F=null,lt.J=null,vt.Fa!=null&&0<vt.Fa.length&&qn<Jn&&(lt.J=g(vt,lt,qn,Jn-qn),lt.F=vt.mb,lt.F==null&&lt.F.length==0)){Nr=_n(vt,3,"Could not decode alpha data.");break t}qn<lt.j&&(vn=lt.j-qn,qn=lt.j,e(!(1&vn)),lt.O+=vt.R*vn,lt.N+=vt.B*(vn>>1),lt.W+=vt.B*(vn>>1),lt.F!=null&&(lt.J+=lt.width*vn)),qn<Jn&&(lt.O+=lt.v,lt.N+=lt.v>>1,lt.W+=lt.v>>1,lt.F!=null&&(lt.J+=lt.v),lt.ka=qn-lt.j,lt.U=lt.va-lt.v,lt.T=Jn-qn,Nr=lt.put(lt))}un+1!=vt.Ic||ri||(r(vt.sa,vt.ta-$t,mi,qi+16*vt.R,$t),r(vt.qa,vt.ra-Xn,mr,dn+8*vt.B,Xn),r(vt.Ha,vt.Ia-Xn,ni,ns+8*vt.B,Xn))}if(!Nr)return _n(En,6,"Output aborted.")}return 1})(se,Ee)),Ee.bc!=null&&Ee.bc(Ee),Ne&=1}return Ne?(se.cb=0,Ne):0})(m,x)||(_=m.a)}}else _=m.a}_==0&&H.Oa!=null&&H.Oa.fd&&(_=Jc(H.ba))}H=_}q=H!=0?null:11>q?Q.f.RGBA.eb:Q.f.kb.y}else q=null;return q};var yf=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function f(D,G){for(var I="",j=0;j<4;j++)I+=String.fromCharCode(D[G++]);return I}function p(D,G){return D[G+0]|D[G+1]<<8}function v(D,G){return(D[G+0]|D[G+1]<<8|D[G+2]<<16)>>>0}function E(D,G){return(D[G+0]|D[G+1]<<8|D[G+2]<<16|D[G+3]<<24)>>>0}new h;var b=[0],R=[0],P=[],M=new h,k=n,K=(function(D,G){var I={},j=0,N=!1,te=0,fe=0;if(I.frames=[],!(function(O,Y){for(var ne=0;ne<4;ne++)if(O[Y+ne]!="RIFF".charCodeAt(ne))return!0;return!1})(D,G)){for(E(D,G+=4),G+=8;G<D.length;){var re=f(D,G),ue=E(D,G+=4);G+=4;var pe=ue+(1&ue);switch(re){case"VP8 ":case"VP8L":I.frames[j]===void 0&&(I.frames[j]={}),(J=I.frames[j]).src_off=N?fe:G-8,J.src_size=te+ue+8,j++,N&&(N=!1,te=0,fe=0);break;case"VP8X":(J=I.header={}).feature_flags=D[G];var xe=G+4;J.canvas_width=1+v(D,xe),xe+=3,J.canvas_height=1+v(D,xe),xe+=3;break;case"ALPH":N=!0,te=pe+8,fe=G-8;break;case"ANIM":(J=I.header).bgcolor=E(D,G),xe=G+4,J.loop_count=p(D,xe),xe+=2;break;case"ANMF":var Be,J;(J=I.frames[j]={}).offset_x=2*v(D,G),G+=3,J.offset_y=2*v(D,G),G+=3,J.width=1+v(D,G),G+=3,J.height=1+v(D,G),G+=3,J.duration=v(D,G),G+=3,Be=D[G++],J.dispose=1&Be,J.blend=Be>>1&1}re!="ANMF"&&(G+=pe)}return I}})(k,0);K.response=k,K.rgbaoutput=!0,K.dataurl=!1;var $=K.header?K.header:null,ee=K.frames?K.frames:null;if($){$.loop_counter=$.loop_count,b=[$.canvas_height],R=[$.canvas_width];for(var ye=0;ye<ee.length&&ee[ye].blend!=0;ye++);}var ve=ee[0],z=M.WebPDecodeRGBA(k,ve.src_off,ve.src_size,R,b);ve.rgba=z,ve.imgwidth=R[0],ve.imgheight=b[0];for(var F=0;F<R[0]*b[0]*4;F++)P[F]=z[F];return this.width=R,this.height=b,this.data=P,this}(function(n){var e,t,r,i,a,l,c,h,f,p=function(O){return O=O||{},this.isStrokeTransparent=O.isStrokeTransparent||!1,this.strokeOpacity=O.strokeOpacity||1,this.strokeStyle=O.strokeStyle||"#000000",this.fillStyle=O.fillStyle||"#000000",this.isFillTransparent=O.isFillTransparent||!1,this.fillOpacity=O.fillOpacity||1,this.font=O.font||"10px sans-serif",this.textBaseline=O.textBaseline||"alphabetic",this.textAlign=O.textAlign||"left",this.lineWidth=O.lineWidth||1,this.lineJoin=O.lineJoin||"miter",this.lineCap=O.lineCap||"butt",this.path=O.path||[],this.transform=O.transform!==void 0?O.transform.clone():new h,this.globalCompositeOperation=O.globalCompositeOperation||"normal",this.globalAlpha=O.globalAlpha||1,this.clip_path=O.clip_path||[],this.currentPoint=O.currentPoint||new l,this.miterLimit=O.miterLimit||10,this.lastPoint=O.lastPoint||new l,this.lineDashOffset=O.lineDashOffset||0,this.lineDash=O.lineDash||[],this.margin=O.margin||[0,0,0,0],this.prevPageLastElemOffset=O.prevPageLastElemOffset||0,this.ignoreClearRect=typeof O.ignoreClearRect!="boolean"||O.ignoreClearRect,this};n.events.push(["initialized",function(){this.context2d=new v(this),e=this.internal.f2,t=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,a=this.internal.getVerticalCoordinate,l=this.internal.Point,c=this.internal.Rectangle,h=this.internal.Matrix,f=new p}]);var v=function(O){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var Y=O;Object.defineProperty(this,"pdf",{get:function(){return Y}});var ne=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return ne},set:function(ie){ne=!!ie}});var le=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return le},set:function(ie){le=!!ie}});var he=0;Object.defineProperty(this,"posX",{get:function(){return he},set:function(ie){isNaN(ie)||(he=ie)}});var we=0;Object.defineProperty(this,"posY",{get:function(){return we},set:function(ie){isNaN(ie)||(we=ie)}}),Object.defineProperty(this,"margin",{get:function(){return f.margin},set:function(ie){var at;typeof ie=="number"?at=[ie,ie,ie,ie]:((at=new Array(4))[0]=ie[0],at[1]=ie.length>=2?ie[1]:at[0],at[2]=ie.length>=3?ie[2]:at[0],at[3]=ie.length>=4?ie[3]:at[1]),f.margin=at}});var Oe=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Oe},set:function(ie){Oe=ie}});var Pe=0;Object.defineProperty(this,"lastBreak",{get:function(){return Pe},set:function(ie){Pe=ie}});var ze=[];Object.defineProperty(this,"pageBreaks",{get:function(){return ze},set:function(ie){ze=ie}}),Object.defineProperty(this,"ctx",{get:function(){return f},set:function(ie){ie instanceof p&&(f=ie)}}),Object.defineProperty(this,"path",{get:function(){return f.path},set:function(ie){f.path=ie}});var Ze=[];Object.defineProperty(this,"ctxStack",{get:function(){return Ze},set:function(ie){Ze=ie}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(ie){var at;at=E(ie),this.ctx.fillStyle=at.style,this.ctx.isFillTransparent=at.a===0,this.ctx.fillOpacity=at.a,this.pdf.setFillColor(at.r,at.g,at.b,{a:at.a}),this.pdf.setTextColor(at.r,at.g,at.b,{a:at.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(ie){var at=E(ie);this.ctx.strokeStyle=at.style,this.ctx.isStrokeTransparent=at.a===0,this.ctx.strokeOpacity=at.a,at.a===0?this.pdf.setDrawColor(255,255,255):(at.a,this.pdf.setDrawColor(at.r,at.g,at.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(ie){["butt","round","square"].indexOf(ie)!==-1&&(this.ctx.lineCap=ie,this.pdf.setLineCap(ie))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(ie){isNaN(ie)||(this.ctx.lineWidth=ie,this.pdf.setLineWidth(ie))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(ie){["bevel","round","miter"].indexOf(ie)!==-1&&(this.ctx.lineJoin=ie,this.pdf.setLineJoin(ie))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(ie){isNaN(ie)||(this.ctx.miterLimit=ie,this.pdf.setMiterLimit(ie))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(ie){this.ctx.textBaseline=ie}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(ie){["right","end","center","left","start"].indexOf(ie)!==-1&&(this.ctx.textAlign=ie)}});var ot=null,ct=null,_t=null;Object.defineProperty(this,"fontFaces",{get:function(){return _t},set:function(ie){ot=null,ct=null,_t=ie}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(ie){var at;if(this.ctx.font=ie,(at=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(ie))!==null){var Xt=at[1];at[2];var Rt=at[3],Ae=at[4];at[5];var pt=at[6],dt=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Ae)[2];Ae=Math.floor(dt==="px"?parseFloat(Ae)*this.pdf.internal.scaleFactor:dt==="em"?parseFloat(Ae)*this.pdf.getFontSize():parseFloat(Ae)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Ae);var Vt=(function(Et){var rr,rn,Dt=[],zt=Et.trim();if(zt==="")return _2;if(zt in $S)return[$S[zt]];for(;zt!=="";){switch(rn=null,rr=(zt=KS(zt)).charAt(0)){case'"':case"'":rn=pO(zt.substring(1),rr);break;default:rn=mO(zt)}if(rn===null||(Dt.push(rn[0]),(zt=KS(rn[1]))!==""&&zt.charAt(0)!==","))return _2;zt=zt.replace(/^,/,"")}return Dt})(pt);if(this.fontFaces){var Pt=(function(Et,rr){var rn=Et.getFontList(),Dt=JSON.stringify(rn);if(ot===null||ct!==Dt){var zt=(function(Zt){var St=[];return Object.keys(Zt).forEach(function(Ln){Zt[Ln].forEach(function(Ft){var ge=null;switch(Ft){case"bold":ge={family:Ln,weight:"bold"};break;case"italic":ge={family:Ln,style:"italic"};break;case"bolditalic":ge={family:Ln,weight:"bold",style:"italic"};break;case"":case"normal":ge={family:Ln}}ge!==null&&(ge.ref={name:Ln,style:Ft},St.push(ge))})}),St})(rn);ot=(function(Zt){for(var St={},Ln=0;Ln<Zt.length;++Ln){var Ft=v2(Zt[Ln]),ge=Ft.family,qe=Ft.stretch,Ue=Ft.style,Ke=Ft.weight;St[ge]=St[ge]||{},St[ge][qe]=St[ge][qe]||{},St[ge][qe][Ue]=St[ge][qe][Ue]||{},St[ge][qe][Ue][Ke]=Ft}return St})(zt.concat(rr)),ct=Dt}return ot})(this.pdf,this.fontFaces),Jt=Vt.map(function(Et){return{family:Et,stretch:"normal",weight:Rt,style:Xt}}),tn=(function(Et,rr,rn){for(var Dt=(rn=rn||{}).defaultFontFamily||"times",zt=Object.assign({},dO,rn.genericFontFamilies||{}),Zt=null,St=null,Ln=0;Ln<rr.length;++Ln)if(zt[(Zt=v2(rr[Ln])).family]&&(Zt.family=zt[Zt.family]),Et.hasOwnProperty(Zt.family)){St=Et[Zt.family];break}if(!(St=St||Et[Dt]))throw new Error("Could not find a font-family for the rule '"+WS(Zt)+"' and default family '"+Dt+"'.");if(St=(function(Ft,ge){if(ge[Ft])return ge[Ft];var qe=h_[Ft],Ue=qe<=h_.normal?-1:1,Ke=GS(ge,GI,qe,Ue);if(!Ke)throw new Error("Could not find a matching font-stretch value for "+Ft);return Ke})(Zt.stretch,St),St=(function(Ft,ge){if(ge[Ft])return ge[Ft];for(var qe=HI[Ft],Ue=0;Ue<qe.length;++Ue)if(ge[qe[Ue]])return ge[qe[Ue]];throw new Error("Could not find a matching font-style for "+Ft)})(Zt.style,St),!(St=(function(Ft,ge){if(ge[Ft])return ge[Ft];if(Ft===400&&ge[500])return ge[500];if(Ft===500&&ge[400])return ge[400];var qe=fO[Ft],Ue=GS(ge,$I,qe,Ft<400?-1:1);if(!Ue)throw new Error("Could not find a matching font-weight for value "+Ft);return Ue})(Zt.weight,St)))throw new Error("Failed to resolve a font for the rule '"+WS(Zt)+"'.");return St})(Pt,Jt);this.pdf.setFont(tn.ref.name,tn.ref.style)}else{var Kt="";(Rt==="bold"||parseInt(Rt,10)>=700||Xt==="bold")&&(Kt="bold"),Xt==="italic"&&(Kt+="italic"),Kt.length===0&&(Kt="normal");for(var fn="",nn={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},wt=0;wt<Vt.length;wt++){if(this.pdf.internal.getFont(Vt[wt],Kt,{noFallback:!0,disableWarning:!0})!==void 0){fn=Vt[wt];break}if(Kt==="bolditalic"&&this.pdf.internal.getFont(Vt[wt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)fn=Vt[wt],Kt="bold";else if(this.pdf.internal.getFont(Vt[wt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){fn=Vt[wt],Kt="normal";break}}if(fn===""){for(var Qt=0;Qt<Vt.length;Qt++)if(nn[Vt[Qt]]){fn=nn[Vt[Qt]];break}}fn=fn===""?"Times":fn,this.pdf.setFont(fn,Kt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(ie){this.ctx.globalCompositeOperation=ie}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(ie){this.ctx.globalAlpha=ie}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(ie){this.ctx.lineDashOffset=ie,J.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(ie){this.ctx.lineDash=ie,J.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(ie){this.ctx.ignoreClearRect=!!ie}})};v.prototype.setLineDash=function(O){this.lineDash=O},v.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},v.prototype.fill=function(){ee.call(this,"fill",!1)},v.prototype.stroke=function(){ee.call(this,"stroke",!1)},v.prototype.beginPath=function(){this.path=[{type:"begin"}]},v.prototype.moveTo=function(O,Y){if(isNaN(O)||isNaN(Y))throw Ar.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var ne=this.ctx.transform.applyToPoint(new l(O,Y));this.path.push({type:"mt",x:ne.x,y:ne.y}),this.ctx.lastPoint=new l(O,Y)},v.prototype.closePath=function(){var O=new l(0,0),Y=0;for(Y=this.path.length-1;Y!==-1;Y--)if(this.path[Y].type==="begin"&&ur(this.path[Y+1])==="object"&&typeof this.path[Y+1].x=="number"){O=new l(this.path[Y+1].x,this.path[Y+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new l(O.x,O.y)},v.prototype.lineTo=function(O,Y){if(isNaN(O)||isNaN(Y))throw Ar.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var ne=this.ctx.transform.applyToPoint(new l(O,Y));this.path.push({type:"lt",x:ne.x,y:ne.y}),this.ctx.lastPoint=new l(ne.x,ne.y)},v.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),ee.call(this,null,!0)},v.prototype.quadraticCurveTo=function(O,Y,ne,le){if(isNaN(ne)||isNaN(le)||isNaN(O)||isNaN(Y))throw Ar.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var he=this.ctx.transform.applyToPoint(new l(ne,le)),we=this.ctx.transform.applyToPoint(new l(O,Y));this.path.push({type:"qct",x1:we.x,y1:we.y,x:he.x,y:he.y}),this.ctx.lastPoint=new l(he.x,he.y)},v.prototype.bezierCurveTo=function(O,Y,ne,le,he,we){if(isNaN(he)||isNaN(we)||isNaN(O)||isNaN(Y)||isNaN(ne)||isNaN(le))throw Ar.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Oe=this.ctx.transform.applyToPoint(new l(he,we)),Pe=this.ctx.transform.applyToPoint(new l(O,Y)),ze=this.ctx.transform.applyToPoint(new l(ne,le));this.path.push({type:"bct",x1:Pe.x,y1:Pe.y,x2:ze.x,y2:ze.y,x:Oe.x,y:Oe.y}),this.ctx.lastPoint=new l(Oe.x,Oe.y)},v.prototype.arc=function(O,Y,ne,le,he,we){if(isNaN(O)||isNaN(Y)||isNaN(ne)||isNaN(le)||isNaN(he))throw Ar.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(we=!!we,!this.ctx.transform.isIdentity){var Oe=this.ctx.transform.applyToPoint(new l(O,Y));O=Oe.x,Y=Oe.y;var Pe=this.ctx.transform.applyToPoint(new l(0,ne)),ze=this.ctx.transform.applyToPoint(new l(0,0));ne=Math.sqrt(Math.pow(Pe.x-ze.x,2)+Math.pow(Pe.y-ze.y,2))}Math.abs(he-le)>=2*Math.PI&&(le=0,he=2*Math.PI),this.path.push({type:"arc",x:O,y:Y,radius:ne,startAngle:le,endAngle:he,counterclockwise:we})},v.prototype.arcTo=function(O,Y,ne,le,he){throw new Error("arcTo not implemented.")},v.prototype.rect=function(O,Y,ne,le){if(isNaN(O)||isNaN(Y)||isNaN(ne)||isNaN(le))throw Ar.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(O,Y),this.lineTo(O+ne,Y),this.lineTo(O+ne,Y+le),this.lineTo(O,Y+le),this.lineTo(O,Y),this.lineTo(O+ne,Y),this.lineTo(O,Y)},v.prototype.fillRect=function(O,Y,ne,le){if(isNaN(O)||isNaN(Y)||isNaN(ne)||isNaN(le))throw Ar.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!b.call(this)){var he={};this.lineCap!=="butt"&&(he.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(he.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(O,Y,ne,le),this.fill(),he.hasOwnProperty("lineCap")&&(this.lineCap=he.lineCap),he.hasOwnProperty("lineJoin")&&(this.lineJoin=he.lineJoin)}},v.prototype.strokeRect=function(O,Y,ne,le){if(isNaN(O)||isNaN(Y)||isNaN(ne)||isNaN(le))throw Ar.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");R.call(this)||(this.beginPath(),this.rect(O,Y,ne,le),this.stroke())},v.prototype.clearRect=function(O,Y,ne,le){if(isNaN(O)||isNaN(Y)||isNaN(ne)||isNaN(le))throw Ar.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(O,Y,ne,le))},v.prototype.save=function(O){O=typeof O!="boolean"||O;for(var Y=this.pdf.internal.getCurrentPageInfo().pageNumber,ne=0;ne<this.pdf.internal.getNumberOfPages();ne++)this.pdf.setPage(ne+1),this.pdf.internal.out("q");if(this.pdf.setPage(Y),O){this.ctx.fontSize=this.pdf.internal.getFontSize();var le=new p(this.ctx);this.ctxStack.push(this.ctx),this.ctx=le}},v.prototype.restore=function(O){O=typeof O!="boolean"||O;for(var Y=this.pdf.internal.getCurrentPageInfo().pageNumber,ne=0;ne<this.pdf.internal.getNumberOfPages();ne++)this.pdf.setPage(ne+1),this.pdf.internal.out("Q");this.pdf.setPage(Y),O&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},v.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var E=function(O){var Y,ne,le,he;if(O.isCanvasGradient===!0&&(O=O.getColor()),!O)return{r:0,g:0,b:0,a:0,style:O};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(O))Y=0,ne=0,le=0,he=0;else{var we=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(O);if(we!==null)Y=parseInt(we[1]),ne=parseInt(we[2]),le=parseInt(we[3]),he=1;else if((we=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(O))!==null)Y=parseInt(we[1]),ne=parseInt(we[2]),le=parseInt(we[3]),he=parseFloat(we[4]);else{if(he=1,typeof O=="string"&&O.charAt(0)!=="#"){var Oe=new VI(O);O=Oe.ok?Oe.toHex():"#000000"}O.length===4?(Y=O.substring(1,2),Y+=Y,ne=O.substring(2,3),ne+=ne,le=O.substring(3,4),le+=le):(Y=O.substring(1,3),ne=O.substring(3,5),le=O.substring(5,7)),Y=parseInt(Y,16),ne=parseInt(ne,16),le=parseInt(le,16)}}return{r:Y,g:ne,b:le,a:he,style:O}},b=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},R=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};v.prototype.fillText=function(O,Y,ne,le){if(isNaN(Y)||isNaN(ne)||typeof O!="string")throw Ar.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(le=isNaN(le)?void 0:le,!b.call(this)){var he=pe(this.ctx.transform.rotation),we=this.ctx.transform.scaleX;j.call(this,{text:O,x:Y,y:ne,scale:we,angle:he,align:this.textAlign,maxWidth:le})}},v.prototype.strokeText=function(O,Y,ne,le){if(isNaN(Y)||isNaN(ne)||typeof O!="string")throw Ar.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!R.call(this)){le=isNaN(le)?void 0:le;var he=pe(this.ctx.transform.rotation),we=this.ctx.transform.scaleX;j.call(this,{text:O,x:Y,y:ne,scale:we,renderingMode:"stroke",angle:he,align:this.textAlign,maxWidth:le})}},v.prototype.measureText=function(O){if(typeof O!="string")throw Ar.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var Y=this.pdf,ne=this.pdf.internal.scaleFactor,le=Y.internal.getFontSize(),he=Y.getStringUnitWidth(O)*le/Y.internal.scaleFactor;return new function(we){var Oe=(we=we||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Oe}}),this}({width:he*=Math.round(96*ne/72*1e4)/1e4})},v.prototype.scale=function(O,Y){if(isNaN(O)||isNaN(Y))throw Ar.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var ne=new h(O,0,0,Y,0,0);this.ctx.transform=this.ctx.transform.multiply(ne)},v.prototype.rotate=function(O){if(isNaN(O))throw Ar.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var Y=new h(Math.cos(O),Math.sin(O),-Math.sin(O),Math.cos(O),0,0);this.ctx.transform=this.ctx.transform.multiply(Y)},v.prototype.translate=function(O,Y){if(isNaN(O)||isNaN(Y))throw Ar.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var ne=new h(1,0,0,1,O,Y);this.ctx.transform=this.ctx.transform.multiply(ne)},v.prototype.transform=function(O,Y,ne,le,he,we){if(isNaN(O)||isNaN(Y)||isNaN(ne)||isNaN(le)||isNaN(he)||isNaN(we))throw Ar.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Oe=new h(O,Y,ne,le,he,we);this.ctx.transform=this.ctx.transform.multiply(Oe)},v.prototype.setTransform=function(O,Y,ne,le,he,we){O=isNaN(O)?1:O,Y=isNaN(Y)?0:Y,ne=isNaN(ne)?0:ne,le=isNaN(le)?1:le,he=isNaN(he)?0:he,we=isNaN(we)?0:we,this.ctx.transform=new h(O,Y,ne,le,he,we)};var P=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};v.prototype.drawImage=function(O,Y,ne,le,he,we,Oe,Pe,ze){var Ze=this.pdf.getImageProperties(O),ot=1,ct=1,_t=1,ie=1;le!==void 0&&Pe!==void 0&&(_t=Pe/le,ie=ze/he,ot=Ze.width/le*Pe/le,ct=Ze.height/he*ze/he),we===void 0&&(we=Y,Oe=ne,Y=0,ne=0),le!==void 0&&Pe===void 0&&(Pe=le,ze=he),le===void 0&&Pe===void 0&&(Pe=Ze.width,ze=Ze.height);var at=this.ctx.transform.decompose(),Xt=pe(at.rotate.shx),Rt=new h,Ae=(Rt=(Rt=(Rt=Rt.multiply(at.translate)).multiply(at.skew)).multiply(at.scale)).applyToRectangle(new c(we-Y*_t,Oe-ne*ie,le*ot,he*ct));if(this.autoPaging){for(var pt,dt=M.call(this,Ae),Vt=[],Pt=0;Pt<dt.length;Pt+=1)Vt.indexOf(dt[Pt])===-1&&Vt.push(dt[Pt]);$(Vt);for(var Jt=Vt[0],tn=Vt[Vt.length-1],Kt=Jt;Kt<tn+1;Kt++){this.pdf.setPage(Kt);var fn=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],nn=Kt===1?this.posY+this.margin[0]:this.margin[0],wt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Qt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Et=Kt===1?0:wt+(Kt-2)*Qt;if(this.ctx.clip_path.length!==0){var rr=this.path;pt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=K(pt,this.posX+this.margin[3],-Et+nn+this.ctx.prevPageLastElemOffset),ye.call(this,"fill",!0),this.path=rr}var rn=JSON.parse(JSON.stringify(Ae));rn=K([rn],this.posX+this.margin[3],-Et+nn+this.ctx.prevPageLastElemOffset)[0];var Dt=(Kt>Jt||Kt<tn)&&P.call(this);Dt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],fn,Qt,null).clip().discardPath()),this.pdf.addImage(O,"JPEG",rn.x,rn.y,rn.w,rn.h,null,null,Xt),Dt&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(O,"JPEG",Ae.x,Ae.y,Ae.w,Ae.h,null,null,Xt)};var M=function(O,Y,ne){var le=[];Y=Y||this.pdf.internal.pageSize.width,ne=ne||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var he=this.posY+this.ctx.prevPageLastElemOffset;switch(O.type){default:case"mt":case"lt":le.push(Math.floor((O.y+he)/ne)+1);break;case"arc":le.push(Math.floor((O.y+he-O.radius)/ne)+1),le.push(Math.floor((O.y+he+O.radius)/ne)+1);break;case"qct":var we=xe(this.ctx.lastPoint.x,this.ctx.lastPoint.y,O.x1,O.y1,O.x,O.y);le.push(Math.floor((we.y+he)/ne)+1),le.push(Math.floor((we.y+we.h+he)/ne)+1);break;case"bct":var Oe=Be(this.ctx.lastPoint.x,this.ctx.lastPoint.y,O.x1,O.y1,O.x2,O.y2,O.x,O.y);le.push(Math.floor((Oe.y+he)/ne)+1),le.push(Math.floor((Oe.y+Oe.h+he)/ne)+1);break;case"rect":le.push(Math.floor((O.y+he)/ne)+1),le.push(Math.floor((O.y+O.h+he)/ne)+1)}for(var Pe=0;Pe<le.length;Pe+=1)for(;this.pdf.internal.getNumberOfPages()<le[Pe];)k.call(this);return le},k=function(){var O=this.fillStyle,Y=this.strokeStyle,ne=this.font,le=this.lineCap,he=this.lineWidth,we=this.lineJoin;this.pdf.addPage(),this.fillStyle=O,this.strokeStyle=Y,this.font=ne,this.lineCap=le,this.lineWidth=he,this.lineJoin=we},K=function(O,Y,ne){for(var le=0;le<O.length;le++)switch(O[le].type){case"bct":O[le].x2+=Y,O[le].y2+=ne;case"qct":O[le].x1+=Y,O[le].y1+=ne;default:O[le].x+=Y,O[le].y+=ne}return O},$=function(O){return O.sort(function(Y,ne){return Y-ne})},ee=function(O,Y){var ne=this.fillStyle,le=this.strokeStyle,he=this.lineCap,we=this.lineWidth,Oe=Math.abs(we*this.ctx.transform.scaleX),Pe=this.lineJoin;if(this.autoPaging){for(var ze,Ze,ot=JSON.parse(JSON.stringify(this.path)),ct=JSON.parse(JSON.stringify(this.path)),_t=[],ie=0;ie<ct.length;ie++)if(ct[ie].x!==void 0)for(var at=M.call(this,ct[ie]),Xt=0;Xt<at.length;Xt+=1)_t.indexOf(at[Xt])===-1&&_t.push(at[Xt]);for(var Rt=0;Rt<_t.length;Rt++)for(;this.pdf.internal.getNumberOfPages()<_t[Rt];)k.call(this);$(_t);for(var Ae=_t[0],pt=_t[_t.length-1],dt=Ae;dt<pt+1;dt++){this.pdf.setPage(dt),this.fillStyle=ne,this.strokeStyle=le,this.lineCap=he,this.lineWidth=Oe,this.lineJoin=Pe;var Vt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Pt=dt===1?this.posY+this.margin[0]:this.margin[0],Jt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],tn=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Kt=dt===1?0:Jt+(dt-2)*tn;if(this.ctx.clip_path.length!==0){var fn=this.path;ze=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=K(ze,this.posX+this.margin[3],-Kt+Pt+this.ctx.prevPageLastElemOffset),ye.call(this,O,!0),this.path=fn}if(Ze=JSON.parse(JSON.stringify(ot)),this.path=K(Ze,this.posX+this.margin[3],-Kt+Pt+this.ctx.prevPageLastElemOffset),Y===!1||dt===0){var nn=(dt>Ae||dt<pt)&&P.call(this);nn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Vt,tn,null).clip().discardPath()),ye.call(this,O,Y),nn&&this.pdf.restoreGraphicsState()}this.lineWidth=we}this.path=ot}else this.lineWidth=Oe,ye.call(this,O,Y),this.lineWidth=we},ye=function(O,Y){if((O!=="stroke"||Y||!R.call(this))&&(O==="stroke"||Y||!b.call(this))){for(var ne,le,he=[],we=this.path,Oe=0;Oe<we.length;Oe++){var Pe=we[Oe];switch(Pe.type){case"begin":he.push({begin:!0});break;case"close":he.push({close:!0});break;case"mt":he.push({start:Pe,deltas:[],abs:[]});break;case"lt":var ze=he.length;if(we[Oe-1]&&!isNaN(we[Oe-1].x)&&(ne=[Pe.x-we[Oe-1].x,Pe.y-we[Oe-1].y],ze>0)){for(;ze>=0;ze--)if(he[ze-1].close!==!0&&he[ze-1].begin!==!0){he[ze-1].deltas.push(ne),he[ze-1].abs.push(Pe);break}}break;case"bct":ne=[Pe.x1-we[Oe-1].x,Pe.y1-we[Oe-1].y,Pe.x2-we[Oe-1].x,Pe.y2-we[Oe-1].y,Pe.x-we[Oe-1].x,Pe.y-we[Oe-1].y],he[he.length-1].deltas.push(ne);break;case"qct":var Ze=we[Oe-1].x+2/3*(Pe.x1-we[Oe-1].x),ot=we[Oe-1].y+2/3*(Pe.y1-we[Oe-1].y),ct=Pe.x+2/3*(Pe.x1-Pe.x),_t=Pe.y+2/3*(Pe.y1-Pe.y),ie=Pe.x,at=Pe.y;ne=[Ze-we[Oe-1].x,ot-we[Oe-1].y,ct-we[Oe-1].x,_t-we[Oe-1].y,ie-we[Oe-1].x,at-we[Oe-1].y],he[he.length-1].deltas.push(ne);break;case"arc":he.push({deltas:[],abs:[],arc:!0}),Array.isArray(he[he.length-1].abs)&&he[he.length-1].abs.push(Pe)}}le=Y?null:O==="stroke"?"stroke":"fill";for(var Xt=!1,Rt=0;Rt<he.length;Rt++)if(he[Rt].arc)for(var Ae=he[Rt].abs,pt=0;pt<Ae.length;pt++){var dt=Ae[pt];dt.type==="arc"?F.call(this,dt.x,dt.y,dt.radius,dt.startAngle,dt.endAngle,dt.counterclockwise,void 0,Y,!Xt):N.call(this,dt.x,dt.y),Xt=!0}else if(he[Rt].close===!0)this.pdf.internal.out("h"),Xt=!1;else if(he[Rt].begin!==!0){var Vt=he[Rt].start.x,Pt=he[Rt].start.y;te.call(this,he[Rt].deltas,Vt,Pt),Xt=!0}le&&D.call(this,le),Y&&G.call(this)}},ve=function(O){var Y=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,ne=Y*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return O-ne;case"top":return O+Y-ne;case"hanging":return O+Y-2*ne;case"middle":return O+Y/2-ne;default:return O}},z=function(O){return O+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};v.prototype.createLinearGradient=function(){var O=function(){};return O.colorStops=[],O.addColorStop=function(Y,ne){this.colorStops.push([Y,ne])},O.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},O.isCanvasGradient=!0,O},v.prototype.createPattern=function(){return this.createLinearGradient()},v.prototype.createRadialGradient=function(){return this.createLinearGradient()};var F=function(O,Y,ne,le,he,we,Oe,Pe,ze){for(var Ze=re.call(this,ne,le,he,we),ot=0;ot<Ze.length;ot++){var ct=Ze[ot];ot===0&&(ze?I.call(this,ct.x1+O,ct.y1+Y):N.call(this,ct.x1+O,ct.y1+Y)),fe.call(this,O,Y,ct.x2,ct.y2,ct.x3,ct.y3,ct.x4,ct.y4)}Pe?G.call(this):D.call(this,Oe)},D=function(O){switch(O){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},G=function(){this.pdf.clip(),this.pdf.discardPath()},I=function(O,Y){this.pdf.internal.out(t(O)+" "+r(Y)+" m")},j=function(O){var Y;switch(O.align){case"right":case"end":Y="right";break;case"center":Y="center";break;default:Y="left"}var ne,le,he,we=this.pdf.getTextDimensions(O.text),Oe=ve.call(this,O.y),Pe=z.call(this,Oe)-we.h,ze=this.ctx.transform.applyToPoint(new l(O.x,Oe));if(this.autoPaging){var Ze=this.ctx.transform.decompose(),ot=new h;ot=(ot=(ot=ot.multiply(Ze.translate)).multiply(Ze.skew)).multiply(Ze.scale);for(var ct=this.ctx.transform.applyToRectangle(new c(O.x,Oe,we.w,we.h)),_t=ot.applyToRectangle(new c(O.x,Pe,we.w,we.h)),ie=M.call(this,_t),at=[],Xt=0;Xt<ie.length;Xt+=1)at.indexOf(ie[Xt])===-1&&at.push(ie[Xt]);$(at);for(var Rt=at[0],Ae=at[at.length-1],pt=Rt;pt<Ae+1;pt++){this.pdf.setPage(pt);var dt=pt===1?this.posY+this.margin[0]:this.margin[0],Vt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Pt=this.pdf.internal.pageSize.height-this.margin[2],Jt=Pt-this.margin[0],tn=this.pdf.internal.pageSize.width-this.margin[1],Kt=tn-this.margin[3],fn=pt===1?0:Vt+(pt-2)*Jt;if(this.ctx.clip_path.length!==0){var nn=this.path;ne=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=K(ne,this.posX+this.margin[3],-1*fn+dt),ye.call(this,"fill",!0),this.path=nn}var wt=K([JSON.parse(JSON.stringify(_t))],this.posX+this.margin[3],-fn+dt+this.ctx.prevPageLastElemOffset)[0];O.scale>=.01&&(le=this.pdf.internal.getFontSize(),this.pdf.setFontSize(le*O.scale),he=this.lineWidth,this.lineWidth=he*O.scale);var Qt=this.autoPaging!=="text";if(Qt||wt.y+wt.h<=Pt){if(Qt||wt.y>=dt&&wt.x<=tn){var Et=Qt?O.text:this.pdf.splitTextToSize(O.text,O.maxWidth||tn-wt.x)[0],rr=K([JSON.parse(JSON.stringify(ct))],this.posX+this.margin[3],-fn+dt+this.ctx.prevPageLastElemOffset)[0],rn=Qt&&(pt>Rt||pt<Ae)&&P.call(this);rn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Kt,Jt,null).clip().discardPath()),this.pdf.text(Et,rr.x,rr.y,{angle:O.angle,align:Y,renderingMode:O.renderingMode}),rn&&this.pdf.restoreGraphicsState()}}else wt.y<Pt&&(this.ctx.prevPageLastElemOffset+=Pt-wt.y);O.scale>=.01&&(this.pdf.setFontSize(le),this.lineWidth=he)}}else O.scale>=.01&&(le=this.pdf.internal.getFontSize(),this.pdf.setFontSize(le*O.scale),he=this.lineWidth,this.lineWidth=he*O.scale),this.pdf.text(O.text,ze.x+this.posX,ze.y+this.posY,{angle:O.angle,align:Y,renderingMode:O.renderingMode,maxWidth:O.maxWidth}),O.scale>=.01&&(this.pdf.setFontSize(le),this.lineWidth=he)},N=function(O,Y,ne,le){ne=ne||0,le=le||0,this.pdf.internal.out(t(O+ne)+" "+r(Y+le)+" l")},te=function(O,Y,ne){return this.pdf.lines(O,Y,ne,null,null)},fe=function(O,Y,ne,le,he,we,Oe,Pe){this.pdf.internal.out([e(i(ne+O)),e(a(le+Y)),e(i(he+O)),e(a(we+Y)),e(i(Oe+O)),e(a(Pe+Y)),"c"].join(" "))},re=function(O,Y,ne,le){for(var he=2*Math.PI,we=Math.PI/2;Y>ne;)Y-=he;var Oe=Math.abs(ne-Y);Oe<he&&le&&(Oe=he-Oe);for(var Pe=[],ze=le?-1:1,Ze=Y;Oe>1e-5;){var ot=Ze+ze*Math.min(Oe,we);Pe.push(ue.call(this,O,Ze,ot)),Oe-=Math.abs(ot-Ze),Ze=ot}return Pe},ue=function(O,Y,ne){var le=(ne-Y)/2,he=O*Math.cos(le),we=O*Math.sin(le),Oe=he,Pe=-we,ze=Oe*Oe+Pe*Pe,Ze=ze+Oe*he+Pe*we,ot=4/3*(Math.sqrt(2*ze*Ze)-Ze)/(Oe*we-Pe*he),ct=Oe-ot*Pe,_t=Pe+ot*Oe,ie=ct,at=-_t,Xt=le+Y,Rt=Math.cos(Xt),Ae=Math.sin(Xt);return{x1:O*Math.cos(Y),y1:O*Math.sin(Y),x2:ct*Rt-_t*Ae,y2:ct*Ae+_t*Rt,x3:ie*Rt-at*Ae,y3:ie*Ae+at*Rt,x4:O*Math.cos(ne),y4:O*Math.sin(ne)}},pe=function(O){return 180*O/Math.PI},xe=function(O,Y,ne,le,he,we){var Oe=O+.5*(ne-O),Pe=Y+.5*(le-Y),ze=he+.5*(ne-he),Ze=we+.5*(le-we),ot=Math.min(O,he,Oe,ze),ct=Math.max(O,he,Oe,ze),_t=Math.min(Y,we,Pe,Ze),ie=Math.max(Y,we,Pe,Ze);return new c(ot,_t,ct-ot,ie-_t)},Be=function(O,Y,ne,le,he,we,Oe,Pe){var ze,Ze,ot,ct,_t,ie,at,Xt,Rt,Ae,pt,dt,Vt,Pt,Jt=ne-O,tn=le-Y,Kt=he-ne,fn=we-le,nn=Oe-he,wt=Pe-we;for(Ze=0;Ze<41;Ze++)Rt=(at=(ot=O+(ze=Ze/40)*Jt)+ze*((_t=ne+ze*Kt)-ot))+ze*(_t+ze*(he+ze*nn-_t)-at),Ae=(Xt=(ct=Y+ze*tn)+ze*((ie=le+ze*fn)-ct))+ze*(ie+ze*(we+ze*wt-ie)-Xt),Ze==0?(pt=Rt,dt=Ae,Vt=Rt,Pt=Ae):(pt=Math.min(pt,Rt),dt=Math.min(dt,Ae),Vt=Math.max(Vt,Rt),Pt=Math.max(Pt,Ae));return new c(Math.round(pt),Math.round(dt),Math.round(Vt-pt),Math.round(Pt-dt))},J=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var O,Y,ne=(O=this.ctx.lineDash,Y=this.ctx.lineDashOffset,JSON.stringify({lineDash:O,lineDashOffset:Y}));this.prevLineDash!==ne&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=ne)}}})(kt.API),(function(n){var e=function(l){var c,h,f,p,v,E,b,R,P,M;for(h=[],f=0,p=(l+=c="\0\0\0\0".slice(l.length%4||4)).length;p>f;f+=4)(v=(l.charCodeAt(f)<<24)+(l.charCodeAt(f+1)<<16)+(l.charCodeAt(f+2)<<8)+l.charCodeAt(f+3))!==0?(E=(v=((v=((v=((v=(v-(M=v%85))/85)-(P=v%85))/85)-(R=v%85))/85)-(b=v%85))/85)%85,h.push(E+33,b+33,R+33,P+33,M+33)):h.push(122);return(function(k,K){for(var $=K;$>0;$--)k.pop()})(h,c.length),String.fromCharCode.apply(String,h)+"~>"},t=function(l){var c,h,f,p,v,E=String,b="length",R=255,P="charCodeAt",M="slice",k="replace";for(l[M](-2),l=l[M](0,-2)[k](/\s/g,"")[k]("z","!!!!!"),f=[],p=0,v=(l+=c="uuuuu"[M](l[b]%5||5))[b];v>p;p+=5)h=52200625*(l[P](p)-33)+614125*(l[P](p+1)-33)+7225*(l[P](p+2)-33)+85*(l[P](p+3)-33)+(l[P](p+4)-33),f.push(R&h>>24,R&h>>16,R&h>>8,R&h);return(function(K,$){for(var ee=$;ee>0;ee--)K.pop()})(f,c[b]),E.fromCharCode.apply(E,f)},r=function(l){return l.split("").map(function(c){return("0"+c.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(l){var c=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((l=l.replace(/\s/g,"")).indexOf(">")!==-1&&(l=l.substr(0,l.indexOf(">"))),l.length%2&&(l+="0"),c.test(l)===!1)return"";for(var h="",f=0;f<l.length;f+=2)h+=String.fromCharCode("0x"+(l[f]+l[f+1]));return h},a=function(l){for(var c=new Uint8Array(l.length),h=l.length;h--;)c[h]=l.charCodeAt(h);return(c=i_(c)).reduce(function(f,p){return f+String.fromCharCode(p)},"")};n.processDataByFilters=function(l,c){var h=0,f=l||"",p=[];for(typeof(c=c||[])=="string"&&(c=[c]),h=0;h<c.length;h+=1)switch(c[h]){case"ASCII85Decode":case"/ASCII85Decode":f=t(f),p.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":f=e(f),p.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":f=i(f),p.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":f=r(f),p.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":f=a(f),p.push("/FlateDecode");break;default:throw new Error('The filter: "'+c[h]+'" is not implemented')}return{data:f,reverseChain:p.reverse().join(" ")}}})(kt.API),(function(n){n.loadFile=function(e,t,r){return(function(i,a,l){a=a!==!1,l=typeof l=="function"?l:function(){};var c=void 0;try{c=(function(h,f,p){var v=new XMLHttpRequest,E=0,b=function(R){var P=R.length,M=[],k=String.fromCharCode;for(E=0;E<P;E+=1)M.push(k(255&R.charCodeAt(E)));return M.join("")};if(v.open("GET",h,!f),v.overrideMimeType("text/plain; charset=x-user-defined"),f===!1&&(v.onload=function(){v.status===200?p(b(this.responseText)):p(void 0)}),v.send(null),f&&v.status===200)return b(v.responseText)})(i,a,l)}catch{}return c})(e,t,r)},n.loadImageFile=n.loadFile})(kt.API),(function(n){function e(){return(on.html2canvas?Promise.resolve(on.html2canvas):e2(()=>import("./html2canvas.esm-Ge7aVWlp.js"),[])).catch(function(c){return Promise.reject(new Error("Could not load html2canvas: "+c))}).then(function(c){return c.default?c.default:c})}function t(){return(on.DOMPurify?Promise.resolve(on.DOMPurify):e2(()=>import("./purify.es-C65SP4u9.js"),[])).catch(function(c){return Promise.reject(new Error("Could not load dompurify: "+c))}).then(function(c){return c.default?c.default:c})}var r=function(c){var h=ur(c);return h==="undefined"?"undefined":h==="string"||c instanceof String?"string":h==="number"||c instanceof Number?"number":h==="function"||c instanceof Function?"function":c&&c.constructor===Array?"array":c&&c.nodeType===1?"element":h==="object"?"object":"unknown"},i=function(c,h){var f=document.createElement(c);for(var p in h.className&&(f.className=h.className),h.innerHTML&&h.dompurify&&(f.innerHTML=h.dompurify.sanitize(h.innerHTML)),h.style)f.style[p]=h.style[p];return f},a=function c(h,f){for(var p=h.nodeType===3?document.createTextNode(h.nodeValue):h.cloneNode(!1),v=h.firstChild;v;v=v.nextSibling)f!==!0&&v.nodeType===1&&v.nodeName==="SCRIPT"||p.appendChild(c(v,f));return h.nodeType===1&&(h.nodeName==="CANVAS"?(p.width=h.width,p.height=h.height,p.getContext("2d").drawImage(h,0,0)):h.nodeName!=="TEXTAREA"&&h.nodeName!=="SELECT"||(p.value=h.value),p.addEventListener("load",function(){p.scrollTop=h.scrollTop,p.scrollLeft=h.scrollLeft},!0)),p},l=function c(h){var f=Object.assign(c.convert(Promise.resolve()),JSON.parse(JSON.stringify(c.template))),p=c.convert(Promise.resolve(),f);return(p=p.setProgress(1,c,1,[c])).set(h)};(l.prototype=Object.create(Promise.prototype)).constructor=l,l.convert=function(c,h){return c.__proto__=h||l.prototype,c},l.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},l.prototype.from=function(c,h){return this.then(function(){switch(h=h||(function(f){switch(r(f)){case"string":return"string";case"element":return f.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(c),h){case"string":return this.then(t).then(function(f){return this.set({src:i("div",{innerHTML:c,dompurify:f})})});case"element":return this.set({src:c});case"canvas":return this.set({canvas:c});case"img":return this.set({img:c});default:return this.error("Unknown source type.")}})},l.prototype.to=function(c){switch(c){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},l.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var c={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},h=a(this.prop.src,this.opt.html2canvas.javascriptEnabled);h.tagName==="BODY"&&(c.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:c}),this.prop.container.appendChild(h),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},l.prototype.toCanvas=function(){var c=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(c).then(e).then(function(h){var f=Object.assign({},this.opt.html2canvas);return delete f.onrendered,h(this.prop.container,f)}).then(function(h){(this.opt.html2canvas.onrendered||function(){})(h),this.prop.canvas=h,document.body.removeChild(this.prop.overlay)})},l.prototype.toContext2d=function(){var c=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(c).then(e).then(function(h){var f=this.opt.jsPDF,p=this.opt.fontFaces,v=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,E=Object.assign({async:!0,allowTaint:!0,scale:v,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete E.onrendered,f.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,f.context2d.posX=this.opt.x,f.context2d.posY=this.opt.y,f.context2d.margin=this.opt.margin,f.context2d.fontFaces=p,p)for(var b=0;b<p.length;++b){var R=p[b],P=R.src.find(function(M){return M.format==="truetype"});P&&f.addFont(P.url,R.ref.name,R.ref.style)}return E.windowHeight=E.windowHeight||0,E.windowHeight=E.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):E.windowHeight,f.context2d.save(!0),h(this.prop.container,E)}).then(function(h){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(h),this.prop.canvas=h,document.body.removeChild(this.prop.overlay)})},l.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var c=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=c})},l.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},l.prototype.output=function(c,h,f){return(f=f||"pdf").toLowerCase()==="img"||f.toLowerCase()==="image"?this.outputImg(c,h):this.outputPdf(c,h)},l.prototype.outputPdf=function(c,h){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(c,h)})},l.prototype.outputImg=function(c){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(c){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+c+'" is not supported.'}})},l.prototype.save=function(c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(c?{filename:c}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},l.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},l.prototype.set=function(c){if(r(c)!=="object")return this;var h=Object.keys(c||{}).map(function(f){if(f in l.template.prop)return function(){this.prop[f]=c[f]};switch(f){case"margin":return this.setMargin.bind(this,c.margin);case"jsPDF":return function(){return this.opt.jsPDF=c.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,c.pageSize);default:return function(){this.opt[f]=c[f]}}},this);return this.then(function(){return this.thenList(h)})},l.prototype.get=function(c,h){return this.then(function(){var f=c in l.template.prop?this.prop[c]:this.opt[c];return h?h(f):f})},l.prototype.setMargin=function(c){return this.then(function(){switch(r(c)){case"number":c=[c,c,c,c];case"array":if(c.length===2&&(c=[c[0],c[1],c[0],c[1]]),c.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=c}).then(this.setPageSize)},l.prototype.setPageSize=function(c){function h(f,p){return Math.floor(f*p/72*96)}return this.then(function(){(c=c||kt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(c.inner={width:c.width-this.opt.margin[1]-this.opt.margin[3],height:c.height-this.opt.margin[0]-this.opt.margin[2]},c.inner.px={width:h(c.inner.width,c.k),height:h(c.inner.height,c.k)},c.inner.ratio=c.inner.height/c.inner.width),this.prop.pageSize=c})},l.prototype.setProgress=function(c,h,f,p){return c!=null&&(this.progress.val=c),h!=null&&(this.progress.state=h),f!=null&&(this.progress.n=f),p!=null&&(this.progress.stack=p),this.progress.ratio=this.progress.val/this.progress.state,this},l.prototype.updateProgress=function(c,h,f,p){return this.setProgress(c?this.progress.val+c:null,h||null,f?this.progress.n+f:null,p?this.progress.stack.concat(p):null)},l.prototype.then=function(c,h){var f=this;return this.thenCore(c,h,function(p,v){return f.updateProgress(null,null,1,[p]),Promise.prototype.then.call(this,function(E){return f.updateProgress(null,p),E}).then(p,v).then(function(E){return f.updateProgress(1),E})})},l.prototype.thenCore=function(c,h,f){f=f||Promise.prototype.then;var p=this;c&&(c=c.bind(p)),h&&(h=h.bind(p));var v=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?p:l.convert(Object.assign({},p),Promise.prototype),E=f.call(v,c,h);return l.convert(E,p.__proto__)},l.prototype.thenExternal=function(c,h){return Promise.prototype.then.call(this,c,h)},l.prototype.thenList=function(c){var h=this;return c.forEach(function(f){h=h.thenCore(f)}),h},l.prototype.catch=function(c){c&&(c=c.bind(this));var h=Promise.prototype.catch.call(this,c);return l.convert(h,this)},l.prototype.catchExternal=function(c){return Promise.prototype.catch.call(this,c)},l.prototype.error=function(c){return this.then(function(){throw new Error(c)})},l.prototype.using=l.prototype.set,l.prototype.saveAs=l.prototype.save,l.prototype.export=l.prototype.output,l.prototype.run=l.prototype.then,kt.getPageSize=function(c,h,f){if(ur(c)==="object"){var p=c;c=p.orientation,h=p.unit||h,f=p.format||f}h=h||"mm",f=f||"a4",c=(""+(c||"P")).toLowerCase();var v,E=(""+f).toLowerCase(),b={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(h){case"pt":v=1;break;case"mm":v=72/25.4;break;case"cm":v=72/2.54;break;case"in":v=72;break;case"px":v=.75;break;case"pc":case"em":v=12;break;case"ex":v=6;break;default:throw"Invalid unit: "+h}var R,P=0,M=0;if(b.hasOwnProperty(E))P=b[E][1]/v,M=b[E][0]/v;else try{P=f[1],M=f[0]}catch{throw new Error("Invalid format: "+f)}if(c==="p"||c==="portrait")c="p",M>P&&(R=M,M=P,P=R);else{if(c!=="l"&&c!=="landscape")throw"Invalid orientation: "+c;c="l",P>M&&(R=M,M=P,P=R)}return{width:M,height:P,unit:h,k:v,orientation:c}},n.html=function(c,h){(h=h||{}).callback=h.callback||function(){},h.html2canvas=h.html2canvas||{},h.html2canvas.canvas=h.html2canvas.canvas||this.canvas,h.jsPDF=h.jsPDF||this,h.fontFaces=h.fontFaces?h.fontFaces.map(v2):null;var f=new l(h);return h.worker?f:f.from(c).doCallback()}})(kt.API),kt.API.addJS=function(n){return QS=n,this.internal.events.subscribe("postPutResources",function(){C1=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(C1+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),YS=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+QS+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){C1!==void 0&&YS!==void 0&&this.internal.out("/Names <</JavaScript "+C1+" 0 R>>")}),this},(function(n){var e;n.events.push(["postPutResources",function(){var t=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=t.outline.render().split(/\r\n/),a=0;a<i.length;a++){var l=i[a],c=r.exec(l);if(c!=null){var h=c[1];t.internal.newObjectDeferredBegin(h,!1)}t.internal.write(l)}if(this.outline.createNamedDestinations){var f=this.internal.pages.length,p=[];for(a=0;a<f;a++){var v=t.internal.newObject();p.push(v);var E=t.internal.getPageInfo(a+1);t.internal.write("<< /D["+E.objId+" 0 R /XYZ null null null]>> endobj")}var b=t.internal.newObject();for(t.internal.write("<< /Names [ "),a=0;a<p.length;a++)t.internal.write("(page_"+(a+1)+")"+p[a]+" 0 R");t.internal.write(" ] >>","endobj"),e=t.internal.newObject(),t.internal.write("<< /Dests "+b+" 0 R"),t.internal.write(">>","endobj")}}]),n.events.push(["putCatalog",function(){var t=this;t.outline.root.children.length>0&&(t.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&t.internal.write("/Names "+e+" 0 R"))}]),n.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(r,i,a){var l={title:i,options:a,children:[]};return r==null&&(r=this.root),r.children.push(l),l},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(r){r.id=t.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},t.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},t.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,a=0;a<r.children.length;a++){var l=r.children[a];this.objStart(l),this.line("/Title "+this.makeString(l.title)),this.line("/Parent "+this.makeRef(r)),a>0&&this.line("/Prev "+this.makeRef(r.children[a-1])),a<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[a+1])),l.children.length>0&&(this.line("/First "+this.makeRef(l.children[0])),this.line("/Last "+this.makeRef(l.children[l.children.length-1])));var c=this.count=this.count_r({count:0},l);if(c>0&&this.line("/Count "+c),l.options&&l.options.pageNumber){var h=t.internal.getPageInfo(l.options.pageNumber);this.line("/Dest ["+h.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var f=0;f<r.children.length;f++)this.renderItems(r.children[f])},t.outline.line=function(r){this.ctx.val+=r+`\r
`},t.outline.makeRef=function(r){return r.id+" 0 R"},t.outline.makeString=function(r){return"("+t.internal.pdfEscape(r)+")"},t.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},t.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},t.outline.count_r=function(r,i){for(var a=0;a<i.children.length;a++)r.count++,this.count_r(r,i.children[a]);return r.count}}])})(kt.API),(function(n){var e=[192,193,194,195,196,197,198,199];n.processJPEG=function(t,r,i,a,l,c){var h,f=this.decode.DCT_DECODE,p=null;if(typeof t=="string"||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=l||t,t=this.__addimage__.isArrayBuffer(t)?new Uint8Array(t):t,h=(function(v){for(var E,b=256*v.charCodeAt(4)+v.charCodeAt(5),R=v.length,P={width:0,height:0,numcomponents:1},M=4;M<R;M+=2){if(M+=b,e.indexOf(v.charCodeAt(M+1))!==-1){E=256*v.charCodeAt(M+5)+v.charCodeAt(M+6),P={width:256*v.charCodeAt(M+7)+v.charCodeAt(M+8),height:E,numcomponents:v.charCodeAt(M+9)};break}b=256*v.charCodeAt(M+2)+v.charCodeAt(M+3)}return P})(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t),h.numcomponents){case 1:c=this.color_spaces.DEVICE_GRAY;break;case 4:c=this.color_spaces.DEVICE_CMYK;break;case 3:c=this.color_spaces.DEVICE_RGB}p={data:t,width:h.width,height:h.height,colorSpace:c,bitsPerComponent:8,filter:f,index:r,alias:i}}return p}})(kt.API),kt.API.processPNG=function(n,e,t,r){if(this.__addimage__.isArrayBuffer(n)&&(n=new Uint8Array(n)),this.__addimage__.isArrayBufferView(n)){var i,a=J8(n,{checkCrc:!0}),l=a.width,c=a.height,h=a.channels,f=a.palette,p=a.depth;i=f&&h===1?(function(F){for(var D=F.width,G=F.height,I=F.data,j=F.palette,N=F.depth,te=!1,fe=[],re=[],ue=void 0,pe=!1,xe=0,Be=0;Be<j.length;Be++){var J=eS(j[Be],4),O=J[0],Y=J[1],ne=J[2],le=J[3];fe.push(O,Y,ne),le!=null&&(le===0?(xe++,re.length<1&&re.push(Be)):le<255&&(pe=!0))}if(pe||xe>1){te=!0,re=void 0;var he=D*G;ue=new Uint8Array(he);for(var we=new DataView(I.buffer),Oe=0;Oe<he;Oe++){var Pe=b2(we,Oe,N),ze=eS(j[Pe],4)[3];ue[Oe]=ze}}else xe===0&&(re=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:te?8:void 0,colorBytes:I,alphaBytes:ue,needSMask:te,palette:fe,mask:re}})(a):h===2||h===4?(function(F){for(var D=F.data,G=F.width,I=F.height,j=F.channels,N=F.depth,te=j===2?"DeviceGray":"DeviceRGB",fe=j-1,re=G*I,ue=fe,pe=re*ue,xe=1*re,Be=Math.ceil(pe*N/8),J=Math.ceil(xe*N/8),O=new Uint8Array(Be),Y=new Uint8Array(J),ne=new DataView(D.buffer),le=new DataView(O.buffer),he=new DataView(Y.buffer),we=!1,Oe=0;Oe<re;Oe++){for(var Pe=Oe*j,ze=0;ze<ue;ze++)sT(le,b2(ne,Pe+ze,N),Oe*ue+ze,N);var Ze=b2(ne,Pe+ue,N);Ze<(1<<N)-1&&(we=!0),sT(he,Ze,1*Oe,N)}return{colorSpace:te,colorsPerPixel:fe,sMaskBitsPerComponent:we?N:void 0,colorBytes:O,alphaBytes:Y,needSMask:we}})(a):(function(F){var D=F.data,G=F.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:G,colorsPerPixel:G==="DeviceGray"?1:3,colorBytes:D instanceof Uint16Array?(function(I){for(var j=I.length,N=new Uint8Array(2*j),te=new DataView(N.buffer,N.byteOffset,N.byteLength),fe=0;fe<j;fe++)te.setUint16(2*fe,I[fe],!1);return N})(D):D,needSMask:!1}})(a);var v,E,b,R=i,P=R.colorSpace,M=R.colorsPerPixel,k=R.sMaskBitsPerComponent,K=R.colorBytes,$=R.alphaBytes,ee=R.needSMask,ye=R.palette,ve=R.mask,z=null;return r!==kt.API.image_compression.NONE&&typeof i_=="function"?(z=(function(F){var D;switch(F){case kt.API.image_compression.FAST:D=11;break;case kt.API.image_compression.MEDIUM:D=13;break;case kt.API.image_compression.SLOW:D=14;break;default:D=12}return D})(r),v=this.decode.FLATE_DECODE,E="/Predictor ".concat(z," /Colors ").concat(M," /BitsPerComponent ").concat(p," /Columns ").concat(l),n=eT(K,Math.ceil(l*M*p/8),M,p,r),ee&&(b=eT($,Math.ceil(l*k/8),1,k,r))):(v=void 0,E=void 0,n=K,ee&&(b=$)),(this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n))&&(n=this.__addimage__.arrayBufferToBinaryString(n)),(b&&this.__addimage__.isArrayBuffer(b)||this.__addimage__.isArrayBufferView(b))&&(b=this.__addimage__.arrayBufferToBinaryString(b)),{alias:t,data:n,index:e,filter:v,decodeParameters:E,transparency:ve,palette:ye,sMask:b,predictor:z,width:l,height:c,bitsPerComponent:p,sMaskBitsPerComponent:k,colorSpace:P}}},(function(n){n.processGIF89A=function(e,t,r,i){var a=new _O(e),l=a.width,c=a.height,h=[];a.decodeAndBlitFrameRGBA(0,h);var f={data:h,width:l,height:c},p=new w2(100).encode(f,100);return n.processJPEG.call(this,p,t,r,i)},n.processGIF87A=n.processGIF89A})(kt.API),Ho.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var n=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(n);for(var e=0;e<n;e++){var t=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:r,blue:t,quad:a}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Ho.prototype.parseBGR=function(){this.pos=this.offset;try{var n="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[n]()}catch(t){Ar.log("bit decode error:"+t)}},Ho.prototype.bit1=function(){var n,e=Math.ceil(this.width/8),t=e%4;for(n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<e;i++)for(var a=this.datav.getUint8(this.pos++,!0),l=r*this.width*4+8*i*4,c=0;c<8&&8*i+c<this.width;c++){var h=this.palette[a>>7-c&1];this.data[l+4*c]=h.blue,this.data[l+4*c+1]=h.green,this.data[l+4*c+2]=h.red,this.data[l+4*c+3]=255}t!==0&&(this.pos+=4-t)}},Ho.prototype.bit4=function(){for(var n=Math.ceil(this.width/2),e=n%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<n;i++){var a=this.datav.getUint8(this.pos++,!0),l=r*this.width*4+2*i*4,c=a>>4,h=15&a,f=this.palette[c];if(this.data[l]=f.blue,this.data[l+1]=f.green,this.data[l+2]=f.red,this.data[l+3]=255,2*i+1>=this.width)break;f=this.palette[h],this.data[l+4]=f.blue,this.data[l+4+1]=f.green,this.data[l+4+2]=f.red,this.data[l+4+3]=255}e!==0&&(this.pos+=4-e)}},Ho.prototype.bit8=function(){for(var n=this.width%4,e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),a=t*this.width*4+4*r;if(i<this.palette.length){var l=this.palette[i];this.data[a]=l.red,this.data[a+1]=l.green,this.data[a+2]=l.blue,this.data[a+3]=255}else this.data[a]=255,this.data[a+1]=255,this.data[a+2]=255,this.data[a+3]=255}n!==0&&(this.pos+=4-n)}},Ho.prototype.bit15=function(){for(var n=this.width%3,e=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<this.width;i++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(a&e)/e*255|0,c=(a>>5&e)/e*255|0,h=(a>>10&e)/e*255|0,f=a>>15?255:0,p=r*this.width*4+4*i;this.data[p]=h,this.data[p+1]=c,this.data[p+2]=l,this.data[p+3]=f}this.pos+=n}},Ho.prototype.bit16=function(){for(var n=this.width%3,e=parseInt("11111",2),t=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var l=this.datav.getUint16(this.pos,!0);this.pos+=2;var c=(l&e)/e*255|0,h=(l>>5&t)/t*255|0,f=(l>>11)/e*255|0,p=i*this.width*4+4*a;this.data[p]=f,this.data[p+1]=h,this.data[p+2]=c,this.data[p+3]=255}this.pos+=n}},Ho.prototype.bit24=function(){for(var n=this.height-1;n>=0;n--){for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),l=e*this.width*4+4*t;this.data[l]=a,this.data[l+1]=i,this.data[l+2]=r,this.data[l+3]=255}this.pos+=this.width%4}},Ho.prototype.bit32=function(){for(var n=this.height-1;n>=0;n--)for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),l=this.datav.getUint8(this.pos++,!0),c=e*this.width*4+4*t;this.data[c]=a,this.data[c+1]=i,this.data[c+2]=r,this.data[c+3]=l}},Ho.prototype.getData=function(){return this.data},(function(n){n.processBMP=function(e,t,r,i){var a=new Ho(e,!1),l=a.width,c=a.height,h={data:a.getData(),width:l,height:c},f=new w2(100).encode(h,100);return n.processJPEG.call(this,f,t,r,i)}})(kt.API),oT.prototype.getData=function(){return this.data},(function(n){n.processWEBP=function(e,t,r,i){var a=new oT(e),l=a.width,c=a.height,h={data:a.getData(),width:l,height:c},f=new w2(100).encode(h,100);return n.processJPEG.call(this,f,t,r,i)}})(kt.API),kt.API.processRGBA=function(n,e,t){for(var r=n.data,i=r.length,a=new Uint8Array(i/4*3),l=new Uint8Array(i/4),c=0,h=0,f=0;f<i;f+=4){var p=r[f],v=r[f+1],E=r[f+2],b=r[f+3];a[c++]=p,a[c++]=v,a[c++]=E,l[h++]=b}var R=this.__addimage__.arrayBufferToBinaryString(a);return{alpha:this.__addimage__.arrayBufferToBinaryString(l),data:R,index:e,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:n.width,height:n.height}},kt.API.setLanguage=function(n){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[n]!==void 0&&(this.internal.languageSettings.languageCode=n,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Bf=kt.API,R1=Bf.getCharWidthsArray=function(n,e){var t,r,i=(e=e||{}).font||this.internal.getFont(),a=e.fontSize||this.internal.getFontSize(),l=e.charSpace||this.internal.getCharSpace(),c=e.widths?e.widths:i.metadata.Unicode.widths,h=c.fof?c.fof:1,f=e.kerning?e.kerning:i.metadata.Unicode.kerning,p=f.fof?f.fof:1,v=e.doKerning!==!1,E=0,b=n.length,R=0,P=c[0]||h,M=[];for(t=0;t<b;t++)r=n.charCodeAt(t),typeof i.metadata.widthOfString=="function"?M.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+l*(1e3/a)||0)/1e3):(E=v&&ur(f[r])==="object"&&!isNaN(parseInt(f[r][R],10))?f[r][R]/p:0,M.push((c[r]||P)/h+E)),R=r;return M},XS=Bf.getStringUnitWidth=function(n,e){var t=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return Bf.processArabic&&(n=Bf.processArabic(n)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(n,t,i)/t:R1.apply(this,arguments).reduce(function(a,l){return a+l},0)},JS=function(n,e,t,r){for(var i=[],a=0,l=n.length,c=0;a!==l&&c+e[a]<t;)c+=e[a],a++;i.push(n.slice(0,a));var h=a;for(c=0;a!==l;)c+e[a]>r&&(i.push(n.slice(h,a)),c=0,h=a),c+=e[a],a++;return h!==a&&i.push(n.slice(h,a)),i},ZS=function(n,e,t){t||(t={});var r,i,a,l,c,h,f,p=[],v=[p],E=t.textIndent||0,b=0,R=0,P=n.split(" "),M=R1.apply(this,[" ",t])[0];if(h=t.lineIndent===-1?P[0].length+2:t.lineIndent||0){var k=Array(h).join(" "),K=[];P.map(function(ee){(ee=ee.split(/\s*\n/)).length>1?K=K.concat(ee.map(function(ye,ve){return(ve&&ye.length?`
`:"")+ye})):K.push(ee[0])}),P=K,h=XS.apply(this,[k,t])}for(a=0,l=P.length;a<l;a++){var $=0;if(r=P[a],h&&r[0]==`
`&&(r=r.substr(1),$=1),E+b+(R=(i=R1.apply(this,[r,t])).reduce(function(ee,ye){return ee+ye},0))>e||$){if(R>e){for(c=JS.apply(this,[r,i,e-(E+b),e]),p.push(c.shift()),p=[c.pop()];c.length;)v.push([c.shift()]);R=i.slice(r.length-(p[0]?p[0].length:0)).reduce(function(ee,ye){return ee+ye},0)}else p=[r];v.push(p),E=R+h,b=M}else p.push(r),E+=b+R,b=M}return f=h?function(ee,ye){return(ye?k:"")+ee.join(" ")}:function(ee){return ee.join(" ")},v.map(f)},Bf.splitTextToSize=function(n,e,t){var r,i=(t=t||{}).fontSize||this.internal.getFontSize(),a=(function(p){if(p.widths&&p.kerning)return{widths:p.widths,kerning:p.kerning};var v=this.internal.getFont(p.fontName,p.fontStyle),E="Unicode";return v.metadata[E]?{widths:v.metadata[E].widths||{0:1},kerning:v.metadata[E].kerning||{}}:{font:v.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,t);r=Array.isArray(n)?n:String(n).split(/\r?\n/);var l=1*this.internal.scaleFactor*e/i;a.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/i:0,a.lineIndent=t.lineIndent;var c,h,f=[];for(c=0,h=r.length;c<h;c++)f=f.concat(ZS.apply(this,[r[c],l,a]));return f},(function(n){n.__fontmetrics__=n.__fontmetrics__||{};for(var e="0123456789abcdef",t="klmnopqrstuvwxyz",r={},i={},a=0;a<16;a++)r[t[a]]=e[a],i[e[a]]=t[a];var l=function(E){return"0x"+parseInt(E,10).toString(16)},c=n.__fontmetrics__.compress=function(E){var b,R,P,M,k=["{"];for(var K in E){if(b=E[K],isNaN(parseInt(K,10))?R="'"+K+"'":(K=parseInt(K,10),R=(R=l(K).slice(2)).slice(0,-1)+i[R.slice(-1)]),typeof b=="number")b<0?(P=l(b).slice(3),M="-"):(P=l(b).slice(2),M=""),P=M+P.slice(0,-1)+i[P.slice(-1)];else{if(ur(b)!=="object")throw new Error("Don't know what to do with value type "+ur(b)+".");P=c(b)}k.push(R+P)}return k.push("}"),k.join("")},h=n.__fontmetrics__.uncompress=function(E){if(typeof E!="string")throw new Error("Invalid argument passed to uncompress.");for(var b,R,P,M,k={},K=1,$=k,ee=[],ye="",ve="",z=E.length-1,F=1;F<z;F+=1)(M=E[F])=="'"?b?(P=b.join(""),b=void 0):b=[]:b?b.push(M):M=="{"?(ee.push([$,P]),$={},P=void 0):M=="}"?((R=ee.pop())[0][R[1]]=$,P=void 0,$=R[0]):M=="-"?K=-1:P===void 0?r.hasOwnProperty(M)?(ye+=r[M],P=parseInt(ye,16)*K,K=1,ye=""):ye+=M:r.hasOwnProperty(M)?(ve+=r[M],$[P]=parseInt(ve,16)*K,K=1,P=void 0,ve=""):ve+=M;return k},f={codePages:["WinAnsiEncoding"],WinAnsiEncoding:h("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},p={Unicode:{Courier:f,"Courier-Bold":f,"Courier-BoldOblique":f,"Courier-Oblique":f,Helvetica:f,"Helvetica-Bold":f,"Helvetica-BoldOblique":f,"Helvetica-Oblique":f,"Times-Roman":f,"Times-Bold":f,"Times-BoldItalic":f,"Times-Italic":f}},v={Unicode:{"Courier-Oblique":h("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":h("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":h("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:h("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":h("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":h("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:h("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:h("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":h("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:h("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":h("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":h("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":h("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":h("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};n.events.push(["addFont",function(E){var b=E.font,R=v.Unicode[b.postScriptName];R&&(b.metadata.Unicode={},b.metadata.Unicode.widths=R.widths,b.metadata.Unicode.kerning=R.kerning);var P=p.Unicode[b.postScriptName];P&&(b.metadata.Unicode.encoding=P,b.encoding=P.codePages[0])}])})(kt.API),(function(n){var e=function(t){for(var r=t.length,i=new Uint8Array(r),a=0;a<r;a++)i[a]=t.charCodeAt(a);return i};n.API.events.push(["addFont",function(t){var r=void 0,i=t.font,a=t.instance;if(!i.isStandardFont){if(a===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=a.existsFileInVFS(i.postScriptName)===!1?a.loadFile(i.postScriptName):a.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(l,c){c=/^\x00\x01\x00\x00/.test(c)?e(c):e(H1(c)),l.metadata=n.API.TTFFont.open(c),l.metadata.Unicode=l.metadata.Unicode||{encoding:{},kerning:{},widths:[]},l.metadata.glyIdsUsed=[0]})(i,r)}}])})(kt),kt.API.addSvgAsImage=function(n,e,t,r,i,a,l,c){if(isNaN(e)||isNaN(t))throw Ar.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(r)||isNaN(i))throw Ar.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var h=document.createElement("canvas");h.width=r,h.height=i;var f=h.getContext("2d");f.fillStyle="#fff",f.fillRect(0,0,h.width,h.height);var p={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},v=this;return(on.canvg?Promise.resolve(on.canvg):e2(()=>import("./index.es-BbkSu5Id.js"),[])).catch(function(E){return Promise.reject(new Error("Could not load canvg: "+E))}).then(function(E){return E.default?E.default:E}).then(function(E){return E.fromString(f,n,p)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(E){return E.render(p)}).then(function(){v.addImage(h.toDataURL("image/jpeg",1),e,t,r,i,l,c)})},kt.API.putTotalPages=function(n){var e,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(n,"g"),t=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(n,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(e,t);return this},kt.API.viewerPreferences=function(n,e){var t;n=n||{},e=e||!1;var r,i,a,l={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},c=Object.keys(l),h=[],f=0,p=0,v=0;function E(R,P){var M,k=!1;for(M=0;M<R.length;M+=1)R[M]===P&&(k=!0);return k}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(l)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,n==="reset"||e===!0){var b=c.length;for(v=0;v<b;v+=1)t[c[v]].value=t[c[v]].defaultValue,t[c[v]].explicitSet=!1}if(ur(n)==="object"){for(i in n)if(a=n[i],E(c,i)&&a!==void 0){if(t[i].type==="boolean"&&typeof a=="boolean")t[i].value=a;else if(t[i].type==="name"&&E(t[i].valueSet,a))t[i].value=a;else if(t[i].type==="integer"&&Number.isInteger(a))t[i].value=a;else if(t[i].type==="array"){for(f=0;f<a.length;f+=1)if(r=!0,a[f].length===1&&typeof a[f][0]=="number")h.push(String(a[f]-1));else if(a[f].length>1){for(p=0;p<a[f].length;p+=1)typeof a[f][p]!="number"&&(r=!1);r===!0&&h.push([a[f][0]-1,a[f][1]-1].join(" "))}t[i].value="["+h.join(" ")+"]"}else t[i].value=t[i].defaultValue;t[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var R,P=[];for(R in t)t[R].explicitSet===!0&&(t[R].type==="name"?P.push("/"+R+" /"+t[R].value):P.push("/"+R+" "+t[R].value));P.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+P.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},(function(n){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),a=unescape(encodeURIComponent(r)),l=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),c=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),h=unescape(encodeURIComponent("</x:xmpmeta>")),f=a.length+l.length+c.length+i.length+h.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+f+" >>"),this.internal.write("stream"),this.internal.write(i+a+l+c+h),this.internal.write("endstream"),this.internal.write("endobj")},t=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};n.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",t),this.internal.events.subscribe("postPutResources",e)),this}})(kt.API),(function(n){var e=n.API,t=e.pdfEscape16=function(a,l){for(var c,h=l.metadata.Unicode.widths,f=["","0","00","000","0000"],p=[""],v=0,E=a.length;v<E;++v){if(c=l.metadata.characterToGlyph(a.charCodeAt(v)),l.metadata.glyIdsUsed.push(c),l.metadata.toUnicode[c]=a.charCodeAt(v),h.indexOf(c)==-1&&(h.push(c),h.push([parseInt(l.metadata.widthOfGlyph(c),10)])),c=="0")return p.join("");c=c.toString(16),p.push(f[4-c.length],c)}return p.join("")},r=function(a){var l,c,h,f,p,v,E;for(p=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,h=[],v=0,E=(c=Object.keys(a).sort(function(b,R){return b-R})).length;v<E;v++)l=c[v],h.length>=100&&(p+=`
`+h.length+` beginbfchar
`+h.join(`
`)+`
endbfchar`,h=[]),a[l]!==void 0&&a[l]!==null&&typeof a[l].toString=="function"&&(f=("0000"+a[l].toString(16)).slice(-4),l=("0000"+(+l).toString(16)).slice(-4),h.push("<"+l+"><"+f+">"));return h.length&&(p+=`
`+h.length+` beginbfchar
`+h.join(`
`)+`
endbfchar
`),p+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(a){(function(l){var c=l.font,h=l.out,f=l.newObject,p=l.putStream;if(c.metadata instanceof n.API.TTFFont&&c.encoding==="Identity-H"){for(var v=c.metadata.Unicode.widths,E=c.metadata.subset.encode(c.metadata.glyIdsUsed,1),b="",R=0;R<E.length;R++)b+=String.fromCharCode(E[R]);var P=f();p({data:b,addLength1:!0,objectId:P}),h("endobj");var M=f();p({data:r(c.metadata.toUnicode),addLength1:!0,objectId:M}),h("endobj");var k=f();h("<<"),h("/Type /FontDescriptor"),h("/FontName /"+Xf(c.fontName)),h("/FontFile2 "+P+" 0 R"),h("/FontBBox "+n.API.PDFObject.convert(c.metadata.bbox)),h("/Flags "+c.metadata.flags),h("/StemV "+c.metadata.stemV),h("/ItalicAngle "+c.metadata.italicAngle),h("/Ascent "+c.metadata.ascender),h("/Descent "+c.metadata.decender),h("/CapHeight "+c.metadata.capHeight),h(">>"),h("endobj");var K=f();h("<<"),h("/Type /Font"),h("/BaseFont /"+Xf(c.fontName)),h("/FontDescriptor "+k+" 0 R"),h("/W "+n.API.PDFObject.convert(v)),h("/CIDToGIDMap /Identity"),h("/DW 1000"),h("/Subtype /CIDFontType2"),h("/CIDSystemInfo"),h("<<"),h("/Supplement 0"),h("/Registry (Adobe)"),h("/Ordering ("+c.encoding+")"),h(">>"),h(">>"),h("endobj"),c.objectNumber=f(),h("<<"),h("/Type /Font"),h("/Subtype /Type0"),h("/ToUnicode "+M+" 0 R"),h("/BaseFont /"+Xf(c.fontName)),h("/Encoding /"+c.encoding),h("/DescendantFonts ["+K+" 0 R]"),h(">>"),h("endobj"),c.isAlreadyPutted=!0}})(a)}]),e.events.push(["putFont",function(a){(function(l){var c=l.font,h=l.out,f=l.newObject,p=l.putStream;if(c.metadata instanceof n.API.TTFFont&&c.encoding==="WinAnsiEncoding"){for(var v=c.metadata.rawData,E="",b=0;b<v.length;b++)E+=String.fromCharCode(v[b]);var R=f();p({data:E,addLength1:!0,objectId:R}),h("endobj");var P=f();p({data:r(c.metadata.toUnicode),addLength1:!0,objectId:P}),h("endobj");var M=f();h("<<"),h("/Descent "+c.metadata.decender),h("/CapHeight "+c.metadata.capHeight),h("/StemV "+c.metadata.stemV),h("/Type /FontDescriptor"),h("/FontFile2 "+R+" 0 R"),h("/Flags 96"),h("/FontBBox "+n.API.PDFObject.convert(c.metadata.bbox)),h("/FontName /"+Xf(c.fontName)),h("/ItalicAngle "+c.metadata.italicAngle),h("/Ascent "+c.metadata.ascender),h(">>"),h("endobj"),c.objectNumber=f();for(var k=0;k<c.metadata.hmtx.widths.length;k++)c.metadata.hmtx.widths[k]=parseInt(c.metadata.hmtx.widths[k]*(1e3/c.metadata.head.unitsPerEm));h("<</Subtype/TrueType/Type/Font/ToUnicode "+P+" 0 R/BaseFont/"+Xf(c.fontName)+"/FontDescriptor "+M+" 0 R/Encoding/"+c.encoding+" /FirstChar 29 /LastChar 255 /Widths "+n.API.PDFObject.convert(c.metadata.hmtx.widths)+">>"),h("endobj"),c.isAlreadyPutted=!0}})(a)}]);var i=function(a){var l,c=a.text||"",h=a.x,f=a.y,p=a.options||{},v=a.mutex||{},E=v.pdfEscape,b=v.activeFontKey,R=v.fonts,P=b,M="",k=0,K="",$=R[P].encoding;if(R[P].encoding!=="Identity-H")return{text:c,x:h,y:f,options:p,mutex:v};for(K=c,P=b,Array.isArray(c)&&(K=c[0]),k=0;k<K.length;k+=1)R[P].metadata.hasOwnProperty("cmap")&&(l=R[P].metadata.cmap.unicode.codeMap[K[k].charCodeAt(0)]),l||K[k].charCodeAt(0)<256&&R[P].metadata.hasOwnProperty("Unicode")?M+=K[k]:M+="";var ee="";return parseInt(P.slice(1))<14||$==="WinAnsiEncoding"?ee=E(M,P).split("").map(function(ye){return ye.charCodeAt(0).toString(16)}).join(""):$==="Identity-H"&&(ee=t(M,R[P])),v.isHex=!0,{text:ee,x:h,y:f,options:p,mutex:v}};e.events.push(["postProcessText",function(a){var l=a.text||"",c=[],h={text:l,x:a.x,y:a.y,options:a.options,mutex:a.mutex};if(Array.isArray(l)){var f=0;for(f=0;f<l.length;f+=1)Array.isArray(l[f])&&l[f].length===3?c.push([i(Object.assign({},h,{text:l[f][0]})).text,l[f][1],l[f][2]]):c.push(i(Object.assign({},h,{text:l[f]})).text);a.text=c}else a.text=i(Object.assign({},h,{text:l})).text}])})(kt),(function(n){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};n.existsFileInVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0},n.addFileToVFS=function(t,r){return e.call(this),this.internal.vFS[t]=r,this},n.getFileFromVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0?this.internal.vFS[t]:null}})(kt.API),(function(n){n.__bidiEngine__=n.prototype.__bidiEngine__=function(r){var i,a,l,c,h,f,p,v=e,E=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],b=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],R={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},P={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},M=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],k=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),K=!1,$=0;this.__bidiEngine__={};var ee=function(I){var j=I.charCodeAt(),N=j>>8,te=P[N];return te!==void 0?v[256*te+(255&j)]:N===252||N===253?"AL":k.test(N)?"L":N===8?"R":"N"},ye=function(I){for(var j,N=0;N<I.length;N++){if((j=ee(I.charAt(N)))==="L")return!1;if(j==="R")return!0}return!1},ve=function(I,j,N,te){var fe,re,ue,pe,xe=j[te];switch(xe){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":K=!1;break;case"N":case"AN":break;case"EN":K&&(xe="AN");break;case"AL":K=!0,xe="R";break;case"WS":case"BN":xe="N";break;case"CS":te<1||te+1>=j.length||(fe=N[te-1])!=="EN"&&fe!=="AN"||(re=j[te+1])!=="EN"&&re!=="AN"?xe="N":K&&(re="AN"),xe=re===fe?re:"N";break;case"ES":xe=(fe=te>0?N[te-1]:"B")==="EN"&&te+1<j.length&&j[te+1]==="EN"?"EN":"N";break;case"ET":if(te>0&&N[te-1]==="EN"){xe="EN";break}if(K){xe="N";break}for(ue=te+1,pe=j.length;ue<pe&&j[ue]==="ET";)ue++;xe=ue<pe&&j[ue]==="EN"?"EN":"N";break;case"NSM":if(l&&!c){for(pe=j.length,ue=te+1;ue<pe&&j[ue]==="NSM";)ue++;if(ue<pe){var Be=I[te],J=Be>=1425&&Be<=2303||Be===64286;if(fe=j[ue],J&&(fe==="R"||fe==="AL")){xe="R";break}}}xe=te<1||(fe=j[te-1])==="B"?"N":N[te-1];break;case"B":K=!1,i=!0,xe=$;break;case"S":a=!0,xe="N"}return xe},z=function(I,j,N){var te=I.split("");return N&&F(te,N,{hiLevel:$}),te.reverse(),j&&j.reverse(),te.join("")},F=function(I,j,N){var te,fe,re,ue,pe,xe=-1,Be=I.length,J=0,O=[],Y=$?b:E,ne=[];for(K=!1,i=!1,a=!1,fe=0;fe<Be;fe++)ne[fe]=ee(I[fe]);for(re=0;re<Be;re++){if(pe=J,O[re]=ve(I,ne,O,re),te=240&(J=Y[pe][R[O[re]]]),J&=15,j[re]=ue=Y[J][5],te>0)if(te===16){for(fe=xe;fe<re;fe++)j[fe]=1;xe=-1}else xe=-1;if(Y[J][6])xe===-1&&(xe=re);else if(xe>-1){for(fe=xe;fe<re;fe++)j[fe]=ue;xe=-1}ne[re]==="B"&&(j[re]=0),N.hiLevel|=ue}a&&(function(le,he,we){for(var Oe=0;Oe<we;Oe++)if(le[Oe]==="S"){he[Oe]=$;for(var Pe=Oe-1;Pe>=0&&le[Pe]==="WS";Pe--)he[Pe]=$}})(ne,j,Be)},D=function(I,j,N,te,fe){if(!(fe.hiLevel<I)){if(I===1&&$===1&&!i)return j.reverse(),void(N&&N.reverse());for(var re,ue,pe,xe,Be=j.length,J=0;J<Be;){if(te[J]>=I){for(pe=J+1;pe<Be&&te[pe]>=I;)pe++;for(xe=J,ue=pe-1;xe<ue;xe++,ue--)re=j[xe],j[xe]=j[ue],j[ue]=re,N&&(re=N[xe],N[xe]=N[ue],N[ue]=re);J=pe}J++}}},G=function(I,j,N){var te=I.split(""),fe={hiLevel:$};return N||(N=[]),F(te,N,fe),(function(re,ue,pe){if(pe.hiLevel!==0&&p)for(var xe,Be=0;Be<re.length;Be++)ue[Be]===1&&(xe=M.indexOf(re[Be]))>=0&&(re[Be]=M[xe+1])})(te,N,fe),D(2,te,j,N,fe),D(1,te,j,N,fe),te.join("")};return this.__bidiEngine__.doBidiReorder=function(I,j,N){if((function(fe,re){if(re)for(var ue=0;ue<fe.length;ue++)re[ue]=ue;c===void 0&&(c=ye(fe)),f===void 0&&(f=ye(fe))})(I,j),l||!h||f)if(l&&h&&c^f)$=c?1:0,I=z(I,j,N);else if(!l&&h&&f)$=c?1:0,I=G(I,j,N),I=z(I,j);else if(!l||c||h||f){if(l&&!h&&c^f)I=z(I,j),c?($=0,I=G(I,j,N)):($=1,I=G(I,j,N),I=z(I,j));else if(l&&c&&!h&&f)$=1,I=G(I,j,N),I=z(I,j);else if(!l&&!h&&c^f){var te=p;c?($=1,I=G(I,j,N),$=0,p=!1,I=G(I,j,N),p=te):($=0,I=G(I,j,N),I=z(I,j),$=1,p=!1,I=G(I,j,N),p=te,I=z(I,j))}}else $=0,I=G(I,j,N);else $=c?1:0,I=G(I,j,N);return I},this.__bidiEngine__.setOptions=function(I){I&&(l=I.isInputVisual,h=I.isOutputVisual,c=I.isInputRtl,f=I.isOutputRtl,p=I.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new n.__bidiEngine__({isInputVisual:!0});n.API.events.push(["postProcessText",function(r){var i=r.text;r.x,r.y;var a=r.options||{};r.mutex,a.lang;var l=[];if(a.isInputVisual=typeof a.isInputVisual!="boolean"||a.isInputVisual,t.setOptions(a),Object.prototype.toString.call(i)==="[object Array]"){var c=0;for(l=[],c=0;c<i.length;c+=1)Object.prototype.toString.call(i[c])==="[object Array]"?l.push([t.doBidiReorder(i[c][0]),i[c][1],i[c][2]]):l.push([t.doBidiReorder(i[c])]);r.text=l}else r.text=t.doBidiReorder(i);t.setOptions({isInputVisual:!0})}])})(kt),kt.API.TTFFont=(function(){function n(e){var t;if(this.rawData=e,t=this.contents=new Rc(e),this.contents.pos=4,t.readString(4)==="ttcf")throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new DO(this),this.registerTTF()}return n.open=function(e){return new n(e)},n.prototype.parse=function(){return this.directory=new bO(this.contents),this.head=new EO(this),this.name=new IO(this),this.cmap=new KI(this),this.toUnicode={},this.hhea=new AO(this),this.maxp=new NO(this),this.hmtx=new CO(this),this.post=new TO(this),this.os2=new SO(this),this.loca=new kO(this),this.glyf=new RO(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},n.prototype.registerTTF=function(){var e,t,r,i,a;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var l,c,h,f;for(f=[],l=0,c=(h=this.bbox).length;l<c;l++)e=h[l],f.push(Math.round(e*this.scaleFactor));return f}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),32768&(t=i>>16)&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(a=this.familyClass)===1||a===2||a===3||a===4||a===5||a===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},n.prototype.characterToGlyph=function(e){var t;return((t=this.cmap.unicode)!=null?t.codeMap[e]:void 0)||0},n.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},n.prototype.widthOfString=function(e,t,r){var i,a,l,c;for(l=0,a=0,c=(e=""+e).length;0<=c?a<c:a>c;a=0<=c?++a:--a)i=e.charCodeAt(a),l+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/t)||0;return l*(t/1e3)},n.prototype.lineHeight=function(e,t){var r;return t==null&&(t=!1),r=t?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},n})();var el,Rc=(function(){function n(e){this.data=e??[],this.pos=0,this.length=this.data.length}return n.prototype.readByte=function(){return this.data[this.pos++]},n.prototype.writeByte=function(e){return this.data[this.pos++]=e},n.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},n.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},n.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},n.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},n.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},n.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},n.prototype.readString=function(e){var t,r;for(r=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)r[t]=String.fromCharCode(this.readByte());return r.join("")},n.prototype.writeString=function(e){var t,r,i;for(i=[],t=0,r=e.length;0<=r?t<r:t>r;t=0<=r?++t:--t)i.push(this.writeByte(e.charCodeAt(t)));return i},n.prototype.readShort=function(){return this.readInt16()},n.prototype.writeShort=function(e){return this.writeInt16(e)},n.prototype.readLongLong=function(){var e,t,r,i,a,l,c,h;return e=this.readByte(),t=this.readByte(),r=this.readByte(),i=this.readByte(),a=this.readByte(),l=this.readByte(),c=this.readByte(),h=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^a)+65536*(255^l)+256*(255^c)+(255^h)+1):72057594037927940*e+281474976710656*t+1099511627776*r+4294967296*i+16777216*a+65536*l+256*c+h},n.prototype.writeLongLong=function(e){var t,r;return t=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},n.prototype.readInt=function(){return this.readInt32()},n.prototype.writeInt=function(e){return this.writeInt32(e)},n.prototype.read=function(e){var t,r;for(t=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)t.push(this.readByte());return t},n.prototype.write=function(e){var t,r,i,a;for(a=[],r=0,i=e.length;r<i;r++)t=e[r],a.push(this.writeByte(t));return a},n})(),bO=(function(){var n;function e(t){var r,i,a;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},i=0,a=this.tableCount;0<=a?i<a:i>a;i=0<=a?++i:--i)r={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(t){var r,i,a,l,c,h,f,p,v,E,b,R,P;for(P in b=Object.keys(t).length,h=Math.log(2),v=16*Math.floor(Math.log(b)/h),l=Math.floor(v/h),p=16*b-v,(i=new Rc).writeInt(this.scalarType),i.writeShort(b),i.writeShort(v),i.writeShort(l),i.writeShort(p),a=16*b,f=i.pos+a,c=null,R=[],t)for(E=t[P],i.writeString(P),i.writeInt(n(E)),i.writeInt(f),i.writeInt(E.length),R=R.concat(E),P==="head"&&(c=f),f+=E.length;f%4;)R.push(0),f++;return i.write(R),r=2981146554-n(i.data),i.pos=c+8,i.writeUInt32(r),i.data},n=function(t){var r,i,a,l;for(t=YI.call(t);t.length%4;)t.push(0);for(a=new Rc(t),i=0,r=0,l=t.length;r<l;r=r+=4)i+=a.readUInt32();return 4294967295&i},e})(),wO={}.hasOwnProperty,zl=function(n,e){for(var t in e)wO.call(e,t)&&(n[t]=e[t]);function r(){this.constructor=n}return r.prototype=e.prototype,n.prototype=new r,n.__super__=e.prototype,n};el=(function(){function n(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return n.prototype.parse=function(){},n.prototype.encode=function(){},n.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},n})();var EO=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return zl(n,el),n.prototype.tag="head",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},n.prototype.encode=function(e){var t;return(t=new Rc).writeInt(this.version),t.writeInt(this.revision),t.writeInt(this.checkSumAdjustment),t.writeInt(this.magicNumber),t.writeShort(this.flags),t.writeShort(this.unitsPerEm),t.writeLongLong(this.created),t.writeLongLong(this.modified),t.writeShort(this.xMin),t.writeShort(this.yMin),t.writeShort(this.xMax),t.writeShort(this.yMax),t.writeShort(this.macStyle),t.writeShort(this.lowestRecPPEM),t.writeShort(this.fontDirectionHint),t.writeShort(e),t.writeShort(this.glyphDataFormat),t.data},n})(),lT=(function(){function n(e,t){var r,i,a,l,c,h,f,p,v,E,b,R,P,M,k,K,$;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),v=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(h=0;h<256;++h)this.codeMap[h]=e.readByte();break;case 4:for(b=e.readUInt16(),E=b/2,e.pos+=6,a=(function(){var ee,ye;for(ye=[],h=ee=0;0<=E?ee<E:ee>E;h=0<=E?++ee:--ee)ye.push(e.readUInt16());return ye})(),e.pos+=2,P=(function(){var ee,ye;for(ye=[],h=ee=0;0<=E?ee<E:ee>E;h=0<=E?++ee:--ee)ye.push(e.readUInt16());return ye})(),f=(function(){var ee,ye;for(ye=[],h=ee=0;0<=E?ee<E:ee>E;h=0<=E?++ee:--ee)ye.push(e.readUInt16());return ye})(),p=(function(){var ee,ye;for(ye=[],h=ee=0;0<=E?ee<E:ee>E;h=0<=E?++ee:--ee)ye.push(e.readUInt16());return ye})(),i=(this.length-e.pos+this.offset)/2,c=(function(){var ee,ye;for(ye=[],h=ee=0;0<=i?ee<i:ee>i;h=0<=i?++ee:--ee)ye.push(e.readUInt16());return ye})(),h=k=0,$=a.length;k<$;h=++k)for(M=a[h],r=K=R=P[h];R<=M?K<=M:K>=M;r=R<=M?++K:--K)p[h]===0?l=r+f[h]:(l=c[p[h]/2+(r-R)-(E-h)]||0)!==0&&(l+=f[h]),this.codeMap[r]=65535&l}e.pos=v}return n.encode=function(e,t){var r,i,a,l,c,h,f,p,v,E,b,R,P,M,k,K,$,ee,ye,ve,z,F,D,G,I,j,N,te,fe,re,ue,pe,xe,Be,J,O,Y,ne,le,he,we,Oe,Pe,ze,Ze,ot;switch(te=new Rc,l=Object.keys(e).sort(function(ct,_t){return ct-_t}),t){case"macroman":for(P=0,M=(function(){var ct=[];for(R=0;R<256;++R)ct.push(0);return ct})(),K={0:0},a={},fe=0,xe=l.length;fe<xe;fe++)K[Pe=e[i=l[fe]]]==null&&(K[Pe]=++P),a[i]={old:e[i],new:K[e[i]]},M[i]=K[e[i]];return te.writeUInt16(1),te.writeUInt16(0),te.writeUInt32(12),te.writeUInt16(0),te.writeUInt16(262),te.writeUInt16(0),te.write(M),{charMap:a,subtable:te.data,maxGlyphID:P+1};case"unicode":for(j=[],v=[],$=0,K={},r={},k=f=null,re=0,Be=l.length;re<Be;re++)K[ye=e[i=l[re]]]==null&&(K[ye]=++$),r[i]={old:ye,new:K[ye]},c=K[ye]-i,k!=null&&c===f||(k&&v.push(k),j.push(i),f=c),k=i;for(k&&v.push(k),v.push(65535),j.push(65535),G=2*(D=j.length),F=2*Math.pow(Math.log(D)/Math.LN2,2),E=Math.log(F/2)/Math.LN2,z=2*D-F,h=[],ve=[],b=[],R=ue=0,J=j.length;ue<J;R=++ue){if(I=j[R],p=v[R],I===65535){h.push(0),ve.push(0);break}if(I-(N=r[I].new)>=32768)for(h.push(0),ve.push(2*(b.length+D-R)),i=pe=I;I<=p?pe<=p:pe>=p;i=I<=p?++pe:--pe)b.push(r[i].new);else h.push(N-I),ve.push(0)}for(te.writeUInt16(3),te.writeUInt16(1),te.writeUInt32(12),te.writeUInt16(4),te.writeUInt16(16+8*D+2*b.length),te.writeUInt16(0),te.writeUInt16(G),te.writeUInt16(F),te.writeUInt16(E),te.writeUInt16(z),we=0,O=v.length;we<O;we++)i=v[we],te.writeUInt16(i);for(te.writeUInt16(0),Oe=0,Y=j.length;Oe<Y;Oe++)i=j[Oe],te.writeUInt16(i);for(ze=0,ne=h.length;ze<ne;ze++)c=h[ze],te.writeUInt16(c);for(Ze=0,le=ve.length;Ze<le;Ze++)ee=ve[Ze],te.writeUInt16(ee);for(ot=0,he=b.length;ot<he;ot++)P=b[ot],te.writeUInt16(P);return{charMap:r,subtable:te.data,maxGlyphID:$+1}}},n})(),KI=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return zl(n,el),n.prototype.tag="cmap",n.prototype.parse=function(e){var t,r,i;for(e.pos=this.offset,this.version=e.readUInt16(),i=e.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=i?r<i:r>i;r=0<=i?++r:--r)t=new lT(e,this.offset),this.tables.push(t),t.isUnicode&&this.unicode==null&&(this.unicode=t);return!0},n.encode=function(e,t){var r,i;return t==null&&(t="macroman"),r=lT.encode(e,t),(i=new Rc).writeUInt16(0),i.writeUInt16(1),r.table=i.data.concat(r.subtable),r},n})(),AO=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return zl(n,el),n.prototype.tag="hhea",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},n})(),SO=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return zl(n,el),n.prototype.tag="OS/2",n.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=(function(){var t,r;for(r=[],t=0;t<10;++t)r.push(e.readByte());return r})(),this.charRange=(function(){var t,r;for(r=[],t=0;t<4;++t)r.push(e.readInt());return r})(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=(function(){var t,r;for(r=[],t=0;t<2;t=++t)r.push(e.readInt());return r})(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},n})(),TO=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return zl(n,el),n.prototype.tag="post",n.prototype.parse=function(e){var t,r,i;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var a;for(r=e.readUInt16(),this.glyphNameIndex=[],a=0;0<=r?a<r:a>r;a=0<=r?++a:--a)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],i=[];e.pos<this.offset+this.length;)t=e.readByte(),i.push(this.names.push(e.readString(t)));return i;case 151552:return r=e.readUInt16(),this.offsets=e.read(r);case 262144:return this.map=(function(){var l,c,h;for(h=[],a=l=0,c=this.file.maxp.numGlyphs;0<=c?l<c:l>c;a=0<=c?++l:--l)h.push(e.readUInt32());return h}).call(this)}},n})(),xO=function(n,e){this.raw=n,this.length=n.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},IO=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return zl(n,el),n.prototype.tag="name",n.prototype.parse=function(e){var t,r,i,a,l,c,h,f,p,v,E;for(e.pos=this.offset,e.readShort(),t=e.readShort(),c=e.readShort(),r=[],a=0;0<=t?a<t:a>t;a=0<=t?++a:--a)r.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+c+e.readShort()});for(h={},a=p=0,v=r.length;p<v;a=++p)i=r[a],e.pos=i.offset,f=e.readString(i.length),l=new xO(f,i),h[E=i.nameID]==null&&(h[E]=[]),h[i.nameID].push(l);this.strings=h,this.copyright=h[0],this.fontFamily=h[1],this.fontSubfamily=h[2],this.uniqueSubfamily=h[3],this.fontName=h[4],this.version=h[5];try{this.postscriptName=h[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=h[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=h[7],this.manufacturer=h[8],this.designer=h[9],this.description=h[10],this.vendorUrl=h[11],this.designerUrl=h[12],this.license=h[13],this.licenseUrl=h[14],this.preferredFamily=h[15],this.preferredSubfamily=h[17],this.compatibleFull=h[18],this.sampleText=h[19]},n})(),NO=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return zl(n,el),n.prototype.tag="maxp",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},n})(),CO=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return zl(n,el),n.prototype.tag="hmtx",n.prototype.parse=function(e){var t,r,i,a,l,c,h;for(e.pos=this.offset,this.metrics=[],t=0,c=this.file.hhea.numberOfMetrics;0<=c?t<c:t>c;t=0<=c?++t:--t)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var f,p;for(p=[],t=f=0;0<=i?f<i:f>i;t=0<=i?++f:--f)p.push(e.readInt16());return p})(),this.widths=(function(){var f,p,v,E;for(E=[],f=0,p=(v=this.metrics).length;f<p;f++)a=v[f],E.push(a.advance);return E}).call(this),r=this.widths[this.widths.length-1],h=[],t=l=0;0<=i?l<i:l>i;t=0<=i?++l:--l)h.push(this.widths.push(r));return h},n.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},n})(),YI=[].slice,RO=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return zl(n,el),n.prototype.tag="glyf",n.prototype.parse=function(){return this.cache={}},n.prototype.glyphFor=function(e){var t,r,i,a,l,c,h,f,p,v;return e in this.cache?this.cache[e]:(a=this.file.loca,t=this.file.contents,r=a.indexOf(e),(i=a.lengthOf(e))===0?this.cache[e]=null:(t.pos=this.offset+r,l=(c=new Rc(t.read(i))).readShort(),f=c.readShort(),v=c.readShort(),h=c.readShort(),p=c.readShort(),this.cache[e]=l===-1?new LO(c,f,v,h,p):new PO(c,l,f,v,h,p),this.cache[e]))},n.prototype.encode=function(e,t,r){var i,a,l,c,h;for(l=[],a=[],c=0,h=t.length;c<h;c++)i=e[t[c]],a.push(l.length),i&&(l=l.concat(i.encode(r)));return a.push(l.length),{table:l,offsets:a}},n})(),PO=(function(){function n(e,t,r,i,a,l){this.raw=e,this.numberOfContours=t,this.xMin=r,this.yMin=i,this.xMax=a,this.yMax=l,this.compound=!1}return n.prototype.encode=function(){return this.raw.data},n})(),LO=(function(){function n(e,t,r,i,a){var l,c;for(this.raw=e,this.xMin=t,this.yMin=r,this.xMax=i,this.yMax=a,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],l=this.raw;c=l.readShort(),this.glyphOffsets.push(l.pos),this.glyphIDs.push(l.readUInt16()),32&c;)l.pos+=1&c?4:2,128&c?l.pos+=8:64&c?l.pos+=4:8&c&&(l.pos+=2)}return n.prototype.encode=function(){var e,t,r;for(t=new Rc(YI.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)t.pos=this.glyphOffsets[e];return t.data},n})(),kO=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return zl(n,el),n.prototype.tag="loca",n.prototype.parse=function(e){var t,r;return e.pos=this.offset,t=this.file.head.indexToLocFormat,this.offsets=t===0?(function(){var i,a;for(a=[],r=0,i=this.length;r<i;r+=2)a.push(2*e.readUInt16());return a}).call(this):(function(){var i,a;for(a=[],r=0,i=this.length;r<i;r+=4)a.push(e.readUInt32());return a}).call(this)},n.prototype.indexOf=function(e){return this.offsets[e]},n.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},n.prototype.encode=function(e,t){for(var r=new Uint32Array(this.offsets.length),i=0,a=0,l=0;l<r.length;++l)if(r[l]=i,a<t.length&&t[a]==l){++a,r[l]=i;var c=this.offsets[l],h=this.offsets[l+1]-c;h>0&&(i+=h)}for(var f=new Array(4*r.length),p=0;p<r.length;++p)f[4*p+3]=255&r[p],f[4*p+2]=(65280&r[p])>>8,f[4*p+1]=(16711680&r[p])>>16,f[4*p]=(4278190080&r[p])>>24;return f},n})(),DO=(function(){function n(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return n.prototype.generateCmap=function(){var e,t,r,i,a;for(t in i=this.font.cmap.tables[0].codeMap,e={},a=this.subset)r=a[t],e[t]=i[r];return e},n.prototype.glyphsFor=function(e){var t,r,i,a,l,c,h;for(i={},l=0,c=e.length;l<c;l++)i[a=e[l]]=this.font.glyf.glyphFor(a);for(a in t=[],i)(r=i[a])!=null&&r.compound&&t.push.apply(t,r.glyphIDs);if(t.length>0)for(a in h=this.glyphsFor(t))r=h[a],i[a]=r;return i},n.prototype.encode=function(e,t){var r,i,a,l,c,h,f,p,v,E,b,R,P,M,k;for(i in r=KI.encode(this.generateCmap(),"unicode"),l=this.glyphsFor(e),b={0:0},k=r.charMap)b[(h=k[i]).old]=h.new;for(R in E=r.maxGlyphID,l)R in b||(b[R]=E++);return p=(function(K){var $,ee;for($ in ee={},K)ee[K[$]]=$;return ee})(b),v=Object.keys(p).sort(function(K,$){return K-$}),P=(function(){var K,$,ee;for(ee=[],K=0,$=v.length;K<$;K++)c=v[K],ee.push(p[c]);return ee})(),a=this.font.glyf.encode(l,P,b),f=this.font.loca.encode(a.offsets,P),M={cmap:this.font.cmap.raw(),glyf:a.table,loca:f,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(M["OS/2"]=this.font.os2.raw()),this.font.directory.encode(M)},n})();kt.API.PDFObject=(function(){var n;function e(){}return n=function(t,r){return(Array(r+1).join("0")+t).slice(-r)},e.convert=function(t){var r,i,a,l;if(Array.isArray(t))return"["+(function(){var c,h,f;for(f=[],c=0,h=t.length;c<h;c++)r=t[c],f.push(e.convert(r));return f})().join(" ")+"]";if(typeof t=="string")return"/"+t;if(t?.isString)return"("+t+")";if(t instanceof Date)return"(D:"+n(t.getUTCFullYear(),4)+n(t.getUTCMonth(),2)+n(t.getUTCDate(),2)+n(t.getUTCHours(),2)+n(t.getUTCMinutes(),2)+n(t.getUTCSeconds(),2)+"Z)";if({}.toString.call(t)==="[object Object]"){for(i in a=["<<"],t)l=t[i],a.push("/"+i+" "+e.convert(l));return a.push(">>"),a.join(`
`)}return""+t},e})();function QI(n,e,t,r,i){r=r||{};var a=1.15,l=i.internal.scaleFactor,c=i.internal.getFontSize()/l,h=i.getLineHeightFactor?i.getLineHeightFactor():a,f=c*h,p=/\r\n|\r|\n/g,v="",E=1;if((r.valign==="middle"||r.valign==="bottom"||r.halign==="center"||r.halign==="right")&&(v=typeof n=="string"?n.split(p):n,E=v.length||1),t+=c*(2-a),r.valign==="middle"?t-=E/2*f:r.valign==="bottom"&&(t-=E*f),r.halign==="center"||r.halign==="right"){var b=c;if(r.halign==="center"&&(b*=.5),v&&E>=1){for(var R=0;R<v.length;R++)i.text(v[R],e-i.getStringUnitWidth(v[R])*b,t),t+=f;return i}e-=i.getStringUnitWidth(n)*b}return r.halign==="justify"?i.text(n,e,t,{maxWidth:r.maxWidth||100,align:"justify"}):i.text(n,e,t),i}var uT={},ud=(function(){function n(e){this.jsPDFDocument=e,this.userStyles={textColor:e.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:e.internal.getFontSize(),fontStyle:e.internal.getFont().fontStyle,font:e.internal.getFont().fontName,lineWidth:e.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:e.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return n.setDefaults=function(e,t){t===void 0&&(t=null),t?t.__autoTableDocumentDefaults=e:uT=e},n.unifyColor=function(e){return Array.isArray(e)?e:typeof e=="number"?[e,e,e]:typeof e=="string"?[e]:null},n.prototype.applyStyles=function(e,t){var r,i,a;t===void 0&&(t=!1),e.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(e.fontStyle);var l=this.jsPDFDocument.internal.getFont(),c=l.fontStyle,h=l.fontName;if(e.font&&(h=e.font),e.fontStyle){c=e.fontStyle;var f=this.getFontList()[h];f&&f.indexOf(c)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(f[0]),c=f[0])}if(this.jsPDFDocument.setFont(h,c),e.fontSize&&this.jsPDFDocument.setFontSize(e.fontSize),!t){var p=n.unifyColor(e.fillColor);p&&(r=this.jsPDFDocument).setFillColor.apply(r,p),p=n.unifyColor(e.textColor),p&&(i=this.jsPDFDocument).setTextColor.apply(i,p),p=n.unifyColor(e.lineColor),p&&(a=this.jsPDFDocument).setDrawColor.apply(a,p),typeof e.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(e.lineWidth)}},n.prototype.splitTextToSize=function(e,t,r){return this.jsPDFDocument.splitTextToSize(e,t,r)},n.prototype.rect=function(e,t,r,i,a){return this.jsPDFDocument.rect(e,t,r,i,a)},n.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},n.prototype.getTextWidth=function(e){return this.jsPDFDocument.getTextWidth(e)},n.prototype.getDocument=function(){return this.jsPDFDocument},n.prototype.setPage=function(e){this.jsPDFDocument.setPage(e)},n.prototype.addPage=function(){return this.jsPDFDocument.addPage()},n.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},n.prototype.getGlobalOptions=function(){return uT||{}},n.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},n.prototype.pageSize=function(){var e=this.jsPDFDocument.internal.pageSize;return e.width==null&&(e={width:e.getWidth(),height:e.getHeight()}),e},n.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},n.prototype.getLineHeightFactor=function(){var e=this.jsPDFDocument;return e.getLineHeightFactor?e.getLineHeightFactor():1.15},n.prototype.getLineHeight=function(e){return e/this.scaleFactor()*this.getLineHeightFactor()},n.prototype.pageNumber=function(){var e=this.jsPDFDocument.internal.getCurrentPageInfo();return e?e.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},n})(),f_=function(n,e){return f_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])},f_(n,e)};function XI(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");f_(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var JI=(function(n){XI(e,n);function e(t){var r=n.call(this)||this;return r._element=t,r}return e})(Array);function OO(n){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/n,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function MO(n){var e={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return e[n]}function gy(n,e,t){t.applyStyles(e,!0);var r=Array.isArray(n)?n:[n],i=r.map(function(a){return t.getTextWidth(a)}).reduce(function(a,l){return Math.max(a,l)},0);return i}function ZI(n,e,t,r){var i=e.settings.tableLineWidth,a=e.settings.tableLineColor;n.applyStyles({lineWidth:i,lineColor:a});var l=e3(i,!1);l&&n.rect(t.x,t.y,e.getWidth(n.pageSize().width),r.y-t.y,l)}function e3(n,e){var t=n>0,r=e||e===0;return t&&r?"DF":t?"S":r?"F":null}function Yy(n,e){var t,r,i,a;if(n=n||e,Array.isArray(n)){if(n.length>=4)return{top:n[0],right:n[1],bottom:n[2],left:n[3]};if(n.length===3)return{top:n[0],right:n[1],bottom:n[2],left:n[1]};if(n.length===2)return{top:n[0],right:n[1],bottom:n[0],left:n[1]};n.length===1?n=n[0]:n=e}return typeof n=="object"?(typeof n.vertical=="number"&&(n.top=n.vertical,n.bottom=n.vertical),typeof n.horizontal=="number"&&(n.right=n.horizontal,n.left=n.horizontal),{left:(t=n.left)!==null&&t!==void 0?t:e,top:(r=n.top)!==null&&r!==void 0?r:e,right:(i=n.right)!==null&&i!==void 0?i:e,bottom:(a=n.bottom)!==null&&a!==void 0?a:e}):(typeof n!="number"&&(n=e),{top:n,right:n,bottom:n,left:n})}function t3(n,e){var t=Yy(e.settings.margin,0);return n.pageSize().width-(t.left+t.right)}function VO(n,e,t,r,i){var a={},l=1.3333333333333333,c=E2(e,function($){return i.getComputedStyle($).backgroundColor});c!=null&&(a.fillColor=c);var h=E2(e,function($){return i.getComputedStyle($).color});h!=null&&(a.textColor=h);var f=FO(r,t);f&&(a.cellPadding=f);var p="borderTopColor",v=l*t,E=r.borderTopWidth;if(r.borderBottomWidth===E&&r.borderRightWidth===E&&r.borderLeftWidth===E){var b=(parseFloat(E)||0)/v;b&&(a.lineWidth=b)}else a.lineWidth={top:(parseFloat(r.borderTopWidth)||0)/v,right:(parseFloat(r.borderRightWidth)||0)/v,bottom:(parseFloat(r.borderBottomWidth)||0)/v,left:(parseFloat(r.borderLeftWidth)||0)/v},a.lineWidth.top||(a.lineWidth.right?p="borderRightColor":a.lineWidth.bottom?p="borderBottomColor":a.lineWidth.left&&(p="borderLeftColor"));var R=E2(e,function($){return i.getComputedStyle($)[p]});R!=null&&(a.lineColor=R);var P=["left","right","center","justify"];P.indexOf(r.textAlign)!==-1&&(a.halign=r.textAlign),P=["middle","bottom","top"],P.indexOf(r.verticalAlign)!==-1&&(a.valign=r.verticalAlign);var M=parseInt(r.fontSize||"");isNaN(M)||(a.fontSize=M/l);var k=jO(r);k&&(a.fontStyle=k);var K=(r.fontFamily||"").toLowerCase();return n.indexOf(K)!==-1&&(a.font=K),a}function jO(n){var e="";return(n.fontWeight==="bold"||n.fontWeight==="bolder"||parseInt(n.fontWeight)>=700)&&(e="bold"),(n.fontStyle==="italic"||n.fontStyle==="oblique")&&(e+="italic"),e}function E2(n,e){var t=n3(n,e);if(!t)return null;var r=t.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!r||!Array.isArray(r))return null;var i=[parseInt(r[1]),parseInt(r[2]),parseInt(r[3])],a=parseInt(r[4]);return a===0||isNaN(i[0])||isNaN(i[1])||isNaN(i[2])?null:i}function n3(n,e){var t=e(n);return t==="rgba(0, 0, 0, 0)"||t==="transparent"||t==="initial"||t==="inherit"?n.parentElement==null?null:n3(n.parentElement,e):t}function FO(n,e){var t=[n.paddingTop,n.paddingRight,n.paddingBottom,n.paddingLeft],r=96/(72/e),i=(parseInt(n.lineHeight)-parseInt(n.fontSize))/e/2,a=t.map(function(c){return parseInt(c||"0")/r}),l=Yy(a,0);return i>l.top&&(l.top=i),i>l.bottom&&(l.bottom=i),l}function r3(n,e,t,r,i){var a,l;r===void 0&&(r=!1),i===void 0&&(i=!1);var c;typeof e=="string"?c=t.document.querySelector(e):c=e;var h=Object.keys(n.getFontList()),f=n.scaleFactor(),p=[],v=[],E=[];if(!c)return console.error("Html table could not be found with input: ",e),{head:p,body:v,foot:E};for(var b=0;b<c.rows.length;b++){var R=c.rows[b],P=(l=(a=R?.parentElement)===null||a===void 0?void 0:a.tagName)===null||l===void 0?void 0:l.toLowerCase(),M=UO(h,f,t,R,r,i);M&&(P==="thead"?p.push(M):P==="tfoot"?E.push(M):v.push(M))}return{head:p,body:v,foot:E}}function UO(n,e,t,r,i,a){for(var l=new JI(r),c=0;c<r.cells.length;c++){var h=r.cells[c],f=t.getComputedStyle(h);if(i||f.display!=="none"){var p=void 0;a&&(p=VO(n,h,e,f,t)),l.push({rowSpan:h.rowSpan,colSpan:h.colSpan,styles:p,_element:h,content:BO(h)})}}var v=t.getComputedStyle(r);if(l.length>0&&(i||v.display!=="none"))return l}function BO(n){var e=n.cloneNode(!0);return e.innerHTML=e.innerHTML.replace(/\n/g,"").replace(/ +/g," "),e.innerHTML=e.innerHTML.split(/<br.*?>/).map(function(t){return t.trim()}).join(`
`),e.innerText||e.textContent||""}function zO(n,e,t){for(var r=0,i=[n,e,t];r<i.length;r++){var a=i[r];a&&typeof a!="object"&&console.error("The options parameter should be of type object, is: "+typeof a),a.startY&&typeof a.startY!="number"&&(console.error("Invalid value for startY option",a.startY),delete a.startY)}}function vu(n,e,t,r,i){if(n==null)throw new TypeError("Cannot convert undefined or null to object");for(var a=Object(n),l=1;l<arguments.length;l++){var c=arguments[l];if(c!=null)for(var h in c)Object.prototype.hasOwnProperty.call(c,h)&&(a[h]=c[h])}return a}function i3(n,e){var t=new ud(n),r=t.getDocumentOptions(),i=t.getGlobalOptions();zO(i,r,e);var a=vu({},i,r,e),l;typeof window<"u"&&(l=window);var c=qO(i,r,e),h=HO(i,r,e),f=GO(t,a),p=WO(t,a,l);return{id:e.tableId,content:p,hooks:h,styles:c,settings:f}}function qO(n,e,t){for(var r={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},i=function(h){if(h==="columnStyles"){var f=n[h],p=e[h],v=t[h];r.columnStyles=vu({},f,p,v)}else{var E=[n,e,t],b=E.map(function(R){return R[h]||{}});r[h]=vu({},b[0],b[1],b[2])}},a=0,l=Object.keys(r);a<l.length;a++){var c=l[a];i(c)}return r}function HO(n,e,t){for(var r=[n,e,t],i={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},a=0,l=r;a<l.length;a++){var c=l[a];c.didParseCell&&i.didParseCell.push(c.didParseCell),c.willDrawCell&&i.willDrawCell.push(c.willDrawCell),c.didDrawCell&&i.didDrawCell.push(c.didDrawCell),c.willDrawPage&&i.willDrawPage.push(c.willDrawPage),c.didDrawPage&&i.didDrawPage.push(c.didDrawPage)}return i}function GO(n,e){var t,r,i,a,l,c,h,f,p,v,E,b,R=Yy(e.margin,40/n.scaleFactor()),P=(t=$O(n,e.startY))!==null&&t!==void 0?t:R.top,M;e.showFoot===!0?M="everyPage":e.showFoot===!1?M="never":M=(r=e.showFoot)!==null&&r!==void 0?r:"everyPage";var k;e.showHead===!0?k="everyPage":e.showHead===!1?k="never":k=(i=e.showHead)!==null&&i!==void 0?i:"everyPage";var K=(a=e.useCss)!==null&&a!==void 0?a:!1,$=e.theme||(K?"plain":"striped"),ee=!!e.horizontalPageBreak,ye=(l=e.horizontalPageBreakRepeat)!==null&&l!==void 0?l:null;return{includeHiddenHtml:(c=e.includeHiddenHtml)!==null&&c!==void 0?c:!1,useCss:K,theme:$,startY:P,margin:R,pageBreak:(h=e.pageBreak)!==null&&h!==void 0?h:"auto",rowPageBreak:(f=e.rowPageBreak)!==null&&f!==void 0?f:"auto",tableWidth:(p=e.tableWidth)!==null&&p!==void 0?p:"auto",showHead:k,showFoot:M,tableLineWidth:(v=e.tableLineWidth)!==null&&v!==void 0?v:0,tableLineColor:(E=e.tableLineColor)!==null&&E!==void 0?E:200,horizontalPageBreak:ee,horizontalPageBreakRepeat:ye,horizontalPageBreakBehaviour:(b=e.horizontalPageBreakBehaviour)!==null&&b!==void 0?b:"afterAllRows"}}function $O(n,e){var t=n.getLastAutoTable(),r=n.scaleFactor(),i=n.pageNumber(),a=!1;if(t&&t.startPageNumber){var l=t.startPageNumber+t.pageNumber-1;a=l===i}return typeof e=="number"?e:(e==null||e===!1)&&a&&t?.finalY!=null?t.finalY+20/r:null}function WO(n,e,t){var r=e.head||[],i=e.body||[],a=e.foot||[];if(e.html){var l=e.includeHiddenHtml;if(t){var c=r3(n,e.html,t,l,e.useCss)||{};r=c.head||r,i=c.body||r,a=c.foot||r}else console.error("Cannot parse html in non browser environment")}var h=e.columns||KO(r,i,a);return{columns:h,head:r,body:i,foot:a}}function KO(n,e,t){var r=n[0]||e[0]||t[0]||[],i=[];return Object.keys(r).filter(function(a){return a!=="_element"}).forEach(function(a){var l=1,c;Array.isArray(r)?c=r[parseInt(a)]:c=r[a],typeof c=="object"&&!Array.isArray(c)&&(l=c?.colSpan||1);for(var h=0;h<l;h++){var f=void 0;Array.isArray(r)?f=i.length:f=a+(h>0?"_".concat(h):"");var p={dataKey:f};i.push(p)}}),i}var d_=(function(){function n(e,t,r){this.table=t,this.pageNumber=t.pageNumber,this.settings=t.settings,this.cursor=r,this.doc=e.getDocument()}return n})(),YO=(function(n){XI(e,n);function e(t,r,i,a,l,c){var h=n.call(this,t,r,c)||this;return h.cell=i,h.row=a,h.column=l,h.section=a.section,h}return e})(d_),QO=(function(){function n(e,t){this.pageNumber=1,this.id=e.id,this.settings=e.settings,this.styles=e.styles,this.hooks=e.hooks,this.columns=t.columns,this.head=t.head,this.body=t.body,this.foot=t.foot}return n.prototype.getHeadHeight=function(e){return this.head.reduce(function(t,r){return t+r.getMaxCellHeight(e)},0)},n.prototype.getFootHeight=function(e){return this.foot.reduce(function(t,r){return t+r.getMaxCellHeight(e)},0)},n.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},n.prototype.callCellHooks=function(e,t,r,i,a,l){for(var c=0,h=t;c<h.length;c++){var f=h[c],p=new YO(e,this,r,i,a,l),v=f(p)===!1;if(r.text=Array.isArray(r.text)?r.text:[r.text],v)return!1}return!0},n.prototype.callEndPageHooks=function(e,t){e.applyStyles(e.userStyles);for(var r=0,i=this.hooks.didDrawPage;r<i.length;r++){var a=i[r];a(new d_(e,this,t))}},n.prototype.callWillDrawPageHooks=function(e,t){for(var r=0,i=this.hooks.willDrawPage;r<i.length;r++){var a=i[r];a(new d_(e,this,t))}},n.prototype.getWidth=function(e){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var t=this.columns.reduce(function(i,a){return i+a.wrappedWidth},0);return t}else{var r=this.settings.margin;return e-r.left-r.right}},n})(),s3=(function(){function n(e,t,r,i,a){a===void 0&&(a=!1),this.height=0,this.raw=e,e instanceof JI&&(this.raw=e._element,this.element=e._element),this.index=t,this.section=r,this.cells=i,this.spansMultiplePages=a}return n.prototype.getMaxCellHeight=function(e){var t=this;return e.reduce(function(r,i){var a;return Math.max(r,((a=t.cells[i.index])===null||a===void 0?void 0:a.height)||0)},0)},n.prototype.hasRowSpan=function(e){var t=this;return e.filter(function(r){var i=t.cells[r.index];return i?i.rowSpan>1:!1}).length>0},n.prototype.canEntireRowFit=function(e,t){return this.getMaxCellHeight(t)<=e},n.prototype.getMinimumRowHeight=function(e,t){var r=this;return e.reduce(function(i,a){var l=r.cells[a.index];if(!l)return 0;var c=t.getLineHeight(l.styles.fontSize),h=l.padding("vertical"),f=h+c;return f>i?f:i},0)},n})(),a3=(function(){function n(e,t,r){var i;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=t,this.section=r,this.raw=e;var a=e;e!=null&&typeof e=="object"&&!Array.isArray(e)?(this.rowSpan=e.rowSpan||1,this.colSpan=e.colSpan||1,a=(i=e.content)!==null&&i!==void 0?i:e,e._element&&(this.raw=e._element)):(this.rowSpan=1,this.colSpan=1);var l=a!=null?""+a:"",c=/\r\n|\r|\n/g;this.text=l.split(c)}return n.prototype.getTextPos=function(){var e;if(this.styles.valign==="top")e=this.y+this.padding("top");else if(this.styles.valign==="bottom")e=this.y+this.height-this.padding("bottom");else{var t=this.height-this.padding("vertical");e=this.y+t/2+this.padding("top")}var r;if(this.styles.halign==="right")r=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var i=this.width-this.padding("horizontal");r=this.x+i/2+this.padding("left")}else r=this.x+this.padding("left");return{x:r,y:e}},n.prototype.getContentHeight=function(e,t){t===void 0&&(t=1.15);var r=Array.isArray(this.text)?this.text.length:1,i=this.styles.fontSize/e*t,a=r*i+this.padding("vertical");return Math.max(a,this.styles.minCellHeight)},n.prototype.padding=function(e){var t=Yy(this.styles.cellPadding,0);return e==="vertical"?t.top+t.bottom:e==="horizontal"?t.left+t.right:t[e]},n})(),XO=(function(){function n(e,t,r){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=e,this.raw=t,this.index=r}return n.prototype.getMaxCustomCellWidth=function(e){for(var t=0,r=0,i=e.allRows();r<i.length;r++){var a=i[r],l=a.cells[this.index];l&&typeof l.styles.cellWidth=="number"&&(t=Math.max(t,l.styles.cellWidth))}return t},n})();function JO(n,e){ZO(n,e);var t=[],r=0;e.columns.forEach(function(a){var l=a.getMaxCustomCellWidth(e);l?a.width=l:(a.width=a.wrappedWidth,t.push(a)),r+=a.width});var i=e.getWidth(n.pageSize().width)-r;i&&(i=p_(t,i,function(a){return Math.max(a.minReadableWidth,a.minWidth)})),i&&(i=p_(t,i,function(a){return a.minWidth})),i=Math.abs(i),!e.settings.horizontalPageBreak&&i>.1/n.scaleFactor()&&(i=i<1?i:Math.round(i),console.warn("Of the table content, ".concat(i," units width could not fit page"))),t7(e),n7(e,n),e7(e)}function ZO(n,e){var t=n.scaleFactor(),r=e.settings.horizontalPageBreak,i=t3(n,e);e.allRows().forEach(function(a){for(var l=0,c=e.columns;l<c.length;l++){var h=c[l],f=a.cells[h.index];if(f){var p=e.hooks.didParseCell;e.callCellHooks(n,p,f,a,h,null);var v=f.padding("horizontal");f.contentWidth=gy(f.text,f.styles,n)+v;var E=gy(f.text.join(" ").split(/[^\S\u00A0]+/),f.styles,n);if(f.minReadableWidth=E+f.padding("horizontal"),typeof f.styles.cellWidth=="number")f.minWidth=f.styles.cellWidth,f.wrappedWidth=f.styles.cellWidth;else if(f.styles.cellWidth==="wrap"||r===!0)f.contentWidth>i?(f.minWidth=i,f.wrappedWidth=i):(f.minWidth=f.contentWidth,f.wrappedWidth=f.contentWidth);else{var b=10/t;f.minWidth=f.styles.minCellWidth||b,f.wrappedWidth=f.contentWidth,f.minWidth>f.wrappedWidth&&(f.wrappedWidth=f.minWidth)}}}}),e.allRows().forEach(function(a){for(var l=0,c=e.columns;l<c.length;l++){var h=c[l],f=a.cells[h.index];if(f&&f.colSpan===1)h.wrappedWidth=Math.max(h.wrappedWidth,f.wrappedWidth),h.minWidth=Math.max(h.minWidth,f.minWidth),h.minReadableWidth=Math.max(h.minReadableWidth,f.minReadableWidth);else{var p=e.styles.columnStyles[h.dataKey]||e.styles.columnStyles[h.index]||{},v=p.cellWidth||p.minCellWidth;v&&typeof v=="number"&&(h.minWidth=v,h.wrappedWidth=v)}f&&(f.colSpan>1&&!h.minWidth&&(h.minWidth=f.minWidth),f.colSpan>1&&!h.wrappedWidth&&(h.wrappedWidth=f.minWidth))}})}function p_(n,e,t){for(var r=e,i=n.reduce(function(b,R){return b+R.wrappedWidth},0),a=0;a<n.length;a++){var l=n[a],c=l.wrappedWidth/i,h=r*c,f=l.width+h,p=t(l),v=f<p?p:f;e-=v-l.width,l.width=v}if(e=Math.round(e*1e10)/1e10,e){var E=n.filter(function(b){return e<0?b.width>t(b):!0});E.length&&(e=p_(E,e,t))}return e}function e7(n){for(var e={},t=1,r=n.allRows(),i=0;i<r.length;i++)for(var a=r[i],l=0,c=n.columns;l<c.length;l++){var h=c[l],f=e[h.index];if(t>1)t--,delete a.cells[h.index];else if(f)f.cell.height+=a.height,t=f.cell.colSpan,delete a.cells[h.index],f.left--,f.left<=1&&delete e[h.index];else{var p=a.cells[h.index];if(!p)continue;if(p.height=a.height,p.rowSpan>1){var v=r.length-i,E=p.rowSpan>v?v:p.rowSpan;e[h.index]={cell:p,left:E,row:a}}}}}function t7(n){for(var e=n.allRows(),t=0;t<e.length;t++)for(var r=e[t],i=null,a=0,l=0,c=0;c<n.columns.length;c++){var h=n.columns[c];if(l-=1,l>1&&n.columns[c+1])a+=h.width,delete r.cells[h.index];else if(i){var f=i;delete r.cells[h.index],i=null,f.width=h.width+a}else{var f=r.cells[h.index];if(!f)continue;if(l=f.colSpan,a=0,f.colSpan>1){i=f,a+=h.width;continue}f.width=h.width+a}}}function n7(n,e){for(var t={count:0,height:0},r=0,i=n.allRows();r<i.length;r++){for(var a=i[r],l=0,c=n.columns;l<c.length;l++){var h=c[l],f=a.cells[h.index];if(f){e.applyStyles(f.styles,!0);var p=f.width-f.padding("horizontal");if(f.styles.overflow==="linebreak")f.text=e.splitTextToSize(f.text,p+1/e.scaleFactor(),{fontSize:f.styles.fontSize});else if(f.styles.overflow==="ellipsize")f.text=cT(f.text,p,f.styles,e,"...");else if(f.styles.overflow==="hidden")f.text=cT(f.text,p,f.styles,e,"");else if(typeof f.styles.overflow=="function"){var v=f.styles.overflow(f.text,p);typeof v=="string"?f.text=[v]:f.text=v}f.contentHeight=f.getContentHeight(e.scaleFactor(),e.getLineHeightFactor());var E=f.contentHeight/f.rowSpan;f.rowSpan>1&&t.count*t.height<E*f.rowSpan?t={height:E,count:f.rowSpan}:t&&t.count>0&&t.height>E&&(E=t.height),E>a.height&&(a.height=E)}}t.count--}}function cT(n,e,t,r,i){return n.map(function(a){return r7(a,e,t,r,i)})}function r7(n,e,t,r,i){var a=1e4*r.scaleFactor();if(e=Math.ceil(e*a)/a,e>=gy(n,t,r))return n;for(;e<gy(n+i,t,r)&&!(n.length<=1);)n=n.substring(0,n.length-1);return n.trim()+i}function o3(n,e){var t=new ud(n),r=i7(e,t.scaleFactor()),i=new QO(e,r);return JO(t,i),t.applyStyles(t.userStyles),i}function i7(n,e){var t=n.content,r=a7(t.columns);if(t.head.length===0){var i=hT(r,"head");i&&t.head.push(i)}if(t.foot.length===0){var i=hT(r,"foot");i&&t.foot.push(i)}var a=n.settings.theme,l=n.styles;return{columns:r,head:A2("head",t.head,r,l,a,e),body:A2("body",t.body,r,l,a,e),foot:A2("foot",t.foot,r,l,a,e)}}function A2(n,e,t,r,i,a){var l={},c=e.map(function(h,f){for(var p=0,v={},E=0,b=0,R=0,P=t;R<P.length;R++){var M=P[R];if(l[M.index]==null||l[M.index].left===0)if(b===0){var k=void 0;Array.isArray(h)?k=h[M.index-E-p]:k=h[M.dataKey];var K={};typeof k=="object"&&!Array.isArray(k)&&(K=k?.styles||{});var $=o7(n,M,f,i,r,a,K),ee=new a3(k,$,n);v[M.dataKey]=ee,v[M.index]=ee,b=ee.colSpan-1,l[M.index]={left:ee.rowSpan-1,times:b}}else b--,E++;else l[M.index].left--,b=l[M.index].times,p++}return new s3(h,f,n,v)});return c}function hT(n,e){var t={};return n.forEach(function(r){if(r.raw!=null){var i=s7(e,r.raw);i!=null&&(t[r.dataKey]=i)}}),Object.keys(t).length>0?t:null}function s7(n,e){if(n==="head"){if(typeof e=="object")return e.header||null;if(typeof e=="string"||typeof e=="number")return e}else if(n==="foot"&&typeof e=="object")return e.footer;return null}function a7(n){return n.map(function(e,t){var r,i;return typeof e=="object"?i=(r=e.dataKey)!==null&&r!==void 0?r:t:i=t,new XO(i,e,t)})}function o7(n,e,t,r,i,a,l){var c=MO(r),h;n==="head"?h=i.headStyles:n==="body"?h=i.bodyStyles:n==="foot"&&(h=i.footStyles);var f=vu({},c.table,c[n],i.styles,h),p=i.columnStyles[e.dataKey]||i.columnStyles[e.index]||{},v=n==="body"?p:{},E=n==="body"&&t%2===0?vu({},c.alternateRow,i.alternateRowStyles):{},b=OO(a),R=vu({},b,f,E,v);return vu(R,l)}function l7(n,e,t){var r;t===void 0&&(t={});var i=t3(n,e),a=new Map,l=[],c=[],h=[];Array.isArray(e.settings.horizontalPageBreakRepeat)?h=e.settings.horizontalPageBreakRepeat:(typeof e.settings.horizontalPageBreakRepeat=="string"||typeof e.settings.horizontalPageBreakRepeat=="number")&&(h=[e.settings.horizontalPageBreakRepeat]),h.forEach(function(E){var b=e.columns.find(function(R){return R.dataKey===E||R.index===E});b&&!a.has(b.index)&&(a.set(b.index,!0),l.push(b.index),c.push(e.columns[b.index]),i-=b.wrappedWidth)});for(var f=!0,p=(r=t?.start)!==null&&r!==void 0?r:0;p<e.columns.length;){if(a.has(p)){p++;continue}var v=e.columns[p].wrappedWidth;if(f||i>=v)f=!1,l.push(p),c.push(e.columns[p]),i-=v;else break;p++}return{colIndexes:l,columns:c,lastIndex:p-1}}function u7(n,e){for(var t=[],r=0;r<e.columns.length;r++){var i=l7(n,e,{start:r});i.columns.length&&(t.push(i),r=i.lastIndex)}return t}function l3(n,e){var t=e.settings,r=t.startY,i=t.margin,a={x:i.left,y:r},l=e.getHeadHeight(e.columns)+e.getFootHeight(e.columns),c=r+i.bottom+l;if(t.pageBreak==="avoid"){var h=e.body,f=h.reduce(function(E,b){return E+b.height},0);c+=f}var p=new ud(n);(t.pageBreak==="always"||t.startY!=null&&c>p.pageSize().height)&&(c3(p),a.y=i.top),e.callWillDrawPageHooks(p,a);var v=vu({},a);e.startPageNumber=p.pageNumber(),t.horizontalPageBreak?c7(p,e,v,a):(p.applyStyles(p.userStyles),(t.showHead==="firstPage"||t.showHead==="everyPage")&&e.head.forEach(function(E){return Su(p,e,E,a,e.columns)}),p.applyStyles(p.userStyles),e.body.forEach(function(E,b){var R=b===e.body.length-1;yy(p,e,E,R,v,a,e.columns)}),p.applyStyles(p.userStyles),(t.showFoot==="lastPage"||t.showFoot==="everyPage")&&e.foot.forEach(function(E){return Su(p,e,E,a,e.columns)})),ZI(p,e,v,a),e.callEndPageHooks(p,a),e.finalY=a.y,n.lastAutoTable=e,p.applyStyles(p.userStyles)}function c7(n,e,t,r){var i=u7(n,e),a=e.settings;if(a.horizontalPageBreakBehaviour==="afterAllRows")i.forEach(function(f,p){n.applyStyles(n.userStyles),p>0?cm(n,e,t,r,f.columns,!0):fT(n,e,r,f.columns),h7(n,e,t,r,f.columns),S2(n,e,r,f.columns)});else for(var l=-1,c=i[0],h=function(){var f=l;if(c){n.applyStyles(n.userStyles);var p=c.columns;l>=0?cm(n,e,t,r,p,!0):fT(n,e,r,p),f=dT(n,e,l+1,r,p),S2(n,e,r,p)}var v=f-l;i.slice(1).forEach(function(E){n.applyStyles(n.userStyles),cm(n,e,t,r,E.columns,!0),dT(n,e,l+1,r,E.columns,v),S2(n,e,r,E.columns)}),l=f};l<e.body.length-1;)h()}function fT(n,e,t,r){var i=e.settings;n.applyStyles(n.userStyles),(i.showHead==="firstPage"||i.showHead==="everyPage")&&e.head.forEach(function(a){return Su(n,e,a,t,r)})}function h7(n,e,t,r,i){n.applyStyles(n.userStyles),e.body.forEach(function(a,l){var c=l===e.body.length-1;yy(n,e,a,c,t,r,i)})}function dT(n,e,t,r,i,a){n.applyStyles(n.userStyles),a=a??e.body.length;var l=Math.min(t+a,e.body.length),c=-1;return e.body.slice(t,l).forEach(function(h,f){var p=t+f===e.body.length-1,v=u3(n,e,p,r);h.canEntireRowFit(v,i)&&(Su(n,e,h,r,i),c=t+f)}),c}function S2(n,e,t,r){var i=e.settings;n.applyStyles(n.userStyles),(i.showFoot==="lastPage"||i.showFoot==="everyPage")&&e.foot.forEach(function(a){return Su(n,e,a,t,r)})}function f7(n,e,t){var r=t.getLineHeight(n.styles.fontSize),i=n.padding("vertical"),a=Math.floor((e-i)/r);return Math.max(0,a)}function d7(n,e,t,r){var i={};n.spansMultiplePages=!0,n.height=0;for(var a=0,l=0,c=t.columns;l<c.length;l++){var h=c[l],f=n.cells[h.index];if(f){Array.isArray(f.text)||(f.text=[f.text]);var p=new a3(f.raw,f.styles,f.section);p=vu(p,f),p.text=[];var v=f7(f,e,r);f.text.length>v&&(p.text=f.text.splice(v,f.text.length));var E=r.scaleFactor(),b=r.getLineHeightFactor();f.contentHeight=f.getContentHeight(E,b),f.contentHeight>=e&&(f.contentHeight=e,p.styles.minCellHeight-=e),f.contentHeight>n.height&&(n.height=f.contentHeight),p.contentHeight=p.getContentHeight(E,b),p.contentHeight>a&&(a=p.contentHeight),i[h.index]=p}}var R=new s3(n.raw,-1,n.section,i,!0);R.height=a;for(var P=0,M=t.columns;P<M.length;P++){var h=M[P],p=R.cells[h.index];p&&(p.height=R.height);var f=n.cells[h.index];f&&(f.height=n.height)}return R}function p7(n,e,t,r){var i=n.pageSize().height,a=r.settings.margin,l=a.top+a.bottom,c=i-l;e.section==="body"&&(c-=r.getHeadHeight(r.columns)+r.getFootHeight(r.columns));var h=e.getMinimumRowHeight(r.columns,n),f=h<t;if(h>c)return console.error("Will not be able to print row ".concat(e.index," correctly since it's minimum height is larger than page height")),!0;if(!f)return!1;var p=e.hasRowSpan(r.columns),v=e.getMaxCellHeight(r.columns)>c;return v?(p&&console.error("The content of row ".concat(e.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(p||r.settings.rowPageBreak==="avoid")}function yy(n,e,t,r,i,a,l){var c=u3(n,e,r,a);if(t.canEntireRowFit(c,l))Su(n,e,t,a,l);else if(p7(n,t,c,e)){var h=d7(t,c,e,n);Su(n,e,t,a,l),cm(n,e,i,a,l),yy(n,e,h,r,i,a,l)}else cm(n,e,i,a,l),yy(n,e,t,r,i,a,l)}function Su(n,e,t,r,i){r.x=e.settings.margin.left;for(var a=0,l=i;a<l.length;a++){var c=l[a],h=t.cells[c.index];if(!h){r.x+=c.width;continue}n.applyStyles(h.styles),h.x=r.x,h.y=r.y;var f=e.callCellHooks(n,e.hooks.willDrawCell,h,t,c,r);if(f===!1){r.x+=c.width;continue}m7(n,h,r);var p=h.getTextPos();QI(h.text,p.x,p.y,{halign:h.styles.halign,valign:h.styles.valign,maxWidth:Math.ceil(h.width-h.padding("left")-h.padding("right"))},n.getDocument()),e.callCellHooks(n,e.hooks.didDrawCell,h,t,c,r),r.x+=c.width}r.y+=t.height}function m7(n,e,t){var r=e.styles;if(n.getDocument().setFillColor(n.getDocument().getFillColor()),typeof r.lineWidth=="number"){var i=e3(r.lineWidth,r.fillColor);i&&n.rect(e.x,t.y,e.width,e.height,i)}else typeof r.lineWidth=="object"&&(r.fillColor&&n.rect(e.x,t.y,e.width,e.height,"F"),g7(n,e,t,r.lineWidth))}function g7(n,e,t,r){var i,a,l,c;r.top&&(i=t.x,a=t.y,l=t.x+e.width,c=t.y,r.right&&(l+=.5*r.right),r.left&&(i-=.5*r.left),h(r.top,i,a,l,c)),r.bottom&&(i=t.x,a=t.y+e.height,l=t.x+e.width,c=t.y+e.height,r.right&&(l+=.5*r.right),r.left&&(i-=.5*r.left),h(r.bottom,i,a,l,c)),r.left&&(i=t.x,a=t.y,l=t.x,c=t.y+e.height,r.top&&(a-=.5*r.top),r.bottom&&(c+=.5*r.bottom),h(r.left,i,a,l,c)),r.right&&(i=t.x+e.width,a=t.y,l=t.x+e.width,c=t.y+e.height,r.top&&(a-=.5*r.top),r.bottom&&(c+=.5*r.bottom),h(r.right,i,a,l,c));function h(f,p,v,E,b){n.getDocument().setLineWidth(f),n.getDocument().line(p,v,E,b,"S")}}function u3(n,e,t,r){var i=e.settings.margin.bottom,a=e.settings.showFoot;return(a==="everyPage"||a==="lastPage"&&t)&&(i+=e.getFootHeight(e.columns)),n.pageSize().height-r.y-i}function cm(n,e,t,r,i,a){i===void 0&&(i=[]),a===void 0&&(a=!1),n.applyStyles(n.userStyles),e.settings.showFoot==="everyPage"&&!a&&e.foot.forEach(function(c){return Su(n,e,c,r,i)}),e.callEndPageHooks(n,r);var l=e.settings.margin;ZI(n,e,t,r),c3(n),e.pageNumber++,r.x=l.left,r.y=l.top,t.y=l.top,e.callWillDrawPageHooks(n,r),e.settings.showHead==="everyPage"&&(e.head.forEach(function(c){return Su(n,e,c,r,i)}),n.applyStyles(n.userStyles))}function c3(n){var e=n.pageNumber();n.setPage(e+1);var t=n.pageNumber();return t===e?(n.addPage(),!0):!1}function y7(n){n.API.autoTable=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=e[0],i=i3(this,r),a=o3(this,i);return l3(this,a),this},n.API.lastAutoTable=!1,n.API.autoTableText=function(e,t,r,i){QI(e,t,r,i,this)},n.API.autoTableSetDefaults=function(e){return ud.setDefaults(e,this),this},n.autoTableSetDefaults=function(e,t){ud.setDefaults(e,t)},n.API.autoTableHtmlToJson=function(e,t){var r;if(t===void 0&&(t=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var i=new ud(this),a=r3(i,e,window,t,!1),l=a.head,c=a.body,h=((r=l[0])===null||r===void 0?void 0:r.map(function(f){return f.content}))||[];return{columns:h,rows:c,data:c}}}var T2;function Cm(n,e){var t=i3(n,e),r=o3(n,t);l3(n,r)}try{if(typeof window<"u"&&window){var pT=window,mT=pT.jsPDF||((T2=pT.jspdf)===null||T2===void 0?void 0:T2.jsPDF);mT&&y7(mT)}}catch(n){console.error("Could not apply autoTable plugin",n)}var x2={exports:{}};var gT;function v7(){return gT||(gT=1,(function(n){(function(){var e={}.hasOwnProperty;function t(){for(var a="",l=0;l<arguments.length;l++){var c=arguments[l];c&&(a=i(a,r(c)))}return a}function r(a){if(typeof a=="string"||typeof a=="number")return a;if(typeof a!="object")return"";if(Array.isArray(a))return t.apply(null,a);if(a.toString!==Object.prototype.toString&&!a.toString.toString().includes("[native code]"))return a.toString();var l="";for(var c in a)e.call(a,c)&&a[c]&&(l=i(l,c));return l}function i(a,l){return l?a?a+" "+l:a+l:a}n.exports?(t.default=t,n.exports=t):window.classNames=t})()})(x2)),x2.exports}var _7=v7();const zd=eg(_7);function m_(){return m_=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},m_.apply(null,arguments)}function h3(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}function yT(n){return"default"+n.charAt(0).toUpperCase()+n.substr(1)}function b7(n){var e=w7(n,"string");return typeof e=="symbol"?e:String(e)}function w7(n,e){if(typeof n!="object"||n===null)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}function E7(n,e,t){var r=ce.useRef(n!==void 0),i=ce.useState(e),a=i[0],l=i[1],c=n!==void 0,h=r.current;return r.current=c,!c&&h&&a!==e&&l(e),[c?n:a,ce.useCallback(function(f){for(var p=arguments.length,v=new Array(p>1?p-1:0),E=1;E<p;E++)v[E-1]=arguments[E];t&&t.apply(void 0,[f].concat(v)),l(f)},[t])]}function f3(n,e){return Object.keys(e).reduce(function(t,r){var i,a=t,l=a[yT(r)],c=a[r],h=h3(a,[yT(r),r].map(b7)),f=e[r],p=E7(c,l,n[f]),v=p[0],E=p[1];return m_({},h,(i={},i[r]=v,i[f]=E,i))},n)}function g_(n,e){return g_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,r){return t.__proto__=r,t},g_(n,e)}function A7(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,g_(n,e)}const S7=["xxl","xl","lg","md","sm","xs"],T7="xs",d3=ce.createContext({prefixes:{},breakpoints:S7,minBreakpoint:T7}),{Consumer:G$,Provider:$$}=d3;function sg(n,e){const{prefixes:t}=ce.useContext(d3);return n||t[e]||e}function x7(n){return n&&n.ownerDocument||document}function I7(n){var e=x7(n);return e&&e.defaultView||window}function N7(n,e){return I7(n).getComputedStyle(n,e)}var C7=/([A-Z])/g;function R7(n){return n.replace(C7,"-$1").toLowerCase()}var P7=/^ms-/;function P1(n){return R7(n).replace(P7,"-ms-")}var L7=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function k7(n){return!!(n&&L7.test(n))}function p3(n,e){var t="",r="";if(typeof e=="string")return n.style.getPropertyValue(P1(e))||N7(n).getPropertyValue(P1(e));Object.keys(e).forEach(function(i){var a=e[i];!a&&a!==0?n.style.removeProperty(P1(i)):k7(i)?r+=i+"("+a+") ":t+=P1(i)+": "+a+";"}),r&&(t+="transform: "+r+";"),n.style.cssText+=";"+t}var I2={exports:{}},N2,vT;function D7(){if(vT)return N2;vT=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return N2=n,N2}var C2,_T;function O7(){if(_T)return C2;_T=1;var n=D7();function e(){}function t(){}return t.resetWarningCache=e,C2=function(){function r(l,c,h,f,p,v){if(v!==n){var E=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw E.name="Invariant Violation",E}}r.isRequired=r;function i(){return r}var a={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:t,resetWarningCache:e};return a.PropTypes=a,a},C2}var bT;function M7(){return bT||(bT=1,I2.exports=O7()()),I2.exports}var V7=M7();const ph=eg(V7),wT={disabled:!1},m3=Bs.createContext(null);var j7=function(e){return e.scrollTop},Zp="unmounted",yh="exited",_c="entering",Eh="entered",y_="exiting",Ru=(function(n){A7(e,n);function e(r,i){var a;a=n.call(this,r,i)||this;var l=i,c=l&&!l.isMounting?r.enter:r.appear,h;return a.appearStatus=null,r.in?c?(h=yh,a.appearStatus=_c):h=Eh:r.unmountOnExit||r.mountOnEnter?h=Zp:h=yh,a.state={status:h},a.nextCallback=null,a}e.getDerivedStateFromProps=function(i,a){var l=i.in;return l&&a.status===Zp?{status:yh}:null};var t=e.prototype;return t.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},t.componentDidUpdate=function(i){var a=null;if(i!==this.props){var l=this.state.status;this.props.in?l!==_c&&l!==Eh&&(a=_c):(l===_c||l===Eh)&&(a=y_)}this.updateStatus(!1,a)},t.componentWillUnmount=function(){this.cancelNextCallback()},t.getTimeouts=function(){var i=this.props.timeout,a,l,c;return a=l=c=i,i!=null&&typeof i!="number"&&(a=i.exit,l=i.enter,c=i.appear!==void 0?i.appear:l),{exit:a,enter:l,appear:c}},t.updateStatus=function(i,a){if(i===void 0&&(i=!1),a!==null)if(this.cancelNextCallback(),a===_c){if(this.props.unmountOnExit||this.props.mountOnEnter){var l=this.props.nodeRef?this.props.nodeRef.current:Jp.findDOMNode(this);l&&j7(l)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===yh&&this.setState({status:Zp})},t.performEnter=function(i){var a=this,l=this.props.enter,c=this.context?this.context.isMounting:i,h=this.props.nodeRef?[c]:[Jp.findDOMNode(this),c],f=h[0],p=h[1],v=this.getTimeouts(),E=c?v.appear:v.enter;if(!i&&!l||wT.disabled){this.safeSetState({status:Eh},function(){a.props.onEntered(f)});return}this.props.onEnter(f,p),this.safeSetState({status:_c},function(){a.props.onEntering(f,p),a.onTransitionEnd(E,function(){a.safeSetState({status:Eh},function(){a.props.onEntered(f,p)})})})},t.performExit=function(){var i=this,a=this.props.exit,l=this.getTimeouts(),c=this.props.nodeRef?void 0:Jp.findDOMNode(this);if(!a||wT.disabled){this.safeSetState({status:yh},function(){i.props.onExited(c)});return}this.props.onExit(c),this.safeSetState({status:y_},function(){i.props.onExiting(c),i.onTransitionEnd(l.exit,function(){i.safeSetState({status:yh},function(){i.props.onExited(c)})})})},t.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},t.safeSetState=function(i,a){a=this.setNextCallback(a),this.setState(i,a)},t.setNextCallback=function(i){var a=this,l=!0;return this.nextCallback=function(c){l&&(l=!1,a.nextCallback=null,i(c))},this.nextCallback.cancel=function(){l=!1},this.nextCallback},t.onTransitionEnd=function(i,a){this.setNextCallback(a);var l=this.props.nodeRef?this.props.nodeRef.current:Jp.findDOMNode(this),c=i==null&&!this.props.addEndListener;if(!l||c){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var h=this.props.nodeRef?[this.nextCallback]:[l,this.nextCallback],f=h[0],p=h[1];this.props.addEndListener(f,p)}i!=null&&setTimeout(this.nextCallback,i)},t.render=function(){var i=this.state.status;if(i===Zp)return null;var a=this.props,l=a.children;a.in,a.mountOnEnter,a.unmountOnExit,a.appear,a.enter,a.exit,a.timeout,a.addEndListener,a.onEnter,a.onEntering,a.onEntered,a.onExit,a.onExiting,a.onExited,a.nodeRef;var c=h3(a,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Bs.createElement(m3.Provider,{value:null},typeof l=="function"?l(i,c):Bs.cloneElement(Bs.Children.only(l),c))},e})(Bs.Component);Ru.contextType=m3;Ru.propTypes={};function zf(){}Ru.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:zf,onEntering:zf,onEntered:zf,onExit:zf,onExiting:zf,onExited:zf};Ru.UNMOUNTED=Zp;Ru.EXITED=yh;Ru.ENTERING=_c;Ru.ENTERED=Eh;Ru.EXITING=y_;function F7(){const n=ce.version.split(".");return{major:+n[0],minor:+n[1],patch:+n[2]}}function g3(n){if(!n||typeof n=="function")return null;const{major:e}=F7();return e>=19?n.props.ref:n.ref}const U7=!!(typeof window<"u"&&window.document&&window.document.createElement);var v_=!1,__=!1;try{var R2={get passive(){return v_=!0},get once(){return __=v_=!0}};U7&&(window.addEventListener("test",R2,R2),window.removeEventListener("test",R2,!0))}catch{}function B7(n,e,t,r){if(r&&typeof r!="boolean"&&!__){var i=r.once,a=r.capture,l=t;!__&&i&&(l=t.__once||function c(h){this.removeEventListener(e,c,a),t.call(this,h)},t.__once=l),n.addEventListener(e,l,v_?r:a)}n.addEventListener(e,t,r)}function z7(n,e,t,r){var i=r&&typeof r!="boolean"?r.capture:r;n.removeEventListener(e,t,i),t.__once&&n.removeEventListener(e,t.__once,i)}function y3(n,e,t,r){return B7(n,e,t,r),function(){z7(n,e,t,r)}}function q7(n,e,t,r){if(r===void 0&&(r=!0),n){var i=document.createEvent("HTMLEvents");i.initEvent(e,t,r),n.dispatchEvent(i)}}function H7(n){var e=p3(n,"transitionDuration")||"",t=e.indexOf("ms")===-1?1e3:1;return parseFloat(e)*t}function G7(n,e,t){t===void 0&&(t=5);var r=!1,i=setTimeout(function(){r||q7(n,"transitionend",!0)},e+t),a=y3(n,"transitionend",function(){r=!0},{once:!0});return function(){clearTimeout(i),a()}}function $7(n,e,t,r){t==null&&(t=H7(n)||0);var i=G7(n,t,r),a=y3(n,"transitionend",e);return function(){i(),a()}}function ET(n,e){const t=p3(n,e)||"",r=t.indexOf("ms")===-1?1e3:1;return parseFloat(t)*r}function W7(n,e){const t=ET(n,"transitionDuration"),r=ET(n,"transitionDelay"),i=$7(n,a=>{a.target===n&&(i(),e(a))},t+r)}function K7(n){n.offsetHeight}const AT=n=>!n||typeof n=="function"?n:e=>{n.current=e};function Y7(n,e){const t=AT(n),r=AT(e);return i=>{t&&t(i),r&&r(i)}}function Q7(n,e){return ce.useMemo(()=>Y7(n,e),[n,e])}function X7(n){return n&&"setState"in n?Jp.findDOMNode(n):n??null}const v3=Bs.forwardRef(({onEnter:n,onEntering:e,onEntered:t,onExit:r,onExiting:i,onExited:a,addEndListener:l,children:c,childRef:h,...f},p)=>{const v=ce.useRef(null),E=Q7(v,h),b=ve=>{E(X7(ve))},R=ve=>z=>{ve&&v.current&&ve(v.current,z)},P=ce.useCallback(R(n),[n]),M=ce.useCallback(R(e),[e]),k=ce.useCallback(R(t),[t]),K=ce.useCallback(R(r),[r]),$=ce.useCallback(R(i),[i]),ee=ce.useCallback(R(a),[a]),ye=ce.useCallback(R(l),[l]);return V.jsx(Ru,{ref:p,...f,onEnter:P,onEntered:k,onEntering:M,onExit:K,onExited:ee,onExiting:$,addEndListener:ye,nodeRef:v,children:typeof c=="function"?(ve,z)=>c(ve,{...z,ref:b}):Bs.cloneElement(c,{ref:b})})});v3.displayName="TransitionWrapper";function J7(n){const e=ce.useRef(n);return ce.useEffect(()=>{e.current=n},[n]),e}function w5(n){const e=J7(n);return ce.useCallback(function(...t){return e.current&&e.current(...t)},[e])}const Z7=["as","disabled"];function eM(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function tM(n){return!n||n.trim()==="#"}function _3({tagName:n,disabled:e,href:t,target:r,rel:i,role:a,onClick:l,tabIndex:c=0,type:h}){n||(t!=null||r!=null||i!=null?n="a":n="button");const f={tagName:n};if(n==="button")return[{type:h||"button",disabled:e},f];const p=E=>{if((e||n==="a"&&tM(t))&&E.preventDefault(),e){E.stopPropagation();return}l?.(E)},v=E=>{E.key===" "&&(E.preventDefault(),p(E))};return n==="a"&&(t||(t="#"),e&&(t=void 0)),[{role:a??"button",disabled:void 0,tabIndex:e?void 0:c,href:t,target:n==="a"?r:void 0,"aria-disabled":e||void 0,rel:n==="a"?i:void 0,onClick:p,onKeyDown:v},f]}const b3=ce.forwardRef((n,e)=>{let{as:t,disabled:r}=n,i=eM(n,Z7);const[a,{tagName:l}]=_3(Object.assign({tagName:t,disabled:r},i));return V.jsx(l,Object.assign({},i,a,{ref:e}))});b3.displayName="Button";const nM=["onKeyDown"];function rM(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function iM(n){return!n||n.trim()==="#"}const w3=ce.forwardRef((n,e)=>{let{onKeyDown:t}=n,r=rM(n,nM);const[i]=_3(Object.assign({tagName:"a"},r)),a=w5(l=>{i.onKeyDown(l),t?.(l)});return iM(r.href)||r.role==="button"?V.jsx("a",Object.assign({ref:e},r,i,{onKeyDown:a})):V.jsx("a",Object.assign({ref:e},r,{onKeyDown:t}))});w3.displayName="Anchor";const sM={[_c]:"show",[Eh]:"show"},E5=ce.forwardRef(({className:n,children:e,transitionClasses:t={},onEnter:r,...i},a)=>{const l={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...i},c=ce.useCallback((h,f)=>{K7(h),r?.(h,f)},[r]);return V.jsx(v3,{ref:a,addEndListener:W7,...l,onEnter:c,childRef:g3(e),children:(h,f)=>ce.cloneElement(e,{...f,className:zd("fade",n,e.props.className,sM[h],t[h])})})});E5.displayName="Fade";const E3=ce.createContext(null);E3.displayName="CardHeaderContext";function ST(n,e){let t=0;return ce.Children.map(n,r=>ce.isValidElement(r)?e(r,t++):r)}function aM(n,e){let t=0;ce.Children.forEach(n,r=>{ce.isValidElement(r)&&e(r,t++)})}var oM=Function.prototype.bind.call(Function.prototype.call,[].slice);function lM(n,e){return oM(n.querySelectorAll(e))}function uM(n,e,t){const r=ce.useRef(n!==void 0),[i,a]=ce.useState(e),l=n!==void 0,c=r.current;return r.current=l,!l&&c&&i!==e&&a(e),[l?n:i,ce.useCallback((...h)=>{const[f,...p]=h;let v=t?.(f,...p);return a(f),v},[t])]}function cM(){const[,n]=ce.useReducer(e=>e+1,0);return n}const A3={prefix:String(Math.round(Math.random()*1e10)),current:0},S3=Bs.createContext(A3),hM=Bs.createContext(!1);let P2=new WeakMap;function fM(n=!1){let e=ce.useContext(S3),t=ce.useRef(null);if(t.current===null&&!n){var r,i;let a=(i=Bs.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)===null||i===void 0||(r=i.ReactCurrentOwner)===null||r===void 0?void 0:r.current;if(a){let l=P2.get(a);l==null?P2.set(a,{id:e.current,state:a.memoizedState}):a.memoizedState!==l.state&&(e.current=l.id,P2.delete(a))}t.current=++e.current}return t.current}function dM(n){let e=ce.useContext(S3),t=fM(!!n),r=`react-aria${e.prefix}`;return n||`${r}-${t}`}function pM(n){let e=Bs.useId(),[t]=ce.useState(_M()),r=t?"react-aria":`react-aria${A3.prefix}`;return n||`${r}-${e}`}const mM=typeof Bs.useId=="function"?pM:dM;function gM(){return!1}function yM(){return!0}function vM(n){return()=>{}}function _M(){return typeof Bs.useSyncExternalStore=="function"?Bs.useSyncExternalStore(vM,gM,yM):ce.useContext(hM)}const gd=ce.createContext(null),Rm=(n,e=null)=>n!=null?String(n):e||null,A5=ce.createContext(null);A5.displayName="NavContext";const bM="data-rr-ui-",wM="rrUi";function S5(n){return`${bM}${n}`}function EM(n){return`${wM}${n}`}const T3=ce.createContext(null);T3.displayName="NavbarContext";const TT=n=>!n||typeof n=="function"?n:e=>{n.current=e};function AM(n,e){const t=TT(n),r=TT(e);return i=>{t&&t(i),r&&r(i)}}function x3(n,e){return ce.useMemo(()=>AM(n,e),[n,e])}const qd=ce.createContext(null),SM=["as","active","eventKey"];function TM(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function I3({key:n,onClick:e,active:t,id:r,role:i,disabled:a}){const l=ce.useContext(gd),c=ce.useContext(A5),h=ce.useContext(qd);let f=t;const p={role:i};if(c){!i&&c.role==="tablist"&&(p.role="tab");const v=c.getControllerId(n??null),E=c.getControlledId(n??null);p[S5("event-key")]=n,p.id=v||r,f=t==null&&n!=null?c.activeKey===n:t,(f||!(h!=null&&h.unmountOnExit)&&!(h!=null&&h.mountOnEnter))&&(p["aria-controls"]=E)}return p.role==="tab"&&(p["aria-selected"]=f,f||(p.tabIndex=-1),a&&(p.tabIndex=-1,p["aria-disabled"]=!0)),p.onClick=w5(v=>{a||(e?.(v),n!=null&&l&&!v.isPropagationStopped()&&l(n,v))}),[p,{isActive:f}]}const N3=ce.forwardRef((n,e)=>{let{as:t=b3,active:r,eventKey:i}=n,a=TM(n,SM);const[l,c]=I3(Object.assign({key:Rm(i,a.href),active:r},a));return l[S5("active")]=c.isActive,V.jsx(t,Object.assign({},a,l,{ref:e}))});N3.displayName="NavItem";const xM=["as","onSelect","activeKey","role","onKeyDown"];function IM(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}const xT=()=>{},IT=S5("event-key"),C3=ce.forwardRef((n,e)=>{let{as:t="div",onSelect:r,activeKey:i,role:a,onKeyDown:l}=n,c=IM(n,xM);const h=cM(),f=ce.useRef(!1),p=ce.useContext(gd),v=ce.useContext(qd);let E,b;v&&(a=a||"tablist",i=v.activeKey,E=v.getControlledId,b=v.getControllerId);const R=ce.useRef(null),P=$=>{const ee=R.current;if(!ee)return null;const ye=lM(ee,`[${IT}]:not([aria-disabled=true])`),ve=ee.querySelector("[aria-selected=true]");if(!ve||ve!==document.activeElement)return null;const z=ye.indexOf(ve);if(z===-1)return null;let F=z+$;return F>=ye.length&&(F=0),F<0&&(F=ye.length-1),ye[F]},M=($,ee)=>{$!=null&&(r?.($,ee),p?.($,ee))},k=$=>{if(l?.($),!v)return;let ee;switch($.key){case"ArrowLeft":case"ArrowUp":ee=P(-1);break;case"ArrowRight":case"ArrowDown":ee=P(1);break;default:return}ee&&($.preventDefault(),M(ee.dataset[EM("EventKey")]||null,$),f.current=!0,h())};ce.useEffect(()=>{if(R.current&&f.current){const $=R.current.querySelector(`[${IT}][aria-selected=true]`);$?.focus()}f.current=!1});const K=x3(e,R);return V.jsx(gd.Provider,{value:M,children:V.jsx(A5.Provider,{value:{role:a,activeKey:Rm(i),getControlledId:E||xT,getControllerId:b||xT},children:V.jsx(t,Object.assign({},c,{onKeyDown:k,ref:K,role:a}))})})});C3.displayName="Nav";const NM=Object.assign(C3,{Item:N3});function R3({children:n,in:e,onExited:t,mountOnEnter:r,unmountOnExit:i}){const a=ce.useRef(null),l=ce.useRef(e),c=w5(t);ce.useEffect(()=>{e?l.current=!0:c(a.current)},[e,c]);const h=x3(a,g3(n)),f=ce.cloneElement(n,{ref:h});return e?f:i||!l.current&&r?null:f}const T5=ce.forwardRef(({className:n,bsPrefix:e,as:t="div",...r},i)=>(e=sg(e,"nav-item"),V.jsx(t,{ref:i,className:zd(n,e),...r})));T5.displayName="NavItem";const x5=ce.forwardRef(({bsPrefix:n,className:e,as:t=w3,active:r,eventKey:i,disabled:a=!1,...l},c)=>{n=sg(n,"nav-link");const[h,f]=I3({key:Rm(i,l.href),active:r,disabled:a,...l});return V.jsx(t,{...l,...h,ref:c,disabled:a,className:zd(e,n,a&&"disabled",f.isActive&&"active")})});x5.displayName="NavLink";const P3=ce.forwardRef((n,e)=>{const{as:t="div",bsPrefix:r,variant:i,fill:a=!1,justify:l=!1,navbar:c,navbarScroll:h,className:f,activeKey:p,...v}=f3(n,{activeKey:"onSelect"}),E=sg(r,"nav");let b,R,P=!1;const M=ce.useContext(T3),k=ce.useContext(E3);return M?(b=M.bsPrefix,P=c??!0):k&&({cardHeaderBsPrefix:R}=k),V.jsx(NM,{as:t,ref:e,activeKey:p,className:zd(f,{[E]:!P,[`${b}-nav`]:P,[`${b}-nav-scroll`]:P&&h,[`${R}-${i}`]:!!R,[`${E}-${i}`]:!!i,[`${E}-fill`]:a,[`${E}-justified`]:l}),...v})});P3.displayName="Nav";const CM=Object.assign(P3,{Item:T5,Link:x5}),RM=["active","eventKey","mountOnEnter","transition","unmountOnExit","role","onEnter","onEntering","onEntered","onExit","onExiting","onExited"],PM=["activeKey","getControlledId","getControllerId"],LM=["as"];function b_(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function L3(n){let{active:e,eventKey:t,mountOnEnter:r,transition:i,unmountOnExit:a,role:l="tabpanel",onEnter:c,onEntering:h,onEntered:f,onExit:p,onExiting:v,onExited:E}=n,b=b_(n,RM);const R=ce.useContext(qd);if(!R)return[Object.assign({},b,{role:l}),{eventKey:t,isActive:e,mountOnEnter:r,transition:i,unmountOnExit:a,onEnter:c,onEntering:h,onEntered:f,onExit:p,onExiting:v,onExited:E}];const{activeKey:P,getControlledId:M,getControllerId:k}=R,K=b_(R,PM),$=Rm(t);return[Object.assign({},b,{role:l,id:M(t),"aria-labelledby":k(t)}),{eventKey:t,isActive:e==null&&$!=null?Rm(P)===$:e,transition:i||K.transition,mountOnEnter:r??K.mountOnEnter,unmountOnExit:a??K.unmountOnExit,onEnter:c,onEntering:h,onEntered:f,onExit:p,onExiting:v,onExited:E}]}const k3=ce.forwardRef((n,e)=>{let{as:t="div"}=n,r=b_(n,LM);const[i,{isActive:a,onEnter:l,onEntering:c,onEntered:h,onExit:f,onExiting:p,onExited:v,mountOnEnter:E,unmountOnExit:b,transition:R=R3}]=L3(r);return V.jsx(qd.Provider,{value:null,children:V.jsx(gd.Provider,{value:null,children:V.jsx(R,{in:a,onEnter:l,onEntering:c,onEntered:h,onExit:f,onExiting:p,onExited:v,mountOnEnter:E,unmountOnExit:b,children:V.jsx(t,Object.assign({},i,{ref:e,hidden:!a,"aria-hidden":!a}))})})})});k3.displayName="TabPanel";const I5=n=>{const{id:e,generateChildId:t,onSelect:r,activeKey:i,defaultActiveKey:a,transition:l,mountOnEnter:c,unmountOnExit:h,children:f}=n,[p,v]=uM(i,a,r),E=mM(e),b=ce.useMemo(()=>t||((P,M)=>E?`${E}-${M}-${P}`:null),[E,t]),R=ce.useMemo(()=>({onSelect:v,activeKey:p,transition:l,mountOnEnter:c||!1,unmountOnExit:h||!1,getControlledId:P=>b(P,"tabpane"),getControllerId:P=>b(P,"tab")}),[v,p,l,c,h,b]);return V.jsx(qd.Provider,{value:R,children:V.jsx(gd.Provider,{value:v||null,children:f})})};I5.Panel=k3;function N5(n){return typeof n=="boolean"?n?E5:R3:n}const D3=({transition:n,...e})=>V.jsx(I5,{...e,transition:N5(n)});D3.displayName="TabContainer";const C5=ce.forwardRef(({className:n,bsPrefix:e,as:t="div",...r},i)=>(e=sg(e,"tab-content"),V.jsx(t,{ref:i,className:zd(n,e),...r})));C5.displayName="TabContent";const R5=ce.forwardRef(({bsPrefix:n,transition:e,...t},r)=>{const[{className:i,as:a="div",...l},{isActive:c,onEnter:h,onEntering:f,onEntered:p,onExit:v,onExiting:E,onExited:b,mountOnEnter:R,unmountOnExit:P,transition:M=E5}]=L3({...t,transition:N5(e)}),k=sg(n,"tab-pane");return V.jsx(qd.Provider,{value:null,children:V.jsx(gd.Provider,{value:null,children:V.jsx(M,{in:c,onEnter:h,onEntering:f,onEntered:p,onExit:v,onExiting:E,onExited:b,mountOnEnter:R,unmountOnExit:P,children:V.jsx(a,{...l,ref:r,className:zd(i,k,c&&"active")})})})})});R5.displayName="TabPane";const kM={eventKey:ph.oneOfType([ph.string,ph.number]),title:ph.node.isRequired,disabled:ph.bool,tabClassName:ph.string,tabAttrs:ph.object},O3=()=>{throw new Error("ReactBootstrap: The `Tab` component is not meant to be rendered! It's an abstract component that is only valid as a direct Child of the `Tabs` Component. For custom tabs components use TabPane and TabsContainer directly")};O3.propTypes=kM;const L2=Object.assign(O3,{Container:D3,Content:C5,Pane:R5});function DM(n){let e;return aM(n,t=>{e==null&&(e=t.props.eventKey)}),e}function OM(n){const{title:e,eventKey:t,disabled:r,tabClassName:i,tabAttrs:a,id:l}=n.props;return e==null?null:V.jsx(T5,{as:"li",role:"presentation",children:V.jsx(x5,{as:"button",type:"button",eventKey:t,disabled:r,id:l,className:i,...a,children:e})})}const M3=n=>{const{id:e,onSelect:t,transition:r,mountOnEnter:i=!1,unmountOnExit:a=!1,variant:l="tabs",children:c,activeKey:h=DM(c),...f}=f3(n,{activeKey:"onSelect"});return V.jsxs(I5,{id:e,activeKey:h,onSelect:t,transition:N5(r),mountOnEnter:i,unmountOnExit:a,children:[V.jsx(CM,{id:e,...f,role:"tablist",as:"ul",variant:l,children:ST(c,OM)}),V.jsx(C5,{children:ST(c,p=>{const v={...p.props};return delete v.title,delete v.disabled,delete v.tabClassName,delete v.tabAttrs,V.jsx(R5,{...v})})})]})};M3.displayName="Tabs";const MM=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),VM=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),NT=n=>{const e=VM(n);return e.charAt(0).toUpperCase()+e.slice(1)},V3=(...n)=>n.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim(),jM=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var FM={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const UM=ce.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:l,...c},h)=>ce.createElement("svg",{ref:h,...FM,width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:V3("lucide",i),...!a&&!jM(c)&&{"aria-hidden":"true"},...c},[...l.map(([f,p])=>ce.createElement(f,p)),...Array.isArray(a)?a:[a]]));const sa=(n,e)=>{const t=ce.forwardRef(({className:r,...i},a)=>ce.createElement(UM,{ref:a,iconNode:e,className:V3(`lucide-${MM(NT(n))}`,`lucide-${n}`,r),...i}));return t.displayName=NT(n),t};const BM=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],zM=sa("circle-question-mark",BM);const qM=[["path",{d:"M12 13v8l-4-4",key:"1f5nwf"}],["path",{d:"m12 21 4-4",key:"1lfcce"}],["path",{d:"M4.393 15.269A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.436 8.284",key:"ui1hmy"}]],HM=sa("cloud-download",qM);const GM=[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]],$M=sa("cloud-upload",GM);const WM=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],KM=sa("copy",WM);const YM=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],QM=sa("download",YM);const XM=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],JM=sa("eye",XM);const ZM=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],CT=sa("file-text",ZM);const e9=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],t9=sa("history",e9);const n9=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],r9=sa("pen-line",n9);const i9=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],s9=sa("plus",i9);const a9=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],RT=sa("refresh-cw",a9);const o9=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],l9=sa("save",o9);const u9=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],c9=sa("settings",u9);const h9=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],PT=sa("trash-2",h9);const f9=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],d9=sa("upload",f9),p9=()=>{};var LT={};const j3=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},m9=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=n[t++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=n[t++],l=n[t++],c=n[t++],h=((i&7)<<18|(a&63)<<12|(l&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(h>>10)),e[r++]=String.fromCharCode(56320+(h&1023))}else{const a=n[t++],l=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|l&63)}}return e.join("")},F3={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const a=n[i],l=i+1<n.length,c=l?n[i+1]:0,h=i+2<n.length,f=h?n[i+2]:0,p=a>>2,v=(a&3)<<4|c>>4;let E=(c&15)<<2|f>>6,b=f&63;h||(b=64,l||(E=64)),r.push(t[p],t[v],t[E],t[b])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(j3(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):m9(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const a=t[n.charAt(i++)],c=i<n.length?t[n.charAt(i)]:0;++i;const f=i<n.length?t[n.charAt(i)]:64;++i;const v=i<n.length?t[n.charAt(i)]:64;if(++i,a==null||c==null||f==null||v==null)throw new g9;const E=a<<2|c>>4;if(r.push(E),f!==64){const b=c<<4&240|f>>2;if(r.push(b),v!==64){const R=f<<6&192|v;r.push(R)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class g9 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const y9=function(n){const e=j3(n);return F3.encodeByteArray(e,!0)},vy=function(n){return y9(n).replace(/\./g,"")},P5=function(n){try{return F3.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function _y(n,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const t=e;return new Date(t.getTime());case Object:n===void 0&&(n={});break;case Array:n=[];break;default:return e}for(const t in e)!e.hasOwnProperty(t)||!v9(t)||(n[t]=_y(n[t],e[t]));return n}function v9(n){return n!=="__proto__"}function L5(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const _9=()=>L5().__FIREBASE_DEFAULTS__,b9=()=>{if(typeof process>"u"||typeof LT>"u")return;const n=LT.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},w9=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&P5(n[1]);return e&&JSON.parse(e)},k5=()=>{try{return p9()||_9()||b9()||w9()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},D5=()=>k5()?.config,E9=n=>k5()?.[`_${n}`];class A9{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}function Hd(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function U3(n){return(await fetch(n,{credentials:"include"})).ok}function S9(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...n};return[vy(JSON.stringify(t)),vy(JSON.stringify(l)),""].join(".")}const hm={};function T9(){const n={prod:[],emulator:[]};for(const e of Object.keys(hm))hm[e]?n.emulator.push(e):n.prod.push(e);return n}function x9(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let kT=!1;function B3(n,e){if(typeof window>"u"||typeof document>"u"||!Hd(window.location.host)||hm[n]===e||hm[n]||kT)return;hm[n]=e;function t(E){return`__firebase__banner__${E}`}const r="__firebase__banner",a=T9().prod.length>0;function l(){const E=document.getElementById(r);E&&E.remove()}function c(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function h(E,b){E.setAttribute("width","24"),E.setAttribute("id",b),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function f(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{kT=!0,l()},E}function p(E,b){E.setAttribute("id",b),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function v(){const E=x9(r),b=t("text"),R=document.getElementById(b)||document.createElement("span"),P=t("learnmore"),M=document.getElementById(P)||document.createElement("a"),k=t("preprendIcon"),K=document.getElementById(k)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const $=E.element;c($),p(M,P);const ee=f();h(K,k),$.append(K,R,M,ee),document.body.appendChild($)}a?(R.innerText="Preview backend disconnected.",K.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(K.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,R.innerText="Preview backend running in this workspace."),R.setAttribute("id",b)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}function Xr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function I9(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Xr())}function Qy(){const n=k5()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function N9(){return typeof window<"u"||z3()}function z3(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function C9(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function q3(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function O5(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function H3(){const n=Xr();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function G3(){return!Qy()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function $3(){return!Qy()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function Pm(){try{return typeof indexedDB=="object"}catch{return!1}}function R9(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{e(i.error?.message||"")}}catch(t){e(t)}})}const P9="FirebaseError";class na extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=P9,Object.setPrototypeOf(this,na.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Jh.prototype.create)}}class Jh{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,a=this.errors[e],l=a?L9(a,r):"Error",c=`${this.serviceName}: ${l} (${i}).`;return new na(i,c,r)}}function L9(n,e){return n.replace(k9,(t,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const k9=/\{\$([^}]+)}/g;function DT(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function D9(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Pc(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const a=n[i],l=e[i];if(OT(a)&&OT(l)){if(!Pc(a,l))return!1}else if(a!==l)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function OT(n){return n!==null&&typeof n=="object"}function Gd(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function id(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,a]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function em(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function W3(n,e){const t=new O9(n,e);return t.subscribe.bind(t)}class O9{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");M9(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=k2),i.error===void 0&&(i.error=k2),i.complete===void 0&&(i.complete=k2);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function M9(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function k2(){}function Wt(n){return n&&n._delegate?n._delegate:n}class jl{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const vh="[DEFAULT]";class V9{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new A9;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(F9(e))try{this.getOrInitializeService({instanceIdentifier:vh})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=vh){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=vh){return this.instances.has(e)}getOptions(e=vh){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[a,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(a);r===c&&l.resolve(i)}return i}onInit(e,t){const r=this.normalizeInstanceIdentifier(t),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const a=this.instances.get(r);return a&&e(a,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:j9(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=vh){return this.component?this.component.multipleInstances?e:vh:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function j9(n){return n===vh?void 0:n}function F9(n){return n.instantiationMode==="EAGER"}class K3{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new V9(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const M5=[];var xn;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(xn||(xn={}));const Y3={debug:xn.DEBUG,verbose:xn.VERBOSE,info:xn.INFO,warn:xn.WARN,error:xn.ERROR,silent:xn.SILENT},U9=xn.INFO,B9={[xn.DEBUG]:"log",[xn.VERBOSE]:"log",[xn.INFO]:"info",[xn.WARN]:"warn",[xn.ERROR]:"error"},z9=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),i=B9[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Xy{constructor(e){this.name=e,this._logLevel=U9,this._logHandler=z9,this._userLogHandler=null,M5.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in xn))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Y3[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,xn.DEBUG,...e),this._logHandler(this,xn.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,xn.VERBOSE,...e),this._logHandler(this,xn.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,xn.INFO,...e),this._logHandler(this,xn.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,xn.WARN,...e),this._logHandler(this,xn.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,xn.ERROR,...e),this._logHandler(this,xn.ERROR,...e)}}function q9(n){M5.forEach(e=>{e.setLogLevel(n)})}function H9(n,e){for(const t of M5){let r=null;e&&e.level&&(r=Y3[e.level]),n===null?t.userLogHandler=null:t.userLogHandler=(i,a,...l)=>{const c=l.map(h=>{if(h==null)return null;if(typeof h=="string")return h;if(typeof h=="number"||typeof h=="boolean")return h.toString();if(h instanceof Error)return h.message;try{return JSON.stringify(h)}catch{return null}}).filter(h=>h).join(" ");a>=(r??i.logLevel)&&n({level:xn[a].toLowerCase(),message:c,args:l,type:i.name})}}}const G9=(n,e)=>e.some(t=>n instanceof t);let MT,VT;function $9(){return MT||(MT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function W9(){return VT||(VT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Q3=new WeakMap,w_=new WeakMap,X3=new WeakMap,D2=new WeakMap,V5=new WeakMap;function K9(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",a),n.removeEventListener("error",l)},a=()=>{t(Tc(n.result)),i()},l=()=>{r(n.error),i()};n.addEventListener("success",a),n.addEventListener("error",l)});return e.then(t=>{t instanceof IDBCursor&&Q3.set(t,n)}).catch(()=>{}),V5.set(e,n),e}function Y9(n){if(w_.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",l),n.removeEventListener("abort",l)},a=()=>{t(),i()},l=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",a),n.addEventListener("error",l),n.addEventListener("abort",l)});w_.set(n,e)}let E_={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return w_.get(n);if(e==="objectStoreNames")return n.objectStoreNames||X3.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Tc(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function Q9(n){E_=n(E_)}function X9(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(O2(this),e,...t);return X3.set(r,e.sort?e.sort():[e]),Tc(r)}:W9().includes(n)?function(...e){return n.apply(O2(this),e),Tc(Q3.get(this))}:function(...e){return Tc(n.apply(O2(this),e))}}function J9(n){return typeof n=="function"?X9(n):(n instanceof IDBTransaction&&Y9(n),G9(n,$9())?new Proxy(n,E_):n)}function Tc(n){if(n instanceof IDBRequest)return K9(n);if(D2.has(n))return D2.get(n);const e=J9(n);return e!==n&&(D2.set(n,e),V5.set(e,n)),e}const O2=n=>V5.get(n);function Z9(n,e,{blocked:t,upgrade:r,blocking:i,terminated:a}={}){const l=indexedDB.open(n,e),c=Tc(l);return r&&l.addEventListener("upgradeneeded",h=>{r(Tc(l.result),h.oldVersion,h.newVersion,Tc(l.transaction),h)}),t&&l.addEventListener("blocked",h=>t(h.oldVersion,h.newVersion,h)),c.then(h=>{a&&h.addEventListener("close",()=>a()),i&&h.addEventListener("versionchange",f=>i(f.oldVersion,f.newVersion,f))}).catch(()=>{}),c}const eV=["get","getKey","getAll","getAllKeys","count"],tV=["put","add","delete","clear"],M2=new Map;function jT(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(M2.get(e))return M2.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=tV.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||eV.includes(t)))return;const a=async function(l,...c){const h=this.transaction(l,i?"readwrite":"readonly");let f=h.store;return r&&(f=f.index(c.shift())),(await Promise.all([f[t](...c),i&&h.done]))[0]};return M2.set(e,a),a}Q9(n=>({...n,get:(e,t,r)=>jT(e,t)||n.get(e,t,r),has:(e,t)=>!!jT(e,t)||n.has(e,t)}));class nV{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(rV(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function rV(n){return n.getComponent()?.type==="VERSION"}const by="@firebase/app",A_="0.14.6";const Tu=new Xy("@firebase/app"),iV="@firebase/app-compat",sV="@firebase/analytics-compat",aV="@firebase/analytics",oV="@firebase/app-check-compat",lV="@firebase/app-check",uV="@firebase/auth",cV="@firebase/auth-compat",hV="@firebase/database",fV="@firebase/data-connect",dV="@firebase/database-compat",pV="@firebase/functions",mV="@firebase/functions-compat",gV="@firebase/installations",yV="@firebase/installations-compat",vV="@firebase/messaging",_V="@firebase/messaging-compat",bV="@firebase/performance",wV="@firebase/performance-compat",EV="@firebase/remote-config",AV="@firebase/remote-config-compat",SV="@firebase/storage",TV="@firebase/storage-compat",xV="@firebase/firestore",IV="@firebase/ai",NV="@firebase/firestore-compat",CV="firebase",RV="12.6.0";const Lc="[DEFAULT]",PV={[by]:"fire-core",[iV]:"fire-core-compat",[aV]:"fire-analytics",[sV]:"fire-analytics-compat",[lV]:"fire-app-check",[oV]:"fire-app-check-compat",[uV]:"fire-auth",[cV]:"fire-auth-compat",[hV]:"fire-rtdb",[fV]:"fire-data-connect",[dV]:"fire-rtdb-compat",[pV]:"fire-fn",[mV]:"fire-fn-compat",[gV]:"fire-iid",[yV]:"fire-iid-compat",[vV]:"fire-fcm",[_V]:"fire-fcm-compat",[bV]:"fire-perf",[wV]:"fire-perf-compat",[EV]:"fire-rc",[AV]:"fire-rc-compat",[SV]:"fire-gcs",[TV]:"fire-gcs-compat",[xV]:"fire-fst",[NV]:"fire-fst-compat",[IV]:"fire-vertex","fire-js":"fire-js",[CV]:"fire-js-all"};const kc=new Map,yd=new Map,vd=new Map;function Lm(n,e){try{n.container.addComponent(e)}catch(t){Tu.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function J3(n,e){n.container.addOrOverwriteComponent(e)}function Dc(n){const e=n.name;if(vd.has(e))return Tu.debug(`There were multiple attempts to register component ${e}.`),!1;vd.set(e,n);for(const t of kc.values())Lm(t,n);for(const t of yd.values())Lm(t,n);return!0}function Z3(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function LV(n,e,t=Lc){Z3(n,e).clearInstance(t)}function j5(n){return n.options!==void 0}function eN(n){return j5(n)?!1:"authIdToken"in n||"appCheckToken"in n||"releaseOnDeref"in n||"automaticDataCollectionEnabled"in n}function zr(n){return n==null?!1:n.settings!==void 0}function kV(){vd.clear()}const DV={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ya=new Jh("app","Firebase",DV);let tN=class{constructor(e,t,r){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new jl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ya.create("app-deleted",{appName:this._name})}};function FT(n,e){const t=P5(n.split(".")[1]);if(t===null){console.error(`FirebaseServerApp ${e} is invalid: second part could not be parsed.`);return}if(JSON.parse(t).exp===void 0){console.error(`FirebaseServerApp ${e} is invalid: expiration claim could not be parsed`);return}const i=JSON.parse(t).exp*1e3,a=new Date().getTime();i-a<=0&&console.error(`FirebaseServerApp ${e} is invalid: the token has expired.`)}class OV extends tN{constructor(e,t,r,i){const a=t.automaticDataCollectionEnabled!==void 0?t.automaticDataCollectionEnabled:!0,l={name:r,automaticDataCollectionEnabled:a};if(e.apiKey!==void 0)super(e,l,i);else{const c=e;super(c.options,l,i)}this._serverConfig={automaticDataCollectionEnabled:a,...t},this._serverConfig.authIdToken&&FT(this._serverConfig.authIdToken,"authIdToken"),this._serverConfig.appCheckToken&&FT(this._serverConfig.appCheckToken,"appCheckToken"),this._finalizationRegistry=null,typeof FinalizationRegistry<"u"&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,t.releaseOnDeref=void 0,Wo(by,A_,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(e){this.isDeleted||(this._refCount++,e!==void 0&&this._finalizationRegistry!==null&&this._finalizationRegistry.register(e,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){U5(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw Ya.create("server-app-deleted")}}const Hc=RV;function F5(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r={name:Lc,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw Ya.create("bad-app-name",{appName:String(i)});if(t||(t=D5()),!t)throw Ya.create("no-options");const a=kc.get(i);if(a){if(Pc(t,a.options)&&Pc(r,a.config))return a;throw Ya.create("duplicate-app",{appName:i})}const l=new K3(i);for(const h of vd.values())l.addComponent(h);const c=new tN(t,r,l);return kc.set(i,c),c}function MV(n,e={}){if(N9()&&!z3())throw Ya.create("invalid-server-app-environment");let t,r=e||{};if(n&&(j5(n)?t=n.options:eN(n)?r=n:t=n),r.automaticDataCollectionEnabled===void 0&&(r.automaticDataCollectionEnabled=!0),t||(t=D5()),!t)throw Ya.create("no-options");const i={...r,...t};i.releaseOnDeref!==void 0&&delete i.releaseOnDeref;const a=p=>[...p].reduce((v,E)=>Math.imul(31,v)+E.charCodeAt(0)|0,0);if(r.releaseOnDeref!==void 0&&typeof FinalizationRegistry>"u")throw Ya.create("finalization-registry-not-supported",{});const l=""+a(JSON.stringify(i)),c=yd.get(l);if(c)return c.incRefCount(r.releaseOnDeref),c;const h=new K3(l);for(const p of vd.values())h.addComponent(p);const f=new OV(t,r,l,h);return yd.set(l,f),f}function VV(n=Lc){const e=kc.get(n);if(!e&&n===Lc&&D5())return F5();if(!e)throw Ya.create("no-app",{appName:n});return e}function jV(){return Array.from(kc.values())}async function U5(n){let e=!1;const t=n.name;kc.has(t)?(e=!0,kc.delete(t)):yd.has(t)&&n.decRefCount()<=0&&(yd.delete(t),e=!0),e&&(await Promise.all(n.container.getProviders().map(r=>r.delete())),n.isDeleted=!0)}function Wo(n,e,t){let r=PV[n]??n;t&&(r+=`-${t}`);const i=r.match(/\s|\//),a=e.match(/\s|\//);if(i||a){const l=[`Unable to register library "${r}" with version "${e}":`];i&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&a&&l.push("and"),a&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Tu.warn(l.join(" "));return}Dc(new jl(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}function nN(n,e){if(n!==null&&typeof n!="function")throw Ya.create("invalid-log-argument");H9(n,e)}function rN(n){q9(n)}const FV="firebase-heartbeat-database",UV=1,km="firebase-heartbeat-store";let V2=null;function iN(){return V2||(V2=Z9(FV,UV,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(km)}catch(t){console.warn(t)}}}}).catch(n=>{throw Ya.create("idb-open",{originalErrorMessage:n.message})})),V2}async function BV(n){try{const t=(await iN()).transaction(km),r=await t.objectStore(km).get(sN(n));return await t.done,r}catch(e){if(e instanceof na)Tu.warn(e.message);else{const t=Ya.create("idb-get",{originalErrorMessage:e?.message});Tu.warn(t.message)}}}async function UT(n,e){try{const r=(await iN()).transaction(km,"readwrite");await r.objectStore(km).put(e,sN(n)),await r.done}catch(t){if(t instanceof na)Tu.warn(t.message);else{const r=Ya.create("idb-set",{originalErrorMessage:t?.message});Tu.warn(r.message)}}}function sN(n){return`${n.name}!${n.options.appId}`}const zV=1024,qV=30;class HV{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new $V(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=BT();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:t}),this._heartbeatsCache.heartbeats.length>qV){const i=WV(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Tu.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=BT(),{heartbeatsToSend:t,unsentEntries:r}=GV(this._heartbeatsCache.heartbeats),i=vy(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return Tu.warn(e),""}}}function BT(){return new Date().toISOString().substring(0,10)}function GV(n,e=zV){const t=[];let r=n.slice();for(const i of n){const a=t.find(l=>l.agent===i.agent);if(a){if(a.dates.push(i.date),zT(t)>e){a.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),zT(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class $V{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Pm()?R9().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await BV(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return UT(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return UT(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function zT(n){return vy(JSON.stringify({version:2,heartbeats:n})).length}function WV(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function KV(n){Dc(new jl("platform-logger",e=>new nV(e),"PRIVATE")),Dc(new jl("heartbeat",e=>new HV(e),"PRIVATE")),Wo(by,A_,n),Wo(by,A_,"esm2020"),Wo("fire-js","")}KV("");const YV=Object.freeze(Object.defineProperty({__proto__:null,FirebaseError:na,SDK_VERSION:Hc,_DEFAULT_ENTRY_NAME:Lc,_addComponent:Lm,_addOrOverwriteComponent:J3,_apps:kc,_clearComponents:kV,_components:vd,_getProvider:Z3,_isFirebaseApp:j5,_isFirebaseServerApp:zr,_isFirebaseServerAppSettings:eN,_registerComponent:Dc,_removeServiceInstance:LV,_serverApps:yd,deleteApp:U5,getApp:VV,getApps:jV,initializeApp:F5,initializeServerApp:MV,onLog:nN,registerVersion:Wo,setLogLevel:rN},Symbol.toStringTag,{value:"Module"}));class QV{constructor(e,t){this._delegate=e,this.firebase=t,Lm(e,new jl("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),U5(this._delegate)))}_getService(e,t=Lc){this._delegate.checkDestroyed();const r=this._delegate.container.getProvider(e);return!r.isInitialized()&&r.getComponent()?.instantiationMode==="EXPLICIT"&&r.initialize(),r.getImmediate({identifier:t})}_removeServiceInstance(e,t=Lc){this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){Lm(this._delegate,e)}_addOrOverwriteComponent(e){J3(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const XV={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."},qT=new Jh("app-compat","Firebase",XV);function JV(n){const e={},t={__esModule:!0,initializeApp:a,app:i,registerVersion:Wo,setLogLevel:rN,onLog:nN,apps:null,SDK_VERSION:Hc,INTERNAL:{registerComponent:c,removeApp:r,useAsService:h,modularAPIs:YV}};t.default=t,Object.defineProperty(t,"apps",{get:l});function r(f){delete e[f]}function i(f){if(f=f||Lc,!DT(e,f))throw qT.create("no-app",{appName:f});return e[f]}i.App=n;function a(f,p={}){const v=F5(f,p);if(DT(e,v.name))return e[v.name];const E=new n(v,t);return e[v.name]=E,E}function l(){return Object.keys(e).map(f=>e[f])}function c(f){const p=f.name,v=p.replace("-compat","");if(Dc(f)&&f.type==="PUBLIC"){const E=(b=i())=>{if(typeof b[v]!="function")throw qT.create("invalid-app-argument",{appName:p});return b[v]()};f.serviceProps!==void 0&&_y(E,f.serviceProps),t[v]=E,n.prototype[v]=function(...b){return this._getService.bind(this,p).apply(this,f.multipleInstances?b:[])}}return f.type==="PUBLIC"?t[v]:null}function h(f,p){return p==="serverAuth"?null:p}return t}function aN(){const n=JV(QV);n.INTERNAL={...n.INTERNAL,createFirebaseNamespace:aN,extendNamespace:e,createSubscribe:W3,ErrorFactory:Jh,deepExtend:_y};function e(t){_y(n,t)}return n}const ZV=aN();const HT=new Xy("@firebase/app-compat"),ej="@firebase/app-compat",tj="0.5.6";function nj(n){Wo(ej,tj,n)}try{const n=L5();if(n.firebase!==void 0){HT.warn(`
      Warning: Firebase is already defined in the global scope. Please make sure
      Firebase library is only loaded once.
    `);const e=n.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&HT.warn(`
        Warning: You are trying to load Firebase while using Firebase Performance standalone script.
        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
        `)}}catch{}const an=ZV;nj();var rj="firebase",ij="12.6.0";an.registerVersion(rj,ij,"app-compat");const qp={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",TWITTER:"twitter.com"},qf={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};function sj(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registered for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements.","invalid-hosting-link-domain":"The provided Hosting link domain is not configured in Firebase Hosting or is not owned by the current project. This cannot be a default Hosting domain (`web.app` or `firebaseapp.com`)."}}function oN(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const aj=sj,oj=oN,lN=new Jh("auth","Firebase",oN());const wy=new Xy("@firebase/auth");function lj(n,...e){wy.logLevel<=xn.WARN&&wy.warn(`Auth (${Hc}): ${n}`,...e)}function Y1(n,...e){wy.logLevel<=xn.ERROR&&wy.error(`Auth (${Hc}): ${n}`,...e)}function Ts(n,...e){throw z5(n,...e)}function $i(n,...e){return z5(n,...e)}function B5(n,e,t){const r={...oj(),[e]:t};return new Jh("auth","Firebase",r).create(e,{appName:n.name})}function ls(n){return B5(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function $d(n,e,t){const r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&Ts(n,"argument-error"),B5(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function z5(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return lN.create(n,...e)}function it(n,e,...t){if(!n)throw z5(e,...t)}function Ll(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Y1(e),new Error(e)}function Xo(n,e){n||Ll(e)}function Dm(){return typeof self<"u"&&self.location?.href||""}function q5(){return GT()==="http:"||GT()==="https:"}function GT(){return typeof self<"u"&&self.location?.protocol||null}function uj(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(q5()||q3()||"connection"in navigator)?navigator.onLine:!0}function cj(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}class ag{constructor(e,t){this.shortDelay=e,this.longDelay=t,Xo(t>e,"Short delay should be less than long delay!"),this.isMobile=I9()||O5()}get(){return uj()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function H5(n,e){Xo(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class uN{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ll("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ll("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ll("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const hj={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const fj=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],dj=new ag(3e4,6e4);function ci(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function hi(n,e,t,r,i={}){return cN(n,i,async()=>{let a={},l={};r&&(e==="GET"?l=r:a={body:JSON.stringify(r)});const c=Gd({key:n.config.apiKey,...l}).slice(1),h=await n._getAdditionalHeaders();h["Content-Type"]="application/json",n.languageCode&&(h["X-Firebase-Locale"]=n.languageCode);const f={method:e,headers:h,...a};return C9()||(f.referrerPolicy="no-referrer"),n.emulatorConfig&&Hd(n.emulatorConfig.host)&&(f.credentials="include"),uN.fetch()(await hN(n,n.config.apiHost,t,c),f)})}async function cN(n,e,t){n._canInitEmulator=!1;const r={...hj,...e};try{const i=new mj(n),a=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const l=await a.json();if("needConfirmation"in l)throw tm(n,"account-exists-with-different-credential",l);if(a.ok&&!("errorMessage"in l))return l;{const c=a.ok?l.errorMessage:l.error.message,[h,f]=c.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw tm(n,"credential-already-in-use",l);if(h==="EMAIL_EXISTS")throw tm(n,"email-already-in-use",l);if(h==="USER_DISABLED")throw tm(n,"user-disabled",l);const p=r[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw B5(n,p,f);Ts(n,p)}}catch(i){if(i instanceof na)throw i;Ts(n,"network-request-failed",{message:String(i)})}}async function Pu(n,e,t,r,i={}){const a=await hi(n,e,t,r,i);return"mfaPendingCredential"in a&&Ts(n,"multi-factor-auth-required",{_serverResponse:a}),a}async function hN(n,e,t,r){const i=`${e}${t}?${r}`,a=n,l=a.config.emulator?H5(n.config,i):`${n.config.apiScheme}://${i}`;return fj.includes(t)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(l).toString():l}function pj(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class mj{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r($i(this.auth,"network-request-failed")),dj.get())})}}function tm(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=$i(n,e,r);return i.customData._tokenResponse=t,i}function $T(n){return n!==void 0&&n.getResponse!==void 0}function WT(n){return n!==void 0&&n.enterprise!==void 0}class fN{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return pj(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function gj(n){return(await hi(n,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}async function dN(n,e){return hi(n,"GET","/v2/recaptchaConfig",ci(n,e))}async function yj(n,e){return hi(n,"POST","/v1/accounts:delete",e)}async function vj(n,e){return hi(n,"POST","/v1/accounts:update",e)}async function Ey(n,e){return hi(n,"POST","/v1/accounts:lookup",e)}function fm(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function _j(n,e=!1){const t=Wt(n),r=await t.getIdToken(e),i=Jy(r);it(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,l=a?.sign_in_provider;return{claims:i,token:r,authTime:fm(j2(i.auth_time)),issuedAtTime:fm(j2(i.iat)),expirationTime:fm(j2(i.exp)),signInProvider:l||null,signInSecondFactor:a?.sign_in_second_factor||null}}function j2(n){return Number(n)*1e3}function Jy(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Y1("JWT malformed, contained fewer than 3 sections"),null;try{const i=P5(t);return i?JSON.parse(i):(Y1("Failed to decode base64 JWT payload"),null)}catch(i){return Y1("Caught error parsing JWT payload as JSON",i?.toString()),null}}function KT(n){const e=Jy(n);return it(e,"internal-error"),it(typeof e.exp<"u","internal-error"),it(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function xu(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof na&&bj(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function bj({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}class wj{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class S_{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=fm(this.lastLoginAt),this.creationTime=fm(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Om(n){const e=n.auth,t=await n.getIdToken(),r=await xu(n,Ey(e,{idToken:t}));it(r?.users.length,e,"internal-error");const i=r.users[0];n._notifyReloadListener(i);const a=i.providerUserInfo?.length?pN(i.providerUserInfo):[],l=Aj(n.providerData,a),c=n.isAnonymous,h=!(n.email&&i.passwordHash)&&!l?.length,f=c?h:!1,p={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:l,metadata:new S_(i.createdAt,i.lastLoginAt),isAnonymous:f};Object.assign(n,p)}async function Ej(n){const e=Wt(n);await Om(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Aj(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function pN(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}async function Sj(n,e){const t=await cN(n,{},async()=>{const r=Gd({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=n.config,l=await hN(n,i,"/v1/token",`key=${a}`),c=await n._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";const h={method:"POST",headers:c,body:r};return n.emulatorConfig&&Hd(n.emulatorConfig.host)&&(h.credentials="include"),uN.fetch()(l,h)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function Tj(n,e){return hi(n,"POST","/v2/accounts:revokeToken",ci(n,e))}class cd{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){it(e.idToken,"internal-error"),it(typeof e.idToken<"u","internal-error"),it(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):KT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){it(e.length!==0,"internal-error");const t=KT(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(it(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:i,expiresIn:a}=await Sj(e,t);this.updateTokensAndExpiration(r,i,Number(a))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:a}=t,l=new cd;return r&&(it(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),i&&(it(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),a&&(it(typeof a=="number","internal-error",{appName:e}),l.expirationTime=a),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new cd,this.toJSON())}_performRefresh(){return Ll("not implemented")}}function pc(n,e){it(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class $o{constructor({uid:e,auth:t,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new wj(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new S_(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await xu(this,this.stsTokenManager.getToken(this.auth,e));return it(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return _j(this,e)}reload(){return Ej(this)}_assign(e){this!==e&&(it(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new $o({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){it(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await Om(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(zr(this.auth.app))return Promise.reject(ls(this.auth));const e=await this.getIdToken();return await xu(this,yj(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const r=t.displayName??void 0,i=t.email??void 0,a=t.phoneNumber??void 0,l=t.photoURL??void 0,c=t.tenantId??void 0,h=t._redirectEventId??void 0,f=t.createdAt??void 0,p=t.lastLoginAt??void 0,{uid:v,emailVerified:E,isAnonymous:b,providerData:R,stsTokenManager:P}=t;it(v&&P,e,"internal-error");const M=cd.fromJSON(this.name,P);it(typeof v=="string",e,"internal-error"),pc(r,e.name),pc(i,e.name),it(typeof E=="boolean",e,"internal-error"),it(typeof b=="boolean",e,"internal-error"),pc(a,e.name),pc(l,e.name),pc(c,e.name),pc(h,e.name),pc(f,e.name),pc(p,e.name);const k=new $o({uid:v,auth:e,email:i,emailVerified:E,displayName:r,isAnonymous:b,photoURL:l,phoneNumber:a,tenantId:c,stsTokenManager:M,createdAt:f,lastLoginAt:p});return R&&Array.isArray(R)&&(k.providerData=R.map(K=>({...K}))),h&&(k._redirectEventId=h),k}static async _fromIdTokenResponse(e,t,r=!1){const i=new cd;i.updateFromServerResponse(t);const a=new $o({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Om(a),a}static async _fromGetAccountInfoResponse(e,t,r){const i=t.users[0];it(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?pN(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!a?.length,c=new cd;c.updateFromIdToken(r);const h=new $o({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:l}),f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new S_(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!a?.length};return Object.assign(h,f),h}}const YT=new Map;function Ka(n){Xo(n instanceof Function,"Expected a class definition");let e=YT.get(n);return e?(Xo(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,YT.set(n,e),e)}class mN{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}mN.type="NONE";const _d=mN;function kh(n,e,t){return`firebase:${n}:${e}:${t}`}class hd{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=kh(this.userKey,i.apiKey,a),this.fullPersistenceKey=kh("persistence",i.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Ey(this.auth,{idToken:e}).catch(()=>{});return t?$o._fromGetAccountInfoResponse(this.auth,t,e):null}return $o._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new hd(Ka(_d),e,r);const i=(await Promise.all(t.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let a=i[0]||Ka(_d);const l=kh(r,e.config.apiKey,e.name);let c=null;for(const f of t)try{const p=await f._get(l);if(p){let v;if(typeof p=="string"){const E=await Ey(e,{idToken:p}).catch(()=>{});if(!E)break;v=await $o._fromGetAccountInfoResponse(e,E,p)}else v=$o._fromJSON(e,p);f!==a&&(c=v),a=f;break}}catch{}const h=i.filter(f=>f._shouldAllowMigration);return!a._shouldAllowMigration||!h.length?new hd(a,e,r):(a=h[0],c&&await a._set(l,c.toJSON()),await Promise.all(t.map(async f=>{if(f!==a)try{await f._remove(l)}catch{}})),new hd(a,e,r))}}function QT(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(_N(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(gN(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(bN(e))return"Blackberry";if(wN(e))return"Webos";if(yN(e))return"Safari";if((e.includes("chrome/")||vN(e))&&!e.includes("edge/"))return"Chrome";if(og(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function gN(n=Xr()){return/firefox\//i.test(n)}function yN(n=Xr()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function vN(n=Xr()){return/crios\//i.test(n)}function _N(n=Xr()){return/iemobile/i.test(n)}function og(n=Xr()){return/android/i.test(n)}function bN(n=Xr()){return/blackberry/i.test(n)}function wN(n=Xr()){return/webos/i.test(n)}function lg(n=Xr()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function xj(n=Xr()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(n)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(n)}function Ij(n=Xr()){return lg(n)&&!!window.navigator?.standalone}function Nj(){return H3()&&document.documentMode===10}function EN(n=Xr()){return lg(n)||og(n)||wN(n)||bN(n)||/windows phone/i.test(n)||_N(n)}function AN(n,e=[]){let t;switch(n){case"Browser":t=QT(Xr());break;case"Worker":t=`${QT(Xr())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Hc}/${r}`}class Cj{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=a=>new Promise((l,c)=>{try{const h=e(a);l(h)}catch(h){c(h)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function Rj(n,e={}){return hi(n,"GET","/v2/passwordPolicy",ci(n,e))}const Pj=6;class Lj{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??Pj,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}class kj{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new XT(this),this.idTokenSubscription=new XT(this),this.beforeStateQueue=new Cj(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=lN,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Ka(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await hd.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Ey(this,{idToken:e}),r=await $o._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(zr(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(l,l))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let r=t,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=this.redirectUser?._redirectEventId,l=r?._redirectEventId,c=await this.tryRedirectSignIn(e);(!a||a===l)&&c?.user&&(r=c.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(a){r=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return it(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Om(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=cj()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(zr(this.app))return Promise.reject(ls(this));const t=e?Wt(e):null;return t&&it(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&it(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return zr(this.app)?Promise.reject(ls(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return zr(this.app)?Promise.reject(ls(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ka(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Rj(this),t=new Lj(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Jh("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await Tj(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Ka(e)||this._popupRedirectResolver;it(t,this,"argument-error"),this.redirectPersistenceManager=await hd.create(this,[Ka(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let l=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(it(c,this,"internal-error"),c.then(()=>{l||a(this.currentUser)}),typeof t=="function"){const h=e.addObserver(t,r,i);return()=>{l=!0,h()}}else{const h=e.addObserver(t);return()=>{l=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return it(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=AN(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(zr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&lj(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Jr(n){return Wt(n)}class XT{constructor(e){this.auth=e,this.observer=null,this.addObserver=W3(t=>this.observer=t)}get next(){return it(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let ug={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Dj(n){ug=n}function G5(n){return ug.loadJS(n)}function Oj(){return ug.recaptchaV2Script}function Mj(){return ug.recaptchaEnterpriseScript}function Vj(){return ug.gapiScript}function SN(n){return`__${n}${Math.floor(Math.random()*1e6)}`}const jj=500,Fj=6e4,L1=1e12;class Uj{constructor(e){this.auth=e,this.counter=L1,this._widgets=new Map}render(e,t){const r=this.counter;return this._widgets.set(r,new qj(e,this.auth.name,t||{})),this.counter++,r}reset(e){const t=e||L1;this._widgets.get(t)?.delete(),this._widgets.delete(t)}getResponse(e){const t=e||L1;return this._widgets.get(t)?.getResponse()||""}async execute(e){const t=e||L1;return this._widgets.get(t)?.execute(),""}}class Bj{constructor(){this.enterprise=new zj}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class zj{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class qj{constructor(e,t,r){this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const i=typeof e=="string"?document.getElementById(e):e;it(i,"argument-error",{appName:t}),this.container=i,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=Hj(50);const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch{}this.isVisible&&this.execute()},Fj)},jj))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function Hj(n){const e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<n;r++)e.push(t.charAt(Math.floor(Math.random()*t.length)));return e.join("")}const Gj="recaptcha-enterprise",dm="NO_RECAPTCHA";class TN{constructor(e){this.type=Gj,this.auth=Jr(e)}async verify(e="verify",t=!1){async function r(a){if(!t){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(l,c)=>{dN(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(h=>{if(h.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const f=new fN(h);return a.tenantId==null?a._agentRecaptchaConfig=f:a._tenantRecaptchaConfigs[a.tenantId]=f,l(f.siteKey)}}).catch(h=>{c(h)})})}function i(a,l,c){const h=window.grecaptcha;WT(h)?h.enterprise.ready(()=>{h.enterprise.execute(a,{action:e}).then(f=>{l(f)}).catch(()=>{l(dm)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Bj().execute("siteKey",{action:"verify"}):new Promise((a,l)=>{r(this.auth).then(c=>{if(!t&&WT(window.grecaptcha))i(c,a,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let h=Mj();h.length!==0&&(h+=c),G5(h).then(()=>{i(c,a,l)}).catch(f=>{l(f)})}}).catch(c=>{l(c)})})}}async function Hp(n,e,t,r=!1,i=!1){const a=new TN(n);let l;if(i)l=dm;else try{l=await a.verify(t)}catch{l=await a.verify(t,!0)}const c={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){const h=c.phoneEnrollmentInfo.phoneNumber,f=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:h,recaptchaToken:f,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){const h=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:h,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return r?Object.assign(c,{captchaResp:l}):Object.assign(c,{captchaResponse:l}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function xc(n,e,t,r,i){if(i==="EMAIL_PASSWORD_PROVIDER")if(n._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await Hp(n,e,t,t==="getOobCode");return r(n,a)}else return r(n,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await Hp(n,e,t,t==="getOobCode");return r(n,l)}else return Promise.reject(a)});else if(i==="PHONE_PROVIDER")if(n._getRecaptchaConfig()?.isProviderEnabled("PHONE_PROVIDER")){const a=await Hp(n,e,t);return r(n,a).catch(async l=>{if(n._getRecaptchaConfig()?.getProviderEnforcementState("PHONE_PROVIDER")==="AUDIT"&&(l.code==="auth/missing-recaptcha-token"||l.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${t} flow.`);const c=await Hp(n,e,t,!1,!0);return r(n,c)}return Promise.reject(l)})}else{const a=await Hp(n,e,t,!1,!0);return r(n,a)}else return Promise.reject(i+" provider is not supported.")}async function $j(n){const e=Jr(n),t=await dN(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new fN(t);e.tenantId==null?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.isAnyProviderEnabled()&&new TN(e).verify()}function Wj(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(Ka);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function Kj(n,e,t){const r=Jr(n);it(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!t?.disableWarnings,a=xN(e),{host:l,port:c}=Yj(e),h=c===null?"":`:${c}`,f={url:`${a}//${l}${h}/`},p=Object.freeze({host:l,port:c,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){it(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),it(Pc(f,r.config.emulator)&&Pc(p,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=f,r.emulatorConfig=p,r.settings.appVerificationDisabledForTesting=!0,Hd(l)?(U3(`${a}//${l}${h}`),B3("Auth",!0)):i||Qj()}function xN(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function Yj(n){const e=xN(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const a=i[1];return{host:a,port:JT(r.substr(a.length+1))}}else{const[a,l]=r.split(":");return{host:a,port:JT(l)}}}function JT(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function Qj(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}class Wd{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ll("not implemented")}_getIdTokenResponse(e){return Ll("not implemented")}_linkToIdToken(e,t){return Ll("not implemented")}_getReauthenticationResolver(e){return Ll("not implemented")}}async function IN(n,e){return hi(n,"POST","/v1/accounts:resetPassword",ci(n,e))}async function Xj(n,e){return hi(n,"POST","/v1/accounts:update",e)}async function Jj(n,e){return hi(n,"POST","/v1/accounts:signUp",e)}async function Zj(n,e){return hi(n,"POST","/v1/accounts:update",ci(n,e))}async function eF(n,e){return Pu(n,"POST","/v1/accounts:signInWithPassword",ci(n,e))}async function Zy(n,e){return hi(n,"POST","/v1/accounts:sendOobCode",ci(n,e))}async function tF(n,e){return Zy(n,e)}async function nF(n,e){return Zy(n,e)}async function rF(n,e){return Zy(n,e)}async function iF(n,e){return Zy(n,e)}async function sF(n,e){return Pu(n,"POST","/v1/accounts:signInWithEmailLink",ci(n,e))}async function aF(n,e){return Pu(n,"POST","/v1/accounts:signInWithEmailLink",ci(n,e))}class Mm extends Wd{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new Mm(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new Mm(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return xc(e,t,"signInWithPassword",eF,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return sF(e,{email:this._email,oobCode:this._password});default:Ts(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return xc(e,r,"signUpPassword",Jj,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return aF(e,{idToken:t,email:this._email,oobCode:this._password});default:Ts(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Eu(n,e){return Pu(n,"POST","/v1/accounts:signInWithIdp",ci(n,e))}const oF="http://localhost";class Fl extends Wd{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Fl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Ts("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...a}=t;if(!r||!i)return null;const l=new Fl(r,i);return l.idToken=a.idToken||void 0,l.accessToken=a.accessToken||void 0,l.secret=a.secret,l.nonce=a.nonce,l.pendingToken=a.pendingToken||null,l}_getIdTokenResponse(e){const t=this.buildRequest();return Eu(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Eu(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Eu(e,t)}buildRequest(){const e={requestUri:oF,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Gd(t)}return e}}async function ZT(n,e){return hi(n,"POST","/v1/accounts:sendVerificationCode",ci(n,e))}async function lF(n,e){return Pu(n,"POST","/v1/accounts:signInWithPhoneNumber",ci(n,e))}async function uF(n,e){const t=await Pu(n,"POST","/v1/accounts:signInWithPhoneNumber",ci(n,e));if(t.temporaryProof)throw tm(n,"account-exists-with-different-credential",t);return t}const cF={USER_NOT_FOUND:"user-not-found"};async function hF(n,e){const t={...e,operation:"REAUTH"};return Pu(n,"POST","/v1/accounts:signInWithPhoneNumber",ci(n,t),cF)}class Dh extends Wd{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new Dh({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new Dh({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return lF(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return uF(e,{idToken:t,...this._makeVerificationRequest()})}_getReauthenticationResolver(e){return hF(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:r,verificationCode:i}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:r,code:i}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));const{verificationId:t,verificationCode:r,phoneNumber:i,temporaryProof:a}=e;return!r&&!t&&!i&&!a?null:new Dh({verificationId:t,verificationCode:r,phoneNumber:i,temporaryProof:a})}}function fF(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function dF(n){const e=id(em(n)).link,t=e?id(em(e)).deep_link_id:null,r=id(em(n)).deep_link_id;return(r?id(em(r)).link:null)||r||t||e||n}class e0{constructor(e){const t=id(em(e)),r=t.apiKey??null,i=t.oobCode??null,a=fF(t.mode??null);it(r&&i&&a,"argument-error"),this.apiKey=r,this.operation=a,this.code=i,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=dF(e);try{return new e0(t)}catch{return null}}}class Gc{constructor(){this.providerId=Gc.PROVIDER_ID}static credential(e,t){return Mm._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=e0.parseLink(t);return it(r,"argument-error"),Mm._fromEmailAndCode(e,r.code,r.tenantId)}}Gc.PROVIDER_ID="password";Gc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Gc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Lu{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Kd extends Lu{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class fd extends Kd{static credentialFromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;return it("providerId"in t&&"signInMethod"in t,"argument-error"),Fl._fromParams(t)}credential(e){return this._credential({...e,nonce:e.rawNonce})}_credential(e){return it(e.idToken||e.accessToken,"argument-error"),Fl._fromParams({...e,providerId:this.providerId,signInMethod:this.providerId})}static credentialFromResult(e){return fd.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return fd.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r,oauthTokenSecret:i,pendingToken:a,nonce:l,providerId:c}=e;if(!r&&!i&&!t&&!a||!c)return null;try{return new fd(c)._credential({idToken:t,accessToken:r,nonce:l,pendingToken:a})}catch{return null}}}class Il extends Kd{constructor(){super("facebook.com")}static credential(e){return Fl._fromParams({providerId:Il.PROVIDER_ID,signInMethod:Il.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Il.credentialFromTaggedObject(e)}static credentialFromError(e){return Il.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Il.credential(e.oauthAccessToken)}catch{return null}}}Il.FACEBOOK_SIGN_IN_METHOD="facebook.com";Il.PROVIDER_ID="facebook.com";class Nl extends Kd{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Fl._fromParams({providerId:Nl.PROVIDER_ID,signInMethod:Nl.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Nl.credentialFromTaggedObject(e)}static credentialFromError(e){return Nl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return Nl.credential(t,r)}catch{return null}}}Nl.GOOGLE_SIGN_IN_METHOD="google.com";Nl.PROVIDER_ID="google.com";class Cl extends Kd{constructor(){super("github.com")}static credential(e){return Fl._fromParams({providerId:Cl.PROVIDER_ID,signInMethod:Cl.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Cl.credentialFromTaggedObject(e)}static credentialFromError(e){return Cl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Cl.credential(e.oauthAccessToken)}catch{return null}}}Cl.GITHUB_SIGN_IN_METHOD="github.com";Cl.PROVIDER_ID="github.com";const pF="http://localhost";class bd extends Wd{constructor(e,t){super(e,e),this.pendingToken=t}_getIdTokenResponse(e){const t=this.buildRequest();return Eu(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Eu(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Eu(e,t)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,pendingToken:a}=t;return!r||!i||!a||r!==i?null:new bd(r,a)}static _create(e,t){return new bd(e,t)}buildRequest(){return{requestUri:pF,returnSecureToken:!0,pendingToken:this.pendingToken}}}const mF="saml.";class Ay extends Lu{constructor(e){it(e.startsWith(mF),"argument-error"),super(e)}static credentialFromResult(e){return Ay.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return Ay.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const t=bd.fromJSON(e);return it(t,"argument-error"),t}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:t,providerId:r}=e;if(!t||!r)return null;try{return bd._create(r,t)}catch{return null}}}class Rl extends Kd{constructor(){super("twitter.com")}static credential(e,t){return Fl._fromParams({providerId:Rl.PROVIDER_ID,signInMethod:Rl.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Rl.credentialFromTaggedObject(e)}static credentialFromError(e){return Rl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return Rl.credential(t,r)}catch{return null}}}Rl.TWITTER_SIGN_IN_METHOD="twitter.com";Rl.PROVIDER_ID="twitter.com";async function NN(n,e){return Pu(n,"POST","/v1/accounts:signUp",ci(n,e))}class Eo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,i=!1){const a=await $o._fromIdTokenResponse(e,r,i),l=ex(r);return new Eo({user:a,providerId:l,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const i=ex(r);return new Eo({user:e,providerId:i,_tokenResponse:r,operationType:t})}}function ex(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}async function gF(n){if(zr(n.app))return Promise.reject(ls(n));const e=Jr(n);if(await e._initializationPromise,e.currentUser?.isAnonymous)return new Eo({user:e.currentUser,providerId:null,operationType:"signIn"});const t=await NN(e,{returnSecureToken:!0}),r=await Eo._fromIdTokenResponse(e,"signIn",t,!0);return await e._updateCurrentUser(r.user),r}class Sy extends na{constructor(e,t,r,i){super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Sy.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new Sy(e,t,r,i)}}function CN(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Sy._fromErrorAndOperation(n,a,e,r):a})}function RN(n){return new Set(n.map(({providerId:e})=>e).filter(e=>!!e))}async function yF(n,e){const t=Wt(n);await t0(!0,t,e);const{providerUserInfo:r}=await vj(t.auth,{idToken:await t.getIdToken(),deleteProvider:[e]}),i=RN(r||[]);return t.providerData=t.providerData.filter(a=>i.has(a.providerId)),i.has("phone")||(t.phoneNumber=null),await t.auth._persistUserIfCurrent(t),t}async function $5(n,e,t=!1){const r=await xu(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Eo._forOperation(n,"link",r)}async function t0(n,e,t){await Om(e);const r=RN(e.providerData),i=n===!1?"provider-already-linked":"no-such-provider";it(r.has(t)===n,e.auth,i)}async function PN(n,e,t=!1){const{auth:r}=n;if(zr(r.app))return Promise.reject(ls(r));const i="reauthenticate";try{const a=await xu(n,CN(r,i,e,n),t);it(a.idToken,r,"internal-error");const l=Jy(a.idToken);it(l,r,"internal-error");const{sub:c}=l;return it(n.uid===c,r,"user-mismatch"),Eo._forOperation(n,i,a)}catch(a){throw a?.code==="auth/user-not-found"&&Ts(r,"user-mismatch"),a}}async function LN(n,e,t=!1){if(zr(n.app))return Promise.reject(ls(n));const r="signIn",i=await CN(n,r,e),a=await Eo._fromIdTokenResponse(n,r,i);return t||await n._updateCurrentUser(a.user),a}async function n0(n,e){return LN(Jr(n),e)}async function kN(n,e){const t=Wt(n);return await t0(!1,t,e.providerId),$5(t,e)}async function DN(n,e){return PN(Wt(n),e)}async function vF(n,e){return Pu(n,"POST","/v1/accounts:signInWithCustomToken",ci(n,e))}async function _F(n,e){if(zr(n.app))return Promise.reject(ls(n));const t=Jr(n),r=await vF(t,{token:e,returnSecureToken:!0}),i=await Eo._fromIdTokenResponse(t,"signIn",r);return await t._updateCurrentUser(i.user),i}class cg{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?W5._fromServerResponse(e,t):"totpInfo"in t?K5._fromServerResponse(e,t):Ts(e,"internal-error")}}class W5 extends cg{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new W5(t)}}class K5 extends cg{constructor(e){super("totp",e)}static _fromServerResponse(e,t){return new K5(t)}}function r0(n,e,t){it(t.url?.length>0,n,"invalid-continue-uri"),it(typeof t.dynamicLinkDomain>"u"||t.dynamicLinkDomain.length>0,n,"invalid-dynamic-link-domain"),it(typeof t.linkDomain>"u"||t.linkDomain.length>0,n,"invalid-hosting-link-domain"),e.continueUrl=t.url,e.dynamicLinkDomain=t.dynamicLinkDomain,e.linkDomain=t.linkDomain,e.canHandleCodeInApp=t.handleCodeInApp,t.iOS&&(it(t.iOS.bundleId.length>0,n,"missing-ios-bundle-id"),e.iOSBundleId=t.iOS.bundleId),t.android&&(it(t.android.packageName.length>0,n,"missing-android-pkg-name"),e.androidInstallApp=t.android.installApp,e.androidMinimumVersionCode=t.android.minimumVersion,e.androidPackageName=t.android.packageName)}async function Y5(n){const e=Jr(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function bF(n,e,t){const r=Jr(n),i={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};t&&r0(r,i,t),await xc(r,i,"getOobCode",nF,"EMAIL_PASSWORD_PROVIDER")}async function wF(n,e,t){await IN(Wt(n),{oobCode:e,newPassword:t}).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Y5(n),r})}async function EF(n,e){await Zj(Wt(n),{oobCode:e})}async function ON(n,e){const t=Wt(n),r=await IN(t,{oobCode:e}),i=r.requestType;switch(it(i,t,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":it(r.newEmail,t,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":it(r.mfaInfo,t,"internal-error");default:it(r.email,t,"internal-error")}let a=null;return r.mfaInfo&&(a=cg._fromServerResponse(Jr(t),r.mfaInfo)),{data:{email:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.newEmail:r.email)||null,previousEmail:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.email:r.newEmail)||null,multiFactorInfo:a},operation:i}}async function AF(n,e){const{data:t}=await ON(Wt(n),e);return t.email}async function SF(n,e,t){if(zr(n.app))return Promise.reject(ls(n));const r=Jr(n),l=await xc(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",NN,"EMAIL_PASSWORD_PROVIDER").catch(h=>{throw h.code==="auth/password-does-not-meet-requirements"&&Y5(n),h}),c=await Eo._fromIdTokenResponse(r,"signIn",l);return await r._updateCurrentUser(c.user),c}function TF(n,e,t){return zr(n.app)?Promise.reject(ls(n)):n0(Wt(n),Gc.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Y5(n),r})}async function xF(n,e,t){const r=Jr(n),i={requestType:"EMAIL_SIGNIN",email:e,clientType:"CLIENT_TYPE_WEB"};function a(l,c){it(c.handleCodeInApp,r,"argument-error"),c&&r0(r,l,c)}a(i,t),await xc(r,i,"getOobCode",rF,"EMAIL_PASSWORD_PROVIDER")}function IF(n,e){return e0.parseLink(e)?.operation==="EMAIL_SIGNIN"}async function NF(n,e,t){if(zr(n.app))return Promise.reject(ls(n));const r=Wt(n),i=Gc.credentialWithLink(e,t||Dm());return it(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),n0(r,i)}async function CF(n,e){return hi(n,"POST","/v1/accounts:createAuthUri",ci(n,e))}async function RF(n,e){const t=q5()?Dm():"http://localhost",r={identifier:e,continueUri:t},{signinMethods:i}=await CF(Wt(n),r);return i||[]}async function PF(n,e){const t=Wt(n),i={requestType:"VERIFY_EMAIL",idToken:await n.getIdToken()};e&&r0(t.auth,i,e);const{email:a}=await tF(t.auth,i);a!==n.email&&await n.reload()}async function LF(n,e,t){const r=Wt(n),a={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await n.getIdToken(),newEmail:e};t&&r0(r.auth,a,t);const{email:l}=await iF(r.auth,a);l!==n.email&&await n.reload()}async function kF(n,e){return hi(n,"POST","/v1/accounts:update",e)}async function DF(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const r=Wt(n),a={idToken:await r.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},l=await xu(r,kF(r.auth,a));r.displayName=l.displayName||null,r.photoURL=l.photoUrl||null;const c=r.providerData.find(({providerId:h})=>h==="password");c&&(c.displayName=r.displayName,c.photoURL=r.photoURL),await r._updateTokensIfNecessary(l)}function OF(n,e){const t=Wt(n);return zr(t.auth.app)?Promise.reject(ls(t.auth)):MN(t,e,null)}function MF(n,e){return MN(Wt(n),null,e)}async function MN(n,e,t){const{auth:r}=n,a={idToken:await n.getIdToken(),returnSecureToken:!0};e&&(a.email=e),t&&(a.password=t);const l=await xu(n,Xj(r,a));await n._updateTokensIfNecessary(l,!0)}function VF(n){if(!n)return null;const{providerId:e}=n,t=n.rawUserInfo?JSON.parse(n.rawUserInfo):{},r=n.isNewUser||n.kind==="identitytoolkit#SignupNewUserResponse";if(!e&&n?.idToken){const i=Jy(n.idToken)?.firebase?.sign_in_provider;if(i){const a=i!=="anonymous"&&i!=="custom"?i:null;return new dd(r,a)}}if(!e)return null;switch(e){case"facebook.com":return new jF(r,t);case"github.com":return new FF(r,t);case"google.com":return new UF(r,t);case"twitter.com":return new BF(r,t,n.screenName||null);case"custom":case"anonymous":return new dd(r,null);default:return new dd(r,e,t)}}class dd{constructor(e,t,r={}){this.isNewUser=e,this.providerId=t,this.profile=r}}class VN extends dd{constructor(e,t,r,i){super(e,t,r),this.username=i}}class jF extends dd{constructor(e,t){super(e,"facebook.com",t)}}class FF extends VN{constructor(e,t){super(e,"github.com",t,typeof t?.login=="string"?t?.login:null)}}class UF extends dd{constructor(e,t){super(e,"google.com",t)}}class BF extends VN{constructor(e,t,r){super(e,"twitter.com",t,r)}}function zF(n){const{user:e,_tokenResponse:t}=n;return e.isAnonymous&&!t?{providerId:null,isNewUser:!1,profile:null}:VF(t)}class Nh{constructor(e,t,r){this.type=e,this.credential=t,this.user=r}static _fromIdtoken(e,t){return new Nh("enroll",e,t)}static _fromMfaPendingCredential(e){return new Nh("signin",e)}toJSON(){return{multiFactorSession:{[this.type==="enroll"?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){if(e?.multiFactorSession){if(e.multiFactorSession?.pendingCredential)return Nh._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(e.multiFactorSession?.idToken)return Nh._fromIdtoken(e.multiFactorSession.idToken)}return null}}class Q5{constructor(e,t,r){this.session=e,this.hints=t,this.signInResolver=r}static _fromError(e,t){const r=Jr(e),i=t.customData._serverResponse,a=(i.mfaInfo||[]).map(c=>cg._fromServerResponse(r,c));it(i.mfaPendingCredential,r,"internal-error");const l=Nh._fromMfaPendingCredential(i.mfaPendingCredential);return new Q5(l,a,async c=>{const h=await c._process(r,l);delete i.mfaInfo,delete i.mfaPendingCredential;const f={...i,idToken:h.idToken,refreshToken:h.refreshToken};switch(t.operationType){case"signIn":const p=await Eo._fromIdTokenResponse(r,t.operationType,f);return await r._updateCurrentUser(p.user),p;case"reauthenticate":return it(t.user,r,"internal-error"),Eo._forOperation(t.user,t.operationType,f);default:Ts(r,"internal-error")}})}async resolveSignIn(e){const t=e;return this.signInResolver(t)}}function qF(n,e){const t=Wt(n),r=e;return it(e.customData.operationType,t,"argument-error"),it(r.customData._serverResponse?.mfaPendingCredential,t,"argument-error"),Q5._fromError(t,r)}function tx(n,e){return hi(n,"POST","/v2/accounts/mfaEnrollment:start",ci(n,e))}function HF(n,e){return hi(n,"POST","/v2/accounts/mfaEnrollment:finalize",ci(n,e))}function GF(n,e){return hi(n,"POST","/v2/accounts/mfaEnrollment:withdraw",ci(n,e))}class X5{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map(r=>cg._fromServerResponse(e.auth,r)))})}static _fromUser(e){return new X5(e)}async getSession(){return Nh._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,t){const r=e,i=await this.getSession(),a=await xu(this.user,r._process(this.user.auth,i,t));return await this.user._updateTokensIfNecessary(a),this.user.reload()}async unenroll(e){const t=typeof e=="string"?e:e.uid,r=await this.user.getIdToken();try{const i=await xu(this.user,GF(this.user.auth,{idToken:r,mfaEnrollmentId:t}));this.enrolledFactors=this.enrolledFactors.filter(({uid:a})=>a!==t),await this.user._updateTokensIfNecessary(i),await this.user.reload()}catch(i){throw i}}}const F2=new WeakMap;function $F(n){const e=Wt(n);return F2.has(e)||F2.set(e,X5._fromUser(e)),F2.get(e)}const Ty="__sak";class jN{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Ty,"1"),this.storage.removeItem(Ty),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const WF=1e3,KF=10;class FN extends jN{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=EN(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),i=this.localCache[t];r!==i&&e(t,i,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((l,c,h)=>{this.notifyListeners(l,h)});return}const r=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(r);!t&&this.localCache[r]===l||this.notifyListeners(r,l)},a=this.storage.getItem(r);Nj()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,KF):i()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},WF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}FN.type="LOCAL";const J5=FN;class UN extends jN{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}UN.type="SESSION";const jh=UN;function YF(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}class i0{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const r=new i0(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:i,data:a}=t.data,l=this.handlersMap[i];if(!l?.size)return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const c=Array.from(l).map(async f=>f(t.origin,a)),h=await YF(c);t.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:h})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}i0.receivers=[];function hg(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}class QF{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,l;return new Promise((c,h)=>{const f=hg("",20);i.port1.start();const p=setTimeout(()=>{h(new Error("unsupported_event"))},r);l={messageChannel:i,onMessage(v){const E=v;if(E.data.eventId===f)switch(E.data.status){case"ack":clearTimeout(p),a=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),c(E.data.response);break;default:clearTimeout(p),clearTimeout(a),h(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:f,data:t},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}function Pi(){return window}function XF(n){Pi().location.href=n}function Z5(){return typeof Pi().WorkerGlobalScope<"u"&&typeof Pi().importScripts=="function"}async function JF(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function ZF(){return navigator?.serviceWorker?.controller||null}function eU(){return Z5()?self:null}const BN="firebaseLocalStorageDb",tU=1,xy="firebaseLocalStorage",zN="fbase_key";class fg{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function s0(n,e){return n.transaction([xy],e?"readwrite":"readonly").objectStore(xy)}function nU(){const n=indexedDB.deleteDatabase(BN);return new fg(n).toPromise()}function T_(){const n=indexedDB.open(BN,tU);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(xy,{keyPath:zN})}catch(i){t(i)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(xy)?e(r):(r.close(),await nU(),e(await T_()))})})}async function nx(n,e,t){const r=s0(n,!0).put({[zN]:e,value:t});return new fg(r).toPromise()}async function rU(n,e){const t=s0(n,!1).get(e),r=await new fg(t).toPromise();return r===void 0?null:r.value}function rx(n,e){const t=s0(n,!0).delete(e);return new fg(t).toPromise()}const iU=800,sU=3;class qN{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await T_(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>sU)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Z5()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=i0._getInstance(eU()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await JF(),!this.activeServiceWorker)return;this.sender=new QF(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||ZF()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await T_();return await nx(e,Ty,"1"),await rx(e,Ty),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>nx(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>rU(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>rx(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=s0(i,!1).getAll();return new fg(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),iU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}qN.type="LOCAL";const Vm=qN;function ix(n,e){return hi(n,"POST","/v2/accounts/mfaSignIn:start",ci(n,e))}function aU(n,e){return hi(n,"POST","/v2/accounts/mfaSignIn:finalize",ci(n,e))}const U2=SN("rcb"),oU=new ag(3e4,6e4);class lU{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Pi().grecaptcha?.render}load(e,t=""){return it(uU(t),e,"argument-error"),this.shouldResolveImmediately(t)&&$T(Pi().grecaptcha)?Promise.resolve(Pi().grecaptcha):new Promise((r,i)=>{const a=Pi().setTimeout(()=>{i($i(e,"network-request-failed"))},oU.get());Pi()[U2]=()=>{Pi().clearTimeout(a),delete Pi()[U2];const c=Pi().grecaptcha;if(!c||!$T(c)){i($i(e,"internal-error"));return}const h=c.render;c.render=(f,p)=>{const v=h(f,p);return this.counter++,v},this.hostLanguage=t,r(c)};const l=`${Oj()}?${Gd({onload:U2,render:"explicit",hl:t})}`;G5(l).catch(()=>{clearTimeout(a),i($i(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){return!!Pi().grecaptcha?.render&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function uU(n){return n.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(n)}class cU{async load(e){return new Uj(e)}clearedOneInstance(){}}const pm="recaptcha",hU={theme:"light",type:"image"};let fU=class{constructor(e,t,r={...hU}){this.parameters=r,this.type=pm,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Jr(e),this.isInvisible=this.parameters.size==="invisible",it(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const i=typeof t=="string"?document.getElementById(t):t;it(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new cU:new lU,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),t=this.getAssertedRecaptcha(),r=t.getResponse(e);return r||new Promise(i=>{const a=l=>{l&&(this.tokenChangeListeners.delete(a),i(l))};this.tokenChangeListeners.add(a),this.isInvisible&&t.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){it(!this.parameters.sitekey,this.auth,"argument-error"),it(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),it(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach(r=>r(t)),typeof e=="function")e(t);else if(typeof e=="string"){const r=Pi()[e];typeof r=="function"&&r(t)}}}assertNotDestroyed(){it(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const t=document.createElement("div");e.appendChild(t),e=t}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){it(q5()&&!Z5(),this.auth,"internal-error"),await dU(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await gj(this.auth);it(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return it(this.recaptcha,this.auth,"internal-error"),this.recaptcha}};function dU(){let n=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}n=()=>e(),window.addEventListener("load",n)}).catch(e=>{throw n&&window.removeEventListener("load",n),e})}class eb{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=Dh._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}async function pU(n,e,t){if(zr(n.app))return Promise.reject(ls(n));const r=Jr(n),i=await a0(r,e,Wt(t));return new eb(i,a=>n0(r,a))}async function mU(n,e,t){const r=Wt(n);await t0(!1,r,"phone");const i=await a0(r.auth,e,Wt(t));return new eb(i,a=>kN(r,a))}async function gU(n,e,t){const r=Wt(n);if(zr(r.auth.app))return Promise.reject(ls(r.auth));const i=await a0(r.auth,e,Wt(t));return new eb(i,a=>DN(r,a))}async function a0(n,e,t){if(!n._getRecaptchaConfig())try{await $j(n)}catch{console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let r;if(typeof e=="string"?r={phoneNumber:e}:r=e,"session"in r){const i=r.session;if("phoneNumber"in r){it(i.type==="enroll",n,"internal-error");const a={idToken:i.credential,phoneEnrollmentInfo:{phoneNumber:r.phoneNumber,clientType:"CLIENT_TYPE_WEB"}};return(await xc(n,a,"mfaSmsEnrollment",async(f,p)=>{if(p.phoneEnrollmentInfo.captchaResponse===dm){it(t?.type===pm,f,"argument-error");const v=await B2(f,p,t);return tx(f,v)}return tx(f,p)},"PHONE_PROVIDER").catch(f=>Promise.reject(f))).phoneSessionInfo.sessionInfo}else{it(i.type==="signin",n,"internal-error");const a=r.multiFactorHint?.uid||r.multiFactorUid;it(a,n,"missing-multi-factor-info");const l={mfaPendingCredential:i.credential,mfaEnrollmentId:a,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}};return(await xc(n,l,"mfaSmsSignIn",async(p,v)=>{if(v.phoneSignInInfo.captchaResponse===dm){it(t?.type===pm,p,"argument-error");const E=await B2(p,v,t);return ix(p,E)}return ix(p,v)},"PHONE_PROVIDER").catch(p=>Promise.reject(p))).phoneResponseInfo.sessionInfo}}else{const i={phoneNumber:r.phoneNumber,clientType:"CLIENT_TYPE_WEB"};return(await xc(n,i,"sendVerificationCode",async(h,f)=>{if(f.captchaResponse===dm){it(t?.type===pm,h,"argument-error");const p=await B2(h,f,t);return ZT(h,p)}return ZT(h,f)},"PHONE_PROVIDER").catch(h=>Promise.reject(h))).sessionInfo}}finally{t?._reset()}}async function yU(n,e){const t=Wt(n);if(zr(t.auth.app))return Promise.reject(ls(t.auth));await $5(t,e)}async function B2(n,e,t){it(t.type===pm,n,"argument-error");const r=await t.verify();it(typeof r=="string",n,"argument-error");const i={...e};if("phoneEnrollmentInfo"in i){const a=i.phoneEnrollmentInfo.phoneNumber,l=i.phoneEnrollmentInfo.captchaResponse,c=i.phoneEnrollmentInfo.clientType,h=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:a,recaptchaToken:r,captchaResponse:l,clientType:c,recaptchaVersion:h}}),i}else if("phoneSignInInfo"in i){const a=i.phoneSignInInfo.captchaResponse,l=i.phoneSignInInfo.clientType,c=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:a,clientType:l,recaptchaVersion:c}}),i}else return Object.assign(i,{recaptchaToken:r}),i}let Fh=class Q1{constructor(e){this.providerId=Q1.PROVIDER_ID,this.auth=Jr(e)}verifyPhoneNumber(e,t){return a0(this.auth,e,Wt(t))}static credential(e,t){return Dh._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Q1.credentialFromTaggedObject(t)}static credentialFromError(e){return Q1.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:t,temporaryProof:r}=e;return t&&r?Dh._fromTokenResponse(t,r):null}};Fh.PROVIDER_ID="phone";Fh.PHONE_SIGN_IN_METHOD="phone";function Zh(n,e){return e?Ka(e):(it(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}class tb extends Wd{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Eu(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Eu(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Eu(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function vU(n){return LN(n.auth,new tb(n),n.bypassAuthState)}function _U(n){const{auth:e,user:t}=n;return it(t,e,"internal-error"),PN(t,new tb(n),n.bypassAuthState)}async function bU(n){const{auth:e,user:t}=n;return it(t,e,"internal-error"),$5(t,new tb(n),n.bypassAuthState)}class HN{constructor(e,t,r,i,a=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:i,tenantId:a,error:l,type:c}=e;if(l){this.reject(l);return}const h={auth:this.auth,requestUri:t,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(h))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return vU;case"linkViaPopup":case"linkViaRedirect":return bU;case"reauthViaPopup":case"reauthViaRedirect":return _U;default:Ts(this.auth,"internal-error")}}resolve(e){Xo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Xo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const wU=new ag(2e3,1e4);async function EU(n,e,t){if(zr(n.app))return Promise.reject($i(n,"operation-not-supported-in-this-environment"));const r=Jr(n);$d(n,e,Lu);const i=Zh(r,t);return new _u(r,"signInViaPopup",e,i).executeNotNull()}async function AU(n,e,t){const r=Wt(n);if(zr(r.auth.app))return Promise.reject($i(r.auth,"operation-not-supported-in-this-environment"));$d(r.auth,e,Lu);const i=Zh(r.auth,t);return new _u(r.auth,"reauthViaPopup",e,i,r).executeNotNull()}async function SU(n,e,t){const r=Wt(n);$d(r.auth,e,Lu);const i=Zh(r.auth,t);return new _u(r.auth,"linkViaPopup",e,i,r).executeNotNull()}class _u extends HN{constructor(e,t,r,i,a){super(e,t,i,a),this.provider=r,this.authWindow=null,this.pollId=null,_u.currentPopupAction&&_u.currentPopupAction.cancel(),_u.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return it(e,this.auth,"internal-error"),e}async onExecution(){Xo(this.filter.length===1,"Popup operations only handle one event");const e=hg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject($i(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject($i(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_u.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject($i(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,wU.get())};e()}}_u.currentPopupAction=null;const TU="pendingRedirect",mm=new Map;class xU extends HN{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=mm.get(this.auth._key());if(!e){try{const r=await IU(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}mm.set(this.auth._key(),e)}return this.bypassAuthState||mm.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function IU(n,e){const t=$N(e),r=GN(n);if(!await r._isAvailable())return!1;const i=await r._get(t)==="true";return await r._remove(t),i}async function nb(n,e){return GN(n)._set($N(e),"true")}function NU(){mm.clear()}function rb(n,e){mm.set(n._key(),e)}function GN(n){return Ka(n._redirectPersistence)}function $N(n){return kh(TU,n.config.apiKey,n.name)}function CU(n,e,t){return RU(n,e,t)}async function RU(n,e,t){if(zr(n.app))return Promise.reject(ls(n));const r=Jr(n);$d(n,e,Lu),await r._initializationPromise;const i=Zh(r,t);return await nb(i,r),i._openRedirect(r,e,"signInViaRedirect")}function PU(n,e,t){return LU(n,e,t)}async function LU(n,e,t){const r=Wt(n);if($d(r.auth,e,Lu),zr(r.auth.app))return Promise.reject(ls(r.auth));await r.auth._initializationPromise;const i=Zh(r.auth,t);await nb(i,r.auth);const a=await WN(r);return i._openRedirect(r.auth,e,"reauthViaRedirect",a)}function kU(n,e,t){return DU(n,e,t)}async function DU(n,e,t){const r=Wt(n);$d(r.auth,e,Lu),await r.auth._initializationPromise;const i=Zh(r.auth,t);await t0(!1,r,e.providerId),await nb(i,r.auth);const a=await WN(r);return i._openRedirect(r.auth,e,"linkViaRedirect",a)}async function OU(n,e){return await Jr(n)._initializationPromise,o0(n,e,!1)}async function o0(n,e,t=!1){if(zr(n.app))return Promise.reject(ls(n));const r=Jr(n),i=Zh(r,e),l=await new xU(r,i,t).execute();return l&&!t&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}async function WN(n){const e=hg(`${n.uid}:::`);return n._redirectEventId=e,await n.auth._setRedirectUser(n),await n.auth._persistUserIfCurrent(n),e}const MU=600*1e3;class KN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!VU(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!YN(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";t.onError($i(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=MU&&this.cachedEventUids.clear(),this.cachedEventUids.has(sx(e))}saveEventToCache(e){this.cachedEventUids.add(sx(e)),this.lastProcessedEventTime=Date.now()}}function sx(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function YN({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function VU(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return YN(n);default:return!1}}async function QN(n,e={}){return hi(n,"GET","/v1/projects",e)}const jU=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,FU=/^https?/;async function UU(n){if(n.config.emulator)return;const{authorizedDomains:e}=await QN(n);for(const t of e)try{if(BU(t))return}catch{}Ts(n,"unauthorized-domain")}function BU(n){const e=Dm(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const l=new URL(n);return l.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&l.hostname===r}if(!FU.test(t))return!1;if(jU.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const zU=new ag(3e4,6e4);function ax(){const n=Pi().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function qU(n){return new Promise((e,t)=>{function r(){ax(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{ax(),t($i(n,"network-request-failed"))},timeout:zU.get()})}if(Pi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Pi().gapi?.load)r();else{const i=SN("iframefcb");return Pi()[i]=()=>{gapi.load?r():t($i(n,"network-request-failed"))},G5(`${Vj()}?onload=${i}`).catch(a=>t(a))}}).catch(e=>{throw X1=null,e})}let X1=null;function HU(n){return X1=X1||qU(n),X1}const GU=new ag(5e3,15e3),$U="__/auth/iframe",WU="emulator/auth/iframe",KU={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},YU=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function QU(n){const e=n.config;it(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?H5(e,WU):`https://${n.config.authDomain}/${$U}`,r={apiKey:e.apiKey,appName:n.name,v:Hc},i=YU.get(n.config.apiHost);i&&(r.eid=i);const a=n._getFrameworks();return a.length&&(r.fw=a.join(",")),`${t}?${Gd(r).slice(1)}`}async function XU(n){const e=await HU(n),t=Pi().gapi;return it(t,n,"internal-error"),e.open({where:document.body,url:QU(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:KU,dontclear:!0},r=>new Promise(async(i,a)=>{await r.restyle({setHideOnLeave:!1});const l=$i(n,"network-request-failed"),c=Pi().setTimeout(()=>{a(l)},GU.get());function h(){Pi().clearTimeout(c),i(r)}r.ping(h).then(h,()=>{a(l)})}))}const JU={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},ZU=500,eB=600,tB="_blank",nB="http://localhost";class ox{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function rB(n,e,t,r=ZU,i=eB){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const h={...JU,width:r.toString(),height:i.toString(),top:a,left:l},f=Xr().toLowerCase();t&&(c=vN(f)?tB:t),gN(f)&&(e=e||nB,h.scrollbars="yes");const p=Object.entries(h).reduce((E,[b,R])=>`${E}${b}=${R},`,"");if(Ij(f)&&c!=="_self")return iB(e||"",c),new ox(null);const v=window.open(e||"",c,p);it(v,n,"popup-blocked");try{v.focus()}catch{}return new ox(v)}function iB(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}const sB="__/auth/handler",aB="emulator/auth/handler",oB=encodeURIComponent("fac");async function x_(n,e,t,r,i,a){it(n.config.authDomain,n,"auth-domain-config-required"),it(n.config.apiKey,n,"invalid-api-key");const l={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Hc,eventId:i};if(e instanceof Lu){e.setDefaultLanguage(n.languageCode),l.providerId=e.providerId||"",D9(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,v]of Object.entries(a||{}))l[p]=v}if(e instanceof Kd){const p=e.getScopes().filter(v=>v!=="");p.length>0&&(l.scopes=p.join(","))}n.tenantId&&(l.tid=n.tenantId);const c=l;for(const p of Object.keys(c))c[p]===void 0&&delete c[p];const h=await n._getAppCheckToken(),f=h?`#${oB}=${encodeURIComponent(h)}`:"";return`${lB(n)}?${Gd(c).slice(1)}${f}`}function lB({config:n}){return n.emulator?H5(n,aB):`https://${n.authDomain}/${sB}`}const z2="webStorageSupport";class uB{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=jh,this._completeRedirectFn=o0,this._overrideRedirectResult=rb}async _openPopup(e,t,r,i){Xo(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const a=await x_(e,t,r,Dm(),i);return rB(e,a,hg())}async _openRedirect(e,t,r,i){await this._originValidation(e);const a=await x_(e,t,r,Dm(),i);return XF(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:a}=this.eventManagers[t];return i?Promise.resolve(i):(Xo(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await XU(e),r=new KN(e);return t.register("authEvent",i=>(it(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(z2,{type:z2},i=>{const a=i?.[0]?.[z2];a!==void 0&&t(!!a),Ts(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=UU(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return EN()||yN()||lg()}}const cB=uB;class hB{constructor(e){this.factorId=e}_process(e,t,r){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,r);case"signin":return this._finalizeSignIn(e,t.credential);default:return Ll("unexpected MultiFactorSessionType")}}}class ib extends hB{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new ib(e)}_finalizeEnroll(e,t,r){return HF(e,{idToken:t,displayName:r,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return aU(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class XN{constructor(){}static assertion(e){return ib._fromCredential(e)}}XN.FACTOR_ID="phone";var lx="@firebase/auth",ux="1.11.1";class fB{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){it(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function dB(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function pB(n){Dc(new jl("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:l,authDomain:c}=r.options;it(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const h={apiKey:l,authDomain:c,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:AN(n)},f=new kj(r,i,a,h);return Wj(f,t),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Dc(new jl("auth-internal",e=>{const t=Jr(e.getProvider("auth").getImmediate());return(r=>new fB(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Wo(lx,ux,dB(n)),Wo(lx,ux,"esm2020")}const mB=300;E9("authIdTokenMaxAge");function gB(){return document.getElementsByTagName("head")?.[0]??document}Dj({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const a=$i("internal-error");a.customData=i,t(a)},r.type="text/javascript",r.charset="UTF-8",gB().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});pB("Browser");function Uh(){return window}const yB=2e3;async function vB(n,e,t){const{BuildInfo:r}=Uh();Xo(e.sessionId,"AuthEvent did not contain a session ID");const i=await AB(e.sessionId),a={};return lg()?a.ibi=r.packageName:og()?a.apn=r.packageName:Ts(n,"operation-not-supported-in-this-environment"),r.displayName&&(a.appDisplayName=r.displayName),a.sessionId=i,x_(n,t,e.type,void 0,e.eventId??void 0,a)}async function _B(n){const{BuildInfo:e}=Uh(),t={};lg()?t.iosBundleId=e.packageName:og()?t.androidPackageName=e.packageName:Ts(n,"operation-not-supported-in-this-environment"),await QN(n,t)}function bB(n){const{cordova:e}=Uh();return new Promise(t=>{e.plugins.browsertab.isAvailable(r=>{let i=null;r?e.plugins.browsertab.openUrl(n):i=e.InAppBrowser.open(n,xj()?"_blank":"_system","location=yes"),t(i)})})}async function wB(n,e,t){const{cordova:r}=Uh();let i=()=>{};try{await new Promise((a,l)=>{let c=null;function h(){a();const v=r.plugins.browsertab?.close;typeof v=="function"&&v(),typeof t?.close=="function"&&t.close()}function f(){c||(c=window.setTimeout(()=>{l($i(n,"redirect-cancelled-by-user"))},yB))}function p(){document?.visibilityState==="visible"&&f()}e.addPassiveListener(h),document.addEventListener("resume",f,!1),og()&&document.addEventListener("visibilitychange",p,!1),i=()=>{e.removePassiveListener(h),document.removeEventListener("resume",f,!1),document.removeEventListener("visibilitychange",p,!1),c&&window.clearTimeout(c)}})}finally{i()}}function EB(n){const e=Uh();it(typeof e?.universalLinks?.subscribe=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),it(typeof e?.BuildInfo?.packageName<"u",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),it(typeof e?.cordova?.plugins?.browsertab?.openUrl=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),it(typeof e?.cordova?.plugins?.browsertab?.isAvailable=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),it(typeof e?.cordova?.InAppBrowser?.open=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}async function AB(n){const e=SB(n),t=await crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(t)).map(i=>i.toString(16).padStart(2,"0")).join("")}function SB(n){if(Xo(/[0-9a-zA-Z]+/.test(n),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return new TextEncoder().encode(n);const e=new ArrayBuffer(n.length),t=new Uint8Array(e);for(let r=0;r<n.length;r++)t[r]=n.charCodeAt(r);return t}const TB=20;class xB extends KN{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInitialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInitialized(),this.passiveListeners.forEach(t=>t(e)),super.onEvent(e)}async initialized(){await this.initPromise}}function IB(n,e,t=null){return{type:e,eventId:t,urlResponse:null,sessionId:RB(),postBody:null,tenantId:n.tenantId,error:$i(n,"no-auth-event")}}function NB(n,e){return I_()._set(N_(n),e)}async function cx(n){const e=await I_()._get(N_(n));return e&&await I_()._remove(N_(n)),e}function CB(n,e){const t=LB(e);if(t.includes("/__/auth/callback")){const r=J1(t),a=(r.firebaseError?PB(decodeURIComponent(r.firebaseError)):null)?.code?.split("auth/")?.[1],l=a?$i(a):null;return l?{type:n.type,eventId:n.eventId,tenantId:n.tenantId,error:l,urlResponse:null,sessionId:null,postBody:null}:{type:n.type,eventId:n.eventId,tenantId:n.tenantId,sessionId:n.sessionId,urlResponse:t,postBody:null}}return null}function RB(){const n=[],e="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let t=0;t<TB;t++){const r=Math.floor(Math.random()*e.length);n.push(e.charAt(r))}return n.join("")}function I_(){return Ka(J5)}function N_(n){return kh("authEvent",n.config.apiKey,n.name)}function PB(n){try{return JSON.parse(n)}catch{return null}}function LB(n){const e=J1(n),t=e.link?decodeURIComponent(e.link):void 0,r=J1(t).link,i=e.deep_link_id?decodeURIComponent(e.deep_link_id):void 0;return J1(i).link||i||r||t||n}function J1(n){if(!n?.includes("?"))return{};const[e,...t]=n.split("?");return id(t.join("?"))}const kB=500;class DB{constructor(){this._redirectPersistence=jh,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=o0,this._overrideRedirectResult=rb}async _initialize(e){const t=e._key();let r=this.eventManagers.get(t);return r||(r=new xB(e),this.eventManagers.set(t,r),this.attachCallbackListeners(e,r)),r}_openPopup(e){Ts(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,t,r,i){EB(e);const a=await this._initialize(e);await a.initialized(),a.resetRedirect(),NU(),await this._originValidation(e);const l=IB(e,r,i);await NB(e,l);const c=await vB(e,l,t),h=await bB(c);return wB(e,a,h)}_isIframeWebStorageSupported(e,t){throw new Error("Method not implemented.")}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=_B(e)),this.originValidationPromises[t]}attachCallbackListeners(e,t){const{universalLinks:r,handleOpenURL:i,BuildInfo:a}=Uh(),l=setTimeout(async()=>{await cx(e),t.onEvent(hx())},kB),c=async p=>{clearTimeout(l);const v=await cx(e);let E=null;v&&p?.url&&(E=CB(v,p.url)),t.onEvent(E||hx())};typeof r<"u"&&typeof r.subscribe=="function"&&r.subscribe(null,c);const h=i,f=`${a.packageName.toLowerCase()}://`;Uh().handleOpenURL=async p=>{if(p.toLowerCase().startsWith(f)&&c({url:p}),typeof h=="function")try{h(p)}catch(v){console.error(v)}}}}const OB=DB;function hx(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:$i("no-auth-event")}}function MB(n,e){Jr(n)._logFramework(e)}var VB="@firebase/auth-compat",jB="0.6.1";const FB=1e3;function gm(){return self?.location?.protocol||null}function UB(){return gm()==="http:"||gm()==="https:"}function JN(n=Xr()){return!!((gm()==="file:"||gm()==="ionic:"||gm()==="capacitor:")&&n.toLowerCase().match(/iphone|ipad|ipod|android/))}function BB(){return O5()||Qy()}function zB(){return H3()&&document?.documentMode===11}function qB(n=Xr()){return/Edge\/\d+/.test(n)}function HB(n=Xr()){return zB()||qB(n)}function ZN(){try{const n=self.localStorage,e=hg();if(n)return n.setItem(e,"1"),n.removeItem(e),HB()?Pm():!0}catch{return sb()&&Pm()}return!1}function sb(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function q2(){return(UB()||q3()||JN())&&!BB()&&ZN()&&!sb()}function eC(){return JN()&&typeof document<"u"}async function GB(){return eC()?new Promise(n=>{const e=setTimeout(()=>{n(!1)},FB);document.addEventListener("deviceready",()=>{clearTimeout(e),n(!0)})}):!1}function $B(){return typeof window<"u"?window:null}const $a={LOCAL:"local",NONE:"none",SESSION:"session"},Gp=it,tC="persistence";function WB(n,e){if(Gp(Object.values($a).includes(e),n,"invalid-persistence-type"),O5()){Gp(e!==$a.SESSION,n,"unsupported-persistence-type");return}if(Qy()){Gp(e===$a.NONE,n,"unsupported-persistence-type");return}if(sb()){Gp(e===$a.NONE||e===$a.LOCAL&&Pm(),n,"unsupported-persistence-type");return}Gp(e===$a.NONE||ZN(),n,"unsupported-persistence-type")}async function C_(n){await n._initializationPromise;const e=nC(),t=kh(tC,n.config.apiKey,n.name);e&&e.setItem(t,n._getPersistenceType())}function KB(n,e){const t=nC();if(!t)return[];const r=kh(tC,n,e);switch(t.getItem(r)){case $a.NONE:return[_d];case $a.LOCAL:return[Vm,jh];case $a.SESSION:return[jh];default:return[]}}function nC(){try{return $B()?.sessionStorage||null}catch{return null}}const YB=it;class Ec{constructor(){this.browserResolver=Ka(cB),this.cordovaResolver=Ka(OB),this.underlyingResolver=null,this._redirectPersistence=jh,this._completeRedirectFn=o0,this._overrideRedirectResult=rb}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,t,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,t,r,i)}async _openRedirect(e,t,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,t,r,i)}_isIframeWebStorageSupported(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return eC()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return YB(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await GB();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}function rC(n){return n.unwrap()}function QB(n){return n.wrapped()}function XB(n){return iC(n)}function JB(n,e){const t=e.customData?._tokenResponse;if(e?.code==="auth/multi-factor-auth-required"){const r=e;r.resolver=new ZB(n,qF(n,e))}else if(t){const r=iC(e),i=e;r&&(i.credential=r,i.tenantId=t.tenantId||void 0,i.email=t.email||void 0,i.phoneNumber=t.phoneNumber||void 0)}}function iC(n){const{_tokenResponse:e}=n instanceof na?n.customData:n;if(!e)return null;if(!(n instanceof na)&&"temporaryProof"in e&&"phoneNumber"in e)return Fh.credentialFromResult(n);const t=e.providerId;if(!t||t===qp.PASSWORD)return null;let r;switch(t){case qp.GOOGLE:r=Nl;break;case qp.FACEBOOK:r=Il;break;case qp.GITHUB:r=Cl;break;case qp.TWITTER:r=Rl;break;default:const{oauthIdToken:i,oauthAccessToken:a,oauthTokenSecret:l,pendingToken:c,nonce:h}=e;return!a&&!l&&!i&&!c?null:c?t.startsWith("saml.")?bd._create(t,c):Fl._fromParams({providerId:t,signInMethod:t,pendingToken:c,idToken:i,accessToken:a}):new fd(t).credential({idToken:i,accessToken:a,rawNonce:h})}return n instanceof na?r.credentialFromError(n):r.credentialFromResult(n)}function xa(n,e){return e.catch(t=>{throw t instanceof na&&JB(n,t),t}).then(t=>{const r=t.operationType,i=t.user;return{operationType:r,credential:XB(t),additionalUserInfo:zF(t),user:l0.getOrCreate(i)}})}async function R_(n,e){const t=await e;return{verificationId:t.verificationId,confirm:r=>xa(n,t.confirm(r))}}class ZB{constructor(e,t){this.resolver=t,this.auth=QB(e)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return xa(rC(this.auth),this.resolver.resolveSignIn(e))}}let l0=class nm{constructor(e){this._delegate=e,this.multiFactor=$F(e)}static getOrCreate(e){return nm.USER_MAP.has(e)||nm.USER_MAP.set(e,new nm(e)),nm.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return xa(this.auth,kN(this._delegate,e))}async linkWithPhoneNumber(e,t){return R_(this.auth,mU(this._delegate,e,t))}async linkWithPopup(e){return xa(this.auth,SU(this._delegate,e,Ec))}async linkWithRedirect(e){return await C_(Jr(this.auth)),kU(this._delegate,e,Ec)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return xa(this.auth,DN(this._delegate,e))}reauthenticateWithPhoneNumber(e,t){return R_(this.auth,gU(this._delegate,e,t))}reauthenticateWithPopup(e){return xa(this.auth,AU(this._delegate,e,Ec))}async reauthenticateWithRedirect(e){return await C_(Jr(this.auth)),PU(this._delegate,e,Ec)}sendEmailVerification(e){return PF(this._delegate,e)}async unlink(e){return await yF(this._delegate,e),this}updateEmail(e){return OF(this._delegate,e)}updatePassword(e){return MF(this._delegate,e)}updatePhoneNumber(e){return yU(this._delegate,e)}updateProfile(e){return DF(this._delegate,e)}verifyBeforeUpdateEmail(e,t){return LF(this._delegate,e,t)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}};l0.USER_MAP=new WeakMap;const $p=it;class P_{constructor(e,t){if(this.app=e,t.isInitialized()){this._delegate=t.getImmediate(),this.linkUnderlyingAuth();return}const{apiKey:r}=e.options;$p(r,"invalid-api-key",{appName:e.name}),$p(r,"invalid-api-key",{appName:e.name});const i=typeof window<"u"?Ec:void 0;this._delegate=t.initialize({options:{persistence:ez(r,e.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(aj),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?l0.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,t){Kj(this._delegate,e,t)}applyActionCode(e){return EF(this._delegate,e)}checkActionCode(e){return ON(this._delegate,e)}confirmPasswordReset(e,t){return wF(this._delegate,e,t)}async createUserWithEmailAndPassword(e,t){return xa(this._delegate,SF(this._delegate,e,t))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return RF(this._delegate,e)}isSignInWithEmailLink(e){return IF(this._delegate,e)}async getRedirectResult(){$p(q2(),this._delegate,"operation-not-supported-in-this-environment");const e=await OU(this._delegate,Ec);return e?xa(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){MB(this._delegate,e)}onAuthStateChanged(e,t,r){const{next:i,error:a,complete:l}=fx(e,t,r);return this._delegate.onAuthStateChanged(i,a,l)}onIdTokenChanged(e,t,r){const{next:i,error:a,complete:l}=fx(e,t,r);return this._delegate.onIdTokenChanged(i,a,l)}sendSignInLinkToEmail(e,t){return xF(this._delegate,e,t)}sendPasswordResetEmail(e,t){return bF(this._delegate,e,t||void 0)}async setPersistence(e){WB(this._delegate,e);let t;switch(e){case $a.SESSION:t=jh;break;case $a.LOCAL:t=await Ka(Vm)._isAvailable()?Vm:J5;break;case $a.NONE:t=_d;break;default:return Ts("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(t)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return xa(this._delegate,gF(this._delegate))}signInWithCredential(e){return xa(this._delegate,n0(this._delegate,e))}signInWithCustomToken(e){return xa(this._delegate,_F(this._delegate,e))}signInWithEmailAndPassword(e,t){return xa(this._delegate,TF(this._delegate,e,t))}signInWithEmailLink(e,t){return xa(this._delegate,NF(this._delegate,e,t))}signInWithPhoneNumber(e,t){return R_(this._delegate,pU(this._delegate,e,t))}async signInWithPopup(e){return $p(q2(),this._delegate,"operation-not-supported-in-this-environment"),xa(this._delegate,EU(this._delegate,e,Ec))}async signInWithRedirect(e){return $p(q2(),this._delegate,"operation-not-supported-in-this-environment"),await C_(this._delegate),CU(this._delegate,e,Ec)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return AF(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}P_.Persistence=$a;function fx(n,e,t){let r=n;typeof n!="function"&&({next:r,error:e,complete:t}=n);const i=r;return{next:l=>i(l&&l0.getOrCreate(l)),error:e,complete:t}}function ez(n,e){const t=KB(n,e);if(typeof self<"u"&&!t.includes(Vm)&&t.push(Vm),typeof window<"u")for(const r of[J5,jh])t.includes(r)||t.push(r);return t.includes(_d)||t.push(_d),t}class ab{static credential(e,t){return Fh.credential(e,t)}constructor(){this.providerId="phone",this._delegate=new Fh(rC(an.auth()))}verifyPhoneNumber(e,t){return this._delegate.verifyPhoneNumber(e,t)}unwrap(){return this._delegate}}ab.PHONE_SIGN_IN_METHOD=Fh.PHONE_SIGN_IN_METHOD;ab.PROVIDER_ID=Fh.PROVIDER_ID;const tz=it;class nz{constructor(e,t,r=an.app()){tz(r.options?.apiKey,"invalid-api-key",{appName:r.name}),this._delegate=new fU(r.auth(),e,t),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}const rz="auth-compat";function iz(n){n.INTERNAL.registerComponent(new jl(rz,e=>{const t=e.getProvider("app-compat").getImmediate(),r=e.getProvider("auth");return new P_(t,r)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:qf.EMAIL_SIGNIN,PASSWORD_RESET:qf.PASSWORD_RESET,RECOVER_EMAIL:qf.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:qf.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:qf.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:qf.VERIFY_EMAIL}},EmailAuthProvider:Gc,FacebookAuthProvider:Il,GithubAuthProvider:Cl,GoogleAuthProvider:Nl,OAuthProvider:fd,SAMLAuthProvider:Ay,PhoneAuthProvider:ab,PhoneMultiFactorGenerator:XN,RecaptchaVerifier:nz,TwitterAuthProvider:Rl,Auth:P_,AuthCredential:Wd,Error:na}).setInstantiationMode("LAZY").setMultipleInstances(!1)),n.registerVersion(VB,jB)}iz(an);var dx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Ic,sC;(function(){var n;function e(z,F){function D(){}D.prototype=F.prototype,z.F=F.prototype,z.prototype=new D,z.prototype.constructor=z,z.D=function(G,I,j){for(var N=Array(arguments.length-2),te=2;te<arguments.length;te++)N[te-2]=arguments[te];return F.prototype[I].apply(G,N)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,t),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(z,F,D){D||(D=0);const G=Array(16);if(typeof F=="string")for(var I=0;I<16;++I)G[I]=F.charCodeAt(D++)|F.charCodeAt(D++)<<8|F.charCodeAt(D++)<<16|F.charCodeAt(D++)<<24;else for(I=0;I<16;++I)G[I]=F[D++]|F[D++]<<8|F[D++]<<16|F[D++]<<24;F=z.g[0],D=z.g[1],I=z.g[2];let j=z.g[3],N;N=F+(j^D&(I^j))+G[0]+3614090360&4294967295,F=D+(N<<7&4294967295|N>>>25),N=j+(I^F&(D^I))+G[1]+3905402710&4294967295,j=F+(N<<12&4294967295|N>>>20),N=I+(D^j&(F^D))+G[2]+606105819&4294967295,I=j+(N<<17&4294967295|N>>>15),N=D+(F^I&(j^F))+G[3]+3250441966&4294967295,D=I+(N<<22&4294967295|N>>>10),N=F+(j^D&(I^j))+G[4]+4118548399&4294967295,F=D+(N<<7&4294967295|N>>>25),N=j+(I^F&(D^I))+G[5]+1200080426&4294967295,j=F+(N<<12&4294967295|N>>>20),N=I+(D^j&(F^D))+G[6]+2821735955&4294967295,I=j+(N<<17&4294967295|N>>>15),N=D+(F^I&(j^F))+G[7]+4249261313&4294967295,D=I+(N<<22&4294967295|N>>>10),N=F+(j^D&(I^j))+G[8]+1770035416&4294967295,F=D+(N<<7&4294967295|N>>>25),N=j+(I^F&(D^I))+G[9]+2336552879&4294967295,j=F+(N<<12&4294967295|N>>>20),N=I+(D^j&(F^D))+G[10]+4294925233&4294967295,I=j+(N<<17&4294967295|N>>>15),N=D+(F^I&(j^F))+G[11]+2304563134&4294967295,D=I+(N<<22&4294967295|N>>>10),N=F+(j^D&(I^j))+G[12]+1804603682&4294967295,F=D+(N<<7&4294967295|N>>>25),N=j+(I^F&(D^I))+G[13]+4254626195&4294967295,j=F+(N<<12&4294967295|N>>>20),N=I+(D^j&(F^D))+G[14]+2792965006&4294967295,I=j+(N<<17&4294967295|N>>>15),N=D+(F^I&(j^F))+G[15]+1236535329&4294967295,D=I+(N<<22&4294967295|N>>>10),N=F+(I^j&(D^I))+G[1]+4129170786&4294967295,F=D+(N<<5&4294967295|N>>>27),N=j+(D^I&(F^D))+G[6]+3225465664&4294967295,j=F+(N<<9&4294967295|N>>>23),N=I+(F^D&(j^F))+G[11]+643717713&4294967295,I=j+(N<<14&4294967295|N>>>18),N=D+(j^F&(I^j))+G[0]+3921069994&4294967295,D=I+(N<<20&4294967295|N>>>12),N=F+(I^j&(D^I))+G[5]+3593408605&4294967295,F=D+(N<<5&4294967295|N>>>27),N=j+(D^I&(F^D))+G[10]+38016083&4294967295,j=F+(N<<9&4294967295|N>>>23),N=I+(F^D&(j^F))+G[15]+3634488961&4294967295,I=j+(N<<14&4294967295|N>>>18),N=D+(j^F&(I^j))+G[4]+3889429448&4294967295,D=I+(N<<20&4294967295|N>>>12),N=F+(I^j&(D^I))+G[9]+568446438&4294967295,F=D+(N<<5&4294967295|N>>>27),N=j+(D^I&(F^D))+G[14]+3275163606&4294967295,j=F+(N<<9&4294967295|N>>>23),N=I+(F^D&(j^F))+G[3]+4107603335&4294967295,I=j+(N<<14&4294967295|N>>>18),N=D+(j^F&(I^j))+G[8]+1163531501&4294967295,D=I+(N<<20&4294967295|N>>>12),N=F+(I^j&(D^I))+G[13]+2850285829&4294967295,F=D+(N<<5&4294967295|N>>>27),N=j+(D^I&(F^D))+G[2]+4243563512&4294967295,j=F+(N<<9&4294967295|N>>>23),N=I+(F^D&(j^F))+G[7]+1735328473&4294967295,I=j+(N<<14&4294967295|N>>>18),N=D+(j^F&(I^j))+G[12]+2368359562&4294967295,D=I+(N<<20&4294967295|N>>>12),N=F+(D^I^j)+G[5]+4294588738&4294967295,F=D+(N<<4&4294967295|N>>>28),N=j+(F^D^I)+G[8]+2272392833&4294967295,j=F+(N<<11&4294967295|N>>>21),N=I+(j^F^D)+G[11]+1839030562&4294967295,I=j+(N<<16&4294967295|N>>>16),N=D+(I^j^F)+G[14]+4259657740&4294967295,D=I+(N<<23&4294967295|N>>>9),N=F+(D^I^j)+G[1]+2763975236&4294967295,F=D+(N<<4&4294967295|N>>>28),N=j+(F^D^I)+G[4]+1272893353&4294967295,j=F+(N<<11&4294967295|N>>>21),N=I+(j^F^D)+G[7]+4139469664&4294967295,I=j+(N<<16&4294967295|N>>>16),N=D+(I^j^F)+G[10]+3200236656&4294967295,D=I+(N<<23&4294967295|N>>>9),N=F+(D^I^j)+G[13]+681279174&4294967295,F=D+(N<<4&4294967295|N>>>28),N=j+(F^D^I)+G[0]+3936430074&4294967295,j=F+(N<<11&4294967295|N>>>21),N=I+(j^F^D)+G[3]+3572445317&4294967295,I=j+(N<<16&4294967295|N>>>16),N=D+(I^j^F)+G[6]+76029189&4294967295,D=I+(N<<23&4294967295|N>>>9),N=F+(D^I^j)+G[9]+3654602809&4294967295,F=D+(N<<4&4294967295|N>>>28),N=j+(F^D^I)+G[12]+3873151461&4294967295,j=F+(N<<11&4294967295|N>>>21),N=I+(j^F^D)+G[15]+530742520&4294967295,I=j+(N<<16&4294967295|N>>>16),N=D+(I^j^F)+G[2]+3299628645&4294967295,D=I+(N<<23&4294967295|N>>>9),N=F+(I^(D|~j))+G[0]+4096336452&4294967295,F=D+(N<<6&4294967295|N>>>26),N=j+(D^(F|~I))+G[7]+1126891415&4294967295,j=F+(N<<10&4294967295|N>>>22),N=I+(F^(j|~D))+G[14]+2878612391&4294967295,I=j+(N<<15&4294967295|N>>>17),N=D+(j^(I|~F))+G[5]+4237533241&4294967295,D=I+(N<<21&4294967295|N>>>11),N=F+(I^(D|~j))+G[12]+1700485571&4294967295,F=D+(N<<6&4294967295|N>>>26),N=j+(D^(F|~I))+G[3]+2399980690&4294967295,j=F+(N<<10&4294967295|N>>>22),N=I+(F^(j|~D))+G[10]+4293915773&4294967295,I=j+(N<<15&4294967295|N>>>17),N=D+(j^(I|~F))+G[1]+2240044497&4294967295,D=I+(N<<21&4294967295|N>>>11),N=F+(I^(D|~j))+G[8]+1873313359&4294967295,F=D+(N<<6&4294967295|N>>>26),N=j+(D^(F|~I))+G[15]+4264355552&4294967295,j=F+(N<<10&4294967295|N>>>22),N=I+(F^(j|~D))+G[6]+2734768916&4294967295,I=j+(N<<15&4294967295|N>>>17),N=D+(j^(I|~F))+G[13]+1309151649&4294967295,D=I+(N<<21&4294967295|N>>>11),N=F+(I^(D|~j))+G[4]+4149444226&4294967295,F=D+(N<<6&4294967295|N>>>26),N=j+(D^(F|~I))+G[11]+3174756917&4294967295,j=F+(N<<10&4294967295|N>>>22),N=I+(F^(j|~D))+G[2]+718787259&4294967295,I=j+(N<<15&4294967295|N>>>17),N=D+(j^(I|~F))+G[9]+3951481745&4294967295,z.g[0]=z.g[0]+F&4294967295,z.g[1]=z.g[1]+(I+(N<<21&4294967295|N>>>11))&4294967295,z.g[2]=z.g[2]+I&4294967295,z.g[3]=z.g[3]+j&4294967295}r.prototype.v=function(z,F){F===void 0&&(F=z.length);const D=F-this.blockSize,G=this.C;let I=this.h,j=0;for(;j<F;){if(I==0)for(;j<=D;)i(this,z,j),j+=this.blockSize;if(typeof z=="string"){for(;j<F;)if(G[I++]=z.charCodeAt(j++),I==this.blockSize){i(this,G),I=0;break}}else for(;j<F;)if(G[I++]=z[j++],I==this.blockSize){i(this,G),I=0;break}}this.h=I,this.o+=F},r.prototype.A=function(){var z=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);z[0]=128;for(var F=1;F<z.length-8;++F)z[F]=0;F=this.o*8;for(var D=z.length-8;D<z.length;++D)z[D]=F&255,F/=256;for(this.v(z),z=Array(16),F=0,D=0;D<4;++D)for(let G=0;G<32;G+=8)z[F++]=this.g[D]>>>G&255;return z};function a(z,F){var D=c;return Object.prototype.hasOwnProperty.call(D,z)?D[z]:D[z]=F(z)}function l(z,F){this.h=F;const D=[];let G=!0;for(let I=z.length-1;I>=0;I--){const j=z[I]|0;G&&j==F||(D[I]=j,G=!1)}this.g=D}var c={};function h(z){return-128<=z&&z<128?a(z,function(F){return new l([F|0],F<0?-1:0)}):new l([z|0],z<0?-1:0)}function f(z){if(isNaN(z)||!isFinite(z))return v;if(z<0)return M(f(-z));const F=[];let D=1;for(let G=0;z>=D;G++)F[G]=z/D|0,D*=4294967296;return new l(F,0)}function p(z,F){if(z.length==0)throw Error("number format error: empty string");if(F=F||10,F<2||36<F)throw Error("radix out of range: "+F);if(z.charAt(0)=="-")return M(p(z.substring(1),F));if(z.indexOf("-")>=0)throw Error('number format error: interior "-" character');const D=f(Math.pow(F,8));let G=v;for(let j=0;j<z.length;j+=8){var I=Math.min(8,z.length-j);const N=parseInt(z.substring(j,j+I),F);I<8?(I=f(Math.pow(F,I)),G=G.j(I).add(f(N))):(G=G.j(D),G=G.add(f(N)))}return G}var v=h(0),E=h(1),b=h(16777216);n=l.prototype,n.m=function(){if(P(this))return-M(this).m();let z=0,F=1;for(let D=0;D<this.g.length;D++){const G=this.i(D);z+=(G>=0?G:4294967296+G)*F,F*=4294967296}return z},n.toString=function(z){if(z=z||10,z<2||36<z)throw Error("radix out of range: "+z);if(R(this))return"0";if(P(this))return"-"+M(this).toString(z);const F=f(Math.pow(z,6));var D=this;let G="";for(;;){const I=ee(D,F).g;D=k(D,I.j(F));let j=((D.g.length>0?D.g[0]:D.h)>>>0).toString(z);if(D=I,R(D))return j+G;for(;j.length<6;)j="0"+j;G=j+G}},n.i=function(z){return z<0?0:z<this.g.length?this.g[z]:this.h};function R(z){if(z.h!=0)return!1;for(let F=0;F<z.g.length;F++)if(z.g[F]!=0)return!1;return!0}function P(z){return z.h==-1}n.l=function(z){return z=k(this,z),P(z)?-1:R(z)?0:1};function M(z){const F=z.g.length,D=[];for(let G=0;G<F;G++)D[G]=~z.g[G];return new l(D,~z.h).add(E)}n.abs=function(){return P(this)?M(this):this},n.add=function(z){const F=Math.max(this.g.length,z.g.length),D=[];let G=0;for(let I=0;I<=F;I++){let j=G+(this.i(I)&65535)+(z.i(I)&65535),N=(j>>>16)+(this.i(I)>>>16)+(z.i(I)>>>16);G=N>>>16,j&=65535,N&=65535,D[I]=N<<16|j}return new l(D,D[D.length-1]&-2147483648?-1:0)};function k(z,F){return z.add(M(F))}n.j=function(z){if(R(this)||R(z))return v;if(P(this))return P(z)?M(this).j(M(z)):M(M(this).j(z));if(P(z))return M(this.j(M(z)));if(this.l(b)<0&&z.l(b)<0)return f(this.m()*z.m());const F=this.g.length+z.g.length,D=[];for(var G=0;G<2*F;G++)D[G]=0;for(G=0;G<this.g.length;G++)for(let I=0;I<z.g.length;I++){const j=this.i(G)>>>16,N=this.i(G)&65535,te=z.i(I)>>>16,fe=z.i(I)&65535;D[2*G+2*I]+=N*fe,K(D,2*G+2*I),D[2*G+2*I+1]+=j*fe,K(D,2*G+2*I+1),D[2*G+2*I+1]+=N*te,K(D,2*G+2*I+1),D[2*G+2*I+2]+=j*te,K(D,2*G+2*I+2)}for(z=0;z<F;z++)D[z]=D[2*z+1]<<16|D[2*z];for(z=F;z<2*F;z++)D[z]=0;return new l(D,0)};function K(z,F){for(;(z[F]&65535)!=z[F];)z[F+1]+=z[F]>>>16,z[F]&=65535,F++}function $(z,F){this.g=z,this.h=F}function ee(z,F){if(R(F))throw Error("division by zero");if(R(z))return new $(v,v);if(P(z))return F=ee(M(z),F),new $(M(F.g),M(F.h));if(P(F))return F=ee(z,M(F)),new $(M(F.g),F.h);if(z.g.length>30){if(P(z)||P(F))throw Error("slowDivide_ only works with positive integers.");for(var D=E,G=F;G.l(z)<=0;)D=ye(D),G=ye(G);var I=ve(D,1),j=ve(G,1);for(G=ve(G,2),D=ve(D,2);!R(G);){var N=j.add(G);N.l(z)<=0&&(I=I.add(D),j=N),G=ve(G,1),D=ve(D,1)}return F=k(z,I.j(F)),new $(I,F)}for(I=v;z.l(F)>=0;){for(D=Math.max(1,Math.floor(z.m()/F.m())),G=Math.ceil(Math.log(D)/Math.LN2),G=G<=48?1:Math.pow(2,G-48),j=f(D),N=j.j(F);P(N)||N.l(z)>0;)D-=G,j=f(D),N=j.j(F);R(j)&&(j=E),I=I.add(j),z=k(z,N)}return new $(I,z)}n.B=function(z){return ee(this,z).h},n.and=function(z){const F=Math.max(this.g.length,z.g.length),D=[];for(let G=0;G<F;G++)D[G]=this.i(G)&z.i(G);return new l(D,this.h&z.h)},n.or=function(z){const F=Math.max(this.g.length,z.g.length),D=[];for(let G=0;G<F;G++)D[G]=this.i(G)|z.i(G);return new l(D,this.h|z.h)},n.xor=function(z){const F=Math.max(this.g.length,z.g.length),D=[];for(let G=0;G<F;G++)D[G]=this.i(G)^z.i(G);return new l(D,this.h^z.h)};function ye(z){const F=z.g.length+1,D=[];for(let G=0;G<F;G++)D[G]=z.i(G)<<1|z.i(G-1)>>>31;return new l(D,z.h)}function ve(z,F){const D=F>>5;F%=32;const G=z.g.length-D,I=[];for(let j=0;j<G;j++)I[j]=F>0?z.i(j+D)>>>F|z.i(j+D+1)<<32-F:z.i(j+D);return new l(I,z.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,sC=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.B,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=f,l.fromString=p,Ic=l}).apply(typeof dx<"u"?dx:typeof self<"u"?self:typeof window<"u"?window:{});var k1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var aC,rm,oC,Z1,L_,lC,uC,cC;(function(){var n,e=Object.defineProperty;function t(g){g=[typeof globalThis=="object"&&globalThis,g,typeof window=="object"&&window,typeof self=="object"&&self,typeof k1=="object"&&k1];for(var T=0;T<g.length;++T){var L=g[T];if(L&&L.Math==Math)return L}throw Error("Cannot find global object")}var r=t(this);function i(g,T){if(T)e:{var L=r;g=g.split(".");for(var X=0;X<g.length-1;X++){var Ie=g[X];if(!(Ie in L))break e;L=L[Ie]}g=g[g.length-1],X=L[g],T=T(X),T!=X&&T!=null&&e(L,g,{configurable:!0,writable:!0,value:T})}}i("Symbol.dispose",function(g){return g||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(g){return g||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(g){return g||function(T){var L=[],X;for(X in T)Object.prototype.hasOwnProperty.call(T,X)&&L.push([X,T[X]]);return L}});var a=a||{},l=this||self;function c(g){var T=typeof g;return T=="object"&&g!=null||T=="function"}function h(g,T,L){return g.call.apply(g.bind,arguments)}function f(g,T,L){return f=h,f.apply(null,arguments)}function p(g,T){var L=Array.prototype.slice.call(arguments,1);return function(){var X=L.slice();return X.push.apply(X,arguments),g.apply(this,X)}}function v(g,T){function L(){}L.prototype=T.prototype,g.Z=T.prototype,g.prototype=new L,g.prototype.constructor=g,g.Ob=function(X,Ie,Me){for(var st=Array(arguments.length-2),en=2;en<arguments.length;en++)st[en-2]=arguments[en];return T.prototype[Ie].apply(X,st)}}var E=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?g=>g&&AsyncContext.Snapshot.wrap(g):g=>g;function b(g){const T=g.length;if(T>0){const L=Array(T);for(let X=0;X<T;X++)L[X]=g[X];return L}return[]}function R(g,T){for(let X=1;X<arguments.length;X++){const Ie=arguments[X];var L=typeof Ie;if(L=L!="object"?L:Ie?Array.isArray(Ie)?"array":L:"null",L=="array"||L=="object"&&typeof Ie.length=="number"){L=g.length||0;const Me=Ie.length||0;g.length=L+Me;for(let st=0;st<Me;st++)g[L+st]=Ie[st]}else g.push(Ie)}}class P{constructor(T,L){this.i=T,this.j=L,this.h=0,this.g=null}get(){let T;return this.h>0?(this.h--,T=this.g,this.g=T.next,T.next=null):T=this.i(),T}}function M(g){l.setTimeout(()=>{throw g},0)}function k(){var g=z;let T=null;return g.g&&(T=g.g,g.g=g.g.next,g.g||(g.h=null),T.next=null),T}class K{constructor(){this.h=this.g=null}add(T,L){const X=$.get();X.set(T,L),this.h?this.h.next=X:this.g=X,this.h=X}}var $=new P(()=>new ee,g=>g.reset());class ee{constructor(){this.next=this.g=this.h=null}set(T,L){this.h=T,this.g=L,this.next=null}reset(){this.next=this.g=this.h=null}}let ye,ve=!1,z=new K,F=()=>{const g=Promise.resolve(void 0);ye=()=>{g.then(D)}};function D(){for(var g;g=k();){try{g.h.call(g.g)}catch(L){M(L)}var T=$;T.j(g),T.h<100&&(T.h++,g.next=T.g,T.g=g)}ve=!1}function G(){this.u=this.u,this.C=this.C}G.prototype.u=!1,G.prototype.dispose=function(){this.u||(this.u=!0,this.N())},G.prototype[Symbol.dispose]=function(){this.dispose()},G.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function I(g,T){this.type=g,this.g=this.target=T,this.defaultPrevented=!1}I.prototype.h=function(){this.defaultPrevented=!0};var j=(function(){if(!l.addEventListener||!Object.defineProperty)return!1;var g=!1,T=Object.defineProperty({},"passive",{get:function(){g=!0}});try{const L=()=>{};l.addEventListener("test",L,T),l.removeEventListener("test",L,T)}catch{}return g})();function N(g){return/^[\s\xa0]*$/.test(g)}function te(g,T){I.call(this,g?g.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,g&&this.init(g,T)}v(te,I),te.prototype.init=function(g,T){const L=this.type=g.type,X=g.changedTouches&&g.changedTouches.length?g.changedTouches[0]:null;this.target=g.target||g.srcElement,this.g=T,T=g.relatedTarget,T||(L=="mouseover"?T=g.fromElement:L=="mouseout"&&(T=g.toElement)),this.relatedTarget=T,X?(this.clientX=X.clientX!==void 0?X.clientX:X.pageX,this.clientY=X.clientY!==void 0?X.clientY:X.pageY,this.screenX=X.screenX||0,this.screenY=X.screenY||0):(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0),this.button=g.button,this.key=g.key||"",this.ctrlKey=g.ctrlKey,this.altKey=g.altKey,this.shiftKey=g.shiftKey,this.metaKey=g.metaKey,this.pointerId=g.pointerId||0,this.pointerType=g.pointerType,this.state=g.state,this.i=g,g.defaultPrevented&&te.Z.h.call(this)},te.prototype.h=function(){te.Z.h.call(this);const g=this.i;g.preventDefault?g.preventDefault():g.returnValue=!1};var fe="closure_listenable_"+(Math.random()*1e6|0),re=0;function ue(g,T,L,X,Ie){this.listener=g,this.proxy=null,this.src=T,this.type=L,this.capture=!!X,this.ha=Ie,this.key=++re,this.da=this.fa=!1}function pe(g){g.da=!0,g.listener=null,g.proxy=null,g.src=null,g.ha=null}function xe(g,T,L){for(const X in g)T.call(L,g[X],X,g)}function Be(g,T){for(const L in g)T.call(void 0,g[L],L,g)}function J(g){const T={};for(const L in g)T[L]=g[L];return T}const O="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Y(g,T){let L,X;for(let Ie=1;Ie<arguments.length;Ie++){X=arguments[Ie];for(L in X)g[L]=X[L];for(let Me=0;Me<O.length;Me++)L=O[Me],Object.prototype.hasOwnProperty.call(X,L)&&(g[L]=X[L])}}function ne(g){this.src=g,this.g={},this.h=0}ne.prototype.add=function(g,T,L,X,Ie){const Me=g.toString();g=this.g[Me],g||(g=this.g[Me]=[],this.h++);const st=he(g,T,X,Ie);return st>-1?(T=g[st],L||(T.fa=!1)):(T=new ue(T,this.src,Me,!!X,Ie),T.fa=L,g.push(T)),T};function le(g,T){const L=T.type;if(L in g.g){var X=g.g[L],Ie=Array.prototype.indexOf.call(X,T,void 0),Me;(Me=Ie>=0)&&Array.prototype.splice.call(X,Ie,1),Me&&(pe(T),g.g[L].length==0&&(delete g.g[L],g.h--))}}function he(g,T,L,X){for(let Ie=0;Ie<g.length;++Ie){const Me=g[Ie];if(!Me.da&&Me.listener==T&&Me.capture==!!L&&Me.ha==X)return Ie}return-1}var we="closure_lm_"+(Math.random()*1e6|0),Oe={};function Pe(g,T,L,X,Ie){if(Array.isArray(T)){for(let Me=0;Me<T.length;Me++)Pe(g,T[Me],L,X,Ie);return null}return L=Rt(L),g&&g[fe]?g.J(T,L,c(X)?!!X.capture:!1,Ie):ze(g,T,L,!1,X,Ie)}function ze(g,T,L,X,Ie,Me){if(!T)throw Error("Invalid event type");const st=c(Ie)?!!Ie.capture:!!Ie;let en=at(g);if(en||(g[we]=en=new ne(g)),L=en.add(T,L,X,st,Me),L.proxy)return L;if(X=Ze(),L.proxy=X,X.src=g,X.listener=L,g.addEventListener)j||(Ie=st),Ie===void 0&&(Ie=!1),g.addEventListener(T.toString(),X,Ie);else if(g.attachEvent)g.attachEvent(_t(T.toString()),X);else if(g.addListener&&g.removeListener)g.addListener(X);else throw Error("addEventListener and attachEvent are unavailable.");return L}function Ze(){function g(L){return T.call(g.src,g.listener,L)}const T=ie;return g}function ot(g,T,L,X,Ie){if(Array.isArray(T))for(var Me=0;Me<T.length;Me++)ot(g,T[Me],L,X,Ie);else X=c(X)?!!X.capture:!!X,L=Rt(L),g&&g[fe]?(g=g.i,Me=String(T).toString(),Me in g.g&&(T=g.g[Me],L=he(T,L,X,Ie),L>-1&&(pe(T[L]),Array.prototype.splice.call(T,L,1),T.length==0&&(delete g.g[Me],g.h--)))):g&&(g=at(g))&&(T=g.g[T.toString()],g=-1,T&&(g=he(T,L,X,Ie)),(L=g>-1?T[g]:null)&&ct(L))}function ct(g){if(typeof g!="number"&&g&&!g.da){var T=g.src;if(T&&T[fe])le(T.i,g);else{var L=g.type,X=g.proxy;T.removeEventListener?T.removeEventListener(L,X,g.capture):T.detachEvent?T.detachEvent(_t(L),X):T.addListener&&T.removeListener&&T.removeListener(X),(L=at(T))?(le(L,g),L.h==0&&(L.src=null,T[we]=null)):pe(g)}}}function _t(g){return g in Oe?Oe[g]:Oe[g]="on"+g}function ie(g,T){if(g.da)g=!0;else{T=new te(T,this);const L=g.listener,X=g.ha||g.src;g.fa&&ct(g),g=L.call(X,T)}return g}function at(g){return g=g[we],g instanceof ne?g:null}var Xt="__closure_events_fn_"+(Math.random()*1e9>>>0);function Rt(g){return typeof g=="function"?g:(g[Xt]||(g[Xt]=function(T){return g.handleEvent(T)}),g[Xt])}function Ae(){G.call(this),this.i=new ne(this),this.M=this,this.G=null}v(Ae,G),Ae.prototype[fe]=!0,Ae.prototype.removeEventListener=function(g,T,L,X){ot(this,g,T,L,X)};function pt(g,T){var L,X=g.G;if(X)for(L=[];X;X=X.G)L.push(X);if(g=g.M,X=T.type||T,typeof T=="string")T=new I(T,g);else if(T instanceof I)T.target=T.target||g;else{var Ie=T;T=new I(X,g),Y(T,Ie)}Ie=!0;let Me,st;if(L)for(st=L.length-1;st>=0;st--)Me=T.g=L[st],Ie=dt(Me,X,!0,T)&&Ie;if(Me=T.g=g,Ie=dt(Me,X,!0,T)&&Ie,Ie=dt(Me,X,!1,T)&&Ie,L)for(st=0;st<L.length;st++)Me=T.g=L[st],Ie=dt(Me,X,!1,T)&&Ie}Ae.prototype.N=function(){if(Ae.Z.N.call(this),this.i){var g=this.i;for(const T in g.g){const L=g.g[T];for(let X=0;X<L.length;X++)pe(L[X]);delete g.g[T],g.h--}}this.G=null},Ae.prototype.J=function(g,T,L,X){return this.i.add(String(g),T,!1,L,X)},Ae.prototype.K=function(g,T,L,X){return this.i.add(String(g),T,!0,L,X)};function dt(g,T,L,X){if(T=g.i.g[String(T)],!T)return!0;T=T.concat();let Ie=!0;for(let Me=0;Me<T.length;++Me){const st=T[Me];if(st&&!st.da&&st.capture==L){const en=st.listener,dr=st.ha||st.src;st.fa&&le(g.i,st),Ie=en.call(dr,X)!==!1&&Ie}}return Ie&&!X.defaultPrevented}function Vt(g,T){if(typeof g!="function")if(g&&typeof g.handleEvent=="function")g=f(g.handleEvent,g);else throw Error("Invalid listener argument");return Number(T)>2147483647?-1:l.setTimeout(g,T||0)}function Pt(g){g.g=Vt(()=>{g.g=null,g.i&&(g.i=!1,Pt(g))},g.l);const T=g.h;g.h=null,g.m.apply(null,T)}class Jt extends G{constructor(T,L){super(),this.m=T,this.l=L,this.h=null,this.i=!1,this.g=null}j(T){this.h=arguments,this.g?this.i=!0:Pt(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function tn(g){G.call(this),this.h=g,this.g={}}v(tn,G);var Kt=[];function fn(g){xe(g.g,function(T,L){this.g.hasOwnProperty(L)&&ct(T)},g),g.g={}}tn.prototype.N=function(){tn.Z.N.call(this),fn(this)},tn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var nn=l.JSON.stringify,wt=l.JSON.parse,Qt=class{stringify(g){return l.JSON.stringify(g,void 0)}parse(g){return l.JSON.parse(g,void 0)}};function Et(){}function rr(){}var rn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Dt(){I.call(this,"d")}v(Dt,I);function zt(){I.call(this,"c")}v(zt,I);var Zt={},St=null;function Ln(){return St=St||new Ae}Zt.Ia="serverreachability";function Ft(g){I.call(this,Zt.Ia,g)}v(Ft,I);function ge(g){const T=Ln();pt(T,new Ft(T))}Zt.STAT_EVENT="statevent";function qe(g,T){I.call(this,Zt.STAT_EVENT,g),this.stat=T}v(qe,I);function Ue(g){const T=Ln();pt(T,new qe(T,g))}Zt.Ja="timingevent";function Ke(g,T){I.call(this,Zt.Ja,g),this.size=T}v(Ke,I);function ht(g,T){if(typeof g!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){g()},T)}function Ot(){this.g=!0}Ot.prototype.ua=function(){this.g=!1};function pn(g,T,L,X,Ie,Me){g.info(function(){if(g.g)if(Me){var st="",en=Me.split("&");for(let yn=0;yn<en.length;yn++){var dr=en[yn].split("=");if(dr.length>1){const $n=dr[0];dr=dr[1];const xi=$n.split("_");st=xi.length>=2&&xi[1]=="type"?st+($n+"="+dr+"&"):st+($n+"=redacted&")}}}else st=null;else st=Me;return"XMLHTTP REQ ("+X+") [attempt "+Ie+"]: "+T+`
`+L+`
`+st})}function Un(g,T,L,X,Ie,Me,st){g.info(function(){return"XMLHTTP RESP ("+X+") [ attempt "+Ie+"]: "+T+`
`+L+`
`+Me+" "+st})}function On(g,T,L,X){g.info(function(){return"XMLHTTP TEXT ("+T+"): "+fi(g,L)+(X?" "+X:"")})}function mt(g,T){g.info(function(){return"TIMEOUT: "+T})}Ot.prototype.info=function(){};function fi(g,T){if(!g.g)return T;if(!T)return null;try{const Me=JSON.parse(T);if(Me){for(g=0;g<Me.length;g++)if(Array.isArray(Me[g])){var L=Me[g];if(!(L.length<2)){var X=L[1];if(Array.isArray(X)&&!(X.length<1)){var Ie=X[0];if(Ie!="noop"&&Ie!="stop"&&Ie!="close")for(let st=1;st<X.length;st++)X[st]=""}}}}return nn(Me)}catch{return T}}var bn={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Qn={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},xr;function Bn(){}v(Bn,Et),Bn.prototype.g=function(){return new XMLHttpRequest},xr=new Bn;function er(g){return encodeURIComponent(String(g))}function Zr(g){var T=1;g=g.split(":");const L=[];for(;T>0&&g.length;)L.push(g.shift()),T--;return g.length&&L.push(g.join(":")),L}function ki(g,T,L,X){this.j=g,this.i=T,this.l=L,this.S=X||1,this.V=new tn(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Ai}function Ai(){this.i=null,this.g="",this.h=!1}var Hn={},ir={};function ei(g,T,L){g.M=1,g.A=Ja(Dr(T)),g.u=L,g.R=!0,Ki(g,null)}function Ki(g,T){g.F=Date.now(),Yi(g),g.B=Dr(g.A);var L=g.B,X=g.S;Array.isArray(X)||(X=[String(X)]),il(L.i,"t",X),g.C=0,L=g.j.L,g.h=new Ai,g.g=bt(g.j,L?T:null,!g.u),g.P>0&&(g.O=new Jt(f(g.Y,g,g.g),g.P)),T=g.V,L=g.g,X=g.ba;var Ie="readystatechange";Array.isArray(Ie)||(Ie&&(Kt[0]=Ie.toString()),Ie=Kt);for(let Me=0;Me<Ie.length;Me++){const st=Pe(L,Ie[Me],X||T.handleEvent,!1,T.h||T);if(!st)break;T.g[st.key]=st}T=g.J?J(g.J):{},g.u?(g.v||(g.v="POST"),T["Content-Type"]="application/x-www-form-urlencoded",g.g.ea(g.B,g.v,g.u,T)):(g.v="GET",g.g.ea(g.B,g.v,null,T)),ge(),pn(g.i,g.v,g.B,g.l,g.S,g.u)}ki.prototype.ba=function(g){g=g.target;const T=this.O;T&&ps(g)==3?T.j():this.Y(g)},ki.prototype.Y=function(g){try{if(g==this.g)e:{const en=ps(this.g),dr=this.g.ya(),yn=this.g.ca();if(!(en<3)&&(en!=3||this.g&&(this.h.h||this.g.la()||$r(this.g)))){this.K||en!=4||dr==7||(dr==8||yn<=0?ge(3):ge(2)),us(this);var T=this.g.ca();this.X=T;var L=xs(this);if(this.o=T==200,Un(this.i,this.v,this.B,this.l,this.S,en,T),this.o){if(this.U&&!this.L){t:{if(this.g){var X,Ie=this.g;if((X=Ie.g?Ie.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(X)){var Me=X;break t}}Me=null}if(g=Me)On(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Is(this,g);else{this.o=!1,this.m=3,Ue(12),cs(this),Di(this);break e}}if(this.R){g=!0;let $n;for(;!this.K&&this.C<L.length;)if($n=Hs(this,L),$n==ir){en==4&&(this.m=4,Ue(14),g=!1),On(this.i,this.l,null,"[Incomplete Response]");break}else if($n==Hn){this.m=4,Ue(15),On(this.i,this.l,L,"[Invalid Chunk]"),g=!1;break}else On(this.i,this.l,$n,null),Is(this,$n);if(Xa(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),en!=4||L.length!=0||this.h.h||(this.m=1,Ue(16),g=!1),this.o=this.o&&g,!g)On(this.i,this.l,L,"[Invalid Chunked Response]"),cs(this),Di(this);else if(L.length>0&&!this.W){this.W=!0;var st=this.j;st.g==this&&st.aa&&!st.P&&(st.j.info("Great, no buffering proxy detected. Bytes received: "+L.length),ll(st),st.P=!0,Ue(11))}}else On(this.i,this.l,L,null),Is(this,L);en==4&&cs(this),this.o&&!this.K&&(en==4?ae(this.j,this):(this.o=!1,Yi(this)))}else aa(this.g),T==400&&L.indexOf("Unknown SID")>0?(this.m=3,Ue(12)):(this.m=0,Ue(13)),cs(this),Di(this)}}}catch{}finally{}};function xs(g){if(!Xa(g))return g.g.la();const T=$r(g.g);if(T==="")return"";let L="";const X=T.length,Ie=ps(g.g)==4;if(!g.h.i){if(typeof TextDecoder>"u")return cs(g),Di(g),"";g.h.i=new l.TextDecoder}for(let Me=0;Me<X;Me++)g.h.h=!0,L+=g.h.i.decode(T[Me],{stream:!(Ie&&Me==X-1)});return T.length=0,g.h.g+=L,g.C=0,g.h.g}function Xa(g){return g.g?g.v=="GET"&&g.M!=2&&g.j.Aa:!1}function Hs(g,T){var L=g.C,X=T.indexOf(`
`,L);return X==-1?ir:(L=Number(T.substring(L,X)),isNaN(L)?Hn:(X+=1,X+L>T.length?ir:(T=T.slice(X,X+L),g.C=X+L,T)))}ki.prototype.cancel=function(){this.K=!0,cs(this)};function Yi(g){g.T=Date.now()+g.H,Pa(g,g.H)}function Pa(g,T){if(g.D!=null)throw Error("WatchDog timer not null");g.D=ht(f(g.aa,g),T)}function us(g){g.D&&(l.clearTimeout(g.D),g.D=null)}ki.prototype.aa=function(){this.D=null;const g=Date.now();g-this.T>=0?(mt(this.i,this.B),this.M!=2&&(ge(),Ue(17)),cs(this),this.m=2,Di(this)):Pa(this,this.T-g)};function Di(g){g.j.I==0||g.K||ae(g.j,g)}function cs(g){us(g);var T=g.O;T&&typeof T.dispose=="function"&&T.dispose(),g.O=null,fn(g.V),g.g&&(T=g.g,g.g=null,T.abort(),T.dispose())}function Is(g,T){try{var L=g.j;if(L.I!=0&&(L.g==g||Gs(L.h,g))){if(!g.L&&Gs(L.h,g)&&L.I==3){try{var X=L.Ba.g.parse(T)}catch{X=null}if(Array.isArray(X)&&X.length==3){var Ie=X;if(Ie[0]==0){e:if(!L.v){if(L.g)if(L.g.F+3e3<g.F)U(L),la(L);else break e;Ks(L),Ue(18)}}else L.xa=Ie[1],0<L.xa-L.K&&Ie[2]<37500&&L.F&&L.A==0&&!L.C&&(L.C=ht(f(L.Va,L),6e3));Ns(L.h)<=1&&L.ta&&(L.ta=void 0)}else Se(L,11)}else if((g.L||L.g==g)&&U(L),!N(T))for(Ie=L.Ba.g.parse(T),T=0;T<Ie.length;T++){let yn=Ie[T];const $n=yn[0];if(!($n<=L.K))if(L.K=$n,yn=yn[1],L.I==2)if(yn[0]=="c"){L.M=yn[1],L.ba=yn[2];const xi=yn[3];xi!=null&&(L.ka=xi,L.j.info("VER="+L.ka));const Mi=yn[4];Mi!=null&&(L.za=Mi,L.j.info("SVER="+L.za));const sr=yn[5];sr!=null&&typeof sr=="number"&&sr>0&&(X=1.5*sr,L.O=X,L.j.info("backChannelRequestTimeoutMs_="+X)),X=L;const Vi=g.g;if(Vi){const Ys=Vi.g?Vi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ys){var Me=X.h;Me.g||Ys.indexOf("spdy")==-1&&Ys.indexOf("quic")==-1&&Ys.indexOf("h2")==-1||(Me.j=Me.l,Me.g=new Set,Me.h&&(Ao(Me,Me.h),Me.h=null))}if(X.G){const ro=Vi.g?Vi.g.getResponseHeader("X-HTTP-Session-Id"):null;ro&&(X.wa=ro,Nn(X.J,X.G,ro))}}L.I=3,L.l&&L.l.ra(),L.aa&&(L.T=Date.now()-g.F,L.j.info("Handshake RTT: "+L.T+"ms")),X=L;var st=g;if(X.na=et(X,X.L?X.ba:null,X.W),st.L){nl(X.h,st);var en=st,dr=X.O;dr&&(en.H=dr),en.D&&(us(en),Yi(en)),X.g=st}else Yl(X);L.i.length>0&&Rs(L)}else yn[0]!="stop"&&yn[0]!="close"||Se(L,7);else L.I==3&&(yn[0]=="stop"||yn[0]=="close"?yn[0]=="stop"?Se(L,7):no(L):yn[0]!="noop"&&L.l&&L.l.qa(yn),L.A=0)}}ge(4)}catch{}}var Ir=class{constructor(g,T){this.g=g,this.map=T}};function tl(g){this.l=g||10,l.PerformanceNavigationTiming?(g=l.performance.getEntriesByType("navigation"),g=g.length>0&&(g[0].nextHopProtocol=="hq"||g[0].nextHopProtocol=="h2")):g=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=g?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Qi(g){return g.h?!0:g.g?g.g.size>=g.j:!1}function Ns(g){return g.h?1:g.g?g.g.size:0}function Gs(g,T){return g.h?g.h==T:g.g?g.g.has(T):!1}function Ao(g,T){g.g?g.g.add(T):g.h=T}function nl(g,T){g.h&&g.h==T?g.h=null:g.g&&g.g.has(T)&&g.g.delete(T)}tl.prototype.cancel=function(){if(this.i=rl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const g of this.g.values())g.cancel();this.g.clear()}};function rl(g){if(g.h!=null)return g.i.concat(g.h.G);if(g.g!=null&&g.g.size!==0){let T=g.i;for(const L of g.g.values())T=T.concat(L.G);return T}return b(g.i)}var ql=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function hs(g,T){if(g){g=g.split("&");for(let L=0;L<g.length;L++){const X=g[L].indexOf("=");let Ie,Me=null;X>=0?(Ie=g[L].substring(0,X),Me=g[L].substring(X+1)):Ie=g[L],T(Ie,Me?decodeURIComponent(Me.replace(/\+/g," ")):"")}}}function Si(g){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let T;g instanceof Si?(this.l=g.l,_n(this,g.j),this.o=g.o,this.g=g.g,La(this,g.u),this.h=g.h,Cs(this,sl(g.i)),this.m=g.m):g&&(T=String(g).match(ql))?(this.l=!1,_n(this,T[1]||"",!0),this.o=Gr(T[2]||""),this.g=Gr(T[3]||"",!0),La(this,T[4]),this.h=Gr(T[5]||"",!0),Cs(this,T[6]||"",!0),this.m=Gr(T[7]||"")):(this.l=!1,this.i=new ka(null,this.l))}Si.prototype.toString=function(){const g=[];var T=this.j;T&&g.push(_r(T,So,!0),":");var L=this.g;return(L||T=="file")&&(g.push("//"),(T=this.o)&&g.push(_r(T,So,!0),"@"),g.push(er(L).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),L=this.u,L!=null&&g.push(":",String(L))),(L=this.h)&&(this.g&&L.charAt(0)!="/"&&g.push("/"),g.push(_r(L,L.charAt(0)=="/"?Hl:Vu,!0))),(L=this.i.toString())&&g.push("?",L),(L=this.m)&&g.push("#",_r(L,Gl)),g.join("")},Si.prototype.resolve=function(g){const T=Dr(this);let L=!!g.j;L?_n(T,g.j):L=!!g.o,L?T.o=g.o:L=!!g.g,L?T.g=g.g:L=g.u!=null;var X=g.h;if(L)La(T,g.u);else if(L=!!g.h){if(X.charAt(0)!="/")if(this.g&&!this.h)X="/"+X;else{var Ie=T.h.lastIndexOf("/");Ie!=-1&&(X=T.h.slice(0,Ie+1)+X)}if(Ie=X,Ie==".."||Ie==".")X="";else if(Ie.indexOf("./")!=-1||Ie.indexOf("/.")!=-1){X=Ie.lastIndexOf("/",0)==0,Ie=Ie.split("/");const Me=[];for(let st=0;st<Ie.length;){const en=Ie[st++];en=="."?X&&st==Ie.length&&Me.push(""):en==".."?((Me.length>1||Me.length==1&&Me[0]!="")&&Me.pop(),X&&st==Ie.length&&Me.push("")):(Me.push(en),X=!0)}X=Me.join("/")}else X=Ie}return L?T.h=X:L=g.i.toString()!=="",L?Cs(T,sl(g.i)):L=!!g.m,L&&(T.m=g.m),T};function Dr(g){return new Si(g)}function _n(g,T,L){g.j=L?Gr(T,!0):T,g.j&&(g.j=g.j.replace(/:$/,""))}function La(g,T){if(T){if(T=Number(T),isNaN(T)||T<0)throw Error("Bad port number "+T);g.u=T}else g.u=null}function Cs(g,T,L){T instanceof ka?(g.i=T,Xi(g.i,g.l)):(L||(T=_r(T,Oi)),g.i=new ka(T,g.l))}function Nn(g,T,L){g.i.set(T,L)}function Ja(g){return Nn(g,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),g}function Gr(g,T){return g?T?decodeURI(g.replace(/%25/g,"%2525")):decodeURIComponent(g):""}function _r(g,T,L){return typeof g=="string"?(g=encodeURI(g).replace(T,Or),L&&(g=g.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g):null}function Or(g){return g=g.charCodeAt(0),"%"+(g>>4&15).toString(16)+(g&15).toString(16)}var So=/[#\/\?@]/g,Vu=/[#\?:]/g,Hl=/[#\?]/g,Oi=/[#\?@]/g,Gl=/#/g;function ka(g,T){this.h=this.g=null,this.i=g||null,this.j=!!T}function di(g){g.g||(g.g=new Map,g.h=0,g.i&&hs(g.i,function(T,L){g.add(decodeURIComponent(T.replace(/\+/g," ")),L)}))}n=ka.prototype,n.add=function(g,T){di(this),this.i=null,g=Da(this,g);let L=this.g.get(g);return L||this.g.set(g,L=[]),L.push(T),this.h+=1,this};function Za(g,T){di(g),T=Da(g,T),g.g.has(T)&&(g.i=null,g.h-=g.g.get(T).length,g.g.delete(T))}function $l(g,T){return di(g),T=Da(g,T),g.g.has(T)}n.forEach=function(g,T){di(this),this.g.forEach(function(L,X){L.forEach(function(Ie){g.call(T,Ie,X,this)},this)},this)};function Wl(g,T){di(g);let L=[];if(typeof T=="string")$l(g,T)&&(L=L.concat(g.g.get(Da(g,T))));else for(g=Array.from(g.g.values()),T=0;T<g.length;T++)L=L.concat(g[T]);return L}n.set=function(g,T){return di(this),this.i=null,g=Da(this,g),$l(this,g)&&(this.h-=this.g.get(g).length),this.g.set(g,[T]),this.h+=1,this},n.get=function(g,T){return g?(g=Wl(this,g),g.length>0?String(g[0]):T):T};function il(g,T,L){Za(g,T),L.length>0&&(g.i=null,g.g.set(Da(g,T),b(L)),g.h+=L.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const g=[],T=Array.from(this.g.keys());for(let X=0;X<T.length;X++){var L=T[X];const Ie=er(L);L=Wl(this,L);for(let Me=0;Me<L.length;Me++){let st=Ie;L[Me]!==""&&(st+="="+er(L[Me])),g.push(st)}}return this.i=g.join("&")};function sl(g){const T=new ka;return T.i=g.i,g.g&&(T.g=new Map(g.g),T.h=g.h),T}function Da(g,T){return T=String(T),g.j&&(T=T.toLowerCase()),T}function Xi(g,T){T&&!g.j&&(di(g),g.i=null,g.g.forEach(function(L,X){const Ie=X.toLowerCase();X!=Ie&&(Za(this,X),il(this,Ie,L))},g)),g.j=T}function $s(g,T){const L=new Ot;if(l.Image){const X=new Image;X.onload=p(Ji,L,"TestLoadImage: loaded",!0,T,X),X.onerror=p(Ji,L,"TestLoadImage: error",!1,T,X),X.onabort=p(Ji,L,"TestLoadImage: abort",!1,T,X),X.ontimeout=p(Ji,L,"TestLoadImage: timeout",!1,T,X),l.setTimeout(function(){X.ontimeout&&X.ontimeout()},1e4),X.src=g}else T(!1)}function Oa(g,T){const L=new Ot,X=new AbortController,Ie=setTimeout(()=>{X.abort(),Ji(L,"TestPingServer: timeout",!1,T)},1e4);fetch(g,{signal:X.signal}).then(Me=>{clearTimeout(Ie),Me.ok?Ji(L,"TestPingServer: ok",!0,T):Ji(L,"TestPingServer: server error",!1,T)}).catch(()=>{clearTimeout(Ie),Ji(L,"TestPingServer: error",!1,T)})}function Ji(g,T,L,X,Ie){try{Ie&&(Ie.onload=null,Ie.onerror=null,Ie.onabort=null,Ie.ontimeout=null),X(L)}catch{}}function eo(){this.g=new Qt}function Ut(g){this.i=g.Sb||null,this.h=g.ab||!1}v(Ut,Et),Ut.prototype.g=function(){return new To(this.i,this.h)};function To(g,T){Ae.call(this),this.H=g,this.o=T,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}v(To,Ae),n=To.prototype,n.open=function(g,T){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=g,this.D=T,this.readyState=1,pi(this)},n.send=function(g){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const T={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};g&&(T.body=g),(this.H||l).fetch(new Request(this.D,T)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,to(this)),this.readyState=0},n.Pa=function(g){if(this.g&&(this.l=g,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=g.headers,this.readyState=2,pi(this)),this.g&&(this.readyState=3,pi(this),this.g)))if(this.responseType==="arraybuffer")g.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in g){if(this.j=g.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;al(this)}else g.text().then(this.Oa.bind(this),this.ga.bind(this))};function al(g){g.j.read().then(g.Ma.bind(g)).catch(g.ga.bind(g))}n.Ma=function(g){if(this.g){if(this.o&&g.value)this.response.push(g.value);else if(!this.o){var T=g.value?g.value:new Uint8Array(0);(T=this.B.decode(T,{stream:!g.done}))&&(this.response=this.responseText+=T)}g.done?to(this):pi(this),this.readyState==3&&al(this)}},n.Oa=function(g){this.g&&(this.response=this.responseText=g,to(this))},n.Na=function(g){this.g&&(this.response=g,to(this))},n.ga=function(){this.g&&to(this)};function to(g){g.readyState=4,g.l=null,g.j=null,g.B=null,pi(g)}n.setRequestHeader=function(g,T){this.A.append(g,T)},n.getResponseHeader=function(g){return this.h&&this.h.get(g.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const g=[],T=this.h.entries();for(var L=T.next();!L.done;)L=L.value,g.push(L[0]+": "+L[1]),L=T.next();return g.join(`\r
`)};function pi(g){g.onreadystatechange&&g.onreadystatechange.call(g)}Object.defineProperty(To.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(g){this.m=g?"include":"same-origin"}});function ti(g){let T="";return xe(g,function(L,X){T+=X,T+=":",T+=L,T+=`\r
`}),T}function xo(g,T,L){e:{for(X in L){var X=!1;break e}X=!0}X||(L=ti(L),typeof g=="string"?L!=null&&er(L):Nn(g,T,L))}function Gn(g){Ae.call(this),this.headers=new Map,this.L=g||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}v(Gn,Ae);var fs=/^https?$/i,Io=["POST","PUT"];n=Gn.prototype,n.Fa=function(g){this.H=g},n.ea=function(g,T,L,X){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+g);T=T?T.toUpperCase():"GET",this.D=g,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():xr.g(),this.g.onreadystatechange=E(f(this.Ca,this));try{this.B=!0,this.g.open(T,String(g),!0),this.B=!1}catch(Me){Ws(this,Me);return}if(g=L||"",L=new Map(this.headers),X)if(Object.getPrototypeOf(X)===Object.prototype)for(var Ie in X)L.set(Ie,X[Ie]);else if(typeof X.keys=="function"&&typeof X.get=="function")for(const Me of X.keys())L.set(Me,X.get(Me));else throw Error("Unknown input type for opt_headers: "+String(X));X=Array.from(L.keys()).find(Me=>Me.toLowerCase()=="content-type"),Ie=l.FormData&&g instanceof l.FormData,!(Array.prototype.indexOf.call(Io,T,void 0)>=0)||X||Ie||L.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Me,st]of L)this.g.setRequestHeader(Me,st);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(g),this.v=!1}catch(Me){Ws(this,Me)}};function Ws(g,T){g.h=!1,g.g&&(g.j=!0,g.g.abort(),g.j=!1),g.l=T,g.o=5,Kl(g),Ma(g)}function Kl(g){g.A||(g.A=!0,pt(g,"complete"),pt(g,"error"))}n.abort=function(g){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=g||7,pt(this,"complete"),pt(this,"abort"),Ma(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ma(this,!0)),Gn.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?ds(this):this.Xa())},n.Xa=function(){ds(this)};function ds(g){if(g.h&&typeof a<"u"){if(g.v&&ps(g)==4)setTimeout(g.Ca.bind(g),0);else if(pt(g,"readystatechange"),ps(g)==4){g.h=!1;try{const Me=g.ca();e:switch(Me){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var T=!0;break e;default:T=!1}var L;if(!(L=T)){var X;if(X=Me===0){let st=String(g.D).match(ql)[1]||null;!st&&l.self&&l.self.location&&(st=l.self.location.protocol.slice(0,-1)),X=!fs.test(st?st.toLowerCase():"")}L=X}if(L)pt(g,"complete"),pt(g,"success");else{g.o=6;try{var Ie=ps(g)>2?g.g.statusText:""}catch{Ie=""}g.l=Ie+" ["+g.ca()+"]",Kl(g)}}finally{Ma(g)}}}}function Ma(g,T){if(g.g){g.m&&(clearTimeout(g.m),g.m=null);const L=g.g;g.g=null,T||pt(g,"ready");try{L.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function ps(g){return g.g?g.g.readyState:0}n.ca=function(){try{return ps(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(g){if(this.g){var T=this.g.responseText;return g&&T.indexOf(g)==0&&(T=T.substring(g.length)),wt(T)}};function $r(g){try{if(!g.g)return null;if("response"in g.g)return g.g.response;switch(g.F){case"":case"text":return g.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in g.g)return g.g.mozResponseArrayBuffer}return null}catch{return null}}function aa(g){const T={};g=(g.g&&ps(g)>=2&&g.g.getAllResponseHeaders()||"").split(`\r
`);for(let X=0;X<g.length;X++){if(N(g[X]))continue;var L=Zr(g[X]);const Ie=L[0];if(L=L[1],typeof L!="string")continue;L=L.trim();const Me=T[Ie]||[];T[Ie]=Me,Me.push(L)}Be(T,function(X){return X.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ti(g,T,L){return L&&L.internalChannelParams&&L.internalChannelParams[g]||T}function oa(g){this.za=0,this.i=[],this.j=new Ot,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ti("failFast",!1,g),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ti("baseRetryDelayMs",5e3,g),this.Za=Ti("retryDelaySeedMs",1e4,g),this.Ta=Ti("forwardChannelMaxRetries",2,g),this.va=Ti("forwardChannelRequestTimeoutMs",2e4,g),this.ma=g&&g.xmlHttpFactory||void 0,this.Ua=g&&g.Rb||void 0,this.Aa=g&&g.useFetchStreams||!1,this.O=void 0,this.L=g&&g.supportsCrossDomainXhr||!1,this.M="",this.h=new tl(g&&g.concurrentRequestLimit),this.Ba=new eo,this.S=g&&g.fastHandshake||!1,this.R=g&&g.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=g&&g.Pb||!1,g&&g.ua&&this.j.ua(),g&&g.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&g&&g.detectBufferingProxy||!1,this.ia=void 0,g&&g.longPollingTimeout&&g.longPollingTimeout>0&&(this.ia=g.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=oa.prototype,n.ka=8,n.I=1,n.connect=function(g,T,L,X){Ue(0),this.W=g,this.H=T||{},L&&X!==void 0&&(this.H.OSID=L,this.H.OAID=X),this.F=this.X,this.J=et(this,null,this.W),Rs(this)};function no(g){if(ua(g),g.I==3){var T=g.V++,L=Dr(g.J);if(Nn(L,"SID",g.M),Nn(L,"RID",T),Nn(L,"TYPE","terminate"),ms(g,L),T=new ki(g,g.j,T),T.M=2,T.A=Ja(Dr(L)),L=!1,l.navigator&&l.navigator.sendBeacon)try{L=l.navigator.sendBeacon(T.A.toString(),"")}catch{}!L&&l.Image&&(new Image().src=T.A,L=!0),L||(T.g=bt(T.j,null),T.g.ea(T.A)),T.F=Date.now(),Yi(T)}$e(g)}function la(g){g.g&&(ll(g),g.g.cancel(),g.g=null)}function ua(g){la(g),g.v&&(l.clearTimeout(g.v),g.v=null),U(g),g.h.cancel(),g.m&&(typeof g.m=="number"&&l.clearTimeout(g.m),g.m=null)}function Rs(g){if(!Qi(g.h)&&!g.m){g.m=!0;var T=g.Ea;ye||F(),ve||(ye(),ve=!0),z.add(T,g),g.D=0}}function No(g,T){return Ns(g.h)>=g.h.j-(g.m?1:0)?!1:g.m?(g.i=T.G.concat(g.i),!0):g.I==1||g.I==2||g.D>=(g.Sa?0:g.Ta)?!1:(g.m=ht(f(g.Ea,g,T),me(g,g.D)),g.D++,!0)}n.Ea=function(g){if(this.m)if(this.m=null,this.I==1){if(!g){this.V=Math.floor(Math.random()*1e5),g=this.V++;const Ie=new ki(this,this.j,g);let Me=this.o;if(this.U&&(Me?(Me=J(Me),Y(Me,this.U)):Me=this.U),this.u!==null||this.R||(Ie.J=Me,Me=null),this.S)e:{for(var T=0,L=0;L<this.i.length;L++){t:{var X=this.i[L];if("__data__"in X.map&&(X=X.map.__data__,typeof X=="string")){X=X.length;break t}X=void 0}if(X===void 0)break;if(T+=X,T>4096){T=L;break e}if(T===4096||L===this.i.length-1){T=L+1;break e}}T=1e3}else T=1e3;T=ca(this,Ie,T),L=Dr(this.J),Nn(L,"RID",g),Nn(L,"CVER",22),this.G&&Nn(L,"X-HTTP-Session-Id",this.G),ms(this,L),Me&&(this.R?T="headers="+er(ti(Me))+"&"+T:this.u&&xo(L,this.u,Me)),Ao(this.h,Ie),this.Ra&&Nn(L,"TYPE","init"),this.S?(Nn(L,"$req",T),Nn(L,"SID","null"),Ie.U=!0,ei(Ie,L,null)):ei(Ie,L,T),this.I=2}}else this.I==3&&(g?ol(this,g):this.i.length==0||Qi(this.h)||ol(this))};function ol(g,T){var L;T?L=T.l:L=g.V++;const X=Dr(g.J);Nn(X,"SID",g.M),Nn(X,"RID",L),Nn(X,"AID",g.K),ms(g,X),g.u&&g.o&&xo(X,g.u,g.o),L=new ki(g,g.j,L,g.D+1),g.u===null&&(L.J=g.o),T&&(g.i=T.G.concat(g.i)),T=ca(g,L,1e3),L.H=Math.round(g.va*.5)+Math.round(g.va*.5*Math.random()),Ao(g.h,L),ei(L,X,T)}function ms(g,T){g.H&&xe(g.H,function(L,X){Nn(T,X,L)}),g.l&&xe({},function(L,X){Nn(T,X,L)})}function ca(g,T,L){L=Math.min(g.i.length,L);const X=g.l?f(g.l.Ka,g.l,g):null;e:{var Ie=g.i;let en=-1;for(;;){const dr=["count="+L];en==-1?L>0?(en=Ie[0].g,dr.push("ofs="+en)):en=0:dr.push("ofs="+en);let yn=!0;for(let $n=0;$n<L;$n++){var Me=Ie[$n].g;const xi=Ie[$n].map;if(Me-=en,Me<0)en=Math.max(0,Ie[$n].g-100),yn=!1;else try{Me="req"+Me+"_"||"";try{var st=xi instanceof Map?xi:Object.entries(xi);for(const[Mi,sr]of st){let Vi=sr;c(sr)&&(Vi=nn(sr)),dr.push(Me+Mi+"="+encodeURIComponent(Vi))}}catch(Mi){throw dr.push(Me+"type="+encodeURIComponent("_badmap")),Mi}}catch{X&&X(xi)}}if(yn){st=dr.join("&");break e}}st=void 0}return g=g.i.splice(0,L),T.G=g,st}function Yl(g){if(!g.g&&!g.v){g.Y=1;var T=g.Da;ye||F(),ve||(ye(),ve=!0),z.add(T,g),g.A=0}}function Ks(g){return g.g||g.v||g.A>=3?!1:(g.Y++,g.v=ht(f(g.Da,g),me(g,g.A)),g.A++,!0)}n.Da=function(){if(this.v=null,A(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var g=4*this.T;this.j.info("BP detection timer enabled: "+g),this.B=ht(f(this.Wa,this),g)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ue(10),la(this),A(this))};function ll(g){g.B!=null&&(l.clearTimeout(g.B),g.B=null)}function A(g){g.g=new ki(g,g.j,"rpc",g.Y),g.u===null&&(g.g.J=g.o),g.g.P=0;var T=Dr(g.na);Nn(T,"RID","rpc"),Nn(T,"SID",g.M),Nn(T,"AID",g.K),Nn(T,"CI",g.F?"0":"1"),!g.F&&g.ia&&Nn(T,"TO",g.ia),Nn(T,"TYPE","xmlhttp"),ms(g,T),g.u&&g.o&&xo(T,g.u,g.o),g.O&&(g.g.H=g.O);var L=g.g;g=g.ba,L.M=1,L.A=Ja(Dr(T)),L.u=null,L.R=!0,Ki(L,g)}n.Va=function(){this.C!=null&&(this.C=null,la(this),Ks(this),Ue(19))};function U(g){g.C!=null&&(l.clearTimeout(g.C),g.C=null)}function ae(g,T){var L=null;if(g.g==T){U(g),ll(g),g.g=null;var X=2}else if(Gs(g.h,T))L=T.G,nl(g.h,T),X=1;else return;if(g.I!=0){if(T.o)if(X==1){L=T.u?T.u.length:0,T=Date.now()-T.F;var Ie=g.D;X=Ln(),pt(X,new Ke(X,L)),Rs(g)}else Yl(g);else if(Ie=T.m,Ie==3||Ie==0&&T.X>0||!(X==1&&No(g,T)||X==2&&Ks(g)))switch(L&&L.length>0&&(T=g.h,T.i=T.i.concat(L)),Ie){case 1:Se(g,5);break;case 4:Se(g,10);break;case 3:Se(g,6);break;default:Se(g,2)}}}function me(g,T){let L=g.Qa+Math.floor(Math.random()*g.Za);return g.isActive()||(L*=2),L*T}function Se(g,T){if(g.j.info("Error code "+T),T==2){var L=f(g.bb,g),X=g.Ua;const Ie=!X;X=new Si(X||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||_n(X,"https"),Ja(X),Ie?$s(X.toString(),L):Oa(X.toString(),L)}else Ue(2);g.I=0,g.l&&g.l.pa(T),$e(g),ua(g)}n.bb=function(g){g?(this.j.info("Successfully pinged google.com"),Ue(2)):(this.j.info("Failed to ping google.com"),Ue(1))};function $e(g){if(g.I=0,g.ja=[],g.l){const T=rl(g.h);(T.length!=0||g.i.length!=0)&&(R(g.ja,T),R(g.ja,g.i),g.h.i.length=0,b(g.i),g.i.length=0),g.l.oa()}}function et(g,T,L){var X=L instanceof Si?Dr(L):new Si(L);if(X.g!="")T&&(X.g=T+"."+X.g),La(X,X.u);else{var Ie=l.location;X=Ie.protocol,T=T?T+"."+Ie.hostname:Ie.hostname,Ie=+Ie.port;const Me=new Si(null);X&&_n(Me,X),T&&(Me.g=T),Ie&&La(Me,Ie),L&&(Me.h=L),X=Me}return L=g.G,T=g.wa,L&&T&&Nn(X,L,T),Nn(X,"VER",g.ka),ms(g,X),X}function bt(g,T,L){if(T&&!g.L)throw Error("Can't create secondary domain capable XhrIo object.");return T=g.Aa&&!g.ma?new Gn(new Ut({ab:L})):new Gn(g.ma),T.Fa(g.L),T}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function xt(){}n=xt.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function qt(){}qt.prototype.g=function(g,T){return new jt(g,T)};function jt(g,T){Ae.call(this),this.g=new oa(T),this.l=g,this.h=T&&T.messageUrlParams||null,g=T&&T.messageHeaders||null,T&&T.clientProtocolHeaderRequired&&(g?g["X-Client-Protocol"]="webchannel":g={"X-Client-Protocol":"webchannel"}),this.g.o=g,g=T&&T.initMessageHeaders||null,T&&T.messageContentType&&(g?g["X-WebChannel-Content-Type"]=T.messageContentType:g={"X-WebChannel-Content-Type":T.messageContentType}),T&&T.sa&&(g?g["X-WebChannel-Client-Profile"]=T.sa:g={"X-WebChannel-Client-Profile":T.sa}),this.g.U=g,(g=T&&T.Qb)&&!N(g)&&(this.g.u=g),this.A=T&&T.supportsCrossDomainXhr||!1,this.v=T&&T.sendRawJson||!1,(T=T&&T.httpSessionIdParam)&&!N(T)&&(this.g.G=T,g=this.h,g!==null&&T in g&&(g=this.h,T in g&&delete g[T])),this.j=new tr(this)}v(jt,Ae),jt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},jt.prototype.close=function(){no(this.g)},jt.prototype.o=function(g){var T=this.g;if(typeof g=="string"){var L={};L.__data__=g,g=L}else this.v&&(L={},L.__data__=nn(g),g=L);T.i.push(new Ir(T.Ya++,g)),T.I==3&&Rs(T)},jt.prototype.N=function(){this.g.l=null,delete this.j,no(this.g),delete this.g,jt.Z.N.call(this)};function wn(g){Dt.call(this),g.__headers__&&(this.headers=g.__headers__,this.statusCode=g.__status__,delete g.__headers__,delete g.__status__);var T=g.__sm__;if(T){e:{for(const L in T){g=L;break e}g=void 0}(this.i=g)&&(g=this.i,T=T!==null&&g in T?T[g]:void 0),this.data=T}else this.data=g}v(wn,Dt);function fr(){zt.call(this),this.status=1}v(fr,zt);function tr(g){this.g=g}v(tr,xt),tr.prototype.ra=function(){pt(this.g,"a")},tr.prototype.qa=function(g){pt(this.g,new wn(g))},tr.prototype.pa=function(g){pt(this.g,new fr)},tr.prototype.oa=function(){pt(this.g,"b")},qt.prototype.createWebChannel=qt.prototype.g,jt.prototype.send=jt.prototype.o,jt.prototype.open=jt.prototype.m,jt.prototype.close=jt.prototype.close,cC=function(){return new qt},uC=function(){return Ln()},lC=Zt,L_={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},bn.NO_ERROR=0,bn.TIMEOUT=8,bn.HTTP_ERROR=6,Z1=bn,Qn.COMPLETE="complete",oC=Qn,rr.EventType=rn,rn.OPEN="a",rn.CLOSE="b",rn.ERROR="c",rn.MESSAGE="d",Ae.prototype.listen=Ae.prototype.J,rm=rr,Gn.prototype.listenOnce=Gn.prototype.K,Gn.prototype.getLastError=Gn.prototype.Ha,Gn.prototype.getLastErrorCode=Gn.prototype.ya,Gn.prototype.getStatus=Gn.prototype.ca,Gn.prototype.getResponseJson=Gn.prototype.La,Gn.prototype.getResponseText=Gn.prototype.la,Gn.prototype.send=Gn.prototype.ea,Gn.prototype.setWithCredentials=Gn.prototype.Fa,aC=Gn}).apply(typeof k1<"u"?k1:typeof self<"u"?self:typeof window<"u"?window:{});const px="@firebase/firestore",mx="4.9.2";class os{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}os.UNAUTHENTICATED=new os(null),os.GOOGLE_CREDENTIALS=new os("google-credentials-uid"),os.FIRST_PARTY=new os("first-party-uid"),os.MOCK_USER=new os("mock-user");let Yd="12.3.0";const Oc=new Xy("@firebase/firestore");function Jf(){return Oc.logLevel}function sz(n){Oc.setLogLevel(n)}function nt(n,...e){if(Oc.logLevel<=xn.DEBUG){const t=e.map(ob);Oc.debug(`Firestore (${Yd}): ${n}`,...t)}}function bi(n,...e){if(Oc.logLevel<=xn.ERROR){const t=e.map(ob);Oc.error(`Firestore (${Yd}): ${n}`,...t)}}function Ul(n,...e){if(Oc.logLevel<=xn.WARN){const t=e.map(ob);Oc.warn(`Firestore (${Yd}): ${n}`,...t)}}function ob(n){if(typeof n=="string")return n;try{return(function(t){return JSON.stringify(t)})(n)}catch{return n}}function gt(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,hC(n,r,t)}function hC(n,e,t){let r=`FIRESTORE (${Yd}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw bi(r),new Error(r)}function Ct(n,e,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,n||hC(e,i,r)}function az(n,e){n||gt(57014,e)}function ft(n,e){return n}const je={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class tt extends na{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ss{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class fC{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class oz{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(os.UNAUTHENTICATED)))}shutdown(){}}class lz{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class uz{constructor(e){this.t=e,this.currentUser=os.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ct(this.o===void 0,42304);let r=this.i;const i=h=>this.i!==r?(r=this.i,t(h)):Promise.resolve();let a=new Ss;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Ss,e.enqueueRetryable((()=>i(this.currentUser)))};const l=()=>{const h=a;e.enqueueRetryable((async()=>{await h.promise,await i(this.currentUser)}))},c=h=>{nt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit((h=>c(h))),setTimeout((()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?c(h):(nt("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Ss)}}),0),l()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((r=>this.i!==e?(nt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ct(typeof r.accessToken=="string",31837,{l:r}),new fC(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ct(e===null||typeof e=="string",2055,{h:e}),new os(e)}}class cz{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=os.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class hz{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new cz(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(os.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class gx{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class fz{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,zr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Ct(this.o===void 0,3512);const r=a=>{a.error!=null&&nt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.m;return this.m=a.token,nt("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>r(a)))};const i=a=>{nt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((a=>i(a))),setTimeout((()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):nt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new gx(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(Ct(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new gx(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function dz(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class lb{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=dz(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<t&&(r+=e.charAt(i[a]%62))}return r}}function ln(n,e){return n<e?-1:n>e?1:0}function k_(n,e){const t=Math.min(n.length,e.length);for(let r=0;r<t;r++){const i=n.charAt(r),a=e.charAt(r);if(i!==a)return H2(i)===H2(a)?ln(i,a):H2(i)?1:-1}return ln(n.length,e.length)}const pz=55296,mz=57343;function H2(n){const e=n.charCodeAt(0);return e>=pz&&e<=mz}function wd(n,e,t){return n.length===e.length&&n.every(((r,i)=>t(r,e[i])))}function dC(n){return n+"\0"}const yx="__name__";class Tl{constructor(e,t,r){t===void 0?t=0:t>e.length&&gt(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&gt(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Tl.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Tl?e.forEach((r=>{t.push(r)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const a=Tl.compareSegments(e.get(i),t.get(i));if(a!==0)return a}return ln(e.length,t.length)}static compareSegments(e,t){const r=Tl.isNumericId(e),i=Tl.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?Tl.extractNumericId(e).compare(Tl.extractNumericId(t)):k_(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ic.fromString(e.substring(4,e.length-2))}}class In extends Tl{construct(e,t,r){return new In(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new tt(je.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter((i=>i.length>0)))}return new In(t)}static emptyPath(){return new In([])}}const gz=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class qr extends Tl{construct(e,t,r){return new qr(e,t,r)}static isValidIdentifier(e){return gz.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),qr.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===yx}static keyField(){return new qr([yx])}static fromServerFormat(e){const t=[];let r="",i=0;const a=()=>{if(r.length===0)throw new tt(je.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let l=!1;for(;i<e.length;){const c=e[i];if(c==="\\"){if(i+1===e.length)throw new tt(je.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[i+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new tt(je.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=h,i+=2}else c==="`"?(l=!l,i++):c!=="."||l?(r+=c,i++):(a(),i++)}if(a(),l)throw new tt(je.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new qr(t)}static emptyPath(){return new qr([])}}class ut{constructor(e){this.path=e}static fromPath(e){return new ut(In.fromString(e))}static fromName(e){return new ut(In.fromString(e).popFirst(5))}static empty(){return new ut(In.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&In.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return In.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ut(new In(e.slice()))}}function ub(n,e,t){if(!t)throw new tt(je.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function pC(n,e,t,r){if(e===!0&&r===!0)throw new tt(je.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function vx(n){if(!ut.isDocumentKey(n))throw new tt(je.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function _x(n){if(ut.isDocumentKey(n))throw new tt(je.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function mC(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function u0(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":gt(12329,{type:typeof n})}function Yn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new tt(je.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=u0(n);throw new tt(je.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function gC(n,e){if(e<=0)throw new tt(je.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}function Li(n,e){const t={typeString:n};return e&&(t.value=e),t}function dg(n,e){if(!mC(n))throw new tt(je.INVALID_ARGUMENT,"JSON must be an object");let t;for(const r in e)if(e[r]){const i=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}const l=n[r];if(i&&typeof l!==i){t=`JSON field '${r}' must be a ${i}.`;break}if(a!==void 0&&l!==a.value){t=`Expected '${r}' field to equal '${a.value}'`;break}}if(t)throw new tt(je.INVALID_ARGUMENT,t);return!0}const bx=-62135596800,wx=1e6;class nr{static now(){return nr.fromMillis(Date.now())}static fromDate(e){return nr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*wx);return new nr(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new tt(je.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new tt(je.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<bx)throw new tt(je.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new tt(je.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/wx}_compareTo(e){return this.seconds===e.seconds?ln(this.nanoseconds,e.nanoseconds):ln(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:nr._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(dg(e,nr._jsonSchema))return new nr(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-bx;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}nr._jsonSchemaVersion="firestore/timestamp/1.0",nr._jsonSchema={type:Li("string",nr._jsonSchemaVersion),seconds:Li("number"),nanoseconds:Li("number")};class Mt{static fromTimestamp(e){return new Mt(e)}static min(){return new Mt(new nr(0,0))}static max(){return new Mt(new nr(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Ed=-1;class Iy{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function D_(n){return n.fields.find((e=>e.kind===2))}function _h(n){return n.fields.filter((e=>e.kind!==2))}Iy.UNKNOWN_ID=-1;class ey{constructor(e,t){this.fieldPath=e,this.kind=t}}class jm{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new jm(0,Qa.min())}}function yC(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Mt.fromTimestamp(r===1e9?new nr(t+1,0):new nr(t,r));return new Qa(i,ut.empty(),e)}function vC(n){return new Qa(n.readTime,n.key,Ed)}class Qa{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Qa(Mt.min(),ut.empty(),Ed)}static max(){return new Qa(Mt.max(),ut.empty(),Ed)}}function cb(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=ut.comparator(n.documentKey,e.documentKey),t!==0?t:ln(n.largestBatchId,e.largestBatchId))}const _C="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class bC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function $c(n){if(n.code!==je.FAILED_PRECONDITION||n.message!==_C)throw n;nt("LocalStore","Unexpectedly lost primary lease")}class Re{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&gt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Re(((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,i)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof Re?t:Re.resolve(t)}catch(t){return Re.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):Re.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):Re.reject(t)}static resolve(e){return new Re(((t,r)=>{t(e)}))}static reject(e){return new Re(((t,r)=>{r(e)}))}static waitFor(e){return new Re(((t,r)=>{let i=0,a=0,l=!1;e.forEach((c=>{++i,c.next((()=>{++a,l&&a===i&&t()}),(h=>r(h)))})),l=!0,a===i&&t()}))}static or(e){let t=Re.resolve(!1);for(const r of e)t=t.next((i=>i?Re.resolve(i):r()));return t}static forEach(e,t){const r=[];return e.forEach(((i,a)=>{r.push(t.call(this,i,a))})),this.waitFor(r)}static mapArray(e,t){return new Re(((r,i)=>{const a=e.length,l=new Array(a);let c=0;for(let h=0;h<a;h++){const f=h;t(e[f]).next((p=>{l[f]=p,++c,c===a&&r(l)}),(p=>i(p)))}}))}static doWhile(e,t){return new Re(((r,i)=>{const a=()=>{e()===!0?t().next((()=>{a()}),i):r()};a()}))}}const Ga="SimpleDb";class c0{static open(e,t,r,i){try{return new c0(t,e.transaction(i,r))}catch(a){throw new ym(t,a)}}constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.S=new Ss,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{t.error?this.S.reject(new ym(e,t.error)):this.S.resolve()},this.transaction.onerror=r=>{const i=hb(r.target.error);this.S.reject(new ym(e,i))}}get D(){return this.S.promise}abort(e){e&&this.S.reject(e),this.aborted||(nt(Ga,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}C(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const t=this.transaction.objectStore(e);return new vz(t)}}class Ol{static delete(e){return nt(Ga,"Removing database:",e),Ah(L5().indexedDB.deleteDatabase(e)).toPromise()}static v(){if(!Pm())return!1;if(Ol.F())return!0;const e=Xr(),t=Ol.M(e),r=0<t&&t<10,i=wC(e),a=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||a)}static F(){return typeof process<"u"&&process.__PRIVATE_env?.__PRIVATE_USE_MOCK_PERSISTENCE==="YES"}static O(e,t){return e.store(t)}static M(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}constructor(e,t,r){this.name=e,this.version=t,this.N=r,this.B=null,Ol.M(Xr())===12.2&&bi("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async L(e){return this.db||(nt(Ga,"Opening database:",this.name),this.db=await new Promise(((t,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=a=>{const l=a.target.result;t(l)},i.onblocked=()=>{r(new ym(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=a=>{const l=a.target.error;l.name==="VersionError"?r(new tt(je.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):l.name==="InvalidStateError"?r(new tt(je.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+l)):r(new ym(e,l))},i.onupgradeneeded=a=>{nt(Ga,'Database "'+this.name+'" requires upgrade from version:',a.oldVersion);const l=a.target.result;this.N.k(l,i.transaction,a.oldVersion,this.version).next((()=>{nt(Ga,"Database upgrade to version "+this.version+" complete")}))}}))),this.q&&(this.db.onversionchange=t=>this.q(t)),this.db}$(e){this.q=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,r,i){const a=t==="readonly";let l=0;for(;;){++l;try{this.db=await this.L(e);const c=c0.open(this.db,e,a?"readonly":"readwrite",r),h=i(c).next((f=>(c.C(),f))).catch((f=>(c.abort(f),Re.reject(f)))).toPromise();return h.catch((()=>{})),await c.D,h}catch(c){const h=c,f=h.name!=="FirebaseError"&&l<3;if(nt(Ga,"Transaction failed with error:",h.message,"Retrying:",f),this.close(),!f)return Promise.reject(h)}}}close(){this.db&&this.db.close(),this.db=void 0}}function wC(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}class yz{constructor(e){this.U=e,this.K=!1,this.W=null}get isDone(){return this.K}get G(){return this.W}set cursor(e){this.U=e}done(){this.K=!0}j(e){this.W=e}delete(){return Ah(this.U.delete())}}class ym extends tt{constructor(e,t){super(je.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Wc(n){return n.name==="IndexedDbTransactionError"}class vz{constructor(e){this.store=e}put(e,t){let r;return t!==void 0?(nt(Ga,"PUT",this.store.name,e,t),r=this.store.put(t,e)):(nt(Ga,"PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Ah(r)}add(e){return nt(Ga,"ADD",this.store.name,e,e),Ah(this.store.add(e))}get(e){return Ah(this.store.get(e)).next((t=>(t===void 0&&(t=null),nt(Ga,"GET",this.store.name,e,t),t)))}delete(e){return nt(Ga,"DELETE",this.store.name,e),Ah(this.store.delete(e))}count(){return nt(Ga,"COUNT",this.store.name),Ah(this.store.count())}J(e,t){const r=this.options(e,t),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const a=i.getAll(r.range);return new Re(((l,c)=>{a.onerror=h=>{c(h.target.error)},a.onsuccess=h=>{l(h.target.result)}}))}{const a=this.cursor(r),l=[];return this.H(a,((c,h)=>{l.push(h)})).next((()=>l))}}Y(e,t){const r=this.store.getAll(e,t===null?void 0:t);return new Re(((i,a)=>{r.onerror=l=>{a(l.target.error)},r.onsuccess=l=>{i(l.target.result)}}))}Z(e,t){nt(Ga,"DELETE ALL",this.store.name);const r=this.options(e,t);r.X=!1;const i=this.cursor(r);return this.H(i,((a,l,c)=>c.delete()))}ee(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.H(i,t)}te(e){const t=this.cursor({});return new Re(((r,i)=>{t.onerror=a=>{const l=hb(a.target.error);i(l)},t.onsuccess=a=>{const l=a.target.result;l?e(l.primaryKey,l.value).next((c=>{c?l.continue():r()})):r()}}))}H(e,t){const r=[];return new Re(((i,a)=>{e.onerror=l=>{a(l.target.error)},e.onsuccess=l=>{const c=l.target.result;if(!c)return void i();const h=new yz(c),f=t(c.primaryKey,c.value,h);if(f instanceof Re){const p=f.catch((v=>(h.done(),Re.reject(v))));r.push(p)}h.isDone?i():h.G===null?c.continue():c.continue(h.G)}})).next((()=>Re.waitFor(r)))}options(e,t){let r;return e!==void 0&&(typeof e=="string"?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.X?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Ah(n){return new Re(((e,t)=>{n.onsuccess=r=>{const i=r.target.result;e(i)},n.onerror=r=>{const i=hb(r.target.error);t(i)}}))}let Ex=!1;function hb(n){const e=Ol.M(Xr());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new tt("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Ex||(Ex=!0,setTimeout((()=>{throw r}),0)),r}}return n}const vm="IndexBackfiller";class _z{constructor(e,t){this.asyncQueue=e,this.ne=t,this.task=null}start(){this.re(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}re(e){nt(vm,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{const t=await this.ne.ie();nt(vm,`Documents written: ${t}`)}catch(t){Wc(t)?nt(vm,"Ignoring IndexedDB error during index backfill: ",t):await $c(t)}await this.re(6e4)}))}}class bz{constructor(e,t){this.localStore=e,this.persistence=t}async ie(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(t=>this.se(t,e)))}se(e,t){const r=new Set;let i=t,a=!0;return Re.doWhile((()=>a===!0&&i>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((l=>{if(l!==null&&!r.has(l))return nt(vm,`Processing collection: ${l}`),this.oe(e,l,i).next((c=>{i-=c,r.add(l)}));a=!1})))).next((()=>t-i))}oe(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((i=>this.localStore.localDocuments.getNextDocuments(e,t,i,r).next((a=>{const l=a.changes;return this.localStore.indexManager.updateIndexEntries(e,l).next((()=>this._e(i,a))).next((c=>(nt(vm,`Updating offset: ${c}`),this.localStore.indexManager.updateCollectionGroup(e,t,c)))).next((()=>l.size))}))))}_e(e,t){let r=e;return t.changes.forEach(((i,a)=>{const l=vC(a);cb(l,r)>0&&(r=l)})),new Qa(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}class Ia{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>t.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Ia.ce=-1;const Nc=-1;function pg(n){return n==null}function Fm(n){return n===0&&1/n==-1/0}function EC(n){return typeof n=="number"&&Number.isInteger(n)&&!Fm(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const Ny="";function zs(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Ax(e)),e=wz(n.get(t),e);return Ax(e)}function wz(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const a=n.charAt(i);switch(a){case"\0":t+="";break;case Ny:t+="";break;default:t+=a}}return t}function Ax(n){return n+Ny+""}function kl(n){const e=n.length;if(Ct(e>=2,64408,{path:n}),e===2)return Ct(n.charAt(0)===Ny&&n.charAt(1)==="",56145,{path:n}),In.emptyPath();const t=e-2,r=[];let i="";for(let a=0;a<e;){const l=n.indexOf(Ny,a);switch((l<0||l>t)&&gt(50515,{path:n}),n.charAt(l+1)){case"":const c=n.substring(a,l);let h;i.length===0?h=c:(i+=c,h=i,i=""),r.push(h);break;case"":i+=n.substring(a,l),i+="\0";break;case"":i+=n.substring(a,l+1);break;default:gt(61167,{path:n})}a=l+2}return new In(r)}const bh="remoteDocuments",mg="owner",Hf="owner",Um="mutationQueues",Ez="userId",Go="mutations",Sx="batchId",Ch="userMutationsIndex",Tx=["userId","batchId"];function ty(n,e){return[n,zs(e)]}function AC(n,e,t){return[n,zs(e),t]}const Az={},Ad="documentMutations",Cy="remoteDocumentsV14",Sz=["prefixPath","collectionGroup","readTime","documentId"],ny="documentKeyIndex",Tz=["prefixPath","collectionGroup","documentId"],SC="collectionGroupIndex",xz=["collectionGroup","readTime","prefixPath","documentId"],Bm="remoteDocumentGlobal",O_="remoteDocumentGlobalKey",Sd="targets",TC="queryTargetsIndex",Iz=["canonicalId","targetId"],Td="targetDocuments",Nz=["targetId","path"],fb="documentTargetsIndex",Cz=["path","targetId"],Ry="targetGlobalKey",Oh="targetGlobal",zm="collectionParents",Rz=["collectionId","parent"],xd="clientMetadata",Pz="clientId",h0="bundles",Lz="bundleId",f0="namedQueries",kz="name",db="indexConfiguration",Dz="indexId",M_="collectionGroupIndex",Oz="collectionGroup",_m="indexState",Mz=["indexId","uid"],xC="sequenceNumberIndex",Vz=["uid","sequenceNumber"],bm="indexEntries",jz=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],IC="documentKeyIndex",Fz=["indexId","uid","orderedDocumentKey"],d0="documentOverlays",Uz=["userId","collectionPath","documentId"],V_="collectionPathOverlayIndex",Bz=["userId","collectionPath","largestBatchId"],NC="collectionGroupOverlayIndex",zz=["userId","collectionGroup","largestBatchId"],pb="globals",qz="name",CC=[Um,Go,Ad,bh,Sd,mg,Oh,Td,xd,Bm,zm,h0,f0],Hz=[...CC,d0],RC=[Um,Go,Ad,Cy,Sd,mg,Oh,Td,xd,Bm,zm,h0,f0,d0],PC=RC,mb=[...PC,db,_m,bm],Gz=mb,LC=[...mb,pb],$z=LC;class j_ extends bC{constructor(e,t){super(),this.le=e,this.currentSequenceNumber=t}}function Wi(n,e){const t=ft(n);return Ol.O(t.le,e)}function xx(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Kc(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function kC(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class Tr{constructor(e,t){this.comparator=e,this.root=t||Es.EMPTY}insert(e,t){return new Tr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Es.BLACK,null,null))}remove(e){return new Tr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Es.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,r)=>(e(t,r),!1)))}toString(){const e=[];return this.inorderTraversal(((t,r)=>(e.push(`${t}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new D1(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new D1(this.root,e,this.comparator,!1)}getReverseIterator(){return new D1(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new D1(this.root,e,this.comparator,!0)}}class D1{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Es{constructor(e,t,r,i,a){this.key=e,this.value=t,this.color=r??Es.RED,this.left=i??Es.EMPTY,this.right=a??Es.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,a){return new Es(e??this.key,t??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,t,r),null):a===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Es.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return Es.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Es.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Es.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw gt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw gt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw gt(27949);return e+(this.isRed()?0:1)}}Es.EMPTY=null,Es.RED=!0,Es.BLACK=!1;Es.EMPTY=new class{constructor(){this.size=0}get key(){throw gt(57766)}get value(){throw gt(16141)}get color(){throw gt(16727)}get left(){throw gt(29726)}get right(){throw gt(36894)}copy(e,t,r,i,a){return this}insert(e,t,r){return new Es(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class hr{constructor(e){this.comparator=e,this.data=new Tr(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,r)=>(e(t),!1)))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Ix(this.data.getIterator())}getIteratorFrom(e){return new Ix(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((r=>{t=t.add(r)})),t}isEqual(e){if(!(e instanceof hr)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new hr(this.comparator);return t.data=e,t}}class Ix{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Gf(n){return n.hasNext()?n.getNext():void 0}class Na{constructor(e){this.fields=e,e.sort(qr.comparator)}static empty(){return new Na([])}unionWith(e){let t=new hr(qr.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Na(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return wd(this.fields,e.fields,((t,r)=>t.isEqual(r)))}}class DC extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}function Wz(){return typeof atob<"u"}class ui{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new DC("Invalid base64 string: "+a):a}})(e);return new ui(t)}static fromUint8Array(e){const t=(function(i){let a="";for(let l=0;l<i.length;++l)a+=String.fromCharCode(i[l]);return a})(e);return new ui(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ln(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ui.EMPTY_BYTE_STRING=new ui("");const Kz=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Iu(n){if(Ct(!!n,39018),typeof n=="string"){let e=0;const t=Kz.exec(n);if(Ct(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Br(n.seconds),nanos:Br(n.nanos)}}function Br(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Nu(n){return typeof n=="string"?ui.fromBase64String(n):ui.fromUint8Array(n)}const OC="server_timestamp",MC="__type__",VC="__previous_value__",jC="__local_write_time__";function p0(n){return(n?.mapValue?.fields||{})[MC]?.stringValue===OC}function m0(n){const e=n.mapValue.fields[VC];return p0(e)?m0(e):e}function qm(n){const e=Iu(n.mapValue.fields[jC].timestampValue);return new nr(e.seconds,e.nanos)}class Yz{constructor(e,t,r,i,a,l,c,h,f,p){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=c,this.longPollingOptions=h,this.useFetchStreams=f,this.isUsingEmulator=p}}const F_="(default)";class Mc{constructor(e,t){this.projectId=e,this.database=t||F_}static empty(){return new Mc("","")}get isDefaultDatabase(){return this.database===F_}isEqual(e){return e instanceof Mc&&e.projectId===this.projectId&&e.database===this.database}}const gb="__type__",FC="__max__",Ac={mapValue:{fields:{__type__:{stringValue:FC}}}},yb="__vector__",Id="value",ry={nullValue:"NULL_VALUE"};function Vc(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?p0(n)?4:UC(n)?9007199254740991:g0(n)?10:11:gt(28295,{value:n})}function Bl(n,e){if(n===e)return!0;const t=Vc(n);if(t!==Vc(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return qm(n).isEqual(qm(e));case 3:return(function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const l=Iu(i.timestampValue),c=Iu(a.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(i,a){return Nu(i.bytesValue).isEqual(Nu(a.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(i,a){return Br(i.geoPointValue.latitude)===Br(a.geoPointValue.latitude)&&Br(i.geoPointValue.longitude)===Br(a.geoPointValue.longitude)})(n,e);case 2:return(function(i,a){if("integerValue"in i&&"integerValue"in a)return Br(i.integerValue)===Br(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const l=Br(i.doubleValue),c=Br(a.doubleValue);return l===c?Fm(l)===Fm(c):isNaN(l)&&isNaN(c)}return!1})(n,e);case 9:return wd(n.arrayValue.values||[],e.arrayValue.values||[],Bl);case 10:case 11:return(function(i,a){const l=i.mapValue.fields||{},c=a.mapValue.fields||{};if(xx(l)!==xx(c))return!1;for(const h in l)if(l.hasOwnProperty(h)&&(c[h]===void 0||!Bl(l[h],c[h])))return!1;return!0})(n,e);default:return gt(52216,{left:n})}}function Hm(n,e){return(n.values||[]).find((t=>Bl(t,e)))!==void 0}function jc(n,e){if(n===e)return 0;const t=Vc(n),r=Vc(e);if(t!==r)return ln(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return ln(n.booleanValue,e.booleanValue);case 2:return(function(a,l){const c=Br(a.integerValue||a.doubleValue),h=Br(l.integerValue||l.doubleValue);return c<h?-1:c>h?1:c===h?0:isNaN(c)?isNaN(h)?0:-1:1})(n,e);case 3:return Nx(n.timestampValue,e.timestampValue);case 4:return Nx(qm(n),qm(e));case 5:return k_(n.stringValue,e.stringValue);case 6:return(function(a,l){const c=Nu(a),h=Nu(l);return c.compareTo(h)})(n.bytesValue,e.bytesValue);case 7:return(function(a,l){const c=a.split("/"),h=l.split("/");for(let f=0;f<c.length&&f<h.length;f++){const p=ln(c[f],h[f]);if(p!==0)return p}return ln(c.length,h.length)})(n.referenceValue,e.referenceValue);case 8:return(function(a,l){const c=ln(Br(a.latitude),Br(l.latitude));return c!==0?c:ln(Br(a.longitude),Br(l.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return Cx(n.arrayValue,e.arrayValue);case 10:return(function(a,l){const c=a.fields||{},h=l.fields||{},f=c[Id]?.arrayValue,p=h[Id]?.arrayValue,v=ln(f?.values?.length||0,p?.values?.length||0);return v!==0?v:Cx(f,p)})(n.mapValue,e.mapValue);case 11:return(function(a,l){if(a===Ac.mapValue&&l===Ac.mapValue)return 0;if(a===Ac.mapValue)return 1;if(l===Ac.mapValue)return-1;const c=a.fields||{},h=Object.keys(c),f=l.fields||{},p=Object.keys(f);h.sort(),p.sort();for(let v=0;v<h.length&&v<p.length;++v){const E=k_(h[v],p[v]);if(E!==0)return E;const b=jc(c[h[v]],f[p[v]]);if(b!==0)return b}return ln(h.length,p.length)})(n.mapValue,e.mapValue);default:throw gt(23264,{he:t})}}function Nx(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return ln(n,e);const t=Iu(n),r=Iu(e),i=ln(t.seconds,r.seconds);return i!==0?i:ln(t.nanos,r.nanos)}function Cx(n,e){const t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){const a=jc(t[i],r[i]);if(a)return a}return ln(t.length,r.length)}function Nd(n){return U_(n)}function U_(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const r=Iu(t);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return Nu(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return ut.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let r="[",i=!0;for(const a of t.values||[])i?i=!1:r+=",",r+=U_(a);return r+"]"})(n.arrayValue):"mapValue"in n?(function(t){const r=Object.keys(t.fields||{}).sort();let i="{",a=!0;for(const l of r)a?a=!1:i+=",",i+=`${l}:${U_(t.fields[l])}`;return i+"}"})(n.mapValue):gt(61005,{value:n})}function iy(n){switch(Vc(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=m0(n);return e?16+iy(e):16;case 5:return 2*n.stringValue.length;case 6:return Nu(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,a)=>i+iy(a)),0)})(n.arrayValue);case 10:case 11:return(function(r){let i=0;return Kc(r.fields,((a,l)=>{i+=a.length+iy(l)})),i})(n.mapValue);default:throw gt(13486,{value:n})}}function Bh(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function B_(n){return!!n&&"integerValue"in n}function Gm(n){return!!n&&"arrayValue"in n}function Rx(n){return!!n&&"nullValue"in n}function Px(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function sy(n){return!!n&&"mapValue"in n}function g0(n){return(n?.mapValue?.fields||{})[gb]?.stringValue===yb}function wm(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return Kc(n.mapValue.fields,((t,r)=>e.mapValue.fields[t]=wm(r))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=wm(n.arrayValue.values[t]);return e}return{...n}}function UC(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===FC}const BC={mapValue:{fields:{[gb]:{stringValue:yb},[Id]:{arrayValue:{}}}}};function Qz(n){return"nullValue"in n?ry:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Bh(Mc.empty(),ut.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?g0(n)?BC:{mapValue:{}}:gt(35942,{value:n})}function Xz(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Bh(Mc.empty(),ut.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?BC:"mapValue"in n?g0(n)?{mapValue:{}}:Ac:gt(61959,{value:n})}function Lx(n,e){const t=jc(n.value,e.value);return t!==0?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function kx(n,e){const t=jc(n.value,e.value);return t!==0?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class As{constructor(e){this.value=e}static empty(){return new As({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!sy(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=wm(t)}setAll(e){let t=qr.emptyPath(),r={},i=[];e.forEach(((l,c)=>{if(!t.isImmediateParentOf(c)){const h=this.getFieldsMap(t);this.applyChanges(h,r,i),r={},i=[],t=c.popLast()}l?r[c.lastSegment()]=wm(l):i.push(c.lastSegment())}));const a=this.getFieldsMap(t);this.applyChanges(a,r,i)}delete(e){const t=this.field(e.popLast());sy(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Bl(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];sy(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Kc(t,((i,a)=>e[i]=a));for(const i of r)delete e[i]}clone(){return new As(wm(this.value))}}function zC(n){const e=[];return Kc(n.fields,((t,r)=>{const i=new qr([t]);if(sy(r)){const a=zC(r.mapValue).fields;if(a.length===0)e.push(i);else for(const l of a)e.push(i.child(l))}else e.push(i)})),new Na(e)}class Lr{constructor(e,t,r,i,a,l,c){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=a,this.data=l,this.documentState=c}static newInvalidDocument(e){return new Lr(e,0,Mt.min(),Mt.min(),Mt.min(),As.empty(),0)}static newFoundDocument(e,t,r,i){return new Lr(e,1,t,Mt.min(),r,i,0)}static newNoDocument(e,t){return new Lr(e,2,t,Mt.min(),Mt.min(),As.empty(),0)}static newUnknownDocument(e,t){return new Lr(e,3,t,Mt.min(),Mt.min(),As.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Mt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=As.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=As.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Mt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Lr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Lr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Fc{constructor(e,t){this.position=e,this.inclusive=t}}function Dx(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const a=e[i],l=n.position[i];if(a.field.isKeyField()?r=ut.comparator(ut.fromName(l.referenceValue),t.key):r=jc(l,t.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function Ox(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Bl(n.position[t],e.position[t]))return!1;return!0}class $m{constructor(e,t="asc"){this.field=e,this.dir=t}}function Jz(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class qC{}class Pn extends qC{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new Zz(e,t,r):t==="array-contains"?new nq(e,r):t==="in"?new YC(e,r):t==="not-in"?new rq(e,r):t==="array-contains-any"?new iq(e,r):new Pn(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new eq(e,r):new tq(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(jc(t,this.value)):t!==null&&Vc(this.value)===Vc(t)&&this.matchesComparison(jc(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return gt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class cr extends qC{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new cr(e,t)}matches(e){return Cd(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Cd(n){return n.op==="and"}function z_(n){return n.op==="or"}function vb(n){return HC(n)&&Cd(n)}function HC(n){for(const e of n.filters)if(e instanceof cr)return!1;return!0}function q_(n){if(n instanceof Pn)return n.field.canonicalString()+n.op.toString()+Nd(n.value);if(vb(n))return n.filters.map((e=>q_(e))).join(",");{const e=n.filters.map((t=>q_(t))).join(",");return`${n.op}(${e})`}}function GC(n,e){return n instanceof Pn?(function(r,i){return i instanceof Pn&&r.op===i.op&&r.field.isEqual(i.field)&&Bl(r.value,i.value)})(n,e):n instanceof cr?(function(r,i){return i instanceof cr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((a,l,c)=>a&&GC(l,i.filters[c])),!0):!1})(n,e):void gt(19439)}function $C(n,e){const t=n.filters.concat(e);return cr.create(t,n.op)}function WC(n){return n instanceof Pn?(function(t){return`${t.field.canonicalString()} ${t.op} ${Nd(t.value)}`})(n):n instanceof cr?(function(t){return t.op.toString()+" {"+t.getFilters().map(WC).join(" ,")+"}"})(n):"Filter"}class Zz extends Pn{constructor(e,t,r){super(e,t,r),this.key=ut.fromName(r.referenceValue)}matches(e){const t=ut.comparator(e.key,this.key);return this.matchesComparison(t)}}class eq extends Pn{constructor(e,t){super(e,"in",t),this.keys=KC("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class tq extends Pn{constructor(e,t){super(e,"not-in",t),this.keys=KC("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function KC(n,e){return(e.arrayValue?.values||[]).map((t=>ut.fromName(t.referenceValue)))}class nq extends Pn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Gm(t)&&Hm(t.arrayValue,this.value)}}class YC extends Pn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Hm(this.value.arrayValue,t)}}class rq extends Pn{constructor(e,t){super(e,"not-in",t)}matches(e){if(Hm(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Hm(this.value.arrayValue,t)}}class iq extends Pn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Gm(t)||!t.arrayValue.values)&&t.arrayValue.values.some((r=>Hm(this.value.arrayValue,r)))}}class sq{constructor(e,t=null,r=[],i=[],a=null,l=null,c=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=l,this.endAt=c,this.Te=null}}function H_(n,e=null,t=[],r=[],i=null,a=null,l=null){return new sq(n,e,t,r,i,a,l)}function zh(n){const e=ft(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((r=>q_(r))).join(","),t+="|ob:",t+=e.orderBy.map((r=>(function(a){return a.field.canonicalString()+a.dir})(r))).join(","),pg(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((r=>Nd(r))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((r=>Nd(r))).join(",")),e.Te=t}return e.Te}function gg(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!Jz(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!GC(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Ox(n.startAt,e.startAt)&&Ox(n.endAt,e.endAt)}function Py(n){return ut.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function Ly(n,e){return n.filters.filter((t=>t instanceof Pn&&t.field.isEqual(e)))}function Mx(n,e,t){let r=ry,i=!0;for(const a of Ly(n,e)){let l=ry,c=!0;switch(a.op){case"<":case"<=":l=Qz(a.value);break;case"==":case"in":case">=":l=a.value;break;case">":l=a.value,c=!1;break;case"!=":case"not-in":l=ry}Lx({value:r,inclusive:i},{value:l,inclusive:c})<0&&(r=l,i=c)}if(t!==null){for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(e)){const l=t.position[a];Lx({value:r,inclusive:i},{value:l,inclusive:t.inclusive})<0&&(r=l,i=t.inclusive);break}}return{value:r,inclusive:i}}function Vx(n,e,t){let r=Ac,i=!0;for(const a of Ly(n,e)){let l=Ac,c=!0;switch(a.op){case">=":case">":l=Xz(a.value),c=!1;break;case"==":case"in":case"<=":l=a.value;break;case"<":l=a.value,c=!1;break;case"!=":case"not-in":l=Ac}kx({value:r,inclusive:i},{value:l,inclusive:c})>0&&(r=l,i=c)}if(t!==null){for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(e)){const l=t.position[a];kx({value:r,inclusive:i},{value:l,inclusive:t.inclusive})>0&&(r=l,i=t.inclusive);break}}return{value:r,inclusive:i}}class ku{constructor(e,t=null,r=[],i=[],a=null,l="F",c=null,h=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=l,this.startAt=c,this.endAt=h,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function QC(n,e,t,r,i,a,l,c){return new ku(n,e,t,r,i,a,l,c)}function Qd(n){return new ku(n)}function jx(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function _b(n){return n.collectionGroup!==null}function pd(n){const e=ft(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),t.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let c=new hr(qr.comparator);return l.filters.forEach((h=>{h.getFlattenedFilters().forEach((f=>{f.isInequality()&&(c=c.add(f.field))}))})),c})(e).forEach((a=>{t.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new $m(a,r))})),t.has(qr.keyField().canonicalString())||e.Ie.push(new $m(qr.keyField(),r))}return e.Ie}function ra(n){const e=ft(n);return e.Ee||(e.Ee=aq(e,pd(n))),e.Ee}function aq(n,e){if(n.limitType==="F")return H_(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((i=>{const a=i.dir==="desc"?"asc":"desc";return new $m(i.field,a)}));const t=n.endAt?new Fc(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Fc(n.startAt.position,n.startAt.inclusive):null;return H_(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function G_(n,e){const t=n.filters.concat([e]);return new ku(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function ky(n,e,t){return new ku(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function yg(n,e){return gg(ra(n),ra(e))&&n.limitType===e.limitType}function XC(n){return`${zh(ra(n))}|lt:${n.limitType}`}function Zf(n){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map((i=>WC(i))).join(", ")}]`),pg(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map((i=>(function(l){return`${l.field.canonicalString()} (${l.dir})`})(i))).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map((i=>Nd(i))).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map((i=>Nd(i))).join(",")),`Target(${r})`})(ra(n))}; limitType=${n.limitType})`}function vg(n,e){return e.isFoundDocument()&&(function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):ut.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)})(n,e)&&(function(r,i){for(const a of pd(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0})(n,e)&&(function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0})(n,e)&&(function(r,i){return!(r.startAt&&!(function(l,c,h){const f=Dx(l,c,h);return l.inclusive?f<=0:f<0})(r.startAt,pd(r),i)||r.endAt&&!(function(l,c,h){const f=Dx(l,c,h);return l.inclusive?f>=0:f>0})(r.endAt,pd(r),i))})(n,e)}function JC(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function ZC(n){return(e,t)=>{let r=!1;for(const i of pd(n)){const a=oq(i,e,t);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function oq(n,e,t){const r=n.field.isKeyField()?ut.comparator(e.key,t.key):(function(a,l,c){const h=l.data.field(a),f=c.data.field(a);return h!==null&&f!==null?jc(h,f):gt(42886)})(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return gt(19790,{direction:n.dir})}}class Du{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Kc(this.inner,((t,r)=>{for(const[i,a]of r)e(i,a)}))}isEmpty(){return kC(this.inner)}size(){return this.innerSize}}const lq=new Tr(ut.comparator);function Ca(){return lq}const e6=new Tr(ut.comparator);function im(...n){let e=e6;for(const t of n)e=e.insert(t.key,t);return e}function t6(n){let e=e6;return n.forEach(((t,r)=>e=e.insert(t,r.overlayedDocument))),e}function Dl(){return Em()}function n6(){return Em()}function Em(){return new Du((n=>n.toString()),((n,e)=>n.isEqual(e)))}const uq=new Tr(ut.comparator),cq=new hr(ut.comparator);function mn(...n){let e=cq;for(const t of n)e=e.add(t);return e}const hq=new hr(ln);function bb(){return hq}function wb(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Fm(e)?"-0":e}}function r6(n){return{integerValue:""+n}}function i6(n,e){return EC(e)?r6(e):wb(n,e)}class y0{constructor(){this._=void 0}}function fq(n,e,t){return n instanceof Rd?(function(i,a){const l={fields:{[MC]:{stringValue:OC},[jC]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&p0(a)&&(a=m0(a)),a&&(l.fields[VC]=a),{mapValue:l}})(t,e):n instanceof qh?a6(n,e):n instanceof Hh?o6(n,e):(function(i,a){const l=s6(i,a),c=Fx(l)+Fx(i.Ae);return B_(l)&&B_(i.Ae)?r6(c):wb(i.serializer,c)})(n,e)}function dq(n,e,t){return n instanceof qh?a6(n,e):n instanceof Hh?o6(n,e):t}function s6(n,e){return n instanceof Pd?(function(r){return B_(r)||(function(a){return!!a&&"doubleValue"in a})(r)})(e)?e:{integerValue:0}:null}class Rd extends y0{}class qh extends y0{constructor(e){super(),this.elements=e}}function a6(n,e){const t=l6(e);for(const r of n.elements)t.some((i=>Bl(i,r)))||t.push(r);return{arrayValue:{values:t}}}class Hh extends y0{constructor(e){super(),this.elements=e}}function o6(n,e){let t=l6(e);for(const r of n.elements)t=t.filter((i=>!Bl(i,r)));return{arrayValue:{values:t}}}class Pd extends y0{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function Fx(n){return Br(n.integerValue||n.doubleValue)}function l6(n){return Gm(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class _g{constructor(e,t){this.field=e,this.transform=t}}function pq(n,e){return n.field.isEqual(e.field)&&(function(r,i){return r instanceof qh&&i instanceof qh||r instanceof Hh&&i instanceof Hh?wd(r.elements,i.elements,Bl):r instanceof Pd&&i instanceof Pd?Bl(r.Ae,i.Ae):r instanceof Rd&&i instanceof Rd})(n.transform,e.transform)}class mq{constructor(e,t){this.version=e,this.transformResults=t}}class Hr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Hr}static exists(e){return new Hr(void 0,e)}static updateTime(e){return new Hr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ay(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class v0{}function u6(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Jd(n.key,Hr.none()):new Xd(n.key,n.data,Hr.none());{const t=n.data,r=As.empty();let i=new hr(qr.comparator);for(let a of e.fields)if(!i.has(a)){let l=t.field(a);l===null&&a.length>1&&(a=a.popLast(),l=t.field(a)),l===null?r.delete(a):r.set(a,l),i=i.add(a)}return new Ou(n.key,r,new Na(i.toArray()),Hr.none())}}function gq(n,e,t){n instanceof Xd?(function(i,a,l){const c=i.value.clone(),h=Bx(i.fieldTransforms,a,l.transformResults);c.setAll(h),a.convertToFoundDocument(l.version,c).setHasCommittedMutations()})(n,e,t):n instanceof Ou?(function(i,a,l){if(!ay(i.precondition,a))return void a.convertToUnknownDocument(l.version);const c=Bx(i.fieldTransforms,a,l.transformResults),h=a.data;h.setAll(c6(i)),h.setAll(c),a.convertToFoundDocument(l.version,h).setHasCommittedMutations()})(n,e,t):(function(i,a,l){a.convertToNoDocument(l.version).setHasCommittedMutations()})(0,e,t)}function Am(n,e,t,r){return n instanceof Xd?(function(a,l,c,h){if(!ay(a.precondition,l))return c;const f=a.value.clone(),p=zx(a.fieldTransforms,h,l);return f.setAll(p),l.convertToFoundDocument(l.version,f).setHasLocalMutations(),null})(n,e,t,r):n instanceof Ou?(function(a,l,c,h){if(!ay(a.precondition,l))return c;const f=zx(a.fieldTransforms,h,l),p=l.data;return p.setAll(c6(a)),p.setAll(f),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),c===null?null:c.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((v=>v.field)))})(n,e,t,r):(function(a,l,c){return ay(a.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):c})(n,e,t)}function yq(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),a=s6(r.transform,i||null);a!=null&&(t===null&&(t=As.empty()),t.set(r.field,a))}return t||null}function Ux(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&wd(r,i,((a,l)=>pq(a,l)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Xd extends v0{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ou extends v0{constructor(e,t,r,i,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function c6(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}})),e}function Bx(n,e,t){const r=new Map;Ct(n.length===t.length,32656,{Re:t.length,Ve:n.length});for(let i=0;i<t.length;i++){const a=n[i],l=a.transform,c=e.data.field(a.field);r.set(a.field,dq(l,c,t[i]))}return r}function zx(n,e,t){const r=new Map;for(const i of n){const a=i.transform,l=t.data.field(i.field);r.set(i.field,fq(a,l,e))}return r}class Jd extends v0{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Eb extends v0{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Ab{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&gq(a,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Am(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Am(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=n6();return this.mutations.forEach((i=>{const a=e.get(i.key),l=a.overlayedDocument;let c=this.applyToLocalView(l,a.mutatedFields);c=t.has(i.key)?null:c;const h=u6(l,c);h!==null&&r.set(i.key,h),l.isValidDocument()||l.convertToNoDocument(Mt.min())})),r}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),mn())}isEqual(e){return this.batchId===e.batchId&&wd(this.mutations,e.mutations,((t,r)=>Ux(t,r)))&&wd(this.baseMutations,e.baseMutations,((t,r)=>Ux(t,r)))}}class Sb{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Ct(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return uq})();const a=e.mutations;for(let l=0;l<a.length;l++)i=i.insert(a[l].key,r[l].version);return new Sb(e,t,r,i)}}class Tb{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class vq{constructor(e,t){this.count=e,this.unchangedNames=t}}var Ri,Fn;function h6(n){switch(n){case je.OK:return gt(64938);case je.CANCELLED:case je.UNKNOWN:case je.DEADLINE_EXCEEDED:case je.RESOURCE_EXHAUSTED:case je.INTERNAL:case je.UNAVAILABLE:case je.UNAUTHENTICATED:return!1;case je.INVALID_ARGUMENT:case je.NOT_FOUND:case je.ALREADY_EXISTS:case je.PERMISSION_DENIED:case je.FAILED_PRECONDITION:case je.ABORTED:case je.OUT_OF_RANGE:case je.UNIMPLEMENTED:case je.DATA_LOSS:return!0;default:return gt(15467,{code:n})}}function f6(n){if(n===void 0)return bi("GRPC error has no .code"),je.UNKNOWN;switch(n){case Ri.OK:return je.OK;case Ri.CANCELLED:return je.CANCELLED;case Ri.UNKNOWN:return je.UNKNOWN;case Ri.DEADLINE_EXCEEDED:return je.DEADLINE_EXCEEDED;case Ri.RESOURCE_EXHAUSTED:return je.RESOURCE_EXHAUSTED;case Ri.INTERNAL:return je.INTERNAL;case Ri.UNAVAILABLE:return je.UNAVAILABLE;case Ri.UNAUTHENTICATED:return je.UNAUTHENTICATED;case Ri.INVALID_ARGUMENT:return je.INVALID_ARGUMENT;case Ri.NOT_FOUND:return je.NOT_FOUND;case Ri.ALREADY_EXISTS:return je.ALREADY_EXISTS;case Ri.PERMISSION_DENIED:return je.PERMISSION_DENIED;case Ri.FAILED_PRECONDITION:return je.FAILED_PRECONDITION;case Ri.ABORTED:return je.ABORTED;case Ri.OUT_OF_RANGE:return je.OUT_OF_RANGE;case Ri.UNIMPLEMENTED:return je.UNIMPLEMENTED;case Ri.DATA_LOSS:return je.DATA_LOSS;default:return gt(39323,{code:n})}}(Fn=Ri||(Ri={}))[Fn.OK=0]="OK",Fn[Fn.CANCELLED=1]="CANCELLED",Fn[Fn.UNKNOWN=2]="UNKNOWN",Fn[Fn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Fn[Fn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Fn[Fn.NOT_FOUND=5]="NOT_FOUND",Fn[Fn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Fn[Fn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Fn[Fn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Fn[Fn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Fn[Fn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Fn[Fn.ABORTED=10]="ABORTED",Fn[Fn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Fn[Fn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Fn[Fn.INTERNAL=13]="INTERNAL",Fn[Fn.UNAVAILABLE=14]="UNAVAILABLE",Fn[Fn.DATA_LOSS=15]="DATA_LOSS";function d6(){return new TextEncoder}const _q=new Ic([4294967295,4294967295],0);function qx(n){const e=d6().encode(n),t=new sC;return t.update(e),new Uint8Array(t.digest())}function Hx(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Ic([t,r],0),new Ic([i,a],0)]}class xb{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new sm(`Invalid padding: ${t}`);if(r<0)throw new sm(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new sm(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new sm(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=Ic.fromNumber(this.ge)}ye(e,t,r){let i=e.add(t.multiply(Ic.fromNumber(r)));return i.compare(_q)===1&&(i=new Ic([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=qx(e),[r,i]=Hx(t);for(let a=0;a<this.hashCount;a++){const l=this.ye(r,i,a);if(!this.we(l))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),l=new xb(a,i,t);return r.forEach((c=>l.insert(c))),l}insert(e){if(this.ge===0)return;const t=qx(e),[r,i]=Hx(t);for(let a=0;a<this.hashCount;a++){const l=this.ye(r,i,a);this.Se(l)}}Se(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class sm extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class bg{constructor(e,t,r,i,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,wg.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new bg(Mt.min(),i,new Tr(ln),Ca(),mn())}}class wg{constructor(e,t,r,i,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new wg(r,t,mn(),mn(),mn())}}class oy{constructor(e,t,r,i){this.be=e,this.removedTargetIds=t,this.key=r,this.De=i}}class p6{constructor(e,t){this.targetId=e,this.Ce=t}}class m6{constructor(e,t,r=ui.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class Gx{constructor(){this.ve=0,this.Fe=$x(),this.Me=ui.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=mn(),t=mn(),r=mn();return this.Fe.forEach(((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:gt(38017,{changeType:a})}})),new wg(this.Me,this.xe,e,t,r)}qe(){this.Oe=!1,this.Fe=$x()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ct(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class bq{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ca(),this.Je=O1(),this.He=O1(),this.Ye=new Tr(ln)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const r=this.nt(t);switch(e.state){case 0:this.rt(t)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),r.Le(e.resumeToken));break;default:gt(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((r,i)=>{this.rt(i)&&t(i)}))}st(e){const t=e.targetId,r=e.Ce.count,i=this.ot(t);if(i){const a=i.target;if(Py(a))if(r===0){const l=new ut(a.path);this.et(t,l,Lr.newNoDocument(l,Mt.min()))}else Ct(r===1,20013,{expectedCount:r});else{const l=this._t(t);if(l!==r){const c=this.ut(e),h=c?this.ct(c,e,l):1;if(h!==0){this.it(t);const f=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,f)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=t;let l,c;try{l=Nu(r).toUint8Array()}catch(h){if(h instanceof DC)return Ul("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{c=new xb(l,i,a)}catch(h){return Ul(h instanceof sm?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return c.ge===0?null:c}ct(e,t,r){return t.Ce.count===r-this.Pt(e,t.targetId)?0:2}Pt(e,t){const r=this.Ge.getRemoteKeysForTarget(t);let i=0;return r.forEach((a=>{const l=this.Ge.ht(),c=`projects/${l.projectId}/databases/${l.database}/documents/${a.path.canonicalString()}`;e.mightContain(c)||(this.et(t,a,null),i++)})),i}Tt(e){const t=new Map;this.ze.forEach(((a,l)=>{const c=this.ot(l);if(c){if(a.current&&Py(c.target)){const h=new ut(c.target.path);this.It(h).has(l)||this.Et(l,h)||this.et(l,h,Lr.newNoDocument(h,e))}a.Be&&(t.set(l,a.ke()),a.qe())}}));let r=mn();this.He.forEach(((a,l)=>{let c=!0;l.forEachWhile((h=>{const f=this.ot(h);return!f||f.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)})),c&&(r=r.add(a))})),this.je.forEach(((a,l)=>l.setReadTime(e)));const i=new bg(e,t,this.Ye,this.je,r);return this.je=Ca(),this.Je=O1(),this.He=O1(),this.Ye=new Tr(ln),i}Xe(e,t){if(!this.rt(e))return;const r=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,r),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,t)?i.Qe(t,1):i.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),r&&(this.je=this.je.insert(t,r))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new Gx,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new hr(ln),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new hr(ln),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||nt("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Gx),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function O1(){return new Tr(ut.comparator)}function $x(){return new Tr(ut.comparator)}const wq={asc:"ASCENDING",desc:"DESCENDING"},Eq={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Aq={and:"AND",or:"OR"};class Sq{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function $_(n,e){return n.useProto3Json||pg(e)?e:{value:e}}function Ld(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function g6(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function Tq(n,e){return Ld(n,e.toTimestamp())}function wi(n){return Ct(!!n,49232),Mt.fromTimestamp((function(t){const r=Iu(t);return new nr(r.seconds,r.nanos)})(n))}function Ib(n,e){return W_(n,e).canonicalString()}function W_(n,e){const t=(function(i){return new In(["projects",i.projectId,"databases",i.database])})(n).child("documents");return e===void 0?t:t.child(e)}function y6(n){const e=In.fromString(n);return Ct(I6(e),10190,{key:e.toString()}),e}function Wm(n,e){return Ib(n.databaseId,e.path)}function Ml(n,e){const t=y6(e);if(t.get(1)!==n.databaseId.projectId)throw new tt(je.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new tt(je.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ut(b6(t))}function v6(n,e){return Ib(n.databaseId,e)}function _6(n){const e=y6(n);return e.length===4?In.emptyPath():b6(e)}function K_(n){return new In(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function b6(n){return Ct(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function Wx(n,e,t){return{name:Wm(n,e),fields:t.value.mapValue.fields}}function w6(n,e,t){const r=Ml(n,e.name),i=wi(e.updateTime),a=e.createTime?wi(e.createTime):Mt.min(),l=new As({mapValue:{fields:e.fields}}),c=Lr.newFoundDocument(r,i,a,l);return t&&c.setHasCommittedMutations(),t?c.setHasCommittedMutations():c}function xq(n,e){return"found"in e?(function(r,i){Ct(!!i.found,43571),i.found.name,i.found.updateTime;const a=Ml(r,i.found.name),l=wi(i.found.updateTime),c=i.found.createTime?wi(i.found.createTime):Mt.min(),h=new As({mapValue:{fields:i.found.fields}});return Lr.newFoundDocument(a,l,c,h)})(n,e):"missing"in e?(function(r,i){Ct(!!i.missing,3894),Ct(!!i.readTime,22933);const a=Ml(r,i.missing),l=wi(i.readTime);return Lr.newNoDocument(a,l)})(n,e):gt(7234,{result:e})}function Iq(n,e){let t;if("targetChange"in e){e.targetChange;const r=(function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:gt(39313,{state:f})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=(function(f,p){return f.useProto3Json?(Ct(p===void 0||typeof p=="string",58123),ui.fromBase64String(p||"")):(Ct(p===void 0||p instanceof Buffer||p instanceof Uint8Array,16193),ui.fromUint8Array(p||new Uint8Array))})(n,e.targetChange.resumeToken),l=e.targetChange.cause,c=l&&(function(f){const p=f.code===void 0?je.UNKNOWN:f6(f.code);return new tt(p,f.message||"")})(l);t=new m6(r,i,a,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Ml(n,r.document.name),a=wi(r.document.updateTime),l=r.document.createTime?wi(r.document.createTime):Mt.min(),c=new As({mapValue:{fields:r.document.fields}}),h=Lr.newFoundDocument(i,a,l,c),f=r.targetIds||[],p=r.removedTargetIds||[];t=new oy(f,p,h.key,h)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Ml(n,r.document),a=r.readTime?wi(r.readTime):Mt.min(),l=Lr.newNoDocument(i,a),c=r.removedTargetIds||[];t=new oy([],c,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Ml(n,r.document),a=r.removedTargetIds||[];t=new oy([],a,i,null)}else{if(!("filter"in e))return gt(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,l=new vq(i,a),c=r.targetId;t=new p6(c,l)}}return t}function Km(n,e){let t;if(e instanceof Xd)t={update:Wx(n,e.key,e.value)};else if(e instanceof Jd)t={delete:Wm(n,e.key)};else if(e instanceof Ou)t={update:Wx(n,e.key,e.data),updateMask:kq(e.fieldMask)};else{if(!(e instanceof Eb))return gt(16599,{Vt:e.type});t={verify:Wm(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((r=>(function(a,l){const c=l.transform;if(c instanceof Rd)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof qh)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Hh)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Pd)return{fieldPath:l.field.canonicalString(),increment:c.Ae};throw gt(20930,{transform:l.transform})})(0,r)))),e.precondition.isNone||(t.currentDocument=(function(i,a){return a.updateTime!==void 0?{updateTime:Tq(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:gt(27497)})(n,e.precondition)),t}function Y_(n,e){const t=e.currentDocument?(function(a){return a.updateTime!==void 0?Hr.updateTime(wi(a.updateTime)):a.exists!==void 0?Hr.exists(a.exists):Hr.none()})(e.currentDocument):Hr.none(),r=e.updateTransforms?e.updateTransforms.map((i=>(function(l,c){let h=null;if("setToServerValue"in c)Ct(c.setToServerValue==="REQUEST_TIME",16630,{proto:c}),h=new Rd;else if("appendMissingElements"in c){const p=c.appendMissingElements.values||[];h=new qh(p)}else if("removeAllFromArray"in c){const p=c.removeAllFromArray.values||[];h=new Hh(p)}else"increment"in c?h=new Pd(l,c.increment):gt(16584,{proto:c});const f=qr.fromServerFormat(c.fieldPath);return new _g(f,h)})(n,i))):[];if(e.update){e.update.name;const i=Ml(n,e.update.name),a=new As({mapValue:{fields:e.update.fields}});if(e.updateMask){const l=(function(h){const f=h.fieldPaths||[];return new Na(f.map((p=>qr.fromServerFormat(p))))})(e.updateMask);return new Ou(i,a,l,t,r)}return new Xd(i,a,t,r)}if(e.delete){const i=Ml(n,e.delete);return new Jd(i,t)}if(e.verify){const i=Ml(n,e.verify);return new Eb(i,t)}return gt(1463,{proto:e})}function Nq(n,e){return n&&n.length>0?(Ct(e!==void 0,14353),n.map((t=>(function(i,a){let l=i.updateTime?wi(i.updateTime):wi(a);return l.isEqual(Mt.min())&&(l=wi(a)),new mq(l,i.transformResults||[])})(t,e)))):[]}function E6(n,e){return{documents:[v6(n,e.path)]}}function A6(n,e){const t={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=v6(n,i);const a=(function(f){if(f.length!==0)return x6(cr.create(f,"and"))})(e.filters);a&&(t.structuredQuery.where=a);const l=(function(f){if(f.length!==0)return f.map((p=>(function(E){return{field:ed(E.field),direction:Rq(E.dir)}})(p)))})(e.orderBy);l&&(t.structuredQuery.orderBy=l);const c=$_(n,e.limit);return c!==null&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt=(function(f){return{before:f.inclusive,values:f.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(f){return{before:!f.inclusive,values:f.position}})(e.endAt)),{ft:t,parent:i}}function S6(n){let e=_6(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){Ct(r===1,65062);const p=t.from[0];p.allDescendants?i=p.collectionId:e=e.child(p.collectionId)}let a=[];t.where&&(a=(function(v){const E=T6(v);return E instanceof cr&&vb(E)?E.getFilters():[E]})(t.where));let l=[];t.orderBy&&(l=(function(v){return v.map((E=>(function(R){return new $m(td(R.field),(function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(R.direction))})(E)))})(t.orderBy));let c=null;t.limit&&(c=(function(v){let E;return E=typeof v=="object"?v.value:v,pg(E)?null:E})(t.limit));let h=null;t.startAt&&(h=(function(v){const E=!!v.before,b=v.values||[];return new Fc(b,E)})(t.startAt));let f=null;return t.endAt&&(f=(function(v){const E=!v.before,b=v.values||[];return new Fc(b,E)})(t.endAt)),QC(e,i,l,a,c,"F",h,f)}function Cq(n,e){const t=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return gt(28987,{purpose:i})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function T6(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=td(t.unaryFilter.field);return Pn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=td(t.unaryFilter.field);return Pn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=td(t.unaryFilter.field);return Pn.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=td(t.unaryFilter.field);return Pn.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return gt(61313);default:return gt(60726)}})(n):n.fieldFilter!==void 0?(function(t){return Pn.create(td(t.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return gt(58110);default:return gt(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return cr.create(t.compositeFilter.filters.map((r=>T6(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return gt(1026)}})(t.compositeFilter.op))})(n):gt(30097,{filter:n})}function Rq(n){return wq[n]}function Pq(n){return Eq[n]}function Lq(n){return Aq[n]}function ed(n){return{fieldPath:n.canonicalString()}}function td(n){return qr.fromServerFormat(n.fieldPath)}function x6(n){return n instanceof Pn?(function(t){if(t.op==="=="){if(Px(t.value))return{unaryFilter:{field:ed(t.field),op:"IS_NAN"}};if(Rx(t.value))return{unaryFilter:{field:ed(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Px(t.value))return{unaryFilter:{field:ed(t.field),op:"IS_NOT_NAN"}};if(Rx(t.value))return{unaryFilter:{field:ed(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ed(t.field),op:Pq(t.op),value:t.value}}})(n):n instanceof cr?(function(t){const r=t.getFilters().map((i=>x6(i)));return r.length===1?r[0]:{compositeFilter:{op:Lq(t.op),filters:r}}})(n):gt(54877,{filter:n})}function kq(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function I6(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}class bu{constructor(e,t,r,i,a=Mt.min(),l=Mt.min(),c=ui.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=c,this.expectedCount=h}withSequenceNumber(e){return new bu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new bu(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new bu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new bu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class N6{constructor(e){this.yt=e}}function Dq(n,e){let t;if(e.document)t=w6(n.yt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=ut.fromSegments(e.noDocument.path),i=$h(e.noDocument.readTime);t=Lr.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return gt(56709);{const r=ut.fromSegments(e.unknownDocument.path),i=$h(e.unknownDocument.version);t=Lr.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime((function(i){const a=new nr(i[0],i[1]);return Mt.fromTimestamp(a)})(e.readTime)),t}function Kx(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Dy(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=(function(a,l){return{name:Wm(a,l.key),fields:l.data.value.mapValue.fields,updateTime:Ld(a,l.version.toTimestamp()),createTime:Ld(a,l.createTime.toTimestamp())}})(n.yt,e);else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:Gh(e.version)};else{if(!e.isUnknownDocument())return gt(57904,{document:e});r.unknownDocument={path:t.path.toArray(),version:Gh(e.version)}}return r}function Dy(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Gh(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function $h(n){const e=new nr(n.seconds,n.nanoseconds);return Mt.fromTimestamp(e)}function Sh(n,e){const t=(e.baseMutations||[]).map((a=>Y_(n.yt,a)));for(let a=0;a<e.mutations.length-1;++a){const l=e.mutations[a];if(a+1<e.mutations.length&&e.mutations[a+1].transform!==void 0){const c=e.mutations[a+1];l.updateTransforms=c.transform.fieldTransforms,e.mutations.splice(a+1,1),++a}}const r=e.mutations.map((a=>Y_(n.yt,a))),i=nr.fromMillis(e.localWriteTimeMs);return new Ab(e.batchId,i,t,r)}function am(n){const e=$h(n.readTime),t=n.lastLimboFreeSnapshotVersion!==void 0?$h(n.lastLimboFreeSnapshotVersion):Mt.min();let r;return r=(function(a){return a.documents!==void 0})(n.query)?(function(a){const l=a.documents.length;return Ct(l===1,1966,{count:l}),ra(Qd(_6(a.documents[0])))})(n.query):(function(a){return ra(S6(a))})(n.query),new bu(r,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,ui.fromBase64String(n.resumeToken))}function C6(n,e){const t=Gh(e.snapshotVersion),r=Gh(e.lastLimboFreeSnapshotVersion);let i;i=Py(e.target)?E6(n.yt,e.target):A6(n.yt,e.target).ft;const a=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:zh(e.target),readTime:t,resumeToken:a,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function Nb(n){const e=S6({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?ky(e,e.limit,"L"):e}function G2(n,e){return new Tb(e.largestBatchId,Y_(n.yt,e.overlayMutation))}function Yx(n,e){const t=e.path.lastSegment();return[n,zs(e.path.popLast()),t]}function Qx(n,e,t,r){return{indexId:n,uid:e,sequenceNumber:t,readTime:Gh(r.readTime),documentKey:zs(r.documentKey.path),largestBatchId:r.largestBatchId}}class Oq{getBundleMetadata(e,t){return Xx(e).get(t).next((r=>{if(r)return(function(a){return{id:a.bundleId,createTime:$h(a.createTime),version:a.version}})(r)}))}saveBundleMetadata(e,t){return Xx(e).put((function(i){return{bundleId:i.id,createTime:Gh(wi(i.createTime)),version:i.version}})(t))}getNamedQuery(e,t){return Jx(e).get(t).next((r=>{if(r)return(function(a){return{name:a.name,query:Nb(a.bundledQuery),readTime:$h(a.readTime)}})(r)}))}saveNamedQuery(e,t){return Jx(e).put((function(i){return{name:i.name,readTime:Gh(wi(i.readTime)),bundledQuery:i.bundledQuery}})(t))}}function Xx(n){return Wi(n,h0)}function Jx(n){return Wi(n,f0)}class _0{constructor(e,t){this.serializer=e,this.userId=t}static wt(e,t){const r=t.uid||"";return new _0(e,r)}getOverlay(e,t){return Wp(e).get(Yx(this.userId,t)).next((r=>r?G2(this.serializer,r):null))}getOverlays(e,t){const r=Dl();return Re.forEach(t,(i=>this.getOverlay(e,i).next((a=>{a!==null&&r.set(i,a)})))).next((()=>r))}saveOverlays(e,t,r){const i=[];return r.forEach(((a,l)=>{const c=new Tb(t,l);i.push(this.St(e,c))})),Re.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach((l=>i.add(zs(l.getCollectionPath()))));const a=[];return i.forEach((l=>{const c=IDBKeyRange.bound([this.userId,l,r],[this.userId,l,r+1],!1,!0);a.push(Wp(e).Z(V_,c))})),Re.waitFor(a)}getOverlaysForCollection(e,t,r){const i=Dl(),a=zs(t),l=IDBKeyRange.bound([this.userId,a,r],[this.userId,a,Number.POSITIVE_INFINITY],!0);return Wp(e).J(V_,l).next((c=>{for(const h of c){const f=G2(this.serializer,h);i.set(f.getKey(),f)}return i}))}getOverlaysForCollectionGroup(e,t,r,i){const a=Dl();let l;const c=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Wp(e).ee({index:NC,range:c},((h,f,p)=>{const v=G2(this.serializer,f);a.size()<i||v.largestBatchId===l?(a.set(v.getKey(),v),l=v.largestBatchId):p.done()})).next((()=>a))}St(e,t){return Wp(e).put((function(i,a,l){const[c,h,f]=Yx(a,l.mutation.key);return{userId:a,collectionPath:h,documentId:f,collectionGroup:l.mutation.key.getCollectionGroup(),largestBatchId:l.largestBatchId,overlayMutation:Km(i.yt,l.mutation)}})(this.serializer,this.userId,t))}}function Wp(n){return Wi(n,d0)}class Mq{bt(e){return Wi(e,pb)}getSessionToken(e){return this.bt(e).get("sessionToken").next((t=>{const r=t?.value;return r?ui.fromUint8Array(r):ui.EMPTY_BYTE_STRING}))}setSessionToken(e,t){return this.bt(e).put({name:"sessionToken",value:t.toUint8Array()})}}class Th{constructor(){}Dt(e,t){this.Ct(e,t),t.vt()}Ct(e,t){if("nullValue"in e)this.Ft(t,5);else if("booleanValue"in e)this.Ft(t,10),t.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(t,15),t.Mt(Br(e.integerValue));else if("doubleValue"in e){const r=Br(e.doubleValue);isNaN(r)?this.Ft(t,13):(this.Ft(t,15),Fm(r)?t.Mt(0):t.Mt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ft(t,20),typeof r=="string"&&(r=Iu(r)),t.xt(`${r.seconds||""}`),t.Mt(r.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,t),this.Nt(t);else if("bytesValue"in e)this.Ft(t,30),t.Bt(Nu(e.bytesValue)),this.Nt(t);else if("referenceValue"in e)this.Lt(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.Ft(t,45),t.Mt(r.latitude||0),t.Mt(r.longitude||0)}else"mapValue"in e?UC(e)?this.Ft(t,Number.MAX_SAFE_INTEGER):g0(e)?this.kt(e.mapValue,t):(this.qt(e.mapValue,t),this.Nt(t)):"arrayValue"in e?(this.Qt(e.arrayValue,t),this.Nt(t)):gt(19022,{$t:e})}Ot(e,t){this.Ft(t,25),this.Ut(e,t)}Ut(e,t){t.xt(e)}qt(e,t){const r=e.fields||{};this.Ft(t,55);for(const i of Object.keys(r))this.Ot(i,t),this.Ct(r[i],t)}kt(e,t){const r=e.fields||{};this.Ft(t,53);const i=Id,a=r[i].arrayValue?.values?.length||0;this.Ft(t,15),t.Mt(Br(a)),this.Ot(i,t),this.Ct(r[i],t)}Qt(e,t){const r=e.values||[];this.Ft(t,50);for(const i of r)this.Ct(i,t)}Lt(e,t){this.Ft(t,37),ut.fromName(e).path.forEach((r=>{this.Ft(t,60),this.Ut(r,t)}))}Ft(e,t){e.Mt(t)}Nt(e){e.Mt(2)}}Th.Kt=new Th;const $f=255;function Vq(n){if(n===0)return 8;let e=0;return n>>4||(e+=4,n<<=4),n>>6||(e+=2,n<<=2),n>>7||(e+=1),e}function Zx(n){const e=64-(function(r){let i=0;for(let a=0;a<8;++a){const l=Vq(255&r[a]);if(i+=l,l!==8)break}return i})(n);return Math.ceil(e/8)}class jq{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Wt(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Gt(r.value),r=t.next();this.zt()}jt(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Jt(r.value),r=t.next();this.Ht()}Yt(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Gt(r);else if(r<2048)this.Gt(960|r>>>6),this.Gt(128|63&r);else if(t<"\uD800"||"\uDBFF"<t)this.Gt(480|r>>>12),this.Gt(128|63&r>>>6),this.Gt(128|63&r);else{const i=t.codePointAt(0);this.Gt(240|i>>>18),this.Gt(128|63&i>>>12),this.Gt(128|63&i>>>6),this.Gt(128|63&i)}}this.zt()}Zt(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Jt(r);else if(r<2048)this.Jt(960|r>>>6),this.Jt(128|63&r);else if(t<"\uD800"||"\uDBFF"<t)this.Jt(480|r>>>12),this.Jt(128|63&r>>>6),this.Jt(128|63&r);else{const i=t.codePointAt(0);this.Jt(240|i>>>18),this.Jt(128|63&i>>>12),this.Jt(128|63&i>>>6),this.Jt(128|63&i)}}this.Ht()}Xt(e){const t=this.en(e),r=Zx(t);this.tn(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}nn(e){const t=this.en(e),r=Zx(t);this.tn(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}rn(){this.sn($f),this.sn(255)}_n(){this.an($f),this.an(255)}reset(){this.position=0}seed(e){this.tn(e.length),this.buffer.set(e,this.position),this.position+=e.length}un(){return this.buffer.slice(0,this.position)}en(e){const t=(function(a){const l=new DataView(new ArrayBuffer(8));return l.setFloat64(0,a,!1),new Uint8Array(l.buffer)})(e),r=!!(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}Gt(e){const t=255&e;t===0?(this.sn(0),this.sn(255)):t===$f?(this.sn($f),this.sn(0)):this.sn(t)}Jt(e){const t=255&e;t===0?(this.an(0),this.an(255)):t===$f?(this.an($f),this.an(0)):this.an(e)}zt(){this.sn(0),this.sn(1)}Ht(){this.an(0),this.an(1)}sn(e){this.tn(1),this.buffer[this.position++]=e}an(e){this.tn(1),this.buffer[this.position++]=~e}tn(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class Fq{constructor(e){this.cn=e}Bt(e){this.cn.Wt(e)}xt(e){this.cn.Yt(e)}Mt(e){this.cn.Xt(e)}vt(){this.cn.rn()}}class Uq{constructor(e){this.cn=e}Bt(e){this.cn.jt(e)}xt(e){this.cn.Zt(e)}Mt(e){this.cn.nn(e)}vt(){this.cn._n()}}class Kp{constructor(){this.cn=new jq,this.ln=new Fq(this.cn),this.hn=new Uq(this.cn)}seed(e){this.cn.seed(e)}Pn(e){return e===0?this.ln:this.hn}un(){return this.cn.un()}reset(){this.cn.reset()}}class xh{constructor(e,t,r,i){this.Tn=e,this.In=t,this.En=r,this.dn=i}An(){const e=this.dn.length,t=e===0||this.dn[e-1]===255?e+1:e,r=new Uint8Array(t);return r.set(this.dn,0),t!==e?r.set([0],this.dn.length):++r[r.length-1],new xh(this.Tn,this.In,this.En,r)}Rn(e,t,r){return{indexId:this.Tn,uid:e,arrayValue:ly(this.En),directionalValue:ly(this.dn),orderedDocumentKey:ly(t),documentKey:r.path.toArray()}}Vn(e,t,r){const i=this.Rn(e,t,r);return[i.indexId,i.uid,i.arrayValue,i.directionalValue,i.orderedDocumentKey,i.documentKey]}}function mc(n,e){let t=n.Tn-e.Tn;return t!==0?t:(t=e4(n.En,e.En),t!==0?t:(t=e4(n.dn,e.dn),t!==0?t:ut.comparator(n.In,e.In)))}function e4(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(r!==0)return r}return n.length-e.length}function ly(n){return $3()?(function(t){let r="";for(let i=0;i<t.length;i++)r+=String.fromCharCode(t[i]);return r})(n):n}function t4(n){return typeof n!="string"?n:(function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r})(n)}class n4{constructor(e){this.mn=new hr(((t,r)=>qr.comparator(t.field,r.field))),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.fn=e.orderBy,this.gn=[];for(const t of e.filters){const r=t;r.isInequality()?this.mn=this.mn.add(r):this.gn.push(r)}}get pn(){return this.mn.size>1}yn(e){if(Ct(e.collectionGroup===this.collectionId,49279),this.pn)return!1;const t=D_(e);if(t!==void 0&&!this.wn(t))return!1;const r=_h(e);let i=new Set,a=0,l=0;for(;a<r.length&&this.wn(r[a]);++a)i=i.add(r[a].fieldPath.canonicalString());if(a===r.length)return!0;if(this.mn.size>0){const c=this.mn.getIterator().getNext();if(!i.has(c.field.canonicalString())){const h=r[a];if(!this.Sn(c,h)||!this.bn(this.fn[l++],h))return!1}++a}for(;a<r.length;++a){const c=r[a];if(l>=this.fn.length||!this.bn(this.fn[l++],c))return!1}return!0}Dn(){if(this.pn)return null;let e=new hr(qr.comparator);const t=[];for(const r of this.gn)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")t.push(new ey(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),t.push(new ey(r.field,0))}for(const r of this.fn)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),t.push(new ey(r.field,r.dir==="asc"?0:1)));return new Iy(Iy.UNKNOWN_ID,this.collectionId,t,jm.empty())}wn(e){for(const t of this.gn)if(this.Sn(t,e))return!0;return!1}Sn(e,t){if(e===void 0||!e.field.isEqual(t.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return t.kind===2===r}bn(e,t){return!!e.field.isEqual(t.fieldPath)&&(t.kind===0&&e.dir==="asc"||t.kind===1&&e.dir==="desc")}}function R6(n){if(Ct(n instanceof Pn||n instanceof cr,20012),n instanceof Pn){if(n instanceof YC){const t=n.value.arrayValue?.values?.map((r=>Pn.create(n.field,"==",r)))||[];return cr.create(t,"or")}return n}const e=n.filters.map((t=>R6(t)));return cr.create(e,n.op)}function Bq(n){if(n.getFilters().length===0)return[];const e=J_(R6(n));return Ct(P6(e),7391),Q_(e)||X_(e)?[e]:e.getFilters()}function Q_(n){return n instanceof Pn}function X_(n){return n instanceof cr&&vb(n)}function P6(n){return Q_(n)||X_(n)||(function(t){if(t instanceof cr&&z_(t)){for(const r of t.getFilters())if(!Q_(r)&&!X_(r))return!1;return!0}return!1})(n)}function J_(n){if(Ct(n instanceof Pn||n instanceof cr,34018),n instanceof Pn)return n;if(n.filters.length===1)return J_(n.filters[0]);const e=n.filters.map((r=>J_(r)));let t=cr.create(e,n.op);return t=Oy(t),P6(t)?t:(Ct(t instanceof cr,64498),Ct(Cd(t),40251),Ct(t.filters.length>1,57927),t.filters.reduce(((r,i)=>Cb(r,i))))}function Cb(n,e){let t;return Ct(n instanceof Pn||n instanceof cr,38388),Ct(e instanceof Pn||e instanceof cr,25473),t=n instanceof Pn?e instanceof Pn?(function(i,a){return cr.create([i,a],"and")})(n,e):r4(n,e):e instanceof Pn?r4(e,n):(function(i,a){if(Ct(i.filters.length>0&&a.filters.length>0,48005),Cd(i)&&Cd(a))return $C(i,a.getFilters());const l=z_(i)?i:a,c=z_(i)?a:i,h=l.filters.map((f=>Cb(f,c)));return cr.create(h,"or")})(n,e),Oy(t)}function r4(n,e){if(Cd(e))return $C(e,n.getFilters());{const t=e.filters.map((r=>Cb(n,r)));return cr.create(t,"or")}}function Oy(n){if(Ct(n instanceof Pn||n instanceof cr,11850),n instanceof Pn)return n;const e=n.getFilters();if(e.length===1)return Oy(e[0]);if(HC(n))return n;const t=e.map((i=>Oy(i))),r=[];return t.forEach((i=>{i instanceof Pn?r.push(i):i instanceof cr&&(i.op===n.op?r.push(...i.filters):r.push(i))})),r.length===1?r[0]:cr.create(r,n.op)}class zq{constructor(){this.Cn=new Rb}addToCollectionParentIndex(e,t){return this.Cn.add(t),Re.resolve()}getCollectionParents(e,t){return Re.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return Re.resolve()}deleteFieldIndex(e,t){return Re.resolve()}deleteAllFieldIndexes(e){return Re.resolve()}createTargetIndexes(e,t){return Re.resolve()}getDocumentsMatchingTarget(e,t){return Re.resolve(null)}getIndexType(e,t){return Re.resolve(0)}getFieldIndexes(e,t){return Re.resolve([])}getNextCollectionGroupToUpdate(e){return Re.resolve(null)}getMinOffset(e,t){return Re.resolve(Qa.min())}getMinOffsetFromCollectionGroup(e,t){return Re.resolve(Qa.min())}updateCollectionGroup(e,t,r){return Re.resolve()}updateIndexEntries(e,t){return Re.resolve()}}class Rb{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new hr(In.comparator),a=!i.has(r);return this.index[t]=i.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new hr(In.comparator)).toArray()}}const i4="IndexedDbIndexManager",M1=new Uint8Array(0);class qq{constructor(e,t){this.databaseId=t,this.vn=new Rb,this.Fn=new Du((r=>zh(r)),((r,i)=>gg(r,i))),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.vn.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((()=>{this.vn.add(t)}));const a={collectionId:r,parent:zs(i)};return s4(e).put(a)}return Re.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[dC(t),""],!1,!0);return s4(e).J(i).next((a=>{for(const l of a){if(l.collectionId!==t)break;r.push(kl(l.parent))}return r}))}addFieldIndex(e,t){const r=Yp(e),i=(function(c){return{indexId:c.indexId,collectionGroup:c.collectionGroup,fields:c.fields.map((h=>[h.fieldPath.canonicalString(),h.kind]))}})(t);delete i.indexId;const a=r.add(i);if(t.indexState){const l=Kf(e);return a.next((c=>{l.put(Qx(c,this.uid,t.indexState.sequenceNumber,t.indexState.offset))}))}return a.next()}deleteFieldIndex(e,t){const r=Yp(e),i=Kf(e),a=Wf(e);return r.delete(t.indexId).next((()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))).next((()=>a.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))))}deleteAllFieldIndexes(e){const t=Yp(e),r=Wf(e),i=Kf(e);return t.Z().next((()=>r.Z())).next((()=>i.Z()))}createTargetIndexes(e,t){return Re.forEach(this.Mn(t),(r=>this.getIndexType(e,r).next((i=>{if(i===0||i===1){const a=new n4(r).Dn();if(a!=null)return this.addFieldIndex(e,a)}}))))}getDocumentsMatchingTarget(e,t){const r=Wf(e);let i=!0;const a=new Map;return Re.forEach(this.Mn(t),(l=>this.xn(e,l).next((c=>{i&&(i=!!c),a.set(l,c)})))).next((()=>{if(i){let l=mn();const c=[];return Re.forEach(a,((h,f)=>{nt(i4,`Using index ${(function($){return`id=${$.indexId}|cg=${$.collectionGroup}|f=${$.fields.map((ee=>`${ee.fieldPath}:${ee.kind}`)).join(",")}`})(h)} to execute ${zh(t)}`);const p=(function($,ee){const ye=D_(ee);if(ye===void 0)return null;for(const ve of Ly($,ye.fieldPath))switch(ve.op){case"array-contains-any":return ve.value.arrayValue.values||[];case"array-contains":return[ve.value]}return null})(f,h),v=(function($,ee){const ye=new Map;for(const ve of _h(ee))for(const z of Ly($,ve.fieldPath))switch(z.op){case"==":case"in":ye.set(ve.fieldPath.canonicalString(),z.value);break;case"not-in":case"!=":return ye.set(ve.fieldPath.canonicalString(),z.value),Array.from(ye.values())}return null})(f,h),E=(function($,ee){const ye=[];let ve=!0;for(const z of _h(ee)){const F=z.kind===0?Mx($,z.fieldPath,$.startAt):Vx($,z.fieldPath,$.startAt);ye.push(F.value),ve&&(ve=F.inclusive)}return new Fc(ye,ve)})(f,h),b=(function($,ee){const ye=[];let ve=!0;for(const z of _h(ee)){const F=z.kind===0?Vx($,z.fieldPath,$.endAt):Mx($,z.fieldPath,$.endAt);ye.push(F.value),ve&&(ve=F.inclusive)}return new Fc(ye,ve)})(f,h),R=this.On(h,f,E),P=this.On(h,f,b),M=this.Nn(h,f,v),k=this.Bn(h.indexId,p,R,E.inclusive,P,b.inclusive,M);return Re.forEach(k,(K=>r.Y(K,t.limit).next(($=>{$.forEach((ee=>{const ye=ut.fromSegments(ee.documentKey);l.has(ye)||(l=l.add(ye),c.push(ye))}))}))))})).next((()=>c))}return Re.resolve(null)}))}Mn(e){let t=this.Fn.get(e);return t||(e.filters.length===0?t=[e]:t=Bq(cr.create(e.filters,"and")).map((r=>H_(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt))),this.Fn.set(e,t),t)}Bn(e,t,r,i,a,l,c){const h=(t!=null?t.length:1)*Math.max(r.length,a.length),f=h/(t!=null?t.length:1),p=[];for(let v=0;v<h;++v){const E=t?this.Ln(t[v/f]):M1,b=this.kn(e,E,r[v%f],i),R=this.qn(e,E,a[v%f],l),P=c.map((M=>this.kn(e,E,M,!0)));p.push(...this.createRange(b,R,P))}return p}kn(e,t,r,i){const a=new xh(e,ut.empty(),t,r);return i?a:a.An()}qn(e,t,r,i){const a=new xh(e,ut.empty(),t,r);return i?a.An():a}xn(e,t){const r=new n4(t),i=t.collectionGroup!=null?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next((a=>{let l=null;for(const c of a)r.yn(c)&&(!l||c.fields.length>l.fields.length)&&(l=c);return l}))}getIndexType(e,t){let r=2;const i=this.Mn(t);return Re.forEach(i,(a=>this.xn(e,a).next((l=>{l?r!==0&&l.fields.length<(function(h){let f=new hr(qr.comparator),p=!1;for(const v of h.filters)for(const E of v.getFlattenedFilters())E.field.isKeyField()||(E.op==="array-contains"||E.op==="array-contains-any"?p=!0:f=f.add(E.field));for(const v of h.orderBy)v.field.isKeyField()||(f=f.add(v.field));return f.size+(p?1:0)})(a)&&(r=1):r=0})))).next((()=>(function(l){return l.limit!==null})(t)&&i.length>1&&r===2?1:r))}Qn(e,t){const r=new Kp;for(const i of _h(e)){const a=t.data.field(i.fieldPath);if(a==null)return null;const l=r.Pn(i.kind);Th.Kt.Dt(a,l)}return r.un()}Ln(e){const t=new Kp;return Th.Kt.Dt(e,t.Pn(0)),t.un()}$n(e,t){const r=new Kp;return Th.Kt.Dt(Bh(this.databaseId,t),r.Pn((function(a){const l=_h(a);return l.length===0?0:l[l.length-1].kind})(e))),r.un()}Nn(e,t,r){if(r===null)return[];let i=[];i.push(new Kp);let a=0;for(const l of _h(e)){const c=r[a++];for(const h of i)if(this.Un(t,l.fieldPath)&&Gm(c))i=this.Kn(i,l,c);else{const f=h.Pn(l.kind);Th.Kt.Dt(c,f)}}return this.Wn(i)}On(e,t,r){return this.Nn(e,t,r.position)}Wn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].un();return t}Kn(e,t,r){const i=[...e],a=[];for(const l of r.arrayValue.values||[])for(const c of i){const h=new Kp;h.seed(c.un()),Th.Kt.Dt(l,h.Pn(t.kind)),a.push(h)}return a}Un(e,t){return!!e.filters.find((r=>r instanceof Pn&&r.field.isEqual(t)&&(r.op==="in"||r.op==="not-in")))}getFieldIndexes(e,t){const r=Yp(e),i=Kf(e);return(t?r.J(M_,IDBKeyRange.bound(t,t)):r.J()).next((a=>{const l=[];return Re.forEach(a,(c=>i.get([c.indexId,this.uid]).next((h=>{l.push((function(p,v){const E=v?new jm(v.sequenceNumber,new Qa($h(v.readTime),new ut(kl(v.documentKey)),v.largestBatchId)):jm.empty(),b=p.fields.map((([R,P])=>new ey(qr.fromServerFormat(R),P)));return new Iy(p.indexId,p.collectionGroup,b,E)})(c,h))})))).next((()=>l))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((t=>t.length===0?null:(t.sort(((r,i)=>{const a=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return a!==0?a:ln(r.collectionGroup,i.collectionGroup)})),t[0].collectionGroup)))}updateCollectionGroup(e,t,r){const i=Yp(e),a=Kf(e);return this.Gn(e).next((l=>i.J(M_,IDBKeyRange.bound(t,t)).next((c=>Re.forEach(c,(h=>a.put(Qx(h.indexId,this.uid,l,r))))))))}updateIndexEntries(e,t){const r=new Map;return Re.forEach(t,((i,a)=>{const l=r.get(i.collectionGroup);return(l?Re.resolve(l):this.getFieldIndexes(e,i.collectionGroup)).next((c=>(r.set(i.collectionGroup,c),Re.forEach(c,(h=>this.zn(e,i,h).next((f=>{const p=this.jn(a,h);return f.isEqual(p)?Re.resolve():this.Jn(e,a,h,f,p)})))))))}))}Hn(e,t,r,i){return Wf(e).put(i.Rn(this.uid,this.$n(r,t.key),t.key))}Yn(e,t,r,i){return Wf(e).delete(i.Vn(this.uid,this.$n(r,t.key),t.key))}zn(e,t,r){const i=Wf(e);let a=new hr(mc);return i.ee({index:IC,range:IDBKeyRange.only([r.indexId,this.uid,ly(this.$n(r,t))])},((l,c)=>{a=a.add(new xh(r.indexId,t,t4(c.arrayValue),t4(c.directionalValue)))})).next((()=>a))}jn(e,t){let r=new hr(mc);const i=this.Qn(t,e);if(i==null)return r;const a=D_(t);if(a!=null){const l=e.data.field(a.fieldPath);if(Gm(l))for(const c of l.arrayValue.values||[])r=r.add(new xh(t.indexId,e.key,this.Ln(c),i))}else r=r.add(new xh(t.indexId,e.key,M1,i));return r}Jn(e,t,r,i,a){nt(i4,"Updating index entries for document '%s'",t.key);const l=[];return(function(h,f,p,v,E){const b=h.getIterator(),R=f.getIterator();let P=Gf(b),M=Gf(R);for(;P||M;){let k=!1,K=!1;if(P&&M){const $=p(P,M);$<0?K=!0:$>0&&(k=!0)}else P!=null?K=!0:k=!0;k?(v(M),M=Gf(R)):K?(E(P),P=Gf(b)):(P=Gf(b),M=Gf(R))}})(i,a,mc,(c=>{l.push(this.Hn(e,t,r,c))}),(c=>{l.push(this.Yn(e,t,r,c))})),Re.waitFor(l)}Gn(e){let t=1;return Kf(e).ee({index:xC,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((r,i,a)=>{a.done(),t=i.sequenceNumber+1})).next((()=>t))}createRange(e,t,r){r=r.sort(((l,c)=>mc(l,c))).filter(((l,c,h)=>!c||mc(l,h[c-1])!==0));const i=[];i.push(e);for(const l of r){const c=mc(l,e),h=mc(l,t);if(c===0)i[0]=e.An();else if(c>0&&h<0)i.push(l),i.push(l.An());else if(h>0)break}i.push(t);const a=[];for(let l=0;l<i.length;l+=2){if(this.Zn(i[l],i[l+1]))return[];const c=i[l].Vn(this.uid,M1,ut.empty()),h=i[l+1].Vn(this.uid,M1,ut.empty());a.push(IDBKeyRange.bound(c,h))}return a}Zn(e,t){return mc(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(a4)}getMinOffset(e,t){return Re.mapArray(this.Mn(t),(r=>this.xn(e,r).next((i=>i||gt(44426))))).next(a4)}}function s4(n){return Wi(n,zm)}function Wf(n){return Wi(n,bm)}function Yp(n){return Wi(n,db)}function Kf(n){return Wi(n,_m)}function a4(n){Ct(n.length!==0,28825);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const i=n[r].indexState.offset;cb(i,e)<0&&(e=i),t<i.largestBatchId&&(t=i.largestBatchId)}return new Qa(e.readTime,e.documentKey,t)}const o4={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},L6=41943040;class Fs{static withCacheSize(e){return new Fs(e,Fs.DEFAULT_COLLECTION_PERCENTILE,Fs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}function k6(n,e,t){const r=n.store(Go),i=n.store(Ad),a=[],l=IDBKeyRange.only(t.batchId);let c=0;const h=r.ee({range:l},((p,v,E)=>(c++,E.delete())));a.push(h.next((()=>{Ct(c===1,47070,{batchId:t.batchId})})));const f=[];for(const p of t.mutations){const v=AC(e,p.key.path,t.batchId);a.push(i.delete(v)),f.push(p.key)}return Re.waitFor(a).next((()=>f))}function My(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw gt(14731);e=n.noDocument}return JSON.stringify(e).length}Fs.DEFAULT_COLLECTION_PERCENTILE=10,Fs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Fs.DEFAULT=new Fs(L6,Fs.DEFAULT_COLLECTION_PERCENTILE,Fs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Fs.DISABLED=new Fs(-1,0,0);class b0{constructor(e,t,r,i){this.userId=e,this.serializer=t,this.indexManager=r,this.referenceDelegate=i,this.Xn={}}static wt(e,t,r,i){Ct(e.uid!=="",64387);const a=e.isAuthenticated()?e.uid:"";return new b0(a,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return gc(e).ee({index:Ch,range:r},((i,a,l)=>{t=!1,l.done()})).next((()=>t))}addMutationBatch(e,t,r,i){const a=nd(e),l=gc(e);return l.add({}).next((c=>{Ct(typeof c=="number",49019);const h=new Ab(c,t,r,i),f=(function(b,R,P){const M=P.baseMutations.map((K=>Km(b.yt,K))),k=P.mutations.map((K=>Km(b.yt,K)));return{userId:R,batchId:P.batchId,localWriteTimeMs:P.localWriteTime.toMillis(),baseMutations:M,mutations:k}})(this.serializer,this.userId,h),p=[];let v=new hr(((E,b)=>ln(E.canonicalString(),b.canonicalString())));for(const E of i){const b=AC(this.userId,E.key.path,c);v=v.add(E.key.path.popLast()),p.push(l.put(f)),p.push(a.put(b,Az))}return v.forEach((E=>{p.push(this.indexManager.addToCollectionParentIndex(e,E))})),e.addOnCommittedListener((()=>{this.Xn[c]=h.keys()})),Re.waitFor(p).next((()=>h))}))}lookupMutationBatch(e,t){return gc(e).get(t).next((r=>r?(Ct(r.userId===this.userId,48,"Unexpected user for mutation batch",{userId:r.userId,batchId:t}),Sh(this.serializer,r)):null))}er(e,t){return this.Xn[t]?Re.resolve(this.Xn[t]):this.lookupMutationBatch(e,t).next((r=>{if(r){const i=r.keys();return this.Xn[t]=i,i}return null}))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let a=null;return gc(e).ee({index:Ch,range:i},((l,c,h)=>{c.userId===this.userId&&(Ct(c.batchId>=r,47524,{tr:r}),a=Sh(this.serializer,c)),h.done()})).next((()=>a))}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=Nc;return gc(e).ee({index:Ch,range:t,reverse:!0},((i,a,l)=>{r=a.batchId,l.done()})).next((()=>r))}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,Nc],[this.userId,Number.POSITIVE_INFINITY]);return gc(e).J(Ch,t).next((r=>r.map((i=>Sh(this.serializer,i)))))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=ty(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return nd(e).ee({range:i},((l,c,h)=>{const[f,p,v]=l,E=kl(p);if(f===this.userId&&t.path.isEqual(E))return gc(e).get(v).next((b=>{if(!b)throw gt(61480,{nr:l,batchId:v});Ct(b.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:b.userId,batchId:v}),a.push(Sh(this.serializer,b))}));h.done()})).next((()=>a))}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new hr(ln);const i=[];return t.forEach((a=>{const l=ty(this.userId,a.path),c=IDBKeyRange.lowerBound(l),h=nd(e).ee({range:c},((f,p,v)=>{const[E,b,R]=f,P=kl(b);E===this.userId&&a.path.isEqual(P)?r=r.add(R):v.done()}));i.push(h)})),Re.waitFor(i).next((()=>this.rr(e,r)))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,a=ty(this.userId,r),l=IDBKeyRange.lowerBound(a);let c=new hr(ln);return nd(e).ee({range:l},((h,f,p)=>{const[v,E,b]=h,R=kl(E);v===this.userId&&r.isPrefixOf(R)?R.length===i&&(c=c.add(b)):p.done()})).next((()=>this.rr(e,c)))}rr(e,t){const r=[],i=[];return t.forEach((a=>{i.push(gc(e).get(a).next((l=>{if(l===null)throw gt(35274,{batchId:a});Ct(l.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:l.userId,batchId:a}),r.push(Sh(this.serializer,l))})))})),Re.waitFor(i).next((()=>r))}removeMutationBatch(e,t){return k6(e.le,this.userId,t).next((r=>(e.addOnCommittedListener((()=>{this.ir(t.batchId)})),Re.forEach(r,(i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))))}ir(e){delete this.Xn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((t=>{if(!t)return Re.resolve();const r=IDBKeyRange.lowerBound((function(l){return[l]})(this.userId)),i=[];return nd(e).ee({range:r},((a,l,c)=>{if(a[0]===this.userId){const h=kl(a[1]);i.push(h)}else c.done()})).next((()=>{Ct(i.length===0,56720,{sr:i.map((a=>a.canonicalString()))})}))}))}containsKey(e,t){return D6(e,this.userId,t)}_r(e){return O6(e).get(this.userId).next((t=>t||{userId:this.userId,lastAcknowledgedBatchId:Nc,lastStreamToken:""}))}}function D6(n,e,t){const r=ty(e,t.path),i=r[1],a=IDBKeyRange.lowerBound(r);let l=!1;return nd(n).ee({range:a,X:!0},((c,h,f)=>{const[p,v,E]=c;p===e&&v===i&&(l=!0),f.done()})).next((()=>l))}function gc(n){return Wi(n,Go)}function nd(n){return Wi(n,Ad)}function O6(n){return Wi(n,Um)}class Wh{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Wh(0)}static cr(){return new Wh(-1)}}class Hq{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.lr(e).next((t=>{const r=new Wh(t.highestTargetId);return t.highestTargetId=r.next(),this.hr(e,t).next((()=>t.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.lr(e).next((t=>Mt.fromTimestamp(new nr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.lr(e).next((t=>t.highestListenSequenceNumber))}setTargetsMetadata(e,t,r){return this.lr(e).next((i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.hr(e,i))))}addTargetData(e,t){return this.Pr(e,t).next((()=>this.lr(e).next((r=>(r.targetCount+=1,this.Tr(t,r),this.hr(e,r))))))}updateTargetData(e,t){return this.Pr(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next((()=>Yf(e).delete(t.targetId))).next((()=>this.lr(e))).next((r=>(Ct(r.targetCount>0,8065),r.targetCount-=1,this.hr(e,r))))}removeTargets(e,t,r){let i=0;const a=[];return Yf(e).ee(((l,c)=>{const h=am(c);h.sequenceNumber<=t&&r.get(h.targetId)===null&&(i++,a.push(this.removeTargetData(e,h)))})).next((()=>Re.waitFor(a))).next((()=>i))}forEachTarget(e,t){return Yf(e).ee(((r,i)=>{const a=am(i);t(a)}))}lr(e){return l4(e).get(Ry).next((t=>(Ct(t!==null,2888),t)))}hr(e,t){return l4(e).put(Ry,t)}Pr(e,t){return Yf(e).put(C6(this.serializer,t))}Tr(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.lr(e).next((t=>t.targetCount))}getTargetData(e,t){const r=zh(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let a=null;return Yf(e).ee({range:i,index:TC},((l,c,h)=>{const f=am(c);gg(t,f.target)&&(a=f,h.done())})).next((()=>a))}addMatchingKeys(e,t,r){const i=[],a=bc(e);return t.forEach((l=>{const c=zs(l.path);i.push(a.put({targetId:r,path:c})),i.push(this.referenceDelegate.addReference(e,r,l))})),Re.waitFor(i)}removeMatchingKeys(e,t,r){const i=bc(e);return Re.forEach(t,(a=>{const l=zs(a.path);return Re.waitFor([i.delete([r,l]),this.referenceDelegate.removeReference(e,r,a)])}))}removeMatchingKeysForTargetId(e,t){const r=bc(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=bc(e);let a=mn();return i.ee({range:r,X:!0},((l,c,h)=>{const f=kl(l[1]),p=new ut(f);a=a.add(p)})).next((()=>a))}containsKey(e,t){const r=zs(t.path),i=IDBKeyRange.bound([r],[dC(r)],!1,!0);let a=0;return bc(e).ee({index:fb,X:!0,range:i},(([l,c],h,f)=>{l!==0&&(a++,f.done())})).next((()=>a>0))}At(e,t){return Yf(e).get(t).next((r=>r?am(r):null))}}function Yf(n){return Wi(n,Sd)}function l4(n){return Wi(n,Oh)}function bc(n){return Wi(n,Td)}const u4="LruGarbageCollector",Gq=1048576;function c4([n,e],[t,r]){const i=ln(n,t);return i===0?ln(e,r):i}class $q{constructor(e){this.Ir=e,this.buffer=new hr(c4),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();c4(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class M6{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){nt(u4,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Wc(t)?nt(u4,"Ignoring IndexedDB error during garbage collection: ",t):await $c(t)}await this.Vr(3e5)}))}}class Wq{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((r=>Math.floor(t/100*r)))}nthSequenceNumber(e,t){if(t===0)return Re.resolve(Ia.ce);const r=new $q(t);return this.mr.forEachTarget(e,(i=>r.Ar(i.sequenceNumber))).next((()=>this.mr.pr(e,(i=>r.Ar(i))))).next((()=>r.maxValue))}removeTargets(e,t,r){return this.mr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(nt("LruGarbageCollector","Garbage collection skipped; disabled"),Re.resolve(o4)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(nt("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),o4):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let r,i,a,l,c,h,f;const p=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((v=>(v>this.params.maximumSequenceNumbersToCollect?(nt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),i=this.params.maximumSequenceNumbersToCollect):i=v,l=Date.now(),this.nthSequenceNumber(e,i)))).next((v=>(r=v,c=Date.now(),this.removeTargets(e,r,t)))).next((v=>(a=v,h=Date.now(),this.removeOrphanedDocuments(e,r)))).next((v=>(f=Date.now(),Jf()<=xn.DEBUG&&nt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-p}ms
	Determined least recently used ${i} in `+(c-l)+`ms
	Removed ${a} targets in `+(h-c)+`ms
	Removed ${v} documents in `+(f-h)+`ms
Total Duration: ${f-p}ms`),Re.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:v}))))}}function V6(n,e){return new Wq(n,e)}class Kq{constructor(e,t){this.db=e,this.garbageCollector=V6(this,t)}gr(e){const t=this.wr(e);return this.db.getTargetCache().getTargetCount(e).next((r=>t.next((i=>r+i))))}wr(e){let t=0;return this.pr(e,(r=>{t++})).next((()=>t))}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}pr(e,t){return this.Sr(e,((r,i)=>t(i)))}addReference(e,t,r){return V1(e,r)}removeReference(e,t,r){return V1(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return V1(e,t)}br(e,t){return(function(i,a){let l=!1;return O6(i).te((c=>D6(i,c,a).next((h=>(h&&(l=!0),Re.resolve(!h)))))).next((()=>l))})(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let a=0;return this.Sr(e,((l,c)=>{if(c<=t){const h=this.br(e,l).next((f=>{if(!f)return a++,r.getEntry(e,l).next((()=>(r.removeEntry(l,Mt.min()),bc(e).delete((function(v){return[0,zs(v.path)]})(l)))))}));i.push(h)}})).next((()=>Re.waitFor(i))).next((()=>r.apply(e))).next((()=>a))}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return V1(e,t)}Sr(e,t){const r=bc(e);let i,a=Ia.ce;return r.ee({index:fb},(([l,c],{path:h,sequenceNumber:f})=>{l===0?(a!==Ia.ce&&t(new ut(kl(i)),a),a=f,i=h):a=Ia.ce})).next((()=>{a!==Ia.ce&&t(new ut(kl(i)),a)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function V1(n,e){return bc(n).put((function(r,i){return{targetId:0,path:zs(r.path),sequenceNumber:i}})(e,n.currentSequenceNumber))}class j6{constructor(){this.changes=new Du((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Lr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?Re.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Yq{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return mh(e).put(r)}removeEntry(e,t,r){return mh(e).delete((function(a,l){const c=a.path.toArray();return[c.slice(0,c.length-2),c[c.length-2],Dy(l),c[c.length-1]]})(t,r))}updateMetadata(e,t){return this.getMetadata(e).next((r=>(r.byteSize+=t,this.Dr(e,r))))}getEntry(e,t){let r=Lr.newInvalidDocument(t);return mh(e).ee({index:ny,range:IDBKeyRange.only(Qp(t))},((i,a)=>{r=this.Cr(t,a)})).next((()=>r))}vr(e,t){let r={size:0,document:Lr.newInvalidDocument(t)};return mh(e).ee({index:ny,range:IDBKeyRange.only(Qp(t))},((i,a)=>{r={document:this.Cr(t,a),size:My(a)}})).next((()=>r))}getEntries(e,t){let r=Ca();return this.Fr(e,t,((i,a)=>{const l=this.Cr(i,a);r=r.insert(i,l)})).next((()=>r))}Mr(e,t){let r=Ca(),i=new Tr(ut.comparator);return this.Fr(e,t,((a,l)=>{const c=this.Cr(a,l);r=r.insert(a,c),i=i.insert(a,My(l))})).next((()=>({documents:r,Or:i})))}Fr(e,t,r){if(t.isEmpty())return Re.resolve();let i=new hr(d4);t.forEach((h=>i=i.add(h)));const a=IDBKeyRange.bound(Qp(i.first()),Qp(i.last())),l=i.getIterator();let c=l.getNext();return mh(e).ee({index:ny,range:a},((h,f,p)=>{const v=ut.fromSegments([...f.prefixPath,f.collectionGroup,f.documentId]);for(;c&&d4(c,v)<0;)r(c,null),c=l.getNext();c&&c.isEqual(v)&&(r(c,f),c=l.hasNext()?l.getNext():null),c?p.j(Qp(c)):p.done()})).next((()=>{for(;c;)r(c,null),c=l.hasNext()?l.getNext():null}))}getDocumentsMatchingQuery(e,t,r,i,a){const l=t.path,c=[l.popLast().toArray(),l.lastSegment(),Dy(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],h=[l.popLast().toArray(),l.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return mh(e).J(IDBKeyRange.bound(c,h,!0)).next((f=>{a?.incrementDocumentReadCount(f.length);let p=Ca();for(const v of f){const E=this.Cr(ut.fromSegments(v.prefixPath.concat(v.collectionGroup,v.documentId)),v);E.isFoundDocument()&&(vg(t,E)||i.has(E.key))&&(p=p.insert(E.key,E))}return p}))}getAllFromCollectionGroup(e,t,r,i){let a=Ca();const l=f4(t,r),c=f4(t,Qa.max());return mh(e).ee({index:SC,range:IDBKeyRange.bound(l,c,!0)},((h,f,p)=>{const v=this.Cr(ut.fromSegments(f.prefixPath.concat(f.collectionGroup,f.documentId)),f);a=a.insert(v.key,v),a.size===i&&p.done()})).next((()=>a))}newChangeBuffer(e){return new Qq(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((t=>t.byteSize))}getMetadata(e){return h4(e).get(O_).next((t=>(Ct(!!t,20021),t)))}Dr(e,t){return h4(e).put(O_,t)}Cr(e,t){if(t){const r=Dq(this.serializer,t);if(!(r.isNoDocument()&&r.version.isEqual(Mt.min())))return r}return Lr.newInvalidDocument(e)}}function F6(n){return new Yq(n)}class Qq extends j6{constructor(e,t){super(),this.Nr=e,this.trackRemovals=t,this.Br=new Du((r=>r.toString()),((r,i)=>r.isEqual(i)))}applyChanges(e){const t=[];let r=0,i=new hr(((a,l)=>ln(a.canonicalString(),l.canonicalString())));return this.changes.forEach(((a,l)=>{const c=this.Br.get(a);if(t.push(this.Nr.removeEntry(e,a,c.readTime)),l.isValidDocument()){const h=Kx(this.Nr.serializer,l);i=i.add(a.path.popLast());const f=My(h);r+=f-c.size,t.push(this.Nr.addEntry(e,a,h))}else if(r-=c.size,this.trackRemovals){const h=Kx(this.Nr.serializer,l.convertToNoDocument(Mt.min()));t.push(this.Nr.addEntry(e,a,h))}})),i.forEach((a=>{t.push(this.Nr.indexManager.addToCollectionParentIndex(e,a))})),t.push(this.Nr.updateMetadata(e,r)),Re.waitFor(t)}getFromCache(e,t){return this.Nr.vr(e,t).next((r=>(this.Br.set(t,{size:r.size,readTime:r.document.readTime}),r.document)))}getAllFromCache(e,t){return this.Nr.Mr(e,t).next((({documents:r,Or:i})=>(i.forEach(((a,l)=>{this.Br.set(a,{size:l,readTime:r.get(a).readTime})})),r)))}}function h4(n){return Wi(n,Bm)}function mh(n){return Wi(n,Cy)}function Qp(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function f4(n,e){const t=e.documentKey.path.toArray();return[n,Dy(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function d4(n,e){const t=n.path.toArray(),r=e.path.toArray();let i=0;for(let a=0;a<t.length-2&&a<r.length-2;++a)if(i=ln(t[a],r[a]),i)return i;return i=ln(t.length,r.length),i||(i=ln(t[t.length-2],r[r.length-2]),i||ln(t[t.length-1],r[r.length-1]))}class Xq{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class U6{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,t)))).next((i=>(r!==null&&Am(r.mutation,i,Na.empty(),nr.now()),i)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.getLocalViewOfDocuments(e,r,mn()).next((()=>r))))}getLocalViewOfDocuments(e,t,r=mn()){const i=Dl();return this.populateOverlays(e,i,t).next((()=>this.computeViews(e,t,i,r).next((a=>{let l=im();return a.forEach(((c,h)=>{l=l.insert(c,h.overlayedDocument)})),l}))))}getOverlayedDocuments(e,t){const r=Dl();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,mn())))}populateOverlays(e,t,r){const i=[];return r.forEach((a=>{t.has(a)||i.push(a)})),this.documentOverlayCache.getOverlays(e,i).next((a=>{a.forEach(((l,c)=>{t.set(l,c)}))}))}computeViews(e,t,r,i){let a=Ca();const l=Em(),c=(function(){return Em()})();return t.forEach(((h,f)=>{const p=r.get(f.key);i.has(f.key)&&(p===void 0||p.mutation instanceof Ou)?a=a.insert(f.key,f):p!==void 0?(l.set(f.key,p.mutation.getFieldMask()),Am(p.mutation,f,p.mutation.getFieldMask(),nr.now())):l.set(f.key,Na.empty())})),this.recalculateAndSaveOverlays(e,a).next((h=>(h.forEach(((f,p)=>l.set(f,p))),t.forEach(((f,p)=>c.set(f,new Xq(p,l.get(f)??null)))),c)))}recalculateAndSaveOverlays(e,t){const r=Em();let i=new Tr(((l,c)=>l-c)),a=mn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((l=>{for(const c of l)c.keys().forEach((h=>{const f=t.get(h);if(f===null)return;let p=r.get(h)||Na.empty();p=c.applyToLocalView(f,p),r.set(h,p);const v=(i.get(c.batchId)||mn()).add(h);i=i.insert(c.batchId,v)}))})).next((()=>{const l=[],c=i.getReverseIterator();for(;c.hasNext();){const h=c.getNext(),f=h.key,p=h.value,v=n6();p.forEach((E=>{if(!a.has(E)){const b=u6(t.get(E),r.get(E));b!==null&&v.set(E,b),a=a.add(E)}})),l.push(this.documentOverlayCache.saveOverlays(e,f,v))}return Re.waitFor(l)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,t,r,i){return(function(l){return ut.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):_b(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next((a=>{const l=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-a.size):Re.resolve(Dl());let c=Ed,h=a;return l.next((f=>Re.forEach(f,((p,v)=>(c<v.largestBatchId&&(c=v.largestBatchId),a.get(p)?Re.resolve():this.remoteDocumentCache.getEntry(e,p).next((E=>{h=h.insert(p,E)}))))).next((()=>this.populateOverlays(e,f,a))).next((()=>this.computeViews(e,h,f,mn()))).next((p=>({batchId:c,changes:t6(p)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ut(t)).next((r=>{let i=im();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){const a=t.collectionGroup;let l=im();return this.indexManager.getCollectionParents(e,a).next((c=>Re.forEach(c,(h=>{const f=(function(v,E){return new ku(E,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)})(t,h.child(a));return this.getDocumentsMatchingCollectionQuery(e,f,r,i).next((p=>{p.forEach(((v,E)=>{l=l.insert(v,E)}))}))})).next((()=>l))))}getDocumentsMatchingCollectionQuery(e,t,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next((l=>(a=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,a,i)))).next((l=>{a.forEach(((h,f)=>{const p=f.getKey();l.get(p)===null&&(l=l.insert(p,Lr.newInvalidDocument(p)))}));let c=im();return l.forEach(((h,f)=>{const p=a.get(h);p!==void 0&&Am(p.mutation,f,Na.empty(),nr.now()),vg(t,f)&&(c=c.insert(h,f))})),c}))}}class Jq{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return Re.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(i){return{id:i.id,version:i.version,createTime:wi(i.createTime)}})(t)),Re.resolve()}getNamedQuery(e,t){return Re.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(i){return{name:i.name,query:Nb(i.bundledQuery),readTime:wi(i.readTime)}})(t)),Re.resolve()}}class Zq{constructor(){this.overlays=new Tr(ut.comparator),this.qr=new Map}getOverlay(e,t){return Re.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Dl();return Re.forEach(t,(i=>this.getOverlay(e,i).next((a=>{a!==null&&r.set(i,a)})))).next((()=>r))}saveOverlays(e,t,r){return r.forEach(((i,a)=>{this.St(e,t,a)})),Re.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach((a=>this.overlays=this.overlays.remove(a))),this.qr.delete(r)),Re.resolve()}getOverlaysForCollection(e,t,r){const i=Dl(),a=t.length+1,l=new ut(t.child("")),c=this.overlays.getIteratorFrom(l);for(;c.hasNext();){const h=c.getNext().value,f=h.getKey();if(!t.isPrefixOf(f.path))break;f.path.length===a&&h.largestBatchId>r&&i.set(h.getKey(),h)}return Re.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let a=new Tr(((f,p)=>f-p));const l=this.overlays.getIterator();for(;l.hasNext();){const f=l.getNext().value;if(f.getKey().getCollectionGroup()===t&&f.largestBatchId>r){let p=a.get(f.largestBatchId);p===null&&(p=Dl(),a=a.insert(f.largestBatchId,p)),p.set(f.getKey(),f)}}const c=Dl(),h=a.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach(((f,p)=>c.set(f,p))),!(c.size()>=i)););return Re.resolve(c)}St(e,t,r){const i=this.overlays.get(r.key);if(i!==null){const l=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new Tb(t,r));let a=this.qr.get(t);a===void 0&&(a=mn(),this.qr.set(t,a)),this.qr.set(t,a.add(r.key))}}class eH{constructor(){this.sessionToken=ui.EMPTY_BYTE_STRING}getSessionToken(e){return Re.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Re.resolve()}}class Pb{constructor(){this.Qr=new hr(ss.$r),this.Ur=new hr(ss.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const r=new ss(e,t);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,t){e.forEach((r=>this.addReference(r,t)))}removeReference(e,t){this.Gr(new ss(e,t))}zr(e,t){e.forEach((r=>this.removeReference(r,t)))}jr(e){const t=new ut(new In([])),r=new ss(t,e),i=new ss(t,e+1),a=[];return this.Ur.forEachInRange([r,i],(l=>{this.Gr(l),a.push(l.key)})),a}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new ut(new In([])),r=new ss(t,e),i=new ss(t,e+1);let a=mn();return this.Ur.forEachInRange([r,i],(l=>{a=a.add(l.key)})),a}containsKey(e){const t=new ss(e,0),r=this.Qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class ss{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return ut.comparator(e.key,t.key)||ln(e.Yr,t.Yr)}static Kr(e,t){return ln(e.Yr,t.Yr)||ut.comparator(e.key,t.key)}}class tH{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new hr(ss.$r)}checkEmpty(e){return Re.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new Ab(a,t,r,i);this.mutationQueue.push(l);for(const c of i)this.Zr=this.Zr.add(new ss(c.key,a)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return Re.resolve(l)}lookupMutationBatch(e,t){return Re.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=this.ei(r),a=i<0?0:i;return Re.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return Re.resolve(this.mutationQueue.length===0?Nc:this.tr-1)}getAllMutationBatches(e){return Re.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new ss(t,0),i=new ss(t,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([r,i],(l=>{const c=this.Xr(l.Yr);a.push(c)})),Re.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new hr(ln);return t.forEach((i=>{const a=new ss(i,0),l=new ss(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,l],(c=>{r=r.add(c.Yr)}))})),Re.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let a=r;ut.isDocumentKey(a)||(a=a.child(""));const l=new ss(new ut(a),0);let c=new hr(ln);return this.Zr.forEachWhile((h=>{const f=h.key.path;return!!r.isPrefixOf(f)&&(f.length===i&&(c=c.add(h.Yr)),!0)}),l),Re.resolve(this.ti(c))}ti(e){const t=[];return e.forEach((r=>{const i=this.Xr(r);i!==null&&t.push(i)})),t}removeMutationBatch(e,t){Ct(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return Re.forEach(t.mutations,(i=>{const a=new ss(i.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,t){const r=new ss(t,0),i=this.Zr.firstAfterOrEqual(r);return Re.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Re.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class nH{constructor(e){this.ri=e,this.docs=(function(){return new Tr(ut.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),a=i?i.size:0,l=this.ri(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return Re.resolve(r?r.document.mutableCopy():Lr.newInvalidDocument(t))}getEntries(e,t){let r=Ca();return t.forEach((i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():Lr.newInvalidDocument(i))})),Re.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let a=Ca();const l=t.path,c=new ut(l.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(c);for(;h.hasNext();){const{key:f,value:{document:p}}=h.getNext();if(!l.isPrefixOf(f.path))break;f.path.length>l.length+1||cb(vC(p),r)<=0||(i.has(p.key)||vg(t,p))&&(a=a.insert(p.key,p.mutableCopy()))}return Re.resolve(a)}getAllFromCollectionGroup(e,t,r,i){gt(9500)}ii(e,t){return Re.forEach(this.docs,(r=>t(r)))}newChangeBuffer(e){return new rH(this)}getSize(e){return Re.resolve(this.size)}}class rH extends j6{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?t.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)})),Re.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}class iH{constructor(e){this.persistence=e,this.si=new Du((t=>zh(t)),gg),this.lastRemoteSnapshotVersion=Mt.min(),this.highestTargetId=0,this.oi=0,this._i=new Pb,this.targetCount=0,this.ai=Wh.ur()}forEachTarget(e,t){return this.si.forEach(((r,i)=>t(i))),Re.resolve()}getLastRemoteSnapshotVersion(e){return Re.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Re.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Re.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.oi&&(this.oi=t),Re.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new Wh(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,Re.resolve()}updateTargetData(e,t){return this.Pr(t),Re.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,Re.resolve()}removeTargets(e,t,r){let i=0;const a=[];return this.si.forEach(((l,c)=>{c.sequenceNumber<=t&&r.get(c.targetId)===null&&(this.si.delete(l),a.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)})),Re.waitFor(a).next((()=>i))}getTargetCount(e){return Re.resolve(this.targetCount)}getTargetData(e,t){const r=this.si.get(t)||null;return Re.resolve(r)}addMatchingKeys(e,t,r){return this._i.Wr(t,r),Re.resolve()}removeMatchingKeys(e,t,r){this._i.zr(t,r);const i=this.persistence.referenceDelegate,a=[];return i&&t.forEach((l=>{a.push(i.markPotentiallyOrphaned(e,l))})),Re.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),Re.resolve()}getMatchingKeysForTargetId(e,t){const r=this._i.Hr(t);return Re.resolve(r)}containsKey(e,t){return Re.resolve(this._i.containsKey(t))}}class Lb{constructor(e,t){this.ui={},this.overlays={},this.ci=new Ia(0),this.li=!1,this.li=!0,this.hi=new eH,this.referenceDelegate=e(this),this.Pi=new iH(this),this.indexManager=new zq,this.remoteDocumentCache=(function(i){return new nH(i)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new N6(t),this.Ii=new Jq(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Zq,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ui[e.toKey()];return r||(r=new tH(t,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,r){nt("MemoryPersistence","Starting transaction:",e);const i=new sH(this.ci.next());return this.referenceDelegate.Ei(),r(i).next((a=>this.referenceDelegate.di(i).next((()=>a)))).toPromise().then((a=>(i.raiseOnCommittedEvent(),a)))}Ai(e,t){return Re.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,t))))}}class sH extends bC{constructor(e){super(),this.currentSequenceNumber=e}}class w0{constructor(e){this.persistence=e,this.Ri=new Pb,this.Vi=null}static mi(e){return new w0(e)}get fi(){if(this.Vi)return this.Vi;throw gt(60996)}addReference(e,t,r){return this.Ri.addReference(r,t),this.fi.delete(r.toString()),Re.resolve()}removeReference(e,t,r){return this.Ri.removeReference(r,t),this.fi.add(r.toString()),Re.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),Re.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((i=>this.fi.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((i=>{i.forEach((a=>this.fi.add(a.toString())))})).next((()=>r.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Re.forEach(this.fi,(r=>{const i=ut.fromPath(r);return this.gi(e,i).next((a=>{a||t.removeEntry(i,Mt.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((r=>{r?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return Re.or([()=>Re.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class Vy{constructor(e,t){this.persistence=e,this.pi=new Du((r=>zs(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=V6(this,t)}static mi(e,t){return new Vy(e,t)}Ei(){}di(e){return Re.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>t.next((i=>r+i))))}wr(e){let t=0;return this.pr(e,(r=>{t++})).next((()=>t))}pr(e,t){return Re.forEach(this.pi,((r,i)=>this.br(e,r,i).next((a=>a?Re.resolve():t(i)))))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.ii(e,(l=>this.br(e,l,t).next((c=>{c||(r++,a.removeEntry(l,Mt.min()))})))).next((()=>a.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),Re.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),Re.resolve()}removeReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),Re.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),Re.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=iy(e.data.value)),t}br(e,t,r){return Re.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const i=this.pi.get(t);return Re.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class aH{constructor(e){this.serializer=e}k(e,t,r,i){const a=new c0("createOrUpgrade",t);r<1&&i>=1&&((function(h){h.createObjectStore(mg)})(e),(function(h){h.createObjectStore(Um,{keyPath:Ez}),h.createObjectStore(Go,{keyPath:Sx,autoIncrement:!0}).createIndex(Ch,Tx,{unique:!0}),h.createObjectStore(Ad)})(e),p4(e),(function(h){h.createObjectStore(bh)})(e));let l=Re.resolve();return r<3&&i>=3&&(r!==0&&((function(h){h.deleteObjectStore(Td),h.deleteObjectStore(Sd),h.deleteObjectStore(Oh)})(e),p4(e)),l=l.next((()=>(function(h){const f=h.store(Oh),p={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Mt.min().toTimestamp(),targetCount:0};return f.put(Ry,p)})(a)))),r<4&&i>=4&&(r!==0&&(l=l.next((()=>(function(h,f){return f.store(Go).J().next((v=>{h.deleteObjectStore(Go),h.createObjectStore(Go,{keyPath:Sx,autoIncrement:!0}).createIndex(Ch,Tx,{unique:!0});const E=f.store(Go),b=v.map((R=>E.put(R)));return Re.waitFor(b)}))})(e,a)))),l=l.next((()=>{(function(h){h.createObjectStore(xd,{keyPath:Pz})})(e)}))),r<5&&i>=5&&(l=l.next((()=>this.yi(a)))),r<6&&i>=6&&(l=l.next((()=>((function(h){h.createObjectStore(Bm)})(e),this.wi(a))))),r<7&&i>=7&&(l=l.next((()=>this.Si(a)))),r<8&&i>=8&&(l=l.next((()=>this.bi(e,a)))),r<9&&i>=9&&(l=l.next((()=>{(function(h){h.objectStoreNames.contains("remoteDocumentChanges")&&h.deleteObjectStore("remoteDocumentChanges")})(e)}))),r<10&&i>=10&&(l=l.next((()=>this.Di(a)))),r<11&&i>=11&&(l=l.next((()=>{(function(h){h.createObjectStore(h0,{keyPath:Lz})})(e),(function(h){h.createObjectStore(f0,{keyPath:kz})})(e)}))),r<12&&i>=12&&(l=l.next((()=>{(function(h){const f=h.createObjectStore(d0,{keyPath:Uz});f.createIndex(V_,Bz,{unique:!1}),f.createIndex(NC,zz,{unique:!1})})(e)}))),r<13&&i>=13&&(l=l.next((()=>(function(h){const f=h.createObjectStore(Cy,{keyPath:Sz});f.createIndex(ny,Tz),f.createIndex(SC,xz)})(e))).next((()=>this.Ci(e,a))).next((()=>e.deleteObjectStore(bh)))),r<14&&i>=14&&(l=l.next((()=>this.Fi(e,a)))),r<15&&i>=15&&(l=l.next((()=>(function(h){h.createObjectStore(db,{keyPath:Dz,autoIncrement:!0}).createIndex(M_,Oz,{unique:!1}),h.createObjectStore(_m,{keyPath:Mz}).createIndex(xC,Vz,{unique:!1}),h.createObjectStore(bm,{keyPath:jz}).createIndex(IC,Fz,{unique:!1})})(e)))),r<16&&i>=16&&(l=l.next((()=>{t.objectStore(_m).clear()})).next((()=>{t.objectStore(bm).clear()}))),r<17&&i>=17&&(l=l.next((()=>{(function(h){h.createObjectStore(pb,{keyPath:qz})})(e)}))),r<18&&i>=18&&$3()&&(l=l.next((()=>{t.objectStore(_m).clear()})).next((()=>{t.objectStore(bm).clear()}))),l}wi(e){let t=0;return e.store(bh).ee(((r,i)=>{t+=My(i)})).next((()=>{const r={byteSize:t};return e.store(Bm).put(O_,r)}))}yi(e){const t=e.store(Um),r=e.store(Go);return t.J().next((i=>Re.forEach(i,(a=>{const l=IDBKeyRange.bound([a.userId,Nc],[a.userId,a.lastAcknowledgedBatchId]);return r.J(Ch,l).next((c=>Re.forEach(c,(h=>{Ct(h.userId===a.userId,18650,"Cannot process batch from unexpected user",{batchId:h.batchId});const f=Sh(this.serializer,h);return k6(e,a.userId,f).next((()=>{}))}))))}))))}Si(e){const t=e.store(Td),r=e.store(bh);return e.store(Oh).get(Ry).next((i=>{const a=[];return r.ee(((l,c)=>{const h=new In(l),f=(function(v){return[0,zs(v)]})(h);a.push(t.get(f).next((p=>p?Re.resolve():(v=>t.put({targetId:0,path:zs(v),sequenceNumber:i.highestListenSequenceNumber}))(h))))})).next((()=>Re.waitFor(a)))}))}bi(e,t){e.createObjectStore(zm,{keyPath:Rz});const r=t.store(zm),i=new Rb,a=l=>{if(i.add(l)){const c=l.lastSegment(),h=l.popLast();return r.put({collectionId:c,parent:zs(h)})}};return t.store(bh).ee({X:!0},((l,c)=>{const h=new In(l);return a(h.popLast())})).next((()=>t.store(Ad).ee({X:!0},(([l,c,h],f)=>{const p=kl(c);return a(p.popLast())}))))}Di(e){const t=e.store(Sd);return t.ee(((r,i)=>{const a=am(i),l=C6(this.serializer,a);return t.put(l)}))}Ci(e,t){const r=t.store(bh),i=[];return r.ee(((a,l)=>{const c=t.store(Cy),h=(function(v){return v.document?new ut(In.fromString(v.document.name).popFirst(5)):v.noDocument?ut.fromSegments(v.noDocument.path):v.unknownDocument?ut.fromSegments(v.unknownDocument.path):gt(36783)})(l).path.toArray(),f={prefixPath:h.slice(0,h.length-2),collectionGroup:h[h.length-2],documentId:h[h.length-1],readTime:l.readTime||[0,0],unknownDocument:l.unknownDocument,noDocument:l.noDocument,document:l.document,hasCommittedMutations:!!l.hasCommittedMutations};i.push(c.put(f))})).next((()=>Re.waitFor(i)))}Fi(e,t){const r=t.store(Go),i=F6(this.serializer),a=new Lb(w0.mi,this.serializer.yt);return r.J().next((l=>{const c=new Map;return l.forEach((h=>{let f=c.get(h.userId)??mn();Sh(this.serializer,h).keys().forEach((p=>f=f.add(p))),c.set(h.userId,f)})),Re.forEach(c,((h,f)=>{const p=new os(f),v=_0.wt(this.serializer,p),E=a.getIndexManager(p),b=b0.wt(p,this.serializer,E,a.referenceDelegate);return new U6(i,b,v,E).recalculateAndSaveOverlaysForDocumentKeys(new j_(t,Ia.ce),h).next()}))}))}}function p4(n){n.createObjectStore(Td,{keyPath:Nz}).createIndex(fb,Cz,{unique:!0}),n.createObjectStore(Sd,{keyPath:"targetId"}).createIndex(TC,Iz,{unique:!0}),n.createObjectStore(Oh)}const yc="IndexedDbPersistence",$2=18e5,W2=5e3,K2="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",B6="main";class kb{constructor(e,t,r,i,a,l,c,h,f,p,v=18){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Mi=a,this.window=l,this.document=c,this.xi=f,this.Oi=p,this.Ni=v,this.ci=null,this.li=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Bi=null,this.inForeground=!1,this.Li=null,this.ki=null,this.qi=Number.NEGATIVE_INFINITY,this.Qi=E=>Promise.resolve(),!kb.v())throw new tt(je.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Kq(this,i),this.$i=t+B6,this.serializer=new N6(h),this.Ui=new Ol(this.$i,this.Ni,new aH(this.serializer)),this.hi=new Mq,this.Pi=new Hq(this.referenceDelegate,this.serializer),this.remoteDocumentCache=F6(this.serializer),this.Ii=new Oq,this.window&&this.window.localStorage?this.Ki=this.window.localStorage:(this.Ki=null,p===!1&&bi(yc,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Wi().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new tt(je.FAILED_PRECONDITION,K2);return this.Gi(),this.zi(),this.ji(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.Pi.getHighestSequenceNumber(e)))})).then((e=>{this.ci=new Ia(e,this.xi)})).then((()=>{this.li=!0})).catch((e=>(this.Ui&&this.Ui.close(),Promise.reject(e))))}Ji(e){return this.Qi=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ui.$((async t=>{t.newVersion===null&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Mi.enqueueAndForget((async()=>{this.started&&await this.Wi()})))}Wi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>j1(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.Hi(e).next((t=>{t||(this.isPrimary=!1,this.Mi.enqueueRetryable((()=>this.Qi(!1))))}))})).next((()=>this.Yi(e))).next((t=>this.isPrimary&&!t?this.Zi(e).next((()=>!1)):!!t&&this.Xi(e).next((()=>!0)))))).catch((e=>{if(Wc(e))return nt(yc,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return nt(yc,"Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.Mi.enqueueRetryable((()=>this.Qi(e))),this.isPrimary=e}))}Hi(e){return Xp(e).get(Hf).next((t=>Re.resolve(this.es(t))))}ts(e){return j1(e).delete(this.clientId)}async ns(){if(this.isPrimary&&!this.rs(this.qi,$2)){this.qi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(t=>{const r=Wi(t,xd);return r.J().next((i=>{const a=this.ss(i,$2),l=i.filter((c=>a.indexOf(c)===-1));return Re.forEach(l,(c=>r.delete(c.clientId))).next((()=>l))}))})).catch((()=>[]));if(this.Ki)for(const t of e)this.Ki.removeItem(this._s(t.clientId))}}ji(){this.ki=this.Mi.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.Wi().then((()=>this.ns())).then((()=>this.ji()))))}es(e){return!!e&&e.ownerId===this.clientId}Yi(e){return this.Oi?Re.resolve(!0):Xp(e).get(Hf).next((t=>{if(t!==null&&this.rs(t.leaseTimestampMs,W2)&&!this.us(t.ownerId)){if(this.es(t)&&this.networkEnabled)return!0;if(!this.es(t)){if(!t.allowTabSynchronization)throw new tt(je.FAILED_PRECONDITION,K2);return!1}}return!(!this.networkEnabled||!this.inForeground)||j1(e).J().next((r=>this.ss(r,W2).find((i=>{if(this.clientId!==i.clientId){const a=!this.networkEnabled&&i.networkEnabled,l=!this.inForeground&&i.inForeground,c=this.networkEnabled===i.networkEnabled;if(a||l&&c)return!0}return!1}))===void 0))})).next((t=>(this.isPrimary!==t&&nt(yc,`Client ${t?"is":"is not"} eligible for a primary lease.`),t)))}async shutdown(){this.li=!1,this.cs(),this.ki&&(this.ki.cancel(),this.ki=null),this.ls(),this.hs(),await this.Ui.runTransaction("shutdown","readwrite",[mg,xd],(e=>{const t=new j_(e,Ia.ce);return this.Zi(t).next((()=>this.ts(t)))})),this.Ui.close(),this.Ps()}ss(e,t){return e.filter((r=>this.rs(r.updateTimeMs,t)&&!this.us(r.clientId)))}Ts(){return this.runTransaction("getActiveClients","readonly",(e=>j1(e).J().next((t=>this.ss(t,$2).map((r=>r.clientId))))))}get started(){return this.li}getGlobalsCache(){return this.hi}getMutationQueue(e,t){return b0.wt(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new qq(e,this.serializer.yt.databaseId)}getDocumentOverlayCache(e){return _0.wt(this.serializer,e)}getBundleCache(){return this.Ii}runTransaction(e,t,r){nt(yc,"Starting transaction:",e);const i=t==="readonly"?"readonly":"readwrite",a=(function(h){return h===18?$z:h===17?LC:h===16?Gz:h===15?mb:h===14?PC:h===13?RC:h===12?Hz:h===11?CC:void gt(60245)})(this.Ni);let l;return this.Ui.runTransaction(e,i,a,(c=>(l=new j_(c,this.ci?this.ci.next():Ia.ce),t==="readwrite-primary"?this.Hi(l).next((h=>!!h||this.Yi(l))).next((h=>{if(!h)throw bi(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Mi.enqueueRetryable((()=>this.Qi(!1))),new tt(je.FAILED_PRECONDITION,_C);return r(l)})).next((h=>this.Xi(l).next((()=>h)))):this.Is(l).next((()=>r(l)))))).then((c=>(l.raiseOnCommittedEvent(),c)))}Is(e){return Xp(e).get(Hf).next((t=>{if(t!==null&&this.rs(t.leaseTimestampMs,W2)&&!this.us(t.ownerId)&&!this.es(t)&&!(this.Oi||this.allowTabSynchronization&&t.allowTabSynchronization))throw new tt(je.FAILED_PRECONDITION,K2)}))}Xi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Xp(e).put(Hf,t)}static v(){return Ol.v()}Zi(e){const t=Xp(e);return t.get(Hf).next((r=>this.es(r)?(nt(yc,"Releasing primary lease."),t.delete(Hf)):Re.resolve()))}rs(e,t){const r=Date.now();return!(e<r-t)&&(!(e>r)||(bi(`Detected an update time that is in the future: ${e} > ${r}`),!1))}Gi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Li=()=>{this.Mi.enqueueAndForget((()=>(this.inForeground=this.document.visibilityState==="visible",this.Wi())))},this.document.addEventListener("visibilitychange",this.Li),this.inForeground=this.document.visibilityState==="visible")}ls(){this.Li&&(this.document.removeEventListener("visibilitychange",this.Li),this.Li=null)}zi(){typeof this.window?.addEventListener=="function"&&(this.Bi=()=>{this.cs();const e=/(?:Version|Mobile)\/1[456]/;G3()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.Mi.enterRestrictedMode(!0),this.Mi.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.Bi))}hs(){this.Bi&&(this.window.removeEventListener("pagehide",this.Bi),this.Bi=null)}us(e){try{const t=this.Ki?.getItem(this._s(e))!==null;return nt(yc,`Client '${e}' ${t?"is":"is not"} zombied in LocalStorage`),t}catch(t){return bi(yc,"Failed to get zombied client id.",t),!1}}cs(){if(this.Ki)try{this.Ki.setItem(this._s(this.clientId),String(Date.now()))}catch(e){bi("Failed to set zombie client id.",e)}}Ps(){if(this.Ki)try{this.Ki.removeItem(this._s(this.clientId))}catch{}}_s(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Xp(n){return Wi(n,mg)}function j1(n){return Wi(n,xd)}function Db(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class Ob{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Es=r,this.ds=i}static As(e,t){let r=mn(),i=mn();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new Ob(e,t.fromCache,r,i)}}class oH{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class z6{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return G3()?8:wC(Xr())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,r,i){const a={result:null};return this.ys(e,t).next((l=>{a.result=l})).next((()=>{if(!a.result)return this.ws(e,t,i,r).next((l=>{a.result=l}))})).next((()=>{if(a.result)return;const l=new oH;return this.Ss(e,t,l).next((c=>{if(a.result=c,this.Vs)return this.bs(e,t,l,c.size)}))})).next((()=>a.result))}bs(e,t,r,i){return r.documentReadCount<this.fs?(Jf()<=xn.DEBUG&&nt("QueryEngine","SDK will not create cache indexes for query:",Zf(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Re.resolve()):(Jf()<=xn.DEBUG&&nt("QueryEngine","Query:",Zf(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(Jf()<=xn.DEBUG&&nt("QueryEngine","The SDK decides to create cache indexes for query:",Zf(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ra(t))):Re.resolve())}ys(e,t){if(jx(t))return Re.resolve(null);let r=ra(t);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(t.limit!==null&&i===1&&(t=ky(t,null,"F"),r=ra(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next((a=>{const l=mn(...a);return this.ps.getDocuments(e,l).next((c=>this.indexManager.getMinOffset(e,r).next((h=>{const f=this.Ds(t,c);return this.Cs(t,f,l,h.readTime)?this.ys(e,ky(t,null,"F")):this.vs(e,f,t,h)}))))})))))}ws(e,t,r,i){return jx(t)||i.isEqual(Mt.min())?Re.resolve(null):this.ps.getDocuments(e,r).next((a=>{const l=this.Ds(t,a);return this.Cs(t,l,r,i)?Re.resolve(null):(Jf()<=xn.DEBUG&&nt("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Zf(t)),this.vs(e,l,t,yC(i,Ed)).next((c=>c)))}))}Ds(e,t){let r=new hr(ZC(e));return t.forEach(((i,a)=>{vg(e,a)&&(r=r.add(a))})),r}Cs(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Ss(e,t,r){return Jf()<=xn.DEBUG&&nt("QueryEngine","Using full collection scan to execute query:",Zf(t)),this.ps.getDocumentsMatchingQuery(e,t,Qa.min(),r)}vs(e,t,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next((a=>(t.forEach((l=>{a=a.insert(l.key,l)})),a)))}}const Mb="LocalStore",lH=3e8;class uH{constructor(e,t,r,i){this.persistence=e,this.Fs=t,this.serializer=i,this.Ms=new Tr(ln),this.xs=new Du((a=>zh(a)),gg),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new U6(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function q6(n,e,t,r){return new uH(n,e,t,r)}async function H6(n,e){const t=ft(n);return await t.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next((a=>(i=a,t.Bs(e),t.mutationQueue.getAllMutationBatches(r)))).next((a=>{const l=[],c=[];let h=mn();for(const f of i){l.push(f.batchId);for(const p of f.mutations)h=h.add(p.key)}for(const f of a){c.push(f.batchId);for(const p of f.mutations)h=h.add(p.key)}return t.localDocuments.getDocuments(r,h).next((f=>({Ls:f,removedBatchIds:l,addedBatchIds:c})))}))}))}function cH(n,e){const t=ft(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),a=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(c,h,f,p){const v=f.batch,E=v.keys();let b=Re.resolve();return E.forEach((R=>{b=b.next((()=>p.getEntry(h,R))).next((P=>{const M=f.docVersions.get(R);Ct(M!==null,48541),P.version.compareTo(M)<0&&(v.applyToRemoteDocument(P,f),P.isValidDocument()&&(P.setReadTime(f.commitVersion),p.addEntry(P)))}))})),b.next((()=>c.mutationQueue.removeMutationBatch(h,v)))})(t,r,e,a).next((()=>a.apply(r))).next((()=>t.mutationQueue.performConsistencyCheck(r))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(c){let h=mn();for(let f=0;f<c.mutationResults.length;++f)c.mutationResults[f].transformResults.length>0&&(h=h.add(c.batch.mutations[f].key));return h})(e)))).next((()=>t.localDocuments.getDocuments(r,i)))}))}function G6(n){const e=ft(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function hH(n,e){const t=ft(n),r=e.snapshotVersion;let i=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const l=t.Ns.newChangeBuffer({trackRemovals:!0});i=t.Ms;const c=[];e.targetChanges.forEach(((p,v)=>{const E=i.get(v);if(!E)return;c.push(t.Pi.removeMatchingKeys(a,p.removedDocuments,v).next((()=>t.Pi.addMatchingKeys(a,p.addedDocuments,v))));let b=E.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(v)!==null?b=b.withResumeToken(ui.EMPTY_BYTE_STRING,Mt.min()).withLastLimboFreeSnapshotVersion(Mt.min()):p.resumeToken.approximateByteSize()>0&&(b=b.withResumeToken(p.resumeToken,r)),i=i.insert(v,b),(function(P,M,k){return P.resumeToken.approximateByteSize()===0||M.snapshotVersion.toMicroseconds()-P.snapshotVersion.toMicroseconds()>=lH?!0:k.addedDocuments.size+k.modifiedDocuments.size+k.removedDocuments.size>0})(E,b,p)&&c.push(t.Pi.updateTargetData(a,b))}));let h=Ca(),f=mn();if(e.documentUpdates.forEach((p=>{e.resolvedLimboDocuments.has(p)&&c.push(t.persistence.referenceDelegate.updateLimboDocument(a,p))})),c.push($6(a,l,e.documentUpdates).next((p=>{h=p.ks,f=p.qs}))),!r.isEqual(Mt.min())){const p=t.Pi.getLastRemoteSnapshotVersion(a).next((v=>t.Pi.setTargetsMetadata(a,a.currentSequenceNumber,r)));c.push(p)}return Re.waitFor(c).next((()=>l.apply(a))).next((()=>t.localDocuments.getLocalViewOfDocuments(a,h,f))).next((()=>h))})).then((a=>(t.Ms=i,a)))}function $6(n,e,t){let r=mn(),i=mn();return t.forEach((a=>r=r.add(a))),e.getEntries(n,r).next((a=>{let l=Ca();return t.forEach(((c,h)=>{const f=a.get(c);h.isFoundDocument()!==f.isFoundDocument()&&(i=i.add(c)),h.isNoDocument()&&h.version.isEqual(Mt.min())?(e.removeEntry(c,h.readTime),l=l.insert(c,h)):!f.isValidDocument()||h.version.compareTo(f.version)>0||h.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(h),l=l.insert(c,h)):nt(Mb,"Ignoring outdated watch update for ",c,". Current version:",f.version," Watch version:",h.version)})),{ks:l,qs:i}}))}function fH(n,e){const t=ft(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Nc),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function kd(n,e){const t=ft(n);return t.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return t.Pi.getTargetData(r,e).next((a=>a?(i=a,Re.resolve(i)):t.Pi.allocateTargetId(r).next((l=>(i=new bu(e,l,"TargetPurposeListen",r.currentSequenceNumber),t.Pi.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=t.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(r.targetId,r),t.xs.set(e,r.targetId)),r}))}async function Dd(n,e,t){const r=ft(n),i=r.Ms.get(e),a=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",a,(l=>r.persistence.referenceDelegate.removeTarget(l,i)))}catch(l){if(!Wc(l))throw l;nt(Mb,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function jy(n,e,t){const r=ft(n);let i=Mt.min(),a=mn();return r.persistence.runTransaction("Execute query","readwrite",(l=>(function(h,f,p){const v=ft(h),E=v.xs.get(p);return E!==void 0?Re.resolve(v.Ms.get(E)):v.Pi.getTargetData(f,p)})(r,l,ra(e)).next((c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(l,c.targetId).next((h=>{a=h}))})).next((()=>r.Fs.getDocumentsMatchingQuery(l,e,t?i:Mt.min(),t?a:mn()))).next((c=>(Y6(r,JC(e),c),{documents:c,Qs:a})))))}function W6(n,e){const t=ft(n),r=ft(t.Pi),i=t.Ms.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",(a=>r.At(a,e).next((l=>l?l.target:null))))}function K6(n,e){const t=ft(n),r=t.Os.get(e)||Mt.min();return t.persistence.runTransaction("Get new document changes","readonly",(i=>t.Ns.getAllFromCollectionGroup(i,e,yC(r,Ed),Number.MAX_SAFE_INTEGER))).then((i=>(Y6(t,e,i),i)))}function Y6(n,e,t){let r=n.Os.get(e)||Mt.min();t.forEach(((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)})),n.Os.set(e,r)}async function dH(n,e,t,r){const i=ft(n);let a=mn(),l=Ca();for(const f of t){const p=e.$s(f.metadata.name);f.document&&(a=a.add(p));const v=e.Us(f);v.setReadTime(e.Ks(f.metadata.readTime)),l=l.insert(p,v)}const c=i.Ns.newChangeBuffer({trackRemovals:!0}),h=await kd(i,(function(p){return ra(Qd(In.fromString(`__bundle__/docs/${p}`)))})(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",(f=>$6(f,c,l).next((p=>(c.apply(f),p))).next((p=>i.Pi.removeMatchingKeysForTargetId(f,h.targetId).next((()=>i.Pi.addMatchingKeys(f,a,h.targetId))).next((()=>i.localDocuments.getLocalViewOfDocuments(f,p.ks,p.qs))).next((()=>p.ks))))))}async function pH(n,e,t=mn()){const r=await kd(n,ra(Nb(e.bundledQuery))),i=ft(n);return i.persistence.runTransaction("Save named query","readwrite",(a=>{const l=wi(e.readTime);if(r.snapshotVersion.compareTo(l)>=0)return i.Ii.saveNamedQuery(a,e);const c=r.withResumeToken(ui.EMPTY_BYTE_STRING,l);return i.Ms=i.Ms.insert(c.targetId,c),i.Pi.updateTargetData(a,c).next((()=>i.Pi.removeMatchingKeysForTargetId(a,r.targetId))).next((()=>i.Pi.addMatchingKeys(a,t,r.targetId))).next((()=>i.Ii.saveNamedQuery(a,e)))}))}const Q6="firestore_clients";function m4(n,e){return`${Q6}_${n}_${e}`}const X6="firestore_mutations";function g4(n,e,t){let r=`${X6}_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}const J6="firestore_targets";function Y2(n,e){return`${J6}_${n}_${e}`}const xl="SharedClientState";class Fy{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static Ws(e,t,r){const i=JSON.parse(r);let a,l=typeof i=="object"&&["pending","acknowledged","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return l&&i.error&&(l=typeof i.error.message=="string"&&typeof i.error.code=="string",l&&(a=new tt(i.error.code,i.error.message))),l?new Fy(e,t,i.state,a):(bi(xl,`Failed to parse mutation state for ID '${t}': ${r}`),null)}Gs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Sm{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Ws(e,t){const r=JSON.parse(t);let i,a=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return a&&r.error&&(a=typeof r.error.message=="string"&&typeof r.error.code=="string",a&&(i=new tt(r.error.code,r.error.message))),a?new Sm(e,r.state,i):(bi(xl,`Failed to parse target state for ID '${e}': ${t}`),null)}Gs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Uy{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Ws(e,t){const r=JSON.parse(t);let i=typeof r=="object"&&r.activeTargetIds instanceof Array,a=bb();for(let l=0;i&&l<r.activeTargetIds.length;++l)i=EC(r.activeTargetIds[l]),a=a.add(r.activeTargetIds[l]);return i?new Uy(e,a):(bi(xl,`Failed to parse client data for instance '${e}': ${t}`),null)}}class Vb{constructor(e,t){this.clientId=e,this.onlineState=t}static Ws(e){const t=JSON.parse(e);return typeof t=="object"&&["Unknown","Online","Offline"].indexOf(t.onlineState)!==-1&&typeof t.clientId=="string"?new Vb(t.clientId,t.onlineState):(bi(xl,`Failed to parse online state: ${e}`),null)}}class Z_{constructor(){this.activeTargetIds=bb()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Q2{constructor(e,t,r,i,a){this.window=e,this.Mi=t,this.persistenceKey=r,this.Js=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Hs=this.Ys.bind(this),this.Zs=new Tr(ln),this.started=!1,this.Xs=[];const l=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.eo=m4(this.persistenceKey,this.Js),this.no=(function(h){return`firestore_sequence_number_${h}`})(this.persistenceKey),this.Zs=this.Zs.insert(this.Js,new Z_),this.ro=new RegExp(`^${Q6}_${l}_([^_]*)$`),this.io=new RegExp(`^${X6}_${l}_(\\d+)(?:_(.*))?$`),this.so=new RegExp(`^${J6}_${l}_(\\d+)$`),this.oo=(function(h){return`firestore_online_state_${h}`})(this.persistenceKey),this._o=(function(h){return`firestore_bundle_loaded_v2_${h}`})(this.persistenceKey),this.window.addEventListener("storage",this.Hs)}static v(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.Ts();for(const r of e){if(r===this.Js)continue;const i=this.getItem(m4(this.persistenceKey,r));if(i){const a=Uy.Ws(r,i);a&&(this.Zs=this.Zs.insert(a.clientId,a))}}this.ao();const t=this.storage.getItem(this.oo);if(t){const r=this.uo(t);r&&this.co(r)}for(const r of this.Xs)this.Ys(r);this.Xs=[],this.window.addEventListener("pagehide",(()=>this.shutdown())),this.started=!0}writeSequenceNumber(e){this.setItem(this.no,JSON.stringify(e))}getAllActiveQueryTargets(){return this.lo(this.Zs)}isActiveQueryTarget(e){let t=!1;return this.Zs.forEach(((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)})),t}addPendingMutation(e){this.ho(e,"pending")}updateMutationState(e,t,r){this.ho(e,t,r),this.Po(e)}addLocalQueryTarget(e,t=!0){let r="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(Y2(this.persistenceKey,e));if(i){const a=Sm.Ws(e,i);a&&(r=a.state)}}return t&&this.To.zs(e),this.ao(),r}removeLocalQueryTarget(e){this.To.js(e),this.ao()}isLocalQueryTarget(e){return this.To.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Y2(this.persistenceKey,e))}updateQueryState(e,t,r){this.Io(e,t,r)}handleUserChange(e,t,r){t.forEach((i=>{this.Po(i)})),this.currentUser=e,r.forEach((i=>{this.addPendingMutation(i)}))}setOnlineState(e){this.Eo(e)}notifyBundleLoaded(e){this.Ao(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Hs),this.removeItem(this.eo),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return nt(xl,"READ",e,t),t}setItem(e,t){nt(xl,"SET",e,t),this.storage.setItem(e,t)}removeItem(e){nt(xl,"REMOVE",e),this.storage.removeItem(e)}Ys(e){const t=e;if(t.storageArea===this.storage){if(nt(xl,"EVENT",t.key,t.newValue),t.key===this.eo)return void bi("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Mi.enqueueRetryable((async()=>{if(this.started){if(t.key!==null){if(this.ro.test(t.key)){if(t.newValue==null){const r=this.Ro(t.key);return this.Vo(r,null)}{const r=this.mo(t.key,t.newValue);if(r)return this.Vo(r.clientId,r)}}else if(this.io.test(t.key)){if(t.newValue!==null){const r=this.fo(t.key,t.newValue);if(r)return this.po(r)}}else if(this.so.test(t.key)){if(t.newValue!==null){const r=this.yo(t.key,t.newValue);if(r)return this.wo(r)}}else if(t.key===this.oo){if(t.newValue!==null){const r=this.uo(t.newValue);if(r)return this.co(r)}}else if(t.key===this.no){const r=(function(a){let l=Ia.ce;if(a!=null)try{const c=JSON.parse(a);Ct(typeof c=="number",30636,{So:a}),l=c}catch(c){bi(xl,"Failed to read sequence number from WebStorage",c)}return l})(t.newValue);r!==Ia.ce&&this.sequenceNumberHandler(r)}else if(t.key===this._o){const r=this.bo(t.newValue);await Promise.all(r.map((i=>this.syncEngine.Do(i))))}}}else this.Xs.push(t)}))}}get To(){return this.Zs.get(this.Js)}ao(){this.setItem(this.eo,this.To.Gs())}ho(e,t,r){const i=new Fy(this.currentUser,e,t,r),a=g4(this.persistenceKey,this.currentUser,e);this.setItem(a,i.Gs())}Po(e){const t=g4(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Eo(e){const t={clientId:this.Js,onlineState:e};this.storage.setItem(this.oo,JSON.stringify(t))}Io(e,t,r){const i=Y2(this.persistenceKey,e),a=new Sm(e,t,r);this.setItem(i,a.Gs())}Ao(e){const t=JSON.stringify(Array.from(e));this.setItem(this._o,t)}Ro(e){const t=this.ro.exec(e);return t?t[1]:null}mo(e,t){const r=this.Ro(e);return Uy.Ws(r,t)}fo(e,t){const r=this.io.exec(e),i=Number(r[1]),a=r[2]!==void 0?r[2]:null;return Fy.Ws(new os(a),i,t)}yo(e,t){const r=this.so.exec(e),i=Number(r[1]);return Sm.Ws(i,t)}uo(e){return Vb.Ws(e)}bo(e){return JSON.parse(e)}async po(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.Co(e.batchId,e.state,e.error);nt(xl,`Ignoring mutation for non-active user ${e.user.uid}`)}wo(e){return this.syncEngine.vo(e.targetId,e.state,e.error)}Vo(e,t){const r=t?this.Zs.insert(e,t):this.Zs.remove(e),i=this.lo(this.Zs),a=this.lo(r),l=[],c=[];return a.forEach((h=>{i.has(h)||l.push(h)})),i.forEach((h=>{a.has(h)||c.push(h)})),this.syncEngine.Fo(l,c).then((()=>{this.Zs=r}))}co(e){this.Zs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}lo(e){let t=bb();return e.forEach(((r,i)=>{t=t.unionWith(i.activeTargetIds)})),t}}class Z6{constructor(){this.Mo=new Z_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,r){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Z_,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class mH{Oo(e){}shutdown(){}}const y4="ConnectivityMonitor";class v4{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){nt(y4,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){nt(y4,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let F1=null;function e5(){return F1===null?F1=(function(){return 268435456+Math.round(2147483648*Math.random())})():F1++,"0x"+F1.toString(16)}const X2="RestConnection",gH={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class yH{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===F_?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,t,r,i,a){const l=e5(),c=this.zo(e,t.toUriEncodedString());nt(X2,`Sending RPC '${e}' ${l}:`,c,r);const h={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(h,i,a);const{host:f}=new URL(c),p=Hd(f);return this.Jo(e,c,h,r,p).then((v=>(nt(X2,`Received RPC '${e}' ${l}: `,v),v)),(v=>{throw Ul(X2,`RPC '${e}' ${l} failed with error: `,v,"url: ",c,"request:",r),v}))}Ho(e,t,r,i,a,l){return this.Go(e,t,r,i,a)}jo(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Yd})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((i,a)=>e[a]=i)),r&&r.headers.forEach(((i,a)=>e[a]=i))}zo(e,t){const r=gH[e];return`${this.Uo}/v1/${t}:${r}`}terminate(){}}class vH{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const js="WebChannelConnection";class _H extends yH{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,r,i,a){const l=e5();return new Promise(((c,h)=>{const f=new aC;f.setWithCredentials(!0),f.listenOnce(oC.COMPLETE,(()=>{try{switch(f.getLastErrorCode()){case Z1.NO_ERROR:const v=f.getResponseJson();nt(js,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(v)),c(v);break;case Z1.TIMEOUT:nt(js,`RPC '${e}' ${l} timed out`),h(new tt(je.DEADLINE_EXCEEDED,"Request time out"));break;case Z1.HTTP_ERROR:const E=f.getStatus();if(nt(js,`RPC '${e}' ${l} failed with status:`,E,"response text:",f.getResponseText()),E>0){let b=f.getResponseJson();Array.isArray(b)&&(b=b[0]);const R=b?.error;if(R&&R.status&&R.message){const P=(function(k){const K=k.toLowerCase().replace(/_/g,"-");return Object.values(je).indexOf(K)>=0?K:je.UNKNOWN})(R.status);h(new tt(P,R.message))}else h(new tt(je.UNKNOWN,"Server responded with status "+f.getStatus()))}else h(new tt(je.UNAVAILABLE,"Connection failed."));break;default:gt(9055,{l_:e,streamId:l,h_:f.getLastErrorCode(),P_:f.getLastError()})}}finally{nt(js,`RPC '${e}' ${l} completed.`)}}));const p=JSON.stringify(i);nt(js,`RPC '${e}' ${l} sending request:`,i),f.send(t,"POST",p,r,15)}))}T_(e,t,r){const i=e5(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=cC(),c=uC(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(h.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(h.useFetchStreams=!0),this.jo(h.initMessageHeaders,t,r),h.encodeInitMessageHeaders=!0;const p=a.join("");nt(js,`Creating RPC '${e}' stream ${i}: ${p}`,h);const v=l.createWebChannel(p,h);this.I_(v);let E=!1,b=!1;const R=new vH({Yo:M=>{b?nt(js,`Not sending because RPC '${e}' stream ${i} is closed:`,M):(E||(nt(js,`Opening RPC '${e}' stream ${i} transport.`),v.open(),E=!0),nt(js,`RPC '${e}' stream ${i} sending:`,M),v.send(M))},Zo:()=>v.close()}),P=(M,k,K)=>{M.listen(k,($=>{try{K($)}catch(ee){setTimeout((()=>{throw ee}),0)}}))};return P(v,rm.EventType.OPEN,(()=>{b||(nt(js,`RPC '${e}' stream ${i} transport opened.`),R.o_())})),P(v,rm.EventType.CLOSE,(()=>{b||(b=!0,nt(js,`RPC '${e}' stream ${i} transport closed`),R.a_(),this.E_(v))})),P(v,rm.EventType.ERROR,(M=>{b||(b=!0,Ul(js,`RPC '${e}' stream ${i} transport errored. Name:`,M.name,"Message:",M.message),R.a_(new tt(je.UNAVAILABLE,"The operation could not be completed")))})),P(v,rm.EventType.MESSAGE,(M=>{if(!b){const k=M.data[0];Ct(!!k,16349);const K=k,$=K?.error||K[0]?.error;if($){nt(js,`RPC '${e}' stream ${i} received error:`,$);const ee=$.status;let ye=(function(F){const D=Ri[F];if(D!==void 0)return f6(D)})(ee),ve=$.message;ye===void 0&&(ye=je.INTERNAL,ve="Unknown error status: "+ee+" with message "+$.message),b=!0,R.a_(new tt(ye,ve)),v.close()}else nt(js,`RPC '${e}' stream ${i} received:`,k),R.u_(k)}})),P(c,lC.STAT_EVENT,(M=>{M.stat===L_.PROXY?nt(js,`RPC '${e}' stream ${i} detected buffering proxy`):M.stat===L_.NOPROXY&&nt(js,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{R.__()}),0),R}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function eR(){return typeof window<"u"?window:null}function uy(){return typeof document<"u"?document:null}function Eg(n){return new Sq(n,!0)}class jb{constructor(e,t,r=1e3,i=1.5,a=6e4){this.Mi=e,this.timerId=t,this.d_=r,this.A_=i,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,t-r);i>0&&nt("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const _4="PersistentStream";class tR{constructor(e,t,r,i,a,l,c,h){this.Mi=e,this.S_=r,this.b_=i,this.connection=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=c,this.listener=h,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new jb(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===je.RESOURCE_EXHAUSTED?(bi(t.toString()),bi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===je.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.D_===t&&this.G_(r,i)}),(r=>{e((()=>{const i=new tt(je.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)}))}))}G_(e,t){const r=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((i=>{r((()=>this.z_(i)))})),this.stream.onMessage((i=>{r((()=>++this.F_==1?this.J_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return nt(_4,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(nt(_4,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class bH extends tR{constructor(e,t,r,i,a,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,l),this.serializer=a}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=Iq(this.serializer,e),r=(function(a){if(!("targetChange"in a))return Mt.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?Mt.min():l.readTime?wi(l.readTime):Mt.min()})(e);return this.listener.H_(t,r)}Y_(e){const t={};t.database=K_(this.serializer),t.addTarget=(function(a,l){let c;const h=l.target;if(c=Py(h)?{documents:E6(a,h)}:{query:A6(a,h).ft},c.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){c.resumeToken=g6(a,l.resumeToken);const f=$_(a,l.expectedCount);f!==null&&(c.expectedCount=f)}else if(l.snapshotVersion.compareTo(Mt.min())>0){c.readTime=Ld(a,l.snapshotVersion.toTimestamp());const f=$_(a,l.expectedCount);f!==null&&(c.expectedCount=f)}return c})(this.serializer,e);const r=Cq(this.serializer,e);r&&(t.labels=r),this.q_(t)}Z_(e){const t={};t.database=K_(this.serializer),t.removeTarget=e,this.q_(t)}}class wH extends tR{constructor(e,t,r,i,a,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,l),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return Ct(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ct(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ct(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=Nq(e.writeResults,e.commitTime),r=wi(e.commitTime);return this.listener.na(r,t)}ra(){const e={};e.database=K_(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((r=>Km(this.serializer,r)))};this.q_(t)}}class EH{}class AH extends EH{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new tt(je.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,l])=>this.connection.Go(e,W_(t,r),i,a,l))).catch((a=>{throw a.name==="FirebaseError"?(a.code===je.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new tt(je.UNKNOWN,a.toString())}))}Ho(e,t,r,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Ho(e,W_(t,r),i,l,c,a))).catch((l=>{throw l.name==="FirebaseError"?(l.code===je.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new tt(je.UNKNOWN,l.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class SH{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(bi(t),this.aa=!1):nt("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Kh="RemoteStore";class TH{constructor(e,t,r,i,a){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo((l=>{r.enqueueAndForget((async()=>{Yc(this)&&(nt(Kh,"Restarting streams for network reachability change."),await(async function(h){const f=ft(h);f.Ea.add(4),await Zd(f),f.Ra.set("Unknown"),f.Ea.delete(4),await Ag(f)})(this))}))})),this.Ra=new SH(r,i)}}async function Ag(n){if(Yc(n))for(const e of n.da)await e(!0)}async function Zd(n){for(const e of n.da)await e(!1)}function E0(n,e){const t=ft(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),Bb(t)?Ub(t):tp(t).O_()&&Fb(t,e))}function Od(n,e){const t=ft(n),r=tp(t);t.Ia.delete(e),r.O_()&&nR(t,e),t.Ia.size===0&&(r.O_()?r.L_():Yc(t)&&t.Ra.set("Unknown"))}function Fb(n,e){if(n.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Mt.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}tp(n).Y_(e)}function nR(n,e){n.Va.Ue(e),tp(n).Z_(e)}function Ub(n){n.Va=new bq({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),tp(n).start(),n.Ra.ua()}function Bb(n){return Yc(n)&&!tp(n).x_()&&n.Ia.size>0}function Yc(n){return ft(n).Ea.size===0}function rR(n){n.Va=void 0}async function xH(n){n.Ra.set("Online")}async function IH(n){n.Ia.forEach(((e,t)=>{Fb(n,e)}))}async function NH(n,e){rR(n),Bb(n)?(n.Ra.ha(e),Ub(n)):n.Ra.set("Unknown")}async function CH(n,e,t){if(n.Ra.set("Online"),e instanceof m6&&e.state===2&&e.cause)try{await(async function(i,a){const l=a.cause;for(const c of a.targetIds)i.Ia.has(c)&&(await i.remoteSyncer.rejectListen(c,l),i.Ia.delete(c),i.Va.removeTarget(c))})(n,e)}catch(r){nt(Kh,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await By(n,r)}else if(e instanceof oy?n.Va.Ze(e):e instanceof p6?n.Va.st(e):n.Va.tt(e),!t.isEqual(Mt.min()))try{const r=await G6(n.localStore);t.compareTo(r)>=0&&await(function(a,l){const c=a.Va.Tt(l);return c.targetChanges.forEach(((h,f)=>{if(h.resumeToken.approximateByteSize()>0){const p=a.Ia.get(f);p&&a.Ia.set(f,p.withResumeToken(h.resumeToken,l))}})),c.targetMismatches.forEach(((h,f)=>{const p=a.Ia.get(h);if(!p)return;a.Ia.set(h,p.withResumeToken(ui.EMPTY_BYTE_STRING,p.snapshotVersion)),nR(a,h);const v=new bu(p.target,h,f,p.sequenceNumber);Fb(a,v)})),a.remoteSyncer.applyRemoteEvent(c)})(n,t)}catch(r){nt(Kh,"Failed to raise snapshot:",r),await By(n,r)}}async function By(n,e,t){if(!Wc(e))throw e;n.Ea.add(1),await Zd(n),n.Ra.set("Offline"),t||(t=()=>G6(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{nt(Kh,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await Ag(n)}))}function iR(n,e){return e().catch((t=>By(n,t,e)))}async function ep(n){const e=ft(n),t=Uc(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Nc;for(;RH(e);)try{const i=await fH(e.localStore,r);if(i===null){e.Ta.length===0&&t.L_();break}r=i.batchId,PH(e,i)}catch(i){await By(e,i)}sR(e)&&aR(e)}function RH(n){return Yc(n)&&n.Ta.length<10}function PH(n,e){n.Ta.push(e);const t=Uc(n);t.O_()&&t.X_&&t.ea(e.mutations)}function sR(n){return Yc(n)&&!Uc(n).x_()&&n.Ta.length>0}function aR(n){Uc(n).start()}async function LH(n){Uc(n).ra()}async function kH(n){const e=Uc(n);for(const t of n.Ta)e.ea(t.mutations)}async function DH(n,e,t){const r=n.Ta.shift(),i=Sb.from(r,e,t);await iR(n,(()=>n.remoteSyncer.applySuccessfulWrite(i))),await ep(n)}async function OH(n,e){e&&Uc(n).X_&&await(async function(r,i){if((function(l){return h6(l)&&l!==je.ABORTED})(i.code)){const a=r.Ta.shift();Uc(r).B_(),await iR(r,(()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i))),await ep(r)}})(n,e),sR(n)&&aR(n)}async function b4(n,e){const t=ft(n);t.asyncQueue.verifyOperationInProgress(),nt(Kh,"RemoteStore received new credentials");const r=Yc(t);t.Ea.add(3),await Zd(t),r&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await Ag(t)}async function t5(n,e){const t=ft(n);e?(t.Ea.delete(2),await Ag(t)):e||(t.Ea.add(2),await Zd(t),t.Ra.set("Unknown"))}function tp(n){return n.ma||(n.ma=(function(t,r,i){const a=ft(t);return a.sa(),new bH(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(n.datastore,n.asyncQueue,{Xo:xH.bind(null,n),t_:IH.bind(null,n),r_:NH.bind(null,n),H_:CH.bind(null,n)}),n.da.push((async e=>{e?(n.ma.B_(),Bb(n)?Ub(n):n.Ra.set("Unknown")):(await n.ma.stop(),rR(n))}))),n.ma}function Uc(n){return n.fa||(n.fa=(function(t,r,i){const a=ft(t);return a.sa(),new wH(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:LH.bind(null,n),r_:OH.bind(null,n),ta:kH.bind(null,n),na:DH.bind(null,n)}),n.da.push((async e=>{e?(n.fa.B_(),await ep(n)):(await n.fa.stop(),n.Ta.length>0&&(nt(Kh,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}class zb{constructor(e,t,r,i,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Ss,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((l=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,a){const l=Date.now()+r,c=new zb(e,t,l,i,a);return c.start(r),c}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new tt(je.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function np(n,e){if(bi("AsyncQueue",`${e}: ${n}`),Wc(n))return new tt(je.UNAVAILABLE,`${e}: ${n}`);throw n}class md{static emptySet(e){return new md(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||ut.comparator(t.key,r.key):(t,r)=>ut.comparator(t.key,r.key),this.keyedMap=im(),this.sortedSet=new Tr(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,r)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof md)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new md;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class w4{constructor(){this.ga=new Tr(ut.comparator)}track(e){const t=e.doc.key,r=this.ga.get(t);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(t,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(t):e.type===1&&r.type===2?this.ga=this.ga.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):gt(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,r)=>{e.push(r)})),e}}class Md{constructor(e,t,r,i,a,l,c,h,f){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=c,this.excludesMetadataChanges=h,this.hasCachedResults=f}static fromInitialDocuments(e,t,r,i,a){const l=[];return t.forEach((c=>{l.push({type:0,doc:c})})),new Md(e,t,md.emptySet(t),l,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&yg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class MH{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class VH{constructor(){this.queries=E4(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){const i=ft(t),a=i.queries;i.queries=E4(),a.forEach(((l,c)=>{for(const h of c.Sa)h.onError(r)}))})(this,new tt(je.ABORTED,"Firestore shutting down"))}}function E4(){return new Du((n=>XC(n)),yg)}async function qb(n,e){const t=ft(n);let r=3;const i=e.query;let a=t.queries.get(i);a?!a.ba()&&e.Da()&&(r=2):(a=new MH,r=e.Da()?0:1);try{switch(r){case 0:a.wa=await t.onListen(i,!0);break;case 1:a.wa=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(l){const c=np(l,`Initialization of query '${Zf(e.query)}' failed`);return void e.onError(c)}t.queries.set(i,a),a.Sa.push(e),e.va(t.onlineState),a.wa&&e.Fa(a.wa)&&Gb(t)}async function Hb(n,e){const t=ft(n),r=e.query;let i=3;const a=t.queries.get(r);if(a){const l=a.Sa.indexOf(e);l>=0&&(a.Sa.splice(l,1),a.Sa.length===0?i=e.Da()?0:1:!a.ba()&&e.Da()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function jH(n,e){const t=ft(n);let r=!1;for(const i of e){const a=i.query,l=t.queries.get(a);if(l){for(const c of l.Sa)c.Fa(i)&&(r=!0);l.wa=i}}r&&Gb(t)}function FH(n,e,t){const r=ft(n),i=r.queries.get(e);if(i)for(const a of i.Sa)a.onError(t);r.queries.delete(e)}function Gb(n){n.Ca.forEach((e=>{e.next()}))}var n5,A4;(A4=n5||(n5={})).Ma="default",A4.Cache="cache";class $b{constructor(e,t,r){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Md(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const r=t!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=Md.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==n5.Cache}}class UH{constructor(e,t){this.Qa=e,this.byteLength=t}$a(){return"metadata"in this.Qa}}class S4{constructor(e){this.serializer=e}$s(e){return Ml(this.serializer,e)}Us(e){return e.metadata.exists?w6(this.serializer,e.document,!1):Lr.newNoDocument(this.$s(e.metadata.name),this.Ks(e.metadata.readTime))}Ks(e){return wi(e)}}class BH{constructor(e,t){this.Ua=e,this.serializer=t,this.Ka=[],this.Wa=[],this.collectionGroups=new Set,this.progress=oR(e)}get queries(){return this.Ka}get documents(){return this.Wa}Ga(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Qa.namedQuery)this.Ka.push(e.Qa.namedQuery);else if(e.Qa.documentMetadata){this.Wa.push({metadata:e.Qa.documentMetadata}),e.Qa.documentMetadata.exists||++t;const r=In.fromString(e.Qa.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.Qa.document&&(this.Wa[this.Wa.length-1].document=e.Qa.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,{...this.progress}):null}za(e){const t=new Map,r=new S4(this.serializer);for(const i of e)if(i.metadata.queries){const a=r.$s(i.metadata.name);for(const l of i.metadata.queries){const c=(t.get(l)||mn()).add(a);t.set(l,c)}}return t}async ja(e){const t=await dH(e,new S4(this.serializer),this.Wa,this.Ua.id),r=this.za(this.documents);for(const i of this.Ka)await pH(e,i,r.get(i.name));return this.progress.taskState="Success",{progress:this.progress,Ja:this.collectionGroups,Ha:t}}}function oR(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class lR{constructor(e){this.key=e}}class uR{constructor(e){this.key=e}}class cR{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=mn(),this.mutatedKeys=mn(),this.eu=ZC(e),this.tu=new md(this.eu)}get nu(){return this.Ya}ru(e,t){const r=t?t.iu:new w4,i=t?t.tu:this.tu;let a=t?t.mutatedKeys:this.mutatedKeys,l=i,c=!1;const h=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,f=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((p,v)=>{const E=i.get(p),b=vg(this.query,v)?v:null,R=!!E&&this.mutatedKeys.has(E.key),P=!!b&&(b.hasLocalMutations||this.mutatedKeys.has(b.key)&&b.hasCommittedMutations);let M=!1;E&&b?E.data.isEqual(b.data)?R!==P&&(r.track({type:3,doc:b}),M=!0):this.su(E,b)||(r.track({type:2,doc:b}),M=!0,(h&&this.eu(b,h)>0||f&&this.eu(b,f)<0)&&(c=!0)):!E&&b?(r.track({type:0,doc:b}),M=!0):E&&!b&&(r.track({type:1,doc:E}),M=!0,(h||f)&&(c=!0)),M&&(b?(l=l.add(b),a=P?a.add(p):a.delete(p)):(l=l.delete(p),a=a.delete(p)))})),this.query.limit!==null)for(;l.size>this.query.limit;){const p=this.query.limitType==="F"?l.last():l.first();l=l.delete(p.key),a=a.delete(p.key),r.track({type:1,doc:p})}return{tu:l,iu:r,Cs:c,mutatedKeys:a}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const l=e.iu.ya();l.sort(((p,v)=>(function(b,R){const P=M=>{switch(M){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return gt(20277,{Rt:M})}};return P(b)-P(R)})(p.type,v.type)||this.eu(p.doc,v.doc))),this.ou(r),i=i??!1;const c=t&&!i?this._u():[],h=this.Xa.size===0&&this.current&&!i?1:0,f=h!==this.Za;return this.Za=h,l.length!==0||f?{snapshot:new Md(this.query,e.tu,a,l,e.mutatedKeys,h===0,f,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:c}:{au:c}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new w4,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=mn(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const t=[];return e.forEach((r=>{this.Xa.has(r)||t.push(new uR(r))})),this.Xa.forEach((r=>{e.has(r)||t.push(new lR(r))})),t}cu(e){this.Ya=e.Qs,this.Xa=mn();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Md.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Qc="SyncEngine";class zH{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class qH{constructor(e){this.key=e,this.hu=!1}}class HH{constructor(e,t,r,i,a,l){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.Pu={},this.Tu=new Du((c=>XC(c)),yg),this.Iu=new Map,this.Eu=new Set,this.du=new Tr(ut.comparator),this.Au=new Map,this.Ru=new Pb,this.Vu={},this.mu=new Map,this.fu=Wh.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function GH(n,e,t=!0){const r=A0(n);let i;const a=r.Tu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.lu()):i=await hR(r,e,t,!0),i}async function $H(n,e){const t=A0(n);await hR(t,e,!0,!1)}async function hR(n,e,t,r){const i=await kd(n.localStore,ra(e)),a=i.targetId,l=n.sharedClientState.addLocalQueryTarget(a,t);let c;return r&&(c=await Wb(n,e,a,l==="current",i.resumeToken)),n.isPrimaryClient&&t&&E0(n.remoteStore,i),c}async function Wb(n,e,t,r,i){n.pu=(v,E,b)=>(async function(P,M,k,K){let $=M.view.ru(k);$.Cs&&($=await jy(P.localStore,M.query,!1).then((({documents:z})=>M.view.ru(z,$))));const ee=K&&K.targetChanges.get(M.targetId),ye=K&&K.targetMismatches.get(M.targetId)!=null,ve=M.view.applyChanges($,P.isPrimaryClient,ee,ye);return r5(P,M.targetId,ve.au),ve.snapshot})(n,v,E,b);const a=await jy(n.localStore,e,!0),l=new cR(e,a.Qs),c=l.ru(a.documents),h=wg.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),f=l.applyChanges(c,n.isPrimaryClient,h);r5(n,t,f.au);const p=new zH(e,t,l);return n.Tu.set(e,p),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),f.snapshot}async function WH(n,e,t){const r=ft(n),i=r.Tu.get(e),a=r.Iu.get(i.targetId);if(a.length>1)return r.Iu.set(i.targetId,a.filter((l=>!yg(l,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Dd(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),t&&Od(r.remoteStore,i.targetId),Vd(r,i.targetId)})).catch($c)):(Vd(r,i.targetId),await Dd(r.localStore,i.targetId,!0))}async function KH(n,e){const t=ft(n),r=t.Tu.get(e),i=t.Iu.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),Od(t.remoteStore,r.targetId))}async function YH(n,e,t){const r=Xb(n);try{const i=await(function(l,c){const h=ft(l),f=nr.now(),p=c.reduce(((b,R)=>b.add(R.key)),mn());let v,E;return h.persistence.runTransaction("Locally write mutations","readwrite",(b=>{let R=Ca(),P=mn();return h.Ns.getEntries(b,p).next((M=>{R=M,R.forEach(((k,K)=>{K.isValidDocument()||(P=P.add(k))}))})).next((()=>h.localDocuments.getOverlayedDocuments(b,R))).next((M=>{v=M;const k=[];for(const K of c){const $=yq(K,v.get(K.key).overlayedDocument);$!=null&&k.push(new Ou(K.key,$,zC($.value.mapValue),Hr.exists(!0)))}return h.mutationQueue.addMutationBatch(b,f,k,c)})).next((M=>{E=M;const k=M.applyToLocalDocumentSet(v,P);return h.documentOverlayCache.saveOverlays(b,M.batchId,k)}))})).then((()=>({batchId:E.batchId,changes:t6(v)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(l,c,h){let f=l.Vu[l.currentUser.toKey()];f||(f=new Tr(ln)),f=f.insert(c,h),l.Vu[l.currentUser.toKey()]=f})(r,i.batchId,t),await Mu(r,i.changes),await ep(r.remoteStore)}catch(i){const a=np(i,"Failed to persist write");t.reject(a)}}async function fR(n,e){const t=ft(n);try{const r=await hH(t.localStore,e);e.targetChanges.forEach(((i,a)=>{const l=t.Au.get(a);l&&(Ct(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?l.hu=!0:i.modifiedDocuments.size>0?Ct(l.hu,14607):i.removedDocuments.size>0&&(Ct(l.hu,42227),l.hu=!1))})),await Mu(t,r,e)}catch(r){await $c(r)}}function T4(n,e,t){const r=ft(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const i=[];r.Tu.forEach(((a,l)=>{const c=l.view.va(e);c.snapshot&&i.push(c.snapshot)})),(function(l,c){const h=ft(l);h.onlineState=c;let f=!1;h.queries.forEach(((p,v)=>{for(const E of v.Sa)E.va(c)&&(f=!0)})),f&&Gb(h)})(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function QH(n,e,t){const r=ft(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.Au.get(e),a=i&&i.key;if(a){let l=new Tr(ut.comparator);l=l.insert(a,Lr.newNoDocument(a,Mt.min()));const c=mn().add(a),h=new bg(Mt.min(),new Map,new Tr(ln),l,c);await fR(r,h),r.du=r.du.remove(a),r.Au.delete(e),Qb(r)}else await Dd(r.localStore,e,!1).then((()=>Vd(r,e,t))).catch($c)}async function XH(n,e){const t=ft(n),r=e.batch.batchId;try{const i=await cH(t.localStore,e);Yb(t,r,null),Kb(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await Mu(t,i)}catch(i){await $c(i)}}async function JH(n,e,t){const r=ft(n);try{const i=await(function(l,c){const h=ft(l);return h.persistence.runTransaction("Reject batch","readwrite-primary",(f=>{let p;return h.mutationQueue.lookupMutationBatch(f,c).next((v=>(Ct(v!==null,37113),p=v.keys(),h.mutationQueue.removeMutationBatch(f,v)))).next((()=>h.mutationQueue.performConsistencyCheck(f))).next((()=>h.documentOverlayCache.removeOverlaysForBatchId(f,p,c))).next((()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,p))).next((()=>h.localDocuments.getDocuments(f,p)))}))})(r.localStore,e);Yb(r,e,t),Kb(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await Mu(r,i)}catch(i){await $c(i)}}async function ZH(n,e){const t=ft(n);Yc(t.remoteStore)||nt(Qc,"The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=await(function(l){const c=ft(l);return c.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(h=>c.mutationQueue.getHighestUnacknowledgedBatchId(h)))})(t.localStore);if(r===Nc)return void e.resolve();const i=t.mu.get(r)||[];i.push(e),t.mu.set(r,i)}catch(r){const i=np(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}function Kb(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function Yb(n,e,t){const r=ft(n);let i=r.Vu[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(t?a.reject(t):a.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function Vd(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Iu.get(e))n.Tu.delete(r),t&&n.Pu.yu(r,t);n.Iu.delete(e),n.isPrimaryClient&&n.Ru.jr(e).forEach((r=>{n.Ru.containsKey(r)||dR(n,r)}))}function dR(n,e){n.Eu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(Od(n.remoteStore,t),n.du=n.du.remove(e),n.Au.delete(t),Qb(n))}function r5(n,e,t){for(const r of t)r instanceof lR?(n.Ru.addReference(r.key,e),eG(n,r)):r instanceof uR?(nt(Qc,"Document no longer in limbo: "+r.key),n.Ru.removeReference(r.key,e),n.Ru.containsKey(r.key)||dR(n,r.key)):gt(19791,{wu:r})}function eG(n,e){const t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Eu.has(r)||(nt(Qc,"New document in limbo: "+t),n.Eu.add(r),Qb(n))}function Qb(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new ut(In.fromString(e)),r=n.fu.next();n.Au.set(r,new qH(t)),n.du=n.du.insert(t,r),E0(n.remoteStore,new bu(ra(Qd(t.path)),r,"TargetPurposeLimboResolution",Ia.ce))}}async function Mu(n,e,t){const r=ft(n),i=[],a=[],l=[];r.Tu.isEmpty()||(r.Tu.forEach(((c,h)=>{l.push(r.pu(h,e,t).then((f=>{if((f||t)&&r.isPrimaryClient){const p=f?!f.fromCache:t?.targetChanges.get(h.targetId)?.current;r.sharedClientState.updateQueryState(h.targetId,p?"current":"not-current")}if(f){i.push(f);const p=Ob.As(h.targetId,f);a.push(p)}})))})),await Promise.all(l),r.Pu.H_(i),await(async function(h,f){const p=ft(h);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",(v=>Re.forEach(f,(E=>Re.forEach(E.Es,(b=>p.persistence.referenceDelegate.addReference(v,E.targetId,b))).next((()=>Re.forEach(E.ds,(b=>p.persistence.referenceDelegate.removeReference(v,E.targetId,b)))))))))}catch(v){if(!Wc(v))throw v;nt(Mb,"Failed to update sequence numbers: "+v)}for(const v of f){const E=v.targetId;if(!v.fromCache){const b=p.Ms.get(E),R=b.snapshotVersion,P=b.withLastLimboFreeSnapshotVersion(R);p.Ms=p.Ms.insert(E,P)}}})(r.localStore,a))}async function tG(n,e){const t=ft(n);if(!t.currentUser.isEqual(e)){nt(Qc,"User change. New user:",e.toKey());const r=await H6(t.localStore,e);t.currentUser=e,(function(a,l){a.mu.forEach((c=>{c.forEach((h=>{h.reject(new tt(je.CANCELLED,l))}))})),a.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Mu(t,r.Ls)}}function nG(n,e){const t=ft(n),r=t.Au.get(e);if(r&&r.hu)return mn().add(r.key);{let i=mn();const a=t.Iu.get(e);if(!a)return i;for(const l of a){const c=t.Tu.get(l);i=i.unionWith(c.view.nu)}return i}}async function rG(n,e){const t=ft(n),r=await jy(t.localStore,e.query,!0),i=e.view.cu(r);return t.isPrimaryClient&&r5(t,e.targetId,i.au),i}async function iG(n,e){const t=ft(n);return K6(t.localStore,e).then((r=>Mu(t,r)))}async function sG(n,e,t,r){const i=ft(n),a=await(function(c,h){const f=ft(c),p=ft(f.mutationQueue);return f.persistence.runTransaction("Lookup mutation documents","readonly",(v=>p.er(v,h).next((E=>E?f.localDocuments.getDocuments(v,E):Re.resolve(null)))))})(i.localStore,e);a!==null?(t==="pending"?await ep(i.remoteStore):t==="acknowledged"||t==="rejected"?(Yb(i,e,r||null),Kb(i,e),(function(c,h){ft(ft(c).mutationQueue).ir(h)})(i.localStore,e)):gt(6720,"Unknown batchState",{Su:t}),await Mu(i,a)):nt(Qc,"Cannot apply mutation batch with id: "+e)}async function aG(n,e){const t=ft(n);if(A0(t),Xb(t),e===!0&&t.gu!==!0){const r=t.sharedClientState.getAllActiveQueryTargets(),i=await x4(t,r.toArray());t.gu=!0,await t5(t.remoteStore,!0);for(const a of i)E0(t.remoteStore,a)}else if(e===!1&&t.gu!==!1){const r=[];let i=Promise.resolve();t.Iu.forEach(((a,l)=>{t.sharedClientState.isLocalQueryTarget(l)?r.push(l):i=i.then((()=>(Vd(t,l),Dd(t.localStore,l,!0)))),Od(t.remoteStore,l)})),await i,await x4(t,r),(function(l){const c=ft(l);c.Au.forEach(((h,f)=>{Od(c.remoteStore,f)})),c.Ru.Jr(),c.Au=new Map,c.du=new Tr(ut.comparator)})(t),t.gu=!1,await t5(t.remoteStore,!1)}}async function x4(n,e,t){const r=ft(n),i=[],a=[];for(const l of e){let c;const h=r.Iu.get(l);if(h&&h.length!==0){c=await kd(r.localStore,ra(h[0]));for(const f of h){const p=r.Tu.get(f),v=await rG(r,p);v.snapshot&&a.push(v.snapshot)}}else{const f=await W6(r.localStore,l);c=await kd(r.localStore,f),await Wb(r,pR(f),l,!1,c.resumeToken)}i.push(c)}return r.Pu.H_(a),i}function pR(n){return QC(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function oG(n){return(function(t){return ft(ft(t).persistence).Ts()})(ft(n).localStore)}async function lG(n,e,t,r){const i=ft(n);if(i.gu)return void nt(Qc,"Ignoring unexpected query state notification.");const a=i.Iu.get(e);if(a&&a.length>0)switch(t){case"current":case"not-current":{const l=await K6(i.localStore,JC(a[0])),c=bg.createSynthesizedRemoteEventForCurrentChange(e,t==="current",ui.EMPTY_BYTE_STRING);await Mu(i,l,c);break}case"rejected":await Dd(i.localStore,e,!0),Vd(i,e,r);break;default:gt(64155,t)}}async function uG(n,e,t){const r=A0(n);if(r.gu){for(const i of e){if(r.Iu.has(i)&&r.sharedClientState.isActiveQueryTarget(i)){nt(Qc,"Adding an already active target "+i);continue}const a=await W6(r.localStore,i),l=await kd(r.localStore,a);await Wb(r,pR(a),l.targetId,!1,l.resumeToken),E0(r.remoteStore,l)}for(const i of t)r.Iu.has(i)&&await Dd(r.localStore,i,!1).then((()=>{Od(r.remoteStore,i),Vd(r,i)})).catch($c)}}function A0(n){const e=ft(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=fR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=nG.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=QH.bind(null,e),e.Pu.H_=jH.bind(null,e.eventManager),e.Pu.yu=FH.bind(null,e.eventManager),e}function Xb(n){const e=ft(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=XH.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=JH.bind(null,e),e}function cG(n,e,t){const r=ft(n);(async function(a,l,c){try{const h=await l.getMetadata();if(await(function(b,R){const P=ft(b),M=wi(R.createTime);return P.persistence.runTransaction("hasNewerBundle","readonly",(k=>P.Ii.getBundleMetadata(k,R.id))).then((k=>!!k&&k.createTime.compareTo(M)>=0))})(a.localStore,h))return await l.close(),c._completeWith((function(b){return{taskState:"Success",documentsLoaded:b.totalDocuments,bytesLoaded:b.totalBytes,totalDocuments:b.totalDocuments,totalBytes:b.totalBytes}})(h)),Promise.resolve(new Set);c._updateProgress(oR(h));const f=new BH(h,l.serializer);let p=await l.bu();for(;p;){const E=await f.Ga(p);E&&c._updateProgress(E),p=await l.bu()}const v=await f.ja(a.localStore);return await Mu(a,v.Ha,void 0),await(function(b,R){const P=ft(b);return P.persistence.runTransaction("Save bundle","readwrite",(M=>P.Ii.saveBundleMetadata(M,R)))})(a.localStore,h),c._completeWith(v.progress),Promise.resolve(v.Ja)}catch(h){return Ul(Qc,`Loading bundle failed with ${h}`),c._failWith(h),Promise.resolve(new Set)}})(r,e,t).then((i=>{r.sharedClientState.notifyBundleLoaded(i)}))}class Ym{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Eg(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return q6(this.persistence,new z6,e.initialUser,this.serializer)}Cu(e){return new Lb(w0.mi,this.serializer)}Du(e){return new Z6}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ym.provider={build:()=>new Ym};class hG extends Ym{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Ct(this.persistence.referenceDelegate instanceof Vy,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new M6(r,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?Fs.withCacheSize(this.cacheSizeBytes):Fs.DEFAULT;return new Lb((r=>Vy.mi(r,t)),this.serializer)}}class mR extends Ym{constructor(e,t,r){super(),this.xu=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.xu.initialize(this,e),await Xb(this.xu.syncEngine),await ep(this.xu.remoteStore),await this.persistence.Ji((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}vu(e){return q6(this.persistence,new z6,e.initialUser,this.serializer)}Fu(e,t){const r=this.persistence.referenceDelegate.garbageCollector;return new M6(r,e.asyncQueue,t)}Mu(e,t){const r=new bz(t,this.persistence);return new _z(e.asyncQueue,r)}Cu(e){const t=Db(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?Fs.withCacheSize(this.cacheSizeBytes):Fs.DEFAULT;return new kb(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,eR(),uy(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Du(e){return new Z6}}class fG extends mR{constructor(e,t){super(e,t,!1),this.xu=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const t=this.xu.syncEngine;this.sharedClientState instanceof Q2&&(this.sharedClientState.syncEngine={Co:sG.bind(null,t),vo:lG.bind(null,t),Fo:uG.bind(null,t),Ts:oG.bind(null,t),Do:iG.bind(null,t)},await this.sharedClientState.start()),await this.persistence.Ji((async r=>{await aG(this.xu.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())}))}Du(e){const t=eR();if(!Q2.v(t))throw new tt(je.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=Db(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Q2(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class Qm{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>T4(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=tG.bind(null,this.syncEngine),await t5(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new VH})()}createDatastore(e){const t=Eg(e.databaseInfo.databaseId),r=(function(a){return new _H(a)})(e.databaseInfo);return(function(a,l,c,h){return new AH(a,l,c,h)})(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return(function(r,i,a,l,c){return new TH(r,i,a,l,c)})(this.localStore,this.datastore,e.asyncQueue,(t=>T4(this.syncEngine,t,0)),(function(){return v4.v()?new v4:new mH})())}createSyncEngine(e,t){return(function(i,a,l,c,h,f,p){const v=new HH(i,a,l,c,h,f);return p&&(v.gu=!0),v})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const r=ft(t);nt(Kh,"RemoteStore shutting down."),r.Ea.add(5),await Zd(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Qm.provider={build:()=>new Qm};function I4(n,e=10240){let t=0;return{async read(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}class S0{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):bi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}class dG{constructor(e,t){this.Bu=e,this.serializer=t,this.metadata=new Ss,this.buffer=new Uint8Array,this.Lu=(function(){return new TextDecoder("utf-8")})(),this.ku().then((r=>{r&&r.$a()?this.metadata.resolve(r.Qa.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(r?.Qa)}`))}),(r=>this.metadata.reject(r)))}close(){return this.Bu.cancel()}async getMetadata(){return this.metadata.promise}async bu(){return await this.getMetadata(),this.ku()}async ku(){const e=await this.qu();if(e===null)return null;const t=this.Lu.decode(e),r=Number(t);isNaN(r)&&this.Qu(`length string (${t}) is not valid number`);const i=await this.$u(r);return new UH(JSON.parse(i),e.length+r)}Uu(){return this.buffer.findIndex((e=>e===123))}async qu(){for(;this.Uu()<0&&!await this.Ku(););if(this.buffer.length===0)return null;const e=this.Uu();e<0&&this.Qu("Reached the end of bundle when a length string is expected.");const t=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),t}async $u(e){for(;this.buffer.length<e;)await this.Ku()&&this.Qu("Reached the end of bundle when more is expected.");const t=this.Lu.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),t}Qu(e){throw this.Bu.cancel(),new Error(`Invalid bundle format: ${e}`)}async Ku(){const e=await this.Bu.read();if(!e.done){const t=new Uint8Array(this.buffer.length+e.value.length);t.set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t}return e.done}}class pG{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new tt(je.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const t=await(async function(i,a){const l=ft(i),c={documents:a.map((v=>Wm(l.serializer,v)))},h=await l.Ho("BatchGetDocuments",l.serializer.databaseId,In.emptyPath(),c,a.length),f=new Map;h.forEach((v=>{const E=xq(l.serializer,v);f.set(E.key.toString(),E)}));const p=[];return a.forEach((v=>{const E=f.get(v.toString());Ct(!!E,55234,{key:v}),p.push(E)})),p})(this.datastore,e);return t.forEach((r=>this.recordVersion(r))),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Jd(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach((t=>{e.delete(t.key.toString())})),e.forEach(((t,r)=>{const i=ut.fromPath(r);this.mutations.push(new Eb(i,this.precondition(i)))})),await(async function(r,i){const a=ft(r),l={writes:i.map((c=>Km(a.serializer,c)))};await a.Go("Commit",a.serializer.databaseId,In.emptyPath(),l)})(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw gt(50498,{Gu:e.constructor.name});t=Mt.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new tt(je.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Mt.min())?Hr.exists(!1):Hr.updateTime(t):Hr.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Mt.min()))throw new tt(je.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Hr.updateTime(t)}return Hr.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class mG{constructor(e,t,r,i,a){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=i,this.deferred=a,this.zu=r.maxAttempts,this.M_=new jb(this.asyncQueue,"transaction_retry")}ju(){this.zu-=1,this.Ju()}Ju(){this.M_.p_((async()=>{const e=new pG(this.datastore),t=this.Hu(e);t&&t.then((r=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(r)})).catch((i=>{this.Yu(i)}))))})).catch((r=>{this.Yu(r)}))}))}Hu(e){try{const t=this.updateFunction(e);return!pg(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Yu(e){this.zu>0&&this.Zu(e)?(this.zu-=1,this.asyncQueue.enqueueAndForget((()=>(this.Ju(),Promise.resolve())))):this.deferred.reject(e)}Zu(e){if(e?.name==="FirebaseError"){const t=e.code;return t==="aborted"||t==="failed-precondition"||t==="already-exists"||!h6(t)}return!1}}const Bc="FirestoreClient";class gG{constructor(e,t,r,i,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=os.UNAUTHENTICATED,this.clientId=lb.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,(async l=>{nt(Bc,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l})),this.appCheckCredentials.start(r,(l=>(nt(Bc,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ss;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=np(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function J2(n,e){n.asyncQueue.verifyOperationInProgress(),nt(Bc,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener((async i=>{r.isEqual(i)||(await H6(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function N4(n,e){n.asyncQueue.verifyOperationInProgress();const t=await Jb(n);nt(Bc,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((r=>b4(e.remoteStore,r))),n.setAppCheckTokenChangeListener(((r,i)=>b4(e.remoteStore,i))),n._onlineComponents=e}async function Jb(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){nt(Bc,"Using user provided OfflineComponentProvider");try{await J2(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(i){return i.name==="FirebaseError"?i.code===je.FAILED_PRECONDITION||i.code===je.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(t))throw t;Ul("Error using user provided cache. Falling back to memory cache: "+t),await J2(n,new Ym)}}else nt(Bc,"Using default OfflineComponentProvider"),await J2(n,new hG(void 0));return n._offlineComponents}async function T0(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(nt(Bc,"Using user provided OnlineComponentProvider"),await N4(n,n._uninitializedComponentsProvider._online)):(nt(Bc,"Using default OnlineComponentProvider"),await N4(n,new Qm))),n._onlineComponents}function gR(n){return Jb(n).then((e=>e.persistence))}function Zb(n){return Jb(n).then((e=>e.localStore))}function yR(n){return T0(n).then((e=>e.remoteStore))}function ew(n){return T0(n).then((e=>e.syncEngine))}function yG(n){return T0(n).then((e=>e.datastore))}async function jd(n){const e=await T0(n),t=e.eventManager;return t.onListen=GH.bind(null,e.syncEngine),t.onUnlisten=WH.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=$H.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=KH.bind(null,e.syncEngine),t}function vG(n){return n.asyncQueue.enqueue((async()=>{const e=await gR(n),t=await yR(n);return e.setNetworkEnabled(!0),(function(i){const a=ft(i);return a.Ea.delete(0),Ag(a)})(t)}))}function _G(n){return n.asyncQueue.enqueue((async()=>{const e=await gR(n),t=await yR(n);return e.setNetworkEnabled(!1),(async function(i){const a=ft(i);a.Ea.add(0),await Zd(a),a.Ra.set("Offline")})(t)}))}function bG(n,e){const t=new Ss;return n.asyncQueue.enqueueAndForget((async()=>(async function(i,a,l){try{const c=await(function(f,p){const v=ft(f);return v.persistence.runTransaction("read document","readonly",(E=>v.localDocuments.getDocument(E,p)))})(i,a);c.isFoundDocument()?l.resolve(c):c.isNoDocument()?l.resolve(null):l.reject(new tt(je.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(c){const h=np(c,`Failed to get document '${a} from cache`);l.reject(h)}})(await Zb(n),e,t))),t.promise}function vR(n,e,t={}){const r=new Ss;return n.asyncQueue.enqueueAndForget((async()=>(function(a,l,c,h,f){const p=new S0({next:E=>{p.Nu(),l.enqueueAndForget((()=>Hb(a,v)));const b=E.docs.has(c);!b&&E.fromCache?f.reject(new tt(je.UNAVAILABLE,"Failed to get document because the client is offline.")):b&&E.fromCache&&h&&h.source==="server"?f.reject(new tt(je.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(E)},error:E=>f.reject(E)}),v=new $b(Qd(c.path),p,{includeMetadataChanges:!0,qa:!0});return qb(a,v)})(await jd(n),n.asyncQueue,e,t,r))),r.promise}function wG(n,e){const t=new Ss;return n.asyncQueue.enqueueAndForget((async()=>(async function(i,a,l){try{const c=await jy(i,a,!0),h=new cR(a,c.Qs),f=h.ru(c.documents),p=h.applyChanges(f,!1);l.resolve(p.snapshot)}catch(c){const h=np(c,`Failed to execute query '${a} against cache`);l.reject(h)}})(await Zb(n),e,t))),t.promise}function _R(n,e,t={}){const r=new Ss;return n.asyncQueue.enqueueAndForget((async()=>(function(a,l,c,h,f){const p=new S0({next:E=>{p.Nu(),l.enqueueAndForget((()=>Hb(a,v))),E.fromCache&&h.source==="server"?f.reject(new tt(je.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(E)},error:E=>f.reject(E)}),v=new $b(c,p,{includeMetadataChanges:!0,qa:!0});return qb(a,v)})(await jd(n),n.asyncQueue,e,t,r))),r.promise}function EG(n,e){const t=new S0(e);return n.asyncQueue.enqueueAndForget((async()=>(function(i,a){ft(i).Ca.add(a),a.next()})(await jd(n),t))),()=>{t.Nu(),n.asyncQueue.enqueueAndForget((async()=>(function(i,a){ft(i).Ca.delete(a)})(await jd(n),t)))}}function AG(n,e,t,r){const i=(function(l,c){let h;return h=typeof l=="string"?d6().encode(l):l,(function(p,v){return new dG(p,v)})((function(p,v){if(p instanceof Uint8Array)return I4(p,v);if(p instanceof ArrayBuffer)return I4(new Uint8Array(p),v);if(p instanceof ReadableStream)return p.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")})(h),c)})(t,Eg(e));n.asyncQueue.enqueueAndForget((async()=>{cG(await ew(n),i,r)}))}function SG(n,e){return n.asyncQueue.enqueue((async()=>(function(r,i){const a=ft(r);return a.persistence.runTransaction("Get named query","readonly",(l=>a.Ii.getNamedQuery(l,i)))})(await Zb(n),e)))}function bR(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}const C4=new Map;const wR="firestore.googleapis.com",R4=!0;class P4{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new tt(je.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=wR,this.ssl=R4}else this.host=e.host,this.ssl=e.ssl??R4;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=L6;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Gq)throw new tt(je.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}pC("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=bR(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new tt(je.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new tt(je.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new tt(je.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Sg{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new P4({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new tt(je.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new tt(je.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new P4(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new oz;switch(r.type){case"firstParty":return new hz(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new tt(je.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const r=C4.get(t);r&&(nt("ComponentProvider","Removing Datastore"),C4.delete(t),r.terminate())})(this),Promise.resolve()}}function TG(n,e,t,r={}){n=Yn(n,Sg);const i=Hd(e),a=n._getSettings(),l={...a,emulatorOptions:n._getEmulatorOptions()},c=`${e}:${t}`;i&&(U3(`https://${c}`),B3("Firestore",!0)),a.host!==wR&&a.host!==c&&Ul("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h={...a,host:c,ssl:i,emulatorOptions:r};if(!Pc(h,l)&&(n._setSettings(h),r.mockUserToken)){let f,p;if(typeof r.mockUserToken=="string")f=r.mockUserToken,p=os.MOCK_USER;else{f=S9(r.mockUserToken,n._app?.options.projectId);const v=r.mockUserToken.sub||r.mockUserToken.user_id;if(!v)throw new tt(je.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new os(v)}n._authCredentials=new lz(new fC(f,p))}}let ia=class ER{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ER(this.firestore,e,this._query)}},Sr=class om{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Cc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new om(this.firestore,e,this._key)}toJSON(){return{type:om._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(dg(t,om._jsonSchema))return new om(e,r||null,new ut(In.fromString(t.referencePath)))}};Sr._jsonSchemaVersion="firestore/documentReference/1.0",Sr._jsonSchema={type:Li("string",Sr._jsonSchemaVersion),referencePath:Li("string")};let Cc=class AR extends ia{constructor(e,t,r){super(e,t,Qd(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Sr(this.firestore,null,new ut(e))}withConverter(e){return new AR(this.firestore,e,this._path)}};function SR(n,e,...t){if(n=Wt(n),ub("collection","path",e),n instanceof Sg){const r=In.fromString(e,...t);return _x(r),new Cc(n,null,r)}{if(!(n instanceof Sr||n instanceof Cc))throw new tt(je.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(In.fromString(e,...t));return _x(r),new Cc(n.firestore,null,r)}}function xG(n,e){if(n=Yn(n,Sg),ub("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new tt(je.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new ia(n,null,(function(r){return new ku(In.emptyPath(),r)})(e))}function zy(n,e,...t){if(n=Wt(n),arguments.length===1&&(e=lb.newId()),ub("doc","path",e),n instanceof Sg){const r=In.fromString(e,...t);return vx(r),new Sr(n,null,new ut(r))}{if(!(n instanceof Sr||n instanceof Cc))throw new tt(je.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(In.fromString(e,...t));return vx(r),new Sr(n.firestore,n instanceof Cc?n.converter:null,new ut(r))}}function TR(n,e){return n=Wt(n),e=Wt(e),(n instanceof Sr||n instanceof Cc)&&(e instanceof Sr||e instanceof Cc)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function xR(n,e){return n=Wt(n),e=Wt(e),n instanceof ia&&e instanceof ia&&n.firestore===e.firestore&&yg(n._query,e._query)&&n.converter===e.converter}const L4="AsyncQueue";class k4{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new jb(this,"async_queue_retry"),this._c=()=>{const r=uy();r&&nt(L4,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const t=uy();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=uy();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new Ss;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Wc(e))throw e;nt(L4,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,bi("INTERNAL UNHANDLED ERROR: ",D4(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=t,t}enqueueAfterDelay(e,t,r){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const i=zb.createAndSchedule(this,e,t,r,(a=>this.hc(a)));return this.tc.push(i),i}uc(){this.nc&&gt(47125,{Pc:D4(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,r)=>t.targetTimeMs-r.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function D4(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}function i5(n){return(function(t,r){if(typeof t!="object"||t===null)return!1;const i=t;for(const a of r)if(a in i&&typeof i[a]=="function")return!0;return!1})(n,["next","error","complete"])}class IG{constructor(){this._progressObserver={},this._taskCompletionResolver=new Ss,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}const NG=-1;let Ei=class extends Sg{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new k4,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new k4(e),this._firestoreClient=void 0,await e}}};function qs(n){if(n._terminated)throw new tt(je.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||IR(n),n._firestoreClient}function IR(n){const e=n._freezeSettings(),t=(function(i,a,l,c){return new Yz(i,a,l,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,bR(c.experimentalLongPollingOptions),c.useFetchStreams,c.isUsingEmulator)})(n._databaseId,n._app?.options.appId||"",n._persistenceKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new gG(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(i){const a=i?._online.build();return{_offline:i?._offline.build(a),_online:a}})(n._componentsProvider))}function CG(n,e){Ul("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings();return NR(n,Qm.provider,{build:r=>new mR(r,t.cacheSizeBytes,e?.forceOwnership)}),Promise.resolve()}async function RG(n){Ul("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=n._freezeSettings();NR(n,Qm.provider,{build:t=>new fG(t,e.cacheSizeBytes)})}function NR(n,e,t){if((n=Yn(n,Ei))._firestoreClient||n._terminated)throw new tt(je.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(n._componentsProvider||n._getSettings().localCache)throw new tt(je.FAILED_PRECONDITION,"SDK cache is already specified.");n._componentsProvider={_online:e,_offline:t},IR(n)}function PG(n){if(n._initialized&&!n._terminated)throw new tt(je.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Ss;return n._queue.enqueueAndForgetEvenWhileRestricted((async()=>{try{await(async function(r){if(!Ol.v())return Promise.resolve();const i=r+B6;await Ol.delete(i)})(Db(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}})),e.promise}function LG(n){return(function(t){const r=new Ss;return t.asyncQueue.enqueueAndForget((async()=>ZH(await ew(t),r))),r.promise})(qs(n=Yn(n,Ei)))}function kG(n){return vG(qs(n=Yn(n,Ei)))}function DG(n){return _G(qs(n=Yn(n,Ei)))}function OG(n,e){const t=qs(n=Yn(n,Ei)),r=new IG;return AG(t,n._databaseId,e,r),r}function MG(n,e){return SG(qs(n=Yn(n,Ei)),e).then((t=>t?new ia(n,null,t.query):null))}class Us{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Us(ui.fromBase64String(e))}catch(t){throw new tt(je.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Us(ui.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Us._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(dg(e,Us._jsonSchema))return Us.fromBase64String(e.bytes)}}Us._jsonSchemaVersion="firestore/bytes/1.0",Us._jsonSchema={type:Li("string",Us._jsonSchemaVersion),bytes:Li("string")};let zc=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new tt(je.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new qr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};let ef=class{constructor(e){this._methodName=e}};class Ko{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new tt(je.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new tt(je.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ln(this._lat,e._lat)||ln(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ko._jsonSchemaVersion}}static fromJSON(e){if(dg(e,Ko._jsonSchema))return new Ko(e.latitude,e.longitude)}}Ko._jsonSchemaVersion="firestore/geoPoint/1.0",Ko._jsonSchema={type:Li("string",Ko._jsonSchemaVersion),latitude:Li("number"),longitude:Li("number")};class Vl{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Vl._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(dg(e,Vl._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new Vl(e.vectorValues);throw new tt(je.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Vl._jsonSchemaVersion="firestore/vectorValue/1.0",Vl._jsonSchema={type:Li("string",Vl._jsonSchemaVersion),vectorValues:Li("object")};const VG=/^__.*__$/;class jG{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Ou(e,this.data,this.fieldMask,t,this.fieldTransforms):new Xd(e,this.data,t,this.fieldTransforms)}}class CR{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Ou(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function RR(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw gt(40011,{Ac:n})}}class x0{constructor(e,t,r,i,a,l){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new x0({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),r=this.Vc({path:t,fc:!1});return r.gc(e),r}yc(e){const t=this.path?.child(e),r=this.Vc({path:t,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return qy(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(RR(this.Ac)&&VG.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class FG{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Eg(e)}Cc(e,t,r,i=!1){return new x0({Ac:e,methodName:t,Dc:r,path:qr.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function tf(n){const e=n._freezeSettings(),t=Eg(n._databaseId);return new FG(n._databaseId,!!e.ignoreUndefinedProperties,t)}function I0(n,e,t,r,i,a={}){const l=n.Cc(a.merge||a.mergeFields?2:0,e,t,i);ow("Data must be an object, but it was:",l,r);const c=kR(r,l);let h,f;if(a.merge)h=new Na(l.fieldMask),f=l.fieldTransforms;else if(a.mergeFields){const p=[];for(const v of a.mergeFields){const E=s5(e,v,t);if(!l.contains(E))throw new tt(je.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);OR(p,E)||p.push(E)}h=new Na(p),f=l.fieldTransforms.filter((v=>h.covers(v.field)))}else h=null,f=l.fieldTransforms;return new jG(new As(c),h,f)}class Tg extends ef{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Tg}}function PR(n,e,t){return new x0({Ac:3,Dc:e.settings.Dc,methodName:n._methodName,fc:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class tw extends ef{_toFieldTransform(e){return new _g(e.path,new Rd)}isEqual(e){return e instanceof tw}}class nw extends ef{constructor(e,t){super(e),this.vc=t}_toFieldTransform(e){const t=PR(this,e,!0),r=this.vc.map((a=>nf(a,t))),i=new qh(r);return new _g(e.path,i)}isEqual(e){return e instanceof nw&&Pc(this.vc,e.vc)}}class rw extends ef{constructor(e,t){super(e),this.vc=t}_toFieldTransform(e){const t=PR(this,e,!0),r=this.vc.map((a=>nf(a,t))),i=new Hh(r);return new _g(e.path,i)}isEqual(e){return e instanceof rw&&Pc(this.vc,e.vc)}}class iw extends ef{constructor(e,t){super(e),this.Fc=t}_toFieldTransform(e){const t=new Pd(e.serializer,i6(e.serializer,this.Fc));return new _g(e.path,t)}isEqual(e){return e instanceof iw&&this.Fc===e.Fc}}function sw(n,e,t,r){const i=n.Cc(1,e,t);ow("Data must be an object, but it was:",i,r);const a=[],l=As.empty();Kc(r,((h,f)=>{const p=lw(e,h,t);f=Wt(f);const v=i.yc(p);if(f instanceof Tg)a.push(p);else{const E=nf(f,v);E!=null&&(a.push(p),l.set(p,E))}}));const c=new Na(a);return new CR(l,c,i.fieldTransforms)}function aw(n,e,t,r,i,a){const l=n.Cc(1,e,t),c=[s5(e,r,t)],h=[i];if(a.length%2!=0)throw new tt(je.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let E=0;E<a.length;E+=2)c.push(s5(e,a[E])),h.push(a[E+1]);const f=[],p=As.empty();for(let E=c.length-1;E>=0;--E)if(!OR(f,c[E])){const b=c[E];let R=h[E];R=Wt(R);const P=l.yc(b);if(R instanceof Tg)f.push(b);else{const M=nf(R,P);M!=null&&(f.push(b),p.set(b,M))}}const v=new Na(f);return new CR(p,v,l.fieldTransforms)}function LR(n,e,t,r=!1){return nf(t,n.Cc(r?4:3,e))}function nf(n,e){if(DR(n=Wt(n)))return ow("Unsupported field value:",e,n),kR(n,e);if(n instanceof ef)return(function(r,i){if(!RR(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,i){const a=[];let l=0;for(const c of r){let h=nf(c,i.wc(l));h==null&&(h={nullValue:"NULL_VALUE"}),a.push(h),l++}return{arrayValue:{values:a}}})(n,e)}return(function(r,i){if((r=Wt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return i6(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=nr.fromDate(r);return{timestampValue:Ld(i.serializer,a)}}if(r instanceof nr){const a=new nr(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Ld(i.serializer,a)}}if(r instanceof Ko)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Us)return{bytesValue:g6(i.serializer,r._byteString)};if(r instanceof Sr){const a=i.databaseId,l=r.firestore._databaseId;if(!l.isEqual(a))throw i.Sc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:Ib(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Vl)return(function(l,c){return{mapValue:{fields:{[gb]:{stringValue:yb},[Id]:{arrayValue:{values:l.toArray().map((f=>{if(typeof f!="number")throw c.Sc("VectorValues must only contain numeric values.");return wb(c.serializer,f)}))}}}}}})(r,i);throw i.Sc(`Unsupported field value: ${u0(r)}`)})(n,e)}function kR(n,e){const t={};return kC(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Kc(n,((r,i)=>{const a=nf(i,e.mc(r));a!=null&&(t[r]=a)})),{mapValue:{fields:t}}}function DR(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof nr||n instanceof Ko||n instanceof Us||n instanceof Sr||n instanceof ef||n instanceof Vl)}function ow(n,e,t){if(!DR(t)||!mC(t)){const r=u0(t);throw r==="an object"?e.Sc(n+" a custom object"):e.Sc(n+" "+r)}}function s5(n,e,t){if((e=Wt(e))instanceof zc)return e._internalPath;if(typeof e=="string")return lw(n,e);throw qy("Field path arguments must be of type string or ",n,!1,void 0,t)}const UG=new RegExp("[~\\*/\\[\\]]");function lw(n,e,t){if(e.search(UG)>=0)throw qy(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new zc(...e.split("."))._internalPath}catch{throw qy(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function qy(n,e,t,r,i){const a=r&&!r.isEmpty(),l=i!==void 0;let c=`Function ${e}() called with invalid data`;t&&(c+=" (via `toFirestore()`)"),c+=". ";let h="";return(a||l)&&(h+=" (found",a&&(h+=` in field ${r}`),l&&(h+=` in document ${i}`),h+=")"),new tt(je.INVALID_ARGUMENT,c+n+h)}function OR(n,e){return n.some((t=>t.isEqual(e)))}class Xm{constructor(e,t,r,i,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Sr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new BG(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(N0("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class BG extends Xm{data(){return super.data()}}function N0(n,e){return typeof e=="string"?lw(n,e):e instanceof zc?e._internalPath:e._delegate._internalPath}function MR(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new tt(je.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class uw{}class xg extends uw{}function vc(n,e,...t){let r=[];e instanceof uw&&r.push(e),r=r.concat(t),(function(a){const l=a.filter((h=>h instanceof cw)).length,c=a.filter((h=>h instanceof C0)).length;if(l>1||l>0&&c>0)throw new tt(je.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const i of r)n=i._apply(n);return n}class C0 extends xg{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new C0(e,t,r)}_apply(e){const t=this._parse(e);return jR(e._query,t),new ia(e.firestore,e.converter,G_(e._query,t))}_parse(e){const t=tf(e.firestore);return(function(a,l,c,h,f,p,v){let E;if(f.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new tt(je.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){M4(v,p);const R=[];for(const P of v)R.push(O4(h,a,P));E={arrayValue:{values:R}}}else E=O4(h,a,v)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||M4(v,p),E=LR(c,l,v,p==="in"||p==="not-in");return Pn.create(f,p,E)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function zG(n,e,t){const r=e,i=N0("where",n);return C0._create(i,r,t)}class cw extends uw{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new cw(e,t)}_parse(e){const t=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return t.length===1?t[0]:cr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(i,a){let l=i;const c=a.getFlattenedFilters();for(const h of c)jR(l,h),l=G_(l,h)})(e._query,t),new ia(e.firestore,e.converter,G_(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class hw extends xg{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new hw(e,t)}_apply(e){const t=(function(i,a,l){if(i.startAt!==null)throw new tt(je.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new tt(je.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new $m(a,l)})(e._query,this._field,this._direction);return new ia(e.firestore,e.converter,(function(i,a){const l=i.explicitOrderBy.concat([a]);return new ku(i.path,i.collectionGroup,l,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)})(e._query,t))}}function qG(n,e="asc"){const t=e,r=N0("orderBy",n);return hw._create(r,t)}class R0 extends xg{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new R0(e,t,r)}_apply(e){return new ia(e.firestore,e.converter,ky(e._query,this._limit,this._limitType))}}function HG(n){return gC("limit",n),R0._create("limit",n,"F")}function GG(n){return gC("limitToLast",n),R0._create("limitToLast",n,"L")}class P0 extends xg{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new P0(e,t,r)}_apply(e){const t=VR(e,this.type,this._docOrFields,this._inclusive);return new ia(e.firestore,e.converter,(function(i,a){return new ku(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,a,i.endAt)})(e._query,t))}}function $G(...n){return P0._create("startAt",n,!0)}function WG(...n){return P0._create("startAfter",n,!1)}class L0 extends xg{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new L0(e,t,r)}_apply(e){const t=VR(e,this.type,this._docOrFields,this._inclusive);return new ia(e.firestore,e.converter,(function(i,a){return new ku(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,a)})(e._query,t))}}function KG(...n){return L0._create("endBefore",n,!1)}function YG(...n){return L0._create("endAt",n,!0)}function VR(n,e,t,r){if(t[0]=Wt(t[0]),t[0]instanceof Xm)return(function(a,l,c,h,f){if(!h)throw new tt(je.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${c}().`);const p=[];for(const v of pd(a))if(v.field.isKeyField())p.push(Bh(l,h.key));else{const E=h.data.field(v.field);if(p0(E))throw new tt(je.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+v.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(E===null){const b=v.field.canonicalString();throw new tt(je.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${b}' (used as the orderBy) does not exist.`)}p.push(E)}return new Fc(p,f)})(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=tf(n.firestore);return(function(l,c,h,f,p,v){const E=l.explicitOrderBy;if(p.length>E.length)throw new tt(je.INVALID_ARGUMENT,`Too many arguments provided to ${f}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const b=[];for(let R=0;R<p.length;R++){const P=p[R];if(E[R].field.isKeyField()){if(typeof P!="string")throw new tt(je.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${f}(), but got a ${typeof P}`);if(!_b(l)&&P.indexOf("/")!==-1)throw new tt(je.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${f}() must be a plain document ID, but '${P}' contains a slash.`);const M=l.path.child(In.fromString(P));if(!ut.isDocumentKey(M))throw new tt(je.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${f}() must result in a valid document path, but '${M}' is not because it contains an odd number of segments.`);const k=new ut(M);b.push(Bh(c,k))}else{const M=LR(h,f,P);b.push(M)}}return new Fc(b,v)})(n._query,n.firestore._databaseId,i,e,t,r)}}function O4(n,e,t){if(typeof(t=Wt(t))=="string"){if(t==="")throw new tt(je.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!_b(e)&&t.indexOf("/")!==-1)throw new tt(je.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(In.fromString(t));if(!ut.isDocumentKey(r))throw new tt(je.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Bh(n,new ut(r))}if(t instanceof Sr)return Bh(n,t._key);throw new tt(je.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${u0(t)}.`)}function M4(n,e){if(!Array.isArray(n)||n.length===0)throw new tt(je.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function jR(n,e){const t=(function(i,a){for(const l of i)for(const c of l.getFlattenedFilters())if(a.indexOf(c.op)>=0)return c.op;return null})(n.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new tt(je.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new tt(je.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class fw{convertValue(e,t="none"){switch(Vc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Br(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Nu(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw gt(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Kc(e,((i,a)=>{r[i]=this.convertValue(a,t)})),r}convertVectorValue(e){const t=e.fields?.[Id].arrayValue?.values?.map((r=>Br(r.doubleValue)));return new Vl(t)}convertGeoPoint(e){return new Ko(Br(e.latitude),Br(e.longitude))}convertArray(e,t){return(e.values||[]).map((r=>this.convertValue(r,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const r=m0(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(qm(e));default:return null}}convertTimestamp(e){const t=Iu(e);return new nr(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=In.fromString(e);Ct(I6(r),9688,{name:e});const i=new Mc(r.get(1),r.get(3)),a=new ut(r.popFirst(5));return i.isEqual(t)||bi(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}function k0(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class QG extends fw{constructor(e){super(),this.firestore=e}convertBytes(e){return new Us(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Sr(this.firestore,null,t)}}class Rh{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}let _o=class FR extends Xm{constructor(e,t,r,i,a,l){super(e,t,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Tm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(N0("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new tt(je.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=FR._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}};_o._jsonSchemaVersion="firestore/documentSnapshot/1.0",_o._jsonSchema={type:Li("string",_o._jsonSchemaVersion),bundleSource:Li("string","DocumentSnapshot"),bundleName:Li("string"),bundle:Li("string")};let Tm=class extends _o{data(e={}){return super.data(e)}},Yo=class UR{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Rh(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((r=>{e.call(t,new Tm(this._firestore,this._userDataWriter,r.key,r,new Rh(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new tt(je.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(i,a){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map((c=>{const h=new Tm(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Rh(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:h,oldIndex:-1,newIndex:l++}}))}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((c=>a||c.type!==3)).map((c=>{const h=new Tm(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Rh(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let f=-1,p=-1;return c.type!==0&&(f=l.indexOf(c.doc.key),l=l.delete(c.doc.key)),c.type!==1&&(l=l.add(c.doc),p=l.indexOf(c.doc.key)),{type:XG(c.type),doc:h,oldIndex:f,newIndex:p}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new tt(je.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=UR._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=lb.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],r=[],i=[];return this.docs.forEach((a=>{a._document!==null&&(t.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),i.push(a.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}};function XG(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return gt(61501,{type:n})}}function BR(n,e){return n instanceof _o&&e instanceof _o?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(n._document===null?e._document===null:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Yo&&e instanceof Yo&&n._firestore===e._firestore&&xR(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function JG(n){n=Yn(n,Sr);const e=Yn(n.firestore,Ei);return vR(qs(e),n._key).then((t=>dw(e,n,t)))}Yo._jsonSchemaVersion="firestore/querySnapshot/1.0",Yo._jsonSchema={type:Li("string",Yo._jsonSchemaVersion),bundleSource:Li("string","QuerySnapshot"),bundleName:Li("string"),bundle:Li("string")};class rf extends fw{constructor(e){super(),this.firestore=e}convertBytes(e){return new Us(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Sr(this.firestore,null,t)}}function ZG(n){n=Yn(n,Sr);const e=Yn(n.firestore,Ei),t=qs(e),r=new rf(e);return bG(t,n._key).then((i=>new _o(e,r,n._key,i,new Rh(i!==null&&i.hasLocalMutations,!0),n.converter)))}function e$(n){n=Yn(n,Sr);const e=Yn(n.firestore,Ei);return vR(qs(e),n._key,{source:"server"}).then((t=>dw(e,n,t)))}function t$(n){n=Yn(n,ia);const e=Yn(n.firestore,Ei),t=qs(e),r=new rf(e);return MR(n._query),_R(t,n._query).then((i=>new Yo(e,r,n,i)))}function n$(n){n=Yn(n,ia);const e=Yn(n.firestore,Ei),t=qs(e),r=new rf(e);return wG(t,n._query).then((i=>new Yo(e,r,n,i)))}function r$(n){n=Yn(n,ia);const e=Yn(n.firestore,Ei),t=qs(e),r=new rf(e);return _R(t,n._query,{source:"server"}).then((i=>new Yo(e,r,n,i)))}function V4(n,e,t){n=Yn(n,Sr);const r=Yn(n.firestore,Ei),i=k0(n.converter,e,t);return Ig(r,[I0(tf(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,Hr.none())])}function j4(n,e,t,...r){n=Yn(n,Sr);const i=Yn(n.firestore,Ei),a=tf(i);let l;return l=typeof(e=Wt(e))=="string"||e instanceof zc?aw(a,"updateDoc",n._key,e,t,r):sw(a,"updateDoc",n._key,e),Ig(i,[l.toMutation(n._key,Hr.exists(!0))])}function i$(n){return Ig(Yn(n.firestore,Ei),[new Jd(n._key,Hr.none())])}function s$(n,e){const t=Yn(n.firestore,Ei),r=zy(n),i=k0(n.converter,e);return Ig(t,[I0(tf(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,Hr.exists(!1))]).then((()=>r))}function zR(n,...e){n=Wt(n);let t={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||i5(e[r])||(t=e[r++]);const i={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(i5(e[r])){const h=e[r];e[r]=h.next?.bind(h),e[r+1]=h.error?.bind(h),e[r+2]=h.complete?.bind(h)}let a,l,c;if(n instanceof Sr)l=Yn(n.firestore,Ei),c=Qd(n._key.path),a={next:h=>{e[r]&&e[r](dw(l,n,h))},error:e[r+1],complete:e[r+2]};else{const h=Yn(n,ia);l=Yn(h.firestore,Ei),c=h._query;const f=new rf(l);a={next:p=>{e[r]&&e[r](new Yo(l,f,h,p))},error:e[r+1],complete:e[r+2]},MR(n._query)}return(function(f,p,v,E){const b=new S0(E),R=new $b(p,b,v);return f.asyncQueue.enqueueAndForget((async()=>qb(await jd(f),R))),()=>{b.Nu(),f.asyncQueue.enqueueAndForget((async()=>Hb(await jd(f),R)))}})(qs(l),c,i,a)}function a$(n,e){return EG(qs(n=Yn(n,Ei)),i5(e)?e:{next:e})}function Ig(n,e){return(function(r,i){const a=new Ss;return r.asyncQueue.enqueueAndForget((async()=>YH(await ew(r),i,a))),a.promise})(qs(n),e)}function dw(n,e,t){const r=t.docs.get(e._key),i=new rf(n);return new _o(n,i,e._key,r,new Rh(t.hasPendingWrites,t.fromCache),e.converter)}const o$={maxAttempts:5};let l$=class{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=tf(e)}set(e,t,r){this._verifyNotCommitted();const i=Sc(e,this._firestore),a=k0(i.converter,t,r),l=I0(this._dataReader,"WriteBatch.set",i._key,a,i.converter!==null,r);return this._mutations.push(l.toMutation(i._key,Hr.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const a=Sc(e,this._firestore);let l;return l=typeof(t=Wt(t))=="string"||t instanceof zc?aw(this._dataReader,"WriteBatch.update",a._key,t,r,i):sw(this._dataReader,"WriteBatch.update",a._key,t),this._mutations.push(l.toMutation(a._key,Hr.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Sc(e,this._firestore);return this._mutations=this._mutations.concat(new Jd(t._key,Hr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new tt(je.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}};function Sc(n,e){if((n=Wt(n)).firestore!==e)throw new tt(je.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class u${constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=tf(e)}get(e){const t=Sc(e,this._firestore),r=new QG(this._firestore);return this._transaction.lookup([t._key]).then((i=>{if(!i||i.length!==1)return gt(24041);const a=i[0];if(a.isFoundDocument())return new Xm(this._firestore,r,a.key,a,t.converter);if(a.isNoDocument())return new Xm(this._firestore,r,t._key,null,t.converter);throw gt(18433,{doc:a})}))}set(e,t,r){const i=Sc(e,this._firestore),a=k0(i.converter,t,r),l=I0(this._dataReader,"Transaction.set",i._key,a,i.converter!==null,r);return this._transaction.set(i._key,l),this}update(e,t,r,...i){const a=Sc(e,this._firestore);let l;return l=typeof(t=Wt(t))=="string"||t instanceof zc?aw(this._dataReader,"Transaction.update",a._key,t,r,i):sw(this._dataReader,"Transaction.update",a._key,t),this._transaction.update(a._key,l),this}delete(e){const t=Sc(e,this._firestore);return this._transaction.delete(t._key),this}}let c$=class extends u${constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Sc(e,this._firestore),r=new rf(this._firestore);return super.get(e).then((i=>new _o(this._firestore,r,t._key,i._document,new Rh(!1,!1),t.converter)))}};function h$(n,e,t){n=Yn(n,Ei);const r={...o$,...t};return(function(a){if(a.maxAttempts<1)throw new tt(je.INVALID_ARGUMENT,"Max attempts must be at least 1")})(r),(function(a,l,c){const h=new Ss;return a.asyncQueue.enqueueAndForget((async()=>{const f=await yG(a);new mG(a.asyncQueue,f,c,l,h).ju()})),h.promise})(qs(n),(i=>e(new c$(n,i))),r)}function f$(){return new Tg("deleteField")}function d$(){return new tw("serverTimestamp")}function p$(...n){return new nw("arrayUnion",n)}function m$(...n){return new rw("arrayRemove",n)}function g$(n){return new iw("increment",n)}(function(e,t=!0){(function(i){Yd=i})(Hc),Dc(new jl("firestore",((r,{instanceIdentifier:i,options:a})=>{const l=r.getProvider("app").getImmediate(),c=new Ei(new uz(r.getProvider("auth-internal")),new fz(l,r.getProvider("app-check-internal")),(function(f,p){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new tt(je.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Mc(f.options.projectId,p)})(l,i),l);return a={useFetchStreams:t,...a},c._setSettings(a),c}),"PUBLIC").setMultipleInstances(!0)),Wo(px,mx,e),Wo(px,mx,"esm2020")})();const y$="@firebase/firestore-compat",v$="0.4.2";function pw(n,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new tt("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function F4(){if(typeof Uint8Array>"u")throw new tt("unimplemented","Uint8Arrays are not available in this environment.")}function U4(){if(!Wz())throw new tt("unimplemented","Blobs are unavailable in Firestore in this environment.")}let qR=class a5{constructor(e){this._delegate=e}static fromBase64String(e){return U4(),new a5(Us.fromBase64String(e))}static fromUint8Array(e){return F4(),new a5(Us.fromUint8Array(e))}toBase64(){return U4(),this._delegate.toBase64()}toUint8Array(){return F4(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}};function o5(n){return _$(n,["next","error","complete"])}function _$(n,e){if(typeof n!="object"||n===null)return!1;const t=n;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}class b${enableIndexedDbPersistence(e,t){return CG(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return RG(e._delegate)}clearIndexedDbPersistence(e){return PG(e._delegate)}}class HR{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof Mc||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Ul("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&(e={...t,...e},delete e.merge),this._delegate._setSettings(e)}useEmulator(e,t,r={}){TG(this._delegate,e,t,r)}enableNetwork(){return kG(this._delegate)}disableNetwork(){return DG(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,pC("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return LG(this._delegate)}onSnapshotsInSync(e){return a$(this._delegate,e)}get app(){if(!this._appCompat)throw new tt("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Fd(this,SR(this._delegate,e))}catch(t){throw ta(t,"collection()","Firestore.collection()")}}doc(e){try{return new vo(this,zy(this._delegate,e))}catch(t){throw ta(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new ea(this,xG(this._delegate,e))}catch(t){throw ta(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return h$(this._delegate,t=>e(new GR(this,t)))}batch(){return qs(this._delegate),new $R(new l$(this._delegate,e=>Ig(this._delegate,e)))}loadBundle(e){return OG(this._delegate,e)}namedQuery(e){return MG(this._delegate,e).then(t=>t?new ea(this,t):null)}}class D0 extends fw{constructor(e){super(),this.firestore=e}convertBytes(e){return new qR(new Us(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return vo.forKey(t,this.firestore,null)}}function w$(n){sz(n)}class GR{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new D0(e)}get(e){const t=Ph(e);return this._delegate.get(t).then(r=>new Jm(this._firestore,new _o(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=Ph(e);return r?(pw("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const a=Ph(e);return arguments.length===2?this._delegate.update(a,t):this._delegate.update(a,t,r,...i),this}delete(e){const t=Ph(e);return this._delegate.delete(t),this}}class $R{constructor(e){this._delegate=e}set(e,t,r){const i=Ph(e);return r?(pw("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const a=Ph(e);return arguments.length===2?this._delegate.update(a,t):this._delegate.update(a,t,r,...i),this}delete(e){const t=Ph(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Yh{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new Tm(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Zm(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=Yh.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let a=i.get(t);return a||(a=new Yh(e,new D0(e),t),i.set(t,a)),a}}Yh.INSTANCES=new WeakMap;class vo{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new D0(e)}static forPath(e,t,r){if(e.length%2!==0)throw new tt("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new vo(t,new Sr(t._delegate,r,new ut(e)))}static forKey(e,t,r){return new vo(t,new Sr(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new Fd(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Fd(this.firestore,SR(this._delegate,e))}catch(t){throw ta(t,"collection()","DocumentReference.collection()")}}isEqual(e){return e=Wt(e),e instanceof Sr?TR(this._delegate,e):!1}set(e,t){t=pw("DocumentReference.set",t);try{return t?V4(this._delegate,e,t):V4(this._delegate,e)}catch(r){throw ta(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return arguments.length===1?j4(this._delegate,e):j4(this._delegate,e,t,...r)}catch(i){throw ta(i,"updateDoc()","DocumentReference.update()")}}delete(){return i$(this._delegate)}onSnapshot(...e){const t=WR(e),r=KR(e,i=>new Jm(this.firestore,new _o(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return zR(this._delegate,t,r)}get(e){let t;return e?.source==="cache"?t=ZG(this._delegate):e?.source==="server"?t=e$(this._delegate):t=JG(this._delegate),t.then(r=>new Jm(this.firestore,new _o(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new vo(this.firestore,e?this._delegate.withConverter(Yh.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function ta(n,e,t){return n.message=n.message.replace(e,t),n}function WR(n){for(const e of n)if(typeof e=="object"&&!o5(e))return e;return{}}function KR(n,e){let t;return o5(n[0])?t=n[0]:o5(n[1])?t=n[1]:typeof n[0]=="function"?t={next:n[0],error:n[1],complete:n[2]}:t={next:n[1],error:n[2],complete:n[3]},{next:r=>{t.next&&t.next(e(r))},error:t.error?.bind(t),complete:t.complete?.bind(t)}}class Jm{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new vo(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return BR(this._delegate,e._delegate)}}class Zm extends Jm{data(e){const t=this._delegate.data(e);return this._delegate._converter||az(t!==void 0,"Document in a QueryDocumentSnapshot should exist"),t}}class ea{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new D0(e)}where(e,t,r){try{return new ea(this.firestore,vc(this._delegate,zG(e,t,r)))}catch(i){throw ta(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new ea(this.firestore,vc(this._delegate,qG(e,t)))}catch(r){throw ta(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new ea(this.firestore,vc(this._delegate,HG(e)))}catch(t){throw ta(t,"limit()","Query.limit()")}}limitToLast(e){try{return new ea(this.firestore,vc(this._delegate,GG(e)))}catch(t){throw ta(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new ea(this.firestore,vc(this._delegate,$G(...e)))}catch(t){throw ta(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new ea(this.firestore,vc(this._delegate,WG(...e)))}catch(t){throw ta(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new ea(this.firestore,vc(this._delegate,KG(...e)))}catch(t){throw ta(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new ea(this.firestore,vc(this._delegate,YG(...e)))}catch(t){throw ta(t,"endAt()","Query.endAt()")}}isEqual(e){return xR(this._delegate,e._delegate)}get(e){let t;return e?.source==="cache"?t=n$(this._delegate):e?.source==="server"?t=r$(this._delegate):t=t$(this._delegate),t.then(r=>new l5(this.firestore,new Yo(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=WR(e),r=KR(e,i=>new l5(this.firestore,new Yo(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return zR(this._delegate,t,r)}withConverter(e){return new ea(this.firestore,e?this._delegate.withConverter(Yh.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class E${constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Zm(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class l5{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new ea(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Zm(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new E$(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new Zm(this._firestore,r))})}isEqual(e){return BR(this._delegate,e._delegate)}}class Fd extends ea{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new vo(this.firestore,e):null}doc(e){try{return e===void 0?new vo(this.firestore,zy(this._delegate)):new vo(this.firestore,zy(this._delegate,e))}catch(t){throw ta(t,"doc()","CollectionReference.doc()")}}add(e){return s$(this._delegate,e).then(t=>new vo(this.firestore,t))}isEqual(e){return TR(this._delegate,e._delegate)}withConverter(e){return new Fd(this.firestore,e?this._delegate.withConverter(Yh.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function Ph(n){return Yn(n,Sr)}class mw{constructor(...e){this._delegate=new zc(...e)}static documentId(){return new mw(qr.keyField().canonicalString())}isEqual(e){return e=Wt(e),e instanceof zc?this._delegate._internalPath.isEqual(e._internalPath):!1}}class Ih{static serverTimestamp(){const e=d$();return e._methodName="FieldValue.serverTimestamp",new Ih(e)}static delete(){const e=f$();return e._methodName="FieldValue.delete",new Ih(e)}static arrayUnion(...e){const t=p$(...e);return t._methodName="FieldValue.arrayUnion",new Ih(t)}static arrayRemove(...e){const t=m$(...e);return t._methodName="FieldValue.arrayRemove",new Ih(t)}static increment(e){const t=g$(e);return t._methodName="FieldValue.increment",new Ih(t)}constructor(e){this._delegate=e}isEqual(e){return this._delegate.isEqual(e._delegate)}}const A$={Firestore:HR,GeoPoint:Ko,Timestamp:nr,Blob:qR,Transaction:GR,WriteBatch:$R,DocumentReference:vo,DocumentSnapshot:Jm,Query:ea,QueryDocumentSnapshot:Zm,QuerySnapshot:l5,CollectionReference:Fd,FieldPath:mw,FieldValue:Ih,setLogLevel:w$,CACHE_SIZE_UNLIMITED:NG};function S$(n,e){n.INTERNAL.registerComponent(new jl("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps({...A$}))}function T$(n){S$(n,(e,t)=>new HR(e,t,new b$)),n.registerVersion(y$,v$)}T$(an);const x$="ccw-offline-queue",I$=1,yo="pending-operations";class N${constructor(){this.db=null}async init(){return new Promise((e,t)=>{const r=indexedDB.open(x$,I$);r.onerror=()=>t(r.error),r.onsuccess=()=>{this.db=r.result,e()},r.onupgradeneeded=i=>{const a=i.target.result;if(!a.objectStoreNames.contains(yo)){const l=a.createObjectStore(yo,{keyPath:"id",autoIncrement:!0});l.createIndex("timestamp","timestamp",{unique:!1}),l.createIndex("type","type",{unique:!1})}}})}async addOperation(e){return this.db||await this.init(),new Promise((t,r)=>{const a=this.db.transaction([yo],"readwrite").objectStore(yo),l={...e,timestamp:Date.now(),retries:0},c=a.add(l);c.onsuccess=()=>{console.log("[OfflineQueue] Operation queued:",e.type),t(c.result)},c.onerror=()=>r(c.error)})}async getAllOperations(){return this.db||await this.init(),new Promise((e,t)=>{const a=this.db.transaction([yo],"readonly").objectStore(yo).getAll();a.onsuccess=()=>e(a.result),a.onerror=()=>t(a.error)})}async removeOperation(e){return this.db||await this.init(),new Promise((t,r)=>{const l=this.db.transaction([yo],"readwrite").objectStore(yo).delete(e);l.onsuccess=()=>t(),l.onerror=()=>r(l.error)})}async clearAll(){return this.db||await this.init(),new Promise((e,t)=>{const a=this.db.transaction([yo],"readwrite").objectStore(yo).clear();a.onsuccess=()=>e(),a.onerror=()=>t(a.error)})}async getCount(){return this.db||await this.init(),new Promise((e,t)=>{const a=this.db.transaction([yo],"readonly").objectStore(yo).count();a.onsuccess=()=>e(a.result),a.onerror=()=>t(a.error)})}}const u5=new N$;class C${constructor(){this.isSyncing=!1,this.syncCallbacks=[]}onSyncStatusChange(e){this.syncCallbacks.push(e)}notifyListeners(e){this.syncCallbacks.forEach(t=>t(e))}async syncAll(){if(this.isSyncing){console.log("[SyncManager] Sync already in progress");return}this.isSyncing=!0,this.notifyListeners({syncing:!0,error:null});try{const e=await u5.getAllOperations();if(console.log(`[SyncManager] Processing ${e.length} queued operations`),e.length===0){this.isSyncing=!1,this.notifyListeners({syncing:!1,error:null,completed:0});return}let t=0,r=0;for(const i of e)try{await this.processOperation(i),await u5.removeOperation(i.id),t++,console.log(`[SyncManager] Processed operation ${t}/${e.length}`)}catch(a){console.error("[SyncManager] Failed to process operation:",a),r++}this.isSyncing=!1,this.notifyListeners({syncing:!1,error:r>0?`${r} operations failed`:null,completed:t}),console.log(`[SyncManager] Sync complete: ${t} succeeded, ${r} failed`)}catch(e){console.error("[SyncManager] Sync error:",e),this.isSyncing=!1,this.notifyListeners({syncing:!1,error:e.message})}}async processOperation(e){const{type:t,data:r}=e,i=an.firestore();switch(t){case"CREATE_VISIT":await i.collection("user_files").doc(r.userId).collection("customers").doc(r.customerId).collection("visits").doc(r.visitId).set(r.visitData);break;case"UPDATE_VISIT":await i.collection("user_files").doc(r.userId).collection("customers").doc(r.customerId).collection("visits").doc(r.visitId).update(r.updates);break;case"DELETE_VISIT":await i.collection("user_files").doc(r.userId).collection("customers").doc(r.customerId).collection("visits").doc(r.visitId).delete();break;case"CREATE_CUSTOMER":await i.collection("user_files").doc(r.userId).collection("customers").doc(r.customerId).set(r.customerData);break;case"UPDATE_CUSTOMER":await i.collection("user_files").doc(r.userId).collection("customers").doc(r.customerId).update(r.updates);break;case"DELETE_CUSTOMER":await i.collection("user_files").doc(r.userId).collection("customers").doc(r.customerId).delete();break;default:console.warn("[SyncManager] Unknown operation type:",t)}}}const cy=new C$;function R$(){const[n,e]=ce.useState(navigator?.onLine??!0),[t,r]=ce.useState(0),[i,a]=ce.useState({syncing:!1,error:null}),[l,c]=ce.useState(!1);ce.useEffect(()=>{try{const p=()=>{console.log("[OfflineIndicator] Connection restored"),e(!0),setTimeout(()=>{try{cy.syncAll()}catch(b){console.error("[OfflineIndicator] Sync error:",b)}},1e3)},v=()=>{console.log("[OfflineIndicator] Connection lost"),e(!1)};window.addEventListener("online",p),window.addEventListener("offline",v);try{cy.onSyncStatusChange(b=>{a(b),h()})}catch(b){console.error("[OfflineIndicator] Sync manager setup error:",b)}const E=setInterval(()=>{try{h()}catch(b){console.error("[OfflineIndicator] Queue count error:",b)}},2e3);try{h()}catch(b){console.error("[OfflineIndicator] Initial queue count error:",b)}return()=>{window.removeEventListener("online",p),window.removeEventListener("offline",v),clearInterval(E)}}catch(p){console.error("[OfflineIndicator] Setup error:",p),c(!0)}},[]);const h=async()=>{try{const p=await u5.getCount();r(p)}catch(p){console.error("[OfflineIndicator] Error getting queue count:",p)}},f=async()=>{n&&t>0&&await cy.syncAll()};return l?(console.log("[OfflineIndicator] Component has error, not rendering"),null):n&&t===0&&!i.syncing?null:V.jsxs("div",{style:{position:"fixed",top:"60px",right:"10px",zIndex:1040,maxWidth:"300px"},children:[!n&&V.jsxs("div",{className:"alert alert-warning d-flex align-items-center",style:{padding:"10px 15px",marginBottom:"8px",fontSize:"14px"},children:[V.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",style:{marginRight:"8px",flexShrink:0},children:V.jsx("path",{d:"M1 1l6 6m0 0l6 6m-6-6l6-6m-6 6l-6 6"})}),V.jsxs("span",{children:[V.jsx("strong",{children:"Offline Mode"}),V.jsx("br",{}),"Changes will sync when online"]})]}),t>0&&V.jsxs("div",{className:`alert ${n?"alert-info":"alert-secondary"} d-flex align-items-center justify-content-between`,style:{padding:"10px 15px",fontSize:"14px"},children:[V.jsx("div",{style:{display:"flex",alignItems:"center",flex:1},children:i.syncing?V.jsxs(V.Fragment,{children:[V.jsx("div",{className:"spinner-border spinner-border-sm",role:"status",style:{marginRight:"8px"},children:V.jsx("span",{className:"visually-hidden",children:"Syncing..."})}),V.jsxs("span",{children:["Syncing ",t," change",t!==1?"s":"","..."]})]}):V.jsxs(V.Fragment,{children:[V.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",style:{marginRight:"8px",flexShrink:0},children:V.jsx("path",{d:"M12 2v20M17 7l-5-5-5 5"})}),V.jsxs("span",{children:[t," change",t!==1?"s":""," pending"]})]})}),n&&!i.syncing&&V.jsx("button",{onClick:f,className:"btn btn-sm btn-primary",style:{marginLeft:"10px",padding:"4px 8px",fontSize:"12px"},children:"Sync Now"})]}),i.error&&V.jsxs("div",{className:"alert alert-danger",style:{padding:"10px 15px",fontSize:"14px",marginTop:"8px"},children:[V.jsx("strong",{children:"Sync Error:"})," ",i.error]})]})}console.log("Starting App module load 1");console.log("Starting App module load 2");console.log("Starting App module load 3");const P$={apiKey:"AIzaSyDnhtjMPh5bkKgRyZEfqIJmVISrJ_UkrB4",authDomain:"downtimelogger-a96fb.firebaseapp.com",projectId:"downtimelogger-a96fb",storageBucket:"downtimelogger-a96fb.firebasestorage.app",messagingSenderId:"941297034751",appId:"1:941297034751:web:80322c27de1b1b2e0cf3ca",measurementId:"G-ZRNDDFPK74"};try{an.initializeApp(P$),console.log("Firebase initialized successfully"),an.firestore().enablePersistence({synchronizeTabs:!0}).then(()=>{console.log("Firestore offline persistence enabled")}).catch(n=>{n.code==="failed-precondition"?console.warn("Persistence failed: Multiple tabs open"):n.code==="unimplemented"&&console.warn("Persistence not supported in this browser")}),an.auth().setPersistence(an.auth.Auth.Persistence.LOCAL)}catch(n){console.error("Firebase init error:",n)}const L$=(n,e,t,r)=>{const i=window.prompt("Enter line name:",`Line ${r.length+1}`);if(!i||i.trim()==="")return;const a=window.prompt("How many heads?","14");if(!a)return;const l=parseInt(a);if(isNaN(l)||l<1){alert("Please enter a valid number of heads (must be at least 1)");return}const c={id:Date.now(),title:i.trim(),model:"",jobNumber:"",serialNumber:"",running:!1,notes:"",heads:Array.from({length:l},(h,f)=>({id:f+1,status:"active",error:"None",errors:[],notes:"",fixed:"na",currentWeight:0,spanWeight:0,weightDifference:0})),showSpanAdjust:!1};n([...r,c]),e(c.id)},k$=(n,e,t,r)=>{window.confirm("Remove this line?")&&(e(r.filter(i=>i.id!==n)),t===n&&setActiveLineId(r.length>1?r[r.length-2].id:null))},D$=(n,e,t,r)=>{t(r.map(i=>i.id===n?{...e}:i))},O$=(n,e,t,r)=>{if(!window.confirm(`Reset ${n.title} to default? All data for this line will be cleared.`))return;const i=n.heads.length,a={...n,notes:"",heads:Array.from({length:i},(l,c)=>({id:c+1,status:"active",error:"None",errors:[],notes:"",fixed:"na",currentWeight:0,spanWeight:0,weightDifference:0}))};t(r.map(l=>l.id===n.id?a:l))},M$=(n,e,t)=>{e(!1),t(n)},V$=(n,e)=>{try{const t=new kt("p","mm","a4"),r="https://i.imgur.com/GQRZTtW.png";try{t.addImage(r,"PNG",14,10,30,15)}catch(a){console.warn("Logo failed to load, continuing without logo",a)}t.setFontSize(16),t.text("Dashboard: Offline Heads Report",105,20,{align:"center"}),t.setFontSize(10),t.text(`Customer: ${e?.customer||"N/A"}`,105,28,{align:"center"}),t.text(`Date: ${new Date().toLocaleDateString()}`,105,34,{align:"center"});let i=45;n.forEach(a=>{const l=a.heads.map((f,p)=>({...f,index:p+1})).filter(f=>f.status==="offline"),c=a.notes&&a.notes.trim();if(l.length===0&&!c)return;if(t.setFontSize(12),t.setFont(void 0,"bold"),t.text(a.title,14,i),i+=6,c){t.setFontSize(9),t.setFont(void 0,"italic");const f=`Machine Notes: ${a.notes}`,p=t.splitTextToSize(f,180);t.text(p,14,i),i+=p.length*4+2,t.setFont(void 0,"normal")}if(l.length===0){i+=5,i>250&&(t.addPage(),i=20);return}const h=l.map(f=>{let p="";return Array.isArray(f.errors)?p=f.errors.map(v=>`${v.type}${v.fixed!=="na"?` (${v.fixed==="fixed"?"Fixed":"Not Fixed"})`:""}`).join(", "):Array.isArray(f.error)?p=f.error.join(", "):p=f.error||"None",[f.index,"Offline",p,f.fixed||"na",f.notes||"-"]});Cm(t,{startY:i,head:[["Head #","Status","Reason","Fixed","Notes"]],body:h,theme:"grid",styles:{fontSize:8,cellPadding:2},headStyles:{fillColor:[0,102,204],textColor:255,fontStyle:"bold"},columnStyles:{0:{halign:"center",cellWidth:20},1:{halign:"center",cellWidth:25},2:{halign:"left",cellWidth:50},3:{halign:"center",cellWidth:25},4:{halign:"left",cellWidth:60}},margin:{left:14,right:14}}),i=t.lastAutoTable.finalY+10,i>250&&(t.addPage(),i=20)}),t.save(`${e?.customer||"dashboard"}-offline-heads.pdf`),alert("Dashboard PDF exported successfully!")}catch(t){console.error("Dashboard PDF export error:",t),alert("Failed to export PDF: "+t.message)}},j$=(n,e)=>{if(n.length===0)return alert("No data to export");const t=new kt("p","mm","a4"),r=t.internal.pageSize.height,i="https://i.imgur.com/GQRZTtW.png";t.addImage(i,"PNG",14,10,30,15),t.setFontSize(16),t.text("Ishida Dashboard Report",105,20,{align:"center"});let a=35;const l=p=>Array.isArray(p.error)?p.error.length>0:p.error&&p.error!=="None",c=n.filter(p=>p.heads.some(v=>v.status!=="active"||l(v)||v.notes.trim()!==""||v.fixed!=="na")),h=n.filter(p=>!p.heads.some(v=>v.status!=="active"||l(v)||v.notes.trim()!==""||v.fixed!=="na")),f=[...c,...h];f.forEach((p,v)=>{const E=v===f.length-1,b=p.notes&&p.notes.trim(),R=p.heads.filter(k=>{const K=Array.isArray(k.error)?k.error.length>0:k.error&&k.error!=="None";return k.status!=="active"||K||k.notes.trim()!==""||k.fixed!=="na"}),P=R.length>0;let M=6;if(b){const k=`Line Notes: ${p.notes}`,K=t.splitTextToSize(k,190);M+=K.length*4+5}if(P?M+=15+R.length*5:M+=10,a+M>r-20&&!E&&(t.addPage(),t.addImage(i,"PNG",14,10,30,15),t.setFontSize(16),t.text("Ishida Dashboard Report",105,20,{align:"center"}),a=35),t.setFontSize(12),t.text(p.title,14,a),a+=6,b){t.setFontSize(10);const k=`Line Notes: ${p.notes}`,K=t.splitTextToSize(k,182);t.text(K,14,a),a+=K.length*4+5}if(P){const k=R.map(K=>{let $="";return Array.isArray(K.errors)?$=K.errors.map(ee=>`${ee.type}${ee.fixed!=="na"?` (${ee.fixed==="fixed"?"Fixed":"Not Fixed"})`:""}`).join(", "):Array.isArray(K.error)?$=K.error.join(", "):$=K.error||"None",[K.id,K.status,$,K.fixed,K.notes||""]});Cm(t,{startY:a,head:[["Head #","Status","Error","Fixed","Notes"]],body:k,theme:"grid",styles:{fontSize:8,cellPadding:2},headStyles:{fillColor:[0,102,204],textColor:255,fontStyle:"bold"},columnStyles:{0:{halign:"center",cellWidth:18},1:{halign:"center",cellWidth:25},2:{halign:"left",cellWidth:40},3:{halign:"center",cellWidth:20},4:{halign:"left",cellWidth:70}},margin:{left:14,right:14}}),a=t.lastAutoTable.finalY+8}else t.setFontSize(10),t.text("No issues were found",14,a),a+=10;E||(a+=5)}),t.save(`${e.customer||"ishida"}-dashboard.pdf`)},F$=(n,e)=>{if(!n)return alert("No line data to export");const t=new kt("p","mm","a4");t.addImage("https://i.imgur.com/GQRZTtW.png","PNG",14,10,30,15),t.setFontSize(16),t.text("Ishida Line Report",105,20,{align:"center"}),t.setFontSize(10),t.text(`Customer: ${e.customer||"N/A"}`,105,28,{align:"center"});let i=35;if(t.setFontSize(14),t.text(n.title,14,i),i+=8,t.setFontSize(10),t.text(`Model: ${n.model||"N/A"}`,14,i),i+=6,t.text(`Job Number: ${n.jobNumber||"N/A"}`,14,i),i+=6,t.text(`Serial Number: ${n.serialNumber||"N/A"}`,14,i),i+=6,t.text(`Running: ${n.running?"Yes":"No"}`,14,i),i+=10,n.notes&&n.notes.trim()){t.setFontSize(10);const l=`Line Notes: ${n.notes}`,c=t.splitTextToSize(l,182);t.text(c,14,i),i+=c.length*4+5}const a=n.heads.filter(l=>{const c=Array.isArray(l.error)?l.error.length>0:l.error&&l.error!=="None";return l.status!=="active"||c||l.notes.trim()!==""||l.fixed!=="na"});if(a.length>0){t.setFontSize(12),t.text("Issues:",14,i),i+=6;const l=a.map(c=>{let h="";return Array.isArray(c.errors)?h=c.errors.map(f=>`${f.type}${f.fixed!=="na"?` (${f.fixed==="fixed"?"Fixed":"Not Fixed"})`:""}`).join(", "):Array.isArray(c.error)?h=c.error.join(", "):h=c.error||"None",[c.id,c.status,h,c.fixed,c.notes||""]});Cm(t,{startY:i,head:[["Head #","Status","Error","Fixed","Notes"]],body:l,theme:"grid",styles:{fontSize:8,cellPadding:2},headStyles:{fillColor:[0,102,204],textColor:255,fontStyle:"bold"},columnStyles:{0:{halign:"center",cellWidth:18},1:{halign:"center",cellWidth:25},2:{halign:"left",cellWidth:40},3:{halign:"center",cellWidth:20},4:{halign:"left",cellWidth:70}},margin:{left:14,right:14}})}else t.setFontSize(10),t.text("No issues were found",14,i);t.save(`${e.customer||"ishida"}-${n.title.replace(/[^a-z0-9]/gi,"-")}.pdf`)},U$=async(n,e,t)=>{const{heads:r,machineNotes:i}=n;if(r.length===0&&Object.keys(i).length===0)return alert("No history to export");try{const a=new kt("p","mm","a4"),l=a.internal.pageSize.height,c="https://i.imgur.com/GQRZTtW.png";try{a.addImage(c,"PNG",14,10,30,15)}catch(f){console.warn("Logo failed to load, continuing without logo",f)}a.setFontSize(16),a.text(`Issue History Report - ${t}`,105,20,{align:"center"}),a.setFontSize(10),a.text(`Customer: ${e}`,105,28,{align:"center"});let h=35;Object.entries(i).forEach(([f,p])=>{if(p.length===0)return;const v=15+p.length*5;if(h+v>l-20){a.addPage();try{a.addImage(c,"PNG",14,10,30,15)}catch{console.warn("Logo failed to load on new page")}a.setFontSize(16),a.text(`Issue History Report - ${f}`,105,20,{align:"center"}),a.setFontSize(10),a.text(`Customer: ${e}`,105,28,{align:"center"}),h=35}a.setFontSize(12),a.setTextColor(204,102,0),a.text(`${f} - Machine Notes`,14,h),a.setTextColor(0,0,0),h+=6;const E=p.map(b=>[b.visitName,b.notes]);Cm(a,{startY:h,head:[["Visit Name","Machine Notes"]],body:E,theme:"grid",styles:{fontSize:8,cellPadding:2},headStyles:{fillColor:[255,193,7],textColor:0,fontStyle:"bold"},columnStyles:{0:{halign:"left",cellWidth:50},1:{halign:"left",cellWidth:128}},margin:{left:14,right:14}}),h=a.lastAutoTable.finalY+10}),r.forEach((f,p)=>{const v=p===r.length-1;let E=15+f.issues.length*5;if(h+E>l-20&&!v){a.addPage();try{a.addImage(c,"PNG",14,10,30,15)}catch{console.warn("Logo failed to load on new page")}a.setFontSize(16),a.text(`Issue History Report - ${t}`,105,20,{align:"center"}),a.setFontSize(10),a.text(`Customer: ${e}`,105,28,{align:"center"}),h=35}a.setFontSize(12);const b=t==="All-Lines"&&f.lineTitle?`${f.lineTitle} - Head #${f.headId}`:`Head #${f.headId}`;a.text(b,14,h),h+=6;const R=f.issues.map(P=>{let M="";return Array.isArray(P.errors)?M=P.errors.map(k=>`${k.type}${k.fixed!=="na"?` (${k.fixed==="fixed"?"Fixed":"Not Fixed"})`:""}`).join(", "):Array.isArray(P.error)?M=P.error.join(", "):M=P.error||"None",[P.visitName,P.status,M,P.fixed,P.notes||"-"]});Cm(a,{startY:h,head:[["Visit Name","Status","Error","Fixed","Notes"]],body:R,theme:"grid",styles:{fontSize:8,cellPadding:2},headStyles:{fillColor:[0,102,204],textColor:255,fontStyle:"bold"},columnStyles:{0:{halign:"left",cellWidth:40},1:{halign:"center",cellWidth:25},2:{halign:"left",cellWidth:45},3:{halign:"center",cellWidth:20},4:{halign:"left",cellWidth:52}},margin:{left:14,right:14}}),h=a.lastAutoTable.finalY+8,v||(h+=5)}),a.save(`${e}-${t}-history.pdf`),alert("PDF exported successfully!")}catch(a){console.error("PDF export error:",a),alert("Failed to export PDF: "+a.message)}},B$=({customers:n,visits:e,onExportPDF:t})=>{const[r,i]=ce.useState(""),[a,l]=ce.useState(""),[c,h]=ce.useState({heads:[],machineNotes:{}}),f=()=>{if(!r||!a||!n.find(P=>P.id===r))return;const v=e.filter(P=>P.customerId===r),E={},b={};v.forEach(P=>{(a==="__ALL__"?P.lines:P.lines.filter(k=>k.title===a)).forEach(k=>{const K=k.title;b[K]||(b[K]=[]),k.notes&&k.notes.trim()&&b[K].push({visitName:P.name||`Visit ${new Date(P.date).toLocaleDateString()}`,notes:k.notes}),k.heads.forEach($=>{const ee=Array.isArray($.error)?$.error.length>0:$.error&&$.error!=="None";if($.status!=="active"||ee||$.notes.trim()!==""||$.fixed!=="na"){const ye=a==="__ALL__"?`${k.title}__${$.id}`:$.id.toString();E[ye]||(E[ye]={lineTitle:k.title,headId:$.id,issues:[]}),E[ye].issues.push({visitName:P.name||`Visit ${new Date(P.date).toLocaleDateString()}`,status:$.status,error:$.error,fixed:$.fixed,notes:$.notes})}})})});const R=Object.values(E).map(P=>({lineTitle:P.lineTitle,headId:P.headId,issues:P.issues.sort((M,k)=>new Date(M.date||0)-new Date(k.date||0))}));R.sort((P,M)=>P.lineTitle!==M.lineTitle?P.lineTitle.localeCompare(M.lineTitle):P.headId-M.headId),h({heads:R,machineNotes:b})};return ce.useEffect(()=>{r&&a&&f()},[r,a]),V.jsxs("div",{className:"p-4 bg-light rounded",children:[V.jsx("h5",{className:"mb-3",children:"Issue History"}),V.jsxs("div",{className:"d-flex gap-3 mb-3 flex-wrap",children:[V.jsxs("select",{value:r,onChange:p=>{i(p.target.value),l("")},className:"form-select form-select-sm",style:{minWidth:"180px"},children:[V.jsx("option",{value:"",children:"-- Select Customer --"}),n.map(p=>V.jsx("option",{value:p.id,children:p.name},p.id))]}),r&&V.jsxs("select",{value:a,onChange:p=>l(p.target.value),className:"form-select form-select-sm",style:{minWidth:"180px"},children:[V.jsx("option",{value:"",children:"-- Select Line --"}),V.jsx("option",{value:"__ALL__",children:"All Lines"}),(()=>{const p=new Set;return e.filter(v=>v.customerId===r).forEach(v=>{v.lines.forEach(E=>p.add(E.title))}),Array.from(p).sort().map(v=>V.jsx("option",{value:v,children:v},v))})()]}),a&&c.heads.length>0&&V.jsx("button",{onClick:()=>t(c,n.find(p=>p.id===r)?.name||"Unknown",a==="__ALL__"?"All-Lines":a),className:"btn btn-success btn-sm",children:"Export History PDF"})]}),c.heads.length>0||Object.keys(c.machineNotes).length>0?V.jsxs("div",{children:[V.jsxs("h6",{children:["Issue History for ",a==="__ALL__"?"All Lines":a]}),Object.entries(c.machineNotes).map(([p,v])=>v.length===0?null:V.jsxs("div",{className:"mb-4 bg-white p-3 rounded shadow-sm",children:[V.jsxs("h6",{className:"text-warning",children:[a==="__ALL__"?`${p} - `:"","Machine Notes"]}),V.jsxs("table",{className:"table table-sm table-bordered",children:[V.jsx("thead",{className:"table-warning",children:V.jsxs("tr",{children:[V.jsx("th",{style:{width:"30%"},children:"Visit Name"}),V.jsx("th",{children:"Notes"})]})}),V.jsx("tbody",{children:v.map((E,b)=>V.jsxs("tr",{children:[V.jsx("td",{children:E.visitName}),V.jsx("td",{children:E.notes})]},b))})]})]},`machine-notes-${p}`)),c.heads.map((p,v)=>V.jsxs("div",{className:"mb-4 bg-white p-3 rounded shadow-sm",children:[V.jsxs("h6",{className:"text-primary",children:[a==="__ALL__"?`${p.lineTitle} - `:"","Head #",p.headId]}),V.jsxs("table",{className:"table table-sm table-bordered",children:[V.jsx("thead",{className:"table-primary",children:V.jsxs("tr",{children:[V.jsx("th",{children:"Visit Name"}),V.jsx("th",{children:"Status"}),V.jsx("th",{children:"Error"}),V.jsx("th",{children:"Fixed"}),V.jsx("th",{children:"Notes"})]})}),V.jsx("tbody",{children:p.issues.map((E,b)=>{let R="";return Array.isArray(E.errors)?R=E.errors.map(P=>`${P.type}${P.fixed!=="na"?` (${P.fixed==="fixed"?"Fixed":"Not Fixed"})`:""}`).join(", "):Array.isArray(E.error)?R=E.error.join(", "):R=E.error||"None",V.jsxs("tr",{children:[V.jsx("td",{children:E.visitName}),V.jsx("td",{children:E.status}),V.jsx("td",{children:R}),V.jsx("td",{children:E.fixed}),V.jsx("td",{children:E.notes||"-"})]},b)})})]})]},`${p.lineTitle}-${p.headId}-${v}`))]}):a?V.jsxs("p",{className:"text-muted",children:["No issues found for ",a==="__ALL__"?"All Lines":a]}):null]})},z$=()=>{console.log("App component defined");const[n]=Pk(),[e,t]=ce.useState({customer:"",address:"",cityState:"",headCount:"14"}),[r,i]=ce.useState([]),[a,l]=ce.useState(!1),[c,h]=ce.useState(null),[f,p]=ce.useState(null),[v,E]=ce.useState(Date.now()),[b,R]=ce.useState(!0),[P,M]=ce.useState(!1),[k,K]=ce.useState(()=>{const ge=localStorage.getItem("ccwissues-theme");return ge?ge==="dark":!0});ce.useEffect(()=>{document.documentElement.setAttribute("data-theme",k?"dark":"light"),localStorage.setItem("ccwissues-theme",k?"dark":"light")},[k]);const $=()=>{K(!k)},[ee,ye]=ce.useState([]),[ve,z]=ce.useState(null),[F,D]=ce.useState([]),[G,I]=ce.useState(!1),[j,N]=ce.useState(!1),[te,fe]=ce.useState({name:"",address:"",cityState:"",headCount:"14"}),[re,ue]=ce.useState(""),[pe,xe]=ce.useState(!1),[Be,J]=ce.useState(!1),[O,Y]=ce.useState(""),[ne,le]=ce.useState(""),[he,we]=ce.useState(null),[Oe,Pe]=ce.useState(""),[ze,Ze]=ce.useState(null),[ot,ct]=ce.useState(!1),[_t,ie]=ce.useState(!1),[at,Xt]=ce.useState(!1),Rt=ce.useRef(null),Ae=an.auth().currentUser,pt=async(ge,qe,Ue,Ke)=>{if(Ae)try{const ht=(pn,Un,On)=>{z({id:On,...Un}),t({customer:Un.name,address:Un.address||"",cityState:Un.cityState||"",headCount:(Un.headCount||"14").toString()});const mt=pn.lines.map(bn=>({...bn,heads:bn.heads.map((Qn,xr)=>({...Qn,id:Qn.id||xr+1}))}));i(mt);let fi=mt.length>0?mt[0].id:null;if(Ue&&mt.length>0){const bn=mt.find(Qn=>Qn.title===Ue||Qn.title?.toLowerCase()===Ue.toLowerCase());bn&&(fi=bn.id,console.log(`Navigating to line: ${bn.title}`))}h(fi),l(!1),ue(pn.name||""),Ze(ge),E(Date.now()),Ke&&setTimeout(()=>{const bn=document.querySelector(`[data-head-id="${Ke}"]`);bn&&(bn.scrollIntoView({behavior:"smooth",block:"center"}),bn.style.animation="pulse 1s ease-in-out 3")},500),console.log(`Deep linked to visit: ${pn.name||ge}${Ue?`, line: ${Ue}`:""}${Ke?`, head: ${Ke}`:""}`)};if(qe){const Un=await an.firestore().collection("user_files").doc(Ae.uid).collection("customers").doc(qe).collection("visits").doc(ge).get();if(Un.exists){const On=Un.data(),mt=await an.firestore().collection("user_files").doc(Ae.uid).collection("customers").doc(qe).get();if(mt.exists){const fi=mt.data().profile;ht(On,fi,qe);return}}}const Ot=await an.firestore().collection("user_files").doc(Ae.uid).collection("customers").get();for(const pn of Ot.docs){const Un=await an.firestore().collection("user_files").doc(Ae.uid).collection("customers").doc(pn.id).collection("visits").doc(ge).get();if(Un.exists){const On=Un.data(),mt=pn.data().profile;ht(On,mt,pn.id);return}}console.error("Visit not found:",ge)}catch(ht){console.error("Deep link load failed:",ht)}};ce.useEffect(()=>{if(!Ae||at)return;const ge=n.get("id")||n.get("visitId"),qe=n.get("customer")||n.get("customerId"),Ue=n.get("line"),Ke=n.get("head");ge&&(console.log("Deep linking to visit:",ge,Ue?`line: ${Ue}`:"",Ke?`head: ${Ke}`:""),pt(ge,qe,Ue,Ke),Xt(!0))},[Ae,n,at]);const dt=async ge=>{if(!Ae||!ve)return alert("Select a customer first");const qe=await an.firestore().collection("user_files").doc(Ae.uid).collection("customers").doc(ve.id).collection("visits").doc(ge).get();if(qe.exists){const Ue=qe.data(),Ke=Ue.lines.map(ht=>({...ht,heads:ht.heads.map((Ot,pn)=>({...Ot,id:Ot.id||pn+1}))}));t(Ue.globalData),i(Ke),h(Ke.length>0?Ke[0].id:null),ue(Ue.name||""),Ze(ge),E(Date.now()),alert("Visit loaded!")}else alert("Visit not found")},Vt=async ge=>{if(window.confirm(`Delete customer "${ee.find(qe=>qe.id===ge)?.name}" and all its visits?`))try{const qe=await an.firestore().collection("user_files").doc(Ae.uid).collection("customers").doc(ge).collection("visits").get(),Ue=an.firestore().batch();qe.docs.forEach(Ke=>{Ue.delete(Ke.ref)}),await Ue.commit(),await an.firestore().collection("user_files").doc(Ae.uid).collection("customers").doc(ge).delete(),localStorage.removeItem(`ishida_${ge}`),alert("Customer and all visits deleted from cloud")}catch(qe){console.error("Delete error:",qe),alert("Failed to delete customer")}},Pt=async(ge,qe)=>{if(window.confirm("Delete this visit?"))try{console.log("Deleting visit from cloud:",qe,"for customer:",ge),await an.firestore().collection("user_files").doc(Ae.uid).collection("customers").doc(ge).collection("visits").doc(qe).delete(),console.log("Visit deleted from cloud successfully"),alert("Visit deleted from cloud successfully"),ve?.id===ge&&(await St(ge),ze===qe&&(Ze(null),ue("")))}catch(Ue){console.error("Delete visit error:",Ue),alert("Failed to delete visit: "+Ue.message)}},Jt=async()=>{if(he)try{await an.firestore().collection("user_files").doc(Ae.uid).collection("customers").doc(ve.id).collection("visits").doc(he.id).update({date:new Date(Oe).toISOString()}),alert("Timestamp updated"),we(null),Pe(""),await St(ve.id)}catch{alert("Failed to update timestamp")}},tn=async(ge=!1)=>{if(!Ae||!ve)return alert("Select a customer first");if(!window.confirm(ge?"Override current visit?":"Save current visit to cloud?"))return;const qe={date:new Date().toISOString(),name:re,globalData:e,lines:r.map(Ue=>({...Ue,heads:Ue.heads.map(Ke=>({...Ke,id:Ke.id}))}))};try{if(ge&&ze)await an.firestore().collection("user_files").doc(Ae.uid).collection("customers").doc(ve.id).collection("visits").doc(ze).set(qe),alert("Visit overridden!");else{const Ue=`visit_${Date.now()}`;await an.firestore().collection("user_files").doc(Ae.uid).collection("customers").doc(ve.id).collection("visits").doc(Ue).set(qe),Ze(Ue),alert("Saved to cloud!")}await St(ve.id)}catch{alert("Failed to save to cloud. Data saved locally."),localStorage.setItem(`offline_${ve.id}_${Date.now()}`,JSON.stringify(qe))}},Kt=async()=>{if(!ze)return alert("No visit to duplicate");if(!window.confirm("Duplicate current visit?"))return;const ge=`visit_${Date.now()}`,qe={date:new Date().toISOString(),name:`${re} (Copy)`,globalData:e,lines:r.map(Ue=>({...Ue,heads:Ue.heads.map(Ke=>({...Ke,id:Ke.id}))}))};try{await an.firestore().collection("user_files").doc(Ae.uid).collection("customers").doc(ve.id).collection("visits").doc(ge).set(qe),Ze(ge),ue(qe.name),alert("Visit duplicated!"),await St(ve.id)}catch{alert("Failed to duplicate visit")}},fn=async()=>{if(!Ae)return alert("Sign in first");if(window.confirm("Save ALL customers and visits to cloud?"))try{const ge=await an.firestore().collection("user_files").doc(Ae.uid).collection("customers").get();for(const qe of ge.docs){const Ue=qe.id,Ke=await an.firestore().collection("user_files").doc(Ae.uid).collection("customers").doc(Ue).collection("visits").get(),ht=an.firestore().batch();Ke.docs.forEach(Ot=>{ht.set(Ot.ref,Ot.data())}),await ht.commit()}alert("All data saved to cloud!")}catch{alert("Failed to save all to cloud")}},nn=async()=>{if(!Ae)return alert("Sign in first");if(window.confirm("Load ALL customers and visits from cloud? This will overwrite local data."))try{console.log("[loadAllFromCloud] Loading for user:",Ae.uid);const ge=await an.firestore().collection("user_files").doc(Ae.uid).collection("customers").get();console.log("[loadAllFromCloud] Found",ge.docs.length,"customers");const qe={customers:[],visits:[]};qe.customers=ge.docs.map(Ue=>({id:Ue.id,...Ue.data()}));for(const Ue of ge.docs){const Ke=Ue.id,ht=await an.firestore().collection("user_files").doc(Ae.uid).collection("customers").doc(Ke).collection("visits").get();qe.visits=qe.visits.concat(ht.docs.map(Ot=>({id:Ot.id,customerId:Ke,...Ot.data()})))}localStorage.clear(),ye([]),z(null),i([]),ue(""),Ze(null),await Et(),ge.docs.length===0?alert("No customers found in cloud for this account. You are signed in as: "+Ae.uid.substring(0,8)+`...

Note: Incognito mode creates a new anonymous account each time.`):alert(`All data loaded from cloud! Found ${ge.docs.length} customer(s).`)}catch(ge){console.error("[loadAllFromCloud] Error:",ge),alert("Failed to load all from cloud: "+ge.message)}},wt=async(ge,qe,Ue=!1)=>{if(Ae&&!Ae.isAnonymous)try{await an.auth().signOut(),await new Promise(Ot=>setTimeout(Ot,500))}catch(Ot){console.error("Sign out before switch failed:",Ot)}const Ke=ge||window.prompt("Enter your email:");if(!Ke)return;const ht=qe||window.prompt("Enter your password:");if(ht)try{await an.auth().signInWithEmailAndPassword(Ke,ht),Ue&&localStorage.setItem("ccw_remember_email",Ke),alert("Sign-in successful!")}catch(Ot){if(console.error("Sign-in failed:",Ot),Ot.code==="auth/user-not-found"){if(window.confirm("No account found. Would you like to create a new account with this email?"))try{await an.auth().createUserWithEmailAndPassword(Ke,ht),Ue&&localStorage.setItem("ccw_remember_email",Ke),alert("Account created and signed in successfully!")}catch(pn){console.error("Sign-up failed:",pn),alert("Failed to create account: "+pn.message)}}else Ot.code==="auth/wrong-password"?alert("Incorrect password. Please try again."):alert("Sign-in failed: "+Ot.message)}},Qt=async()=>{if(window.confirm("Sign out? You will need to sign in again to access your data."))try{await an.auth().signOut(),localStorage.removeItem("ccw_remember_email"),ye([]),z(null),i([]),ue(""),Ze(null)}catch(ge){alert("Sign out failed: "+ge.message)}};ce.useEffect(()=>{console.log("[App] Setting up auth listener");const ge=setTimeout(()=>{console.warn("[App] Loading timeout reached, forcing app to load"),R(!1)},5e3),qe=an.auth().onAuthStateChanged(async Ue=>{console.log("[App] Auth state changed, user:",Ue?Ue.uid:"null"),clearTimeout(ge),Ue?(console.log("[App] Setting session for user:",Ue.uid,"Anonymous:",Ue.isAnonymous),p(Ue)):(console.log("No user found, showing app without sign-in"),p(null)),console.log("[App] Setting loading to false"),R(!1)});return()=>{clearTimeout(ge),qe()}},[]),ce.useEffect(()=>{"serviceWorker"in navigator&&(navigator.serviceWorker.register("/service-worker.js").then(ge=>{console.log("[SW] Service Worker registered:",ge)}).catch(ge=>{console.error("[SW] Service Worker registration failed:",ge)}),navigator.serviceWorker.addEventListener("message",ge=>{ge.data&&ge.data.type==="SYNC_QUEUE"&&(console.log("[SW] Received sync request from service worker"),cy.syncAll())}))},[]),ce.useEffect(()=>{if(!Ae)return;console.log("Setting up live customer listener for UID:",Ae.uid);const ge=an.firestore().collection("user_files").doc(Ae.uid).collection("customers").onSnapshot(qe=>{const Ue=qe.docs.map(Ke=>({id:Ke.id,...Ke.data().profile}));console.log("CUSTOMERS UPDATED:",Ue.length,"customers found"),Ue.length===0&&console.warn("No customers found in Firebase for user:",Ae.uid),ye(Ue)},qe=>{console.error("Customer listener error:",qe),alert("Error loading customers: "+qe.message)});return()=>ge()},[Ae]);const Et=async()=>{if(!Ae){alert("Not signed in");return}try{console.log("Refreshing customers for user:",Ae.uid);const qe=(await an.firestore().collection("user_files").doc(Ae.uid).collection("customers").get()).docs.map(Ue=>({id:Ue.id,...Ue.data().profile}));console.log("REFRESHED CUSTOMERS:",qe.length,"customers found"),ye(qe),qe.length===0?alert("No customers found. Click Settings  Add to create a new customer."):alert(`Loaded ${qe.length} customer${qe.length!==1?"s":""}`)}catch(ge){console.error("Error refreshing customers:",ge),alert("Failed to refresh customers: "+ge.message)}},rr=async ge=>{const Ue=ge.name.trim().toLowerCase().replace(/[^a-z0-9]/g,"_"),Ke=an.firestore().collection("user_files").doc(Ae.uid).collection("customers").doc(Ue),ht=await Ke.get();if(ht.exists){const Ot=ht.data().profile;await Ke.update({profile:{...Ot,address:ge.address||Ot.address||"",cityState:ge.cityState||Ot.cityState||"",headCount:ge.headCount||Ot.headCount}})}else await Ke.set({profile:ge});return console.log("Customer upserted:",Ue),Ue},rn=async ge=>{if(ge.preventDefault(),!(!Ae||!te.name.trim()))try{const qe=await rr(te);await Et();const Ue=await an.firestore().collection("user_files").doc(Ae.uid).collection("customers").doc(qe).get();if(Ue.exists){const Ke={id:qe,...Ue.data().profile};z(Ke),t({customer:Ke.name,address:Ke.address,cityState:Ke.cityState,headCount:Ke.headCount.toString()});const ht=await zt(qe);alert(ht?"Customer created and template loaded!":"Customer created! No template file found, add lines.")}fe({name:"",address:"",cityState:"",headCount:"14"}),N(!1)}catch{alert("Failed to add customer")}},Dt=async ge=>{const qe=ge.target.files[0];if(!qe||!qe.name.endsWith(".json")){alert("Please select a valid .json file.");return}const Ue=new FileReader;Ue.onload=async Ke=>{try{const ht=JSON.parse(Ke.target.result),{globalData:Ot,lines:pn}=ht;if(!Ot?.customer)throw new Error("No customer name in file");const Un={name:Ot.customer.trim(),address:Ot.address?.trim()||"",cityState:Ot.cityState?.trim()||"",headCount:parseInt(Ot.headCount)||14};console.log("Importing:",Un);const On=await rr(Un);console.log("Customer ID:",On);const mt=`visit_${Date.now()}`;await an.firestore().collection("user_files").doc(Ae.uid).collection("customers").doc(On).collection("visits").doc(mt).set({date:new Date().toISOString(),name:"",globalData:Ot,lines:pn.map(bn=>({...bn,heads:bn.heads.map((Qn,xr)=>({...Qn,id:Qn.id||xr+1}))}))}),setTimeout(()=>{E(Date.now())},100);const fi=await an.firestore().collection("user_files").doc(Ae.uid).collection("customers").doc(On).get();if(fi.exists){const bn={id:On,...fi.data().profile};console.log("Customer fetched:",bn),z(bn),t({customer:bn.name,address:bn.address,cityState:bn.cityState,headCount:bn.headCount.toString()});const Qn=pn.map(xr=>({...xr,heads:xr.heads.map((Bn,er)=>({...Bn,id:Bn.id||er+1}))}));i(Qn),h(Qn.length>0?Qn[0].id:null),ue(""),Ze(mt)}alert(`Imported "${Un.name}"  new visit saved!`)}catch(ht){console.error("Import error:",ht),alert(`Import failed: ${ht.message}`)}},Ue.readAsText(qe),Rt.current.value=""},zt=async ge=>{if(!Ae)return!1;try{const Ue=(await an.firestore().collection("user_files").doc(Ae.uid).collection("customers").doc(ge).collection("visits").get()).docs.find(Ke=>{const ht=Ke.data();return ht.name&&ht.name.toLowerCase()==="template"});if(Ue){const ht=Ue.data().lines.map((Ot,pn)=>({...Ot,id:Date.now()+pn,heads:Ot.heads.map((Un,On)=>({...Un,id:Un.id||On+1,status:"active",notes:"",fixed:"na",currentWeight:0,spanWeight:0,weightDifference:0}))}));return i(ht),h(ht.length>0?ht[0].id:null),console.log("Template loaded:",ht.length,"lines"),!0}return!1}catch(qe){return console.error("Error loading template:",qe),!1}},Zt=async ge=>{const qe=ee.find(Ke=>Ke.id===ge);if(!qe)return;console.log("Selected:",qe),z(qe),t({customer:qe.name,address:qe.address,cityState:qe.cityState,headCount:qe.headCount.toString()}),i([]),I(!1),ue(""),Ze(null),await zt(ge)||alert("No template file found, add lines.")},St=async ge=>{if(!Ae)return;const Ue=(await an.firestore().collection("user_files").doc(Ae.uid).collection("customers").doc(ge).collection("visits").orderBy("date","desc").get()).docs.map(Ke=>({id:Ke.id,customerId:ge,...Ke.data()}));D(Ue)},Ln=async ge=>{if(window.confirm("Delete this visit?")){if(!ve){alert("No customer selected");return}try{console.log("Deleting visit:",ge,"for customer:",ve.id),await an.firestore().collection("user_files").doc(Ae.uid).collection("customers").doc(ve.id).collection("visits").doc(ge).delete(),console.log("Visit deleted successfully"),alert("Visit deleted successfully"),await St(ve.id),ze===ge&&(Ze(null),ue(""))}catch(qe){console.error("Failed to delete visit:",qe),alert("Failed to delete visit: "+qe.message)}}},Ft=async()=>{if(!Ae)return alert("Sign in first");if(!window.confirm("Export all data?"))return;const ge={customers:[],visits:[]},qe=await an.firestore().collection("user_files").doc(Ae.uid).collection("customers").get();ge.customers=qe.docs.map(Ke=>({id:Ke.id,...Ke.data()}));for(const Ke of qe.docs){const ht=Ke.id,Ot=await an.firestore().collection("user_files").doc(Ae.uid).collection("customers").doc(ht).collection("visits").get();ge.visits=ge.visits.concat(Ot.docs.map(pn=>({id:pn.id,customerId:ht,...pn.data()})))}const Ue=new Blob([JSON.stringify(ge,null,2)],{type:"application/json"});Hk.saveAs(Ue,"all-ishida-data.json"),alert("All data exported!")};return ce.useEffect(()=>{if(!ve||r.length===0)return;const ge=setTimeout(()=>{M(!0);const qe={lines:r,globalData:e,currentVisitName:re,currentVisitId:ze};localStorage.setItem(`ishida_${ve.id}`,JSON.stringify(qe)),M(!1)},500);return()=>clearTimeout(ge)},[r,e,re,ve,ze]),ce.useEffect(()=>{if(!ve)return;if(at){console.log("Skipping localStorage load - deep link already loaded data");return}const ge=localStorage.getItem(`ishida_${ve.id}`);if(ge)try{const qe=JSON.parse(ge);i(qe.lines||[]),t(qe.globalData||e),ue(qe.currentVisitName||""),Ze(qe.currentVisitId||null),h(qe.lines?.length>0?qe.lines[0].id:null)}catch(qe){console.error("Failed to load from localStorage",qe)}},[ve,at]),ce.useEffect(()=>{Ae&&(async()=>{const qe=[],Ue=await an.firestore().collection("user_files").doc(Ae.uid).collection("customers").get();for(const Ke of Ue.docs){const ht=await an.firestore().collection("user_files").doc(Ae.uid).collection("customers").doc(Ke.id).collection("visits").get();qe.push(...ht.docs.map(Ot=>({id:Ot.id,customerId:Ke.id,...Ot.data()})))}D(qe)})()},[Ae]),console.log("App render - loading:",b,"user:",Ae?"authenticated":"none","customers:",ee?.length),b?V.jsxs("div",{className:"text-center p-5",children:[V.jsx("h3",{children:"Loading..."}),V.jsx("p",{children:"Initializing app..."})]}):V.jsxs("div",{className:"container-fluid p-0",children:[V.jsx(R$,{}),V.jsx("style",{children:`
        .control-bar {
          background: var(--bg-secondary);
          border-bottom: 1px solid var(--border-color);
          padding: 12px;
          max-height: 400px;
          overflow-y: auto;
          overflow-x: hidden;
          position: sticky;
          top: 0;
          z-index: 1000;
        }
        @media (max-width: 768px) {
          .control-bar {
            overflow: visible;
            max-height: none;
          }
          .form-select {
            font-size: 16px !important;
            min-height: 44px;
            padding: 8px 12px !important;
          }
        }
        .control-bar .d-flex {
          display: flex;
          flex-wrap: wrap;
          gap: 6px;
          align-items: center;
        }
        .control-bar .btn-sm {
          font-size: 0.75rem;
          padding: 0.25rem 0.4rem;
        }
        .control-bar .btn-sm svg {
          width: 14px;
          height: 14px;
        }
        .saving {
          margin-left: 12px;
          color: #28a745;
          font-weight: 500;
          animation: pulse 1.5s infinite;
        }
        [data-theme="dark"] .saving {
          color: #5cb85c;
        }
        @keyframes pulse {
          0% { opacity: 0.6; }
          50% { opacity: 1; }
          100% { opacity: 0.6; }
        }
        .nav-button {
          font-size: 0.85rem;
          padding: 0.25rem 0.5rem;
        }
        .tab-content {
          padding: 10px 20px;
        }
        .dropdown-menu {
          min-width: 180px;
        }
      `}),V.jsx("div",{className:"control-bar",children:V.jsxs("div",{className:"d-flex align-items-center gap-2 flex-wrap",children:[V.jsx("label",{className:"mb-0",children:V.jsx("strong",{children:"Customer:"})}),V.jsxs("div",{style:{display:"flex",gap:"4px",alignItems:"center"},children:[V.jsxs("select",{value:ve?.id||"",onChange:ge=>Zt(ge.target.value),className:"form-select form-select-sm",style:{minWidth:"180px",WebkitAppearance:"menulist",appearance:"menulist"},children:[V.jsxs("option",{value:"",children:["-- Select Customer (",(ee||[]).length,") --"]}),(ee||[]).map(ge=>V.jsxs("option",{value:ge.id,children:[ge.name," (",ge.headCount," heads)"]},ge.id))]}),V.jsx("button",{onClick:Et,className:"btn btn-outline-secondary btn-sm",title:"Reload customers from cloud",style:{whiteSpace:"nowrap"},children:V.jsx(RT,{className:"w-4 h-4"})})]}),Ae&&V.jsx("small",{className:"text-muted",style:{whiteSpace:"nowrap"},children:Ae.isAnonymous?" Anonymous":` ${Ae.email}`}),V.jsxs("button",{onClick:()=>ct(!ot),className:`btn btn-outline-secondary btn-sm ${ot?"active":""}`,children:[V.jsx(c9,{className:"w-4 h-4"})," ",ot?"Hide":"Settings"]}),ot&&V.jsxs(V.Fragment,{children:[(!Ae||Ae.isAnonymous)&&V.jsx("button",{onClick:()=>{const ge=window.prompt("Enter your email:");if(!ge)return;const qe=window.prompt("Enter your password:");if(!qe)return;const Ue=window.confirm(`Remember your login?

(Your email will be saved locally for convenience, password will never be stored)`);wt(ge,qe,Ue)},className:"btn btn-warning btn-sm",title:"Sign in to sync across devices",children:" Sign In"}),Ae&&!Ae.isAnonymous&&V.jsxs(V.Fragment,{children:[V.jsx("button",{onClick:wt,className:"btn btn-info btn-sm",title:"Switch to a different account",children:" Switch Account"}),V.jsx("button",{onClick:Qt,className:"btn btn-outline-secondary btn-sm",title:"Sign out and use anonymous mode",children:"Sign Out"})]}),V.jsxs("button",{onClick:$,className:"btn btn-outline-secondary btn-sm",title:"Toggle Dark/Light Mode",children:[k?"":""," ",k?"Light":"Dark"]}),V.jsxs("button",{onClick:()=>ie(!_t),className:"btn btn-outline-secondary btn-sm",title:"Help",children:[V.jsx(zM,{className:"w-4 h-4"})," Help"]}),V.jsxs("button",{onClick:()=>N(!0),className:"btn btn-outline-primary btn-sm",children:[V.jsx(s9,{className:"w-4 h-4"})," Add"]}),V.jsxs("button",{onClick:()=>tn(!1),className:"btn btn-outline-success btn-sm",children:[V.jsx(l9,{className:"w-4 h-4"})," New"]}),ze&&V.jsxs("button",{onClick:()=>tn(!0),className:"btn btn-outline-warning btn-sm",children:[V.jsx(RT,{className:"w-4 h-4"})," Override"]}),ze&&V.jsxs("button",{onClick:Kt,className:"btn btn-outline-info btn-sm",children:[V.jsx(KM,{className:"w-4 h-4"})," Duplicate"]}),V.jsxs("button",{onClick:fn,className:"btn btn-outline-success btn-sm",children:[V.jsx($M,{className:"w-4 h-4"})," All to Cloud"]}),V.jsxs("button",{onClick:nn,className:"btn btn-outline-primary btn-sm",children:[V.jsx(HM,{className:"w-4 h-4"})," All from Cloud"]}),V.jsxs("div",{className:"btn-group",children:[V.jsxs("button",{className:"btn btn-outline-secondary btn-sm dropdown-toggle",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false",children:[V.jsx(QM,{className:"w-4 h-4"})," Export"]}),V.jsxs("ul",{className:"dropdown-menu",children:[V.jsx("li",{children:V.jsxs("button",{className:"dropdown-item d-flex align-items-center gap-2",onClick:()=>j$(r,e),children:[V.jsx(CT,{className:"w-4 h-4"})," Dashboard PDF"]})}),V.jsx("li",{children:V.jsxs("button",{className:"dropdown-item d-flex align-items-center gap-2",onClick:Ft,children:[V.jsx(CT,{className:"w-4 h-4"})," All Data JSON"]})})]})]}),V.jsxs("button",{onClick:()=>Rt.current.click(),className:"btn btn-outline-secondary btn-sm",children:[V.jsx(d9,{className:"w-4 h-4"})," Import"]}),V.jsxs("button",{onClick:()=>J(!Be),className:"btn btn-outline-danger btn-sm",children:[V.jsx(PT,{className:"w-4 h-4"})," Delete"]})]}),P&&V.jsx("span",{className:"saving",children:"Saving locally..."})]})}),Ae&&ee.length===0&&!j&&V.jsxs("div",{className:"alert alert-info m-3",role:"alert",children:[V.jsx("h5",{className:"alert-heading",children:"No Customers Found"}),Ae.isAnonymous&&V.jsxs("div",{className:"alert alert-warning p-2 mb-2",children:[V.jsx("strong",{children:" Anonymous Mode"})," - Each device has its own data.",V.jsx("strong",{children:" Sign in"})," to sync across all devices!"]}),V.jsx("p",{children:"To get started:"}),V.jsxs("ol",{className:"mb-2",children:[Ae.isAnonymous&&V.jsxs("li",{children:[V.jsx("strong",{children:"Settings   Sign In"})," to access your data from other devices, or"]}),V.jsxs("li",{children:["Click ",V.jsx("strong",{children:"Settings  Add"})," to create a new customer, or"]}),V.jsxs("li",{children:["Click ",V.jsx("strong",{children:"Settings  Import"})," to import existing data"]})]}),V.jsxs("small",{className:"text-muted",children:["Signed in as: ",V.jsxs("code",{children:[Ae.uid.substring(0,12),"..."]}),Ae.isAnonymous&&" (Anonymous)",!Ae.isAnonymous&&Ae.email&&` (${Ae.email})`]})]}),j&&V.jsx("div",{className:"p-3 bg-light border-bottom",children:V.jsxs("form",{onSubmit:rn,className:"row g-2",children:[V.jsx("div",{className:"col-md-3",children:V.jsx("input",{placeholder:"Name *",value:te.name,onChange:ge=>fe({...te,name:ge.target.value}),required:!0,className:"form-control form-control-sm"})}),V.jsx("div",{className:"col-md-3",children:V.jsx("input",{placeholder:"Address",value:te.address,onChange:ge=>fe({...te,address:ge.target.value}),className:"form-control form-control-sm"})}),V.jsx("div",{className:"col-md-3",children:V.jsx("input",{placeholder:"City, State",value:te.cityState,onChange:ge=>fe({...te,cityState:ge.target.value}),className:"form-control form-control-sm"})}),V.jsx("div",{className:"col-md-1",children:V.jsx("input",{type:"number",placeholder:"Heads",value:te.headCount,onChange:ge=>fe({...te,headCount:ge.target.value}),min:"1",className:"form-control form-control-sm"})}),V.jsxs("div",{className:"col-md-2 d-flex gap-1",children:[V.jsx("button",{type:"submit",className:"btn btn-primary btn-sm",children:"Save"}),V.jsx("button",{type:"button",onClick:()=>N(!1),className:"btn btn-secondary btn-sm",children:"Cancel"})]})]})}),Be&&V.jsxs("div",{className:"p-3 bg-warning bg-opacity-10 border-bottom",children:[V.jsxs("div",{className:"d-flex justify-content-between align-items-start mb-2",children:[V.jsx("h6",{className:"mb-0",children:"Delete Options"}),V.jsx("button",{onClick:()=>J(!1),className:"btn btn-sm btn-outline-secondary",children:"Close"})]}),V.jsxs("div",{className:"row g-3",children:[V.jsxs("div",{className:"col-md-6",children:[V.jsx("label",{className:"form-label",children:V.jsx("strong",{children:"Delete Customer:"})}),V.jsxs("div",{className:"d-flex gap-2",children:[V.jsxs("select",{value:O,onChange:ge=>Y(ge.target.value),className:"form-select form-select-sm",children:[V.jsx("option",{value:"",children:"-- Select --"}),ee.map(ge=>V.jsx("option",{value:ge.id,children:ge.name},ge.id))]}),O&&V.jsx("button",{onClick:()=>{Vt(O),Y("")},className:"btn btn-danger btn-sm",children:"Delete"})]})]}),ve&&V.jsxs("div",{className:"col-md-6",children:[V.jsx("label",{className:"form-label",children:V.jsx("strong",{children:"Delete Visit:"})}),V.jsxs("div",{className:"d-flex gap-2",children:[V.jsxs("select",{value:ne,onChange:ge=>le(ge.target.value),className:"form-select form-select-sm",children:[V.jsx("option",{value:"",children:"-- Select --"}),F.filter(ge=>ge.customerId===ve.id).slice(0,5).map(ge=>V.jsxs("option",{value:ge.id,children:[ge.name?`${ge.name} - `:"",new Date(ge.date).toLocaleDateString()]},ge.id))]}),ne&&V.jsx("button",{onClick:()=>{Pt(ve.id,ne),le("")},className:"btn btn-danger btn-sm",children:"Delete"})]})]})]})]}),_t&&V.jsxs("div",{className:"p-3 bg-info bg-opacity-10 border-bottom",style:{maxHeight:"400px",overflowY:"auto"},children:[V.jsxs("div",{className:"d-flex justify-content-between align-items-start mb-3",children:[V.jsx("h5",{className:"mb-0",children:"Help Guide"}),V.jsx("button",{onClick:()=>ie(!1),className:"btn btn-sm btn-outline-secondary",children:"Close"})]}),V.jsxs("div",{className:"mb-4",children:[V.jsx("h6",{className:"text-primary mb-2",children:V.jsx("strong",{children:"How to Run the App"})}),V.jsxs("ol",{className:"small",children:[V.jsx("li",{children:"Select or add a customer from the dropdown menu"}),V.jsx("li",{children:"Enter a visit name (optional) to identify this session"}),V.jsx("li",{children:'Click "Add Line" to create a new production line'}),V.jsx("li",{children:"Configure heads, track issues, and add notes for each line"}),V.jsx("li",{children:'Save your work to the cloud using the "New" button in Settings'}),V.jsx("li",{children:"Export to PDF or JSON for reporting and backup"})]})]}),V.jsxs("div",{className:"mb-3",children:[V.jsx("h6",{className:"text-primary mb-2",children:V.jsx("strong",{children:"Button Descriptions"})}),V.jsxs("div",{className:"mb-2",children:[V.jsx("strong",{className:"text-secondary",children:"Settings Button:"}),V.jsx("p",{className:"small mb-1",children:"Shows/hides all action buttons for managing customers, visits, and data."})]}),V.jsxs("div",{className:"mb-2",children:[V.jsx("strong",{className:"text-success",children:"Add Button:"}),V.jsx("p",{className:"small mb-1",children:"Create a new customer with name, address, city/state, and default head count."})]}),V.jsxs("div",{className:"mb-2",children:[V.jsx("strong",{className:"text-success",children:"New Button:"}),V.jsx("p",{className:"small mb-1",children:"Save the current visit to the cloud as a new entry."})]}),V.jsxs("div",{className:"mb-2",children:[V.jsx("strong",{className:"text-warning",children:"Override Button:"}),V.jsx("p",{className:"small mb-1",children:"Update the currently loaded visit with your changes."})]}),V.jsxs("div",{className:"mb-2",children:[V.jsx("strong",{className:"text-info",children:"Duplicate Button:"}),V.jsx("p",{className:"small mb-1",children:"Create a copy of the current visit as a new entry."})]}),V.jsxs("div",{className:"mb-2",children:[V.jsx("strong",{className:"text-success",children:"All to Cloud Button:"}),V.jsx("p",{className:"small mb-1",children:"Upload all customers and visits to the cloud for backup."})]}),V.jsxs("div",{className:"mb-2",children:[V.jsx("strong",{className:"text-primary",children:"All from Cloud Button:"}),V.jsx("p",{className:"small mb-1",children:"Download all your data from the cloud to this device."})]}),V.jsxs("div",{className:"mb-2",children:[V.jsx("strong",{className:"text-secondary",children:"Export Menu:"}),V.jsx("p",{className:"small mb-1",children:"Export dashboard as PDF or export all data as JSON file."})]}),V.jsxs("div",{className:"mb-2",children:[V.jsx("strong",{className:"text-secondary",children:"Import Button:"}),V.jsx("p",{className:"small mb-1",children:"Import previously exported JSON data file."})]}),V.jsxs("div",{className:"mb-2",children:[V.jsx("strong",{className:"text-danger",children:"Delete Button:"}),V.jsx("p",{className:"small mb-1",children:"Open panel to delete customers or visits from the cloud."})]}),V.jsxs("div",{className:"mb-2",children:[V.jsx("strong",{className:"text-primary",children:"Add Line Button:"}),V.jsx("p",{className:"small mb-1",children:"Create a new production line with custom name and head count."})]}),V.jsxs("div",{className:"mb-2",children:[V.jsx("strong",{className:"text-secondary",children:"Prev/Next Buttons:"}),V.jsx("p",{className:"small mb-1",children:"Navigate between lines without using the dropdown."})]}),V.jsxs("div",{className:"mb-2",children:[V.jsx("strong",{className:"text-secondary",children:"Show/Hide Details:"}),V.jsx("p",{className:"small mb-1",children:"Toggle visibility of model, job number, and serial number fields."})]}),V.jsxs("div",{className:"mb-2",children:[V.jsx("strong",{className:"text-secondary",children:"Rename Button:"}),V.jsx("p",{className:"small mb-1",children:"Change the name of the current line."})]}),V.jsxs("div",{className:"mb-2",children:[V.jsx("strong",{className:"text-success",children:"Export Line PDF:"}),V.jsx("p",{className:"small mb-1",children:"Export the current line details to a PDF file."})]}),V.jsxs("div",{className:"mb-2",children:[V.jsx("strong",{className:"text-warning",children:"Reset Line:"}),V.jsx("p",{className:"small mb-1",children:"Clear all data for this line and reset heads to default."})]}),V.jsxs("div",{className:"mb-2",children:[V.jsx("strong",{className:"text-danger",children:"Remove Line:"}),V.jsx("p",{className:"small mb-1",children:"Permanently delete this line from the visit."})]})]}),V.jsxs("div",{className:"mb-2",children:[V.jsx("h6",{className:"text-primary mb-2",children:V.jsx("strong",{children:"Quick Tips"})}),V.jsxs("ul",{className:"small",children:[V.jsx("li",{children:"Use the Quick Head Toggle buttons to quickly mark heads as Active/Offline"}),V.jsx("li",{children:"Green heads are active, red are offline, orange are fixed"}),V.jsx("li",{children:"Data is automatically saved to local storage as you work"}),V.jsx("li",{children:"Use Past Visits tab to load previous sessions"}),V.jsx("li",{children:"Issue History shows all heads with problems across visits"})]})]})]}),V.jsxs(M3,{defaultActiveKey:"current",className:"mb-1 border-bottom",children:[V.jsx(L2,{eventKey:"current",title:"Current Visit",children:V.jsxs("div",{className:"tab-content p-3",children:[ve&&V.jsxs("div",{className:"mb-3",children:[V.jsx("label",{className:"form-label",children:V.jsx("strong",{children:"Visit Name:"})}),V.jsx("input",{type:"text",value:re,onChange:ge=>ue(ge.target.value),placeholder:"Enter visit name (optional)",className:"form-control"})]}),V.jsx(jk,{globalData:e,setGlobalData:t,addLine:()=>L$(i,h,e,r),lines:r,activeLineId:c,onPrevious:()=>{const ge=r.findIndex(qe=>qe.id===c);ge>0&&(h(r[ge-1].id),l(!1))},onNext:()=>{const ge=r.findIndex(qe=>qe.id===c);ge<r.length-1&&(h(r[ge+1].id),l(!1))}},`gf-${r.length}-${JSON.stringify(e)}`),V.jsxs("div",{className:"d-flex flex-wrap gap-2 my-3 align-items-center",children:[V.jsxs("select",{value:c||"",onChange:ge=>{const qe=parseInt(ge.target.value);qe&&M$(qe,l,h)},className:"form-select form-select-sm",style:{width:"auto",minWidth:"150px"},children:[V.jsx("option",{value:"",children:"-- Select Line --"}),r.map(ge=>V.jsx("option",{value:ge.id,children:ge.title},ge.id))]}),r.length>0&&V.jsxs("button",{onClick:()=>l(!0),className:"btn btn-sm btn-outline-secondary",title:"View Dashboard",children:[V.jsx(JM,{className:"w-4 h-4"})," Dashboard"]})]}),a?V.jsx(Bk,{lines:r,setShowDashboardView:l,setActiveLineId:h,globalData:e,exportPDF:V$},`dash-${r.length}`):V.jsx("div",{children:r.map(ge=>V.jsx(Uk,{line:ge,updateLine:qe=>D$(ge.id,qe,i,r),removeLine:()=>k$(ge.id,i,c,r),resetLine:()=>O$(ge,e,i,r),isVisible:ge.id===c,exportLineToPDF:()=>F$(ge,e)},ge.id))})]})}),V.jsx(L2,{eventKey:"visits",title:"Past Visits",children:V.jsx("div",{className:"tab-content p-3",children:ve&&V.jsxs(V.Fragment,{children:[V.jsxs("button",{onClick:async()=>{I(!0),await St(ve.id)},className:"btn btn-outline-primary btn-sm mb-3",children:[V.jsx(t9,{className:"w-4 h-4"})," Load Past Visits"]}),G&&F.length>0&&V.jsx("div",{className:"row row-cols-1 row-cols-md-2 g-3",children:F.slice(0,10).map(ge=>V.jsx("div",{className:"col",children:V.jsx("div",{className:"card h-100",children:V.jsxs("div",{className:"card-body d-flex justify-content-between align-items-center",children:[V.jsxs("div",{children:[V.jsx("h6",{className:"card-title mb-1",style:{color:"var(--text-primary)"},children:ge.name?`${ge.name}`:"Unnamed Visit"}),V.jsx("small",{className:"text-muted",children:new Date(ge.date).toLocaleString()})]}),V.jsxs("div",{className:"btn-group",children:[V.jsx("button",{onClick:()=>dt(ge.id),className:"btn btn-sm btn-outline-primary",children:"Load"}),V.jsx("button",{onClick:()=>{we(ge),Pe(new Date(ge.date).toISOString().slice(0,16))},className:"btn btn-sm btn-outline-secondary",children:V.jsx(r9,{className:"w-4 h-4"})}),V.jsx("button",{onClick:()=>Ln(ge.id),className:"btn btn-sm btn-outline-danger",children:V.jsx(PT,{className:"w-4 h-4"})})]})]})})},ge.id))})]})})}),V.jsx(L2,{eventKey:"history",title:"Issue History",children:V.jsx("div",{className:"tab-content p-3",children:V.jsx(B$,{customers:ee,visits:F,onExportPDF:U$})})})]}),he&&V.jsx("div",{className:"position-fixed bottom-0 end-0 p-3",style:{zIndex:1050},children:V.jsx("div",{className:"card shadow",children:V.jsxs("div",{className:"card-body",children:[V.jsx("h6",{className:"card-title",children:"Edit Visit Timestamp"}),V.jsxs("div",{className:"d-flex gap-2 align-items-center",children:[V.jsx("input",{type:"datetime-local",value:Oe,onChange:ge=>Pe(ge.target.value),className:"form-control form-control-sm"}),V.jsx("button",{onClick:Jt,className:"btn btn-primary btn-sm",children:"Update"}),V.jsx("button",{onClick:()=>{we(null),Pe("")},className:"btn btn-secondary btn-sm",children:"Cancel"})]})]})})}),V.jsx("input",{ref:Rt,type:"file",accept:".json",onChange:Dt,className:"d-none"})]})},q$=()=>V.jsx(xk,{children:V.jsx(z$,{})});class H$ extends Bs.Component{constructor(e){super(e),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(e){return{hasError:!0}}componentDidCatch(e,t){console.error("ErrorBoundary caught an error:",e,t),this.setState({error:e,errorInfo:t})}render(){return this.state.hasError?V.jsxs("div",{style:{padding:"20px",backgroundColor:"#fee",color:"#c00",fontFamily:"monospace"},children:[V.jsx("h1",{children:"Something went wrong."}),V.jsxs("details",{style:{whiteSpace:"pre-wrap",marginTop:"10px"},children:[V.jsx("summary",{children:"Click for error details"}),V.jsxs("p",{children:[V.jsx("strong",{children:"Error:"})," ",this.state.error&&this.state.error.toString()]}),V.jsx("p",{children:V.jsx("strong",{children:"Stack:"})}),V.jsx("pre",{children:this.state.errorInfo&&this.state.errorInfo.componentStack})]}),V.jsx("button",{onClick:()=>window.location.reload(),style:{marginTop:"20px",padding:"10px 20px",fontSize:"16px"},children:"Reload Page"})]}):this.props.children}}hL.createRoot(document.getElementById("root")).render(V.jsx(Bs.StrictMode,{children:V.jsx(H$,{children:V.jsx(q$,{})})}));export{ur as _,b1 as c,eg as g};
